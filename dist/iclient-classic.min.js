/*!
 * 
 *     iclient-classic.(http://iclient.supermap.io)
 *     CopyrightÂ© 2000-2017 SuperMap Software Co. Ltd
 *     license: Apache-2.0
 *     version: v9.0.1
 * 
 */!function(r){var n={};function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=r,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},o.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=56)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SuperMap=window.SuperMap=window.SuperMap||{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=void 0;var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=r(0);r(9);var n,o,i,a,s,u,l,c;t.Util=h.SuperMap.Util=h.SuperMap.Util||{};h.SuperMap.Util.extend=function(e,t){if(e=e||{},t){for(var r in t){var n=t[r];void 0!==n&&(e[r]=n)}!("function"==typeof window.Event&&t instanceof window.Event)&&t.hasOwnProperty&&t.hasOwnProperty("toString")&&(e.toString=t.toString)}return e},h.SuperMap.Util.copy=function(e,t){var r;if(e=e||{},t)for(var n in e)void 0!==(r=t[n])&&(e[n]=r)},h.SuperMap.Util.reset=function(e){for(var t in e=e||{})if(e.hasOwnProperty(t)){if("object"===p(e[t])&&e[t]instanceof Array){for(var r in e[t])e[t][r].destroy&&e[t][r].destroy();e[t].length=0}else"object"===p(e[t])&&e[t]instanceof Object&&e[t].destroy&&e[t].destroy();e[t]=null}},h.SuperMap.Util.getElement=function(){for(var e=[],t=0,r=arguments.length;t<r;t++){var n=arguments[t];if("string"==typeof n&&(n=document.getElementById(n)),1===arguments.length)return n;e.push(n)}return e},h.SuperMap.Util.isElement=function(e){return!(!e||1!==e.nodeType)},h.SuperMap.Util.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},h.SuperMap.Util.removeItem=function(e,t){for(var r=e.length-1;0<=r;r--)e[r]===t&&e.splice(r,1);return e},h.SuperMap.Util.indexOf=function(e,t){if(null==e)return-1;if("function"==typeof e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},h.SuperMap.Util.modifyDOMElement=function(e,t,r,n,o,i,a,s){t&&(e.id=t),r&&(e.style.left=r.x+"px",e.style.top=r.y+"px"),n&&(e.style.width=n.w+"px",e.style.height=n.h+"px"),o&&(e.style.position=o),i&&(e.style.border=i),a&&(e.style.overflow=a),0<=parseFloat(s)&&parseFloat(s)<1?(e.style.filter="alpha(opacity="+100*s+")",e.style.opacity=s):1===parseFloat(s)&&(e.style.filter="",e.style.opacity="")},h.SuperMap.Util.applyDefaults=function(e,t){e=e||{};var r="function"==typeof window.Event&&t instanceof window.Event;for(var n in t)(void 0===e[n]||!r&&t.hasOwnProperty&&t.hasOwnProperty(n)&&!e.hasOwnProperty(n))&&(e[n]=t[n]);return!r&&t&&t.hasOwnProperty&&t.hasOwnProperty("toString")&&!e.hasOwnProperty("toString")&&(e.toString=t.toString),e},h.SuperMap.Util.getParameterString=function(e){var t=[];for(var r in e){var n=e[r];if(null!=n&&"function"!=typeof n){var o;if("object"===(void 0===n?"undefined":p(n))&&n.constructor===Array){for(var i,a=[],s=0,u=n.length;s<u;s++)i=n[s],a.push(encodeURIComponent(null==i?"":i));o=a.join(",")}else o=encodeURIComponent(n);t.push(encodeURIComponent(r)+"="+o)}}return t.join("&")},h.SuperMap.Util.urlAppend=function(e,t){var r=e;if(t){var n=(e+" ").split(/[?&]/);r+=" "===n.pop()?t:n.length?"&"+t:"?"+t}return r},h.SuperMap.Util.DEFAULT_PRECISION=14,h.SuperMap.Util.toFloat=function(e,t){return null==t&&(t=h.SuperMap.Util.DEFAULT_PRECISION),"number"!=typeof e&&(e=parseFloat(e)),0===t?e:parseFloat(e.toPrecision(t))},h.SuperMap.Util.rad=function(e){return e*Math.PI/180},h.SuperMap.Util.getParameters=function(e){e=null==e?window.location.href:e;var t="";if(h.SuperMap.String.contains(e,"?")){var r=e.indexOf("?")+1,n=h.SuperMap.String.contains(e,"#")?e.indexOf("#"):e.length;t=e.substring(r,n)}for(var o={},i=t.split(/[&;]/),a=0,s=i.length;a<s;++a){var u=i[a].split("=");if(u[0]){var l=u[0];try{l=decodeURIComponent(l)}catch(e){l=unescape(l)}var p=(u[1]||"").replace(/\+/g," ");try{p=decodeURIComponent(p)}catch(e){p=unescape(p)}1==(p=p.split(",")).length&&(p=p[0]),o[l]=p}}return o},h.SuperMap.Util.lastSeqID=0,h.SuperMap.Util.createUniqueID=function(e){return null==e&&(e="id_"),h.SuperMap.Util.lastSeqID+=1,e+h.SuperMap.Util.lastSeqID},h.SuperMap.INCHES_PER_UNIT={inches:1,ft:12,mi:63360,m:39.3701,km:39370.1,dd:4374754,yd:36},h.SuperMap.INCHES_PER_UNIT.in=h.SuperMap.INCHES_PER_UNIT.inches,h.SuperMap.INCHES_PER_UNIT.degrees=h.SuperMap.INCHES_PER_UNIT.dd,h.SuperMap.INCHES_PER_UNIT.nmi=1852*h.SuperMap.INCHES_PER_UNIT.m,h.SuperMap.METERS_PER_INCH=.0254000508001016,h.SuperMap.Util.extend(h.SuperMap.INCHES_PER_UNIT,{Inch:h.SuperMap.INCHES_PER_UNIT.inches,Meter:1/h.SuperMap.METERS_PER_INCH,Foot:.3048006096012192/h.SuperMap.METERS_PER_INCH,IFoot:.3048/h.SuperMap.METERS_PER_INCH,ClarkeFoot:.3047972651151/h.SuperMap.METERS_PER_INCH,SearsFoot:.30479947153867626/h.SuperMap.METERS_PER_INCH,GoldCoastFoot:.3047997101815088/h.SuperMap.METERS_PER_INCH,IInch:.0254/h.SuperMap.METERS_PER_INCH,MicroInch:254e-7/h.SuperMap.METERS_PER_INCH,Mil:2.54e-8/h.SuperMap.METERS_PER_INCH,Centimeter:.01/h.SuperMap.METERS_PER_INCH,Kilometer:1e3/h.SuperMap.METERS_PER_INCH,Yard:.9144018288036576/h.SuperMap.METERS_PER_INCH,SearsYard:.914398414616029/h.SuperMap.METERS_PER_INCH,IndianYard:.9143985307444408/h.SuperMap.METERS_PER_INCH,IndianYd37:.91439523/h.SuperMap.METERS_PER_INCH,IndianYd62:.9143988/h.SuperMap.METERS_PER_INCH,IndianYd75:.9143985/h.SuperMap.METERS_PER_INCH,IndianFoot:.30479951/h.SuperMap.METERS_PER_INCH,IndianFt37:.30479841/h.SuperMap.METERS_PER_INCH,IndianFt62:.3047996/h.SuperMap.METERS_PER_INCH,IndianFt75:.3047995/h.SuperMap.METERS_PER_INCH,Mile:1609.3472186944373/h.SuperMap.METERS_PER_INCH,IYard:.9144/h.SuperMap.METERS_PER_INCH,IMile:1609.344/h.SuperMap.METERS_PER_INCH,NautM:1852/h.SuperMap.METERS_PER_INCH,"Lat-66":110943.31648893273/h.SuperMap.METERS_PER_INCH,"Lat-83":110946.25736872235/h.SuperMap.METERS_PER_INCH,Decimeter:.1/h.SuperMap.METERS_PER_INCH,Millimeter:.001/h.SuperMap.METERS_PER_INCH,Dekameter:10/h.SuperMap.METERS_PER_INCH,Decameter:10/h.SuperMap.METERS_PER_INCH,Hectometer:100/h.SuperMap.METERS_PER_INCH,GermanMeter:1.0000135965/h.SuperMap.METERS_PER_INCH,CaGrid:.999738/h.SuperMap.METERS_PER_INCH,ClarkeChain:20.1166194976/h.SuperMap.METERS_PER_INCH,GunterChain:20.11684023368047/h.SuperMap.METERS_PER_INCH,BenoitChain:20.116782494375872/h.SuperMap.METERS_PER_INCH,SearsChain:20.11676512155/h.SuperMap.METERS_PER_INCH,ClarkeLink:.201166194976/h.SuperMap.METERS_PER_INCH,GunterLink:.2011684023368047/h.SuperMap.METERS_PER_INCH,BenoitLink:.20116782494375873/h.SuperMap.METERS_PER_INCH,SearsLink:.2011676512155/h.SuperMap.METERS_PER_INCH,Rod:5.02921005842012/h.SuperMap.METERS_PER_INCH,IntnlChain:20.1168/h.SuperMap.METERS_PER_INCH,IntnlLink:.201168/h.SuperMap.METERS_PER_INCH,Perch:5.02921005842012/h.SuperMap.METERS_PER_INCH,Pole:5.02921005842012/h.SuperMap.METERS_PER_INCH,Furlong:201.1684023368046/h.SuperMap.METERS_PER_INCH,Rood:3.778266898/h.SuperMap.METERS_PER_INCH,CapeFoot:.3047972615/h.SuperMap.METERS_PER_INCH,Brealey:375/h.SuperMap.METERS_PER_INCH,ModAmFt:.304812252984506/h.SuperMap.METERS_PER_INCH,Fathom:1.8288/h.SuperMap.METERS_PER_INCH,"NautM-UK":1853.184/h.SuperMap.METERS_PER_INCH,"50kilometers":5e4/h.SuperMap.METERS_PER_INCH,"150kilometers":15e4/h.SuperMap.METERS_PER_INCH}),h.SuperMap.Util.extend(h.SuperMap.INCHES_PER_UNIT,{mm:h.SuperMap.INCHES_PER_UNIT.Meter/1e3,cm:h.SuperMap.INCHES_PER_UNIT.Meter/100,dm:100*h.SuperMap.INCHES_PER_UNIT.Meter,km:1e3*h.SuperMap.INCHES_PER_UNIT.Meter,kmi:h.SuperMap.INCHES_PER_UNIT.nmi,fath:h.SuperMap.INCHES_PER_UNIT.Fathom,ch:h.SuperMap.INCHES_PER_UNIT.IntnlChain,link:h.SuperMap.INCHES_PER_UNIT.IntnlLink,"us-in":h.SuperMap.INCHES_PER_UNIT.inches,"us-ft":h.SuperMap.INCHES_PER_UNIT.Foot,"us-yd":h.SuperMap.INCHES_PER_UNIT.Yard,"us-ch":h.SuperMap.INCHES_PER_UNIT.GunterChain,"us-mi":h.SuperMap.INCHES_PER_UNIT.Mile,"ind-yd":h.SuperMap.INCHES_PER_UNIT.IndianYd37,"ind-ft":h.SuperMap.INCHES_PER_UNIT.IndianFt37,"ind-ch":20.11669506/h.SuperMap.METERS_PER_INCH}),h.SuperMap.DOTS_PER_INCH=96,h.SuperMap.Util.normalizeScale=function(e){return 1<e?1/e:e},h.SuperMap.Util.getResolutionFromScale=function(e,t){var r;e&&(null==t&&(t="degrees"),r=1/(h.SuperMap.Util.normalizeScale(e)*h.SuperMap.INCHES_PER_UNIT[t]*h.SuperMap.DOTS_PER_INCH));return r},h.SuperMap.Util.getScaleFromResolution=function(e,t){return null==t&&(t="degrees"),e*h.SuperMap.INCHES_PER_UNIT[t]*h.SuperMap.DOTS_PER_INCH},h.SuperMap.IS_GECKO=-1===(n=navigator.userAgent.toLowerCase()).indexOf("webkit")&&-1!==n.indexOf("gecko"),h.SuperMap.Browser=(a=i="",s="pc",-1<(u=navigator.userAgent.toLowerCase()).indexOf("msie")||-1<u.indexOf("trident")&&-1<u.indexOf("rv")?(i="msie",o=u.match(/msie ([\d.]+)/)||u.match(/rv:([\d.]+)/)):-1<u.indexOf("chrome")?(i="chrome",o=u.match(/chrome\/([\d.]+)/)):-1<u.indexOf("firefox")?(i="firefox",o=u.match(/firefox\/([\d.]+)/)):-1<u.indexOf("opera")?(i="opera",o=u.match(/version\/([\d.]+)/)):-1<u.indexOf("safari")&&(i="safari",o=u.match(/version\/([\d.]+)/)),a=o?o[1]:"",-1<u.indexOf("ipad")||-1<u.indexOf("ipod")||-1<u.indexOf("iphone")?s="apple":-1<u.indexOf("android")&&(a=(o=u.match(/version\/([\d.]+)/))?o[1]:"",s="android"),{name:i,version:a,device:s}),h.SuperMap.Util.getBrowser=function(){return h.SuperMap.Browser},h.SuperMap.Util.isSupportCanvas=(l=!0,c=h.SuperMap.Util.getBrowser(),document.createElement("canvas").getContext?("firefox"===c.name&&parseFloat(c.version)<5&&(l=!1),"safari"===c.name&&parseFloat(c.version)<4&&(l=!1),"opera"===c.name&&parseFloat(c.version)<10&&(l=!1),"msie"===c.name&&parseFloat(c.version)<9&&(l=!1)):l=!1,l),h.SuperMap.Util.supportCanvas=function(){return h.SuperMap.Util.isSupportCanvas},h.SuperMap.INCHES_PER_UNIT.degree=h.SuperMap.INCHES_PER_UNIT.dd,h.SuperMap.INCHES_PER_UNIT.meter=h.SuperMap.INCHES_PER_UNIT.m,h.SuperMap.INCHES_PER_UNIT.foot=h.SuperMap.INCHES_PER_UNIT.ft,h.SuperMap.INCHES_PER_UNIT.inch=h.SuperMap.INCHES_PER_UNIT.inches,h.SuperMap.INCHES_PER_UNIT.mile=h.SuperMap.INCHES_PER_UNIT.mi,h.SuperMap.INCHES_PER_UNIT.kilometer=h.SuperMap.INCHES_PER_UNIT.km,h.SuperMap.INCHES_PER_UNIT.yard=h.SuperMap.INCHES_PER_UNIT.yd,h.SuperMap.Util.isInTheSameDomain=function(e){if(!e)return!0;var t=e.indexOf("//"),r=document.location.toString(),n=r.indexOf("//");if(-1===t)return!0;var o,i=o=e.substring(0,t),a=r.substring(n+2);n=a.indexOf("/");var s=a.indexOf(":"),u=a.substring(0,n),l=document.location.protocol;if(-1!==s||(u+=":"+("http:"===l.toLowerCase()?80:443)),l.toLowerCase()!==i.toLowerCase())return!1;var p=(i=e.substring(t+2)).indexOf(":");t=i.indexOf("/");var c,f=i.substring(0,t);return-1!==p?c=i.substring(0,p):(c=i.substring(0,t),f+=":"+("http:"===o.toLowerCase()?80:443)),c===document.domain&&f===u},h.SuperMap.Util.calculateDpi=function(e,t,r,n,o){if(e&&t&&r){var i,a=e.getWidth(),s=e.getHeight(),u=t.w,l=t.h;if(o=o||6378137,"degree"===(n=n||"degrees").toLowerCase()||"degrees"===n.toLowerCase()||"dd"===n.toLowerCase()){var p=a/u,c=s/l;i=254/(c<p?p:c)/r/(2*Math.PI*o/360)/1e4}else{i=254/(a/u)/r/1e4}return i}},h.SuperMap.Util.toJSON=function(e){var t=e;if(null==t)return null;switch(t.constructor){case String:return t=(t=(t=(t=(t=(t=(t='"'+t.replace(/(["\\])/g,"\\$1")+'"').replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace("<","&lt;")).replace(">","&gt;")).replace(/%/g,"%25")).replace(/&/g,"%26");case Array:for(var r=[],n=0,o=t.length;n<o;n++)r.push(h.SuperMap.Util.toJSON(t[n]));return"["+r.join(",")+"]";case Number:return isFinite(t)?String(t):null;case Boolean:return String(t);case Date:return"{'__type':\"System.DateTime\",'Year':"+t.getFullYear()+",'Month':"+(t.getMonth()+1)+",'Day':"+t.getDate()+",'Hour':"+t.getHours()+",'Minute':"+t.getMinutes()+",'Second':"+t.getSeconds()+",'Millisecond':"+t.getMilliseconds()+",'TimezoneOffset':"+t.getTimezoneOffset()+"}";default:if(null!=t.toJSON&&"function"==typeof t.toJSON)return t.toJSON();if("object"===(void 0===t?"undefined":p(t))){if(t.length){for(var i=[],a=0,s=t.length;a<s;a++)i.push(h.SuperMap.Util.toJSON(t[a]));return"["+i.join(",")+"]"}var u=[];for(var l in t)"function"!=typeof t[l]&&"CLASS_NAME"!==l&&"parent"!==l&&u.push("'"+l+"':"+h.SuperMap.Util.toJSON(t[l]));return 0<u.length?"{"+u.join(",")+"}":"{}"}return t.toString()}},h.SuperMap.Util.getResolutionFromScaleDpi=function(e,t,r,n){return n=n||6378137,r=r||"",0<e&&0<t?(e=h.SuperMap.Util.normalizeScale(e),"degree"===r.toLowerCase()||"degrees"===r.toLowerCase()||"dd"===r.toLowerCase()?254/t/e/(2*Math.PI*n/360)/1e4:254/t/e/1e4):-1},h.SuperMap.Util.getScaleFromResolutionDpi=function(e,t,r,n){return n=n||6378137,r=r||"",0<e&&0<t?"degree"===r.toLowerCase()||"degrees"===r.toLowerCase()||"dd"===r.toLowerCase()?254/t/e/(2*Math.PI*n/360)/1e4:254/t/e/1e4:-1},h.SuperMap.Util.transformResult=function(e){return e.responseText&&"string"==typeof e.responseText&&(e=JSON.parse(e.responseText)),e},h.SuperMap.Util.copyAttributes=function(e,t){if(e=e||{},t)for(var r in t){var n=t[r];void 0!==n&&"CLASS_NAME"!==r&&"function"!=typeof n&&(e[r]=n)}return e},h.SuperMap.Util.copyAttributesWithClip=function(e,t,r){if(e=e||{},t)for(var n in t){var o=!1;if(r&&r.length)for(var i=0,a=r.length;i<a;i++)if(n===r[i]){o=!0;break}if(!0!==o){var s=t[n];void 0!==s&&"CLASS_NAME"!==n&&"function"!=typeof s&&(e[n]=s)}}return e},h.SuperMap.Util.cloneObject=function(e){if(null===e||"object"!==(void 0===e?"undefined":p(e)))return e;if(e instanceof Date){var t=new Date;return t.setTime(e.getTime()),t}if(e instanceof Array)return e.slice(0);if(e instanceof Object){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]=h.SuperMap.Util.cloneObject(e[n]));return r}throw new Error("Unable to copy obj! Its type isn't supported.")},h.SuperMap.Util.lineIntersection=function(e,t,r,n){var o,i,a=null,s=(n.x-r.x)*(e.y-r.y)-(n.y-r.y)*(e.x-r.x),u=(t.x-e.x)*(e.y-r.y)-(t.y-e.y)*(e.x-r.x),l=(n.y-r.y)*(t.x-e.x)-(n.x-r.x)*(t.y-e.y);if(0!=l)i=u/l,a=0<=(o=s/l)&&i<=1&&o<=1&&0<=i?new h.SuperMap.Geometry.Point(e.x+o*(t.x-e.x),e.y+o*(t.y-e.y)):"No Intersection";else if(0==s&&0==u){var p=Math.max(e.y,t.y),c=Math.min(e.y,t.y),f=Math.max(e.x,t.x),y=Math.min(e.x,t.x);a=(r.y>=c&&r.y<=p||n.y>=c&&n.y<=p)&&r.x>=y&&r.x<=f||n.x>=y&&n.x<=f?"Coincident":"Parallel"}else a="Parallel";return a},h.SuperMap.Util.getTextBounds=function(e,t,r){document.body.appendChild(r),r.style.width="auto",r.style.height="auto",e.fontSize&&(r.style.fontSize=e.fontSize),e.fontFamily&&(r.style.fontFamily=e.fontFamily),e.fontWeight&&(r.style.fontWeight=e.fontWeight),r.style.position="relative",r.style.visibility="hidden",r.style.display="inline-block",r.innerHTML=t;var n=r.clientWidth,o=r.clientHeight;return document.body.removeChild(r),{textWidth:n,textHeight:o}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AggregationQueryBuilderType=t.AggregationType=t.TopologyValidatorRule=t.SummaryType=t.StatisticAnalystMode=t.AnalystSizeUnit=t.AnalystAreaUnit=t.ClipAnalystMode=t.ChartType=t.ClientType=t.Exponent=t.VariogramMode=t.InterpolationAlgorithmType=t.SearchMode=t.PixelFormat=t.StatisticMode=t.UGCLayerType=t.LayerType=t.ColorSpaceType=t.GridType=t.TransferPreference=t.TransferTactic=t.EditType=t.DataReturnMode=t.SurfaceAnalystMethod=t.SmoothMethod=t.OutputType=t.OverlayOperationType=t.BufferEndType=t.TurnType=t.SupplyCenterType=t.SideType=t.DirectionType=t.LabelOverLengthMode=t.LabelBackShape=t.AlongLineDirection=t.FillGradientMode=t.TextAlignment=t.ColorGradientType=t.ThemeType=t.RangeMode=t.GraduatedMode=t.GraphAxesTextDisplayMode=t.ThemeGraphType=t.ThemeGraphTextFormat=t.EngineType=t.BufferRadiusUnit=t.Unit=t.MeasureMode=t.SpatialRelationType=t.SpatialQueryMode=t.JoinType=t.QueryOption=t.GeometryType=t.ServerType=t.DataFormat=void 0;var n=r(0),o=n.SuperMap.DataFormat={GEOJSON:"GEOJSON",ISERVER:"ISERVER"};t.DataFormat=o;var i=n.SuperMap.ServerType={ISERVER:"ISERVER",IPORTAL:"IPORTAL",ONLINE:"ONLINE"};t.ServerType=i;var a=n.SuperMap.GeometryType={LINE:"LINE",LINEM:"LINEM",POINT:"POINT",REGION:"REGION",ELLIPSE:"ELLIPSE",CIRCLE:"CIRCLE",TEXT:"TEXT",RECTANGLE:"RECTANGLE",UNKNOWN:"UNKNOWN"};t.GeometryType=a;var s=n.SuperMap.QueryOption={ATTRIBUTE:"ATTRIBUTE",ATTRIBUTEANDGEOMETRY:"ATTRIBUTEANDGEOMETRY",GEOMETRY:"GEOMETRY"};t.QueryOption=s;var u=n.SuperMap.JoinType={INNERJOIN:"INNERJOIN",LEFTJOIN:"LEFTJOIN"};t.JoinType=u;var l=n.SuperMap.SpatialQueryMode={CONTAIN:"CONTAIN",CROSS:"CROSS",DISJOINT:"DISJOINT",IDENTITY:"IDENTITY",INTERSECT:"INTERSECT",NONE:"NONE",OVERLAP:"OVERLAP",TOUCH:"TOUCH",WITHIN:"WITHIN"};t.SpatialQueryMode=l;var p=n.SuperMap.SpatialRelationType={CONTAIN:"CONTAIN",INTERSECT:"INTERSECT",WITHIN:"WITHIN"};t.SpatialRelationType=p;var c=n.SuperMap.MeasureMode={DISTANCE:"DISTANCE",AREA:"AREA"};t.MeasureMode=c;var f=n.SuperMap.Unit={METER:"METER",KILOMETER:"KILOMETER",MILE:"MILE",YARD:"YARD",DEGREE:"DEGREE",MILLIMETER:"MILLIMETER",CENTIMETER:"CENTIMETER",INCH:"INCH",DECIMETER:"DECIMETER",FOOT:"FOOT",SECOND:"SECOND",MINUTE:"MINUTE",RADIAN:"RADIAN"};t.Unit=f;var y=n.SuperMap.BufferRadiusUnit={CENTIMETER:"CENTIMETER",DECIMETER:"DECIMETER",FOOT:"FOOT",INCH:"INCH",KILOMETER:"KILOMETER",METER:"METER",MILE:"MILE",MILLIMETER:"MILLIMETER",YARD:"YARD"};t.BufferRadiusUnit=y;var h=n.SuperMap.EngineType={IMAGEPLUGINS:"IMAGEPLUGINS",OGC:"OGC",ORACLEPLUS:"ORACLEPLUS",SDBPLUS:"SDBPLUS",SQLPLUS:"SQLPLUS",UDB:"UDB"};t.EngineType=h;var d=n.SuperMap.ThemeGraphTextFormat={CAPTION:"CAPTION",CAPTION_PERCENT:"CAPTION_PERCENT",CAPTION_VALUE:"CAPTION_VALUE",PERCENT:"PERCENT",VALUE:"VALUE"};t.ThemeGraphTextFormat=d;var v=n.SuperMap.ThemeGraphType={AREA:"AREA",BAR:"BAR",BAR3D:"BAR3D",LINE:"LINE",PIE:"PIE",PIE3D:"PIE3D",POINT:"POINT",RING:"RING",ROSE:"ROSE",ROSE3D:"ROSE3D",STACK_BAR:"STACK_BAR",STACK_BAR3D:"STACK_BAR3D",STEP:"STEP"};t.ThemeGraphType=v;var m=n.SuperMap.GraphAxesTextDisplayMode={ALL:"ALL",NONE:"NONE",YAXES:"YAXES"};t.GraphAxesTextDisplayMode=m;var S=n.SuperMap.GraduatedMode={CONSTANT:"CONSTANT",LOGARITHM:"LOGARITHM",SQUAREROOT:"SQUAREROOT"};t.GraduatedMode=S;var E=n.SuperMap.RangeMode={CUSTOMINTERVAL:"CUSTOMINTERVAL",EQUALINTERVAL:"EQUALINTERVAL",LOGARITHM:"LOGARITHM",QUANTILE:"QUANTILE",SQUAREROOT:"SQUAREROOT",STDDEVIATION:"STDDEVIATION"};t.RangeMode=E;var b=n.SuperMap.ThemeType={DOTDENSITY:"DOTDENSITY",GRADUATEDSYMBOL:"GRADUATEDSYMBOL",GRAPH:"GRAPH",LABEL:"LABEL",RANGE:"RANGE",UNIQUE:"UNIQUE"};t.ThemeType=b;var g=n.SuperMap.ColorGradientType={BLACK_WHITE:"BLACKWHITE",BLUE_BLACK:"BLUEBLACK",BLUE_RED:"BLUERED",BLUE_WHITE:"BLUEWHITE",CYAN_BLACK:"CYANBLACK",CYAN_BLUE:"CYANBLUE",CYAN_GREEN:"CYANGREEN",CYAN_WHITE:"CYANWHITE",GREEN_BLACK:"GREENBLACK",GREEN_BLUE:"GREENBLUE",GREEN_ORANGE_VIOLET:"GREENORANGEVIOLET",GREEN_RED:"GREENRED",GREEN_WHITE:"GREENWHITE",PINK_BLACK:"PINKBLACK",PINK_BLUE:"PINKBLUE",PINK_RED:"PINKRED",PINK_WHITE:"PINKWHITE",RAIN_BOW:"RAINBOW",RED_BLACK:"REDBLACK",RED_WHITE:"REDWHITE",SPECTRUM:"SPECTRUM",TERRAIN:"TERRAIN",YELLOW_BLACK:"YELLOWBLACK",YELLOW_BLUE:"YELLOWBLUE",YELLOW_GREEN:"YELLOWGREEN",YELLOW_RED:"YELLOWRED",YELLOW_WHITE:"YELLOWWHITE"};t.ColorGradientType=g;var _=n.SuperMap.TextAlignment={TOPLEFT:"TOPLEFT",TOPCENTER:"TOPCENTER",TOPRIGHT:"TOPRIGHT",BASELINELEFT:"BASELINELEFT",BASELINECENTER:"BASELINECENTER",BASELINERIGHT:"BASELINERIGHT",BOTTOMLEFT:"BOTTOMLEFT",BOTTOMCENTER:"BOTTOMCENTER",BOTTOMRIGHT:"BOTTOMRIGHT",MIDDLELEFT:"MIDDLELEFT",MIDDLECENTER:"MIDDLECENTER",MIDDLERIGHT:"MIDDLERIGHT"};t.TextAlignment=_;var T=n.SuperMap.FillGradientMode={NONE:"NONE",LINEAR:"LINEAR",RADIAL:"RADIAL",CONICAL:"CONICAL",SQUARE:"SQUARE"};t.FillGradientMode=T;var O=n.SuperMap.AlongLineDirection={NORMAL:"ALONG_LINE_NORMAL",LB_TO_RT:"LEFT_BOTTOM_TO_RIGHT_TOP",LT_TO_RB:"LEFT_TOP_TO_RIGHT_BOTTOM",RB_TO_LT:"RIGHT_BOTTOM_TO_LEFT_TOP",RT_TO_LB:"RIGHT_TOP_TO_LEFT_BOTTOM"};t.AlongLineDirection=O;var M=n.SuperMap.LabelBackShape={DIAMOND:"DIAMOND",ELLIPSE:"ELLIPSE",MARKER:"MARKER",NONE:"NONE",RECT:"RECT",ROUNDRECT:"ROUNDRECT",TRIANGLE:"TRIANGLE"};t.LabelBackShape=M;var R=n.SuperMap.LabelOverLengthMode={NEWLINE:"NEWLINE",NONE:"NONE",OMIT:"OMIT"};t.LabelOverLengthMode=R;var P=n.SuperMap.DirectionType={EAST:"EAST",NONE:"NONE",NORTH:"NORTH",SOURTH:"SOURTH",WEST:"WEST"};t.DirectionType=P;var I=n.SuperMap.SideType={LEFT:"LEFT",MIDDLE:"MIDDLE",NONE:"NONE",RIGHT:"RIGHT"};t.SideType=I;var C=n.SuperMap.SupplyCenterType={FIXEDCENTER:"FIXEDCENTER",NULL:"NULL",OPTIONALCENTER:"OPTIONALCENTER"};t.SupplyCenterType=C;var N=n.SuperMap.TurnType={AHEAD:"AHEAD",BACK:"BACK",END:"END",LEFT:"LEFT",NONE:"NONE",RIGHT:"RIGHT"};t.TurnType=N;var w=n.SuperMap.BufferEndType={FLAT:"FLAT",ROUND:"ROUND"};t.BufferEndType=w;var A=n.SuperMap.OverlayOperationType={CLIP:"CLIP",ERASE:"ERASE",IDENTITY:"IDENTITY",INTERSECT:"INTERSECT",UNION:"UNION",UPDATE:"UPDATE",XOR:"XOR"};t.OverlayOperationType=A;var L=n.SuperMap.OutputType={INDEXEDHDFS:"INDEXEDHDFS",UDB:"UDB",MONGODB:"MONGODB",PG:"PG"};t.OutputType=L;var k=n.SuperMap.SmoothMethod={BSPLINE:"BSPLINE",POLISH:"POLISH"};t.SmoothMethod=k;var x=n.SuperMap.SurfaceAnalystMethod={ISOLINE:"ISOLINE",ISOREGION:"ISOREGION"};t.SurfaceAnalystMethod=x;var j=n.SuperMap.DataReturnMode={DATASET_AND_RECORDSET:"DATASET_AND_RECORDSET",DATASET_ONLY:"DATASET_ONLY",RECORDSET_ONLY:"RECORDSET_ONLY"};t.DataReturnMode=j;var U=n.SuperMap.EditType={ADD:"add",UPDATE:"update",DELETE:"delete"};t.EditType=U;var D=n.SuperMap.TransferTactic={LESS_TIME:"LESS_TIME",LESS_TRANSFER:"LESS_TRANSFER",LESS_WALK:"LESS_WALK",MIN_DISTANCE:"MIN_DISTANCE"};t.TransferTactic=D;var J=n.SuperMap.TransferPreference={BUS:"BUS",SUBWAY:"SUBWAY",NO_SUBWAY:"NO_SUBWAY",NONE:"NONE"};t.TransferPreference=J;var F=n.SuperMap.GridType={CROSS:"CROSS",GRID:"GRID",POINT:"POINT"};t.GridType=F;var B=n.SuperMap.ColorSpaceType={CMYK:"CMYK",RGB:"RGB"};t.ColorSpaceType=B;var G=n.SuperMap.LayerType={UGC:"UGC",WMS:"WMS",WFS:"WFS",CUSTOM:"CUSTOM"};t.LayerType=G;var H=n.SuperMap.UGCLayerType={THEME:"THEME",VECTOR:"VECTOR",GRID:"GRID",IMAGE:"IMAGE"};t.UGCLayerType=H;var V=n.SuperMap.StatisticMode={AVERAGE:"AVERAGE",MAX:"MAX",MIN:"MIN",STDDEVIATION:"STDDEVIATION",SUM:"SUM",VARIANCE:"VARIANCE"};t.StatisticMode=V;var K=n.SuperMap.PixelFormat={BIT16:"BIT16",BIT32:"BIT32",BIT64:"BIT64",SINGLE:"SINGLE",DOUBLE:"DOUBLE",UBIT1:"UBIT1",UBIT4:"UBIT4",UBIT8:"UBIT8",UBIT24:"UBIT24",UBIT32:"UBIT32"};t.PixelFormat=K;var q=n.SuperMap.SearchMode={KDTREE_FIXED_COUNT:"KDTREE_FIXED_COUNT",KDTREE_FIXED_RADIUS:"KDTREE_FIXED_RADIUS",NONE:"NONE",QUADTREE:"QUADTREE"};t.SearchMode=q;var Y=n.SuperMap.InterpolationAlgorithmType={KRIGING:"KRIGING",SimpleKriging:"SimpleKriging",UniversalKriging:"UniversalKriging"};t.InterpolationAlgorithmType=Y;var W=n.SuperMap.VariogramMode={EXPONENTIAL:"EXPONENTIAL",GAUSSIAN:"GAUSSIAN",SPHERICAL:"SPHERICAL"};t.VariogramMode=W;var Q=n.SuperMap.Exponent={EXP1:"EXP1",EXP2:"EXP2"};t.Exponent=Q;var z=n.SuperMap.ClientType={IP:"IP",REFERER:"Referer",REQUESTIP:"RequestIP",NONE:"NONE",SERVER:"SERVER",WEB:"WEB"};t.ClientType=z;var X=n.SuperMap.ChartType={BAR:"Bar",BAR3D:"Bar3D",CIRCLE:"Circle",PIE:"Pie",POINT:"Point",LINE:"Line",RING:"Ring"};t.ChartType=X;var $=n.SuperMap.ClipAnalystMode={CLIP:"clip",INTERSECT:"intersect"};t.ClipAnalystMode=$;var Z=n.SuperMap.AnalystAreaUnit={SQUAREMETER:"SquareMeter",SQUAREKILOMETER:"SquareKiloMeter",HECTARE:"Hectare",ARE:"Are",ACRE:"Acre",SQUAREFOOT:"SquareFoot",SQUAREYARD:"SquareYard",SQUAREMILE:"SquareMile"};t.AnalystAreaUnit=Z;var ee=n.SuperMap.AnalystSizeUnit={METER:"Meter",KILOMETER:"Kilometer",YARD:"Yard",FOOT:"Foot",MILE:"Mile"};t.AnalystSizeUnit=ee;var te=n.SuperMap.StatisticAnalystMode={MAX:"max",MIN:"min",AVERAGE:"average",SUM:"sum",VARIANCE:"variance",STDDEVIATION:"stdDeviation"};t.StatisticAnalystMode=te;var re=n.SuperMap.SummaryType={SUMMARYMESH:"SUMMARYMESH",SUMMARYREGION:"SUMMARYREGION"};t.SummaryType=re;var ne=n.SuperMap.TopologyValidatorRule={REGIONNOOVERLAP:"REGIONNOOVERLAP",REGIONNOOVERLAPWITH:"REGIONNOOVERLAPWITH",REGIONCONTAINEDBYREGION:"REGIONCONTAINEDBYREGION",REGIONCOVEREDBYREGION:"REGIONCOVEREDBYREGION",LINENOOVERLAP:"LINENOOVERLAP",LINENOOVERLAPWITH:"LINENOOVERLAPWITH",POINTNOIDENTICAL:"POINTNOIDENTICAL"};t.TopologyValidatorRule=ne;var oe=n.SuperMap.AggregationType={GEOHASH_GRID:"geohash_grid",FILTER:"filter"};t.AggregationType=oe;var ie=n.SuperMap.AggregationQueryBuilderType={GEO_BOUNDING_BOX:"geo_bounding_box"};t.AggregationQueryBuilderType=ie},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutputSetting=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=r(0),i=r(1),a=r(44),s=r(2);var u=t.OutputSetting=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=s.OutputType.UDB,this.datasetName="analystResult",this.datasourceInfo=null,this.outputPath="",i.Util.extend(this,e),this.CLASS_NAME="SuperMap.OutputSetting"}return n(t,[{key:"destroy",value:function(){var e=this;e.type=null,e.datasetName=null,e.outputPath=null,e.datasourceInfo instanceof a.DatasourceConnectionInfo&&(e.datasourceInfo.destroy(),e.datasourceInfo=null)}}]),t}();o.SuperMap.OutputSetting=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessingServiceBase=void 0;var o=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},n=r(0),a=r(6),s=r(7),u=r(1),l=r(8);var p=t.ProcessingServiceBase=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=t||{}).EVENT_TYPES=["processCompleted","processFailed","processRunning"];var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.CLASS_NAME="SuperMap.ProcessingServiceBase",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.CommonServiceBase),o(n,[{key:"destroy",value:function(){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"getJobs",value:function(e){var t=this;s.FetchRequest.get(e,null,{proxy:t.proxy}).then(function(e){return e.json()}).then(function(e){t.events.triggerEvent("processCompleted",{result:e})}).catch(function(e){t.eventListeners.processFailed({error:e})})}},{key:"addJob",value:function(e,t,r,n){var o=this,i=null;t&&t instanceof r&&(i=new Object,r.toObject(t,i));var a={proxy:o.proxy,headers:{"Content-Type":"application/x-www-form-urlencoded"}};s.FetchRequest.post(o._processUrl(e),JSON.stringify(i),a).then(function(e){return e.json()}).then(function(e){e.succeed?o.serviceProcessCompleted(e,n):o.serviceProcessFailed(e)}).catch(function(e){o.serviceProcessFailed({error:e})})}},{key:"serviceProcessCompleted",value:function(e,t){e=u.Util.transformResult(e),t=t||1e3;var r=this;if(e)var n=setInterval(function(){s.FetchRequest.get(e.newResourceLocation,{_t:(new Date).getTime()}).then(function(e){return e.json()}).then(function(e){r.events.triggerEvent("processRunning",{id:e.id,state:e.state}),"LOST"!==e.state.runState&&"KILLED"!==e.state.runState&&"FAILED"!==e.state.runState||(clearInterval(n),r.events.triggerEvent("processFailed",{error:e.state.errorMsg,state:e.state.runState})),"FINISHED"===e.state.runState&&e.setting.serviceInfo&&(clearInterval(n),r.events.triggerEvent("processCompleted",{result:e}))}).catch(function(e){clearInterval(n),r.events.triggerEvent("processFailed",{error:e})})},t)}},{key:"serviceProcessFailed",value:function(e){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"serviceProcessFailed",this).call(this,e)}},{key:"_processUrl",value:function(e){return-1===e.indexOf(".json")&&(e+=".json"),l.SecurityManager.getToken(e)&&(e+="?token="+l.SecurityManager.getToken(e)),e}}]),n}();n.SuperMap.ProcessingServiceBase=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=window.SuperMap=window.SuperMap||{};n.REST=n.REST||{},t.SuperMap=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommonServiceBase=void 0;var o=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),n=r(0),i=r(7),a=r(22),s=r(37),u=r(8),l=r(1),p=r(2),c=r(36),f=r(9);var y=t.CommonServiceBase=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=this;this.EVENT_TYPES=["processCompleted","processFailed"],this.events=null,this.eventListeners=null,this.url=null,this.urls=null,this.proxy=null,this.serverType=null,this.index=null,this.length=null,this.options=null,this.totalTimes=null,this.POLLING_TIMES=3,this._processSuccess=null,this._processFailed=null,this.isInTheSameDomain=null,this.withCredentials=!1,l.Util.isArray(e)?(r.urls=e,r.length=e.length,r.totalTimes=r.length,1===r.length?r.url=e[0]:(r.index=parseInt(Math.random()*r.length),r.url=e[r.index])):(r.totalTimes=1,r.url=e),l.Util.isArray(e)&&!r.isServiceSupportPolling()&&(r.url=e[0],r.totalTimes=1),r.serverType=r.serverType||p.ServerType.ISERVER,(t=t||{})&&l.Util.extend(this,t),r.isInTheSameDomain=l.Util.isInTheSameDomain(r.url),r.events=new a.Events(r,null,r.EVENT_TYPES,!0),r.eventListeners instanceof Object&&r.events.on(r.eventListeners),this.CLASS_NAME="SuperMap.CommonServiceBase"}return o(n,[{key:"destroy",value:function(){var e=this;l.Util.isArray(e.urls)&&(e.urls=null,e.index=null,e.length=null,e.totalTimes=null),e.url=null,e.options=null,e._processSuccess=null,e._processFailed=null,e.isInTheSameDomain=null,e.EVENT_TYPES=null,e.events&&(e.events.destroy(),e.events=null),e.eventListeners&&(e.eventListeners=null)}},{key:"request",value:function(e){var t=this;e.url=e.url||t.url,e.proxy=e.proxy||t.proxy,e.withCredentials=null!=e.withCredentials?e.withCredentials:t.withCredentials,e.isInTheSameDomain=t.isInTheSameDomain;var r=this.getCredential(e.url);if(r){var n=e.url.substring(e.url.length-1,e.url.length);-1<e.url.indexOf("?")&&"?"===n?e.url+=r.getUrlParameters():-1<e.url.indexOf("?")&&"?"!==n?e.url+="&"+r.getUrlParameters():e.url+="?"+r.getUrlParameters()}t.calculatePollingTimes(),t._processSuccess=e.success,t._processFailed=e.failure,e.scope=t,e.success=t.getUrlCompleted,e.failure=t.getUrlFailed,t.options=e,t._commit(t.options)}},{key:"getCredential",value:function(e){var t=e,r=void 0,n=void 0;switch(this.serverType){case p.ServerType.IPORTAL:(r=(n=u.SecurityManager.getToken(t))?new s.Credential(n,"token"):null)||(r=(n=u.SecurityManager.getKey(t))?new s.Credential(n,"key"):null);break;case p.ServerType.ONLINE:r=(n=u.SecurityManager.getKey(t))?new s.Credential(n,"key"):null;break;default:r=(n=u.SecurityManager.getToken(t))?new s.Credential(n,"token"):null}return r}},{key:"getUrlCompleted",value:function(e){this._processSuccess(e)}},{key:"getUrlFailed",value:function(e){0<this.totalTimes?(this.totalTimes--,this.ajaxPolling()):this._processFailed(e)}},{key:"ajaxPolling",value:function(){var e=this,t=e.options.url,r=/^http:\/\/([a-z]{9}|(\d+\.){3}\d+):\d{0,4}/;e.index=parseInt(Math.random()*e.length),e.url=e.urls[e.index],t=t.replace(r,r.exec(e.url)[0]),e.options.url=t,e.options.isInTheSameDomain=l.Util.isInTheSameDomain(t),e._commit(e.options)}},{key:"calculatePollingTimes",value:function(){var e=this;e.times?e.totalTimes>e.POLLING_TIMES?e.times>e.POLLING_TIMES?e.totalTimes=e.POLLING_TIMES:e.totalTimes=e.times:e.times<e.totalTimes&&(e.totalTimes=e.times):e.totalTimes>e.POLLING_TIMES&&(e.totalTimes=e.POLLING_TIMES),e.totalTimes--}},{key:"isServiceSupportPolling",value:function(){return!("SuperMap.REST.ThemeService"===this.CLASS_NAME||"SuperMap.REST.EditFeaturesService"===this.CLASS_NAME)}},{key:"serviceProcessCompleted",value:function(e){e=l.Util.transformResult(e),this.events.triggerEvent("processCompleted",{result:e})}},{key:"serviceProcessFailed",value:function(e){var t=(e=l.Util.transformResult(e)).error||e;this.events.triggerEvent("processFailed",{error:t})}},{key:"_commit",value:function(r){"POST"!==r.method&&"PUT"!==r.method||(r.params&&(r.url=l.Util.urlAppend(r.url,l.Util.getParameterString(r.params||{}))),r.params=r.data),i.FetchRequest.commit(r.method,r.url,r.params,{headers:r.headers,withCredentials:r.withCredentials,timeout:r.async?0:null,proxy:r.proxy}).then(function(e){return e.text?e.text():e.json?e.json():e}).then(function(e){var t=e;("string"==typeof e&&(t=(new c.JSONFormat).read(e)),(!t||t.error||300<=t.code&&304!==t.code)&&(t=t&&t.error?{error:t.error}:{error:t}),t.error)?(r.scope?f.FunctionExt.bind(r.failure,r.scope):r.failure)(t):(t.succeed=null==t.succeed||t.succeed,(r.scope?f.FunctionExt.bind(r.success,r.scope):r.success)(t))})}}]),n}();n.SuperMap.CommonServiceBase=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FetchRequest=t.getRequestTimeout=t.setRequestTimeout=t.isCORS=t.setCORS=void 0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r(51),r(46);var n,o=r(45),s=(n=o)&&n.__esModule?n:{default:n},i=r(0),a=r(1);var u=window.fetch,p=(t.setCORS=i.SuperMap.setCORS=function(e){i.SuperMap.CORS=e},t.isCORS=i.SuperMap.isCORS=function(){return null!=i.SuperMap.CORS?i.SuperMap.CORS:window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest}),c=(t.setRequestTimeout=i.SuperMap.setRequestTimeout=function(e){return i.SuperMap.RequestTimeout=e},t.getRequestTimeout=i.SuperMap.getRequestTimeout=function(){return i.SuperMap.RequestTimeout||45e3});t.FetchRequest=i.SuperMap.FetchRequest={commit:function(e,t,r,n){switch(e=e?e.toUpperCase():e){case"GET":return this.get(t,r,n);case"POST":return this.post(t,r,n);case"PUT":return this.put(t,r,n);case"DELETE":return this.delete(t,r,n);default:return this.get(t,r,n)}},supportDirectRequest:function(e,t){return a.Util.isInTheSameDomain(e)||p()||t.proxy},get:function(e,t,r){r=r||{};if(e=this._processUrl(e,r),e=a.Util.urlAppend(e,this._getParameterString(t||{})),!this.supportDirectRequest(e,r)){var n={url:e=e.replace(".json",".jsonp"),data:t};return i.SuperMap.Util.RequestJSONP.GET(n)}return this.urlIsLong(e)?this._postSimulatie("GET",e.substring(0,e.indexOf("?")-1),t,r):this._fetch(e,t,r,"GET")},delete:function(e,t,r){r=r||{};if(e=this._processUrl(e,r),e=a.Util.urlAppend(e,this._getParameterString(t||{})),!this.supportDirectRequest(e,r)){e=e.replace(".json",".jsonp");var n={url:e+="&_method=DELETE",data:t};return i.SuperMap.Util.RequestJSONP.DELETE(n)}return this.urlIsLong(e)?this._postSimulatie("DELETE",e.substring(0,e.indexOf("?")-1),t,r):this._fetch(e,t,r,"DELETE")},post:function(e,t,r){if(r=r||{},!this.supportDirectRequest(e,r)){e=e.replace(".json",".jsonp");var n={url:e+="&_method=POST",data:t};return i.SuperMap.Util.RequestJSONP.POST(n)}return this._fetch(this._processUrl(e,r),t,r,"POST")},put:function(e,t,r){if(r=r||{},e=this._processUrl(e,r),!this.supportDirectRequest(e,r)){e=e.replace(".json",".jsonp");var n={url:e+="&_method=PUT",data:t};return i.SuperMap.Util.RequestJSONP.DELETE(n)}return this._fetch(e,t,r,"PUT")},urlIsLong:function(e){for(var t=0,r=null,n=0,o=e.length;n<o;n++)(r=e.charCodeAt(n))<127?t++:128<=r&&r<=2047?t+=2:2048<=r&&r<=65535&&(t+=3);return!(t<2e3)},_postSimulatie:function(e,t,r,n){return t+=(-1<t.indexOf("?")?"&":"?")+"_method="+e,"string"!=typeof r&&(r=JSON.stringify(r)),this.post(t,r,n)},_processUrl:function(e,t){if(this._isMVTRequest(e))return e;if(-1===e.indexOf(".json")&&!t.withoutFormatSuffix)if(e.indexOf("?")<0)e+=".json";else{var r=e.split("?");2===r.length&&(e=r[0]+".json?"+r[1])}return t&&t.proxy&&("function"==typeof t.proxy?e=t.proxy(e):(e=decodeURIComponent(e),e=t.proxy+encodeURIComponent(e))),e},_fetch:function(e,t,r,n){return(r=r||{}).headers=r.headers||{},r.headers["Content-Type"]||(r.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8"),r.timeout?this._timeout(r.timeout,u(e,{method:n,headers:r.headers,body:"PUT"===n||"POST"===n?t:void 0,credentials:r.withCredentials?"include":"omit",mode:"cors",timeout:c()}).then(function(e){return e})):u(e,{method:n,body:"PUT"===n||"POST"===n?t:void 0,headers:r.headers,credentials:r.withCredentials?"include":"omit",mode:"cors",timeout:c()}).then(function(e){return e})},_fetchJsonp:function(e,t){return t=t||{},(0,s.default)(e,{method:"GET",timeout:t.timeout}).then(function(e){return e})},_timeout:function(r,n){return new Promise(function(e,t){setTimeout(function(){t(new Error("timeout"))},r),n.then(e,t)})},_getParameterString:function(e){var t=[];for(var r in e){var n=e[r];if(null!=n&&"function"!=typeof n){var o;if("object"===(void 0===n?"undefined":l(n))&&n.constructor===Array){for(var i,a=[],s=0,u=n.length;s<u;s++)i=n[s],a.push(encodeURIComponent(null==i?"":i));o="["+a.join(",")+"]"}else o=encodeURIComponent(n);t.push(encodeURIComponent(r)+"="+o)}}return t.join("&")},_isMVTRequest:function(e){return-1<e.indexOf(".mvt")||-1<e.indexOf(".pbf")}};i.SuperMap.Util.RequestJSONP={limitLength:1500,queryKeys:[],queryValues:[],supermap_callbacks:{},addQueryStrings:function(e){for(var t in e){this.queryKeys.push(t),"string"!=typeof e[t]&&(e[t]=i.SuperMap.Util.toJSON(e[t]));var r=encodeURIComponent(e[t]);this.queryValues.push(r)}},issue:function(e){for(var r=this,n=r.getUid(),t=e.url,o=[],i=new Promise(function(t){r.supermap_callbacks[n]=function(e){delete r.supermap_callbacks[n],t(e)}}),a=t,s=0,u=r.queryKeys?r.queryKeys.length:0,l=0;l<u;l++)if(a.length+r.queryKeys[l].length+2>=r.limitLength){if(0==s)return!1;null==o&&(o=new Array),o.push(a),a=t,s=0,l--}else if(a.length+r.queryKeys[l].length+2+r.queryValues[l].length>r.limitLength)for(var p=r.queryValues[l];0<p.length;){var c=r.limitLength-a.length-r.queryKeys[l].length-2;-1<a.indexOf("?")?a+="&":a+="?";var f=p.substring(0,c);"%"===f.substring(c-1,c)?(c-=1,f=p.substring(0,c)):"%"===f.substring(c-2,c-1)&&(c-=2,f=p.substring(0,c)),a+=r.queryKeys[l]+"="+f,p=p.substring(c),0<f.length&&(null==o&&(o=new Array),o.push(a),a=t,s=0)}else s++,-1<a.indexOf("?")?a+="&":a+="?",a+=r.queryKeys[l]+"="+r.queryValues[l];return null==o&&(o=new Array),o.push(a),r.send(o,"SuperMap.Util.RequestJSONP.supermap_callbacks["+n+"]",e&&e.proxy),i},getUid:function(){return 1e3*(new Date).getTime()+Math.floor(1e17*Math.random())},send:function(e,t,r){var n=e.length;if(0<n)for(var o=(new Date).getTime(),i=0;i<n;i++){var a=e[i];-1<a.indexOf("?")?a+="&":a+="?",a+="sectionCount="+n,a+="&sectionIndex="+i,a+="&jsonpUserID="+o,r&&(a=decodeURIComponent(a),a=r+encodeURIComponent(a)),(0,s.default)(a,{jsonpCallbackFunction:t,timeout:3e4})}},GET:function(e){return this.queryKeys.length=0,this.queryValues.length=0,this.addQueryStrings(e.params),this.issue(e)},POST:function(e){return this.queryKeys.length=0,this.queryValues.length=0,this.addQueryStrings({requestEntity:e.data}),this.issue(e)},PUT:function(e){return this.queryKeys.length=0,this.queryValues.length=0,this.addQueryStrings({requestEntity:e.data}),this.issue(e)},DELETE:function(e){return this.queryKeys.length=0,this.queryValues.length=0,this.addQueryStrings({requestEntity:e.data}),this.issue(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SecurityManager=void 0;var o=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),n=r(0),u=r(1),l=r(7);var i=t.SecurityManager=function(){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)}return o(n,null,[{key:"generateToken",value:function(e,t){var r=this.servers[e];if(r)return l.FetchRequest.post(r.tokenServiceUrl,JSON.stringify(t.toJSON())).then(function(e){return e.text()})}},{key:"registerServers",value:function(e){this.servers=this.servers||{},u.Util.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var r=e[t];this.servers[r.server]=r}}},{key:"registerToken",value:function(e,t){if(this.tokens=this.tokens||{},e&&t){var r=this._getTokenStorageKey(e);this.tokens[r]=t}}},{key:"registerKey",value:function(e,t){if(this.keys=this.keys||{},e&&!(e.length<1)&&t){e=u.Util.isArray(e)?e:[e];for(var r=0;r<e.length;r++){var n=this._getUrlRestString(e[0])||e[0];this.keys[n]=t}}}},{key:"getServerInfo",value:function(e){return this.servers=this.servers||{},this.servers[e]}},{key:"getToken",value:function(e){if(e){this.tokens=this.tokens||{};var t=this._getTokenStorageKey(e);return this.tokens[t]}}},{key:"getKey",value:function(e){this.keys=this.keys||{};var t=this._getUrlRestString(e)||e;return this.keys[t]}},{key:"loginiServer",value:function(e,t,r,n){e+="/"===e.substr(e.length-1,1)?"services/security/login.json":"/services/security/login.json";var o={username:t&&t.toString(),password:r&&r.toString(),rememberme:n};o=JSON.stringify(o);return l.FetchRequest.post(e,o,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(e){return e.json()})}},{key:"logoutiServer",value:function(e){e+="/"===e.substr(e.length-1,1)?"services/security/logout":"/services/security/logout";return l.FetchRequest.get(e,"",{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},withoutFormatSuffix:!0}).then(function(){return!0}).catch(function(){return!1})}},{key:"loginOnline",value:function(e,t){var r=n.SSO+"/login?service="+e;this._open(r,t)}},{key:"loginiPortal",value:function(e,t,r){e+="/"===e.substr(e.length-1,1)?"web/login.json":"/web/login.json";var n={username:t&&t.toString(),password:r&&r.toString()};n=JSON.stringify(n);return l.FetchRequest.post(e,n,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},withCredentials:!0}).then(function(e){return e.json()})}},{key:"logoutiPortal",value:function(e){e+="/"===e.substr(e.length-1,1)?"services/security/logout":"/services/security/logout";return l.FetchRequest.get(e,"",{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},withCredentials:!0,withoutFormatSuffix:!0}).then(function(){return!0}).catch(function(){return!1})}},{key:"loginManager",value:function(e,t,r){if(u.Util.isInTheSameDomain(e)){var n="/"===e.substr(e.length-1,1)?e+"icloud/security/tokens.json":e+"/icloud/security/tokens.json",o=t||{},i={username:o.userName&&o.userName.toString(),password:o.password&&o.password.toString()};i=JSON.stringify(i);var a=this;return l.FetchRequest.post(n,i,{headers:{Accept:"*/*","Content-Type":"application/json"}}).then(function(e){e.text().then(function(e){return a.imanagerToken=e})})}var s=!r||r.isNewTab;this._open(e,s)}},{key:"destroyAllCredentials",value:function(){this.keys=null,this.tokens=null,this.servers=null}},{key:"destroyToken",value:function(e){if(e){var t=this._getTokenStorageKey(e);this.tokens=this.tokens||{},this.tokens[t]&&delete this.tokens[t]}}},{key:"destroyKey",value:function(e){if(e){this.keys=this.keys||{};var t=this._getUrlRestString(e)||e;this.keys[t]&&delete this.keys[t]}}},{key:"_open",value:function(e,t){t=null==t||t;var r=window.screen.availWidth/2-this.INNER_WINDOW_WIDTH/2,n=window.screen.availHeight/2-this.INNER_WINDOW_HEIGHT/2,o="height="+this.INNER_WINDOW_HEIGHT+", width="+this.INNER_WINDOW_WIDTH+",top="+n+", left="+r+",toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no";t?window.open(e,"login"):window.open(e,"login",o)}},{key:"_getTokenStorageKey",value:function(e){var t=e.match(/(.*?):\/\/([^\/]+)/i);return t?t[0]:e}},{key:"_getUrlRestString",value:function(e){if(!e)return e;var t=e.match(/http:\/\/(.*\/rest)/i);return t?t[0]:e}}]),n}();i.INNER_WINDOW_WIDTH=600,i.INNER_WINDOW_HEIGHT=600,i.SSO="https://sso.supermap.com",i.ONLINE="http://www.supermapol.com",n.SuperMap.SecurityManager=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayExt=t.FunctionExt=t.NumberExt=t.StringExt=void 0;var l=r(0);l.SuperMap.inherit=function(e,t){var r,n,o,i=function(){};for(i.prototype=t.prototype,e.prototype=new i,r=2,n=arguments.length;r<n;r++)"function"==typeof(o=arguments[r])&&(o=o.prototype),l.SuperMap.Util.extend(e.prototype,o)},l.SuperMap.mixin=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];for(var r=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=0;r<n.length;r++)a(this,new n[r](t))},o=0;o<n.length;o++){var i=n[o];a(r,i),a(r.prototype,i.prototype),a(r.prototype,new i)}return r;function a(e,t){var r=Object.getOwnPropertyNames(t);Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t)));for(var n=0;n<r.length;n++){var o=r[n];if("constructor"!==o&&"prototype"!==o&&"name"!==o&&"length"!==o){var i=Object.getOwnPropertyDescriptor(t,o);window.ActiveXObject?Object.defineProperty(e,o,i||{}):Object.defineProperty(e,o,i)}}}};t.StringExt=l.SuperMap.String={startsWith:function(e,t){return 0==e.indexOf(t)},contains:function(e,t){return-1!=e.indexOf(t)},trim:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},camelize:function(e){for(var t=e.split("-"),r=t[0],n=1,o=t.length;n<o;n++){var i=t[n];r+=i.charAt(0).toUpperCase()+i.substring(1)}return r},format:function(e,i,a){i||(i=window);return e.replace(l.SuperMap.String.tokenRegEx,function(e,t){for(var r,n=t.split(/\.+/),o=0;o<n.length;o++)0==o&&(r=i),r=r[n[o]];return"function"==typeof r&&(r=a?r.apply(null,a):r()),void 0===r?"undefined":r})},tokenRegEx:/\$\{([\w.]+?)\}/g,numberRegEx:/^([+-]?)(?=\d|\.\d)\d*(\.\d*)?([Ee]([+-]?\d+))?$/,isNumeric:function(e){return l.SuperMap.String.numberRegEx.test(e)},numericIf:function(e){return l.SuperMap.String.isNumeric(e)?parseFloat(e):e}};var n=t.NumberExt=l.SuperMap.Number={decimalSeparator:".",thousandsSeparator:",",limitSigDigs:function(e,t){var r=0;return 0<t&&(r=parseFloat(e.toPrecision(t))),r},format:function(e,t,r,n){t=void 0!==t?t:0,r=void 0!==r?r:l.SuperMap.Number.thousandsSeparator,n=void 0!==n?n:l.SuperMap.Number.decimalSeparator,null!=t&&(e=parseFloat(e.toFixed(t)));var o=e.toString().split(".");1===o.length&&null==t&&(t=0);var i,a=o[0];if(r)for(var s=/(-?[0-9]+)([0-9]{3})/;s.test(a);)a=a.replace(s,"$1"+r+"$2");if(0==t)i=a;else{var u=1<o.length?o[1]:"0";null!=t&&(u+=new Array(t-u.length+1).join("0")),i=a+n+u}return i}};Number.prototype.limitSigDigs||(Number.prototype.limitSigDigs=function(e){return n.limitSigDigs(this,e)});t.FunctionExt=l.SuperMap.Function={bind:function(t,r){var n=Array.prototype.slice.apply(arguments,[2]);return function(){var e=n.concat(Array.prototype.slice.apply(arguments,[0]));return t.apply(r,e)}},bindAsEventListener:function(t,r){return function(e){return t.call(r,e||window.event)}},False:function(){return!1},True:function(){return!0},Void:function(){}},t.ArrayExt=l.SuperMap.Array={filter:function(e,t,r){var n=[];if(Array.prototype.filter)n=e.filter(t,r);else{var o=e.length;if("function"!=typeof t)throw new TypeError;for(var i=0;i<o;i++)if(i in e){var a=e[i];t.call(r,a,i,e)&&n.push(a)}}return n}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapVRenderer=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=r(5),a=r(41);function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=a.baiduMapLayer?a.baiduMapLayer.__proto__:Function;t.MapVRenderer=function(e){function s(e,t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var o,i=u(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e,r,n));if(!l)return u(o=i,o);var a=i;return n=n||{},a.init(n),a.argCheck(n),i.canvasLayer=t,a.transferToMercator(),i.clickEvent=i.clickEvent.bind(i),i.mousemoveEvent=i.mousemoveEvent.bind(i),i.bindEvent(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,l),n(s,[{key:"clickEvent",value:function(e){var t=e.xy;o(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"clickEvent",this).call(this,t,e)}},{key:"mousemoveEvent",value:function(e){var t=e.xy;o(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"mousemoveEvent",this).call(this,t,e)}},{key:"bindEvent",value:function(){var e=this.map;this.options.methods&&(this.options.methods.click&&e.events.on({click:this.clickEvent}),this.options.methods.mousemove&&e.events.on({mousemove:this.mousemoveEvent}))}},{key:"unbindEvent",value:function(){var e=this.map;this.options.methods&&(this.options.methods.click&&e.events.un({click:this.clickEvent}),this.options.methods.mousemove&&e.events.un({mousemove:this.mousemoveEvent}))}},{key:"getContext",value:function(){return this.canvasLayer&&this.canvasLayer.canvasContext}},{key:"addData",value:function(e,t){var r=e;e&&e.get&&(r=e.get()),this.dataSet.add(r),this.update({options:t})}},{key:"setData",value:function(e,t){var r=e;e&&e.get&&(r=e.get()),this.dataSet=this.dataSet||new a.DataSet,this.dataSet.set(r),this.update({options:t})}},{key:"getData",value:function(){return this.dataSet}},{key:"removeData",value:function(t){if(this.dataSet){var e=this.dataSet.get({filter:function(e){return null==t||"function"!=typeof t||!t(e)}});this.dataSet.set(e),this.update({options:null})}}},{key:"clearData",value:function(){this.dataSet&&this.dataSet.clear(),this.update({options:null})}},{key:"render",value:function(e){this._canvasUpdate(e)}},{key:"transferToMercator",value:function(){if(this.options.coordType&&-1<["bd09mc","coordinates_mercator"].indexOf(this.options.coordType)){var e=this.dataSet.get();e=this.dataSet.transferCoordinate(e,function(e){var t=i.SuperMap.Projection.transform({x:e[0],y:e[1]},"EPSG:3857","EPSG:4326");return[t.x,t.y]},"coordinates","coordinates"),this.dataSet._set(e)}}},{key:"_canvasUpdate",value:function(r){if(this.canvasLayer){var e=this,n=e.options.animation,t=this.getContext(),o=this.map;if(e.isEnabledTime()){if(void 0===r)return void this.clear(t);"2d"===this.context&&(t.save(),t.globalCompositeOperation="destination-out",t.fillStyle="rgba(0, 0, 0, .1)",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.restore())}else this.clear(t);if("2d"===this.context)for(var i in e.options)t[i]=e.options[i];else t.clear(t.COLOR_BUFFER_BIT);if(!(e.options.minZoom&&o.getZoom()<e.options.minZoom||e.options.maxZoom&&o.getZoom()>e.options.maxZoom)){var a=e.canvasLayer,s={fromColumn:"coordinates",transferCoordinate:function(e){var t=a.transferToMapLatLng({lon:e[0],lat:e[1]}),r=o.getViewPortPxFromLonLat(t);return[r.x,r.y]}};void 0!==r&&(s.filter=function(e){var t=n.trails||10;return r&&e.time>r-t&&e.time<r});var u=e.dataSet.get(s);this.processData(u),e.options._size=e.options.size;var l=o.getViewPortPxFromLonLat(a.transferToMapLatLng({lon:0,lat:0})),p=Math.pow(2,14-o.getZoom());"m"==e.options.unit?(e.options.size&&(e.options._size=e.options.size/p),e.options.width&&(e.options._width=e.options.width/p),e.options.height&&(e.options._height=e.options.height/p)):(e.options._size=e.options.size,e.options._height=e.options.height,e.options._width=e.options.width),this.drawContext(t,u,e.options,l),e.options.updateCallback&&e.options.updateCallback(r)}}}},{key:"init",value:function(e){this.options=e,this.initDataRange(e),this.context=this.options.context||"2d",this.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(this.options.zIndex),this.initAnimator()}},{key:"addAnimatorEvent",value:function(){this.map.events.on({movestart:this.animatorMovestartEvent.bind(this)}),this.map.events.on({moveend:this.animatorMoveendEvent.bind(this)})}},{key:"clear",value:function(e){e&&e.clearRect&&e.clearRect(0,0,e.canvas.width,e.canvas.height)}},{key:"show",value:function(){this.map.addLayer(this.canvasLayer)}},{key:"hide",value:function(){this.map.removeLayer(this.canvasLayer)}},{key:"draw",value:function(){this.canvasLayer.redraw()}}]),s}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeoDecodingParameter=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=r(0),i=r(1);var a=t.GeoDecodingParameter=function(){function r(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),e.filters){var t=[];e.filters.split(",").map(function(e){return t.push('"'+e+'"'),e}),e.filters=t}this.x=null,this.y=null,this.fromIndex=null,this.toIndex=null,this.filters=null,this.prjCoordSys=null,this.maxReturn=null,this.geoDecodingRadius=null,i.Util.extend(this,e)}return n(r,[{key:"destroy",value:function(){this.x=null,this.y=null,this.fromIndex=null,this.toIndex=null,this.filters=null,this.prjCoordSys=null,this.maxReturn=null,this.geoDecodingRadius=null}}]),r}();o.SuperMap.GeoDecodingParameter=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeoCodingParameter=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=r(0),i=r(1);var a=t.GeoCodingParameter=function(){function r(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),e.filters){var t=[];e.filters.split(",").map(function(e){return t.push('"'+e+'"'),e}),e.filters=t}this.address=null,this.fromIndex=null,this.toIndex=null,this.filters=null,this.prjCoordSys=null,this.maxReturn=null,i.Util.extend(this,e)}return n(r,[{key:"destroy",value:function(){this.address=null,this.fromIndex=null,this.toIndex=null,this.filters=null,this.prjCoordSys=null,this.maxReturn=null}}]),r}();o.SuperMap.GeoCodingParameter=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TopologyValidatorJobsParameter=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=r(0),i=r(1),a=r(2),s=r(3);var u=t.TopologyValidatorJobsParameter=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e&&(this.datasetName="",this.datasetTopology="",this.tolerance="",this.rule=a.TopologyValidatorRule.REGIONNOOVERLAP,this.output=null,i.Util.extend(this,e),this.CLASS_NAME="SuperMap.TopologyValidatorJobsParameter")}return n(t,[{key:"destroy",value:function(){this.datasetName=null,this.datasetTopology=null,this.tolerance=null,this.rule=null,this.output instanceof s.OutputSetting&&(this.output.destroy(),this.output=null)}}],[{key:"toObject",value:function(e,t){for(var r in e)"datasetName"!==r?"output"!==r?(t.analyst=t.analyst||{},t.analyst[r]=e[r]):(t.output=t.output||{},t.output=e[r]):(t.input=t.input||{},t.input[r]=e[r])}}]),t}();o.SuperMap.TopologyValidatorJobsParameter=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BuffersAnalystJobsParameter=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=r(0),i=r(1),a=r(2),s=r(3);var u=t.BuffersAnalystJobsParameter=function(){function t(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.datasetName="",this.bounds="",this.distance="",this.distanceField="",this.distanceUnit=a.AnalystSizeUnit.METER,this.dissolveField="",this.output=null,!e)return this;i.Util.extend(this,e),this.CLASS_NAME="SuperMap.BuffersAnalystJobsParameter"}return n(t,[{key:"destroy",value:function(){this.datasetName=null,this.bounds=null,this.distance=null,this.distanceField=null,this.distanceUnit=null,this.dissolveField=null,this.output instanceof s.OutputSetting&&(this.output.destroy(),this.output=null)}}],[{key:"toObject",value:function(e,t){for(var r in e)"datasetName"!==r?"output"!==r?(t.analyst=t.analyst||{},t.analyst[r]="bounds"===r?e[r].toBBOX():e[r]):(t.output=t.output||{},t.output=e[r]):(t.input=t.input||{},t.input[r]=e[r])}}]),t}();o.SuperMap.BuffersAnalystJobsParameter=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OverlayGeoJobParameter=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=r(0),i=r(1),a=r(3);var s=t.OverlayGeoJobParameter=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e&&(this.datasetName="",this.datasetOverlay="",this.mode="",this.srcFields="",this.overlayFields="",this.output=null,i.Util.extend(this,e),this.CLASS_NAME="SuperMap.OverlayGeoJobParameter")}return n(t,[{key:"destroy",value:function(){this.datasetName=null,this.datasetOverlay=null,this.mode=null,this.srcFields=null,this.overlayFields=null,this.output instanceof a.OutputSetting&&(this.output.destroy(),this.output=null)}}],[{key:"toObject",value:function(e,t){for(var r in e)"datasetName"!=r?"output"!==r?(t.analyst=t.analyst||{},t.analyst[r]=e[r]):(t.output=t.output||{},t.output=e[r]):(t.input=t.input||{},t.input[r]=e[r])}}]),t}();o.SuperMap.OverlayGeoJobParameter=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SummaryRegionJobParameter=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=r(0),i=r(1),a=r(2),s=r(3);var u=t.SummaryRegionJobParameter=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e&&(this.datasetName="",this.regionDataset="",this.sumShape=!0,this.query="",this.standardSummaryFields=!1,this.standardFields="",this.standardStatisticModes="",this.weightedSummaryFields=!1,this.weightedFields="",this.weightedStatisticModes="",this.meshType=0,this.resolution=100,this.meshSizeUnit=a.AnalystSizeUnit.METER,this.type=a.SummaryType.SUMMARYMESH,this.output=null,i.Util.extend(this,e),this.CLASS_NAME="SuperMap.SummaryRegionJobParameter")}return n(t,[{key:"destroy",value:function(){this.datasetName=null,this.sumShape=null,this.regionDataset=null,this.query=null,this.standardSummaryFields=null,this.standardFields=null,this.standardStatisticModes=null,this.weightedSummaryFields=null,this.weightedFields=null,this.weightedStatisticModes=null,this.meshType=null,this.resolution=null,this.meshSizeUnit=null,this.type=null,this.output instanceof s.OutputSetting&&(this.output.destroy(),this.output=null)}}],[{key:"toObject",value:function(e,t){for(var r in e)"datasetName"!==r?"type"!==r&&"type"!==r?"output"!==r?("SUMMARYREGION"===e.type||"SUMMARYMESH"===e.type&&"regionDataset"!==r)&&(t.analyst=t.analyst||{},t.analyst[r]="query"===r?e[r].toBBOX():e[r]):(t.output=t.output||{},t.output=e[r]):t.type=e[r]:(t.input=t.input||{},t.input[r]=e[r])}}]),t}();o.SuperMap.SummaryRegionJobParameter=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SummaryMeshJobParameter=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=r(0),i=r(1),a=r(2),s=r(3);var u=t.SummaryMeshJobParameter=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e&&(this.datasetName="",this.regionDataset="",this.query="",this.resolution=100,this.meshType=0,this.statisticModes=a.StatisticAnalystMode.AVERAGE,this.fields="",this.type=a.SummaryType.SUMMARYMESH,this.output=null,i.Util.extend(this,e),this.CLASS_NAME="SuperMap.SummaryMeshJobParameter")}return n(t,[{key:"destroy",value:function(){this.datasetName=null,this.query=null,this.resolution=null,this.statisticModes=null,this.meshType=null,this.fields=null,this.regionDataset=null,this.type=null,this.output instanceof s.OutputSetting&&(this.output.destroy(),this.output=null)}}],[{key:"toObject",value:function(e,t){for(var r in e)"datasetName"!==r?"type"!==r?"output"!==r?("SUMMARYMESH"===e.type&&"regionDataset"!==r||"SUMMARYREGION"===e.type&&!n(["meshType","resolution","query"],r))&&(t.analyst=t.analyst||{},t.analyst[r]="query"===r?e[r].toBBOX():e[r]):(t.output=t.output||{},t.output=e[r]):t.type=e[r]:(t.input=t.input||{},t.input[r]=e[r]);function n(e,t){for(var r=e.length;r--;)if(e[r]===t)return!0;return!1}}}]),t}();o.SuperMap.SummaryMeshJobParameter=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SummaryAttributesJobsParameter=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=r(0),i=r(1),a=r(3);var s=t.SummaryAttributesJobsParameter=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e&&(this.datasetName="",this.groupField="",this.attributeField="",this.statisticModes="",this.output=null,i.Util.extend(this,e),this.CLASS_NAME="SuperMap.SummaryAttributesJobsParameter")}return n(t,[{key:"destroy",value:function(){this.datasetName=null,this.groupField=null,this.attributeField=null,this.statisticModes=null,this.output instanceof a.OutputSetting&&(this.output.destroy(),this.output=null)}}],[{key:"toObject",value:function(e,t){for(var r in e)"datasetName"!==r?"output"!==r?(t.analyst=t.analyst||{},t.analyst[r]=e[r]):(t.output=t.output||{},t.output=e[r]):(t.input=t.input||{},t.input[r]=e[r])}}]),t}();o.SuperMap.SummaryAttributesJobsParameter=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SingleObjectQueryJobsParameter=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=r(0),i=r(1),a=r(2),s=r(3);var u=t.SingleObjectQueryJobsParameter=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e&&(this.datasetName="",this.datasetQuery="",this.geometryQuery="",this.mode=a.SpatialQueryMode.CONTAIN,this.output=null,i.Util.extend(this,e),this.CLASS_NAME="SuperMap.SingleObjectQueryJobsParameter")}return n(t,[{key:"destroy",value:function(){this.datasetName=null,this.datasetQuery=null,this.geometryQuery=null,this.mode=null,this.output instanceof s.OutputSetting&&(this.output.destroy(),this.output=null)}}],[{key:"toObject",value:function(e,t){for(var r in e)"datasetName"!==r?"output"!==r?(t.analyst=t.analyst||{},t.analyst[r]=e[r]):(t.output=t.output||{},t.output=e[r]):(t.input=t.input||{},t.input[r]=e[r])}}]),t}();o.SuperMap.SingleObjectQueryJobsParameter=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelDensityJobParameter=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=r(0),i=r(1),a=r(2),s=r(3);var u=t.KernelDensityJobParameter=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e&&(this.datasetName="",this.query="",this.resolution=80,this.method=0,this.meshType=0,this.fields="",this.radius=300,this.meshSizeUnit=a.AnalystSizeUnit.METER,this.radiusUnit=a.AnalystSizeUnit.METER,this.areaUnit=a.AnalystAreaUnit.SQUAREMILE,this.output=null,i.Util.extend(this,e),this.CLASS_NAME="SuperMap.KernelDensityJobParameter")}return n(t,[{key:"destroy",value:function(){this.datasetName=null,this.query=null,this.resolution=null,this.method=null,this.radius=null,this.meshType=null,this.fields=null,this.meshSizeUnit=null,this.radiusUnit=null,this.areaUnit=null,this.output instanceof s.OutputSetting&&(this.output.destroy(),this.output=null)}}],[{key:"toObject",value:function(e,t){for(var r in e)"datasetName"!==r?"output"!==r?(t.analyst=t.analyst||{},t.analyst[r]="query"===r?e[r].toBBOX():e[r]):(t.output=t.output||{},t.output=e[r]):(t.input=t.input||{},t.input[r]=e[r])}}]),t}();o.SuperMap.KernelDensityJobParameter=u},function(e,t,r){"use strict";var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":o(window))&&(n=window)}e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Events=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=r(0),i=r(54),u=r(53),l=r(9),p=r(1);var s=t.Events=function(){function s(e,t,r,n,o){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.BROWSER_EVENTS=["mouseover","mouseout","mousedown","mouseup","mousemove","click","dblclick","rightclick","dblrightclick","resize","focus","blur","touchstart","touchmove","touchend","keydown","MSPointerDown","MSPointerUp","pointerdown","pointerup","MSGestureStart","MSGestureChange","MSGestureEnd","contextmenu"],this.listeners={},this.object=e,this.element=null,this.eventTypes=[],this.eventHandler=null,this.fallThrough=n,this.includeXY=!1,this.extensions={},this.extensionCount={},this.clearMouseListener=null,p.Util.extend(this,o),null!=r)for(var i=0,a=r.length;i<a;i++)this.addEventType(r[i]);null!=t&&this.attachToElement(t),this.CLASS_NAME="SuperMap.Events"}return n(s,[{key:"destroy",value:function(){for(var e in this.extensions)"boolean"!=typeof this.extensions[e]&&this.extensions[e].destroy();this.extensions=null,this.element&&(u.Event.stopObservingElement(this.element),this.element.hasScrollEvent&&u.Event.stopObserving(window,"scroll",this.clearMouseListener)),this.element=null,this.listeners=null,this.object=null,this.eventTypes=null,this.fallThrough=null,this.eventHandler=null}},{key:"addEventType",value:function(e){this.listeners[e]||(this.eventTypes.push(e),this.listeners[e]=[])}},{key:"attachToElement",value:function(e){this.element?u.Event.stopObservingElement(this.element):(this.eventHandler=l.FunctionExt.bindAsEventListener(this.handleBrowserEvent,this),this.clearMouseListener=l.FunctionExt.bind(this.clearMouseCache,this)),this.element=e;for(var t=0,r=this.BROWSER_EVENTS.length;t<r;t++){var n=this.BROWSER_EVENTS[t];this.addEventType(n),u.Event.observe(e,n,this.eventHandler)}u.Event.observe(e,"dragstart",u.Event.stop)}},{key:"on",value:function(e){for(var t in e)"scope"!==t&&e.hasOwnProperty(t)&&this.register(t,e.scope,e[t])}},{key:"register",value:function(e,t,r,n){if(e in s&&!this.extensions[e]&&(this.extensions[e]=new s[e](this)),null!=r&&-1!==p.Util.indexOf(this.eventTypes,e)){null==t&&(t=this.object);var o=this.listeners[e];o||(o=[],this.listeners[e]=o,this.extensionCount[e]=0);var i={obj:t,func:r};n?(o.splice(this.extensionCount[e],0,i),"object"===(void 0===n?"undefined":a(n))&&n.extension&&this.extensionCount[e]++):o.push(i)}}},{key:"registerPriority",value:function(e,t,r){this.register(e,t,r,!0)}},{key:"un",value:function(e){for(var t in e)"scope"!==t&&e.hasOwnProperty(t)&&this.unregister(t,e.scope,e[t])}},{key:"unregister",value:function(e,t,r){null==t&&(t=this.object);var n=this.listeners[e];if(null!=n)for(var o=0,i=n.length;o<i;o++)if(n[o].obj===t&&n[o].func===r){n.splice(o,1);break}}},{key:"remove",value:function(e){null!=this.listeners[e]&&(this.listeners[e]=[])}},{key:"triggerEvent",value:function(e,t){var r=this.listeners[e];if(r&&0!=r.length){var n;null==t&&(t={}),t.object=this.object,t.element=this.element,t.type||(t.type=e);for(var o=0,i=(r=r.slice()).length;o<i;o++){var a=r[o];if(null!=(n=a.func.apply(a.obj,[t]))&&0==n)break}return this.fallThrough||u.Event.stop(t,!0),n}}},{key:"handleBrowserEvent",value:function(e){var t=e.type,r=this.listeners[t];if(r&&0!=r.length){var n=e.touches;if(n&&n[0]){for(var o,i=0,a=0,s=n.length,u=0;u<s;++u)i+=(o=n[u]).clientX,a+=o.clientY;e.clientX=i/s,e.clientY=a/s}this.includeXY&&(e.xy=this.getMousePosition(e)),this.triggerEvent(t,e)}}},{key:"clearMouseCache",value:function(){this.element.scrolls=null,this.element.lefttop=null;var e=document.body;e&&(0==e.scrollTop&&0==e.scrollLeft||!navigator.userAgent.match(/iPhone/i))&&(this.element.offsets=null)}},{key:"getMousePosition",value:function(e){if(this.includeXY?this.element.hasScrollEvent||(u.Event.observe(window,"scroll",this.clearMouseListener),this.element.hasScrollEvent=!0):this.clearMouseCache(),!this.element.scrolls){var t=p.Util.getViewportElement();this.element.scrolls=[t.scrollLeft,t.scrollTop]}return this.element.lefttop||(this.element.lefttop=[document.documentElement.clientLeft||0,document.documentElement.clientTop||0]),this.element.offsets||(this.element.offsets=p.Util.pagePosition(this.element)),new i.Pixel(e.clientX+this.element.scrolls[0]-this.element.offsets[0]-this.element.lefttop[0],e.clientY+this.element.scrolls[1]-this.element.offsets[1]-this.element.lefttop[1])}}]),s}();o.SuperMap.Events=s,o.SuperMap.Events.prototype.BROWSER_EVENTS=["mouseover","mouseout","mousedown","mouseup","mousemove","click","dblclick","rightclick","dblrightclick","resize","focus","blur","touchstart","touchmove","touchend","keydown","MSPointerDown","MSPointerUp","pointerdown","pointerup","MSGestureStart","MSGestureChange","MSGestureEnd","contextmenu"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SummaryAttributesJobsService=void 0;var o=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},n=r(0),a=r(4),s=r(18);var u=t.SummaryAttributesJobsService=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.url+="/spatialanalyst/summaryattributes",r.CLASS_NAME="SuperMap.SummaryAttributesJobsService",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.ProcessingServiceBase),o(n,[{key:"destroy",value:function(){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"getSummaryAttributesJobs",value:function(){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getJobs",this).call(this,this.url)}},{key:"getSummaryAttributesJob",value:function(e){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addSummaryAttributesJob",value:function(e,t){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"addJob",this).call(this,this.url,e,s.SummaryAttributesJobsParameter,t)}}]),n}();n.SuperMap.SummaryAttributesJobsService=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TopologyValidatorJobsService=void 0;var o=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},n=r(0),a=r(4),s=r(13);var u=t.TopologyValidatorJobsService=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.url+="/spatialanalyst/topologyvalidator",r.CLASS_NAME="SuperMap.TopologyValidatorJobsService",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.ProcessingServiceBase),o(n,[{key:"destroy",value:function(){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"getTopologyValidatorJobs",value:function(){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getJobs",this).call(this,this.url)}},{key:"getTopologyValidatorJob",value:function(e){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addTopologyValidatorJob",value:function(e,t){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"addJob",this).call(this,this.url,e,s.TopologyValidatorJobsParameter,t)}}]),n}();n.SuperMap.TopologyValidatorJobsService=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BuffersAnalystJobsService=void 0;var o=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},n=r(0),a=r(4),s=r(14);var u=t.BuffersAnalystJobsService=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.url+="/spatialanalyst/buffers",r.CLASS_NAME="SuperMap.BuffersAnalystJobsService",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.ProcessingServiceBase),o(n,[{key:"destroy",value:function(){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"getBuffersJobs",value:function(){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getJobs",this).call(this,this.url)}},{key:"getBuffersJob",value:function(e){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addBuffersJob",value:function(e,t){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"addJob",this).call(this,this.url,e,s.BuffersAnalystJobsParameter,t)}}]),n}();n.SuperMap.BuffersAnalystJobsService=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OverlayGeoJobsService=void 0;var o=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},n=r(0),a=r(4),s=r(15);var u=t.OverlayGeoJobsService=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.url+="/spatialanalyst/overlay",r.CLASS_NAME="SuperMap.OverlayGeoJobsService",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.ProcessingServiceBase),o(n,[{key:"destroy",value:function(){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"getOverlayGeoJobs",value:function(){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getJobs",this).call(this,this.url)}},{key:"getOverlayGeoJob",value:function(e){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addOverlayGeoJob",value:function(e,t){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"addJob",this).call(this,this.url,e,s.OverlayGeoJobParameter,t)}}]),n}();n.SuperMap.OverlayGeoJobsService=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VectorClipJobsParameter=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=r(0),i=r(1),a=r(2),s=r(3);var u=t.VectorClipJobsParameter=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=e||{},this.datasetName="",this.datasetVectorClip="",this.geometryClip="",this.mode=a.ClipAnalystMode.CLIP,this.output=null,i.Util.extend(this,e),this.CLASS_NAME="SuperMap.VectorClipJobsParameter"}return n(t,[{key:"destroy",value:function(){this.datasetName=null,this.datasetVectorClip=null,this.geometryClip=null,this.mode=null,this.output instanceof s.OutputSetting&&(this.output.destroy(),this.output=null)}}],[{key:"toObject",value:function(e,t){for(var r in e)"datasetName"!==r?"output"!==r?(t.analyst=t.analyst||{},t.analyst[r]=e[r]):(t.output=t.output||{},t.output=e[r]):(t.input=t.input||{},t.input[r]=e[r])}}]),t}();o.SuperMap.VectorClipJobsParameter=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VectorClipJobsService=void 0;var o=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},n=r(0),a=r(4),s=r(27);var u=t.VectorClipJobsService=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.url+="/spatialanalyst/vectorclip",r.CLASS_NAME="SuperMap.VectorClipJobsService",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.ProcessingServiceBase),o(n,[{key:"destroy",value:function(){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"getVectorClipJobs",value:function(){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getJobs",this).call(this,this.url)}},{key:"getVectorClipJob",value:function(e){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addVectorClipJob",value:function(e,t){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"addJob",this).call(this,this.url,e,s.VectorClipJobsParameter,t)}}]),n}();n.SuperMap.VectorClipJobsService=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SummaryRegionJobsService=void 0;var o=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},n=r(0),a=r(4),s=r(16);var u=t.SummaryRegionJobsService=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.url+="/spatialanalyst/summaryregion",r.CLASS_NAME="SuperMap.SummaryRegionJobsService",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.ProcessingServiceBase),o(n,[{key:"destroy",value:function(){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"getSummaryRegionJobs",value:function(){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getJobs",this).call(this,this.url)}},{key:"getSummaryRegionJob",value:function(e){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addSummaryRegionJob",value:function(e,t){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"addJob",this).call(this,this.url,e,s.SummaryRegionJobParameter,t)}}]),n}();n.SuperMap.SummaryRegionJobsService=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SummaryMeshJobsService=void 0;var o=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},n=r(0),a=r(4),s=r(17);var u=t.SummaryMeshJobsService=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.url+="/spatialanalyst/aggregatepoints",r.CLASS_NAME="SuperMap.SummaryMeshJobsService",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.ProcessingServiceBase),o(n,[{key:"destroy",value:function(){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"getSummaryMeshJobs",value:function(){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getJobs",this).call(this,this.url)}},{key:"getSummaryMeshJob",value:function(e){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addSummaryMeshJob",value:function(e,t){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"addJob",this).call(this,this.url,e,s.SummaryMeshJobParameter,t)}}]),n}();n.SuperMap.SummaryMeshJobsService=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SingleObjectQueryJobsService=void 0;var o=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},n=r(0),a=r(4),s=r(19);var u=t.SingleObjectQueryJobsService=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.url+="/spatialanalyst/query",r.CLASS_NAME="SuperMap.SingleObjectQueryJobsService",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.ProcessingServiceBase),o(n,[{key:"destroy",value:function(){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"getQueryJobs",value:function(){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getJobs",this).call(this,this.url)}},{key:"getQueryJob",value:function(e){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addQueryJob",value:function(e,t){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"addJob",this).call(this,this.url,e,s.SingleObjectQueryJobsParameter,t)}}]),n}();n.SuperMap.SingleObjectQueryJobsService=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelDensityJobsService=void 0;var o=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},n=r(0),a=r(4),s=r(20);var u=t.KernelDensityJobsService=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.url+="/spatialanalyst/density",r.CLASS_NAME="SuperMap.KernelDensityJobsService",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.ProcessingServiceBase),o(n,[{key:"destroy",value:function(){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"getKernelDensityJobs",value:function(){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getJobs",this).call(this,this.url)}},{key:"getKernelDensityJob",value:function(e){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addKernelDensityJob",value:function(e,t){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"addJob",this).call(this,this.url,e,s.KernelDensityJobParameter,t)}}]),n}();n.SuperMap.KernelDensityJobsService=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessingService=void 0;var o=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),n=r(5),i=r(2),a=r(6),s=r(32),u=r(31),l=r(30),p=r(29),c=r(28),f=r(26),y=r(25),h=r(24),d=r(23);var v=t.ProcessingService=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.kernelDensityJobs={},r.summaryMeshJobs={},r.queryJobs={},r.summaryRegionJobs={},r.vectorClipJobs={},r.overlayGeoJobs={},r.buffersJobs={},r.topologyValidatorJobs={},r.summaryAttributesJobs={},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.CommonServiceBase),o(n,[{key:"getKernelDensityJobs",value:function(e,t){var r=this,n=r._processFormat(t);new s.KernelDensityJobsService(r.url,{proxy:r.proxy,withCredentials:r.withCredentials,serverType:r.serverType,eventListeners:{scope:r,processCompleted:e,processFailed:e},format:n}).getKernelDensityJobs()}},{key:"getKernelDensityJob",value:function(e,t,r){var n=this,o=n._processFormat(r);new s.KernelDensityJobsService(n.url,{proxy:n.proxy,withCredentials:n.withCredentials,serverType:n.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t},format:o}).getKernelDensityJob(e)}},{key:"addKernelDensityJob",value:function(e,t,r,n){var o=this,i=o._processFormat(n);new s.KernelDensityJobsService(o.url,{proxy:o.proxy,withCredentials:o.withCredentials,eventListeners:{scope:o,processCompleted:t,processFailed:t,processRunning:function(e){o.kernelDensityJobs[e.id]=e.state}},format:i}).addKernelDensityJob(e,r)}},{key:"getKernelDensityJobState",value:function(e){return this.kernelDensityJobs[e]}},{key:"getSummaryMeshJobs",value:function(e,t){var r=this,n=r._processFormat(t);new l.SummaryMeshJobsService(r.url,{proxy:r.proxy,withCredentials:r.withCredentials,serverType:r.serverType,eventListeners:{scope:r,processCompleted:e,processFailed:e},format:n}).getSummaryMeshJobs()}},{key:"getSummaryMeshJob",value:function(e,t,r){var n=this,o=n._processFormat(r);new l.SummaryMeshJobsService(n.url,{proxy:n.proxy,withCredentials:n.withCredentials,serverType:n.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t},format:o}).getSummaryMeshJob(e)}},{key:"addSummaryMeshJob",value:function(e,t,r,n){var o=this,i=o._processFormat(n);new l.SummaryMeshJobsService(o.url,{proxy:o.proxy,withCredentials:o.withCredentials,eventListeners:{scope:o,processCompleted:t,processFailed:t,processRunning:function(e){o.summaryMeshJobs[e.id]=e.state}},format:i}).addSummaryMeshJob(e,r)}},{key:"getSummaryMeshJobState",value:function(e){return this.summaryMeshJobs[e]}},{key:"getQueryJobs",value:function(e,t){var r=this,n=r._processFormat(t);new u.SingleObjectQueryJobsService(r.url,{proxy:r.proxy,withCredentials:r.withCredentials,serverType:r.serverType,eventListeners:{scope:r,processCompleted:e,processFailed:e},format:n}).getQueryJobs()}},{key:"getQueryJob",value:function(e,t,r){var n=this,o=n._processFormat(r);new u.SingleObjectQueryJobsService(n.url,{proxy:n.proxy,withCredentials:n.withCredentials,serverType:n.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t},format:o}).getQueryJob(e)}},{key:"addQueryJob",value:function(e,t,r,n){var o=this,i=o._processParams(e),a=o._processFormat(n);new u.SingleObjectQueryJobsService(o.url,{proxy:o.proxy,withCredentials:o.withCredentials,eventListeners:{scope:o,processCompleted:t,processFailed:t,processRunning:function(e){o.queryJobs[e.id]=e.state}},format:a}).addQueryJob(i,r)}},{key:"getQueryJobState",value:function(e){return this.queryJobs[e]}},{key:"getSummaryRegionJobs",value:function(e,t){var r=this,n=r._processFormat(t);new p.SummaryRegionJobsService(r.url,{proxy:r.proxy,withCredentials:r.withCredentials,serverType:r.serverType,eventListeners:{scope:r,processCompleted:e,processFailed:e},format:n}).getSummaryRegionJobs()}},{key:"getSummaryRegionJob",value:function(e,t,r){var n=this,o=n._processFormat(r);new p.SummaryRegionJobsService(n.url,{proxy:n.proxy,withCredentials:n.withCredentials,serverType:n.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t},format:o}).getSummaryRegionJob(e)}},{key:"addSummaryRegionJob",value:function(e,t,r,n){var o=this,i=o._processFormat(n);new p.SummaryRegionJobsService(o.url,{proxy:o.proxy,withCredentials:o.withCredentials,eventListeners:{scope:o,processCompleted:t,processFailed:t,processRunning:function(e){o.summaryRegionJobs[e.id]=e.state}},format:i}).addSummaryRegionJob(e,r)}},{key:"getSummaryRegionJobState",value:function(e){return this.summaryRegionJobs[e]}},{key:"getVectorClipJobs",value:function(e,t){var r=this,n=r._processFormat(t);new c.VectorClipJobsService(r.url,{proxy:r.proxy,withCredentials:r.withCredentials,serverType:r.serverType,eventListeners:{scope:r,processCompleted:e,processFailed:e},format:n}).getVectorClipJobs()}},{key:"getVectorClipJob",value:function(e,t,r){var n=this,o=n._processFormat(r);new c.VectorClipJobsService(n.url,{proxy:n.proxy,withCredentials:n.withCredentials,serverType:n.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t},format:o}).getVectorClipJob(e)}},{key:"addVectorClipJob",value:function(e,t,r,n){var o=this,i=o._processParams(e),a=o._processFormat(n);new c.VectorClipJobsService(o.url,{proxy:o.proxy,withCredentials:o.withCredentials,serverType:o.serverType,eventListeners:{scope:o,processCompleted:t,processFailed:t,processRunning:function(e){o.vectorClipJobs[e.id]=e.state}},format:a}).addVectorClipJob(i,r)}},{key:"getVectorClipJobState",value:function(e){return this.vectorClipJobs[e]}},{key:"getOverlayGeoJobs",value:function(e,t){var r=this,n=r._processFormat(t);new f.OverlayGeoJobsService(r.url,{proxy:r.proxy,withCredentials:r.withCredentials,serverType:r.serverType,eventListeners:{scope:r,processCompleted:e,processFailed:e},format:n}).getOverlayGeoJobs()}},{key:"getOverlayGeoJob",value:function(e,t,r){var n=this,o=n._processFormat(r);new f.OverlayGeoJobsService(n.url,{proxy:n.proxy,withCredentials:n.withCredentials,serverType:n.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t},format:o}).getOverlayGeoJob(e)}},{key:"addOverlayGeoJob",value:function(e,t,r,n){var o=this,i=o._processFormat(n);new f.OverlayGeoJobsService(o.url,{proxy:o.proxy,withCredentials:o.withCredentials,serverType:o.serverType,eventListeners:{scope:o,processCompleted:t,processFailed:t,processRunning:function(e){o.overlayGeoJobs[e.id]=e.state}},format:i}).addOverlayGeoJob(e,r)}},{key:"getoverlayGeoJobState",value:function(e){return this.overlayGeoJobs[e]}},{key:"getBuffersJobs",value:function(e,t){var r=this,n=r._processFormat(t);new y.BuffersAnalystJobsService(r.url,{proxy:r.proxy,withCredentials:r.withCredentials,serverType:r.serverType,eventListeners:{scope:r,processCompleted:e,processFailed:e},format:n}).getBuffersJobs()}},{key:"getBuffersJob",value:function(e,t,r){var n=this,o=n._processFormat(r);new y.BuffersAnalystJobsService(n.url,{proxy:n.proxy,withCredentials:n.withCredentials,serverType:n.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t},format:o}).getBuffersJob(e)}},{key:"addBuffersJob",value:function(e,t,r,n){var o=this,i=o._processFormat(n);new y.BuffersAnalystJobsService(o.url,{proxy:o.proxy,withCredentials:o.withCredentials,serverType:o.serverType,eventListeners:{scope:o,processCompleted:t,processFailed:t,processRunning:function(e){o.buffersJobs[e.id]=e.state}},format:i}).addBuffersJob(e,r)}},{key:"getBuffersJobState",value:function(e){return this.buffersJobs[e]}},{key:"getTopologyValidatorJobs",value:function(e,t){var r=this,n=r._processFormat(t);new h.TopologyValidatorJobsService(r.url,{proxy:r.proxy,withCredentials:r.withCredentials,serverType:r.serverType,eventListeners:{scope:r,processCompleted:e,processFailed:e},format:n}).getTopologyValidatorJobs()}},{key:"getTopologyValidatorJob",value:function(e,t,r){var n=this,o=n._processFormat(r);new h.TopologyValidatorJobsService(n.url,{proxy:n.proxy,withCredentials:n.withCredentials,serverType:n.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t},format:o}).getTopologyValidatorJob(e)}},{key:"addTopologyValidatorJob",value:function(e,t,r,n){var o=this,i=o._processFormat(n);new h.TopologyValidatorJobsService(o.url,{proxy:o.proxy,withCredentials:o.withCredentials,serverType:o.serverType,eventListeners:{scope:o,processCompleted:t,processFailed:t,processRunning:function(e){o.topologyValidatorJobs[e.id]=e.state}},format:i}).addTopologyValidatorJob(e,r)}},{key:"getTopologyValidatorJobState",value:function(e){return this.topologyValidatorJobs[e]}},{key:"getSummaryAttributesJobs",value:function(e,t){var r=this,n=r._processFormat(t);new d.SummaryAttributesJobsService(r.url,{proxy:r.proxy,withCredentials:r.withCredentials,serverType:r.serverType,eventListeners:{scope:r,processCompleted:e,processFailed:e},format:n}).getSummaryAttributesJobs()}},{key:"getSummaryAttributesJob",value:function(e,t,r){var n=this,o=n._processFormat(r);new d.SummaryAttributesJobsService(n.url,{proxy:n.proxy,withCredentials:n.withCredentials,serverType:n.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t},format:o}).getSummaryAttributesJob(e)}},{key:"addSummaryAttributesJob",value:function(e,t,r,n){var o=this,i=o._processFormat(n);new d.SummaryAttributesJobsService(o.url,{proxy:o.proxy,withCredentials:o.withCredentials,serverType:o.serverType,eventListeners:{scope:o,processCompleted:t,processFailed:t,processRunning:function(e){o.summaryAttributesJobs[e.id]=e.state}},format:i}).addSummaryAttributesJob(e,r)}},{key:"getSummaryAttributesJobState",value:function(e){return this.summaryAttributesJobs[e]}},{key:"_processFormat",value:function(e){return e||i.DataFormat.GEOJSON}},{key:"_processParams",value:function(e){return e?(e.geometryQuery&&(e.geometryQuery=this._convertPatams(e.geometryQuery)),e.geometryClip&&(e.geometryClip=this._convertPatams(e.geometryClip)),e):{}}},{key:"_convertPatams",value:function(e){var t={};if(e.length<1)t="";else{for(var r=[],n=0;n<e.length;n++){var o={};o.x=e[n].x,o.y=e[n].y,r.push(o)}t.type="REGION",t.points=r}return t}}]),n}();n.SuperMap.REST.ProcessingService=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressMatchService=void 0;var o=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},n=r(0),a=r(6),s=r(7),u=r(12),l=r(11);var p=t.AddressMatchService=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.CLASS_NAME="SuperMap.AddressMatchService",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.CommonServiceBase),o(n,[{key:"destroy",value:function(){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"code",value:function(e,t){t instanceof u.GeoCodingParameter&&this.processAsync(e,t)}},{key:"decode",value:function(e,t){t instanceof l.GeoDecodingParameter&&this.processAsync(e,t)}},{key:"processAsync",value:function(e,t){var r=this;s.FetchRequest.get(e,t,{proxy:r.proxy}).then(function(e){return e.json()}).then(function(e){e?r.serviceProcessCompleted(e):r.serviceProcessFailed(e)}).catch(function(e){r.eventListeners.processFailed({error:e})})}},{key:"serviceProcessCompleted",value:function(e){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"serviceProcessCompleted",this).call(this,e)}},{key:"serviceProcessFailed",value:function(e){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"serviceProcessFailed",this).call(this,e)}}]),n}();n.SuperMap.AddressMatchService=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Format=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=r(0),i=r(1);var a=t.Format=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=null,this.keepData=!1,i.Util.extend(this,e),this.options=e,this.CLASS_NAME="SuperMap.Format"}return n(t,[{key:"destroy",value:function(){}},{key:"read",value:function(e){}},{key:"write",value:function(e){}}]),t}();o.SuperMap.Format=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSONFormat=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=r(0),a=r(35);var s=t.JSONFormat=function(e){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.indent="    ",t.space=" ",t.newline="\n",t.level=0,t.pretty=!1,t.nativeJSON=!(!window.JSON||"function"!=typeof JSON.parse||"function"!=typeof JSON.stringify),t.CLASS_NAME="SuperMap.Format.JSON",t.serialize={object:function(e){if(null==e)return"null";if(e.constructor===Date)return this.serialize.date.apply(this,[e]);if(e.constructor===Array)return this.serialize.array.apply(this,[e]);var t,r,n,o=["{"];this.level+=1;var i=!1;for(t in e)e.hasOwnProperty(t)&&(r=this.write.apply(this,[t,this.pretty]),n=this.write.apply(this,[e[t],this.pretty]),null!=r&&null!=n&&(i&&o.push(","),o.push(this.writeNewline(),this.writeIndent(),r,":",this.writeSpace(),n),i=!0));return this.level-=1,o.push(this.writeNewline(),this.writeIndent(),"}"),o.join("")},array:function(e){var t,r=["["];this.level+=1;for(var n=0,o=e.length;n<o;++n)null!=(t=this.write.apply(this,[e[n],this.pretty]))&&(0<n&&r.push(","),r.push(this.writeNewline(),this.writeIndent(),t));return this.level-=1,r.push(this.writeNewline(),this.writeIndent(),"]"),r.join("")},string:function(e){var n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return/["\\\x00-\x1f]/.test(e)?'"'+e.replace(/([\x00-\x1f\\"])/g,function(e,t){var r=n[t];return r||(r=t.charCodeAt(),"\\u00"+Math.floor(r/16).toString(16)+(r%16).toString(16))})+'"':'"'+e+'"'},number:function(e){return isFinite(e)?String(e):"null"},boolean:function(e){return String(e)},date:function(e){function t(e){return e<10?"0"+e:e}return'"'+e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+"T"+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())+'"'}},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,a.Format),n(r,[{key:"read",value:function(e,t){var r;if(this.nativeJSON)try{r=JSON.parse(e,t)}catch(e){}return this.keepData&&(this.data=r),r}},{key:"write",value:function(e,t){this.pretty=!!t;var r=null,n=void 0===e?"undefined":o(e);if(this.serialize[n])try{r=!this.pretty&&this.nativeJSON?JSON.stringify(e):this.serialize[n].apply(this,[e])}catch(e){}return r}},{key:"writeIndent",value:function(){var e=[];if(this.pretty)for(var t=0;t<this.level;++t)e.push(this.indent);return e.join("")}},{key:"writeNewline",value:function(){return this.pretty?this.newline:""}},{key:"writeSpace",value:function(){return this.pretty?this.space:""}}]),r}();i.SuperMap.Format.JSON=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Credential=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=r(0);var i=t.Credential=function(){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.value=e||"",this.name=t||"token",this.CLASS_NAME="SuperMap.Credential"}return n(r,[{key:"getUrlParameters",value:function(){return this.name+"="+this.value}},{key:"getValue",value:function(){return this.value}},{key:"destroy",value:function(){this.value=null,this.name=null}}]),r}();i.CREDENTIAL=null,o.SuperMap.Credential=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressMatchService=void 0;var o=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),n=r(5),i=r(6),a=r(34);var s=t.AddressMatchService=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.CLASS_NAME="SuperMap.REST.AddressMatchService",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.CommonServiceBase),o(n,[{key:"code",value:function(e,t){var r=this;new a.AddressMatchService(r.url,{proxy:r.proxy,withCredentials:r.withCredentials,serverType:r.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t}}).code(r.url+"/geocoding",e)}},{key:"decode",value:function(e,t){var r=this;new a.AddressMatchService(r.url,{proxy:r.proxy,withCredentials:r.withCredentials,serverType:r.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t}}).decode(r.url+"/geodecoding",e)}}]),n}();n.SuperMap.REST.AddressMatchService=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(38);Object.defineProperty(t,"AddressMatchService",{enumerable:!0,get:function(){return n.AddressMatchService}});var o=r(33);Object.defineProperty(t,"ProcessingService",{enumerable:!0,get:function(){return o.ProcessingService}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10);Object.defineProperty(t,"MapVRenderer",{enumerable:!0,get:function(){return n.MapVRenderer}})},function(e,t){e.exports=function(){try{return mapv}catch(e){return{}}}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapVLayer=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},s=r(5),i=r(10);function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=t.MapVLayer=function(e){function a(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=u(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));if(r.dataSet=null,r.options=null,r.supported=!1,r.canvas=null,r.canvasContext=null,t&&s.SuperMap.Util.extend(r,t),r.canvas=document.createElement("canvas"),!r.canvas.getContext)return u(r);r.supported=!0,r.canvas.style.position="absolute",r.canvas.style.top="0px",r.canvas.style.left="0px",r.div.appendChild(r.canvas);var n=r.options&&r.options.context||"2d";r.canvasContext=r.canvas.getContext(n);var o="undefined"==typeof window?{}:window,i=r.devicePixelRatio=o.devicePixelRatio;return"2d"==r.options.context&&r.canvasContext.scale(i,i),r.attribution="Â© 2017 ç¾åº¦ <a href='http://mapv.baidu.com' target='_blank'>MapV</a> with <span>Â© <a target='_blank' href='http://iclient.supermap.io' style='color: #08c;text-decoration: none;'>SuperMap iClient</a></span>",r.CLASS_NAME="SuperMap.Layer.MapVLayer",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,s.SuperMap.Layer),n(a,[{key:"destroy",value:function(){this.dataSet=null,this.options=null,this.renderer=null,this.supported=null,this.canvas=null,this.canvasContext=null,this.maxWidth=null,this.maxHeight=null,o(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"destroy",this).call(this)}},{key:"addData",value:function(e,t){this.renderer&&this.renderer.addData(e,t)}},{key:"setData",value:function(e,t){this.renderer&&this.renderer.setData(e,t)}},{key:"getData",value:function(){return this.renderer&&(this.dataSet=this.renderer.getData()),this.dataSet}},{key:"removeData",value:function(e){this.renderer&&this.renderer.removeData(e)}},{key:"clearData",value:function(){this.renderer.clearData()}},{key:"setMap",value:function(e){o(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"setMap",this).call(this,e),this.renderer=new i.MapVRenderer(e,this,this.dataSet,this.options),this.supported?this.redraw():this.map.removeLayer(this)}},{key:"moveTo",value:function(e,t,r){if(o(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"moveTo",this).call(this,e,t,r),this.supported){if(this.zoomChanged=t,!r){this.div.style.visibility="hidden",this.div.style.left=-parseInt(this.map.layerContainerDiv.style.left)+"px",this.div.style.top=-parseInt(this.map.layerContainerDiv.style.top)+"px";var n=this.map.getSize();this.div.style.width=parseInt(n.w)+"px",this.div.style.height=parseInt(n.h)+"px",this.canvas.width=parseInt(n.w),this.canvas.height=parseInt(n.h),this.canvas.style.width=this.div.style.width,this.canvas.style.height=this.div.style.height,this.maxWidth=n.w,this.maxHeight=n.h,this.div.style.visibility="",t||this.renderer&&this.renderer.render()}t&&this.renderer&&this.renderer.render()}}},{key:"transferToMapLatLng",value:function(e){var t="EPSG:4326",r=this.map.getUnits()||"degree";return-1<["m","meter"].indexOf(r.toLowerCase())&&(t="EPSG:3857"),new s.SuperMap.LonLat(e.lon,e.lat).transform("EPSG:4326",t)}}]),a}();s.SuperMap.Layer.MapVLayer=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(42);Object.defineProperty(t,"MapVLayer",{enumerable:!0,get:function(){return n.MapVLayer}});var o=r(40);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DatasourceConnectionInfo=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=r(0),i=r(1);r(2);var a=t.DatasourceConnectionInfo=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.alias=null,this.connect=null,this.dataBase=null,this.driver=null,this.engineType=null,this.exclusive=null,this.OpenLinkTable=null,this.password=null,this.readOnly=null,this.server=null,this.user=null,e&&i.Util.extend(this,e),this.CLASS_NAME="SuperMap.DatasourceConnectionInfo"}return n(t,[{key:"destroy",value:function(){var e=this;e.alias=null,e.connect=null,e.dataBase=null,e.driver=null,e.engineType=null,e.exclusive=null,e.OpenLinkTable=null,e.password=null,e.readOnly=null,e.server=null,e.user=null}}]),t}();o.SuperMap.DatasourceConnectionInfo=a},function(e,t,r){"use strict";var n,o,i;o=[t,e],void 0===(i="function"==typeof(n=function(e,t){var r={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function c(t){try{delete window[t]}catch(e){window[t]=void 0}}function f(e){var t=document.getElementById(e);document.getElementsByTagName("head")[0].removeChild(t)}t.exports=function(i){var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=i,u=a.timeout||r.timeout,l=a.jsonpCallback||r.jsonpCallback,p=void 0;return new Promise(function(t,e){var r=a.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),n=l+"_"+r;window[r]=function(e){t({ok:!0,json:function(){return Promise.resolve(e)}}),p&&clearTimeout(p),f(n),c(r)},s+=-1===s.indexOf("?")?"?":"&";var o=document.createElement("script");o.setAttribute("src",""+s+l+"="+r),o.id=n,document.getElementsByTagName("head")[0].appendChild(o),p=setTimeout(function(){e(new Error("JSONP request to "+i+" timed out")),c(r),f(n)},u)})}})?n.apply(t,o):n)||(e.exports=i)},function(h,e,t){"use strict";!function(e){if(e.__disableNativeFetch||!e.fetch){l.prototype.append=function(e,t){e=n(e),t=a(t);var r=this.map[e];r||(r=[],this.map[e]=r),r.push(t)},l.prototype.delete=function(e){delete this.map[n(e)]},l.prototype.get=function(e){var t=this.map[n(e)];return t?t[0]:null},l.prototype.getAll=function(e){return this.map[n(e)]||[]},l.prototype.has=function(e){return this.map.hasOwnProperty(n(e))},l.prototype.set=function(e,t){this.map[n(e)]=[a(t)]},l.prototype.forEach=function(r,n){Object.getOwnPropertyNames(this.map).forEach(function(t){this.map[t].forEach(function(e){r.call(n,e,t,this)},this)},this)};var o={blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e},i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];c.prototype.clone=function(){return new c(this)},s.call(c.prototype),s.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var r=[301,302,303,307,308];y.redirect=function(e,t){if(-1===r.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=l,e.Request=c,e.Response=y,e.fetch=function(r,n){return new Promise(function(i,a){var e;e=c.prototype.isPrototypeOf(r)&&!n?r:new c(r,n);var s=new XMLHttpRequest;var u=!1;function t(){if(4===s.readyState){var e=1223===s.status?204:s.status;if(e<100||599<e){if(u)return;return u=!0,void a(new TypeError("Network request failed"))}var t,o,r={status:e,statusText:s.statusText,headers:(t=s,o=new l,t.getAllResponseHeaders().trim().split("\n").forEach(function(e){var t=e.trim().split(":"),r=t.shift().trim(),n=t.join(":").trim();o.append(r,n)}),o),url:"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0},n="response"in s?s.response:s.responseText;u||(u=!0,i(new y(n,r)))}}s.onreadystatechange=t,s.onload=t,s.onerror=function(){u||(u=!0,a(new TypeError("Network request failed")))},s.open(e.method,e.url,!0);try{"include"===e.credentials&&("withCredentials"in s?s.withCredentials=!0:console&&console.warn&&console.warn("withCredentials is not supported, you can ignore this warning"))}catch(e){console&&console.warn&&console.warn("set withCredentials error:"+e)}"responseType"in s&&o.blob&&(s.responseType="blob"),e.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),s.send(void 0===e._bodyInit?null:e._bodyInit)})},e.fetch.polyfill=!0,void 0!==h&&h.exports&&(h.exports=e.fetch)}function n(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function a(e){return"string"!=typeof e&&(e=String(e)),e}function l(t){this.map={},t instanceof l?t.forEach(function(e,t){this.append(t,e)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function u(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(r){return new Promise(function(e,t){r.onload=function(){e(r.result)},r.onerror=function(){t(r.error)}})}function t(e){var t=new FileReader;return t.readAsArrayBuffer(e),p(t)}function s(){return this.bodyUsed=!1,this._initBody=function(e,t){if("string"==typeof(this._bodyInit=e))this._bodyText=e;else if(o.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e,this._options=t;else if(o.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(e){if(!o.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText=""},o.blob?(this.blob=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(t)},this.text=function(){var e,t,r,n,o,i,a,s=u(this);if(s)return s;if(this._bodyBlob)return e=this._bodyBlob,t=this._options,r=new FileReader,n=t.headers.map["content-type"]?t.headers.map["content-type"].toString():"",o=/charset\=[0-9a-zA-Z\-\_]*;?/,i=e.type.match(o)||n.match(o),a=[e],i&&a.push(i[0].replace(/^charset\=/,"").replace(/;$/,"")),r.readAsText.apply(r,a),p(r);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=u(this);return e||Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(e,t){var r,n,o=(t=t||{}).body;if(c.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,o||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),-1<i.indexOf(n)?n:r),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o,t)}function f(e){var o=new FormData;return e.trim().split("&").forEach(function(e){if(e){var t=e.split("="),r=t.shift().replace(/\+/g," "),n=t.join("=").replace(/\+/g," ");o.append(decodeURIComponent(r),decodeURIComponent(n))}}),o}function y(e,t){t||(t={}),this._initBody(e,t),this.type="default",this.status=t.status,this.ok=200<=this.status&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof l?t.headers:new l(t.headers),this.url=t.url||""}}("undefined"!=typeof self?self:void 0)},function(e,t,r){"use strict";var n,o,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var l,p=[],c=!1,f=-1;function y(){c&&l&&(c=!1,l.length?p=l.concat(p):f=-1,p.length&&h())}function h(){if(!c){var e=u(y);c=!0;for(var t=p.length;t;){for(l=p,p=[];++f<t;)l&&l[f].run();f=-1,t=p.length}l=null,c=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];p.push(new d(e,t)),1!==p.length||c||u(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";(function(e,h){!function(r,n){if(!r.setImmediate){var o,i,t,a,e,s=1,u={},l=!1,p=r.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(r);c=c&&c.setTimeout?c:r,"[object process]"==={}.toString.call(r.process)?o=function(e){h.nextTick(function(){y(e)})}:!function(){if(r.postMessage&&!r.importScripts){var e=!0,t=r.onmessage;return r.onmessage=function(){e=!1},r.postMessage("","*"),r.onmessage=t,e}}()?r.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){y(e.data)},o=function(e){t.port2.postMessage(e)}):p&&"onreadystatechange"in p.createElement("script")?(i=p.documentElement,o=function(e){var t=p.createElement("script");t.onreadystatechange=function(){y(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):o=function(e){setTimeout(y,0,e)}:(a="setImmediate$"+Math.random()+"$",e=function(e){e.source===r&&"string"==typeof e.data&&0===e.data.indexOf(a)&&y(+e.data.slice(a.length))},r.addEventListener?r.addEventListener("message",e,!1):r.attachEvent("onmessage",e),o=function(e){r.postMessage(a+e,"*")}),c.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return u[s]=n,o(s),s++},c.clearImmediate=f}function f(e){delete u[e]}function y(e){if(l)setTimeout(y,0,e);else{var t=u[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{f(e),l=!1}}}}}("undefined"==typeof self?void 0===e?void 0:e:self)}).call(this,r(21),r(47))},function(e,o,i){"use strict";(function(e){var t=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function n(e,t){this._id=e,this._clearFn=t}o.setTimeout=function(){return new n(r.call(setTimeout,t,arguments),clearTimeout)},o.setInterval=function(){return new n(r.call(setInterval,t,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(t,this._id)},o.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},o.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},o._unrefActive=o.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i(48),o.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||void 0,o.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||void 0}).call(this,i(21))},function(f,e,t){"use strict";(function(r){var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var t=setTimeout;function n(){}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function o(r,n){for(;3===r._state;)r=r._value;0!==r._state?(r._handled=!0,i._immediateFn(function(){var e=1===r._state?n.onFulfilled:n.onRejected;if(null!==e){var t;try{t=e(r._value)}catch(e){return void s(n.promise,e)}a(n.promise,t)}else(1===r._state?a:s)(n.promise,r._value)})):r._deferreds.push(n)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===(void 0===e?"undefined":c(e))||"function"==typeof e)){var r=e.then;if(e instanceof i)return t._state=3,t._value=e,void u(t);if("function"==typeof r)return void p((n=r,o=e,function(){n.apply(o,arguments)}),t)}t._state=1,t._value=e,u(t)}catch(e){s(t,e)}var n,o}function s(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,r=e._deferreds.length;t<r;t++)o(e,e._deferreds[t]);e._deferreds=null}function l(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function p(e,t){var r=!1;try{e(function(e){r||(r=!0,a(t,e))},function(e){r||(r=!0,s(t,e))})}catch(e){if(r)return;r=!0,s(t,e)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var r=new this.constructor(n);return o(this,new l(e,t,r)),r},i.all=function(t){return new i(function(n,o){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(t);if(0===i.length)return n([]);var a=i.length;function s(t,e){try{if(e&&("object"===(void 0===e?"undefined":c(e))||"function"==typeof e)){var r=e.then;if("function"==typeof r)return void r.call(e,function(e){s(t,e)},o)}i[t]=e,0==--a&&n(i)}catch(e){o(e)}}for(var e=0;e<i.length;e++)s(e,i[e])})},i.resolve=function(t){return t&&"object"===(void 0===t?"undefined":c(t))&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(r){return new i(function(e,t){t(r)})},i.race=function(o){return new i(function(e,t){for(var r=0,n=o.length;r<n;r++)o[r].then(e,t)})},i._immediateFn="function"==typeof r&&function(e){r(e)}||function(e){t(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==f&&f.exports?f.exports=i:e.Promise||(e.Promise=i)}(void 0)}).call(this,t(49).setImmediate)},function(e,t,r){"use strict";var n,o=r(50),i=(n=o)&&n.__esModule?n:{default:n};window.Promise=i.default},function(e,t){e.exports=function(){try{return elasticsearch}catch(e){return{}}}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0;var p=r(0),c=r(1),n=t.Event=p.SuperMap.Event={observers:!1,KEY_SPACE:32,KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,element:function(e){return e.target||e.srcElement},isSingleTouch:function(e){return e.touches&&1===e.touches.length},isMultiTouch:function(e){return e.touches&&1<e.touches.length},isLeftClick:function(e){return e.which&&1===e.which||e.button&&1===e.button},isRightClick:function(e){return e.which&&3===e.which||e.button&&2===e.button},stop:function(e,t){t||(e.preventDefault?e.preventDefault():e.returnValue=!1),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},findElement:function(e,t){for(var r=p.SuperMap.Event.element(e);r.parentNode&&(!r.tagName||r.tagName.toUpperCase()!=t.toUpperCase());)r=r.parentNode;return r},observe:function(e,t,r,n){var o=c.Util.getElement(e);if(n=n||!1,"keypress"===t&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||o.attachEvent)&&(t="keydown"),this.observers||(this.observers={}),!o._eventCacheID){var i="eventCacheID_";o.id&&(i=o.id+"_"+i),o._eventCacheID=c.Util.createUniqueID(i)}var a=o._eventCacheID;this.observers[a]||(this.observers[a]=[]),this.observers[a].push({element:o,name:t,observer:r,useCapture:n}),o.addEventListener?o.addEventListener(t,r,n):o.attachEvent&&o.attachEvent("on"+t,r)},stopObservingElement:function(e){var t=c.Util.getElement(e)._eventCacheID;this._removeElementObservers(p.SuperMap.Event.observers[t])},_removeElementObservers:function(e){if(e)for(var t=e.length-1;0<=t;t--){var r=e[t],n=new Array(r.element,r.name,r.observer,r.useCapture);p.SuperMap.Event.stopObserving.apply(this,n)}},stopObserving:function(e,t,r,n){n=n||!1;var o=c.Util.getElement(e),i=o._eventCacheID;"keypress"===t&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||o.detachEvent)&&(t="keydown");var a=!1,s=p.SuperMap.Event.observers[i];if(s)for(var u=0;!a&&u<s.length;){var l=s[u];if(l.name===t&&l.observer===r&&l.useCapture===n){s.splice(u,1),0==s.length&&delete p.SuperMap.Event.observers[i],a=!0;break}u++}return a&&(o.removeEventListener?o.removeEventListener(t,r,n):o&&o.detachEvent&&o.detachEvent("on"+t,r)),a},unloadCache:function(){if(p.SuperMap.Event&&p.SuperMap.Event.observers){for(var e in p.SuperMap.Event.observers){var t=p.SuperMap.Event.observers[e];p.SuperMap.Event._removeElementObservers.apply(this,[t])}p.SuperMap.Event.observers=!1}},CLASS_NAME:"SuperMap.Event"};p.SuperMap.Event=n,p.SuperMap.Event.observe(window,"unload",p.SuperMap.Event.unloadCache,!1)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pixel=void 0;var o=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),n=r(0);var i=t.Pixel=function(){function n(e,t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.x=e?parseFloat(e):0,this.y=t?parseFloat(t):0,this.mode=r,this.CLASS_NAME="SuperMap.Pixel",n.Mode={LeftTop:"lefttop",RightTop:"righttop",RightBottom:"rightbottom",LeftBottom:"leftbottom"}}return o(n,[{key:"toString",value:function(){return"x="+this.x+",y="+this.y}},{key:"clone",value:function(){return new n(this.x,this.y,this.mode)}},{key:"equals",value:function(e){var t=!1;return null!=e&&(t=this.x==e.x&&this.y==e.y||isNaN(this.x)&&isNaN(this.y)&&isNaN(e.x)&&isNaN(e.y)),t}},{key:"distanceTo",value:function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}},{key:"add",value:function(e,t){if(null==e||null==t)throw new TypeError("Pixel.add cannot receive null values");return new n(this.x+e,this.y+t)}},{key:"offset",value:function(e){var t=this.clone();return e&&(t=this.add(e.x,e.y)),t}},{key:"destroy",value:function(){this.x=null,this.y=null,this.mode=null}}]),n}();n.SuperMap.Pixel=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ElasticSearch=void 0;var n,o=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=r(0),a=r(22),s=r(52),u=(n=s)&&n.__esModule?n:{default:n},l=r(1);var p=t.ElasticSearch=function(){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=t||{},this.url=e,this.client=new u.default.Client({host:this.url}),this.change=null,this.openGeoFence=!1,this.outOfGeoFence=null,this.geoFence=null,this.EVENT_TYPES=["change","error","outOfGeoFence"],this.events=new a.Events(this,null,this.EVENT_TYPES),this.eventListeners=null,l.Util.extend(this,t),this.eventListeners instanceof Object&&this.events.on(this.eventListeners)}return o(r,[{key:"setGeoFence",value:function(e){this.geoFence=e}},{key:"bulk",value:function(e,t){return this.client.bulk(e,t)}},{key:"clearScroll",value:function(e,t){return this.client.clearScroll(e,t)}},{key:"count",value:function(e,t){return this.client.count(e,t)}},{key:"create",value:function(e,t){return this.client.create(e,t)}},{key:"delete",value:function(e,t){return this.client.delete(e,t)}},{key:"deleteByQuery",value:function(e,t){return this.client.deleteByQuery(e,t)}},{key:"deleteScript",value:function(e,t){return this.client.deleteScript(e,t)}},{key:"deleteTemplate",value:function(e,t){return this.client.deleteTemplate(e,t)}},{key:"exists",value:function(e,t){return this.client.exists(e,t)}},{key:"existsSource",value:function(e,t){return this.client.existsSource(e,t)}},{key:"explain",value:function(e,t){return this.client.explain(e,t)}},{key:"fieldCaps",value:function(e,t){return this.client.fieldCaps(e,t)}},{key:"get",value:function(e,t){return this.client.get(e,t)}},{key:"getScript",value:function(e,t){return this.client.getScript(e,t)}},{key:"getSource",value:function(e,t){return this.client.getSource(e,t)}},{key:"getTemplate",value:function(e,t){return this.client.getTemplate(e,t)}},{key:"index",value:function(e,t){return this.client.index(e,t)}},{key:"info",value:function(e,t){return this.client.info(e,t)}},{key:"mget",value:function(e,t){return this.client.mget(e,t)}},{key:"msearch",value:function(e,t){var r=this;return r.client.msearch(e).then(function(e){return r._update(e.responses,t),e},function(e){return t(e),r.events.triggerEvent("error",{error:e}),e})}},{key:"msearchTemplate",value:function(e,t){return this.client.msearchTemplate(e,t)}},{key:"mtermvectors",value:function(e,t){return this.client.mtermvectors(e,t)}},{key:"ping",value:function(e,t){return this.client.ping(e,t)}},{key:"putScript",value:function(e,t){return this.client.putScript(e,t)}},{key:"putTemplate",value:function(e,t){return this.client.putTemplate(e,t)}},{key:"reindex",value:function(e,t){return this.client.reindex(e,t)}},{key:"reindexRessrottle",value:function(e,t){return this.client.reindexRessrottle(e,t)}},{key:"renderSearchTemplate",value:function(e,t){return this.client.renderSearchTemplate(e,t)}},{key:"scroll",value:function(e,t){return this.client.scroll(e,t)}},{key:"search",value:function(e,t){var r=this;return r.client.search(e).then(function(e){return r._update(e.responses,t),e},function(e){return t(e),r.events.triggerEvent("error",{error:e}),e})}},{key:"searchShards",value:function(e,t){return this.client.searchShards(e,t)}},{key:"searchTemplate",value:function(e,t){return this.client.searchTemplate(e,t)}},{key:"suggest",value:function(e,t){return this.client.suggest(e,t)}},{key:"termvectors",value:function(e,t){return this.client.termvectors(e,t)}},{key:"update",value:function(e,t){return this.client.update(e,t)}},{key:"updateByQuery",value:function(e,t){return this.client.updateByQuery(e,t)}},{key:"_update",value:function(e,t){var r=this;e&&(r.data=e,r.openGeoFence&&r.geoFence&&r._validateDatas(e),r.events.triggerEvent("change",{data:r.data}),r.change?r.change&&r.change(e):t&&t(void 0,{responses:e}))}},{key:"_validateDatas",value:function(e){if(e){e instanceof Array||(e=[e]);var t,r=e.length;for(t=0;t<r;t++)this._validateData(e[t])}}},{key:"_validateData",value:function(u){var l=this;u.hits.hits.map(function(e){var t=e._source,r=l._getMeterPerMapUnit(l.geoFence.unit),n=l.geoFence.center[0]*r,o=l.geoFence.center[1]*r,i=t.x*r,a=t.y*r,s=l._distance(i,a,n,o);return l.geoFence.radius<s&&(l.outOfGeoFence&&l.outOfGeoFence(u),l.events.triggerEvent("outOfGeoFence",{data:u})),e})}},{key:"_distance",value:function(e,t,r,n){return Math.sqrt((e-r)*(e-r)+(t-n)*(t-n))}},{key:"_getMeterPerMapUnit",value:function(e){var t=void 0;return"meter"===e?t=1:"degree"===e&&(t=2*Math.PI*6378137/360),t}}]),r}();i.SuperMap.ElasticSearch=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(55);Object.defineProperty(t,"ElasticSearch",{enumerable:!0,get:function(){return n.ElasticSearch}});var o=r(8);Object.defineProperty(t,"SecurityManager",{enumerable:!0,get:function(){return o.SecurityManager}});var i=r(20);Object.defineProperty(t,"KernelDensityJobParameter",{enumerable:!0,get:function(){return i.KernelDensityJobParameter}});var a=r(19);Object.defineProperty(t,"SingleObjectQueryJobsParameter",{enumerable:!0,get:function(){return a.SingleObjectQueryJobsParameter}});var s=r(18);Object.defineProperty(t,"SummaryAttributesJobsParameter",{enumerable:!0,get:function(){return s.SummaryAttributesJobsParameter}});var u=r(17);Object.defineProperty(t,"SummaryMeshJobParameter",{enumerable:!0,get:function(){return u.SummaryMeshJobParameter}});var l=r(16);Object.defineProperty(t,"SummaryRegionJobParameter",{enumerable:!0,get:function(){return l.SummaryRegionJobParameter}});var p=r(15);Object.defineProperty(t,"OverlayGeoJobParameter",{enumerable:!0,get:function(){return p.OverlayGeoJobParameter}});var c=r(14);Object.defineProperty(t,"BuffersAnalystJobsParameter",{enumerable:!0,get:function(){return c.BuffersAnalystJobsParameter}});var f=r(13);Object.defineProperty(t,"TopologyValidatorJobsParameter",{enumerable:!0,get:function(){return f.TopologyValidatorJobsParameter}});var y=r(3);Object.defineProperty(t,"OutputSetting",{enumerable:!0,get:function(){return y.OutputSetting}});var h=r(12);Object.defineProperty(t,"GeoCodingParameter",{enumerable:!0,get:function(){return h.GeoCodingParameter}});var d=r(11);Object.defineProperty(t,"GeoDecodingParameter",{enumerable:!0,get:function(){return d.GeoDecodingParameter}});var v=r(43);Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}})});var m=r(39);Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}})});var S=r(5);Object.defineProperty(t,"SuperMap",{enumerable:!0,get:function(){return S.SuperMap}})}]);