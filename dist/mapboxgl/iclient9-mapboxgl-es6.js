/*!
 * 
 *          iclient9-mapboxgl.(http://iclient.supermap.io)
 *          CopyrightÂ© 2000 - 2018 SuperMap Software Co.Ltd
 *          license: Apache-2.0
 *          version: v9.1.0-beta
 *         
 */
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 13);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

module.exports = mapboxgl;

/***/ }),
/* 1 */
/***/ (function(module, exports) {

module.exports = function(){try{return mapv}catch(e){return {}}}();

/***/ }),
/* 2 */
/***/ (function(module, exports) {

module.exports = function(){try{return THREE}catch(e){return {}}}();

/***/ }),
/* 3 */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || Function("return this")() || (1, eval)("this");
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */



var base64 = __webpack_require__(20)
var ieee754 = __webpack_require__(19)
var isArray = __webpack_require__(18)

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Use Object implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * Due to various browser bugs, sometimes the Object implementation will be used even
 * when the browser supports typed arrays.
 *
 * Note:
 *
 *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,
 *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.
 *
 *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.
 *
 *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of
 *     incorrect length in some situations.

 * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they
 * get the Object implementation, which is slower but behaves correctly.
 */
Buffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined
  ? global.TYPED_ARRAY_SUPPORT
  : typedArraySupport()

/*
 * Export kMaxLength after typed array support is determined.
 */
exports.kMaxLength = kMaxLength()

function typedArraySupport () {
  try {
    var arr = new Uint8Array(1)
    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}
    return arr.foo() === 42 && // typed array instances can be augmented
        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`
        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`
  } catch (e) {
    return false
  }
}

function kMaxLength () {
  return Buffer.TYPED_ARRAY_SUPPORT
    ? 0x7fffffff
    : 0x3fffffff
}

function createBuffer (that, length) {
  if (kMaxLength() < length) {
    throw new RangeError('Invalid typed array length')
  }
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = new Uint8Array(length)
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    if (that === null) {
      that = new Buffer(length)
    }
    that.length = length
  }

  return that
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {
    return new Buffer(arg, encodingOrOffset, length)
  }

  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new Error(
        'If encoding is specified then the first argument must be a string'
      )
    }
    return allocUnsafe(this, arg)
  }
  return from(this, arg, encodingOrOffset, length)
}

Buffer.poolSize = 8192 // not used by this implementation

// TODO: Legacy, not needed anymore. Remove in next major version.
Buffer._augment = function (arr) {
  arr.__proto__ = Buffer.prototype
  return arr
}

function from (that, value, encodingOrOffset, length) {
  if (typeof value === 'number') {
    throw new TypeError('"value" argument must not be a number')
  }

  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {
    return fromArrayBuffer(that, value, encodingOrOffset, length)
  }

  if (typeof value === 'string') {
    return fromString(that, value, encodingOrOffset)
  }

  return fromObject(that, value)
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(null, value, encodingOrOffset, length)
}

if (Buffer.TYPED_ARRAY_SUPPORT) {
  Buffer.prototype.__proto__ = Uint8Array.prototype
  Buffer.__proto__ = Uint8Array
  if (typeof Symbol !== 'undefined' && Symbol.species &&
      Buffer[Symbol.species] === Buffer) {
    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97
    Object.defineProperty(Buffer, Symbol.species, {
      value: null,
      configurable: true
    })
  }
}

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be a number')
  } else if (size < 0) {
    throw new RangeError('"size" argument must not be negative')
  }
}

function alloc (that, size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(that, size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpretted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(that, size).fill(fill, encoding)
      : createBuffer(that, size).fill(fill)
  }
  return createBuffer(that, size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(null, size, fill, encoding)
}

function allocUnsafe (that, size) {
  assertSize(size)
  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) {
    for (var i = 0; i < size; ++i) {
      that[i] = 0
    }
  }
  return that
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(null, size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(null, size)
}

function fromString (that, string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('"encoding" must be a valid string encoding')
  }

  var length = byteLength(string, encoding) | 0
  that = createBuffer(that, length)

  var actual = that.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    that = that.slice(0, actual)
  }

  return that
}

function fromArrayLike (that, array) {
  var length = array.length < 0 ? 0 : checked(array.length) | 0
  that = createBuffer(that, length)
  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

function fromArrayBuffer (that, array, byteOffset, length) {
  array.byteLength // this throws if `array` is not a valid ArrayBuffer

  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('\'offset\' is out of bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('\'length\' is out of bounds')
  }

  if (byteOffset === undefined && length === undefined) {
    array = new Uint8Array(array)
  } else if (length === undefined) {
    array = new Uint8Array(array, byteOffset)
  } else {
    array = new Uint8Array(array, byteOffset, length)
  }

  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = array
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    that = fromArrayLike(that, array)
  }
  return that
}

function fromObject (that, obj) {
  if (Buffer.isBuffer(obj)) {
    var len = checked(obj.length) | 0
    that = createBuffer(that, len)

    if (that.length === 0) {
      return that
    }

    obj.copy(that, 0, 0, len)
    return that
  }

  if (obj) {
    if ((typeof ArrayBuffer !== 'undefined' &&
        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {
      if (typeof obj.length !== 'number' || isnan(obj.length)) {
        return createBuffer(that, 0)
      }
      return fromArrayLike(that, obj)
    }

    if (obj.type === 'Buffer' && isArray(obj.data)) {
      return fromArrayLike(that, obj.data)
    }
  }

  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')
}

function checked (length) {
  // Note: cannot use `length < kMaxLength()` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= kMaxLength()) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + kMaxLength().toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return !!(b != null && b._isBuffer)
}

Buffer.compare = function compare (a, b) {
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError('Arguments must be Buffers')
  }

  if (a === b) return 0

  var x = a.length
  var y = b.length

  for (var i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  var i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  var buffer = Buffer.allocUnsafe(length)
  var pos = 0
  for (i = 0; i < list.length; ++i) {
    var buf = list[i]
    if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    }
    buf.copy(buffer, pos)
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&
      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    string = '' + string
  }

  var len = string.length
  if (len === 0) return 0

  // Use a for loop to avoid recursion
  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
      case undefined:
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) return utf8ToBytes(string).length // assume utf8
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  var loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect
// Buffer instances.
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  var i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  var len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (var i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  var len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (var i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  var len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (var i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  var length = this.length | 0
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  var str = ''
  var max = exports.INSPECT_MAX_BYTES
  if (this.length > 0) {
    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')
    if (this.length > max) str += ' ... '
  }
  return '<Buffer ' + str + '>'
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (!Buffer.isBuffer(target)) {
    throw new TypeError('Argument must be a Buffer')
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  var x = thisEnd - thisStart
  var y = end - start
  var len = Math.min(x, y)

  var thisCopy = this.slice(thisStart, thisEnd)
  var targetCopy = target.slice(start, end)

  for (var i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset  // Coerce to Number.
  if (isNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (Buffer.TYPED_ARRAY_SUPPORT &&
        typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  var indexSize = 1
  var arrLength = arr.length
  var valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  var i
  if (dir) {
    var foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      var found = true
      for (var j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  var remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  // must be an even number of digits
  var strLen = string.length
  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')

  if (length > strLen / 2) {
    length = strLen / 2
  }
  for (var i = 0; i < length; ++i) {
    var parsed = parseInt(string.substr(i * 2, 2), 16)
    if (isNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function latin1Write (buf, string, offset, length) {
  return asciiWrite(buf, string, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset | 0
    if (isFinite(length)) {
      length = length | 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  // legacy write(string, encoding, offset, length) - remove in v0.13
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  var remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
        return asciiWrite(this, string, offset, length)

      case 'latin1':
      case 'binary':
        return latin1Write(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  var res = []

  var i = start
  while (i < end) {
    var firstByte = buf[i]
    var codePoint = null
    var bytesPerSequence = (firstByte > 0xEF) ? 4
      : (firstByte > 0xDF) ? 3
      : (firstByte > 0xBF) ? 2
      : 1

    if (i + bytesPerSequence <= end) {
      var secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
var MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  var len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  var res = ''
  var i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  var len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  var out = ''
  for (var i = start; i < end; ++i) {
    out += toHex(buf[i])
  }
  return out
}

function utf16leSlice (buf, start, end) {
  var bytes = buf.slice(start, end)
  var res = ''
  for (var i = 0; i < bytes.length; i += 2) {
    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  var len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  var newBuf
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    newBuf = this.subarray(start, end)
    newBuf.__proto__ = Buffer.prototype
  } else {
    var sliceLen = end - start
    newBuf = new Buffer(sliceLen, undefined)
    for (var i = 0; i < sliceLen; ++i) {
      newBuf[i] = this[i + start]
    }
  }

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  var val = this[offset + --byteLength]
  var mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var i = byteLength
  var mul = 1
  var val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var mul = 1
  var i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var i = byteLength - 1
  var mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  this[offset] = (value & 0xff)
  return offset + 1
}

function objectWriteUInt16 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {
    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>
      (littleEndian ? i : 1 - i) * 8
  }
}

Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

function objectWriteUInt32 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffffffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {
    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff
  }
}

Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset + 3] = (value >>> 24)
    this[offset + 2] = (value >>> 16)
    this[offset + 1] = (value >>> 8)
    this[offset] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = 0
  var mul = 1
  var sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = byteLength - 1
  var mul = 1
  var sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
    this[offset + 2] = (value >>> 16)
    this[offset + 3] = (value >>> 24)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  var len = end - start
  var i

  if (this === target && start < targetStart && targetStart < end) {
    // descending copy from end
    for (i = len - 1; i >= 0; --i) {
      target[i + targetStart] = this[i + start]
    }
  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {
    // ascending copy from start
    for (i = 0; i < len; ++i) {
      target[i + targetStart] = this[i + start]
    }
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, start + len),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (val.length === 1) {
      var code = val.charCodeAt(0)
      if (code < 256) {
        val = code
      }
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
  } else if (typeof val === 'number') {
    val = val & 255
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  var i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    var bytes = Buffer.isBuffer(val)
      ? val
      : utf8ToBytes(new Buffer(val, encoding).toString())
    var len = bytes.length
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// HELPER FUNCTIONS
// ================

var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = stringtrim(str).replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function stringtrim (str) {
  if (str.trim) return str.trim()
  return str.replace(/^\s+|\s+$/g, '')
}

function toHex (n) {
  if (n < 16) return '0' + n.toString(16)
  return n.toString(16)
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  var codePoint
  var length = string.length
  var leadSurrogate = null
  var bytes = []

  for (var i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  var c, hi, lo
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  for (var i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

function isnan (val) {
  return val !== val // eslint-disable-line no-self-compare
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global, Buffer, process) {/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */
/* vim: set ts=2: */
/*exported XLSX */
/*global global, exports, module, require:false, process:false, Buffer:false, ArrayBuffer:false */
var XLSX = {};
function make_xlsx_lib(XLSX){
XLSX.version = '0.13.3';
var current_codepage = 1200, current_ansi = 1252;
/*global cptable:true, window */
if(true) {
	if(typeof cptable === 'undefined') {
		if(typeof global !== 'undefined') global.cptable = __webpack_require__(8);
		else if(typeof window !== 'undefined') window.cptable = __webpack_require__(8);
	}
}

var VALID_ANSI = [ 874, 932, 936, 949, 950 ];
for(var i = 0; i <= 8; ++i) VALID_ANSI.push(1250 + i);
/* ECMA-376 Part I 18.4.1 charset to codepage mapping */
var CS2CP = ({
0:    1252, /* ANSI */
1:   65001, /* DEFAULT */
2:   65001, /* SYMBOL */
77:  10000, /* MAC */
128:   932, /* SHIFTJIS */
129:   949, /* HANGUL */
130:  1361, /* JOHAB */
134:   936, /* GB2312 */
136:   950, /* CHINESEBIG5 */
161:  1253, /* GREEK */
162:  1254, /* TURKISH */
163:  1258, /* VIETNAMESE */
177:  1255, /* HEBREW */
178:  1256, /* ARABIC */
186:  1257, /* BALTIC */
204:  1251, /* RUSSIAN */
222:   874, /* THAI */
238:  1250, /* EASTEUROPE */
255:  1252, /* OEM */
69:   6969  /* MISC */
});

var set_ansi = function(cp) { if(VALID_ANSI.indexOf(cp) == -1) return; current_ansi = CS2CP[0] = cp; };
function reset_ansi() { set_ansi(1252); }

var set_cp = function(cp) { current_codepage = cp; set_ansi(cp); };
function reset_cp() { set_cp(1200); reset_ansi(); }

function char_codes(data) { var o = []; for(var i = 0, len = data.length; i < len; ++i) o[i] = data.charCodeAt(i); return o; }

function utf16leread(data) {
	var o = [];
	for(var i = 0; i < (data.length>>1); ++i) o[i] = String.fromCharCode(data.charCodeAt(2*i) + (data.charCodeAt(2*i+1)<<8));
	return o.join("");
}
function utf16beread(data) {
	var o = [];
	for(var i = 0; i < (data.length>>1); ++i) o[i] = String.fromCharCode(data.charCodeAt(2*i+1) + (data.charCodeAt(2*i)<<8));
	return o.join("");
}

var debom = function(data) {
	var c1 = data.charCodeAt(0), c2 = data.charCodeAt(1);
	if(c1 == 0xFF && c2 == 0xFE) return utf16leread(data.slice(2));
	if(c1 == 0xFE && c2 == 0xFF) return utf16beread(data.slice(2));
	if(c1 == 0xFEFF) return data.slice(1);
	return data;
};

var _getchar = function _gc1(x) { return String.fromCharCode(x); };
if(typeof cptable !== 'undefined') {
	set_cp = function(cp) { current_codepage = cp; };
	debom = function(data) {
		if(data.charCodeAt(0) === 0xFF && data.charCodeAt(1) === 0xFE) { return cptable.utils.decode(1200, char_codes(data.slice(2))); }
		return data;
	};
	_getchar = function _gc2(x) {
		if(current_codepage === 1200) return String.fromCharCode(x);
		return cptable.utils.decode(current_codepage, [x&255,x>>8])[0];
	};
}
var DENSE = null;
var DIF_XL = true;
var Base64 = (function make_b64(){
	var map = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
	return {
		encode: function(input) {
			var o = "";
			var c1=0, c2=0, c3=0, e1=0, e2=0, e3=0, e4=0;
			for(var i = 0; i < input.length; ) {
				c1 = input.charCodeAt(i++);
				e1 = (c1 >> 2);

				c2 = input.charCodeAt(i++);
				e2 = ((c1 & 3) << 4) | (c2 >> 4);

				c3 = input.charCodeAt(i++);
				e3 = ((c2 & 15) << 2) | (c3 >> 6);
				e4 = (c3 & 63);
				if (isNaN(c2)) { e3 = e4 = 64; }
				else if (isNaN(c3)) { e4 = 64; }
				o += map.charAt(e1) + map.charAt(e2) + map.charAt(e3) + map.charAt(e4);
			}
			return o;
		},
		decode: function b64_decode(input) {
			var o = "";
			var c1=0, c2=0, c3=0, e1=0, e2=0, e3=0, e4=0;
			input = input.replace(/[^\w\+\/\=]/g, "");
			for(var i = 0; i < input.length;) {
				e1 = map.indexOf(input.charAt(i++));
				e2 = map.indexOf(input.charAt(i++));
				c1 = (e1 << 2) | (e2 >> 4);
				o += String.fromCharCode(c1);

				e3 = map.indexOf(input.charAt(i++));
				c2 = ((e2 & 15) << 4) | (e3 >> 2);
				if (e3 !== 64) { o += String.fromCharCode(c2); }

				e4 = map.indexOf(input.charAt(i++));
				c3 = ((e3 & 3) << 6) | e4;
				if (e4 !== 64) { o += String.fromCharCode(c3); }
			}
			return o;
		}
	};
})();
var has_buf = (typeof Buffer !== 'undefined' && typeof process !== 'undefined' && typeof process.versions !== 'undefined' && process.versions.node);

var Buffer_from = function(){};

if(typeof Buffer !== 'undefined') {
	var nbfs = !Buffer.from;
	if(!nbfs) try { Buffer.from("foo", "utf8"); } catch(e) { nbfs = true; }
	Buffer_from = nbfs ? function(buf, enc) { return (enc) ? new Buffer(buf, enc) : new Buffer(buf); } : Buffer.from.bind(Buffer);
	// $FlowIgnore
	if(!Buffer.alloc) Buffer.alloc = function(n) { return new Buffer(n); };
}

function new_raw_buf(len) {
	/* jshint -W056 */
	return has_buf ? Buffer.alloc(len) : new Array(len);
	/* jshint +W056 */
}

var s2a = function s2a(s) {
	// $FlowIgnore
	if(has_buf) return Buffer_from(s, "binary");
	return s.split("").map(function(x){ return x.charCodeAt(0) & 0xff; });
};

function s2ab(s) {
	if(typeof ArrayBuffer === 'undefined') return s2a(s);
	var buf = new ArrayBuffer(s.length), view = new Uint8Array(buf);
	for (var i=0; i!=s.length; ++i) view[i] = s.charCodeAt(i) & 0xFF;
	return buf;
}

function a2s(data) {
	if(Array.isArray(data)) return data.map(_chr).join("");
	var o = []; for(var i = 0; i < data.length; ++i) o[i] = _chr(data[i]); return o.join("");
}

function a2u(data) {
	if(typeof Uint8Array === 'undefined') throw new Error("Unsupported");
	return new Uint8Array(data);
}

function ab2a(data) {
	if(typeof ArrayBuffer == 'undefined') throw new Error("Unsupported");
	if(data instanceof ArrayBuffer) return ab2a(new Uint8Array(data));
var o = new Array(data.length);
	for(var i = 0; i < data.length; ++i) o[i] = data[i];
	return o;
}

var bconcat = function(bufs) { return [].concat.apply([], bufs); };

var chr0 = /\u0000/g, chr1 = /[\u0001-\u0006]/g;
/* ssf.js (C) 2013-present SheetJS -- http://sheetjs.com */
/*jshint -W041 */
var SSF = ({});
var make_ssf = function make_ssf(SSF){
SSF.version = '0.10.2';
function _strrev(x) { var o = "", i = x.length-1; while(i>=0) o += x.charAt(i--); return o; }
function fill(c,l) { var o = ""; while(o.length < l) o+=c; return o; }
function pad0(v,d){var t=""+v; return t.length>=d?t:fill('0',d-t.length)+t;}
function pad_(v,d){var t=""+v;return t.length>=d?t:fill(' ',d-t.length)+t;}
function rpad_(v,d){var t=""+v; return t.length>=d?t:t+fill(' ',d-t.length);}
function pad0r1(v,d){var t=""+Math.round(v); return t.length>=d?t:fill('0',d-t.length)+t;}
function pad0r2(v,d){var t=""+v; return t.length>=d?t:fill('0',d-t.length)+t;}
var p2_32 = Math.pow(2,32);
function pad0r(v,d){if(v>p2_32||v<-p2_32) return pad0r1(v,d); var i = Math.round(v); return pad0r2(i,d); }
function isgeneral(s, i) { i = i || 0; return s.length >= 7 + i && (s.charCodeAt(i)|32) === 103 && (s.charCodeAt(i+1)|32) === 101 && (s.charCodeAt(i+2)|32) === 110 && (s.charCodeAt(i+3)|32) === 101 && (s.charCodeAt(i+4)|32) === 114 && (s.charCodeAt(i+5)|32) === 97 && (s.charCodeAt(i+6)|32) === 108; }
var days = [
	['Sun', 'Sunday'],
	['Mon', 'Monday'],
	['Tue', 'Tuesday'],
	['Wed', 'Wednesday'],
	['Thu', 'Thursday'],
	['Fri', 'Friday'],
	['Sat', 'Saturday']
];
var months = [
	['J', 'Jan', 'January'],
	['F', 'Feb', 'February'],
	['M', 'Mar', 'March'],
	['A', 'Apr', 'April'],
	['M', 'May', 'May'],
	['J', 'Jun', 'June'],
	['J', 'Jul', 'July'],
	['A', 'Aug', 'August'],
	['S', 'Sep', 'September'],
	['O', 'Oct', 'October'],
	['N', 'Nov', 'November'],
	['D', 'Dec', 'December']
];
function init_table(t) {
	t[0]=  'General';
	t[1]=  '0';
	t[2]=  '0.00';
	t[3]=  '#,##0';
	t[4]=  '#,##0.00';
	t[9]=  '0%';
	t[10]= '0.00%';
	t[11]= '0.00E+00';
	t[12]= '# ?/?';
	t[13]= '# ??/??';
	t[14]= 'm/d/yy';
	t[15]= 'd-mmm-yy';
	t[16]= 'd-mmm';
	t[17]= 'mmm-yy';
	t[18]= 'h:mm AM/PM';
	t[19]= 'h:mm:ss AM/PM';
	t[20]= 'h:mm';
	t[21]= 'h:mm:ss';
	t[22]= 'm/d/yy h:mm';
	t[37]= '#,##0 ;(#,##0)';
	t[38]= '#,##0 ;[Red](#,##0)';
	t[39]= '#,##0.00;(#,##0.00)';
	t[40]= '#,##0.00;[Red](#,##0.00)';
	t[45]= 'mm:ss';
	t[46]= '[h]:mm:ss';
	t[47]= 'mmss.0';
	t[48]= '##0.0E+0';
	t[49]= '@';
	t[56]= '"ä¸å/ä¸å "hh"æ"mm"å"ss"ç§ "';
	t[65535]= 'General';
}

var table_fmt = {};
init_table(table_fmt);
function frac(x, D, mixed) {
	var sgn = x < 0 ? -1 : 1;
	var B = x * sgn;
	var P_2 = 0, P_1 = 1, P = 0;
	var Q_2 = 1, Q_1 = 0, Q = 0;
	var A = Math.floor(B);
	while(Q_1 < D) {
		A = Math.floor(B);
		P = A * P_1 + P_2;
		Q = A * Q_1 + Q_2;
		if((B - A) < 0.00000005) break;
		B = 1 / (B - A);
		P_2 = P_1; P_1 = P;
		Q_2 = Q_1; Q_1 = Q;
	}
	if(Q > D) { if(Q_1 > D) { Q = Q_2; P = P_2; } else { Q = Q_1; P = P_1; } }
	if(!mixed) return [0, sgn * P, Q];
	var q = Math.floor(sgn * P/Q);
	return [q, sgn*P - q*Q, Q];
}
function parse_date_code(v,opts,b2) {
	if(v > 2958465 || v < 0) return null;
	var date = (v|0), time = Math.floor(86400 * (v - date)), dow=0;
	var dout=[];
	var out={D:date, T:time, u:86400*(v-date)-time,y:0,m:0,d:0,H:0,M:0,S:0,q:0};
	if(Math.abs(out.u) < 1e-6) out.u = 0;
	if(opts && opts.date1904) date += 1462;
	if(out.u > 0.9999) {
		out.u = 0;
		if(++time == 86400) { out.T = time = 0; ++date; ++out.D; }
	}
	if(date === 60) {dout = b2 ? [1317,10,29] : [1900,2,29]; dow=3;}
	else if(date === 0) {dout = b2 ? [1317,8,29] : [1900,1,0]; dow=6;}
	else {
		if(date > 60) --date;
		/* 1 = Jan 1 1900 in Gregorian */
		var d = new Date(1900, 0, 1);
		d.setDate(d.getDate() + date - 1);
		dout = [d.getFullYear(), d.getMonth()+1,d.getDate()];
		dow = d.getDay();
		if(date < 60) dow = (dow + 6) % 7;
		if(b2) dow = fix_hijri(d, dout);
	}
	out.y = dout[0]; out.m = dout[1]; out.d = dout[2];
	out.S = time % 60; time = Math.floor(time / 60);
	out.M = time % 60; time = Math.floor(time / 60);
	out.H = time;
	out.q = dow;
	return out;
}
SSF.parse_date_code = parse_date_code;
var basedate = new Date(1899, 11, 31, 0, 0, 0);
var dnthresh = basedate.getTime();
var base1904 = new Date(1900, 2, 1, 0, 0, 0);
function datenum_local(v, date1904) {
	var epoch = v.getTime();
	if(date1904) epoch -= 1461*24*60*60*1000;
	else if(v >= base1904) epoch += 24*60*60*1000;
	return (epoch - (dnthresh + (v.getTimezoneOffset() - basedate.getTimezoneOffset()) * 60000)) / (24 * 60 * 60 * 1000);
}
function general_fmt_int(v) { return v.toString(10); }
SSF._general_int = general_fmt_int;
var general_fmt_num = (function make_general_fmt_num() {
var gnr1 = /\.(\d*[1-9])0+$/, gnr2 = /\.0*$/, gnr4 = /\.(\d*[1-9])0+/, gnr5 = /\.0*[Ee]/, gnr6 = /(E[+-])(\d)$/;
function gfn2(v) {
	var w = (v<0?12:11);
	var o = gfn5(v.toFixed(12)); if(o.length <= w) return o;
	o = v.toPrecision(10); if(o.length <= w) return o;
	return v.toExponential(5);
}
function gfn3(v) {
	var o = v.toFixed(11).replace(gnr1,".$1");
	if(o.length > (v<0?12:11)) o = v.toPrecision(6);
	return o;
}
function gfn4(o) {
	for(var i = 0; i != o.length; ++i) if((o.charCodeAt(i) | 0x20) === 101) return o.replace(gnr4,".$1").replace(gnr5,"E").replace("e","E").replace(gnr6,"$10$2");
	return o;
}
function gfn5(o) {
	return o.indexOf(".") > -1 ? o.replace(gnr2,"").replace(gnr1,".$1") : o;
}
return function general_fmt_num(v) {
	var V = Math.floor(Math.log(Math.abs(v))*Math.LOG10E), o;
	if(V >= -4 && V <= -1) o = v.toPrecision(10+V);
	else if(Math.abs(V) <= 9) o = gfn2(v);
	else if(V === 10) o = v.toFixed(10).substr(0,12);
	else o = gfn3(v);
	return gfn5(gfn4(o));
};})();
SSF._general_num = general_fmt_num;
function general_fmt(v, opts) {
	switch(typeof v) {
		case 'string': return v;
		case 'boolean': return v ? "TRUE" : "FALSE";
		case 'number': return (v|0) === v ? general_fmt_int(v) : general_fmt_num(v);
		case 'undefined': return "";
		case 'object':
			if(v == null) return "";
			if(v instanceof Date) return format(14, datenum_local(v, opts && opts.date1904), opts);
	}
	throw new Error("unsupported value in General format: " + v);
}
SSF._general = general_fmt;
function fix_hijri() { return 0; }
/*jshint -W086 */
function write_date(type, fmt, val, ss0) {
	var o="", ss=0, tt=0, y = val.y, out, outl = 0;
	switch(type) {
		case 98: /* 'b' buddhist year */
			y = val.y + 543;
			/* falls through */
		case 121: /* 'y' year */
		switch(fmt.length) {
			case 1: case 2: out = y % 100; outl = 2; break;
			default: out = y % 10000; outl = 4; break;
		} break;
		case 109: /* 'm' month */
		switch(fmt.length) {
			case 1: case 2: out = val.m; outl = fmt.length; break;
			case 3: return months[val.m-1][1];
			case 5: return months[val.m-1][0];
			default: return months[val.m-1][2];
		} break;
		case 100: /* 'd' day */
		switch(fmt.length) {
			case 1: case 2: out = val.d; outl = fmt.length; break;
			case 3: return days[val.q][0];
			default: return days[val.q][1];
		} break;
		case 104: /* 'h' 12-hour */
		switch(fmt.length) {
			case 1: case 2: out = 1+(val.H+11)%12; outl = fmt.length; break;
			default: throw 'bad hour format: ' + fmt;
		} break;
		case 72: /* 'H' 24-hour */
		switch(fmt.length) {
			case 1: case 2: out = val.H; outl = fmt.length; break;
			default: throw 'bad hour format: ' + fmt;
		} break;
		case 77: /* 'M' minutes */
		switch(fmt.length) {
			case 1: case 2: out = val.M; outl = fmt.length; break;
			default: throw 'bad minute format: ' + fmt;
		} break;
		case 115: /* 's' seconds */
			if(fmt != 's' && fmt != 'ss' && fmt != '.0' && fmt != '.00' && fmt != '.000') throw 'bad second format: ' + fmt;
			if(val.u === 0 && (fmt == "s" || fmt == "ss")) return pad0(val.S, fmt.length);
if(ss0 >= 2) tt = ss0 === 3 ? 1000 : 100;
			else tt = ss0 === 1 ? 10 : 1;
			ss = Math.round((tt)*(val.S + val.u));
			if(ss >= 60*tt) ss = 0;
			if(fmt === 's') return ss === 0 ? "0" : ""+ss/tt;
			o = pad0(ss,2 + ss0);
			if(fmt === 'ss') return o.substr(0,2);
			return "." + o.substr(2,fmt.length-1);
		case 90: /* 'Z' absolute time */
		switch(fmt) {
			case '[h]': case '[hh]': out = val.D*24+val.H; break;
			case '[m]': case '[mm]': out = (val.D*24+val.H)*60+val.M; break;
			case '[s]': case '[ss]': out = ((val.D*24+val.H)*60+val.M)*60+Math.round(val.S+val.u); break;
			default: throw 'bad abstime format: ' + fmt;
		} outl = fmt.length === 3 ? 1 : 2; break;
		case 101: /* 'e' era */
			out = y; outl = 1;
	}
	if(outl > 0) return pad0(out, outl); else return "";
}
/*jshint +W086 */
function commaify(s) {
	var w = 3;
	if(s.length <= w) return s;
	var j = (s.length % w), o = s.substr(0,j);
	for(; j!=s.length; j+=w) o+=(o.length > 0 ? "," : "") + s.substr(j,w);
	return o;
}
var write_num = (function make_write_num(){
var pct1 = /%/g;
function write_num_pct(type, fmt, val){
	var sfmt = fmt.replace(pct1,""), mul = fmt.length - sfmt.length;
	return write_num(type, sfmt, val * Math.pow(10,2*mul)) + fill("%",mul);
}
function write_num_cm(type, fmt, val){
	var idx = fmt.length - 1;
	while(fmt.charCodeAt(idx-1) === 44) --idx;
	return write_num(type, fmt.substr(0,idx), val / Math.pow(10,3*(fmt.length-idx)));
}
function write_num_exp(fmt, val){
	var o;
	var idx = fmt.indexOf("E") - fmt.indexOf(".") - 1;
	if(fmt.match(/^#+0.0E\+0$/)) {
		if(val == 0) return "0.0E+0";
		else if(val < 0) return "-" + write_num_exp(fmt, -val);
		var period = fmt.indexOf("."); if(period === -1) period=fmt.indexOf('E');
		var ee = Math.floor(Math.log(val)*Math.LOG10E)%period;
		if(ee < 0) ee += period;
		o = (val/Math.pow(10,ee)).toPrecision(idx+1+(period+ee)%period);
		if(o.indexOf("e") === -1) {
			var fakee = Math.floor(Math.log(val)*Math.LOG10E);
			if(o.indexOf(".") === -1) o = o.charAt(0) + "." + o.substr(1) + "E+" + (fakee - o.length+ee);
			else o += "E+" + (fakee - ee);
			while(o.substr(0,2) === "0.") {
				o = o.charAt(0) + o.substr(2,period) + "." + o.substr(2+period);
				o = o.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");
			}
			o = o.replace(/\+-/,"-");
		}
		o = o.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function($$,$1,$2,$3) { return $1 + $2 + $3.substr(0,(period+ee)%period) + "." + $3.substr(ee) + "E"; });
	} else o = val.toExponential(idx);
	if(fmt.match(/E\+00$/) && o.match(/e[+-]\d$/)) o = o.substr(0,o.length-1) + "0" + o.charAt(o.length-1);
	if(fmt.match(/E\-/) && o.match(/e\+/)) o = o.replace(/e\+/,"e");
	return o.replace("e","E");
}
var frac1 = /# (\?+)( ?)\/( ?)(\d+)/;
function write_num_f1(r, aval, sign) {
	var den = parseInt(r[4],10), rr = Math.round(aval * den), base = Math.floor(rr/den);
	var myn = (rr - base*den), myd = den;
	return sign + (base === 0 ? "" : ""+base) + " " + (myn === 0 ? fill(" ", r[1].length + 1 + r[4].length) : pad_(myn,r[1].length) + r[2] + "/" + r[3] + pad0(myd,r[4].length));
}
function write_num_f2(r, aval, sign) {
	return sign + (aval === 0 ? "" : ""+aval) + fill(" ", r[1].length + 2 + r[4].length);
}
var dec1 = /^#*0*\.([0#]+)/;
var closeparen = /\).*[0#]/;
var phone = /\(###\) ###\\?-####/;
function hashq(str) {
	var o = "", cc;
	for(var i = 0; i != str.length; ++i) switch((cc=str.charCodeAt(i))) {
		case 35: break;
		case 63: o+= " "; break;
		case 48: o+= "0"; break;
		default: o+= String.fromCharCode(cc);
	}
	return o;
}
function rnd(val, d) { var dd = Math.pow(10,d); return ""+(Math.round(val * dd)/dd); }
function dec(val, d) {
	if (d < ('' + Math.round((val-Math.floor(val))*Math.pow(10,d))).length) {
		return 0;
	}
	return Math.round((val-Math.floor(val))*Math.pow(10,d));
}
function carry(val, d) {
	if (d < ('' + Math.round((val-Math.floor(val))*Math.pow(10,d))).length) {
		return 1;
	}
	return 0;
}
function flr(val) { if(val < 2147483647 && val > -2147483648) return ""+(val >= 0 ? (val|0) : (val-1|0)); return ""+Math.floor(val); }
function write_num_flt(type, fmt, val) {
	if(type.charCodeAt(0) === 40 && !fmt.match(closeparen)) {
		var ffmt = fmt.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");
		if(val >= 0) return write_num_flt('n', ffmt, val);
		return '(' + write_num_flt('n', ffmt, -val) + ')';
	}
	if(fmt.charCodeAt(fmt.length - 1) === 44) return write_num_cm(type, fmt, val);
	if(fmt.indexOf('%') !== -1) return write_num_pct(type, fmt, val);
	if(fmt.indexOf('E') !== -1) return write_num_exp(fmt, val);
	if(fmt.charCodeAt(0) === 36) return "$"+write_num_flt(type,fmt.substr(fmt.charAt(1)==' '?2:1),val);
	var o;
	var r, ri, ff, aval = Math.abs(val), sign = val < 0 ? "-" : "";
	if(fmt.match(/^00+$/)) return sign + pad0r(aval,fmt.length);
	if(fmt.match(/^[#?]+$/)) {
		o = pad0r(val,0); if(o === "0") o = "";
		return o.length > fmt.length ? o : hashq(fmt.substr(0,fmt.length-o.length)) + o;
	}
	if((r = fmt.match(frac1))) return write_num_f1(r, aval, sign);
	if(fmt.match(/^#+0+$/)) return sign + pad0r(aval,fmt.length - fmt.indexOf("0"));
	if((r = fmt.match(dec1))) {
		o = rnd(val, r[1].length).replace(/^([^\.]+)$/,"$1."+hashq(r[1])).replace(/\.$/,"."+hashq(r[1])).replace(/\.(\d*)$/,function($$, $1) { return "." + $1 + fill("0", hashq(r[1]).length-$1.length); });
		return fmt.indexOf("0.") !== -1 ? o : o.replace(/^0\./,".");
	}
	fmt = fmt.replace(/^#+([0.])/, "$1");
	if((r = fmt.match(/^(0*)\.(#*)$/))) {
		return sign + rnd(aval, r[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,r[1].length?"0.":".");
	}
	if((r = fmt.match(/^#{1,3},##0(\.?)$/))) return sign + commaify(pad0r(aval,0));
	if((r = fmt.match(/^#,##0\.([#0]*0)$/))) {
		return val < 0 ? "-" + write_num_flt(type, fmt, -val) : commaify(""+(Math.floor(val) + carry(val, r[1].length))) + "." + pad0(dec(val, r[1].length),r[1].length);
	}
	if((r = fmt.match(/^#,#*,#0/))) return write_num_flt(type,fmt.replace(/^#,#*,/,""),val);
	if((r = fmt.match(/^([0#]+)(\\?-([0#]+))+$/))) {
		o = _strrev(write_num_flt(type, fmt.replace(/[\\-]/g,""), val));
		ri = 0;
		return _strrev(_strrev(fmt.replace(/\\/g,"")).replace(/[0#]/g,function(x){return ri<o.length?o.charAt(ri++):x==='0'?'0':"";}));
	}
	if(fmt.match(phone)) {
		o = write_num_flt(type, "##########", val);
		return "(" + o.substr(0,3) + ") " + o.substr(3, 3) + "-" + o.substr(6);
	}
	var oa = "";
	if((r = fmt.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))) {
		ri = Math.min(r[4].length,7);
		ff = frac(aval, Math.pow(10,ri)-1, false);
		o = "" + sign;
		oa = write_num("n", r[1], ff[1]);
		if(oa.charAt(oa.length-1) == " ") oa = oa.substr(0,oa.length-1) + "0";
		o += oa + r[2] + "/" + r[3];
		oa = rpad_(ff[2],ri);
		if(oa.length < r[4].length) oa = hashq(r[4].substr(r[4].length-oa.length)) + oa;
		o += oa;
		return o;
	}
	if((r = fmt.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))) {
		ri = Math.min(Math.max(r[1].length, r[4].length),7);
		ff = frac(aval, Math.pow(10,ri)-1, true);
		return sign + (ff[0]||(ff[1] ? "" : "0")) + " " + (ff[1] ? pad_(ff[1],ri) + r[2] + "/" + r[3] + rpad_(ff[2],ri): fill(" ", 2*ri+1 + r[2].length + r[3].length));
	}
	if((r = fmt.match(/^[#0?]+$/))) {
		o = pad0r(val, 0);
		if(fmt.length <= o.length) return o;
		return hashq(fmt.substr(0,fmt.length-o.length)) + o;
	}
	if((r = fmt.match(/^([#0?]+)\.([#0]+)$/))) {
		o = "" + val.toFixed(Math.min(r[2].length,10)).replace(/([^0])0+$/,"$1");
		ri = o.indexOf(".");
		var lres = fmt.indexOf(".") - ri, rres = fmt.length - o.length - lres;
		return hashq(fmt.substr(0,lres) + o + fmt.substr(fmt.length-rres));
	}
	if((r = fmt.match(/^00,000\.([#0]*0)$/))) {
		ri = dec(val, r[1].length);
		return val < 0 ? "-" + write_num_flt(type, fmt, -val) : commaify(flr(val)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function($$) { return "00," + ($$.length < 3 ? pad0(0,3-$$.length) : "") + $$; }) + "." + pad0(ri,r[1].length);
	}
	switch(fmt) {
		case "###,##0.00": return write_num_flt(type, "#,##0.00", val);
		case "###,###":
		case "##,###":
		case "#,###": var x = commaify(pad0r(aval,0)); return x !== "0" ? sign + x : "";
		case "###,###.00": return write_num_flt(type, "###,##0.00",val).replace(/^0\./,".");
		case "#,###.00": return write_num_flt(type, "#,##0.00",val).replace(/^0\./,".");
		default:
	}
	throw new Error("unsupported format |" + fmt + "|");
}
function write_num_cm2(type, fmt, val){
	var idx = fmt.length - 1;
	while(fmt.charCodeAt(idx-1) === 44) --idx;
	return write_num(type, fmt.substr(0,idx), val / Math.pow(10,3*(fmt.length-idx)));
}
function write_num_pct2(type, fmt, val){
	var sfmt = fmt.replace(pct1,""), mul = fmt.length - sfmt.length;
	return write_num(type, sfmt, val * Math.pow(10,2*mul)) + fill("%",mul);
}
function write_num_exp2(fmt, val){
	var o;
	var idx = fmt.indexOf("E") - fmt.indexOf(".") - 1;
	if(fmt.match(/^#+0.0E\+0$/)) {
		if(val == 0) return "0.0E+0";
		else if(val < 0) return "-" + write_num_exp2(fmt, -val);
		var period = fmt.indexOf("."); if(period === -1) period=fmt.indexOf('E');
		var ee = Math.floor(Math.log(val)*Math.LOG10E)%period;
		if(ee < 0) ee += period;
		o = (val/Math.pow(10,ee)).toPrecision(idx+1+(period+ee)%period);
		if(!o.match(/[Ee]/)) {
			var fakee = Math.floor(Math.log(val)*Math.LOG10E);
			if(o.indexOf(".") === -1) o = o.charAt(0) + "." + o.substr(1) + "E+" + (fakee - o.length+ee);
			else o += "E+" + (fakee - ee);
			o = o.replace(/\+-/,"-");
		}
		o = o.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function($$,$1,$2,$3) { return $1 + $2 + $3.substr(0,(period+ee)%period) + "." + $3.substr(ee) + "E"; });
	} else o = val.toExponential(idx);
	if(fmt.match(/E\+00$/) && o.match(/e[+-]\d$/)) o = o.substr(0,o.length-1) + "0" + o.charAt(o.length-1);
	if(fmt.match(/E\-/) && o.match(/e\+/)) o = o.replace(/e\+/,"e");
	return o.replace("e","E");
}
function write_num_int(type, fmt, val) {
	if(type.charCodeAt(0) === 40 && !fmt.match(closeparen)) {
		var ffmt = fmt.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");
		if(val >= 0) return write_num_int('n', ffmt, val);
		return '(' + write_num_int('n', ffmt, -val) + ')';
	}
	if(fmt.charCodeAt(fmt.length - 1) === 44) return write_num_cm2(type, fmt, val);
	if(fmt.indexOf('%') !== -1) return write_num_pct2(type, fmt, val);
	if(fmt.indexOf('E') !== -1) return write_num_exp2(fmt, val);
	if(fmt.charCodeAt(0) === 36) return "$"+write_num_int(type,fmt.substr(fmt.charAt(1)==' '?2:1),val);
	var o;
	var r, ri, ff, aval = Math.abs(val), sign = val < 0 ? "-" : "";
	if(fmt.match(/^00+$/)) return sign + pad0(aval,fmt.length);
	if(fmt.match(/^[#?]+$/)) {
		o = (""+val); if(val === 0) o = "";
		return o.length > fmt.length ? o : hashq(fmt.substr(0,fmt.length-o.length)) + o;
	}
	if((r = fmt.match(frac1))) return write_num_f2(r, aval, sign);
	if(fmt.match(/^#+0+$/)) return sign + pad0(aval,fmt.length - fmt.indexOf("0"));
	if((r = fmt.match(dec1))) {
o = (""+val).replace(/^([^\.]+)$/,"$1."+hashq(r[1])).replace(/\.$/,"."+hashq(r[1]));
		o = o.replace(/\.(\d*)$/,function($$, $1) {
return "." + $1 + fill("0", hashq(r[1]).length-$1.length); });
		return fmt.indexOf("0.") !== -1 ? o : o.replace(/^0\./,".");
	}
	fmt = fmt.replace(/^#+([0.])/, "$1");
	if((r = fmt.match(/^(0*)\.(#*)$/))) {
		return sign + (""+aval).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,r[1].length?"0.":".");
	}
	if((r = fmt.match(/^#{1,3},##0(\.?)$/))) return sign + commaify((""+aval));
	if((r = fmt.match(/^#,##0\.([#0]*0)$/))) {
		return val < 0 ? "-" + write_num_int(type, fmt, -val) : commaify((""+val)) + "." + fill('0',r[1].length);
	}
	if((r = fmt.match(/^#,#*,#0/))) return write_num_int(type,fmt.replace(/^#,#*,/,""),val);
	if((r = fmt.match(/^([0#]+)(\\?-([0#]+))+$/))) {
		o = _strrev(write_num_int(type, fmt.replace(/[\\-]/g,""), val));
		ri = 0;
		return _strrev(_strrev(fmt.replace(/\\/g,"")).replace(/[0#]/g,function(x){return ri<o.length?o.charAt(ri++):x==='0'?'0':"";}));
	}
	if(fmt.match(phone)) {
		o = write_num_int(type, "##########", val);
		return "(" + o.substr(0,3) + ") " + o.substr(3, 3) + "-" + o.substr(6);
	}
	var oa = "";
	if((r = fmt.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))) {
		ri = Math.min(r[4].length,7);
		ff = frac(aval, Math.pow(10,ri)-1, false);
		o = "" + sign;
		oa = write_num("n", r[1], ff[1]);
		if(oa.charAt(oa.length-1) == " ") oa = oa.substr(0,oa.length-1) + "0";
		o += oa + r[2] + "/" + r[3];
		oa = rpad_(ff[2],ri);
		if(oa.length < r[4].length) oa = hashq(r[4].substr(r[4].length-oa.length)) + oa;
		o += oa;
		return o;
	}
	if((r = fmt.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))) {
		ri = Math.min(Math.max(r[1].length, r[4].length),7);
		ff = frac(aval, Math.pow(10,ri)-1, true);
		return sign + (ff[0]||(ff[1] ? "" : "0")) + " " + (ff[1] ? pad_(ff[1],ri) + r[2] + "/" + r[3] + rpad_(ff[2],ri): fill(" ", 2*ri+1 + r[2].length + r[3].length));
	}
	if((r = fmt.match(/^[#0?]+$/))) {
		o = "" + val;
		if(fmt.length <= o.length) return o;
		return hashq(fmt.substr(0,fmt.length-o.length)) + o;
	}
	if((r = fmt.match(/^([#0]+)\.([#0]+)$/))) {
		o = "" + val.toFixed(Math.min(r[2].length,10)).replace(/([^0])0+$/,"$1");
		ri = o.indexOf(".");
		var lres = fmt.indexOf(".") - ri, rres = fmt.length - o.length - lres;
		return hashq(fmt.substr(0,lres) + o + fmt.substr(fmt.length-rres));
	}
	if((r = fmt.match(/^00,000\.([#0]*0)$/))) {
		return val < 0 ? "-" + write_num_int(type, fmt, -val) : commaify(""+val).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function($$) { return "00," + ($$.length < 3 ? pad0(0,3-$$.length) : "") + $$; }) + "." + pad0(0,r[1].length);
	}
	switch(fmt) {
		case "###,###":
		case "##,###":
		case "#,###": var x = commaify(""+aval); return x !== "0" ? sign + x : "";
		default:
			if(fmt.match(/\.[0#?]*$/)) return write_num_int(type, fmt.slice(0,fmt.lastIndexOf(".")), val) + hashq(fmt.slice(fmt.lastIndexOf(".")));
	}
	throw new Error("unsupported format |" + fmt + "|");
}
return function write_num(type, fmt, val) {
	return (val|0) === val ? write_num_int(type, fmt, val) : write_num_flt(type, fmt, val);
};})();
function split_fmt(fmt) {
	var out = [];
	var in_str = false/*, cc*/;
	for(var i = 0, j = 0; i < fmt.length; ++i) switch((/*cc=*/fmt.charCodeAt(i))) {
		case 34: /* '"' */
			in_str = !in_str; break;
		case 95: case 42: case 92: /* '_' '*' '\\' */
			++i; break;
		case 59: /* ';' */
			out[out.length] = fmt.substr(j,i-j);
			j = i+1;
	}
	out[out.length] = fmt.substr(j);
	if(in_str === true) throw new Error("Format |" + fmt + "| unterminated string ");
	return out;
}
SSF._split = split_fmt;
var abstime = /\[[HhMmSs]*\]/;
function fmt_is_date(fmt) {
	var i = 0, /*cc = 0,*/ c = "", o = "";
	while(i < fmt.length) {
		switch((c = fmt.charAt(i))) {
			case 'G': if(isgeneral(fmt, i)) i+= 6; i++; break;
			case '"': for(;(/*cc=*/fmt.charCodeAt(++i)) !== 34 && i < fmt.length;) ++i; ++i; break;
			case '\\': i+=2; break;
			case '_': i+=2; break;
			case '@': ++i; break;
			case 'B': case 'b':
				if(fmt.charAt(i+1) === "1" || fmt.charAt(i+1) === "2") return true;
				/* falls through */
			case 'M': case 'D': case 'Y': case 'H': case 'S': case 'E':
				/* falls through */
			case 'm': case 'd': case 'y': case 'h': case 's': case 'e': case 'g': return true;
			case 'A': case 'a':
				if(fmt.substr(i, 3).toUpperCase() === "A/P") return true;
				if(fmt.substr(i, 5).toUpperCase() === "AM/PM") return true;
				++i; break;
			case '[':
				o = c;
				while(fmt.charAt(i++) !== ']' && i < fmt.length) o += fmt.charAt(i);
				if(o.match(abstime)) return true;
				break;
			case '.':
				/* falls through */
			case '0': case '#':
				while(i < fmt.length && ("0#?.,E+-%".indexOf(c=fmt.charAt(++i)) > -1 || (c=='\\' && fmt.charAt(i+1) == "-" && "0#".indexOf(fmt.charAt(i+2))>-1))){/* empty */}
				break;
			case '?': while(fmt.charAt(++i) === c){/* empty */} break;
			case '*': ++i; if(fmt.charAt(i) == ' ' || fmt.charAt(i) == '*') ++i; break;
			case '(': case ')': ++i; break;
			case '1': case '2': case '3': case '4': case '5': case '6': case '7': case '8': case '9':
				while(i < fmt.length && "0123456789".indexOf(fmt.charAt(++i)) > -1){/* empty */} break;
			case ' ': ++i; break;
			default: ++i; break;
		}
	}
	return false;
}
SSF.is_date = fmt_is_date;
function eval_fmt(fmt, v, opts, flen) {
	var out = [], o = "", i = 0, c = "", lst='t', dt, j, cc;
	var hr='H';
	/* Tokenize */
	while(i < fmt.length) {
		switch((c = fmt.charAt(i))) {
			case 'G': /* General */
				if(!isgeneral(fmt, i)) throw new Error('unrecognized character ' + c + ' in ' +fmt);
				out[out.length] = {t:'G', v:'General'}; i+=7; break;
			case '"': /* Literal text */
				for(o="";(cc=fmt.charCodeAt(++i)) !== 34 && i < fmt.length;) o += String.fromCharCode(cc);
				out[out.length] = {t:'t', v:o}; ++i; break;
			case '\\': var w = fmt.charAt(++i), t = (w === "(" || w === ")") ? w : 't';
				out[out.length] = {t:t, v:w}; ++i; break;
			case '_': out[out.length] = {t:'t', v:" "}; i+=2; break;
			case '@': /* Text Placeholder */
				out[out.length] = {t:'T', v:v}; ++i; break;
			case 'B': case 'b':
				if(fmt.charAt(i+1) === "1" || fmt.charAt(i+1) === "2") {
					if(dt==null) { dt=parse_date_code(v, opts, fmt.charAt(i+1) === "2"); if(dt==null) return ""; }
					out[out.length] = {t:'X', v:fmt.substr(i,2)}; lst = c; i+=2; break;
				}
				/* falls through */
			case 'M': case 'D': case 'Y': case 'H': case 'S': case 'E':
				c = c.toLowerCase();
				/* falls through */
			case 'm': case 'd': case 'y': case 'h': case 's': case 'e': case 'g':
				if(v < 0) return "";
				if(dt==null) { dt=parse_date_code(v, opts); if(dt==null) return ""; }
				o = c; while(++i < fmt.length && fmt.charAt(i).toLowerCase() === c) o+=c;
				if(c === 'm' && lst.toLowerCase() === 'h') c = 'M';
				if(c === 'h') c = hr;
				out[out.length] = {t:c, v:o}; lst = c; break;
			case 'A': case 'a':
				var q={t:c, v:c};
				if(dt==null) dt=parse_date_code(v, opts);
				if(fmt.substr(i, 3).toUpperCase() === "A/P") { if(dt!=null) q.v = dt.H >= 12 ? "P" : "A"; q.t = 'T'; hr='h';i+=3;}
				else if(fmt.substr(i,5).toUpperCase() === "AM/PM") { if(dt!=null) q.v = dt.H >= 12 ? "PM" : "AM"; q.t = 'T'; i+=5; hr='h'; }
				else { q.t = "t"; ++i; }
				if(dt==null && q.t === 'T') return "";
				out[out.length] = q; lst = c; break;
			case '[':
				o = c;
				while(fmt.charAt(i++) !== ']' && i < fmt.length) o += fmt.charAt(i);
				if(o.slice(-1) !== ']') throw 'unterminated "[" block: |' + o + '|';
				if(o.match(abstime)) {
					if(dt==null) { dt=parse_date_code(v, opts); if(dt==null) return ""; }
					out[out.length] = {t:'Z', v:o.toLowerCase()};
					lst = o.charAt(1);
				} else if(o.indexOf("$") > -1) {
					o = (o.match(/\$([^-\[\]]*)/)||[])[1]||"$";
					if(!fmt_is_date(fmt)) out[out.length] = {t:'t',v:o};
				}
				break;
			/* Numbers */
			case '.':
				if(dt != null) {
					o = c; while(++i < fmt.length && (c=fmt.charAt(i)) === "0") o += c;
					out[out.length] = {t:'s', v:o}; break;
				}
				/* falls through */
			case '0': case '#':
				o = c; while((++i < fmt.length && "0#?.,E+-%".indexOf(c=fmt.charAt(i)) > -1) || (c=='\\' && fmt.charAt(i+1) == "-" && i < fmt.length - 2 && "0#".indexOf(fmt.charAt(i+2))>-1)) o += c;
				out[out.length] = {t:'n', v:o}; break;
			case '?':
				o = c; while(fmt.charAt(++i) === c) o+=c;
				out[out.length] = {t:c, v:o}; lst = c; break;
			case '*': ++i; if(fmt.charAt(i) == ' ' || fmt.charAt(i) == '*') ++i; break; // **
			case '(': case ')': out[out.length] = {t:(flen===1?'t':c), v:c}; ++i; break;
			case '1': case '2': case '3': case '4': case '5': case '6': case '7': case '8': case '9':
				o = c; while(i < fmt.length && "0123456789".indexOf(fmt.charAt(++i)) > -1) o+=fmt.charAt(i);
				out[out.length] = {t:'D', v:o}; break;
			case ' ': out[out.length] = {t:c, v:c}; ++i; break;
			default:
				if(",$-+/():!^&'~{}<>=â¬acfijklopqrtuvwxzP".indexOf(c) === -1) throw new Error('unrecognized character ' + c + ' in ' + fmt);
				out[out.length] = {t:'t', v:c}; ++i; break;
		}
	}
	var bt = 0, ss0 = 0, ssm;
	for(i=out.length-1, lst='t'; i >= 0; --i) {
		switch(out[i].t) {
			case 'h': case 'H': out[i].t = hr; lst='h'; if(bt < 1) bt = 1; break;
			case 's':
				if((ssm=out[i].v.match(/\.0+$/))) ss0=Math.max(ss0,ssm[0].length-1);
				if(bt < 3) bt = 3;
			/* falls through */
			case 'd': case 'y': case 'M': case 'e': lst=out[i].t; break;
			case 'm': if(lst === 's') { out[i].t = 'M'; if(bt < 2) bt = 2; } break;
			case 'X': /*if(out[i].v === "B2");*/
				break;
			case 'Z':
				if(bt < 1 && out[i].v.match(/[Hh]/)) bt = 1;
				if(bt < 2 && out[i].v.match(/[Mm]/)) bt = 2;
				if(bt < 3 && out[i].v.match(/[Ss]/)) bt = 3;
		}
	}
	switch(bt) {
		case 0: break;
		case 1:
if(dt.u >= 0.5) { dt.u = 0; ++dt.S; }
			if(dt.S >=  60) { dt.S = 0; ++dt.M; }
			if(dt.M >=  60) { dt.M = 0; ++dt.H; }
			break;
		case 2:
if(dt.u >= 0.5) { dt.u = 0; ++dt.S; }
			if(dt.S >=  60) { dt.S = 0; ++dt.M; }
			break;
	}
	/* replace fields */
	var nstr = "", jj;
	for(i=0; i < out.length; ++i) {
		switch(out[i].t) {
			case 't': case 'T': case ' ': case 'D': break;
			case 'X': out[i].v = ""; out[i].t = ";"; break;
			case 'd': case 'm': case 'y': case 'h': case 'H': case 'M': case 's': case 'e': case 'b': case 'Z':
out[i].v = write_date(out[i].t.charCodeAt(0), out[i].v, dt, ss0);
				out[i].t = 't'; break;
			case 'n': case '(': case '?':
				jj = i+1;
				while(out[jj] != null && (
					(c=out[jj].t) === "?" || c === "D" ||
					((c === " " || c === "t") && out[jj+1] != null && (out[jj+1].t === '?' || out[jj+1].t === "t" && out[jj+1].v === '/')) ||
					(out[i].t === '(' && (c === ' ' || c === 'n' || c === ')')) ||
					(c === 't' && (out[jj].v === '/' || out[jj].v === ' ' && out[jj+1] != null && out[jj+1].t == '?'))
				)) {
					out[i].v += out[jj].v;
					out[jj] = {v:"", t:";"}; ++jj;
				}
				nstr += out[i].v;
				i = jj-1; break;
			case 'G': out[i].t = 't'; out[i].v = general_fmt(v,opts); break;
		}
	}
	var vv = "", myv, ostr;
	if(nstr.length > 0) {
		if(nstr.charCodeAt(0) == 40) /* '(' */ {
			myv = (v<0&&nstr.charCodeAt(0) === 45 ? -v : v);
			ostr = write_num('(', nstr, myv);
		} else {
			myv = (v<0 && flen > 1 ? -v : v);
			ostr = write_num('n', nstr, myv);
			if(myv < 0 && out[0] && out[0].t == 't') {
				ostr = ostr.substr(1);
				out[0].v = "-" + out[0].v;
			}
		}
		jj=ostr.length-1;
		var decpt = out.length;
		for(i=0; i < out.length; ++i) if(out[i] != null && out[i].t != 't' && out[i].v.indexOf(".") > -1) { decpt = i; break; }
		var lasti=out.length;
		if(decpt === out.length && ostr.indexOf("E") === -1) {
			for(i=out.length-1; i>= 0;--i) {
				if(out[i] == null || 'n?('.indexOf(out[i].t) === -1) continue;
				if(jj>=out[i].v.length-1) { jj -= out[i].v.length; out[i].v = ostr.substr(jj+1, out[i].v.length); }
				else if(jj < 0) out[i].v = "";
				else { out[i].v = ostr.substr(0, jj+1); jj = -1; }
				out[i].t = 't';
				lasti = i;
			}
			if(jj>=0 && lasti<out.length) out[lasti].v = ostr.substr(0,jj+1) + out[lasti].v;
		}
		else if(decpt !== out.length && ostr.indexOf("E") === -1) {
			jj = ostr.indexOf(".")-1;
			for(i=decpt; i>= 0; --i) {
				if(out[i] == null || 'n?('.indexOf(out[i].t) === -1) continue;
				j=out[i].v.indexOf(".")>-1&&i===decpt?out[i].v.indexOf(".")-1:out[i].v.length-1;
				vv = out[i].v.substr(j+1);
				for(; j>=0; --j) {
					if(jj>=0 && (out[i].v.charAt(j) === "0" || out[i].v.charAt(j) === "#")) vv = ostr.charAt(jj--) + vv;
				}
				out[i].v = vv;
				out[i].t = 't';
				lasti = i;
			}
			if(jj>=0 && lasti<out.length) out[lasti].v = ostr.substr(0,jj+1) + out[lasti].v;
			jj = ostr.indexOf(".")+1;
			for(i=decpt; i<out.length; ++i) {
				if(out[i] == null || ('n?('.indexOf(out[i].t) === -1 && i !== decpt)) continue;
				j=out[i].v.indexOf(".")>-1&&i===decpt?out[i].v.indexOf(".")+1:0;
				vv = out[i].v.substr(0,j);
				for(; j<out[i].v.length; ++j) {
					if(jj<ostr.length) vv += ostr.charAt(jj++);
				}
				out[i].v = vv;
				out[i].t = 't';
				lasti = i;
			}
		}
	}
	for(i=0; i<out.length; ++i) if(out[i] != null && 'n(?'.indexOf(out[i].t)>-1) {
		myv = (flen >1 && v < 0 && i>0 && out[i-1].v === "-" ? -v:v);
		out[i].v = write_num(out[i].t, out[i].v, myv);
		out[i].t = 't';
	}
	var retval = "";
	for(i=0; i !== out.length; ++i) if(out[i] != null) retval += out[i].v;
	return retval;
}
SSF._eval = eval_fmt;
var cfregex = /\[[=<>]/;
var cfregex2 = /\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;
function chkcond(v, rr) {
	if(rr == null) return false;
	var thresh = parseFloat(rr[2]);
	switch(rr[1]) {
		case "=":  if(v == thresh) return true; break;
		case ">":  if(v >  thresh) return true; break;
		case "<":  if(v <  thresh) return true; break;
		case "<>": if(v != thresh) return true; break;
		case ">=": if(v >= thresh) return true; break;
		case "<=": if(v <= thresh) return true; break;
	}
	return false;
}
function choose_fmt(f, v) {
	var fmt = split_fmt(f);
	var l = fmt.length, lat = fmt[l-1].indexOf("@");
	if(l<4 && lat>-1) --l;
	if(fmt.length > 4) throw new Error("cannot find right format for |" + fmt.join("|") + "|");
	if(typeof v !== "number") return [4, fmt.length === 4 || lat>-1?fmt[fmt.length-1]:"@"];
	switch(fmt.length) {
		case 1: fmt = lat>-1 ? ["General", "General", "General", fmt[0]] : [fmt[0], fmt[0], fmt[0], "@"]; break;
		case 2: fmt = lat>-1 ? [fmt[0], fmt[0], fmt[0], fmt[1]] : [fmt[0], fmt[1], fmt[0], "@"]; break;
		case 3: fmt = lat>-1 ? [fmt[0], fmt[1], fmt[0], fmt[2]] : [fmt[0], fmt[1], fmt[2], "@"]; break;
		case 4: break;
	}
	var ff = v > 0 ? fmt[0] : v < 0 ? fmt[1] : fmt[2];
	if(fmt[0].indexOf("[") === -1 && fmt[1].indexOf("[") === -1) return [l, ff];
	if(fmt[0].match(cfregex) != null || fmt[1].match(cfregex) != null) {
		var m1 = fmt[0].match(cfregex2);
		var m2 = fmt[1].match(cfregex2);
		return chkcond(v, m1) ? [l, fmt[0]] : chkcond(v, m2) ? [l, fmt[1]] : [l, fmt[m1 != null && m2 != null ? 2 : 1]];
	}
	return [l, ff];
}
function format(fmt,v,o) {
	if(o == null) o = {};
	var sfmt = "";
	switch(typeof fmt) {
		case "string":
			if(fmt == "m/d/yy" && o.dateNF) sfmt = o.dateNF;
			else sfmt = fmt;
			break;
		case "number":
			if(fmt == 14 && o.dateNF) sfmt = o.dateNF;
			else sfmt = (o.table != null ? (o.table) : table_fmt)[fmt];
			break;
	}
	if(isgeneral(sfmt,0)) return general_fmt(v, o);
	if(v instanceof Date) v = datenum_local(v, o.date1904);
	var f = choose_fmt(sfmt, v);
	if(isgeneral(f[1])) return general_fmt(v, o);
	if(v === true) v = "TRUE"; else if(v === false) v = "FALSE";
	else if(v === "" || v == null) return "";
	return eval_fmt(f[1], v, o, f[0]);
}
function load_entry(fmt, idx) {
	if(typeof idx != 'number') {
		idx = +idx || -1;
for(var i = 0; i < 0x0188; ++i) {
if(table_fmt[i] == undefined) { if(idx < 0) idx = i; continue; }
			if(table_fmt[i] == fmt) { idx = i; break; }
		}
if(idx < 0) idx = 0x187;
	}
table_fmt[idx] = fmt;
	return idx;
}
SSF.load = load_entry;
SSF._table = table_fmt;
SSF.get_table = function get_table() { return table_fmt; };
SSF.load_table = function load_table(tbl) {
	for(var i=0; i!=0x0188; ++i)
		if(tbl[i] !== undefined) load_entry(tbl[i], i);
};
SSF.init_table = init_table;
SSF.format = format;
};
make_ssf(SSF);
/* map from xlml named formats to SSF TODO: localize */
var XLMLFormatMap/*{[string]:string}*/ = ({
	"General Number": "General",
	"General Date": SSF._table[22],
	"Long Date": "dddd, mmmm dd, yyyy",
	"Medium Date": SSF._table[15],
	"Short Date": SSF._table[14],
	"Long Time": SSF._table[19],
	"Medium Time": SSF._table[18],
	"Short Time": SSF._table[20],
	"Currency": '"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',
	"Fixed": SSF._table[2],
	"Standard": SSF._table[4],
	"Percent": SSF._table[10],
	"Scientific": SSF._table[11],
	"Yes/No": '"Yes";"Yes";"No";@',
	"True/False": '"True";"True";"False";@',
	"On/Off": '"Yes";"Yes";"No";@'
});

var SSFImplicit/*{[number]:string}*/ = ({
	"5": '"$"#,##0_);\\("$"#,##0\\)',
	"6": '"$"#,##0_);[Red]\\("$"#,##0\\)',
	"7": '"$"#,##0.00_);\\("$"#,##0.00\\)',
	"8": '"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',
	"23": 'General', "24": 'General', "25": 'General', "26": 'General',
	"27": 'm/d/yy', "28": 'm/d/yy', "29": 'm/d/yy', "30": 'm/d/yy', "31": 'm/d/yy',
	"32": 'h:mm:ss', "33": 'h:mm:ss', "34": 'h:mm:ss', "35": 'h:mm:ss',
	"36": 'm/d/yy',
	"41": '_(* #,##0_);_(* \(#,##0\);_(* "-"_);_(@_)',
	"42": '_("$"* #,##0_);_("$"* \(#,##0\);_("$"* "-"_);_(@_)',
	"43": '_(* #,##0.00_);_(* \(#,##0.00\);_(* "-"??_);_(@_)',
	"44": '_("$"* #,##0.00_);_("$"* \(#,##0.00\);_("$"* "-"??_);_(@_)',
	"50": 'm/d/yy', "51": 'm/d/yy', "52": 'm/d/yy', "53": 'm/d/yy', "54": 'm/d/yy',
	"55": 'm/d/yy', "56": 'm/d/yy', "57": 'm/d/yy', "58": 'm/d/yy',
	"59": '0',
	"60": '0.00',
	"61": '#,##0',
	"62": '#,##0.00',
	"63": '"$"#,##0_);\\("$"#,##0\\)',
	"64": '"$"#,##0_);[Red]\\("$"#,##0\\)',
	"65": '"$"#,##0.00_);\\("$"#,##0.00\\)',
	"66": '"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',
	"67": '0%',
	"68": '0.00%',
	"69": '# ?/?',
	"70": '# ??/??',
	"71": 'm/d/yy',
	"72": 'm/d/yy',
	"73": 'd-mmm-yy',
	"74": 'd-mmm',
	"75": 'mmm-yy',
	"76": 'h:mm',
	"77": 'h:mm:ss',
	"78": 'm/d/yy h:mm',
	"79": 'mm:ss',
	"80": '[h]:mm:ss',
	"81": 'mmss.0'
});

/* dateNF parse TODO: move to SSF */
var dateNFregex = /[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;
function dateNF_regex(dateNF) {
	var fmt = typeof dateNF == "number" ? SSF._table[dateNF] : dateNF;
	fmt = fmt.replace(dateNFregex, "(\\d+)");
	return new RegExp("^" + fmt + "$");
}
function dateNF_fix(str, dateNF, match) {
	var Y = -1, m = -1, d = -1, H = -1, M = -1, S = -1;
	(dateNF.match(dateNFregex)||[]).forEach(function(n, i) {
		var v = parseInt(match[i+1], 10);
		switch(n.toLowerCase().charAt(0)) {
			case 'y': Y = v; break; case 'd': d = v; break;
			case 'h': H = v; break; case 's': S = v; break;
			case 'm': if(H >= 0) M = v; else m = v; break;
		}
	});
	if(S >= 0 && M == -1 && m >= 0) { M = m; m = -1; }
	var datestr = (("" + (Y>=0?Y: new Date().getFullYear())).slice(-4) + "-" + ("00" + (m>=1?m:1)).slice(-2) + "-" + ("00" + (d>=1?d:1)).slice(-2));
	if(datestr.length == 7) datestr = "0" + datestr;
	if(datestr.length == 8) datestr = "20" + datestr;
	var timestr = (("00" + (H>=0?H:0)).slice(-2) + ":" + ("00" + (M>=0?M:0)).slice(-2) + ":" + ("00" + (S>=0?S:0)).slice(-2));
	if(H == -1 && M == -1 && S == -1) return datestr;
	if(Y == -1 && m == -1 && d == -1) return timestr;
	return datestr + "T" + timestr;
}

var DO_NOT_EXPORT_CFB = true;
/* cfb.js (C) 2013-present SheetJS -- http://sheetjs.com */
/* vim: set ts=2: */
/*jshint eqnull:true */
/*exported CFB */
/*global module, require:false, process:false, Buffer:false, Uint8Array:false */

/* [MS-CFB] v20171201 */
var CFB = (function _CFB(){
var exports = {};
exports.version = '1.0.8';
/* [MS-CFB] 2.6.4 */
function namecmp(l, r) {
	var L = l.split("/"), R = r.split("/");
	for(var i = 0, c = 0, Z = Math.min(L.length, R.length); i < Z; ++i) {
		if((c = L[i].length - R[i].length)) return c;
		if(L[i] != R[i]) return L[i] < R[i] ? -1 : 1;
	}
	return L.length - R.length;
}
function dirname(p) {
	if(p.charAt(p.length - 1) == "/") return (p.slice(0,-1).indexOf("/") === -1) ? p : dirname(p.slice(0, -1));
	var c = p.lastIndexOf("/");
	return (c === -1) ? p : p.slice(0, c+1);
}

function filename(p) {
	if(p.charAt(p.length - 1) == "/") return filename(p.slice(0, -1));
	var c = p.lastIndexOf("/");
	return (c === -1) ? p : p.slice(c+1);
}
var fs;
function get_fs() { return fs || (fs = __webpack_require__(7)); }
function parse(file, options) {
if(file.length < 512) throw new Error("CFB file size " + file.length + " < 512");
var mver = 3;
var ssz = 512;
var nmfs = 0; // number of mini FAT sectors
var difat_sec_cnt = 0;
var dir_start = 0;
var minifat_start = 0;
var difat_start = 0;

var fat_addrs = []; // locations of FAT sectors

/* [MS-CFB] 2.2 Compound File Header */
var blob = file.slice(0,512);
prep_blob(blob, 0);

/* major version */
var mv = check_get_mver(blob);
mver = mv[0];
switch(mver) {
	case 3: ssz = 512; break; case 4: ssz = 4096; break;
	default: throw new Error("Major Version: Expected 3 or 4 saw " + mver);
}

/* reprocess header */
if(ssz !== 512) { blob = file.slice(0,ssz); prep_blob(blob, 28 /* blob.l */); }
/* Save header for final object */
var header = file.slice(0,ssz);

check_shifts(blob, mver);

// Number of Directory Sectors
var dir_cnt = blob.read_shift(4, 'i');
if(mver === 3 && dir_cnt !== 0) throw new Error('# Directory Sectors: Expected 0 saw ' + dir_cnt);

// Number of FAT Sectors
blob.l += 4;

// First Directory Sector Location
dir_start = blob.read_shift(4, 'i');

// Transaction Signature
blob.l += 4;

// Mini Stream Cutoff Size
blob.chk('00100000', 'Mini Stream Cutoff Size: ');

// First Mini FAT Sector Location
minifat_start = blob.read_shift(4, 'i');

// Number of Mini FAT Sectors
nmfs = blob.read_shift(4, 'i');

// First DIFAT sector location
difat_start = blob.read_shift(4, 'i');

// Number of DIFAT Sectors
difat_sec_cnt = blob.read_shift(4, 'i');

// Grab FAT Sector Locations
for(var q = -1, j = 0; j < 109; ++j) { /* 109 = (512 - blob.l)>>>2; */
	q = blob.read_shift(4, 'i');
	if(q<0) break;
	fat_addrs[j] = q;
}

/** Break the file up into sectors */
var sectors = sectorify(file, ssz);

sleuth_fat(difat_start, difat_sec_cnt, sectors, ssz, fat_addrs);

/** Chains */
var sector_list = make_sector_list(sectors, dir_start, fat_addrs, ssz);

sector_list[dir_start].name = "!Directory";
if(nmfs > 0 && minifat_start !== ENDOFCHAIN) sector_list[minifat_start].name = "!MiniFAT";
sector_list[fat_addrs[0]].name = "!FAT";
sector_list.fat_addrs = fat_addrs;
sector_list.ssz = ssz;

/* [MS-CFB] 2.6.1 Compound File Directory Entry */
var files = {}, Paths = [], FileIndex = [], FullPaths = [];
read_directory(dir_start, sector_list, sectors, Paths, nmfs, files, FileIndex, minifat_start);

build_full_paths(FileIndex, FullPaths, Paths);
Paths.shift();

var o = {
	FileIndex: FileIndex,
	FullPaths: FullPaths
};

// $FlowIgnore
if(options && options.raw) o.raw = {header: header, sectors: sectors};
return o;
} // parse

/* [MS-CFB] 2.2 Compound File Header -- read up to major version */
function check_get_mver(blob) {
	// header signature 8
	blob.chk(HEADER_SIGNATURE, 'Header Signature: ');

	// clsid 16
	blob.chk(HEADER_CLSID, 'CLSID: ');

	// minor version 2
	var mver = blob.read_shift(2, 'u');

	return [blob.read_shift(2,'u'), mver];
}
function check_shifts(blob, mver) {
	var shift = 0x09;

	// Byte Order
	//blob.chk('feff', 'Byte Order: '); // note: some writers put 0xffff
	blob.l += 2;

	// Sector Shift
	switch((shift = blob.read_shift(2))) {
		case 0x09: if(mver != 3) throw new Error('Sector Shift: Expected 9 saw ' + shift); break;
		case 0x0c: if(mver != 4) throw new Error('Sector Shift: Expected 12 saw ' + shift); break;
		default: throw new Error('Sector Shift: Expected 9 or 12 saw ' + shift);
	}

	// Mini Sector Shift
	blob.chk('0600', 'Mini Sector Shift: ');

	// Reserved
	blob.chk('000000000000', 'Reserved: ');
}

/** Break the file up into sectors */
function sectorify(file, ssz) {
	var nsectors = Math.ceil(file.length/ssz)-1;
	var sectors = [];
	for(var i=1; i < nsectors; ++i) sectors[i-1] = file.slice(i*ssz,(i+1)*ssz);
	sectors[nsectors-1] = file.slice(nsectors*ssz);
	return sectors;
}

/* [MS-CFB] 2.6.4 Red-Black Tree */
function build_full_paths(FI, FP, Paths) {
	var i = 0, L = 0, R = 0, C = 0, j = 0, pl = Paths.length;
	var dad = [], q = [];

	for(; i < pl; ++i) { dad[i]=q[i]=i; FP[i]=Paths[i]; }

	for(; j < q.length; ++j) {
		i = q[j];
		L = FI[i].L; R = FI[i].R; C = FI[i].C;
		if(dad[i] === i) {
			if(L !== -1 /*NOSTREAM*/ && dad[L] !== L) dad[i] = dad[L];
			if(R !== -1 && dad[R] !== R) dad[i] = dad[R];
		}
		if(C !== -1 /*NOSTREAM*/) dad[C] = i;
		if(L !== -1) { dad[L] = dad[i]; if(q.lastIndexOf(L) < j) q.push(L); }
		if(R !== -1) { dad[R] = dad[i]; if(q.lastIndexOf(R) < j) q.push(R); }
	}
	for(i=1; i < pl; ++i) if(dad[i] === i) {
		if(R !== -1 /*NOSTREAM*/ && dad[R] !== R) dad[i] = dad[R];
		else if(L !== -1 && dad[L] !== L) dad[i] = dad[L];
	}

	for(i=1; i < pl; ++i) {
		if(FI[i].type === 0 /* unknown */) continue;
		j = dad[i];
		if(j === 0) FP[i] = FP[0] + "/" + FP[i];
		else while(j !== 0 && j !== dad[j]) {
			FP[i] = FP[j] + "/" + FP[i];
			j = dad[j];
		}
		dad[i] = 0;
	}

	FP[0] += "/";
	for(i=1; i < pl; ++i) {
		if(FI[i].type !== 2 /* stream */) FP[i] += "/";
	}
}

function get_mfat_entry(entry, payload, mini) {
	var start = entry.start, size = entry.size;
	//return (payload.slice(start*MSSZ, start*MSSZ + size));
	var o = [];
	var idx = start;
	while(mini && size > 0 && idx >= 0) {
		o.push(payload.slice(idx * MSSZ, idx * MSSZ + MSSZ));
		size -= MSSZ;
		idx = __readInt32LE(mini, idx * 4);
	}
	if(o.length === 0) return (new_buf(0));
	return (bconcat(o).slice(0, entry.size));
}

/** Chase down the rest of the DIFAT chain to build a comprehensive list
    DIFAT chains by storing the next sector number as the last 32 bits */
function sleuth_fat(idx, cnt, sectors, ssz, fat_addrs) {
	var q = ENDOFCHAIN;
	if(idx === ENDOFCHAIN) {
		if(cnt !== 0) throw new Error("DIFAT chain shorter than expected");
	} else if(idx !== -1 /*FREESECT*/) {
		var sector = sectors[idx], m = (ssz>>>2)-1;
		if(!sector) return;
		for(var i = 0; i < m; ++i) {
			if((q = __readInt32LE(sector,i*4)) === ENDOFCHAIN) break;
			fat_addrs.push(q);
		}
		sleuth_fat(__readInt32LE(sector,ssz-4),cnt - 1, sectors, ssz, fat_addrs);
	}
}

/** Follow the linked list of sectors for a given starting point */
function get_sector_list(sectors, start, fat_addrs, ssz, chkd) {
	var buf = [], buf_chain = [];
	if(!chkd) chkd = [];
	var modulus = ssz - 1, j = 0, jj = 0;
	for(j=start; j>=0;) {
		chkd[j] = true;
		buf[buf.length] = j;
		buf_chain.push(sectors[j]);
		var addr = fat_addrs[Math.floor(j*4/ssz)];
		jj = ((j*4) & modulus);
		if(ssz < 4 + jj) throw new Error("FAT boundary crossed: " + j + " 4 "+ssz);
		if(!sectors[addr]) break;
		j = __readInt32LE(sectors[addr], jj);
	}
	return {nodes: buf, data:__toBuffer([buf_chain])};
}

/** Chase down the sector linked lists */
function make_sector_list(sectors, dir_start, fat_addrs, ssz) {
	var sl = sectors.length, sector_list = ([]);
	var chkd = [], buf = [], buf_chain = [];
	var modulus = ssz - 1, i=0, j=0, k=0, jj=0;
	for(i=0; i < sl; ++i) {
		buf = ([]);
		k = (i + dir_start); if(k >= sl) k-=sl;
		if(chkd[k]) continue;
		buf_chain = [];
		for(j=k; j>=0;) {
			chkd[j] = true;
			buf[buf.length] = j;
			buf_chain.push(sectors[j]);
			var addr = fat_addrs[Math.floor(j*4/ssz)];
			jj = ((j*4) & modulus);
			if(ssz < 4 + jj) throw new Error("FAT boundary crossed: " + j + " 4 "+ssz);
			if(!sectors[addr]) break;
			j = __readInt32LE(sectors[addr], jj);
		}
		sector_list[k] = ({nodes: buf, data:__toBuffer([buf_chain])});
	}
	return sector_list;
}

/* [MS-CFB] 2.6.1 Compound File Directory Entry */
function read_directory(dir_start, sector_list, sectors, Paths, nmfs, files, FileIndex, mini) {
	var minifat_store = 0, pl = (Paths.length?2:0);
	var sector = sector_list[dir_start].data;
	var i = 0, namelen = 0, name;
	for(; i < sector.length; i+= 128) {
		var blob = sector.slice(i, i+128);
		prep_blob(blob, 64);
		namelen = blob.read_shift(2);
		name = __utf16le(blob,0,namelen-pl);
		Paths.push(name);
		var o = ({
			name:  name,
			type:  blob.read_shift(1),
			color: blob.read_shift(1),
			L:     blob.read_shift(4, 'i'),
			R:     blob.read_shift(4, 'i'),
			C:     blob.read_shift(4, 'i'),
			clsid: blob.read_shift(16),
			state: blob.read_shift(4, 'i'),
			start: 0,
			size: 0
		});
		var ctime = blob.read_shift(2) + blob.read_shift(2) + blob.read_shift(2) + blob.read_shift(2);
		if(ctime !== 0) o.ct = read_date(blob, blob.l-8);
		var mtime = blob.read_shift(2) + blob.read_shift(2) + blob.read_shift(2) + blob.read_shift(2);
		if(mtime !== 0) o.mt = read_date(blob, blob.l-8);
		o.start = blob.read_shift(4, 'i');
		o.size = blob.read_shift(4, 'i');
		if(o.size < 0 && o.start < 0) { o.size = o.type = 0; o.start = ENDOFCHAIN; o.name = ""; }
		if(o.type === 5) { /* root */
			minifat_store = o.start;
			if(nmfs > 0 && minifat_store !== ENDOFCHAIN) sector_list[minifat_store].name = "!StreamData";
			/*minifat_size = o.size;*/
		} else if(o.size >= 4096 /* MSCSZ */) {
			o.storage = 'fat';
			if(sector_list[o.start] === undefined) sector_list[o.start] = get_sector_list(sectors, o.start, sector_list.fat_addrs, sector_list.ssz);
			sector_list[o.start].name = o.name;
			o.content = (sector_list[o.start].data.slice(0,o.size));
		} else {
			o.storage = 'minifat';
			if(o.size < 0) o.size = 0;
			else if(minifat_store !== ENDOFCHAIN && o.start !== ENDOFCHAIN && sector_list[minifat_store]) {
				o.content = get_mfat_entry(o, sector_list[minifat_store].data, (sector_list[mini]||{}).data);
			}
		}
		if(o.content) prep_blob(o.content, 0);
		files[name] = o;
		FileIndex.push(o);
	}
}

function read_date(blob, offset) {
	return new Date(( ( (__readUInt32LE(blob,offset+4)/1e7)*Math.pow(2,32)+__readUInt32LE(blob,offset)/1e7 ) - 11644473600)*1000);
}

function read_file(filename, options) {
	get_fs();
	return parse(fs.readFileSync(filename), options);
}

function read(blob, options) {
	switch(options && options.type || "base64") {
		case "file": return read_file(blob, options);
		case "base64": return parse(s2a(Base64.decode(blob)), options);
		case "binary": return parse(s2a(blob), options);
	}
	return parse(blob, options);
}

function init_cfb(cfb, opts) {
	var o = opts || {}, root = o.root || "Root Entry";
	if(!cfb.FullPaths) cfb.FullPaths = [];
	if(!cfb.FileIndex) cfb.FileIndex = [];
	if(cfb.FullPaths.length !== cfb.FileIndex.length) throw new Error("inconsistent CFB structure");
	if(cfb.FullPaths.length === 0) {
		cfb.FullPaths[0] = root + "/";
		cfb.FileIndex[0] = ({ name: root, type: 5 });
	}
	if(o.CLSID) cfb.FileIndex[0].clsid = o.CLSID;
	seed_cfb(cfb);
}
function seed_cfb(cfb) {
	var nm = "\u0001Sh33tJ5";
	if(CFB.find(cfb, "/" + nm)) return;
	var p = new_buf(4); p[0] = 55; p[1] = p[3] = 50; p[2] = 54;
	cfb.FileIndex.push(({ name: nm, type: 2, content:p, size:4, L:69, R:69, C:69 }));
	cfb.FullPaths.push(cfb.FullPaths[0] + nm);
	rebuild_cfb(cfb);
}
function rebuild_cfb(cfb, f) {
	init_cfb(cfb);
	var gc = false, s = false;
	for(var i = cfb.FullPaths.length - 1; i >= 0; --i) {
		var _file = cfb.FileIndex[i];
		switch(_file.type) {
			case 0:
				if(s) gc = true;
				else { cfb.FileIndex.pop(); cfb.FullPaths.pop(); }
				break;
			case 1: case 2: case 5:
				s = true;
				if(isNaN(_file.R * _file.L * _file.C)) gc = true;
				if(_file.R > -1 && _file.L > -1 && _file.R == _file.L) gc = true;
				break;
			default: gc = true; break;
		}
	}
	if(!gc && !f) return;

	var now = new Date(1987, 1, 19), j = 0;
	var data = [];
	for(i = 0; i < cfb.FullPaths.length; ++i) {
		if(cfb.FileIndex[i].type === 0) continue;
		data.push([cfb.FullPaths[i], cfb.FileIndex[i]]);
	}
	for(i = 0; i < data.length; ++i) {
		var dad = dirname(data[i][0]);
		s = false;
		for(j = 0; j < data.length; ++j) if(data[j][0] === dad) s = true;
		if(!s) data.push([dad, ({
			name: filename(dad).replace("/",""),
			type: 1,
			clsid: HEADER_CLSID,
			ct: now, mt: now,
			content: null
		})]);
	}

	data.sort(function(x,y) { return namecmp(x[0], y[0]); });
	cfb.FullPaths = []; cfb.FileIndex = [];
	for(i = 0; i < data.length; ++i) { cfb.FullPaths[i] = data[i][0]; cfb.FileIndex[i] = data[i][1]; }
	for(i = 0; i < data.length; ++i) {
		var elt = cfb.FileIndex[i];
		var nm = cfb.FullPaths[i];

		elt.name =  filename(nm).replace("/","");
		elt.L = elt.R = elt.C = -(elt.color = 1);
		elt.size = elt.content ? elt.content.length : 0;
		elt.start = 0;
		elt.clsid = (elt.clsid || HEADER_CLSID);
		if(i === 0) {
			elt.C = data.length > 1 ? 1 : -1;
			elt.size = 0;
			elt.type = 5;
		} else if(nm.slice(-1) == "/") {
			for(j=i+1;j < data.length; ++j) if(dirname(cfb.FullPaths[j])==nm) break;
			elt.C = j >= data.length ? -1 : j;
			for(j=i+1;j < data.length; ++j) if(dirname(cfb.FullPaths[j])==dirname(nm)) break;
			elt.R = j >= data.length ? -1 : j;
			elt.type = 1;
		} else {
			if(dirname(cfb.FullPaths[i+1]||"") == dirname(nm)) elt.R = i + 1;
			elt.type = 2;
		}
	}

}

function _write(cfb, options) {
	var _opts = options || {};
	rebuild_cfb(cfb);
	var L = (function(cfb){
		var mini_size = 0, fat_size = 0;
		for(var i = 0; i < cfb.FileIndex.length; ++i) {
			var file = cfb.FileIndex[i];
			if(!file.content) continue;
var flen = file.content.length;
			if(flen > 0){
				if(flen < 0x1000) mini_size += (flen + 0x3F) >> 6;
				else fat_size += (flen + 0x01FF) >> 9;
			}
		}
		var dir_cnt = (cfb.FullPaths.length +3) >> 2;
		var mini_cnt = (mini_size + 7) >> 3;
		var mfat_cnt = (mini_size + 0x7F) >> 7;
		var fat_base = mini_cnt + fat_size + dir_cnt + mfat_cnt;
		var fat_cnt = (fat_base + 0x7F) >> 7;
		var difat_cnt = fat_cnt <= 109 ? 0 : Math.ceil((fat_cnt-109)/0x7F);
		while(((fat_base + fat_cnt + difat_cnt + 0x7F) >> 7) > fat_cnt) difat_cnt = ++fat_cnt <= 109 ? 0 : Math.ceil((fat_cnt-109)/0x7F);
		var L =  [1, difat_cnt, fat_cnt, mfat_cnt, dir_cnt, fat_size, mini_size, 0];
		cfb.FileIndex[0].size = mini_size << 6;
		L[7] = (cfb.FileIndex[0].start=L[0]+L[1]+L[2]+L[3]+L[4]+L[5])+((L[6]+7) >> 3);
		return L;
	})(cfb);
	var o = new_buf(L[7] << 9);
	var i = 0, T = 0;
	{
		for(i = 0; i < 8; ++i) o.write_shift(1, HEADER_SIG[i]);
		for(i = 0; i < 8; ++i) o.write_shift(2, 0);
		o.write_shift(2, 0x003E);
		o.write_shift(2, 0x0003);
		o.write_shift(2, 0xFFFE);
		o.write_shift(2, 0x0009);
		o.write_shift(2, 0x0006);
		for(i = 0; i < 3; ++i) o.write_shift(2, 0);
		o.write_shift(4, 0);
		o.write_shift(4, L[2]);
		o.write_shift(4, L[0] + L[1] + L[2] + L[3] - 1);
		o.write_shift(4, 0);
		o.write_shift(4, 1<<12);
		o.write_shift(4, L[3] ? L[0] + L[1] + L[2] - 1: ENDOFCHAIN);
		o.write_shift(4, L[3]);
		o.write_shift(-4, L[1] ? L[0] - 1: ENDOFCHAIN);
		o.write_shift(4, L[1]);
		for(i = 0; i < 109; ++i) o.write_shift(-4, i < L[2] ? L[1] + i : -1);
	}
	if(L[1]) {
		for(T = 0; T < L[1]; ++T) {
			for(; i < 236 + T * 127; ++i) o.write_shift(-4, i < L[2] ? L[1] + i : -1);
			o.write_shift(-4, T === L[1] - 1 ? ENDOFCHAIN : T + 1);
		}
	}
	var chainit = function(w) {
		for(T += w; i<T-1; ++i) o.write_shift(-4, i+1);
		if(w) { ++i; o.write_shift(-4, ENDOFCHAIN); }
	};
	T = i = 0;
	for(T+=L[1]; i<T; ++i) o.write_shift(-4, consts.DIFSECT);
	for(T+=L[2]; i<T; ++i) o.write_shift(-4, consts.FATSECT);
	chainit(L[3]);
	chainit(L[4]);
	var j = 0, flen = 0;
	var file = cfb.FileIndex[0];
	for(; j < cfb.FileIndex.length; ++j) {
		file = cfb.FileIndex[j];
		if(!file.content) continue;
flen = file.content.length;
		if(flen < 0x1000) continue;
		file.start = T;
		chainit((flen + 0x01FF) >> 9);
	}
	chainit((L[6] + 7) >> 3);
	while(o.l & 0x1FF) o.write_shift(-4, consts.ENDOFCHAIN);
	T = i = 0;
	for(j = 0; j < cfb.FileIndex.length; ++j) {
		file = cfb.FileIndex[j];
		if(!file.content) continue;
flen = file.content.length;
		if(!flen || flen >= 0x1000) continue;
		file.start = T;
		chainit((flen + 0x3F) >> 6);
	}
	while(o.l & 0x1FF) o.write_shift(-4, consts.ENDOFCHAIN);
	for(i = 0; i < L[4]<<2; ++i) {
		var nm = cfb.FullPaths[i];
		if(!nm || nm.length === 0) {
			for(j = 0; j < 17; ++j) o.write_shift(4, 0);
			for(j = 0; j < 3; ++j) o.write_shift(4, -1);
			for(j = 0; j < 12; ++j) o.write_shift(4, 0);
			continue;
		}
		file = cfb.FileIndex[i];
		if(i === 0) file.start = file.size ? file.start - 1 : ENDOFCHAIN;
		var _nm = (i === 0 && _opts.root) || file.name;
		flen = 2*(_nm.length+1);
		o.write_shift(64, _nm, "utf16le");
		o.write_shift(2, flen);
		o.write_shift(1, file.type);
		o.write_shift(1, file.color);
		o.write_shift(-4, file.L);
		o.write_shift(-4, file.R);
		o.write_shift(-4, file.C);
		if(!file.clsid) for(j = 0; j < 4; ++j) o.write_shift(4, 0);
		else o.write_shift(16, file.clsid, "hex");
		o.write_shift(4, file.state || 0);
		o.write_shift(4, 0); o.write_shift(4, 0);
		o.write_shift(4, 0); o.write_shift(4, 0);
		o.write_shift(4, file.start);
		o.write_shift(4, file.size); o.write_shift(4, 0);
	}
	for(i = 1; i < cfb.FileIndex.length; ++i) {
		file = cfb.FileIndex[i];
if(file.size >= 0x1000) {
			o.l = (file.start+1) << 9;
			for(j = 0; j < file.size; ++j) o.write_shift(1, file.content[j]);
			for(; j & 0x1FF; ++j) o.write_shift(1, 0);
		}
	}
	for(i = 1; i < cfb.FileIndex.length; ++i) {
		file = cfb.FileIndex[i];
if(file.size > 0 && file.size < 0x1000) {
			for(j = 0; j < file.size; ++j) o.write_shift(1, file.content[j]);
			for(; j & 0x3F; ++j) o.write_shift(1, 0);
		}
	}
	while(o.l < o.length) o.write_shift(1, 0);
	return o;
}
/* [MS-CFB] 2.6.4 (Unicode 3.0.1 case conversion) */
function find(cfb, path) {
	var UCFullPaths = cfb.FullPaths.map(function(x) { return x.toUpperCase(); });
	var UCPaths = UCFullPaths.map(function(x) { var y = x.split("/"); return y[y.length - (x.slice(-1) == "/" ? 2 : 1)]; });
	var k = false;
	if(path.charCodeAt(0) === 47 /* "/" */) { k = true; path = UCFullPaths[0].slice(0, -1) + path; }
	else k = path.indexOf("/") !== -1;
	var UCPath = path.toUpperCase();
	var w = k === true ? UCFullPaths.indexOf(UCPath) : UCPaths.indexOf(UCPath);
	if(w !== -1) return cfb.FileIndex[w];

	var m = !UCPath.match(chr1);
	UCPath = UCPath.replace(chr0,'');
	if(m) UCPath = UCPath.replace(chr1,'!');
	for(w = 0; w < UCFullPaths.length; ++w) {
		if((m ? UCFullPaths[w].replace(chr1,'!') : UCFullPaths[w]).replace(chr0,'') == UCPath) return cfb.FileIndex[w];
		if((m ? UCPaths[w].replace(chr1,'!') : UCPaths[w]).replace(chr0,'') == UCPath) return cfb.FileIndex[w];
	}
	return null;
}
/** CFB Constants */
var MSSZ = 64; /* Mini Sector Size = 1<<6 */
//var MSCSZ = 4096; /* Mini Stream Cutoff Size */
/* 2.1 Compound File Sector Numbers and Types */
var ENDOFCHAIN = -2;
/* 2.2 Compound File Header */
var HEADER_SIGNATURE = 'd0cf11e0a1b11ae1';
var HEADER_SIG = [0xD0, 0xCF, 0x11, 0xE0, 0xA1, 0xB1, 0x1A, 0xE1];
var HEADER_CLSID = '00000000000000000000000000000000';
var consts = {
	/* 2.1 Compund File Sector Numbers and Types */
	MAXREGSECT: -6,
	DIFSECT: -4,
	FATSECT: -3,
	ENDOFCHAIN: ENDOFCHAIN,
	FREESECT: -1,
	/* 2.2 Compound File Header */
	HEADER_SIGNATURE: HEADER_SIGNATURE,
	HEADER_MINOR_VERSION: '3e00',
	MAXREGSID: -6,
	NOSTREAM: -1,
	HEADER_CLSID: HEADER_CLSID,
	/* 2.6.1 Compound File Directory Entry */
	EntryTypes: ['unknown','storage','stream','lockbytes','property','root']
};

function write_file(cfb, filename, options) {
	get_fs();
	var o = _write(cfb, options);
fs.writeFileSync(filename, o);
}

function a2s(o) {
	var out = new Array(o.length);
	for(var i = 0; i < o.length; ++i) out[i] = String.fromCharCode(o[i]);
	return out.join("");
}

function write(cfb, options) {
	var o = _write(cfb, options);
	switch(options && options.type) {
		case "file": get_fs(); fs.writeFileSync(options.filename, (o)); return o;
		case "binary": return a2s(o);
		case "base64": return Base64.encode(a2s(o));
	}
	return o;
}
function cfb_new(opts) {
	var o = ({});
	init_cfb(o, opts);
	return o;
}

function cfb_add(cfb, name, content, opts) {
	var unsafe = opts && opts.unsafe;
	if(!unsafe) init_cfb(cfb);
	var file = !unsafe && CFB.find(cfb, name);
	if(!file) {
		var fpath = cfb.FullPaths[0];
		if(name.slice(0, fpath.length) == fpath) fpath = name;
		else {
			if(fpath.slice(-1) != "/") fpath += "/";
			fpath = (fpath + name).replace("//","/");
		}
		file = ({name: filename(name), type: 2});
		cfb.FileIndex.push(file);
		cfb.FullPaths.push(fpath);
		if(!unsafe) CFB.utils.cfb_gc(cfb);
	}
file.content = (content);
	file.size = content ? content.length : 0;
	if(opts) {
		if(opts.CLSID) file.clsid = opts.CLSID;
	}
	return file;
}

function cfb_del(cfb, name) {
	init_cfb(cfb);
	var file = CFB.find(cfb, name);
	if(file) for(var j = 0; j < cfb.FileIndex.length; ++j) if(cfb.FileIndex[j] == file) {
		cfb.FileIndex.splice(j, 1);
		cfb.FullPaths.splice(j, 1);
		return true;
	}
	return false;
}

function cfb_mov(cfb, old_name, new_name) {
	init_cfb(cfb);
	var file = CFB.find(cfb, old_name);
	if(file) for(var j = 0; j < cfb.FileIndex.length; ++j) if(cfb.FileIndex[j] == file) {
		cfb.FileIndex[j].name = filename(new_name);
		cfb.FullPaths[j] = new_name;
		return true;
	}
	return false;
}

function cfb_gc(cfb) { rebuild_cfb(cfb, true); }

exports.find = find;
exports.read = read;
exports.parse = parse;
exports.write = write;
exports.writeFile = write_file;
exports.utils = {
	cfb_new: cfb_new,
	cfb_add: cfb_add,
	cfb_del: cfb_del,
	cfb_mov: cfb_mov,
	cfb_gc: cfb_gc,
	ReadShift: ReadShift,
	CheckField: CheckField,
	prep_blob: prep_blob,
	bconcat: bconcat,
	consts: consts
};

return exports;
})();

if("function" !== 'undefined' && typeof module !== 'undefined' && typeof DO_NOT_EXPORT_CFB === 'undefined') { module.exports = CFB; }
var _fs;
if(true) try { _fs = __webpack_require__(7); } catch(e) {}

/* normalize data for blob ctor */
function blobify(data) {
	if(typeof data === "string") return s2ab(data);
	if(Array.isArray(data)) return a2u(data);
	return data;
}
/* write or download file */
function write_dl(fname, payload, enc) {
	/*global IE_SaveFile, Blob, navigator, saveAs, URL, document, File, chrome */
	if(typeof _fs !== 'undefined' && _fs.writeFileSync) return enc ? _fs.writeFileSync(fname, payload, enc) : _fs.writeFileSync(fname, payload);
	var data = (enc == "utf8") ? utf8write(payload) : payload;
if(typeof IE_SaveFile !== 'undefined') return IE_SaveFile(data, fname);
	if(typeof Blob !== 'undefined') {
		var blob = new Blob([blobify(data)], {type:"application/octet-stream"});
if(typeof navigator !== 'undefined' && navigator.msSaveBlob) return navigator.msSaveBlob(blob, fname);
if(typeof saveAs !== 'undefined') return saveAs(blob, fname);
		if(typeof URL !== 'undefined' && typeof document !== 'undefined' && document.createElement && URL.createObjectURL) {
			var url = URL.createObjectURL(blob);
if(typeof chrome === 'object' && typeof (chrome.downloads||{}).download == "function") {
				if(URL.revokeObjectURL && typeof setTimeout !== 'undefined') setTimeout(function() { URL.revokeObjectURL(url); }, 60000);
				return chrome.downloads.download({ url: url, filename: fname, saveAs: true});
			}
			var a = document.createElement("a");
			if(a.download != null) {
a.download = fname; a.href = url; document.body.appendChild(a); a.click();
document.body.removeChild(a);
				if(URL.revokeObjectURL && typeof setTimeout !== 'undefined') setTimeout(function() { URL.revokeObjectURL(url); }, 60000);
				return url;
			}
		}
	}
	// $FlowIgnore
	if(typeof $ !== 'undefined' && typeof File !== 'undefined' && typeof Folder !== 'undefined') try { // extendscript
		// $FlowIgnore
		var out = File(fname); out.open("w"); out.encoding = "binary";
		if(Array.isArray(payload)) payload = a2s(payload);
		out.write(payload); out.close(); return payload;
	} catch(e) { if(!e.message || !e.message.match(/onstruct/)) throw e; }
	throw new Error("cannot save file " + fname);
}

/* read binary data from file */
function read_binary(path) {
	if(typeof _fs !== 'undefined') return _fs.readFileSync(path);
	// $FlowIgnore
	if(typeof $ !== 'undefined' && typeof File !== 'undefined' && typeof Folder !== 'undefined') try { // extendscript
		// $FlowIgnore
		var infile = File(path); infile.open("r"); infile.encoding = "binary";
		var data = infile.read(); infile.close();
		return data;
	} catch(e) { if(!e.message || !e.message.match(/onstruct/)) throw e; }
	throw new Error("Cannot access file " + path);
}
function keys(o) {
	var ks = Object.keys(o), o2 = [];
	for(var i = 0; i < ks.length; ++i) if(o.hasOwnProperty(ks[i])) o2.push(ks[i]);
	return o2;
}

function evert_key(obj, key) {
	var o = ([]), K = keys(obj);
	for(var i = 0; i !== K.length; ++i) if(o[obj[K[i]][key]] == null) o[obj[K[i]][key]] = K[i];
	return o;
}

function evert(obj) {
	var o = ([]), K = keys(obj);
	for(var i = 0; i !== K.length; ++i) o[obj[K[i]]] = K[i];
	return o;
}

function evert_num(obj) {
	var o = ([]), K = keys(obj);
	for(var i = 0; i !== K.length; ++i) o[obj[K[i]]] = parseInt(K[i],10);
	return o;
}

function evert_arr(obj) {
	var o = ([]), K = keys(obj);
	for(var i = 0; i !== K.length; ++i) {
		if(o[obj[K[i]]] == null) o[obj[K[i]]] = [];
		o[obj[K[i]]].push(K[i]);
	}
	return o;
}

var basedate = new Date(1899, 11, 30, 0, 0, 0); // 2209161600000
var dnthresh = basedate.getTime() + (new Date().getTimezoneOffset() - basedate.getTimezoneOffset()) * 60000;
function datenum(v, date1904) {
	var epoch = v.getTime();
	if(date1904) epoch -= 1462*24*60*60*1000;
	return (epoch - dnthresh) / (24 * 60 * 60 * 1000);
}
function numdate(v) {
	var out = new Date();
	out.setTime(v * 24 * 60 * 60 * 1000 + dnthresh);
	return out;
}

/* ISO 8601 Duration */
function parse_isodur(s) {
	var sec = 0, mt = 0, time = false;
	var m = s.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);
	if(!m) throw new Error("|" + s + "| is not an ISO8601 Duration");
	for(var i = 1; i != m.length; ++i) {
		if(!m[i]) continue;
		mt = 1;
		if(i > 3) time = true;
		switch(m[i].slice(m[i].length-1)) {
			case 'Y':
				throw new Error("Unsupported ISO Duration Field: " + m[i].slice(m[i].length-1));
			case 'D': mt *= 24;
				/* falls through */
			case 'H': mt *= 60;
				/* falls through */
			case 'M':
				if(!time) throw new Error("Unsupported ISO Duration Field: M");
				else mt *= 60;
				/* falls through */
			case 'S': break;
		}
		sec += mt * parseInt(m[i], 10);
	}
	return sec;
}

var good_pd_date = new Date('2017-02-19T19:06:09.000Z');
if(isNaN(good_pd_date.getFullYear())) good_pd_date = new Date('2/19/17');
var good_pd = good_pd_date.getFullYear() == 2017;
/* parses a date as a local date */
function parseDate(str, fixdate) {
	var d = new Date(str);
	if(good_pd) {
if(fixdate > 0) d.setTime(d.getTime() + d.getTimezoneOffset() * 60 * 1000);
		else if(fixdate < 0) d.setTime(d.getTime() - d.getTimezoneOffset() * 60 * 1000);
		return d;
	}
	if(str instanceof Date) return str;
	if(good_pd_date.getFullYear() == 1917 && !isNaN(d.getFullYear())) {
		var s = d.getFullYear();
		if(str.indexOf("" + s) > -1) return d;
		d.setFullYear(d.getFullYear() + 100); return d;
	}
	var n = str.match(/\d+/g)||["2017","2","19","0","0","0"];
	var out = new Date(+n[0], +n[1] - 1, +n[2], (+n[3]||0), (+n[4]||0), (+n[5]||0));
	if(str.indexOf("Z") > -1) out = new Date(out.getTime() - out.getTimezoneOffset() * 60 * 1000);
	return out;
}

function cc2str(arr) {
	var o = "";
	for(var i = 0; i != arr.length; ++i) o += String.fromCharCode(arr[i]);
	return o;
}

function dup(o) {
	if(typeof JSON != 'undefined' && !Array.isArray(o)) return JSON.parse(JSON.stringify(o));
	if(typeof o != 'object' || o == null) return o;
	if(o instanceof Date) return new Date(o.getTime());
	var out = {};
	for(var k in o) if(o.hasOwnProperty(k)) out[k] = dup(o[k]);
	return out;
}

function fill(c,l) { var o = ""; while(o.length < l) o+=c; return o; }

/* TODO: stress test */
function fuzzynum(s) {
	var v = Number(s);
	if(!isNaN(v)) return v;
	var wt = 1;
	var ss = s.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g, function() { wt *= 100; return "";});
	if(!isNaN(v = Number(ss))) return v / wt;
	ss = ss.replace(/[(](.*)[)]/,function($$, $1) { wt = -wt; return $1;});
	if(!isNaN(v = Number(ss))) return v / wt;
	return v;
}
function fuzzydate(s) {
	var o = new Date(s), n = new Date(NaN);
	var y = o.getYear(), m = o.getMonth(), d = o.getDate();
	if(isNaN(d)) return n;
	if(y < 0 || y > 8099) return n;
	if((m > 0 || d > 1) && y != 101) return o;
	if(s.toLowerCase().match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)) return o;
	if(s.match(/[^-0-9:,\/\\]/)) return n;
	return o;
}

var safe_split_regex = "abacaba".split(/(:?b)/i).length == 5;
function split_regex(str, re, def) {
	if(safe_split_regex || typeof re == "string") return str.split(re);
	var p = str.split(re), o = [p[0]];
	for(var i = 1; i < p.length; ++i) { o.push(def); o.push(p[i]); }
	return o;
}
function getdatastr(data) {
	if(!data) return null;
	if(data.data) return debom(data.data);
	if(data.asNodeBuffer && has_buf) return debom(data.asNodeBuffer().toString('binary'));
	if(data.asBinary) return debom(data.asBinary());
	if(data._data && data._data.getContent) return debom(cc2str(Array.prototype.slice.call(data._data.getContent(),0)));
	return null;
}

function getdatabin(data) {
	if(!data) return null;
	if(data.data) return char_codes(data.data);
	if(data.asNodeBuffer && has_buf) return data.asNodeBuffer();
	if(data._data && data._data.getContent) {
		var o = data._data.getContent();
		if(typeof o == "string") return char_codes(o);
		return Array.prototype.slice.call(o);
	}
	return null;
}

function getdata(data) { return (data && data.name.slice(-4) === ".bin") ? getdatabin(data) : getdatastr(data); }

/* Part 2 Section 10.1.2 "Mapping Content Types" Names are case-insensitive */
/* OASIS does not comment on filename case sensitivity */
function safegetzipfile(zip, file) {
	var k = keys(zip.files);
	var f = file.toLowerCase(), g = f.replace(/\//g,'\\');
	for(var i=0; i<k.length; ++i) {
		var n = k[i].toLowerCase();
		if(f == n || g == n) return zip.files[k[i]];
	}
	return null;
}

function getzipfile(zip, file) {
	var o = safegetzipfile(zip, file);
	if(o == null) throw new Error("Cannot find file " + file + " in zip");
	return o;
}

function getzipdata(zip, file, safe) {
	if(!safe) return getdata(getzipfile(zip, file));
	if(!file) return null;
	try { return getzipdata(zip, file); } catch(e) { return null; }
}

function getzipstr(zip, file, safe) {
	if(!safe) return getdatastr(getzipfile(zip, file));
	if(!file) return null;
	try { return getzipstr(zip, file); } catch(e) { return null; }
}

function zipentries(zip) {
	var k = keys(zip.files), o = [];
	for(var i = 0; i < k.length; ++i) if(k[i].slice(-1) != '/') o.push(k[i]);
	return o.sort();
}

var jszip;
/*global JSZipSync:true */
if(typeof JSZipSync !== 'undefined') jszip = JSZipSync;
if(true) {
	if(typeof module !== 'undefined' && module.exports) {
		if(typeof jszip === 'undefined') jszip = __webpack_require__(17);
	}
}

function resolve_path(path, base) {
	var result = base.split('/');
	if(base.slice(-1) != "/") result.pop(); // folder path
	var target = path.split('/');
	while (target.length !== 0) {
		var step = target.shift();
		if (step === '..') result.pop();
		else if (step !== '.') result.push(step);
	}
	return result.join('/');
}
var XML_HEADER = '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n';
var attregexg=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g;
var tagregex=/<[\/\?]?[a-zA-Z0-9:]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s?[\/\?]?>/g;
if(!(XML_HEADER.match(tagregex))) tagregex = /<[^>]*>/g;
var nsregex=/<\w*:/, nsregex2 = /<(\/?)\w+:/;
function parsexmltag(tag, skip_root) {
	var z = ({});
	var eq = 0, c = 0;
	for(; eq !== tag.length; ++eq) if((c = tag.charCodeAt(eq)) === 32 || c === 10 || c === 13) break;
	if(!skip_root) z[0] = tag.slice(0, eq);
	if(eq === tag.length) return z;
	var m = tag.match(attregexg), j=0, v="", i=0, q="", cc="", quot = 1;
	if(m) for(i = 0; i != m.length; ++i) {
		cc = m[i];
		for(c=0; c != cc.length; ++c) if(cc.charCodeAt(c) === 61) break;
		q = cc.slice(0,c).trim();
		while(cc.charCodeAt(c+1) == 32) ++c;
		quot = ((eq=cc.charCodeAt(c+1)) == 34 || eq == 39) ? 1 : 0;
		v = cc.slice(c+1+quot, cc.length-quot);
		for(j=0;j!=q.length;++j) if(q.charCodeAt(j) === 58) break;
		if(j===q.length) {
			if(q.indexOf("_") > 0) q = q.slice(0, q.indexOf("_")); // from ods
			z[q] = v;
		}
		else {
			var k = (j===5 && q.slice(0,5)==="xmlns"?"xmlns":"")+q.slice(j+1);
			if(z[k] && q.slice(j-3,j) == "ext") continue; // from ods
			z[k] = v;
		}
	}
	return z;
}
function strip_ns(x) { return x.replace(nsregex2, "<$1"); }

var encodings = {
	'&quot;': '"',
	'&apos;': "'",
	'&gt;': '>',
	'&lt;': '<',
	'&amp;': '&'
};
var rencoding = evert(encodings);
//var rencstr = "&<>'\"".split("");

// TODO: CP remap (need to read file version to determine OS)
var unescapexml = (function() {
	/* 22.4.2.4 bstr (Basic String) */
	var encregex = /&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/g, coderegex = /_x([\da-fA-F]{4})_/g;
	return function unescapexml(text) {
		var s = text + '', i = s.indexOf("<![CDATA[");
		if(i == -1) return s.replace(encregex, function($$, $1) { return encodings[$$]||String.fromCharCode(parseInt($1,$$.indexOf("x")>-1?16:10))||$$; }).replace(coderegex,function(m,c) {return String.fromCharCode(parseInt(c,16));});
		var j = s.indexOf("]]>");
		return unescapexml(s.slice(0, i)) + s.slice(i+9,j) + unescapexml(s.slice(j+3));
	};
})();

var decregex=/[&<>'"]/g, charegex = /[\u0000-\u0008\u000b-\u001f]/g;
function escapexml(text){
	var s = text + '';
	return s.replace(decregex, function(y) { return rencoding[y]; }).replace(charegex,function(s) { return "_x" + ("000"+s.charCodeAt(0).toString(16)).slice(-4) + "_";});
}
function escapexmltag(text){ return escapexml(text).replace(/ /g,"_x0020_"); }

var htmlcharegex = /[\u0000-\u001f]/g;
function escapehtml(text){
	var s = text + '';
	return s.replace(decregex, function(y) { return rencoding[y]; }).replace(htmlcharegex,function(s) { return "&#x" + ("000"+s.charCodeAt(0).toString(16)).slice(-4) + ";"; });
}

function escapexlml(text){
	var s = text + '';
	return s.replace(decregex, function(y) { return rencoding[y]; }).replace(htmlcharegex,function(s) { return "&#x" + (s.charCodeAt(0).toString(16)).toUpperCase() + ";"; });
}

/* TODO: handle codepages */
var xlml_fixstr = (function() {
	var entregex = /&#(\d+);/g;
	function entrepl($$,$1) { return String.fromCharCode(parseInt($1,10)); }
	return function xlml_fixstr(str) { return str.replace(entregex,entrepl); };
})();
var xlml_unfixstr = (function() {
	return function xlml_unfixstr(str) { return str.replace(/(\r\n|[\r\n])/g,"\&#10;"); };
})();

function parsexmlbool(value) {
	switch(value) {
		case 1: case true: case '1': case 'true': case 'TRUE': return true;
		/* case '0': case 'false': case 'FALSE':*/
		default: return false;
	}
}

var utf8read = function utf8reada(orig) {
	var out = "", i = 0, c = 0, d = 0, e = 0, f = 0, w = 0;
	while (i < orig.length) {
		c = orig.charCodeAt(i++);
		if (c < 128) { out += String.fromCharCode(c); continue; }
		d = orig.charCodeAt(i++);
		if (c>191 && c<224) { f = ((c & 31) << 6); f |= (d & 63); out += String.fromCharCode(f); continue; }
		e = orig.charCodeAt(i++);
		if (c < 240) { out += String.fromCharCode(((c & 15) << 12) | ((d & 63) << 6) | (e & 63)); continue; }
		f = orig.charCodeAt(i++);
		w = (((c & 7) << 18) | ((d & 63) << 12) | ((e & 63) << 6) | (f & 63))-65536;
		out += String.fromCharCode(0xD800 + ((w>>>10)&1023));
		out += String.fromCharCode(0xDC00 + (w&1023));
	}
	return out;
};

var utf8write = function(orig) {
	var out = [], i = 0, c = 0, d = 0;
	while(i < orig.length) {
		c = orig.charCodeAt(i++);
		switch(true) {
			case c < 128: out.push(String.fromCharCode(c)); break;
			case c < 2048:
				out.push(String.fromCharCode(192 + (c >> 6)));
				out.push(String.fromCharCode(128 + (c & 63)));
				break;
			case c >= 55296 && c < 57344:
				c -= 55296; d = orig.charCodeAt(i++) - 56320 + (c<<10);
				out.push(String.fromCharCode(240 + ((d >>18) & 7)));
				out.push(String.fromCharCode(144 + ((d >>12) & 63)));
				out.push(String.fromCharCode(128 + ((d >> 6) & 63)));
				out.push(String.fromCharCode(128 + (d & 63)));
				break;
			default:
				out.push(String.fromCharCode(224 + (c >> 12)));
				out.push(String.fromCharCode(128 + ((c >> 6) & 63)));
				out.push(String.fromCharCode(128 + (c & 63)));
		}
	}
	return out.join("");
};

if(has_buf) {
	var utf8readb = function utf8readb(data) {
		var out = Buffer.alloc(2*data.length), w, i, j = 1, k = 0, ww=0, c;
		for(i = 0; i < data.length; i+=j) {
			j = 1;
			if((c=data.charCodeAt(i)) < 128) w = c;
			else if(c < 224) { w = (c&31)*64+(data.charCodeAt(i+1)&63); j=2; }
			else if(c < 240) { w=(c&15)*4096+(data.charCodeAt(i+1)&63)*64+(data.charCodeAt(i+2)&63); j=3; }
			else { j = 4;
				w = (c & 7)*262144+(data.charCodeAt(i+1)&63)*4096+(data.charCodeAt(i+2)&63)*64+(data.charCodeAt(i+3)&63);
				w -= 65536; ww = 0xD800 + ((w>>>10)&1023); w = 0xDC00 + (w&1023);
			}
			if(ww !== 0) { out[k++] = ww&255; out[k++] = ww>>>8; ww = 0; }
			out[k++] = w%256; out[k++] = w>>>8;
		}
		return out.slice(0,k).toString('ucs2');
	};
	var corpus = "foo bar baz\u00e2\u0098\u0083\u00f0\u009f\u008d\u00a3";
	if(utf8read(corpus) == utf8readb(corpus)) utf8read = utf8readb;
	// $FlowIgnore
	var utf8readc = function utf8readc(data) { return Buffer_from(data, 'binary').toString('utf8'); };
	if(utf8read(corpus) == utf8readc(corpus)) utf8read = utf8readc;

	// $FlowIgnore
	utf8write = function(data) { return Buffer_from(data, 'utf8').toString("binary"); };
}

// matches <foo>...</foo> extracts content
var matchtag = (function() {
	var mtcache = ({});
	return function matchtag(f,g) {
		var t = f+"|"+(g||"");
		if(mtcache[t]) return mtcache[t];
		return (mtcache[t] = new RegExp('<(?:\\w+:)?'+f+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+f+'>',((g||""))));
	};
})();

var htmldecode = (function() {
	var entities = [
		['nbsp', ' '], ['middot', 'Â·'],
		['quot', '"'], ['apos', "'"], ['gt',   '>'], ['lt',   '<'], ['amp',  '&']
	].map(function(x) { return [new RegExp('&' + x[0] + ';', "g"), x[1]]; });
	return function htmldecode(str) {
		var o = str.replace(/^[\t\n\r ]+/, "").replace(/[\t\n\r ]+$/,"").replace(/[\t\n\r ]+/g, " ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,"");
		for(var i = 0; i < entities.length; ++i) o = o.replace(entities[i][0], entities[i][1]);
		return o;
	};
})();

var vtregex = (function(){ var vt_cache = {};
	return function vt_regex(bt) {
		if(vt_cache[bt] !== undefined) return vt_cache[bt];
		return (vt_cache[bt] = new RegExp("<(?:vt:)?" + bt + ">([\\s\\S]*?)</(?:vt:)?" + bt + ">", 'g') );
};})();
var vtvregex = /<\/?(?:vt:)?variant>/g, vtmregex = /<(?:vt:)([^>]*)>([\s\S]*)</;
function parseVector(data, opts) {
	var h = parsexmltag(data);

	var matches = data.match(vtregex(h.baseType))||[];
	var res = [];
	if(matches.length != h.size) {
		if(opts.WTF) throw new Error("unexpected vector length " + matches.length + " != " + h.size);
		return res;
	}
	matches.forEach(function(x) {
		var v = x.replace(vtvregex,"").match(vtmregex);
		if(v) res.push({v:utf8read(v[2]), t:v[1]});
	});
	return res;
}

var wtregex = /(^\s|\s$|\n)/;
function writetag(f,g) { return '<' + f + (g.match(wtregex)?' xml:space="preserve"' : "") + '>' + g + '</' + f + '>'; }

function wxt_helper(h) { return keys(h).map(function(k) { return " " + k + '="' + h[k] + '"';}).join(""); }
function writextag(f,g,h) { return '<' + f + ((h != null) ? wxt_helper(h) : "") + ((g != null) ? (g.match(wtregex)?' xml:space="preserve"' : "") + '>' + g + '</' + f : "/") + '>';}

function write_w3cdtf(d, t) { try { return d.toISOString().replace(/\.\d*/,""); } catch(e) { if(t) throw e; } return ""; }

function write_vt(s) {
	switch(typeof s) {
		case 'string': return writextag('vt:lpwstr', s);
		case 'number': return writextag((s|0)==s?'vt:i4':'vt:r8', String(s));
		case 'boolean': return writextag('vt:bool',s?'true':'false');
	}
	if(s instanceof Date) return writextag('vt:filetime', write_w3cdtf(s));
	throw new Error("Unable to serialize " + s);
}

var XMLNS = ({
	'dc': 'http://purl.org/dc/elements/1.1/',
	'dcterms': 'http://purl.org/dc/terms/',
	'dcmitype': 'http://purl.org/dc/dcmitype/',
	'mx': 'http://schemas.microsoft.com/office/mac/excel/2008/main',
	'r': 'http://schemas.openxmlformats.org/officeDocument/2006/relationships',
	'sjs': 'http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties',
	'vt': 'http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes',
	'xsi': 'http://www.w3.org/2001/XMLSchema-instance',
	'xsd': 'http://www.w3.org/2001/XMLSchema'
});

XMLNS.main = [
	'http://schemas.openxmlformats.org/spreadsheetml/2006/main',
	'http://purl.oclc.org/ooxml/spreadsheetml/main',
	'http://schemas.microsoft.com/office/excel/2006/main',
	'http://schemas.microsoft.com/office/excel/2006/2'
];

var XLMLNS = ({
	'o':    'urn:schemas-microsoft-com:office:office',
	'x':    'urn:schemas-microsoft-com:office:excel',
	'ss':   'urn:schemas-microsoft-com:office:spreadsheet',
	'dt':   'uuid:C2F41010-65B3-11d1-A29F-00AA00C14882',
	'mv':   'http://macVmlSchemaUri',
	'v':    'urn:schemas-microsoft-com:vml',
	'html': 'http://www.w3.org/TR/REC-html40'
});
function read_double_le(b, idx) {
	var s = 1 - 2 * (b[idx + 7] >>> 7);
	var e = ((b[idx + 7] & 0x7f) << 4) + ((b[idx + 6] >>> 4) & 0x0f);
	var m = (b[idx+6]&0x0f);
	for(var i = 5; i >= 0; --i) m = m * 256 + b[idx + i];
	if(e == 0x7ff) return m == 0 ? (s * Infinity) : NaN;
	if(e == 0) e = -1022;
	else { e -= 1023; m += Math.pow(2,52); }
	return s * Math.pow(2, e - 52) * m;
}

function write_double_le(b, v, idx) {
	var bs = ((((v < 0) || (1/v == -Infinity)) ? 1 : 0) << 7), e = 0, m = 0;
	var av = bs ? (-v) : v;
	if(!isFinite(av)) { e = 0x7ff; m = isNaN(v) ? 0x6969 : 0; }
	else if(av == 0) e = m = 0;
	else {
		e = Math.floor(Math.log(av) / Math.LN2);
		m = av * Math.pow(2, 52 - e);
		if((e <= -1023) && (!isFinite(m) || (m < Math.pow(2,52)))) { e = -1022; }
		else { m -= Math.pow(2,52); e+=1023; }
	}
	for(var i = 0; i <= 5; ++i, m/=256) b[idx + i] = m & 0xff;
	b[idx + 6] = ((e & 0x0f) << 4) | (m & 0xf);
	b[idx + 7] = (e >> 4) | bs;
}

var __toBuffer = function(bufs) { var x=[],w=10240; for(var i=0;i<bufs[0].length;++i) if(bufs[0][i]) for(var j=0,L=bufs[0][i].length;j<L;j+=w) x.push.apply(x, bufs[0][i].slice(j,j+w)); return x; };
var ___toBuffer = __toBuffer;
var __utf16le = function(b,s,e) { var ss=[]; for(var i=s; i<e; i+=2) ss.push(String.fromCharCode(__readUInt16LE(b,i))); return ss.join("").replace(chr0,''); };
var ___utf16le = __utf16le;
var __hexlify = function(b,s,l) { var ss=[]; for(var i=s; i<s+l; ++i) ss.push(("0" + b[i].toString(16)).slice(-2)); return ss.join(""); };
var ___hexlify = __hexlify;
var __utf8 = function(b,s,e) { var ss=[]; for(var i=s; i<e; i++) ss.push(String.fromCharCode(__readUInt8(b,i))); return ss.join(""); };
var ___utf8 = __utf8;
var __lpstr = function(b,i) { var len = __readUInt32LE(b,i); return len > 0 ? __utf8(b, i+4,i+4+len-1) : "";};
var ___lpstr = __lpstr;
var __cpstr = function(b,i) { var len = __readUInt32LE(b,i); return len > 0 ? __utf8(b, i+4,i+4+len-1) : "";};
var ___cpstr = __cpstr;
var __lpwstr = function(b,i) { var len = 2*__readUInt32LE(b,i); return len > 0 ? __utf8(b, i+4,i+4+len-1) : "";};
var ___lpwstr = __lpwstr;
var __lpp4, ___lpp4;
__lpp4 = ___lpp4 = function lpp4_(b,i) { var len = __readUInt32LE(b,i); return len > 0 ? __utf16le(b, i+4,i+4+len) : "";};
var __8lpp4 = function(b,i) { var len = __readUInt32LE(b,i); return len > 0 ? __utf8(b, i+4,i+4+len) : "";};
var ___8lpp4 = __8lpp4;
var __double, ___double;
__double = ___double = function(b, idx) { return read_double_le(b, idx);};
var is_buf = function is_buf_a(a) { return Array.isArray(a); };

if(has_buf) {
	__utf16le = function(b,s,e) { if(!Buffer.isBuffer(b)) return ___utf16le(b,s,e); return b.toString('utf16le',s,e).replace(chr0,'')/*.replace(chr1,'!')*/; };
	__hexlify = function(b,s,l) { return Buffer.isBuffer(b) ? b.toString('hex',s,s+l) : ___hexlify(b,s,l); };
	__lpstr = function lpstr_b(b, i) { if(!Buffer.isBuffer(b)) return ___lpstr(b, i); var len = b.readUInt32LE(i); return len > 0 ? b.toString('utf8',i+4,i+4+len-1) : "";};
	__cpstr = function cpstr_b(b, i) { if(!Buffer.isBuffer(b)) return ___cpstr(b, i); var len = b.readUInt32LE(i); return len > 0 ? b.toString('utf8',i+4,i+4+len-1) : "";};
	__lpwstr = function lpwstr_b(b, i) { if(!Buffer.isBuffer(b)) return ___lpwstr(b, i); var len = 2*b.readUInt32LE(i); return b.toString('utf16le',i+4,i+4+len-1);};
	__lpp4 = function lpp4_b(b, i) { if(!Buffer.isBuffer(b)) return ___lpp4(b, i); var len = b.readUInt32LE(i); return b.toString('utf16le',i+4,i+4+len);};
	__8lpp4 = function lpp4_8b(b, i) { if(!Buffer.isBuffer(b)) return ___8lpp4(b, i); var len = b.readUInt32LE(i); return b.toString('utf8',i+4,i+4+len);};
	__utf8 = function utf8_b(b, s, e) { return (Buffer.isBuffer(b)) ? b.toString('utf8',s,e) : ___utf8(b,s,e); };
	__toBuffer = function(bufs) { return (bufs[0].length > 0 && Buffer.isBuffer(bufs[0][0])) ? Buffer.concat(bufs[0]) : ___toBuffer(bufs);};
	bconcat = function(bufs) { return Buffer.isBuffer(bufs[0]) ? Buffer.concat(bufs) : [].concat.apply([], bufs); };
	__double = function double_(b, i) { if(Buffer.isBuffer(b)) return b.readDoubleLE(i); return ___double(b,i); };
	is_buf = function is_buf_b(a) { return Buffer.isBuffer(a) || Array.isArray(a); };
}

/* from js-xls */
if(typeof cptable !== 'undefined') {
	__utf16le = function(b,s,e) { return cptable.utils.decode(1200, b.slice(s,e)).replace(chr0, ''); };
	__utf8 = function(b,s,e) { return cptable.utils.decode(65001, b.slice(s,e)); };
	__lpstr = function(b,i) { var len = __readUInt32LE(b,i); return len > 0 ? cptable.utils.decode(current_ansi, b.slice(i+4, i+4+len-1)) : "";};
	__cpstr = function(b,i) { var len = __readUInt32LE(b,i); return len > 0 ? cptable.utils.decode(current_codepage, b.slice(i+4, i+4+len-1)) : "";};
	__lpwstr = function(b,i) { var len = 2*__readUInt32LE(b,i); return len > 0 ? cptable.utils.decode(1200, b.slice(i+4,i+4+len-1)) : "";};
	__lpp4 = function(b,i) { var len = __readUInt32LE(b,i); return len > 0 ? cptable.utils.decode(1200, b.slice(i+4,i+4+len)) : "";};
	__8lpp4 = function(b,i) { var len = __readUInt32LE(b,i); return len > 0 ? cptable.utils.decode(65001, b.slice(i+4,i+4+len)) : "";};
}

var __readUInt8 = function(b, idx) { return b[idx]; };
var __readUInt16LE = function(b, idx) { return (b[idx+1]*(1<<8))+b[idx]; };
var __readInt16LE = function(b, idx) { var u = (b[idx+1]*(1<<8))+b[idx]; return (u < 0x8000) ? u : ((0xffff - u + 1) * -1); };
var __readUInt32LE = function(b, idx) { return b[idx+3]*(1<<24)+(b[idx+2]<<16)+(b[idx+1]<<8)+b[idx]; };
var __readInt32LE = function(b, idx) { return (b[idx+3]<<24)|(b[idx+2]<<16)|(b[idx+1]<<8)|b[idx]; };
var __readInt32BE = function(b, idx) { return (b[idx]<<24)|(b[idx+1]<<16)|(b[idx+2]<<8)|b[idx+3]; };

function ReadShift(size, t) {
	var o="", oI, oR, oo=[], w, vv, i, loc;
	switch(t) {
		case 'dbcs':
			loc = this.l;
			if(has_buf && Buffer.isBuffer(this)) o = this.slice(this.l, this.l+2*size).toString("utf16le");
			else for(i = 0; i < size; ++i) { o+=String.fromCharCode(__readUInt16LE(this, loc)); loc+=2; }
			size *= 2;
			break;

		case 'utf8': o = __utf8(this, this.l, this.l + size); break;
		case 'utf16le': size *= 2; o = __utf16le(this, this.l, this.l + size); break;

		case 'wstr':
			if(typeof cptable !== 'undefined') o = cptable.utils.decode(current_codepage, this.slice(this.l, this.l+2*size));
			else return ReadShift.call(this, size, 'dbcs');
			size = 2 * size; break;

		/* [MS-OLEDS] 2.1.4 LengthPrefixedAnsiString */
		case 'lpstr-ansi': o = __lpstr(this, this.l); size = 4 + __readUInt32LE(this, this.l); break;
		case 'lpstr-cp': o = __cpstr(this, this.l); size = 4 + __readUInt32LE(this, this.l); break;
		/* [MS-OLEDS] 2.1.5 LengthPrefixedUnicodeString */
		case 'lpwstr': o = __lpwstr(this, this.l); size = 4 + 2 * __readUInt32LE(this, this.l); break;
		/* [MS-OFFCRYPTO] 2.1.2 Length-Prefixed Padded Unicode String (UNICODE-LP-P4) */
		case 'lpp4': size = 4 +  __readUInt32LE(this, this.l); o = __lpp4(this, this.l); if(size & 0x02) size += 2; break;
		/* [MS-OFFCRYPTO] 2.1.3 Length-Prefixed UTF-8 String (UTF-8-LP-P4) */
		case '8lpp4': size = 4 +  __readUInt32LE(this, this.l); o = __8lpp4(this, this.l); if(size & 0x03) size += 4 - (size & 0x03); break;

		case 'cstr': size = 0; o = "";
			while((w=__readUInt8(this, this.l + size++))!==0) oo.push(_getchar(w));
			o = oo.join(""); break;
		case '_wstr': size = 0; o = "";
			while((w=__readUInt16LE(this,this.l +size))!==0){oo.push(_getchar(w));size+=2;}
			size+=2; o = oo.join(""); break;

		/* sbcs and dbcs support continue records in the SST way TODO codepages */
		case 'dbcs-cont': o = ""; loc = this.l;
			for(i = 0; i < size; ++i) {
				if(this.lens && this.lens.indexOf(loc) !== -1) {
					w = __readUInt8(this, loc);
					this.l = loc + 1;
					vv = ReadShift.call(this, size-i, w ? 'dbcs-cont' : 'sbcs-cont');
					return oo.join("") + vv;
				}
				oo.push(_getchar(__readUInt16LE(this, loc)));
				loc+=2;
			} o = oo.join(""); size *= 2; break;

		case 'cpstr':
			if(typeof cptable !== 'undefined') {
				o = cptable.utils.decode(current_codepage, this.slice(this.l, this.l + size));
				break;
			}
		/* falls through */
		case 'sbcs-cont': o = ""; loc = this.l;
			for(i = 0; i != size; ++i) {
				if(this.lens && this.lens.indexOf(loc) !== -1) {
					w = __readUInt8(this, loc);
					this.l = loc + 1;
					vv = ReadShift.call(this, size-i, w ? 'dbcs-cont' : 'sbcs-cont');
					return oo.join("") + vv;
				}
				oo.push(_getchar(__readUInt8(this, loc)));
				loc+=1;
			} o = oo.join(""); break;

		default:
	switch(size) {
		case 1: oI = __readUInt8(this, this.l); this.l++; return oI;
		case 2: oI = (t === 'i' ? __readInt16LE : __readUInt16LE)(this, this.l); this.l += 2; return oI;
		case 4: case -4:
			if(t === 'i' || ((this[this.l+3] & 0x80)===0)) { oI = ((size > 0) ? __readInt32LE : __readInt32BE)(this, this.l); this.l += 4; return oI; }
			else { oR = __readUInt32LE(this, this.l); this.l += 4; } return oR;
		case 8: case -8:
			if(t === 'f') {
				if(size == 8) oR = __double(this, this.l);
				else oR = __double([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]], 0);
				this.l += 8; return oR;
			} else size = 8;
		/* falls through */
		case 16: o = __hexlify(this, this.l, size); break;
	}}
	this.l+=size; return o;
}

var __writeUInt32LE = function(b, val, idx) { b[idx] = (val & 0xFF); b[idx+1] = ((val >>> 8) & 0xFF); b[idx+2] = ((val >>> 16) & 0xFF); b[idx+3] = ((val >>> 24) & 0xFF); };
var __writeInt32LE  = function(b, val, idx) { b[idx] = (val & 0xFF); b[idx+1] = ((val >> 8) & 0xFF); b[idx+2] = ((val >> 16) & 0xFF); b[idx+3] = ((val >> 24) & 0xFF); };
var __writeUInt16LE = function(b, val, idx) { b[idx] = (val & 0xFF); b[idx+1] = ((val >>> 8) & 0xFF); };

function WriteShift(t, val, f) {
	var size = 0, i = 0;
	if(f === 'dbcs') {
for(i = 0; i != val.length; ++i) __writeUInt16LE(this, val.charCodeAt(i), this.l + 2 * i);
		size = 2 * val.length;
	} else if(f === 'sbcs') {
		/* TODO: codepage */
val = val.replace(/[^\x00-\x7F]/g, "_");
for(i = 0; i != val.length; ++i) this[this.l + i] = (val.charCodeAt(i) & 0xFF);
		size = val.length;
	} else if(f === 'hex') {
		for(; i < t; ++i) {
this[this.l++] = (parseInt(val.slice(2*i, 2*i+2), 16)||0);
		} return this;
	} else if(f === 'utf16le') {
var end = Math.min(this.l + t, this.length);
			for(i = 0; i < Math.min(val.length, t); ++i) {
				var cc = val.charCodeAt(i);
				this[this.l++] = (cc & 0xff);
				this[this.l++] = (cc >> 8);
			}
			while(this.l < end) this[this.l++] = 0;
			return this;
	} else  switch(t) {
		case  1: size = 1; this[this.l] = val&0xFF; break;
		case  2: size = 2; this[this.l] = val&0xFF; val >>>= 8; this[this.l+1] = val&0xFF; break;
		case  3: size = 3; this[this.l] = val&0xFF; val >>>= 8; this[this.l+1] = val&0xFF; val >>>= 8; this[this.l+2] = val&0xFF; break;
		case  4: size = 4; __writeUInt32LE(this, val, this.l); break;
		case  8: size = 8; if(f === 'f') { write_double_le(this, val, this.l); break; }
		/* falls through */
		case 16: break;
		case -4: size = 4; __writeInt32LE(this, val, this.l); break;
	}
	this.l += size; return this;
}

function CheckField(hexstr, fld) {
	var m = __hexlify(this,this.l,hexstr.length>>1);
	if(m !== hexstr) throw new Error(fld + 'Expected ' + hexstr + ' saw ' + m);
	this.l += hexstr.length>>1;
}

function prep_blob(blob, pos) {
	blob.l = pos;
	blob.read_shift = ReadShift;
	blob.chk = CheckField;
	blob.write_shift = WriteShift;
}

function parsenoop(blob, length) { blob.l += length; }

function new_buf(sz) {
	var o = new_raw_buf(sz);
	prep_blob(o, 0);
	return o;
}

/* [MS-XLSB] 2.1.4 Record */
function recordhopper(data, cb, opts) {
	if(!data) return;
	var tmpbyte, cntbyte, length;
	prep_blob(data, data.l || 0);
	var L = data.length, RT = 0, tgt = 0;
	while(data.l < L) {
		RT = data.read_shift(1);
		if(RT & 0x80) RT = (RT & 0x7F) + ((data.read_shift(1) & 0x7F)<<7);
		var R = XLSBRecordEnum[RT] || XLSBRecordEnum[0xFFFF];
		tmpbyte = data.read_shift(1);
		length = tmpbyte & 0x7F;
		for(cntbyte = 1; cntbyte <4 && (tmpbyte & 0x80); ++cntbyte) length += ((tmpbyte = data.read_shift(1)) & 0x7F)<<(7*cntbyte);
		tgt = data.l + length;
		var d = (R.f||parsenoop)(data, length, opts);
		data.l = tgt;
		if(cb(d, R.n, RT)) return;
	}
}

/* control buffer usage for fixed-length buffers */
function buf_array() {
	var bufs = [], blksz = has_buf ? 256 : 2048;
	var newblk = function ba_newblk(sz) {
		var o = (new_buf(sz));
		prep_blob(o, 0);
		return o;
	};

	var curbuf = newblk(blksz);

	var endbuf = function ba_endbuf() {
		if(!curbuf) return;
		if(curbuf.length > curbuf.l) { curbuf = curbuf.slice(0, curbuf.l); curbuf.l = curbuf.length; }
		if(curbuf.length > 0) bufs.push(curbuf);
		curbuf = null;
	};

	var next = function ba_next(sz) {
		if(curbuf && (sz < (curbuf.length - curbuf.l))) return curbuf;
		endbuf();
		return (curbuf = newblk(Math.max(sz+1, blksz)));
	};

	var end = function ba_end() {
		endbuf();
		return __toBuffer([bufs]);
	};

	var push = function ba_push(buf) { endbuf(); curbuf = buf; if(curbuf.l == null) curbuf.l = curbuf.length; next(blksz); };

	return ({ next:next, push:push, end:end, _bufs:bufs });
}

function write_record(ba, type, payload, length) {
	var t = +XLSBRE[type], l;
	if(isNaN(t)) return; // TODO: throw something here?
	if(!length) length = XLSBRecordEnum[t].p || (payload||[]).length || 0;
	l = 1 + (t >= 0x80 ? 1 : 0) + 1/* + length*/;
	if(length >= 0x80) ++l; if(length >= 0x4000) ++l; if(length >= 0x200000) ++l;
	var o = ba.next(l);
	if(t <= 0x7F) o.write_shift(1, t);
	else {
		o.write_shift(1, (t & 0x7F) + 0x80);
		o.write_shift(1, (t >> 7));
	}
	for(var i = 0; i != 4; ++i) {
		if(length >= 0x80) { o.write_shift(1, (length & 0x7F)+0x80); length >>= 7; }
		else { o.write_shift(1, length); break; }
	}
	if(length > 0 && is_buf(payload)) ba.push(payload);
}
/* XLS ranges enforced */
function shift_cell_xls(cell, tgt, opts) {
	var out = dup(cell);
	if(tgt.s) {
		if(out.cRel) out.c += tgt.s.c;
		if(out.rRel) out.r += tgt.s.r;
	} else {
		if(out.cRel) out.c += tgt.c;
		if(out.rRel) out.r += tgt.r;
	}
	if(!opts || opts.biff < 12) {
		while(out.c >= 0x100) out.c -= 0x100;
		while(out.r >= 0x10000) out.r -= 0x10000;
	}
	return out;
}

function shift_range_xls(cell, range, opts) {
	var out = dup(cell);
	out.s = shift_cell_xls(out.s, range.s, opts);
	out.e = shift_cell_xls(out.e, range.s, opts);
	return out;
}

function encode_cell_xls(c, biff) {
	if(c.cRel && c.c < 0) { c = dup(c); c.c += (biff > 8) ? 0x4000 : 0x100; }
	if(c.rRel && c.r < 0) { c = dup(c); c.r += (biff > 8) ? 0x100000 : ((biff > 5) ? 0x10000 : 0x4000); }
	var s = encode_cell(c);
	if(c.cRel === 0) s = fix_col(s);
	if(c.rRel === 0) s = fix_row(s);
	return s;
}

function encode_range_xls(r, opts) {
	if(r.s.r == 0 && !r.s.rRel) {
		if(r.e.r == (opts.biff >= 12 ? 0xFFFFF : (opts.biff >= 8 ? 0x10000 : 0x4000)) && !r.e.rRel) {
			return (r.s.cRel ? "" : "$") + encode_col(r.s.c) + ":" + (r.e.cRel ? "" : "$") + encode_col(r.e.c);
		}
	}
	if(r.s.c == 0 && !r.s.cRel) {
		if(r.e.c == (opts.biff >= 12 ? 0xFFFF : 0xFF) && !r.e.cRel) {
			return (r.s.rRel ? "" : "$") + encode_row(r.s.r) + ":" + (r.e.rRel ? "" : "$") + encode_row(r.e.r);
		}
	}
	return encode_cell_xls(r.s, opts.biff) + ":" + encode_cell_xls(r.e, opts.biff);
}
var OFFCRYPTO = {};

var make_offcrypto = function(O, _crypto) {
	var crypto;
	if(typeof _crypto !== 'undefined') crypto = _crypto;
	else if(true) {
		try { crypto = __webpack_require__(15); }
		catch(e) { crypto = null; }
	}

	O.rc4 = function(key, data) {
		var S = new Array(256);
		var c = 0, i = 0, j = 0, t = 0;
		for(i = 0; i != 256; ++i) S[i] = i;
		for(i = 0; i != 256; ++i) {
			j = (j + S[i] + (key[i%key.length]).charCodeAt(0))&255;
			t = S[i]; S[i] = S[j]; S[j] = t;
		}
		// $FlowIgnore
		i = j = 0; var out = Buffer(data.length);
		for(c = 0; c != data.length; ++c) {
			i = (i + 1)&255;
			j = (j + S[i])%256;
			t = S[i]; S[i] = S[j]; S[j] = t;
			out[c] = (data[c] ^ S[(S[i]+S[j])&255]);
		}
		return out;
	};

	O.md5 = function(hex) {
		if(!crypto) throw new Error("Unsupported crypto");
		return crypto.createHash('md5').update(hex).digest('hex');
	};
};
/*global crypto:true */
make_offcrypto(OFFCRYPTO, typeof crypto !== "undefined" ? crypto : undefined);

function decode_row(rowstr) { return parseInt(unfix_row(rowstr),10) - 1; }
function encode_row(row) { return "" + (row + 1); }
function fix_row(cstr) { return cstr.replace(/([A-Z]|^)(\d+)$/,"$1$$$2"); }
function unfix_row(cstr) { return cstr.replace(/\$(\d+)$/,"$1"); }

function decode_col(colstr) { var c = unfix_col(colstr), d = 0, i = 0; for(; i !== c.length; ++i) d = 26*d + c.charCodeAt(i) - 64; return d - 1; }
function encode_col(col) { var s=""; for(++col; col; col=Math.floor((col-1)/26)) s = String.fromCharCode(((col-1)%26) + 65) + s; return s; }
function fix_col(cstr) { return cstr.replace(/^([A-Z])/,"$$$1"); }
function unfix_col(cstr) { return cstr.replace(/^\$([A-Z])/,"$1"); }

function split_cell(cstr) { return cstr.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(","); }
function decode_cell(cstr) { var splt = split_cell(cstr); return { c:decode_col(splt[0]), r:decode_row(splt[1]) }; }
function encode_cell(cell) { return encode_col(cell.c) + encode_row(cell.r); }
function decode_range(range) { var x =range.split(":").map(decode_cell); return {s:x[0],e:x[x.length-1]}; }
function encode_range(cs,ce) {
	if(typeof ce === 'undefined' || typeof ce === 'number') {
return encode_range(cs.s, cs.e);
	}
if(typeof cs !== 'string') cs = encode_cell((cs));
	if(typeof ce !== 'string') ce = encode_cell((ce));
return cs == ce ? cs : cs + ":" + ce;
}

function safe_decode_range(range) {
	var o = {s:{c:0,r:0},e:{c:0,r:0}};
	var idx = 0, i = 0, cc = 0;
	var len = range.length;
	for(idx = 0; i < len; ++i) {
		if((cc=range.charCodeAt(i)-64) < 1 || cc > 26) break;
		idx = 26*idx + cc;
	}
	o.s.c = --idx;

	for(idx = 0; i < len; ++i) {
		if((cc=range.charCodeAt(i)-48) < 0 || cc > 9) break;
		idx = 10*idx + cc;
	}
	o.s.r = --idx;

	if(i === len || range.charCodeAt(++i) === 58) { o.e.c=o.s.c; o.e.r=o.s.r; return o; }

	for(idx = 0; i != len; ++i) {
		if((cc=range.charCodeAt(i)-64) < 1 || cc > 26) break;
		idx = 26*idx + cc;
	}
	o.e.c = --idx;

	for(idx = 0; i != len; ++i) {
		if((cc=range.charCodeAt(i)-48) < 0 || cc > 9) break;
		idx = 10*idx + cc;
	}
	o.e.r = --idx;
	return o;
}

function safe_format_cell(cell, v) {
	var q = (cell.t == 'd' && v instanceof Date);
	if(cell.z != null) try { return (cell.w = SSF.format(cell.z, q ? datenum(v) : v)); } catch(e) { }
	try { return (cell.w = SSF.format((cell.XF||{}).numFmtId||(q ? 14 : 0),  q ? datenum(v) : v)); } catch(e) { return ''+v; }
}

function format_cell(cell, v, o) {
	if(cell == null || cell.t == null || cell.t == 'z') return "";
	if(cell.w !== undefined) return cell.w;
	if(cell.t == 'd' && !cell.z && o && o.dateNF) cell.z = o.dateNF;
	if(v == undefined) return safe_format_cell(cell, cell.v);
	return safe_format_cell(cell, v);
}

function sheet_to_workbook(sheet, opts) {
	var n = opts && opts.sheet ? opts.sheet : "Sheet1";
	var sheets = {}; sheets[n] = sheet;
	return { SheetNames: [n], Sheets: sheets };
}

function sheet_add_aoa(_ws, data, opts) {
	var o = opts || {};
	var dense = _ws ? Array.isArray(_ws) : o.dense;
	if(DENSE != null && dense == null) dense = DENSE;
	var ws = _ws || (dense ? ([]) : ({}));
	var _R = 0, _C = 0;
	if(ws && o.origin != null) {
		if(typeof o.origin == 'number') _R = o.origin;
		else {
			var _origin = typeof o.origin == "string" ? decode_cell(o.origin) : o.origin;
			_R = _origin.r; _C = _origin.c;
		}
	}
	var range = ({s: {c:10000000, r:10000000}, e: {c:0, r:0}});
	if(ws['!ref']) {
		var _range = safe_decode_range(ws['!ref']);
		range.s.c = _range.s.c;
		range.s.r = _range.s.r;
		range.e.c = Math.max(range.e.c, _range.e.c);
		range.e.r = Math.max(range.e.r, _range.e.r);
		if(_R == -1) range.e.r = _R = _range.e.r + 1;
	}
	for(var R = 0; R != data.length; ++R) {
		for(var C = 0; C != data[R].length; ++C) {
			if(typeof data[R][C] === 'undefined') continue;
			var cell = ({v: data[R][C] });
			if(Array.isArray(cell.v)) { cell.f = data[R][C][1]; cell.v = cell.v[0]; }
			var __R = _R + R, __C = _C + C;
			if(range.s.r > __R) range.s.r = __R;
			if(range.s.c > __C) range.s.c = __C;
			if(range.e.r < __R) range.e.r = __R;
			if(range.e.c < __C) range.e.c = __C;
			if(cell.v === null) { if(cell.f) cell.t = 'n'; else if(!o.cellStubs) continue; else cell.t = 'z'; }
			else if(typeof cell.v === 'number') cell.t = 'n';
			else if(typeof cell.v === 'boolean') cell.t = 'b';
			else if(cell.v instanceof Date) {
				cell.z = o.dateNF || SSF._table[14];
				if(o.cellDates) { cell.t = 'd'; cell.w = SSF.format(cell.z, datenum(cell.v)); }
				else { cell.t = 'n'; cell.v = datenum(cell.v); cell.w = SSF.format(cell.z, cell.v); }
			}
			else cell.t = 's';
			if(dense) {
				if(!ws[__R]) ws[__R] = [];
				ws[__R][__C] = cell;
			} else {
				var cell_ref = encode_cell(({c:__C,r:__R}));
				ws[cell_ref] = cell;
			}
		}
	}
	if(range.s.c < 10000000) ws['!ref'] = encode_range(range);
	return ws;
}
function aoa_to_sheet(data, opts) { return sheet_add_aoa(null, data, opts); }

function write_UInt32LE(x, o) {
	if(!o) o = new_buf(4);
	o.write_shift(4, x);
	return o;
}

/* [MS-XLSB] 2.5.168 */
function parse_XLWideString(data) {
	var cchCharacters = data.read_shift(4);
	return cchCharacters === 0 ? "" : data.read_shift(cchCharacters, 'dbcs');
}
function write_XLWideString(data, o) {
	var _null = false; if(o == null) { _null = true; o = new_buf(4+2*data.length); }
	o.write_shift(4, data.length);
	if(data.length > 0) o.write_shift(0, data, 'dbcs');
	return _null ? o.slice(0, o.l) : o;
}

/* [MS-XLSB] 2.5.143 */
function parse_StrRun(data) {
	return { ich: data.read_shift(2), ifnt: data.read_shift(2) };
}
function write_StrRun(run, o) {
	if(!o) o = new_buf(4);
	o.write_shift(2, run.ich || 0);
	o.write_shift(2, run.ifnt || 0);
	return o;
}

/* [MS-XLSB] 2.5.121 */
function parse_RichStr(data, length) {
	var start = data.l;
	var flags = data.read_shift(1);
	var str = parse_XLWideString(data);
	var rgsStrRun = [];
	var z = ({ t: str, h: str });
	if((flags & 1) !== 0) { /* fRichStr */
		/* TODO: formatted string */
		var dwSizeStrRun = data.read_shift(4);
		for(var i = 0; i != dwSizeStrRun; ++i) rgsStrRun.push(parse_StrRun(data));
		z.r = rgsStrRun;
	}
	else z.r = [{ich:0, ifnt:0}];
	//if((flags & 2) !== 0) { /* fExtStr */
	//	/* TODO: phonetic string */
	//}
	data.l = start + length;
	return z;
}
function write_RichStr(str, o) {
	/* TODO: formatted string */
	var _null = false; if(o == null) { _null = true; o = new_buf(15+4*str.t.length); }
	o.write_shift(1,0);
	write_XLWideString(str.t, o);
	return _null ? o.slice(0, o.l) : o;
}
/* [MS-XLSB] 2.4.328 BrtCommentText (RichStr w/1 run) */
var parse_BrtCommentText = parse_RichStr;
function write_BrtCommentText(str, o) {
	/* TODO: formatted string */
	var _null = false; if(o == null) { _null = true; o = new_buf(23+4*str.t.length); }
	o.write_shift(1,1);
	write_XLWideString(str.t, o);
	o.write_shift(4,1);
	write_StrRun({ich:0,ifnt:0}, o);
	return _null ? o.slice(0, o.l) : o;
}

/* [MS-XLSB] 2.5.9 */
function parse_XLSBCell(data) {
	var col = data.read_shift(4);
	var iStyleRef = data.read_shift(2);
	iStyleRef += data.read_shift(1) <<16;
	data.l++; //var fPhShow = data.read_shift(1);
	return { c:col, iStyleRef: iStyleRef };
}
function write_XLSBCell(cell, o) {
	if(o == null) o = new_buf(8);
	o.write_shift(-4, cell.c);
	o.write_shift(3, cell.iStyleRef || cell.s);
	o.write_shift(1, 0); /* fPhShow */
	return o;
}


/* [MS-XLSB] 2.5.21 */
var parse_XLSBCodeName = parse_XLWideString;
var write_XLSBCodeName = write_XLWideString;

/* [MS-XLSB] 2.5.166 */
function parse_XLNullableWideString(data) {
	var cchCharacters = data.read_shift(4);
	return cchCharacters === 0 || cchCharacters === 0xFFFFFFFF ? "" : data.read_shift(cchCharacters, 'dbcs');
}
function write_XLNullableWideString(data, o) {
	var _null = false; if(o == null) { _null = true; o = new_buf(127); }
	o.write_shift(4, data.length > 0 ? data.length : 0xFFFFFFFF);
	if(data.length > 0) o.write_shift(0, data, 'dbcs');
	return _null ? o.slice(0, o.l) : o;
}

/* [MS-XLSB] 2.5.165 */
var parse_XLNameWideString = parse_XLWideString;
//var write_XLNameWideString = write_XLWideString;

/* [MS-XLSB] 2.5.114 */
var parse_RelID = parse_XLNullableWideString;
var write_RelID = write_XLNullableWideString;


/* [MS-XLS] 2.5.217 ; [MS-XLSB] 2.5.122 */
function parse_RkNumber(data) {
	var b = data.slice(data.l, data.l+4);
	var fX100 = (b[0] & 1), fInt = (b[0] & 2);
	data.l+=4;
	b[0] &= 0xFC; // b[0] &= ~3;
	var RK = fInt === 0 ? __double([0,0,0,0,b[0],b[1],b[2],b[3]],0) : __readInt32LE(b,0)>>2;
	return fX100 ? (RK/100) : RK;
}
function write_RkNumber(data, o) {
	if(o == null) o = new_buf(4);
	var fX100 = 0, fInt = 0, d100 = data * 100;
	if((data == (data | 0)) && (data >= -(1<<29)) && (data < (1 << 29))) { fInt = 1; }
	else if((d100 == (d100 | 0)) && (d100 >= -(1<<29)) && (d100 < (1 << 29))) { fInt = 1; fX100 = 1; }
	if(fInt) o.write_shift(-4, ((fX100 ? d100 : data) << 2) + (fX100 + 2));
	else throw new Error("unsupported RkNumber " + data); // TODO
}


/* [MS-XLSB] 2.5.117 RfX */
function parse_RfX(data ) {
	var cell = ({s: {}, e: {}});
	cell.s.r = data.read_shift(4);
	cell.e.r = data.read_shift(4);
	cell.s.c = data.read_shift(4);
	cell.e.c = data.read_shift(4);
	return cell;
}
function write_RfX(r, o) {
	if(!o) o = new_buf(16);
	o.write_shift(4, r.s.r);
	o.write_shift(4, r.e.r);
	o.write_shift(4, r.s.c);
	o.write_shift(4, r.e.c);
	return o;
}

/* [MS-XLSB] 2.5.153 UncheckedRfX */
var parse_UncheckedRfX = parse_RfX;
var write_UncheckedRfX = write_RfX;

/* [MS-XLS] 2.5.342 ; [MS-XLSB] 2.5.171 */
/* TODO: error checking, NaN and Infinity values are not valid Xnum */
function parse_Xnum(data) { return data.read_shift(8, 'f'); }
function write_Xnum(data, o) { return (o || new_buf(8)).write_shift(8, data, 'f'); }

/* [MS-XLSB] 2.5.97.2 */
var BErr = {
0x00: "#NULL!",
0x07: "#DIV/0!",
0x0F: "#VALUE!",
0x17: "#REF!",
0x1D: "#NAME?",
0x24: "#NUM!",
0x2A: "#N/A",
0x2B: "#GETTING_DATA",
0xFF: "#WTF?"
};
var RBErr = evert_num(BErr);

/* [MS-XLSB] 2.4.324 BrtColor */
function parse_BrtColor(data) {
	var out = {};
	var d = data.read_shift(1);

	//var fValidRGB = d & 1;
	var xColorType = d >>> 1;

	var index = data.read_shift(1);
	var nTS = data.read_shift(2, 'i');
	var bR = data.read_shift(1);
	var bG = data.read_shift(1);
	var bB = data.read_shift(1);
	data.l++; //var bAlpha = data.read_shift(1);

	switch(xColorType) {
		case 0: out.auto = 1; break;
		case 1:
			out.index = index;
			var icv = XLSIcv[index];
			/* automatic pseudo index 81 */
			if(icv) out.rgb = rgb2Hex(icv);
			break;
		case 2:
			/* if(!fValidRGB) throw new Error("invalid"); */
			out.rgb = rgb2Hex([bR, bG, bB]);
			break;
		case 3: out.theme = index; break;
	}
	if(nTS != 0) out.tint = nTS > 0 ? nTS / 32767 : nTS / 32768;

	return out;
}
function write_BrtColor(color, o) {
	if(!o) o = new_buf(8);
	if(!color||color.auto) { o.write_shift(4, 0); o.write_shift(4, 0); return o; }
	if(color.index) {
		o.write_shift(1, 0x02);
		o.write_shift(1, color.index);
	} else if(color.theme) {
		o.write_shift(1, 0x06);
		o.write_shift(1, color.theme);
	} else {
		o.write_shift(1, 0x05);
		o.write_shift(1, 0);
	}
	var nTS = color.tint || 0;
	if(nTS > 0) nTS *= 32767;
	else if(nTS < 0) nTS *= 32768;
	o.write_shift(2, nTS);
	if(!color.rgb) {
		o.write_shift(2, 0);
		o.write_shift(1, 0);
		o.write_shift(1, 0);
	} else {
		var rgb = (color.rgb || 'FFFFFF');
		o.write_shift(1, parseInt(rgb.slice(0,2),16));
		o.write_shift(1, parseInt(rgb.slice(2,4),16));
		o.write_shift(1, parseInt(rgb.slice(4,6),16));
		o.write_shift(1, 0xFF);
	}
	return o;
}

/* [MS-XLSB] 2.5.52 */
function parse_FontFlags(data) {
	var d = data.read_shift(1);
	data.l++;
	var out = {
		/* fBold: d & 0x01 */
		fItalic: d & 0x02,
		/* fUnderline: d & 0x04 */
		fStrikeout: d & 0x08,
		fOutline: d & 0x10,
		fShadow: d & 0x20,
		fCondense: d & 0x40,
		fExtend: d & 0x80
	};
	return out;
}
function write_FontFlags(font, o) {
	if(!o) o = new_buf(2);
	var grbit =
		(font.italic   ? 0x02 : 0) |
		(font.strike   ? 0x08 : 0) |
		(font.outline  ? 0x10 : 0) |
		(font.shadow   ? 0x20 : 0) |
		(font.condense ? 0x40 : 0) |
		(font.extend   ? 0x80 : 0);
	o.write_shift(1, grbit);
	o.write_shift(1, 0);
	return o;
}

/* [MS-OLEDS] 2.3.1 and 2.3.2 */
function parse_ClipboardFormatOrString(o, w) {
	// $FlowIgnore
	var ClipFmt = {2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"};
	var m = o.read_shift(4);
	switch(m) {
		case 0x00000000: return "";
		case 0xffffffff: case 0xfffffffe: return ClipFmt[o.read_shift(4)]||"";
	}
	if(m > 0x190) throw new Error("Unsupported Clipboard: " + m.toString(16));
	o.l -= 4;
	return o.read_shift(0, w == 1 ? "lpstr" : "lpwstr");
}
function parse_ClipboardFormatOrAnsiString(o) { return parse_ClipboardFormatOrString(o, 1); }
function parse_ClipboardFormatOrUnicodeString(o) { return parse_ClipboardFormatOrString(o, 2); }

/* [MS-OLEPS] 2.2 PropertyType */
//var VT_EMPTY    = 0x0000;
//var VT_NULL     = 0x0001;
var VT_I2       = 0x0002;
var VT_I4       = 0x0003;
//var VT_R4       = 0x0004;
//var VT_R8       = 0x0005;
//var VT_CY       = 0x0006;
//var VT_DATE     = 0x0007;
//var VT_BSTR     = 0x0008;
//var VT_ERROR    = 0x000A;
var VT_BOOL     = 0x000B;
var VT_VARIANT  = 0x000C;
//var VT_DECIMAL  = 0x000E;
//var VT_I1       = 0x0010;
//var VT_UI1      = 0x0011;
//var VT_UI2      = 0x0012;
var VT_UI4      = 0x0013;
//var VT_I8       = 0x0014;
//var VT_UI8      = 0x0015;
//var VT_INT      = 0x0016;
//var VT_UINT     = 0x0017;
var VT_LPSTR    = 0x001E;
//var VT_LPWSTR   = 0x001F;
var VT_FILETIME = 0x0040;
var VT_BLOB     = 0x0041;
//var VT_STREAM   = 0x0042;
//var VT_STORAGE  = 0x0043;
//var VT_STREAMED_Object  = 0x0044;
//var VT_STORED_Object    = 0x0045;
//var VT_BLOB_Object      = 0x0046;
var VT_CF       = 0x0047;
//var VT_CLSID    = 0x0048;
//var VT_VERSIONED_STREAM = 0x0049;
var VT_VECTOR   = 0x1000;
//var VT_ARRAY    = 0x2000;

var VT_STRING   = 0x0050; // 2.3.3.1.11 VtString
var VT_USTR     = 0x0051; // 2.3.3.1.12 VtUnalignedString
var VT_CUSTOM   = [VT_STRING, VT_USTR];

/* [MS-OSHARED] 2.3.3.2.2.1 Document Summary Information PIDDSI */
var DocSummaryPIDDSI = {
0x01: { n: 'CodePage', t: VT_I2 },
0x02: { n: 'Category', t: VT_STRING },
0x03: { n: 'PresentationFormat', t: VT_STRING },
0x04: { n: 'ByteCount', t: VT_I4 },
0x05: { n: 'LineCount', t: VT_I4 },
0x06: { n: 'ParagraphCount', t: VT_I4 },
0x07: { n: 'SlideCount', t: VT_I4 },
0x08: { n: 'NoteCount', t: VT_I4 },
0x09: { n: 'HiddenCount', t: VT_I4 },
0x0a: { n: 'MultimediaClipCount', t: VT_I4 },
0x0b: { n: 'ScaleCrop', t: VT_BOOL },
0x0c: { n: 'HeadingPairs', t: VT_VECTOR | VT_VARIANT },
0x0d: { n: 'TitlesOfParts', t: VT_VECTOR | VT_LPSTR },
0x0e: { n: 'Manager', t: VT_STRING },
0x0f: { n: 'Company', t: VT_STRING },
0x10: { n: 'LinksUpToDate', t: VT_BOOL },
0x11: { n: 'CharacterCount', t: VT_I4 },
0x13: { n: 'SharedDoc', t: VT_BOOL },
0x16: { n: 'HyperlinksChanged', t: VT_BOOL },
0x17: { n: 'AppVersion', t: VT_I4, p: 'version' },
0x18: { n: 'DigSig', t: VT_BLOB },
0x1A: { n: 'ContentType', t: VT_STRING },
0x1B: { n: 'ContentStatus', t: VT_STRING },
0x1C: { n: 'Language', t: VT_STRING },
0x1D: { n: 'Version', t: VT_STRING },
0xFF: {}
};

/* [MS-OSHARED] 2.3.3.2.1.1 Summary Information Property Set PIDSI */
var SummaryPIDSI = {
0x01: { n: 'CodePage', t: VT_I2 },
0x02: { n: 'Title', t: VT_STRING },
0x03: { n: 'Subject', t: VT_STRING },
0x04: { n: 'Author', t: VT_STRING },
0x05: { n: 'Keywords', t: VT_STRING },
0x06: { n: 'Comments', t: VT_STRING },
0x07: { n: 'Template', t: VT_STRING },
0x08: { n: 'LastAuthor', t: VT_STRING },
0x09: { n: 'RevNumber', t: VT_STRING },
0x0A: { n: 'EditTime', t: VT_FILETIME },
0x0B: { n: 'LastPrinted', t: VT_FILETIME },
0x0C: { n: 'CreatedDate', t: VT_FILETIME },
0x0D: { n: 'ModifiedDate', t: VT_FILETIME },
0x0E: { n: 'PageCount', t: VT_I4 },
0x0F: { n: 'WordCount', t: VT_I4 },
0x10: { n: 'CharCount', t: VT_I4 },
0x11: { n: 'Thumbnail', t: VT_CF },
0x12: { n: 'Application', t: VT_STRING },
0x13: { n: 'DocSecurity', t: VT_I4 },
0xFF: {}
};

/* [MS-OLEPS] 2.18 */
var SpecialProperties = {
0x80000000: { n: 'Locale', t: VT_UI4 },
0x80000003: { n: 'Behavior', t: VT_UI4 },
0x72627262: {}
};

(function() {
	for(var y in SpecialProperties) if(SpecialProperties.hasOwnProperty(y))
	DocSummaryPIDDSI[y] = SummaryPIDSI[y] = SpecialProperties[y];
})();

var DocSummaryRE = evert_key(DocSummaryPIDDSI, "n");
var SummaryRE = evert_key(SummaryPIDSI, "n");

/* [MS-XLS] 2.4.63 Country/Region codes */
var CountryEnum = {
0x0001: "US", // United States
0x0002: "CA", // Canada
0x0003: "", // Latin America (except Brazil)
0x0007: "RU", // Russia
0x0014: "EG", // Egypt
0x001E: "GR", // Greece
0x001F: "NL", // Netherlands
0x0020: "BE", // Belgium
0x0021: "FR", // France
0x0022: "ES", // Spain
0x0024: "HU", // Hungary
0x0027: "IT", // Italy
0x0029: "CH", // Switzerland
0x002B: "AT", // Austria
0x002C: "GB", // United Kingdom
0x002D: "DK", // Denmark
0x002E: "SE", // Sweden
0x002F: "NO", // Norway
0x0030: "PL", // Poland
0x0031: "DE", // Germany
0x0034: "MX", // Mexico
0x0037: "BR", // Brazil
0x003d: "AU", // Australia
0x0040: "NZ", // New Zealand
0x0042: "TH", // Thailand
0x0051: "JP", // Japan
0x0052: "KR", // Korea
0x0054: "VN", // Viet Nam
0x0056: "CN", // China
0x005A: "TR", // Turkey
0x0069: "JS", // Ramastan
0x00D5: "DZ", // Algeria
0x00D8: "MA", // Morocco
0x00DA: "LY", // Libya
0x015F: "PT", // Portugal
0x0162: "IS", // Iceland
0x0166: "FI", // Finland
0x01A4: "CZ", // Czech Republic
0x0376: "TW", // Taiwan
0x03C1: "LB", // Lebanon
0x03C2: "JO", // Jordan
0x03C3: "SY", // Syria
0x03C4: "IQ", // Iraq
0x03C5: "KW", // Kuwait
0x03C6: "SA", // Saudi Arabia
0x03CB: "AE", // United Arab Emirates
0x03CC: "IL", // Israel
0x03CE: "QA", // Qatar
0x03D5: "IR", // Iran
0xFFFF: "US"  // United States
};

/* [MS-XLS] 2.5.127 */
var XLSFillPattern = [
	null,
	'solid',
	'mediumGray',
	'darkGray',
	'lightGray',
	'darkHorizontal',
	'darkVertical',
	'darkDown',
	'darkUp',
	'darkGrid',
	'darkTrellis',
	'lightHorizontal',
	'lightVertical',
	'lightDown',
	'lightUp',
	'lightGrid',
	'lightTrellis',
	'gray125',
	'gray0625'
];

function rgbify(arr) { return arr.map(function(x) { return [(x>>16)&255,(x>>8)&255,x&255]; }); }

/* [MS-XLS] 2.5.161 */
/* [MS-XLSB] 2.5.75 Icv */
var XLSIcv = rgbify([
	/* Color Constants */
	0x000000,
	0xFFFFFF,
	0xFF0000,
	0x00FF00,
	0x0000FF,
	0xFFFF00,
	0xFF00FF,
	0x00FFFF,

	/* Overridable Defaults */
	0x000000,
	0xFFFFFF,
	0xFF0000,
	0x00FF00,
	0x0000FF,
	0xFFFF00,
	0xFF00FF,
	0x00FFFF,

	0x800000,
	0x008000,
	0x000080,
	0x808000,
	0x800080,
	0x008080,
	0xC0C0C0,
	0x808080,
	0x9999FF,
	0x993366,
	0xFFFFCC,
	0xCCFFFF,
	0x660066,
	0xFF8080,
	0x0066CC,
	0xCCCCFF,

	0x000080,
	0xFF00FF,
	0xFFFF00,
	0x00FFFF,
	0x800080,
	0x800000,
	0x008080,
	0x0000FF,
	0x00CCFF,
	0xCCFFFF,
	0xCCFFCC,
	0xFFFF99,
	0x99CCFF,
	0xFF99CC,
	0xCC99FF,
	0xFFCC99,

	0x3366FF,
	0x33CCCC,
	0x99CC00,
	0xFFCC00,
	0xFF9900,
	0xFF6600,
	0x666699,
	0x969696,
	0x003366,
	0x339966,
	0x003300,
	0x333300,
	0x993300,
	0x993366,
	0x333399,
	0x333333,

	/* Other entries to appease BIFF8/12 */
	0xFFFFFF, /* 0x40 icvForeground ?? */
	0x000000, /* 0x41 icvBackground ?? */
	0x000000, /* 0x42 icvFrame ?? */
	0x000000, /* 0x43 icv3D ?? */
	0x000000, /* 0x44 icv3DText ?? */
	0x000000, /* 0x45 icv3DHilite ?? */
	0x000000, /* 0x46 icv3DShadow ?? */
	0x000000, /* 0x47 icvHilite ?? */
	0x000000, /* 0x48 icvCtlText ?? */
	0x000000, /* 0x49 icvCtlScrl ?? */
	0x000000, /* 0x4A icvCtlInv ?? */
	0x000000, /* 0x4B icvCtlBody ?? */
	0x000000, /* 0x4C icvCtlFrame ?? */
	0x000000, /* 0x4D icvCtlFore ?? */
	0x000000, /* 0x4E icvCtlBack ?? */
	0x000000, /* 0x4F icvCtlNeutral */
	0x000000, /* 0x50 icvInfoBk ?? */
	0x000000 /* 0x51 icvInfoText ?? */
]);

/* Parts enumerated in OPC spec, MS-XLSB and MS-XLSX */
/* 12.3 Part Summary <SpreadsheetML> */
/* 14.2 Part Summary <DrawingML> */
/* [MS-XLSX] 2.1 Part Enumerations ; [MS-XLSB] 2.1.7 Part Enumeration */
var ct2type/*{[string]:string}*/ = ({
	/* Workbook */
	"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml": "workbooks",

	/* Worksheet */
	"application/vnd.ms-excel.binIndexWs": "TODO", /* Binary Index */

	/* Macrosheet */
	"application/vnd.ms-excel.intlmacrosheet": "TODO",
	"application/vnd.ms-excel.binIndexMs": "TODO", /* Binary Index */

	/* File Properties */
	"application/vnd.openxmlformats-package.core-properties+xml": "coreprops",
	"application/vnd.openxmlformats-officedocument.custom-properties+xml": "custprops",
	"application/vnd.openxmlformats-officedocument.extended-properties+xml": "extprops",

	/* Custom Data Properties */
	"application/vnd.openxmlformats-officedocument.customXmlProperties+xml": "TODO",
	"application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty": "TODO",

	/* PivotTable */
	"application/vnd.ms-excel.pivotTable": "TODO",
	"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml": "TODO",

	/* Chart Colors */
	"application/vnd.ms-office.chartcolorstyle+xml": "TODO",

	/* Chart Style */
	"application/vnd.ms-office.chartstyle+xml": "TODO",

	/* Calculation Chain */
	"application/vnd.ms-excel.calcChain": "calcchains",
	"application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml": "calcchains",

	/* Printer Settings */
	"application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings": "TODO",

	/* ActiveX */
	"application/vnd.ms-office.activeX": "TODO",
	"application/vnd.ms-office.activeX+xml": "TODO",

	/* Custom Toolbars */
	"application/vnd.ms-excel.attachedToolbars": "TODO",

	/* External Data Connections */
	"application/vnd.ms-excel.connections": "TODO",
	"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml": "TODO",

	/* External Links */
	"application/vnd.ms-excel.externalLink": "links",
	"application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml": "links",

	/* Metadata */
	"application/vnd.ms-excel.sheetMetadata": "TODO",
	"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml": "TODO",

	/* PivotCache */
	"application/vnd.ms-excel.pivotCacheDefinition": "TODO",
	"application/vnd.ms-excel.pivotCacheRecords": "TODO",
	"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml": "TODO",
	"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml": "TODO",

	/* Query Table */
	"application/vnd.ms-excel.queryTable": "TODO",
	"application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml": "TODO",

	/* Shared Workbook */
	"application/vnd.ms-excel.userNames": "TODO",
	"application/vnd.ms-excel.revisionHeaders": "TODO",
	"application/vnd.ms-excel.revisionLog": "TODO",
	"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml": "TODO",
	"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml": "TODO",
	"application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml": "TODO",

	/* Single Cell Table */
	"application/vnd.ms-excel.tableSingleCells": "TODO",
	"application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml": "TODO",

	/* Slicer */
	"application/vnd.ms-excel.slicer": "TODO",
	"application/vnd.ms-excel.slicerCache": "TODO",
	"application/vnd.ms-excel.slicer+xml": "TODO",
	"application/vnd.ms-excel.slicerCache+xml": "TODO",

	/* Sort Map */
	"application/vnd.ms-excel.wsSortMap": "TODO",

	/* Table */
	"application/vnd.ms-excel.table": "TODO",
	"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml": "TODO",

	/* Themes */
	"application/vnd.openxmlformats-officedocument.theme+xml": "themes",

	/* Theme Override */
	"application/vnd.openxmlformats-officedocument.themeOverride+xml": "TODO",

	/* Timeline */
	"application/vnd.ms-excel.Timeline+xml": "TODO", /* verify */
	"application/vnd.ms-excel.TimelineCache+xml": "TODO", /* verify */

	/* VBA */
	"application/vnd.ms-office.vbaProject": "vba",
	"application/vnd.ms-office.vbaProjectSignature": "vba",

	/* Volatile Dependencies */
	"application/vnd.ms-office.volatileDependencies": "TODO",
	"application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml": "TODO",

	/* Control Properties */
	"application/vnd.ms-excel.controlproperties+xml": "TODO",

	/* Data Model */
	"application/vnd.openxmlformats-officedocument.model+data": "TODO",

	/* Survey */
	"application/vnd.ms-excel.Survey+xml": "TODO",

	/* Drawing */
	"application/vnd.openxmlformats-officedocument.drawing+xml": "drawings",
	"application/vnd.openxmlformats-officedocument.drawingml.chart+xml": "TODO",
	"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml": "TODO",
	"application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml": "TODO",
	"application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml": "TODO",
	"application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml": "TODO",
	"application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml": "TODO",

	/* VML */
	"application/vnd.openxmlformats-officedocument.vmlDrawing": "TODO",

	"application/vnd.openxmlformats-package.relationships+xml": "rels",
	"application/vnd.openxmlformats-officedocument.oleObject": "TODO",

	/* Image */
	"image/png": "TODO",

	"sheet": "js"
});

var CT_LIST = (function(){
	var o = {
		workbooks: {
			xlsx: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",
			xlsm: "application/vnd.ms-excel.sheet.macroEnabled.main+xml",
			xlsb: "application/vnd.ms-excel.sheet.binary.macroEnabled.main",
			xlam: "application/vnd.ms-excel.addin.macroEnabled.main+xml",
			xltx: "application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"
		},
		strs: { /* Shared Strings */
			xlsx: "application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",
			xlsb: "application/vnd.ms-excel.sharedStrings"
		},
		comments: { /* Comments */
			xlsx: "application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",
			xlsb: "application/vnd.ms-excel.comments"
		},
		sheets: { /* Worksheet */
			xlsx: "application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",
			xlsb: "application/vnd.ms-excel.worksheet"
		},
		charts: { /* Chartsheet */
			xlsx: "application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",
			xlsb: "application/vnd.ms-excel.chartsheet"
		},
		dialogs: { /* Dialogsheet */
			xlsx: "application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",
			xlsb: "application/vnd.ms-excel.dialogsheet"
		},
		macros: { /* Macrosheet (Excel 4.0 Macros) */
			xlsx: "application/vnd.ms-excel.macrosheet+xml",
			xlsb: "application/vnd.ms-excel.macrosheet"
		},
		styles: { /* Styles */
			xlsx: "application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",
			xlsb: "application/vnd.ms-excel.styles"
		}
	};
	keys(o).forEach(function(k) { ["xlsm", "xlam"].forEach(function(v) { if(!o[k][v]) o[k][v] = o[k].xlsx; }); });
	keys(o).forEach(function(k){ keys(o[k]).forEach(function(v) { ct2type[o[k][v]] = k; }); });
	return o;
})();

var type2ct/*{[string]:Array<string>}*/ = evert_arr(ct2type);

XMLNS.CT = 'http://schemas.openxmlformats.org/package/2006/content-types';

function new_ct() {
	return ({
		workbooks:[], sheets:[], charts:[], dialogs:[], macros:[],
		rels:[], strs:[], comments:[], links:[],
		coreprops:[], extprops:[], custprops:[], themes:[], styles:[],
		calcchains:[], vba: [], drawings: [],
		TODO:[], xmlns: "" });
}

function parse_ct(data) {
	var ct = new_ct();
	if(!data || !data.match) return ct;
	var ctext = {};
	(data.match(tagregex)||[]).forEach(function(x) {
		var y = parsexmltag(x);
		switch(y[0].replace(nsregex,"<")) {
			case '<?xml': break;
			case '<Types': ct.xmlns = y['xmlns' + (y[0].match(/<(\w+):/)||["",""])[1] ]; break;
			case '<Default': ctext[y.Extension] = y.ContentType; break;
			case '<Override':
				if(ct[ct2type[y.ContentType]] !== undefined) ct[ct2type[y.ContentType]].push(y.PartName);
				break;
		}
	});
	if(ct.xmlns !== XMLNS.CT) throw new Error("Unknown Namespace: " + ct.xmlns);
	ct.calcchain = ct.calcchains.length > 0 ? ct.calcchains[0] : "";
	ct.sst = ct.strs.length > 0 ? ct.strs[0] : "";
	ct.style = ct.styles.length > 0 ? ct.styles[0] : "";
	ct.defaults = ctext;
	delete ct.calcchains;
	return ct;
}

var CTYPE_XML_ROOT = writextag('Types', null, {
	'xmlns': XMLNS.CT,
	'xmlns:xsd': XMLNS.xsd,
	'xmlns:xsi': XMLNS.xsi
});

var CTYPE_DEFAULTS = [
	['xml', 'application/xml'],
	['bin', 'application/vnd.ms-excel.sheet.binary.macroEnabled.main'],
	['vml', 'application/vnd.openxmlformats-officedocument.vmlDrawing'],
	/* from test files */
	['bmp', 'image/bmp'],
	['png', 'image/png'],
	['gif', 'image/gif'],
	['emf', 'image/x-emf'],
	['wmf', 'image/x-wmf'],
	['jpg', 'image/jpeg'], ['jpeg', 'image/jpeg'],
	['tif', 'image/tiff'], ['tiff', 'image/tiff'],
	['pdf', 'application/pdf'],
	['rels', type2ct.rels[0]]
].map(function(x) {
	return writextag('Default', null, {'Extension':x[0], 'ContentType': x[1]});
});

function write_ct(ct, opts) {
	var o = [], v;
	o[o.length] = (XML_HEADER);
	o[o.length] = (CTYPE_XML_ROOT);
	o = o.concat(CTYPE_DEFAULTS);
	var f1 = function(w) {
		if(ct[w] && ct[w].length > 0) {
			v = ct[w][0];
			o[o.length] = (writextag('Override', null, {
				'PartName': (v[0] == '/' ? "":"/") + v,
				'ContentType': CT_LIST[w][opts.bookType || 'xlsx']
			}));
		}
	};
	var f2 = function(w) {
		(ct[w]||[]).forEach(function(v) {
			o[o.length] = (writextag('Override', null, {
				'PartName': (v[0] == '/' ? "":"/") + v,
				'ContentType': CT_LIST[w][opts.bookType || 'xlsx']
			}));
		});
	};
	var f3 = function(t) {
		(ct[t]||[]).forEach(function(v) {
			o[o.length] = (writextag('Override', null, {
				'PartName': (v[0] == '/' ? "":"/") + v,
				'ContentType': type2ct[t][0]
			}));
		});
	};
	f1('workbooks');
	f2('sheets');
	f2('charts');
	f3('themes');
	['strs', 'styles'].forEach(f1);
	['coreprops', 'extprops', 'custprops'].forEach(f3);
	f3('vba');
	f3('comments');
	f3('drawings');
	if(o.length>2){ o[o.length] = ('</Types>'); o[1]=o[1].replace("/>",">"); }
	return o.join("");
}
/* 9.3 Relationships */
var RELS = ({
	WB: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",
	SHEET: "http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",
	HLINK: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",
	VML: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",
	VBA: "http://schemas.microsoft.com/office/2006/relationships/vbaProject"
});

/* 9.3.3 Representing Relationships */
function get_rels_path(file) {
	var n = file.lastIndexOf("/");
	return file.slice(0,n+1) + '_rels/' + file.slice(n+1) + ".rels";
}

function parse_rels(data, currentFilePath) {
	if (!data) return data;
	if (currentFilePath.charAt(0) !== '/') {
		currentFilePath = '/'+currentFilePath;
	}
	var rels = {};
	var hash = {};

	(data.match(tagregex)||[]).forEach(function(x) {
		var y = parsexmltag(x);
		/* 9.3.2.2 OPC_Relationships */
		if (y[0] === '<Relationship') {
			var rel = {}; rel.Type = y.Type; rel.Target = y.Target; rel.Id = y.Id; rel.TargetMode = y.TargetMode;
			var canonictarget = y.TargetMode === 'External' ? y.Target : resolve_path(y.Target, currentFilePath);
			rels[canonictarget] = rel;
			hash[y.Id] = rel;
		}
	});
	rels["!id"] = hash;
	return rels;
}

XMLNS.RELS = 'http://schemas.openxmlformats.org/package/2006/relationships';

var RELS_ROOT = writextag('Relationships', null, {
	//'xmlns:ns0': XMLNS.RELS,
	'xmlns': XMLNS.RELS
});

/* TODO */
function write_rels(rels) {
	var o = [XML_HEADER, RELS_ROOT];
	keys(rels['!id']).forEach(function(rid) {
		o[o.length] = (writextag('Relationship', null, rels['!id'][rid]));
	});
	if(o.length>2){ o[o.length] = ('</Relationships>'); o[1]=o[1].replace("/>",">"); }
	return o.join("");
}

function add_rels(rels, rId, f, type, relobj) {
	if(!relobj) relobj = {};
	if(!rels['!id']) rels['!id'] = {};
	if(rId < 0) for(rId = 1; rels['!id']['rId' + rId]; ++rId){/* empty */}
	relobj.Id = 'rId' + rId;
	relobj.Type = type;
	relobj.Target = f;
	if(relobj.Type == RELS.HLINK) relobj.TargetMode = "External";
	if(rels['!id'][relobj.Id]) throw new Error("Cannot rewrite rId " + rId);
	rels['!id'][relobj.Id] = relobj;
	rels[('/' + relobj.Target).replace("//","/")] = relobj;
	return rId;
}
/* Open Document Format for Office Applications (OpenDocument) Version 1.2 */
/* Part 3 Section 4 Manifest File */
var CT_ODS = "application/vnd.oasis.opendocument.spreadsheet";
function parse_manifest(d, opts) {
	var str = xlml_normalize(d);
	var Rn;
	var FEtag;
	while((Rn = xlmlregex.exec(str))) switch(Rn[3]) {
		case 'manifest': break; // 4.2 <manifest:manifest>
		case 'file-entry': // 4.3 <manifest:file-entry>
			FEtag = parsexmltag(Rn[0], false);
			if(FEtag.path == '/' && FEtag.type !== CT_ODS) throw new Error("This OpenDocument is not a spreadsheet");
			break;
		case 'encryption-data': // 4.4 <manifest:encryption-data>
		case 'algorithm': // 4.5 <manifest:algorithm>
		case 'start-key-generation': // 4.6 <manifest:start-key-generation>
		case 'key-derivation': // 4.7 <manifest:key-derivation>
			throw new Error("Unsupported ODS Encryption");
		default: if(opts && opts.WTF) throw Rn;
	}
}

function write_manifest(manifest) {
	var o = [XML_HEADER];
	o.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n');
	o.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');
	for(var i = 0; i < manifest.length; ++i) o.push('  <manifest:file-entry manifest:full-path="' + manifest[i][0] + '" manifest:media-type="' + manifest[i][1] + '"/>\n');
	o.push('</manifest:manifest>');
	return o.join("");
}

/* Part 3 Section 6 Metadata Manifest File */
function write_rdf_type(file, res, tag) {
	return [
		'  <rdf:Description rdf:about="' + file + '">\n',
		'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/' + (tag || "odf") + '#' + res + '"/>\n',
		'  </rdf:Description>\n'
	].join("");
}
function write_rdf_has(base, file) {
	return [
		'  <rdf:Description rdf:about="' + base + '">\n',
		'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="' + file + '"/>\n',
		'  </rdf:Description>\n'
	].join("");
}
function write_rdf(rdf) {
	var o = [XML_HEADER];
	o.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');
	for(var i = 0; i != rdf.length; ++i) {
		o.push(write_rdf_type(rdf[i][0], rdf[i][1]));
		o.push(write_rdf_has("",rdf[i][0]));
	}
	o.push(write_rdf_type("","Document", "pkg"));
	o.push('</rdf:RDF>');
	return o.join("");
}
/* TODO: pull properties */
var write_meta_ods = (function() {
	var payload = '<?xml version="1.0" encoding="UTF-8" standalone="yes"?><office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>Sheet' + 'JS ' + XLSX.version + '</meta:generator></office:meta></office:document-meta>';
	return function wmo() {
		return payload;
	};
})();

/* ECMA-376 Part II 11.1 Core Properties Part */
/* [MS-OSHARED] 2.3.3.2.[1-2].1 (PIDSI/PIDDSI) */
var CORE_PROPS = [
	["cp:category", "Category"],
	["cp:contentStatus", "ContentStatus"],
	["cp:keywords", "Keywords"],
	["cp:lastModifiedBy", "LastAuthor"],
	["cp:lastPrinted", "LastPrinted"],
	["cp:revision", "RevNumber"],
	["cp:version", "Version"],
	["dc:creator", "Author"],
	["dc:description", "Comments"],
	["dc:identifier", "Identifier"],
	["dc:language", "Language"],
	["dc:subject", "Subject"],
	["dc:title", "Title"],
	["dcterms:created", "CreatedDate", 'date'],
	["dcterms:modified", "ModifiedDate", 'date']
];

XMLNS.CORE_PROPS = "http://schemas.openxmlformats.org/package/2006/metadata/core-properties";
RELS.CORE_PROPS  = 'http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties';

var CORE_PROPS_REGEX = (function() {
	var r = new Array(CORE_PROPS.length);
	for(var i = 0; i < CORE_PROPS.length; ++i) {
		var f = CORE_PROPS[i];
		var g = "(?:"+ f[0].slice(0,f[0].indexOf(":")) +":)"+ f[0].slice(f[0].indexOf(":")+1);
		r[i] = new RegExp("<" + g + "[^>]*>([\\s\\S]*?)<\/" + g + ">");
	}
	return r;
})();

function parse_core_props(data) {
	var p = {};
	data = utf8read(data);

	for(var i = 0; i < CORE_PROPS.length; ++i) {
		var f = CORE_PROPS[i], cur = data.match(CORE_PROPS_REGEX[i]);
		if(cur != null && cur.length > 0) p[f[1]] = cur[1];
		if(f[2] === 'date' && p[f[1]]) p[f[1]] = parseDate(p[f[1]]);
	}

	return p;
}

var CORE_PROPS_XML_ROOT = writextag('cp:coreProperties', null, {
	//'xmlns': XMLNS.CORE_PROPS,
	'xmlns:cp': XMLNS.CORE_PROPS,
	'xmlns:dc': XMLNS.dc,
	'xmlns:dcterms': XMLNS.dcterms,
	'xmlns:dcmitype': XMLNS.dcmitype,
	'xmlns:xsi': XMLNS.xsi
});

function cp_doit(f, g, h, o, p) {
	if(p[f] != null || g == null || g === "") return;
	p[f] = g;
	o[o.length] = (h ? writextag(f,g,h) : writetag(f,g));
}

function write_core_props(cp, _opts) {
	var opts = _opts || {};
	var o = [XML_HEADER, CORE_PROPS_XML_ROOT], p = {};
	if(!cp && !opts.Props) return o.join("");

	if(cp) {
		if(cp.CreatedDate != null) cp_doit("dcterms:created", typeof cp.CreatedDate === "string" ? cp.CreatedDate : write_w3cdtf(cp.CreatedDate, opts.WTF), {"xsi:type":"dcterms:W3CDTF"}, o, p);
		if(cp.ModifiedDate != null) cp_doit("dcterms:modified", typeof cp.ModifiedDate === "string" ? cp.ModifiedDate : write_w3cdtf(cp.ModifiedDate, opts.WTF), {"xsi:type":"dcterms:W3CDTF"}, o, p);
	}

	for(var i = 0; i != CORE_PROPS.length; ++i) {
		var f = CORE_PROPS[i];
		var v = opts.Props && opts.Props[f[1]] != null ? opts.Props[f[1]] : cp ? cp[f[1]] : null;
		if(v === true) v = "1";
		else if(v === false) v = "0";
		else if(typeof v == "number") v = String(v);
		if(v != null) cp_doit(f[0], v, null, o, p);
	}
	if(o.length>2){ o[o.length] = ('</cp:coreProperties>'); o[1]=o[1].replace("/>",">"); }
	return o.join("");
}
/* 15.2.12.3 Extended File Properties Part */
/* [MS-OSHARED] 2.3.3.2.[1-2].1 (PIDSI/PIDDSI) */
var EXT_PROPS = [
	["Application", "Application", "string"],
	["AppVersion", "AppVersion", "string"],
	["Company", "Company", "string"],
	["DocSecurity", "DocSecurity", "string"],
	["Manager", "Manager", "string"],
	["HyperlinksChanged", "HyperlinksChanged", "bool"],
	["SharedDoc", "SharedDoc", "bool"],
	["LinksUpToDate", "LinksUpToDate", "bool"],
	["ScaleCrop", "ScaleCrop", "bool"],
	["HeadingPairs", "HeadingPairs", "raw"],
	["TitlesOfParts", "TitlesOfParts", "raw"]
];

XMLNS.EXT_PROPS = "http://schemas.openxmlformats.org/officeDocument/2006/extended-properties";
RELS.EXT_PROPS  = 'http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties';

var PseudoPropsPairs = [
	"Worksheets",  "SheetNames",
	"NamedRanges", "DefinedNames",
	"Chartsheets", "ChartNames"
];
function load_props_pairs(HP, TOP, props, opts) {
	var v = [];
	if(typeof HP == "string") v = parseVector(HP, opts);
	else for(var j = 0; j < HP.length; ++j) v = v.concat(HP[j].map(function(hp) { return {v:hp}; }));
	var parts = (typeof TOP == "string") ? parseVector(TOP, opts).map(function (x) { return x.v; }) : TOP;
	var idx = 0, len = 0;
	if(parts.length > 0) for(var i = 0; i !== v.length; i += 2) {
		len = +(v[i+1].v);
		switch(v[i].v) {
			case "Worksheets":
			case "å·¥ä½è¡¨":
			case "ÐÐ¸ÑÑÑ":
			case "Ø£ÙØ±Ø§Ù Ø§ÙØ¹ÙÙ":
			case "ã¯ã¼ã¯ã·ã¼ã":
			case "××××× ××ª ×¢××××":
			case "ArbeitsblÃ¤tter":
			case "ÃalÄ±Åma SayfalarÄ±":
			case "Feuilles de calcul":
			case "Fogli di lavoro":
			case "Folhas de cÃ¡lculo":
			case "Planilhas":
			case "Regneark":
			case "Werkbladen":
				props.Worksheets = len;
				props.SheetNames = parts.slice(idx, idx + len);
				break;

			case "Named Ranges":
			case "ååä»ãä¸è¦§":
			case "Benannte Bereiche":
			case "Navngivne omrÃ¥der":
				props.NamedRanges = len;
				props.DefinedNames = parts.slice(idx, idx + len);
				break;

			case "Charts":
			case "Diagramme":
				props.Chartsheets = len;
				props.ChartNames = parts.slice(idx, idx + len);
				break;
		}
		idx += len;
	}
}

function parse_ext_props(data, p, opts) {
	var q = {}; if(!p) p = {};
	data = utf8read(data);

	EXT_PROPS.forEach(function(f) {
		switch(f[2]) {
			case "string": p[f[1]] = (data.match(matchtag(f[0]))||[])[1]; break;
			case "bool": p[f[1]] = (data.match(matchtag(f[0]))||[])[1] === "true"; break;
			case "raw":
				var cur = data.match(new RegExp("<" + f[0] + "[^>]*>([\\s\\S]*?)<\/" + f[0] + ">"));
				if(cur && cur.length > 0) q[f[1]] = cur[1];
				break;
		}
	});

	if(q.HeadingPairs && q.TitlesOfParts) load_props_pairs(q.HeadingPairs, q.TitlesOfParts, p, opts);

	return p;
}

var EXT_PROPS_XML_ROOT = writextag('Properties', null, {
	'xmlns': XMLNS.EXT_PROPS,
	'xmlns:vt': XMLNS.vt
});

function write_ext_props(cp) {
	var o = [], W = writextag;
	if(!cp) cp = {};
	cp.Application = "SheetJS";
	o[o.length] = (XML_HEADER);
	o[o.length] = (EXT_PROPS_XML_ROOT);

	EXT_PROPS.forEach(function(f) {
		if(cp[f[1]] === undefined) return;
		var v;
		switch(f[2]) {
			case 'string': v = String(cp[f[1]]); break;
			case 'bool': v = cp[f[1]] ? 'true' : 'false'; break;
		}
		if(v !== undefined) o[o.length] = (W(f[0], v));
	});

	/* TODO: HeadingPairs, TitlesOfParts */
	o[o.length] = (W('HeadingPairs', W('vt:vector', W('vt:variant', '<vt:lpstr>Worksheets</vt:lpstr>')+W('vt:variant', W('vt:i4', String(cp.Worksheets))), {size:2, baseType:"variant"})));
	o[o.length] = (W('TitlesOfParts', W('vt:vector', cp.SheetNames.map(function(s) { return "<vt:lpstr>" + escapexml(s) + "</vt:lpstr>"; }).join(""), {size: cp.Worksheets, baseType:"lpstr"})));
	if(o.length>2){ o[o.length] = ('</Properties>'); o[1]=o[1].replace("/>",">"); }
	return o.join("");
}
/* 15.2.12.2 Custom File Properties Part */
XMLNS.CUST_PROPS = "http://schemas.openxmlformats.org/officeDocument/2006/custom-properties";
RELS.CUST_PROPS  = 'http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties';

var custregex = /<[^>]+>[^<]*/g;
function parse_cust_props(data, opts) {
	var p = {}, name = "";
	var m = data.match(custregex);
	if(m) for(var i = 0; i != m.length; ++i) {
		var x = m[i], y = parsexmltag(x);
		switch(y[0]) {
			case '<?xml': break;
			case '<Properties': break;
			case '<property': name = y.name; break;
			case '</property>': name = null; break;
			default: if (x.indexOf('<vt:') === 0) {
				var toks = x.split('>');
				var type = toks[0].slice(4), text = toks[1];
				/* 22.4.2.32 (CT_Variant). Omit the binary types from 22.4 (Variant Types) */
				switch(type) {
					case 'lpstr': case 'bstr': case 'lpwstr':
						p[name] = unescapexml(text);
						break;
					case 'bool':
						p[name] = parsexmlbool(text);
						break;
					case 'i1': case 'i2': case 'i4': case 'i8': case 'int': case 'uint':
						p[name] = parseInt(text, 10);
						break;
					case 'r4': case 'r8': case 'decimal':
						p[name] = parseFloat(text);
						break;
					case 'filetime': case 'date':
						p[name] = parseDate(text);
						break;
					case 'cy': case 'error':
						p[name] = unescapexml(text);
						break;
					default:
						if(type.slice(-1) == '/') break;
						if(opts.WTF && typeof console !== 'undefined') console.warn('Unexpected', x, type, toks);
				}
			} else if(x.slice(0,2) === "</") {/* empty */
			} else if(opts.WTF) throw new Error(x);
		}
	}
	return p;
}

var CUST_PROPS_XML_ROOT = writextag('Properties', null, {
	'xmlns': XMLNS.CUST_PROPS,
	'xmlns:vt': XMLNS.vt
});

function write_cust_props(cp) {
	var o = [XML_HEADER, CUST_PROPS_XML_ROOT];
	if(!cp) return o.join("");
	var pid = 1;
	keys(cp).forEach(function custprop(k) { ++pid;
		o[o.length] = (writextag('property', write_vt(cp[k]), {
			'fmtid': '{D5CDD505-2E9C-101B-9397-08002B2CF9AE}',
			'pid': pid,
			'name': k
		}));
	});
	if(o.length>2){ o[o.length] = '</Properties>'; o[1]=o[1].replace("/>",">"); }
	return o.join("");
}
/* Common Name -> XLML Name */
var XLMLDocPropsMap = {
	Title: 'Title',
	Subject: 'Subject',
	Author: 'Author',
	Keywords: 'Keywords',
	Comments: 'Description',
	LastAuthor: 'LastAuthor',
	RevNumber: 'Revision',
	Application: 'AppName',
	/* TotalTime: 'TotalTime', */
	LastPrinted: 'LastPrinted',
	CreatedDate: 'Created',
	ModifiedDate: 'LastSaved',
	/* Pages */
	/* Words */
	/* Characters */
	Category: 'Category',
	/* PresentationFormat */
	Manager: 'Manager',
	Company: 'Company',
	/* Guid */
	/* HyperlinkBase */
	/* Bytes */
	/* Lines */
	/* Paragraphs */
	/* CharactersWithSpaces */
	AppVersion: 'Version',

	ContentStatus: 'ContentStatus', /* NOTE: missing from schema */
	Identifier: 'Identifier', /* NOTE: missing from schema */
	Language: 'Language' /* NOTE: missing from schema */
};
var evert_XLMLDPM = evert(XLMLDocPropsMap);

function xlml_set_prop(Props, tag, val) {
	tag = evert_XLMLDPM[tag] || tag;
	Props[tag] = val;
}

function xlml_write_docprops(Props, opts) {
	var o = [];
	keys(XLMLDocPropsMap).map(function(m) {
		for(var i = 0; i < CORE_PROPS.length; ++i) if(CORE_PROPS[i][1] == m) return CORE_PROPS[i];
		for(i = 0; i < EXT_PROPS.length; ++i) if(EXT_PROPS[i][1] == m) return EXT_PROPS[i];
		throw m;
	}).forEach(function(p) {
		if(Props[p[1]] == null) return;
		var m = opts && opts.Props && opts.Props[p[1]] != null ? opts.Props[p[1]] : Props[p[1]];
		switch(p[2]) {
			case 'date': m = new Date(m).toISOString().replace(/\.\d*Z/,"Z"); break;
		}
		if(typeof m == 'number') m = String(m);
		else if(m === true || m === false) { m = m ? "1" : "0"; }
		else if(m instanceof Date) m = new Date(m).toISOString().replace(/\.\d*Z/,"");
		o.push(writetag(XLMLDocPropsMap[p[1]] || p[1], m));
	});
	return writextag('DocumentProperties', o.join(""), {xmlns:XLMLNS.o });
}
function xlml_write_custprops(Props, Custprops) {
	var BLACKLIST = ["Worksheets","SheetNames"];
	var T = 'CustomDocumentProperties';
	var o = [];
	if(Props) keys(Props).forEach(function(k) {
if(!Props.hasOwnProperty(k)) return;
		for(var i = 0; i < CORE_PROPS.length; ++i) if(k == CORE_PROPS[i][1]) return;
		for(i = 0; i < EXT_PROPS.length; ++i) if(k == EXT_PROPS[i][1]) return;
		for(i = 0; i < BLACKLIST.length; ++i) if(k == BLACKLIST[i]) return;

		var m = Props[k];
		var t = "string";
		if(typeof m == 'number') { t = "float"; m = String(m); }
		else if(m === true || m === false) { t = "boolean"; m = m ? "1" : "0"; }
		else m = String(m);
		o.push(writextag(escapexmltag(k), m, {"dt:dt":t}));
	});
	if(Custprops) keys(Custprops).forEach(function(k) {
if(!Custprops.hasOwnProperty(k)) return;
		if(Props && Props.hasOwnProperty(k)) return;
		var m = Custprops[k];
		var t = "string";
		if(typeof m == 'number') { t = "float"; m = String(m); }
		else if(m === true || m === false) { t = "boolean"; m = m ? "1" : "0"; }
		else if(m instanceof Date) { t = "dateTime.tz"; m = m.toISOString(); }
		else m = String(m);
		o.push(writextag(escapexmltag(k), m, {"dt:dt":t}));
	});
	return '<' + T + ' xmlns="' + XLMLNS.o + '">' + o.join("") + '</' + T + '>';
}
/* [MS-DTYP] 2.3.3 FILETIME */
/* [MS-OLEDS] 2.1.3 FILETIME (Packet Version) */
/* [MS-OLEPS] 2.8 FILETIME (Packet Version) */
function parse_FILETIME(blob) {
	var dwLowDateTime = blob.read_shift(4), dwHighDateTime = blob.read_shift(4);
	return new Date(((dwHighDateTime/1e7*Math.pow(2,32) + dwLowDateTime/1e7) - 11644473600)*1000).toISOString().replace(/\.000/,"");
}
function write_FILETIME(time) {
	var date = (typeof time == "string") ? new Date(Date.parse(time)) : time;
	var t = date.getTime() / 1000 + 11644473600;
	var l = t % Math.pow(2,32), h = (t - l) / Math.pow(2,32);
	l *= 1e7; h *= 1e7;
	var w = (l / Math.pow(2,32)) | 0;
	if(w > 0) { l = l % Math.pow(2,32); h += w; }
	var o = new_buf(8); o.write_shift(4, l); o.write_shift(4, h); return o;
}

/* [MS-OSHARED] 2.3.3.1.4 Lpstr */
function parse_lpstr(blob, type, pad) {
	var start = blob.l;
	var str = blob.read_shift(0, 'lpstr-cp');
	if(pad) while((blob.l - start) & 3) ++blob.l;
	return str;
}

/* [MS-OSHARED] 2.3.3.1.6 Lpwstr */
function parse_lpwstr(blob, type, pad) {
	var str = blob.read_shift(0, 'lpwstr');
	if(pad) blob.l += (4 - ((str.length+1) & 3)) & 3;
	return str;
}


/* [MS-OSHARED] 2.3.3.1.11 VtString */
/* [MS-OSHARED] 2.3.3.1.12 VtUnalignedString */
function parse_VtStringBase(blob, stringType, pad) {
	if(stringType === 0x1F /*VT_LPWSTR*/) return parse_lpwstr(blob);
	return parse_lpstr(blob, stringType, pad);
}

function parse_VtString(blob, t, pad) { return parse_VtStringBase(blob, t, pad === false ? 0: 4); }
function parse_VtUnalignedString(blob, t) { if(!t) throw new Error("VtUnalignedString must have positive length"); return parse_VtStringBase(blob, t, 0); }

/* [MS-OSHARED] 2.3.3.1.9 VtVecUnalignedLpstrValue */
function parse_VtVecUnalignedLpstrValue(blob) {
	var length = blob.read_shift(4);
	var ret = [];
	for(var i = 0; i != length; ++i) ret[i] = blob.read_shift(0, 'lpstr-cp').replace(chr0,'');
	return ret;
}

/* [MS-OSHARED] 2.3.3.1.10 VtVecUnalignedLpstr */
function parse_VtVecUnalignedLpstr(blob) {
	return parse_VtVecUnalignedLpstrValue(blob);
}

/* [MS-OSHARED] 2.3.3.1.13 VtHeadingPair */
function parse_VtHeadingPair(blob) {
	var headingString = parse_TypedPropertyValue(blob, VT_USTR);
	var headerParts = parse_TypedPropertyValue(blob, VT_I4);
	return [headingString, headerParts];
}

/* [MS-OSHARED] 2.3.3.1.14 VtVecHeadingPairValue */
function parse_VtVecHeadingPairValue(blob) {
	var cElements = blob.read_shift(4);
	var out = [];
	for(var i = 0; i != cElements / 2; ++i) out.push(parse_VtHeadingPair(blob));
	return out;
}

/* [MS-OSHARED] 2.3.3.1.15 VtVecHeadingPair */
function parse_VtVecHeadingPair(blob) {
	// NOTE: When invoked, wType & padding were already consumed
	return parse_VtVecHeadingPairValue(blob);
}

/* [MS-OLEPS] 2.18.1 Dictionary (uses 2.17, 2.16) */
function parse_dictionary(blob,CodePage) {
	var cnt = blob.read_shift(4);
	var dict = ({});
	for(var j = 0; j != cnt; ++j) {
		var pid = blob.read_shift(4);
		var len = blob.read_shift(4);
		dict[pid] = blob.read_shift(len, (CodePage === 0x4B0 ?'utf16le':'utf8')).replace(chr0,'').replace(chr1,'!');
		if(CodePage === 0x4B0 && (len % 2)) blob.l += 2;
	}
	if(blob.l & 3) blob.l = (blob.l>>2+1)<<2;
	return dict;
}

/* [MS-OLEPS] 2.9 BLOB */
function parse_BLOB(blob) {
	var size = blob.read_shift(4);
	var bytes = blob.slice(blob.l,blob.l+size);
	blob.l += size;
	if((size & 3) > 0) blob.l += (4 - (size & 3)) & 3;
	return bytes;
}

/* [MS-OLEPS] 2.11 ClipboardData */
function parse_ClipboardData(blob) {
	// TODO
	var o = {};
	o.Size = blob.read_shift(4);
	//o.Format = blob.read_shift(4);
	blob.l += o.Size + 3 - (o.Size - 1) % 4;
	return o;
}

/* [MS-OLEPS] 2.15 TypedPropertyValue */
function parse_TypedPropertyValue(blob, type, _opts) {
	var t = blob.read_shift(2), ret, opts = _opts||{};
	blob.l += 2;
	if(type !== VT_VARIANT)
	if(t !== type && VT_CUSTOM.indexOf(type)===-1) throw new Error('Expected type ' + type + ' saw ' + t);
	switch(type === VT_VARIANT ? t : type) {
		case 0x02 /*VT_I2*/: ret = blob.read_shift(2, 'i'); if(!opts.raw) blob.l += 2; return ret;
		case 0x03 /*VT_I4*/: ret = blob.read_shift(4, 'i'); return ret;
		case 0x0B /*VT_BOOL*/: return blob.read_shift(4) !== 0x0;
		case 0x13 /*VT_UI4*/: ret = blob.read_shift(4); return ret;
		case 0x1E /*VT_LPSTR*/: return parse_lpstr(blob, t, 4).replace(chr0,'');
		case 0x1F /*VT_LPWSTR*/: return parse_lpwstr(blob);
		case 0x40 /*VT_FILETIME*/: return parse_FILETIME(blob);
		case 0x41 /*VT_BLOB*/: return parse_BLOB(blob);
		case 0x47 /*VT_CF*/: return parse_ClipboardData(blob);
		case 0x50 /*VT_STRING*/: return parse_VtString(blob, t, !opts.raw).replace(chr0,'');
		case 0x51 /*VT_USTR*/: return parse_VtUnalignedString(blob, t/*, 4*/).replace(chr0,'');
		case 0x100C /*VT_VECTOR|VT_VARIANT*/: return parse_VtVecHeadingPair(blob);
		case 0x101E /*VT_LPSTR*/: return parse_VtVecUnalignedLpstr(blob);
		default: throw new Error("TypedPropertyValue unrecognized type " + type + " " + t);
	}
}
function write_TypedPropertyValue(type, value) {
	var o = new_buf(4), p = new_buf(4);
	o.write_shift(4, type == 0x50 ? 0x1F : type);
	switch(type) {
		case 0x03 /*VT_I4*/: p.write_shift(-4, value); break;
		case 0x05 /*VT_I4*/: p = new_buf(8); p.write_shift(8, value, 'f'); break;
		case 0x0B /*VT_BOOL*/: p.write_shift(4, value ? 0x01 : 0x00); break;
		case 0x40 /*VT_FILETIME*/:  p = write_FILETIME(value); break;
		case 0x1F /*VT_LPWSTR*/:
		case 0x50 /*VT_STRING*/:
p = new_buf(4 + 2 * (value.length + 1) + (value.length % 2 ? 0 : 2));
			p.write_shift(4, value.length + 1);
			p.write_shift(0, value, "dbcs");
			while(p.l != p.length) p.write_shift(1, 0);
			break;
		default: throw new Error("TypedPropertyValue unrecognized type " + type + " " + value);
	}
	return bconcat([o, p]);
}

/* [MS-OLEPS] 2.20 PropertySet */
function parse_PropertySet(blob, PIDSI) {
	var start_addr = blob.l;
	var size = blob.read_shift(4);
	var NumProps = blob.read_shift(4);
	var Props = [], i = 0;
	var CodePage = 0;
	var Dictionary = -1, DictObj = ({});
	for(i = 0; i != NumProps; ++i) {
		var PropID = blob.read_shift(4);
		var Offset = blob.read_shift(4);
		Props[i] = [PropID, Offset + start_addr];
	}
	Props.sort(function(x,y) { return x[1] - y[1]; });
	var PropH = {};
	for(i = 0; i != NumProps; ++i) {
		if(blob.l !== Props[i][1]) {
			var fail = true;
			if(i>0 && PIDSI) switch(PIDSI[Props[i-1][0]].t) {
				case 0x02 /*VT_I2*/: if(blob.l+2 === Props[i][1]) { blob.l+=2; fail = false; } break;
				case 0x50 /*VT_STRING*/: if(blob.l <= Props[i][1]) { blob.l=Props[i][1]; fail = false; } break;
				case 0x100C /*VT_VECTOR|VT_VARIANT*/: if(blob.l <= Props[i][1]) { blob.l=Props[i][1]; fail = false; } break;
			}
			if((!PIDSI||i==0) && blob.l <= Props[i][1]) { fail=false; blob.l = Props[i][1]; }
			if(fail) throw new Error("Read Error: Expected address " + Props[i][1] + ' at ' + blob.l + ' :' + i);
		}
		if(PIDSI) {
			var piddsi = PIDSI[Props[i][0]];
			PropH[piddsi.n] = parse_TypedPropertyValue(blob, piddsi.t, {raw:true});
			if(piddsi.p === 'version') PropH[piddsi.n] = String(PropH[piddsi.n] >> 16) + "." + ("0000" + String(PropH[piddsi.n] & 0xFFFF)).slice(-4);
			if(piddsi.n == "CodePage") switch(PropH[piddsi.n]) {
				case 0: PropH[piddsi.n] = 1252;
					/* falls through */
				case 874:
				case 932:
				case 936:
				case 949:
				case 950:
				case 1250:
				case 1251:
				case 1253:
				case 1254:
				case 1255:
				case 1256:
				case 1257:
				case 1258:
				case 10000:
				case 1200:
				case 1201:
				case 1252:
				case 65000: case -536:
				case 65001: case -535:
					set_cp(CodePage = (PropH[piddsi.n]>>>0) & 0xFFFF); break;
				default: throw new Error("Unsupported CodePage: " + PropH[piddsi.n]);
			}
		} else {
			if(Props[i][0] === 0x1) {
				CodePage = PropH.CodePage = (parse_TypedPropertyValue(blob, VT_I2));
				set_cp(CodePage);
				if(Dictionary !== -1) {
					var oldpos = blob.l;
					blob.l = Props[Dictionary][1];
					DictObj = parse_dictionary(blob,CodePage);
					blob.l = oldpos;
				}
			} else if(Props[i][0] === 0) {
				if(CodePage === 0) { Dictionary = i; blob.l = Props[i+1][1]; continue; }
				DictObj = parse_dictionary(blob,CodePage);
			} else {
				var name = DictObj[Props[i][0]];
				var val;
				/* [MS-OSHARED] 2.3.3.2.3.1.2 + PROPVARIANT */
				switch(blob[blob.l]) {
					case 0x41 /*VT_BLOB*/: blob.l += 4; val = parse_BLOB(blob); break;
					case 0x1E /*VT_LPSTR*/: blob.l += 4; val = parse_VtString(blob, blob[blob.l-4]).replace(/\u0000+$/,""); break;
					case 0x1F /*VT_LPWSTR*/: blob.l += 4; val = parse_VtString(blob, blob[blob.l-4]).replace(/\u0000+$/,""); break;
					case 0x03 /*VT_I4*/: blob.l += 4; val = blob.read_shift(4, 'i'); break;
					case 0x13 /*VT_UI4*/: blob.l += 4; val = blob.read_shift(4); break;
					case 0x05 /*VT_R8*/: blob.l += 4; val = blob.read_shift(8, 'f'); break;
					case 0x0B /*VT_BOOL*/: blob.l += 4; val = parsebool(blob, 4); break;
					case 0x40 /*VT_FILETIME*/: blob.l += 4; val = parseDate(parse_FILETIME(blob)); break;
					default: throw new Error("unparsed value: " + blob[blob.l]);
				}
				PropH[name] = val;
			}
		}
	}
	blob.l = start_addr + size; /* step ahead to skip padding */
	return PropH;
}
var XLSPSSkip = [ "CodePage", "Thumbnail", "_PID_LINKBASE", "_PID_HLINKS", "SystemIdentifier", "FMTID" ].concat(PseudoPropsPairs);
function guess_property_type(val) {
	switch(typeof val) {
		case "boolean": return 0x0B;
		case "number": return ((val|0)==val) ? 0x03 : 0x05;
		case "string": return 0x1F;
		case "object": if(val instanceof Date) return 0x40; break;
	}
	return -1;
}
function write_PropertySet(entries, RE, PIDSI) {
	var hdr = new_buf(8), piao = [], prop = [];
	var sz = 8, i = 0;

	var pr = new_buf(8), pio = new_buf(8);
	pr.write_shift(4, 0x0002);
	pr.write_shift(4, 0x04B0);
	pio.write_shift(4, 0x0001);
	prop.push(pr); piao.push(pio);
	sz += 8 + pr.length;

	if(!RE) {
		pio = new_buf(8);
		pio.write_shift(4, 0);
		piao.unshift(pio);

		var bufs = [new_buf(4)];
		bufs[0].write_shift(4, entries.length);
		for(i = 0; i < entries.length; ++i) {
			var value = entries[i][0];
			pr = new_buf(4 + 4 + 2 * (value.length + 1) + (value.length % 2 ? 0 : 2));
			pr.write_shift(4, i+2);
			pr.write_shift(4, value.length + 1);
			pr.write_shift(0, value, "dbcs");
			while(pr.l != pr.length) pr.write_shift(1, 0);
			bufs.push(pr);
		}
		pr = bconcat(bufs);
		prop.unshift(pr);
		sz += 8 + pr.length;
	}

	for(i = 0; i < entries.length; ++i) {
		if(RE && !RE[entries[i][0]]) continue;
		if(XLSPSSkip.indexOf(entries[i][0]) > -1) continue;
		if(entries[i][1] == null) continue;

		var val = entries[i][1], idx = 0;
		if(RE) {
			idx = +RE[entries[i][0]];
			var pinfo = (PIDSI)[idx];
			if(pinfo.p == "version" && typeof val == "string") {
var arr = val.split(".");
				val = ((+arr[0])<<16) + ((+arr[1])||0);
			}
			pr = write_TypedPropertyValue(pinfo.t, val);
		} else {
			var T = guess_property_type(val);
			if(T == -1) { T = 0x1F; val = String(val); }
			pr = write_TypedPropertyValue(T, val);
		}
		prop.push(pr);

		pio = new_buf(8);
		pio.write_shift(4, !RE ? 2+i : idx);
		piao.push(pio);

		sz += 8 + pr.length;
	}

	var w = 8 * (prop.length + 1);
	for(i = 0; i < prop.length; ++i) { piao[i].write_shift(4, w); w += prop[i].length; }
	hdr.write_shift(4, sz);
	hdr.write_shift(4, prop.length);
	return bconcat([hdr].concat(piao).concat(prop));
}

/* [MS-OLEPS] 2.21 PropertySetStream */
function parse_PropertySetStream(file, PIDSI, clsid) {
	var blob = file.content;
	if(!blob) return ({});
	prep_blob(blob, 0);

	var NumSets, FMTID0, FMTID1, Offset0, Offset1 = 0;
	blob.chk('feff', 'Byte Order: ');

	/*var vers = */blob.read_shift(2); // TODO: check version
	var SystemIdentifier = blob.read_shift(4);
	var CLSID = blob.read_shift(16);
	if(CLSID !== CFB.utils.consts.HEADER_CLSID && CLSID !== clsid) throw new Error("Bad PropertySet CLSID " + CLSID);
	NumSets = blob.read_shift(4);
	if(NumSets !== 1 && NumSets !== 2) throw new Error("Unrecognized #Sets: " + NumSets);
	FMTID0 = blob.read_shift(16); Offset0 = blob.read_shift(4);

	if(NumSets === 1 && Offset0 !== blob.l) throw new Error("Length mismatch: " + Offset0 + " !== " + blob.l);
	else if(NumSets === 2) { FMTID1 = blob.read_shift(16); Offset1 = blob.read_shift(4); }
	var PSet0 = parse_PropertySet(blob, PIDSI);

	var rval = ({ SystemIdentifier: SystemIdentifier });
	for(var y in PSet0) rval[y] = PSet0[y];
	//rval.blob = blob;
	rval.FMTID = FMTID0;
	//rval.PSet0 = PSet0;
	if(NumSets === 1) return rval;
	if(Offset1 - blob.l == 2) blob.l += 2;
	if(blob.l !== Offset1) throw new Error("Length mismatch 2: " + blob.l + " !== " + Offset1);
	var PSet1;
	try { PSet1 = parse_PropertySet(blob, null); } catch(e) {/* empty */}
	for(y in PSet1) rval[y] = PSet1[y];
	rval.FMTID = [FMTID0, FMTID1]; // TODO: verify FMTID0/1
	return rval;
}
function write_PropertySetStream(entries, clsid, RE, PIDSI, entries2, clsid2) {
	var hdr = new_buf(entries2 ? 68 : 48);
	var bufs = [hdr];
	hdr.write_shift(2, 0xFFFE);
	hdr.write_shift(2, 0x0000); /* TODO: type 1 props */
	hdr.write_shift(4, 0x32363237);
	hdr.write_shift(16, CFB.utils.consts.HEADER_CLSID, "hex");
	hdr.write_shift(4, (entries2 ? 2 : 1));
	hdr.write_shift(16, clsid, "hex");
	hdr.write_shift(4, (entries2 ? 68 : 48));
	var ps0 = write_PropertySet(entries, RE, PIDSI);
	bufs.push(ps0);

	if(entries2) {
		var ps1 = write_PropertySet(entries2, null, null);
		hdr.write_shift(16, clsid2, "hex");
		hdr.write_shift(4, 68 + ps0.length);
		bufs.push(ps1);
	}
	return bconcat(bufs);
}

function parsenoop2(blob, length) { blob.read_shift(length); return null; }
function writezeroes(n, o) { if(!o) o=new_buf(n); for(var j=0; j<n; ++j) o.write_shift(1, 0); return o; }

function parslurp(blob, length, cb) {
	var arr = [], target = blob.l + length;
	while(blob.l < target) arr.push(cb(blob, target - blob.l));
	if(target !== blob.l) throw new Error("Slurp error");
	return arr;
}

function parsebool(blob, length) { return blob.read_shift(length) === 0x1; }
function writebool(v, o) { if(!o) o=new_buf(2); o.write_shift(2, +!!v); return o; }

function parseuint16(blob) { return blob.read_shift(2, 'u'); }
function writeuint16(v, o) { if(!o) o=new_buf(2); o.write_shift(2, v); return o; }
function parseuint16a(blob, length) { return parslurp(blob,length,parseuint16);}

/* --- 2.5 Structures --- */

/* [MS-XLS] 2.5.10 Bes (boolean or error) */
function parse_Bes(blob) {
	var v = blob.read_shift(1), t = blob.read_shift(1);
	return t === 0x01 ? v : v === 0x01;
}
function write_Bes(v, t, o) {
	if(!o) o = new_buf(2);
	o.write_shift(1, +v);
	o.write_shift(1, ((t == 'e') ? 1 : 0));
	return o;
}

/* [MS-XLS] 2.5.240 ShortXLUnicodeString */
function parse_ShortXLUnicodeString(blob, length, opts) {
	var cch = blob.read_shift(opts && opts.biff >= 12 ? 2 : 1);
	var encoding = 'sbcs-cont';
	var cp = current_codepage;
	if(opts && opts.biff >= 8) current_codepage = 1200;
	if(!opts || opts.biff == 8 ) {
		var fHighByte = blob.read_shift(1);
		if(fHighByte) { encoding = 'dbcs-cont'; }
	} else if(opts.biff == 12) {
		encoding = 'wstr';
	}
	if(opts.biff >= 2 && opts.biff <= 5) encoding = 'cpstr';
	var o = cch ? blob.read_shift(cch, encoding) : "";
	current_codepage = cp;
	return o;
}

/* 2.5.293 XLUnicodeRichExtendedString */
function parse_XLUnicodeRichExtendedString(blob) {
	var cp = current_codepage;
	current_codepage = 1200;
	var cch = blob.read_shift(2), flags = blob.read_shift(1);
	var /*fHighByte = flags & 0x1,*/ fExtSt = flags & 0x4, fRichSt = flags & 0x8;
	var width = 1 + (flags & 0x1); // 0x0 -> utf8, 0x1 -> dbcs
	var cRun = 0, cbExtRst;
	var z = {};
	if(fRichSt) cRun = blob.read_shift(2);
	if(fExtSt) cbExtRst = blob.read_shift(4);
	var encoding = width == 2 ? 'dbcs-cont' : 'sbcs-cont';
	var msg = cch === 0 ? "" : blob.read_shift(cch, encoding);
	if(fRichSt) blob.l += 4 * cRun; //TODO: parse this
	if(fExtSt) blob.l += cbExtRst; //TODO: parse this
	z.t = msg;
	if(!fRichSt) { z.raw = "<t>" + z.t + "</t>"; z.r = z.t; }
	current_codepage = cp;
	return z;
}

/* 2.5.296 XLUnicodeStringNoCch */
function parse_XLUnicodeStringNoCch(blob, cch, opts) {
	var retval;
	if(opts) {
		if(opts.biff >= 2 && opts.biff <= 5) return blob.read_shift(cch, 'cpstr');
		if(opts.biff >= 12) return blob.read_shift(cch, 'dbcs-cont');
	}
	var fHighByte = blob.read_shift(1);
	if(fHighByte===0) { retval = blob.read_shift(cch, 'sbcs-cont'); }
	else { retval = blob.read_shift(cch, 'dbcs-cont'); }
	return retval;
}

/* 2.5.294 XLUnicodeString */
function parse_XLUnicodeString(blob, length, opts) {
	var cch = blob.read_shift(opts && opts.biff == 2 ? 1 : 2);
	if(cch === 0) { blob.l++; return ""; }
	return parse_XLUnicodeStringNoCch(blob, cch, opts);
}
/* BIFF5 override */
function parse_XLUnicodeString2(blob, length, opts) {
	if(opts.biff > 5) return parse_XLUnicodeString(blob, length, opts);
	var cch = blob.read_shift(1);
	if(cch === 0) { blob.l++; return ""; }
	return blob.read_shift(cch, (opts.biff <= 4 || !blob.lens ) ? 'cpstr' : 'sbcs-cont');
}
/* TODO: BIFF5 and lower, codepage awareness */
function write_XLUnicodeString(str, opts, o) {
	if(!o) o = new_buf(3 + 2 * str.length);
	o.write_shift(2, str.length);
	o.write_shift(1, 1);
	o.write_shift(31, str, 'utf16le');
	return o;
}

/* [MS-XLS] 2.5.61 ControlInfo */
function parse_ControlInfo(blob) {
	var flags = blob.read_shift(1);
	blob.l++;
	var accel = blob.read_shift(2);
	blob.l += 2;
	return [flags, accel];
}

/* [MS-OSHARED] 2.3.7.6 URLMoniker TODO: flags */
function parse_URLMoniker(blob) {
	var len = blob.read_shift(4), start = blob.l;
	var extra = false;
	if(len > 24) {
		/* look ahead */
		blob.l += len - 24;
		if(blob.read_shift(16) === "795881f43b1d7f48af2c825dc4852763") extra = true;
		blob.l = start;
	}
	var url = blob.read_shift((extra?len-24:len)>>1, 'utf16le').replace(chr0,"");
	if(extra) blob.l += 24;
	return url;
}

/* [MS-OSHARED] 2.3.7.8 FileMoniker TODO: all fields */
function parse_FileMoniker(blob) {
	blob.l += 2; //var cAnti = blob.read_shift(2);
	var ansiPath = blob.read_shift(0, 'lpstr-ansi');
	blob.l += 2; //var endServer = blob.read_shift(2);
	if(blob.read_shift(2) != 0xDEAD) throw new Error("Bad FileMoniker");
	var sz = blob.read_shift(4);
	if(sz === 0) return ansiPath.replace(/\\/g,"/");
	var bytes = blob.read_shift(4);
	if(blob.read_shift(2) != 3) throw new Error("Bad FileMoniker");
	var unicodePath = blob.read_shift(bytes>>1, 'utf16le').replace(chr0,"");
	return unicodePath;
}

/* [MS-OSHARED] 2.3.7.2 HyperlinkMoniker TODO: all the monikers */
function parse_HyperlinkMoniker(blob, length) {
	var clsid = blob.read_shift(16); length -= 16;
	switch(clsid) {
		case "e0c9ea79f9bace118c8200aa004ba90b": return parse_URLMoniker(blob, length);
		case "0303000000000000c000000000000046": return parse_FileMoniker(blob, length);
		default: throw new Error("Unsupported Moniker " + clsid);
	}
}

/* [MS-OSHARED] 2.3.7.9 HyperlinkString */
function parse_HyperlinkString(blob) {
	var len = blob.read_shift(4);
	var o = len > 0 ? blob.read_shift(len, 'utf16le').replace(chr0, "") : "";
	return o;
}

/* [MS-OSHARED] 2.3.7.1 Hyperlink Object */
function parse_Hyperlink(blob, length) {
	var end = blob.l + length;
	var sVer = blob.read_shift(4);
	if(sVer !== 2) throw new Error("Unrecognized streamVersion: " + sVer);
	var flags = blob.read_shift(2);
	blob.l += 2;
	var displayName, targetFrameName, moniker, oleMoniker, Loc="", guid, fileTime;
	if(flags & 0x0010) displayName = parse_HyperlinkString(blob, end - blob.l);
	if(flags & 0x0080) targetFrameName = parse_HyperlinkString(blob, end - blob.l);
	if((flags & 0x0101) === 0x0101) moniker = parse_HyperlinkString(blob, end - blob.l);
	if((flags & 0x0101) === 0x0001) oleMoniker = parse_HyperlinkMoniker(blob, end - blob.l);
	if(flags & 0x0008) Loc = parse_HyperlinkString(blob, end - blob.l);
	if(flags & 0x0020) guid = blob.read_shift(16);
	if(flags & 0x0040) fileTime = parse_FILETIME(blob/*, 8*/);
	blob.l = end;
	var target = targetFrameName||moniker||oleMoniker||"";
	if(target && Loc) target+="#"+Loc;
	if(!target) target = "#" + Loc;
	var out = ({Target:target});
	if(guid) out.guid = guid;
	if(fileTime) out.time = fileTime;
	if(displayName) out.Tooltip = displayName;
	return out;
}
function write_Hyperlink(hl) {
	var out = new_buf(512), i = 0;
	var Target = hl.Target;
	var F = Target.indexOf("#") > -1 ? 0x1f : 0x17;
	switch(Target.charAt(0)) { case "#": F=0x1c; break; case ".": F&=~2; break; }
	out.write_shift(4,2); out.write_shift(4, F);
	var data = [8,6815827,6619237,4849780,83]; for(i = 0; i < data.length; ++i) out.write_shift(4, data[i]);
	if(F == 0x1C) {
		Target = Target.slice(1);
		out.write_shift(4, Target.length + 1);
		for(i = 0; i < Target.length; ++i) out.write_shift(2, Target.charCodeAt(i));
		out.write_shift(2, 0);
	} else if(F & 0x02) {
		data = "e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" ");
		for(i = 0; i < data.length; ++i) out.write_shift(1, parseInt(data[i], 16));
		out.write_shift(4, 2*(Target.length + 1));
		for(i = 0; i < Target.length; ++i) out.write_shift(2, Target.charCodeAt(i));
		out.write_shift(2, 0);
	} else {
		data = "03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" ");
		for(i = 0; i < data.length; ++i) out.write_shift(1, parseInt(data[i], 16));
		var P = 0;
		while(Target.slice(P*3,P*3+3)=="../"||Target.slice(P*3,P*3+3)=="..\\") ++P;
		out.write_shift(2, P);
		out.write_shift(4, Target.length + 1);
		for(i = 0; i < Target.length; ++i) out.write_shift(1, Target.charCodeAt(i) & 0xFF);
		out.write_shift(1, 0);
		out.write_shift(2, 0xFFFF);
		out.write_shift(2, 0xDEAD);
		for(i = 0; i < 6; ++i) out.write_shift(4, 0);
	}
	return out.slice(0, out.l);
}

/* 2.5.178 LongRGBA */
function parse_LongRGBA(blob) { var r = blob.read_shift(1), g = blob.read_shift(1), b = blob.read_shift(1), a = blob.read_shift(1); return [r,g,b,a]; }

/* 2.5.177 LongRGB */
function parse_LongRGB(blob, length) { var x = parse_LongRGBA(blob, length); x[3] = 0; return x; }


/* [MS-XLS] 2.5.19 */
function parse_XLSCell(blob) {
	var rw = blob.read_shift(2); // 0-indexed
	var col = blob.read_shift(2);
	var ixfe = blob.read_shift(2);
	return ({r:rw, c:col, ixfe:ixfe});
}
function write_XLSCell(R, C, ixfe, o) {
	if(!o) o = new_buf(6);
	o.write_shift(2, R);
	o.write_shift(2, C);
	o.write_shift(2, ixfe||0);
	return o;
}

/* [MS-XLS] 2.5.134 */
function parse_frtHeader(blob) {
	var rt = blob.read_shift(2);
	var flags = blob.read_shift(2); // TODO: parse these flags
	blob.l += 8;
	return {type: rt, flags: flags};
}



function parse_OptXLUnicodeString(blob, length, opts) { return length === 0 ? "" : parse_XLUnicodeString2(blob, length, opts); }

/* [MS-XLS] 2.5.344 */
function parse_XTI(blob, length, opts) {
	var w = opts.biff > 8 ? 4 : 2;
	var iSupBook = blob.read_shift(w), itabFirst = blob.read_shift(w,'i'), itabLast = blob.read_shift(w,'i');
	return [iSupBook, itabFirst, itabLast];
}

/* [MS-XLS] 2.5.218 */
function parse_RkRec(blob) {
	var ixfe = blob.read_shift(2);
	var RK = parse_RkNumber(blob);
	return [ixfe, RK];
}

/* [MS-XLS] 2.5.1 */
function parse_AddinUdf(blob, length, opts) {
	blob.l += 4; length -= 4;
	var l = blob.l + length;
	var udfName = parse_ShortXLUnicodeString(blob, length, opts);
	var cb = blob.read_shift(2);
	l -= blob.l;
	if(cb !== l) throw new Error("Malformed AddinUdf: padding = " + l + " != " + cb);
	blob.l += cb;
	return udfName;
}

/* [MS-XLS] 2.5.209 TODO: Check sizes */
function parse_Ref8U(blob) {
	var rwFirst = blob.read_shift(2);
	var rwLast = blob.read_shift(2);
	var colFirst = blob.read_shift(2);
	var colLast = blob.read_shift(2);
	return {s:{c:colFirst, r:rwFirst}, e:{c:colLast,r:rwLast}};
}
function write_Ref8U(r, o) {
	if(!o) o = new_buf(8);
	o.write_shift(2, r.s.r);
	o.write_shift(2, r.e.r);
	o.write_shift(2, r.s.c);
	o.write_shift(2, r.e.c);
	return o;
}

/* [MS-XLS] 2.5.211 */
function parse_RefU(blob) {
	var rwFirst = blob.read_shift(2);
	var rwLast = blob.read_shift(2);
	var colFirst = blob.read_shift(1);
	var colLast = blob.read_shift(1);
	return {s:{c:colFirst, r:rwFirst}, e:{c:colLast,r:rwLast}};
}

/* [MS-XLS] 2.5.207 */
var parse_Ref = parse_RefU;

/* [MS-XLS] 2.5.143 */
function parse_FtCmo(blob) {
	blob.l += 4;
	var ot = blob.read_shift(2);
	var id = blob.read_shift(2);
	var flags = blob.read_shift(2);
	blob.l+=12;
	return [id, ot, flags];
}

/* [MS-XLS] 2.5.149 */
function parse_FtNts(blob) {
	var out = {};
	blob.l += 4;
	blob.l += 16; // GUID TODO
	out.fSharedNote = blob.read_shift(2);
	blob.l += 4;
	return out;
}

/* [MS-XLS] 2.5.142 */
function parse_FtCf(blob) {
	var out = {};
	blob.l += 4;
	blob.cf = blob.read_shift(2);
	return out;
}

/* [MS-XLS] 2.5.140 - 2.5.154 and friends */
function parse_FtSkip(blob) { blob.l += 2; blob.l += blob.read_shift(2); }
var FtTab = {
0x00: parse_FtSkip,      /* FtEnd */
0x04: parse_FtSkip,      /* FtMacro */
0x05: parse_FtSkip,      /* FtButton */
0x06: parse_FtSkip,      /* FtGmo */
0x07: parse_FtCf,        /* FtCf */
0x08: parse_FtSkip,      /* FtPioGrbit */
0x09: parse_FtSkip,      /* FtPictFmla */
0x0A: parse_FtSkip,      /* FtCbls */
0x0B: parse_FtSkip,      /* FtRbo */
0x0C: parse_FtSkip,      /* FtSbs */
0x0D: parse_FtNts,       /* FtNts */
0x0E: parse_FtSkip,      /* FtSbsFmla */
0x0F: parse_FtSkip,      /* FtGboData */
0x10: parse_FtSkip,      /* FtEdoData */
0x11: parse_FtSkip,      /* FtRboData */
0x12: parse_FtSkip,      /* FtCblsData */
0x13: parse_FtSkip,      /* FtLbsData */
0x14: parse_FtSkip,      /* FtCblsFmla */
0x15: parse_FtCmo
};
function parse_FtArray(blob, length) {
	var tgt = blob.l + length;
	var fts = [];
	while(blob.l < tgt) {
		var ft = blob.read_shift(2);
		blob.l-=2;
		try {
			fts.push(FtTab[ft](blob, tgt - blob.l));
		} catch(e) { blob.l = tgt; return fts; }
	}
	if(blob.l != tgt) blob.l = tgt; //throw new Error("bad Object Ft-sequence");
	return fts;
}

/* --- 2.4 Records --- */

/* [MS-XLS] 2.4.21 */
function parse_BOF(blob, length) {
	var o = {BIFFVer:0, dt:0};
	o.BIFFVer = blob.read_shift(2); length -= 2;
	if(length >= 2) { o.dt = blob.read_shift(2); blob.l -= 2; }
	switch(o.BIFFVer) {
		case 0x0600: /* BIFF8 */
		case 0x0500: /* BIFF5 */
		case 0x0400: /* BIFF4 */
		case 0x0300: /* BIFF3 */
		case 0x0200: /* BIFF2 */
		case 0x0002: case 0x0007: /* BIFF2 */
			break;
		default: if(length > 6) throw new Error("Unexpected BIFF Ver " + o.BIFFVer);
	}

	blob.read_shift(length);
	return o;
}
function write_BOF(wb, t, o) {
	var h = 0x0600, w = 16;
	switch(o.bookType) {
		case 'biff8': break;
		case 'biff5': h = 0x0500; w = 8; break;
		case 'biff4': h = 0x0004; w = 6; break;
		case 'biff3': h = 0x0003; w = 6; break;
		case 'biff2': h = 0x0002; w = 4; break;
		case 'xla': break;
		default: throw new Error("unsupported BIFF version");
	}
	var out = new_buf(w);
	out.write_shift(2, h);
	out.write_shift(2, t);
	if(w > 4) out.write_shift(2, 0x7262);
	if(w > 6) out.write_shift(2, 0x07CD);
	if(w > 8) {
		out.write_shift(2, 0xC009);
		out.write_shift(2, 0x0001);
		out.write_shift(2, 0x0706);
		out.write_shift(2, 0x0000);
	}
	return out;
}


/* [MS-XLS] 2.4.146 */
function parse_InterfaceHdr(blob, length) {
	if(length === 0) return 0x04b0;
	if((blob.read_shift(2))!==0x04b0){/* empty */}
	return 0x04b0;
}


/* [MS-XLS] 2.4.349 */
function parse_WriteAccess(blob, length, opts) {
	if(opts.enc) { blob.l += length; return ""; }
	var l = blob.l;
	// TODO: make sure XLUnicodeString doesnt overrun
	var UserName = parse_XLUnicodeString2(blob, 0, opts);
	blob.read_shift(length + l - blob.l);
	return UserName;
}
function write_WriteAccess(s, opts) {
	var b8 = !opts || opts.biff == 8;
	var o = new_buf(b8 ? 112 : 54);
	o.write_shift(opts.biff == 8 ? 2 : 1, 7);
	if(b8) o.write_shift(1, 0);
	o.write_shift(4, 0x33336853);
	o.write_shift(4, (0x00534A74 | (b8 ? 0 : 0x20000000)));
	while(o.l < o.length) o.write_shift(1, (b8 ? 0 : 32));
	return o;
}

/* [MS-XLS] 2.4.351 */
function parse_WsBool(blob, length, opts) {
	var flags = opts && opts.biff == 8 || length == 2 ? blob.read_shift(2) : (blob.l += length, 0);
	return { fDialog: flags & 0x10 };
}

/* [MS-XLS] 2.4.28 */
function parse_BoundSheet8(blob, length, opts) {
	var pos = blob.read_shift(4);
	var hidden = blob.read_shift(1) & 0x03;
	var dt = blob.read_shift(1);
	switch(dt) {
		case 0: dt = 'Worksheet'; break;
		case 1: dt = 'Macrosheet'; break;
		case 2: dt = 'Chartsheet'; break;
		case 6: dt = 'VBAModule'; break;
	}
	var name = parse_ShortXLUnicodeString(blob, 0, opts);
	if(name.length === 0) name = "Sheet1";
	return { pos:pos, hs:hidden, dt:dt, name:name };
}
function write_BoundSheet8(data, opts) {
	var w = (!opts || opts.biff >= 8 ? 2 : 1);
	var o = new_buf(8 + w * data.name.length);
	o.write_shift(4, data.pos);
	o.write_shift(1, data.hs || 0);
	o.write_shift(1, data.dt);
	o.write_shift(1, data.name.length);
	if(opts.biff >= 8) o.write_shift(1, 1);
	o.write_shift(w * data.name.length, data.name, opts.biff < 8 ? 'sbcs' : 'utf16le');
	var out = o.slice(0, o.l);
	out.l = o.l; return out;
}

/* [MS-XLS] 2.4.265 TODO */
function parse_SST(blob, length) {
	var end = blob.l + length;
	var cnt = blob.read_shift(4);
	var ucnt = blob.read_shift(4);
	var strs = ([]);
	for(var i = 0; i != ucnt && blob.l < end; ++i) {
		strs.push(parse_XLUnicodeRichExtendedString(blob));
	}
	strs.Count = cnt; strs.Unique = ucnt;
	return strs;
}

/* [MS-XLS] 2.4.107 */
function parse_ExtSST(blob, length) {
	var extsst = {};
	extsst.dsst = blob.read_shift(2);
	blob.l += length-2;
	return extsst;
}


/* [MS-XLS] 2.4.221 TODO: check BIFF2-4 */
function parse_Row(blob) {
	var z = ({});
	z.r = blob.read_shift(2);
	z.c = blob.read_shift(2);
	z.cnt = blob.read_shift(2) - z.c;
	var miyRw = blob.read_shift(2);
	blob.l += 4; // reserved(2), unused(2)
	var flags = blob.read_shift(1); // various flags
	blob.l += 3; // reserved(8), ixfe(12), flags(4)
	if(flags & 0x07) z.level = flags & 0x07;
	// collapsed: flags & 0x10
	if(flags & 0x20) z.hidden = true;
	if(flags & 0x40) z.hpt = miyRw / 20;
	return z;
}


/* [MS-XLS] 2.4.125 */
function parse_ForceFullCalculation(blob) {
	var header = parse_frtHeader(blob);
	if(header.type != 0x08A3) throw new Error("Invalid Future Record " + header.type);
	var fullcalc = blob.read_shift(4);
	return fullcalc !== 0x0;
}





/* [MS-XLS] 2.4.215 rt */
function parse_RecalcId(blob) {
	blob.read_shift(2);
	return blob.read_shift(4);
}

/* [MS-XLS] 2.4.87 */
function parse_DefaultRowHeight(blob, length, opts) {
	var f = 0;
	if(!(opts && opts.biff == 2)) {
		f = blob.read_shift(2);
	}
	var miyRw = blob.read_shift(2);
	if((opts && opts.biff == 2)) {
		f = 1 - (miyRw >> 15); miyRw &= 0x7fff;
	}
	var fl = {Unsynced:f&1,DyZero:(f&2)>>1,ExAsc:(f&4)>>2,ExDsc:(f&8)>>3};
	return [fl, miyRw];
}

/* [MS-XLS] 2.4.345 TODO */
function parse_Window1(blob) {
	var xWn = blob.read_shift(2), yWn = blob.read_shift(2), dxWn = blob.read_shift(2), dyWn = blob.read_shift(2);
	var flags = blob.read_shift(2), iTabCur = blob.read_shift(2), iTabFirst = blob.read_shift(2);
	var ctabSel = blob.read_shift(2), wTabRatio = blob.read_shift(2);
	return { Pos: [xWn, yWn], Dim: [dxWn, dyWn], Flags: flags, CurTab: iTabCur,
		FirstTab: iTabFirst, Selected: ctabSel, TabRatio: wTabRatio };
}
function write_Window1() {
	var o = new_buf(18);
	o.write_shift(2, 0);
	o.write_shift(2, 0);
	o.write_shift(2, 0x7260);
	o.write_shift(2, 0x44c0);
	o.write_shift(2, 0x38);
	o.write_shift(2, 0);
	o.write_shift(2, 0);
	o.write_shift(2, 1);
	o.write_shift(2, 0x01f4);
	return o;
}
/* [MS-XLS] 2.4.346 TODO */
function parse_Window2(blob, length, opts) {
	if(opts && opts.biff >= 2 && opts.biff < 8) return {};
	var f = blob.read_shift(2);
	return { RTL: f & 0x40 };
}
function write_Window2(view) {
	var o = new_buf(18), f = 0x6b6;
	if(view && view.RTL) f |= 0x40;
	o.write_shift(2, f);
	o.write_shift(4, 0);
	o.write_shift(4, 64);
	o.write_shift(4, 0);
	o.write_shift(4, 0);
	return o;
}

/* [MS-XLS] 2.4.122 TODO */
function parse_Font(blob, length, opts) {
	var o = {
		dyHeight: blob.read_shift(2),
		fl: blob.read_shift(2)
	};
	switch((opts && opts.biff) || 8) {
		case 2: break;
		case 3: case 4: blob.l += 2; break;
		default: blob.l += 10; break;
	}
	o.name = parse_ShortXLUnicodeString(blob, 0, opts);
	return o;
}
function write_Font(data, opts) {
	var name = data.name || "Arial";
	var b5 = (opts && (opts.biff == 5)), w = (b5 ? (15 + name.length) : (16 + 2 * name.length));
	var o = new_buf(w);
	o.write_shift(2, (data.sz || 12) * 20);
	o.write_shift(4, 0);
	o.write_shift(2, 400);
	o.write_shift(4, 0);
	o.write_shift(2, 0);
	o.write_shift(1, name.length);
	if(!b5) o.write_shift(1, 1);
	o.write_shift((b5 ? 1 : 2) * name.length, name, (b5 ? "sbcs" : "utf16le"));
	return o;
}

/* [MS-XLS] 2.4.149 */
function parse_LabelSst(blob) {
	var cell = parse_XLSCell(blob);
	cell.isst = blob.read_shift(4);
	return cell;
}

/* [MS-XLS] 2.4.148 */
function parse_Label(blob, length, opts) {
	var target = blob.l + length;
	var cell = parse_XLSCell(blob, 6);
	if(opts.biff == 2) blob.l++;
	var str = parse_XLUnicodeString(blob, target - blob.l, opts);
	cell.val = str;
	return cell;
}
function write_Label(R, C, v, os, opts) {
	var b8 = !opts || opts.biff == 8;
	var o = new_buf(6 + 2 + (+b8) + (1 + b8) * v.length);
	write_XLSCell(R, C, os, o);
	o.write_shift(2, v.length);
	if(b8) o.write_shift(1, 1);
	o.write_shift((1 + b8) * v.length, v, b8 ? 'utf16le' : 'sbcs');
	return o;
}


/* [MS-XLS] 2.4.126 Number Formats */
function parse_Format(blob, length, opts) {
	var numFmtId = blob.read_shift(2);
	var fmtstr = parse_XLUnicodeString2(blob, 0, opts);
	return [numFmtId, fmtstr];
}
function write_Format(i, f, opts, o) {
	var b5 = (opts && (opts.biff == 5));
	if(!o) o = new_buf(b5 ? (3 + f.length) : (5 + 2 * f.length));
	o.write_shift(2, i);
	o.write_shift((b5 ? 1 : 2), f.length);
	if(!b5) o.write_shift(1, 1);
	o.write_shift((b5 ? 1 : 2) * f.length, f, (b5 ? 'sbcs' : 'utf16le'));
	var out = (o.length > o.l) ? o.slice(0, o.l) : o;
	if(out.l == null) out.l = out.length;
	return out;
}
var parse_BIFF2Format = parse_XLUnicodeString2;

/* [MS-XLS] 2.4.90 */
function parse_Dimensions(blob, length, opts) {
	var end = blob.l + length;
	var w = opts.biff == 8 || !opts.biff ? 4 : 2;
	var r = blob.read_shift(w), R = blob.read_shift(w);
	var c = blob.read_shift(2), C = blob.read_shift(2);
	blob.l = end;
	return {s: {r:r, c:c}, e: {r:R, c:C}};
}
function write_Dimensions(range, opts) {
	var w = opts.biff == 8 || !opts.biff ? 4 : 2;
	var o = new_buf(2*w + 6);
	o.write_shift(w, range.s.r);
	o.write_shift(w, range.e.r + 1);
	o.write_shift(2, range.s.c);
	o.write_shift(2, range.e.c + 1);
	o.write_shift(2, 0);
	return o;
}

/* [MS-XLS] 2.4.220 */
function parse_RK(blob) {
	var rw = blob.read_shift(2), col = blob.read_shift(2);
	var rkrec = parse_RkRec(blob);
	return {r:rw, c:col, ixfe:rkrec[0], rknum:rkrec[1]};
}

/* [MS-XLS] 2.4.175 */
function parse_MulRk(blob, length) {
	var target = blob.l + length - 2;
	var rw = blob.read_shift(2), col = blob.read_shift(2);
	var rkrecs = [];
	while(blob.l < target) rkrecs.push(parse_RkRec(blob));
	if(blob.l !== target) throw new Error("MulRK read error");
	var lastcol = blob.read_shift(2);
	if(rkrecs.length != lastcol - col + 1) throw new Error("MulRK length mismatch");
	return {r:rw, c:col, C:lastcol, rkrec:rkrecs};
}
/* [MS-XLS] 2.4.174 */
function parse_MulBlank(blob, length) {
	var target = blob.l + length - 2;
	var rw = blob.read_shift(2), col = blob.read_shift(2);
	var ixfes = [];
	while(blob.l < target) ixfes.push(blob.read_shift(2));
	if(blob.l !== target) throw new Error("MulBlank read error");
	var lastcol = blob.read_shift(2);
	if(ixfes.length != lastcol - col + 1) throw new Error("MulBlank length mismatch");
	return {r:rw, c:col, C:lastcol, ixfe:ixfes};
}

/* [MS-XLS] 2.5.20 2.5.249 TODO: interpret values here */
function parse_CellStyleXF(blob, length, style, opts) {
	var o = {};
	var a = blob.read_shift(4), b = blob.read_shift(4);
	var c = blob.read_shift(4), d = blob.read_shift(2);
	o.patternType = XLSFillPattern[c >> 26];

	if(!opts.cellStyles) return o;
	o.alc = a & 0x07;
	o.fWrap = (a >> 3) & 0x01;
	o.alcV = (a >> 4) & 0x07;
	o.fJustLast = (a >> 7) & 0x01;
	o.trot = (a >> 8) & 0xFF;
	o.cIndent = (a >> 16) & 0x0F;
	o.fShrinkToFit = (a >> 20) & 0x01;
	o.iReadOrder = (a >> 22) & 0x02;
	o.fAtrNum = (a >> 26) & 0x01;
	o.fAtrFnt = (a >> 27) & 0x01;
	o.fAtrAlc = (a >> 28) & 0x01;
	o.fAtrBdr = (a >> 29) & 0x01;
	o.fAtrPat = (a >> 30) & 0x01;
	o.fAtrProt = (a >> 31) & 0x01;

	o.dgLeft = b & 0x0F;
	o.dgRight = (b >> 4) & 0x0F;
	o.dgTop = (b >> 8) & 0x0F;
	o.dgBottom = (b >> 12) & 0x0F;
	o.icvLeft = (b >> 16) & 0x7F;
	o.icvRight = (b >> 23) & 0x7F;
	o.grbitDiag = (b >> 30) & 0x03;

	o.icvTop = c & 0x7F;
	o.icvBottom = (c >> 7) & 0x7F;
	o.icvDiag = (c >> 14) & 0x7F;
	o.dgDiag = (c >> 21) & 0x0F;

	o.icvFore = d & 0x7F;
	o.icvBack = (d >> 7) & 0x7F;
	o.fsxButton = (d >> 14) & 0x01;
	return o;
}
//function parse_CellXF(blob, length, opts) {return parse_CellStyleXF(blob,length,0, opts);}
//function parse_StyleXF(blob, length, opts) {return parse_CellStyleXF(blob,length,1, opts);}

/* [MS-XLS] 2.4.353 TODO: actually do this right */
function parse_XF(blob, length, opts) {
	var o = {};
	o.ifnt = blob.read_shift(2); o.numFmtId = blob.read_shift(2); o.flags = blob.read_shift(2);
	o.fStyle = (o.flags >> 2) & 0x01;
	length -= 6;
	o.data = parse_CellStyleXF(blob, length, o.fStyle, opts);
	return o;
}
function write_XF(data, ixfeP, opts, o) {
	var b5 = (opts && (opts.biff == 5));
	if(!o) o = new_buf(b5 ? 16 : 20);
	o.write_shift(2, 0);
	if(data.style) {
		o.write_shift(2, (data.numFmtId||0));
		o.write_shift(2, 0xFFF4);
	} else {
		o.write_shift(2, (data.numFmtId||0));
		o.write_shift(2, (ixfeP<<4));
	}
	o.write_shift(4, 0);
	o.write_shift(4, 0);
	if(!b5) o.write_shift(4, 0);
	o.write_shift(2, 0);
	return o;
}

/* [MS-XLS] 2.4.134 */
function parse_Guts(blob) {
	blob.l += 4;
	var out = [blob.read_shift(2), blob.read_shift(2)];
	if(out[0] !== 0) out[0]--;
	if(out[1] !== 0) out[1]--;
	if(out[0] > 7 || out[1] > 7) throw new Error("Bad Gutters: " + out.join("|"));
	return out;
}
function write_Guts(guts) {
	var o = new_buf(8);
	o.write_shift(4, 0);
	o.write_shift(2, guts[0] ? guts[0] + 1 : 0);
	o.write_shift(2, guts[1] ? guts[1] + 1 : 0);
	return o;
}

/* [MS-XLS] 2.4.24 */
function parse_BoolErr(blob, length, opts) {
	var cell = parse_XLSCell(blob, 6);
	if(opts.biff == 2) ++blob.l;
	var val = parse_Bes(blob, 2);
	cell.val = val;
	cell.t = (val === true || val === false) ? 'b' : 'e';
	return cell;
}
function write_BoolErr(R, C, v, os, opts, t) {
	var o = new_buf(8);
	write_XLSCell(R, C, os, o);
	write_Bes(v, t, o);
	return o;
}

/* [MS-XLS] 2.4.180 Number */
function parse_Number(blob) {
	var cell = parse_XLSCell(blob, 6);
	var xnum = parse_Xnum(blob, 8);
	cell.val = xnum;
	return cell;
}
function write_Number(R, C, v, os) {
	var o = new_buf(14);
	write_XLSCell(R, C, os, o);
	write_Xnum(v, o);
	return o;
}

var parse_XLHeaderFooter = parse_OptXLUnicodeString; // TODO: parse 2.4.136

/* [MS-XLS] 2.4.271 */
function parse_SupBook(blob, length, opts) {
	var end = blob.l + length;
	var ctab = blob.read_shift(2);
	var cch = blob.read_shift(2);
	opts.sbcch = cch;
	if(cch == 0x0401 || cch == 0x3A01) return [cch, ctab];
	if(cch < 0x01 || cch >0xff) throw new Error("Unexpected SupBook type: "+cch);
	var virtPath = parse_XLUnicodeStringNoCch(blob, cch);
	/* TODO: 2.5.277 Virtual Path */
	var rgst = [];
	while(end > blob.l) rgst.push(parse_XLUnicodeString(blob));
	return [cch, ctab, virtPath, rgst];
}

/* [MS-XLS] 2.4.105 TODO */
function parse_ExternName(blob, length, opts) {
	var flags = blob.read_shift(2);
	var body;
	var o = ({
		fBuiltIn: flags & 0x01,
		fWantAdvise: (flags >>> 1) & 0x01,
		fWantPict: (flags >>> 2) & 0x01,
		fOle: (flags >>> 3) & 0x01,
		fOleLink: (flags >>> 4) & 0x01,
		cf: (flags >>> 5) & 0x3FF,
		fIcon: flags >>> 15 & 0x01
	});
	if(opts.sbcch === 0x3A01) body = parse_AddinUdf(blob, length-2, opts);
	//else throw new Error("unsupported SupBook cch: " + opts.sbcch);
	o.body = body || blob.read_shift(length-2);
	if(typeof body === "string") o.Name = body;
	return o;
}

/* [MS-XLS] 2.4.150 TODO */
var XLSLblBuiltIn = [
	"_xlnm.Consolidate_Area",
	"_xlnm.Auto_Open",
	"_xlnm.Auto_Close",
	"_xlnm.Extract",
	"_xlnm.Database",
	"_xlnm.Criteria",
	"_xlnm.Print_Area",
	"_xlnm.Print_Titles",
	"_xlnm.Recorder",
	"_xlnm.Data_Form",
	"_xlnm.Auto_Activate",
	"_xlnm.Auto_Deactivate",
	"_xlnm.Sheet_Title",
	"_xlnm._FilterDatabase"
];
function parse_Lbl(blob, length, opts) {
	var target = blob.l + length;
	var flags = blob.read_shift(2);
	var chKey = blob.read_shift(1);
	var cch = blob.read_shift(1);
	var cce = blob.read_shift(opts && opts.biff == 2 ? 1 : 2);
	var itab = 0;
	if(!opts || opts.biff >= 5) {
		if(opts.biff != 5) blob.l += 2;
		itab = blob.read_shift(2);
		if(opts.biff == 5) blob.l += 2;
		blob.l += 4;
	}
	var name = parse_XLUnicodeStringNoCch(blob, cch, opts);
	if(flags & 0x20) name = XLSLblBuiltIn[name.charCodeAt(0)];
	var npflen = target - blob.l; if(opts && opts.biff == 2) --npflen;
	var rgce = target == blob.l || cce === 0 ? [] : parse_NameParsedFormula(blob, npflen, opts, cce);
	return {
		chKey: chKey,
		Name: name,
		itab: itab,
		rgce: rgce
	};
}

/* [MS-XLS] 2.4.106 TODO: verify filename encoding */
function parse_ExternSheet(blob, length, opts) {
	if(opts.biff < 8) return parse_BIFF5ExternSheet(blob, length, opts);
	var o = [], target = blob.l + length, len = blob.read_shift(opts.biff > 8 ? 4 : 2);
	while(len-- !== 0) o.push(parse_XTI(blob, opts.biff > 8 ? 12 : 6, opts));
		// [iSupBook, itabFirst, itabLast];
	if(blob.l != target) throw new Error("Bad ExternSheet: " + blob.l + " != " + target);
	return o;
}
function parse_BIFF5ExternSheet(blob, length, opts) {
	if(blob[blob.l + 1] == 0x03) blob[blob.l]++;
	var o = parse_ShortXLUnicodeString(blob, length, opts);
	return o.charCodeAt(0) == 0x03 ? o.slice(1) : o;
}

/* [MS-XLS] 2.4.176 TODO: check older biff */
function parse_NameCmt(blob, length, opts) {
	if(opts.biff < 8) { blob.l += length; return; }
	var cchName = blob.read_shift(2);
	var cchComment = blob.read_shift(2);
	var name = parse_XLUnicodeStringNoCch(blob, cchName, opts);
	var comment = parse_XLUnicodeStringNoCch(blob, cchComment, opts);
	return [name, comment];
}

/* [MS-XLS] 2.4.260 */
function parse_ShrFmla(blob, length, opts) {
	var ref = parse_RefU(blob, 6);
	blob.l++;
	var cUse = blob.read_shift(1);
	length -= 8;
	return [parse_SharedParsedFormula(blob, length, opts), cUse, ref];
}

/* [MS-XLS] 2.4.4 TODO */
function parse_Array(blob, length, opts) {
	var ref = parse_Ref(blob, 6);
	/* TODO: fAlwaysCalc */
	switch(opts.biff) {
		case 2: blob.l ++; length -= 7; break;
		case 3: case 4: blob.l += 2; length -= 8; break;
		default: blob.l += 6; length -= 12;
	}
	return [ref, parse_ArrayParsedFormula(blob, length, opts, ref)];
}

/* [MS-XLS] 2.4.173 */
function parse_MTRSettings(blob) {
	var fMTREnabled = blob.read_shift(4) !== 0x00;
	var fUserSetThreadCount = blob.read_shift(4) !== 0x00;
	var cUserThreadCount = blob.read_shift(4);
	return [fMTREnabled, fUserSetThreadCount, cUserThreadCount];
}

/* [MS-XLS] 2.5.186 TODO: BIFF5 */
function parse_NoteSh(blob, length, opts) {
	if(opts.biff < 8) return;
	var row = blob.read_shift(2), col = blob.read_shift(2);
	var flags = blob.read_shift(2), idObj = blob.read_shift(2);
	var stAuthor = parse_XLUnicodeString2(blob, 0, opts);
	if(opts.biff < 8) blob.read_shift(1);
	return [{r:row,c:col}, stAuthor, idObj, flags];
}

/* [MS-XLS] 2.4.179 */
function parse_Note(blob, length, opts) {
	/* TODO: Support revisions */
	return parse_NoteSh(blob, length, opts);
}

/* [MS-XLS] 2.4.168 */
function parse_MergeCells(blob, length) {
	var merges = [];
	var cmcs = blob.read_shift(2);
	while (cmcs--) merges.push(parse_Ref8U(blob,length));
	return merges;
}
function write_MergeCells(merges) {
	var o = new_buf(2 + merges.length * 8);
	o.write_shift(2, merges.length);
	for(var i = 0; i < merges.length; ++i) write_Ref8U(merges[i], o);
	return o;
}

/* [MS-XLS] 2.4.181 TODO: parse all the things! */
function parse_Obj(blob, length, opts) {
	if(opts && opts.biff < 8) return parse_BIFF5Obj(blob, length, opts);
	var cmo = parse_FtCmo(blob, 22); // id, ot, flags
	var fts = parse_FtArray(blob, length-22, cmo[1]);
	return { cmo: cmo, ft:fts };
}
/* from older spec */
var parse_BIFF5OT = [];
parse_BIFF5OT[0x08] = function(blob, length) {
	var tgt = blob.l + length;
	blob.l += 10; // todo
	var cf = blob.read_shift(2);
	blob.l += 4;
	blob.l += 2; //var cbPictFmla = blob.read_shift(2);
	blob.l += 2;
	blob.l += 2; //var grbit = blob.read_shift(2);
	blob.l += 4;
	var cchName = blob.read_shift(1);
	blob.l += cchName; // TODO: stName
	blob.l = tgt; // TODO: fmla
	return { fmt:cf };
};

function parse_BIFF5Obj(blob, length, opts) {
	blob.l += 4; //var cnt = blob.read_shift(4);
	var ot = blob.read_shift(2);
	var id = blob.read_shift(2);
	var grbit = blob.read_shift(2);
	blob.l += 2; //var colL = blob.read_shift(2);
	blob.l += 2; //var dxL = blob.read_shift(2);
	blob.l += 2; //var rwT = blob.read_shift(2);
	blob.l += 2; //var dyT = blob.read_shift(2);
	blob.l += 2; //var colR = blob.read_shift(2);
	blob.l += 2; //var dxR = blob.read_shift(2);
	blob.l += 2; //var rwB = blob.read_shift(2);
	blob.l += 2; //var dyB = blob.read_shift(2);
	blob.l += 2; //var cbMacro = blob.read_shift(2);
	blob.l += 6;
	length -= 36;
	var fts = [];
	fts.push((parse_BIFF5OT[ot]||parsenoop)(blob, length, opts));
	return { cmo: [id, ot, grbit], ft:fts };
}

/* [MS-XLS] 2.4.329 TODO: parse properly */
function parse_TxO(blob, length, opts) {
	var s = blob.l;
	var texts = "";
try {
	blob.l += 4;
	var ot = (opts.lastobj||{cmo:[0,0]}).cmo[1];
	var controlInfo; // eslint-disable-line no-unused-vars
	if([0,5,7,11,12,14].indexOf(ot) == -1) blob.l += 6;
	else controlInfo = parse_ControlInfo(blob, 6, opts);
	var cchText = blob.read_shift(2);
	/*var cbRuns = */blob.read_shift(2);
	/*var ifntEmpty = */parseuint16(blob, 2);
	var len = blob.read_shift(2);
	blob.l += len;
	//var fmla = parse_ObjFmla(blob, s + length - blob.l);

	for(var i = 1; i < blob.lens.length-1; ++i) {
		if(blob.l-s != blob.lens[i]) throw new Error("TxO: bad continue record");
		var hdr = blob[blob.l];
		var t = parse_XLUnicodeStringNoCch(blob, blob.lens[i+1]-blob.lens[i]-1);
		texts += t;
		if(texts.length >= (hdr ? cchText : 2*cchText)) break;
	}
	if(texts.length !== cchText && texts.length !== cchText*2) {
		throw new Error("cchText: " + cchText + " != " + texts.length);
	}

	blob.l = s + length;
	/* [MS-XLS] 2.5.272 TxORuns */
//	var rgTxoRuns = [];
//	for(var j = 0; j != cbRuns/8-1; ++j) blob.l += 8;
//	var cchText2 = blob.read_shift(2);
//	if(cchText2 !== cchText) throw new Error("TxOLastRun mismatch: " + cchText2 + " " + cchText);
//	blob.l += 6;
//	if(s + length != blob.l) throw new Error("TxO " + (s + length) + ", at " + blob.l);
	return { t: texts };
} catch(e) { blob.l = s + length; return { t: texts }; }
}

/* [MS-XLS] 2.4.140 */
function parse_HLink(blob, length) {
	var ref = parse_Ref8U(blob, 8);
	blob.l += 16; /* CLSID */
	var hlink = parse_Hyperlink(blob, length-24);
	return [ref, hlink];
}
function write_HLink(hl) {
	var O = new_buf(24);
	var ref = decode_cell(hl[0]);
	O.write_shift(2, ref.r); O.write_shift(2, ref.r);
	O.write_shift(2, ref.c); O.write_shift(2, ref.c);
	var clsid = "d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" ");
	for(var i = 0; i < 16; ++i) O.write_shift(1, parseInt(clsid[i], 16));
	return bconcat([O, write_Hyperlink(hl[1])]);
}


/* [MS-XLS] 2.4.141 */
function parse_HLinkTooltip(blob, length) {
	blob.read_shift(2);
	var ref = parse_Ref8U(blob, 8);
	var wzTooltip = blob.read_shift((length-10)/2, 'dbcs-cont');
	wzTooltip = wzTooltip.replace(chr0,"");
	return [ref, wzTooltip];
}
function write_HLinkTooltip(hl) {
	var TT = hl[1].Tooltip;
	var O = new_buf(10 + 2 * (TT.length + 1));
	O.write_shift(2, 0x0800);
	var ref = decode_cell(hl[0]);
	O.write_shift(2, ref.r); O.write_shift(2, ref.r);
	O.write_shift(2, ref.c); O.write_shift(2, ref.c);
	for(var i = 0; i < TT.length; ++i) O.write_shift(2, TT.charCodeAt(i));
	O.write_shift(2, 0);
	return O;
}

/* [MS-XLS] 2.4.63 */
function parse_Country(blob) {
	var o = [0,0], d;
	d = blob.read_shift(2); o[0] = CountryEnum[d] || d;
	d = blob.read_shift(2); o[1] = CountryEnum[d] || d;
	return o;
}
function write_Country(o) {
	if(!o) o = new_buf(4);
	o.write_shift(2, 0x01);
	o.write_shift(2, 0x01);
	return o;
}

/* [MS-XLS] 2.4.50 ClrtClient */
function parse_ClrtClient(blob) {
	var ccv = blob.read_shift(2);
	var o = [];
	while(ccv-->0) o.push(parse_LongRGB(blob, 8));
	return o;
}

/* [MS-XLS] 2.4.188 */
function parse_Palette(blob) {
	var ccv = blob.read_shift(2);
	var o = [];
	while(ccv-->0) o.push(parse_LongRGB(blob, 8));
	return o;
}

/* [MS-XLS] 2.4.354 */
function parse_XFCRC(blob) {
	blob.l += 2;
	var o = {cxfs:0, crc:0};
	o.cxfs = blob.read_shift(2);
	o.crc = blob.read_shift(4);
	return o;
}

/* [MS-XLS] 2.4.53 TODO: parse flags */
/* [MS-XLSB] 2.4.323 TODO: parse flags */
function parse_ColInfo(blob, length, opts) {
	if(!opts.cellStyles) return parsenoop(blob, length);
	var w = opts && opts.biff >= 12 ? 4 : 2;
	var colFirst = blob.read_shift(w);
	var colLast = blob.read_shift(w);
	var coldx = blob.read_shift(w);
	var ixfe = blob.read_shift(w);
	var flags = blob.read_shift(2);
	if(w == 2) blob.l += 2;
	return {s:colFirst, e:colLast, w:coldx, ixfe:ixfe, flags:flags};
}

/* [MS-XLS] 2.4.257 */
function parse_Setup(blob, length) {
	var o = {};
	if(length < 32) return o;
	blob.l += 16;
	o.header = parse_Xnum(blob, 8);
	o.footer = parse_Xnum(blob, 8);
	blob.l += 2;
	return o;
}

/* [MS-XLS] 2.4.261 */
function parse_ShtProps(blob, length, opts) {
	var def = {area:false};
	if(opts.biff != 5) { blob.l += length; return def; }
	var d = blob.read_shift(1); blob.l += 3;
	if((d & 0x10)) def.area = true;
	return def;
}

/* [MS-XLS] 2.4.241 */
function write_RRTabId(n) {
	var out = new_buf(2 * n);
	for(var i = 0; i < n; ++i) out.write_shift(2, i+1);
	return out;
}

var parse_Blank = parse_XLSCell; /* [MS-XLS] 2.4.20 Just the cell */
var parse_Scl = parseuint16a; /* [MS-XLS] 2.4.247 num, den */
var parse_String = parse_XLUnicodeString; /* [MS-XLS] 2.4.268 */

/* --- Specific to versions before BIFF8 --- */
function parse_ImData(blob) {
	var cf = blob.read_shift(2);
	var env = blob.read_shift(2);
	var lcb = blob.read_shift(4);
	var o = {fmt:cf, env:env, len:lcb, data:blob.slice(blob.l,blob.l+lcb)};
	blob.l += lcb;
	return o;
}

/* BIFF2_??? where ??? is the name from [XLS] */
function parse_BIFF2STR(blob, length, opts) {
	var cell = parse_XLSCell(blob, 6);
	++blob.l;
	var str = parse_XLUnicodeString2(blob, length-7, opts);
	cell.t = 'str';
	cell.val = str;
	return cell;
}

function parse_BIFF2NUM(blob) {
	var cell = parse_XLSCell(blob, 6);
	++blob.l;
	var num = parse_Xnum(blob, 8);
	cell.t = 'n';
	cell.val = num;
	return cell;
}
function write_BIFF2NUM(r, c, val) {
	var out = new_buf(15);
	write_BIFF2Cell(out, r, c);
	out.write_shift(8, val, 'f');
	return out;
}

function parse_BIFF2INT(blob) {
	var cell = parse_XLSCell(blob, 6);
	++blob.l;
	var num = blob.read_shift(2);
	cell.t = 'n';
	cell.val = num;
	return cell;
}
function write_BIFF2INT(r, c, val) {
	var out = new_buf(9);
	write_BIFF2Cell(out, r, c);
	out.write_shift(2, val);
	return out;
}

function parse_BIFF2STRING(blob) {
	var cch = blob.read_shift(1);
	if(cch === 0) { blob.l++; return ""; }
	return blob.read_shift(cch, 'sbcs-cont');
}

/* TODO: convert to BIFF8 font struct */
function parse_BIFF2FONTXTRA(blob, length) {
	blob.l += 6; // unknown
	blob.l += 2; // font weight "bls"
	blob.l += 1; // charset
	blob.l += 3; // unknown
	blob.l += 1; // font family
	blob.l += length - 13;
}

/* TODO: parse rich text runs */
function parse_RString(blob, length, opts) {
	var end = blob.l + length;
	var cell = parse_XLSCell(blob, 6);
	var cch = blob.read_shift(2);
	var str = parse_XLUnicodeStringNoCch(blob, cch, opts);
	blob.l = end;
	cell.t = 'str';
	cell.val = str;
	return cell;
}
/* from js-harb (C) 2014-present  SheetJS */
var DBF = (function() {
var dbf_codepage_map = {
	/* Code Pages Supported by Visual FoxPro */
0x01:   437,           0x02:   850,
0x03:  1252,           0x04: 10000,
0x64:   852,           0x65:   866,
0x66:   865,           0x67:   861,
0x68:   895,           0x69:   620,
0x6A:   737,           0x6B:   857,
0x78:   950,           0x79:   949,
0x7A:   936,           0x7B:   932,
0x7C:   874,           0x7D:  1255,
0x7E:  1256,           0x96: 10007,
0x97: 10029,           0x98: 10006,
0xC8:  1250,           0xC9:  1251,
0xCA:  1254,           0xCB:  1253,

	/* shapefile DBF extension */
0x00: 20127,           0x08:   865,
0x09:   437,           0x0A:   850,
0x0B:   437,           0x0D:   437,
0x0E:   850,           0x0F:   437,
0x10:   850,           0x11:   437,
0x12:   850,           0x13:   932,
0x14:   850,           0x15:   437,
0x16:   850,           0x17:   865,
0x18:   437,           0x19:   437,
0x1A:   850,           0x1B:   437,
0x1C:   863,           0x1D:   850,
0x1F:   852,           0x22:   852,
0x23:   852,           0x24:   860,
0x25:   850,           0x26:   866,
0x37:   850,           0x40:   852,
0x4D:   936,           0x4E:   949,
0x4F:   950,           0x50:   874,
0x57:  1252,           0x58:  1252,
0x59:  1252,

0xFF: 16969
};

/* TODO: find an actual specification */
function dbf_to_aoa(buf, opts) {
	var out = [];
	/* TODO: browser based */
	var d = (new_raw_buf(1));
	switch(opts.type) {
		case 'base64': d = s2a(Base64.decode(buf)); break;
		case 'binary': d = s2a(buf); break;
		case 'buffer':
		case 'array': d = buf; break;
	}
	prep_blob(d, 0);
	/* header */
	var ft = d.read_shift(1);
	var memo = false;
	var vfp = false, l7 = false;
	switch(ft) {
		case 0x02: case 0x03: break;
		case 0x30: vfp = true; memo = true; break;
		case 0x31: vfp = true; break;
		case 0x83: memo = true; break;
		case 0x8B: memo = true; break;
		case 0x8C: memo = true; l7 = true; break;
		case 0xF5: memo = true; break;
		default: throw new Error("DBF Unsupported Version: " + ft.toString(16));
	}
	var /*filedate = new Date(),*/ nrow = 0, fpos = 0;
	if(ft == 0x02) nrow = d.read_shift(2);
	/*filedate = new Date(d.read_shift(1) + 1900, d.read_shift(1) - 1, d.read_shift(1));*/d.l += 3;
	if(ft != 0x02) nrow = d.read_shift(4);
	if(ft != 0x02) fpos = d.read_shift(2);
	var rlen = d.read_shift(2);

	var /*flags = 0,*/ current_cp = 1252;
	if(ft != 0x02) {
	d.l+=16;
	/*flags = */d.read_shift(1);
	//if(memo && ((flags & 0x02) === 0)) throw new Error("DBF Flags " + flags.toString(16) + " ft " + ft.toString(16));

	/* codepage present in FoxPro */
	if(d[d.l] !== 0) current_cp = dbf_codepage_map[d[d.l]];
	d.l+=1;

	d.l+=2;
	}
	if(l7) d.l += 36;
var fields = [], field = ({});
	var hend = fpos - 10 - (vfp ? 264 : 0), ww = l7 ? 32 : 11;
	while(ft == 0x02 ? d.l < d.length && d[d.l] != 0x0d: d.l < hend) {
		field = ({});
		field.name = cptable.utils.decode(current_cp, d.slice(d.l, d.l+ww)).replace(/[\u0000\r\n].*$/g,"");
		d.l += ww;
		field.type = String.fromCharCode(d.read_shift(1));
		if(ft != 0x02 && !l7) field.offset = d.read_shift(4);
		field.len = d.read_shift(1);
		if(ft == 0x02) field.offset = d.read_shift(2);
		field.dec = d.read_shift(1);
		if(field.name.length) fields.push(field);
		if(ft != 0x02) d.l += l7 ? 13 : 14;
		switch(field.type) {
			case 'B': // VFP Double
				if((!vfp || field.len != 8) && opts.WTF) console.log('Skipping ' + field.name + ':' + field.type);
				break;
			case 'G': // General
			case 'P': // Picture
				if(opts.WTF) console.log('Skipping ' + field.name + ':' + field.type);
				break;
			case 'C': // character
			case 'D': // date
			case 'F': // floating point
			case 'I': // long
			case 'L': // boolean
			case 'M': // memo
			case 'N': // number
			case 'O': // double
			case 'T': // datetime
			case 'Y': // currency
			case '0': // VFP _NullFlags
			case '@': // timestamp
			case '+': // autoincrement
				break;
			default: throw new Error('Unknown Field Type: ' + field.type);
		}
	}
	if(d[d.l] !== 0x0D) d.l = fpos-1;
	else if(ft == 0x02) d.l = 0x209;
	if(ft != 0x02) {
		if(d.read_shift(1) !== 0x0D) throw new Error("DBF Terminator not found " + d.l + " " + d[d.l]);
		d.l = fpos;
	}
	/* data */
	var R = 0, C = 0;
	out[0] = [];
	for(C = 0; C != fields.length; ++C) out[0][C] = fields[C].name;
	while(nrow-- > 0) {
		if(d[d.l] === 0x2A) { d.l+=rlen; continue; }
		++d.l;
		out[++R] = []; C = 0;
		for(C = 0; C != fields.length; ++C) {
			var dd = d.slice(d.l, d.l+fields[C].len); d.l+=fields[C].len;
			prep_blob(dd, 0);
			var s = cptable.utils.decode(current_cp, dd);
			switch(fields[C].type) {
				case 'C':
					out[R][C] = cptable.utils.decode(current_cp, dd);
					out[R][C] = out[R][C].trim();
					break;
				case 'D':
					if(s.length === 8) out[R][C] = new Date(+s.slice(0,4), +s.slice(4,6)-1, +s.slice(6,8));
					else out[R][C] = s;
					break;
				case 'F': out[R][C] = parseFloat(s.trim()); break;
				case '+': case 'I': out[R][C] = l7 ? dd.read_shift(-4, 'i') ^ 0x80000000 : dd.read_shift(4, 'i'); break;
				case 'L': switch(s.toUpperCase()) {
					case 'Y': case 'T': out[R][C] = true; break;
					case 'N': case 'F': out[R][C] = false; break;
					case ' ': case '?': out[R][C] = false; break; /* NOTE: technically uninitialized */
					default: throw new Error("DBF Unrecognized L:|" + s + "|");
					} break;
				case 'M': /* TODO: handle memo files */
					if(!memo) throw new Error("DBF Unexpected MEMO for type " + ft.toString(16));
					out[R][C] = "##MEMO##" + (l7 ? parseInt(s.trim(), 10): dd.read_shift(4));
					break;
				case 'N': out[R][C] = +s.replace(/\u0000/g,"").trim(); break;
				case '@': out[R][C] = new Date(dd.read_shift(-8, 'f') - 0x388317533400); break;
				case 'T': out[R][C] = new Date((dd.read_shift(4) - 0x253D8C) * 0x5265C00 + dd.read_shift(4)); break;
				case 'Y': out[R][C] = dd.read_shift(4,'i')/1e4; break;
				case 'O': out[R][C] = -dd.read_shift(-8, 'f'); break;
				case 'B': if(vfp && fields[C].len == 8) { out[R][C] = dd.read_shift(8,'f'); break; }
					/* falls through */
				case 'G': case 'P': dd.l += fields[C].len; break;
				case '0':
					if(fields[C].name === '_NullFlags') break;
					/* falls through */
				default: throw new Error("DBF Unsupported data type " + fields[C].type);
			}
		}
	}
	if(ft != 0x02) if(d.l < d.length && d[d.l++] != 0x1A) throw new Error("DBF EOF Marker missing " + (d.l-1) + " of " + d.length + " " + d[d.l-1].toString(16));
	if(opts && opts.sheetRows) out = out.slice(0, opts.sheetRows);
	return out;
}

function dbf_to_sheet(buf, opts) {
	var o = opts || {};
	if(!o.dateNF) o.dateNF = "yyyymmdd";
	return aoa_to_sheet(dbf_to_aoa(buf, o), o);
}

function dbf_to_workbook(buf, opts) {
	try { return sheet_to_workbook(dbf_to_sheet(buf, opts), opts); }
	catch(e) { if(opts && opts.WTF) throw e; }
	return ({SheetNames:[],Sheets:{}});
}

var _RLEN = { 'B': 8, 'C': 250, 'L': 1, 'D': 8, '?': 0, '': 0 };
function sheet_to_dbf(ws, opts) {
	var o = opts || {};
	if(o.type == "string") throw new Error("Cannot write DBF to JS string");
	var ba = buf_array();
	var aoa = sheet_to_json(ws, {header:1, raw:true, cellDates:true});
	var headers = aoa[0], data = aoa.slice(1);
	var i = 0, j = 0, hcnt = 0, rlen = 1;
	for(i = 0; i < headers.length; ++i) {
		if(i == null) continue;
		++hcnt;
		if(typeof headers[i] === 'number') headers[i] = headers[i].toString(10);
		if(typeof headers[i] !== 'string') throw new Error("DBF Invalid column name " + headers[i] + " |" + (typeof headers[i]) + "|");
		if(headers.indexOf(headers[i]) !== i) for(j=0; j<1024;++j)
			if(headers.indexOf(headers[i] + "_" + j) == -1) { headers[i] += "_" + j; break; }
	}
	var range = safe_decode_range(ws['!ref']);
	var coltypes = [];
	for(i = 0; i <= range.e.c - range.s.c; ++i) {
		var col = [];
		for(j=0; j < data.length; ++j) {
			if(data[j][i] != null) col.push(data[j][i]);
		}
		if(col.length == 0 || headers[i] == null) { coltypes[i] = '?'; continue; }
		var guess = '', _guess = '';
		for(j = 0; j < col.length; ++j) {
			switch(typeof col[j]) {
				/* TODO: check if L2 compat is desired */
				case 'number': _guess = 'B'; break;
				case 'string': _guess = 'C'; break;
				case 'boolean': _guess = 'L'; break;
				case 'object': _guess = col[j] instanceof Date ? 'D' : 'C'; break;
				default: _guess = 'C';
			}
			guess = guess && guess != _guess ? 'C' : _guess;
			if(guess == 'C') break;
		}
		rlen += _RLEN[guess] || 0;
		coltypes[i] = guess;
	}

	var h = ba.next(32);
	h.write_shift(4, 0x13021130);
	h.write_shift(4, data.length);
	h.write_shift(2, 296 + 32 * hcnt);
	h.write_shift(2, rlen);
	for(i=0; i < 4; ++i) h.write_shift(4, 0);
	h.write_shift(4, 0x00000300); // TODO: CP

	for(i = 0, j = 0; i < headers.length; ++i) {
		if(headers[i] == null) continue;
		var hf = ba.next(32);
		var _f = (headers[i].slice(-10) + "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00").slice(0, 11);
		hf.write_shift(1, _f, "sbcs");
		hf.write_shift(1, coltypes[i] == '?' ? 'C' : coltypes[i], "sbcs");
		hf.write_shift(4, j);
		hf.write_shift(1, _RLEN[coltypes[i]] || 0);
		hf.write_shift(1, 0);
		hf.write_shift(1, 0x02);
		hf.write_shift(4, 0);
		hf.write_shift(1, 0);
		hf.write_shift(4, 0);
		hf.write_shift(4, 0);
		j += _RLEN[coltypes[i]] || 0;
	}

	var hb = ba.next(264);
	hb.write_shift(4, 0x0000000D);
	for(i=0; i < 65;++i) hb.write_shift(4, 0x00000000);
	for(i=0; i < data.length; ++i) {
		var rout = ba.next(rlen);
		rout.write_shift(1, 0);
		for(j=0; j<headers.length; ++j) {
			if(headers[j] == null) continue;
			switch(coltypes[j]) {
				case 'L': rout.write_shift(1, data[i][j] == null ? 0x3F : data[i][j] ? 0x54 : 0x46); break;
				case 'B': rout.write_shift(8, data[i][j]||0, 'f'); break;
				case 'D':
					if(!data[i][j]) rout.write_shift(8, "00000000", "sbcs");
					else {
						rout.write_shift(4, ("0000"+data[i][j].getFullYear()).slice(-4), "sbcs");
						rout.write_shift(2, ("00"+(data[i][j].getMonth()+1)).slice(-2), "sbcs");
						rout.write_shift(2, ("00"+data[i][j].getDate()).slice(-2), "sbcs");
					} break;
				case 'C':
					var _s = String(data[i][j]||"");
					rout.write_shift(1, _s, "sbcs");
					for(hcnt=0; hcnt < 250-_s.length; ++hcnt) rout.write_shift(1, 0x20); break;
			}
		}
		// data
	}
	ba.next(1).write_shift(1, 0x1A);
	return ba.end();
}
	return {
		to_workbook: dbf_to_workbook,
		to_sheet: dbf_to_sheet,
		from_sheet: sheet_to_dbf
	};
})();

var SYLK = (function() {
	/* TODO: find an actual specification */
	function sylk_to_aoa(d, opts) {
		switch(opts.type) {
			case 'base64': return sylk_to_aoa_str(Base64.decode(d), opts);
			case 'binary': return sylk_to_aoa_str(d, opts);
			case 'buffer': return sylk_to_aoa_str(d.toString('binary'), opts);
			case 'array': return sylk_to_aoa_str(cc2str(d), opts);
		}
		throw new Error("Unrecognized type " + opts.type);
	}
	function sylk_to_aoa_str(str, opts) {
		var records = str.split(/[\n\r]+/), R = -1, C = -1, ri = 0, rj = 0, arr = [];
		var formats = [];
		var next_cell_format = null;
		var sht = {}, rowinfo = [], colinfo = [], cw = [];
		var Mval = 0, j;
		for (; ri !== records.length; ++ri) {
			Mval = 0;
			var rstr=records[ri].trim();
			var record=rstr.replace(/;;/g, "\u0001").split(";").map(function(x) { return x.replace(/\u0001/g, ";"); });
			var RT=record[0], val;
			if(rstr.length > 0) switch(RT) {
			case 'ID': break; /* header */
			case 'E': break; /* EOF */
			case 'B': break; /* dimensions */
			case 'O': break; /* options? */
			case 'P':
				if(record[1].charAt(0) == 'P')
					formats.push(rstr.slice(3).replace(/;;/g, ";"));
				break;
			case 'C':
			var C_seen_K = false, C_seen_X = false;
			for(rj=1; rj<record.length; ++rj) switch(record[rj].charAt(0)) {
				case 'X': C = parseInt(record[rj].slice(1))-1; C_seen_X = true; break;
				case 'Y':
					R = parseInt(record[rj].slice(1))-1; if(!C_seen_X) C = 0;
					for(j = arr.length; j <= R; ++j) arr[j] = [];
					break;
				case 'K':
					val = record[rj].slice(1);
					if(val.charAt(0) === '"') val = val.slice(1,val.length - 1);
					else if(val === 'TRUE') val = true;
					else if(val === 'FALSE') val = false;
					else if(!isNaN(fuzzynum(val))) {
						val = fuzzynum(val);
						if(next_cell_format !== null && SSF.is_date(next_cell_format)) val = numdate(val);
					} else if(!isNaN(fuzzydate(val).getDate())) {
						val = parseDate(val);
					}
					if(typeof cptable !== 'undefined' && typeof val == "string" && ((opts||{}).type != "string") && (opts||{}).codepage) val = cptable.utils.decode(opts.codepage, val);
					C_seen_K = true;
					break;
				case 'E':
					var formula = rc_to_a1(record[rj].slice(1), {r:R,c:C});
					arr[R][C] = [arr[R][C], formula];
					break;
				default: if(opts && opts.WTF) throw new Error("SYLK bad record " + rstr);
			}
			if(C_seen_K) { arr[R][C] = val; next_cell_format = null; }
			break;
			case 'F':
			var F_seen = 0;
			for(rj=1; rj<record.length; ++rj) switch(record[rj].charAt(0)) {
				case 'X': C = parseInt(record[rj].slice(1))-1; ++F_seen; break;
				case 'Y':
					R = parseInt(record[rj].slice(1))-1; /*C = 0;*/
					for(j = arr.length; j <= R; ++j) arr[j] = [];
					break;
				case 'M': Mval = parseInt(record[rj].slice(1)) / 20; break;
				case 'F': break; /* ??? */
				case 'G': break; /* hide grid */
				case 'P':
					next_cell_format = formats[parseInt(record[rj].slice(1))];
					break;
				case 'S': break; /* cell style */
				case 'D': break; /* column */
				case 'N': break; /* font */
				case 'W':
					cw = record[rj].slice(1).split(" ");
					for(j = parseInt(cw[0], 10); j <= parseInt(cw[1], 10); ++j) {
						Mval = parseInt(cw[2], 10);
						colinfo[j-1] = Mval === 0 ? {hidden:true}: {wch:Mval}; process_col(colinfo[j-1]);
					} break;
				case 'C': /* default column format */
					C = parseInt(record[rj].slice(1))-1;
					if(!colinfo[C]) colinfo[C] = {};
					break;
				case 'R': /* row properties */
					R = parseInt(record[rj].slice(1))-1;
					if(!rowinfo[R]) rowinfo[R] = {};
					if(Mval > 0) { rowinfo[R].hpt = Mval; rowinfo[R].hpx = pt2px(Mval); }
					else if(Mval === 0) rowinfo[R].hidden = true;
					break;
				default: if(opts && opts.WTF) throw new Error("SYLK bad record " + rstr);
			}
			if(F_seen < 1) next_cell_format = null; break;
			default: if(opts && opts.WTF) throw new Error("SYLK bad record " + rstr);
			}
		}
		if(rowinfo.length > 0) sht['!rows'] = rowinfo;
		if(colinfo.length > 0) sht['!cols'] = colinfo;
		if(opts && opts.sheetRows) arr = arr.slice(0, opts.sheetRows);
		return [arr, sht];
	}

	function sylk_to_sheet(d, opts) {
		var aoasht = sylk_to_aoa(d, opts);
		var aoa = aoasht[0], ws = aoasht[1];
		var o = aoa_to_sheet(aoa, opts);
		keys(ws).forEach(function(k) { o[k] = ws[k]; });
		return o;
	}

	function sylk_to_workbook(d, opts) { return sheet_to_workbook(sylk_to_sheet(d, opts), opts); }

	function write_ws_cell_sylk(cell, ws, R, C) {
		var o = "C;Y" + (R+1) + ";X" + (C+1) + ";K";
		switch(cell.t) {
			case 'n':
				o += (cell.v||0);
				if(cell.f && !cell.F) o += ";E" + a1_to_rc(cell.f, {r:R, c:C}); break;
			case 'b': o += cell.v ? "TRUE" : "FALSE"; break;
			case 'e': o += cell.w || cell.v; break;
			case 'd': o += '"' + (cell.w || cell.v) + '"'; break;
			case 's': o += '"' + cell.v.replace(/"/g,"") + '"'; break;
		}
		return o;
	}

	function write_ws_cols_sylk(out, cols) {
		cols.forEach(function(col, i) {
			var rec = "F;W" + (i+1) + " " + (i+1) + " ";
			if(col.hidden) rec += "0";
			else {
				if(typeof col.width == 'number') col.wpx = width2px(col.width);
				if(typeof col.wpx == 'number') col.wch = px2char(col.wpx);
				if(typeof col.wch == 'number') rec += Math.round(col.wch);
			}
			if(rec.charAt(rec.length - 1) != " ") out.push(rec);
		});
	}

	function write_ws_rows_sylk(out, rows) {
		rows.forEach(function(row, i) {
			var rec = "F;";
			if(row.hidden) rec += "M0;";
			else if(row.hpt) rec += "M" + 20 * row.hpt + ";";
			else if(row.hpx) rec += "M" + 20 * px2pt(row.hpx) + ";";
			if(rec.length > 2) out.push(rec + "R" + (i+1));
		});
	}

	function sheet_to_sylk(ws, opts) {
		var preamble = ["ID;PWXL;N;E"], o = [];
		var r = safe_decode_range(ws['!ref']), cell;
		var dense = Array.isArray(ws);
		var RS = "\r\n";

		preamble.push("P;PGeneral");
		preamble.push("F;P0;DG0G8;M255");
		if(ws['!cols']) write_ws_cols_sylk(preamble, ws['!cols']);
		if(ws['!rows']) write_ws_rows_sylk(preamble, ws['!rows']);

		preamble.push("B;Y" + (r.e.r - r.s.r + 1) + ";X" + (r.e.c - r.s.c + 1) + ";D" + [r.s.c,r.s.r,r.e.c,r.e.r].join(" "));
		for(var R = r.s.r; R <= r.e.r; ++R) {
			for(var C = r.s.c; C <= r.e.c; ++C) {
				var coord = encode_cell({r:R,c:C});
				cell = dense ? (ws[R]||[])[C]: ws[coord];
				if(!cell || (cell.v == null && (!cell.f || cell.F))) continue;
				o.push(write_ws_cell_sylk(cell, ws, R, C, opts));
			}
		}
		return preamble.join(RS) + RS + o.join(RS) + RS + "E" + RS;
	}

	return {
		to_workbook: sylk_to_workbook,
		to_sheet: sylk_to_sheet,
		from_sheet: sheet_to_sylk
	};
})();

var DIF = (function() {
	function dif_to_aoa(d, opts) {
		switch(opts.type) {
			case 'base64': return dif_to_aoa_str(Base64.decode(d), opts);
			case 'binary': return dif_to_aoa_str(d, opts);
			case 'buffer': return dif_to_aoa_str(d.toString('binary'), opts);
			case 'array': return dif_to_aoa_str(cc2str(d), opts);
		}
		throw new Error("Unrecognized type " + opts.type);
	}
	function dif_to_aoa_str(str, opts) {
		var records = str.split('\n'), R = -1, C = -1, ri = 0, arr = [];
		for (; ri !== records.length; ++ri) {
			if (records[ri].trim() === 'BOT') { arr[++R] = []; C = 0; continue; }
			if (R < 0) continue;
			var metadata = records[ri].trim().split(",");
			var type = metadata[0], value = metadata[1];
			++ri;
			var data = records[ri].trim();
			switch (+type) {
				case -1:
					if (data === 'BOT') { arr[++R] = []; C = 0; continue; }
					else if (data !== 'EOD') throw new Error("Unrecognized DIF special command " + data);
					break;
				case 0:
					if(data === 'TRUE') arr[R][C] = true;
					else if(data === 'FALSE') arr[R][C] = false;
					else if(!isNaN(fuzzynum(value))) arr[R][C] = fuzzynum(value);
					else if(!isNaN(fuzzydate(value).getDate())) arr[R][C] = parseDate(value);
					else arr[R][C] = value;
					++C; break;
				case 1:
					data = data.slice(1,data.length-1);
					arr[R][C++] = data !== '' ? data : null;
					break;
			}
			if (data === 'EOD') break;
		}
		if(opts && opts.sheetRows) arr = arr.slice(0, opts.sheetRows);
		return arr;
	}

	function dif_to_sheet(str, opts) { return aoa_to_sheet(dif_to_aoa(str, opts), opts); }
	function dif_to_workbook(str, opts) { return sheet_to_workbook(dif_to_sheet(str, opts), opts); }

	var sheet_to_dif = (function() {
		var push_field = function pf(o, topic, v, n, s) {
			o.push(topic);
			o.push(v + "," + n);
			o.push('"' + s.replace(/"/g,'""') + '"');
		};
		var push_value = function po(o, type, v, s) {
			o.push(type + "," + v);
			o.push(type == 1 ? '"' + s.replace(/"/g,'""') + '"' : s);
		};
		return function sheet_to_dif(ws) {
			var o = [];
			var r = safe_decode_range(ws['!ref']), cell;
			var dense = Array.isArray(ws);
			push_field(o, "TABLE", 0, 1, "sheetjs");
			push_field(o, "VECTORS", 0, r.e.r - r.s.r + 1,"");
			push_field(o, "TUPLES", 0, r.e.c - r.s.c + 1,"");
			push_field(o, "DATA", 0, 0,"");
			for(var R = r.s.r; R <= r.e.r; ++R) {
				push_value(o, -1, 0, "BOT");
				for(var C = r.s.c; C <= r.e.c; ++C) {
					var coord = encode_cell({r:R,c:C});
					cell = dense ? (ws[R]||[])[C] : ws[coord];
					if(!cell) { push_value(o, 1, 0, ""); continue;}
					switch(cell.t) {
						case 'n':
							var val = DIF_XL ? cell.w : cell.v;
							if(!val && cell.v != null) val = cell.v;
							if(val == null) {
								if(DIF_XL && cell.f && !cell.F) push_value(o, 1, 0, "=" + cell.f);
								else push_value(o, 1, 0, "");
							}
							else push_value(o, 0, val, "V");
							break;
						case 'b':
							push_value(o, 0, cell.v ? 1 : 0, cell.v ? "TRUE" : "FALSE");
							break;
						case 's':
							push_value(o, 1, 0, (!DIF_XL || isNaN(cell.v)) ? cell.v : '="' + cell.v + '"');
							break;
						case 'd':
							if(!cell.w) cell.w = SSF.format(cell.z || SSF._table[14], datenum(parseDate(cell.v)));
							if(DIF_XL) push_value(o, 0, cell.w, "V");
							else push_value(o, 1, 0, cell.w);
							break;
						default: push_value(o, 1, 0, "");
					}
				}
			}
			push_value(o, -1, 0, "EOD");
			var RS = "\r\n";
			var oo = o.join(RS);
			//while((oo.length & 0x7F) != 0) oo += "\0";
			return oo;
		};
	})();
	return {
		to_workbook: dif_to_workbook,
		to_sheet: dif_to_sheet,
		from_sheet: sheet_to_dif
	};
})();

var ETH = (function() {
	function decode(s) { return s.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n"); }
	function encode(s) { return s.replace(/\\/g, "\\b").replace(/:/g, "\\c").replace(/\n/g,"\\n"); }

	function eth_to_aoa(str, opts) {
		var records = str.split('\n'), R = -1, C = -1, ri = 0, arr = [];
		for (; ri !== records.length; ++ri) {
			var record = records[ri].trim().split(":");
			if(record[0] !== 'cell') continue;
			var addr = decode_cell(record[1]);
			if(arr.length <= addr.r) for(R = arr.length; R <= addr.r; ++R) if(!arr[R]) arr[R] = [];
			R = addr.r; C = addr.c;
			switch(record[2]) {
				case 't': arr[R][C] = decode(record[3]); break;
				case 'v': arr[R][C] = +record[3]; break;
				case 'vtf': var _f = record[record.length - 1];
					/* falls through */
				case 'vtc':
					switch(record[3]) {
						case 'nl': arr[R][C] = +record[4] ? true : false; break;
						default: arr[R][C] = +record[4]; break;
					}
					if(record[2] == 'vtf') arr[R][C] = [arr[R][C], _f];
			}
		}
		if(opts && opts.sheetRows) arr = arr.slice(0, opts.sheetRows);
		return arr;
	}

	function eth_to_sheet(d, opts) { return aoa_to_sheet(eth_to_aoa(d, opts), opts); }
	function eth_to_workbook(d, opts) { return sheet_to_workbook(eth_to_sheet(d, opts), opts); }

	var header = [
		"socialcalc:version:1.5",
		"MIME-Version: 1.0",
		"Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"
	].join("\n");

	var sep = [
		"--SocialCalcSpreadsheetControlSave",
		"Content-type: text/plain; charset=UTF-8"
	].join("\n") + "\n";

	/* TODO: the other parts */
	var meta = [
		"# SocialCalc Spreadsheet Control Save",
		"part:sheet"
	].join("\n");

	var end = "--SocialCalcSpreadsheetControlSave--";

	function sheet_to_eth_data(ws) {
		if(!ws || !ws['!ref']) return "";
		var o = [], oo = [], cell, coord = "";
		var r = decode_range(ws['!ref']);
		var dense = Array.isArray(ws);
		for(var R = r.s.r; R <= r.e.r; ++R) {
			for(var C = r.s.c; C <= r.e.c; ++C) {
				coord = encode_cell({r:R,c:C});
				cell = dense ? (ws[R]||[])[C] : ws[coord];
				if(!cell || cell.v == null || cell.t === 'z') continue;
				oo = ["cell", coord, 't'];
				switch(cell.t) {
					case 's': case 'str': oo.push(encode(cell.v)); break;
					case 'n':
						if(!cell.f) { oo[2]='v'; oo[3]=cell.v; }
						else { oo[2]='vtf'; oo[3]='n'; oo[4]=cell.v; oo[5]=encode(cell.f); }
						break;
					case 'b':
						oo[2] = 'vt'+(cell.f?'f':'c'); oo[3]='nl'; oo[4]=cell.v?"1":"0";
						oo[5] = encode(cell.f||(cell.v?'TRUE':'FALSE'));
						break;
					case 'd':
						var t = datenum(parseDate(cell.v));
						oo[2] = 'vtc'; oo[3] = 'nd'; oo[4] = ""+t;
						oo[5] = cell.w || SSF.format(cell.z || SSF._table[14], t);
						break;
					case 'e': continue;
				}
				o.push(oo.join(":"));
			}
		}
		o.push("sheet:c:" + (r.e.c-r.s.c+1) + ":r:" + (r.e.r-r.s.r+1) + ":tvf:1");
		o.push("valueformat:1:text-wiki");
		//o.push("copiedfrom:" + ws['!ref']); // clipboard only
		return o.join("\n");
	}

	function sheet_to_eth(ws) {
		return [header, sep, meta, sep, sheet_to_eth_data(ws), end].join("\n");
		// return ["version:1.5", sheet_to_eth_data(ws)].join("\n"); // clipboard form
	}

	return {
		to_workbook: eth_to_workbook,
		to_sheet: eth_to_sheet,
		from_sheet: sheet_to_eth
	};
})();

var PRN = (function() {
	function set_text_arr(data, arr, R, C, o) {
		if(o.raw) arr[R][C] = data;
		else if(data === 'TRUE') arr[R][C] = true;
		else if(data === 'FALSE') arr[R][C] = false;
		else if(data === ""){/* empty */}
		else if(!isNaN(fuzzynum(data))) arr[R][C] = fuzzynum(data);
		else if(!isNaN(fuzzydate(data).getDate())) arr[R][C] = parseDate(data);
		else arr[R][C] = data;
	}

	function prn_to_aoa_str(f, opts) {
		var o = opts || {};
		var arr = ([]);
		if(!f || f.length === 0) return arr;
		var lines = f.split(/[\r\n]/);
		var L = lines.length - 1;
		while(L >= 0 && lines[L].length === 0) --L;
		var start = 10, idx = 0;
		var R = 0;
		for(; R <= L; ++R) {
			idx = lines[R].indexOf(" ");
			if(idx == -1) idx = lines[R].length; else idx++;
			start = Math.max(start, idx);
		}
		for(R = 0; R <= L; ++R) {
			arr[R] = [];
			/* TODO: confirm that widths are always 10 */
			var C = 0;
			set_text_arr(lines[R].slice(0, start).trim(), arr, R, C, o);
			for(C = 1; C <= (lines[R].length - start)/10 + 1; ++C)
				set_text_arr(lines[R].slice(start+(C-1)*10,start+C*10).trim(),arr,R,C,o);
		}
		if(o.sheetRows) arr = arr.slice(0, o.sheetRows);
		return arr;
	}

	// List of accepted CSV separators
	var guess_seps = {
0x2C: ',',
0x09: "\t",
0x3B: ';'
	};

	// CSV separator weights to be used in case of equal numbers
	var guess_sep_weights = {
0x2C: 3,
0x09: 2,
0x3B: 1
	};

	function guess_sep(str) {
		var cnt = {}, instr = false, end = 0, cc = 0;
		for(;end < str.length;++end) {
			if((cc=str.charCodeAt(end)) == 0x22) instr = !instr;
			else if(!instr && cc in guess_seps) cnt[cc] = (cnt[cc]||0)+1;
		}

		cc = [];
		for(end in cnt) if ( cnt.hasOwnProperty(end) ) {
			cc.push([ cnt[end], end ]);
		}

		if ( !cc.length ) {
			cnt = guess_sep_weights;
			for(end in cnt) if ( cnt.hasOwnProperty(end) ) {
				cc.push([ cnt[end], end ]);
			}
		}

		cc.sort(function(a, b) { return a[0] - b[0] || guess_sep_weights[a[1]] - guess_sep_weights[b[1]]; });

		return guess_seps[cc.pop()[1]];
	}

	function dsv_to_sheet_str(str, opts) {
		var o = opts || {};
		var sep = "";
		if(DENSE != null && o.dense == null) o.dense = DENSE;
		var ws = o.dense ? ([]) : ({});
		var range = ({s: {c:0, r:0}, e: {c:0, r:0}});

		if(str.slice(0,4) == "sep=" && str.charCodeAt(5) == 10) { sep = str.charAt(4); str = str.slice(6); }
		else sep = guess_sep(str.slice(0,1024));
		var R = 0, C = 0, v = 0;
		var start = 0, end = 0, sepcc = sep.charCodeAt(0), instr = false, cc=0;
		str = str.replace(/\r\n/mg, "\n");
		var _re = o.dateNF != null ? dateNF_regex(o.dateNF) : null;
		function finish_cell() {
			var s = str.slice(start, end);
			var cell = ({});
			if(s.charAt(0) == '"' && s.charAt(s.length - 1) == '"') s = s.slice(1,-1).replace(/""/g,'"');
			if(s.length === 0) cell.t = 'z';
			else if(o.raw) { cell.t = 's'; cell.v = s; }
			else if(s.trim().length === 0) { cell.t = 's'; cell.v = s; }
			else if(s.charCodeAt(0) == 0x3D) {
				if(s.charCodeAt(1) == 0x22 && s.charCodeAt(s.length - 1) == 0x22) { cell.t = 's'; cell.v = s.slice(2,-1).replace(/""/g,'"'); }
				else if(fuzzyfmla(s)) { cell.t = 'n'; cell.f = s.slice(1); }
				else { cell.t = 's'; cell.v = s; } }
			else if(s == "TRUE") { cell.t = 'b'; cell.v = true; }
			else if(s == "FALSE") { cell.t = 'b'; cell.v = false; }
			else if(!isNaN(v = fuzzynum(s))) { cell.t = 'n'; if(o.cellText !== false) cell.w = s; cell.v = v; }
			else if(!isNaN(fuzzydate(s).getDate()) || _re && s.match(_re)) {
				cell.z = o.dateNF || SSF._table[14];
				var k = 0;
				if(_re && s.match(_re)){ s=dateNF_fix(s, o.dateNF, (s.match(_re)||[])); k=1; }
				if(o.cellDates) { cell.t = 'd'; cell.v = parseDate(s, k); }
				else { cell.t = 'n'; cell.v = datenum(parseDate(s, k)); }
				if(o.cellText !== false) cell.w = SSF.format(cell.z, cell.v instanceof Date ? datenum(cell.v):cell.v);
				if(!o.cellNF) delete cell.z;
			} else {
				cell.t = 's';
				cell.v = s;
			}
			if(cell.t == 'z'){}
			else if(o.dense) { if(!ws[R]) ws[R] = []; ws[R][C] = cell; }
			else ws[encode_cell({c:C,r:R})] = cell;
			start = end+1;
			if(range.e.c < C) range.e.c = C;
			if(range.e.r < R) range.e.r = R;
			if(cc == sepcc) ++C; else { C = 0; ++R; if(o.sheetRows && o.sheetRows <= R) return true; }
		}
		outer: for(;end < str.length;++end) switch((cc=str.charCodeAt(end))) {
			case 0x22: instr = !instr; break;
			case sepcc: case 0x0a: case 0x0d: if(!instr && finish_cell()) break outer; break;
			default: break;
		}
		if(end - start > 0) finish_cell();

		ws['!ref'] = encode_range(range);
		return ws;
	}

	function prn_to_sheet_str(str, opts) {
		if(str.slice(0,4) == "sep=") return dsv_to_sheet_str(str, opts);
		if(str.indexOf("\t") >= 0 || str.indexOf(",") >= 0 || str.indexOf(";") >= 0) return dsv_to_sheet_str(str, opts);
		return aoa_to_sheet(prn_to_aoa_str(str, opts), opts);
	}

	function prn_to_sheet(d, opts) {
		var str = "", bytes = opts.type == 'string' ? [0,0,0,0] : firstbyte(d, opts);
		switch(opts.type) {
			case 'base64': str = Base64.decode(d); break;
			case 'binary': str = d; break;
			case 'buffer': str = d.toString('binary'); break;
			case 'array': str = cc2str(d); break;
			case 'string': str = d; break;
			default: throw new Error("Unrecognized type " + opts.type);
		}
		if(bytes[0] == 0xEF && bytes[1] == 0xBB && bytes[2] == 0xBF) str = utf8read(str.slice(3));
		else if((opts.type == 'binary' || opts.type == 'buffer') && typeof cptable !== 'undefined' && opts.codepage)  str = cptable.utils.decode(opts.codepage, cptable.utils.encode(1252,str));
		if(str.slice(0,19) == "socialcalc:version:") return ETH.to_sheet(opts.type == 'string' ? str : utf8read(str), opts);
		return prn_to_sheet_str(str, opts);
	}

	function prn_to_workbook(d, opts) { return sheet_to_workbook(prn_to_sheet(d, opts), opts); }

	function sheet_to_prn(ws) {
		var o = [];
		var r = safe_decode_range(ws['!ref']), cell;
		var dense = Array.isArray(ws);
		for(var R = r.s.r; R <= r.e.r; ++R) {
			var oo = [];
			for(var C = r.s.c; C <= r.e.c; ++C) {
				var coord = encode_cell({r:R,c:C});
				cell = dense ? (ws[R]||[])[C] : ws[coord];
				if(!cell || cell.v == null) { oo.push("          "); continue; }
				var w = (cell.w || (format_cell(cell), cell.w) || "").slice(0,10);
				while(w.length < 10) w += " ";
				oo.push(w + (C === 0 ? " " : ""));
			}
			o.push(oo.join(""));
		}
		return o.join("\n");
	}

	return {
		to_workbook: prn_to_workbook,
		to_sheet: prn_to_sheet,
		from_sheet: sheet_to_prn
	};
})();

/* Excel defaults to SYLK but warns if data is not valid */
function read_wb_ID(d, opts) {
	var o = opts || {}, OLD_WTF = !!o.WTF; o.WTF = true;
	try {
		var out = SYLK.to_workbook(d, o);
		o.WTF = OLD_WTF;
		return out;
	} catch(e) {
		o.WTF = OLD_WTF;
		if(!e.message.match(/SYLK bad record ID/) && OLD_WTF) throw e;
		return PRN.to_workbook(d, opts);
	}
}

var WK_ = (function() {
	function lotushopper(data, cb, opts) {
		if(!data) return;
		prep_blob(data, data.l || 0);
		var Enum = opts.Enum || WK1Enum;
		while(data.l < data.length) {
			var RT = data.read_shift(2);
			var R = Enum[RT] || Enum[0xFF];
			var length = data.read_shift(2);
			var tgt = data.l + length;
			var d = (R.f||parsenoop)(data, length, opts);
			data.l = tgt;
			if(cb(d, R.n, RT)) return;
		}
	}

	function lotus_to_workbook(d, opts) {
		switch(opts.type) {
			case 'base64': return lotus_to_workbook_buf(s2a(Base64.decode(d)), opts);
			case 'binary': return lotus_to_workbook_buf(s2a(d), opts);
			case 'buffer':
			case 'array': return lotus_to_workbook_buf(d, opts);
		}
		throw "Unsupported type " + opts.type;
	}

	function lotus_to_workbook_buf(d, opts) {
		if(!d) return d;
		var o = opts || {};
		if(DENSE != null && o.dense == null) o.dense = DENSE;
		var s = ((o.dense ? [] : {})), n = "Sheet1", sidx = 0;
		var sheets = {}, snames = [n];

		var refguess = {s: {r:0, c:0}, e: {r:0, c:0} };
		var sheetRows = o.sheetRows || 0;

		if(d[2] == 0x02) o.Enum = WK1Enum;
		else if(d[2] == 0x1a) o.Enum = WK3Enum;
		else if(d[2] == 0x0e) { o.Enum = WK3Enum; o.qpro = true; d.l = 0; }
		else throw new Error("Unrecognized LOTUS BOF " + d[2]);
		lotushopper(d, function(val, Rn, RT) {
			if(d[2] == 0x02) switch(RT) {
				case 0x00:
					o.vers = val;
					if(val >= 0x1000) o.qpro = true;
					break;
				case 0x06: refguess = val; break; /* RANGE */
				case 0x0F: /* LABEL */
					if(!o.qpro) val[1].v = val[1].v.slice(1);
					/* falls through */
				case 0x0D: /* INTEGER */
				case 0x0E: /* NUMBER */
				case 0x10: /* FORMULA */
				case 0x33: /* STRING */
					/* TODO: actual translation of the format code */
					if(RT == 0x0E && (val[2] & 0x70) == 0x70 && (val[2] & 0x0F) > 1 && (val[2] & 0x0F) < 15) {
						val[1].z = o.dateNF || SSF._table[14];
						if(o.cellDates) { val[1].t = 'd'; val[1].v = numdate(val[1].v); }
					}
					if(o.dense) {
						if(!s[val[0].r]) s[val[0].r] = [];
						s[val[0].r][val[0].c] = val[1];
					} else s[encode_cell(val[0])] = val[1];
					break;
			} else switch(RT) {
				case 0x16: /* LABEL16 */
					val[1].v = val[1].v.slice(1);
					/* falls through */
				case 0x17: /* NUMBER17 */
				case 0x18: /* NUMBER18 */
				case 0x19: /* FORMULA19 */
				case 0x25: /* NUMBER25 */
				case 0x27: /* NUMBER27 */
				case 0x28: /* FORMULA28 */
					if(val[3] > sidx) {
						s["!ref"] = encode_range(refguess);
						sheets[n] = s;
						s = (o.dense ? [] : {});
						refguess = {s: {r:0, c:0}, e: {r:0, c:0} };
						sidx = val[3]; n = "Sheet" + (sidx + 1);
						snames.push(n);
					}
					if(sheetRows > 0 && val[0].r >= sheetRows) break;
					if(o.dense) {
						if(!s[val[0].r]) s[val[0].r] = [];
						s[val[0].r][val[0].c] = val[1];
					} else s[encode_cell(val[0])] = val[1];
					if(refguess.e.c < val[0].c) refguess.e.c = val[0].c;
					if(refguess.e.r < val[0].r) refguess.e.r = val[0].r;
					break;
				default: break;
			}
		}, o);

		s["!ref"] = encode_range(refguess);
		sheets[n] = s;
		return { SheetNames: snames, Sheets:sheets };
	}

	function parse_RANGE(blob) {
		var o = {s:{c:0,r:0},e:{c:0,r:0}};
		o.s.c = blob.read_shift(2);
		o.s.r = blob.read_shift(2);
		o.e.c = blob.read_shift(2);
		o.e.r = blob.read_shift(2);
		if(o.s.c == 0xFFFF) o.s.c = o.e.c = o.s.r = o.e.r = 0;
		return o;
	}

	function parse_cell(blob, length, opts) {
		var o = [{c:0,r:0}, {t:'n',v:0}, 0];
		if(opts.qpro && opts.vers != 0x5120) {
			o[0].c = blob.read_shift(1);
			blob.l++;
			o[0].r = blob.read_shift(2);
			blob.l+=2;
		} else {
			o[2] = blob.read_shift(1);
			o[0].c = blob.read_shift(2); o[0].r = blob.read_shift(2);
		}
		return o;
	}

	function parse_LABEL(blob, length, opts) {
		var tgt = blob.l + length;
		var o = parse_cell(blob, length, opts);
		o[1].t = 's';
		if(opts.vers == 0x5120) {
			blob.l++;
			var len = blob.read_shift(1);
			o[1].v = blob.read_shift(len, 'utf8');
			return o;
		}
		if(opts.qpro) blob.l++;
		o[1].v = blob.read_shift(tgt - blob.l, 'cstr');
		return o;
	}

	function parse_INTEGER(blob, length, opts) {
		var o = parse_cell(blob, length, opts);
		o[1].v = blob.read_shift(2, 'i');
		return o;
	}

	function parse_NUMBER(blob, length, opts) {
		var o = parse_cell(blob, length, opts);
		o[1].v = blob.read_shift(8, 'f');
		return o;
	}

	function parse_FORMULA(blob, length, opts) {
		var tgt = blob.l + length;
		var o = parse_cell(blob, length, opts);
		/* TODO: formula */
		o[1].v = blob.read_shift(8, 'f');
		if(opts.qpro) blob.l = tgt;
		else {
			var flen = blob.read_shift(2);
			blob.l += flen;
		}
		return o;
	}

	function parse_cell_3(blob) {
		var o = [{c:0,r:0}, {t:'n',v:0}, 0];
		o[0].r = blob.read_shift(2); o[3] = blob[blob.l++]; o[0].c = blob[blob.l++];
		return o;
	}

	function parse_LABEL_16(blob, length) {
		var o = parse_cell_3(blob, length);
		o[1].t = 's';
		o[1].v = blob.read_shift(length - 4, 'cstr');
		return o;
	}

	function parse_NUMBER_18(blob, length) {
		var o = parse_cell_3(blob, length);
		o[1].v = blob.read_shift(2);
		var v = o[1].v >> 1;
		/* TODO: figure out all of the corner cases */
		if(o[1].v & 0x1) {
			switch(v & 0x07) {
				case 1: v = (v >> 3) * 500; break;
				case 2: v = (v >> 3) / 20; break;
				case 4: v = (v >> 3) / 2000; break;
				case 6: v = (v >> 3) / 16; break;
				case 7: v = (v >> 3) / 64; break;
				default: throw "unknown NUMBER_18 encoding " + (v & 0x07);
			}
		}
		o[1].v = v;
		return o;
	}

	function parse_NUMBER_17(blob, length) {
		var o = parse_cell_3(blob, length);
		var v1 = blob.read_shift(4);
		var v2 = blob.read_shift(4);
		var e = blob.read_shift(2);
		if(e == 0xFFFF) { o[1].v = 0; return o; }
		var s = e & 0x8000; e = (e&0x7FFF) - 16446;
		o[1].v = (s*2 - 1) * ((e > 0 ? (v2 << e) : (v2 >>> -e)) + (e > -32 ? (v1 << (e + 32)) : (v1 >>> -(e + 32))));
		return o;
	}

	function parse_FORMULA_19(blob, length) {
		var o = parse_NUMBER_17(blob, 14);
		blob.l += length - 14; /* TODO: formula */
		return o;
	}

	function parse_NUMBER_25(blob, length) {
		var o = parse_cell_3(blob, length);
		var v1 = blob.read_shift(4);
		o[1].v = v1 >> 6;
		return o;
	}

	function parse_NUMBER_27(blob, length) {
		var o = parse_cell_3(blob, length);
		var v1 = blob.read_shift(8,'f');
		o[1].v = v1;
		return o;
	}

	function parse_FORMULA_28(blob, length) {
		var o = parse_NUMBER_27(blob, 14);
		blob.l += length - 10; /* TODO: formula */
		return o;
	}

	var WK1Enum = {
0x0000: { n:"BOF", f:parseuint16 },
0x0001: { n:"EOF" },
0x0002: { n:"CALCMODE" },
0x0003: { n:"CALCORDER" },
0x0004: { n:"SPLIT" },
0x0005: { n:"SYNC" },
0x0006: { n:"RANGE", f:parse_RANGE },
0x0007: { n:"WINDOW1" },
0x0008: { n:"COLW1" },
0x0009: { n:"WINTWO" },
0x000A: { n:"COLW2" },
0x000B: { n:"NAME" },
0x000C: { n:"BLANK" },
0x000D: { n:"INTEGER", f:parse_INTEGER },
0x000E: { n:"NUMBER", f:parse_NUMBER },
0x000F: { n:"LABEL", f:parse_LABEL },
0x0010: { n:"FORMULA", f:parse_FORMULA },
0x0018: { n:"TABLE" },
0x0019: { n:"ORANGE" },
0x001A: { n:"PRANGE" },
0x001B: { n:"SRANGE" },
0x001C: { n:"FRANGE" },
0x001D: { n:"KRANGE1" },
0x0020: { n:"HRANGE" },
0x0023: { n:"KRANGE2" },
0x0024: { n:"PROTEC" },
0x0025: { n:"FOOTER" },
0x0026: { n:"HEADER" },
0x0027: { n:"SETUP" },
0x0028: { n:"MARGINS" },
0x0029: { n:"LABELFMT" },
0x002A: { n:"TITLES" },
0x002B: { n:"SHEETJS" },
0x002D: { n:"GRAPH" },
0x002E: { n:"NGRAPH" },
0x002F: { n:"CALCCOUNT" },
0x0030: { n:"UNFORMATTED" },
0x0031: { n:"CURSORW12" },
0x0032: { n:"WINDOW" },
0x0033: { n:"STRING", f:parse_LABEL },
0x0037: { n:"PASSWORD" },
0x0038: { n:"LOCKED" },
0x003C: { n:"QUERY" },
0x003D: { n:"QUERYNAME" },
0x003E: { n:"PRINT" },
0x003F: { n:"PRINTNAME" },
0x0040: { n:"GRAPH2" },
0x0041: { n:"GRAPHNAME" },
0x0042: { n:"ZOOM" },
0x0043: { n:"SYMSPLIT" },
0x0044: { n:"NSROWS" },
0x0045: { n:"NSCOLS" },
0x0046: { n:"RULER" },
0x0047: { n:"NNAME" },
0x0048: { n:"ACOMM" },
0x0049: { n:"AMACRO" },
0x004A: { n:"PARSE" },
0x00FF: { n:"", f:parsenoop }
	};

	var WK3Enum = {
0x0000: { n:"BOF" },
0x0001: { n:"EOF" },
0x0003: { n:"??" },
0x0004: { n:"??" },
0x0005: { n:"??" },
0x0006: { n:"??" },
0x0007: { n:"??" },
0x0009: { n:"??" },
0x000a: { n:"??" },
0x000b: { n:"??" },
0x000c: { n:"??" },
0x000e: { n:"??" },
0x000f: { n:"??" },
0x0010: { n:"??" },
0x0011: { n:"??" },
0x0012: { n:"??" },
0x0013: { n:"??" },
0x0015: { n:"??" },
0x0016: { n:"LABEL16", f:parse_LABEL_16},
0x0017: { n:"NUMBER17", f:parse_NUMBER_17 },
0x0018: { n:"NUMBER18", f:parse_NUMBER_18 },
0x0019: { n:"FORMULA19", f:parse_FORMULA_19},
0x001a: { n:"??" },
0x001b: { n:"??" },
0x001c: { n:"??" },
0x001d: { n:"??" },
0x001e: { n:"??" },
0x001f: { n:"??" },
0x0021: { n:"??" },
0x0025: { n:"NUMBER25", f:parse_NUMBER_25 },
0x0027: { n:"NUMBER27", f:parse_NUMBER_27 },
0x0028: { n:"FORMULA28", f:parse_FORMULA_28 },
0x00FF: { n:"", f:parsenoop }
	};
	return {
		to_workbook: lotus_to_workbook
	};
})();
/* Parse a list of <r> tags */
var parse_rs = (function parse_rs_factory() {
	var tregex = matchtag("t"), rpregex = matchtag("rPr"), rregex = /<(?:\w+:)?r>/g, rend = /<\/(?:\w+:)?r>/, nlregex = /\r\n/g;
	/* 18.4.7 rPr CT_RPrElt */
	var parse_rpr = function parse_rpr(rpr, intro, outro) {
		var font = {}, cp = 65001, align = "";
		var pass = false;
		var m = rpr.match(tagregex), i = 0;
		if(m) for(;i!=m.length; ++i) {
			var y = parsexmltag(m[i]);
			switch(y[0].replace(/\w*:/g,"")) {
				/* 18.8.12 condense CT_BooleanProperty */
				/* ** not required . */
				case '<condense': break;
				/* 18.8.17 extend CT_BooleanProperty */
				/* ** not required . */
				case '<extend': break;
				/* 18.8.36 shadow CT_BooleanProperty */
				/* ** not required . */
				case '<shadow':
					if(!y.val) break;
					/* falls through */
				case '<shadow>':
				case '<shadow/>': font.shadow = 1; break;
				case '</shadow>': break;

				/* 18.4.1 charset CT_IntProperty TODO */
				case '<charset':
					if(y.val == '1') break;
					cp = CS2CP[parseInt(y.val, 10)];
					break;

				/* 18.4.2 outline CT_BooleanProperty TODO */
				case '<outline':
					if(!y.val) break;
					/* falls through */
				case '<outline>':
				case '<outline/>': font.outline = 1; break;
				case '</outline>': break;

				/* 18.4.5 rFont CT_FontName */
				case '<rFont': font.name = y.val; break;

				/* 18.4.11 sz CT_FontSize */
				case '<sz': font.sz = y.val; break;

				/* 18.4.10 strike CT_BooleanProperty */
				case '<strike':
					if(!y.val) break;
					/* falls through */
				case '<strike>':
				case '<strike/>': font.strike = 1; break;
				case '</strike>': break;

				/* 18.4.13 u CT_UnderlineProperty */
				case '<u':
					if(!y.val) break;
					switch(y.val) {
						case 'double': font.uval = "double"; break;
						case 'singleAccounting': font.uval = "single-accounting"; break;
						case 'doubleAccounting': font.uval = "double-accounting"; break;
					}
					/* falls through */
				case '<u>':
				case '<u/>': font.u = 1; break;
				case '</u>': break;

				/* 18.8.2 b */
				case '<b':
					if(y.val == '0') break;
					/* falls through */
				case '<b>':
				case '<b/>': font.b = 1; break;
				case '</b>': break;

				/* 18.8.26 i */
				case '<i':
					if(y.val == '0') break;
					/* falls through */
				case '<i>':
				case '<i/>': font.i = 1; break;
				case '</i>': break;

				/* 18.3.1.15 color CT_Color TODO: tint, theme, auto, indexed */
				case '<color':
					if(y.rgb) font.color = y.rgb.slice(2,8);
					break;

				/* 18.8.18 family ST_FontFamily */
				case '<family': font.family = y.val; break;

				/* 18.4.14 vertAlign CT_VerticalAlignFontProperty TODO */
				case '<vertAlign': align = y.val; break;

				/* 18.8.35 scheme CT_FontScheme TODO */
				case '<scheme': break;

				/* 18.2.10 extLst CT_ExtensionList ? */
				case '<extLst': case '<extLst>': case '</extLst>': break;
				case '<ext': pass = true; break;
				case '</ext>': pass = false; break;
				default:
					if(y[0].charCodeAt(1) !== 47 && !pass) throw new Error('Unrecognized rich format ' + y[0]);
			}
		}
		var style = [];

		if(font.u) style.push("text-decoration: underline;");
		if(font.uval) style.push("text-underline-style:" + font.uval + ";");
		if(font.sz) style.push("font-size:" + font.sz + "pt;");
		if(font.outline) style.push("text-effect: outline;");
		if(font.shadow) style.push("text-shadow: auto;");
		intro.push('<span style="' + style.join("") + '">');

		if(font.b) { intro.push("<b>"); outro.push("</b>"); }
		if(font.i) { intro.push("<i>"); outro.push("</i>"); }
		if(font.strike) { intro.push("<s>"); outro.push("</s>"); }

		if(align == "superscript") align = "sup";
		else if(align == "subscript") align = "sub";
		if(align != "") { intro.push("<" + align + ">"); outro.push("</" + align + ">"); }

		outro.push("</span>");
		return cp;
	};

	/* 18.4.4 r CT_RElt */
	function parse_r(r) {
		var terms = [[],"",[]];
		/* 18.4.12 t ST_Xstring */
		var t = r.match(tregex)/*, cp = 65001*/;
		if(!t) return "";
		terms[1] = t[1];

		var rpr = r.match(rpregex);
		if(rpr) /*cp = */parse_rpr(rpr[1], terms[0], terms[2]);

		return terms[0].join("") + terms[1].replace(nlregex,'<br/>') + terms[2].join("");
	}
	return function parse_rs(rs) {
		return rs.replace(rregex,"").split(rend).map(parse_r).join("");
	};
})();

/* 18.4.8 si CT_Rst */
var sitregex = /<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g, sirregex = /<(?:\w+:)?r>/;
var sirphregex = /<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;
function parse_si(x, opts) {
	var html = opts ? opts.cellHTML : true;
	var z = {};
	if(!x) return null;
	//var y;
	/* 18.4.12 t ST_Xstring (Plaintext String) */
	// TODO: is whitespace actually valid here?
	if(x.match(/^\s*<(?:\w+:)?t[^>]*>/)) {
		z.t = unescapexml(utf8read(x.slice(x.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||""));
		z.r = utf8read(x);
		if(html) z.h = escapehtml(z.t);
	}
	/* 18.4.4 r CT_RElt (Rich Text Run) */
	else if((/*y = */x.match(sirregex))) {
		z.r = utf8read(x);
		z.t = unescapexml(utf8read((x.replace(sirphregex, '').match(sitregex)||[]).join("").replace(tagregex,"")));
		if(html) z.h = parse_rs(z.r);
	}
	/* 18.4.3 phoneticPr CT_PhoneticPr (TODO: needed for Asian support) */
	/* 18.4.6 rPh CT_PhoneticRun (TODO: needed for Asian support) */
	return z;
}

/* 18.4 Shared String Table */
var sstr0 = /<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/;
var sstr1 = /<(?:\w+:)?(?:si|sstItem)>/g;
var sstr2 = /<\/(?:\w+:)?(?:si|sstItem)>/;
function parse_sst_xml(data, opts) {
	var s = ([]), ss = "";
	if(!data) return s;
	/* 18.4.9 sst CT_Sst */
	var sst = data.match(sstr0);
	if(sst) {
		ss = sst[2].replace(sstr1,"").split(sstr2);
		for(var i = 0; i != ss.length; ++i) {
			var o = parse_si(ss[i].trim(), opts);
			if(o != null) s[s.length] = o;
		}
		sst = parsexmltag(sst[1]); s.Count = sst.count; s.Unique = sst.uniqueCount;
	}
	return s;
}

RELS.SST = "http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings";
var straywsregex = /^\s|\s$|[\t\n\r]/;
function write_sst_xml(sst, opts) {
	if(!opts.bookSST) return "";
	var o = [XML_HEADER];
	o[o.length] = (writextag('sst', null, {
		xmlns: XMLNS.main[0],
		count: sst.Count,
		uniqueCount: sst.Unique
	}));
	for(var i = 0; i != sst.length; ++i) { if(sst[i] == null) continue;
		var s = sst[i];
		var sitag = "<si>";
		if(s.r) sitag += s.r;
		else {
			sitag += "<t";
			if(!s.t) s.t = "";
			if(s.t.match(straywsregex)) sitag += ' xml:space="preserve"';
			sitag += ">" + escapexml(s.t) + "</t>";
		}
		sitag += "</si>";
		o[o.length] = (sitag);
	}
	if(o.length>2){ o[o.length] = ('</sst>'); o[1]=o[1].replace("/>",">"); }
	return o.join("");
}
/* [MS-XLSB] 2.4.221 BrtBeginSst */
function parse_BrtBeginSst(data) {
	return [data.read_shift(4), data.read_shift(4)];
}

/* [MS-XLSB] 2.1.7.45 Shared Strings */
function parse_sst_bin(data, opts) {
	var s = ([]);
	var pass = false;
	recordhopper(data, function hopper_sst(val, R_n, RT) {
		switch(RT) {
			case 0x009F: /* 'BrtBeginSst' */
				s.Count = val[0]; s.Unique = val[1]; break;
			case 0x0013: /* 'BrtSSTItem' */
				s.push(val); break;
			case 0x00A0: /* 'BrtEndSst' */
				return true;

			case 0x0023: /* 'BrtFRTBegin' */
				pass = true; break;
			case 0x0024: /* 'BrtFRTEnd' */
				pass = false; break;

			default:
				if(R_n.indexOf("Begin") > 0){/* empty */}
				else if(R_n.indexOf("End") > 0){/* empty */}
				if(!pass || opts.WTF) throw new Error("Unexpected record " + RT + " " + R_n);
		}
	});
	return s;
}

function write_BrtBeginSst(sst, o) {
	if(!o) o = new_buf(8);
	o.write_shift(4, sst.Count);
	o.write_shift(4, sst.Unique);
	return o;
}

var write_BrtSSTItem = write_RichStr;

function write_sst_bin(sst) {
	var ba = buf_array();
	write_record(ba, "BrtBeginSst", write_BrtBeginSst(sst));
	for(var i = 0; i < sst.length; ++i) write_record(ba, "BrtSSTItem", write_BrtSSTItem(sst[i]));
	/* FRTSST */
	write_record(ba, "BrtEndSst");
	return ba.end();
}
function _JS2ANSI(str) {
	if(typeof cptable !== 'undefined') return cptable.utils.encode(current_ansi, str);
	var o = [], oo = str.split("");
	for(var i = 0; i < oo.length; ++i) o[i] = oo[i].charCodeAt(0);
	return o;
}

/* [MS-OFFCRYPTO] 2.1.4 Version */
function parse_CRYPTOVersion(blob, length) {
	var o = {};
	o.Major = blob.read_shift(2);
	o.Minor = blob.read_shift(2);
if(length >= 4) blob.l += length - 4;
	return o;
}

/* [MS-OFFCRYPTO] 2.1.5 DataSpaceVersionInfo */
function parse_DataSpaceVersionInfo(blob) {
	var o = {};
	o.id = blob.read_shift(0, 'lpp4');
	o.R = parse_CRYPTOVersion(blob, 4);
	o.U = parse_CRYPTOVersion(blob, 4);
	o.W = parse_CRYPTOVersion(blob, 4);
	return o;
}

/* [MS-OFFCRYPTO] 2.1.6.1 DataSpaceMapEntry Structure */
function parse_DataSpaceMapEntry(blob) {
	var len = blob.read_shift(4);
	var end = blob.l + len - 4;
	var o = {};
	var cnt = blob.read_shift(4);
	var comps = [];
	/* [MS-OFFCRYPTO] 2.1.6.2 DataSpaceReferenceComponent Structure */
	while(cnt-- > 0) comps.push({ t: blob.read_shift(4), v: blob.read_shift(0, 'lpp4') });
	o.name = blob.read_shift(0, 'lpp4');
	o.comps = comps;
	if(blob.l != end) throw new Error("Bad DataSpaceMapEntry: " + blob.l + " != " + end);
	return o;
}

/* [MS-OFFCRYPTO] 2.1.6 DataSpaceMap */
function parse_DataSpaceMap(blob) {
	var o = [];
	blob.l += 4; // must be 0x8
	var cnt = blob.read_shift(4);
	while(cnt-- > 0) o.push(parse_DataSpaceMapEntry(blob));
	return o;
}

/* [MS-OFFCRYPTO] 2.1.7 DataSpaceDefinition */
function parse_DataSpaceDefinition(blob) {
	var o = [];
	blob.l += 4; // must be 0x8
	var cnt = blob.read_shift(4);
	while(cnt-- > 0) o.push(blob.read_shift(0, 'lpp4'));
	return o;
}

/* [MS-OFFCRYPTO] 2.1.8 DataSpaceDefinition */
function parse_TransformInfoHeader(blob) {
	var o = {};
	/*var len = */blob.read_shift(4);
	blob.l += 4; // must be 0x1
	o.id = blob.read_shift(0, 'lpp4');
	o.name = blob.read_shift(0, 'lpp4');
	o.R = parse_CRYPTOVersion(blob, 4);
	o.U = parse_CRYPTOVersion(blob, 4);
	o.W = parse_CRYPTOVersion(blob, 4);
	return o;
}

function parse_Primary(blob) {
	/* [MS-OFFCRYPTO] 2.2.6 IRMDSTransformInfo */
	var hdr = parse_TransformInfoHeader(blob);
	/* [MS-OFFCRYPTO] 2.1.9 EncryptionTransformInfo */
	hdr.ename = blob.read_shift(0, '8lpp4');
	hdr.blksz = blob.read_shift(4);
	hdr.cmode = blob.read_shift(4);
	if(blob.read_shift(4) != 0x04) throw new Error("Bad !Primary record");
	return hdr;
}

/* [MS-OFFCRYPTO] 2.3.2 Encryption Header */
function parse_EncryptionHeader(blob, length) {
	var tgt = blob.l + length;
	var o = {};
	o.Flags = (blob.read_shift(4) & 0x3F);
	blob.l += 4;
	o.AlgID = blob.read_shift(4);
	var valid = false;
	switch(o.AlgID) {
		case 0x660E: case 0x660F: case 0x6610: valid = (o.Flags == 0x24); break;
		case 0x6801: valid = (o.Flags == 0x04); break;
		case 0: valid = (o.Flags == 0x10 || o.Flags == 0x04 || o.Flags == 0x24); break;
		default: throw 'Unrecognized encryption algorithm: ' + o.AlgID;
	}
	if(!valid) throw new Error("Encryption Flags/AlgID mismatch");
	o.AlgIDHash = blob.read_shift(4);
	o.KeySize = blob.read_shift(4);
	o.ProviderType = blob.read_shift(4);
	blob.l += 8;
	o.CSPName = blob.read_shift((tgt-blob.l)>>1, 'utf16le');
	blob.l = tgt;
	return o;
}

/* [MS-OFFCRYPTO] 2.3.3 Encryption Verifier */
function parse_EncryptionVerifier(blob, length) {
	var o = {}, tgt = blob.l + length;
	blob.l += 4; // SaltSize must be 0x10
	o.Salt = blob.slice(blob.l, blob.l+16); blob.l += 16;
	o.Verifier = blob.slice(blob.l, blob.l+16); blob.l += 16;
	/*var sz = */blob.read_shift(4);
	o.VerifierHash = blob.slice(blob.l, tgt); blob.l = tgt;
	return o;
}

/* [MS-OFFCRYPTO] 2.3.4.* EncryptionInfo Stream */
function parse_EncryptionInfo(blob) {
	var vers = parse_CRYPTOVersion(blob);
	switch(vers.Minor) {
		case 0x02: return [vers.Minor, parse_EncInfoStd(blob, vers)];
		case 0x03: return [vers.Minor, parse_EncInfoExt(blob, vers)];
		case 0x04: return [vers.Minor, parse_EncInfoAgl(blob, vers)];
	}
	throw new Error("ECMA-376 Encrypted file unrecognized Version: " + vers.Minor);
}

/* [MS-OFFCRYPTO] 2.3.4.5  EncryptionInfo Stream (Standard Encryption) */
function parse_EncInfoStd(blob) {
	var flags = blob.read_shift(4);
	if((flags & 0x3F) != 0x24) throw new Error("EncryptionInfo mismatch");
	var sz = blob.read_shift(4);
	//var tgt = blob.l + sz;
	var hdr = parse_EncryptionHeader(blob, sz);
	var verifier = parse_EncryptionVerifier(blob, blob.length - blob.l);
	return { t:"Std", h:hdr, v:verifier };
}
/* [MS-OFFCRYPTO] 2.3.4.6  EncryptionInfo Stream (Extensible Encryption) */
function parse_EncInfoExt() { throw new Error("File is password-protected: ECMA-376 Extensible"); }
/* [MS-OFFCRYPTO] 2.3.4.10 EncryptionInfo Stream (Agile Encryption) */
function parse_EncInfoAgl(blob) {
	var KeyData = ["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];
	blob.l+=4;
	var xml = blob.read_shift(blob.length - blob.l, 'utf8');
	var o = {};
	xml.replace(tagregex, function xml_agile(x) {
		var y = parsexmltag(x);
		switch(strip_ns(y[0])) {
			case '<?xml': break;
			case '<encryption': case '</encryption>': break;
			case '<keyData': KeyData.forEach(function(k) { o[k] = y[k]; }); break;
			case '<dataIntegrity': o.encryptedHmacKey = y.encryptedHmacKey; o.encryptedHmacValue = y.encryptedHmacValue; break;
			case '<keyEncryptors>': case '<keyEncryptors': o.encs = []; break;
			case '</keyEncryptors>': break;

			case '<keyEncryptor': o.uri = y.uri; break;
			case '</keyEncryptor>': break;
			case '<encryptedKey': o.encs.push(y); break;
			default: throw y[0];
		}
	});
	return o;
}

/* [MS-OFFCRYPTO] 2.3.5.1 RC4 CryptoAPI Encryption Header */
function parse_RC4CryptoHeader(blob, length) {
	var o = {};
	var vers = o.EncryptionVersionInfo = parse_CRYPTOVersion(blob, 4); length -= 4;
	if(vers.Minor != 2) throw new Error('unrecognized minor version code: ' + vers.Minor);
	if(vers.Major > 4 || vers.Major < 2) throw new Error('unrecognized major version code: ' + vers.Major);
	o.Flags = blob.read_shift(4); length -= 4;
	var sz = blob.read_shift(4); length -= 4;
	o.EncryptionHeader = parse_EncryptionHeader(blob, sz); length -= sz;
	o.EncryptionVerifier = parse_EncryptionVerifier(blob, length);
	return o;
}
/* [MS-OFFCRYPTO] 2.3.6.1 RC4 Encryption Header */
function parse_RC4Header(blob) {
	var o = {};
	var vers = o.EncryptionVersionInfo = parse_CRYPTOVersion(blob, 4);
	if(vers.Major != 1 || vers.Minor != 1) throw 'unrecognized version code ' + vers.Major + ' : ' + vers.Minor;
	o.Salt = blob.read_shift(16);
	o.EncryptedVerifier = blob.read_shift(16);
	o.EncryptedVerifierHash = blob.read_shift(16);
	return o;
}

/* [MS-OFFCRYPTO] 2.3.7.1 Binary Document Password Verifier Derivation */
function crypto_CreatePasswordVerifier_Method1(Password) {
	var Verifier = 0x0000, PasswordArray;
	var PasswordDecoded = _JS2ANSI(Password);
	var len = PasswordDecoded.length + 1, i, PasswordByte;
	var Intermediate1, Intermediate2, Intermediate3;
	PasswordArray = new_raw_buf(len);
	PasswordArray[0] = PasswordDecoded.length;
	for(i = 1; i != len; ++i) PasswordArray[i] = PasswordDecoded[i-1];
	for(i = len-1; i >= 0; --i) {
		PasswordByte = PasswordArray[i];
		Intermediate1 = ((Verifier & 0x4000) === 0x0000) ? 0 : 1;
		Intermediate2 = (Verifier << 1) & 0x7FFF;
		Intermediate3 = Intermediate1 | Intermediate2;
		Verifier = Intermediate3 ^ PasswordByte;
	}
	return Verifier ^ 0xCE4B;
}

/* [MS-OFFCRYPTO] 2.3.7.2 Binary Document XOR Array Initialization */
var crypto_CreateXorArray_Method1 = (function() {
	var PadArray = [0xBB, 0xFF, 0xFF, 0xBA, 0xFF, 0xFF, 0xB9, 0x80, 0x00, 0xBE, 0x0F, 0x00, 0xBF, 0x0F, 0x00];
	var InitialCode = [0xE1F0, 0x1D0F, 0xCC9C, 0x84C0, 0x110C, 0x0E10, 0xF1CE, 0x313E, 0x1872, 0xE139, 0xD40F, 0x84F9, 0x280C, 0xA96A, 0x4EC3];
	var XorMatrix = [0xAEFC, 0x4DD9, 0x9BB2, 0x2745, 0x4E8A, 0x9D14, 0x2A09, 0x7B61, 0xF6C2, 0xFDA5, 0xEB6B, 0xC6F7, 0x9DCF, 0x2BBF, 0x4563, 0x8AC6, 0x05AD, 0x0B5A, 0x16B4, 0x2D68, 0x5AD0, 0x0375, 0x06EA, 0x0DD4, 0x1BA8, 0x3750, 0x6EA0, 0xDD40, 0xD849, 0xA0B3, 0x5147, 0xA28E, 0x553D, 0xAA7A, 0x44D5, 0x6F45, 0xDE8A, 0xAD35, 0x4A4B, 0x9496, 0x390D, 0x721A, 0xEB23, 0xC667, 0x9CEF, 0x29FF, 0x53FE, 0xA7FC, 0x5FD9, 0x47D3, 0x8FA6, 0x0F6D, 0x1EDA, 0x3DB4, 0x7B68, 0xF6D0, 0xB861, 0x60E3, 0xC1C6, 0x93AD, 0x377B, 0x6EF6, 0xDDEC, 0x45A0, 0x8B40, 0x06A1, 0x0D42, 0x1A84, 0x3508, 0x6A10, 0xAA51, 0x4483, 0x8906, 0x022D, 0x045A, 0x08B4, 0x1168, 0x76B4, 0xED68, 0xCAF1, 0x85C3, 0x1BA7, 0x374E, 0x6E9C, 0x3730, 0x6E60, 0xDCC0, 0xA9A1, 0x4363, 0x86C6, 0x1DAD, 0x3331, 0x6662, 0xCCC4, 0x89A9, 0x0373, 0x06E6, 0x0DCC, 0x1021, 0x2042, 0x4084, 0x8108, 0x1231, 0x2462, 0x48C4];
	var Ror = function(Byte) { return ((Byte/2) | (Byte*128)) & 0xFF; };
	var XorRor = function(byte1, byte2) { return Ror(byte1 ^ byte2); };
	var CreateXorKey_Method1 = function(Password) {
		var XorKey = InitialCode[Password.length - 1];
		var CurrentElement = 0x68;
		for(var i = Password.length-1; i >= 0; --i) {
			var Char = Password[i];
			for(var j = 0; j != 7; ++j) {
				if(Char & 0x40) XorKey ^= XorMatrix[CurrentElement];
				Char *= 2; --CurrentElement;
			}
		}
		return XorKey;
	};
	return function(password) {
		var Password = _JS2ANSI(password);
		var XorKey = CreateXorKey_Method1(Password);
		var Index = Password.length;
		var ObfuscationArray = new_raw_buf(16);
		for(var i = 0; i != 16; ++i) ObfuscationArray[i] = 0x00;
		var Temp, PasswordLastChar, PadIndex;
		if((Index & 1) === 1) {
			Temp = XorKey >> 8;
			ObfuscationArray[Index] = XorRor(PadArray[0], Temp);
			--Index;
			Temp = XorKey & 0xFF;
			PasswordLastChar = Password[Password.length - 1];
			ObfuscationArray[Index] = XorRor(PasswordLastChar, Temp);
		}
		while(Index > 0) {
			--Index;
			Temp = XorKey >> 8;
			ObfuscationArray[Index] = XorRor(Password[Index], Temp);
			--Index;
			Temp = XorKey & 0xFF;
			ObfuscationArray[Index] = XorRor(Password[Index], Temp);
		}
		Index = 15;
		PadIndex = 15 - Password.length;
		while(PadIndex > 0) {
			Temp = XorKey >> 8;
			ObfuscationArray[Index] = XorRor(PadArray[PadIndex], Temp);
			--Index;
			--PadIndex;
			Temp = XorKey & 0xFF;
			ObfuscationArray[Index] = XorRor(Password[Index], Temp);
			--Index;
			--PadIndex;
		}
		return ObfuscationArray;
	};
})();

/* [MS-OFFCRYPTO] 2.3.7.3 Binary Document XOR Data Transformation Method 1 */
var crypto_DecryptData_Method1 = function(password, Data, XorArrayIndex, XorArray, O) {
	/* If XorArray is set, use it; if O is not set, make changes in-place */
	if(!O) O = Data;
	if(!XorArray) XorArray = crypto_CreateXorArray_Method1(password);
	var Index, Value;
	for(Index = 0; Index != Data.length; ++Index) {
		Value = Data[Index];
		Value ^= XorArray[XorArrayIndex];
		Value = ((Value>>5) | (Value<<3)) & 0xFF;
		O[Index] = Value;
		++XorArrayIndex;
	}
	return [O, XorArrayIndex, XorArray];
};

var crypto_MakeXorDecryptor = function(password) {
	var XorArrayIndex = 0, XorArray = crypto_CreateXorArray_Method1(password);
	return function(Data) {
		var O = crypto_DecryptData_Method1("", Data, XorArrayIndex, XorArray);
		XorArrayIndex = O[1];
		return O[0];
	};
};

/* 2.5.343 */
function parse_XORObfuscation(blob, length, opts, out) {
	var o = ({ key: parseuint16(blob), verificationBytes: parseuint16(blob) });
	if(opts.password) o.verifier = crypto_CreatePasswordVerifier_Method1(opts.password);
	out.valid = o.verificationBytes === o.verifier;
	if(out.valid) out.insitu = crypto_MakeXorDecryptor(opts.password);
	return o;
}

/* 2.4.117 */
function parse_FilePassHeader(blob, length, oo) {
	var o = oo || {}; o.Info = blob.read_shift(2); blob.l -= 2;
	if(o.Info === 1) o.Data = parse_RC4Header(blob, length);
	else o.Data = parse_RC4CryptoHeader(blob, length);
	return o;
}
function parse_FilePass(blob, length, opts) {
	var o = ({ Type: opts.biff >= 8 ? blob.read_shift(2) : 0 }); /* wEncryptionType */
	if(o.Type) parse_FilePassHeader(blob, length-2, o);
	else parse_XORObfuscation(blob, opts.biff >= 8 ? length : length - 2, opts, o);
	return o;
}


var RTF = (function() {
	function rtf_to_sheet(d, opts) {
		switch(opts.type) {
			case 'base64': return rtf_to_sheet_str(Base64.decode(d), opts);
			case 'binary': return rtf_to_sheet_str(d, opts);
			case 'buffer': return rtf_to_sheet_str(d.toString('binary'), opts);
			case 'array':  return rtf_to_sheet_str(cc2str(d), opts);
		}
		throw new Error("Unrecognized type " + opts.type);
	}

	function rtf_to_sheet_str(str, opts) {
		var o = opts || {};
		var ws = o.dense ? ([]) : ({});
		var range = ({s: {c:0, r:0}, e: {c:0, r:0}});

		// TODO: parse
		if(!str.match(/\\trowd/)) throw new Error("RTF missing table");

		ws['!ref'] = encode_range(range);
		return ws;
	}

	function rtf_to_workbook(d, opts) { return sheet_to_workbook(rtf_to_sheet(d, opts), opts); }

	/* TODO: this is a stub */
	function sheet_to_rtf(ws) {
		var o = ["{\\rtf1\\ansi"];
		var r = safe_decode_range(ws['!ref']), cell;
		var dense = Array.isArray(ws);
		for(var R = r.s.r; R <= r.e.r; ++R) {
			o.push("\\trowd\\trautofit1");
			for(var C = r.s.c; C <= r.e.c; ++C) o.push("\\cellx" + (C+1));
			o.push("\\pard\\intbl");
			for(C = r.s.c; C <= r.e.c; ++C) {
				var coord = encode_cell({r:R,c:C});
				cell = dense ? (ws[R]||[])[C]: ws[coord];
				if(!cell || cell.v == null && (!cell.f || cell.F)) continue;
				o.push(" " + (cell.w || (format_cell(cell), cell.w)));
				o.push("\\cell");
			}
			o.push("\\pard\\intbl\\row");
		}
		return o.join("") + "}";
	}

	return {
		to_workbook: rtf_to_workbook,
		to_sheet: rtf_to_sheet,
		from_sheet: sheet_to_rtf
	};
})();
function hex2RGB(h) {
	var o = h.slice(h[0]==="#"?1:0).slice(0,6);
	return [parseInt(o.slice(0,2),16),parseInt(o.slice(2,4),16),parseInt(o.slice(4,6),16)];
}
function rgb2Hex(rgb) {
	for(var i=0,o=1; i!=3; ++i) o = o*256 + (rgb[i]>255?255:rgb[i]<0?0:rgb[i]);
	return o.toString(16).toUpperCase().slice(1);
}

function rgb2HSL(rgb) {
	var R = rgb[0]/255, G = rgb[1]/255, B=rgb[2]/255;
	var M = Math.max(R, G, B), m = Math.min(R, G, B), C = M - m;
	if(C === 0) return [0, 0, R];

	var H6 = 0, S = 0, L2 = (M + m);
	S = C / (L2 > 1 ? 2 - L2 : L2);
	switch(M){
		case R: H6 = ((G - B) / C + 6)%6; break;
		case G: H6 = ((B - R) / C + 2); break;
		case B: H6 = ((R - G) / C + 4); break;
	}
	return [H6 / 6, S, L2 / 2];
}

function hsl2RGB(hsl){
	var H = hsl[0], S = hsl[1], L = hsl[2];
	var C = S * 2 * (L < 0.5 ? L : 1 - L), m = L - C/2;
	var rgb = [m,m,m], h6 = 6*H;

	var X;
	if(S !== 0) switch(h6|0) {
		case 0: case 6: X = C * h6; rgb[0] += C; rgb[1] += X; break;
		case 1: X = C * (2 - h6);   rgb[0] += X; rgb[1] += C; break;
		case 2: X = C * (h6 - 2);   rgb[1] += C; rgb[2] += X; break;
		case 3: X = C * (4 - h6);   rgb[1] += X; rgb[2] += C; break;
		case 4: X = C * (h6 - 4);   rgb[2] += C; rgb[0] += X; break;
		case 5: X = C * (6 - h6);   rgb[2] += X; rgb[0] += C; break;
	}
	for(var i = 0; i != 3; ++i) rgb[i] = Math.round(rgb[i]*255);
	return rgb;
}

/* 18.8.3 bgColor tint algorithm */
function rgb_tint(hex, tint) {
	if(tint === 0) return hex;
	var hsl = rgb2HSL(hex2RGB(hex));
	if (tint < 0) hsl[2] = hsl[2] * (1 + tint);
	else hsl[2] = 1 - (1 - hsl[2]) * (1 - tint);
	return rgb2Hex(hsl2RGB(hsl));
}

/* 18.3.1.13 width calculations */
/* [MS-OI29500] 2.1.595 Column Width & Formatting */
var DEF_MDW = 6, MAX_MDW = 15, MIN_MDW = 1, MDW = DEF_MDW;
function width2px(width) { return Math.floor(( width + (Math.round(128/MDW))/256 )* MDW ); }
function px2char(px) { return (Math.floor((px - 5)/MDW * 100 + 0.5))/100; }
function char2width(chr) { return (Math.round((chr * MDW + 5)/MDW*256))/256; }
//function px2char_(px) { return (((px - 5)/MDW * 100 + 0.5))/100; }
//function char2width_(chr) { return (((chr * MDW + 5)/MDW*256))/256; }
function cycle_width(collw) { return char2width(px2char(width2px(collw))); }
/* XLSX/XLSB/XLS specify width in units of MDW */
function find_mdw_colw(collw) {
	var delta = Math.abs(collw - cycle_width(collw)), _MDW = MDW;
	if(delta > 0.005) for(MDW=MIN_MDW; MDW<MAX_MDW; ++MDW) if(Math.abs(collw - cycle_width(collw)) <= delta) { delta = Math.abs(collw - cycle_width(collw)); _MDW = MDW; }
	MDW = _MDW;
}
/* XLML specifies width in terms of pixels */
/*function find_mdw_wpx(wpx) {
	var delta = Infinity, guess = 0, _MDW = MIN_MDW;
	for(MDW=MIN_MDW; MDW<MAX_MDW; ++MDW) {
		guess = char2width_(px2char_(wpx))*256;
		guess = (guess) % 1;
		if(guess > 0.5) guess--;
		if(Math.abs(guess) < delta) { delta = Math.abs(guess); _MDW = MDW; }
	}
	MDW = _MDW;
}*/

function process_col(coll) {
	if(coll.width) {
		coll.wpx = width2px(coll.width);
		coll.wch = px2char(coll.wpx);
		coll.MDW = MDW;
	} else if(coll.wpx) {
		coll.wch = px2char(coll.wpx);
		coll.width = char2width(coll.wch);
		coll.MDW = MDW;
	} else if(typeof coll.wch == 'number') {
		coll.width = char2width(coll.wch);
		coll.wpx = width2px(coll.width);
		coll.MDW = MDW;
	}
	if(coll.customWidth) delete coll.customWidth;
}

var DEF_PPI = 96, PPI = DEF_PPI;
function px2pt(px) { return px * 96 / PPI; }
function pt2px(pt) { return pt * PPI / 96; }

/* [MS-EXSPXML3] 2.4.54 ST_enmPattern */
var XLMLPatternTypeMap = {
	"None": "none",
	"Solid": "solid",
	"Gray50": "mediumGray",
	"Gray75": "darkGray",
	"Gray25": "lightGray",
	"HorzStripe": "darkHorizontal",
	"VertStripe": "darkVertical",
	"ReverseDiagStripe": "darkDown",
	"DiagStripe": "darkUp",
	"DiagCross": "darkGrid",
	"ThickDiagCross": "darkTrellis",
	"ThinHorzStripe": "lightHorizontal",
	"ThinVertStripe": "lightVertical",
	"ThinReverseDiagStripe": "lightDown",
	"ThinHorzCross": "lightGrid"
};

/* 18.8.5 borders CT_Borders */
function parse_borders(t, styles, themes, opts) {
	styles.Borders = [];
	var border = {}/*, sub_border = {}*/;
	var pass = false;
	t[0].match(tagregex).forEach(function(x) {
		var y = parsexmltag(x);
		switch(strip_ns(y[0])) {
			case '<borders': case '<borders>': case '</borders>': break;

			/* 18.8.4 border CT_Border */
			case '<border': case '<border>': case '<border/>':
				border = {};
				if (y.diagonalUp) { border.diagonalUp = y.diagonalUp; }
				if (y.diagonalDown) { border.diagonalDown = y.diagonalDown; }
				styles.Borders.push(border);
				break;
			case '</border>': break;

			/* note: not in spec, appears to be CT_BorderPr */
			case '<left/>': break;
			case '<left': case '<left>': break;
			case '</left>': break;

			/* note: not in spec, appears to be CT_BorderPr */
			case '<right/>': break;
			case '<right': case '<right>': break;
			case '</right>': break;

			/* 18.8.43 top CT_BorderPr */
			case '<top/>': break;
			case '<top': case '<top>': break;
			case '</top>': break;

			/* 18.8.6 bottom CT_BorderPr */
			case '<bottom/>': break;
			case '<bottom': case '<bottom>': break;
			case '</bottom>': break;

			/* 18.8.13 diagonal CT_BorderPr */
			case '<diagonal': case '<diagonal>': case '<diagonal/>': break;
			case '</diagonal>': break;

			/* 18.8.25 horizontal CT_BorderPr */
			case '<horizontal': case '<horizontal>': case '<horizontal/>': break;
			case '</horizontal>': break;

			/* 18.8.44 vertical CT_BorderPr */
			case '<vertical': case '<vertical>': case '<vertical/>': break;
			case '</vertical>': break;

			/* 18.8.37 start CT_BorderPr */
			case '<start': case '<start>': case '<start/>': break;
			case '</start>': break;

			/* 18.8.16 end CT_BorderPr */
			case '<end': case '<end>': case '<end/>': break;
			case '</end>': break;

			/* 18.8.? color CT_Color */
			case '<color': case '<color>': break;
			case '<color/>': case '</color>': break;

			/* 18.2.10 extLst CT_ExtensionList ? */
			case '<extLst': case '<extLst>': case '</extLst>': break;
			case '<ext': pass = true; break;
			case '</ext>': pass = false; break;
			default: if(opts && opts.WTF) {
				if(!pass) throw new Error('unrecognized ' + y[0] + ' in borders');
			}
		}
	});
}

/* 18.8.21 fills CT_Fills */
function parse_fills(t, styles, themes, opts) {
	styles.Fills = [];
	var fill = {};
	var pass = false;
	t[0].match(tagregex).forEach(function(x) {
		var y = parsexmltag(x);
		switch(strip_ns(y[0])) {
			case '<fills': case '<fills>': case '</fills>': break;

			/* 18.8.20 fill CT_Fill */
			case '<fill>': case '<fill': case '<fill/>':
				fill = {}; styles.Fills.push(fill); break;
			case '</fill>': break;

			/* 18.8.24 gradientFill CT_GradientFill */
			case '<gradientFill>': break;
			case '<gradientFill':
			case '</gradientFill>': styles.Fills.push(fill); fill = {}; break;

			/* 18.8.32 patternFill CT_PatternFill */
			case '<patternFill': case '<patternFill>':
				if(y.patternType) fill.patternType = y.patternType;
				break;
			case '<patternFill/>': case '</patternFill>': break;

			/* 18.8.3 bgColor CT_Color */
			case '<bgColor':
				if(!fill.bgColor) fill.bgColor = {};
				if(y.indexed) fill.bgColor.indexed = parseInt(y.indexed, 10);
				if(y.theme) fill.bgColor.theme = parseInt(y.theme, 10);
				if(y.tint) fill.bgColor.tint = parseFloat(y.tint);
				/* Excel uses ARGB strings */
				if(y.rgb) fill.bgColor.rgb = y.rgb.slice(-6);
				break;
			case '<bgColor/>': case '</bgColor>': break;

			/* 18.8.19 fgColor CT_Color */
			case '<fgColor':
				if(!fill.fgColor) fill.fgColor = {};
				if(y.theme) fill.fgColor.theme = parseInt(y.theme, 10);
				if(y.tint) fill.fgColor.tint = parseFloat(y.tint);
				/* Excel uses ARGB strings */
				if(y.rgb) fill.fgColor.rgb = y.rgb.slice(-6);
				break;
			case '<fgColor/>': case '</fgColor>': break;

			/* 18.8.38 stop CT_GradientStop */
			case '<stop': case '<stop/>': break;
			case '</stop>': break;

			/* 18.8.? color CT_Color */
			case '<color': case '<color/>': break;
			case '</color>': break;

			/* 18.2.10 extLst CT_ExtensionList ? */
			case '<extLst': case '<extLst>': case '</extLst>': break;
			case '<ext': pass = true; break;
			case '</ext>': pass = false; break;
			default: if(opts && opts.WTF) {
				if(!pass) throw new Error('unrecognized ' + y[0] + ' in fills');
			}
		}
	});
}

/* 18.8.23 fonts CT_Fonts */
function parse_fonts(t, styles, themes, opts) {
	styles.Fonts = [];
	var font = {};
	var pass = false;
	t[0].match(tagregex).forEach(function(x) {
		var y = parsexmltag(x);
		switch(strip_ns(y[0])) {
			case '<fonts': case '<fonts>': case '</fonts>': break;

			/* 18.8.22 font CT_Font */
			case '<font': case '<font>': break;
			case '</font>': case '<font/>':
				styles.Fonts.push(font);
				font = {};
				break;

			/* 18.8.29 name CT_FontName */
			case '<name': if(y.val) font.name = y.val; break;
			case '<name/>': case '</name>': break;

			/* 18.8.2  b CT_BooleanProperty */
			case '<b': font.bold = y.val ? parsexmlbool(y.val) : 1; break;
			case '<b/>': font.bold = 1; break;

			/* 18.8.26 i CT_BooleanProperty */
			case '<i': font.italic = y.val ? parsexmlbool(y.val) : 1; break;
			case '<i/>': font.italic = 1; break;

			/* 18.4.13 u CT_UnderlineProperty */
			case '<u':
				switch(y.val) {
					case "none": font.underline = 0x00; break;
					case "single": font.underline = 0x01; break;
					case "double": font.underline = 0x02; break;
					case "singleAccounting": font.underline = 0x21; break;
					case "doubleAccounting": font.underline = 0x22; break;
				} break;
			case '<u/>': font.underline = 1; break;

			/* 18.4.10 strike CT_BooleanProperty */
			case '<strike': font.strike = y.val ? parsexmlbool(y.val) : 1; break;
			case '<strike/>': font.strike = 1; break;

			/* 18.4.2  outline CT_BooleanProperty */
			case '<outline': font.outline = y.val ? parsexmlbool(y.val) : 1; break;
			case '<outline/>': font.outline = 1; break;

			/* 18.8.36 shadow CT_BooleanProperty */
			case '<shadow': font.shadow = y.val ? parsexmlbool(y.val) : 1; break;
			case '<shadow/>': font.shadow = 1; break;

			/* 18.8.12 condense CT_BooleanProperty */
			case '<condense': font.condense = y.val ? parsexmlbool(y.val) : 1; break;
			case '<condense/>': font.condense = 1; break;

			/* 18.8.17 extend CT_BooleanProperty */
			case '<extend': font.extend = y.val ? parsexmlbool(y.val) : 1; break;
			case '<extend/>': font.extend = 1; break;

			/* 18.4.11 sz CT_FontSize */
			case '<sz': if(y.val) font.sz = +y.val; break;
			case '<sz/>': case '</sz>': break;

			/* 18.4.14 vertAlign CT_VerticalAlignFontProperty */
			case '<vertAlign': if(y.val) font.vertAlign = y.val; break;
			case '<vertAlign/>': case '</vertAlign>': break;

			/* 18.8.18 family CT_FontFamily */
			case '<family': if(y.val) font.family = parseInt(y.val,10); break;
			case '<family/>': case '</family>': break;

			/* 18.8.35 scheme CT_FontScheme */
			case '<scheme': if(y.val) font.scheme = y.val; break;
			case '<scheme/>': case '</scheme>': break;

			/* 18.4.1 charset CT_IntProperty */
			case '<charset':
				if(y.val == '1') break;
				y.codepage = CS2CP[parseInt(y.val, 10)];
				break;

			/* 18.?.? color CT_Color */
			case '<color':
				if(!font.color) font.color = {};
				if(y.auto) font.color.auto = parsexmlbool(y.auto);

				if(y.rgb) font.color.rgb = y.rgb.slice(-6);
				else if(y.indexed) {
					font.color.index = parseInt(y.indexed, 10);
					var icv = XLSIcv[font.color.index];
					if(font.color.index == 81) icv = XLSIcv[1];
					if(!icv) throw new Error(x);
					font.color.rgb = icv[0].toString(16) + icv[1].toString(16) + icv[2].toString(16);
				} else if(y.theme) {
					font.color.theme = parseInt(y.theme, 10);
					if(y.tint) font.color.tint = parseFloat(y.tint);
					if(y.theme && themes.themeElements && themes.themeElements.clrScheme) {
						font.color.rgb = rgb_tint(themes.themeElements.clrScheme[font.color.theme].rgb, font.color.tint || 0);
					}
				}

				break;
			case '<color/>': case '</color>': break;

			/* 18.2.10 extLst CT_ExtensionList ? */
			case '<extLst': case '<extLst>': case '</extLst>': break;
			case '<ext': pass = true; break;
			case '</ext>': pass = false; break;
			default: if(opts && opts.WTF) {
				if(!pass) throw new Error('unrecognized ' + y[0] + ' in fonts');
			}
		}
	});
}

/* 18.8.31 numFmts CT_NumFmts */
function parse_numFmts(t, styles, opts) {
	styles.NumberFmt = [];
	var k/*Array<number>*/ = (keys(SSF._table));
	for(var i=0; i < k.length; ++i) styles.NumberFmt[k[i]] = SSF._table[k[i]];
	var m = t[0].match(tagregex);
	if(!m) return;
	for(i=0; i < m.length; ++i) {
		var y = parsexmltag(m[i]);
		switch(strip_ns(y[0])) {
			case '<numFmts': case '</numFmts>': case '<numFmts/>': case '<numFmts>': break;
			case '<numFmt': {
				var f=unescapexml(utf8read(y.formatCode)), j=parseInt(y.numFmtId,10);
				styles.NumberFmt[j] = f;
				if(j>0) {
					if(j > 0x188) {
						for(j = 0x188; j > 0x3c; --j) if(styles.NumberFmt[j] == null) break;
						styles.NumberFmt[j] = f;
					}
					SSF.load(f,j);
				}
			} break;
			case '</numFmt>': break;
			default: if(opts.WTF) throw new Error('unrecognized ' + y[0] + ' in numFmts');
		}
	}
}

function write_numFmts(NF) {
	var o = ["<numFmts>"];
	[[5,8],[23,26],[41,44],[/*63*/50,/*66],[164,*/392]].forEach(function(r) {
		for(var i = r[0]; i <= r[1]; ++i) if(NF[i] != null) o[o.length] = (writextag('numFmt',null,{numFmtId:i,formatCode:escapexml(NF[i])}));
	});
	if(o.length === 1) return "";
	o[o.length] = ("</numFmts>");
	o[0] = writextag('numFmts', null, { count:o.length-2 }).replace("/>", ">");
	return o.join("");
}

/* 18.8.10 cellXfs CT_CellXfs */
var cellXF_uint = [ "numFmtId", "fillId", "fontId", "borderId", "xfId" ];
var cellXF_bool = [ "applyAlignment", "applyBorder", "applyFill", "applyFont", "applyNumberFormat", "applyProtection", "pivotButton", "quotePrefix" ];
function parse_cellXfs(t, styles, opts) {
	styles.CellXf = [];
	var xf;
	var pass = false;
	t[0].match(tagregex).forEach(function(x) {
		var y = parsexmltag(x), i = 0;
		switch(strip_ns(y[0])) {
			case '<cellXfs': case '<cellXfs>': case '<cellXfs/>': case '</cellXfs>': break;

			/* 18.8.45 xf CT_Xf */
			case '<xf': case '<xf/>':
				xf = y;
				delete xf[0];
				for(i = 0; i < cellXF_uint.length; ++i) if(xf[cellXF_uint[i]])
					xf[cellXF_uint[i]] = parseInt(xf[cellXF_uint[i]], 10);
				for(i = 0; i < cellXF_bool.length; ++i) if(xf[cellXF_bool[i]])
					xf[cellXF_bool[i]] = parsexmlbool(xf[cellXF_bool[i]]);
				if(xf.numFmtId > 0x188) {
					for(i = 0x188; i > 0x3c; --i) if(styles.NumberFmt[xf.numFmtId] == styles.NumberFmt[i]) { xf.numFmtId = i; break; }
				}
				styles.CellXf.push(xf); break;
			case '</xf>': break;

			/* 18.8.1 alignment CT_CellAlignment */
			case '<alignment': case '<alignment/>':
				var alignment = {};
				if(y.vertical) alignment.vertical = y.vertical;
				if(y.horizontal) alignment.horizontal = y.horizontal;
				if(y.textRotation != null) alignment.textRotation = y.textRotation;
				if(y.indent) alignment.indent = y.indent;
				if(y.wrapText) alignment.wrapText = y.wrapText;
				xf.alignment = alignment;
				break;
			case '</alignment>': break;

			/* 18.8.33 protection CT_CellProtection */
			case '<protection': case '</protection>': case '<protection/>': break;

			/* 18.2.10 extLst CT_ExtensionList ? */
			case '<extLst': case '<extLst>': case '</extLst>': break;
			case '<ext': pass = true; break;
			case '</ext>': pass = false; break;
			default: if(opts && opts.WTF) {
				if(!pass) throw new Error('unrecognized ' + y[0] + ' in cellXfs');
			}
		}
	});
}

function write_cellXfs(cellXfs) {
	var o = [];
	o[o.length] = (writextag('cellXfs',null));
	cellXfs.forEach(function(c) { o[o.length] = (writextag('xf', null, c)); });
	o[o.length] = ("</cellXfs>");
	if(o.length === 2) return "";
	o[0] = writextag('cellXfs',null, {count:o.length-2}).replace("/>",">");
	return o.join("");
}

/* 18.8 Styles CT_Stylesheet*/
var parse_sty_xml= (function make_pstyx() {
var numFmtRegex = /<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/;
var cellXfRegex = /<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/;
var fillsRegex = /<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/;
var fontsRegex = /<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/;
var bordersRegex = /<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;

return function parse_sty_xml(data, themes, opts) {
	var styles = {};
	if(!data) return styles;
	data = data.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");
	/* 18.8.39 styleSheet CT_Stylesheet */
	var t;

	/* 18.8.31 numFmts CT_NumFmts ? */
	if((t=data.match(numFmtRegex))) parse_numFmts(t, styles, opts);

	/* 18.8.23 fonts CT_Fonts ? */
	if((t=data.match(fontsRegex))) parse_fonts(t, styles, themes, opts);

	/* 18.8.21 fills CT_Fills ? */
	if((t=data.match(fillsRegex))) parse_fills(t, styles, themes, opts);

	/* 18.8.5  borders CT_Borders ? */
	if((t=data.match(bordersRegex))) parse_borders(t, styles, themes, opts);

	/* 18.8.9  cellStyleXfs CT_CellStyleXfs ? */

	/* 18.8.10 cellXfs CT_CellXfs ? */
	if((t=data.match(cellXfRegex))) parse_cellXfs(t, styles, opts);

	/* 18.8.8  cellStyles CT_CellStyles ? */
	/* 18.8.15 dxfs CT_Dxfs ? */
	/* 18.8.42 tableStyles CT_TableStyles ? */
	/* 18.8.11 colors CT_Colors ? */
	/* 18.2.10 extLst CT_ExtensionList ? */

	return styles;
};
})();

var STYLES_XML_ROOT = writextag('styleSheet', null, {
	'xmlns': XMLNS.main[0],
	'xmlns:vt': XMLNS.vt
});

RELS.STY = "http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles";

function write_sty_xml(wb, opts) {
	var o = [XML_HEADER, STYLES_XML_ROOT], w;
	if(wb.SSF && (w = write_numFmts(wb.SSF)) != null) o[o.length] = w;
	o[o.length] = ('<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>');
	o[o.length] = ('<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>');
	o[o.length] = ('<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>');
	o[o.length] = ('<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>');
	if((w = write_cellXfs(opts.cellXfs))) o[o.length] = (w);
	o[o.length] = ('<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>');
	o[o.length] = ('<dxfs count="0"/>');
	o[o.length] = ('<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>');

	if(o.length>2){ o[o.length] = ('</styleSheet>'); o[1]=o[1].replace("/>",">"); }
	return o.join("");
}
/* [MS-XLSB] 2.4.657 BrtFmt */
function parse_BrtFmt(data, length) {
	var numFmtId = data.read_shift(2);
	var stFmtCode = parse_XLWideString(data,length-2);
	return [numFmtId, stFmtCode];
}
function write_BrtFmt(i, f, o) {
	if(!o) o = new_buf(6 + 4 * f.length);
	o.write_shift(2, i);
	write_XLWideString(f, o);
	var out = (o.length > o.l) ? o.slice(0, o.l) : o;
	if(o.l == null) o.l = o.length;
	return out;
}

/* [MS-XLSB] 2.4.659 BrtFont TODO */
function parse_BrtFont(data, length, opts) {
	var out = ({});

	out.sz = data.read_shift(2) / 20;

	var grbit = parse_FontFlags(data, 2, opts);
	if(grbit.fCondense) out.condense = 1;
	if(grbit.fExtend) out.extend = 1;
	if(grbit.fShadow) out.shadow = 1;
	if(grbit.fOutline) out.outline = 1;
	if(grbit.fStrikeout) out.strike = 1;
	if(grbit.fItalic) out.italic = 1;

	var bls = data.read_shift(2);
	if(bls === 0x02BC) out.bold = 1;

	switch(data.read_shift(2)) {
		/* case 0: out.vertAlign = "baseline"; break; */
		case 1: out.vertAlign = "superscript"; break;
		case 2: out.vertAlign = "subscript"; break;
	}

	var underline = data.read_shift(1);
	if(underline != 0) out.underline = underline;

	var family = data.read_shift(1);
	if(family > 0) out.family = family;

	var bCharSet = data.read_shift(1);
	if(bCharSet > 0) out.charset = bCharSet;

	data.l++;
	out.color = parse_BrtColor(data, 8);

	switch(data.read_shift(1)) {
		/* case 0: out.scheme = "none": break; */
		case 1: out.scheme = "major"; break;
		case 2: out.scheme = "minor"; break;
	}

	out.name = parse_XLWideString(data, length - 21);

	return out;
}
function write_BrtFont(font, o) {
	if(!o) o = new_buf(25+4*32);
	o.write_shift(2, font.sz * 20);
	write_FontFlags(font, o);
	o.write_shift(2, font.bold ? 0x02BC : 0x0190);
	var sss = 0;
	if(font.vertAlign == "superscript") sss = 1;
	else if(font.vertAlign == "subscript") sss = 2;
	o.write_shift(2, sss);
	o.write_shift(1, font.underline || 0);
	o.write_shift(1, font.family || 0);
	o.write_shift(1, font.charset || 0);
	o.write_shift(1, 0);
	write_BrtColor(font.color, o);
	var scheme = 0;
	if(font.scheme == "major") scheme = 1;
	if(font.scheme == "minor") scheme = 2;
	o.write_shift(1, scheme);
	write_XLWideString(font.name, o);
	return o.length > o.l ? o.slice(0, o.l) : o;
}

/* [MS-XLSB] 2.4.650 BrtFill */
var XLSBFillPTNames = [
	"none",
	"solid",
	"mediumGray",
	"darkGray",
	"lightGray",
	"darkHorizontal",
	"darkVertical",
	"darkDown",
	"darkUp",
	"darkGrid",
	"darkTrellis",
	"lightHorizontal",
	"lightVertical",
	"lightDown",
	"lightUp",
	"lightGrid",
	"lightTrellis",
	"gray125",
	"gray0625"
];
var rev_XLSBFillPTNames = (evert(XLSBFillPTNames));
/* TODO: gradient fill representation */
var parse_BrtFill = parsenoop;
function write_BrtFill(fill, o) {
	if(!o) o = new_buf(4*3 + 8*7 + 16*1);
	var fls = rev_XLSBFillPTNames[fill.patternType];
	if(fls == null) fls = 0x28;
	o.write_shift(4, fls);
	var j = 0;
	if(fls != 0x28) {
		/* TODO: custom FG Color */
		write_BrtColor({auto:1}, o);
		/* TODO: custom BG Color */
		write_BrtColor({auto:1}, o);

		for(; j < 12; ++j) o.write_shift(4, 0);
	} else {
		for(; j < 4; ++j) o.write_shift(4, 0);

		for(; j < 12; ++j) o.write_shift(4, 0); /* TODO */
		/* iGradientType */
		/* xnumDegree */
		/* xnumFillToLeft */
		/* xnumFillToRight */
		/* xnumFillToTop */
		/* xnumFillToBottom */
		/* cNumStop */
		/* xfillGradientStop */
	}
	return o.length > o.l ? o.slice(0, o.l) : o;
}

/* [MS-XLSB] 2.4.824 BrtXF */
function parse_BrtXF(data, length) {
	var tgt = data.l + length;
	var ixfeParent = data.read_shift(2);
	var ifmt = data.read_shift(2);
	data.l = tgt;
	return {ixfe:ixfeParent, numFmtId:ifmt };
}
function write_BrtXF(data, ixfeP, o) {
	if(!o) o = new_buf(16);
	o.write_shift(2, ixfeP||0);
	o.write_shift(2, data.numFmtId||0);
	o.write_shift(2, 0); /* iFont */
	o.write_shift(2, 0); /* iFill */
	o.write_shift(2, 0); /* ixBorder */
	o.write_shift(1, 0); /* trot */
	o.write_shift(1, 0); /* indent */
	o.write_shift(1, 0); /* flags */
	o.write_shift(1, 0); /* flags */
	o.write_shift(1, 0); /* xfGrbitAtr */
	o.write_shift(1, 0);
	return o;
}

/* [MS-XLSB] 2.5.4 Blxf TODO */
function write_Blxf(data, o) {
	if(!o) o = new_buf(10);
	o.write_shift(1, 0); /* dg */
	o.write_shift(1, 0);
	o.write_shift(4, 0); /* color */
	o.write_shift(4, 0); /* color */
	return o;
}
/* [MS-XLSB] 2.4.302 BrtBorder TODO */
var parse_BrtBorder = parsenoop;
function write_BrtBorder(border, o) {
	if(!o) o = new_buf(51);
	o.write_shift(1, 0); /* diagonal */
	write_Blxf(null, o); /* top */
	write_Blxf(null, o); /* bottom */
	write_Blxf(null, o); /* left */
	write_Blxf(null, o); /* right */
	write_Blxf(null, o); /* diag */
	return o.length > o.l ? o.slice(0, o.l) : o;
}

/* [MS-XLSB] 2.4.763 BrtStyle TODO */
function write_BrtStyle(style, o) {
	if(!o) o = new_buf(12+4*10);
	o.write_shift(4, style.xfId);
	o.write_shift(2, 1);
	o.write_shift(1, +style.builtinId);
	o.write_shift(1, 0); /* iLevel */
	write_XLNullableWideString(style.name || "", o);
	return o.length > o.l ? o.slice(0, o.l) : o;
}

/* [MS-XLSB] 2.4.272 BrtBeginTableStyles */
function write_BrtBeginTableStyles(cnt, defTableStyle, defPivotStyle) {
	var o = new_buf(4+256*2*4);
	o.write_shift(4, cnt);
	write_XLNullableWideString(defTableStyle, o);
	write_XLNullableWideString(defPivotStyle, o);
	return o.length > o.l ? o.slice(0, o.l) : o;
}

/* [MS-XLSB] 2.1.7.50 Styles */
function parse_sty_bin(data, themes, opts) {
	var styles = {};
	styles.NumberFmt = ([]);
	for(var y in SSF._table) styles.NumberFmt[y] = SSF._table[y];

	styles.CellXf = [];
	styles.Fonts = [];
	var state = [];
	var pass = false;
	recordhopper(data, function hopper_sty(val, R_n, RT) {
		switch(RT) {
			case 0x002C: /* 'BrtFmt' */
				styles.NumberFmt[val[0]] = val[1]; SSF.load(val[1], val[0]);
				break;
			case 0x002B: /* 'BrtFont' */
				styles.Fonts.push(val);
				if(val.color.theme != null && themes && themes.themeElements && themes.themeElements.clrScheme) {
					val.color.rgb = rgb_tint(themes.themeElements.clrScheme[val.color.theme].rgb, val.color.tint || 0);
				}
				break;
			case 0x0401: /* 'BrtKnownFonts' */ break;
			case 0x002D: /* 'BrtFill' */ break;
			case 0x002E: /* 'BrtBorder' */ break;
			case 0x002F: /* 'BrtXF' */
				if(state[state.length - 1] == "BrtBeginCellXFs") {
					styles.CellXf.push(val);
				}
				break;
			case 0x0030: /* 'BrtStyle' */
			case 0x01FB: /* 'BrtDXF' */
			case 0x023C: /* 'BrtMRUColor' */
			case 0x01DB: /* 'BrtIndexedColor': */
				break;

			case 0x0493: /* 'BrtDXF14' */
			case 0x0836: /* 'BrtDXF15' */
			case 0x046A: /* 'BrtSlicerStyleElement' */
			case 0x0200: /* 'BrtTableStyleElement' */
			case 0x082F: /* 'BrtTimelineStyleElement' */
			case 0x0C00: /* 'BrtUid' */
				break;

			case 0x0023: /* 'BrtFRTBegin' */
				pass = true; break;
			case 0x0024: /* 'BrtFRTEnd' */
				pass = false; break;
			case 0x0025: /* 'BrtACBegin' */
				state.push(R_n); break;
			case 0x0026: /* 'BrtACEnd' */
				state.pop(); break;

			default:
				if((R_n||"").indexOf("Begin") > 0) state.push(R_n);
				else if((R_n||"").indexOf("End") > 0) state.pop();
				else if(!pass || opts.WTF) throw new Error("Unexpected record " + RT + " " + R_n);
		}
	});
	return styles;
}

function write_FMTS_bin(ba, NF) {
	if(!NF) return;
	var cnt = 0;
	[[5,8],[23,26],[41,44],[/*63*/50,/*66],[164,*/392]].forEach(function(r) {
for(var i = r[0]; i <= r[1]; ++i) if(NF[i] != null) ++cnt;
	});

	if(cnt == 0) return;
	write_record(ba, "BrtBeginFmts", write_UInt32LE(cnt));
	[[5,8],[23,26],[41,44],[/*63*/50,/*66],[164,*/392]].forEach(function(r) {
for(var i = r[0]; i <= r[1]; ++i) if(NF[i] != null) write_record(ba, "BrtFmt", write_BrtFmt(i, NF[i]));
	});
	write_record(ba, "BrtEndFmts");
}

function write_FONTS_bin(ba) {
	var cnt = 1;

	if(cnt == 0) return;
	write_record(ba, "BrtBeginFonts", write_UInt32LE(cnt));
	write_record(ba, "BrtFont", write_BrtFont({
		sz:12,
		color: {theme:1},
		name: "Calibri",
		family: 2,
		scheme: "minor"
	}));
	/* 1*65491BrtFont [ACFONTS] */
	write_record(ba, "BrtEndFonts");
}

function write_FILLS_bin(ba) {
	var cnt = 2;

	if(cnt == 0) return;
	write_record(ba, "BrtBeginFills", write_UInt32LE(cnt));
	write_record(ba, "BrtFill", write_BrtFill({patternType:"none"}));
	write_record(ba, "BrtFill", write_BrtFill({patternType:"gray125"}));
	/* 1*65431BrtFill */
	write_record(ba, "BrtEndFills");
}

function write_BORDERS_bin(ba) {
	var cnt = 1;

	if(cnt == 0) return;
	write_record(ba, "BrtBeginBorders", write_UInt32LE(cnt));
	write_record(ba, "BrtBorder", write_BrtBorder({}));
	/* 1*65430BrtBorder */
	write_record(ba, "BrtEndBorders");
}

function write_CELLSTYLEXFS_bin(ba) {
	var cnt = 1;
	write_record(ba, "BrtBeginCellStyleXFs", write_UInt32LE(cnt));
	write_record(ba, "BrtXF", write_BrtXF({
		numFmtId:0,
		fontId:0,
		fillId:0,
		borderId:0
	}, 0xFFFF));
	/* 1*65430(BrtXF *FRT) */
	write_record(ba, "BrtEndCellStyleXFs");
}

function write_CELLXFS_bin(ba, data) {
	write_record(ba, "BrtBeginCellXFs", write_UInt32LE(data.length));
	data.forEach(function(c) { write_record(ba, "BrtXF", write_BrtXF(c,0)); });
	/* 1*65430(BrtXF *FRT) */
	write_record(ba, "BrtEndCellXFs");
}

function write_STYLES_bin(ba) {
	var cnt = 1;

	write_record(ba, "BrtBeginStyles", write_UInt32LE(cnt));
	write_record(ba, "BrtStyle", write_BrtStyle({
		xfId:0,
		builtinId:0,
		name:"Normal"
	}));
	/* 1*65430(BrtStyle *FRT) */
	write_record(ba, "BrtEndStyles");
}

function write_DXFS_bin(ba) {
	var cnt = 0;

	write_record(ba, "BrtBeginDXFs", write_UInt32LE(cnt));
	/* *2147483647(BrtDXF *FRT) */
	write_record(ba, "BrtEndDXFs");
}

function write_TABLESTYLES_bin(ba) {
	var cnt = 0;

	write_record(ba, "BrtBeginTableStyles", write_BrtBeginTableStyles(cnt, "TableStyleMedium9", "PivotStyleMedium4"));
	/* *TABLESTYLE */
	write_record(ba, "BrtEndTableStyles");
}

function write_COLORPALETTE_bin() {
	return;
	/* BrtBeginColorPalette [INDEXEDCOLORS] [MRUCOLORS] BrtEndColorPalette */
}

/* [MS-XLSB] 2.1.7.50 Styles */
function write_sty_bin(wb, opts) {
	var ba = buf_array();
	write_record(ba, "BrtBeginStyleSheet");
	write_FMTS_bin(ba, wb.SSF);
	write_FONTS_bin(ba, wb);
	write_FILLS_bin(ba, wb);
	write_BORDERS_bin(ba, wb);
	write_CELLSTYLEXFS_bin(ba, wb);
	write_CELLXFS_bin(ba, opts.cellXfs);
	write_STYLES_bin(ba, wb);
	write_DXFS_bin(ba, wb);
	write_TABLESTYLES_bin(ba, wb);
	write_COLORPALETTE_bin(ba, wb);
	/* FRTSTYLESHEET*/
	write_record(ba, "BrtEndStyleSheet");
	return ba.end();
}
RELS.THEME = "http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme";

/* 20.1.6.2 clrScheme CT_ColorScheme */
function parse_clrScheme(t, themes, opts) {
	themes.themeElements.clrScheme = [];
	var color = {};
	(t[0].match(tagregex)||[]).forEach(function(x) {
		var y = parsexmltag(x);
		switch(y[0]) {
			/* 20.1.6.2 clrScheme (Color Scheme) CT_ColorScheme */
			case '<a:clrScheme': case '</a:clrScheme>': break;

			/* 20.1.2.3.32 srgbClr CT_SRgbColor */
			case '<a:srgbClr':
				color.rgb = y.val; break;

			/* 20.1.2.3.33 sysClr CT_SystemColor */
			case '<a:sysClr':
				color.rgb = y.lastClr; break;

			/* 20.1.4.1.1 accent1 (Accent 1) */
			/* 20.1.4.1.2 accent2 (Accent 2) */
			/* 20.1.4.1.3 accent3 (Accent 3) */
			/* 20.1.4.1.4 accent4 (Accent 4) */
			/* 20.1.4.1.5 accent5 (Accent 5) */
			/* 20.1.4.1.6 accent6 (Accent 6) */
			/* 20.1.4.1.9 dk1 (Dark 1) */
			/* 20.1.4.1.10 dk2 (Dark 2) */
			/* 20.1.4.1.15 folHlink (Followed Hyperlink) */
			/* 20.1.4.1.19 hlink (Hyperlink) */
			/* 20.1.4.1.22 lt1 (Light 1) */
			/* 20.1.4.1.23 lt2 (Light 2) */
			case '<a:dk1>': case '</a:dk1>':
			case '<a:lt1>': case '</a:lt1>':
			case '<a:dk2>': case '</a:dk2>':
			case '<a:lt2>': case '</a:lt2>':
			case '<a:accent1>': case '</a:accent1>':
			case '<a:accent2>': case '</a:accent2>':
			case '<a:accent3>': case '</a:accent3>':
			case '<a:accent4>': case '</a:accent4>':
			case '<a:accent5>': case '</a:accent5>':
			case '<a:accent6>': case '</a:accent6>':
			case '<a:hlink>': case '</a:hlink>':
			case '<a:folHlink>': case '</a:folHlink>':
				if (y[0].charAt(1) === '/') {
					themes.themeElements.clrScheme.push(color);
					color = {};
				} else {
					color.name = y[0].slice(3, y[0].length - 1);
				}
				break;

			default: if(opts && opts.WTF) throw new Error('Unrecognized ' + y[0] + ' in clrScheme');
		}
	});
}

/* 20.1.4.1.18 fontScheme CT_FontScheme */
function parse_fontScheme() { }

/* 20.1.4.1.15 fmtScheme CT_StyleMatrix */
function parse_fmtScheme() { }

var clrsregex = /<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/;
var fntsregex = /<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/;
var fmtsregex = /<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;

/* 20.1.6.10 themeElements CT_BaseStyles */
function parse_themeElements(data, themes, opts) {
	themes.themeElements = {};

	var t;

	[
		/* clrScheme CT_ColorScheme */
		['clrScheme', clrsregex, parse_clrScheme],
		/* fontScheme CT_FontScheme */
		['fontScheme', fntsregex, parse_fontScheme],
		/* fmtScheme CT_StyleMatrix */
		['fmtScheme', fmtsregex, parse_fmtScheme]
	].forEach(function(m) {
		if(!(t=data.match(m[1]))) throw new Error(m[0] + ' not found in themeElements');
		m[2](t, themes, opts);
	});
}

var themeltregex = /<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;

/* 14.2.7 Theme Part */
function parse_theme_xml(data, opts) {
	/* 20.1.6.9 theme CT_OfficeStyleSheet */
	if(!data || data.length === 0) return parse_theme_xml(write_theme());

	var t;
	var themes = {};

	/* themeElements CT_BaseStyles */
	if(!(t=data.match(themeltregex))) throw new Error('themeElements not found in theme');
	parse_themeElements(t[0], themes, opts);

	return themes;
}

function write_theme(Themes, opts) {
	if(opts && opts.themeXLSX) return opts.themeXLSX;
	var o = [XML_HEADER];
	o[o.length] = '<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">';
	o[o.length] =  '<a:themeElements>';

	o[o.length] =   '<a:clrScheme name="Office">';
	o[o.length] =    '<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>';
	o[o.length] =    '<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>';
	o[o.length] =    '<a:dk2><a:srgbClr val="1F497D"/></a:dk2>';
	o[o.length] =    '<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>';
	o[o.length] =    '<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>';
	o[o.length] =    '<a:accent2><a:srgbClr val="C0504D"/></a:accent2>';
	o[o.length] =    '<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>';
	o[o.length] =    '<a:accent4><a:srgbClr val="8064A2"/></a:accent4>';
	o[o.length] =    '<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>';
	o[o.length] =    '<a:accent6><a:srgbClr val="F79646"/></a:accent6>';
	o[o.length] =    '<a:hlink><a:srgbClr val="0000FF"/></a:hlink>';
	o[o.length] =    '<a:folHlink><a:srgbClr val="800080"/></a:folHlink>';
	o[o.length] =   '</a:clrScheme>';

	o[o.length] =   '<a:fontScheme name="Office">';
	o[o.length] =    '<a:majorFont>';
	o[o.length] =     '<a:latin typeface="Cambria"/>';
	o[o.length] =     '<a:ea typeface=""/>';
	o[o.length] =     '<a:cs typeface=""/>';
	o[o.length] =     '<a:font script="Jpan" typeface="ï¼­ï¼³ ï¼°ã´ã·ãã¯"/>';
	o[o.length] =     '<a:font script="Hang" typeface="ë§ì ê³ ë"/>';
	o[o.length] =     '<a:font script="Hans" typeface="å®ä½"/>';
	o[o.length] =     '<a:font script="Hant" typeface="æ°ç´°æé«"/>';
	o[o.length] =     '<a:font script="Arab" typeface="Times New Roman"/>';
	o[o.length] =     '<a:font script="Hebr" typeface="Times New Roman"/>';
	o[o.length] =     '<a:font script="Thai" typeface="Tahoma"/>';
	o[o.length] =     '<a:font script="Ethi" typeface="Nyala"/>';
	o[o.length] =     '<a:font script="Beng" typeface="Vrinda"/>';
	o[o.length] =     '<a:font script="Gujr" typeface="Shruti"/>';
	o[o.length] =     '<a:font script="Khmr" typeface="MoolBoran"/>';
	o[o.length] =     '<a:font script="Knda" typeface="Tunga"/>';
	o[o.length] =     '<a:font script="Guru" typeface="Raavi"/>';
	o[o.length] =     '<a:font script="Cans" typeface="Euphemia"/>';
	o[o.length] =     '<a:font script="Cher" typeface="Plantagenet Cherokee"/>';
	o[o.length] =     '<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>';
	o[o.length] =     '<a:font script="Tibt" typeface="Microsoft Himalaya"/>';
	o[o.length] =     '<a:font script="Thaa" typeface="MV Boli"/>';
	o[o.length] =     '<a:font script="Deva" typeface="Mangal"/>';
	o[o.length] =     '<a:font script="Telu" typeface="Gautami"/>';
	o[o.length] =     '<a:font script="Taml" typeface="Latha"/>';
	o[o.length] =     '<a:font script="Syrc" typeface="Estrangelo Edessa"/>';
	o[o.length] =     '<a:font script="Orya" typeface="Kalinga"/>';
	o[o.length] =     '<a:font script="Mlym" typeface="Kartika"/>';
	o[o.length] =     '<a:font script="Laoo" typeface="DokChampa"/>';
	o[o.length] =     '<a:font script="Sinh" typeface="Iskoola Pota"/>';
	o[o.length] =     '<a:font script="Mong" typeface="Mongolian Baiti"/>';
	o[o.length] =     '<a:font script="Viet" typeface="Times New Roman"/>';
	o[o.length] =     '<a:font script="Uigh" typeface="Microsoft Uighur"/>';
	o[o.length] =     '<a:font script="Geor" typeface="Sylfaen"/>';
	o[o.length] =    '</a:majorFont>';
	o[o.length] =    '<a:minorFont>';
	o[o.length] =     '<a:latin typeface="Calibri"/>';
	o[o.length] =     '<a:ea typeface=""/>';
	o[o.length] =     '<a:cs typeface=""/>';
	o[o.length] =     '<a:font script="Jpan" typeface="ï¼­ï¼³ ï¼°ã´ã·ãã¯"/>';
	o[o.length] =     '<a:font script="Hang" typeface="ë§ì ê³ ë"/>';
	o[o.length] =     '<a:font script="Hans" typeface="å®ä½"/>';
	o[o.length] =     '<a:font script="Hant" typeface="æ°ç´°æé«"/>';
	o[o.length] =     '<a:font script="Arab" typeface="Arial"/>';
	o[o.length] =     '<a:font script="Hebr" typeface="Arial"/>';
	o[o.length] =     '<a:font script="Thai" typeface="Tahoma"/>';
	o[o.length] =     '<a:font script="Ethi" typeface="Nyala"/>';
	o[o.length] =     '<a:font script="Beng" typeface="Vrinda"/>';
	o[o.length] =     '<a:font script="Gujr" typeface="Shruti"/>';
	o[o.length] =     '<a:font script="Khmr" typeface="DaunPenh"/>';
	o[o.length] =     '<a:font script="Knda" typeface="Tunga"/>';
	o[o.length] =     '<a:font script="Guru" typeface="Raavi"/>';
	o[o.length] =     '<a:font script="Cans" typeface="Euphemia"/>';
	o[o.length] =     '<a:font script="Cher" typeface="Plantagenet Cherokee"/>';
	o[o.length] =     '<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>';
	o[o.length] =     '<a:font script="Tibt" typeface="Microsoft Himalaya"/>';
	o[o.length] =     '<a:font script="Thaa" typeface="MV Boli"/>';
	o[o.length] =     '<a:font script="Deva" typeface="Mangal"/>';
	o[o.length] =     '<a:font script="Telu" typeface="Gautami"/>';
	o[o.length] =     '<a:font script="Taml" typeface="Latha"/>';
	o[o.length] =     '<a:font script="Syrc" typeface="Estrangelo Edessa"/>';
	o[o.length] =     '<a:font script="Orya" typeface="Kalinga"/>';
	o[o.length] =     '<a:font script="Mlym" typeface="Kartika"/>';
	o[o.length] =     '<a:font script="Laoo" typeface="DokChampa"/>';
	o[o.length] =     '<a:font script="Sinh" typeface="Iskoola Pota"/>';
	o[o.length] =     '<a:font script="Mong" typeface="Mongolian Baiti"/>';
	o[o.length] =     '<a:font script="Viet" typeface="Arial"/>';
	o[o.length] =     '<a:font script="Uigh" typeface="Microsoft Uighur"/>';
	o[o.length] =     '<a:font script="Geor" typeface="Sylfaen"/>';
	o[o.length] =    '</a:minorFont>';
	o[o.length] =   '</a:fontScheme>';

	o[o.length] =   '<a:fmtScheme name="Office">';
	o[o.length] =    '<a:fillStyleLst>';
	o[o.length] =     '<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>';
	o[o.length] =     '<a:gradFill rotWithShape="1">';
	o[o.length] =      '<a:gsLst>';
	o[o.length] =       '<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>';
	o[o.length] =       '<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>';
	o[o.length] =       '<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>';
	o[o.length] =      '</a:gsLst>';
	o[o.length] =      '<a:lin ang="16200000" scaled="1"/>';
	o[o.length] =     '</a:gradFill>';
	o[o.length] =     '<a:gradFill rotWithShape="1">';
	o[o.length] =      '<a:gsLst>';
	o[o.length] =       '<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>';
	o[o.length] =       '<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>';
	o[o.length] =      '</a:gsLst>';
	o[o.length] =      '<a:lin ang="16200000" scaled="0"/>';
	o[o.length] =     '</a:gradFill>';
	o[o.length] =    '</a:fillStyleLst>';
	o[o.length] =    '<a:lnStyleLst>';
	o[o.length] =     '<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>';
	o[o.length] =     '<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>';
	o[o.length] =     '<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>';
	o[o.length] =    '</a:lnStyleLst>';
	o[o.length] =    '<a:effectStyleLst>';
	o[o.length] =     '<a:effectStyle>';
	o[o.length] =      '<a:effectLst>';
	o[o.length] =       '<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>';
	o[o.length] =      '</a:effectLst>';
	o[o.length] =     '</a:effectStyle>';
	o[o.length] =     '<a:effectStyle>';
	o[o.length] =      '<a:effectLst>';
	o[o.length] =       '<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>';
	o[o.length] =      '</a:effectLst>';
	o[o.length] =     '</a:effectStyle>';
	o[o.length] =     '<a:effectStyle>';
	o[o.length] =      '<a:effectLst>';
	o[o.length] =       '<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>';
	o[o.length] =      '</a:effectLst>';
	o[o.length] =      '<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>';
	o[o.length] =      '<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>';
	o[o.length] =     '</a:effectStyle>';
	o[o.length] =    '</a:effectStyleLst>';
	o[o.length] =    '<a:bgFillStyleLst>';
	o[o.length] =     '<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>';
	o[o.length] =     '<a:gradFill rotWithShape="1">';
	o[o.length] =      '<a:gsLst>';
	o[o.length] =       '<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>';
	o[o.length] =       '<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>';
	o[o.length] =       '<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>';
	o[o.length] =      '</a:gsLst>';
	o[o.length] =      '<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>';
	o[o.length] =     '</a:gradFill>';
	o[o.length] =     '<a:gradFill rotWithShape="1">';
	o[o.length] =      '<a:gsLst>';
	o[o.length] =       '<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>';
	o[o.length] =       '<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>';
	o[o.length] =      '</a:gsLst>';
	o[o.length] =      '<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>';
	o[o.length] =     '</a:gradFill>';
	o[o.length] =    '</a:bgFillStyleLst>';
	o[o.length] =   '</a:fmtScheme>';
	o[o.length] =  '</a:themeElements>';

	o[o.length] =  '<a:objectDefaults>';
	o[o.length] =   '<a:spDef>';
	o[o.length] =    '<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>';
	o[o.length] =   '</a:spDef>';
	o[o.length] =   '<a:lnDef>';
	o[o.length] =    '<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>';
	o[o.length] =   '</a:lnDef>';
	o[o.length] =  '</a:objectDefaults>';
	o[o.length] =  '<a:extraClrSchemeLst/>';
	o[o.length] = '</a:theme>';
	return o.join("");
}
/* [MS-XLS] 2.4.326 TODO: payload is a zip file */
function parse_Theme(blob, length, opts) {
	var end = blob.l + length;
	var dwThemeVersion = blob.read_shift(4);
	if(dwThemeVersion === 124226) return;
	if(!opts.cellStyles || !jszip) { blob.l = end; return; }
	var data = blob.slice(blob.l);
	blob.l = end;
	var zip; try { zip = new jszip(data); } catch(e) { return; }
	var themeXML = getzipstr(zip, "theme/theme/theme1.xml", true);
	if(!themeXML) return;
	return parse_theme_xml(themeXML, opts);
}

/* 2.5.49 */
function parse_ColorTheme(blob) { return blob.read_shift(4); }

/* 2.5.155 */
function parse_FullColorExt(blob) {
	var o = {};
	o.xclrType = blob.read_shift(2);
	o.nTintShade = blob.read_shift(2);
	switch(o.xclrType) {
		case 0: blob.l += 4; break;
		case 1: o.xclrValue = parse_IcvXF(blob, 4); break;
		case 2: o.xclrValue = parse_LongRGBA(blob, 4); break;
		case 3: o.xclrValue = parse_ColorTheme(blob, 4); break;
		case 4: blob.l += 4; break;
	}
	blob.l += 8;
	return o;
}

/* 2.5.164 TODO: read 7 bits*/
function parse_IcvXF(blob, length) {
	return parsenoop(blob, length);
}

/* 2.5.280 */
function parse_XFExtGradient(blob, length) {
	return parsenoop(blob, length);
}

/* [MS-XLS] 2.5.108 */
function parse_ExtProp(blob) {
	var extType = blob.read_shift(2);
	var cb = blob.read_shift(2) - 4;
	var o = [extType];
	switch(extType) {
		case 0x04: case 0x05: case 0x07: case 0x08:
		case 0x09: case 0x0A: case 0x0B: case 0x0D:
			o[1] = parse_FullColorExt(blob, cb); break;
		case 0x06: o[1] = parse_XFExtGradient(blob, cb); break;
		case 0x0E: case 0x0F: o[1] = blob.read_shift(cb === 1 ? 1 : 2); break;
		default: throw new Error("Unrecognized ExtProp type: " + extType + " " + cb);
	}
	return o;
}

/* 2.4.355 */
function parse_XFExt(blob, length) {
	var end = blob.l + length;
	blob.l += 2;
	var ixfe = blob.read_shift(2);
	blob.l += 2;
	var cexts = blob.read_shift(2);
	var ext = [];
	while(cexts-- > 0) ext.push(parse_ExtProp(blob, end-blob.l));
	return {ixfe:ixfe, ext:ext};
}

/* xf is an XF, see parse_XFExt for xfext */
function update_xfext(xf, xfext) {
	xfext.forEach(function(xfe) {
		switch(xfe[0]) { /* 2.5.108 extPropData */
			case 0x04: break; /* foreground color */
			case 0x05: break; /* background color */
			case 0x06: break; /* gradient fill */
			case 0x07: break; /* top cell border color */
			case 0x08: break; /* bottom cell border color */
			case 0x09: break; /* left cell border color */
			case 0x0a: break; /* right cell border color */
			case 0x0b: break; /* diagonal cell border color */
			case 0x0d: break; /* text color */
			case 0x0e: break; /* font scheme */
			case 0x0f: break; /* indentation level */
		}
	});
}

/* 18.6 Calculation Chain */
function parse_cc_xml(data) {
	var d = [];
	if(!data) return d;
	var i = 1;
	(data.match(tagregex)||[]).forEach(function(x) {
		var y = parsexmltag(x);
		switch(y[0]) {
			case '<?xml': break;
			/* 18.6.2  calcChain CT_CalcChain 1 */
			case '<calcChain': case '<calcChain>': case '</calcChain>': break;
			/* 18.6.1  c CT_CalcCell 1 */
			case '<c': delete y[0]; if(y.i) i = y.i; else y.i = i; d.push(y); break;
		}
	});
	return d;
}

//function write_cc_xml(data, opts) { }

/* [MS-XLSB] 2.6.4.1 */
function parse_BrtCalcChainItem$(data) {
	var out = {};
	out.i = data.read_shift(4);
	var cell = {};
	cell.r = data.read_shift(4);
	cell.c = data.read_shift(4);
	out.r = encode_cell(cell);
	var flags = data.read_shift(1);
	if(flags & 0x2) out.l = '1';
	if(flags & 0x8) out.a = '1';
	return out;
}

/* 18.6 Calculation Chain */
function parse_cc_bin(data, name, opts) {
	var out = [];
	var pass = false;
	recordhopper(data, function hopper_cc(val, R_n, RT) {
		switch(RT) {
			case 0x003F: /* 'BrtCalcChainItem$' */
				out.push(val); break;

			default:
				if((R_n||"").indexOf("Begin") > 0){/* empty */}
				else if((R_n||"").indexOf("End") > 0){/* empty */}
				else if(!pass || opts.WTF) throw new Error("Unexpected record " + RT + " " + R_n);
		}
	});
	return out;
}

//function write_cc_bin(data, opts) { }
/* 18.14 Supplementary Workbook Data */
function parse_xlink_xml() {
	//var opts = _opts || {};
	//if(opts.WTF) throw "XLSX External Link";
}

/* [MS-XLSB] 2.1.7.25 External Link */
function parse_xlink_bin(data, name, _opts) {
	if(!data) return data;
	var opts = _opts || {};

	var pass = false, end = false;

	recordhopper(data, function xlink_parse(val, R_n, RT) {
		if(end) return;
		switch(RT) {
			case 0x0167: /* 'BrtSupTabs' */
			case 0x016B: /* 'BrtExternTableStart' */
			case 0x016C: /* 'BrtExternTableEnd' */
			case 0x016E: /* 'BrtExternRowHdr' */
			case 0x016F: /* 'BrtExternCellBlank' */
			case 0x0170: /* 'BrtExternCellReal' */
			case 0x0171: /* 'BrtExternCellBool' */
			case 0x0172: /* 'BrtExternCellError' */
			case 0x0173: /* 'BrtExternCellString' */
			case 0x01D8: /* 'BrtExternValueMeta' */
			case 0x0241: /* 'BrtSupNameStart' */
			case 0x0242: /* 'BrtSupNameValueStart' */
			case 0x0243: /* 'BrtSupNameValueEnd' */
			case 0x0244: /* 'BrtSupNameNum' */
			case 0x0245: /* 'BrtSupNameErr' */
			case 0x0246: /* 'BrtSupNameSt' */
			case 0x0247: /* 'BrtSupNameNil' */
			case 0x0248: /* 'BrtSupNameBool' */
			case 0x0249: /* 'BrtSupNameFmla' */
			case 0x024A: /* 'BrtSupNameBits' */
			case 0x024B: /* 'BrtSupNameEnd' */
				break;

			case 0x0023: /* 'BrtFRTBegin' */
				pass = true; break;
			case 0x0024: /* 'BrtFRTEnd' */
				pass = false; break;

			default:
				if((R_n||"").indexOf("Begin") > 0){/* empty */}
				else if((R_n||"").indexOf("End") > 0){/* empty */}
				else if(!pass || opts.WTF) throw new Error("Unexpected record " + RT.toString(16) + " " + R_n);
		}
	}, opts);
}
RELS.IMG = "http://schemas.openxmlformats.org/officeDocument/2006/relationships/image";
RELS.DRAW = "http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing";
/* 20.5 DrawingML - SpreadsheetML Drawing */
function parse_drawing(data, rels) {
	if(!data) return "??";
	/*
	  Chartsheet Drawing:
	   - 20.5.2.35 wsDr CT_Drawing
	    - 20.5.2.1  absoluteAnchor CT_AbsoluteAnchor
	     - 20.5.2.16 graphicFrame CT_GraphicalObjectFrame
	      - 20.1.2.2.16 graphic CT_GraphicalObject
	       - 20.1.2.2.17 graphicData CT_GraphicalObjectData
          - chart reference
	   the actual type is based on the URI of the graphicData
		TODO: handle embedded charts and other types of graphics
	*/
	var id = (data.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];

	return rels['!id'][id].Target;
}

/* L.5.5.2 SpreadsheetML Comments + VML Schema */
var _shapeid = 1024;
function write_comments_vml(rId, comments) {
	var csize = [21600, 21600];
	/* L.5.2.1.2 Path Attribute */
	var bbox = ["m0,0l0",csize[1],csize[0],csize[1],csize[0],"0xe"].join(",");
	var o = [
		writextag("xml", null, { 'xmlns:v': XLMLNS.v, 'xmlns:o': XLMLNS.o, 'xmlns:x': XLMLNS.x, 'xmlns:mv': XLMLNS.mv }).replace(/\/>/,">"),
		writextag("o:shapelayout", writextag("o:idmap", null, {'v:ext':"edit", 'data':rId}), {'v:ext':"edit"}),
		writextag("v:shapetype", [
			writextag("v:stroke", null, {joinstyle:"miter"}),
			writextag("v:path", null, {gradientshapeok:"t", 'o:connecttype':"rect"})
		].join(""), {id:"_x0000_t202", 'o:spt':202, coordsize:csize.join(","),path:bbox})
	];
	while(_shapeid < rId * 1000) _shapeid += 1000;

	comments.forEach(function(x) { var c = decode_cell(x[0]);
	o = o.concat([
	'<v:shape' + wxt_helper({
		id:'_x0000_s' + (++_shapeid),
		type:"#_x0000_t202",
		style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10" + (x[1].hidden ? ";visibility:hidden" : "") ,
		fillcolor:"#ECFAD4",
		strokecolor:"#edeaa1"
	}) + '>',
		writextag('v:fill', writextag("o:fill", null, {type:"gradientUnscaled", 'v:ext':"view"}), {'color2':"#BEFF82", 'angle':"-180", 'type':"gradient"}),
		writextag("v:shadow", null, {on:"t", 'obscured':"t"}),
		writextag("v:path", null, {'o:connecttype':"none"}),
		'<v:textbox><div style="text-align:left"></div></v:textbox>',
		'<x:ClientData ObjectType="Note">',
			'<x:MoveWithCells/>',
			'<x:SizeWithCells/>',
			/* Part 4 19.4.2.3 Anchor (Anchor) */
			writetag('x:Anchor', [c.c, 0, c.r, 0, c.c+3, 100, c.r+5, 100].join(",")),
			writetag('x:AutoFill', "False"),
			writetag('x:Row', String(c.r)),
			writetag('x:Column', String(c.c)),
			x[1].hidden ? '' : '<x:Visible/>',
		'</x:ClientData>',
	'</v:shape>'
	]); });
	o.push('</xml>');
	return o.join("");
}

RELS.CMNT = "http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments";

function parse_comments(zip, dirComments, sheets, sheetRels, opts) {
	for(var i = 0; i != dirComments.length; ++i) {
		var canonicalpath=dirComments[i];
		var comments=parse_cmnt(getzipdata(zip, canonicalpath.replace(/^\//,''), true), canonicalpath, opts);
		if(!comments || !comments.length) continue;
		// find the sheets targeted by these comments
		var sheetNames = keys(sheets);
		for(var j = 0; j != sheetNames.length; ++j) {
			var sheetName = sheetNames[j];
			var rels = sheetRels[sheetName];
			if(rels) {
				var rel = rels[canonicalpath];
				if(rel) insertCommentsIntoSheet(sheetName, sheets[sheetName], comments);
			}
		}
	}
}

function insertCommentsIntoSheet(sheetName, sheet, comments) {
	var dense = Array.isArray(sheet);
	var cell, r;
	comments.forEach(function(comment) {
		if(dense) {
			r = decode_cell(comment.ref);
			if(!sheet[r.r]) sheet[r.r] = [];
			cell = sheet[r.r][r.c];
		} else cell = sheet[comment.ref];
		if (!cell) {
			cell = {};
			if(dense) sheet[r.r][r.c] = cell;
			else sheet[comment.ref] = cell;
			var range = safe_decode_range(sheet["!ref"]||"BDWGO1000001:A1");
			var thisCell = decode_cell(comment.ref);
			if(range.s.r > thisCell.r) range.s.r = thisCell.r;
			if(range.e.r < thisCell.r) range.e.r = thisCell.r;
			if(range.s.c > thisCell.c) range.s.c = thisCell.c;
			if(range.e.c < thisCell.c) range.e.c = thisCell.c;
			var encoded = encode_range(range);
			if (encoded !== sheet["!ref"]) sheet["!ref"] = encoded;
		}

		if (!cell.c) cell.c = [];
		var o = ({a: comment.author, t: comment.t, r: comment.r});
		if(comment.h) o.h = comment.h;
		cell.c.push(o);
	});
}

/* 18.7 Comments */
function parse_comments_xml(data, opts) {
	/* 18.7.6 CT_Comments */
	if(data.match(/<(?:\w+:)?comments *\/>/)) return [];
	var authors = [];
	var commentList = [];
	var authtag = data.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);
	if(authtag && authtag[1]) authtag[1].split(/<\/\w*:?author>/).forEach(function(x) {
		if(x === "" || x.trim() === "") return;
		var a = x.match(/<(?:\w+:)?author[^>]*>(.*)/);
		if(a) authors.push(a[1]);
	});
	var cmnttag = data.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);
	if(cmnttag && cmnttag[1]) cmnttag[1].split(/<\/\w*:?comment>/).forEach(function(x) {
		if(x === "" || x.trim() === "") return;
		var cm = x.match(/<(?:\w+:)?comment[^>]*>/);
		if(!cm) return;
		var y = parsexmltag(cm[0]);
		var comment = ({ author: y.authorId && authors[y.authorId] || "sheetjsghost", ref: y.ref, guid: y.guid });
		var cell = decode_cell(y.ref);
		if(opts.sheetRows && opts.sheetRows <= cell.r) return;
		var textMatch = x.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/);
		var rt = !!textMatch && !!textMatch[1] && parse_si(textMatch[1]) || {r:"",t:"",h:""};
		comment.r = rt.r;
		if(rt.r == "<t></t>") rt.t = rt.h = "";
		comment.t = rt.t.replace(/\r\n/g,"\n").replace(/\r/g,"\n");
		if(opts.cellHTML) comment.h = rt.h;
		commentList.push(comment);
	});
	return commentList;
}

var CMNT_XML_ROOT = writextag('comments', null, { 'xmlns': XMLNS.main[0] });
function write_comments_xml(data) {
	var o = [XML_HEADER, CMNT_XML_ROOT];

	var iauthor = [];
	o.push("<authors>");
	data.forEach(function(x) { x[1].forEach(function(w) { var a = escapexml(w.a);
		if(iauthor.indexOf(a) > -1) return;
		iauthor.push(a);
		o.push("<author>" + a + "</author>");
	}); });
	o.push("</authors>");
	o.push("<commentList>");
	data.forEach(function(d) {
		d[1].forEach(function(c) {
			/* 18.7.3 CT_Comment */
			o.push('<comment ref="' + d[0] + '" authorId="' + iauthor.indexOf(escapexml(c.a)) + '"><text>');
			o.push(writetag("t", c.t == null ? "" : c.t));
			o.push('</text></comment>');
		});
	});
	o.push("</commentList>");
	if(o.length>2) { o[o.length] = ('</comments>'); o[1]=o[1].replace("/>",">"); }
	return o.join("");
}
/* [MS-XLSB] 2.4.28 BrtBeginComment */
function parse_BrtBeginComment(data) {
	var out = {};
	out.iauthor = data.read_shift(4);
	var rfx = parse_UncheckedRfX(data, 16);
	out.rfx = rfx.s;
	out.ref = encode_cell(rfx.s);
	data.l += 16; /*var guid = parse_GUID(data); */
	return out;
}
function write_BrtBeginComment(data, o) {
	if(o == null) o = new_buf(36);
	o.write_shift(4, data[1].iauthor);
	write_UncheckedRfX((data[0]), o);
	o.write_shift(4, 0);
	o.write_shift(4, 0);
	o.write_shift(4, 0);
	o.write_shift(4, 0);
	return o;
}

/* [MS-XLSB] 2.4.327 BrtCommentAuthor */
var parse_BrtCommentAuthor = parse_XLWideString;
function write_BrtCommentAuthor(data) { return write_XLWideString(data.slice(0, 54)); }

/* [MS-XLSB] 2.1.7.8 Comments */
function parse_comments_bin(data, opts) {
	var out = [];
	var authors = [];
	var c = {};
	var pass = false;
	recordhopper(data, function hopper_cmnt(val, R_n, RT) {
		switch(RT) {
			case 0x0278: /* 'BrtCommentAuthor' */
				authors.push(val); break;
			case 0x027B: /* 'BrtBeginComment' */
				c = val; break;
			case 0x027D: /* 'BrtCommentText' */
				c.t = val.t; c.h = val.h; c.r = val.r; break;
			case 0x027C: /* 'BrtEndComment' */
				c.author = authors[c.iauthor];
				delete c.iauthor;
				if(opts.sheetRows && opts.sheetRows <= c.rfx.r) break;
				if(!c.t) c.t = "";
				delete c.rfx; out.push(c); break;

			case 0x0C00: /* 'BrtUid' */
				break;

			case 0x0023: /* 'BrtFRTBegin' */
				pass = true; break;
			case 0x0024: /* 'BrtFRTEnd' */
				pass = false; break;
			case 0x0025: /* 'BrtACBegin' */ break;
			case 0x0026: /* 'BrtACEnd' */ break;


			default:
				if((R_n||"").indexOf("Begin") > 0){/* empty */}
				else if((R_n||"").indexOf("End") > 0){/* empty */}
				else if(!pass || opts.WTF) throw new Error("Unexpected record " + RT + " " + R_n);
		}
	});
	return out;
}

function write_comments_bin(data) {
	var ba = buf_array();
	var iauthor = [];
	write_record(ba, "BrtBeginComments");

	write_record(ba, "BrtBeginCommentAuthors");
	data.forEach(function(comment) {
		comment[1].forEach(function(c) {
			if(iauthor.indexOf(c.a) > -1) return;
			iauthor.push(c.a.slice(0,54));
			write_record(ba, "BrtCommentAuthor", write_BrtCommentAuthor(c.a));
		});
	});
	write_record(ba, "BrtEndCommentAuthors");

	write_record(ba, "BrtBeginCommentList");
	data.forEach(function(comment) {
		comment[1].forEach(function(c) {
			c.iauthor = iauthor.indexOf(c.a);
			var range = {s:decode_cell(comment[0]),e:decode_cell(comment[0])};
			write_record(ba, "BrtBeginComment", write_BrtBeginComment([range, c]));
			if(c.t && c.t.length > 0) write_record(ba, "BrtCommentText", write_BrtCommentText(c));
			write_record(ba, "BrtEndComment");
			delete c.iauthor;
		});
	});
	write_record(ba, "BrtEndCommentList");

	write_record(ba, "BrtEndComments");
	return ba.end();
}
var CT_VBA = "application/vnd.ms-office.vbaProject";
function make_vba_xls(cfb) {
	var newcfb = CFB.utils.cfb_new({root:"R"});
	cfb.FullPaths.forEach(function(p, i) {
		if(p.slice(-1) === "/" || !p.match(/_VBA_PROJECT_CUR/)) return;
		var newpath = p.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/, "");
		CFB.utils.cfb_add(newcfb, newpath, cfb.FileIndex[i].content);
	});
	return CFB.write(newcfb);
}

function fill_vba_xls(cfb, vba) {
	vba.FullPaths.forEach(function(p, i) {
		if(i == 0) return;
		var newpath = p.replace(/[^\/]*[\/]/, "/_VBA_PROJECT_CUR/");
		if(newpath.slice(-1) !== "/") CFB.utils.cfb_add(cfb, newpath, vba.FileIndex[i].content);
	});
}

var VBAFMTS = [ "xlsb", "xlsm", "xlam", "biff8", "xla" ];

RELS.DS = "http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet";
RELS.MS = "http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet";

/* macro and dialog sheet stubs */
function parse_ds_bin() { return {'!type':'dialog'}; }
function parse_ds_xml() { return {'!type':'dialog'}; }
function parse_ms_bin() { return {'!type':'macro'}; }
function parse_ms_xml() { return {'!type':'macro'}; }
/* TODO: it will be useful to parse the function str */
var rc_to_a1 = (function(){
	var rcregex = /(^|[^A-Za-z])R(\[?)(-?\d+|)\]?C(\[?)(-?\d+|)\]?/g;
	var rcbase = ({r:0,c:0});
	function rcfunc($$,$1,$2,$3,$4,$5) {
		var R = $3.length>0?parseInt($3,10)|0:0, C = $5.length>0?parseInt($5,10)|0:0;
		if(C<0 && $4.length === 0) C=0;
		var cRel = false, rRel = false;
		if($4.length > 0 || $5.length == 0) cRel = true; if(cRel) C += rcbase.c; else --C;
		if($2.length > 0 || $3.length == 0) rRel = true; if(rRel) R += rcbase.r; else --R;
		return $1 + (cRel ? "" : "$") + encode_col(C) + (rRel ? "" : "$") + encode_row(R);
	}
	return function rc_to_a1(fstr, base) {
		rcbase = base;
		return fstr.replace(rcregex, rcfunc);
	};
})();

var crefregex = /(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)([1-9]\d{0,5}|10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6])(?![_.\(A-Za-z0-9])/g;
var a1_to_rc =(function(){
	return function a1_to_rc(fstr, base) {
		return fstr.replace(crefregex, function($0, $1, $2, $3, $4, $5) {
			var c = decode_col($3) - ($2 ? 0 : base.c);
			var r = decode_row($5) - ($4 ? 0 : base.r);
			var R = (r == 0 ? "" : !$4 ? "[" + r + "]" : (r+1));
			var C = (c == 0 ? "" : !$2 ? "[" + c + "]" : (c+1));
			return $1 + "R" + R + "C" + C;
		});
	};
})();

/* no defined name can collide with a valid cell address A1:XFD1048576 ... except LOG10! */
function shift_formula_str(f, delta) {
	return f.replace(crefregex, function($0, $1, $2, $3, $4, $5) {
		return $1+($2=="$" ? $2+$3 : encode_col(decode_col($3)+delta.c))+($4=="$" ? $4+$5 : encode_row(decode_row($5) + delta.r));
	});
}

function shift_formula_xlsx(f, range, cell) {
	var r = decode_range(range), s = r.s, c = decode_cell(cell);
	var delta = {r:c.r - s.r, c:c.c - s.c};
	return shift_formula_str(f, delta);
}

/* TODO: parse formula */
function fuzzyfmla(f) {
	if(f.length == 1) return false;
	return true;
}

function _xlfn(f) {
	return f.replace(/_xlfn\./g,"");
}
function parseread1(blob) { blob.l+=1; return; }

/* [MS-XLS] 2.5.51 */
function parse_ColRelU(blob, length) {
	var c = blob.read_shift(length == 1 ? 1 : 2);
	return [c & 0x3FFF, (c >> 14) & 1, (c >> 15) & 1];
}

/* [MS-XLS] 2.5.198.105 ; [MS-XLSB] 2.5.97.89 */
function parse_RgceArea(blob, length, opts) {
	var w = 2;
	if(opts) {
		if(opts.biff >= 2 && opts.biff <= 5) return parse_RgceArea_BIFF2(blob, length, opts);
		else if(opts.biff == 12) w = 4;
	}
	var r=blob.read_shift(w), R=blob.read_shift(w);
	var c=parse_ColRelU(blob, 2);
	var C=parse_ColRelU(blob, 2);
	return { s:{r:r, c:c[0], cRel:c[1], rRel:c[2]}, e:{r:R, c:C[0], cRel:C[1], rRel:C[2]} };
}
/* BIFF 2-5 encodes flags in the row field */
function parse_RgceArea_BIFF2(blob) {
	var r=parse_ColRelU(blob, 2), R=parse_ColRelU(blob, 2);
	var c=blob.read_shift(1);
	var C=blob.read_shift(1);
	return { s:{r:r[0], c:c, cRel:r[1], rRel:r[2]}, e:{r:R[0], c:C, cRel:R[1], rRel:R[2]} };
}

/* [MS-XLS] 2.5.198.105 ; [MS-XLSB] 2.5.97.90 */
function parse_RgceAreaRel(blob, length, opts) {
	if(opts.biff < 8) return parse_RgceArea_BIFF2(blob, length, opts);
	var r=blob.read_shift(opts.biff == 12 ? 4 : 2), R=blob.read_shift(opts.biff == 12 ? 4 : 2);
	var c=parse_ColRelU(blob, 2);
	var C=parse_ColRelU(blob, 2);
	return { s:{r:r, c:c[0], cRel:c[1], rRel:c[2]}, e:{r:R, c:C[0], cRel:C[1], rRel:C[2]} };
}

/* [MS-XLS] 2.5.198.109 ; [MS-XLSB] 2.5.97.91 */
function parse_RgceLoc(blob, length, opts) {
	if(opts && opts.biff >= 2 && opts.biff <= 5) return parse_RgceLoc_BIFF2(blob, length, opts);
	var r = blob.read_shift(opts && opts.biff == 12 ? 4 : 2);
	var c = parse_ColRelU(blob, 2);
	return {r:r, c:c[0], cRel:c[1], rRel:c[2]};
}
function parse_RgceLoc_BIFF2(blob) {
	var r = parse_ColRelU(blob, 2);
	var c = blob.read_shift(1);
	return {r:r[0], c:c, cRel:r[1], rRel:r[2]};
}

/* [MS-XLS] 2.5.198.107, 2.5.47 */
function parse_RgceElfLoc(blob) {
	var r = blob.read_shift(2);
	var c = blob.read_shift(2);
	return {r:r, c:c & 0xFF, fQuoted:!!(c & 0x4000), cRel:c>>15, rRel:c>>15 };
}

/* [MS-XLS] 2.5.198.111 ; [MS-XLSB] 2.5.97.92 TODO */
function parse_RgceLocRel(blob, length, opts) {
	var biff = opts && opts.biff ? opts.biff : 8;
	if(biff >= 2 && biff <= 5) return parse_RgceLocRel_BIFF2(blob, length, opts);
	var r = blob.read_shift(biff >= 12 ? 4 : 2);
	var cl = blob.read_shift(2);
	var cRel = (cl & 0x4000) >> 14, rRel = (cl & 0x8000) >> 15;
	cl &= 0x3FFF;
	if(rRel == 1) while(r > 0x7FFFF) r -= 0x100000;
	if(cRel == 1) while(cl > 0x1FFF) cl = cl - 0x4000;
	return {r:r,c:cl,cRel:cRel,rRel:rRel};
}
function parse_RgceLocRel_BIFF2(blob) {
	var rl = blob.read_shift(2);
	var c = blob.read_shift(1);
	var rRel = (rl & 0x8000) >> 15, cRel = (rl & 0x4000) >> 14;
	rl &= 0x3FFF;
	if(rRel == 1 && rl >= 0x2000) rl = rl - 0x4000;
	if(cRel == 1 && c >= 0x80) c = c - 0x100;
	return {r:rl,c:c,cRel:cRel,rRel:rRel};
}

/* [MS-XLS] 2.5.198.27 ; [MS-XLSB] 2.5.97.18 */
function parse_PtgArea(blob, length, opts) {
	var type = (blob[blob.l++] & 0x60) >> 5;
	var area = parse_RgceArea(blob, opts.biff >= 2 && opts.biff <= 5 ? 6 : 8, opts);
	return [type, area];
}

/* [MS-XLS] 2.5.198.28 ; [MS-XLSB] 2.5.97.19 */
function parse_PtgArea3d(blob, length, opts) {
	var type = (blob[blob.l++] & 0x60) >> 5;
	var ixti = blob.read_shift(2, 'i');
	var w = 8;
	if(opts) switch(opts.biff) {
		case 5: blob.l += 12; w = 6; break;
		case 12: w = 12; break;
	}
	var area = parse_RgceArea(blob, w, opts);
	return [type, ixti, area];
}

/* [MS-XLS] 2.5.198.29 ; [MS-XLSB] 2.5.97.20 */
function parse_PtgAreaErr(blob, length, opts) {
	var type = (blob[blob.l++] & 0x60) >> 5;
	blob.l += opts && (opts.biff > 8) ? 12 : (opts.biff < 8 ? 6 : 8);
	return [type];
}
/* [MS-XLS] 2.5.198.30 ; [MS-XLSB] 2.5.97.21 */
function parse_PtgAreaErr3d(blob, length, opts) {
	var type = (blob[blob.l++] & 0x60) >> 5;
	var ixti = blob.read_shift(2);
	var w = 8;
	if(opts) switch(opts.biff) {
		case 5: blob.l += 12; w = 6; break;
		case 12: w = 12; break;
	}
	blob.l += w;
	return [type, ixti];
}

/* [MS-XLS] 2.5.198.31 ; [MS-XLSB] 2.5.97.22 */
function parse_PtgAreaN(blob, length, opts) {
	var type = (blob[blob.l++] & 0x60) >> 5;
	var area = parse_RgceAreaRel(blob, length - 1, opts);
	return [type, area];
}

/* [MS-XLS] 2.5.198.32 ; [MS-XLSB] 2.5.97.23 */
function parse_PtgArray(blob, length, opts) {
	var type = (blob[blob.l++] & 0x60) >> 5;
	blob.l += opts.biff == 2 ? 6 : opts.biff == 12 ? 14 : 7;
	return [type];
}

/* [MS-XLS] 2.5.198.33 ; [MS-XLSB] 2.5.97.24 */
function parse_PtgAttrBaxcel(blob) {
	var bitSemi = blob[blob.l+1] & 0x01; /* 1 = volatile */
	var bitBaxcel = 1;
	blob.l += 4;
	return [bitSemi, bitBaxcel];
}

/* [MS-XLS] 2.5.198.34 ; [MS-XLSB] 2.5.97.25 */
function parse_PtgAttrChoose(blob, length, opts) {
	blob.l +=2;
	var offset = blob.read_shift(opts && opts.biff == 2 ? 1 : 2);
	var o = [];
	/* offset is 1 less than the number of elements */
	for(var i = 0; i <= offset; ++i) o.push(blob.read_shift(opts && opts.biff == 2 ? 1 : 2));
	return o;
}

/* [MS-XLS] 2.5.198.35 ; [MS-XLSB] 2.5.97.26 */
function parse_PtgAttrGoto(blob, length, opts) {
	var bitGoto = (blob[blob.l+1] & 0xFF) ? 1 : 0;
	blob.l += 2;
	return [bitGoto, blob.read_shift(opts && opts.biff == 2 ? 1 : 2)];
}

/* [MS-XLS] 2.5.198.36 ; [MS-XLSB] 2.5.97.27 */
function parse_PtgAttrIf(blob, length, opts) {
	var bitIf = (blob[blob.l+1] & 0xFF) ? 1 : 0;
	blob.l += 2;
	return [bitIf, blob.read_shift(opts && opts.biff == 2 ? 1 : 2)];
}

/* [MS-XLSB] 2.5.97.28 */
function parse_PtgAttrIfError(blob) {
	var bitIf = (blob[blob.l+1] & 0xFF) ? 1 : 0;
	blob.l += 2;
	return [bitIf, blob.read_shift(2)];
}

/* [MS-XLS] 2.5.198.37 ; [MS-XLSB] 2.5.97.29 */
function parse_PtgAttrSemi(blob, length, opts) {
	var bitSemi = (blob[blob.l+1] & 0xFF) ? 1 : 0;
	blob.l += opts && opts.biff == 2 ? 3 : 4;
	return [bitSemi];
}

/* [MS-XLS] 2.5.198.40 ; [MS-XLSB] 2.5.97.32 */
function parse_PtgAttrSpaceType(blob) {
	var type = blob.read_shift(1), cch = blob.read_shift(1);
	return [type, cch];
}

/* [MS-XLS] 2.5.198.38 ; [MS-XLSB] 2.5.97.30 */
function parse_PtgAttrSpace(blob) {
	blob.read_shift(2);
	return parse_PtgAttrSpaceType(blob, 2);
}

/* [MS-XLS] 2.5.198.39 ; [MS-XLSB] 2.5.97.31 */
function parse_PtgAttrSpaceSemi(blob) {
	blob.read_shift(2);
	return parse_PtgAttrSpaceType(blob, 2);
}

/* [MS-XLS] 2.5.198.84 ; [MS-XLSB] 2.5.97.68 TODO */
function parse_PtgRef(blob, length, opts) {
	//var ptg = blob[blob.l] & 0x1F;
	var type = (blob[blob.l] & 0x60)>>5;
	blob.l += 1;
	var loc = parse_RgceLoc(blob, 0, opts);
	return [type, loc];
}

/* [MS-XLS] 2.5.198.88 ; [MS-XLSB] 2.5.97.72 TODO */
function parse_PtgRefN(blob, length, opts) {
	var type = (blob[blob.l] & 0x60)>>5;
	blob.l += 1;
	var loc = parse_RgceLocRel(blob, 0, opts);
	return [type, loc];
}

/* [MS-XLS] 2.5.198.85 ; [MS-XLSB] 2.5.97.69 TODO */
function parse_PtgRef3d(blob, length, opts) {
	var type = (blob[blob.l] & 0x60)>>5;
	blob.l += 1;
	var ixti = blob.read_shift(2); // XtiIndex
	if(opts && opts.biff == 5) blob.l += 12;
	var loc = parse_RgceLoc(blob, 0, opts); // TODO: or RgceLocRel
	return [type, ixti, loc];
}


/* [MS-XLS] 2.5.198.62 ; [MS-XLSB] 2.5.97.45 TODO */
function parse_PtgFunc(blob, length, opts) {
	//var ptg = blob[blob.l] & 0x1F;
	var type = (blob[blob.l] & 0x60)>>5;
	blob.l += 1;
	var iftab = blob.read_shift(opts && opts.biff <= 3 ? 1 : 2);
	return [FtabArgc[iftab], Ftab[iftab], type];
}
/* [MS-XLS] 2.5.198.63 ; [MS-XLSB] 2.5.97.46 TODO */
function parse_PtgFuncVar(blob, length, opts) {
	var type = blob[blob.l++];
	var cparams = blob.read_shift(1), tab = opts && opts.biff <= 3 ? [(type == 0x58 ? -1 : 0), blob.read_shift(1)]: parsetab(blob);
	return [cparams, (tab[0] === 0 ? Ftab : Cetab)[tab[1]]];
}

function parsetab(blob) {
	return [blob[blob.l+1]>>7, blob.read_shift(2) & 0x7FFF];
}

/* [MS-XLS] 2.5.198.41 ; [MS-XLSB] 2.5.97.33 */
function parse_PtgAttrSum(blob, length, opts) {
	blob.l += opts && opts.biff == 2 ? 3 : 4; return;
}

/* [MS-XLS] 2.5.198.58 ; [MS-XLSB] 2.5.97.40 */
function parse_PtgExp(blob, length, opts) {
	blob.l++;
	if(opts && opts.biff == 12) return [blob.read_shift(4, 'i'), 0];
	var row = blob.read_shift(2);
	var col = blob.read_shift(opts && opts.biff == 2 ? 1 : 2);
	return [row, col];
}

/* [MS-XLS] 2.5.198.57 ; [MS-XLSB] 2.5.97.39 */
function parse_PtgErr(blob) { blob.l++; return BErr[blob.read_shift(1)]; }

/* [MS-XLS] 2.5.198.66 ; [MS-XLSB] 2.5.97.49 */
function parse_PtgInt(blob) { blob.l++; return blob.read_shift(2); }

/* [MS-XLS] 2.5.198.42 ; [MS-XLSB] 2.5.97.34 */
function parse_PtgBool(blob) { blob.l++; return blob.read_shift(1)!==0;}

/* [MS-XLS] 2.5.198.79 ; [MS-XLSB] 2.5.97.63 */
function parse_PtgNum(blob) { blob.l++; return parse_Xnum(blob, 8); }

/* [MS-XLS] 2.5.198.89 ; [MS-XLSB] 2.5.97.74 */
function parse_PtgStr(blob, length, opts) { blob.l++; return parse_ShortXLUnicodeString(blob, length-1, opts); }

/* [MS-XLS] 2.5.192.112 + 2.5.192.11{3,4,5,6,7} */
/* [MS-XLSB] 2.5.97.93 + 2.5.97.9{4,5,6,7} */
function parse_SerAr(blob, biff) {
	var val = [blob.read_shift(1)];
	if(biff == 12) switch(val[0]) {
		case 0x02: val[0] = 0x04; break; /* SerBool */
		case 0x04: val[0] = 0x10; break; /* SerErr */
		case 0x00: val[0] = 0x01; break; /* SerNum */
		case 0x01: val[0] = 0x02; break; /* SerStr */
	}
	switch(val[0]) {
		case 0x04: /* SerBool -- boolean */
			val[1] = parsebool(blob, 1) ? 'TRUE' : 'FALSE';
			if(biff != 12) blob.l += 7; break;
		case 0x25: /* appears to be an alias */
		case 0x10: /* SerErr -- error */
			val[1] = BErr[blob[blob.l]];
			blob.l += ((biff == 12) ? 4 : 8); break;
		case 0x00: /* SerNil -- honestly, I'm not sure how to reproduce this */
			blob.l += 8; break;
		case 0x01: /* SerNum -- Xnum */
			val[1] = parse_Xnum(blob, 8); break;
		case 0x02: /* SerStr -- XLUnicodeString (<256 chars) */
			val[1] = parse_XLUnicodeString2(blob, 0, {biff:biff > 0 && biff < 8 ? 2 : biff}); break;
		default: throw new Error("Bad SerAr: " + val[0]); /* Unreachable */
	}
	return val;
}

/* [MS-XLS] 2.5.198.61 ; [MS-XLSB] 2.5.97.44 */
function parse_PtgExtraMem(blob, cce, opts) {
	var count = blob.read_shift((opts.biff == 12) ? 4 : 2);
	var out = [];
	for(var i = 0; i != count; ++i) out.push(((opts.biff == 12) ? parse_UncheckedRfX : parse_Ref8U)(blob, 8));
	return out;
}

/* [MS-XLS] 2.5.198.59 ; [MS-XLSB] 2.5.97.41 */
function parse_PtgExtraArray(blob, length, opts) {
	var rows = 0, cols = 0;
	if(opts.biff == 12) {
		rows = blob.read_shift(4); // DRw
		cols = blob.read_shift(4); // DCol
	} else {
		cols = 1 + blob.read_shift(1); //DColByteU
		rows = 1 + blob.read_shift(2); //DRw
	}
	if(opts.biff >= 2 && opts.biff < 8) { --rows; if(--cols == 0) cols = 0x100; }
	// $FlowIgnore
	for(var i = 0, o = []; i != rows && (o[i] = []); ++i)
		for(var j = 0; j != cols; ++j) o[i][j] = parse_SerAr(blob, opts.biff);
	return o;
}

/* [MS-XLS] 2.5.198.76 ; [MS-XLSB] 2.5.97.60 */
function parse_PtgName(blob, length, opts) {
	var type = (blob.read_shift(1) >>> 5) & 0x03;
	var w = (!opts || (opts.biff >= 8)) ? 4 : 2;
	var nameindex = blob.read_shift(w);
	switch(opts.biff) {
		case 2: blob.l += 5; break;
		case 3: case 4: blob.l += 8; break;
		case 5: blob.l += 12; break;
	}
	return [type, 0, nameindex];
}

/* [MS-XLS] 2.5.198.77 ; [MS-XLSB] 2.5.97.61 */
function parse_PtgNameX(blob, length, opts) {
	if(opts.biff == 5) return parse_PtgNameX_BIFF5(blob, length, opts);
	var type = (blob.read_shift(1) >>> 5) & 0x03;
	var ixti = blob.read_shift(2); // XtiIndex
	var nameindex = blob.read_shift(4);
	return [type, ixti, nameindex];
}
function parse_PtgNameX_BIFF5(blob) {
	var type = (blob.read_shift(1) >>> 5) & 0x03;
	var ixti = blob.read_shift(2, 'i'); // XtiIndex
	blob.l += 8;
	var nameindex = blob.read_shift(2);
	blob.l += 12;
	return [type, ixti, nameindex];
}

/* [MS-XLS] 2.5.198.70 ; [MS-XLSB] 2.5.97.54 */
function parse_PtgMemArea(blob, length, opts) {
	var type = (blob.read_shift(1) >>> 5) & 0x03;
	blob.l += (opts && opts.biff == 2 ? 3 : 4);
	var cce = blob.read_shift(opts && opts.biff == 2 ? 1 : 2);
	return [type, cce];
}

/* [MS-XLS] 2.5.198.72 ; [MS-XLSB] 2.5.97.56 */
function parse_PtgMemFunc(blob, length, opts) {
	var type = (blob.read_shift(1) >>> 5) & 0x03;
	var cce = blob.read_shift(opts && opts.biff == 2 ? 1 : 2);
	return [type, cce];
}


/* [MS-XLS] 2.5.198.86 ; [MS-XLSB] 2.5.97.69 */
function parse_PtgRefErr(blob, length, opts) {
	var type = (blob.read_shift(1) >>> 5) & 0x03;
	blob.l += 4;
	if(opts.biff < 8) blob.l--;
	if(opts.biff == 12) blob.l += 2;
	return [type];
}

/* [MS-XLS] 2.5.198.87 ; [MS-XLSB] 2.5.97.71 */
function parse_PtgRefErr3d(blob, length, opts) {
	var type = (blob[blob.l++] & 0x60) >> 5;
	var ixti = blob.read_shift(2);
	var w = 4;
	if(opts) switch(opts.biff) {
		case 5: w = 15; break;
		case 12: w = 6; break;
	}
	blob.l += w;
	return [type, ixti];
}

/* [MS-XLS] 2.5.198.71 ; [MS-XLSB] 2.5.97.55 */
var parse_PtgMemErr = parsenoop;
/* [MS-XLS] 2.5.198.73  ; [MS-XLSB] 2.5.97.57 */
var parse_PtgMemNoMem = parsenoop;
/* [MS-XLS] 2.5.198.92 */
var parse_PtgTbl = parsenoop;

function parse_PtgElfLoc(blob, length, opts) {
	blob.l += 2;
	return [parse_RgceElfLoc(blob, 4, opts)];
}
function parse_PtgElfNoop(blob) {
	blob.l += 6;
	return [];
}
/* [MS-XLS] 2.5.198.46 */
var parse_PtgElfCol = parse_PtgElfLoc;
/* [MS-XLS] 2.5.198.47 */
var parse_PtgElfColS = parse_PtgElfNoop;
/* [MS-XLS] 2.5.198.48 */
var parse_PtgElfColSV = parse_PtgElfNoop;
/* [MS-XLS] 2.5.198.49 */
var parse_PtgElfColV = parse_PtgElfLoc;
/* [MS-XLS] 2.5.198.50 */
function parse_PtgElfLel(blob) {
	blob.l += 2;
	return [parseuint16(blob), blob.read_shift(2) & 0x01];
}
/* [MS-XLS] 2.5.198.51 */
var parse_PtgElfRadical = parse_PtgElfLoc;
/* [MS-XLS] 2.5.198.52 */
var parse_PtgElfRadicalLel = parse_PtgElfLel;
/* [MS-XLS] 2.5.198.53 */
var parse_PtgElfRadicalS = parse_PtgElfNoop;
/* [MS-XLS] 2.5.198.54 */
var parse_PtgElfRw = parse_PtgElfLoc;
/* [MS-XLS] 2.5.198.55 */
var parse_PtgElfRwV = parse_PtgElfLoc;

/* [MS-XLSB] 2.5.97.52 TODO */
var PtgListRT = [
	"Data",
	"All",
	"Headers",
	"??",
	"?Data2",
	"??",
	"?DataHeaders",
	"??",
	"Totals",
	"??",
	"??",
	"??",
	"?DataTotals",
	"??",
	"??",
	"??",
	"?Current"
];
function parse_PtgList(blob) {
	blob.l += 2;
	var ixti = blob.read_shift(2);
	var flags = blob.read_shift(2);
	var idx = blob.read_shift(4);
	var c = blob.read_shift(2);
	var C = blob.read_shift(2);
	var rt = PtgListRT[(flags >> 2) & 0x1F];
	return {ixti: ixti, coltype:(flags&0x3), rt:rt, idx:idx, c:c, C:C};
}
/* [MS-XLS] 2.5.198.91 ; [MS-XLSB] 2.5.97.76 */
function parse_PtgSxName(blob) {
	blob.l += 2;
	return [blob.read_shift(4)];
}

/* [XLS] old spec */
function parse_PtgSheet(blob, length, opts) {
	blob.l += 5;
	blob.l += 2;
	blob.l += (opts.biff == 2 ? 1 : 4);
	return ["PTGSHEET"];
}
function parse_PtgEndSheet(blob, length, opts) {
	blob.l += (opts.biff == 2 ? 4 : 5);
	return ["PTGENDSHEET"];
}
function parse_PtgMemAreaN(blob) {
	var type = (blob.read_shift(1) >>> 5) & 0x03;
	var cce = blob.read_shift(2);
	return [type, cce];
}
function parse_PtgMemNoMemN(blob) {
	var type = (blob.read_shift(1) >>> 5) & 0x03;
	var cce = blob.read_shift(2);
	return [type, cce];
}
function parse_PtgAttrNoop(blob) {
	blob.l += 4;
	return [0, 0];
}

/* [MS-XLS] 2.5.198.25 ; [MS-XLSB] 2.5.97.16 */
var PtgTypes = {
0x01: { n:'PtgExp', f:parse_PtgExp },
0x02: { n:'PtgTbl', f:parse_PtgTbl },
0x03: { n:'PtgAdd', f:parseread1 },
0x04: { n:'PtgSub', f:parseread1 },
0x05: { n:'PtgMul', f:parseread1 },
0x06: { n:'PtgDiv', f:parseread1 },
0x07: { n:'PtgPower', f:parseread1 },
0x08: { n:'PtgConcat', f:parseread1 },
0x09: { n:'PtgLt', f:parseread1 },
0x0A: { n:'PtgLe', f:parseread1 },
0x0B: { n:'PtgEq', f:parseread1 },
0x0C: { n:'PtgGe', f:parseread1 },
0x0D: { n:'PtgGt', f:parseread1 },
0x0E: { n:'PtgNe', f:parseread1 },
0x0F: { n:'PtgIsect', f:parseread1 },
0x10: { n:'PtgUnion', f:parseread1 },
0x11: { n:'PtgRange', f:parseread1 },
0x12: { n:'PtgUplus', f:parseread1 },
0x13: { n:'PtgUminus', f:parseread1 },
0x14: { n:'PtgPercent', f:parseread1 },
0x15: { n:'PtgParen', f:parseread1 },
0x16: { n:'PtgMissArg', f:parseread1 },
0x17: { n:'PtgStr', f:parse_PtgStr },
0x1A: { n:'PtgSheet', f:parse_PtgSheet },
0x1B: { n:'PtgEndSheet', f:parse_PtgEndSheet },
0x1C: { n:'PtgErr', f:parse_PtgErr },
0x1D: { n:'PtgBool', f:parse_PtgBool },
0x1E: { n:'PtgInt', f:parse_PtgInt },
0x1F: { n:'PtgNum', f:parse_PtgNum },
0x20: { n:'PtgArray', f:parse_PtgArray },
0x21: { n:'PtgFunc', f:parse_PtgFunc },
0x22: { n:'PtgFuncVar', f:parse_PtgFuncVar },
0x23: { n:'PtgName', f:parse_PtgName },
0x24: { n:'PtgRef', f:parse_PtgRef },
0x25: { n:'PtgArea', f:parse_PtgArea },
0x26: { n:'PtgMemArea', f:parse_PtgMemArea },
0x27: { n:'PtgMemErr', f:parse_PtgMemErr },
0x28: { n:'PtgMemNoMem', f:parse_PtgMemNoMem },
0x29: { n:'PtgMemFunc', f:parse_PtgMemFunc },
0x2A: { n:'PtgRefErr', f:parse_PtgRefErr },
0x2B: { n:'PtgAreaErr', f:parse_PtgAreaErr },
0x2C: { n:'PtgRefN', f:parse_PtgRefN },
0x2D: { n:'PtgAreaN', f:parse_PtgAreaN },
0x2E: { n:'PtgMemAreaN', f:parse_PtgMemAreaN },
0x2F: { n:'PtgMemNoMemN', f:parse_PtgMemNoMemN },
0x39: { n:'PtgNameX', f:parse_PtgNameX },
0x3A: { n:'PtgRef3d', f:parse_PtgRef3d },
0x3B: { n:'PtgArea3d', f:parse_PtgArea3d },
0x3C: { n:'PtgRefErr3d', f:parse_PtgRefErr3d },
0x3D: { n:'PtgAreaErr3d', f:parse_PtgAreaErr3d },
0xFF: {}
};
/* These are duplicated in the PtgTypes table */
var PtgDupes = {
0x40: 0x20, 0x60: 0x20,
0x41: 0x21, 0x61: 0x21,
0x42: 0x22, 0x62: 0x22,
0x43: 0x23, 0x63: 0x23,
0x44: 0x24, 0x64: 0x24,
0x45: 0x25, 0x65: 0x25,
0x46: 0x26, 0x66: 0x26,
0x47: 0x27, 0x67: 0x27,
0x48: 0x28, 0x68: 0x28,
0x49: 0x29, 0x69: 0x29,
0x4A: 0x2A, 0x6A: 0x2A,
0x4B: 0x2B, 0x6B: 0x2B,
0x4C: 0x2C, 0x6C: 0x2C,
0x4D: 0x2D, 0x6D: 0x2D,
0x4E: 0x2E, 0x6E: 0x2E,
0x4F: 0x2F, 0x6F: 0x2F,
0x58: 0x22, 0x78: 0x22,
0x59: 0x39, 0x79: 0x39,
0x5A: 0x3A, 0x7A: 0x3A,
0x5B: 0x3B, 0x7B: 0x3B,
0x5C: 0x3C, 0x7C: 0x3C,
0x5D: 0x3D, 0x7D: 0x3D
};
(function(){for(var y in PtgDupes) PtgTypes[y] = PtgTypes[PtgDupes[y]];})();

var Ptg18 = {
0x01: { n:'PtgElfLel', f:parse_PtgElfLel },
0x02: { n:'PtgElfRw', f:parse_PtgElfRw },
0x03: { n:'PtgElfCol', f:parse_PtgElfCol },
0x06: { n:'PtgElfRwV', f:parse_PtgElfRwV },
0x07: { n:'PtgElfColV', f:parse_PtgElfColV },
0x0A: { n:'PtgElfRadical', f:parse_PtgElfRadical },
0x0B: { n:'PtgElfRadicalS', f:parse_PtgElfRadicalS },
0x0D: { n:'PtgElfColS', f:parse_PtgElfColS },
0x0F: { n:'PtgElfColSV', f:parse_PtgElfColSV },
0x10: { n:'PtgElfRadicalLel', f:parse_PtgElfRadicalLel },
0x19: { n:'PtgList', f:parse_PtgList },
0x1D: { n:'PtgSxName', f:parse_PtgSxName },
0xFF: {}
};
var Ptg19 = {
0x00: { n:'PtgAttrNoop', f:parse_PtgAttrNoop },
0x01: { n:'PtgAttrSemi', f:parse_PtgAttrSemi },
0x02: { n:'PtgAttrIf', f:parse_PtgAttrIf },
0x04: { n:'PtgAttrChoose', f:parse_PtgAttrChoose },
0x08: { n:'PtgAttrGoto', f:parse_PtgAttrGoto },
0x10: { n:'PtgAttrSum', f:parse_PtgAttrSum },
0x20: { n:'PtgAttrBaxcel', f:parse_PtgAttrBaxcel },
0x40: { n:'PtgAttrSpace', f:parse_PtgAttrSpace },
0x41: { n:'PtgAttrSpaceSemi', f:parse_PtgAttrSpaceSemi },
0x80: { n:'PtgAttrIfError', f:parse_PtgAttrIfError },
0xFF: {}
};
Ptg19[0x21] = Ptg19[0x20];

/* [MS-XLS] 2.5.198.103 ; [MS-XLSB] 2.5.97.87 */
function parse_RgbExtra(blob, length, rgce, opts) {
	if(opts.biff < 8) return parsenoop(blob, length);
	var target = blob.l + length;
	var o = [];
	for(var i = 0; i !== rgce.length; ++i) {
		switch(rgce[i][0]) {
			case 'PtgArray': /* PtgArray -> PtgExtraArray */
				rgce[i][1] = parse_PtgExtraArray(blob, 0, opts);
				o.push(rgce[i][1]);
				break;
			case 'PtgMemArea': /* PtgMemArea -> PtgExtraMem */
				rgce[i][2] = parse_PtgExtraMem(blob, rgce[i][1], opts);
				o.push(rgce[i][2]);
				break;
			case 'PtgExp': /* PtgExp -> PtgExtraCol */
				if(opts && opts.biff == 12) {
					rgce[i][1][1] = blob.read_shift(4);
					o.push(rgce[i][1]);
				} break;
			case 'PtgList': /* TODO: PtgList -> PtgExtraList */
			case 'PtgElfRadicalS': /* TODO: PtgElfRadicalS -> PtgExtraElf */
			case 'PtgElfColS': /* TODO: PtgElfColS -> PtgExtraElf */
			case 'PtgElfColSV': /* TODO: PtgElfColSV -> PtgExtraElf */
				throw "Unsupported " + rgce[i][0];
			default: break;
		}
	}
	length = target - blob.l;
	/* note: this is technically an error but Excel disregards */
	//if(target !== blob.l && blob.l !== target - length) throw new Error(target + " != " + blob.l);
	if(length !== 0) o.push(parsenoop(blob, length));
	return o;
}

/* [MS-XLS] 2.5.198.104 ; [MS-XLSB] 2.5.97.88 */
function parse_Rgce(blob, length, opts) {
	var target = blob.l + length;
	var R, id, ptgs = [];
	while(target != blob.l) {
		length = target - blob.l;
		id = blob[blob.l];
		R = PtgTypes[id];
		if(id === 0x18 || id === 0x19) R = (id === 0x18 ? Ptg18 : Ptg19)[blob[blob.l + 1]];
		if(!R || !R.f) { /*ptgs.push*/(parsenoop(blob, length)); }
		else { ptgs.push([R.n, R.f(blob, length, opts)]); }
	}
	return ptgs;
}

function stringify_array(f) {
	var o = [];
	for(var i = 0; i < f.length; ++i) {
		var x = f[i], r = [];
		for(var j = 0; j < x.length; ++j) {
			var y = x[j];
			if(y) switch(y[0]) {
				// TODO: handle embedded quotes
				case 0x02:
r.push('"' + y[1].replace(/"/g,'""') + '"'); break;
				default: r.push(y[1]);
			} else r.push("");
		}
		o.push(r.join(","));
	}
	return o.join(";");
}

/* [MS-XLS] 2.2.2 ; [MS-XLSB] 2.2.2 TODO */
var PtgBinOp = {
	PtgAdd: "+",
	PtgConcat: "&",
	PtgDiv: "/",
	PtgEq: "=",
	PtgGe: ">=",
	PtgGt: ">",
	PtgLe: "<=",
	PtgLt: "<",
	PtgMul: "*",
	PtgNe: "<>",
	PtgPower: "^",
	PtgSub: "-"
};
function formula_quote_sheet_name(sname, opts) {
	if(!sname && !(opts && opts.biff <= 5 && opts.biff >= 2)) throw new Error("empty sheet name");
	if(sname.indexOf(" ") > -1) return "'" + sname + "'";
	return sname;
}
function get_ixti_raw(supbooks, ixti, opts) {
	if(!supbooks) return "SH33TJSERR0";
	if(!supbooks.XTI) return "SH33TJSERR6";
	var XTI = supbooks.XTI[ixti];
	if(opts.biff > 8 && !supbooks.XTI[ixti]) return supbooks.SheetNames[ixti];
	if(opts.biff < 8) {
		if(ixti > 10000) ixti-= 65536;
		if(ixti < 0) ixti = -ixti;
		return ixti == 0 ? "" : supbooks.XTI[ixti - 1];
	}
	if(!XTI) return "SH33TJSERR1";
	var o = "";
	if(opts.biff > 8) switch(supbooks[XTI[0]][0]) {
		case 0x0165: /* 'BrtSupSelf' */
			o = XTI[1] == -1 ? "#REF" : supbooks.SheetNames[XTI[1]];
			return XTI[1] == XTI[2] ? o : o + ":" + supbooks.SheetNames[XTI[2]];
		case 0x0166: /* 'BrtSupSame' */
			if(opts.SID != null) return supbooks.SheetNames[opts.SID];
			return "SH33TJSSAME" + supbooks[XTI[0]][0];
		case 0x0163: /* 'BrtSupBookSrc' */
			/* falls through */
		default: return "SH33TJSSRC" + supbooks[XTI[0]][0];
	}
	switch(supbooks[XTI[0]][0][0]) {
		case 0x0401:
			o = XTI[1] == -1 ? "#REF" : (supbooks.SheetNames[XTI[1]] || "SH33TJSERR3");
			return XTI[1] == XTI[2] ? o : o + ":" + supbooks.SheetNames[XTI[2]];
		case 0x3A01: return "SH33TJSERR8";
		default:
			if(!supbooks[XTI[0]][0][3]) return "SH33TJSERR2";
			o = XTI[1] == -1 ? "#REF" : (supbooks[XTI[0]][0][3][XTI[1]] || "SH33TJSERR4");
			return XTI[1] == XTI[2] ? o : o + ":" + supbooks[XTI[0]][0][3][XTI[2]];
	}
}
function get_ixti(supbooks, ixti, opts) {
	return formula_quote_sheet_name(get_ixti_raw(supbooks, ixti, opts), opts);
}
function stringify_formula(formula/*Array<any>*/, range, cell, supbooks, opts) {
	var biff = (opts && opts.biff) || 8;
	var _range = /*range != null ? range :*/ {s:{c:0, r:0},e:{c:0, r:0}};
	var stack = [], e1, e2,  c, ixti=0, nameidx=0, r, sname="";
	if(!formula[0] || !formula[0][0]) return "";
	var last_sp = -1, sp = "";
	for(var ff = 0, fflen = formula[0].length; ff < fflen; ++ff) {
		var f = formula[0][ff];
		switch(f[0]) {
			case 'PtgUminus': /* [MS-XLS] 2.5.198.93 */
				stack.push("-" + stack.pop()); break;
			case 'PtgUplus': /* [MS-XLS] 2.5.198.95 */
				stack.push("+" + stack.pop()); break;
			case 'PtgPercent': /* [MS-XLS] 2.5.198.81 */
				stack.push(stack.pop() + "%"); break;

			case 'PtgAdd':    /* [MS-XLS] 2.5.198.26 */
			case 'PtgConcat': /* [MS-XLS] 2.5.198.43 */
			case 'PtgDiv':    /* [MS-XLS] 2.5.198.45 */
			case 'PtgEq':     /* [MS-XLS] 2.5.198.56 */
			case 'PtgGe':     /* [MS-XLS] 2.5.198.64 */
			case 'PtgGt':     /* [MS-XLS] 2.5.198.65 */
			case 'PtgLe':     /* [MS-XLS] 2.5.198.68 */
			case 'PtgLt':     /* [MS-XLS] 2.5.198.69 */
			case 'PtgMul':    /* [MS-XLS] 2.5.198.75 */
			case 'PtgNe':     /* [MS-XLS] 2.5.198.78 */
			case 'PtgPower':  /* [MS-XLS] 2.5.198.82 */
			case 'PtgSub':    /* [MS-XLS] 2.5.198.90 */
				e1 = stack.pop(); e2 = stack.pop();
				if(last_sp >= 0) {
					switch(formula[0][last_sp][1][0]) {
						case 0:
							// $FlowIgnore
							sp = fill(" ", formula[0][last_sp][1][1]); break;
						case 1:
							// $FlowIgnore
							sp = fill("\r", formula[0][last_sp][1][1]); break;
						default:
							sp = "";
							// $FlowIgnore
							if(opts.WTF) throw new Error("Unexpected PtgAttrSpaceType " + formula[0][last_sp][1][0]);
					}
					e2 = e2 + sp;
					last_sp = -1;
				}
				stack.push(e2+PtgBinOp[f[0]]+e1);
				break;

			case 'PtgIsect': /* [MS-XLS] 2.5.198.67 */
				e1 = stack.pop(); e2 = stack.pop();
				stack.push(e2+" "+e1);
				break;
			case 'PtgUnion': /* [MS-XLS] 2.5.198.94 */
				e1 = stack.pop(); e2 = stack.pop();
				stack.push(e2+","+e1);
				break;
			case 'PtgRange': /* [MS-XLS] 2.5.198.83 */
				e1 = stack.pop(); e2 = stack.pop();
				stack.push(e2+":"+e1);
				break;

			case 'PtgAttrChoose': /* [MS-XLS] 2.5.198.34 */
				break;
			case 'PtgAttrGoto': /* [MS-XLS] 2.5.198.35 */
				break;
			case 'PtgAttrIf': /* [MS-XLS] 2.5.198.36 */
				break;
			case 'PtgAttrIfError': /* [MS-XLSB] 2.5.97.28 */
				break;


			case 'PtgRef': /* [MS-XLS] 2.5.198.84 */
c = shift_cell_xls((f[1][1]), _range, opts);
				stack.push(encode_cell_xls(c, biff));
				break;
			case 'PtgRefN': /* [MS-XLS] 2.5.198.88 */
c = cell ? shift_cell_xls((f[1][1]), cell, opts) : (f[1][1]);
				stack.push(encode_cell_xls(c, biff));
				break;
			case 'PtgRef3d': /* [MS-XLS] 2.5.198.85 */
ixti = f[1][1]; c = shift_cell_xls((f[1][2]), _range, opts);
				sname = get_ixti(supbooks, ixti, opts);
				var w = sname; /* IE9 fails on defined names */ // eslint-disable-line no-unused-vars
				stack.push(sname + "!" + encode_cell_xls(c, biff));
				break;

			case 'PtgFunc': /* [MS-XLS] 2.5.198.62 */
			case 'PtgFuncVar': /* [MS-XLS] 2.5.198.63 */
				/* f[1] = [argc, func, type] */
				var argc = (f[1][0]), func = (f[1][1]);
				if(!argc) argc = 0;
				argc &= 0x7F;
				var args = argc == 0 ? [] : stack.slice(-argc);
				stack.length -= argc;
				if(func === 'User') func = args.shift();
				stack.push(func + "(" + args.join(",") + ")");
				break;

			case 'PtgBool': /* [MS-XLS] 2.5.198.42 */
				stack.push(f[1] ? "TRUE" : "FALSE"); break;
			case 'PtgInt': /* [MS-XLS] 2.5.198.66 */
				stack.push(f[1]); break;
			case 'PtgNum': /* [MS-XLS] 2.5.198.79 TODO: precision? */
				stack.push(String(f[1])); break;
			case 'PtgStr': /* [MS-XLS] 2.5.198.89 */
				// $FlowIgnore
				stack.push('"' + f[1] + '"'); break;
			case 'PtgErr': /* [MS-XLS] 2.5.198.57 */
				stack.push(f[1]); break;
			case 'PtgAreaN': /* [MS-XLS] 2.5.198.31 TODO */
r = shift_range_xls(f[1][1], cell ? {s:cell} : _range, opts);
				stack.push(encode_range_xls((r), opts));
				break;
			case 'PtgArea': /* [MS-XLS] 2.5.198.27 TODO: fixed points */
r = shift_range_xls(f[1][1], _range, opts);
				stack.push(encode_range_xls((r), opts));
				break;
			case 'PtgArea3d': /* [MS-XLS] 2.5.198.28 TODO */
ixti = f[1][1]; r = f[1][2];
				sname = get_ixti(supbooks, ixti, opts);
				stack.push(sname + "!" + encode_range_xls((r), opts));
				break;
			case 'PtgAttrSum': /* [MS-XLS] 2.5.198.41 */
				stack.push("SUM(" + stack.pop() + ")");
				break;

			case 'PtgAttrBaxcel': /* [MS-XLS] 2.5.198.33 */
			case 'PtgAttrSemi': /* [MS-XLS] 2.5.198.37 */
				break;

			case 'PtgName': /* [MS-XLS] 2.5.198.76 ; [MS-XLSB] 2.5.97.60 TODO: revisions */
				/* f[1] = type, 0, nameindex */
				nameidx = (f[1][2]);
				var lbl = (supbooks.names||[])[nameidx-1] || (supbooks[0]||[])[nameidx];
				var name = lbl ? lbl.Name : "SH33TJSNAME" + String(nameidx);
				if(name in XLSXFutureFunctions) name = XLSXFutureFunctions[name];
				stack.push(name);
				break;

			case 'PtgNameX': /* [MS-XLS] 2.5.198.77 ; [MS-XLSB] 2.5.97.61 TODO: revisions */
				/* f[1] = type, ixti, nameindex */
				var bookidx = (f[1][1]); nameidx = (f[1][2]); var externbook;
				/* TODO: Properly handle missing values */
				if(opts.biff <= 5) {
					if(bookidx < 0) bookidx = -bookidx;
					if(supbooks[bookidx]) externbook = supbooks[bookidx][nameidx];
				} else {
					var o = "";
					if(((supbooks[bookidx]||[])[0]||[])[0] == 0x3A01){/* empty */}
					else if(((supbooks[bookidx]||[])[0]||[])[0] == 0x0401){
						if(supbooks[bookidx][nameidx] && supbooks[bookidx][nameidx].itab > 0) {
							o = supbooks.SheetNames[supbooks[bookidx][nameidx].itab-1] + "!";
						}
					}
					else o = supbooks.SheetNames[nameidx-1]+ "!";
					if(supbooks[bookidx] && supbooks[bookidx][nameidx]) o += supbooks[bookidx][nameidx].Name;
					else if(supbooks[0] && supbooks[0][nameidx]) o += supbooks[0][nameidx].Name;
					else o += "SH33TJSERRX";
					stack.push(o);
					break;
				}
				if(!externbook) externbook = {Name: "SH33TJSERRY"};
				stack.push(externbook.Name);
				break;

			case 'PtgParen': /* [MS-XLS] 2.5.198.80 */
				var lp = '(', rp = ')';
				if(last_sp >= 0) {
					sp = "";
					switch(formula[0][last_sp][1][0]) {
						// $FlowIgnore
						case 2: lp = fill(" ", formula[0][last_sp][1][1]) + lp; break;
						// $FlowIgnore
						case 3: lp = fill("\r", formula[0][last_sp][1][1]) + lp; break;
						// $FlowIgnore
						case 4: rp = fill(" ", formula[0][last_sp][1][1]) + rp; break;
						// $FlowIgnore
						case 5: rp = fill("\r", formula[0][last_sp][1][1]) + rp; break;
						default:
							// $FlowIgnore
							if(opts.WTF) throw new Error("Unexpected PtgAttrSpaceType " + formula[0][last_sp][1][0]);
					}
					last_sp = -1;
				}
				stack.push(lp + stack.pop() + rp); break;

			case 'PtgRefErr': /* [MS-XLS] 2.5.198.86 */
				stack.push('#REF!'); break;

			case 'PtgRefErr3d': /* [MS-XLS] 2.5.198.87 */
				stack.push('#REF!'); break;

			case 'PtgExp': /* [MS-XLS] 2.5.198.58 TODO */
				c = {c:(f[1][1]),r:(f[1][0])};
				var q = ({c: cell.c, r:cell.r});
				if(supbooks.sharedf[encode_cell(c)]) {
					var parsedf = (supbooks.sharedf[encode_cell(c)]);
					stack.push(stringify_formula(parsedf, _range, q, supbooks, opts));
				}
				else {
					var fnd = false;
					for(e1=0;e1!=supbooks.arrayf.length; ++e1) {
						/* TODO: should be something like range_has */
						e2 = supbooks.arrayf[e1];
						if(c.c < e2[0].s.c || c.c > e2[0].e.c) continue;
						if(c.r < e2[0].s.r || c.r > e2[0].e.r) continue;
						stack.push(stringify_formula(e2[1], _range, q, supbooks, opts));
						fnd = true;
						break;
					}
					if(!fnd) stack.push(f[1]);
				}
				break;

			case 'PtgArray': /* [MS-XLS] 2.5.198.32 TODO */
				stack.push("{" + stringify_array(f[1]) + "}");
				break;

			case 'PtgMemArea': /* [MS-XLS] 2.5.198.70 TODO: confirm this is a non-display */
				//stack.push("(" + f[2].map(encode_range).join(",") + ")");
				break;

			case 'PtgAttrSpace': /* [MS-XLS] 2.5.198.38 */
			case 'PtgAttrSpaceSemi': /* [MS-XLS] 2.5.198.39 */
				last_sp = ff;
				break;

			case 'PtgTbl': /* [MS-XLS] 2.5.198.92 TODO */
				break;

			case 'PtgMemErr': /* [MS-XLS] 2.5.198.71 */
				break;

			case 'PtgMissArg': /* [MS-XLS] 2.5.198.74 */
				stack.push("");
				break;

			case 'PtgAreaErr': /* [MS-XLS] 2.5.198.29 */
				stack.push("#REF!"); break;

			case 'PtgAreaErr3d': /* [MS-XLS] 2.5.198.30 */
				stack.push("#REF!"); break;

			case 'PtgList': /* [MS-XLSB] 2.5.97.52 */
				// $FlowIgnore
				stack.push("Table" + f[1].idx + "[#" + f[1].rt + "]");
				break;

			case 'PtgMemAreaN':
			case 'PtgMemNoMemN':
			case 'PtgAttrNoop':
			case 'PtgSheet':
			case 'PtgEndSheet':
				break;

			case 'PtgMemFunc': /* [MS-XLS] 2.5.198.72 TODO */
				break;
			case 'PtgMemNoMem': /* [MS-XLS] 2.5.198.73 TODO */
				break;

			case 'PtgElfCol': /* [MS-XLS] 2.5.198.46 */
			case 'PtgElfColS': /* [MS-XLS] 2.5.198.47 */
			case 'PtgElfColSV': /* [MS-XLS] 2.5.198.48 */
			case 'PtgElfColV': /* [MS-XLS] 2.5.198.49 */
			case 'PtgElfLel': /* [MS-XLS] 2.5.198.50 */
			case 'PtgElfRadical': /* [MS-XLS] 2.5.198.51 */
			case 'PtgElfRadicalLel': /* [MS-XLS] 2.5.198.52 */
			case 'PtgElfRadicalS': /* [MS-XLS] 2.5.198.53 */
			case 'PtgElfRw': /* [MS-XLS] 2.5.198.54 */
			case 'PtgElfRwV': /* [MS-XLS] 2.5.198.55 */
				throw new Error("Unsupported ELFs");

			case 'PtgSxName': /* [MS-XLS] 2.5.198.91 TODO -- find a test case */
				throw new Error('Unrecognized Formula Token: ' + String(f));
			default: throw new Error('Unrecognized Formula Token: ' + String(f));
		}
		var PtgNonDisp = ['PtgAttrSpace', 'PtgAttrSpaceSemi', 'PtgAttrGoto'];
		if(opts.biff != 3) if(last_sp >= 0 && PtgNonDisp.indexOf(formula[0][ff][0]) == -1) {
			f = formula[0][last_sp];
			var _left = true;
			switch(f[1][0]) {
				/* note: some bad XLSB files omit the PtgParen */
				case 4: _left = false;
				/* falls through */
				case 0:
					// $FlowIgnore
					sp = fill(" ", f[1][1]); break;
				case 5: _left = false;
				/* falls through */
				case 1:
					// $FlowIgnore
					sp = fill("\r", f[1][1]); break;
				default:
					sp = "";
					// $FlowIgnore
					if(opts.WTF) throw new Error("Unexpected PtgAttrSpaceType " + f[1][0]);
			}
			stack.push((_left ? sp : "") + stack.pop() + (_left ? "" : sp));
			last_sp = -1;
		}
	}
	if(stack.length > 1 && opts.WTF) throw new Error("bad formula stack");
	return stack[0];
}

/* [MS-XLS] 2.5.198.1 TODO */
function parse_ArrayParsedFormula(blob, length, opts) {
	var target = blob.l + length, len = opts.biff == 2 ? 1 : 2;
	var rgcb, cce = blob.read_shift(len); // length of rgce
	if(cce == 0xFFFF) return [[],parsenoop(blob, length-2)];
	var rgce = parse_Rgce(blob, cce, opts);
	if(length !== cce + len) rgcb = parse_RgbExtra(blob, length - cce - len, rgce, opts);
	blob.l = target;
	return [rgce, rgcb];
}

/* [MS-XLS] 2.5.198.3 TODO */
function parse_XLSCellParsedFormula(blob, length, opts) {
	var target = blob.l + length, len = opts.biff == 2 ? 1 : 2;
	var rgcb, cce = blob.read_shift(len); // length of rgce
	if(cce == 0xFFFF) return [[],parsenoop(blob, length-2)];
	var rgce = parse_Rgce(blob, cce, opts);
	if(length !== cce + len) rgcb = parse_RgbExtra(blob, length - cce - len, rgce, opts);
	blob.l = target;
	return [rgce, rgcb];
}

/* [MS-XLS] 2.5.198.21 */
function parse_NameParsedFormula(blob, length, opts, cce) {
	var target = blob.l + length;
	var rgce = parse_Rgce(blob, cce, opts);
	var rgcb;
	if(target !== blob.l) rgcb = parse_RgbExtra(blob, target - blob.l, rgce, opts);
	return [rgce, rgcb];
}

/* [MS-XLS] 2.5.198.118 TODO */
function parse_SharedParsedFormula(blob, length, opts) {
	var target = blob.l + length;
	var rgcb, cce = blob.read_shift(2); // length of rgce
	var rgce = parse_Rgce(blob, cce, opts);
	if(cce == 0xFFFF) return [[],parsenoop(blob, length-2)];
	if(length !== cce + 2) rgcb = parse_RgbExtra(blob, target - cce - 2, rgce, opts);
	return [rgce, rgcb];
}

/* [MS-XLS] 2.5.133 TODO: how to emit empty strings? */
function parse_FormulaValue(blob) {
	var b;
	if(__readUInt16LE(blob,blob.l + 6) !== 0xFFFF) return [parse_Xnum(blob),'n'];
	switch(blob[blob.l]) {
		case 0x00: blob.l += 8; return ["String", 's'];
		case 0x01: b = blob[blob.l+2] === 0x1; blob.l += 8; return [b,'b'];
		case 0x02: b = blob[blob.l+2]; blob.l += 8; return [b,'e'];
		case 0x03: blob.l += 8; return ["",'s'];
	}
	return [];
}

/* [MS-XLS] 2.4.127 TODO */
function parse_Formula(blob, length, opts) {
	var end = blob.l + length;
	var cell = parse_XLSCell(blob, 6);
	if(opts.biff == 2) ++blob.l;
	var val = parse_FormulaValue(blob,8);
	var flags = blob.read_shift(1);
	if(opts.biff != 2) {
		blob.read_shift(1);
		if(opts.biff >= 5) {
			/*var chn = */blob.read_shift(4);
		}
	}
	var cbf = parse_XLSCellParsedFormula(blob, end - blob.l, opts);
	return {cell:cell, val:val[0], formula:cbf, shared: (flags >> 3) & 1, tt:val[1]};
}

/* XLSB Parsed Formula records have the same shape */
function parse_XLSBParsedFormula(data, length, opts) {
	var cce = data.read_shift(4);
	var rgce = parse_Rgce(data, cce, opts);
	var cb = data.read_shift(4);
	var rgcb = cb > 0 ? parse_RgbExtra(data, cb, rgce, opts) : null;
	return [rgce, rgcb];
}

/* [MS-XLSB] 2.5.97.1 ArrayParsedFormula */
var parse_XLSBArrayParsedFormula = parse_XLSBParsedFormula;
/* [MS-XLSB] 2.5.97.4 CellParsedFormula */
var parse_XLSBCellParsedFormula = parse_XLSBParsedFormula;
/* [MS-XLSB] 2.5.97.12 NameParsedFormula */
var parse_XLSBNameParsedFormula = parse_XLSBParsedFormula;
/* [MS-XLSB] 2.5.97.98 SharedParsedFormula */
var parse_XLSBSharedParsedFormula = parse_XLSBParsedFormula;
/* [MS-XLS] 2.5.198.4 */
var Cetab = {
0x0000: 'BEEP',
0x0001: 'OPEN',
0x0002: 'OPEN.LINKS',
0x0003: 'CLOSE.ALL',
0x0004: 'SAVE',
0x0005: 'SAVE.AS',
0x0006: 'FILE.DELETE',
0x0007: 'PAGE.SETUP',
0x0008: 'PRINT',
0x0009: 'PRINTER.SETUP',
0x000A: 'QUIT',
0x000B: 'NEW.WINDOW',
0x000C: 'ARRANGE.ALL',
0x000D: 'WINDOW.SIZE',
0x000E: 'WINDOW.MOVE',
0x000F: 'FULL',
0x0010: 'CLOSE',
0x0011: 'RUN',
0x0016: 'SET.PRINT.AREA',
0x0017: 'SET.PRINT.TITLES',
0x0018: 'SET.PAGE.BREAK',
0x0019: 'REMOVE.PAGE.BREAK',
0x001A: 'FONT',
0x001B: 'DISPLAY',
0x001C: 'PROTECT.DOCUMENT',
0x001D: 'PRECISION',
0x001E: 'A1.R1C1',
0x001F: 'CALCULATE.NOW',
0x0020: 'CALCULATION',
0x0022: 'DATA.FIND',
0x0023: 'EXTRACT',
0x0024: 'DATA.DELETE',
0x0025: 'SET.DATABASE',
0x0026: 'SET.CRITERIA',
0x0027: 'SORT',
0x0028: 'DATA.SERIES',
0x0029: 'TABLE',
0x002A: 'FORMAT.NUMBER',
0x002B: 'ALIGNMENT',
0x002C: 'STYLE',
0x002D: 'BORDER',
0x002E: 'CELL.PROTECTION',
0x002F: 'COLUMN.WIDTH',
0x0030: 'UNDO',
0x0031: 'CUT',
0x0032: 'COPY',
0x0033: 'PASTE',
0x0034: 'CLEAR',
0x0035: 'PASTE.SPECIAL',
0x0036: 'EDIT.DELETE',
0x0037: 'INSERT',
0x0038: 'FILL.RIGHT',
0x0039: 'FILL.DOWN',
0x003D: 'DEFINE.NAME',
0x003E: 'CREATE.NAMES',
0x003F: 'FORMULA.GOTO',
0x0040: 'FORMULA.FIND',
0x0041: 'SELECT.LAST.CELL',
0x0042: 'SHOW.ACTIVE.CELL',
0x0043: 'GALLERY.AREA',
0x0044: 'GALLERY.BAR',
0x0045: 'GALLERY.COLUMN',
0x0046: 'GALLERY.LINE',
0x0047: 'GALLERY.PIE',
0x0048: 'GALLERY.SCATTER',
0x0049: 'COMBINATION',
0x004A: 'PREFERRED',
0x004B: 'ADD.OVERLAY',
0x004C: 'GRIDLINES',
0x004D: 'SET.PREFERRED',
0x004E: 'AXES',
0x004F: 'LEGEND',
0x0050: 'ATTACH.TEXT',
0x0051: 'ADD.ARROW',
0x0052: 'SELECT.CHART',
0x0053: 'SELECT.PLOT.AREA',
0x0054: 'PATTERNS',
0x0055: 'MAIN.CHART',
0x0056: 'OVERLAY',
0x0057: 'SCALE',
0x0058: 'FORMAT.LEGEND',
0x0059: 'FORMAT.TEXT',
0x005A: 'EDIT.REPEAT',
0x005B: 'PARSE',
0x005C: 'JUSTIFY',
0x005D: 'HIDE',
0x005E: 'UNHIDE',
0x005F: 'WORKSPACE',
0x0060: 'FORMULA',
0x0061: 'FORMULA.FILL',
0x0062: 'FORMULA.ARRAY',
0x0063: 'DATA.FIND.NEXT',
0x0064: 'DATA.FIND.PREV',
0x0065: 'FORMULA.FIND.NEXT',
0x0066: 'FORMULA.FIND.PREV',
0x0067: 'ACTIVATE',
0x0068: 'ACTIVATE.NEXT',
0x0069: 'ACTIVATE.PREV',
0x006A: 'UNLOCKED.NEXT',
0x006B: 'UNLOCKED.PREV',
0x006C: 'COPY.PICTURE',
0x006D: 'SELECT',
0x006E: 'DELETE.NAME',
0x006F: 'DELETE.FORMAT',
0x0070: 'VLINE',
0x0071: 'HLINE',
0x0072: 'VPAGE',
0x0073: 'HPAGE',
0x0074: 'VSCROLL',
0x0075: 'HSCROLL',
0x0076: 'ALERT',
0x0077: 'NEW',
0x0078: 'CANCEL.COPY',
0x0079: 'SHOW.CLIPBOARD',
0x007A: 'MESSAGE',
0x007C: 'PASTE.LINK',
0x007D: 'APP.ACTIVATE',
0x007E: 'DELETE.ARROW',
0x007F: 'ROW.HEIGHT',
0x0080: 'FORMAT.MOVE',
0x0081: 'FORMAT.SIZE',
0x0082: 'FORMULA.REPLACE',
0x0083: 'SEND.KEYS',
0x0084: 'SELECT.SPECIAL',
0x0085: 'APPLY.NAMES',
0x0086: 'REPLACE.FONT',
0x0087: 'FREEZE.PANES',
0x0088: 'SHOW.INFO',
0x0089: 'SPLIT',
0x008A: 'ON.WINDOW',
0x008B: 'ON.DATA',
0x008C: 'DISABLE.INPUT',
0x008E: 'OUTLINE',
0x008F: 'LIST.NAMES',
0x0090: 'FILE.CLOSE',
0x0091: 'SAVE.WORKBOOK',
0x0092: 'DATA.FORM',
0x0093: 'COPY.CHART',
0x0094: 'ON.TIME',
0x0095: 'WAIT',
0x0096: 'FORMAT.FONT',
0x0097: 'FILL.UP',
0x0098: 'FILL.LEFT',
0x0099: 'DELETE.OVERLAY',
0x009B: 'SHORT.MENUS',
0x009F: 'SET.UPDATE.STATUS',
0x00A1: 'COLOR.PALETTE',
0x00A2: 'DELETE.STYLE',
0x00A3: 'WINDOW.RESTORE',
0x00A4: 'WINDOW.MAXIMIZE',
0x00A6: 'CHANGE.LINK',
0x00A7: 'CALCULATE.DOCUMENT',
0x00A8: 'ON.KEY',
0x00A9: 'APP.RESTORE',
0x00AA: 'APP.MOVE',
0x00AB: 'APP.SIZE',
0x00AC: 'APP.MINIMIZE',
0x00AD: 'APP.MAXIMIZE',
0x00AE: 'BRING.TO.FRONT',
0x00AF: 'SEND.TO.BACK',
0x00B9: 'MAIN.CHART.TYPE',
0x00BA: 'OVERLAY.CHART.TYPE',
0x00BB: 'SELECT.END',
0x00BC: 'OPEN.MAIL',
0x00BD: 'SEND.MAIL',
0x00BE: 'STANDARD.FONT',
0x00BF: 'CONSOLIDATE',
0x00C0: 'SORT.SPECIAL',
0x00C1: 'GALLERY.3D.AREA',
0x00C2: 'GALLERY.3D.COLUMN',
0x00C3: 'GALLERY.3D.LINE',
0x00C4: 'GALLERY.3D.PIE',
0x00C5: 'VIEW.3D',
0x00C6: 'GOAL.SEEK',
0x00C7: 'WORKGROUP',
0x00C8: 'FILL.GROUP',
0x00C9: 'UPDATE.LINK',
0x00CA: 'PROMOTE',
0x00CB: 'DEMOTE',
0x00CC: 'SHOW.DETAIL',
0x00CE: 'UNGROUP',
0x00CF: 'OBJECT.PROPERTIES',
0x00D0: 'SAVE.NEW.OBJECT',
0x00D1: 'SHARE',
0x00D2: 'SHARE.NAME',
0x00D3: 'DUPLICATE',
0x00D4: 'APPLY.STYLE',
0x00D5: 'ASSIGN.TO.OBJECT',
0x00D6: 'OBJECT.PROTECTION',
0x00D7: 'HIDE.OBJECT',
0x00D8: 'SET.EXTRACT',
0x00D9: 'CREATE.PUBLISHER',
0x00DA: 'SUBSCRIBE.TO',
0x00DB: 'ATTRIBUTES',
0x00DC: 'SHOW.TOOLBAR',
0x00DE: 'PRINT.PREVIEW',
0x00DF: 'EDIT.COLOR',
0x00E0: 'SHOW.LEVELS',
0x00E1: 'FORMAT.MAIN',
0x00E2: 'FORMAT.OVERLAY',
0x00E3: 'ON.RECALC',
0x00E4: 'EDIT.SERIES',
0x00E5: 'DEFINE.STYLE',
0x00F0: 'LINE.PRINT',
0x00F3: 'ENTER.DATA',
0x00F9: 'GALLERY.RADAR',
0x00FA: 'MERGE.STYLES',
0x00FB: 'EDITION.OPTIONS',
0x00FC: 'PASTE.PICTURE',
0x00FD: 'PASTE.PICTURE.LINK',
0x00FE: 'SPELLING',
0x0100: 'ZOOM',
0x0103: 'INSERT.OBJECT',
0x0104: 'WINDOW.MINIMIZE',
0x0109: 'SOUND.NOTE',
0x010A: 'SOUND.PLAY',
0x010B: 'FORMAT.SHAPE',
0x010C: 'EXTEND.POLYGON',
0x010D: 'FORMAT.AUTO',
0x0110: 'GALLERY.3D.BAR',
0x0111: 'GALLERY.3D.SURFACE',
0x0112: 'FILL.AUTO',
0x0114: 'CUSTOMIZE.TOOLBAR',
0x0115: 'ADD.TOOL',
0x0116: 'EDIT.OBJECT',
0x0117: 'ON.DOUBLECLICK',
0x0118: 'ON.ENTRY',
0x0119: 'WORKBOOK.ADD',
0x011A: 'WORKBOOK.MOVE',
0x011B: 'WORKBOOK.COPY',
0x011C: 'WORKBOOK.OPTIONS',
0x011D: 'SAVE.WORKSPACE',
0x0120: 'CHART.WIZARD',
0x0121: 'DELETE.TOOL',
0x0122: 'MOVE.TOOL',
0x0123: 'WORKBOOK.SELECT',
0x0124: 'WORKBOOK.ACTIVATE',
0x0125: 'ASSIGN.TO.TOOL',
0x0127: 'COPY.TOOL',
0x0128: 'RESET.TOOL',
0x0129: 'CONSTRAIN.NUMERIC',
0x012A: 'PASTE.TOOL',
0x012E: 'WORKBOOK.NEW',
0x0131: 'SCENARIO.CELLS',
0x0132: 'SCENARIO.DELETE',
0x0133: 'SCENARIO.ADD',
0x0134: 'SCENARIO.EDIT',
0x0135: 'SCENARIO.SHOW',
0x0136: 'SCENARIO.SHOW.NEXT',
0x0137: 'SCENARIO.SUMMARY',
0x0138: 'PIVOT.TABLE.WIZARD',
0x0139: 'PIVOT.FIELD.PROPERTIES',
0x013A: 'PIVOT.FIELD',
0x013B: 'PIVOT.ITEM',
0x013C: 'PIVOT.ADD.FIELDS',
0x013E: 'OPTIONS.CALCULATION',
0x013F: 'OPTIONS.EDIT',
0x0140: 'OPTIONS.VIEW',
0x0141: 'ADDIN.MANAGER',
0x0142: 'MENU.EDITOR',
0x0143: 'ATTACH.TOOLBARS',
0x0144: 'VBAActivate',
0x0145: 'OPTIONS.CHART',
0x0148: 'VBA.INSERT.FILE',
0x014A: 'VBA.PROCEDURE.DEFINITION',
0x0150: 'ROUTING.SLIP',
0x0152: 'ROUTE.DOCUMENT',
0x0153: 'MAIL.LOGON',
0x0156: 'INSERT.PICTURE',
0x0157: 'EDIT.TOOL',
0x0158: 'GALLERY.DOUGHNUT',
0x015E: 'CHART.TREND',
0x0160: 'PIVOT.ITEM.PROPERTIES',
0x0162: 'WORKBOOK.INSERT',
0x0163: 'OPTIONS.TRANSITION',
0x0164: 'OPTIONS.GENERAL',
0x0172: 'FILTER.ADVANCED',
0x0175: 'MAIL.ADD.MAILER',
0x0176: 'MAIL.DELETE.MAILER',
0x0177: 'MAIL.REPLY',
0x0178: 'MAIL.REPLY.ALL',
0x0179: 'MAIL.FORWARD',
0x017A: 'MAIL.NEXT.LETTER',
0x017B: 'DATA.LABEL',
0x017C: 'INSERT.TITLE',
0x017D: 'FONT.PROPERTIES',
0x017E: 'MACRO.OPTIONS',
0x017F: 'WORKBOOK.HIDE',
0x0180: 'WORKBOOK.UNHIDE',
0x0181: 'WORKBOOK.DELETE',
0x0182: 'WORKBOOK.NAME',
0x0184: 'GALLERY.CUSTOM',
0x0186: 'ADD.CHART.AUTOFORMAT',
0x0187: 'DELETE.CHART.AUTOFORMAT',
0x0188: 'CHART.ADD.DATA',
0x0189: 'AUTO.OUTLINE',
0x018A: 'TAB.ORDER',
0x018B: 'SHOW.DIALOG',
0x018C: 'SELECT.ALL',
0x018D: 'UNGROUP.SHEETS',
0x018E: 'SUBTOTAL.CREATE',
0x018F: 'SUBTOTAL.REMOVE',
0x0190: 'RENAME.OBJECT',
0x019C: 'WORKBOOK.SCROLL',
0x019D: 'WORKBOOK.NEXT',
0x019E: 'WORKBOOK.PREV',
0x019F: 'WORKBOOK.TAB.SPLIT',
0x01A0: 'FULL.SCREEN',
0x01A1: 'WORKBOOK.PROTECT',
0x01A4: 'SCROLLBAR.PROPERTIES',
0x01A5: 'PIVOT.SHOW.PAGES',
0x01A6: 'TEXT.TO.COLUMNS',
0x01A7: 'FORMAT.CHARTTYPE',
0x01A8: 'LINK.FORMAT',
0x01A9: 'TRACER.DISPLAY',
0x01AE: 'TRACER.NAVIGATE',
0x01AF: 'TRACER.CLEAR',
0x01B0: 'TRACER.ERROR',
0x01B1: 'PIVOT.FIELD.GROUP',
0x01B2: 'PIVOT.FIELD.UNGROUP',
0x01B3: 'CHECKBOX.PROPERTIES',
0x01B4: 'LABEL.PROPERTIES',
0x01B5: 'LISTBOX.PROPERTIES',
0x01B6: 'EDITBOX.PROPERTIES',
0x01B7: 'PIVOT.REFRESH',
0x01B8: 'LINK.COMBO',
0x01B9: 'OPEN.TEXT',
0x01BA: 'HIDE.DIALOG',
0x01BB: 'SET.DIALOG.FOCUS',
0x01BC: 'ENABLE.OBJECT',
0x01BD: 'PUSHBUTTON.PROPERTIES',
0x01BE: 'SET.DIALOG.DEFAULT',
0x01BF: 'FILTER',
0x01C0: 'FILTER.SHOW.ALL',
0x01C1: 'CLEAR.OUTLINE',
0x01C2: 'FUNCTION.WIZARD',
0x01C3: 'ADD.LIST.ITEM',
0x01C4: 'SET.LIST.ITEM',
0x01C5: 'REMOVE.LIST.ITEM',
0x01C6: 'SELECT.LIST.ITEM',
0x01C7: 'SET.CONTROL.VALUE',
0x01C8: 'SAVE.COPY.AS',
0x01CA: 'OPTIONS.LISTS.ADD',
0x01CB: 'OPTIONS.LISTS.DELETE',
0x01CC: 'SERIES.AXES',
0x01CD: 'SERIES.X',
0x01CE: 'SERIES.Y',
0x01CF: 'ERRORBAR.X',
0x01D0: 'ERRORBAR.Y',
0x01D1: 'FORMAT.CHART',
0x01D2: 'SERIES.ORDER',
0x01D3: 'MAIL.LOGOFF',
0x01D4: 'CLEAR.ROUTING.SLIP',
0x01D5: 'APP.ACTIVATE.MICROSOFT',
0x01D6: 'MAIL.EDIT.MAILER',
0x01D7: 'ON.SHEET',
0x01D8: 'STANDARD.WIDTH',
0x01D9: 'SCENARIO.MERGE',
0x01DA: 'SUMMARY.INFO',
0x01DB: 'FIND.FILE',
0x01DC: 'ACTIVE.CELL.FONT',
0x01DD: 'ENABLE.TIPWIZARD',
0x01DE: 'VBA.MAKE.ADDIN',
0x01E0: 'INSERTDATATABLE',
0x01E1: 'WORKGROUP.OPTIONS',
0x01E2: 'MAIL.SEND.MAILER',
0x01E5: 'AUTOCORRECT',
0x01E9: 'POST.DOCUMENT',
0x01EB: 'PICKLIST',
0x01ED: 'VIEW.SHOW',
0x01EE: 'VIEW.DEFINE',
0x01EF: 'VIEW.DELETE',
0x01FD: 'SHEET.BACKGROUND',
0x01FE: 'INSERT.MAP.OBJECT',
0x01FF: 'OPTIONS.MENONO',
0x0205: 'MSOCHECKS',
0x0206: 'NORMAL',
0x0207: 'LAYOUT',
0x0208: 'RM.PRINT.AREA',
0x0209: 'CLEAR.PRINT.AREA',
0x020A: 'ADD.PRINT.AREA',
0x020B: 'MOVE.BRK',
0x0221: 'HIDECURR.NOTE',
0x0222: 'HIDEALL.NOTES',
0x0223: 'DELETE.NOTE',
0x0224: 'TRAVERSE.NOTES',
0x0225: 'ACTIVATE.NOTES',
0x026C: 'PROTECT.REVISIONS',
0x026D: 'UNPROTECT.REVISIONS',
0x0287: 'OPTIONS.ME',
0x028D: 'WEB.PUBLISH',
0x029B: 'NEWWEBQUERY',
0x02A1: 'PIVOT.TABLE.CHART',
0x02F1: 'OPTIONS.SAVE',
0x02F3: 'OPTIONS.SPELL',
0x0328: 'HIDEALL.INKANNOTS'
};

/* [MS-XLS] 2.5.198.17 */
/* [MS-XLSB] 2.5.97.10 */
var Ftab = {
0x0000: 'COUNT',
0x0001: 'IF',
0x0002: 'ISNA',
0x0003: 'ISERROR',
0x0004: 'SUM',
0x0005: 'AVERAGE',
0x0006: 'MIN',
0x0007: 'MAX',
0x0008: 'ROW',
0x0009: 'COLUMN',
0x000A: 'NA',
0x000B: 'NPV',
0x000C: 'STDEV',
0x000D: 'DOLLAR',
0x000E: 'FIXED',
0x000F: 'SIN',
0x0010: 'COS',
0x0011: 'TAN',
0x0012: 'ATAN',
0x0013: 'PI',
0x0014: 'SQRT',
0x0015: 'EXP',
0x0016: 'LN',
0x0017: 'LOG10',
0x0018: 'ABS',
0x0019: 'INT',
0x001A: 'SIGN',
0x001B: 'ROUND',
0x001C: 'LOOKUP',
0x001D: 'INDEX',
0x001E: 'REPT',
0x001F: 'MID',
0x0020: 'LEN',
0x0021: 'VALUE',
0x0022: 'TRUE',
0x0023: 'FALSE',
0x0024: 'AND',
0x0025: 'OR',
0x0026: 'NOT',
0x0027: 'MOD',
0x0028: 'DCOUNT',
0x0029: 'DSUM',
0x002A: 'DAVERAGE',
0x002B: 'DMIN',
0x002C: 'DMAX',
0x002D: 'DSTDEV',
0x002E: 'VAR',
0x002F: 'DVAR',
0x0030: 'TEXT',
0x0031: 'LINEST',
0x0032: 'TREND',
0x0033: 'LOGEST',
0x0034: 'GROWTH',
0x0035: 'GOTO',
0x0036: 'HALT',
0x0037: 'RETURN',
0x0038: 'PV',
0x0039: 'FV',
0x003A: 'NPER',
0x003B: 'PMT',
0x003C: 'RATE',
0x003D: 'MIRR',
0x003E: 'IRR',
0x003F: 'RAND',
0x0040: 'MATCH',
0x0041: 'DATE',
0x0042: 'TIME',
0x0043: 'DAY',
0x0044: 'MONTH',
0x0045: 'YEAR',
0x0046: 'WEEKDAY',
0x0047: 'HOUR',
0x0048: 'MINUTE',
0x0049: 'SECOND',
0x004A: 'NOW',
0x004B: 'AREAS',
0x004C: 'ROWS',
0x004D: 'COLUMNS',
0x004E: 'OFFSET',
0x004F: 'ABSREF',
0x0050: 'RELREF',
0x0051: 'ARGUMENT',
0x0052: 'SEARCH',
0x0053: 'TRANSPOSE',
0x0054: 'ERROR',
0x0055: 'STEP',
0x0056: 'TYPE',
0x0057: 'ECHO',
0x0058: 'SET.NAME',
0x0059: 'CALLER',
0x005A: 'DEREF',
0x005B: 'WINDOWS',
0x005C: 'SERIES',
0x005D: 'DOCUMENTS',
0x005E: 'ACTIVE.CELL',
0x005F: 'SELECTION',
0x0060: 'RESULT',
0x0061: 'ATAN2',
0x0062: 'ASIN',
0x0063: 'ACOS',
0x0064: 'CHOOSE',
0x0065: 'HLOOKUP',
0x0066: 'VLOOKUP',
0x0067: 'LINKS',
0x0068: 'INPUT',
0x0069: 'ISREF',
0x006A: 'GET.FORMULA',
0x006B: 'GET.NAME',
0x006C: 'SET.VALUE',
0x006D: 'LOG',
0x006E: 'EXEC',
0x006F: 'CHAR',
0x0070: 'LOWER',
0x0071: 'UPPER',
0x0072: 'PROPER',
0x0073: 'LEFT',
0x0074: 'RIGHT',
0x0075: 'EXACT',
0x0076: 'TRIM',
0x0077: 'REPLACE',
0x0078: 'SUBSTITUTE',
0x0079: 'CODE',
0x007A: 'NAMES',
0x007B: 'DIRECTORY',
0x007C: 'FIND',
0x007D: 'CELL',
0x007E: 'ISERR',
0x007F: 'ISTEXT',
0x0080: 'ISNUMBER',
0x0081: 'ISBLANK',
0x0082: 'T',
0x0083: 'N',
0x0084: 'FOPEN',
0x0085: 'FCLOSE',
0x0086: 'FSIZE',
0x0087: 'FREADLN',
0x0088: 'FREAD',
0x0089: 'FWRITELN',
0x008A: 'FWRITE',
0x008B: 'FPOS',
0x008C: 'DATEVALUE',
0x008D: 'TIMEVALUE',
0x008E: 'SLN',
0x008F: 'SYD',
0x0090: 'DDB',
0x0091: 'GET.DEF',
0x0092: 'REFTEXT',
0x0093: 'TEXTREF',
0x0094: 'INDIRECT',
0x0095: 'REGISTER',
0x0096: 'CALL',
0x0097: 'ADD.BAR',
0x0098: 'ADD.MENU',
0x0099: 'ADD.COMMAND',
0x009A: 'ENABLE.COMMAND',
0x009B: 'CHECK.COMMAND',
0x009C: 'RENAME.COMMAND',
0x009D: 'SHOW.BAR',
0x009E: 'DELETE.MENU',
0x009F: 'DELETE.COMMAND',
0x00A0: 'GET.CHART.ITEM',
0x00A1: 'DIALOG.BOX',
0x00A2: 'CLEAN',
0x00A3: 'MDETERM',
0x00A4: 'MINVERSE',
0x00A5: 'MMULT',
0x00A6: 'FILES',
0x00A7: 'IPMT',
0x00A8: 'PPMT',
0x00A9: 'COUNTA',
0x00AA: 'CANCEL.KEY',
0x00AB: 'FOR',
0x00AC: 'WHILE',
0x00AD: 'BREAK',
0x00AE: 'NEXT',
0x00AF: 'INITIATE',
0x00B0: 'REQUEST',
0x00B1: 'POKE',
0x00B2: 'EXECUTE',
0x00B3: 'TERMINATE',
0x00B4: 'RESTART',
0x00B5: 'HELP',
0x00B6: 'GET.BAR',
0x00B7: 'PRODUCT',
0x00B8: 'FACT',
0x00B9: 'GET.CELL',
0x00BA: 'GET.WORKSPACE',
0x00BB: 'GET.WINDOW',
0x00BC: 'GET.DOCUMENT',
0x00BD: 'DPRODUCT',
0x00BE: 'ISNONTEXT',
0x00BF: 'GET.NOTE',
0x00C0: 'NOTE',
0x00C1: 'STDEVP',
0x00C2: 'VARP',
0x00C3: 'DSTDEVP',
0x00C4: 'DVARP',
0x00C5: 'TRUNC',
0x00C6: 'ISLOGICAL',
0x00C7: 'DCOUNTA',
0x00C8: 'DELETE.BAR',
0x00C9: 'UNREGISTER',
0x00CC: 'USDOLLAR',
0x00CD: 'FINDB',
0x00CE: 'SEARCHB',
0x00CF: 'REPLACEB',
0x00D0: 'LEFTB',
0x00D1: 'RIGHTB',
0x00D2: 'MIDB',
0x00D3: 'LENB',
0x00D4: 'ROUNDUP',
0x00D5: 'ROUNDDOWN',
0x00D6: 'ASC',
0x00D7: 'DBCS',
0x00D8: 'RANK',
0x00DB: 'ADDRESS',
0x00DC: 'DAYS360',
0x00DD: 'TODAY',
0x00DE: 'VDB',
0x00DF: 'ELSE',
0x00E0: 'ELSE.IF',
0x00E1: 'END.IF',
0x00E2: 'FOR.CELL',
0x00E3: 'MEDIAN',
0x00E4: 'SUMPRODUCT',
0x00E5: 'SINH',
0x00E6: 'COSH',
0x00E7: 'TANH',
0x00E8: 'ASINH',
0x00E9: 'ACOSH',
0x00EA: 'ATANH',
0x00EB: 'DGET',
0x00EC: 'CREATE.OBJECT',
0x00ED: 'VOLATILE',
0x00EE: 'LAST.ERROR',
0x00EF: 'CUSTOM.UNDO',
0x00F0: 'CUSTOM.REPEAT',
0x00F1: 'FORMULA.CONVERT',
0x00F2: 'GET.LINK.INFO',
0x00F3: 'TEXT.BOX',
0x00F4: 'INFO',
0x00F5: 'GROUP',
0x00F6: 'GET.OBJECT',
0x00F7: 'DB',
0x00F8: 'PAUSE',
0x00FB: 'RESUME',
0x00FC: 'FREQUENCY',
0x00FD: 'ADD.TOOLBAR',
0x00FE: 'DELETE.TOOLBAR',
0x00FF: 'User',
0x0100: 'RESET.TOOLBAR',
0x0101: 'EVALUATE',
0x0102: 'GET.TOOLBAR',
0x0103: 'GET.TOOL',
0x0104: 'SPELLING.CHECK',
0x0105: 'ERROR.TYPE',
0x0106: 'APP.TITLE',
0x0107: 'WINDOW.TITLE',
0x0108: 'SAVE.TOOLBAR',
0x0109: 'ENABLE.TOOL',
0x010A: 'PRESS.TOOL',
0x010B: 'REGISTER.ID',
0x010C: 'GET.WORKBOOK',
0x010D: 'AVEDEV',
0x010E: 'BETADIST',
0x010F: 'GAMMALN',
0x0110: 'BETAINV',
0x0111: 'BINOMDIST',
0x0112: 'CHIDIST',
0x0113: 'CHIINV',
0x0114: 'COMBIN',
0x0115: 'CONFIDENCE',
0x0116: 'CRITBINOM',
0x0117: 'EVEN',
0x0118: 'EXPONDIST',
0x0119: 'FDIST',
0x011A: 'FINV',
0x011B: 'FISHER',
0x011C: 'FISHERINV',
0x011D: 'FLOOR',
0x011E: 'GAMMADIST',
0x011F: 'GAMMAINV',
0x0120: 'CEILING',
0x0121: 'HYPGEOMDIST',
0x0122: 'LOGNORMDIST',
0x0123: 'LOGINV',
0x0124: 'NEGBINOMDIST',
0x0125: 'NORMDIST',
0x0126: 'NORMSDIST',
0x0127: 'NORMINV',
0x0128: 'NORMSINV',
0x0129: 'STANDARDIZE',
0x012A: 'ODD',
0x012B: 'PERMUT',
0x012C: 'POISSON',
0x012D: 'TDIST',
0x012E: 'WEIBULL',
0x012F: 'SUMXMY2',
0x0130: 'SUMX2MY2',
0x0131: 'SUMX2PY2',
0x0132: 'CHITEST',
0x0133: 'CORREL',
0x0134: 'COVAR',
0x0135: 'FORECAST',
0x0136: 'FTEST',
0x0137: 'INTERCEPT',
0x0138: 'PEARSON',
0x0139: 'RSQ',
0x013A: 'STEYX',
0x013B: 'SLOPE',
0x013C: 'TTEST',
0x013D: 'PROB',
0x013E: 'DEVSQ',
0x013F: 'GEOMEAN',
0x0140: 'HARMEAN',
0x0141: 'SUMSQ',
0x0142: 'KURT',
0x0143: 'SKEW',
0x0144: 'ZTEST',
0x0145: 'LARGE',
0x0146: 'SMALL',
0x0147: 'QUARTILE',
0x0148: 'PERCENTILE',
0x0149: 'PERCENTRANK',
0x014A: 'MODE',
0x014B: 'TRIMMEAN',
0x014C: 'TINV',
0x014E: 'MOVIE.COMMAND',
0x014F: 'GET.MOVIE',
0x0150: 'CONCATENATE',
0x0151: 'POWER',
0x0152: 'PIVOT.ADD.DATA',
0x0153: 'GET.PIVOT.TABLE',
0x0154: 'GET.PIVOT.FIELD',
0x0155: 'GET.PIVOT.ITEM',
0x0156: 'RADIANS',
0x0157: 'DEGREES',
0x0158: 'SUBTOTAL',
0x0159: 'SUMIF',
0x015A: 'COUNTIF',
0x015B: 'COUNTBLANK',
0x015C: 'SCENARIO.GET',
0x015D: 'OPTIONS.LISTS.GET',
0x015E: 'ISPMT',
0x015F: 'DATEDIF',
0x0160: 'DATESTRING',
0x0161: 'NUMBERSTRING',
0x0162: 'ROMAN',
0x0163: 'OPEN.DIALOG',
0x0164: 'SAVE.DIALOG',
0x0165: 'VIEW.GET',
0x0166: 'GETPIVOTDATA',
0x0167: 'HYPERLINK',
0x0168: 'PHONETIC',
0x0169: 'AVERAGEA',
0x016A: 'MAXA',
0x016B: 'MINA',
0x016C: 'STDEVPA',
0x016D: 'VARPA',
0x016E: 'STDEVA',
0x016F: 'VARA',
0x0170: 'BAHTTEXT',
0x0171: 'THAIDAYOFWEEK',
0x0172: 'THAIDIGIT',
0x0173: 'THAIMONTHOFYEAR',
0x0174: 'THAINUMSOUND',
0x0175: 'THAINUMSTRING',
0x0176: 'THAISTRINGLENGTH',
0x0177: 'ISTHAIDIGIT',
0x0178: 'ROUNDBAHTDOWN',
0x0179: 'ROUNDBAHTUP',
0x017A: 'THAIYEAR',
0x017B: 'RTD',

0x017C: 'CUBEVALUE',
0x017D: 'CUBEMEMBER',
0x017E: 'CUBEMEMBERPROPERTY',
0x017F: 'CUBERANKEDMEMBER',
0x0180: 'HEX2BIN',
0x0181: 'HEX2DEC',
0x0182: 'HEX2OCT',
0x0183: 'DEC2BIN',
0x0184: 'DEC2HEX',
0x0185: 'DEC2OCT',
0x0186: 'OCT2BIN',
0x0187: 'OCT2HEX',
0x0188: 'OCT2DEC',
0x0189: 'BIN2DEC',
0x018A: 'BIN2OCT',
0x018B: 'BIN2HEX',
0x018C: 'IMSUB',
0x018D: 'IMDIV',
0x018E: 'IMPOWER',
0x018F: 'IMABS',
0x0190: 'IMSQRT',
0x0191: 'IMLN',
0x0192: 'IMLOG2',
0x0193: 'IMLOG10',
0x0194: 'IMSIN',
0x0195: 'IMCOS',
0x0196: 'IMEXP',
0x0197: 'IMARGUMENT',
0x0198: 'IMCONJUGATE',
0x0199: 'IMAGINARY',
0x019A: 'IMREAL',
0x019B: 'COMPLEX',
0x019C: 'IMSUM',
0x019D: 'IMPRODUCT',
0x019E: 'SERIESSUM',
0x019F: 'FACTDOUBLE',
0x01A0: 'SQRTPI',
0x01A1: 'QUOTIENT',
0x01A2: 'DELTA',
0x01A3: 'GESTEP',
0x01A4: 'ISEVEN',
0x01A5: 'ISODD',
0x01A6: 'MROUND',
0x01A7: 'ERF',
0x01A8: 'ERFC',
0x01A9: 'BESSELJ',
0x01AA: 'BESSELK',
0x01AB: 'BESSELY',
0x01AC: 'BESSELI',
0x01AD: 'XIRR',
0x01AE: 'XNPV',
0x01AF: 'PRICEMAT',
0x01B0: 'YIELDMAT',
0x01B1: 'INTRATE',
0x01B2: 'RECEIVED',
0x01B3: 'DISC',
0x01B4: 'PRICEDISC',
0x01B5: 'YIELDDISC',
0x01B6: 'TBILLEQ',
0x01B7: 'TBILLPRICE',
0x01B8: 'TBILLYIELD',
0x01B9: 'PRICE',
0x01BA: 'YIELD',
0x01BB: 'DOLLARDE',
0x01BC: 'DOLLARFR',
0x01BD: 'NOMINAL',
0x01BE: 'EFFECT',
0x01BF: 'CUMPRINC',
0x01C0: 'CUMIPMT',
0x01C1: 'EDATE',
0x01C2: 'EOMONTH',
0x01C3: 'YEARFRAC',
0x01C4: 'COUPDAYBS',
0x01C5: 'COUPDAYS',
0x01C6: 'COUPDAYSNC',
0x01C7: 'COUPNCD',
0x01C8: 'COUPNUM',
0x01C9: 'COUPPCD',
0x01CA: 'DURATION',
0x01CB: 'MDURATION',
0x01CC: 'ODDLPRICE',
0x01CD: 'ODDLYIELD',
0x01CE: 'ODDFPRICE',
0x01CF: 'ODDFYIELD',
0x01D0: 'RANDBETWEEN',
0x01D1: 'WEEKNUM',
0x01D2: 'AMORDEGRC',
0x01D3: 'AMORLINC',
0x01D4: 'CONVERT',
0x02D4: 'SHEETJS',
0x01D5: 'ACCRINT',
0x01D6: 'ACCRINTM',
0x01D7: 'WORKDAY',
0x01D8: 'NETWORKDAYS',
0x01D9: 'GCD',
0x01DA: 'MULTINOMIAL',
0x01DB: 'LCM',
0x01DC: 'FVSCHEDULE',
0x01DD: 'CUBEKPIMEMBER',
0x01DE: 'CUBESET',
0x01DF: 'CUBESETCOUNT',
0x01E0: 'IFERROR',
0x01E1: 'COUNTIFS',
0x01E2: 'SUMIFS',
0x01E3: 'AVERAGEIF',
0x01E4: 'AVERAGEIFS'
};
var FtabArgc = {
0x0002: 1, /* ISNA */
0x0003: 1, /* ISERROR */
0x000A: 0, /* NA */
0x000F: 1, /* SIN */
0x0010: 1, /* COS */
0x0011: 1, /* TAN */
0x0012: 1, /* ATAN */
0x0013: 0, /* PI */
0x0014: 1, /* SQRT */
0x0015: 1, /* EXP */
0x0016: 1, /* LN */
0x0017: 1, /* LOG10 */
0x0018: 1, /* ABS */
0x0019: 1, /* INT */
0x001A: 1, /* SIGN */
0x001B: 2, /* ROUND */
0x001E: 2, /* REPT */
0x001F: 3, /* MID */
0x0020: 1, /* LEN */
0x0021: 1, /* VALUE */
0x0022: 0, /* TRUE */
0x0023: 0, /* FALSE */
0x0026: 1, /* NOT */
0x0027: 2, /* MOD */
0x0028: 3, /* DCOUNT */
0x0029: 3, /* DSUM */
0x002A: 3, /* DAVERAGE */
0x002B: 3, /* DMIN */
0x002C: 3, /* DMAX */
0x002D: 3, /* DSTDEV */
0x002F: 3, /* DVAR */
0x0030: 2, /* TEXT */
0x0035: 1, /* GOTO */
0x003D: 3, /* MIRR */
0x003F: 0, /* RAND */
0x0041: 3, /* DATE */
0x0042: 3, /* TIME */
0x0043: 1, /* DAY */
0x0044: 1, /* MONTH */
0x0045: 1, /* YEAR */
0x0046: 1, /* WEEKDAY */
0x0047: 1, /* HOUR */
0x0048: 1, /* MINUTE */
0x0049: 1, /* SECOND */
0x004A: 0, /* NOW */
0x004B: 1, /* AREAS */
0x004C: 1, /* ROWS */
0x004D: 1, /* COLUMNS */
0x004F: 2, /* ABSREF */
0x0050: 2, /* RELREF */
0x0053: 1, /* TRANSPOSE */
0x0055: 0, /* STEP */
0x0056: 1, /* TYPE */
0x0059: 0, /* CALLER */
0x005A: 1, /* DEREF */
0x005E: 0, /* ACTIVE.CELL */
0x005F: 0, /* SELECTION */
0x0061: 2, /* ATAN2 */
0x0062: 1, /* ASIN */
0x0063: 1, /* ACOS */
0x0065: 3, /* HLOOKUP */
0x0066: 3, /* VLOOKUP */
0x0069: 1, /* ISREF */
0x006A: 1, /* GET.FORMULA */
0x006C: 2, /* SET.VALUE */
0x006F: 1, /* CHAR */
0x0070: 1, /* LOWER */
0x0071: 1, /* UPPER */
0x0072: 1, /* PROPER */
0x0075: 2, /* EXACT */
0x0076: 1, /* TRIM */
0x0077: 4, /* REPLACE */
0x0079: 1, /* CODE */
0x007E: 1, /* ISERR */
0x007F: 1, /* ISTEXT */
0x0080: 1, /* ISNUMBER */
0x0081: 1, /* ISBLANK */
0x0082: 1, /* T */
0x0083: 1, /* N */
0x0085: 1, /* FCLOSE */
0x0086: 1, /* FSIZE */
0x0087: 1, /* FREADLN */
0x0088: 2, /* FREAD */
0x0089: 2, /* FWRITELN */
0x008A: 2, /* FWRITE */
0x008C: 1, /* DATEVALUE */
0x008D: 1, /* TIMEVALUE */
0x008E: 3, /* SLN */
0x008F: 4, /* SYD */
0x0090: 4, /* DDB */
0x00A1: 1, /* DIALOG.BOX */
0x00A2: 1, /* CLEAN */
0x00A3: 1, /* MDETERM */
0x00A4: 1, /* MINVERSE */
0x00A5: 2, /* MMULT */
0x00AC: 1, /* WHILE */
0x00AF: 2, /* INITIATE */
0x00B0: 2, /* REQUEST */
0x00B1: 3, /* POKE */
0x00B2: 2, /* EXECUTE */
0x00B3: 1, /* TERMINATE */
0x00B8: 1, /* FACT */
0x00BA: 1, /* GET.WORKSPACE */
0x00BD: 3, /* DPRODUCT */
0x00BE: 1, /* ISNONTEXT */
0x00C3: 3, /* DSTDEVP */
0x00C4: 3, /* DVARP */
0x00C5: 1, /* TRUNC */
0x00C6: 1, /* ISLOGICAL */
0x00C7: 3, /* DCOUNTA */
0x00C9: 1, /* UNREGISTER */
0x00CF: 4, /* REPLACEB */
0x00D2: 3, /* MIDB */
0x00D3: 1, /* LENB */
0x00D4: 2, /* ROUNDUP */
0x00D5: 2, /* ROUNDDOWN */
0x00D6: 1, /* ASC */
0x00D7: 1, /* DBCS */
0x00E1: 0, /* END.IF */
0x00E5: 1, /* SINH */
0x00E6: 1, /* COSH */
0x00E7: 1, /* TANH */
0x00E8: 1, /* ASINH */
0x00E9: 1, /* ACOSH */
0x00EA: 1, /* ATANH */
0x00EB: 3, /* DGET */
0x00F4: 1, /* INFO */
0x00F7: 4, /* DB */
0x00FC: 2, /* FREQUENCY */
0x0101: 1, /* EVALUATE */
0x0105: 1, /* ERROR.TYPE */
0x010F: 1, /* GAMMALN */
0x0111: 4, /* BINOMDIST */
0x0112: 2, /* CHIDIST */
0x0113: 2, /* CHIINV */
0x0114: 2, /* COMBIN */
0x0115: 3, /* CONFIDENCE */
0x0116: 3, /* CRITBINOM */
0x0117: 1, /* EVEN */
0x0118: 3, /* EXPONDIST */
0x0119: 3, /* FDIST */
0x011A: 3, /* FINV */
0x011B: 1, /* FISHER */
0x011C: 1, /* FISHERINV */
0x011D: 2, /* FLOOR */
0x011E: 4, /* GAMMADIST */
0x011F: 3, /* GAMMAINV */
0x0120: 2, /* CEILING */
0x0121: 4, /* HYPGEOMDIST */
0x0122: 3, /* LOGNORMDIST */
0x0123: 3, /* LOGINV */
0x0124: 3, /* NEGBINOMDIST */
0x0125: 4, /* NORMDIST */
0x0126: 1, /* NORMSDIST */
0x0127: 3, /* NORMINV */
0x0128: 1, /* NORMSINV */
0x0129: 3, /* STANDARDIZE */
0x012A: 1, /* ODD */
0x012B: 2, /* PERMUT */
0x012C: 3, /* POISSON */
0x012D: 3, /* TDIST */
0x012E: 4, /* WEIBULL */
0x012F: 2, /* SUMXMY2 */
0x0130: 2, /* SUMX2MY2 */
0x0131: 2, /* SUMX2PY2 */
0x0132: 2, /* CHITEST */
0x0133: 2, /* CORREL */
0x0134: 2, /* COVAR */
0x0135: 3, /* FORECAST */
0x0136: 2, /* FTEST */
0x0137: 2, /* INTERCEPT */
0x0138: 2, /* PEARSON */
0x0139: 2, /* RSQ */
0x013A: 2, /* STEYX */
0x013B: 2, /* SLOPE */
0x013C: 4, /* TTEST */
0x0145: 2, /* LARGE */
0x0146: 2, /* SMALL */
0x0147: 2, /* QUARTILE */
0x0148: 2, /* PERCENTILE */
0x014B: 2, /* TRIMMEAN */
0x014C: 2, /* TINV */
0x0151: 2, /* POWER */
0x0156: 1, /* RADIANS */
0x0157: 1, /* DEGREES */
0x015A: 2, /* COUNTIF */
0x015B: 1, /* COUNTBLANK */
0x015E: 4, /* ISPMT */
0x015F: 3, /* DATEDIF */
0x0160: 1, /* DATESTRING */
0x0161: 2, /* NUMBERSTRING */
0x0168: 1, /* PHONETIC */
0x0170: 1, /* BAHTTEXT */
0x0171: 1, /* THAIDAYOFWEEK */
0x0172: 1, /* THAIDIGIT */
0x0173: 1, /* THAIMONTHOFYEAR */
0x0174: 1, /* THAINUMSOUND */
0x0175: 1, /* THAINUMSTRING */
0x0176: 1, /* THAISTRINGLENGTH */
0x0177: 1, /* ISTHAIDIGIT */
0x0178: 1, /* ROUNDBAHTDOWN */
0x0179: 1, /* ROUNDBAHTUP */
0x017A: 1, /* THAIYEAR */
0x017E: 3, /* CUBEMEMBERPROPERTY */
0x0181: 1, /* HEX2DEC */
0x0188: 1, /* OCT2DEC */
0x0189: 1, /* BIN2DEC */
0x018C: 2, /* IMSUB */
0x018D: 2, /* IMDIV */
0x018E: 2, /* IMPOWER */
0x018F: 1, /* IMABS */
0x0190: 1, /* IMSQRT */
0x0191: 1, /* IMLN */
0x0192: 1, /* IMLOG2 */
0x0193: 1, /* IMLOG10 */
0x0194: 1, /* IMSIN */
0x0195: 1, /* IMCOS */
0x0196: 1, /* IMEXP */
0x0197: 1, /* IMARGUMENT */
0x0198: 1, /* IMCONJUGATE */
0x0199: 1, /* IMAGINARY */
0x019A: 1, /* IMREAL */
0x019E: 4, /* SERIESSUM */
0x019F: 1, /* FACTDOUBLE */
0x01A0: 1, /* SQRTPI */
0x01A1: 2, /* QUOTIENT */
0x01A4: 1, /* ISEVEN */
0x01A5: 1, /* ISODD */
0x01A6: 2, /* MROUND */
0x01A8: 1, /* ERFC */
0x01A9: 2, /* BESSELJ */
0x01AA: 2, /* BESSELK */
0x01AB: 2, /* BESSELY */
0x01AC: 2, /* BESSELI */
0x01AE: 3, /* XNPV */
0x01B6: 3, /* TBILLEQ */
0x01B7: 3, /* TBILLPRICE */
0x01B8: 3, /* TBILLYIELD */
0x01BB: 2, /* DOLLARDE */
0x01BC: 2, /* DOLLARFR */
0x01BD: 2, /* NOMINAL */
0x01BE: 2, /* EFFECT */
0x01BF: 6, /* CUMPRINC */
0x01C0: 6, /* CUMIPMT */
0x01C1: 2, /* EDATE */
0x01C2: 2, /* EOMONTH */
0x01D0: 2, /* RANDBETWEEN */
0x01D4: 3, /* CONVERT */
0x01DC: 2, /* FVSCHEDULE */
0x01DF: 1, /* CUBESETCOUNT */
0x01E0: 2, /* IFERROR */
0xFFFF: 0
};
/* [MS-XLSX] 2.2.3 Functions */
/* [MS-XLSB] 2.5.97.10 Ftab */
var XLSXFutureFunctions = {
	"_xlfn.ACOT": "ACOT",
	"_xlfn.ACOTH": "ACOTH",
	"_xlfn.AGGREGATE": "AGGREGATE",
	"_xlfn.ARABIC": "ARABIC",
	"_xlfn.AVERAGEIF": "AVERAGEIF",
	"_xlfn.AVERAGEIFS": "AVERAGEIFS",
	"_xlfn.BASE": "BASE",
	"_xlfn.BETA.DIST": "BETA.DIST",
	"_xlfn.BETA.INV": "BETA.INV",
	"_xlfn.BINOM.DIST": "BINOM.DIST",
	"_xlfn.BINOM.DIST.RANGE": "BINOM.DIST.RANGE",
	"_xlfn.BINOM.INV": "BINOM.INV",
	"_xlfn.BITAND": "BITAND",
	"_xlfn.BITLSHIFT": "BITLSHIFT",
	"_xlfn.BITOR": "BITOR",
	"_xlfn.BITRSHIFT": "BITRSHIFT",
	"_xlfn.BITXOR": "BITXOR",
	"_xlfn.CEILING.MATH": "CEILING.MATH",
	"_xlfn.CEILING.PRECISE": "CEILING.PRECISE",
	"_xlfn.CHISQ.DIST": "CHISQ.DIST",
	"_xlfn.CHISQ.DIST.RT": "CHISQ.DIST.RT",
	"_xlfn.CHISQ.INV": "CHISQ.INV",
	"_xlfn.CHISQ.INV.RT": "CHISQ.INV.RT",
	"_xlfn.CHISQ.TEST": "CHISQ.TEST",
	"_xlfn.COMBINA": "COMBINA",
	"_xlfn.CONCAT": "CONCAT",
	"_xlfn.CONFIDENCE.NORM": "CONFIDENCE.NORM",
	"_xlfn.CONFIDENCE.T": "CONFIDENCE.T",
	"_xlfn.COT": "COT",
	"_xlfn.COTH": "COTH",
	"_xlfn.COUNTIFS": "COUNTIFS",
	"_xlfn.COVARIANCE.P": "COVARIANCE.P",
	"_xlfn.COVARIANCE.S": "COVARIANCE.S",
	"_xlfn.CSC": "CSC",
	"_xlfn.CSCH": "CSCH",
	"_xlfn.DAYS": "DAYS",
	"_xlfn.DECIMAL": "DECIMAL",
	"_xlfn.ECMA.CEILING": "ECMA.CEILING",
	"_xlfn.ERF.PRECISE": "ERF.PRECISE",
	"_xlfn.ERFC.PRECISE": "ERFC.PRECISE",
	"_xlfn.EXPON.DIST": "EXPON.DIST",
	"_xlfn.F.DIST": "F.DIST",
	"_xlfn.F.DIST.RT": "F.DIST.RT",
	"_xlfn.F.INV": "F.INV",
	"_xlfn.F.INV.RT": "F.INV.RT",
	"_xlfn.F.TEST": "F.TEST",
	"_xlfn.FILTERXML": "FILTERXML",
	"_xlfn.FLOOR.MATH": "FLOOR.MATH",
	"_xlfn.FLOOR.PRECISE": "FLOOR.PRECISE",
	"_xlfn.FORECAST.ETS": "FORECAST.ETS",
	"_xlfn.FORECAST.ETS.CONFINT": "FORECAST.ETS.CONFINT",
	"_xlfn.FORECAST.ETS.SEASONALITY": "FORECAST.ETS.SEASONALITY",
	"_xlfn.FORECAST.ETS.STAT": "FORECAST.ETS.STAT",
	"_xlfn.FORECAST.LINEAR": "FORECAST.LINEAR",
	"_xlfn.FORMULATEXT": "FORMULATEXT",
	"_xlfn.GAMMA": "GAMMA",
	"_xlfn.GAMMA.DIST": "GAMMA.DIST",
	"_xlfn.GAMMA.INV": "GAMMA.INV",
	"_xlfn.GAMMALN.PRECISE": "GAMMALN.PRECISE",
	"_xlfn.GAUSS": "GAUSS",
	"_xlfn.HYPGEOM.DIST": "HYPGEOM.DIST",
	"_xlfn.IFERROR": "IFERROR",
	"_xlfn.IFNA": "IFNA",
	"_xlfn.IFS": "IFS",
	"_xlfn.IMCOSH": "IMCOSH",
	"_xlfn.IMCOT": "IMCOT",
	"_xlfn.IMCSC": "IMCSC",
	"_xlfn.IMCSCH": "IMCSCH",
	"_xlfn.IMSEC": "IMSEC",
	"_xlfn.IMSECH": "IMSECH",
	"_xlfn.IMSINH": "IMSINH",
	"_xlfn.IMTAN": "IMTAN",
	"_xlfn.ISFORMULA": "ISFORMULA",
	"_xlfn.ISO.CEILING": "ISO.CEILING",
	"_xlfn.ISOWEEKNUM": "ISOWEEKNUM",
	"_xlfn.LOGNORM.DIST": "LOGNORM.DIST",
	"_xlfn.LOGNORM.INV": "LOGNORM.INV",
	"_xlfn.MAXIFS": "MAXIFS",
	"_xlfn.MINIFS": "MINIFS",
	"_xlfn.MODE.MULT": "MODE.MULT",
	"_xlfn.MODE.SNGL": "MODE.SNGL",
	"_xlfn.MUNIT": "MUNIT",
	"_xlfn.NEGBINOM.DIST": "NEGBINOM.DIST",
	"_xlfn.NETWORKDAYS.INTL": "NETWORKDAYS.INTL",
	"_xlfn.NIGBINOM": "NIGBINOM",
	"_xlfn.NORM.DIST": "NORM.DIST",
	"_xlfn.NORM.INV": "NORM.INV",
	"_xlfn.NORM.S.DIST": "NORM.S.DIST",
	"_xlfn.NORM.S.INV": "NORM.S.INV",
	"_xlfn.NUMBERVALUE": "NUMBERVALUE",
	"_xlfn.PDURATION": "PDURATION",
	"_xlfn.PERCENTILE.EXC": "PERCENTILE.EXC",
	"_xlfn.PERCENTILE.INC": "PERCENTILE.INC",
	"_xlfn.PERCENTRANK.EXC": "PERCENTRANK.EXC",
	"_xlfn.PERCENTRANK.INC": "PERCENTRANK.INC",
	"_xlfn.PERMUTATIONA": "PERMUTATIONA",
	"_xlfn.PHI": "PHI",
	"_xlfn.POISSON.DIST": "POISSON.DIST",
	"_xlfn.QUARTILE.EXC": "QUARTILE.EXC",
	"_xlfn.QUARTILE.INC": "QUARTILE.INC",
	"_xlfn.QUERYSTRING": "QUERYSTRING",
	"_xlfn.RANK.AVG": "RANK.AVG",
	"_xlfn.RANK.EQ": "RANK.EQ",
	"_xlfn.RRI": "RRI",
	"_xlfn.SEC": "SEC",
	"_xlfn.SECH": "SECH",
	"_xlfn.SHEET": "SHEET",
	"_xlfn.SHEETS": "SHEETS",
	"_xlfn.SKEW.P": "SKEW.P",
	"_xlfn.STDEV.P": "STDEV.P",
	"_xlfn.STDEV.S": "STDEV.S",
	"_xlfn.SUMIFS": "SUMIFS",
	"_xlfn.SWITCH": "SWITCH",
	"_xlfn.T.DIST": "T.DIST",
	"_xlfn.T.DIST.2T": "T.DIST.2T",
	"_xlfn.T.DIST.RT": "T.DIST.RT",
	"_xlfn.T.INV": "T.INV",
	"_xlfn.T.INV.2T": "T.INV.2T",
	"_xlfn.T.TEST": "T.TEST",
	"_xlfn.TEXTJOIN": "TEXTJOIN",
	"_xlfn.UNICHAR": "UNICHAR",
	"_xlfn.UNICODE": "UNICODE",
	"_xlfn.VAR.P": "VAR.P",
	"_xlfn.VAR.S": "VAR.S",
	"_xlfn.WEBSERVICE": "WEBSERVICE",
	"_xlfn.WEIBULL.DIST": "WEIBULL.DIST",
	"_xlfn.WORKDAY.INTL": "WORKDAY.INTL",
	"_xlfn.XOR": "XOR",
	"_xlfn.Z.TEST": "Z.TEST"
};

/* Part 3 TODO: actually parse formulae */
function ods_to_csf_formula(f) {
	if(f.slice(0,3) == "of:") f = f.slice(3);
	/* 5.2 Basic Expressions */
	if(f.charCodeAt(0) == 61) {
		f = f.slice(1);
		if(f.charCodeAt(0) == 61) f = f.slice(1);
	}
	f = f.replace(/COM\.MICROSOFT\./g, "");
	/* Part 3 Section 5.8 References */
	f = f.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g, function($$, $1) { return $1.replace(/\./g,""); });
	/* TODO: something other than this */
	f = f.replace(/\[.(#[A-Z]*[?!])\]/g, "$1");
	return f.replace(/[;~]/g,",").replace(/\|/g,";");
}

function csf_to_ods_formula(f) {
	var o = "of:=" + f.replace(crefregex, "$1[.$2$3$4$5]").replace(/\]:\[/g,":");
	/* TODO: something other than this */
	return o.replace(/;/g, "|").replace(/,/g,";");
}

function ods_to_csf_3D(r) {
	var a = r.split(":");
	var s = a[0].split(".")[0];
	return [s, a[0].split(".")[1] + (a.length > 1 ? (":" + (a[1].split(".")[1] || a[1].split(".")[0])) : "")];
}

function csf_to_ods_3D(r) {
	return r.replace(/\./,"!");
}

var strs = {}; // shared strings
var _ssfopts = {}; // spreadsheet formatting options

RELS.WS = [
	"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",
	"http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"
];

/*global Map */
var browser_has_Map = typeof Map !== 'undefined';

function get_sst_id(sst, str, rev) {
	var i = 0, len = sst.length;
	if(rev) {
		if(browser_has_Map ? rev.has(str) : rev.hasOwnProperty(str)) {
			var revarr = browser_has_Map ? rev.get(str) : rev[str];
			for(; i < revarr.length; ++i) {
				if(sst[revarr[i]].t === str) { sst.Count ++; return revarr[i]; }
			}
		}
	} else for(; i < len; ++i) {
		if(sst[i].t === str) { sst.Count ++; return i; }
	}
	sst[len] = ({t:str}); sst.Count ++; sst.Unique ++;
	if(rev) {
		if(browser_has_Map) {
			if(!rev.has(str)) rev.set(str, []);
			rev.get(str).push(len);
		} else {
			if(!rev.hasOwnProperty(str)) rev[str] = [];
			rev[str].push(len);
		}
	}
	return len;
}

function col_obj_w(C, col) {
	var p = ({min:C+1,max:C+1});
	/* wch (chars), wpx (pixels) */
	var wch = -1;
	if(col.MDW) MDW = col.MDW;
	if(col.width != null) p.customWidth = 1;
	else if(col.wpx != null) wch = px2char(col.wpx);
	else if(col.wch != null) wch = col.wch;
	if(wch > -1) { p.width = char2width(wch); p.customWidth = 1; }
	else if(col.width != null) p.width = col.width;
	if(col.hidden) p.hidden = true;
	return p;
}

function default_margins(margins, mode) {
	if(!margins) return;
	var defs = [0.7, 0.7, 0.75, 0.75, 0.3, 0.3];
	if(mode == 'xlml') defs = [1, 1, 1, 1, 0.5, 0.5];
	if(margins.left   == null) margins.left   = defs[0];
	if(margins.right  == null) margins.right  = defs[1];
	if(margins.top    == null) margins.top    = defs[2];
	if(margins.bottom == null) margins.bottom = defs[3];
	if(margins.header == null) margins.header = defs[4];
	if(margins.footer == null) margins.footer = defs[5];
}

function get_cell_style(styles, cell, opts) {
	var z = opts.revssf[cell.z != null ? cell.z : "General"];
	var i = 0x3c, len = styles.length;
	if(z == null && opts.ssf) {
		for(; i < 0x188; ++i) if(opts.ssf[i] == null) {
			SSF.load(cell.z, i);
			// $FlowIgnore
			opts.ssf[i] = cell.z;
			opts.revssf[cell.z] = z = i;
			break;
		}
	}
	for(i = 0; i != len; ++i) if(styles[i].numFmtId === z) return i;
	styles[len] = {
		numFmtId:z,
		fontId:0,
		fillId:0,
		borderId:0,
		xfId:0,
		applyNumberFormat:1
	};
	return len;
}

function safe_format(p, fmtid, fillid, opts, themes, styles) {
	if(p.t === 'z') return;
	if(p.t === 'd' && typeof p.v === 'string') p.v = parseDate(p.v);
	try {
		if(opts.cellNF) p.z = SSF._table[fmtid];
	} catch(e) { if(opts.WTF) throw e; }
	if(!opts || opts.cellText !== false) try {
		if(SSF._table[fmtid] == null) SSF.load(SSFImplicit[fmtid] || "General", fmtid);
		if(p.t === 'e') p.w = p.w || BErr[p.v];
		else if(fmtid === 0) {
			if(p.t === 'n') {
				if((p.v|0) === p.v) p.w = SSF._general_int(p.v);
				else p.w = SSF._general_num(p.v);
			}
			else if(p.t === 'd') {
				var dd = datenum(p.v);
				if((dd|0) === dd) p.w = SSF._general_int(dd);
				else p.w = SSF._general_num(dd);
			}
			else if(p.v === undefined) return "";
			else p.w = SSF._general(p.v,_ssfopts);
		}
		else if(p.t === 'd') p.w = SSF.format(fmtid,datenum(p.v),_ssfopts);
		else p.w = SSF.format(fmtid,p.v,_ssfopts);
	} catch(e) { if(opts.WTF) throw e; }
	if(!opts.cellStyles) return;
	if(fillid != null) try {
		p.s = styles.Fills[fillid];
		if (p.s.fgColor && p.s.fgColor.theme && !p.s.fgColor.rgb) {
			p.s.fgColor.rgb = rgb_tint(themes.themeElements.clrScheme[p.s.fgColor.theme].rgb, p.s.fgColor.tint || 0);
			if(opts.WTF) p.s.fgColor.raw_rgb = themes.themeElements.clrScheme[p.s.fgColor.theme].rgb;
		}
		if (p.s.bgColor && p.s.bgColor.theme) {
			p.s.bgColor.rgb = rgb_tint(themes.themeElements.clrScheme[p.s.bgColor.theme].rgb, p.s.bgColor.tint || 0);
			if(opts.WTF) p.s.bgColor.raw_rgb = themes.themeElements.clrScheme[p.s.bgColor.theme].rgb;
		}
	} catch(e) { if(opts.WTF && styles.Fills) throw e; }
}

function check_ws(ws, sname, i) {
	if(ws && ws['!ref']) {
		var range = safe_decode_range(ws['!ref']);
		if(range.e.c < range.s.c || range.e.r < range.s.r) throw new Error("Bad range (" + i + "): " + ws['!ref']);
	}
}
function parse_ws_xml_dim(ws, s) {
	var d = safe_decode_range(s);
	if(d.s.r<=d.e.r && d.s.c<=d.e.c && d.s.r>=0 && d.s.c>=0) ws["!ref"] = encode_range(d);
}
var mergecregex = /<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g;
var sheetdataregex = /<(?:\w+:)?sheetData>([\s\S]*)<\/(?:\w+:)?sheetData>/;
var hlinkregex = /<(?:\w:)?hyperlink [^>]*>/mg;
var dimregex = /"(\w*:\w*)"/;
var colregex = /<(?:\w:)?col[^>]*[\/]?>/g;
var afregex = /<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g;
var marginregex= /<(?:\w:)?pageMargins[^>]*\/>/g;
var sheetprregex = /<(?:\w:)?sheetPr(?:[^>a-z][^>]*)?\/>/;
var svsregex = /<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;
/* 18.3 Worksheets */
function parse_ws_xml(data, opts, idx, rels, wb, themes, styles) {
	if(!data) return data;
	if(DENSE != null && opts.dense == null) opts.dense = DENSE;

	/* 18.3.1.99 worksheet CT_Worksheet */
	var s = opts.dense ? ([]) : ({});
	var refguess = ({s: {r:2000000, c:2000000}, e: {r:0, c:0} });

	var data1 = "", data2 = "";
	var mtch = data.match(sheetdataregex);
	if(mtch) {
		data1 = data.slice(0, mtch.index);
		data2 = data.slice(mtch.index + mtch[0].length);
	} else data1 = data2 = data;

	/* 18.3.1.82 sheetPr CT_SheetPr */
	var sheetPr = data1.match(sheetprregex);
	if(sheetPr) parse_ws_xml_sheetpr(sheetPr[0], s, wb, idx);

	/* 18.3.1.35 dimension CT_SheetDimension */
	// $FlowIgnore
	var ridx = (data1.match(/<(?:\w*:)?dimension/)||{index:-1}).index;
	if(ridx > 0) {
		var ref = data1.slice(ridx,ridx+50).match(dimregex);
		if(ref) parse_ws_xml_dim(s, ref[1]);
	}

	/* 18.3.1.88 sheetViews CT_SheetViews */
	var svs = data1.match(svsregex);
	if(svs && svs[1]) parse_ws_xml_sheetviews(svs[1], wb);

	/* 18.3.1.17 cols CT_Cols */
	var columns = [];
	if(opts.cellStyles) {
		/* 18.3.1.13 col CT_Col */
		var cols = data1.match(colregex);
		if(cols) parse_ws_xml_cols(columns, cols);
	}

	/* 18.3.1.80 sheetData CT_SheetData ? */
	if(mtch) parse_ws_xml_data(mtch[1], s, opts, refguess, themes, styles);

	/* 18.3.1.2  autoFilter CT_AutoFilter */
	var afilter = data2.match(afregex);
	if(afilter) s['!autofilter'] = parse_ws_xml_autofilter(afilter[0]);

	/* 18.3.1.55 mergeCells CT_MergeCells */
	var merges = [];
	var _merge = data2.match(mergecregex);
	if(_merge) for(ridx = 0; ridx != _merge.length; ++ridx)
		merges[ridx] = safe_decode_range(_merge[ridx].slice(_merge[ridx].indexOf("\"")+1));

	/* 18.3.1.48 hyperlinks CT_Hyperlinks */
	var hlink = data2.match(hlinkregex);
	if(hlink) parse_ws_xml_hlinks(s, hlink, rels);

	/* 18.3.1.62 pageMargins CT_PageMargins */
	var margins = data2.match(marginregex);
	if(margins) s['!margins'] = parse_ws_xml_margins(parsexmltag(margins[0]));

	if(!s["!ref"] && refguess.e.c >= refguess.s.c && refguess.e.r >= refguess.s.r) s["!ref"] = encode_range(refguess);
	if(opts.sheetRows > 0 && s["!ref"]) {
		var tmpref = safe_decode_range(s["!ref"]);
		if(opts.sheetRows <= +tmpref.e.r) {
			tmpref.e.r = opts.sheetRows - 1;
			if(tmpref.e.r > refguess.e.r) tmpref.e.r = refguess.e.r;
			if(tmpref.e.r < tmpref.s.r) tmpref.s.r = tmpref.e.r;
			if(tmpref.e.c > refguess.e.c) tmpref.e.c = refguess.e.c;
			if(tmpref.e.c < tmpref.s.c) tmpref.s.c = tmpref.e.c;
			s["!fullref"] = s["!ref"];
			s["!ref"] = encode_range(tmpref);
		}
	}
	if(columns.length > 0) s["!cols"] = columns;
	if(merges.length > 0) s["!merges"] = merges;
	return s;
}

function write_ws_xml_merges(merges) {
	if(merges.length === 0) return "";
	var o = '<mergeCells count="' + merges.length + '">';
	for(var i = 0; i != merges.length; ++i) o += '<mergeCell ref="' + encode_range(merges[i]) + '"/>';
	return o + '</mergeCells>';
}

/* 18.3.1.82-3 sheetPr CT_ChartsheetPr / CT_SheetPr */
function parse_ws_xml_sheetpr(sheetPr, s, wb, idx) {
	var data = parsexmltag(sheetPr);
	if(!wb.Sheets[idx]) wb.Sheets[idx] = {};
	if(data.codeName) wb.Sheets[idx].CodeName = data.codeName;
}

/* 18.3.1.85 sheetProtection CT_SheetProtection */
function write_ws_xml_protection(sp) {
	// algorithmName, hashValue, saltValue, spinCountpassword
	var o = ({sheet:1});
	var deffalse = ["objects", "scenarios", "selectLockedCells", "selectUnlockedCells"];
	var deftrue = [
		"formatColumns", "formatRows", "formatCells",
		"insertColumns", "insertRows", "insertHyperlinks",
		"deleteColumns", "deleteRows",
		"sort", "autoFilter", "pivotTables"
	];
	deffalse.forEach(function(n) { if(sp[n] != null && sp[n]) o[n] = "1"; });
	deftrue.forEach(function(n) { if(sp[n] != null && !sp[n]) o[n] = "0"; });
	/* TODO: algorithm */
	if(sp.password) o.password = crypto_CreatePasswordVerifier_Method1(sp.password).toString(16).toUpperCase();
	return writextag('sheetProtection', null, o);
}

function parse_ws_xml_hlinks(s, data, rels) {
	var dense = Array.isArray(s);
	for(var i = 0; i != data.length; ++i) {
		var val = parsexmltag(utf8read(data[i]), true);
		if(!val.ref) return;
		var rel = ((rels || {})['!id']||[])[val.id];
		if(rel) {
			val.Target = rel.Target;
			if(val.location) val.Target += "#"+val.location;
		} else {
			val.Target = "#" + val.location;
			rel = {Target: val.Target, TargetMode: 'Internal'};
		}
		val.Rel = rel;
		if(val.tooltip) { val.Tooltip = val.tooltip; delete val.tooltip; }
		var rng = safe_decode_range(val.ref);
		for(var R=rng.s.r;R<=rng.e.r;++R) for(var C=rng.s.c;C<=rng.e.c;++C) {
			var addr = encode_cell({c:C,r:R});
			if(dense) {
				if(!s[R]) s[R] = [];
				if(!s[R][C]) s[R][C] = {t:"z",v:undefined};
				s[R][C].l = val;
			} else {
				if(!s[addr]) s[addr] = {t:"z",v:undefined};
				s[addr].l = val;
			}
		}
	}
}

function parse_ws_xml_margins(margin) {
	var o = {};
	["left", "right", "top", "bottom", "header", "footer"].forEach(function(k) {
		if(margin[k]) o[k] = parseFloat(margin[k]);
	});
	return o;
}
function write_ws_xml_margins(margin) {
	default_margins(margin);
	return writextag('pageMargins', null, margin);
}

function parse_ws_xml_cols(columns, cols) {
	var seencol = false;
	for(var coli = 0; coli != cols.length; ++coli) {
		var coll = parsexmltag(cols[coli], true);
		if(coll.hidden) coll.hidden = parsexmlbool(coll.hidden);
		var colm=parseInt(coll.min, 10)-1, colM=parseInt(coll.max,10)-1;
		delete coll.min; delete coll.max; coll.width = +coll.width;
		if(!seencol && coll.width) { seencol = true; find_mdw_colw(coll.width); }
		process_col(coll);
		while(colm <= colM) columns[colm++] = dup(coll);
	}
}

function write_ws_xml_cols(ws, cols) {
	var o = ["<cols>"], col;
	for(var i = 0; i != cols.length; ++i) {
		if(!(col = cols[i])) continue;
		o[o.length] = (writextag('col', null, col_obj_w(i, col)));
	}
	o[o.length] = "</cols>";
	return o.join("");
}

function parse_ws_xml_autofilter(data) {
	var o = { ref: (data.match(/ref="([^"]*)"/)||[])[1]};
	return o;
}
function write_ws_xml_autofilter(data) {
	return writextag("autoFilter", null, {ref:data.ref});
}

/* 18.3.1.88 sheetViews CT_SheetViews */
/* 18.3.1.87 sheetView CT_SheetView */
var sviewregex = /<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/>/;
function parse_ws_xml_sheetviews(data, wb) {
	(data.match(sviewregex)||[]).forEach(function(r) {
		var tag = parsexmltag(r);
		if(parsexmlbool(tag.rightToLeft)) {
			if(!wb.Views) wb.Views = [{}];
			if(!wb.Views[0]) wb.Views[0] = {};
			wb.Views[0].RTL = true;
		}
	});
}
function write_ws_xml_sheetviews(ws, opts, idx, wb) {
	var sview = {workbookViewId:"0"};
	// $FlowIgnore
	if( (((wb||{}).Workbook||{}).Views||[])[0] ) sview.rightToLeft = wb.Workbook.Views[0].RTL ? "1" : "0";
	return writextag("sheetViews", writextag("sheetView", null, sview), {});
}

function write_ws_xml_cell(cell, ref, ws, opts) {
	if(cell.v === undefined && cell.f === undefined || cell.t === 'z') return "";
	var vv = "";
	var oldt = cell.t, oldv = cell.v;
	switch(cell.t) {
		case 'b': vv = cell.v ? "1" : "0"; break;
		case 'n': vv = ''+cell.v; break;
		case 'e': vv = BErr[cell.v]; break;
		case 'd':
			if(opts.cellDates) vv = parseDate(cell.v, -1).toISOString();
			else {
				cell = dup(cell);
				cell.t = 'n';
				vv = ''+(cell.v = datenum(parseDate(cell.v)));
			}
			if(typeof cell.z === 'undefined') cell.z = SSF._table[14];
			break;
		default: vv = cell.v; break;
	}
	var v = writetag('v', escapexml(vv)), o = ({r:ref});
	/* TODO: cell style */
	var os = get_cell_style(opts.cellXfs, cell, opts);
	if(os !== 0) o.s = os;
	switch(cell.t) {
		case 'n': break;
		case 'd': o.t = "d"; break;
		case 'b': o.t = "b"; break;
		case 'e': o.t = "e"; break;
		default: if(cell.v == null) { delete cell.t; break; }
			if(opts.bookSST) {
				v = writetag('v', ''+get_sst_id(opts.Strings, cell.v, opts.revStrings));
				o.t = "s"; break;
			}
			o.t = "str"; break;
	}
	if(cell.t != oldt) { cell.t = oldt; cell.v = oldv; }
	if(cell.f) {
		var ff = cell.F && cell.F.slice(0, ref.length) == ref ? {t:"array", ref:cell.F} : null;
		v = writextag('f', escapexml(cell.f), ff) + (cell.v != null ? v : "");
	}
	if(cell.l) ws['!links'].push([ref, cell.l]);
	if(cell.c) ws['!comments'].push([ref, cell.c]);
	return writextag('c', v, o);
}

var parse_ws_xml_data = (function() {
	var cellregex = /<(?:\w+:)?c[ >]/, rowregex = /<\/(?:\w+:)?row>/;
	var rregex = /r=["']([^"']*)["']/, isregex = /<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/;
	var refregex = /ref=["']([^"']*)["']/;
	var match_v = matchtag("v"), match_f = matchtag("f");

return function parse_ws_xml_data(sdata, s, opts, guess, themes, styles) {
	var ri = 0, x = "", cells = [], cref = [], idx=0, i=0, cc=0, d="", p;
	var tag, tagr = 0, tagc = 0;
	var sstr, ftag;
	var fmtid = 0, fillid = 0;
	var do_format = Array.isArray(styles.CellXf), cf;
	var arrayf = [];
	var sharedf = [];
	var dense = Array.isArray(s);
	var rows = [], rowobj = {}, rowrite = false;
	for(var marr = sdata.split(rowregex), mt = 0, marrlen = marr.length; mt != marrlen; ++mt) {
		x = marr[mt].trim();
		var xlen = x.length;
		if(xlen === 0) continue;

		/* 18.3.1.73 row CT_Row */
		for(ri = 0; ri < xlen; ++ri) if(x.charCodeAt(ri) === 62) break; ++ri;
		tag = parsexmltag(x.slice(0,ri), true);
		tagr = tag.r != null ? parseInt(tag.r, 10) : tagr+1; tagc = -1;
		if(opts.sheetRows && opts.sheetRows < tagr) continue;
		if(guess.s.r > tagr - 1) guess.s.r = tagr - 1;
		if(guess.e.r < tagr - 1) guess.e.r = tagr - 1;

		if(opts && opts.cellStyles) {
			rowobj = {}; rowrite = false;
			if(tag.ht) { rowrite = true; rowobj.hpt = parseFloat(tag.ht); rowobj.hpx = pt2px(rowobj.hpt); }
			if(tag.hidden == "1") { rowrite = true; rowobj.hidden = true; }
			if(tag.outlineLevel != null) { rowrite = true; rowobj.level = +tag.outlineLevel; }
			if(rowrite) rows[tagr-1] = rowobj;
		}

		/* 18.3.1.4 c CT_Cell */
		cells = x.slice(ri).split(cellregex);
		for(ri = 0; ri != cells.length; ++ri) {
			x = cells[ri].trim();
			if(x.length === 0) continue;
			cref = x.match(rregex); idx = ri; i=0; cc=0;
			x = "<c " + (x.slice(0,1)=="<"?">":"") + x;
			if(cref != null && cref.length === 2) {
				idx = 0; d=cref[1];
				for(i=0; i != d.length; ++i) {
					if((cc=d.charCodeAt(i)-64) < 1 || cc > 26) break;
					idx = 26*idx + cc;
				}
				--idx;
				tagc = idx;
			} else ++tagc;
			for(i = 0; i != x.length; ++i) if(x.charCodeAt(i) === 62) break; ++i;
			tag = parsexmltag(x.slice(0,i), true);
			if(!tag.r) tag.r = encode_cell({r:tagr-1, c:tagc});
			d = x.slice(i);
			p = ({t:""});

			if((cref=d.match(match_v))!= null && cref[1] !== '') p.v=unescapexml(cref[1]);
			if(opts.cellFormula) {
				if((cref=d.match(match_f))!= null && cref[1] !== '') {
					/* TODO: match against XLSXFutureFunctions */
					p.f=_xlfn(unescapexml(utf8read(cref[1])));
					if(cref[0].indexOf('t="array"') > -1) {
						p.F = (d.match(refregex)||[])[1];
						if(p.F.indexOf(":") > -1) arrayf.push([safe_decode_range(p.F), p.F]);
					} else if(cref[0].indexOf('t="shared"') > -1) {
						// TODO: parse formula
						ftag = parsexmltag(cref[0]);
						sharedf[parseInt(ftag.si, 10)] = [ftag, _xlfn(unescapexml(utf8read(cref[1])))];
					}
				} else if((cref=d.match(/<f[^>]*\/>/))) {
					ftag = parsexmltag(cref[0]);
					if(sharedf[ftag.si]) p.f = shift_formula_xlsx(sharedf[ftag.si][1], sharedf[ftag.si][0].ref, tag.r);
				}
				/* TODO: factor out contains logic */
				var _tag = decode_cell(tag.r);
				for(i = 0; i < arrayf.length; ++i)
					if(_tag.r >= arrayf[i][0].s.r && _tag.r <= arrayf[i][0].e.r)
						if(_tag.c >= arrayf[i][0].s.c && _tag.c <= arrayf[i][0].e.c)
							p.F = arrayf[i][1];
			}

			if(tag.t == null && p.v === undefined) {
				if(p.f || p.F) {
					p.v = 0; p.t = "n";
				} else if(!opts.sheetStubs) continue;
				else p.t = "z";
			}
			else p.t = tag.t || "n";
			if(guess.s.c > tagc) guess.s.c = tagc;
			if(guess.e.c < tagc) guess.e.c = tagc;
			/* 18.18.11 t ST_CellType */
			switch(p.t) {
				case 'n':
					if(p.v == "" || p.v == null) {
						if(!opts.sheetStubs) continue;
						p.t = 'z';
					} else p.v = parseFloat(p.v);
					break;
				case 's':
					if(typeof p.v == 'undefined') {
						if(!opts.sheetStubs) continue;
						p.t = 'z';
					} else {
						sstr = strs[parseInt(p.v, 10)];
						p.v = sstr.t;
						p.r = sstr.r;
						if(opts.cellHTML) p.h = sstr.h;
					}
					break;
				case 'str':
					p.t = "s";
					p.v = (p.v!=null) ? utf8read(p.v) : '';
					if(opts.cellHTML) p.h = escapehtml(p.v);
					break;
				case 'inlineStr':
					cref = d.match(isregex);
					p.t = 's';
					if(cref != null && (sstr = parse_si(cref[1]))) p.v = sstr.t; else p.v = "";
					break;
				case 'b': p.v = parsexmlbool(p.v); break;
				case 'd':
					if(opts.cellDates) p.v = parseDate(p.v, 1);
					else { p.v = datenum(parseDate(p.v, 1)); p.t = 'n'; }
					break;
				/* error string in .w, number in .v */
				case 'e':
					if(!opts || opts.cellText !== false) p.w = p.v;
					p.v = RBErr[p.v]; break;
			}
			/* formatting */
			fmtid = fillid = 0;
			if(do_format && tag.s !== undefined) {
				cf = styles.CellXf[tag.s];
				if(cf != null) {
					if(cf.numFmtId != null) fmtid = cf.numFmtId;
					if(opts.cellStyles) {
						if(cf.fillId != null) fillid = cf.fillId;
					}
				}
			}
			safe_format(p, fmtid, fillid, opts, themes, styles);
			if(opts.cellDates && do_format && p.t == 'n' && SSF.is_date(SSF._table[fmtid])) { p.t = 'd'; p.v = numdate(p.v); }
			if(dense) {
				var _r = decode_cell(tag.r);
				if(!s[_r.r]) s[_r.r] = [];
				s[_r.r][_r.c] = p;
			} else s[tag.r] = p;
		}
	}
	if(rows.length > 0) s['!rows'] = rows;
}; })();

function write_ws_xml_data(ws, opts, idx, wb) {
	var o = [], r = [], range = safe_decode_range(ws['!ref']), cell="", ref, rr = "", cols = [], R=0, C=0, rows = ws['!rows'];
	var dense = Array.isArray(ws);
	var params = ({r:rr}), row, height = -1;
	for(C = range.s.c; C <= range.e.c; ++C) cols[C] = encode_col(C);
	for(R = range.s.r; R <= range.e.r; ++R) {
		r = [];
		rr = encode_row(R);
		for(C = range.s.c; C <= range.e.c; ++C) {
			ref = cols[C] + rr;
			var _cell = dense ? (ws[R]||[])[C]: ws[ref];
			if(_cell === undefined) continue;
			if((cell = write_ws_xml_cell(_cell, ref, ws, opts, idx, wb)) != null) r.push(cell);
		}
		if(r.length > 0 || (rows && rows[R])) {
			params = ({r:rr});
			if(rows && rows[R]) {
				row = rows[R];
				if(row.hidden) params.hidden = 1;
				height = -1;
				if (row.hpx) height = px2pt(row.hpx);
				else if (row.hpt) height = row.hpt;
				if (height > -1) { params.ht = height; params.customHeight = 1; }
				if (row.level) { params.outlineLevel = row.level; }
			}
			o[o.length] = (writextag('row', r.join(""), params));
		}
	}
	if(rows) for(; R < rows.length; ++R) {
		if(rows && rows[R]) {
			params = ({r:R+1});
			row = rows[R];
			if(row.hidden) params.hidden = 1;
			height = -1;
			if (row.hpx) height = px2pt(row.hpx);
			else if (row.hpt) height = row.hpt;
			if (height > -1) { params.ht = height; params.customHeight = 1; }
			if (row.level) { params.outlineLevel = row.level; }
			o[o.length] = (writextag('row', "", params));
		}
	}
	return o.join("");
}

var WS_XML_ROOT = writextag('worksheet', null, {
	'xmlns': XMLNS.main[0],
	'xmlns:r': XMLNS.r
});

function write_ws_xml(idx, opts, wb, rels) {
	var o = [XML_HEADER, WS_XML_ROOT];
	var s = wb.SheetNames[idx], sidx = 0, rdata = "";
	var ws = wb.Sheets[s];
	if(ws == null) ws = {};
	var ref = ws['!ref'] || 'A1';
	var range = safe_decode_range(ref);
	if(range.e.c > 0x3FFF || range.e.r > 0xFFFFF) {
		if(opts.WTF) throw new Error("Range " + ref + " exceeds format limit A1:XFD1048576");
		range.e.c = Math.min(range.e.c, 0x3FFF);
		range.e.r = Math.min(range.e.c, 0xFFFFF);
		ref = encode_range(range);
	}
	if(!rels) rels = {};
	ws['!comments'] = [];
	ws['!drawing'] = [];

	if(opts.bookType !== 'xlsx' && wb.vbaraw) {
		var cname = wb.SheetNames[idx];
		try { if(wb.Workbook) cname = wb.Workbook.Sheets[idx].CodeName || cname; } catch(e) {}
		o[o.length] = (writextag('sheetPr', null, {'codeName': escapexml(cname)}));
	}

	o[o.length] = (writextag('dimension', null, {'ref': ref}));

	o[o.length] = write_ws_xml_sheetviews(ws, opts, idx, wb);

	/* TODO: store in WB, process styles */
	if(opts.sheetFormat) o[o.length] = (writextag('sheetFormatPr', null, {
		defaultRowHeight:opts.sheetFormat.defaultRowHeight||'16',
		baseColWidth:opts.sheetFormat.baseColWidth||'10',
		outlineLevelRow:opts.sheetFormat.outlineLevelRow||'7'
	}));

	if(ws['!cols'] != null && ws['!cols'].length > 0) o[o.length] = (write_ws_xml_cols(ws, ws['!cols']));

	o[sidx = o.length] = '<sheetData/>';
	ws['!links'] = [];
	if(ws['!ref'] != null) {
		rdata = write_ws_xml_data(ws, opts, idx, wb, rels);
		if(rdata.length > 0) o[o.length] = (rdata);
	}
	if(o.length>sidx+1) { o[o.length] = ('</sheetData>'); o[sidx]=o[sidx].replace("/>",">"); }

	/* sheetCalcPr */

	if(ws['!protect'] != null) o[o.length] = write_ws_xml_protection(ws['!protect']);

	/* protectedRanges */
	/* scenarios */

	if(ws['!autofilter'] != null) o[o.length] = write_ws_xml_autofilter(ws['!autofilter']);

	/* sortState */
	/* dataConsolidate */
	/* customSheetViews */

	if(ws['!merges'] != null && ws['!merges'].length > 0) o[o.length] = (write_ws_xml_merges(ws['!merges']));

	/* phoneticPr */
	/* conditionalFormatting */
	/* dataValidations */

	var relc = -1, rel, rId = -1;
	if(ws['!links'].length > 0) {
		o[o.length] = "<hyperlinks>";
		ws['!links'].forEach(function(l) {
			if(!l[1].Target) return;
			rel = ({"ref":l[0]});
			if(l[1].Target.charAt(0) != "#") {
				rId = add_rels(rels, -1, escapexml(l[1].Target).replace(/#.*$/, ""), RELS.HLINK);
				rel["r:id"] = "rId"+rId;
			}
			if((relc = l[1].Target.indexOf("#")) > -1) rel.location = escapexml(l[1].Target.slice(relc+1));
			if(l[1].Tooltip) rel.tooltip = escapexml(l[1].Tooltip);
			o[o.length] = writextag("hyperlink",null,rel);
		});
		o[o.length] = "</hyperlinks>";
	}
	delete ws['!links'];

	/* printOptions */
	if (ws['!margins'] != null) o[o.length] =  write_ws_xml_margins(ws['!margins']);
	/* pageSetup */

	//var hfidx = o.length;
	o[o.length] = "";

	/* rowBreaks */
	/* colBreaks */
	/* customProperties */
	/* cellWatches */

	o[o.length] = writetag("ignoredErrors", writextag("ignoredError", null, {numberStoredAsText:1, sqref:ref}));

	/* smartTags */

	if(ws['!drawing'].length > 0) {
		rId = add_rels(rels, -1, "../drawings/drawing" + (idx+1) + ".xml", RELS.DRAW);
		o[o.length] = writextag("drawing", null, {"r:id":"rId" + rId});
	}
	else delete ws['!drawing'];

	if(ws['!comments'].length > 0) {
		rId = add_rels(rels, -1, "../drawings/vmlDrawing" + (idx+1) + ".vml", RELS.VML);
		o[o.length] = writextag("legacyDrawing", null, {"r:id":"rId" + rId});
		ws['!legacy'] = rId;
	}

	/* drawingHF */
	/* picture */
	/* oleObjects */
	/* controls */
	/* webPublishItems */
	/* tableParts */
	/* extList */

	if(o.length>2) { o[o.length] = ('</worksheet>'); o[1]=o[1].replace("/>",">"); }
	return o.join("");
}

/* [MS-XLSB] 2.4.726 BrtRowHdr */
function parse_BrtRowHdr(data, length) {
	var z = ({});
	var tgt = data.l + length;
	z.r = data.read_shift(4);
	data.l += 4; // TODO: ixfe
	var miyRw = data.read_shift(2);
	data.l += 1; // TODO: top/bot padding
	var flags = data.read_shift(1);
	data.l = tgt;
	if(flags & 0x07) z.level = flags & 0x07;
	if(flags & 0x10) z.hidden = true;
	if(flags & 0x20) z.hpt = miyRw / 20;
	return z;
}
function write_BrtRowHdr(R, range, ws) {
	var o = new_buf(17+8*16);
	var row = (ws['!rows']||[])[R]||{};
	o.write_shift(4, R);

	o.write_shift(4, 0); /* TODO: ixfe */

	var miyRw = 0x0140;
	if(row.hpx) miyRw = px2pt(row.hpx) * 20;
	else if(row.hpt) miyRw = row.hpt * 20;
	o.write_shift(2, miyRw);

	o.write_shift(1, 0); /* top/bot padding */

	var flags = 0x0;
	if(row.level) flags |= row.level;
	if(row.hidden) flags |= 0x10;
	if(row.hpx || row.hpt) flags |= 0x20;
	o.write_shift(1, flags);

	o.write_shift(1, 0); /* phonetic guide */

	/* [MS-XLSB] 2.5.8 BrtColSpan explains the mechanism */
	var ncolspan = 0, lcs = o.l;
	o.l += 4;

	var caddr = {r:R, c:0};
	for(var i = 0; i < 16; ++i) {
		if((range.s.c > ((i+1) << 10)) || (range.e.c < (i << 10))) continue;
		var first = -1, last = -1;
		for(var j = (i<<10); j < ((i+1)<<10); ++j) {
			caddr.c = j;
			var cell = Array.isArray(ws) ? (ws[caddr.r]||[])[caddr.c] : ws[encode_cell(caddr)];
			if(cell) { if(first < 0) first = j; last = j; }
		}
		if(first < 0) continue;
		++ncolspan;
		o.write_shift(4, first);
		o.write_shift(4, last);
	}

	var l = o.l;
	o.l = lcs;
	o.write_shift(4, ncolspan);
	o.l = l;

	return o.length > o.l ? o.slice(0, o.l) : o;
}
function write_row_header(ba, ws, range, R) {
	var o = write_BrtRowHdr(R, range, ws);
	if((o.length > 17) || (ws['!rows']||[])[R]) write_record(ba, 'BrtRowHdr', o);
}

/* [MS-XLSB] 2.4.820 BrtWsDim */
var parse_BrtWsDim = parse_UncheckedRfX;
var write_BrtWsDim = write_UncheckedRfX;

/* [MS-XLSB] 2.4.821 BrtWsFmtInfo */
function parse_BrtWsFmtInfo() {
}
//function write_BrtWsFmtInfo(ws, o) { }

/* [MS-XLSB] 2.4.823 BrtWsProp */
function parse_BrtWsProp(data, length) {
	var z = {};
	/* TODO: pull flags */
	data.l += 19;
	z.name = parse_XLSBCodeName(data, length - 19);
	return z;
}
function write_BrtWsProp(str, o) {
	if(o == null) o = new_buf(84+4*str.length);
	for(var i = 0; i < 3; ++i) o.write_shift(1,0);
	write_BrtColor({auto:1}, o);
	o.write_shift(-4,-1);
	o.write_shift(-4,-1);
	write_XLSBCodeName(str, o);
	return o.slice(0, o.l);
}

/* [MS-XLSB] 2.4.306 BrtCellBlank */
function parse_BrtCellBlank(data) {
	var cell = parse_XLSBCell(data);
	return [cell];
}
function write_BrtCellBlank(cell, ncell, o) {
	if(o == null) o = new_buf(8);
	return write_XLSBCell(ncell, o);
}


/* [MS-XLSB] 2.4.307 BrtCellBool */
function parse_BrtCellBool(data) {
	var cell = parse_XLSBCell(data);
	var fBool = data.read_shift(1);
	return [cell, fBool, 'b'];
}
function write_BrtCellBool(cell, ncell, o) {
	if(o == null) o = new_buf(9);
	write_XLSBCell(ncell, o);
	o.write_shift(1, cell.v ? 1 : 0);
	return o;
}

/* [MS-XLSB] 2.4.308 BrtCellError */
function parse_BrtCellError(data) {
	var cell = parse_XLSBCell(data);
	var bError = data.read_shift(1);
	return [cell, bError, 'e'];
}

/* [MS-XLSB] 2.4.311 BrtCellIsst */
function parse_BrtCellIsst(data) {
	var cell = parse_XLSBCell(data);
	var isst = data.read_shift(4);
	return [cell, isst, 's'];
}
function write_BrtCellIsst(cell, ncell, o) {
	if(o == null) o = new_buf(12);
	write_XLSBCell(ncell, o);
	o.write_shift(4, ncell.v);
	return o;
}

/* [MS-XLSB] 2.4.313 BrtCellReal */
function parse_BrtCellReal(data) {
	var cell = parse_XLSBCell(data);
	var value = parse_Xnum(data);
	return [cell, value, 'n'];
}
function write_BrtCellReal(cell, ncell, o) {
	if(o == null) o = new_buf(16);
	write_XLSBCell(ncell, o);
	write_Xnum(cell.v, o);
	return o;
}

/* [MS-XLSB] 2.4.314 BrtCellRk */
function parse_BrtCellRk(data) {
	var cell = parse_XLSBCell(data);
	var value = parse_RkNumber(data);
	return [cell, value, 'n'];
}
function write_BrtCellRk(cell, ncell, o) {
	if(o == null) o = new_buf(12);
	write_XLSBCell(ncell, o);
	write_RkNumber(cell.v, o);
	return o;
}


/* [MS-XLSB] 2.4.317 BrtCellSt */
function parse_BrtCellSt(data) {
	var cell = parse_XLSBCell(data);
	var value = parse_XLWideString(data);
	return [cell, value, 'str'];
}
function write_BrtCellSt(cell, ncell, o) {
	if(o == null) o = new_buf(12 + 4 * cell.v.length);
	write_XLSBCell(ncell, o);
	write_XLWideString(cell.v, o);
	return o.length > o.l ? o.slice(0, o.l) : o;
}

/* [MS-XLSB] 2.4.653 BrtFmlaBool */
function parse_BrtFmlaBool(data, length, opts) {
	var end = data.l + length;
	var cell = parse_XLSBCell(data);
	cell.r = opts['!row'];
	var value = data.read_shift(1);
	var o = [cell, value, 'b'];
	if(opts.cellFormula) {
		data.l += 2;
		var formula = parse_XLSBCellParsedFormula(data, end - data.l, opts);
		o[3] = stringify_formula(formula, null/*range*/, cell, opts.supbooks, opts);/* TODO */
	}
	else data.l = end;
	return o;
}

/* [MS-XLSB] 2.4.654 BrtFmlaError */
function parse_BrtFmlaError(data, length, opts) {
	var end = data.l + length;
	var cell = parse_XLSBCell(data);
	cell.r = opts['!row'];
	var value = data.read_shift(1);
	var o = [cell, value, 'e'];
	if(opts.cellFormula) {
		data.l += 2;
		var formula = parse_XLSBCellParsedFormula(data, end - data.l, opts);
		o[3] = stringify_formula(formula, null/*range*/, cell, opts.supbooks, opts);/* TODO */
	}
	else data.l = end;
	return o;
}

/* [MS-XLSB] 2.4.655 BrtFmlaNum */
function parse_BrtFmlaNum(data, length, opts) {
	var end = data.l + length;
	var cell = parse_XLSBCell(data);
	cell.r = opts['!row'];
	var value = parse_Xnum(data);
	var o = [cell, value, 'n'];
	if(opts.cellFormula) {
		data.l += 2;
		var formula = parse_XLSBCellParsedFormula(data, end - data.l, opts);
		o[3] = stringify_formula(formula, null/*range*/, cell, opts.supbooks, opts);/* TODO */
	}
	else data.l = end;
	return o;
}

/* [MS-XLSB] 2.4.656 BrtFmlaString */
function parse_BrtFmlaString(data, length, opts) {
	var end = data.l + length;
	var cell = parse_XLSBCell(data);
	cell.r = opts['!row'];
	var value = parse_XLWideString(data);
	var o = [cell, value, 'str'];
	if(opts.cellFormula) {
		data.l += 2;
		var formula = parse_XLSBCellParsedFormula(data, end - data.l, opts);
		o[3] = stringify_formula(formula, null/*range*/, cell, opts.supbooks, opts);/* TODO */
	}
	else data.l = end;
	return o;
}

/* [MS-XLSB] 2.4.682 BrtMergeCell */
var parse_BrtMergeCell = parse_UncheckedRfX;
var write_BrtMergeCell = write_UncheckedRfX;
/* [MS-XLSB] 2.4.107 BrtBeginMergeCells */
function write_BrtBeginMergeCells(cnt, o) {
	if(o == null) o = new_buf(4);
	o.write_shift(4, cnt);
	return o;
}

/* [MS-XLSB] 2.4.662 BrtHLink */
function parse_BrtHLink(data, length) {
	var end = data.l + length;
	var rfx = parse_UncheckedRfX(data, 16);
	var relId = parse_XLNullableWideString(data);
	var loc = parse_XLWideString(data);
	var tooltip = parse_XLWideString(data);
	var display = parse_XLWideString(data);
	data.l = end;
	var o = ({rfx:rfx, relId:relId, loc:loc, display:display});
	if(tooltip) o.Tooltip = tooltip;
	return o;
}
function write_BrtHLink(l, rId) {
	var o = new_buf(50+4*(l[1].Target.length + (l[1].Tooltip || "").length));
	write_UncheckedRfX({s:decode_cell(l[0]), e:decode_cell(l[0])}, o);
	write_RelID("rId" + rId, o);
	var locidx = l[1].Target.indexOf("#");
	var loc = locidx == -1 ? "" : l[1].Target.slice(locidx+1);
	write_XLWideString(loc || "", o);
	write_XLWideString(l[1].Tooltip || "", o);
	write_XLWideString("", o);
	return o.slice(0, o.l);
}

/* [MS-XLSB] 2.4.6 BrtArrFmla */
function parse_BrtArrFmla(data, length, opts) {
	var end = data.l + length;
	var rfx = parse_RfX(data, 16);
	var fAlwaysCalc = data.read_shift(1);
	var o = [rfx]; o[2] = fAlwaysCalc;
	if(opts.cellFormula) {
		var formula = parse_XLSBArrayParsedFormula(data, end - data.l, opts);
		o[1] = formula;
	} else data.l = end;
	return o;
}

/* [MS-XLSB] 2.4.750 BrtShrFmla */
function parse_BrtShrFmla(data, length, opts) {
	var end = data.l + length;
	var rfx = parse_UncheckedRfX(data, 16);
	var o = [rfx];
	if(opts.cellFormula) {
		var formula = parse_XLSBSharedParsedFormula(data, end - data.l, opts);
		o[1] = formula;
		data.l = end;
	} else data.l = end;
	return o;
}

/* [MS-XLSB] 2.4.323 BrtColInfo */
/* TODO: once XLS ColInfo is set, combine the functions */
function write_BrtColInfo(C, col, o) {
	if(o == null) o = new_buf(18);
	var p = col_obj_w(C, col);
	o.write_shift(-4, C);
	o.write_shift(-4, C);
	o.write_shift(4, (p.width || 10) * 256);
	o.write_shift(4, 0/*ixfe*/); // style
	var flags = 0;
	if(col.hidden) flags |= 0x01;
	if(typeof p.width == 'number') flags |= 0x02;
	o.write_shift(1, flags); // bit flag
	o.write_shift(1, 0); // bit flag
	return o;
}

/* [MS-XLSB] 2.4.678 BrtMargins */
var BrtMarginKeys = ["left","right","top","bottom","header","footer"];
function parse_BrtMargins(data) {
	var margins = ({});
	BrtMarginKeys.forEach(function(k) { margins[k] = parse_Xnum(data, 8); });
	return margins;
}
function write_BrtMargins(margins, o) {
	if(o == null) o = new_buf(6*8);
	default_margins(margins);
	BrtMarginKeys.forEach(function(k) { write_Xnum((margins)[k], o); });
	return o;
}

/* [MS-XLSB] 2.4.299 BrtBeginWsView */
function parse_BrtBeginWsView(data) {
	var f = data.read_shift(2);
	data.l += 28;
	return { RTL: f & 0x20 };
}
function write_BrtBeginWsView(ws, Workbook, o) {
	if(o == null) o = new_buf(30);
	var f = 0x39c;
	if((((Workbook||{}).Views||[])[0]||{}).RTL) f |= 0x20;
	o.write_shift(2, f); // bit flag
	o.write_shift(4, 0);
	o.write_shift(4, 0); // view first row
	o.write_shift(4, 0); // view first col
	o.write_shift(1, 0); // gridline color ICV
	o.write_shift(1, 0);
	o.write_shift(2, 0);
	o.write_shift(2, 100); // zoom scale
	o.write_shift(2, 0);
	o.write_shift(2, 0);
	o.write_shift(2, 0);
	o.write_shift(4, 0); // workbook view id
	return o;
}

/* [MS-XLSB] 2.4.309 BrtCellIgnoreEC */
function write_BrtCellIgnoreEC(ref) {
	var o = new_buf(24);
	o.write_shift(4, 4);
	o.write_shift(4, 1);
	write_UncheckedRfX(ref, o);
	return o;
}

/* [MS-XLSB] 2.4.748 BrtSheetProtection */
function write_BrtSheetProtection(sp, o) {
	if(o == null) o = new_buf(16*4+2);
	o.write_shift(2, sp.password ? crypto_CreatePasswordVerifier_Method1(sp.password) : 0);
	o.write_shift(4, 1); // this record should not be written if no protection
	[
		["objects",             false], // fObjects
		["scenarios",           false], // fScenarios
		["formatCells",          true], // fFormatCells
		["formatColumns",        true], // fFormatColumns
		["formatRows",           true], // fFormatRows
		["insertColumns",        true], // fInsertColumns
		["insertRows",           true], // fInsertRows
		["insertHyperlinks",     true], // fInsertHyperlinks
		["deleteColumns",        true], // fDeleteColumns
		["deleteRows",           true], // fDeleteRows
		["selectLockedCells",   false], // fSelLockedCells
		["sort",                 true], // fSort
		["autoFilter",           true], // fAutoFilter
		["pivotTables",          true], // fPivotTables
		["selectUnlockedCells", false]  // fSelUnlockedCells
	].forEach(function(n) {
if(n[1]) o.write_shift(4, sp[n[0]] != null && !sp[n[0]] ? 1 : 0);
		else      o.write_shift(4, sp[n[0]] != null && sp[n[0]] ? 0 : 1);
	});
	return o;
}

/* [MS-XLSB] 2.1.7.61 Worksheet */
function parse_ws_bin(data, _opts, idx, rels, wb, themes, styles) {
	if(!data) return data;
	var opts = _opts || {};
	if(!rels) rels = {'!id':{}};
	if(DENSE != null && opts.dense == null) opts.dense = DENSE;
	var s = (opts.dense ? [] : {});

	var ref;
	var refguess = {s: {r:2000000, c:2000000}, e: {r:0, c:0} };

	var pass = false, end = false;
	var row, p, cf, R, C, addr, sstr, rr, cell;
	var merges = [];
	opts.biff = 12;
	opts['!row'] = 0;

	var ai = 0, af = false;

	var arrayf = [];
	var sharedf = {};
	var supbooks = opts.supbooks || ([[]]);
	supbooks.sharedf = sharedf;
	supbooks.arrayf = arrayf;
	supbooks.SheetNames = wb.SheetNames || wb.Sheets.map(function(x) { return x.name; });
	if(!opts.supbooks) {
		opts.supbooks = supbooks;
		if(wb.Names) for(var i = 0; i < wb.Names.length; ++i) supbooks[0][i+1] = wb.Names[i];
	}

	var colinfo = [], rowinfo = [];
	var seencol = false;

	recordhopper(data, function ws_parse(val, R_n, RT) {
		if(end) return;
		switch(RT) {
			case 0x0094: /* 'BrtWsDim' */
				ref = val; break;
			case 0x0000: /* 'BrtRowHdr' */
				row = val;
				if(opts.sheetRows && opts.sheetRows <= row.r) end=true;
				rr = encode_row(R = row.r);
				opts['!row'] = row.r;
				if(val.hidden || val.hpt || val.level != null) {
					if(val.hpt) val.hpx = pt2px(val.hpt);
					rowinfo[val.r] = val;
				}
				break;

			case 0x0002: /* 'BrtCellRk' */
			case 0x0003: /* 'BrtCellError' */
			case 0x0004: /* 'BrtCellBool' */
			case 0x0005: /* 'BrtCellReal' */
			case 0x0006: /* 'BrtCellSt' */
			case 0x0007: /* 'BrtCellIsst' */
			case 0x0008: /* 'BrtFmlaString' */
			case 0x0009: /* 'BrtFmlaNum' */
			case 0x000A: /* 'BrtFmlaBool' */
			case 0x000B: /* 'BrtFmlaError' */
				p = ({t:val[2]});
				switch(val[2]) {
					case 'n': p.v = val[1]; break;
					case 's': sstr = strs[val[1]]; p.v = sstr.t; p.r = sstr.r; break;
					case 'b': p.v = val[1] ? true : false; break;
					case 'e': p.v = val[1]; if(opts.cellText !== false) p.w = BErr[p.v]; break;
					case 'str': p.t = 's'; p.v = val[1]; break;
				}
				if((cf = styles.CellXf[val[0].iStyleRef])) safe_format(p,cf.numFmtId,null,opts, themes, styles);
				C = val[0].c;
				if(opts.dense) { if(!s[R]) s[R] = []; s[R][C] = p; }
				else s[encode_col(C) + rr] = p;
				if(opts.cellFormula) {
					af = false;
					for(ai = 0; ai < arrayf.length; ++ai) {
						var aii = arrayf[ai];
						if(row.r >= aii[0].s.r && row.r <= aii[0].e.r)
							if(C >= aii[0].s.c && C <= aii[0].e.c) {
								p.F = encode_range(aii[0]); af = true;
							}
					}
					if(!af && val.length > 3) p.f = val[3];
				}
				if(refguess.s.r > row.r) refguess.s.r = row.r;
				if(refguess.s.c > C) refguess.s.c = C;
				if(refguess.e.r < row.r) refguess.e.r = row.r;
				if(refguess.e.c < C) refguess.e.c = C;
				if(opts.cellDates && cf && p.t == 'n' && SSF.is_date(SSF._table[cf.numFmtId])) {
					var _d = SSF.parse_date_code(p.v); if(_d) { p.t = 'd'; p.v = new Date(_d.y, _d.m-1,_d.d,_d.H,_d.M,_d.S,_d.u); }
				}
				break;

			case 0x0001: /* 'BrtCellBlank' */
				if(!opts.sheetStubs || pass) break;
				p = ({t:'z',v:undefined});
				C = val[0].c;
				if(opts.dense) { if(!s[R]) s[R] = []; s[R][C] = p; }
				else s[encode_col(C) + rr] = p;
				if(refguess.s.r > row.r) refguess.s.r = row.r;
				if(refguess.s.c > C) refguess.s.c = C;
				if(refguess.e.r < row.r) refguess.e.r = row.r;
				if(refguess.e.c < C) refguess.e.c = C;
				break;

			case 0x00B0: /* 'BrtMergeCell' */
				merges.push(val); break;

			case 0x01EE: /* 'BrtHLink' */
				var rel = rels['!id'][val.relId];
				if(rel) {
					val.Target = rel.Target;
					if(val.loc) val.Target += "#"+val.loc;
					val.Rel = rel;
				} else if(val.relId == '') {
					val.Target = "#" + val.loc;
				}
				for(R=val.rfx.s.r;R<=val.rfx.e.r;++R) for(C=val.rfx.s.c;C<=val.rfx.e.c;++C) {
					if(opts.dense) {
						if(!s[R]) s[R] = [];
						if(!s[R][C]) s[R][C] = {t:'z',v:undefined};
						s[R][C].l = val;
					} else {
						addr = encode_cell({c:C,r:R});
						if(!s[addr]) s[addr] = {t:'z',v:undefined};
						s[addr].l = val;
					}
				}
				break;

			case 0x01AA: /* 'BrtArrFmla' */
				if(!opts.cellFormula) break;
				arrayf.push(val);
				cell = ((opts.dense ? s[R][C] : s[encode_col(C) + rr]));
				cell.f = stringify_formula(val[1], refguess, {r:row.r, c:C}, supbooks, opts);
				cell.F = encode_range(val[0]);
				break;
			case 0x01AB: /* 'BrtShrFmla' */
				if(!opts.cellFormula) break;
				sharedf[encode_cell(val[0].s)] = val[1];
				cell = (opts.dense ? s[R][C] : s[encode_col(C) + rr]);
				cell.f = stringify_formula(val[1], refguess, {r:row.r, c:C}, supbooks, opts);
				break;

			/* identical to 'ColInfo' in XLS */
			case 0x003C: /* 'BrtColInfo' */
				if(!opts.cellStyles) break;
				while(val.e >= val.s) {
					colinfo[val.e--] = { width: val.w/256, hidden: !!(val.flags & 0x01) };
					if(!seencol) { seencol = true; find_mdw_colw(val.w/256); }
					process_col(colinfo[val.e+1]);
				}
				break;

			case 0x00A1: /* 'BrtBeginAFilter' */
				s['!autofilter'] = { ref:encode_range(val) };
				break;

			case 0x01DC: /* 'BrtMargins' */
				s['!margins'] = val;
				break;

			case 0x0093: /* 'BrtWsProp' */
				if(!wb.Sheets[idx]) wb.Sheets[idx] = {};
				if(val.name) wb.Sheets[idx].CodeName = val.name;
				break;

			case 0x0089: /* 'BrtBeginWsView' */
				if(!wb.Views) wb.Views = [{}];
				if(!wb.Views[0]) wb.Views[0] = {};
				if(val.RTL) wb.Views[0].RTL = true;
				break;

			case 0x01E5: /* 'BrtWsFmtInfo' */
				break;
			case 0x00AF: /* 'BrtAFilterDateGroupItem' */
			case 0x0284: /* 'BrtActiveX' */
			case 0x0271: /* 'BrtBigName' */
			case 0x0232: /* 'BrtBkHim' */
			case 0x018C: /* 'BrtBrk' */
			case 0x0458: /* 'BrtCFIcon' */
			case 0x047A: /* 'BrtCFRuleExt' */
			case 0x01D7: /* 'BrtCFVO' */
			case 0x041A: /* 'BrtCFVO14' */
			case 0x0289: /* 'BrtCellIgnoreEC' */
			case 0x0451: /* 'BrtCellIgnoreEC14' */
			case 0x0031: /* 'BrtCellMeta' */
			case 0x024D: /* 'BrtCellSmartTagProperty' */
			case 0x025F: /* 'BrtCellWatch' */
			case 0x0234: /* 'BrtColor' */
			case 0x041F: /* 'BrtColor14' */
			case 0x00A8: /* 'BrtColorFilter' */
			case 0x00AE: /* 'BrtCustomFilter' */
			case 0x049C: /* 'BrtCustomFilter14' */
			case 0x01F3: /* 'BrtDRef' */
			case 0x0040: /* 'BrtDVal' */
			case 0x041D: /* 'BrtDVal14' */
			case 0x0226: /* 'BrtDrawing' */
			case 0x00AB: /* 'BrtDynamicFilter' */
			case 0x00A7: /* 'BrtFilter' */
			case 0x0499: /* 'BrtFilter14' */
			case 0x00A9: /* 'BrtIconFilter' */
			case 0x049D: /* 'BrtIconFilter14' */
			case 0x0227: /* 'BrtLegacyDrawing' */
			case 0x0228: /* 'BrtLegacyDrawingHF' */
			case 0x0295: /* 'BrtListPart' */
			case 0x027F: /* 'BrtOleObject' */
			case 0x01DE: /* 'BrtPageSetup' */
			case 0x0097: /* 'BrtPane' */
			case 0x0219: /* 'BrtPhoneticInfo' */
			case 0x01DD: /* 'BrtPrintOptions' */
			case 0x0218: /* 'BrtRangeProtection' */
			case 0x044F: /* 'BrtRangeProtection14' */
			case 0x02A8: /* 'BrtRangeProtectionIso' */
			case 0x0450: /* 'BrtRangeProtectionIso14' */
			case 0x0400: /* 'BrtRwDescent' */
			case 0x0098: /* 'BrtSel' */
			case 0x0297: /* 'BrtSheetCalcProp' */
			case 0x0217: /* 'BrtSheetProtection' */
			case 0x02A6: /* 'BrtSheetProtectionIso' */
			case 0x01F8: /* 'BrtSlc' */
			case 0x0413: /* 'BrtSparkline' */
			case 0x01AC: /* 'BrtTable' */
			case 0x00AA: /* 'BrtTop10Filter' */
			case 0x0C00: /* 'BrtUid' */
			case 0x0032: /* 'BrtValueMeta' */
			case 0x0816: /* 'BrtWebExtension' */
			case 0x0415: /* 'BrtWsFmtInfoEx14' */
				break;

			case 0x0023: /* 'BrtFRTBegin' */
				pass = true; break;
			case 0x0024: /* 'BrtFRTEnd' */
				pass = false; break;
			case 0x0025: /* 'BrtACBegin' */ break;
			case 0x0026: /* 'BrtACEnd' */ break;

			default:
				if((R_n||"").indexOf("Begin") > 0){/* empty */}
				else if((R_n||"").indexOf("End") > 0){/* empty */}
				else if(!pass || opts.WTF) throw new Error("Unexpected record " + RT + " " + R_n);
		}
	}, opts);

	delete opts.supbooks;
	delete opts['!row'];

	if(!s["!ref"] && (refguess.s.r < 2000000 || ref && (ref.e.r > 0 || ref.e.c > 0 || ref.s.r > 0 || ref.s.c > 0))) s["!ref"] = encode_range(ref || refguess);
	if(opts.sheetRows && s["!ref"]) {
		var tmpref = safe_decode_range(s["!ref"]);
		if(opts.sheetRows <= +tmpref.e.r) {
			tmpref.e.r = opts.sheetRows - 1;
			if(tmpref.e.r > refguess.e.r) tmpref.e.r = refguess.e.r;
			if(tmpref.e.r < tmpref.s.r) tmpref.s.r = tmpref.e.r;
			if(tmpref.e.c > refguess.e.c) tmpref.e.c = refguess.e.c;
			if(tmpref.e.c < tmpref.s.c) tmpref.s.c = tmpref.e.c;
			s["!fullref"] = s["!ref"];
			s["!ref"] = encode_range(tmpref);
		}
	}
	if(merges.length > 0) s["!merges"] = merges;
	if(colinfo.length > 0) s["!cols"] = colinfo;
	if(rowinfo.length > 0) s["!rows"] = rowinfo;
	return s;
}

/* TODO: something useful -- this is a stub */
function write_ws_bin_cell(ba, cell, R, C, opts, ws) {
	if(cell.v === undefined) return "";
	var vv = "";
	switch(cell.t) {
		case 'b': vv = cell.v ? "1" : "0"; break;
		case 'd': // no BrtCellDate :(
			cell = dup(cell);
			cell.z = cell.z || SSF._table[14];
			cell.v = datenum(parseDate(cell.v)); cell.t = 'n';
			break;
		/* falls through */
		case 'n': case 'e': vv = ''+cell.v; break;
		default: vv = cell.v; break;
	}
	var o = ({r:R, c:C});
	/* TODO: cell style */
	o.s = get_cell_style(opts.cellXfs, cell, opts);
	if(cell.l) ws['!links'].push([encode_cell(o), cell.l]);
	if(cell.c) ws['!comments'].push([encode_cell(o), cell.c]);
	switch(cell.t) {
		case 's': case 'str':
			if(opts.bookSST) {
				vv = get_sst_id(opts.Strings, (cell.v), opts.revStrings);
				o.t = "s"; o.v = vv;
				write_record(ba, "BrtCellIsst", write_BrtCellIsst(cell, o));
			} else {
				o.t = "str";
				write_record(ba, "BrtCellSt", write_BrtCellSt(cell, o));
			}
			return;
		case 'n':
			/* TODO: determine threshold for Real vs RK */
			if(cell.v == (cell.v | 0) && cell.v > -1000 && cell.v < 1000) write_record(ba, "BrtCellRk", write_BrtCellRk(cell, o));
			else write_record(ba, "BrtCellReal", write_BrtCellReal(cell, o));
			return;
		case 'b':
			o.t = "b";
			write_record(ba, "BrtCellBool", write_BrtCellBool(cell, o));
			return;
		case 'e': /* TODO: error */ o.t = "e"; break;
	}
	write_record(ba, "BrtCellBlank", write_BrtCellBlank(cell, o));
}

function write_CELLTABLE(ba, ws, idx, opts) {
	var range = safe_decode_range(ws['!ref'] || "A1"), ref, rr = "", cols = [];
	write_record(ba, 'BrtBeginSheetData');
	var dense = Array.isArray(ws);
	var cap = range.e.r;
	if(ws['!rows']) cap = Math.max(range.e.r, ws['!rows'].length - 1);
	for(var R = range.s.r; R <= cap; ++R) {
		rr = encode_row(R);
		/* [ACCELLTABLE] */
		/* BrtRowHdr */
		write_row_header(ba, ws, range, R);
		if(R <= range.e.r) for(var C = range.s.c; C <= range.e.c; ++C) {
			/* *16384CELL */
			if(R === range.s.r) cols[C] = encode_col(C);
			ref = cols[C] + rr;
			var cell = dense ? (ws[R]||[])[C] : ws[ref];
			if(!cell) continue;
			/* write cell */
			write_ws_bin_cell(ba, cell, R, C, opts, ws);
		}
	}
	write_record(ba, 'BrtEndSheetData');
}

function write_MERGECELLS(ba, ws) {
	if(!ws || !ws['!merges']) return;
	write_record(ba, 'BrtBeginMergeCells', write_BrtBeginMergeCells(ws['!merges'].length));
	ws['!merges'].forEach(function(m) { write_record(ba, 'BrtMergeCell', write_BrtMergeCell(m)); });
	write_record(ba, 'BrtEndMergeCells');
}

function write_COLINFOS(ba, ws) {
	if(!ws || !ws['!cols']) return;
	write_record(ba, 'BrtBeginColInfos');
	ws['!cols'].forEach(function(m, i) { if(m) write_record(ba, 'BrtColInfo', write_BrtColInfo(i, m)); });
	write_record(ba, 'BrtEndColInfos');
}

function write_IGNOREECS(ba, ws) {
	if(!ws || !ws['!ref']) return;
	write_record(ba, 'BrtBeginCellIgnoreECs');
	write_record(ba, 'BrtCellIgnoreEC', write_BrtCellIgnoreEC(safe_decode_range(ws['!ref'])));
	write_record(ba, 'BrtEndCellIgnoreECs');
}

function write_HLINKS(ba, ws, rels) {
	/* *BrtHLink */
	ws['!links'].forEach(function(l) {
		if(!l[1].Target) return;
		var rId = add_rels(rels, -1, l[1].Target.replace(/#.*$/, ""), RELS.HLINK);
		write_record(ba, "BrtHLink", write_BrtHLink(l, rId));
	});
	delete ws['!links'];
}
function write_LEGACYDRAWING(ba, ws, idx, rels) {
	/* [BrtLegacyDrawing] */
	if(ws['!comments'].length > 0) {
		var rId = add_rels(rels, -1, "../drawings/vmlDrawing" + (idx+1) + ".vml", RELS.VML);
		write_record(ba, "BrtLegacyDrawing", write_RelID("rId" + rId));
		ws['!legacy'] = rId;
	}
}

function write_AUTOFILTER(ba, ws) {
	if(!ws['!autofilter']) return;
	write_record(ba, "BrtBeginAFilter", write_UncheckedRfX(safe_decode_range(ws['!autofilter'].ref)));
	/* *FILTERCOLUMN */
	/* [SORTSTATE] */
	/* BrtEndAFilter */
	write_record(ba, "BrtEndAFilter");
}

function write_WSVIEWS2(ba, ws, Workbook) {
	write_record(ba, "BrtBeginWsViews");
	{ /* 1*WSVIEW2 */
		/* [ACUID] */
		write_record(ba, "BrtBeginWsView", write_BrtBeginWsView(ws, Workbook));
		/* [BrtPane] */
		/* *4BrtSel */
		/* *4SXSELECT */
		/* *FRT */
		write_record(ba, "BrtEndWsView");
	}
	/* *FRT */
	write_record(ba, "BrtEndWsViews");
}

function write_WSFMTINFO() {
	/* [ACWSFMTINFO] */
	//write_record(ba, "BrtWsFmtInfo", write_BrtWsFmtInfo(ws));
}

function write_SHEETPROTECT(ba, ws) {
	if(!ws['!protect']) return;
	/* [BrtSheetProtectionIso] */
	write_record(ba, "BrtSheetProtection", write_BrtSheetProtection(ws['!protect']));
}

function write_ws_bin(idx, opts, wb, rels) {
	var ba = buf_array();
	var s = wb.SheetNames[idx], ws = wb.Sheets[s] || {};
	var c = s; try { if(wb && wb.Workbook) c = wb.Workbook.Sheets[idx].CodeName || c; } catch(e) {}
	var r = safe_decode_range(ws['!ref'] || "A1");
	if(r.e.c > 0x3FFF || r.e.r > 0xFFFFF) {
		if(opts.WTF) throw new Error("Range " + (ws['!ref'] || "A1") + " exceeds format limit A1:XFD1048576");
		r.e.c = Math.min(r.e.c, 0x3FFF);
		r.e.r = Math.min(r.e.c, 0xFFFFF);
	}
	ws['!links'] = [];
	/* passed back to write_zip and removed there */
	ws['!comments'] = [];
	write_record(ba, "BrtBeginSheet");
	if(wb.vbaraw) write_record(ba, "BrtWsProp", write_BrtWsProp(c));
	write_record(ba, "BrtWsDim", write_BrtWsDim(r));
	write_WSVIEWS2(ba, ws, wb.Workbook);
	write_WSFMTINFO(ba, ws);
	write_COLINFOS(ba, ws, idx, opts, wb);
	write_CELLTABLE(ba, ws, idx, opts, wb);
	/* [BrtSheetCalcProp] */
	write_SHEETPROTECT(ba, ws);
	/* *([BrtRangeProtectionIso] BrtRangeProtection) */
	/* [SCENMAN] */
	write_AUTOFILTER(ba, ws);
	/* [SORTSTATE] */
	/* [DCON] */
	/* [USERSHVIEWS] */
	write_MERGECELLS(ba, ws);
	/* [BrtPhoneticInfo] */
	/* *CONDITIONALFORMATTING */
	/* [DVALS] */
	write_HLINKS(ba, ws, rels);
	/* [BrtPrintOptions] */
	if(ws['!margins']) write_record(ba, "BrtMargins", write_BrtMargins(ws['!margins']));
	/* [BrtPageSetup] */
	/* [HEADERFOOTER] */
	/* [RWBRK] */
	/* [COLBRK] */
	/* *BrtBigName */
	/* [CELLWATCHES] */
	write_IGNOREECS(ba, ws);
	/* [SMARTTAGS] */
	/* [BrtDrawing] */
	write_LEGACYDRAWING(ba, ws, idx, rels);
	/* [BrtLegacyDrawingHF] */
	/* [BrtBkHim] */
	/* [OLEOBJECTS] */
	/* [ACTIVEXCONTROLS] */
	/* [WEBPUBITEMS] */
	/* [LISTPARTS] */
	/* FRTWORKSHEET */
	write_record(ba, "BrtEndSheet");
	return ba.end();
}
function parse_numCache(data) {
	var col = [];

	/* 21.2.2.150 pt CT_NumVal */
	(data.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(pt) {
		var q = pt.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);
		if(!q) return;
		col[+q[1]] = +q[2];
	});

	/* 21.2.2.71 formatCode CT_Xstring */
	var nf = unescapexml((data.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/) || ["","General"])[1]);

	return [col, nf];
}

/* 21.2 DrawingML - Charts */
function parse_chart(data, name, opts, rels, wb, csheet) {
	var cs = ((csheet || {"!type":"chart"}));
	if(!data) return csheet;
	/* 21.2.2.27 chart CT_Chart */

	var C = 0, R = 0, col = "A";
	var refguess = {s: {r:2000000, c:2000000}, e: {r:0, c:0} };

	/* 21.2.2.120 numCache CT_NumData */
	(data.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(nc) {
		var cache = parse_numCache(nc);
		refguess.s.r = refguess.s.c = 0;
		refguess.e.c = C;
		col = encode_col(C);
		cache[0].forEach(function(n,i) {
			cs[col + encode_row(i)] = {t:'n', v:n, z:cache[1] };
			R = i;
		});
		if(refguess.e.r < R) refguess.e.r = R;
		++C;
	});
	if(C > 0) cs["!ref"] = encode_range(refguess);
	return cs;
}
RELS.CS = "http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet";

var CS_XML_ROOT = writextag('chartsheet', null, {
	'xmlns': XMLNS.main[0],
	'xmlns:r': XMLNS.r
});

/* 18.3 Worksheets also covers Chartsheets */
function parse_cs_xml(data, opts, idx, rels, wb) {
	if(!data) return data;
	/* 18.3.1.12 chartsheet CT_ChartSheet */
	if(!rels) rels = {'!id':{}};
	var s = {'!type':"chart", '!chart':null, '!rel':""};
	var m;

	/* 18.3.1.83 sheetPr CT_ChartsheetPr */
	var sheetPr = data.match(sheetprregex);
	if(sheetPr) parse_ws_xml_sheetpr(sheetPr[0], s, wb, idx);

	/* 18.3.1.36 drawing CT_Drawing */
	if((m = data.match(/drawing r:id="(.*?)"/))) s['!rel'] = m[1];

	if(rels['!id'][s['!rel']]) s['!chart'] = rels['!id'][s['!rel']];
	return s;
}
function write_cs_xml(idx, opts, wb, rels) {
	var o = [XML_HEADER, CS_XML_ROOT];
	o[o.length] = writextag("drawing", null, {"r:id": "rId1"});
	add_rels(rels, -1, "../drawings/drawing" + (idx+1) + ".xml", RELS.DRAW);
	if(o.length>2) { o[o.length] = ('</chartsheet>'); o[1]=o[1].replace("/>",">"); }
	return o.join("");
}

/* [MS-XLSB] 2.4.331 BrtCsProp */
function parse_BrtCsProp(data, length) {
	data.l += 10;
	var name = parse_XLWideString(data, length - 10);
	return { name: name };
}

/* [MS-XLSB] 2.1.7.7 Chart Sheet */
function parse_cs_bin(data, opts, idx, rels, wb) {
	if(!data) return data;
	if(!rels) rels = {'!id':{}};
	var s = {'!type':"chart", '!chart':null, '!rel':""};
	var state = [];
	var pass = false;
	recordhopper(data, function cs_parse(val, R_n, RT) {
		switch(RT) {

			case 0x0226: /* 'BrtDrawing' */
				s['!rel'] = val; break;

			case 0x028B: /* 'BrtCsProp' */
				if(!wb.Sheets[idx]) wb.Sheets[idx] = {};
				if(val.name) wb.Sheets[idx].CodeName = val.name;
				break;

			case 0x0232: /* 'BrtBkHim' */
			case 0x028C: /* 'BrtCsPageSetup' */
			case 0x029D: /* 'BrtCsProtection' */
			case 0x02A7: /* 'BrtCsProtectionIso' */
			case 0x0227: /* 'BrtLegacyDrawing' */
			case 0x0228: /* 'BrtLegacyDrawingHF' */
			case 0x01DC: /* 'BrtMargins' */
			case 0x0C00: /* 'BrtUid' */
				break;

			case 0x0023: /* 'BrtFRTBegin' */
				pass = true; break;
			case 0x0024: /* 'BrtFRTEnd' */
				pass = false; break;
			case 0x0025: /* 'BrtACBegin' */
				state.push(R_n); break;
			case 0x0026: /* 'BrtACEnd' */
				state.pop(); break;

			default:
				if((R_n||"").indexOf("Begin") > 0) state.push(R_n);
				else if((R_n||"").indexOf("End") > 0) state.pop();
				else if(!pass || opts.WTF) throw new Error("Unexpected record " + RT + " " + R_n);
		}
	}, opts);

	if(rels['!id'][s['!rel']]) s['!chart'] = rels['!id'][s['!rel']];
	return s;
}
function write_cs_bin() {
	var ba = buf_array();
	write_record(ba, "BrtBeginSheet");
	/* [BrtCsProp] */
	/* CSVIEWS */
	/* [[BrtCsProtectionIso] BrtCsProtection] */
	/* [USERCSVIEWS] */
	/* [BrtMargins] */
	/* [BrtCsPageSetup] */
	/* [HEADERFOOTER] */
	/* BrtDrawing */
	/* [BrtLegacyDrawing] */
	/* [BrtLegacyDrawingHF] */
	/* [BrtBkHim] */
	/* [WEBPUBITEMS] */
	/* FRTCHARTSHEET */
	write_record(ba, "BrtEndSheet");
	return ba.end();
}
/* 18.2.28 (CT_WorkbookProtection) Defaults */
var WBPropsDef = [
	['allowRefreshQuery',           false, "bool"],
	['autoCompressPictures',        true,  "bool"],
	['backupFile',                  false, "bool"],
	['checkCompatibility',          false, "bool"],
	['CodeName',                    ''],
	['date1904',                    false, "bool"],
	['defaultThemeVersion',         0,      "int"],
	['filterPrivacy',               false, "bool"],
	['hidePivotFieldList',          false, "bool"],
	['promptedSolutions',           false, "bool"],
	['publishItems',                false, "bool"],
	['refreshAllConnections',       false, "bool"],
	['saveExternalLinkValues',      true,  "bool"],
	['showBorderUnselectedTables',  true,  "bool"],
	['showInkAnnotation',           true,  "bool"],
	['showObjects',                 'all'],
	['showPivotChartFilter',        false, "bool"],
	['updateLinks', 'userSet']
];

/* 18.2.30 (CT_BookView) Defaults */
var WBViewDef = [
	['activeTab',                   0,      "int"],
	['autoFilterDateGrouping',      true,  "bool"],
	['firstSheet',                  0,      "int"],
	['minimized',                   false, "bool"],
	['showHorizontalScroll',        true,  "bool"],
	['showSheetTabs',               true,  "bool"],
	['showVerticalScroll',          true,  "bool"],
	['tabRatio',                    600,    "int"],
	['visibility',                  'visible']
	//window{Height,Width}, {x,y}Window
];

/* 18.2.19 (CT_Sheet) Defaults */
var SheetDef = [
	//['state', 'visible']
];

/* 18.2.2  (CT_CalcPr) Defaults */
var CalcPrDef = [
	['calcCompleted', 'true'],
	['calcMode', 'auto'],
	['calcOnSave', 'true'],
	['concurrentCalc', 'true'],
	['fullCalcOnLoad', 'false'],
	['fullPrecision', 'true'],
	['iterate', 'false'],
	['iterateCount', '100'],
	['iterateDelta', '0.001'],
	['refMode', 'A1']
];

/* 18.2.3 (CT_CustomWorkbookView) Defaults */
/*var CustomWBViewDef = [
	['autoUpdate', 'false'],
	['changesSavedWin', 'false'],
	['includeHiddenRowCol', 'true'],
	['includePrintSettings', 'true'],
	['maximized', 'false'],
	['minimized', 'false'],
	['onlySync', 'false'],
	['personalView', 'false'],
	['showComments', 'commIndicator'],
	['showFormulaBar', 'true'],
	['showHorizontalScroll', 'true'],
	['showObjects', 'all'],
	['showSheetTabs', 'true'],
	['showStatusbar', 'true'],
	['showVerticalScroll', 'true'],
	['tabRatio', '600'],
	['xWindow', '0'],
	['yWindow', '0']
];*/

function push_defaults_array(target, defaults) {
	for(var j = 0; j != target.length; ++j) { var w = target[j];
		for(var i=0; i != defaults.length; ++i) { var z = defaults[i];
			if(w[z[0]] == null) w[z[0]] = z[1];
			else switch(z[2]) {
			case "bool": if(typeof w[z[0]] == "string") w[z[0]] = parsexmlbool(w[z[0]]); break;
			case "int": if(typeof w[z[0]] == "string") w[z[0]] = parseInt(w[z[0]], 10); break;
			}
		}
	}
}
function push_defaults(target, defaults) {
	for(var i = 0; i != defaults.length; ++i) { var z = defaults[i];
		if(target[z[0]] == null) target[z[0]] = z[1];
		else switch(z[2]) {
			case "bool": if(typeof target[z[0]] == "string") target[z[0]] = parsexmlbool(target[z[0]]); break;
			case "int": if(typeof target[z[0]] == "string") target[z[0]] = parseInt(target[z[0]], 10); break;
		}
	}
}

function parse_wb_defaults(wb) {
	push_defaults(wb.WBProps, WBPropsDef);
	push_defaults(wb.CalcPr, CalcPrDef);

	push_defaults_array(wb.WBView, WBViewDef);
	push_defaults_array(wb.Sheets, SheetDef);

	_ssfopts.date1904 = parsexmlbool(wb.WBProps.date1904);
}

function safe1904(wb) {
	/* TODO: store date1904 somewhere else */
	if(!wb.Workbook) return "false";
	if(!wb.Workbook.WBProps) return "false";
	return parsexmlbool(wb.Workbook.WBProps.date1904) ? "true" : "false";
}

var badchars = "][*?\/\\".split("");
function check_ws_name(n, safe) {
	if(n.length > 31) { if(safe) return false; throw new Error("Sheet names cannot exceed 31 chars"); }
	var _good = true;
	badchars.forEach(function(c) {
		if(n.indexOf(c) == -1) return;
		if(!safe) throw new Error("Sheet name cannot contain : \\ / ? * [ ]");
		_good = false;
	});
	return _good;
}
function check_wb_names(N, S, codes) {
	N.forEach(function(n,i) {
		check_ws_name(n);
		for(var j = 0; j < i; ++j) if(n == N[j]) throw new Error("Duplicate Sheet Name: " + n);
		if(codes) {
			var cn = (S && S[i] && S[i].CodeName) || n;
			if(cn.charCodeAt(0) == 95 && cn.length > 22) throw new Error("Bad Code Name: Worksheet" + cn);
		}
	});
}
function check_wb(wb) {
	if(!wb || !wb.SheetNames || !wb.Sheets) throw new Error("Invalid Workbook");
	if(!wb.SheetNames.length) throw new Error("Workbook is empty");
	var Sheets = (wb.Workbook && wb.Workbook.Sheets) || [];
	check_wb_names(wb.SheetNames, Sheets, !!wb.vbaraw);
	for(var i = 0; i < wb.SheetNames.length; ++i) check_ws(wb.Sheets[wb.SheetNames[i]], wb.SheetNames[i], i);
	/* TODO: validate workbook */
}
/* 18.2 Workbook */
var wbnsregex = /<\w+:workbook/;
function parse_wb_xml(data, opts) {
	if(!data) throw new Error("Could not find file");
	var wb = { AppVersion:{}, WBProps:{}, WBView:[], Sheets:[], CalcPr:{}, Names:[], xmlns: "" };
	var pass = false, xmlns = "xmlns";
	var dname = {}, dnstart = 0;
	data.replace(tagregex, function xml_wb(x, idx) {
		var y = parsexmltag(x);
		switch(strip_ns(y[0])) {
			case '<?xml': break;

			/* 18.2.27 workbook CT_Workbook 1 */
			case '<workbook':
				if(x.match(wbnsregex)) xmlns = "xmlns" + x.match(/<(\w+):/)[1];
				wb.xmlns = y[xmlns];
				break;
			case '</workbook>': break;

			/* 18.2.13 fileVersion CT_FileVersion ? */
			case '<fileVersion': delete y[0]; wb.AppVersion = y; break;
			case '<fileVersion/>': case '</fileVersion>': break;

			/* 18.2.12 fileSharing CT_FileSharing ? */
			case '<fileSharing': case '<fileSharing/>': break;

			/* 18.2.28 workbookPr CT_WorkbookPr ? */
			case '<workbookPr':
			case '<workbookPr/>':
				WBPropsDef.forEach(function(w) {
					if(y[w[0]] == null) return;
					switch(w[2]) {
						case "bool": wb.WBProps[w[0]] = parsexmlbool(y[w[0]]); break;
						case "int": wb.WBProps[w[0]] = parseInt(y[w[0]], 10); break;
						default: wb.WBProps[w[0]] = y[w[0]];
					}
				});
				if(y.codeName) wb.WBProps.CodeName = y.codeName;
				break;
			case '</workbookPr>': break;

			/* 18.2.29 workbookProtection CT_WorkbookProtection ? */
			case '<workbookProtection': break;
			case '<workbookProtection/>': break;

			/* 18.2.1  bookViews CT_BookViews ? */
			case '<bookViews': case '<bookViews>': case '</bookViews>': break;
			/* 18.2.30   workbookView CT_BookView + */
			case '<workbookView': case '<workbookView/>': delete y[0]; wb.WBView.push(y); break;
			case '</workbookView>': break;

			/* 18.2.20 sheets CT_Sheets 1 */
			case '<sheets': case '<sheets>': case '</sheets>': break; // aggregate sheet
			/* 18.2.19   sheet CT_Sheet + */
			case '<sheet':
				switch(y.state) {
					case "hidden": y.Hidden = 1; break;
					case "veryHidden": y.Hidden = 2; break;
					default: y.Hidden = 0;
				}
				delete y.state;
				y.name = unescapexml(utf8read(y.name));
				delete y[0]; wb.Sheets.push(y); break;
			case '</sheet>': break;

			/* 18.2.15 functionGroups CT_FunctionGroups ? */
			case '<functionGroups': case '<functionGroups/>': break;
			/* 18.2.14   functionGroup CT_FunctionGroup + */
			case '<functionGroup': break;

			/* 18.2.9  externalReferences CT_ExternalReferences ? */
			case '<externalReferences': case '</externalReferences>': case '<externalReferences>': break;
			/* 18.2.8    externalReference CT_ExternalReference + */
			case '<externalReference': break;

			/* 18.2.6  definedNames CT_DefinedNames ? */
			case '<definedNames/>': break;
			case '<definedNames>': case '<definedNames': pass=true; break;
			case '</definedNames>': pass=false; break;
			/* 18.2.5    definedName CT_DefinedName + */
			case '<definedName': {
				dname = {};
				dname.Name = y.name;
				if(y.comment) dname.Comment = y.comment;
				if(y.localSheetId) dname.Sheet = +y.localSheetId;
				dnstart = idx + x.length;
			}	break;
			case '</definedName>': {
				dname.Ref = data.slice(dnstart, idx);
				wb.Names.push(dname);
			} break;
			case '<definedName/>': break;

			/* 18.2.2  calcPr CT_CalcPr ? */
			case '<calcPr': delete y[0]; wb.CalcPr = y; break;
			case '<calcPr/>': delete y[0]; wb.CalcPr = y; break;
			case '</calcPr>': break;

			/* 18.2.16 oleSize CT_OleSize ? (ref required) */
			case '<oleSize': break;

			/* 18.2.4  customWorkbookViews CT_CustomWorkbookViews ? */
			case '<customWorkbookViews>': case '</customWorkbookViews>': case '<customWorkbookViews': break;
			/* 18.2.3    customWorkbookView CT_CustomWorkbookView + */
			case '<customWorkbookView': case '</customWorkbookView>': break;

			/* 18.2.18 pivotCaches CT_PivotCaches ? */
			case '<pivotCaches>': case '</pivotCaches>': case '<pivotCaches': break;
			/* 18.2.17 pivotCache CT_PivotCache ? */
			case '<pivotCache': break;

			/* 18.2.21 smartTagPr CT_SmartTagPr ? */
			case '<smartTagPr': case '<smartTagPr/>': break;

			/* 18.2.23 smartTagTypes CT_SmartTagTypes ? */
			case '<smartTagTypes': case '<smartTagTypes>': case '</smartTagTypes>': break;
			/* 18.2.22   smartTagType CT_SmartTagType ? */
			case '<smartTagType': break;

			/* 18.2.24 webPublishing CT_WebPublishing ? */
			case '<webPublishing': case '<webPublishing/>': break;

			/* 18.2.11 fileRecoveryPr CT_FileRecoveryPr ? */
			case '<fileRecoveryPr': case '<fileRecoveryPr/>': break;

			/* 18.2.26 webPublishObjects CT_WebPublishObjects ? */
			case '<webPublishObjects>': case '<webPublishObjects': case '</webPublishObjects>': break;
			/* 18.2.25 webPublishObject CT_WebPublishObject ? */
			case '<webPublishObject': break;

			/* 18.2.10 extLst CT_ExtensionList ? */
			case '<extLst': case '<extLst>': case '</extLst>': case '<extLst/>': break;
			/* 18.2.7    ext CT_Extension + */
			case '<ext': pass=true; break; //TODO: check with versions of excel
			case '</ext>': pass=false; break;

			/* Others */
			case '<ArchID': break;
			case '<AlternateContent':
			case '<AlternateContent>': pass=true; break;
			case '</AlternateContent>': pass=false; break;

			/* TODO */
			case '<revisionPtr': break;

			default: if(!pass && opts.WTF) throw new Error('unrecognized ' + y[0] + ' in workbook');
		}
		return x;
	});
	if(XMLNS.main.indexOf(wb.xmlns) === -1) throw new Error("Unknown Namespace: " + wb.xmlns);

	parse_wb_defaults(wb);

	return wb;
}

var WB_XML_ROOT = writextag('workbook', null, {
	'xmlns': XMLNS.main[0],
	//'xmlns:mx': XMLNS.mx,
	//'xmlns:s': XMLNS.main[0],
	'xmlns:r': XMLNS.r
});

function write_wb_xml(wb) {
	var o = [XML_HEADER];
	o[o.length] = WB_XML_ROOT;

	var write_names = (wb.Workbook && (wb.Workbook.Names||[]).length > 0);

	/* fileVersion */
	/* fileSharing */

	var workbookPr = ({codeName:"ThisWorkbook"});
	if(wb.Workbook && wb.Workbook.WBProps) {
		WBPropsDef.forEach(function(x) {
if((wb.Workbook.WBProps[x[0]]) == null) return;
			if((wb.Workbook.WBProps[x[0]]) == x[1]) return;
			workbookPr[x[0]] = (wb.Workbook.WBProps[x[0]]);
		});
if(wb.Workbook.WBProps.CodeName) { workbookPr.codeName = wb.Workbook.WBProps.CodeName; delete workbookPr.CodeName; }
	}
	o[o.length] = (writextag('workbookPr', null, workbookPr));

	/* workbookProtection */
	/* bookViews */

	o[o.length] = "<sheets>";
	var sheets = wb.Workbook && wb.Workbook.Sheets || [];
	for(var i = 0; i != wb.SheetNames.length; ++i) {
		var sht = ({name:escapexml(wb.SheetNames[i].slice(0,31))});
		sht.sheetId = ""+(i+1);
		sht["r:id"] = "rId"+(i+1);
		if(sheets[i]) switch(sheets[i].Hidden) {
			case 1: sht.state = "hidden"; break;
			case 2: sht.state = "veryHidden"; break;
		}
		o[o.length] = (writextag('sheet',null,sht));
	}
	o[o.length] = "</sheets>";

	/* functionGroups */
	/* externalReferences */

	if(write_names) {
		o[o.length] = "<definedNames>";
		if(wb.Workbook && wb.Workbook.Names) wb.Workbook.Names.forEach(function(n) {
			var d = {name:n.Name};
			if(n.Comment) d.comment = n.Comment;
			if(n.Sheet != null) d.localSheetId = ""+n.Sheet;
			if(!n.Ref) return;
			o[o.length] = writextag('definedName', String(n.Ref), d);
		});
		o[o.length] = "</definedNames>";
	}

	/* calcPr */
	/* oleSize */
	/* customWorkbookViews */
	/* pivotCaches */
	/* smartTagPr */
	/* smartTagTypes */
	/* webPublishing */
	/* fileRecoveryPr */
	/* webPublishObjects */
	/* extLst */

	if(o.length>2){ o[o.length] = '</workbook>'; o[1]=o[1].replace("/>",">"); }
	return o.join("");
}
/* [MS-XLSB] 2.4.304 BrtBundleSh */
function parse_BrtBundleSh(data, length) {
	var z = {};
	z.Hidden = data.read_shift(4); //hsState ST_SheetState
	z.iTabID = data.read_shift(4);
	z.strRelID = parse_RelID(data,length-8);
	z.name = parse_XLWideString(data);
	return z;
}
function write_BrtBundleSh(data, o) {
	if(!o) o = new_buf(127);
	o.write_shift(4, data.Hidden);
	o.write_shift(4, data.iTabID);
	write_RelID(data.strRelID, o);
	write_XLWideString(data.name.slice(0,31), o);
	return o.length > o.l ? o.slice(0, o.l) : o;
}

/* [MS-XLSB] 2.4.815 BrtWbProp */
function parse_BrtWbProp(data, length) {
	var o = ({});
	var flags = data.read_shift(4);
	o.defaultThemeVersion = data.read_shift(4);
	var strName = (length > 8) ? parse_XLWideString(data) : "";
	if(strName.length > 0) o.CodeName = strName;
	o.autoCompressPictures = !!(flags & 0x10000);
	o.backupFile = !!(flags & 0x40);
	o.checkCompatibility = !!(flags & 0x1000);
	o.date1904 = !!(flags & 0x01);
	o.filterPrivacy = !!(flags & 0x08);
	o.hidePivotFieldList = !!(flags & 0x400);
	o.promptedSolutions = !!(flags & 0x10);
	o.publishItems = !!(flags & 0x800);
	o.refreshAllConnections = !!(flags & 0x40000);
	o.saveExternalLinkValues = !!(flags & 0x80);
	o.showBorderUnselectedTables = !!(flags & 0x04);
	o.showInkAnnotation = !!(flags & 0x20);
	o.showObjects = ["all", "placeholders", "none"][(flags >> 13) & 0x03];
	o.showPivotChartFilter = !!(flags & 0x8000);
	o.updateLinks = ["userSet", "never", "always"][(flags >> 8) & 0x03];
	return o;
}
function write_BrtWbProp(data, o) {
	if(!o) o = new_buf(72);
	var flags = 0;
	if(data) {
		/* TODO: mirror parse_BrtWbProp fields */
		if(data.filterPrivacy) flags |= 0x08;
	}
	o.write_shift(4, flags);
	o.write_shift(4, 0);
	write_XLSBCodeName(data && data.CodeName || "ThisWorkbook", o);
	return o.slice(0, o.l);
}

function parse_BrtFRTArchID$(data, length) {
	var o = {};
	data.read_shift(4);
	o.ArchID = data.read_shift(4);
	data.l += length - 8;
	return o;
}

/* [MS-XLSB] 2.4.687 BrtName */
function parse_BrtName(data, length, opts) {
	var end = data.l + length;
	data.l += 4; //var flags = data.read_shift(4);
	data.l += 1; //var chKey = data.read_shift(1);
	var itab = data.read_shift(4);
	var name = parse_XLNameWideString(data);
	var formula = parse_XLSBNameParsedFormula(data, 0, opts);
	var comment = parse_XLNullableWideString(data);
	//if(0 /* fProc */) {
		// unusedstring1: XLNullableWideString
		// description: XLNullableWideString
		// helpTopic: XLNullableWideString
		// unusedstring2: XLNullableWideString
	//}
	data.l = end;
	var out = ({Name:name, Ptg:formula});
	if(itab < 0xFFFFFFF) out.Sheet = itab;
	if(comment) out.Comment = comment;
	return out;
}

/* [MS-XLSB] 2.1.7.61 Workbook */
function parse_wb_bin(data, opts) {
	var wb = { AppVersion:{}, WBProps:{}, WBView:[], Sheets:[], CalcPr:{}, xmlns: "" };
	var pass = false;

	if(!opts) opts = {};
	opts.biff = 12;

	var Names = [];
	var supbooks = ([[]]);
	supbooks.SheetNames = [];
	supbooks.XTI = [];

	recordhopper(data, function hopper_wb(val, R_n, RT) {
		switch(RT) {
			case 0x009C: /* 'BrtBundleSh' */
				supbooks.SheetNames.push(val.name);
				wb.Sheets.push(val); break;

			case 0x0099: /* 'BrtWbProp' */
				wb.WBProps = val; break;

			case 0x0027: /* 'BrtName' */
				if(val.Sheet != null) opts.SID = val.Sheet;
				val.Ref = stringify_formula(val.Ptg, null, null, supbooks, opts);
				delete opts.SID;
				delete val.Ptg;
				Names.push(val);
				break;
			case 0x040C: /* 'BrtNameExt' */ break;

			case 0x0165: /* 'BrtSupSelf' */
			case 0x0166: /* 'BrtSupSame' */
			case 0x0163: /* 'BrtSupBookSrc' */
			case 0x029B: /* 'BrtSupAddin' */
				if(!supbooks[0].length) supbooks[0] = [RT, val];
				else supbooks.push([RT, val]);
				supbooks[supbooks.length - 1].XTI = [];
				break;
			case 0x016A: /* 'BrtExternSheet' */
				if(supbooks.length === 0) { supbooks[0] = []; supbooks[0].XTI = []; }
				supbooks[supbooks.length - 1].XTI = supbooks[supbooks.length - 1].XTI.concat(val);
				supbooks.XTI = supbooks.XTI.concat(val);
				break;
			case 0x0169: /* 'BrtPlaceholderName' */
				break;

			/* case 'BrtModelTimeGroupingCalcCol' */
			case 0x0C00: /* 'BrtUid' */
			case 0x0C01: /* 'BrtRevisionPtr' */
			case 0x0817: /* 'BrtAbsPath15' */
			case 0x0216: /* 'BrtBookProtection' */
			case 0x02A5: /* 'BrtBookProtectionIso' */
			case 0x009E: /* 'BrtBookView' */
			case 0x009D: /* 'BrtCalcProp' */
			case 0x0262: /* 'BrtCrashRecErr' */
			case 0x0802: /* 'BrtDecoupledPivotCacheID' */
			case 0x009B: /* 'BrtFileRecover' */
			case 0x0224: /* 'BrtFileSharing' */
			case 0x02A4: /* 'BrtFileSharingIso' */
			case 0x0080: /* 'BrtFileVersion' */
			case 0x0299: /* 'BrtFnGroup' */
			case 0x0850: /* 'BrtModelRelationship' */
			case 0x084D: /* 'BrtModelTable' */
			case 0x0225: /* 'BrtOleSize' */
			case 0x0805: /* 'BrtPivotTableRef' */
			case 0x0254: /* 'BrtSmartTagType' */
			case 0x081C: /* 'BrtTableSlicerCacheID' */
			case 0x081B: /* 'BrtTableSlicerCacheIDs' */
			case 0x0822: /* 'BrtTimelineCachePivotCacheID' */
			case 0x018D: /* 'BrtUserBookView' */
			case 0x009A: /* 'BrtWbFactoid' */
			case 0x045D: /* 'BrtWbProp14' */
			case 0x0229: /* 'BrtWebOpt' */
			case 0x082B: /* 'BrtWorkBookPr15' */
				break;

			case 0x0023: /* 'BrtFRTBegin' */
				pass = true; break;
			case 0x0024: /* 'BrtFRTEnd' */
				pass = false; break;
			case 0x0025: /* 'BrtACBegin' */ break;
			case 0x0026: /* 'BrtACEnd' */ break;

			case 0x0010: /* 'BrtFRTArchID$' */ break;

			default:
				if((R_n||"").indexOf("Begin") > 0){/* empty */}
				else if((R_n||"").indexOf("End") > 0){/* empty */}
				else if(!pass || opts.WTF) throw new Error("Unexpected record " + RT + " " + R_n);
		}
	}, opts);

	parse_wb_defaults(wb);

	// $FlowIgnore
	wb.Names = Names;

	(wb).supbooks = supbooks;
	return wb;
}

function write_BUNDLESHS(ba, wb) {
	write_record(ba, "BrtBeginBundleShs");
	for(var idx = 0; idx != wb.SheetNames.length; ++idx) {
		var viz = wb.Workbook && wb.Workbook.Sheets && wb.Workbook.Sheets[idx] && wb.Workbook.Sheets[idx].Hidden || 0;
		var d = { Hidden: viz, iTabID: idx+1, strRelID: 'rId' + (idx+1), name: wb.SheetNames[idx] };
		write_record(ba, "BrtBundleSh", write_BrtBundleSh(d));
	}
	write_record(ba, "BrtEndBundleShs");
}

/* [MS-XLSB] 2.4.649 BrtFileVersion */
function write_BrtFileVersion(data, o) {
	if(!o) o = new_buf(127);
	for(var i = 0; i != 4; ++i) o.write_shift(4, 0);
	write_XLWideString("SheetJS", o);
	write_XLWideString(XLSX.version, o);
	write_XLWideString(XLSX.version, o);
	write_XLWideString("7262", o);
	o.length = o.l;
	return o.length > o.l ? o.slice(0, o.l) : o;
}

/* [MS-XLSB] 2.4.301 BrtBookView */
function write_BrtBookView(idx, o) {
	if(!o) o = new_buf(29);
	o.write_shift(-4, 0);
	o.write_shift(-4, 460);
	o.write_shift(4,  28800);
	o.write_shift(4,  17600);
	o.write_shift(4,  500);
	o.write_shift(4,  idx);
	o.write_shift(4,  idx);
	var flags = 0x78;
	o.write_shift(1,  flags);
	return o.length > o.l ? o.slice(0, o.l) : o;
}

function write_BOOKVIEWS(ba, wb) {
	/* required if hidden tab appears before visible tab */
	if(!wb.Workbook || !wb.Workbook.Sheets) return;
	var sheets = wb.Workbook.Sheets;
	var i = 0, vistab = -1, hidden = -1;
	for(; i < sheets.length; ++i) {
		if(!sheets[i] || !sheets[i].Hidden && vistab == -1) vistab = i;
		else if(sheets[i].Hidden == 1 && hidden == -1) hidden = i;
	}
	if(hidden > vistab) return;
	write_record(ba, "BrtBeginBookViews");
	write_record(ba, "BrtBookView", write_BrtBookView(vistab));
	/* 1*(BrtBookView *FRT) */
	write_record(ba, "BrtEndBookViews");
}

/* [MS-XLSB] 2.4.305 BrtCalcProp */
/*function write_BrtCalcProp(data, o) {
	if(!o) o = new_buf(26);
	o.write_shift(4,0); // force recalc
	o.write_shift(4,1);
	o.write_shift(4,0);
	write_Xnum(0, o);
	o.write_shift(-4, 1023);
	o.write_shift(1, 0x33);
	o.write_shift(1, 0x00);
	return o;
}*/

/* [MS-XLSB] 2.4.646 BrtFileRecover */
/*function write_BrtFileRecover(data, o) {
	if(!o) o = new_buf(1);
	o.write_shift(1,0);
	return o;
}*/

/* [MS-XLSB] 2.1.7.61 Workbook */
function write_wb_bin(wb, opts) {
	var ba = buf_array();
	write_record(ba, "BrtBeginBook");
	write_record(ba, "BrtFileVersion", write_BrtFileVersion());
	/* [[BrtFileSharingIso] BrtFileSharing] */
	write_record(ba, "BrtWbProp", write_BrtWbProp(wb.Workbook && wb.Workbook.WBProps || null));
	/* [ACABSPATH] */
	/* [[BrtBookProtectionIso] BrtBookProtection] */
	write_BOOKVIEWS(ba, wb, opts);
	write_BUNDLESHS(ba, wb, opts);
	/* [FNGROUP] */
	/* [EXTERNALS] */
	/* *BrtName */
	/* write_record(ba, "BrtCalcProp", write_BrtCalcProp()); */
	/* [BrtOleSize] */
	/* *(BrtUserBookView *FRT) */
	/* [PIVOTCACHEIDS] */
	/* [BrtWbFactoid] */
	/* [SMARTTAGTYPES] */
	/* [BrtWebOpt] */
	/* write_record(ba, "BrtFileRecover", write_BrtFileRecover()); */
	/* [WEBPUBITEMS] */
	/* [CRERRS] */
	/* FRTWORKBOOK */
	write_record(ba, "BrtEndBook");

	return ba.end();
}
function parse_wb(data, name, opts) {
	if(name.slice(-4)===".bin") return parse_wb_bin((data), opts);
	return parse_wb_xml((data), opts);
}

function parse_ws(data, name, idx, opts, rels, wb, themes, styles) {
	if(name.slice(-4)===".bin") return parse_ws_bin((data), opts, idx, rels, wb, themes, styles);
	return parse_ws_xml((data), opts, idx, rels, wb, themes, styles);
}

function parse_cs(data, name, idx, opts, rels, wb, themes, styles) {
	if(name.slice(-4)===".bin") return parse_cs_bin((data), opts, idx, rels, wb, themes, styles);
	return parse_cs_xml((data), opts, idx, rels, wb, themes, styles);
}

function parse_ms(data, name, idx, opts, rels, wb, themes, styles) {
	if(name.slice(-4)===".bin") return parse_ms_bin((data), opts, idx, rels, wb, themes, styles);
	return parse_ms_xml((data), opts, idx, rels, wb, themes, styles);
}

function parse_ds(data, name, idx, opts, rels, wb, themes, styles) {
	if(name.slice(-4)===".bin") return parse_ds_bin((data), opts, idx, rels, wb, themes, styles);
	return parse_ds_xml((data), opts, idx, rels, wb, themes, styles);
}

function parse_sty(data, name, themes, opts) {
	if(name.slice(-4)===".bin") return parse_sty_bin((data), themes, opts);
	return parse_sty_xml((data), themes, opts);
}

function parse_theme(data, name, opts) {
	return parse_theme_xml(data, opts);
}

function parse_sst(data, name, opts) {
	if(name.slice(-4)===".bin") return parse_sst_bin((data), opts);
	return parse_sst_xml((data), opts);
}

function parse_cmnt(data, name, opts) {
	if(name.slice(-4)===".bin") return parse_comments_bin((data), opts);
	return parse_comments_xml((data), opts);
}

function parse_cc(data, name, opts) {
	if(name.slice(-4)===".bin") return parse_cc_bin((data), name, opts);
	return parse_cc_xml((data), name, opts);
}

function parse_xlink(data, name, opts) {
	if(name.slice(-4)===".bin") return parse_xlink_bin((data), name, opts);
	return parse_xlink_xml((data), name, opts);
}

function write_wb(wb, name, opts) {
	return (name.slice(-4)===".bin" ? write_wb_bin : write_wb_xml)(wb, opts);
}

function write_ws(data, name, opts, wb, rels) {
	return (name.slice(-4)===".bin" ? write_ws_bin : write_ws_xml)(data, opts, wb, rels);
}

// eslint-disable-next-line no-unused-vars
function write_cs(data, name, opts, wb, rels) {
	return (name.slice(-4)===".bin" ? write_cs_bin : write_cs_xml)(data, opts, wb, rels);
}

function write_sty(data, name, opts) {
	return (name.slice(-4)===".bin" ? write_sty_bin : write_sty_xml)(data, opts);
}

function write_sst(data, name, opts) {
	return (name.slice(-4)===".bin" ? write_sst_bin : write_sst_xml)(data, opts);
}

function write_cmnt(data, name, opts) {
	return (name.slice(-4)===".bin" ? write_comments_bin : write_comments_xml)(data, opts);
}
/*
function write_cc(data, name:string, opts) {
	return (name.slice(-4)===".bin" ? write_cc_bin : write_cc_xml)(data, opts);
}
*/
var attregexg2=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g;
var attregex2=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;
var _chr = function(c) { return String.fromCharCode(c); };
function xlml_parsexmltag(tag, skip_root) {
	var words = tag.split(/\s+/);
	var z = ([]); if(!skip_root) z[0] = words[0];
	if(words.length === 1) return z;
	var m = tag.match(attregexg2), y, j, w, i;
	if(m) for(i = 0; i != m.length; ++i) {
		y = m[i].match(attregex2);
if((j=y[1].indexOf(":")) === -1) z[y[1]] = y[2].slice(1,y[2].length-1);
		else {
			if(y[1].slice(0,6) === "xmlns:") w = "xmlns"+y[1].slice(6);
			else w = y[1].slice(j+1);
			z[w] = y[2].slice(1,y[2].length-1);
		}
	}
	return z;
}
function xlml_parsexmltagobj(tag) {
	var words = tag.split(/\s+/);
	var z = {};
	if(words.length === 1) return z;
	var m = tag.match(attregexg2), y, j, w, i;
	if(m) for(i = 0; i != m.length; ++i) {
		y = m[i].match(attregex2);
if((j=y[1].indexOf(":")) === -1) z[y[1]] = y[2].slice(1,y[2].length-1);
		else {
			if(y[1].slice(0,6) === "xmlns:") w = "xmlns"+y[1].slice(6);
			else w = y[1].slice(j+1);
			z[w] = y[2].slice(1,y[2].length-1);
		}
	}
	return z;
}

// ----

function xlml_format(format, value) {
	var fmt = XLMLFormatMap[format] || unescapexml(format);
	if(fmt === "General") return SSF._general(value);
	return SSF.format(fmt, value);
}

function xlml_set_custprop(Custprops, key, cp, val) {
	var oval = val;
	switch((cp[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]) {
		case "boolean": oval = parsexmlbool(val); break;
		case "i2": case "int": oval = parseInt(val, 10); break;
		case "r4": case "float": oval = parseFloat(val); break;
		case "date": case "dateTime.tz": oval = parseDate(val); break;
		case "i8": case "string": case "fixed": case "uuid": case "bin.base64": break;
		default: throw new Error("bad custprop:" + cp[0]);
	}
	Custprops[unescapexml(key)] = oval;
}

function safe_format_xlml(cell, nf, o) {
	if(cell.t === 'z') return;
	if(!o || o.cellText !== false) try {
		if(cell.t === 'e') { cell.w = cell.w || BErr[cell.v]; }
		else if(nf === "General") {
			if(cell.t === 'n') {
				if((cell.v|0) === cell.v) cell.w = SSF._general_int(cell.v);
				else cell.w = SSF._general_num(cell.v);
			}
			else cell.w = SSF._general(cell.v);
		}
		else cell.w = xlml_format(nf||"General", cell.v);
	} catch(e) { if(o.WTF) throw e; }
	try {
		var z = XLMLFormatMap[nf]||nf||"General";
		if(o.cellNF) cell.z = z;
		if(o.cellDates && cell.t == 'n' && SSF.is_date(z)) {
			var _d = SSF.parse_date_code(cell.v); if(_d) { cell.t = 'd'; cell.v = new Date(_d.y, _d.m-1,_d.d,_d.H,_d.M,_d.S,_d.u); }
		}
	} catch(e) { if(o.WTF) throw e; }
}

function process_style_xlml(styles, stag, opts) {
	if(opts.cellStyles) {
		if(stag.Interior) {
			var I = stag.Interior;
			if(I.Pattern) I.patternType = XLMLPatternTypeMap[I.Pattern] || I.Pattern;
		}
	}
	styles[stag.ID] = stag;
}

/* TODO: there must exist some form of OSP-blessed spec */
function parse_xlml_data(xml, ss, data, cell, base, styles, csty, row, arrayf, o) {
	var nf = "General", sid = cell.StyleID, S = {}; o = o || {};
	var interiors = [];
	var i = 0;
	if(sid === undefined && row) sid = row.StyleID;
	if(sid === undefined && csty) sid = csty.StyleID;
	while(styles[sid] !== undefined) {
		if(styles[sid].nf) nf = styles[sid].nf;
		if(styles[sid].Interior) interiors.push(styles[sid].Interior);
		if(!styles[sid].Parent) break;
		sid = styles[sid].Parent;
	}
	switch(data.Type) {
		case 'Boolean':
			cell.t = 'b';
			cell.v = parsexmlbool(xml);
			break;
		case 'String':
			cell.t = 's'; cell.r = xlml_fixstr(unescapexml(xml));
			cell.v = xml.indexOf("<") > -1 ? unescapexml(ss) : cell.r;
			break;
		case 'DateTime':
			if(xml.slice(-1) != "Z") xml += "Z";
			cell.v = (parseDate(xml) - new Date(Date.UTC(1899, 11, 30))) / (24 * 60 * 60 * 1000);
			if(cell.v !== cell.v) cell.v = unescapexml(xml);
			else if(cell.v<60) cell.v = cell.v -1;
			if(!nf || nf == "General") nf = "yyyy-mm-dd";
			/* falls through */
		case 'Number':
			if(cell.v === undefined) cell.v=+xml;
			if(!cell.t) cell.t = 'n';
			break;
		case 'Error': cell.t = 'e'; cell.v = RBErr[xml]; if(o.cellText !== false) cell.w = xml; break;
		default: cell.t = 's'; cell.v = xlml_fixstr(ss||xml); break;
	}
	safe_format_xlml(cell, nf, o);
	if(o.cellFormula !== false) {
		if(cell.Formula) {
			var fstr = unescapexml(cell.Formula);
			/* strictly speaking, the leading = is required but some writers omit */
			if(fstr.charCodeAt(0) == 61 /* = */) fstr = fstr.slice(1);
			cell.f = rc_to_a1(fstr, base);
			delete cell.Formula;
			if(cell.ArrayRange == "RC") cell.F = rc_to_a1("RC:RC", base);
			else if(cell.ArrayRange) {
				cell.F = rc_to_a1(cell.ArrayRange, base);
				arrayf.push([safe_decode_range(cell.F), cell.F]);
			}
		} else {
			for(i = 0; i < arrayf.length; ++i)
				if(base.r >= arrayf[i][0].s.r && base.r <= arrayf[i][0].e.r)
					if(base.c >= arrayf[i][0].s.c && base.c <= arrayf[i][0].e.c)
						cell.F = arrayf[i][1];
		}
	}
	if(o.cellStyles) {
		interiors.forEach(function(x) {
			if(!S.patternType && x.patternType) S.patternType = x.patternType;
		});
		cell.s = S;
	}
	if(cell.StyleID !== undefined) cell.ixfe = cell.StyleID;
}

function xlml_clean_comment(comment) {
	comment.t = comment.v || "";
	comment.t = comment.t.replace(/\r\n/g,"\n").replace(/\r/g,"\n");
	comment.v = comment.w = comment.ixfe = undefined;
}

function xlml_normalize(d) {
	if(has_buf && Buffer.isBuffer(d)) return d.toString('utf8');
	if(typeof d === 'string') return d;
	/* duktape */
	if(typeof Uint8Array !== 'undefined' && d instanceof Uint8Array) return utf8read(a2s(ab2a(d)));
	throw new Error("Bad input format: expected Buffer or string");
}

/* TODO: Everything */
/* UOS uses CJK in tags */
var xlmlregex = /<(\/?)([^\s?>!\/:]*:|)([^\s?>:\/]+)[^>]*>/mg;
//var xlmlregex = /<(\/?)([a-z0-9]*:|)(\w+)[^>]*>/mg;
function parse_xlml_xml(d, _opts) {
	var opts = _opts || {};
	make_ssf(SSF);
	var str = debom(xlml_normalize(d));
	if(opts.type == 'binary' || opts.type == 'array' || opts.type == 'base64') {
		if(typeof cptable !== 'undefined') str = cptable.utils.decode(65001, char_codes(str));
		else str = utf8read(str);
	}
	var opening = str.slice(0, 1024).toLowerCase(), ishtml = false;
	if(opening.indexOf("<?xml") == -1) ["html", "table", "head", "meta", "script", "style", "div"].forEach(function(tag) { if(opening.indexOf("<" + tag) >= 0) ishtml = true; });
	if(ishtml) return HTML_.to_workbook(str, opts);
	var Rn;
	var state = [], tmp;
	if(DENSE != null && opts.dense == null) opts.dense = DENSE;
	var sheets = {}, sheetnames = [], cursheet = (opts.dense ? [] : {}), sheetname = "";
	var table = {}, cell = ({}), row = {};// eslint-disable-line no-unused-vars
	var dtag = xlml_parsexmltag('<Data ss:Type="String">'), didx = 0;
	var c = 0, r = 0;
	var refguess = {s: {r:2000000, c:2000000}, e: {r:0, c:0} };
	var styles = {}, stag = {};
	var ss = "", fidx = 0;
	var merges = [];
	var Props = {}, Custprops = {}, pidx = 0, cp = [];
	var comments = [], comment = ({});
	var cstys = [], csty, seencol = false;
	var arrayf = [];
	var rowinfo = [], rowobj = {}, cc = 0, rr = 0;
	var Workbook = ({ Sheets:[], WBProps:{date1904:false} }), wsprops = {};
	xlmlregex.lastIndex = 0;
	str = str.replace(/<!--([\s\S]*?)-->/mg,"");
	while((Rn = xlmlregex.exec(str))) switch(Rn[3]) {
		case 'Data':
			if(state[state.length-1][1]) break;
			if(Rn[1]==='/') parse_xlml_data(str.slice(didx, Rn.index), ss, dtag, state[state.length-1][0]=="Comment"?comment:cell, {c:c,r:r}, styles, cstys[c], row, arrayf, opts);
			else { ss = ""; dtag = xlml_parsexmltag(Rn[0]); didx = Rn.index + Rn[0].length; }
			break;
		case 'Cell':
			if(Rn[1]==='/'){
				if(comments.length > 0) cell.c = comments;
				if((!opts.sheetRows || opts.sheetRows > r) && cell.v !== undefined) {
					if(opts.dense) {
						if(!cursheet[r]) cursheet[r] = [];
						cursheet[r][c] = cell;
					} else cursheet[encode_col(c) + encode_row(r)] = cell;
				}
				if(cell.HRef) {
					cell.l = ({Target:cell.HRef});
					if(cell.HRefScreenTip) cell.l.Tooltip = cell.HRefScreenTip;
					delete cell.HRef; delete cell.HRefScreenTip;
				}
				if(cell.MergeAcross || cell.MergeDown) {
					cc = c + (parseInt(cell.MergeAcross,10)|0);
					rr = r + (parseInt(cell.MergeDown,10)|0);
					merges.push({s:{c:c,r:r},e:{c:cc,r:rr}});
				}
				if(!opts.sheetStubs) { if(cell.MergeAcross) c = cc + 1; else ++c; }
				else if(cell.MergeAcross || cell.MergeDown) {
for(var cma = c; cma <= cc; ++cma) {
						for(var cmd = r; cmd <= rr; ++cmd) {
							if(cma > c || cmd > r) {
								if(opts.dense) {
									if(!cursheet[cmd]) cursheet[cmd] = [];
									cursheet[cmd][cma] = {t:'z'};
								} else cursheet[encode_col(cma) + encode_row(cmd)] = {t:'z'};
							}
						}
					}
					c = cc + 1;
				}
				else ++c;
			} else {
				cell = xlml_parsexmltagobj(Rn[0]);
				if(cell.Index) c = +cell.Index - 1;
				if(c < refguess.s.c) refguess.s.c = c;
				if(c > refguess.e.c) refguess.e.c = c;
				if(Rn[0].slice(-2) === "/>") ++c;
				comments = [];
			}
			break;
		case 'Row':
			if(Rn[1]==='/' || Rn[0].slice(-2) === "/>") {
				if(r < refguess.s.r) refguess.s.r = r;
				if(r > refguess.e.r) refguess.e.r = r;
				if(Rn[0].slice(-2) === "/>") {
					row = xlml_parsexmltag(Rn[0]);
					if(row.Index) r = +row.Index - 1;
				}
				c = 0; ++r;
			} else {
				row = xlml_parsexmltag(Rn[0]);
				if(row.Index) r = +row.Index - 1;
				rowobj = {};
				if(row.AutoFitHeight == "0" || row.Height) {
					rowobj.hpx = parseInt(row.Height, 10); rowobj.hpt = px2pt(rowobj.hpx);
					rowinfo[r] = rowobj;
				}
				if(row.Hidden == "1") { rowobj.hidden = true; rowinfo[r] = rowobj; }
			}
			break;
		case 'Worksheet': /* TODO: read range from FullRows/FullColumns */
			if(Rn[1]==='/'){
				if((tmp=state.pop())[0]!==Rn[3]) throw new Error("Bad state: "+tmp.join("|"));
				sheetnames.push(sheetname);
				if(refguess.s.r <= refguess.e.r && refguess.s.c <= refguess.e.c) {
					cursheet["!ref"] = encode_range(refguess);
					if(opts.sheetRows && opts.sheetRows <= refguess.e.r) {
						cursheet["!fullref"] = cursheet["!ref"];
						refguess.e.r = opts.sheetRows - 1;
						cursheet["!ref"] = encode_range(refguess);
					}
				}
				if(merges.length) cursheet["!merges"] = merges;
				if(cstys.length > 0) cursheet["!cols"] = cstys;
				if(rowinfo.length > 0) cursheet["!rows"] = rowinfo;
				sheets[sheetname] = cursheet;
			} else {
				refguess = {s: {r:2000000, c:2000000}, e: {r:0, c:0} };
				r = c = 0;
				state.push([Rn[3], false]);
				tmp = xlml_parsexmltag(Rn[0]);
				sheetname = unescapexml(tmp.Name);
				cursheet = (opts.dense ? [] : {});
				merges = [];
				arrayf = [];
				rowinfo = [];
				wsprops = {name:sheetname, Hidden:0};
				Workbook.Sheets.push(wsprops);
			}
			break;
		case 'Table':
			if(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw new Error("Bad state: "+tmp.join("|"));}
			else if(Rn[0].slice(-2) == "/>") break;
			else {
				table = xlml_parsexmltag(Rn[0]);
				state.push([Rn[3], false]);
				cstys = []; seencol = false;
			}
			break;

		case 'Style':
			if(Rn[1]==='/') process_style_xlml(styles, stag, opts);
			else stag = xlml_parsexmltag(Rn[0]);
			break;

		case 'NumberFormat':
			stag.nf = unescapexml(xlml_parsexmltag(Rn[0]).Format || "General");
			if(XLMLFormatMap[stag.nf]) stag.nf = XLMLFormatMap[stag.nf];
			for(var ssfidx = 0; ssfidx != 0x188; ++ssfidx) if(SSF._table[ssfidx] == stag.nf) break;
			if(ssfidx == 0x188) for(ssfidx = 0x39; ssfidx != 0x188; ++ssfidx) if(SSF._table[ssfidx] == null) { SSF.load(stag.nf, ssfidx); break; }
			break;

		case 'Column':
			if(state[state.length-1][0] !== 'Table') break;
			csty = xlml_parsexmltag(Rn[0]);
			if(csty.Hidden) { csty.hidden = true; delete csty.Hidden; }
			if(csty.Width) csty.wpx = parseInt(csty.Width, 10);
			if(!seencol && csty.wpx > 10) {
				seencol = true; MDW = DEF_MDW; //find_mdw_wpx(csty.wpx);
				for(var _col = 0; _col < cstys.length; ++_col) if(cstys[_col]) process_col(cstys[_col]);
			}
			if(seencol) process_col(csty);
			cstys[(csty.Index-1||cstys.length)] = csty;
			for(var i = 0; i < +csty.Span; ++i) cstys[cstys.length] = dup(csty);
			break;

		case 'NamedRange':
			if(!Workbook.Names) Workbook.Names = [];
			var _NamedRange = parsexmltag(Rn[0]);
			var _DefinedName = ({
				Name: _NamedRange.Name,
				Ref: rc_to_a1(_NamedRange.RefersTo.slice(1), {r:0, c:0})
			});
			if(Workbook.Sheets.length>0) _DefinedName.Sheet=Workbook.Sheets.length-1;
Workbook.Names.push(_DefinedName);
			break;

		case 'NamedCell': break;
		case 'B': break;
		case 'I': break;
		case 'U': break;
		case 'S': break;
		case 'Sub': break;
		case 'Sup': break;
		case 'Span': break;
		case 'Border': break;
		case 'Alignment': break;
		case 'Borders': break;
		case 'Font':
			if(Rn[0].slice(-2) === "/>") break;
			else if(Rn[1]==="/") ss += str.slice(fidx, Rn.index);
			else fidx = Rn.index + Rn[0].length;
			break;
		case 'Interior':
			if(!opts.cellStyles) break;
			stag.Interior = xlml_parsexmltag(Rn[0]);
			break;
		case 'Protection': break;

		case 'Author':
		case 'Title':
		case 'Description':
		case 'Created':
		case 'Keywords':
		case 'Subject':
		case 'Category':
		case 'Company':
		case 'LastAuthor':
		case 'LastSaved':
		case 'LastPrinted':
		case 'Version':
		case 'Revision':
		case 'TotalTime':
		case 'HyperlinkBase':
		case 'Manager':
		case 'ContentStatus':
		case 'Identifier':
		case 'Language':
		case 'AppName':
			if(Rn[0].slice(-2) === "/>") break;
			else if(Rn[1]==="/") xlml_set_prop(Props, Rn[3], str.slice(pidx, Rn.index));
			else pidx = Rn.index + Rn[0].length;
			break;
		case 'Paragraphs': break;

		case 'Styles':
		case 'Workbook':
			if(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw new Error("Bad state: "+tmp.join("|"));}
			else state.push([Rn[3], false]);
			break;

		case 'Comment':
			if(Rn[1]==='/'){
				if((tmp=state.pop())[0]!==Rn[3]) throw new Error("Bad state: "+tmp.join("|"));
				xlml_clean_comment(comment);
				comments.push(comment);
			} else {
				state.push([Rn[3], false]);
				tmp = xlml_parsexmltag(Rn[0]);
				comment = ({a:tmp.Author});
			}
			break;

		case 'AutoFilter':
			if(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw new Error("Bad state: "+tmp.join("|"));}
			else if(Rn[0].charAt(Rn[0].length-2) !== '/') {
				var AutoFilter = xlml_parsexmltag(Rn[0]);
				cursheet['!autofilter'] = { ref:rc_to_a1(AutoFilter.Range).replace(/\$/g,"") };
				state.push([Rn[3], true]);
			}
			break;

		case 'Name': break;

		case 'ComponentOptions':
		case 'DocumentProperties':
		case 'CustomDocumentProperties':
		case 'OfficeDocumentSettings':
		case 'PivotTable':
		case 'PivotCache':
		case 'Names':
		case 'MapInfo':
		case 'PageBreaks':
		case 'QueryTable':
		case 'DataValidation':
		case 'Sorting':
		case 'Schema':
		case 'data':
		case 'ConditionalFormatting':
		case 'SmartTagType':
		case 'SmartTags':
		case 'ExcelWorkbook':
		case 'WorkbookOptions':
		case 'WorksheetOptions':
			if(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw new Error("Bad state: "+tmp.join("|"));}
			else if(Rn[0].charAt(Rn[0].length-2) !== '/') state.push([Rn[3], true]);
			break;

		default:
			/* FODS file root is <office:document> */
			if(state.length == 0 && Rn[3] == "document") return parse_fods(str, opts);
			/* UOS file root is <uof:UOF> */
			if(state.length == 0 && Rn[3] == "UOF") return parse_fods(str, opts);

			var seen = true;
			switch(state[state.length-1][0]) {
				/* OfficeDocumentSettings */
				case 'OfficeDocumentSettings': switch(Rn[3]) {
					case 'AllowPNG': break;
					case 'RemovePersonalInformation': break;
					case 'DownloadComponents': break;
					case 'LocationOfComponents': break;
					case 'Colors': break;
					case 'Color': break;
					case 'Index': break;
					case 'RGB': break;
					case 'PixelsPerInch': break; // TODO: set PPI
					case 'TargetScreenSize': break;
					case 'ReadOnlyRecommended': break;
					default: seen = false;
				} break;

				/* ComponentOptions */
				case 'ComponentOptions': switch(Rn[3]) {
					case 'Toolbar': break;
					case 'HideOfficeLogo': break;
					case 'SpreadsheetAutoFit': break;
					case 'Label': break;
					case 'Caption': break;
					case 'MaxHeight': break;
					case 'MaxWidth': break;
					case 'NextSheetNumber': break;
					default: seen = false;
				} break;

				/* ExcelWorkbook */
				case 'ExcelWorkbook': switch(Rn[3]) {
					case 'Date1904':
Workbook.WBProps.date1904 = true;
						break;
					case 'WindowHeight': break;
					case 'WindowWidth': break;
					case 'WindowTopX': break;
					case 'WindowTopY': break;
					case 'TabRatio': break;
					case 'ProtectStructure': break;
					case 'ProtectWindows': break;
					case 'ActiveSheet': break;
					case 'DisplayInkNotes': break;
					case 'FirstVisibleSheet': break;
					case 'SupBook': break;
					case 'SheetName': break;
					case 'SheetIndex': break;
					case 'SheetIndexFirst': break;
					case 'SheetIndexLast': break;
					case 'Dll': break;
					case 'AcceptLabelsInFormulas': break;
					case 'DoNotSaveLinkValues': break;
					case 'Iteration': break;
					case 'MaxIterations': break;
					case 'MaxChange': break;
					case 'Path': break;
					case 'Xct': break;
					case 'Count': break;
					case 'SelectedSheets': break;
					case 'Calculation': break;
					case 'Uncalced': break;
					case 'StartupPrompt': break;
					case 'Crn': break;
					case 'ExternName': break;
					case 'Formula': break;
					case 'ColFirst': break;
					case 'ColLast': break;
					case 'WantAdvise': break;
					case 'Boolean': break;
					case 'Error': break;
					case 'Text': break;
					case 'OLE': break;
					case 'NoAutoRecover': break;
					case 'PublishObjects': break;
					case 'DoNotCalculateBeforeSave': break;
					case 'Number': break;
					case 'RefModeR1C1': break;
					case 'EmbedSaveSmartTags': break;
					default: seen = false;
				} break;

				/* WorkbookOptions */
				case 'WorkbookOptions': switch(Rn[3]) {
					case 'OWCVersion': break;
					case 'Height': break;
					case 'Width': break;
					default: seen = false;
				} break;

				/* WorksheetOptions */
				case 'WorksheetOptions': switch(Rn[3]) {
					case 'Visible':
						if(Rn[0].slice(-2) === "/>"){/* empty */}
						else if(Rn[1]==="/") switch(str.slice(pidx, Rn.index)) {
							case "SheetHidden": wsprops.Hidden = 1; break;
							case "SheetVeryHidden": wsprops.Hidden = 2; break;
						}
						else pidx = Rn.index + Rn[0].length;
						break;
					case 'Header':
						if(!cursheet['!margins']) default_margins(cursheet['!margins']={}, 'xlml');
						cursheet['!margins'].header = parsexmltag(Rn[0]).Margin;
						break;
					case 'Footer':
						if(!cursheet['!margins']) default_margins(cursheet['!margins']={}, 'xlml');
						cursheet['!margins'].footer = parsexmltag(Rn[0]).Margin;
						break;
					case 'PageMargins':
						var pagemargins = parsexmltag(Rn[0]);
						if(!cursheet['!margins']) default_margins(cursheet['!margins']={},'xlml');
						if(pagemargins.Top) cursheet['!margins'].top = pagemargins.Top;
						if(pagemargins.Left) cursheet['!margins'].left = pagemargins.Left;
						if(pagemargins.Right) cursheet['!margins'].right = pagemargins.Right;
						if(pagemargins.Bottom) cursheet['!margins'].bottom = pagemargins.Bottom;
						break;
					case 'DisplayRightToLeft':
						if(!Workbook.Views) Workbook.Views = [];
						if(!Workbook.Views[0]) Workbook.Views[0] = {};
						Workbook.Views[0].RTL = true;
						break;

					case 'Unsynced': break;
					case 'Print': break;
					case 'Panes': break;
					case 'Scale': break;
					case 'Pane': break;
					case 'Number': break;
					case 'Layout': break;
					case 'PageSetup': break;
					case 'Selected': break;
					case 'ProtectObjects': break;
					case 'EnableSelection': break;
					case 'ProtectScenarios': break;
					case 'ValidPrinterInfo': break;
					case 'HorizontalResolution': break;
					case 'VerticalResolution': break;
					case 'NumberofCopies': break;
					case 'ActiveRow': break;
					case 'ActiveCol': break;
					case 'ActivePane': break;
					case 'TopRowVisible': break;
					case 'TopRowBottomPane': break;
					case 'LeftColumnVisible': break;
					case 'LeftColumnRightPane': break;
					case 'FitToPage': break;
					case 'RangeSelection': break;
					case 'PaperSizeIndex': break;
					case 'PageLayoutZoom': break;
					case 'PageBreakZoom': break;
					case 'FilterOn': break;
					case 'DoNotDisplayGridlines': break;
					case 'SplitHorizontal': break;
					case 'SplitVertical': break;
					case 'FreezePanes': break;
					case 'FrozenNoSplit': break;
					case 'FitWidth': break;
					case 'FitHeight': break;
					case 'CommentsLayout': break;
					case 'Zoom': break;
					case 'LeftToRight': break;
					case 'Gridlines': break;
					case 'AllowSort': break;
					case 'AllowFilter': break;
					case 'AllowInsertRows': break;
					case 'AllowDeleteRows': break;
					case 'AllowInsertCols': break;
					case 'AllowDeleteCols': break;
					case 'AllowInsertHyperlinks': break;
					case 'AllowFormatCells': break;
					case 'AllowSizeCols': break;
					case 'AllowSizeRows': break;
					case 'NoSummaryRowsBelowDetail': break;
					case 'TabColorIndex': break;
					case 'DoNotDisplayHeadings': break;
					case 'ShowPageLayoutZoom': break;
					case 'NoSummaryColumnsRightDetail': break;
					case 'BlackAndWhite': break;
					case 'DoNotDisplayZeros': break;
					case 'DisplayPageBreak': break;
					case 'RowColHeadings': break;
					case 'DoNotDisplayOutline': break;
					case 'NoOrientation': break;
					case 'AllowUsePivotTables': break;
					case 'ZeroHeight': break;
					case 'ViewableRange': break;
					case 'Selection': break;
					case 'ProtectContents': break;
					default: seen = false;
				} break;

				/* PivotTable */
				case 'PivotTable': case 'PivotCache': switch(Rn[3]) {
					case 'ImmediateItemsOnDrop': break;
					case 'ShowPageMultipleItemLabel': break;
					case 'CompactRowIndent': break;
					case 'Location': break;
					case 'PivotField': break;
					case 'Orientation': break;
					case 'LayoutForm': break;
					case 'LayoutSubtotalLocation': break;
					case 'LayoutCompactRow': break;
					case 'Position': break;
					case 'PivotItem': break;
					case 'DataType': break;
					case 'DataField': break;
					case 'SourceName': break;
					case 'ParentField': break;
					case 'PTLineItems': break;
					case 'PTLineItem': break;
					case 'CountOfSameItems': break;
					case 'Item': break;
					case 'ItemType': break;
					case 'PTSource': break;
					case 'CacheIndex': break;
					case 'ConsolidationReference': break;
					case 'FileName': break;
					case 'Reference': break;
					case 'NoColumnGrand': break;
					case 'NoRowGrand': break;
					case 'BlankLineAfterItems': break;
					case 'Hidden': break;
					case 'Subtotal': break;
					case 'BaseField': break;
					case 'MapChildItems': break;
					case 'Function': break;
					case 'RefreshOnFileOpen': break;
					case 'PrintSetTitles': break;
					case 'MergeLabels': break;
					case 'DefaultVersion': break;
					case 'RefreshName': break;
					case 'RefreshDate': break;
					case 'RefreshDateCopy': break;
					case 'VersionLastRefresh': break;
					case 'VersionLastUpdate': break;
					case 'VersionUpdateableMin': break;
					case 'VersionRefreshableMin': break;
					case 'Calculation': break;
					default: seen = false;
				} break;

				/* PageBreaks */
				case 'PageBreaks': switch(Rn[3]) {
					case 'ColBreaks': break;
					case 'ColBreak': break;
					case 'RowBreaks': break;
					case 'RowBreak': break;
					case 'ColStart': break;
					case 'ColEnd': break;
					case 'RowEnd': break;
					default: seen = false;
				} break;

				/* AutoFilter */
				case 'AutoFilter': switch(Rn[3]) {
					case 'AutoFilterColumn': break;
					case 'AutoFilterCondition': break;
					case 'AutoFilterAnd': break;
					case 'AutoFilterOr': break;
					default: seen = false;
				} break;

				/* QueryTable */
				case 'QueryTable': switch(Rn[3]) {
					case 'Id': break;
					case 'AutoFormatFont': break;
					case 'AutoFormatPattern': break;
					case 'QuerySource': break;
					case 'QueryType': break;
					case 'EnableRedirections': break;
					case 'RefreshedInXl9': break;
					case 'URLString': break;
					case 'HTMLTables': break;
					case 'Connection': break;
					case 'CommandText': break;
					case 'RefreshInfo': break;
					case 'NoTitles': break;
					case 'NextId': break;
					case 'ColumnInfo': break;
					case 'OverwriteCells': break;
					case 'DoNotPromptForFile': break;
					case 'TextWizardSettings': break;
					case 'Source': break;
					case 'Number': break;
					case 'Decimal': break;
					case 'ThousandSeparator': break;
					case 'TrailingMinusNumbers': break;
					case 'FormatSettings': break;
					case 'FieldType': break;
					case 'Delimiters': break;
					case 'Tab': break;
					case 'Comma': break;
					case 'AutoFormatName': break;
					case 'VersionLastEdit': break;
					case 'VersionLastRefresh': break;
					default: seen = false;
				} break;

				case 'Sorting':
				case 'ConditionalFormatting':
				case 'DataValidation':
				switch(Rn[3]) {
					case 'Range': break;
					case 'Type': break;
					case 'Min': break;
					case 'Max': break;
					case 'Sort': break;
					case 'Descending': break;
					case 'Order': break;
					case 'CaseSensitive': break;
					case 'Value': break;
					case 'ErrorStyle': break;
					case 'ErrorMessage': break;
					case 'ErrorTitle': break;
					case 'CellRangeList': break;
					case 'InputMessage': break;
					case 'InputTitle': break;
					case 'ComboHide': break;
					case 'InputHide': break;
					case 'Condition': break;
					case 'Qualifier': break;
					case 'UseBlank': break;
					case 'Value1': break;
					case 'Value2': break;
					case 'Format': break;
					default: seen = false;
				} break;

				/* MapInfo (schema) */
				case 'MapInfo': case 'Schema': case 'data': switch(Rn[3]) {
					case 'Map': break;
					case 'Entry': break;
					case 'Range': break;
					case 'XPath': break;
					case 'Field': break;
					case 'XSDType': break;
					case 'FilterOn': break;
					case 'Aggregate': break;
					case 'ElementType': break;
					case 'AttributeType': break;
				/* These are from xsd (XML Schema Definition) */
					case 'schema':
					case 'element':
					case 'complexType':
					case 'datatype':
					case 'all':
					case 'attribute':
					case 'extends': break;

					case 'row': break;
					default: seen = false;
				} break;

				/* SmartTags (can be anything) */
				case 'SmartTags': break;

				default: seen = false; break;
			}
			if(seen) break;
			/* CustomDocumentProperties */
			if(!state[state.length-1][1]) throw 'Unrecognized tag: ' + Rn[3] + "|" + state.join("|");
			if(state[state.length-1][0]==='CustomDocumentProperties') {
				if(Rn[0].slice(-2) === "/>") break;
				else if(Rn[1]==="/") xlml_set_custprop(Custprops, Rn[3], cp, str.slice(pidx, Rn.index));
				else { cp = Rn; pidx = Rn.index + Rn[0].length; }
				break;
			}
			if(opts.WTF) throw 'Unrecognized tag: ' + Rn[3] + "|" + state.join("|");
	}
	var out = ({});
	if(!opts.bookSheets && !opts.bookProps) out.Sheets = sheets;
	out.SheetNames = sheetnames;
	out.Workbook = Workbook;
	out.SSF = SSF.get_table();
	out.Props = Props;
	out.Custprops = Custprops;
	return out;
}

function parse_xlml(data, opts) {
	fix_read_opts(opts=opts||{});
	switch(opts.type||"base64") {
		case "base64": return parse_xlml_xml(Base64.decode(data), opts);
		case "binary": case "buffer": case "file": return parse_xlml_xml(data, opts);
		case "array": return parse_xlml_xml(a2s(data), opts);
	}
}

/* TODO */
function write_props_xlml(wb, opts) {
	var o = [];
	/* DocumentProperties */
	if(wb.Props) o.push(xlml_write_docprops(wb.Props, opts));
	/* CustomDocumentProperties */
	if(wb.Custprops) o.push(xlml_write_custprops(wb.Props, wb.Custprops, opts));
	return o.join("");
}
/* TODO */
function write_wb_xlml() {
	/* OfficeDocumentSettings */
	/* ExcelWorkbook */
	return "";
}
/* TODO */
function write_sty_xlml(wb, opts) {
	/* Styles */
	var styles = ['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];
	opts.cellXfs.forEach(function(xf, id) {
		var payload = [];
		payload.push(writextag('NumberFormat', null, {"ss:Format": escapexml(SSF._table[xf.numFmtId])}));
		styles.push(writextag('Style', payload.join(""), {"ss:ID": "s" + (21+id)}));
	});
	return writextag("Styles", styles.join(""));
}
function write_name_xlml(n) { return writextag("NamedRange", null, {"ss:Name": n.Name, "ss:RefersTo":"=" + a1_to_rc(n.Ref, {r:0,c:0})}); }
function write_names_xlml(wb) {
	if(!((wb||{}).Workbook||{}).Names) return "";
var names = wb.Workbook.Names;
	var out = [];
	for(var i = 0; i < names.length; ++i) {
		var n = names[i];
		if(n.Sheet != null) continue;
		if(n.Name.match(/^_xlfn\./)) continue;
		out.push(write_name_xlml(n));
	}
	return writextag("Names", out.join(""));
}
function write_ws_xlml_names(ws, opts, idx, wb) {
	if(!ws) return "";
	if(!((wb||{}).Workbook||{}).Names) return "";
var names = wb.Workbook.Names;
	var out = [];
	outer: for(var i = 0; i < names.length; ++i) {
		var n = names[i];
		if(n.Sheet != idx) continue;
		/*switch(n.Name) {
			case "_": continue;
		}*/
		if(n.Name.match(/^_xlfn\./)) continue;
		out.push(write_name_xlml(n));
	}
	return out.join("");
}
/* WorksheetOptions */
function write_ws_xlml_wsopts(ws, opts, idx, wb) {
	if(!ws) return "";
	var o = [];
	/* NOTE: spec technically allows any order, but stick with implied order */

	/* FitToPage */
	/* DoNotDisplayColHeaders */
	/* DoNotDisplayRowHeaders */
	/* ViewableRange */
	/* Selection */
	/* GridlineColor */
	/* Name */
	/* ExcelWorksheetType */
	/* IntlMacro */
	/* Unsynced */
	/* Selected */
	/* CodeName */

	if(ws['!margins']) {
		o.push("<PageSetup>");
		if(ws['!margins'].header) o.push(writextag("Header", null, {'x:Margin':ws['!margins'].header}));
		if(ws['!margins'].footer) o.push(writextag("Footer", null, {'x:Margin':ws['!margins'].footer}));
		o.push(writextag("PageMargins", null, {
			'x:Bottom': ws['!margins'].bottom || "0.75",
			'x:Left': ws['!margins'].left || "0.7",
			'x:Right': ws['!margins'].right || "0.7",
			'x:Top': ws['!margins'].top || "0.75"
		}));
		o.push("</PageSetup>");
	}

	/* PageSetup */
	/* DisplayPageBreak */
	/* TransitionExpressionEvaluation */
	/* TransitionFormulaEntry */
	/* Print */
	/* Zoom */
	/* PageLayoutZoom */
	/* PageBreakZoom */
	/* ShowPageBreakZoom */
	/* DefaultRowHeight */
	/* DefaultColumnWidth */
	/* StandardWidth */

	if(wb && wb.Workbook && wb.Workbook.Sheets && wb.Workbook.Sheets[idx]) {
		/* Visible */
		if(wb.Workbook.Sheets[idx].Hidden) o.push(writextag("Visible", (wb.Workbook.Sheets[idx].Hidden == 1 ? "SheetHidden" : "SheetVeryHidden"), {}));
		else {
			/* Selected */
			for(var i = 0; i < idx; ++i) if(wb.Workbook.Sheets[i] && !wb.Workbook.Sheets[i].Hidden) break;
			if(i == idx) o.push("<Selected/>");
		}
	}

	/* LeftColumnVisible */

	if(((((wb||{}).Workbook||{}).Views||[])[0]||{}).RTL) o.push("<DisplayRightToLeft/>");

	/* GridlineColorIndex */
	/* DisplayFormulas */
	/* DoNotDisplayGridlines */
	/* DoNotDisplayHeadings */
	/* DoNotDisplayOutline */
	/* ApplyAutomaticOutlineStyles */
	/* NoSummaryRowsBelowDetail */
	/* NoSummaryColumnsRightDetail */
	/* DoNotDisplayZeros */
	/* ActiveRow */
	/* ActiveColumn */
	/* FilterOn */
	/* RangeSelection */
	/* TopRowVisible */
	/* TopRowBottomPane */
	/* LeftColumnRightPane */
	/* ActivePane */
	/* SplitHorizontal */
	/* SplitVertical */
	/* FreezePanes */
	/* FrozenNoSplit */
	/* TabColorIndex */
	/* Panes */

	/* NOTE: Password not supported in XLML Format */
	if(ws['!protect']) {
		o.push(writetag("ProtectContents", "True"));
		if(ws['!protect'].objects) o.push(writetag("ProtectObjects", "True"));
		if(ws['!protect'].scenarios) o.push(writetag("ProtectScenarios", "True"));
		if(ws['!protect'].selectLockedCells != null && !ws['!protect'].selectLockedCells) o.push(writetag("EnableSelection", "NoSelection"));
		else if(ws['!protect'].selectUnlockedCells != null && !ws['!protect'].selectUnlockedCells) o.push(writetag("EnableSelection", "UnlockedCells"));
	[
		[ "formatCells", "AllowFormatCells" ],
		[ "formatColumns", "AllowSizeCols" ],
		[ "formatRows", "AllowSizeRows" ],
		[ "insertColumns", "AllowInsertCols" ],
		[ "insertRows", "AllowInsertRows" ],
		[ "insertHyperlinks", "AllowInsertHyperlinks" ],
		[ "deleteColumns", "AllowDeleteCols" ],
		[ "deleteRows", "AllowDeleteRows" ],
		[ "sort", "AllowSort" ],
		[ "autoFilter", "AllowFilter" ],
		[ "pivotTables", "AllowUsePivotTables" ]
	].forEach(function(x) { if(ws['!protect'][x[0]]) o.push("<"+x[1]+"/>"); });
	}

	if(o.length == 0) return "";
	return writextag("WorksheetOptions", o.join(""), {xmlns:XLMLNS.x});
}
function write_ws_xlml_comment(comments) {
	return comments.map(function(c) {
		// TODO: formatted text
		var t = xlml_unfixstr(c.t||"");
		var d =writextag("ss:Data", t, {"xmlns":"http://www.w3.org/TR/REC-html40"});
		return writextag("Comment", d, {"ss:Author":c.a});
	}).join("");
}
function write_ws_xlml_cell(cell, ref, ws, opts, idx, wb, addr){
	if(!cell || (cell.v == undefined && cell.f == undefined)) return "";

	var attr = {};
	if(cell.f) attr["ss:Formula"] = "=" + escapexml(a1_to_rc(cell.f, addr));
	if(cell.F && cell.F.slice(0, ref.length) == ref) {
		var end = decode_cell(cell.F.slice(ref.length + 1));
		attr["ss:ArrayRange"] = "RC:R" + (end.r == addr.r ? "" : "[" + (end.r - addr.r) + "]") + "C" + (end.c == addr.c ? "" : "[" + (end.c - addr.c) + "]");
	}

	if(cell.l && cell.l.Target) {
		attr["ss:HRef"] = escapexml(cell.l.Target);
		if(cell.l.Tooltip) attr["x:HRefScreenTip"] = escapexml(cell.l.Tooltip);
	}

	if(ws['!merges']) {
		var marr = ws['!merges'];
		for(var mi = 0; mi != marr.length; ++mi) {
			if(marr[mi].s.c != addr.c || marr[mi].s.r != addr.r) continue;
			if(marr[mi].e.c > marr[mi].s.c) attr['ss:MergeAcross'] = marr[mi].e.c - marr[mi].s.c;
			if(marr[mi].e.r > marr[mi].s.r) attr['ss:MergeDown'] = marr[mi].e.r - marr[mi].s.r;
		}
	}

	var t = "", p = "";
	switch(cell.t) {
		case 'z': return "";
		case 'n': t = 'Number'; p = String(cell.v); break;
		case 'b': t = 'Boolean'; p = (cell.v ? "1" : "0"); break;
		case 'e': t = 'Error'; p = BErr[cell.v]; break;
		case 'd': t = 'DateTime'; p = new Date(cell.v).toISOString(); if(cell.z == null) cell.z = cell.z || SSF._table[14]; break;
		case 's': t = 'String'; p = escapexlml(cell.v||""); break;
	}
	/* TODO: cell style */
	var os = get_cell_style(opts.cellXfs, cell, opts);
	attr["ss:StyleID"] = "s" + (21+os);
	attr["ss:Index"] = addr.c + 1;
	var _v = (cell.v != null ? p : "");
	var m = '<Data ss:Type="' + t + '">' + _v + '</Data>';

	if((cell.c||[]).length > 0) m += write_ws_xlml_comment(cell.c);

	return writextag("Cell", m, attr);
}
function write_ws_xlml_row(R, row) {
	var o = '<Row ss:Index="' + (R+1) + '"';
	if(row) {
		if(row.hpt && !row.hpx) row.hpx = pt2px(row.hpt);
		if(row.hpx) o += ' ss:AutoFitHeight="0" ss:Height="' + row.hpx + '"';
		if(row.hidden) o += ' ss:Hidden="1"';
	}
	return o + '>';
}
/* TODO */
function write_ws_xlml_table(ws, opts, idx, wb) {
	if(!ws['!ref']) return "";
	var range = safe_decode_range(ws['!ref']);
	var marr = ws['!merges'] || [], mi = 0;
	var o = [];
	if(ws['!cols']) ws['!cols'].forEach(function(n, i) {
		process_col(n);
		var w = !!n.width;
		var p = col_obj_w(i, n);
		var k = {"ss:Index":i+1};
		if(w) k['ss:Width'] = width2px(p.width);
		if(n.hidden) k['ss:Hidden']="1";
		o.push(writextag("Column",null,k));
	});
	var dense = Array.isArray(ws);
	for(var R = range.s.r; R <= range.e.r; ++R) {
		var row = [write_ws_xlml_row(R, (ws['!rows']||[])[R])];
		for(var C = range.s.c; C <= range.e.c; ++C) {
			var skip = false;
			for(mi = 0; mi != marr.length; ++mi) {
				if(marr[mi].s.c > C) continue;
				if(marr[mi].s.r > R) continue;
				if(marr[mi].e.c < C) continue;
				if(marr[mi].e.r < R) continue;
				if(marr[mi].s.c != C || marr[mi].s.r != R) skip = true;
				break;
			}
			if(skip) continue;
			var addr = {r:R,c:C};
			var ref = encode_cell(addr), cell = dense ? (ws[R]||[])[C] : ws[ref];
			row.push(write_ws_xlml_cell(cell, ref, ws, opts, idx, wb, addr));
		}
		row.push("</Row>");
		if(row.length > 2) o.push(row.join(""));
	}
	return o.join("");
}
function write_ws_xlml(idx, opts, wb) {
	var o = [];
	var s = wb.SheetNames[idx];
	var ws = wb.Sheets[s];

	var t = ws ? write_ws_xlml_names(ws, opts, idx, wb) : "";
	if(t.length > 0) o.push("<Names>" + t + "</Names>");

	/* Table */
	t = ws ? write_ws_xlml_table(ws, opts, idx, wb) : "";
	if(t.length > 0) o.push("<Table>" + t + "</Table>");

	/* WorksheetOptions */
	o.push(write_ws_xlml_wsopts(ws, opts, idx, wb));

	return o.join("");
}
function write_xlml(wb, opts) {
	if(!opts) opts = {};
	if(!wb.SSF) wb.SSF = SSF.get_table();
	if(wb.SSF) {
		make_ssf(SSF); SSF.load_table(wb.SSF);
		// $FlowIgnore
		opts.revssf = evert_num(wb.SSF); opts.revssf[wb.SSF[65535]] = 0;
		opts.ssf = wb.SSF;
		opts.cellXfs = [];
		get_cell_style(opts.cellXfs, {}, {revssf:{"General":0}});
	}
	var d = [];
	d.push(write_props_xlml(wb, opts));
	d.push(write_wb_xlml(wb, opts));
	d.push("");
	d.push("");
	for(var i = 0; i < wb.SheetNames.length; ++i)
		d.push(writextag("Worksheet", write_ws_xlml(i, opts, wb), {"ss:Name":escapexml(wb.SheetNames[i])}));
	d[2] = write_sty_xlml(wb, opts);
	d[3] = write_names_xlml(wb, opts);
	return XML_HEADER + writextag("Workbook", d.join(""), {
		'xmlns':      XLMLNS.ss,
		'xmlns:o':    XLMLNS.o,
		'xmlns:x':    XLMLNS.x,
		'xmlns:ss':   XLMLNS.ss,
		'xmlns:dt':   XLMLNS.dt,
		'xmlns:html': XLMLNS.html
	});
}
/* [MS-OLEDS] 2.3.8 CompObjStream */
function parse_compobj(obj) {
	var v = {};
	var o = obj.content;
/* [MS-OLEDS] 2.3.7 CompObjHeader -- All fields MUST be ignored */
	o.l = 28;

	v.AnsiUserType = o.read_shift(0, "lpstr-ansi");
	v.AnsiClipboardFormat = parse_ClipboardFormatOrAnsiString(o);

	if(o.length - o.l <= 4) return v;

	var m = o.read_shift(4);
	if(m == 0 || m > 40) return v;
	o.l-=4; v.Reserved1 = o.read_shift(0, "lpstr-ansi");

	if(o.length - o.l <= 4) return v;
	m = o.read_shift(4);
	if(m !== 0x71b239f4) return v;
	v.UnicodeClipboardFormat = parse_ClipboardFormatOrUnicodeString(o);

	m = o.read_shift(4);
	if(m == 0 || m > 40) return v;
	o.l-=4; v.Reserved2 = o.read_shift(0, "lpwstr");
}

/*
	Continue logic for:
	- 2.4.58 Continue
	- 2.4.59 ContinueBigName
	- 2.4.60 ContinueFrt
	- 2.4.61 ContinueFrt11
	- 2.4.62 ContinueFrt12
*/
function slurp(R, blob, length, opts) {
	var l = length;
	var bufs = [];
	var d = blob.slice(blob.l,blob.l+l);
	if(opts && opts.enc && opts.enc.insitu) switch(R.n) {
	case 'BOF': case 'FilePass': case 'FileLock': case 'InterfaceHdr': case 'RRDInfo': case 'RRDHead': case 'UsrExcl': break;
	default:
		if(d.length === 0) break;
		opts.enc.insitu(d);
	}
	bufs.push(d);
	blob.l += l;
	var next = (XLSRecordEnum[__readUInt16LE(blob,blob.l)]);
	var start = 0;
	while(next != null && next.n.slice(0,8) === 'Continue') {
		l = __readUInt16LE(blob,blob.l+2);
		start = blob.l + 4;
		if(next.n == 'ContinueFrt') start += 4;
		else if(next.n.slice(0,11) == 'ContinueFrt') start += 12;
		bufs.push(blob.slice(start,blob.l+4+l));
		blob.l += 4+l;
		next = (XLSRecordEnum[__readUInt16LE(blob, blob.l)]);
	}
	var b = (bconcat(bufs));
	prep_blob(b, 0);
	var ll = 0; b.lens = [];
	for(var j = 0; j < bufs.length; ++j) { b.lens.push(ll); ll += bufs[j].length; }
	return R.f(b, b.length, opts);
}

function safe_format_xf(p, opts, date1904) {
	if(p.t === 'z') return;
	if(!p.XF) return;
	var fmtid = 0;
	try {
		fmtid = p.z || p.XF.numFmtId || 0;
		if(opts.cellNF) p.z = SSF._table[fmtid];
	} catch(e) { if(opts.WTF) throw e; }
	if(!opts || opts.cellText !== false) try {
		if(p.t === 'e') { p.w = p.w || BErr[p.v]; }
		else if(fmtid === 0 || fmtid == "General") {
			if(p.t === 'n') {
				if((p.v|0) === p.v) p.w = SSF._general_int(p.v);
				else p.w = SSF._general_num(p.v);
			}
			else p.w = SSF._general(p.v);
		}
		else p.w = SSF.format(fmtid,p.v, {date1904:!!date1904});
	} catch(e) { if(opts.WTF) throw e; }
	if(opts.cellDates && fmtid && p.t == 'n' && SSF.is_date(SSF._table[fmtid] || String(fmtid))) {
		var _d = SSF.parse_date_code(p.v); if(_d) { p.t = 'd'; p.v = new Date(_d.y, _d.m-1,_d.d,_d.H,_d.M,_d.S,_d.u); }
	}
}

function make_cell(val, ixfe, t) {
	return ({v:val, ixfe:ixfe, t:t});
}

// 2.3.2
function parse_workbook(blob, options) {
	var wb = ({opts:{}});
	var Sheets = {};
	if(DENSE != null && options.dense == null) options.dense = DENSE;
	var out = ((options.dense ? [] : {}));
	var Directory = {};
	var range = ({});
	var last_formula = null;
	var sst = ([]);
	var cur_sheet = "";
	var Preamble = {};
	var lastcell, last_cell = "", cc, cmnt, rngC, rngR;
	var sharedf = {};
	var arrayf = [];
	var temp_val;
	var country;
	var cell_valid = true;
	var XFs = []; /* XF records */
	var palette = [];
	var Workbook = ({ Sheets:[], WBProps:{date1904:false}, Views:[{}] }), wsprops = {};
	var get_rgb = function getrgb(icv) {
		if(icv < 8) return XLSIcv[icv];
		if(icv < 64) return palette[icv-8] || XLSIcv[icv];
		return XLSIcv[icv];
	};
	var process_cell_style = function pcs(cell, line, options) {
		var xfd = line.XF.data;
		if(!xfd || !xfd.patternType || !options || !options.cellStyles) return;
		line.s = ({});
		line.s.patternType = xfd.patternType;
		var t;
		if((t = rgb2Hex(get_rgb(xfd.icvFore)))) { line.s.fgColor = {rgb:t}; }
		if((t = rgb2Hex(get_rgb(xfd.icvBack)))) { line.s.bgColor = {rgb:t}; }
	};
	var addcell = function addcell(cell, line, options) {
		if(file_depth > 1) return;
		if(options.sheetRows && cell.r >= options.sheetRows) cell_valid = false;
		if(!cell_valid) return;
		if(options.cellStyles && line.XF && line.XF.data) process_cell_style(cell, line, options);
		delete line.ixfe; delete line.XF;
		lastcell = cell;
		last_cell = encode_cell(cell);
		if(range.s) {
			if(cell.r < range.s.r) range.s.r = cell.r;
			if(cell.c < range.s.c) range.s.c = cell.c;
		}
		if(range.e) {
			if(cell.r + 1 > range.e.r) range.e.r = cell.r + 1;
			if(cell.c + 1 > range.e.c) range.e.c = cell.c + 1;
		}
		if(options.cellFormula && line.f) {
			for(var afi = 0; afi < arrayf.length; ++afi) {
				if(arrayf[afi][0].s.c > cell.c || arrayf[afi][0].s.r > cell.r) continue;
				if(arrayf[afi][0].e.c < cell.c || arrayf[afi][0].e.r < cell.r) continue;
				line.F = encode_range(arrayf[afi][0]);
				if(arrayf[afi][0].s.c != cell.c || arrayf[afi][0].s.r != cell.r) delete line.f;
				if(line.f) line.f = "" + stringify_formula(arrayf[afi][1], range, cell, supbooks, opts);
				break;
			}
		}
		{
			if(options.dense) {
				if(!out[cell.r]) out[cell.r] = [];
				out[cell.r][cell.c] = line;
			} else out[last_cell] = line;
		}
	};
	var opts = ({
		enc: false, // encrypted
		sbcch: 0, // cch in the preceding SupBook
		snames: [], // sheetnames
		sharedf: sharedf, // shared formulae by address
		arrayf: arrayf, // array formulae array
		rrtabid: [], // RRTabId
		lastuser: "", // Last User from WriteAccess
		biff: 8, // BIFF version
		codepage: 0, // CP from CodePage record
		winlocked: 0, // fLockWn from WinProtect
		cellStyles: !!options && !!options.cellStyles,
		WTF: !!options && !!options.wtf
	});
	if(options.password) opts.password = options.password;
	var themes;
	var merges = [];
	var objects = [];
	var colinfo = [], rowinfo = [];
	// eslint-disable-next-line no-unused-vars
	var defwidth = 0, defheight = 0; // twips / MDW respectively
	var seencol = false;
	var supbooks = ([]); // 1-indexed, will hold extern names
	supbooks.SheetNames = opts.snames;
	supbooks.sharedf = opts.sharedf;
	supbooks.arrayf = opts.arrayf;
	supbooks.names = [];
	supbooks.XTI = [];
	var last_Rn = '';
	var file_depth = 0; /* TODO: make a real stack */
	var BIFF2Fmt = 0, BIFF2FmtTable = [];
	var FilterDatabases = []; /* TODO: sort out supbooks and process elsewhere */
	var last_lbl;

	/* explicit override for some broken writers */
	opts.codepage = 1200;
	set_cp(1200);
	var seen_codepage = false;
	while(blob.l < blob.length - 1) {
		var s = blob.l;
		var RecordType = blob.read_shift(2);
		if(RecordType === 0 && last_Rn === 'EOF') break;
		var length = (blob.l === blob.length ? 0 : blob.read_shift(2));
		var R = XLSRecordEnum[RecordType];
		//console.log(RecordType.toString(16), RecordType, R, blob.l, length, blob.length);
		//if(!R) console.log(blob.slice(blob.l, blob.l + length));
		if(R && R.f) {
			if(options.bookSheets) {
				if(last_Rn === 'BoundSheet8' && R.n !== 'BoundSheet8') break;
			}
			last_Rn = R.n;
			if(R.r === 2 || R.r == 12) {
				var rt = blob.read_shift(2); length -= 2;
				if(!opts.enc && rt !== RecordType && (((rt&0xFF)<<8)|(rt>>8)) !== RecordType) throw new Error("rt mismatch: " + rt + "!=" + RecordType);
				if(R.r == 12){ blob.l += 10; length -= 10; } // skip FRT
			}
			//console.error(R,blob.l,length,blob.length);
			var val;
			if(R.n === 'EOF') val = R.f(blob, length, opts);
			else val = slurp(R, blob, length, opts);
			var Rn = R.n;
			if(file_depth == 0 && Rn != 'BOF') continue;
			/* nested switch statements to workaround V8 128 limit */
			switch(Rn) {
				/* Workbook Options */
				case 'Date1904':
wb.opts.Date1904 = Workbook.WBProps.date1904 = val; break;
				case 'WriteProtect': wb.opts.WriteProtect = true; break;
				case 'FilePass':
					if(!opts.enc) blob.l = 0;
					opts.enc = val;
					if(!options.password) throw new Error("File is password-protected");
					if(val.valid == null) throw new Error("Encryption scheme unsupported");
					if(!val.valid) throw new Error("Password is incorrect");
					break;
				case 'WriteAccess': opts.lastuser = val; break;
				case 'FileSharing': break; //TODO
				case 'CodePage':
					/* overrides based on test cases */
					switch(val) {
						case 0x5212: val =  1200; break;
						case 0x8000: val = 10000; break;
						case 0x8001: val =  1252; break;
					}
					set_cp(opts.codepage = val);
					seen_codepage = true;
					break;
				case 'RRTabId': opts.rrtabid = val; break;
				case 'WinProtect': opts.winlocked = val; break;
				case 'Template': break; // TODO
				case 'BookBool': break; // TODO
				case 'UsesELFs': break;
				case 'MTRSettings': break;
				case 'RefreshAll':
				case 'CalcCount':
				case 'CalcDelta':
				case 'CalcIter':
				case 'CalcMode':
				case 'CalcPrecision':
				case 'CalcSaveRecalc':
					wb.opts[Rn] = val; break;
				case 'CalcRefMode': opts.CalcRefMode = val; break; // TODO: implement R1C1
				case 'Uncalced': break;
				case 'ForceFullCalculation': wb.opts.FullCalc = val; break;
				case 'WsBool':
					if(val.fDialog) out["!type"] = "dialog";
					break; // TODO
				case 'XF': XFs.push(val); break;
				case 'ExtSST': break; // TODO
				case 'BookExt': break; // TODO
				case 'RichTextStream': break;
				case 'BkHim': break;

				case 'SupBook':
					supbooks.push([val]);
					supbooks[supbooks.length-1].XTI = [];
					break;
				case 'ExternName':
					supbooks[supbooks.length-1].push(val);
					break;
				case 'Index': break; // TODO
				case 'Lbl':
					last_lbl = ({
						Name: val.Name,
						Ref: stringify_formula(val.rgce,range,null,supbooks,opts)
					});
					if(val.itab > 0) last_lbl.Sheet = val.itab - 1;
					supbooks.names.push(last_lbl);
					if(!supbooks[0]) { supbooks[0] = []; supbooks[0].XTI = []; }
					supbooks[supbooks.length-1].push(val);
					if(val.Name == "_xlnm._FilterDatabase" && val.itab > 0)
						if(val.rgce && val.rgce[0] && val.rgce[0][0] && val.rgce[0][0][0] == 'PtgArea3d')
							FilterDatabases[val.itab - 1] = { ref: encode_range(val.rgce[0][0][1][2]) };
					break;
				case 'ExternCount': opts.ExternCount = val; break;
				case 'ExternSheet':
					if(supbooks.length == 0) { supbooks[0] = []; supbooks[0].XTI = []; }
					supbooks[supbooks.length - 1].XTI = supbooks[supbooks.length - 1].XTI.concat(val); supbooks.XTI = supbooks.XTI.concat(val); break;
				case 'NameCmt':
					/* TODO: search for correct name */
					if(opts.biff < 8) break;
					if(last_lbl != null) last_lbl.Comment = val[1];
					break;

				case 'Protect': out["!protect"] = val; break; /* for sheet or book */
				case 'Password': if(val !== 0 && opts.WTF) console.error("Password verifier: " + val); break;
				case 'Prot4Rev': case 'Prot4RevPass': break; /*TODO: Revision Control*/

				case 'BoundSheet8': {
					Directory[val.pos] = val;
					opts.snames.push(val.name);
				} break;
				case 'EOF': {
					if(--file_depth) break;
					if(range.e) {
						if(range.e.r > 0 && range.e.c > 0) {
							range.e.r--; range.e.c--;
							out["!ref"] = encode_range(range);
							if(options.sheetRows && options.sheetRows <= range.e.r) {
								var tmpri = range.e.r;
								range.e.r = options.sheetRows - 1;
								out["!fullref"] = out["!ref"];
								out["!ref"] = encode_range(range);
								range.e.r = tmpri;
							}
							range.e.r++; range.e.c++;
						}
						if(merges.length > 0) out["!merges"] = merges;
						if(objects.length > 0) out["!objects"] = objects;
						if(colinfo.length > 0) out["!cols"] = colinfo;
						if(rowinfo.length > 0) out["!rows"] = rowinfo;
						Workbook.Sheets.push(wsprops);
					}
					if(cur_sheet === "") Preamble = out; else Sheets[cur_sheet] = out;
					out = ((options.dense ? [] : {}));
				} break;
				case 'BOF': {
					if(opts.biff === 8) opts.biff = {
0x0009:2,
0x0209:3,
0x0409:4
					}[RecordType] || {
0x0200:2,
0x0300:3,
0x0400:4,
0x0500:5,
0x0600:8,
0x0002:2,
0x0007:2
					}[val.BIFFVer] || 8;
					if(file_depth++) break;
					cell_valid = true;
					out = ((options.dense ? [] : {}));

					if(opts.biff < 8 && !seen_codepage) { seen_codepage = true; set_cp(opts.codepage = options.codepage || 1252); }
					if(opts.biff < 5) {
						if(cur_sheet === "") cur_sheet = "Sheet1";
						range = {s:{r:0,c:0},e:{r:0,c:0}};
						/* fake BoundSheet8 */
						var fakebs8 = {pos: blob.l - length, name:cur_sheet};
						Directory[fakebs8.pos] = fakebs8;
						opts.snames.push(cur_sheet);
					}
					else cur_sheet = (Directory[s] || {name:""}).name;
					if(val.dt == 0x20) out["!type"] = "chart";
					if(val.dt == 0x40) out["!type"] = "macro";
					merges = [];
					objects = [];
					opts.arrayf = arrayf = [];
					colinfo = []; rowinfo = [];
					defwidth = defheight = 0;
					seencol = false;
					wsprops = {Hidden:(Directory[s]||{hs:0}).hs, name:cur_sheet };
				} break;

				case 'Number': case 'BIFF2NUM': case 'BIFF2INT': {
					if(out["!type"] == "chart") if(options.dense ? (out[val.r]||[])[val.c]: out[encode_cell({c:val.c, r:val.r})]) ++val.c;
					temp_val = ({ixfe: val.ixfe, XF: XFs[val.ixfe]||{}, v:val.val, t:'n'});
					if(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x1F];
					safe_format_xf(temp_val, options, wb.opts.Date1904);
					addcell({c:val.c, r:val.r}, temp_val, options);
				} break;
				case 'BoolErr': {
					temp_val = ({ixfe: val.ixfe, XF: XFs[val.ixfe], v:val.val, t:val.t});
					if(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x1F];
					safe_format_xf(temp_val, options, wb.opts.Date1904);
					addcell({c:val.c, r:val.r}, temp_val, options);
				} break;
				case 'RK': {
					temp_val = ({ixfe: val.ixfe, XF: XFs[val.ixfe], v:val.rknum, t:'n'});
					if(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x1F];
					safe_format_xf(temp_val, options, wb.opts.Date1904);
					addcell({c:val.c, r:val.r}, temp_val, options);
				} break;
				case 'MulRk': {
					for(var j = val.c; j <= val.C; ++j) {
						var ixfe = val.rkrec[j-val.c][0];
						temp_val= ({ixfe:ixfe, XF:XFs[ixfe], v:val.rkrec[j-val.c][1], t:'n'});
						if(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x1F];
						safe_format_xf(temp_val, options, wb.opts.Date1904);
						addcell({c:j, r:val.r}, temp_val, options);
					}
				} break;
				case 'Formula': {
					if(val.val == 'String') { last_formula = val; break; }
					temp_val = make_cell(val.val, val.cell.ixfe, val.tt);
					temp_val.XF = XFs[temp_val.ixfe];
					if(options.cellFormula) {
						var _f = val.formula;
						if(_f && _f[0] && _f[0][0] && _f[0][0][0] == 'PtgExp') {
							var _fr = _f[0][0][1][0], _fc = _f[0][0][1][1];
							var _fe = encode_cell({r:_fr, c:_fc});
							if(sharedf[_fe]) temp_val.f = ""+stringify_formula(val.formula,range,val.cell,supbooks, opts);
							else temp_val.F = ((options.dense ? (out[_fr]||[])[_fc]: out[_fe]) || {}).F;
						} else temp_val.f = ""+stringify_formula(val.formula,range,val.cell,supbooks, opts);
					}
					if(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x1F];
					safe_format_xf(temp_val, options, wb.opts.Date1904);
					addcell(val.cell, temp_val, options);
					last_formula = val;
				} break;
				case 'String': {
					if(last_formula) { /* technically always true */
						last_formula.val = val;
						temp_val = make_cell(val, last_formula.cell.ixfe, 's');
						temp_val.XF = XFs[temp_val.ixfe];
						if(options.cellFormula) {
							temp_val.f = ""+stringify_formula(last_formula.formula, range, last_formula.cell, supbooks, opts);
						}
						if(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x1F];
						safe_format_xf(temp_val, options, wb.opts.Date1904);
						addcell(last_formula.cell, temp_val, options);
						last_formula = null;
					} else throw new Error("String record expects Formula");
				} break;
				case 'Array': {
					arrayf.push(val);
					var _arraystart = encode_cell(val[0].s);
					cc = options.dense ? (out[val[0].s.r]||[])[val[0].s.c] : out[_arraystart];
					if(options.cellFormula && cc) {
						if(!last_formula) break; /* technically unreachable */
						if(!_arraystart || !cc) break;
						cc.f = ""+stringify_formula(val[1], range, val[0], supbooks, opts);
						cc.F = encode_range(val[0]);
					}
				} break;
				case 'ShrFmla': {
					if(!cell_valid) break;
					if(!options.cellFormula) break;
					if(last_cell) {
						/* TODO: capture range */
						if(!last_formula) break; /* technically unreachable */
						sharedf[encode_cell(last_formula.cell)]= val[0];
						cc = options.dense ? (out[last_formula.cell.r]||[])[last_formula.cell.c] : out[encode_cell(last_formula.cell)];
						(cc||{}).f = ""+stringify_formula(val[0], range, lastcell, supbooks, opts);
					}
				} break;
				case 'LabelSst':
					temp_val=make_cell(sst[val.isst].t, val.ixfe, 's');
					temp_val.XF = XFs[temp_val.ixfe];
					if(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x1F];
					safe_format_xf(temp_val, options, wb.opts.Date1904);
					addcell({c:val.c, r:val.r}, temp_val, options);
					break;
				case 'Blank': if(options.sheetStubs) {
					temp_val = ({ixfe: val.ixfe, XF: XFs[val.ixfe], t:'z'});
					if(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x1F];
					safe_format_xf(temp_val, options, wb.opts.Date1904);
					addcell({c:val.c, r:val.r}, temp_val, options);
				} break;
				case 'MulBlank': if(options.sheetStubs) {
					for(var _j = val.c; _j <= val.C; ++_j) {
						var _ixfe = val.ixfe[_j-val.c];
						temp_val= ({ixfe:_ixfe, XF:XFs[_ixfe], t:'z'});
						if(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x1F];
						safe_format_xf(temp_val, options, wb.opts.Date1904);
						addcell({c:_j, r:val.r}, temp_val, options);
					}
				} break;
				case 'RString':
				case 'Label': case 'BIFF2STR':
					temp_val=make_cell(val.val, val.ixfe, 's');
					temp_val.XF = XFs[temp_val.ixfe];
					if(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x1F];
					safe_format_xf(temp_val, options, wb.opts.Date1904);
					addcell({c:val.c, r:val.r}, temp_val, options);
					break;

				case 'Dimensions': {
					if(file_depth === 1) range = val; /* TODO: stack */
				} break;
				case 'SST': {
					sst = val;
				} break;
				case 'Format': { /* val = [id, fmt] */
					if(opts.biff == 4) {
						BIFF2FmtTable[BIFF2Fmt++] = val[1];
						for(var b4idx = 0; b4idx < BIFF2Fmt + 163; ++b4idx) if(SSF._table[b4idx] == val[1]) break;
						if(b4idx >= 163) SSF.load(val[1], BIFF2Fmt + 163);
					}
					else SSF.load(val[1], val[0]);
				} break;
				case 'BIFF2FORMAT': {
					BIFF2FmtTable[BIFF2Fmt++] = val;
					for(var b2idx = 0; b2idx < BIFF2Fmt + 163; ++b2idx) if(SSF._table[b2idx] == val) break;
					if(b2idx >= 163) SSF.load(val, BIFF2Fmt + 163);
				} break;

				case 'MergeCells': merges = merges.concat(val); break;

				case 'Obj': objects[val.cmo[0]] = opts.lastobj = val; break;
				case 'TxO': opts.lastobj.TxO = val; break;
				case 'ImData': opts.lastobj.ImData = val; break;

				case 'HLink': {
					for(rngR = val[0].s.r; rngR <= val[0].e.r; ++rngR)
						for(rngC = val[0].s.c; rngC <= val[0].e.c; ++rngC) {
							cc = options.dense ? (out[rngR]||[])[rngC] : out[encode_cell({c:rngC,r:rngR})];
							if(cc) cc.l = val[1];
						}
				} break;
				case 'HLinkTooltip': {
					for(rngR = val[0].s.r; rngR <= val[0].e.r; ++rngR)
						for(rngC = val[0].s.c; rngC <= val[0].e.c; ++rngC) {
							cc = options.dense ? (out[rngR]||[])[rngC] : out[encode_cell({c:rngC,r:rngR})];
							if(cc && cc.l) cc.l.Tooltip = val[1];
							}
				} break;

				/* Comments */
				case 'Note': {
					if(opts.biff <= 5 && opts.biff >= 2) break; /* TODO: BIFF5 */
					cc = options.dense ? (out[val[0].r]||[])[val[0].c] : out[encode_cell(val[0])];
					var noteobj = objects[val[2]];
					if(!cc) break;
					if(!cc.c) cc.c = [];
					cmnt = {a:val[1],t:noteobj.TxO.t};
					cc.c.push(cmnt);
				} break;

				default: switch(R.n) { /* nested */
				case 'ClrtClient': break;
				case 'XFExt': update_xfext(XFs[val.ixfe], val.ext); break;

				case 'DefColWidth': defwidth = val; break;
				case 'DefaultRowHeight': defheight = val[1]; break; // TODO: flags

				case 'ColInfo': {
					if(!opts.cellStyles) break;
					while(val.e >= val.s) {
						colinfo[val.e--] = { width: val.w/256 };
						if(!seencol) { seencol = true; find_mdw_colw(val.w/256); }
						process_col(colinfo[val.e+1]);
					}
				} break;
				case 'Row': {
					var rowobj = {};
					if(val.level != null) { rowinfo[val.r] = rowobj; rowobj.level = val.level; }
					if(val.hidden) { rowinfo[val.r] = rowobj; rowobj.hidden = true; }
					if(val.hpt) {
						rowinfo[val.r] = rowobj;
						rowobj.hpt = val.hpt; rowobj.hpx = pt2px(val.hpt);
					}
				} break;

				case 'LeftMargin':
				case 'RightMargin':
				case 'TopMargin':
				case 'BottomMargin':
					if(!out['!margins']) default_margins(out['!margins'] = {});
					out['!margins'][Rn.slice(0,-6).toLowerCase()] = val;
					break;

				case 'Setup': // TODO
					if(!out['!margins']) default_margins(out['!margins'] = {});
					out['!margins'].header = val.header;
					out['!margins'].footer = val.footer;
					break;

				case 'Window2': // TODO
					// $FlowIgnore
					if(val.RTL) Workbook.Views[0].RTL = true;
					break;

				case 'Header': break; // TODO
				case 'Footer': break; // TODO
				case 'HCenter': break; // TODO
				case 'VCenter': break; // TODO
				case 'Pls': break; // TODO
				case 'GCW': break;
				case 'LHRecord': break;
				case 'DBCell': break; // TODO
				case 'EntExU2': break; // TODO
				case 'SxView': break; // TODO
				case 'Sxvd': break; // TODO
				case 'SXVI': break; // TODO
				case 'SXVDEx': break; // TODO
				case 'SxIvd': break; // TODO
				case 'SXString': break; // TODO
				case 'Sync': break;
				case 'Addin': break;
				case 'SXDI': break; // TODO
				case 'SXLI': break; // TODO
				case 'SXEx': break; // TODO
				case 'QsiSXTag': break; // TODO
				case 'Selection': break;
				case 'Feat': break;
				case 'FeatHdr': case 'FeatHdr11': break;
				case 'Feature11': case 'Feature12': case 'List12': break;
				case 'Country': country = val; break;
				case 'RecalcId': break;
				case 'DxGCol': break; // TODO: htmlify
				case 'Fbi': case 'Fbi2': case 'GelFrame': break;
				case 'Font': break; // TODO
				case 'XFCRC': break; // TODO
				case 'Style': break; // TODO
				case 'StyleExt': break; // TODO
				case 'Palette': palette = val; break;
				case 'Theme': themes = val; break;
				/* Protection */
				case 'ScenarioProtect': break;
				case 'ObjProtect': break;

				/* Conditional Formatting */
				case 'CondFmt12': break;

				/* Table */
				case 'Table': break; // TODO
				case 'TableStyles': break; // TODO
				case 'TableStyle': break; // TODO
				case 'TableStyleElement': break; // TODO

				/* PivotTable */
				case 'SXStreamID': break; // TODO
				case 'SXVS': break; // TODO
				case 'DConRef': break; // TODO
				case 'SXAddl': break; // TODO
				case 'DConBin': break; // TODO
				case 'DConName': break; // TODO
				case 'SXPI': break; // TODO
				case 'SxFormat': break; // TODO
				case 'SxSelect': break; // TODO
				case 'SxRule': break; // TODO
				case 'SxFilt': break; // TODO
				case 'SxItm': break; // TODO
				case 'SxDXF': break; // TODO

				/* Scenario Manager */
				case 'ScenMan': break;

				/* Data Consolidation */
				case 'DCon': break;

				/* Watched Cell */
				case 'CellWatch': break;

				/* Print Settings */
				case 'PrintRowCol': break;
				case 'PrintGrid': break;
				case 'PrintSize': break;

				case 'XCT': break;
				case 'CRN': break;

				case 'Scl': {
					//console.log("Zoom Level:", val[0]/val[1],val);
				} break;
				case 'SheetExt': {
					/* empty */
				} break;
				case 'SheetExtOptional': {
					/* empty */
				} break;

				/* VBA */
				case 'ObNoMacros': {
					/* empty */
				} break;
				case 'ObProj': {
					/* empty */
				} break;
				case 'CodeName': {
if(!cur_sheet) Workbook.WBProps.CodeName = val || "ThisWorkbook";
					else wsprops.CodeName = val || wsprops.name;
				} break;
				case 'GUIDTypeLib': {
					/* empty */
				} break;

				case 'WOpt': break; // TODO: WTF?
				case 'PhoneticInfo': break;

				case 'OleObjectSize': break;

				/* Differential Formatting */
				case 'DXF': case 'DXFN': case 'DXFN12': case 'DXFN12List': case 'DXFN12NoCB': break;

				/* Data Validation */
				case 'Dv': case 'DVal': break;

				/* Data Series */
				case 'BRAI': case 'Series': case 'SeriesText': break;

				/* Data Connection */
				case 'DConn': break;
				case 'DbOrParamQry': break;
				case 'DBQueryExt': break;

				case 'OleDbConn': break;
				case 'ExtString': break;

				/* Formatting */
				case 'IFmtRecord': break;
				case 'CondFmt': case 'CF': case 'CF12': case 'CFEx': break;

				/* Explicitly Ignored */
				case 'Excel9File': break;
				case 'Units': break;
				case 'InterfaceHdr': case 'Mms': case 'InterfaceEnd': case 'DSF': break;
				case 'BuiltInFnGroupCount': /* 2.4.30 0x0E or 0x10 but excel 2011 generates 0x11? */ break;
				/* View Stuff */
				case 'Window1': case 'HideObj': case 'GridSet': case 'Guts':
				case 'UserBView': case 'UserSViewBegin': case 'UserSViewEnd':
				case 'Pane': break;
				default: switch(R.n) { /* nested */
				/* Chart */
				case 'Dat':
				case 'Begin': case 'End':
				case 'StartBlock': case 'EndBlock':
				case 'Frame': case 'Area':
				case 'Axis': case 'AxisLine': case 'Tick': break;
				case 'AxesUsed':
				case 'CrtLayout12': case 'CrtLayout12A': case 'CrtLink': case 'CrtLine': case 'CrtMlFrt': case 'CrtMlFrtContinue': break;
				case 'LineFormat': case 'AreaFormat':
				case 'Chart': case 'Chart3d': case 'Chart3DBarShape': case 'ChartFormat': case 'ChartFrtInfo': break;
				case 'PlotArea': case 'PlotGrowth': break;
				case 'SeriesList': case 'SerParent': case 'SerAuxTrend': break;
				case 'DataFormat': case 'SerToCrt': case 'FontX': break;
				case 'CatSerRange': case 'AxcExt': case 'SerFmt': break;
				case 'ShtProps': break;
				case 'DefaultText': case 'Text': case 'CatLab': break;
				case 'DataLabExtContents': break;
				case 'Legend': case 'LegendException': break;
				case 'Pie': case 'Scatter': break;
				case 'PieFormat': case 'MarkerFormat': break;
				case 'StartObject': case 'EndObject': break;
				case 'AlRuns': case 'ObjectLink': break;
				case 'SIIndex': break;
				case 'AttachedLabel': case 'YMult': break;

				/* Chart Group */
				case 'Line': case 'Bar': break;
				case 'Surf': break;

				/* Axis Group */
				case 'AxisParent': break;
				case 'Pos': break;
				case 'ValueRange': break;

				/* Pivot Chart */
				case 'SXViewEx9': break; // TODO
				case 'SXViewLink': break;
				case 'PivotChartBits': break;
				case 'SBaseRef': break;
				case 'TextPropsStream': break;

				/* Chart Misc */
				case 'LnExt': break;
				case 'MkrExt': break;
				case 'CrtCoopt': break;

				/* Query Table */
				case 'Qsi': case 'Qsif': case 'Qsir': case 'QsiSXTag': break;
				case 'TxtQry': break;

				/* Filter */
				case 'FilterMode': break;
				case 'AutoFilter': case 'AutoFilterInfo': break;
				case 'AutoFilter12': break;
				case 'DropDownObjIds': break;
				case 'Sort': break;
				case 'SortData': break;

				/* Drawing */
				case 'ShapePropsStream': break;
				case 'MsoDrawing': case 'MsoDrawingGroup': case 'MsoDrawingSelection': break;
				/* Pub Stuff */
				case 'WebPub': case 'AutoWebPub': break;

				/* Print Stuff */
				case 'HeaderFooter': case 'HFPicture': case 'PLV':
				case 'HorizontalPageBreaks': case 'VerticalPageBreaks': break;
				/* Behavioral */
				case 'Backup': case 'CompressPictures': case 'Compat12': break;

				/* Should not Happen */
				case 'Continue': case 'ContinueFrt12': break;

				/* Future Records */
				case 'FrtFontList': case 'FrtWrapper': break;

				default: switch(R.n) { /* nested */
				/* BIFF5 records */
				case 'TabIdConf': case 'Radar': case 'RadarArea': case 'DropBar': case 'Intl': case 'CoordList': case 'SerAuxErrBar': break;

				/* BIFF2-4 records */
				case 'BIFF2FONTCLR': case 'BIFF2FMTCNT': case 'BIFF2FONTXTRA': break;
				case 'BIFF2XF': case 'BIFF3XF': case 'BIFF4XF': break;
				case 'BIFF4FMTCNT': case 'BIFF2ROW': case 'BIFF2WINDOW2': break;

				/* Miscellaneous */
				case 'SCENARIO': case 'DConBin': case 'PicF': case 'DataLabExt':
				case 'Lel': case 'BopPop': case 'BopPopCustom': case 'RealTimeData':
				case 'Name': break;
				case 'LHNGraph': case 'FnGroupName': case 'AddMenu': case 'LPr': break;
				case 'ListObj': case 'ListField': break;
				case 'RRSort': break;
				case 'BigName': break;
				case 'ToolbarHdr': case 'ToolbarEnd': break;
				case 'DDEObjName': break;
				case 'FRTArchId$': break;
				default: if(options.WTF) throw 'Unrecognized Record ' + R.n;
			}}}}
		} else blob.l += length;
	}
	wb.SheetNames=keys(Directory).sort(function(a,b) { return Number(a) - Number(b); }).map(function(x){return Directory[x].name;});
	if(!options.bookSheets) wb.Sheets=Sheets;
	if(wb.Sheets) FilterDatabases.forEach(function(r,i) { wb.Sheets[wb.SheetNames[i]]['!autofilter'] = r; });
	wb.Preamble=Preamble;
	wb.Strings = sst;
	wb.SSF = SSF.get_table();
	if(opts.enc) wb.Encryption = opts.enc;
	if(themes) wb.Themes = themes;
	wb.Metadata = {};
	if(country !== undefined) wb.Metadata.Country = country;
	if(supbooks.names.length > 0) Workbook.Names = supbooks.names;
	wb.Workbook = Workbook;
	return wb;
}

/* TODO: split props*/
var PSCLSID = {
	SI: "e0859ff2f94f6810ab9108002b27b3d9",
	DSI: "02d5cdd59c2e1b10939708002b2cf9ae",
	UDI: "05d5cdd59c2e1b10939708002b2cf9ae"
};
function parse_xls_props(cfb, props, o) {
	/* [MS-OSHARED] 2.3.3.2.2 Document Summary Information Property Set */
	var DSI = CFB.find(cfb, '!DocumentSummaryInformation');
	if(DSI && DSI.size > 0) try {
		var DocSummary = parse_PropertySetStream(DSI, DocSummaryPIDDSI, PSCLSID.DSI);
		for(var d in DocSummary) props[d] = DocSummary[d];
	} catch(e) {if(o.WTF) throw e;/* empty */}

	/* [MS-OSHARED] 2.3.3.2.1 Summary Information Property Set*/
	var SI = CFB.find(cfb, '!SummaryInformation');
	if(SI && SI.size > 0) try {
		var Summary = parse_PropertySetStream(SI, SummaryPIDSI, PSCLSID.SI);
		for(var s in Summary) if(props[s] == null) props[s] = Summary[s];
	} catch(e) {if(o.WTF) throw e;/* empty */}

	if(props.HeadingPairs && props.TitlesOfParts) {
		load_props_pairs(props.HeadingPairs, props.TitlesOfParts, props, o);
		delete props.HeadingPairs; delete props.TitlesOfParts;
	}
}
function write_xls_props(wb, cfb) {
	var DSEntries = [], SEntries = [], CEntries = [];
	var i = 0, Keys;
	if(wb.Props) {
		Keys = keys(wb.Props);
		// $FlowIgnore
		for(i = 0; i < Keys.length; ++i) (DocSummaryRE.hasOwnProperty(Keys[i]) ? DSEntries : SummaryRE.hasOwnProperty(Keys[i]) ? SEntries : CEntries).push([Keys[i], wb.Props[Keys[i]]]);
	}
	if(wb.Custprops) {
		Keys = keys(wb.Custprops);
		// $FlowIgnore
		for(i = 0; i < Keys.length; ++i) if(!(wb.Props||{}).hasOwnProperty(Keys[i])) (DocSummaryRE.hasOwnProperty(Keys[i]) ? DSEntries : SummaryRE.hasOwnProperty(Keys[i]) ? SEntries : CEntries).push([Keys[i], wb.Custprops[Keys[i]]]);
	}
	var CEntries2 = [];
	for(i = 0; i < CEntries.length; ++i) {
		if(XLSPSSkip.indexOf(CEntries[i][0]) > -1) continue;
		if(CEntries[i][1] == null) continue;
		CEntries2.push(CEntries[i]);
	}
	if(SEntries.length) CFB.utils.cfb_add(cfb, "/\u0005SummaryInformation", write_PropertySetStream(SEntries, PSCLSID.SI, SummaryRE, SummaryPIDSI));
	if(DSEntries.length || CEntries2.length) CFB.utils.cfb_add(cfb, "/\u0005DocumentSummaryInformation", write_PropertySetStream(DSEntries, PSCLSID.DSI, DocSummaryRE, DocSummaryPIDDSI, CEntries2.length ? CEntries2 : null, PSCLSID.UDI));
}

function parse_xlscfb(cfb, options) {
if(!options) options = {};
fix_read_opts(options);
reset_cp();
if(options.codepage) set_ansi(options.codepage);
var CompObj, WB;
if(cfb.FullPaths) {
	if(CFB.find(cfb, '/encryption')) throw new Error("File is password-protected");
	CompObj = CFB.find(cfb, '!CompObj');
	WB = CFB.find(cfb, '/Workbook') || CFB.find(cfb, '/Book');
} else {
	switch(options.type) {
		case 'base64': cfb = s2a(Base64.decode(cfb)); break;
		case 'binary': cfb = s2a(cfb); break;
		case 'buffer': break;
		case 'array': if(!Array.isArray(cfb)) cfb = Array.prototype.slice.call(cfb); break;
	}
	prep_blob(cfb, 0);
	WB = ({content: cfb});
}
var WorkbookP;

var _data;
if(CompObj) parse_compobj(CompObj);
if(options.bookProps && !options.bookSheets) WorkbookP = ({});
else {
	var T = has_buf ? 'buffer' : 'array';
	if(WB && WB.content) WorkbookP = parse_workbook(WB.content, options);
	/* Quattro Pro 7-8 */
	else if((_data=CFB.find(cfb, 'PerfectOffice_MAIN')) && _data.content) WorkbookP = WK_.to_workbook(_data.content, (options.type = T, options));
	/* Quattro Pro 9 */
	else if((_data=CFB.find(cfb, 'NativeContent_MAIN')) && _data.content) WorkbookP = WK_.to_workbook(_data.content, (options.type = T, options));
	else throw new Error("Cannot find Workbook stream");
	if(options.bookVBA && cfb.FullPaths && CFB.find(cfb, '/_VBA_PROJECT_CUR/VBA/dir')) WorkbookP.vbaraw = make_vba_xls(cfb);
}

var props = {};
if(cfb.FullPaths) parse_xls_props(cfb, props, options);

WorkbookP.Props = WorkbookP.Custprops = props; /* TODO: split up properties */
if(options.bookFiles) WorkbookP.cfb = cfb;
/*WorkbookP.CompObjP = CompObjP; // TODO: storage? */
return WorkbookP;
}


function write_xlscfb(wb, opts) {
	var o = opts || {};
	var cfb = CFB.utils.cfb_new({root:"R"});
	var wbpath = "/Workbook";
	switch(o.bookType || "xls") {
		case "xls": o.bookType = "biff8";
		/* falls through */
		case "xla": if(!o.bookType) o.bookType = "xla";
		/* falls through */
		case "biff8": wbpath = "/Workbook"; o.biff = 8; break;
		case "biff5": wbpath = "/Book"; o.biff = 5; break;
		default: throw new Error("invalid type " + o.bookType + " for XLS CFB");
	}
	CFB.utils.cfb_add(cfb, wbpath, write_biff_buf(wb, o));
	if(o.biff == 8 && (wb.Props || wb.Custprops)) write_xls_props(wb, cfb);
	// TODO: SI, DSI, CO
	if(o.biff == 8 && wb.vbaraw) fill_vba_xls(cfb, CFB.read(wb.vbaraw, {type: typeof wb.vbaraw == "string" ? "binary" : "buffer"}));
	return cfb;
}
/* [MS-XLSB] 2.3 Record Enumeration */
var XLSBRecordEnum = {
0x0000: { n:"BrtRowHdr", f:parse_BrtRowHdr },
0x0001: { n:"BrtCellBlank", f:parse_BrtCellBlank },
0x0002: { n:"BrtCellRk", f:parse_BrtCellRk },
0x0003: { n:"BrtCellError", f:parse_BrtCellError },
0x0004: { n:"BrtCellBool", f:parse_BrtCellBool },
0x0005: { n:"BrtCellReal", f:parse_BrtCellReal },
0x0006: { n:"BrtCellSt", f:parse_BrtCellSt },
0x0007: { n:"BrtCellIsst", f:parse_BrtCellIsst },
0x0008: { n:"BrtFmlaString", f:parse_BrtFmlaString },
0x0009: { n:"BrtFmlaNum", f:parse_BrtFmlaNum },
0x000A: { n:"BrtFmlaBool", f:parse_BrtFmlaBool },
0x000B: { n:"BrtFmlaError", f:parse_BrtFmlaError },
0x0010: { n:"BrtFRTArchID$", f:parse_BrtFRTArchID$ },
0x0013: { n:"BrtSSTItem", f:parse_RichStr },
0x0014: { n:"BrtPCDIMissing" },
0x0015: { n:"BrtPCDINumber" },
0x0016: { n:"BrtPCDIBoolean" },
0x0017: { n:"BrtPCDIError" },
0x0018: { n:"BrtPCDIString" },
0x0019: { n:"BrtPCDIDatetime" },
0x001A: { n:"BrtPCDIIndex" },
0x001B: { n:"BrtPCDIAMissing" },
0x001C: { n:"BrtPCDIANumber" },
0x001D: { n:"BrtPCDIABoolean" },
0x001E: { n:"BrtPCDIAError" },
0x001F: { n:"BrtPCDIAString" },
0x0020: { n:"BrtPCDIADatetime" },
0x0021: { n:"BrtPCRRecord" },
0x0022: { n:"BrtPCRRecordDt" },
0x0023: { n:"BrtFRTBegin" },
0x0024: { n:"BrtFRTEnd" },
0x0025: { n:"BrtACBegin" },
0x0026: { n:"BrtACEnd" },
0x0027: { n:"BrtName", f:parse_BrtName },
0x0028: { n:"BrtIndexRowBlock" },
0x002A: { n:"BrtIndexBlock" },
0x002B: { n:"BrtFont", f:parse_BrtFont },
0x002C: { n:"BrtFmt", f:parse_BrtFmt },
0x002D: { n:"BrtFill", f:parse_BrtFill },
0x002E: { n:"BrtBorder", f:parse_BrtBorder },
0x002F: { n:"BrtXF", f:parse_BrtXF },
0x0030: { n:"BrtStyle" },
0x0031: { n:"BrtCellMeta" },
0x0032: { n:"BrtValueMeta" },
0x0033: { n:"BrtMdb" },
0x0034: { n:"BrtBeginFmd" },
0x0035: { n:"BrtEndFmd" },
0x0036: { n:"BrtBeginMdx" },
0x0037: { n:"BrtEndMdx" },
0x0038: { n:"BrtBeginMdxTuple" },
0x0039: { n:"BrtEndMdxTuple" },
0x003A: { n:"BrtMdxMbrIstr" },
0x003B: { n:"BrtStr" },
0x003C: { n:"BrtColInfo", f:parse_ColInfo },
0x003E: { n:"BrtCellRString" },
0x003F: { n:"BrtCalcChainItem$", f:parse_BrtCalcChainItem$ },
0x0040: { n:"BrtDVal" },
0x0041: { n:"BrtSxvcellNum" },
0x0042: { n:"BrtSxvcellStr" },
0x0043: { n:"BrtSxvcellBool" },
0x0044: { n:"BrtSxvcellErr" },
0x0045: { n:"BrtSxvcellDate" },
0x0046: { n:"BrtSxvcellNil" },
0x0080: { n:"BrtFileVersion" },
0x0081: { n:"BrtBeginSheet" },
0x0082: { n:"BrtEndSheet" },
0x0083: { n:"BrtBeginBook", f:parsenoop, p:0 },
0x0084: { n:"BrtEndBook" },
0x0085: { n:"BrtBeginWsViews" },
0x0086: { n:"BrtEndWsViews" },
0x0087: { n:"BrtBeginBookViews" },
0x0088: { n:"BrtEndBookViews" },
0x0089: { n:"BrtBeginWsView", f:parse_BrtBeginWsView },
0x008A: { n:"BrtEndWsView" },
0x008B: { n:"BrtBeginCsViews" },
0x008C: { n:"BrtEndCsViews" },
0x008D: { n:"BrtBeginCsView" },
0x008E: { n:"BrtEndCsView" },
0x008F: { n:"BrtBeginBundleShs" },
0x0090: { n:"BrtEndBundleShs" },
0x0091: { n:"BrtBeginSheetData" },
0x0092: { n:"BrtEndSheetData" },
0x0093: { n:"BrtWsProp", f:parse_BrtWsProp },
0x0094: { n:"BrtWsDim", f:parse_BrtWsDim, p:16 },
0x0097: { n:"BrtPane" },
0x0098: { n:"BrtSel" },
0x0099: { n:"BrtWbProp", f:parse_BrtWbProp },
0x009A: { n:"BrtWbFactoid" },
0x009B: { n:"BrtFileRecover" },
0x009C: { n:"BrtBundleSh", f:parse_BrtBundleSh },
0x009D: { n:"BrtCalcProp" },
0x009E: { n:"BrtBookView" },
0x009F: { n:"BrtBeginSst", f:parse_BrtBeginSst },
0x00A0: { n:"BrtEndSst" },
0x00A1: { n:"BrtBeginAFilter", f:parse_UncheckedRfX },
0x00A2: { n:"BrtEndAFilter" },
0x00A3: { n:"BrtBeginFilterColumn" },
0x00A4: { n:"BrtEndFilterColumn" },
0x00A5: { n:"BrtBeginFilters" },
0x00A6: { n:"BrtEndFilters" },
0x00A7: { n:"BrtFilter" },
0x00A8: { n:"BrtColorFilter" },
0x00A9: { n:"BrtIconFilter" },
0x00AA: { n:"BrtTop10Filter" },
0x00AB: { n:"BrtDynamicFilter" },
0x00AC: { n:"BrtBeginCustomFilters" },
0x00AD: { n:"BrtEndCustomFilters" },
0x00AE: { n:"BrtCustomFilter" },
0x00AF: { n:"BrtAFilterDateGroupItem" },
0x00B0: { n:"BrtMergeCell", f:parse_BrtMergeCell },
0x00B1: { n:"BrtBeginMergeCells" },
0x00B2: { n:"BrtEndMergeCells" },
0x00B3: { n:"BrtBeginPivotCacheDef" },
0x00B4: { n:"BrtEndPivotCacheDef" },
0x00B5: { n:"BrtBeginPCDFields" },
0x00B6: { n:"BrtEndPCDFields" },
0x00B7: { n:"BrtBeginPCDField" },
0x00B8: { n:"BrtEndPCDField" },
0x00B9: { n:"BrtBeginPCDSource" },
0x00BA: { n:"BrtEndPCDSource" },
0x00BB: { n:"BrtBeginPCDSRange" },
0x00BC: { n:"BrtEndPCDSRange" },
0x00BD: { n:"BrtBeginPCDFAtbl" },
0x00BE: { n:"BrtEndPCDFAtbl" },
0x00BF: { n:"BrtBeginPCDIRun" },
0x00C0: { n:"BrtEndPCDIRun" },
0x00C1: { n:"BrtBeginPivotCacheRecords" },
0x00C2: { n:"BrtEndPivotCacheRecords" },
0x00C3: { n:"BrtBeginPCDHierarchies" },
0x00C4: { n:"BrtEndPCDHierarchies" },
0x00C5: { n:"BrtBeginPCDHierarchy" },
0x00C6: { n:"BrtEndPCDHierarchy" },
0x00C7: { n:"BrtBeginPCDHFieldsUsage" },
0x00C8: { n:"BrtEndPCDHFieldsUsage" },
0x00C9: { n:"BrtBeginExtConnection" },
0x00CA: { n:"BrtEndExtConnection" },
0x00CB: { n:"BrtBeginECDbProps" },
0x00CC: { n:"BrtEndECDbProps" },
0x00CD: { n:"BrtBeginECOlapProps" },
0x00CE: { n:"BrtEndECOlapProps" },
0x00CF: { n:"BrtBeginPCDSConsol" },
0x00D0: { n:"BrtEndPCDSConsol" },
0x00D1: { n:"BrtBeginPCDSCPages" },
0x00D2: { n:"BrtEndPCDSCPages" },
0x00D3: { n:"BrtBeginPCDSCPage" },
0x00D4: { n:"BrtEndPCDSCPage" },
0x00D5: { n:"BrtBeginPCDSCPItem" },
0x00D6: { n:"BrtEndPCDSCPItem" },
0x00D7: { n:"BrtBeginPCDSCSets" },
0x00D8: { n:"BrtEndPCDSCSets" },
0x00D9: { n:"BrtBeginPCDSCSet" },
0x00DA: { n:"BrtEndPCDSCSet" },
0x00DB: { n:"BrtBeginPCDFGroup" },
0x00DC: { n:"BrtEndPCDFGroup" },
0x00DD: { n:"BrtBeginPCDFGItems" },
0x00DE: { n:"BrtEndPCDFGItems" },
0x00DF: { n:"BrtBeginPCDFGRange" },
0x00E0: { n:"BrtEndPCDFGRange" },
0x00E1: { n:"BrtBeginPCDFGDiscrete" },
0x00E2: { n:"BrtEndPCDFGDiscrete" },
0x00E3: { n:"BrtBeginPCDSDTupleCache" },
0x00E4: { n:"BrtEndPCDSDTupleCache" },
0x00E5: { n:"BrtBeginPCDSDTCEntries" },
0x00E6: { n:"BrtEndPCDSDTCEntries" },
0x00E7: { n:"BrtBeginPCDSDTCEMembers" },
0x00E8: { n:"BrtEndPCDSDTCEMembers" },
0x00E9: { n:"BrtBeginPCDSDTCEMember" },
0x00EA: { n:"BrtEndPCDSDTCEMember" },
0x00EB: { n:"BrtBeginPCDSDTCQueries" },
0x00EC: { n:"BrtEndPCDSDTCQueries" },
0x00ED: { n:"BrtBeginPCDSDTCQuery" },
0x00EE: { n:"BrtEndPCDSDTCQuery" },
0x00EF: { n:"BrtBeginPCDSDTCSets" },
0x00F0: { n:"BrtEndPCDSDTCSets" },
0x00F1: { n:"BrtBeginPCDSDTCSet" },
0x00F2: { n:"BrtEndPCDSDTCSet" },
0x00F3: { n:"BrtBeginPCDCalcItems" },
0x00F4: { n:"BrtEndPCDCalcItems" },
0x00F5: { n:"BrtBeginPCDCalcItem" },
0x00F6: { n:"BrtEndPCDCalcItem" },
0x00F7: { n:"BrtBeginPRule" },
0x00F8: { n:"BrtEndPRule" },
0x00F9: { n:"BrtBeginPRFilters" },
0x00FA: { n:"BrtEndPRFilters" },
0x00FB: { n:"BrtBeginPRFilter" },
0x00FC: { n:"BrtEndPRFilter" },
0x00FD: { n:"BrtBeginPNames" },
0x00FE: { n:"BrtEndPNames" },
0x00FF: { n:"BrtBeginPName" },
0x0100: { n:"BrtEndPName" },
0x0101: { n:"BrtBeginPNPairs" },
0x0102: { n:"BrtEndPNPairs" },
0x0103: { n:"BrtBeginPNPair" },
0x0104: { n:"BrtEndPNPair" },
0x0105: { n:"BrtBeginECWebProps" },
0x0106: { n:"BrtEndECWebProps" },
0x0107: { n:"BrtBeginEcWpTables" },
0x0108: { n:"BrtEndECWPTables" },
0x0109: { n:"BrtBeginECParams" },
0x010A: { n:"BrtEndECParams" },
0x010B: { n:"BrtBeginECParam" },
0x010C: { n:"BrtEndECParam" },
0x010D: { n:"BrtBeginPCDKPIs" },
0x010E: { n:"BrtEndPCDKPIs" },
0x010F: { n:"BrtBeginPCDKPI" },
0x0110: { n:"BrtEndPCDKPI" },
0x0111: { n:"BrtBeginDims" },
0x0112: { n:"BrtEndDims" },
0x0113: { n:"BrtBeginDim" },
0x0114: { n:"BrtEndDim" },
0x0115: { n:"BrtIndexPartEnd" },
0x0116: { n:"BrtBeginStyleSheet" },
0x0117: { n:"BrtEndStyleSheet" },
0x0118: { n:"BrtBeginSXView" },
0x0119: { n:"BrtEndSXVI" },
0x011A: { n:"BrtBeginSXVI" },
0x011B: { n:"BrtBeginSXVIs" },
0x011C: { n:"BrtEndSXVIs" },
0x011D: { n:"BrtBeginSXVD" },
0x011E: { n:"BrtEndSXVD" },
0x011F: { n:"BrtBeginSXVDs" },
0x0120: { n:"BrtEndSXVDs" },
0x0121: { n:"BrtBeginSXPI" },
0x0122: { n:"BrtEndSXPI" },
0x0123: { n:"BrtBeginSXPIs" },
0x0124: { n:"BrtEndSXPIs" },
0x0125: { n:"BrtBeginSXDI" },
0x0126: { n:"BrtEndSXDI" },
0x0127: { n:"BrtBeginSXDIs" },
0x0128: { n:"BrtEndSXDIs" },
0x0129: { n:"BrtBeginSXLI" },
0x012A: { n:"BrtEndSXLI" },
0x012B: { n:"BrtBeginSXLIRws" },
0x012C: { n:"BrtEndSXLIRws" },
0x012D: { n:"BrtBeginSXLICols" },
0x012E: { n:"BrtEndSXLICols" },
0x012F: { n:"BrtBeginSXFormat" },
0x0130: { n:"BrtEndSXFormat" },
0x0131: { n:"BrtBeginSXFormats" },
0x0132: { n:"BrtEndSxFormats" },
0x0133: { n:"BrtBeginSxSelect" },
0x0134: { n:"BrtEndSxSelect" },
0x0135: { n:"BrtBeginISXVDRws" },
0x0136: { n:"BrtEndISXVDRws" },
0x0137: { n:"BrtBeginISXVDCols" },
0x0138: { n:"BrtEndISXVDCols" },
0x0139: { n:"BrtEndSXLocation" },
0x013A: { n:"BrtBeginSXLocation" },
0x013B: { n:"BrtEndSXView" },
0x013C: { n:"BrtBeginSXTHs" },
0x013D: { n:"BrtEndSXTHs" },
0x013E: { n:"BrtBeginSXTH" },
0x013F: { n:"BrtEndSXTH" },
0x0140: { n:"BrtBeginISXTHRws" },
0x0141: { n:"BrtEndISXTHRws" },
0x0142: { n:"BrtBeginISXTHCols" },
0x0143: { n:"BrtEndISXTHCols" },
0x0144: { n:"BrtBeginSXTDMPS" },
0x0145: { n:"BrtEndSXTDMPs" },
0x0146: { n:"BrtBeginSXTDMP" },
0x0147: { n:"BrtEndSXTDMP" },
0x0148: { n:"BrtBeginSXTHItems" },
0x0149: { n:"BrtEndSXTHItems" },
0x014A: { n:"BrtBeginSXTHItem" },
0x014B: { n:"BrtEndSXTHItem" },
0x014C: { n:"BrtBeginMetadata" },
0x014D: { n:"BrtEndMetadata" },
0x014E: { n:"BrtBeginEsmdtinfo" },
0x014F: { n:"BrtMdtinfo" },
0x0150: { n:"BrtEndEsmdtinfo" },
0x0151: { n:"BrtBeginEsmdb" },
0x0152: { n:"BrtEndEsmdb" },
0x0153: { n:"BrtBeginEsfmd" },
0x0154: { n:"BrtEndEsfmd" },
0x0155: { n:"BrtBeginSingleCells" },
0x0156: { n:"BrtEndSingleCells" },
0x0157: { n:"BrtBeginList" },
0x0158: { n:"BrtEndList" },
0x0159: { n:"BrtBeginListCols" },
0x015A: { n:"BrtEndListCols" },
0x015B: { n:"BrtBeginListCol" },
0x015C: { n:"BrtEndListCol" },
0x015D: { n:"BrtBeginListXmlCPr" },
0x015E: { n:"BrtEndListXmlCPr" },
0x015F: { n:"BrtListCCFmla" },
0x0160: { n:"BrtListTrFmla" },
0x0161: { n:"BrtBeginExternals" },
0x0162: { n:"BrtEndExternals" },
0x0163: { n:"BrtSupBookSrc", f:parse_RelID},
0x0165: { n:"BrtSupSelf" },
0x0166: { n:"BrtSupSame" },
0x0167: { n:"BrtSupTabs" },
0x0168: { n:"BrtBeginSupBook" },
0x0169: { n:"BrtPlaceholderName" },
0x016A: { n:"BrtExternSheet", f:parse_ExternSheet },
0x016B: { n:"BrtExternTableStart" },
0x016C: { n:"BrtExternTableEnd" },
0x016E: { n:"BrtExternRowHdr" },
0x016F: { n:"BrtExternCellBlank" },
0x0170: { n:"BrtExternCellReal" },
0x0171: { n:"BrtExternCellBool" },
0x0172: { n:"BrtExternCellError" },
0x0173: { n:"BrtExternCellString" },
0x0174: { n:"BrtBeginEsmdx" },
0x0175: { n:"BrtEndEsmdx" },
0x0176: { n:"BrtBeginMdxSet" },
0x0177: { n:"BrtEndMdxSet" },
0x0178: { n:"BrtBeginMdxMbrProp" },
0x0179: { n:"BrtEndMdxMbrProp" },
0x017A: { n:"BrtBeginMdxKPI" },
0x017B: { n:"BrtEndMdxKPI" },
0x017C: { n:"BrtBeginEsstr" },
0x017D: { n:"BrtEndEsstr" },
0x017E: { n:"BrtBeginPRFItem" },
0x017F: { n:"BrtEndPRFItem" },
0x0180: { n:"BrtBeginPivotCacheIDs" },
0x0181: { n:"BrtEndPivotCacheIDs" },
0x0182: { n:"BrtBeginPivotCacheID" },
0x0183: { n:"BrtEndPivotCacheID" },
0x0184: { n:"BrtBeginISXVIs" },
0x0185: { n:"BrtEndISXVIs" },
0x0186: { n:"BrtBeginColInfos" },
0x0187: { n:"BrtEndColInfos" },
0x0188: { n:"BrtBeginRwBrk" },
0x0189: { n:"BrtEndRwBrk" },
0x018A: { n:"BrtBeginColBrk" },
0x018B: { n:"BrtEndColBrk" },
0x018C: { n:"BrtBrk" },
0x018D: { n:"BrtUserBookView" },
0x018E: { n:"BrtInfo" },
0x018F: { n:"BrtCUsr" },
0x0190: { n:"BrtUsr" },
0x0191: { n:"BrtBeginUsers" },
0x0193: { n:"BrtEOF" },
0x0194: { n:"BrtUCR" },
0x0195: { n:"BrtRRInsDel" },
0x0196: { n:"BrtRREndInsDel" },
0x0197: { n:"BrtRRMove" },
0x0198: { n:"BrtRREndMove" },
0x0199: { n:"BrtRRChgCell" },
0x019A: { n:"BrtRREndChgCell" },
0x019B: { n:"BrtRRHeader" },
0x019C: { n:"BrtRRUserView" },
0x019D: { n:"BrtRRRenSheet" },
0x019E: { n:"BrtRRInsertSh" },
0x019F: { n:"BrtRRDefName" },
0x01A0: { n:"BrtRRNote" },
0x01A1: { n:"BrtRRConflict" },
0x01A2: { n:"BrtRRTQSIF" },
0x01A3: { n:"BrtRRFormat" },
0x01A4: { n:"BrtRREndFormat" },
0x01A5: { n:"BrtRRAutoFmt" },
0x01A6: { n:"BrtBeginUserShViews" },
0x01A7: { n:"BrtBeginUserShView" },
0x01A8: { n:"BrtEndUserShView" },
0x01A9: { n:"BrtEndUserShViews" },
0x01AA: { n:"BrtArrFmla", f:parse_BrtArrFmla },
0x01AB: { n:"BrtShrFmla", f:parse_BrtShrFmla },
0x01AC: { n:"BrtTable" },
0x01AD: { n:"BrtBeginExtConnections" },
0x01AE: { n:"BrtEndExtConnections" },
0x01AF: { n:"BrtBeginPCDCalcMems" },
0x01B0: { n:"BrtEndPCDCalcMems" },
0x01B1: { n:"BrtBeginPCDCalcMem" },
0x01B2: { n:"BrtEndPCDCalcMem" },
0x01B3: { n:"BrtBeginPCDHGLevels" },
0x01B4: { n:"BrtEndPCDHGLevels" },
0x01B5: { n:"BrtBeginPCDHGLevel" },
0x01B6: { n:"BrtEndPCDHGLevel" },
0x01B7: { n:"BrtBeginPCDHGLGroups" },
0x01B8: { n:"BrtEndPCDHGLGroups" },
0x01B9: { n:"BrtBeginPCDHGLGroup" },
0x01BA: { n:"BrtEndPCDHGLGroup" },
0x01BB: { n:"BrtBeginPCDHGLGMembers" },
0x01BC: { n:"BrtEndPCDHGLGMembers" },
0x01BD: { n:"BrtBeginPCDHGLGMember" },
0x01BE: { n:"BrtEndPCDHGLGMember" },
0x01BF: { n:"BrtBeginQSI" },
0x01C0: { n:"BrtEndQSI" },
0x01C1: { n:"BrtBeginQSIR" },
0x01C2: { n:"BrtEndQSIR" },
0x01C3: { n:"BrtBeginDeletedNames" },
0x01C4: { n:"BrtEndDeletedNames" },
0x01C5: { n:"BrtBeginDeletedName" },
0x01C6: { n:"BrtEndDeletedName" },
0x01C7: { n:"BrtBeginQSIFs" },
0x01C8: { n:"BrtEndQSIFs" },
0x01C9: { n:"BrtBeginQSIF" },
0x01CA: { n:"BrtEndQSIF" },
0x01CB: { n:"BrtBeginAutoSortScope" },
0x01CC: { n:"BrtEndAutoSortScope" },
0x01CD: { n:"BrtBeginConditionalFormatting" },
0x01CE: { n:"BrtEndConditionalFormatting" },
0x01CF: { n:"BrtBeginCFRule" },
0x01D0: { n:"BrtEndCFRule" },
0x01D1: { n:"BrtBeginIconSet" },
0x01D2: { n:"BrtEndIconSet" },
0x01D3: { n:"BrtBeginDatabar" },
0x01D4: { n:"BrtEndDatabar" },
0x01D5: { n:"BrtBeginColorScale" },
0x01D6: { n:"BrtEndColorScale" },
0x01D7: { n:"BrtCFVO" },
0x01D8: { n:"BrtExternValueMeta" },
0x01D9: { n:"BrtBeginColorPalette" },
0x01DA: { n:"BrtEndColorPalette" },
0x01DB: { n:"BrtIndexedColor" },
0x01DC: { n:"BrtMargins", f:parse_BrtMargins },
0x01DD: { n:"BrtPrintOptions" },
0x01DE: { n:"BrtPageSetup" },
0x01DF: { n:"BrtBeginHeaderFooter" },
0x01E0: { n:"BrtEndHeaderFooter" },
0x01E1: { n:"BrtBeginSXCrtFormat" },
0x01E2: { n:"BrtEndSXCrtFormat" },
0x01E3: { n:"BrtBeginSXCrtFormats" },
0x01E4: { n:"BrtEndSXCrtFormats" },
0x01E5: { n:"BrtWsFmtInfo", f:parse_BrtWsFmtInfo },
0x01E6: { n:"BrtBeginMgs" },
0x01E7: { n:"BrtEndMGs" },
0x01E8: { n:"BrtBeginMGMaps" },
0x01E9: { n:"BrtEndMGMaps" },
0x01EA: { n:"BrtBeginMG" },
0x01EB: { n:"BrtEndMG" },
0x01EC: { n:"BrtBeginMap" },
0x01ED: { n:"BrtEndMap" },
0x01EE: { n:"BrtHLink", f:parse_BrtHLink },
0x01EF: { n:"BrtBeginDCon" },
0x01F0: { n:"BrtEndDCon" },
0x01F1: { n:"BrtBeginDRefs" },
0x01F2: { n:"BrtEndDRefs" },
0x01F3: { n:"BrtDRef" },
0x01F4: { n:"BrtBeginScenMan" },
0x01F5: { n:"BrtEndScenMan" },
0x01F6: { n:"BrtBeginSct" },
0x01F7: { n:"BrtEndSct" },
0x01F8: { n:"BrtSlc" },
0x01F9: { n:"BrtBeginDXFs" },
0x01FA: { n:"BrtEndDXFs" },
0x01FB: { n:"BrtDXF" },
0x01FC: { n:"BrtBeginTableStyles" },
0x01FD: { n:"BrtEndTableStyles" },
0x01FE: { n:"BrtBeginTableStyle" },
0x01FF: { n:"BrtEndTableStyle" },
0x0200: { n:"BrtTableStyleElement" },
0x0201: { n:"BrtTableStyleClient" },
0x0202: { n:"BrtBeginVolDeps" },
0x0203: { n:"BrtEndVolDeps" },
0x0204: { n:"BrtBeginVolType" },
0x0205: { n:"BrtEndVolType" },
0x0206: { n:"BrtBeginVolMain" },
0x0207: { n:"BrtEndVolMain" },
0x0208: { n:"BrtBeginVolTopic" },
0x0209: { n:"BrtEndVolTopic" },
0x020A: { n:"BrtVolSubtopic" },
0x020B: { n:"BrtVolRef" },
0x020C: { n:"BrtVolNum" },
0x020D: { n:"BrtVolErr" },
0x020E: { n:"BrtVolStr" },
0x020F: { n:"BrtVolBool" },
0x0210: { n:"BrtBeginCalcChain$" },
0x0211: { n:"BrtEndCalcChain$" },
0x0212: { n:"BrtBeginSortState" },
0x0213: { n:"BrtEndSortState" },
0x0214: { n:"BrtBeginSortCond" },
0x0215: { n:"BrtEndSortCond" },
0x0216: { n:"BrtBookProtection" },
0x0217: { n:"BrtSheetProtection" },
0x0218: { n:"BrtRangeProtection" },
0x0219: { n:"BrtPhoneticInfo" },
0x021A: { n:"BrtBeginECTxtWiz" },
0x021B: { n:"BrtEndECTxtWiz" },
0x021C: { n:"BrtBeginECTWFldInfoLst" },
0x021D: { n:"BrtEndECTWFldInfoLst" },
0x021E: { n:"BrtBeginECTwFldInfo" },
0x0224: { n:"BrtFileSharing" },
0x0225: { n:"BrtOleSize" },
0x0226: { n:"BrtDrawing", f:parse_RelID },
0x0227: { n:"BrtLegacyDrawing" },
0x0228: { n:"BrtLegacyDrawingHF" },
0x0229: { n:"BrtWebOpt" },
0x022A: { n:"BrtBeginWebPubItems" },
0x022B: { n:"BrtEndWebPubItems" },
0x022C: { n:"BrtBeginWebPubItem" },
0x022D: { n:"BrtEndWebPubItem" },
0x022E: { n:"BrtBeginSXCondFmt" },
0x022F: { n:"BrtEndSXCondFmt" },
0x0230: { n:"BrtBeginSXCondFmts" },
0x0231: { n:"BrtEndSXCondFmts" },
0x0232: { n:"BrtBkHim" },
0x0234: { n:"BrtColor" },
0x0235: { n:"BrtBeginIndexedColors" },
0x0236: { n:"BrtEndIndexedColors" },
0x0239: { n:"BrtBeginMRUColors" },
0x023A: { n:"BrtEndMRUColors" },
0x023C: { n:"BrtMRUColor" },
0x023D: { n:"BrtBeginDVals" },
0x023E: { n:"BrtEndDVals" },
0x0241: { n:"BrtSupNameStart" },
0x0242: { n:"BrtSupNameValueStart" },
0x0243: { n:"BrtSupNameValueEnd" },
0x0244: { n:"BrtSupNameNum" },
0x0245: { n:"BrtSupNameErr" },
0x0246: { n:"BrtSupNameSt" },
0x0247: { n:"BrtSupNameNil" },
0x0248: { n:"BrtSupNameBool" },
0x0249: { n:"BrtSupNameFmla" },
0x024A: { n:"BrtSupNameBits" },
0x024B: { n:"BrtSupNameEnd" },
0x024C: { n:"BrtEndSupBook" },
0x024D: { n:"BrtCellSmartTagProperty" },
0x024E: { n:"BrtBeginCellSmartTag" },
0x024F: { n:"BrtEndCellSmartTag" },
0x0250: { n:"BrtBeginCellSmartTags" },
0x0251: { n:"BrtEndCellSmartTags" },
0x0252: { n:"BrtBeginSmartTags" },
0x0253: { n:"BrtEndSmartTags" },
0x0254: { n:"BrtSmartTagType" },
0x0255: { n:"BrtBeginSmartTagTypes" },
0x0256: { n:"BrtEndSmartTagTypes" },
0x0257: { n:"BrtBeginSXFilters" },
0x0258: { n:"BrtEndSXFilters" },
0x0259: { n:"BrtBeginSXFILTER" },
0x025A: { n:"BrtEndSXFilter" },
0x025B: { n:"BrtBeginFills" },
0x025C: { n:"BrtEndFills" },
0x025D: { n:"BrtBeginCellWatches" },
0x025E: { n:"BrtEndCellWatches" },
0x025F: { n:"BrtCellWatch" },
0x0260: { n:"BrtBeginCRErrs" },
0x0261: { n:"BrtEndCRErrs" },
0x0262: { n:"BrtCrashRecErr" },
0x0263: { n:"BrtBeginFonts" },
0x0264: { n:"BrtEndFonts" },
0x0265: { n:"BrtBeginBorders" },
0x0266: { n:"BrtEndBorders" },
0x0267: { n:"BrtBeginFmts" },
0x0268: { n:"BrtEndFmts" },
0x0269: { n:"BrtBeginCellXFs" },
0x026A: { n:"BrtEndCellXFs" },
0x026B: { n:"BrtBeginStyles" },
0x026C: { n:"BrtEndStyles" },
0x0271: { n:"BrtBigName" },
0x0272: { n:"BrtBeginCellStyleXFs" },
0x0273: { n:"BrtEndCellStyleXFs" },
0x0274: { n:"BrtBeginComments" },
0x0275: { n:"BrtEndComments" },
0x0276: { n:"BrtBeginCommentAuthors" },
0x0277: { n:"BrtEndCommentAuthors" },
0x0278: { n:"BrtCommentAuthor", f:parse_BrtCommentAuthor },
0x0279: { n:"BrtBeginCommentList" },
0x027A: { n:"BrtEndCommentList" },
0x027B: { n:"BrtBeginComment", f:parse_BrtBeginComment},
0x027C: { n:"BrtEndComment" },
0x027D: { n:"BrtCommentText", f:parse_BrtCommentText },
0x027E: { n:"BrtBeginOleObjects" },
0x027F: { n:"BrtOleObject" },
0x0280: { n:"BrtEndOleObjects" },
0x0281: { n:"BrtBeginSxrules" },
0x0282: { n:"BrtEndSxRules" },
0x0283: { n:"BrtBeginActiveXControls" },
0x0284: { n:"BrtActiveX" },
0x0285: { n:"BrtEndActiveXControls" },
0x0286: { n:"BrtBeginPCDSDTCEMembersSortBy" },
0x0288: { n:"BrtBeginCellIgnoreECs" },
0x0289: { n:"BrtCellIgnoreEC" },
0x028A: { n:"BrtEndCellIgnoreECs" },
0x028B: { n:"BrtCsProp", f:parse_BrtCsProp },
0x028C: { n:"BrtCsPageSetup" },
0x028D: { n:"BrtBeginUserCsViews" },
0x028E: { n:"BrtEndUserCsViews" },
0x028F: { n:"BrtBeginUserCsView" },
0x0290: { n:"BrtEndUserCsView" },
0x0291: { n:"BrtBeginPcdSFCIEntries" },
0x0292: { n:"BrtEndPCDSFCIEntries" },
0x0293: { n:"BrtPCDSFCIEntry" },
0x0294: { n:"BrtBeginListParts" },
0x0295: { n:"BrtListPart" },
0x0296: { n:"BrtEndListParts" },
0x0297: { n:"BrtSheetCalcProp" },
0x0298: { n:"BrtBeginFnGroup" },
0x0299: { n:"BrtFnGroup" },
0x029A: { n:"BrtEndFnGroup" },
0x029B: { n:"BrtSupAddin" },
0x029C: { n:"BrtSXTDMPOrder" },
0x029D: { n:"BrtCsProtection" },
0x029F: { n:"BrtBeginWsSortMap" },
0x02A0: { n:"BrtEndWsSortMap" },
0x02A1: { n:"BrtBeginRRSort" },
0x02A2: { n:"BrtEndRRSort" },
0x02A3: { n:"BrtRRSortItem" },
0x02A4: { n:"BrtFileSharingIso" },
0x02A5: { n:"BrtBookProtectionIso" },
0x02A6: { n:"BrtSheetProtectionIso" },
0x02A7: { n:"BrtCsProtectionIso" },
0x02A8: { n:"BrtRangeProtectionIso" },
0x0400: { n:"BrtRwDescent" },
0x0401: { n:"BrtKnownFonts" },
0x0402: { n:"BrtBeginSXTupleSet" },
0x0403: { n:"BrtEndSXTupleSet" },
0x0404: { n:"BrtBeginSXTupleSetHeader" },
0x0405: { n:"BrtEndSXTupleSetHeader" },
0x0406: { n:"BrtSXTupleSetHeaderItem" },
0x0407: { n:"BrtBeginSXTupleSetData" },
0x0408: { n:"BrtEndSXTupleSetData" },
0x0409: { n:"BrtBeginSXTupleSetRow" },
0x040A: { n:"BrtEndSXTupleSetRow" },
0x040B: { n:"BrtSXTupleSetRowItem" },
0x040C: { n:"BrtNameExt" },
0x040D: { n:"BrtPCDH14" },
0x040E: { n:"BrtBeginPCDCalcMem14" },
0x040F: { n:"BrtEndPCDCalcMem14" },
0x0410: { n:"BrtSXTH14" },
0x0411: { n:"BrtBeginSparklineGroup" },
0x0412: { n:"BrtEndSparklineGroup" },
0x0413: { n:"BrtSparkline" },
0x0414: { n:"BrtSXDI14" },
0x0415: { n:"BrtWsFmtInfoEx14" },
0x0416: { n:"BrtBeginConditionalFormatting14" },
0x0417: { n:"BrtEndConditionalFormatting14" },
0x0418: { n:"BrtBeginCFRule14" },
0x0419: { n:"BrtEndCFRule14" },
0x041A: { n:"BrtCFVO14" },
0x041B: { n:"BrtBeginDatabar14" },
0x041C: { n:"BrtBeginIconSet14" },
0x041D: { n:"BrtDVal14" },
0x041E: { n:"BrtBeginDVals14" },
0x041F: { n:"BrtColor14" },
0x0420: { n:"BrtBeginSparklines" },
0x0421: { n:"BrtEndSparklines" },
0x0422: { n:"BrtBeginSparklineGroups" },
0x0423: { n:"BrtEndSparklineGroups" },
0x0425: { n:"BrtSXVD14" },
0x0426: { n:"BrtBeginSXView14" },
0x0427: { n:"BrtEndSXView14" },
0x0428: { n:"BrtBeginSXView16" },
0x0429: { n:"BrtEndSXView16" },
0x042A: { n:"BrtBeginPCD14" },
0x042B: { n:"BrtEndPCD14" },
0x042C: { n:"BrtBeginExtConn14" },
0x042D: { n:"BrtEndExtConn14" },
0x042E: { n:"BrtBeginSlicerCacheIDs" },
0x042F: { n:"BrtEndSlicerCacheIDs" },
0x0430: { n:"BrtBeginSlicerCacheID" },
0x0431: { n:"BrtEndSlicerCacheID" },
0x0433: { n:"BrtBeginSlicerCache" },
0x0434: { n:"BrtEndSlicerCache" },
0x0435: { n:"BrtBeginSlicerCacheDef" },
0x0436: { n:"BrtEndSlicerCacheDef" },
0x0437: { n:"BrtBeginSlicersEx" },
0x0438: { n:"BrtEndSlicersEx" },
0x0439: { n:"BrtBeginSlicerEx" },
0x043A: { n:"BrtEndSlicerEx" },
0x043B: { n:"BrtBeginSlicer" },
0x043C: { n:"BrtEndSlicer" },
0x043D: { n:"BrtSlicerCachePivotTables" },
0x043E: { n:"BrtBeginSlicerCacheOlapImpl" },
0x043F: { n:"BrtEndSlicerCacheOlapImpl" },
0x0440: { n:"BrtBeginSlicerCacheLevelsData" },
0x0441: { n:"BrtEndSlicerCacheLevelsData" },
0x0442: { n:"BrtBeginSlicerCacheLevelData" },
0x0443: { n:"BrtEndSlicerCacheLevelData" },
0x0444: { n:"BrtBeginSlicerCacheSiRanges" },
0x0445: { n:"BrtEndSlicerCacheSiRanges" },
0x0446: { n:"BrtBeginSlicerCacheSiRange" },
0x0447: { n:"BrtEndSlicerCacheSiRange" },
0x0448: { n:"BrtSlicerCacheOlapItem" },
0x0449: { n:"BrtBeginSlicerCacheSelections" },
0x044A: { n:"BrtSlicerCacheSelection" },
0x044B: { n:"BrtEndSlicerCacheSelections" },
0x044C: { n:"BrtBeginSlicerCacheNative" },
0x044D: { n:"BrtEndSlicerCacheNative" },
0x044E: { n:"BrtSlicerCacheNativeItem" },
0x044F: { n:"BrtRangeProtection14" },
0x0450: { n:"BrtRangeProtectionIso14" },
0x0451: { n:"BrtCellIgnoreEC14" },
0x0457: { n:"BrtList14" },
0x0458: { n:"BrtCFIcon" },
0x0459: { n:"BrtBeginSlicerCachesPivotCacheIDs" },
0x045A: { n:"BrtEndSlicerCachesPivotCacheIDs" },
0x045B: { n:"BrtBeginSlicers" },
0x045C: { n:"BrtEndSlicers" },
0x045D: { n:"BrtWbProp14" },
0x045E: { n:"BrtBeginSXEdit" },
0x045F: { n:"BrtEndSXEdit" },
0x0460: { n:"BrtBeginSXEdits" },
0x0461: { n:"BrtEndSXEdits" },
0x0462: { n:"BrtBeginSXChange" },
0x0463: { n:"BrtEndSXChange" },
0x0464: { n:"BrtBeginSXChanges" },
0x0465: { n:"BrtEndSXChanges" },
0x0466: { n:"BrtSXTupleItems" },
0x0468: { n:"BrtBeginSlicerStyle" },
0x0469: { n:"BrtEndSlicerStyle" },
0x046A: { n:"BrtSlicerStyleElement" },
0x046B: { n:"BrtBeginStyleSheetExt14" },
0x046C: { n:"BrtEndStyleSheetExt14" },
0x046D: { n:"BrtBeginSlicerCachesPivotCacheID" },
0x046E: { n:"BrtEndSlicerCachesPivotCacheID" },
0x046F: { n:"BrtBeginConditionalFormattings" },
0x0470: { n:"BrtEndConditionalFormattings" },
0x0471: { n:"BrtBeginPCDCalcMemExt" },
0x0472: { n:"BrtEndPCDCalcMemExt" },
0x0473: { n:"BrtBeginPCDCalcMemsExt" },
0x0474: { n:"BrtEndPCDCalcMemsExt" },
0x0475: { n:"BrtPCDField14" },
0x0476: { n:"BrtBeginSlicerStyles" },
0x0477: { n:"BrtEndSlicerStyles" },
0x0478: { n:"BrtBeginSlicerStyleElements" },
0x0479: { n:"BrtEndSlicerStyleElements" },
0x047A: { n:"BrtCFRuleExt" },
0x047B: { n:"BrtBeginSXCondFmt14" },
0x047C: { n:"BrtEndSXCondFmt14" },
0x047D: { n:"BrtBeginSXCondFmts14" },
0x047E: { n:"BrtEndSXCondFmts14" },
0x0480: { n:"BrtBeginSortCond14" },
0x0481: { n:"BrtEndSortCond14" },
0x0482: { n:"BrtEndDVals14" },
0x0483: { n:"BrtEndIconSet14" },
0x0484: { n:"BrtEndDatabar14" },
0x0485: { n:"BrtBeginColorScale14" },
0x0486: { n:"BrtEndColorScale14" },
0x0487: { n:"BrtBeginSxrules14" },
0x0488: { n:"BrtEndSxrules14" },
0x0489: { n:"BrtBeginPRule14" },
0x048A: { n:"BrtEndPRule14" },
0x048B: { n:"BrtBeginPRFilters14" },
0x048C: { n:"BrtEndPRFilters14" },
0x048D: { n:"BrtBeginPRFilter14" },
0x048E: { n:"BrtEndPRFilter14" },
0x048F: { n:"BrtBeginPRFItem14" },
0x0490: { n:"BrtEndPRFItem14" },
0x0491: { n:"BrtBeginCellIgnoreECs14" },
0x0492: { n:"BrtEndCellIgnoreECs14" },
0x0493: { n:"BrtDxf14" },
0x0494: { n:"BrtBeginDxF14s" },
0x0495: { n:"BrtEndDxf14s" },
0x0499: { n:"BrtFilter14" },
0x049A: { n:"BrtBeginCustomFilters14" },
0x049C: { n:"BrtCustomFilter14" },
0x049D: { n:"BrtIconFilter14" },
0x049E: { n:"BrtPivotCacheConnectionName" },
0x0800: { n:"BrtBeginDecoupledPivotCacheIDs" },
0x0801: { n:"BrtEndDecoupledPivotCacheIDs" },
0x0802: { n:"BrtDecoupledPivotCacheID" },
0x0803: { n:"BrtBeginPivotTableRefs" },
0x0804: { n:"BrtEndPivotTableRefs" },
0x0805: { n:"BrtPivotTableRef" },
0x0806: { n:"BrtSlicerCacheBookPivotTables" },
0x0807: { n:"BrtBeginSxvcells" },
0x0808: { n:"BrtEndSxvcells" },
0x0809: { n:"BrtBeginSxRow" },
0x080A: { n:"BrtEndSxRow" },
0x080C: { n:"BrtPcdCalcMem15" },
0x0813: { n:"BrtQsi15" },
0x0814: { n:"BrtBeginWebExtensions" },
0x0815: { n:"BrtEndWebExtensions" },
0x0816: { n:"BrtWebExtension" },
0x0817: { n:"BrtAbsPath15" },
0x0818: { n:"BrtBeginPivotTableUISettings" },
0x0819: { n:"BrtEndPivotTableUISettings" },
0x081B: { n:"BrtTableSlicerCacheIDs" },
0x081C: { n:"BrtTableSlicerCacheID" },
0x081D: { n:"BrtBeginTableSlicerCache" },
0x081E: { n:"BrtEndTableSlicerCache" },
0x081F: { n:"BrtSxFilter15" },
0x0820: { n:"BrtBeginTimelineCachePivotCacheIDs" },
0x0821: { n:"BrtEndTimelineCachePivotCacheIDs" },
0x0822: { n:"BrtTimelineCachePivotCacheID" },
0x0823: { n:"BrtBeginTimelineCacheIDs" },
0x0824: { n:"BrtEndTimelineCacheIDs" },
0x0825: { n:"BrtBeginTimelineCacheID" },
0x0826: { n:"BrtEndTimelineCacheID" },
0x0827: { n:"BrtBeginTimelinesEx" },
0x0828: { n:"BrtEndTimelinesEx" },
0x0829: { n:"BrtBeginTimelineEx" },
0x082A: { n:"BrtEndTimelineEx" },
0x082B: { n:"BrtWorkBookPr15" },
0x082C: { n:"BrtPCDH15" },
0x082D: { n:"BrtBeginTimelineStyle" },
0x082E: { n:"BrtEndTimelineStyle" },
0x082F: { n:"BrtTimelineStyleElement" },
0x0830: { n:"BrtBeginTimelineStylesheetExt15" },
0x0831: { n:"BrtEndTimelineStylesheetExt15" },
0x0832: { n:"BrtBeginTimelineStyles" },
0x0833: { n:"BrtEndTimelineStyles" },
0x0834: { n:"BrtBeginTimelineStyleElements" },
0x0835: { n:"BrtEndTimelineStyleElements" },
0x0836: { n:"BrtDxf15" },
0x0837: { n:"BrtBeginDxfs15" },
0x0838: { n:"brtEndDxfs15" },
0x0839: { n:"BrtSlicerCacheHideItemsWithNoData" },
0x083A: { n:"BrtBeginItemUniqueNames" },
0x083B: { n:"BrtEndItemUniqueNames" },
0x083C: { n:"BrtItemUniqueName" },
0x083D: { n:"BrtBeginExtConn15" },
0x083E: { n:"BrtEndExtConn15" },
0x083F: { n:"BrtBeginOledbPr15" },
0x0840: { n:"BrtEndOledbPr15" },
0x0841: { n:"BrtBeginDataFeedPr15" },
0x0842: { n:"BrtEndDataFeedPr15" },
0x0843: { n:"BrtTextPr15" },
0x0844: { n:"BrtRangePr15" },
0x0845: { n:"BrtDbCommand15" },
0x0846: { n:"BrtBeginDbTables15" },
0x0847: { n:"BrtEndDbTables15" },
0x0848: { n:"BrtDbTable15" },
0x0849: { n:"BrtBeginDataModel" },
0x084A: { n:"BrtEndDataModel" },
0x084B: { n:"BrtBeginModelTables" },
0x084C: { n:"BrtEndModelTables" },
0x084D: { n:"BrtModelTable" },
0x084E: { n:"BrtBeginModelRelationships" },
0x084F: { n:"BrtEndModelRelationships" },
0x0850: { n:"BrtModelRelationship" },
0x0851: { n:"BrtBeginECTxtWiz15" },
0x0852: { n:"BrtEndECTxtWiz15" },
0x0853: { n:"BrtBeginECTWFldInfoLst15" },
0x0854: { n:"BrtEndECTWFldInfoLst15" },
0x0855: { n:"BrtBeginECTWFldInfo15" },
0x0856: { n:"BrtFieldListActiveItem" },
0x0857: { n:"BrtPivotCacheIdVersion" },
0x0858: { n:"BrtSXDI15" },
0x0859: { n:"BrtBeginModelTimeGroupings" },
0x085A: { n:"BrtEndModelTimeGroupings" },
0x085B: { n:"BrtBeginModelTimeGrouping" },
0x085C: { n:"BrtEndModelTimeGrouping" },
0x085D: { n:"BrtModelTimeGroupingCalcCol" },
0x0C00: { n:"BrtUid" },
0x0C01: { n:"BrtRevisionPtr" },
0xFFFF: { n:"" }
};

var XLSBRE = evert_key(XLSBRecordEnum, 'n');

/* [MS-XLS] 2.3 Record Enumeration */
var XLSRecordEnum = {
0x0003: { n:"BIFF2NUM", f:parse_BIFF2NUM },
0x0004: { n:"BIFF2STR", f:parse_BIFF2STR },
0x0006: { n:"Formula", f:parse_Formula },
0x0009: { n:'BOF', f:parse_BOF },
0x000a: { n:'EOF', f:parsenoop2 },
0x000c: { n:"CalcCount", f:parseuint16 },
0x000d: { n:"CalcMode", f:parseuint16 },
0x000e: { n:"CalcPrecision", f:parsebool },
0x000f: { n:"CalcRefMode", f:parsebool },
0x0010: { n:"CalcDelta", f:parse_Xnum },
0x0011: { n:"CalcIter", f:parsebool },
0x0012: { n:"Protect", f:parsebool },
0x0013: { n:"Password", f:parseuint16 },
0x0014: { n:"Header", f:parse_XLHeaderFooter },
0x0015: { n:"Footer", f:parse_XLHeaderFooter },
0x0017: { n:"ExternSheet", f:parse_ExternSheet },
0x0018: { n:"Lbl", f:parse_Lbl },
0x0019: { n:"WinProtect", f:parsebool },
0x001a: { n:"VerticalPageBreaks" },
0x001b: { n:"HorizontalPageBreaks" },
0x001c: { n:"Note", f:parse_Note },
0x001d: { n:"Selection" },
0x0022: { n:"Date1904", f:parsebool },
0x0023: { n:"ExternName", f:parse_ExternName },
0x0026: { n:"LeftMargin", f:parse_Xnum },
0x0027: { n:"RightMargin", f:parse_Xnum },
0x0028: { n:"TopMargin", f:parse_Xnum },
0x0029: { n:"BottomMargin", f:parse_Xnum },
0x002a: { n:"PrintRowCol", f:parsebool },
0x002b: { n:"PrintGrid", f:parsebool },
0x002f: { n:"FilePass", f:parse_FilePass },
0x0031: { n:"Font", f:parse_Font },
0x0033: { n:"PrintSize", f:parseuint16 },
0x003c: { n:"Continue" },
0x003d: { n:"Window1", f:parse_Window1 },
0x0040: { n:"Backup", f:parsebool },
0x0041: { n:"Pane" },
0x0042: { n:'CodePage', f:parseuint16 },
0x004d: { n:"Pls" },
0x0050: { n:"DCon" },
0x0051: { n:"DConRef" },
0x0052: { n:"DConName" },
0x0055: { n:"DefColWidth", f:parseuint16 },
0x0059: { n:"XCT" },
0x005a: { n:"CRN" },
0x005b: { n:"FileSharing" },
0x005c: { n:'WriteAccess', f:parse_WriteAccess },
0x005d: { n:"Obj", f:parse_Obj },
0x005e: { n:"Uncalced" },
0x005f: { n:"CalcSaveRecalc", f:parsebool },
0x0060: { n:"Template" },
0x0061: { n:"Intl" },
0x0063: { n:"ObjProtect", f:parsebool },
0x007d: { n:"ColInfo", f:parse_ColInfo },
0x0080: { n:"Guts", f:parse_Guts },
0x0081: { n:"WsBool", f:parse_WsBool },
0x0082: { n:"GridSet", f:parseuint16 },
0x0083: { n:"HCenter", f:parsebool },
0x0084: { n:"VCenter", f:parsebool },
0x0085: { n:'BoundSheet8', f:parse_BoundSheet8 },
0x0086: { n:"WriteProtect" },
0x008c: { n:"Country", f:parse_Country },
0x008d: { n:"HideObj", f:parseuint16 },
0x0090: { n:"Sort" },
0x0092: { n:"Palette", f:parse_Palette },
0x0097: { n:"Sync" },
0x0098: { n:"LPr" },
0x0099: { n:"DxGCol" },
0x009a: { n:"FnGroupName" },
0x009b: { n:"FilterMode" },
0x009c: { n:"BuiltInFnGroupCount", f:parseuint16 },
0x009d: { n:"AutoFilterInfo" },
0x009e: { n:"AutoFilter" },
0x00a0: { n:"Scl", f:parse_Scl },
0x00a1: { n:"Setup", f:parse_Setup },
0x00ae: { n:"ScenMan" },
0x00af: { n:"SCENARIO" },
0x00b0: { n:"SxView" },
0x00b1: { n:"Sxvd" },
0x00b2: { n:"SXVI" },
0x00b4: { n:"SxIvd" },
0x00b5: { n:"SXLI" },
0x00b6: { n:"SXPI" },
0x00b8: { n:"DocRoute" },
0x00b9: { n:"RecipName" },
0x00bd: { n:"MulRk", f:parse_MulRk },
0x00be: { n:"MulBlank", f:parse_MulBlank },
0x00c1: { n:'Mms', f:parsenoop2 },
0x00c5: { n:"SXDI" },
0x00c6: { n:"SXDB" },
0x00c7: { n:"SXFDB" },
0x00c8: { n:"SXDBB" },
0x00c9: { n:"SXNum" },
0x00ca: { n:"SxBool", f:parsebool },
0x00cb: { n:"SxErr" },
0x00cc: { n:"SXInt" },
0x00cd: { n:"SXString" },
0x00ce: { n:"SXDtr" },
0x00cf: { n:"SxNil" },
0x00d0: { n:"SXTbl" },
0x00d1: { n:"SXTBRGIITM" },
0x00d2: { n:"SxTbpg" },
0x00d3: { n:"ObProj" },
0x00d5: { n:"SXStreamID" },
0x00d7: { n:"DBCell" },
0x00d8: { n:"SXRng" },
0x00d9: { n:"SxIsxoper" },
0x00da: { n:"BookBool", f:parseuint16 },
0x00dc: { n:"DbOrParamQry" },
0x00dd: { n:"ScenarioProtect", f:parsebool },
0x00de: { n:"OleObjectSize" },
0x00e0: { n:"XF", f:parse_XF },
0x00e1: { n:'InterfaceHdr', f:parse_InterfaceHdr },
0x00e2: { n:'InterfaceEnd', f:parsenoop2 },
0x00e3: { n:"SXVS" },
0x00e5: { n:"MergeCells", f:parse_MergeCells },
0x00e9: { n:"BkHim" },
0x00eb: { n:"MsoDrawingGroup" },
0x00ec: { n:"MsoDrawing" },
0x00ed: { n:"MsoDrawingSelection" },
0x00ef: { n:"PhoneticInfo" },
0x00f0: { n:"SxRule" },
0x00f1: { n:"SXEx" },
0x00f2: { n:"SxFilt" },
0x00f4: { n:"SxDXF" },
0x00f5: { n:"SxItm" },
0x00f6: { n:"SxName" },
0x00f7: { n:"SxSelect" },
0x00f8: { n:"SXPair" },
0x00f9: { n:"SxFmla" },
0x00fb: { n:"SxFormat" },
0x00fc: { n:"SST", f:parse_SST },
0x00fd: { n:"LabelSst", f:parse_LabelSst },
0x00ff: { n:"ExtSST", f:parse_ExtSST },
0x0100: { n:"SXVDEx" },
0x0103: { n:"SXFormula" },
0x0122: { n:"SXDBEx" },
0x0137: { n:"RRDInsDel" },
0x0138: { n:"RRDHead" },
0x013b: { n:"RRDChgCell" },
0x013d: { n:"RRTabId", f:parseuint16a },
0x013e: { n:"RRDRenSheet" },
0x013f: { n:"RRSort" },
0x0140: { n:"RRDMove" },
0x014a: { n:"RRFormat" },
0x014b: { n:"RRAutoFmt" },
0x014d: { n:"RRInsertSh" },
0x014e: { n:"RRDMoveBegin" },
0x014f: { n:"RRDMoveEnd" },
0x0150: { n:"RRDInsDelBegin" },
0x0151: { n:"RRDInsDelEnd" },
0x0152: { n:"RRDConflict" },
0x0153: { n:"RRDDefName" },
0x0154: { n:"RRDRstEtxp" },
0x015f: { n:"LRng" },
0x0160: { n:"UsesELFs", f:parsebool },
0x0161: { n:"DSF", f:parsenoop2 },
0x0191: { n:"CUsr" },
0x0192: { n:"CbUsr" },
0x0193: { n:"UsrInfo" },
0x0194: { n:"UsrExcl" },
0x0195: { n:"FileLock" },
0x0196: { n:"RRDInfo" },
0x0197: { n:"BCUsrs" },
0x0198: { n:"UsrChk" },
0x01a9: { n:"UserBView" },
0x01aa: { n:"UserSViewBegin" },
0x01ab: { n:"UserSViewEnd" },
0x01ac: { n:"RRDUserView" },
0x01ad: { n:"Qsi" },
0x01ae: { n:"SupBook", f:parse_SupBook },
0x01af: { n:"Prot4Rev", f:parsebool },
0x01b0: { n:"CondFmt" },
0x01b1: { n:"CF" },
0x01b2: { n:"DVal" },
0x01b5: { n:"DConBin" },
0x01b6: { n:"TxO", f:parse_TxO },
0x01b7: { n:"RefreshAll", f:parsebool },
0x01b8: { n:"HLink", f:parse_HLink },
0x01b9: { n:"Lel" },
0x01ba: { n:"CodeName", f:parse_XLUnicodeString },
0x01bb: { n:"SXFDBType" },
0x01bc: { n:"Prot4RevPass", f:parseuint16 },
0x01bd: { n:"ObNoMacros" },
0x01be: { n:"Dv" },
0x01c0: { n:"Excel9File", f:parsenoop2 },
0x01c1: { n:"RecalcId", f:parse_RecalcId, r:2},
0x01c2: { n:"EntExU2", f:parsenoop2 },
0x0200: { n:"Dimensions", f:parse_Dimensions },
0x0201: { n:"Blank", f:parse_Blank },
0x0203: { n:"Number", f:parse_Number },
0x0204: { n:"Label", f:parse_Label },
0x0205: { n:"BoolErr", f:parse_BoolErr },
0x0206: { n:"Formula", f:parse_Formula },
0x0207: { n:"String", f:parse_String },
0x0208: { n:'Row', f:parse_Row },
0x020b: { n:"Index" },
0x0221: { n:"Array", f:parse_Array },
0x0225: { n:"DefaultRowHeight", f:parse_DefaultRowHeight },
0x0236: { n:"Table" },
0x023e: { n:"Window2", f:parse_Window2 },
0x027e: { n:"RK", f:parse_RK },
0x0293: { n:"Style" },
0x0406: { n:"Formula", f:parse_Formula },
0x0418: { n:"BigName" },
0x041e: { n:"Format", f:parse_Format },
0x043c: { n:"ContinueBigName" },
0x04bc: { n:"ShrFmla", f:parse_ShrFmla },
0x0800: { n:"HLinkTooltip", f:parse_HLinkTooltip },
0x0801: { n:"WebPub" },
0x0802: { n:"QsiSXTag" },
0x0803: { n:"DBQueryExt" },
0x0804: { n:"ExtString" },
0x0805: { n:"TxtQry" },
0x0806: { n:"Qsir" },
0x0807: { n:"Qsif" },
0x0808: { n:"RRDTQSIF" },
0x0809: { n:'BOF', f:parse_BOF },
0x080a: { n:"OleDbConn" },
0x080b: { n:"WOpt" },
0x080c: { n:"SXViewEx" },
0x080d: { n:"SXTH" },
0x080e: { n:"SXPIEx" },
0x080f: { n:"SXVDTEx" },
0x0810: { n:"SXViewEx9" },
0x0812: { n:"ContinueFrt" },
0x0813: { n:"RealTimeData" },
0x0850: { n:"ChartFrtInfo" },
0x0851: { n:"FrtWrapper" },
0x0852: { n:"StartBlock" },
0x0853: { n:"EndBlock" },
0x0854: { n:"StartObject" },
0x0855: { n:"EndObject" },
0x0856: { n:"CatLab" },
0x0857: { n:"YMult" },
0x0858: { n:"SXViewLink" },
0x0859: { n:"PivotChartBits" },
0x085a: { n:"FrtFontList" },
0x0862: { n:"SheetExt" },
0x0863: { n:"BookExt", r:12},
0x0864: { n:"SXAddl" },
0x0865: { n:"CrErr" },
0x0866: { n:"HFPicture" },
0x0867: { n:'FeatHdr', f:parsenoop2 },
0x0868: { n:"Feat" },
0x086a: { n:"DataLabExt" },
0x086b: { n:"DataLabExtContents" },
0x086c: { n:"CellWatch" },
0x0871: { n:"FeatHdr11" },
0x0872: { n:"Feature11" },
0x0874: { n:"DropDownObjIds" },
0x0875: { n:"ContinueFrt11" },
0x0876: { n:"DConn" },
0x0877: { n:"List12" },
0x0878: { n:"Feature12" },
0x0879: { n:"CondFmt12" },
0x087a: { n:"CF12" },
0x087b: { n:"CFEx" },
0x087c: { n:"XFCRC", f:parse_XFCRC, r:12 },
0x087d: { n:"XFExt", f:parse_XFExt, r:12 },
0x087e: { n:"AutoFilter12" },
0x087f: { n:"ContinueFrt12" },
0x0884: { n:"MDTInfo" },
0x0885: { n:"MDXStr" },
0x0886: { n:"MDXTuple" },
0x0887: { n:"MDXSet" },
0x0888: { n:"MDXProp" },
0x0889: { n:"MDXKPI" },
0x088a: { n:"MDB" },
0x088b: { n:"PLV" },
0x088c: { n:"Compat12", f:parsebool, r:12 },
0x088d: { n:"DXF" },
0x088e: { n:"TableStyles", r:12 },
0x088f: { n:"TableStyle" },
0x0890: { n:"TableStyleElement" },
0x0892: { n:"StyleExt" },
0x0893: { n:"NamePublish" },
0x0894: { n:"NameCmt", f:parse_NameCmt, r:12 },
0x0895: { n:"SortData" },
0x0896: { n:"Theme", f:parse_Theme, r:12 },
0x0897: { n:"GUIDTypeLib" },
0x0898: { n:"FnGrp12" },
0x0899: { n:"NameFnGrp12" },
0x089a: { n:"MTRSettings", f:parse_MTRSettings, r:12 },
0x089b: { n:"CompressPictures", f:parsenoop2 },
0x089c: { n:"HeaderFooter" },
0x089d: { n:"CrtLayout12" },
0x089e: { n:"CrtMlFrt" },
0x089f: { n:"CrtMlFrtContinue" },
0x08a3: { n:"ForceFullCalculation", f:parse_ForceFullCalculation },
0x08a4: { n:"ShapePropsStream" },
0x08a5: { n:"TextPropsStream" },
0x08a6: { n:"RichTextStream" },
0x08a7: { n:"CrtLayout12A" },
0x1001: { n:"Units" },
0x1002: { n:"Chart" },
0x1003: { n:"Series" },
0x1006: { n:"DataFormat" },
0x1007: { n:"LineFormat" },
0x1009: { n:"MarkerFormat" },
0x100a: { n:"AreaFormat" },
0x100b: { n:"PieFormat" },
0x100c: { n:"AttachedLabel" },
0x100d: { n:"SeriesText" },
0x1014: { n:"ChartFormat" },
0x1015: { n:"Legend" },
0x1016: { n:"SeriesList" },
0x1017: { n:"Bar" },
0x1018: { n:"Line" },
0x1019: { n:"Pie" },
0x101a: { n:"Area" },
0x101b: { n:"Scatter" },
0x101c: { n:"CrtLine" },
0x101d: { n:"Axis" },
0x101e: { n:"Tick" },
0x101f: { n:"ValueRange" },
0x1020: { n:"CatSerRange" },
0x1021: { n:"AxisLine" },
0x1022: { n:"CrtLink" },
0x1024: { n:"DefaultText" },
0x1025: { n:"Text" },
0x1026: { n:"FontX", f:parseuint16 },
0x1027: { n:"ObjectLink" },
0x1032: { n:"Frame" },
0x1033: { n:"Begin" },
0x1034: { n:"End" },
0x1035: { n:"PlotArea" },
0x103a: { n:"Chart3d" },
0x103c: { n:"PicF" },
0x103d: { n:"DropBar" },
0x103e: { n:"Radar" },
0x103f: { n:"Surf" },
0x1040: { n:"RadarArea" },
0x1041: { n:"AxisParent" },
0x1043: { n:"LegendException" },
0x1044: { n:"ShtProps", f:parse_ShtProps },
0x1045: { n:"SerToCrt" },
0x1046: { n:"AxesUsed" },
0x1048: { n:"SBaseRef" },
0x104a: { n:"SerParent" },
0x104b: { n:"SerAuxTrend" },
0x104e: { n:"IFmtRecord" },
0x104f: { n:"Pos" },
0x1050: { n:"AlRuns" },
0x1051: { n:"BRAI" },
0x105b: { n:"SerAuxErrBar" },
0x105c: { n:"ClrtClient", f:parse_ClrtClient },
0x105d: { n:"SerFmt" },
0x105f: { n:"Chart3DBarShape" },
0x1060: { n:"Fbi" },
0x1061: { n:"BopPop" },
0x1062: { n:"AxcExt" },
0x1063: { n:"Dat" },
0x1064: { n:"PlotGrowth" },
0x1065: { n:"SIIndex" },
0x1066: { n:"GelFrame" },
0x1067: { n:"BopPopCustom" },
0x1068: { n:"Fbi2" },

0x0000: { n:"Dimensions", f:parse_Dimensions },
0x0002: { n:"BIFF2INT", f:parse_BIFF2INT },
0x0005: { n:"BoolErr", f:parse_BoolErr },
0x0007: { n:"String", f:parse_BIFF2STRING },
0x0008: { n:"BIFF2ROW" },
0x000b: { n:"Index" },
0x0016: { n:"ExternCount", f:parseuint16 },
0x001e: { n:"BIFF2FORMAT", f:parse_BIFF2Format },
0x001f: { n:"BIFF2FMTCNT" }, /* 16-bit cnt of BIFF2FORMAT records */
0x0020: { n:"BIFF2COLINFO" },
0x0021: { n:"Array", f:parse_Array },
0x0025: { n:"DefaultRowHeight", f:parse_DefaultRowHeight },
0x0032: { n:"BIFF2FONTXTRA", f:parse_BIFF2FONTXTRA },
0x0034: { n:"DDEObjName" },
0x003e: { n:"BIFF2WINDOW2" },
0x0043: { n:"BIFF2XF" },
0x0045: { n:"BIFF2FONTCLR" },
0x0056: { n:"BIFF4FMTCNT" }, /* 16-bit cnt, similar to BIFF2 */
0x007e: { n:"RK" }, /* Not necessarily same as 0x027e */
0x007f: { n:"ImData", f:parse_ImData },
0x0087: { n:"Addin" },
0x0088: { n:"Edg" },
0x0089: { n:"Pub" },
0x0091: { n:"Sub" },
0x0094: { n:"LHRecord" },
0x0095: { n:"LHNGraph" },
0x0096: { n:"Sound" },
0x00a9: { n:"CoordList" },
0x00ab: { n:"GCW" },
0x00bc: { n:"ShrFmla" }, /* Not necessarily same as 0x04bc */
0x00bf: { n:"ToolbarHdr" },
0x00c0: { n:"ToolbarEnd" },
0x00c2: { n:"AddMenu" },
0x00c3: { n:"DelMenu" },
0x00d6: { n:"RString", f:parse_RString },
0x00df: { n:"UDDesc" },
0x00ea: { n:"TabIdConf" },
0x0162: { n:"XL5Modify" },
0x01a5: { n:"FileSharing2" },
0x0209: { n:'BOF', f:parse_BOF },
0x0218: { n:"Lbl", f:parse_Lbl },
0x0223: { n:"ExternName", f:parse_ExternName },
0x0231: { n:"Font" },
0x0243: { n:"BIFF3XF" },
0x0409: { n:'BOF', f:parse_BOF },
0x0443: { n:"BIFF4XF" },
0x086d: { n:"FeatInfo" },
0x0873: { n:"FeatInfo11" },
0x0881: { n:"SXAddl12" },
0x08c0: { n:"AutoWebPub" },
0x08c1: { n:"ListObj" },
0x08c2: { n:"ListField" },
0x08c3: { n:"ListDV" },
0x08c4: { n:"ListCondFmt" },
0x08c5: { n:"ListCF" },
0x08c6: { n:"FMQry" },
0x08c7: { n:"FMSQry" },
0x08c8: { n:"PLV" },
0x08c9: { n:"LnExt" },
0x08ca: { n:"MkrExt" },
0x08cb: { n:"CrtCoopt" },
0x08d6: { n:"FRTArchId$", r:12 },

0x7262: {}
};

var XLSRE = evert_key(XLSRecordEnum, 'n');
function write_biff_rec(ba, type, payload, length) {
	var t = +type || +XLSRE[type];
	if(isNaN(t)) return;
	var len = length || (payload||[]).length || 0;
	var o = ba.next(4);
	o.write_shift(2, t);
	o.write_shift(2, len);
	if(len > 0 && is_buf(payload)) ba.push(payload);
}

function write_BIFF2Cell(out, r, c) {
	if(!out) out = new_buf(7);
	out.write_shift(2, r);
	out.write_shift(2, c);
	out.write_shift(2, 0);
	out.write_shift(1, 0);
	return out;
}

function write_BIFF2BERR(r, c, val, t) {
	var out = new_buf(9);
	write_BIFF2Cell(out, r, c);
	if(t == 'e') { out.write_shift(1, val); out.write_shift(1, 1); }
	else { out.write_shift(1, val?1:0); out.write_shift(1, 0); }
	return out;
}

/* TODO: codepage, large strings */
function write_BIFF2LABEL(r, c, val) {
	var out = new_buf(8 + 2*val.length);
	write_BIFF2Cell(out, r, c);
	out.write_shift(1, val.length);
	out.write_shift(val.length, val, 'sbcs');
	return out.l < out.length ? out.slice(0, out.l) : out;
}

function write_ws_biff2_cell(ba, cell, R, C) {
	if(cell.v != null) switch(cell.t) {
		case 'd': case 'n':
			var v = cell.t == 'd' ? datenum(parseDate(cell.v)) : cell.v;
			if((v == (v|0)) && (v >= 0) && (v < 65536))
				write_biff_rec(ba, 0x0002, write_BIFF2INT(R, C, v));
			else
				write_biff_rec(ba, 0x0003, write_BIFF2NUM(R,C, v));
			return;
		case 'b': case 'e': write_biff_rec(ba, 0x0005, write_BIFF2BERR(R, C, cell.v, cell.t)); return;
		/* TODO: codepage, sst */
		case 's': case 'str':
			write_biff_rec(ba, 0x0004, write_BIFF2LABEL(R, C, cell.v));
			return;
	}
	write_biff_rec(ba, 0x0001, write_BIFF2Cell(null, R, C));
}

function write_ws_biff2(ba, ws, idx, opts) {
	var dense = Array.isArray(ws);
	var range = safe_decode_range(ws['!ref'] || "A1"), ref, rr = "", cols = [];
	if(range.e.c > 0xFF || range.e.r > 0x3FFF) {
		if(opts.WTF) throw new Error("Range " + (ws['!ref'] || "A1") + " exceeds format limit A1:IV16384");
		range.e.c = Math.min(range.e.c, 0xFF);
		range.e.r = Math.min(range.e.c, 0x3FFF);
		ref = encode_range(range);
	}
	for(var R = range.s.r; R <= range.e.r; ++R) {
		rr = encode_row(R);
		for(var C = range.s.c; C <= range.e.c; ++C) {
			if(R === range.s.r) cols[C] = encode_col(C);
			ref = cols[C] + rr;
			var cell = dense ? (ws[R]||[])[C] : ws[ref];
			if(!cell) continue;
			/* write cell */
			write_ws_biff2_cell(ba, cell, R, C, opts);
		}
	}
}

/* Based on test files */
function write_biff2_buf(wb, opts) {
	var o = opts || {};
	if(DENSE != null && o.dense == null) o.dense = DENSE;
	var ba = buf_array();
	var idx = 0;
	for(var i=0;i<wb.SheetNames.length;++i) if(wb.SheetNames[i] == o.sheet) idx=i;
	if(idx == 0 && !!o.sheet && wb.SheetNames[0] != o.sheet) throw new Error("Sheet not found: " + o.sheet);
	write_biff_rec(ba, 0x0009, write_BOF(wb, 0x10, o));
	/* ... */
	write_ws_biff2(ba, wb.Sheets[wb.SheetNames[idx]], idx, o, wb);
	/* ... */
	write_biff_rec(ba, 0x000A);
	return ba.end();
}

function write_FONTS_biff8(ba, data, opts) {
	write_biff_rec(ba, "Font", write_Font({
		sz:12,
		color: {theme:1},
		name: "Arial",
		family: 2,
		scheme: "minor"
	}, opts));
}


function write_FMTS_biff8(ba, NF, opts) {
	if(!NF) return;
	[[5,8],[23,26],[41,44],[/*63*/50,/*66],[164,*/392]].forEach(function(r) {
for(var i = r[0]; i <= r[1]; ++i) if(NF[i] != null) write_biff_rec(ba, "Format", write_Format(i, NF[i], opts));
	});
}

function write_FEAT(ba, ws) {
	/* [MS-XLS] 2.4.112 */
	var o = new_buf(19);
	o.write_shift(4, 0x867); o.write_shift(4, 0); o.write_shift(4, 0);
	o.write_shift(2, 3); o.write_shift(1, 1); o.write_shift(4, 0);
	write_biff_rec(ba, "FeatHdr", o);
	/* [MS-XLS] 2.4.111 */
	o = new_buf(39);
	o.write_shift(4, 0x868); o.write_shift(4, 0); o.write_shift(4, 0);
	o.write_shift(2, 3); o.write_shift(1, 0); o.write_shift(4, 0);
	o.write_shift(2, 1); o.write_shift(4, 4); o.write_shift(2, 0);
	write_Ref8U(safe_decode_range(ws['!ref']||"A1"), o);
	o.write_shift(4, 4);
	write_biff_rec(ba, "Feat", o);
}

function write_CELLXFS_biff8(ba, opts) {
	for(var i = 0; i < 16; ++i) write_biff_rec(ba, "XF", write_XF({numFmtId:0, style:true}, 0, opts));
	opts.cellXfs.forEach(function(c) {
		write_biff_rec(ba, "XF", write_XF(c, 0, opts));
	});
}

function write_ws_biff8_hlinks(ba, ws) {
	for(var R=0; R<ws['!links'].length; ++R) {
		var HL = ws['!links'][R];
		write_biff_rec(ba, "HLink", write_HLink(HL));
		if(HL[1].Tooltip) write_biff_rec(ba, "HLinkTooltip", write_HLinkTooltip(HL));
	}
	delete ws['!links'];
}

function write_ws_biff8_cell(ba, cell, R, C, opts) {
	var os = 16 + get_cell_style(opts.cellXfs, cell, opts);
	if(cell.v != null) switch(cell.t) {
		case 'd': case 'n':
			var v = cell.t == 'd' ? datenum(parseDate(cell.v)) : cell.v;
			/* TODO: emit RK as appropriate */
			write_biff_rec(ba, "Number", write_Number(R, C, v, os, opts));
			return;
		case 'b': case 'e': write_biff_rec(ba, 0x0205, write_BoolErr(R, C, cell.v, os, opts, cell.t)); return;
		/* TODO: codepage, sst */
		case 's': case 'str':
			write_biff_rec(ba, "Label", write_Label(R, C, cell.v, os, opts));
			return;
	}
	write_biff_rec(ba, "Blank", write_XLSCell(R, C, os));
}

/* [MS-XLS] 2.1.7.20.5 */
function write_ws_biff8(idx, opts, wb) {
	var ba = buf_array();
	var s = wb.SheetNames[idx], ws = wb.Sheets[s] || {};
	var _WB = ((wb||{}).Workbook||{});
	var _sheet = ((_WB.Sheets||[])[idx]||{});
	var dense = Array.isArray(ws);
	var b8 = opts.biff == 8;
	var ref, rr = "", cols = [];
	var range = safe_decode_range(ws['!ref'] || "A1");
	var MAX_ROWS = b8 ? 65536 : 16384;
	if(range.e.c > 0xFF || range.e.r >= MAX_ROWS) {
		if(opts.WTF) throw new Error("Range " + (ws['!ref'] || "A1") + " exceeds format limit A1:IV16384");
		range.e.c = Math.min(range.e.c, 0xFF);
		range.e.r = Math.min(range.e.c, MAX_ROWS-1);
	}

	write_biff_rec(ba, 0x0809, write_BOF(wb, 0x10, opts));
	/* ... */
	write_biff_rec(ba, "CalcMode", writeuint16(1));
	write_biff_rec(ba, "CalcCount", writeuint16(100));
	write_biff_rec(ba, "CalcRefMode", writebool(true));
	write_biff_rec(ba, "CalcIter", writebool(false));
	write_biff_rec(ba, "CalcDelta", write_Xnum(0.001));
	write_biff_rec(ba, "CalcSaveRecalc", writebool(true));
	write_biff_rec(ba, "PrintRowCol", writebool(false));
	write_biff_rec(ba, "PrintGrid", writebool(false));
	write_biff_rec(ba, "GridSet", writeuint16(1));
	write_biff_rec(ba, "Guts", write_Guts([0,0]));
	/* ... */
	write_biff_rec(ba, "HCenter", writebool(false));
	write_biff_rec(ba, "VCenter", writebool(false));
	/* ... */
	write_biff_rec(ba, "Dimensions", write_Dimensions(range, opts));
	/* ... */

	if(b8) ws['!links'] = [];
	for(var R = range.s.r; R <= range.e.r; ++R) {
		rr = encode_row(R);
		for(var C = range.s.c; C <= range.e.c; ++C) {
			if(R === range.s.r) cols[C] = encode_col(C);
			ref = cols[C] + rr;
			var cell = dense ? (ws[R]||[])[C] : ws[ref];
			if(!cell) continue;
			/* write cell */
			write_ws_biff8_cell(ba, cell, R, C, opts);
			if(b8 && cell.l) ws['!links'].push([ref, cell.l]);
		}
	}
	var cname = _sheet.CodeName || _sheet.name || s;
	/* ... */
	if(b8 && _WB.Views) write_biff_rec(ba, "Window2", write_Window2(_WB.Views[0]));
	/* ... */
	if(b8 && (ws['!merges']||[]).length) write_biff_rec(ba, "MergeCells", write_MergeCells(ws['!merges']));
	/* ... */
	if(b8) write_ws_biff8_hlinks(ba, ws);
	/* ... */
	write_biff_rec(ba, "CodeName", write_XLUnicodeString(cname, opts));
	/* ... */
	if(b8) write_FEAT(ba, ws);
	/* ... */
	write_biff_rec(ba, "EOF");
	return ba.end();
}

/* [MS-XLS] 2.1.7.20.3 */
function write_biff8_global(wb, bufs, opts) {
	var A = buf_array();
	var _WB = ((wb||{}).Workbook||{});
	var _sheets = (_WB.Sheets||[]);
	var _wb = _WB.WBProps||{};
	var b8 = opts.biff == 8, b5 = opts.biff == 5;
	write_biff_rec(A, 0x0809, write_BOF(wb, 0x05, opts));
	if(opts.bookType == "xla") write_biff_rec(A, "Addin");
	write_biff_rec(A, "InterfaceHdr", b8 ? writeuint16(0x04b0) : null);
	write_biff_rec(A, "Mms", writezeroes(2));
	if(b5) write_biff_rec(A, "ToolbarHdr");
	if(b5) write_biff_rec(A, "ToolbarEnd");
	write_biff_rec(A, "InterfaceEnd");
	write_biff_rec(A, "WriteAccess", write_WriteAccess("SheetJS", opts));
	write_biff_rec(A, "CodePage", writeuint16(b8 ? 0x04b0 : 0x04E4));
	if(b8) write_biff_rec(A, "DSF", writeuint16(0));
	if(b8) write_biff_rec(A, "Excel9File");
	write_biff_rec(A, "RRTabId", write_RRTabId(wb.SheetNames.length));
	if(b8 && wb.vbaraw) {
		write_biff_rec(A, "ObProj");
		var cname = _wb.CodeName || "ThisWorkbook";
		write_biff_rec(A, "CodeName", write_XLUnicodeString(cname, opts));
	}
	write_biff_rec(A, "BuiltInFnGroupCount", writeuint16(0x11));
	write_biff_rec(A, "WinProtect", writebool(false));
	write_biff_rec(A, "Protect", writebool(false));
	write_biff_rec(A, "Password", writeuint16(0));
	if(b8) write_biff_rec(A, "Prot4Rev", writebool(false));
	if(b8) write_biff_rec(A, "Prot4RevPass", writeuint16(0));
	write_biff_rec(A, "Window1", write_Window1(opts));
	write_biff_rec(A, "Backup", writebool(false));
	write_biff_rec(A, "HideObj", writeuint16(0));
	write_biff_rec(A, "Date1904", writebool(safe1904(wb)=="true"));
	write_biff_rec(A, "CalcPrecision", writebool(true));
	if(b8) write_biff_rec(A, "RefreshAll", writebool(false));
	write_biff_rec(A, "BookBool", writeuint16(0));
	/* ... */
	write_FONTS_biff8(A, wb, opts);
	write_FMTS_biff8(A, wb.SSF, opts);
	write_CELLXFS_biff8(A, opts);
	/* ... */
	if(b8) write_biff_rec(A, "UsesELFs", writebool(false));
	var a = A.end();

	var C = buf_array();
	if(b8) write_biff_rec(C, "Country", write_Country());
	/* BIFF8: [SST *Continue] ExtSST */
	write_biff_rec(C, "EOF");
	var c = C.end();

	var B = buf_array();
	var blen = 0, j = 0;
	for(j = 0; j < wb.SheetNames.length; ++j) blen += (b8 ? 12 : 11) + (b8 ? 2 : 1) * wb.SheetNames[j].length;
	var start = a.length + blen + c.length;
	for(j = 0; j < wb.SheetNames.length; ++j) {
		var _sheet = _sheets[j] || ({});
		write_biff_rec(B, "BoundSheet8", write_BoundSheet8({pos:start, hs:_sheet.Hidden||0, dt:0, name:wb.SheetNames[j]}, opts));
		start += bufs[j].length;
	}
	/* 1*BoundSheet8 */
	var b = B.end();
	if(blen != b.length) throw new Error("BS8 " + blen + " != " + b.length);

	var out = [];
	if(a.length) out.push(a);
	if(b.length) out.push(b);
	if(c.length) out.push(c);
	return __toBuffer([out]);
}

/* [MS-XLS] 2.1.7.20 Workbook Stream */
function write_biff8_buf(wb, opts) {
	var o = opts || {};
	var bufs = [];

	if(wb && !wb.SSF) {
		wb.SSF = SSF.get_table();
	}
	if(wb && wb.SSF) {
		make_ssf(SSF); SSF.load_table(wb.SSF);
		// $FlowIgnore
		o.revssf = evert_num(wb.SSF); o.revssf[wb.SSF[65535]] = 0;
		o.ssf = wb.SSF;
	}
	o.cellXfs = [];
	o.Strings = []; o.Strings.Count = 0; o.Strings.Unique = 0;
	get_cell_style(o.cellXfs, {}, {revssf:{"General":0}});

	for(var i = 0; i < wb.SheetNames.length; ++i) bufs[bufs.length] = write_ws_biff8(i, o, wb);
	bufs.unshift(write_biff8_global(wb, bufs, o));
	return __toBuffer([bufs]);
}

function write_biff_buf(wb, opts) {
	var o = opts || {};
	switch(o.biff || 2) {
		case 8: case 5: return write_biff8_buf(wb, opts);
		case 4: case 3: case 2: return write_biff2_buf(wb, opts);
	}
	throw new Error("invalid type " + o.bookType + " for BIFF");
}
/* note: browser DOM element cannot see mso- style attrs, must parse */
var HTML_ = (function() {
	function html_to_sheet(str, _opts) {
		var opts = _opts || {};
		if(DENSE != null && opts.dense == null) opts.dense = DENSE;
		var ws = opts.dense ? ([]) : ({});
		var mtch = str.match(/<table/i);
		if(!mtch) throw new Error("Invalid HTML: could not find <table>");
		var mtch2 = str.match(/<\/table/i);
		var i = mtch.index, j = mtch2 && mtch2.index || str.length;
		var rows = split_regex(str.slice(i, j), /(:?<tr[^>]*>)/i, "<tr>");
		var R = -1, C = 0, RS = 0, CS = 0;
		var range = {s:{r:10000000, c:10000000},e:{r:0,c:0}};
		var merges = [];
		for(i = 0; i < rows.length; ++i) {
			var row = rows[i].trim();
			var hd = row.slice(0,3).toLowerCase();
			if(hd == "<tr") { ++R; if(opts.sheetRows && opts.sheetRows <= R) { --R; break; } C = 0; continue; }
			if(hd != "<td" && hd != "<th") continue;
			var cells = row.split(/<\/t[dh]>/i);
			for(j = 0; j < cells.length; ++j) {
				var cell = cells[j].trim();
				if(!cell.match(/<t[dh]/i)) continue;
				var m = cell, cc = 0;
				/* TODO: parse styles etc */
				while(m.charAt(0) == "<" && (cc = m.indexOf(">")) > -1) m = m.slice(cc+1);
				var tag = parsexmltag(cell.slice(0, cell.indexOf(">")));
				CS = tag.colspan ? +tag.colspan : 1;
				if((RS = +tag.rowspan)>1 || CS>1) merges.push({s:{r:R,c:C},e:{r:R + (RS||1) - 1, c:C + CS - 1}});
				var _t = tag.t || "";
				/* TODO: generate stub cells */
				if(!m.length) { C += CS; continue; }
				m = htmldecode(m);
				if(range.s.r > R) range.s.r = R; if(range.e.r < R) range.e.r = R;
				if(range.s.c > C) range.s.c = C; if(range.e.c < C) range.e.c = C;
				if(!m.length) continue;
				var o = {t:'s', v:m};
				if(opts.raw || !m.trim().length || _t == 's'){}
				else if(m === 'TRUE') o = {t:'b', v:true};
				else if(m === 'FALSE') o = {t:'b', v:false};
				else if(!isNaN(fuzzynum(m))) o = {t:'n', v:fuzzynum(m)};
				else if(!isNaN(fuzzydate(m).getDate())) {
					o = ({t:'d', v:parseDate(m)});
					if(!opts.cellDates) o = ({t:'n', v:datenum(o.v)});
					o.z = opts.dateNF || SSF._table[14];
				}
				if(opts.dense) { if(!ws[R]) ws[R] = []; ws[R][C] = o; }
				else ws[encode_cell({r:R, c:C})] = o;
				C += CS;
			}
		}
		ws['!ref'] = encode_range(range);
		return ws;
	}
	function html_to_book(str, opts) {
		return sheet_to_workbook(html_to_sheet(str, opts), opts);
	}
	function make_html_row(ws, r, R, o) {
		var M = (ws['!merges'] ||[]);
		var oo = [];
		var nullcell = "<td>" + (o.editable ? '<span contenteditable="true"></span>' : "" ) + "</td>";
		for(var C = r.s.c; C <= r.e.c; ++C) {
			var RS = 0, CS = 0;
			for(var j = 0; j < M.length; ++j) {
				if(M[j].s.r > R || M[j].s.c > C) continue;
				if(M[j].e.r < R || M[j].e.c < C) continue;
				if(M[j].s.r < R || M[j].s.c < C) { RS = -1; break; }
				RS = M[j].e.r - M[j].s.r + 1; CS = M[j].e.c - M[j].s.c + 1; break;
			}
			if(RS < 0) continue;
			var coord = encode_cell({r:R,c:C});
			var cell = o.dense ? (ws[R]||[])[C] : ws[coord];
			if(!cell || cell.v == null) { oo.push(nullcell); continue; }
			/* TODO: html entities */
			var w = cell.h || escapexml(cell.w || (format_cell(cell), cell.w) || "");
			var sp = {};
			if(RS > 1) sp.rowspan = RS;
			if(CS > 1) sp.colspan = CS;
			sp.t = cell.t;
			if(o.editable) w = '<span contenteditable="true">' + w + '</span>';
			sp.id = "sjs-" + coord;
			oo.push(writextag('td', w, sp));
		}
		var preamble = "<tr>";
		return preamble + oo.join("") + "</tr>";
	}
	function make_html_preamble(ws, R, o) {
		var out = [];
		return out.join("") + '<table' + (o && o.id ? ' id="' + o.id + '"' : "") + '>';
	}
	var _BEGIN = '<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>';
	var _END = '</body></html>';
	function sheet_to_html(ws, opts/*, wb:?Workbook*/) {
		var o = opts || {};
		var header = o.header != null ? o.header : _BEGIN;
		var footer = o.footer != null ? o.footer : _END;
		var out = [header];
		var r = decode_range(ws['!ref']);
		o.dense = Array.isArray(ws);
		out.push(make_html_preamble(ws, r, o));
		for(var R = r.s.r; R <= r.e.r; ++R) out.push(make_html_row(ws, r, R, o));
		out.push("</table>" + footer);
		return out.join("");
	}

	return {
		to_workbook: html_to_book,
		to_sheet: html_to_sheet,
		_row: make_html_row,
		BEGIN: _BEGIN,
		END: _END,
		_preamble: make_html_preamble,
		from_sheet: sheet_to_html
	};
})();

function parse_dom_table(table, _opts) {
	var opts = _opts || {};
	if(DENSE != null) opts.dense = DENSE;
	var ws = opts.dense ? ([]) : ({});
	var rows = table.getElementsByTagName('tr');
	var sheetRows = opts.sheetRows || 10000000;
	var range = {s:{r:0,c:0},e:{r:0,c:0}};
	var merges = [], midx = 0;
	var rowinfo = [];
	var _R = 0, R = 0, _C, C, RS, CS;
	for(; _R < rows.length && R < sheetRows; ++_R) {
		var row = rows[_R];
		if (is_dom_element_hidden(row)) {
			if (opts.display) continue;
			rowinfo[R] = {hidden: true};
		}
		var elts = (row.children);
		for(_C = C = 0; _C < elts.length; ++_C) {
			var elt = elts[_C];
			if (opts.display && is_dom_element_hidden(elt)) continue;
			var v = htmldecode(elt.innerHTML);
			for(midx = 0; midx < merges.length; ++midx) {
				var m = merges[midx];
				if(m.s.c == C && m.s.r <= R && R <= m.e.r) { C = m.e.c+1; midx = -1; }
			}
			/* TODO: figure out how to extract nonstandard mso- style */
			CS = +elt.getAttribute("colspan") || 1;
			if((RS = +elt.getAttribute("rowspan"))>0 || CS>1) merges.push({s:{r:R,c:C},e:{r:R + (RS||1) - 1, c:C + CS - 1}});
			var o = {t:'s', v:v};
			var _t = elt.getAttribute("t") || "";
			if(v != null) {
				if(v.length == 0) o.t = _t || 'z';
				else if(opts.raw || v.trim().length == 0 || _t == "s"){}
				else if(v === 'TRUE') o = {t:'b', v:true};
				else if(v === 'FALSE') o = {t:'b', v:false};
				else if(!isNaN(fuzzynum(v))) o = {t:'n', v:fuzzynum(v)};
				else if(!isNaN(fuzzydate(v).getDate())) {
					o = ({t:'d', v:parseDate(v)});
					if(!opts.cellDates) o = ({t:'n', v:datenum(o.v)});
					o.z = opts.dateNF || SSF._table[14];
				}
			}
			if(opts.dense) { if(!ws[R]) ws[R] = []; ws[R][C] = o; }
			else ws[encode_cell({c:C, r:R})] = o;
			if(range.e.c < C) range.e.c = C;
			C += CS;
		}
		++R;
	}
	if(merges.length) ws['!merges'] = merges;
	if(rowinfo.length) ws['!rows'] = rowinfo;
	range.e.r = R - 1;
	ws['!ref'] = encode_range(range);
	if(R >= sheetRows) ws['!fullref'] = encode_range((range.e.r = rows.length-_R+R-1,range)); // We can count the real number of rows to parse but we don't to improve the performance
	return ws;
}

function table_to_book(table, opts) {
	return sheet_to_workbook(parse_dom_table(table, opts), opts);
}

function is_dom_element_hidden(element) {
	var display = '';
	var get_computed_style = get_get_computed_style_function(element);
	if(get_computed_style) display = get_computed_style(element).getPropertyValue('display');
	if(!display) display = element.style.display; // Fallback for cases when getComputedStyle is not available (e.g. an old browser or some Node.js environments) or doesn't work (e.g. if the element is not inserted to a document)
	return display === 'none';
}

/* global getComputedStyle */
function get_get_computed_style_function(element) {
	// The proper getComputedStyle implementation is the one defined in the element window
	if(element.ownerDocument.defaultView && typeof element.ownerDocument.defaultView.getComputedStyle === 'function') return element.ownerDocument.defaultView.getComputedStyle;
	// If it is not available, try to get one from the global namespace
	if(typeof getComputedStyle === 'function') return getComputedStyle;
	return null;
}
/* OpenDocument */
var parse_content_xml = (function() {

	/* 6.1.2 White Space Characters */
	var parse_text_p = function(text) {
		return unescapexml(text
			.replace(/[\t\r\n]/g, " ").trim().replace(/ +/g, " ")
			.replace(/<text:s\/>/g," ")
			.replace(/<text:s text:c="(\d+)"\/>/g, function($$,$1) { return Array(parseInt($1,10)+1).join(" "); })
			.replace(/<text:tab[^>]*\/>/g,"\t")
			.replace(/<text:line-break\/>/g,"\n")
			.replace(/<[^>]*>/g,"")
		);
	};

	var number_formats = {
		/* ods name: [short ssf fmt, long ssf fmt] */
		day:           ["d",   "dd"],
		month:         ["m",   "mm"],
		year:          ["y",   "yy"],
		hours:         ["h",   "hh"],
		minutes:       ["m",   "mm"],
		seconds:       ["s",   "ss"],
		"am-pm":       ["A/P", "AM/PM"],
		"day-of-week": ["ddd", "dddd"],
		era:           ["e",   "ee"],
		/* there is no native representation of LO "Q" format */
		quarter:       ["\\Qm", "m\\\"th quarter\""]
	};

	return function pcx(d, _opts) {
		var opts = _opts || {};
		if(DENSE != null && opts.dense == null) opts.dense = DENSE;
		var str = xlml_normalize(d);
		var state = [], tmp;
		var tag;
		var NFtag = {name:""}, NF = "", pidx = 0;
		var sheetag;
		var rowtag;
		var Sheets = {}, SheetNames = [];
		var ws = opts.dense ? ([]) : ({});
		var Rn, q;
		var ctag = ({value:""});
		var textp = "", textpidx = 0, textptag;
		var R = -1, C = -1, range = {s: {r:1000000,c:10000000}, e: {r:0, c:0}};
		var row_ol = 0;
		var number_format_map = {};
		var merges = [], mrange = {}, mR = 0, mC = 0;
		var rowinfo = [], rowpeat = 1, colpeat = 1;
		var arrayf = [];
		var WB = {Names:[]};
		var atag = ({});
		var _Ref = ["", ""];
		var comments = [], comment = ({});
		var creator = "", creatoridx = 0;
		var isstub = false, intable = false;
		var i = 0;
		xlmlregex.lastIndex = 0;
		str = str.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");
		while((Rn = xlmlregex.exec(str))) switch((Rn[3]=Rn[3].replace(/_.*$/,""))) {

			case 'table': case 'å·¥ä½è¡¨': // 9.1.2 <table:table>
				if(Rn[1]==='/') {
					if(range.e.c >= range.s.c && range.e.r >= range.s.r) ws['!ref'] = encode_range(range);
					if(opts.sheetRows > 0 && opts.sheetRows <= range.e.r) {
						ws['!fullref'] = ws['!ref'];
						range.e.r = opts.sheetRows - 1;
						ws['!ref'] = encode_range(range);
					}
					if(merges.length) ws['!merges'] = merges;
					if(rowinfo.length) ws["!rows"] = rowinfo;
					sheetag.name = utf8read(sheetag['åç§°'] || sheetag.name);
					if(typeof JSON !== 'undefined') JSON.stringify(sheetag);
					SheetNames.push(sheetag.name);
					Sheets[sheetag.name] = ws;
					intable = false;
				}
				else if(Rn[0].charAt(Rn[0].length-2) !== '/') {
					sheetag = parsexmltag(Rn[0], false);
					R = C = -1;
					range.s.r = range.s.c = 10000000; range.e.r = range.e.c = 0;
					ws = opts.dense ? ([]) : ({}); merges = [];
					rowinfo = [];
					intable = true;
				}
				break;

			case 'table-row-group': // 9.1.9 <table:table-row-group>
				if(Rn[1] === "/") --row_ol; else ++row_ol;
				break;
			case 'table-row': case 'è¡': // 9.1.3 <table:table-row>
				if(Rn[1] === '/') { R+=rowpeat; rowpeat = 1; break; }
				rowtag = parsexmltag(Rn[0], false);
				if(rowtag['è¡å·']) R = rowtag['è¡å·'] - 1; else if(R == -1) R = 0;
				rowpeat = +rowtag['number-rows-repeated'] || 1;
				/* TODO: remove magic */
				if(rowpeat < 10) for(i = 0; i < rowpeat; ++i) if(row_ol > 0) rowinfo[R + i] = {level: row_ol};
				C = -1; break;
			case 'covered-table-cell': // 9.1.5 <table:covered-table-cell>
				++C;
				if(opts.sheetStubs) {
					if(opts.dense) { if(!ws[R]) ws[R] = []; ws[R][C] = {t:'z'}; }
					else ws[encode_cell({r:R,c:C})] = {t:'z'};
				}
				break; /* stub */
			case 'table-cell': case 'æ°æ®':
				if(Rn[0].charAt(Rn[0].length-2) === '/') {
					++C;
					ctag = parsexmltag(Rn[0], false);
					colpeat = parseInt(ctag['number-columns-repeated']||"1", 10);
					q = ({t:'z', v:null});
					if(ctag.formula && opts.cellFormula != false) q.f = ods_to_csf_formula(unescapexml(ctag.formula));
					if((ctag['æ°æ®ç±»å'] || ctag['value-type']) == "string") {
						q.t = "s"; q.v = unescapexml(ctag['string-value'] || "");
						if(opts.dense) {
							if(!ws[R]) ws[R] = [];
							ws[R][C] = q;
						} else {
							ws[encode_cell({r:R,c:C})] = q;
						}
					}
					C+= colpeat-1;
				} else if(Rn[1]!=='/') {
					++C;
					colpeat = 1;
					var rptR = rowpeat ? R + rowpeat - 1 : R;
					if(C > range.e.c) range.e.c = C;
					if(C < range.s.c) range.s.c = C;
					if(R < range.s.r) range.s.r = R;
					if(rptR > range.e.r) range.e.r = rptR;
					ctag = parsexmltag(Rn[0], false);
					comments = []; comment = ({});
					q = ({t:ctag['æ°æ®ç±»å'] || ctag['value-type'], v:null});
					if(opts.cellFormula) {
						if(ctag.formula) ctag.formula = unescapexml(ctag.formula);
						if(ctag['number-matrix-columns-spanned'] && ctag['number-matrix-rows-spanned']) {
							mR = parseInt(ctag['number-matrix-rows-spanned'],10) || 0;
							mC = parseInt(ctag['number-matrix-columns-spanned'],10) || 0;
							mrange = {s: {r:R,c:C}, e:{r:R + mR-1,c:C + mC-1}};
							q.F = encode_range(mrange);
							arrayf.push([mrange, q.F]);
						}
						if(ctag.formula) q.f = ods_to_csf_formula(ctag.formula);
						else for(i = 0; i < arrayf.length; ++i)
							if(R >= arrayf[i][0].s.r && R <= arrayf[i][0].e.r)
								if(C >= arrayf[i][0].s.c && C <= arrayf[i][0].e.c)
									q.F = arrayf[i][1];
					}
					if(ctag['number-columns-spanned'] || ctag['number-rows-spanned']) {
						mR = parseInt(ctag['number-rows-spanned'],10) || 0;
						mC = parseInt(ctag['number-columns-spanned'],10) || 0;
						mrange = {s: {r:R,c:C}, e:{r:R + mR-1,c:C + mC-1}};
						merges.push(mrange);
					}

					/* 19.675.2 table:number-columns-repeated */
					if(ctag['number-columns-repeated']) colpeat = parseInt(ctag['number-columns-repeated'], 10);

					/* 19.385 office:value-type */
					switch(q.t) {
						case 'boolean': q.t = 'b'; q.v = parsexmlbool(ctag['boolean-value']); break;
						case 'float': q.t = 'n'; q.v = parseFloat(ctag.value); break;
						case 'percentage': q.t = 'n'; q.v = parseFloat(ctag.value); break;
						case 'currency': q.t = 'n'; q.v = parseFloat(ctag.value); break;
						case 'date': q.t = 'd'; q.v = parseDate(ctag['date-value']);
							if(!opts.cellDates) { q.t = 'n'; q.v = datenum(q.v); }
							q.z = 'm/d/yy'; break;
						case 'time': q.t = 'n'; q.v = parse_isodur(ctag['time-value'])/86400; break;
						case 'number': q.t = 'n'; q.v = parseFloat(ctag['æ°æ®æ°å¼']); break;
						default:
							if(q.t === 'string' || q.t === 'text' || !q.t) {
								q.t = 's';
								if(ctag['string-value'] != null) textp = unescapexml(ctag['string-value']);
							} else throw new Error('Unsupported value type ' + q.t);
					}
				} else {
					isstub = false;
					if(q.t === 's') {
						q.v = textp || '';
						isstub = textpidx == 0;
					}
					if(atag.Target) q.l = atag;
					if(comments.length > 0) { q.c = comments; comments = []; }
					if(textp && opts.cellText !== false) q.w = textp;
					if(!isstub || opts.sheetStubs) {
						if(!(opts.sheetRows && opts.sheetRows <= R)) {
							for(var rpt = 0; rpt < rowpeat; ++rpt) {
								colpeat = parseInt(ctag['number-columns-repeated']||"1", 10);
								if(opts.dense) {
									if(!ws[R + rpt]) ws[R + rpt] = [];
									ws[R + rpt][C] = rpt == 0 ? q : dup(q);
									while(--colpeat > 0) ws[R + rpt][C + colpeat] = dup(q);
								} else {
									ws[encode_cell({r:R + rpt,c:C})] = q;
									while(--colpeat > 0) ws[encode_cell({r:R + rpt,c:C + colpeat})] = dup(q);
								}
								if(range.e.c <= C) range.e.c = C;
							}
						}
					}
					colpeat = parseInt(ctag['number-columns-repeated']||"1", 10);
					C += colpeat-1; colpeat = 0;
					q = {};
					textp = "";
				}
				atag = ({});
				break; // 9.1.4 <table:table-cell>

			/* pure state */
			case 'document': // TODO: <office:document> is the root for FODS
			case 'document-content': case 'çµå­è¡¨æ ¼ææ¡£': // 3.1.3.2 <office:document-content>
			case 'spreadsheet': case 'ä¸»ä½': // 3.7 <office:spreadsheet>
			case 'scripts': // 3.12 <office:scripts>
			case 'styles': // TODO <office:styles>
			case 'font-face-decls': // 3.14 <office:font-face-decls>
				if(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw "Bad state: "+tmp;}
				else if(Rn[0].charAt(Rn[0].length-2) !== '/') state.push([Rn[3], true]);
				break;

			case 'annotation': // 14.1 <office:annotation>
				if(Rn[1]==='/'){
					if((tmp=state.pop())[0]!==Rn[3]) throw "Bad state: "+tmp;
					comment.t = textp;
					comment.a = creator;
					comments.push(comment);
				}
				else if(Rn[0].charAt(Rn[0].length-2) !== '/') {state.push([Rn[3], false]);}
				creator = ""; creatoridx = 0;
				textp = ""; textpidx = 0;
				break;

			case 'creator': // 4.3.2.7 <dc:creator>
				if(Rn[1]==='/') { creator = str.slice(creatoridx,Rn.index); }
				else creatoridx = Rn.index + Rn[0].length;
				break;

			/* ignore state */
			case 'meta': case 'åæ°æ®': // TODO: <office:meta> <uof:åæ°æ®> FODS/UOF
			case 'settings': // TODO: <office:settings>
			case 'config-item-set': // TODO: <office:config-item-set>
			case 'config-item-map-indexed': // TODO: <office:config-item-map-indexed>
			case 'config-item-map-entry': // TODO: <office:config-item-map-entry>
			case 'config-item-map-named': // TODO: <office:config-item-map-entry>
			case 'shapes': // 9.2.8 <table:shapes>
			case 'frame': // 10.4.2 <draw:frame>
			case 'text-box': // 10.4.3 <draw:text-box>
			case 'image': // 10.4.4 <draw:image>
			case 'data-pilot-tables': // 9.6.2 <table:data-pilot-tables>
			case 'list-style': // 16.30 <text:list-style>
			case 'form': // 13.13 <form:form>
			case 'dde-links': // 9.8 <table:dde-links>
			case 'event-listeners': // TODO
			case 'chart': // TODO
				if(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw "Bad state: "+tmp;}
				else if(Rn[0].charAt(Rn[0].length-2) !== '/') state.push([Rn[3], false]);
				textp = ""; textpidx = 0;
				break;

			case 'scientific-number': // TODO: <number:scientific-number>
				break;
			case 'currency-symbol': // TODO: <number:currency-symbol>
				break;
			case 'currency-style': // TODO: <number:currency-style>
				break;
			case 'number-style': // 16.27.2 <number:number-style>
			case 'percentage-style': // 16.27.9 <number:percentage-style>
			case 'date-style': // 16.27.10 <number:date-style>
			case 'time-style': // 16.27.18 <number:time-style>
				if(Rn[1]==='/'){
					number_format_map[NFtag.name] = NF;
					if((tmp=state.pop())[0]!==Rn[3]) throw "Bad state: "+tmp;
				} else if(Rn[0].charAt(Rn[0].length-2) !== '/') {
					NF = "";
					NFtag = parsexmltag(Rn[0], false);
					state.push([Rn[3], true]);
				} break;

			case 'script': break; // 3.13 <office:script>
			case 'libraries': break; // TODO: <ooo:libraries>
			case 'automatic-styles': break; // 3.15.3 <office:automatic-styles>
			case 'master-styles': break; // TODO: <office:master-styles>

			case 'default-style': // TODO: <style:default-style>
			case 'page-layout': break; // TODO: <style:page-layout>
			case 'style': break; // 16.2 <style:style>
			case 'map': break; // 16.3 <style:map>
			case 'font-face': break; // 16.21 <style:font-face>

			case 'paragraph-properties': break; // 17.6 <style:paragraph-properties>
			case 'table-properties': break; // 17.15 <style:table-properties>
			case 'table-column-properties': break; // 17.16 <style:table-column-properties>
			case 'table-row-properties': break; // 17.17 <style:table-row-properties>
			case 'table-cell-properties': break; // 17.18 <style:table-cell-properties>

			case 'number': // 16.27.3 <number:number>
				switch(state[state.length-1][0]) {
					case 'time-style':
					case 'date-style':
						tag = parsexmltag(Rn[0], false);
						NF += number_formats[Rn[3]][tag.style==='long'?1:0]; break;
				} break;

			case 'fraction': break; // TODO 16.27.6 <number:fraction>

			case 'day': // 16.27.11 <number:day>
			case 'month': // 16.27.12 <number:month>
			case 'year': // 16.27.13 <number:year>
			case 'era': // 16.27.14 <number:era>
			case 'day-of-week': // 16.27.15 <number:day-of-week>
			case 'week-of-year': // 16.27.16 <number:week-of-year>
			case 'quarter': // 16.27.17 <number:quarter>
			case 'hours': // 16.27.19 <number:hours>
			case 'minutes': // 16.27.20 <number:minutes>
			case 'seconds': // 16.27.21 <number:seconds>
			case 'am-pm': // 16.27.22 <number:am-pm>
				switch(state[state.length-1][0]) {
					case 'time-style':
					case 'date-style':
						tag = parsexmltag(Rn[0], false);
						NF += number_formats[Rn[3]][tag.style==='long'?1:0]; break;
				} break;

			case 'boolean-style': break; // 16.27.23 <number:boolean-style>
			case 'boolean': break; // 16.27.24 <number:boolean>
			case 'text-style': break; // 16.27.25 <number:text-style>
			case 'text': // 16.27.26 <number:text>
				if(Rn[0].slice(-2) === "/>") break;
				else if(Rn[1]==="/") switch(state[state.length-1][0]) {
					case 'number-style':
					case 'date-style':
					case 'time-style':
						NF += str.slice(pidx, Rn.index);
						break;
				}
				else pidx = Rn.index + Rn[0].length;
				break;

			case 'named-range': // 9.4.12 <table:named-range>
				tag = parsexmltag(Rn[0], false);
				_Ref = ods_to_csf_3D(tag['cell-range-address']);
				var nrange = ({Name:tag.name, Ref:_Ref[0] + '!' + _Ref[1]});
				if(intable) nrange.Sheet = SheetNames.length;
				WB.Names.push(nrange);
				break;

			case 'text-content': break; // 16.27.27 <number:text-content>
			case 'text-properties': break; // 16.27.27 <style:text-properties>
			case 'embedded-text': break; // 16.27.4 <number:embedded-text>

			case 'body': case 'çµå­è¡¨æ ¼': break; // 3.3 16.9.6 19.726.3

			case 'forms': break; // 12.25.2 13.2
			case 'table-column': break; // 9.1.6 <table:table-column>
			case 'table-header-rows': break; // 9.1.7 <table:table-header-rows>
			case 'table-rows': break; // 9.1.12 <table:table-rows>
			/* TODO: outline levels */
			case 'table-column-group': break; // 9.1.10 <table:table-column-group>
			case 'table-header-columns': break; // 9.1.11 <table:table-header-columns>
			case 'table-columns': break; // 9.1.12 <table:table-columns>

			case 'null-date': break; // 9.4.2 <table:null-date> TODO: date1904

			case 'graphic-properties': break; // 17.21 <style:graphic-properties>
			case 'calculation-settings': break; // 9.4.1 <table:calculation-settings>
			case 'named-expressions': break; // 9.4.11 <table:named-expressions>
			case 'label-range': break; // 9.4.9 <table:label-range>
			case 'label-ranges': break; // 9.4.10 <table:label-ranges>
			case 'named-expression': break; // 9.4.13 <table:named-expression>
			case 'sort': break; // 9.4.19 <table:sort>
			case 'sort-by': break; // 9.4.20 <table:sort-by>
			case 'sort-groups': break; // 9.4.22 <table:sort-groups>

			case 'tab': break; // 6.1.4 <text:tab>
			case 'line-break': break; // 6.1.5 <text:line-break>
			case 'span': break; // 6.1.7 <text:span>
			case 'p': case 'ææ¬ä¸²': // 5.1.3 <text:p>
				if(Rn[1]==='/' && (!ctag || !ctag['string-value'])) textp = (textp.length > 0 ? textp + "\n" : "") + parse_text_p(str.slice(textpidx,Rn.index), textptag);
				else { textptag = parsexmltag(Rn[0], false); textpidx = Rn.index + Rn[0].length; }
				break; // <text:p>
			case 's': break; // <text:s>

			case 'database-range': // 9.4.15 <table:database-range>
				if(Rn[1]==='/') break;
				try {
					_Ref = ods_to_csf_3D(parsexmltag(Rn[0])['target-range-address']);
					Sheets[_Ref[0]]['!autofilter'] = { ref:_Ref[1] };
				} catch(e) {/* empty */}
				break;

			case 'date': break; // <*:date>

			case 'object': break; // 10.4.6.2 <draw:object>
			case 'title': case 'æ é¢': break; // <*:title> OR <uof:æ é¢>
			case 'desc': break; // <*:desc>
			case 'binary-data': break; // 10.4.5 TODO: b64 blob

			/* 9.2 Advanced Tables */
			case 'table-source': break; // 9.2.6
			case 'scenario': break; // 9.2.6

			case 'iteration': break; // 9.4.3 <table:iteration>
			case 'content-validations': break; // 9.4.4 <table:
			case 'content-validation': break; // 9.4.5 <table:
			case 'help-message': break; // 9.4.6 <table:
			case 'error-message': break; // 9.4.7 <table:
			case 'database-ranges': break; // 9.4.14 <table:database-ranges>
			case 'filter': break; // 9.5.2 <table:filter>
			case 'filter-and': break; // 9.5.3 <table:filter-and>
			case 'filter-or': break; // 9.5.4 <table:filter-or>
			case 'filter-condition': break; // 9.5.5 <table:filter-condition>

			case 'list-level-style-bullet': break; // 16.31 <text:
			case 'list-level-style-number': break; // 16.32 <text:
			case 'list-level-properties': break; // 17.19 <style:

			/* 7.3 Document Fields */
			case 'sender-firstname': // 7.3.6.2
			case 'sender-lastname': // 7.3.6.3
			case 'sender-initials': // 7.3.6.4
			case 'sender-title': // 7.3.6.5
			case 'sender-position': // 7.3.6.6
			case 'sender-email': // 7.3.6.7
			case 'sender-phone-private': // 7.3.6.8
			case 'sender-fax': // 7.3.6.9
			case 'sender-company': // 7.3.6.10
			case 'sender-phone-work': // 7.3.6.11
			case 'sender-street': // 7.3.6.12
			case 'sender-city': // 7.3.6.13
			case 'sender-postal-code': // 7.3.6.14
			case 'sender-country': // 7.3.6.15
			case 'sender-state-or-province': // 7.3.6.16
			case 'author-name': // 7.3.7.1
			case 'author-initials': // 7.3.7.2
			case 'chapter': // 7.3.8
			case 'file-name': // 7.3.9
			case 'template-name': // 7.3.9
			case 'sheet-name': // 7.3.9
				break;

			case 'event-listener':
				break;
			/* TODO: FODS Properties */
			case 'initial-creator':
			case 'creation-date':
			case 'print-date':
			case 'generator':
			case 'document-statistic':
			case 'user-defined':
			case 'editing-duration':
			case 'editing-cycles':
				break;

			/* TODO: FODS Config */
			case 'config-item':
				break;

			/* TODO: style tokens */
			case 'page-number': break; // TODO <text:page-number>
			case 'page-count': break; // TODO <text:page-count>
			case 'time': break; // TODO <text:time>

			/* 9.3 Advanced Table Cells */
			case 'cell-range-source': break; // 9.3.1 <table:
			case 'detective': break; // 9.3.2 <table:
			case 'operation': break; // 9.3.3 <table:
			case 'highlighted-range': break; // 9.3.4 <table:

			/* 9.6 Data Pilot Tables <table: */
			case 'data-pilot-table': // 9.6.3
			case 'source-cell-range': // 9.6.5
			case 'source-service': // 9.6.6
			case 'data-pilot-field': // 9.6.7
			case 'data-pilot-level': // 9.6.8
			case 'data-pilot-subtotals': // 9.6.9
			case 'data-pilot-subtotal': // 9.6.10
			case 'data-pilot-members': // 9.6.11
			case 'data-pilot-member': // 9.6.12
			case 'data-pilot-display-info': // 9.6.13
			case 'data-pilot-sort-info': // 9.6.14
			case 'data-pilot-layout-info': // 9.6.15
			case 'data-pilot-field-reference': // 9.6.16
			case 'data-pilot-groups': // 9.6.17
			case 'data-pilot-group': // 9.6.18
			case 'data-pilot-group-member': // 9.6.19
				break;

			/* 10.3 Drawing Shapes */
			case 'rect': // 10.3.2
				break;

			/* 14.6 DDE Connections */
			case 'dde-connection-decls': // 14.6.2 <text:
			case 'dde-connection-decl': // 14.6.3 <text:
			case 'dde-link': // 14.6.4 <table:
			case 'dde-source': // 14.6.5 <office:
				break;

			case 'properties': break; // 13.7 <form:properties>
			case 'property': break; // 13.8 <form:property>

			case 'a': // 6.1.8 hyperlink
				if(Rn[1]!== '/') {
					atag = parsexmltag(Rn[0], false);
					if(!atag.href) break;
					atag.Target = atag.href; delete atag.href;
					if(atag.Target.charAt(0) == "#" && atag.Target.indexOf(".") > -1) {
						_Ref = ods_to_csf_3D(atag.Target.slice(1));
						atag.Target = "#" + _Ref[0] + "!" + _Ref[1];
					}
				}
				break;

			/* non-standard */
			case 'table-protection': break;
			case 'data-pilot-grand-total': break; // <table:
			case 'office-document-common-attrs': break; // bare
			default: switch(Rn[2]) {
				case 'dc:':       // TODO: properties
				case 'calcext:':  // ignore undocumented extensions
				case 'loext:':    // ignore undocumented extensions
				case 'ooo:':      // ignore undocumented extensions
				case 'chartooo:': // ignore undocumented extensions
				case 'draw:':     // TODO: drawing
				case 'style:':    // TODO: styles
				case 'chart:':    // TODO: charts
				case 'form:':     // TODO: forms
				case 'uof:':      // TODO: uof
				case 'è¡¨:':       // TODO: uof
				case 'å­:':       // TODO: uof
					break;
				default: if(opts.WTF) throw new Error(Rn);
			}
		}
		var out = ({
			Sheets: Sheets,
			SheetNames: SheetNames,
			Workbook: WB
		});
		if(opts.bookSheets) delete out.Sheets;
		return out;
	};
})();

function parse_ods(zip, opts) {
	opts = opts || ({});
	var ods = !!safegetzipfile(zip, 'objectdata');
	if(ods) parse_manifest(getzipdata(zip, 'META-INF/manifest.xml'), opts);
	var content = getzipstr(zip, 'content.xml');
	if(!content) throw new Error("Missing content.xml in " + (ods ? "ODS" : "UOF")+ " file");
	var wb = parse_content_xml(ods ? content : utf8read(content), opts);
	if(safegetzipfile(zip, 'meta.xml')) wb.Props = parse_core_props(getzipdata(zip, 'meta.xml'));
	return wb;
}
function parse_fods(data, opts) {
	return parse_content_xml(data, opts);
}

/* OpenDocument */
var write_styles_ods = (function() {
	var payload = '<office:document-styles ' + wxt_helper({
		'xmlns:office':   "urn:oasis:names:tc:opendocument:xmlns:office:1.0",
		'xmlns:table':    "urn:oasis:names:tc:opendocument:xmlns:table:1.0",
		'xmlns:style':    "urn:oasis:names:tc:opendocument:xmlns:style:1.0",
		'xmlns:text':     "urn:oasis:names:tc:opendocument:xmlns:text:1.0",
		'xmlns:draw':     "urn:oasis:names:tc:opendocument:xmlns:drawing:1.0",
		'xmlns:fo':       "urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0",
		'xmlns:xlink':    "http://www.w3.org/1999/xlink",
		'xmlns:dc':       "http://purl.org/dc/elements/1.1/",
		'xmlns:number':   "urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0",
		'xmlns:svg':      "urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0",
		'xmlns:of':       "urn:oasis:names:tc:opendocument:xmlns:of:1.2",
		'office:version': "1.2"
	}) + '></office:document-styles>';
	return function wso() {
		return XML_HEADER + payload;
	};
})();
var write_content_ods = (function() {
	/* 6.1.2 White Space Characters */
	var write_text_p = function(text) {
		return escapexml(text)
			.replace(/  +/g, function($$){return '<text:s text:c="'+$$.length+'"/>';})
			.replace(/\t/g, "<text:tab/>")
			.replace(/\n/g, "<text:line-break/>")
			.replace(/^ /, "<text:s/>").replace(/ $/, "<text:s/>");
	};

	var null_cell_xml = '          <table:table-cell />\n';
	var covered_cell_xml = '          <table:covered-table-cell/>\n';
	var write_ws = function(ws, wb, i) {
		/* Section 9 Tables */
		var o = [];
		o.push('      <table:table table:name="' + escapexml(wb.SheetNames[i]) + '">\n');
		var R=0,C=0, range = decode_range(ws['!ref']);
		var marr = ws['!merges'] || [], mi = 0;
		var dense = Array.isArray(ws);
		for(R = 0; R < range.s.r; ++R) o.push('        <table:table-row></table:table-row>\n');
		for(; R <= range.e.r; ++R) {
			o.push('        <table:table-row>\n');
			for(C=0; C < range.s.c; ++C) o.push(null_cell_xml);
			for(; C <= range.e.c; ++C) {
				var skip = false, ct = {}, textp = "";
				for(mi = 0; mi != marr.length; ++mi) {
					if(marr[mi].s.c > C) continue;
					if(marr[mi].s.r > R) continue;
					if(marr[mi].e.c < C) continue;
					if(marr[mi].e.r < R) continue;
					if(marr[mi].s.c != C || marr[mi].s.r != R) skip = true;
					ct['table:number-columns-spanned'] = (marr[mi].e.c - marr[mi].s.c + 1);
					ct['table:number-rows-spanned'] =    (marr[mi].e.r - marr[mi].s.r + 1);
					break;
				}
				if(skip) { o.push(covered_cell_xml); continue; }
				var ref = encode_cell({r:R, c:C}), cell = dense ? (ws[R]||[])[C]: ws[ref];
				if(cell && cell.f) {
					ct['table:formula'] = escapexml(csf_to_ods_formula(cell.f));
					if(cell.F) {
						if(cell.F.slice(0, ref.length) == ref) {
							var _Fref = decode_range(cell.F);
							ct['table:number-matrix-columns-spanned'] = (_Fref.e.c - _Fref.s.c + 1);
							ct['table:number-matrix-rows-spanned'] =    (_Fref.e.r - _Fref.s.r + 1);
						}
					}
				}
				if(!cell) { o.push(null_cell_xml); continue; }
				switch(cell.t) {
					case 'b':
						textp = (cell.v ? 'TRUE' : 'FALSE');
						ct['office:value-type'] = "boolean";
						ct['office:boolean-value'] = (cell.v ? 'true' : 'false');
						break;
					case 'n':
						textp = (cell.w||String(cell.v||0));
						ct['office:value-type'] = "float";
						ct['office:value'] = (cell.v||0);
						break;
					case 's': case 'str':
						textp = cell.v;
						ct['office:value-type'] = "string";
						break;
					case 'd':
						textp = (cell.w||(parseDate(cell.v).toISOString()));
						ct['office:value-type'] = "date";
						ct['office:date-value'] = (parseDate(cell.v).toISOString());
						ct['table:style-name'] = "ce1";
						break;
					//case 'e':
					default: o.push(null_cell_xml); continue;
				}
				var text_p = write_text_p(textp);
				if(cell.l && cell.l.Target) {
					var _tgt = cell.l.Target; _tgt = _tgt.charAt(0) == "#" ? "#" + csf_to_ods_3D(_tgt.slice(1)) : _tgt;
					text_p = writextag('text:a', text_p, {'xlink:href': _tgt});
				}
				o.push('          ' + writextag('table:table-cell', writextag('text:p', text_p, {}), ct) + '\n');
			}
			o.push('        </table:table-row>\n');
		}
		o.push('      </table:table>\n');
		return o.join("");
	};

	var write_automatic_styles_ods = function(o) {
		o.push(' <office:automatic-styles>\n');
		o.push('  <number:date-style style:name="N37" number:automatic-order="true">\n');
		o.push('   <number:month number:style="long"/>\n');
		o.push('   <number:text>/</number:text>\n');
		o.push('   <number:day number:style="long"/>\n');
		o.push('   <number:text>/</number:text>\n');
		o.push('   <number:year/>\n');
		o.push('  </number:date-style>\n');
		o.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n');
		o.push(' </office:automatic-styles>\n');
	};

	return function wcx(wb, opts) {
		var o = [XML_HEADER];
		/* 3.1.3.2 */
		var attr = wxt_helper({
			'xmlns:office':       "urn:oasis:names:tc:opendocument:xmlns:office:1.0",
			'xmlns:table':        "urn:oasis:names:tc:opendocument:xmlns:table:1.0",
			'xmlns:style':        "urn:oasis:names:tc:opendocument:xmlns:style:1.0",
			'xmlns:text':         "urn:oasis:names:tc:opendocument:xmlns:text:1.0",
			'xmlns:draw':         "urn:oasis:names:tc:opendocument:xmlns:drawing:1.0",
			'xmlns:fo':           "urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0",
			'xmlns:xlink':        "http://www.w3.org/1999/xlink",
			'xmlns:dc':           "http://purl.org/dc/elements/1.1/",
			'xmlns:meta':         "urn:oasis:names:tc:opendocument:xmlns:meta:1.0",
			'xmlns:number':       "urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0",
			'xmlns:presentation': "urn:oasis:names:tc:opendocument:xmlns:presentation:1.0",
			'xmlns:svg':          "urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0",
			'xmlns:chart':        "urn:oasis:names:tc:opendocument:xmlns:chart:1.0",
			'xmlns:dr3d':         "urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0",
			'xmlns:math':         "http://www.w3.org/1998/Math/MathML",
			'xmlns:form':         "urn:oasis:names:tc:opendocument:xmlns:form:1.0",
			'xmlns:script':       "urn:oasis:names:tc:opendocument:xmlns:script:1.0",
			'xmlns:ooo':          "http://openoffice.org/2004/office",
			'xmlns:ooow':         "http://openoffice.org/2004/writer",
			'xmlns:oooc':         "http://openoffice.org/2004/calc",
			'xmlns:dom':          "http://www.w3.org/2001/xml-events",
			'xmlns:xforms':       "http://www.w3.org/2002/xforms",
			'xmlns:xsd':          "http://www.w3.org/2001/XMLSchema",
			'xmlns:xsi':          "http://www.w3.org/2001/XMLSchema-instance",
			'xmlns:sheet':        "urn:oasis:names:tc:opendocument:sh33tjs:1.0",
			'xmlns:rpt':          "http://openoffice.org/2005/report",
			'xmlns:of':           "urn:oasis:names:tc:opendocument:xmlns:of:1.2",
			'xmlns:xhtml':        "http://www.w3.org/1999/xhtml",
			'xmlns:grddl':        "http://www.w3.org/2003/g/data-view#",
			'xmlns:tableooo':     "http://openoffice.org/2009/table",
			'xmlns:drawooo':      "http://openoffice.org/2010/draw",
			'xmlns:calcext':      "urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0",
			'xmlns:loext':        "urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0",
			'xmlns:field':        "urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0",
			'xmlns:formx':        "urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0",
			'xmlns:css3t':        "http://www.w3.org/TR/css3-text/",
			'office:version':     "1.2"
		});

		var fods = wxt_helper({
			'xmlns:config':    "urn:oasis:names:tc:opendocument:xmlns:config:1.0",
			'office:mimetype': "application/vnd.oasis.opendocument.spreadsheet"
		});

		if(opts.bookType == "fods") o.push('<office:document' + attr + fods + '>\n');
		else o.push('<office:document-content' + attr  + '>\n');
		write_automatic_styles_ods(o);
		o.push('  <office:body>\n');
		o.push('    <office:spreadsheet>\n');
		for(var i = 0; i != wb.SheetNames.length; ++i) o.push(write_ws(wb.Sheets[wb.SheetNames[i]], wb, i, opts));
		o.push('    </office:spreadsheet>\n');
		o.push('  </office:body>\n');
		if(opts.bookType == "fods") o.push('</office:document>');
		else o.push('</office:document-content>');
		return o.join("");
	};
})();

function write_ods(wb, opts) {
	if(opts.bookType == "fods") return write_content_ods(wb, opts);

var zip = new jszip();
	var f = "";

	var manifest = [];
	var rdf = [];

	/* Part 3 Section 3.3 MIME Media Type */
	f = "mimetype";
	zip.file(f, "application/vnd.oasis.opendocument.spreadsheet");

	/* Part 1 Section 2.2 Documents */
	f = "content.xml";
	zip.file(f, write_content_ods(wb, opts));
	manifest.push([f, "text/xml"]);
	rdf.push([f, "ContentFile"]);

	/* TODO: these are hard-coded styles to satiate excel */
	f = "styles.xml";
	zip.file(f, write_styles_ods(wb, opts));
	manifest.push([f, "text/xml"]);
	rdf.push([f, "StylesFile"]);

	/* TODO: this is hard-coded to satiate excel */
	f = "meta.xml";
	zip.file(f, write_meta_ods());
	manifest.push([f, "text/xml"]);
	rdf.push([f, "MetadataFile"]);

	/* Part 3 Section 6 Metadata Manifest File */
	f = "manifest.rdf";
	zip.file(f, write_rdf(rdf/*, opts*/));
	manifest.push([f, "application/rdf+xml"]);

	/* Part 3 Section 4 Manifest File */
	f = "META-INF/manifest.xml";
	zip.file(f, write_manifest(manifest/*, opts*/));

	return zip;
}

function write_sheet_index(wb, sheet) {
	if(!sheet) return 0;
	var idx = wb.SheetNames.indexOf(sheet);
	if(idx == -1) throw new Error("Sheet not found: " + sheet);
	return idx;
}

function write_obj_str(factory) {
	return function write_str(wb, o) {
		var idx = write_sheet_index(wb, o.sheet);
		return factory.from_sheet(wb.Sheets[wb.SheetNames[idx]], o, wb);
	};
}

var write_htm_str = write_obj_str(HTML_);
var write_csv_str = write_obj_str({from_sheet:sheet_to_csv});
var write_slk_str = write_obj_str(SYLK);
var write_dif_str = write_obj_str(DIF);
var write_prn_str = write_obj_str(PRN);
var write_rtf_str = write_obj_str(RTF);
var write_txt_str = write_obj_str({from_sheet:sheet_to_txt});
var write_dbf_buf = write_obj_str(DBF);
var write_eth_str = write_obj_str(ETH);

function fix_opts_func(defaults) {
	return function fix_opts(opts) {
		for(var i = 0; i != defaults.length; ++i) {
			var d = defaults[i];
			if(opts[d[0]] === undefined) opts[d[0]] = d[1];
			if(d[2] === 'n') opts[d[0]] = Number(opts[d[0]]);
		}
	};
}

var fix_read_opts = fix_opts_func([
	['cellNF', false], /* emit cell number format string as .z */
	['cellHTML', true], /* emit html string as .h */
	['cellFormula', true], /* emit formulae as .f */
	['cellStyles', false], /* emits style/theme as .s */
	['cellText', true], /* emit formatted text as .w */
	['cellDates', false], /* emit date cells with type `d` */

	['sheetStubs', false], /* emit empty cells */
	['sheetRows', 0, 'n'], /* read n rows (0 = read all rows) */

	['bookDeps', false], /* parse calculation chains */
	['bookSheets', false], /* only try to get sheet names (no Sheets) */
	['bookProps', false], /* only try to get properties (no Sheets) */
	['bookFiles', false], /* include raw file structure (keys, files, cfb) */
	['bookVBA', false], /* include vba raw data (vbaraw) */

	['password',''], /* password */
	['WTF', false] /* WTF mode (throws errors) */
]);


var fix_write_opts = fix_opts_func([
	['cellDates', false], /* write date cells with type `d` */

	['bookSST', false], /* Generate Shared String Table */

	['bookType', 'xlsx'], /* Type of workbook (xlsx/m/b) */

	['compression', false], /* Use file compression */

	['WTF', false] /* WTF mode (throws errors) */
]);
function get_sheet_type(n) {
	if(RELS.WS.indexOf(n) > -1) return "sheet";
	if(RELS.CS && n == RELS.CS) return "chart";
	if(RELS.DS && n == RELS.DS) return "dialog";
	if(RELS.MS && n == RELS.MS) return "macro";
	return (n && n.length) ? n : "sheet";
}
function safe_parse_wbrels(wbrels, sheets) {
	if(!wbrels) return 0;
	try {
		wbrels = sheets.map(function pwbr(w) { if(!w.id) w.id = w.strRelID; return [w.name, wbrels['!id'][w.id].Target, get_sheet_type(wbrels['!id'][w.id].Type)]; });
	} catch(e) { return null; }
	return !wbrels || wbrels.length === 0 ? null : wbrels;
}

function safe_parse_sheet(zip, path, relsPath, sheet, idx, sheetRels, sheets, stype, opts, wb, themes, styles) {
	try {
		sheetRels[sheet]=parse_rels(getzipstr(zip, relsPath, true), path);
		var data = getzipdata(zip, path);
		var _ws;
		switch(stype) {
			case 'sheet':  _ws = parse_ws(data, path, idx, opts, sheetRels[sheet], wb, themes, styles); break;
			case 'chart':  _ws = parse_cs(data, path, idx, opts, sheetRels[sheet], wb, themes, styles);
				if(!_ws || !_ws['!chart']) break;
				var dfile = resolve_path(_ws['!chart'].Target, path);
				var drelsp = get_rels_path(dfile);
				var draw = parse_drawing(getzipstr(zip, dfile, true), parse_rels(getzipstr(zip, drelsp, true), dfile));
				var chartp = resolve_path(draw, dfile);
				var crelsp = get_rels_path(chartp);
				_ws = parse_chart(getzipstr(zip, chartp, true), chartp, opts, parse_rels(getzipstr(zip, crelsp, true), chartp), wb, _ws);
				break;
			case 'macro':  _ws = parse_ms(data, path, idx, opts, sheetRels[sheet], wb, themes, styles); break;
			case 'dialog': _ws = parse_ds(data, path, idx, opts, sheetRels[sheet], wb, themes, styles); break;
		}
		sheets[sheet] = _ws;
	} catch(e) { if(opts.WTF) throw e; }
}

function strip_front_slash(x) { return x.charAt(0) == '/' ? x.slice(1) : x; }

function parse_zip(zip, opts) {
	make_ssf(SSF);
	opts = opts || {};
	fix_read_opts(opts);

	/* OpenDocument Part 3 Section 2.2.1 OpenDocument Package */
	if(safegetzipfile(zip, 'META-INF/manifest.xml')) return parse_ods(zip, opts);
	/* UOC */
	if(safegetzipfile(zip, 'objectdata.xml')) return parse_ods(zip, opts);
	/* Numbers */
	if(safegetzipfile(zip, 'Index/Document.iwa')) throw new Error('Unsupported NUMBERS file');

	var entries = zipentries(zip);
	var dir = parse_ct((getzipstr(zip, '[Content_Types].xml')));
	var xlsb = false;
	var sheets, binname;
	if(dir.workbooks.length === 0) {
		binname = "xl/workbook.xml";
		if(getzipdata(zip,binname, true)) dir.workbooks.push(binname);
	}
	if(dir.workbooks.length === 0) {
		binname = "xl/workbook.bin";
		if(!getzipdata(zip,binname,true)) throw new Error("Could not find workbook");
		dir.workbooks.push(binname);
		xlsb = true;
	}
	if(dir.workbooks[0].slice(-3) == "bin") xlsb = true;

	var themes = ({});
	var styles = ({});
	if(!opts.bookSheets && !opts.bookProps) {
		strs = [];
		if(dir.sst) try { strs=parse_sst(getzipdata(zip, strip_front_slash(dir.sst)), dir.sst, opts); } catch(e) { if(opts.WTF) throw e; }

		if(opts.cellStyles && dir.themes.length) themes = parse_theme(getzipstr(zip, dir.themes[0].replace(/^\//,''), true)||"",dir.themes[0], opts);

		if(dir.style) styles = parse_sty(getzipdata(zip, strip_front_slash(dir.style)), dir.style, themes, opts);
	}

	/*var externbooks = */dir.links.map(function(link) {
		return parse_xlink(getzipdata(zip, strip_front_slash(link)), link, opts);
	});

	var wb = parse_wb(getzipdata(zip, strip_front_slash(dir.workbooks[0])), dir.workbooks[0], opts);

	var props = {}, propdata = "";

	if(dir.coreprops.length) {
		propdata = getzipdata(zip, strip_front_slash(dir.coreprops[0]), true);
		if(propdata) props = parse_core_props(propdata);
		if(dir.extprops.length !== 0) {
			propdata = getzipdata(zip, strip_front_slash(dir.extprops[0]), true);
			if(propdata) parse_ext_props(propdata, props, opts);
		}
	}

	var custprops = {};
	if(!opts.bookSheets || opts.bookProps) {
		if (dir.custprops.length !== 0) {
			propdata = getzipstr(zip, strip_front_slash(dir.custprops[0]), true);
			if(propdata) custprops = parse_cust_props(propdata, opts);
		}
	}

	var out = ({});
	if(opts.bookSheets || opts.bookProps) {
		if(wb.Sheets) sheets = wb.Sheets.map(function pluck(x){ return x.name; });
		else if(props.Worksheets && props.SheetNames.length > 0) sheets=props.SheetNames;
		if(opts.bookProps) { out.Props = props; out.Custprops = custprops; }
		if(opts.bookSheets && typeof sheets !== 'undefined') out.SheetNames = sheets;
		if(opts.bookSheets ? out.SheetNames : opts.bookProps) return out;
	}
	sheets = {};

	var deps = {};
	if(opts.bookDeps && dir.calcchain) deps=parse_cc(getzipdata(zip, strip_front_slash(dir.calcchain)),dir.calcchain,opts);

	var i=0;
	var sheetRels = ({});
	var path, relsPath;

	{
		var wbsheets = wb.Sheets;
		props.Worksheets = wbsheets.length;
		props.SheetNames = [];
		for(var j = 0; j != wbsheets.length; ++j) {
			props.SheetNames[j] = wbsheets[j].name;
		}
	}

	var wbext = xlsb ? "bin" : "xml";
	var wbrelsi = dir.workbooks[0].lastIndexOf("/");
	var wbrelsfile = (dir.workbooks[0].slice(0, wbrelsi+1) + "_rels/" + dir.workbooks[0].slice(wbrelsi+1) + ".rels").replace(/^\//,"");
	if(!safegetzipfile(zip, wbrelsfile)) wbrelsfile = 'xl/_rels/workbook.' + wbext + '.rels';
	var wbrels = parse_rels(getzipstr(zip, wbrelsfile, true), wbrelsfile);
	if(wbrels) wbrels = safe_parse_wbrels(wbrels, wb.Sheets);

	/* Numbers iOS hack */
	var nmode = (getzipdata(zip,"xl/worksheets/sheet.xml",true))?1:0;
	for(i = 0; i != props.Worksheets; ++i) {
		var stype = "sheet";
		if(wbrels && wbrels[i]) {
			path = 'xl/' + (wbrels[i][1]).replace(/[\/]?xl\//, "");
			if(!safegetzipfile(zip, path)) path = wbrels[i][1];
			if(!safegetzipfile(zip, path)) path = wbrelsfile.replace(/_rels\/.*$/,"") + wbrels[i][1];
			stype = wbrels[i][2];
		} else {
			path = 'xl/worksheets/sheet'+(i+1-nmode)+"." + wbext;
			path = path.replace(/sheet0\./,"sheet.");
		}
		relsPath = path.replace(/^(.*)(\/)([^\/]*)$/, "$1/_rels/$3.rels");
		safe_parse_sheet(zip, path, relsPath, props.SheetNames[i], i, sheetRels, sheets, stype, opts, wb, themes, styles);
	}

	if(dir.comments) parse_comments(zip, dir.comments, sheets, sheetRels, opts);

	out = ({
		Directory: dir,
		Workbook: wb,
		Props: props,
		Custprops: custprops,
		Deps: deps,
		Sheets: sheets,
		SheetNames: props.SheetNames,
		Strings: strs,
		Styles: styles,
		Themes: themes,
		SSF: SSF.get_table()
	});
	if(opts.bookFiles) {
		out.keys = entries;
		out.files = zip.files;
	}
	if(opts.bookVBA) {
		if(dir.vba.length > 0) out.vbaraw = getzipdata(zip,strip_front_slash(dir.vba[0]),true);
		else if(dir.defaults && dir.defaults.bin === CT_VBA) out.vbaraw = getzipdata(zip, 'xl/vbaProject.bin',true);
	}
	return out;
}

/* [MS-OFFCRYPTO] 2.1.1 */
function parse_xlsxcfb(cfb, _opts) {
	var opts = _opts || {};
	var f = 'Workbook', data = CFB.find(cfb, f);
	try {
	f = '/!DataSpaces/Version';
	data = CFB.find(cfb, f); if(!data || !data.content) throw new Error("ECMA-376 Encrypted file missing " + f);
	/*var version = */parse_DataSpaceVersionInfo(data.content);

	/* 2.3.4.1 */
	f = '/!DataSpaces/DataSpaceMap';
	data = CFB.find(cfb, f); if(!data || !data.content) throw new Error("ECMA-376 Encrypted file missing " + f);
	var dsm = parse_DataSpaceMap(data.content);
	if(dsm.length !== 1 || dsm[0].comps.length !== 1 || dsm[0].comps[0].t !== 0 || dsm[0].name !== "StrongEncryptionDataSpace" || dsm[0].comps[0].v !== "EncryptedPackage")
		throw new Error("ECMA-376 Encrypted file bad " + f);

	/* 2.3.4.2 */
	f = '/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace';
	data = CFB.find(cfb, f); if(!data || !data.content) throw new Error("ECMA-376 Encrypted file missing " + f);
	var seds = parse_DataSpaceDefinition(data.content);
	if(seds.length != 1 || seds[0] != "StrongEncryptionTransform")
		throw new Error("ECMA-376 Encrypted file bad " + f);

	/* 2.3.4.3 */
	f = '/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary';
	data = CFB.find(cfb, f); if(!data || !data.content) throw new Error("ECMA-376 Encrypted file missing " + f);
	/*var hdr = */parse_Primary(data.content);
	} catch(e) {}

	f = '/EncryptionInfo';
	data = CFB.find(cfb, f); if(!data || !data.content) throw new Error("ECMA-376 Encrypted file missing " + f);
	var einfo = parse_EncryptionInfo(data.content);

	/* 2.3.4.4 */
	f = '/EncryptedPackage';
	data = CFB.find(cfb, f); if(!data || !data.content) throw new Error("ECMA-376 Encrypted file missing " + f);

/*global decrypt_agile */
if(einfo[0] == 0x04 && typeof decrypt_agile !== 'undefined') return decrypt_agile(einfo[1], data.content, opts.password || "", opts);
/*global decrypt_std76 */
if(einfo[0] == 0x02 && typeof decrypt_std76 !== 'undefined') return decrypt_std76(einfo[1], data.content, opts.password || "", opts);
	throw new Error("File is password-protected");
}

function write_zip(wb, opts) {
	_shapeid = 1024;
	if(opts.bookType == "ods") return write_ods(wb, opts);
	if(wb && !wb.SSF) {
		wb.SSF = SSF.get_table();
	}
	if(wb && wb.SSF) {
		make_ssf(SSF); SSF.load_table(wb.SSF);
		// $FlowIgnore
		opts.revssf = evert_num(wb.SSF); opts.revssf[wb.SSF[65535]] = 0;
		opts.ssf = wb.SSF;
	}
	opts.rels = {}; opts.wbrels = {};
	opts.Strings = []; opts.Strings.Count = 0; opts.Strings.Unique = 0;
	if(browser_has_Map) opts.revStrings = new Map();
	else { opts.revStrings = {}; opts.revStrings.foo = []; delete opts.revStrings.foo; }
	var wbext = opts.bookType == "xlsb" ? "bin" : "xml";
	var vbafmt = VBAFMTS.indexOf(opts.bookType) > -1;
	var ct = new_ct();
	fix_write_opts(opts = opts || {});
var zip = new jszip();
	var f = "", rId = 0;

	opts.cellXfs = [];
	get_cell_style(opts.cellXfs, {}, {revssf:{"General":0}});

	if(!wb.Props) wb.Props = {};

	f = "docProps/core.xml";
	zip.file(f, write_core_props(wb.Props, opts));
	ct.coreprops.push(f);
	add_rels(opts.rels, 2, f, RELS.CORE_PROPS);

f = "docProps/app.xml";
	if(wb.Props && wb.Props.SheetNames){/* empty */}
	else if(!wb.Workbook || !wb.Workbook.Sheets) wb.Props.SheetNames = wb.SheetNames;
	else {
		var _sn = [];
		for(var _i = 0; _i < wb.SheetNames.length; ++_i)
			if((wb.Workbook.Sheets[_i]||{}).Hidden != 2) _sn.push(wb.SheetNames[_i]);
		wb.Props.SheetNames = _sn;
	}
	wb.Props.Worksheets = wb.Props.SheetNames.length;
	zip.file(f, write_ext_props(wb.Props, opts));
	ct.extprops.push(f);
	add_rels(opts.rels, 3, f, RELS.EXT_PROPS);

	if(wb.Custprops !== wb.Props && keys(wb.Custprops||{}).length > 0) {
		f = "docProps/custom.xml";
		zip.file(f, write_cust_props(wb.Custprops, opts));
		ct.custprops.push(f);
		add_rels(opts.rels, 4, f, RELS.CUST_PROPS);
	}

	for(rId=1;rId <= wb.SheetNames.length; ++rId) {
		var wsrels = {'!id':{}};
		var ws = wb.Sheets[wb.SheetNames[rId-1]];
		var _type = (ws || {})["!type"] || "sheet";
		switch(_type) {
		case "chart": /*
			f = "xl/chartsheets/sheet" + rId + "." + wbext;
			zip.file(f, write_cs(rId-1, f, opts, wb, wsrels));
			ct.charts.push(f);
			add_rels(wsrels, -1, "chartsheets/sheet" + rId + "." + wbext, RELS.CS);
			break; */
			/* falls through */
		default:
			f = "xl/worksheets/sheet" + rId + "." + wbext;
			zip.file(f, write_ws(rId-1, f, opts, wb, wsrels));
			ct.sheets.push(f);
			add_rels(opts.wbrels, -1, "worksheets/sheet" + rId + "." + wbext, RELS.WS[0]);
		}

		if(ws) {
			var comments = ws['!comments'];
			if(comments && comments.length > 0) {
				var cf = "xl/comments" + rId + "." + wbext;
				zip.file(cf, write_cmnt(comments, cf, opts));
				ct.comments.push(cf);
				add_rels(wsrels, -1, "../comments" + rId + "." + wbext, RELS.CMNT);
			}
			if(ws['!legacy']) {
				zip.file("xl/drawings/vmlDrawing" + (rId) + ".vml", write_comments_vml(rId, ws['!comments']));
			}
			delete ws['!comments'];
			delete ws['!legacy'];
		}

		if(wsrels['!id'].rId1) zip.file(get_rels_path(f), write_rels(wsrels));
	}

	if(opts.Strings != null && opts.Strings.length > 0) {
		f = "xl/sharedStrings." + wbext;
		zip.file(f, write_sst(opts.Strings, f, opts));
		ct.strs.push(f);
		add_rels(opts.wbrels, -1, "sharedStrings." + wbext, RELS.SST);
	}

	f = "xl/workbook." + wbext;
	zip.file(f, write_wb(wb, f, opts));
	ct.workbooks.push(f);
	add_rels(opts.rels, 1, f, RELS.WB);

	/* TODO: something more intelligent with themes */

	f = "xl/theme/theme1.xml";
	zip.file(f, write_theme(wb.Themes, opts));
	ct.themes.push(f);
	add_rels(opts.wbrels, -1, "theme/theme1.xml", RELS.THEME);

	/* TODO: something more intelligent with styles */

	f = "xl/styles." + wbext;
	zip.file(f, write_sty(wb, f, opts));
	ct.styles.push(f);
	add_rels(opts.wbrels, -1, "styles." + wbext, RELS.STY);

	if(wb.vbaraw && vbafmt) {
		f = "xl/vbaProject.bin";
		zip.file(f, wb.vbaraw);
		ct.vba.push(f);
		add_rels(opts.wbrels, -1, "vbaProject.bin", RELS.VBA);
	}

	zip.file("[Content_Types].xml", write_ct(ct, opts));
	zip.file('_rels/.rels', write_rels(opts.rels));
	zip.file('xl/_rels/workbook.' + wbext + '.rels', write_rels(opts.wbrels));

	delete opts.revssf; delete opts.ssf;
	return zip;
}
function firstbyte(f,o) {
	var x = "";
	switch((o||{}).type || "base64") {
		case 'buffer': return [f[0], f[1], f[2], f[3]];
		case 'base64': x = Base64.decode(f.slice(0,24)); break;
		case 'binary': x = f; break;
		case 'array':  return [f[0], f[1], f[2], f[3]];
		default: throw new Error("Unrecognized type " + (o && o.type || "undefined"));
	}
	return [x.charCodeAt(0), x.charCodeAt(1), x.charCodeAt(2), x.charCodeAt(3)];
}

function read_cfb(cfb, opts) {
	if(CFB.find(cfb, "EncryptedPackage")) return parse_xlsxcfb(cfb, opts);
	return parse_xlscfb(cfb, opts);
}

function read_zip(data, opts) {
var zip, d = data;
	var o = opts||{};
	if(!o.type) o.type = (has_buf && Buffer.isBuffer(data)) ? "buffer" : "base64";
	switch(o.type) {
		case "base64": zip = new jszip(d, { base64:true }); break;
		case "binary": case "array": zip = new jszip(d, { base64:false }); break;
		case "buffer": zip = new jszip(d); break;
		default: throw new Error("Unrecognized type " + o.type);
	}
	return parse_zip(zip, o);
}

function read_plaintext(data, o) {
	var i = 0;
	main: while(i < data.length) switch(data.charCodeAt(i)) {
		case 0x0A: case 0x0D: case 0x20: ++i; break;
		case 0x3C: return parse_xlml(data.slice(i),o);
		default: break main;
	}
	return PRN.to_workbook(data, o);
}

function read_plaintext_raw(data, o) {
	var str = "", bytes = firstbyte(data, o);
	switch(o.type) {
		case 'base64': str = Base64.decode(data); break;
		case 'binary': str = data; break;
		case 'buffer': str = data.toString('binary'); break;
		case 'array': str = cc2str(data); break;
		default: throw new Error("Unrecognized type " + o.type);
	}
	if(bytes[0] == 0xEF && bytes[1] == 0xBB && bytes[2] == 0xBF) str = utf8read(str);
	return read_plaintext(str, o);
}

function read_utf16(data, o) {
	var d = data;
	if(o.type == 'base64') d = Base64.decode(d);
	d = cptable.utils.decode(1200, d.slice(2), 'str');
	o.type = "binary";
	return read_plaintext(d, o);
}

function bstrify(data) {
	return !data.match(/[^\x00-\x7F]/) ? data : utf8write(data);
}

function read_prn(data, d, o, str) {
	if(str) { o.type = "string"; return PRN.to_workbook(data, o); }
	return PRN.to_workbook(d, o);
}

function readSync(data, opts) {
	reset_cp();
	if(typeof ArrayBuffer !== 'undefined' && data instanceof ArrayBuffer) return readSync(new Uint8Array(data), opts);
	var d = data, n = [0,0,0,0], str = false;
	var o = opts||{};
	_ssfopts = {};
	if(o.dateNF) _ssfopts.dateNF = o.dateNF;
	if(!o.type) o.type = (has_buf && Buffer.isBuffer(data)) ? "buffer" : "base64";
	if(o.type == "file") { o.type = has_buf ? "buffer" : "binary"; d = read_binary(data); }
	if(o.type == "string") { str = true; o.type = "binary"; o.codepage = 65001; d = bstrify(data); }
	if(o.type == 'array' && typeof Uint8Array !== 'undefined' && data instanceof Uint8Array && typeof ArrayBuffer !== 'undefined') {
		// $FlowIgnore
		var ab=new ArrayBuffer(3), vu=new Uint8Array(ab); vu.foo="bar";
		// $FlowIgnore
		if(!vu.foo) {o=dup(o); o.type='array'; return readSync(ab2a(d), o);}
	}
	switch((n = firstbyte(d, o))[0]) {
		case 0xD0: return read_cfb(CFB.read(d, o), o);
		case 0x09: return parse_xlscfb(d, o);
		case 0x3C: return parse_xlml(d, o);
		case 0x49: if(n[1] === 0x44) return read_wb_ID(d, o); break;
		case 0x54: if(n[1] === 0x41 && n[2] === 0x42 && n[3] === 0x4C) return DIF.to_workbook(d, o); break;
		case 0x50: return (n[1] === 0x4B && n[2] < 0x09 && n[3] < 0x09) ? read_zip(d, o) : read_prn(data, d, o, str);
		case 0xEF: return n[3] === 0x3C ? parse_xlml(d, o) : read_prn(data, d, o, str);
		case 0xFF: if(n[1] === 0xFE) { return read_utf16(d, o); } break;
		case 0x00: if(n[1] === 0x00 && n[2] >= 0x02 && n[3] === 0x00) return WK_.to_workbook(d, o); break;
		case 0x03: case 0x83: case 0x8B: case 0x8C: return DBF.to_workbook(d, o);
		case 0x7B: if(n[1] === 0x5C && n[2] === 0x72 && n[3] === 0x74) return RTF.to_workbook(d, o); break;
		case 0x0A: case 0x0D: case 0x20: return read_plaintext_raw(d, o);
	}
	if(n[2] <= 12 && n[3] <= 31) return DBF.to_workbook(d, o);
	return read_prn(data, d, o, str);
}

function readFileSync(filename, opts) {
	var o = opts||{}; o.type = 'file';
	return readSync(filename, o);
}
function write_cfb_ctr(cfb, o) {
	switch(o.type) {
		case "base64": case "binary": break;
		case "buffer": case "array": o.type = ""; break;
		case "file": return write_dl(o.file, CFB.write(cfb, {type:has_buf ? 'buffer' : ""}));
		case "string": throw new Error("'string' output type invalid for '" + o.bookType + "' files");
		default: throw new Error("Unrecognized type " + o.type);
	}
	return CFB.write(cfb, o);
}

/*global encrypt_agile */
function write_zip_type(wb, opts) {
	var o = opts||{};
	var z = write_zip(wb, o);
	var oopts = {};
	if(o.compression) oopts.compression = 'DEFLATE';
	if(o.password) oopts.type = has_buf ? "nodebuffer" : "string";
	else switch(o.type) {
		case "base64": oopts.type = "base64"; break;
		case "binary": oopts.type = "string"; break;
		case "string": throw new Error("'string' output type invalid for '" + o.bookType + "' files");
		case "buffer":
		case "file": oopts.type = has_buf ? "nodebuffer" : "string"; break;
		default: throw new Error("Unrecognized type " + o.type);
	}
	var out = z.generate(oopts);
	if(o.password && typeof encrypt_agile !== 'undefined') return write_cfb_ctr(encrypt_agile(out, o.password), o);
	if(o.type === "file") return write_dl(o.file, out);
	return o.type == "string" ? utf8read(out) : out;
}

function write_cfb_type(wb, opts) {
	var o = opts||{};
	var cfb = write_xlscfb(wb, o);
	return write_cfb_ctr(cfb, o);
}

function write_string_type(out, opts, bom) {
	if(!bom) bom = "";
	var o = bom + out;
	switch(opts.type) {
		case "base64": return Base64.encode(utf8write(o));
		case "binary": return utf8write(o);
		case "string": return out;
		case "file": return write_dl(opts.file, o, 'utf8');
		case "buffer": {
			// $FlowIgnore
			if(has_buf) return Buffer_from(o, 'utf8');
			else return write_string_type(o, {type:'binary'}).split("").map(function(c) { return c.charCodeAt(0); });
		}
	}
	throw new Error("Unrecognized type " + opts.type);
}

function write_stxt_type(out, opts) {
	switch(opts.type) {
		case "base64": return Base64.encode(out);
		case "binary": return out;
		case "string": return out; /* override in sheet_to_txt */
		case "file": return write_dl(opts.file, out, 'binary');
		case "buffer": {
			// $FlowIgnore
			if(has_buf) return Buffer_from(out, 'binary');
			else return out.split("").map(function(c) { return c.charCodeAt(0); });
		}
	}
	throw new Error("Unrecognized type " + opts.type);
}

/* TODO: test consistency */
function write_binary_type(out, opts) {
	switch(opts.type) {
		case "string":
		case "base64":
		case "binary":
			var bstr = "";
			// $FlowIgnore
			for(var i = 0; i < out.length; ++i) bstr += String.fromCharCode(out[i]);
			return opts.type == 'base64' ? Base64.encode(bstr) : opts.type == 'string' ? utf8read(bstr) : bstr;
		case "file": return write_dl(opts.file, out);
		case "buffer": return out;
		default: throw new Error("Unrecognized type " + opts.type);
	}
}

function writeSync(wb, opts) {
	check_wb(wb);
	var o = opts||{};
	if(o.type == "array") { o.type = "binary"; var out = (writeSync(wb, o)); o.type = "array"; return s2ab(out); }
	switch(o.bookType || 'xlsb') {
		case 'xml':
		case 'xlml': return write_string_type(write_xlml(wb, o), o);
		case 'slk':
		case 'sylk': return write_string_type(write_slk_str(wb, o), o);
		case 'htm':
		case 'html': return write_string_type(write_htm_str(wb, o), o);
		case 'txt': return write_stxt_type(write_txt_str(wb, o), o);
		case 'csv': return write_string_type(write_csv_str(wb, o), o, "\ufeff");
		case 'dif': return write_string_type(write_dif_str(wb, o), o);
		case 'dbf': return write_binary_type(write_dbf_buf(wb, o), o);
		case 'prn': return write_string_type(write_prn_str(wb, o), o);
		case 'rtf': return write_string_type(write_rtf_str(wb, o), o);
		case 'eth': return write_string_type(write_eth_str(wb, o), o);
		case 'fods': return write_string_type(write_ods(wb, o), o);
		case 'biff2': if(!o.biff) o.biff = 2; /* falls through */
		case 'biff3': if(!o.biff) o.biff = 3; /* falls through */
		case 'biff4': if(!o.biff) o.biff = 4; return write_binary_type(write_biff_buf(wb, o), o);
		case 'biff5': if(!o.biff) o.biff = 5; /* falls through */
		case 'biff8':
		case 'xla':
		case 'xls': if(!o.biff) o.biff = 8; return write_cfb_type(wb, o);
		case 'xlsx':
		case 'xlsm':
		case 'xlam':
		case 'xlsb':
		case 'ods': return write_zip_type(wb, o);
		default: throw new Error ("Unrecognized bookType |" + o.bookType + "|");
	}
}

function resolve_book_type(o) {
	if(o.bookType) return;
	var _BT = {
		"xls": "biff8",
		"htm": "html",
		"slk": "sylk",
		"socialcalc": "eth",
		"Sh33tJS": "WTF"
	};
	var ext = o.file.slice(o.file.lastIndexOf(".")).toLowerCase();
	if(ext.match(/^\.[a-z]+$/)) o.bookType = ext.slice(1);
	o.bookType = _BT[o.bookType] || o.bookType;
}

function writeFileSync(wb, filename, opts) {
	var o = opts||{}; o.type = 'file';
	o.file = filename;
	resolve_book_type(o);
	return writeSync(wb, o);
}

function writeFileAsync(filename, wb, opts, cb) {
	var o = opts||{}; o.type = 'file';
	o.file = filename;
	resolve_book_type(o);
	o.type = 'buffer';
	var _cb = cb; if(!(_cb instanceof Function)) _cb = (opts);
	return _fs.writeFile(filename, writeSync(wb, o), _cb);
}
function make_json_row(sheet, r, R, cols, header, hdr, dense, o) {
	var rr = encode_row(R);
	var defval = o.defval, raw = o.raw;
	var isempty = true;
	var row = (header === 1) ? [] : {};
	if(header !== 1) {
		if(Object.defineProperty) try { Object.defineProperty(row, '__rowNum__', {value:R, enumerable:false}); } catch(e) { row.__rowNum__ = R; }
		else row.__rowNum__ = R;
	}
	if(!dense || sheet[R]) for (var C = r.s.c; C <= r.e.c; ++C) {
		var val = dense ? sheet[R][C] : sheet[cols[C] + rr];
		if(val === undefined || val.t === undefined) {
			if(defval === undefined) continue;
			if(hdr[C] != null) { row[hdr[C]] = defval; }
			continue;
		}
		var v = val.v;
		switch(val.t){
			case 'z': if(v == null) break; continue;
			case 'e': v = void 0; break;
			case 's': case 'd': case 'b': case 'n': break;
			default: throw new Error('unrecognized type ' + val.t);
		}
		if(hdr[C] != null) {
			if(v == null) {
				if(defval !== undefined) row[hdr[C]] = defval;
				else if(raw && v === null) row[hdr[C]] = null;
				else continue;
			} else {
				row[hdr[C]] = raw ? v : format_cell(val,v,o);
			}
			if(v != null) isempty = false;
		}
	}
	return { row: row, isempty: isempty };
}


function sheet_to_json(sheet, opts) {
	if(sheet == null || sheet["!ref"] == null) return [];
	var val = {t:'n',v:0}, header = 0, offset = 1, hdr = [], v=0, vv="";
	var r = {s:{r:0,c:0},e:{r:0,c:0}};
	var o = opts || {};
	var range = o.range != null ? o.range : sheet["!ref"];
	if(o.header === 1) header = 1;
	else if(o.header === "A") header = 2;
	else if(Array.isArray(o.header)) header = 3;
	switch(typeof range) {
		case 'string': r = safe_decode_range(range); break;
		case 'number': r = safe_decode_range(sheet["!ref"]); r.s.r = range; break;
		default: r = range;
	}
	if(header > 0) offset = 0;
	var rr = encode_row(r.s.r);
	var cols = [];
	var out = [];
	var outi = 0, counter = 0;
	var dense = Array.isArray(sheet);
	var R = r.s.r, C = 0, CC = 0;
	if(dense && !sheet[R]) sheet[R] = [];
	for(C = r.s.c; C <= r.e.c; ++C) {
		cols[C] = encode_col(C);
		val = dense ? sheet[R][C] : sheet[cols[C] + rr];
		switch(header) {
			case 1: hdr[C] = C - r.s.c; break;
			case 2: hdr[C] = cols[C]; break;
			case 3: hdr[C] = o.header[C - r.s.c]; break;
			default:
				if(val == null) val = {w: "__EMPTY", t: "s"};
				vv = v = format_cell(val, null, o);
				counter = 0;
				for(CC = 0; CC < hdr.length; ++CC) if(hdr[CC] == vv) vv = v + "_" + (++counter);
				hdr[C] = vv;
		}
	}
	for (R = r.s.r + offset; R <= r.e.r; ++R) {
		var row = make_json_row(sheet, r, R, cols, header, hdr, dense, o);
		if((row.isempty === false) || (header === 1 ? o.blankrows !== false : !!o.blankrows)) out[outi++] = row.row;
	}
	out.length = outi;
	return out;
}

var qreg = /"/g;
function make_csv_row(sheet, r, R, cols, fs, rs, FS, o) {
	var isempty = true;
	var row = [], txt = "", rr = encode_row(R);
	for(var C = r.s.c; C <= r.e.c; ++C) {
		if (!cols[C]) continue;
		var val = o.dense ? (sheet[R]||[])[C]: sheet[cols[C] + rr];
		if(val == null) txt = "";
		else if(val.v != null) {
			isempty = false;
			txt = ''+format_cell(val, null, o);
			for(var i = 0, cc = 0; i !== txt.length; ++i) if((cc = txt.charCodeAt(i)) === fs || cc === rs || cc === 34) {txt = "\"" + txt.replace(qreg, '""') + "\""; break; }
			if(txt == "ID") txt = '"ID"';
		} else if(val.f != null && !val.F) {
			isempty = false;
			txt = '=' + val.f; if(txt.indexOf(",") >= 0) txt = '"' + txt.replace(qreg, '""') + '"';
		} else txt = "";
		/* NOTE: Excel CSV does not support array formulae */
		row.push(txt);
	}
	if(o.blankrows === false && isempty) return null;
	return row.join(FS);
}

function sheet_to_csv(sheet, opts) {
	var out = [];
	var o = opts == null ? {} : opts;
	if(sheet == null || sheet["!ref"] == null) return "";
	var r = safe_decode_range(sheet["!ref"]);
	var FS = o.FS !== undefined ? o.FS : ",", fs = FS.charCodeAt(0);
	var RS = o.RS !== undefined ? o.RS : "\n", rs = RS.charCodeAt(0);
	var endregex = new RegExp((FS=="|" ? "\\|" : FS)+"+$");
	var row = "", cols = [];
	o.dense = Array.isArray(sheet);
	var colinfo = o.skipHidden && sheet["!cols"] || [];
	var rowinfo = o.skipHidden && sheet["!rows"] || [];
	for(var C = r.s.c; C <= r.e.c; ++C) if (!((colinfo[C]||{}).hidden)) cols[C] = encode_col(C);
	for(var R = r.s.r; R <= r.e.r; ++R) {
		if ((rowinfo[R]||{}).hidden) continue;
		row = make_csv_row(sheet, r, R, cols, fs, rs, FS, o);
		if(row == null) { continue; }
		if(o.strip) row = row.replace(endregex,"");
		out.push(row + RS);
	}
	delete o.dense;
	return out.join("");
}

function sheet_to_txt(sheet, opts) {
	if(!opts) opts = {}; opts.FS = "\t"; opts.RS = "\n";
	var s = sheet_to_csv(sheet, opts);
	if(typeof cptable == 'undefined' || opts.type == 'string') return s;
	var o = cptable.utils.encode(1200, s, 'str');
	return String.fromCharCode(255) + String.fromCharCode(254) + o;
}

function sheet_to_formulae(sheet) {
	var y = "", x, val="";
	if(sheet == null || sheet["!ref"] == null) return [];
	var r = safe_decode_range(sheet['!ref']), rr = "", cols = [], C;
	var cmds = [];
	var dense = Array.isArray(sheet);
	for(C = r.s.c; C <= r.e.c; ++C) cols[C] = encode_col(C);
	for(var R = r.s.r; R <= r.e.r; ++R) {
		rr = encode_row(R);
		for(C = r.s.c; C <= r.e.c; ++C) {
			y = cols[C] + rr;
			x = dense ? (sheet[R]||[])[C] : sheet[y];
			val = "";
			if(x === undefined) continue;
			else if(x.F != null) {
				y = x.F;
				if(!x.f) continue;
				val = x.f;
				if(y.indexOf(":") == -1) y = y + ":" + y;
			}
			if(x.f != null) val = x.f;
			else if(x.t == 'z') continue;
			else if(x.t == 'n' && x.v != null) val = "" + x.v;
			else if(x.t == 'b') val = x.v ? "TRUE" : "FALSE";
			else if(x.w !== undefined) val = "'" + x.w;
			else if(x.v === undefined) continue;
			else if(x.t == 's') val = "'" + x.v;
			else val = ""+x.v;
			cmds[cmds.length] = y + "=" + val;
		}
	}
	return cmds;
}

function sheet_add_json(_ws, js, opts) {
	var o = opts || {};
	var offset = +!o.skipHeader;
	var ws = _ws || ({});
	var _R = 0, _C = 0;
	if(ws && o.origin != null) {
		if(typeof o.origin == 'number') _R = o.origin;
		else {
			var _origin = typeof o.origin == "string" ? decode_cell(o.origin) : o.origin;
			_R = _origin.r; _C = _origin.c;
		}
	}
	var cell;
	var range = ({s: {c:0, r:0}, e: {c:_C, r:_R + js.length - 1 + offset}});
	if(ws['!ref']) {
		var _range = safe_decode_range(ws['!ref']);
		range.e.c = Math.max(range.e.c, _range.e.c);
		range.e.r = Math.max(range.e.r, _range.e.r);
		if(_R == -1) { _R = range.e.r + 1; range.e.r = _R + js.length - 1 + offset; }
	}
	var hdr = o.header || [], C = 0;

	js.forEach(function (JS, R) {
		keys(JS).forEach(function(k) {
			if((C=hdr.indexOf(k)) == -1) hdr[C=hdr.length] = k;
			var v = JS[k];
			var t = 'z';
			var z = "";
			if(v && typeof v === 'object' && !(v instanceof Date)){
				ws[encode_cell({c:_C + C,r:_R + R + offset})] = v;
			} else {
				if(typeof v == 'number') t = 'n';
				else if(typeof v == 'boolean') t = 'b';
				else if(typeof v == 'string') t = 's';
				else if(v instanceof Date) {
					t = 'd';
					if(!o.cellDates) { t = 'n'; v = datenum(v); }
					z = o.dateNF || SSF._table[14];
				}
				ws[encode_cell({c:_C + C,r:_R + R + offset})] = cell = ({t:t, v:v});
				if(z) cell.z = z;
			}
		});
	});
	range.e.c = Math.max(range.e.c, _C + hdr.length - 1);
	var __R = encode_row(_R);
	if(offset) for(C = 0; C < hdr.length; ++C) ws[encode_col(C + _C) + __R] = {t:'s', v:hdr[C]};
	ws['!ref'] = encode_range(range);
	return ws;
}
function json_to_sheet(js, opts) { return sheet_add_json(null, js, opts); }

var utils = {
	encode_col: encode_col,
	encode_row: encode_row,
	encode_cell: encode_cell,
	encode_range: encode_range,
	decode_col: decode_col,
	decode_row: decode_row,
	split_cell: split_cell,
	decode_cell: decode_cell,
	decode_range: decode_range,
	format_cell: format_cell,
	get_formulae: sheet_to_formulae,
	make_csv: sheet_to_csv,
	make_json: sheet_to_json,
	make_formulae: sheet_to_formulae,
	sheet_add_aoa: sheet_add_aoa,
	sheet_add_json: sheet_add_json,
	aoa_to_sheet: aoa_to_sheet,
	json_to_sheet: json_to_sheet,
	table_to_sheet: parse_dom_table,
	table_to_book: table_to_book,
	sheet_to_csv: sheet_to_csv,
	sheet_to_txt: sheet_to_txt,
	sheet_to_json: sheet_to_json,
	sheet_to_html: HTML_.from_sheet,
	sheet_to_dif: DIF.from_sheet,
	sheet_to_slk: SYLK.from_sheet,
	sheet_to_eth: ETH.from_sheet,
	sheet_to_formulae: sheet_to_formulae,
	sheet_to_row_object_array: sheet_to_json
};

(function(utils) {
utils.consts = utils.consts || {};
function add_consts(R/*Array<any>*/) { R.forEach(function(a){ utils.consts[a[0]] = a[1]; }); }

function get_default(x, y, z) { return x[y] != null ? x[y] : (x[y] = z); }

/* get cell, creating a stub if necessary */
function ws_get_cell_stub(ws, R, C) {
	/* A1 cell address */
	if(typeof R == "string") return ws[R] || (ws[R] = {t:'z'});
	/* cell address object */
	if(typeof R != "number") return ws_get_cell_stub(ws, encode_cell(R));
	/* R and C are 0-based indices */
	return ws_get_cell_stub(ws, encode_cell({r:R,c:C||0}));
}

/* find sheet index for given name / validate index */
function wb_sheet_idx(wb, sh) {
	if(typeof sh == "number") {
		if(sh >= 0 && wb.SheetNames.length > sh) return sh;
		throw new Error("Cannot find sheet # " + sh);
	} else if(typeof sh == "string") {
		var idx = wb.SheetNames.indexOf(sh);
		if(idx > -1) return idx;
		throw new Error("Cannot find sheet name |" + sh + "|");
	} else throw new Error("Cannot find sheet |" + sh + "|");
}

/* simple blank workbook object */
utils.book_new = function() {
	return { SheetNames: [], Sheets: {} };
};

/* add a worksheet to the end of a given workbook */
utils.book_append_sheet = function(wb, ws, name) {
	if(!name) for(var i = 1; i <= 0xFFFF; ++i) if(wb.SheetNames.indexOf(name = "Sheet" + i) == -1) break;
	if(!name) throw new Error("Too many worksheets");
	check_ws_name(name);
	if(wb.SheetNames.indexOf(name) >= 0) throw new Error("Worksheet with name |" + name + "| already exists!");

	wb.SheetNames.push(name);
	wb.Sheets[name] = ws;
};

/* set sheet visibility (visible/hidden/very hidden) */
utils.book_set_sheet_visibility = function(wb, sh, vis) {
	get_default(wb,"Workbook",{});
	get_default(wb.Workbook,"Sheets",[]);

	var idx = wb_sheet_idx(wb, sh);
	// $FlowIgnore
	get_default(wb.Workbook.Sheets,idx, {});

	switch(vis) {
		case 0: case 1: case 2: break;
		default: throw new Error("Bad sheet visibility setting " + vis);
	}
	// $FlowIgnore
	wb.Workbook.Sheets[idx].Hidden = vis;
};
add_consts([
	["SHEET_VISIBLE", 0],
	["SHEET_HIDDEN", 1],
	["SHEET_VERY_HIDDEN", 2]
]);

/* set number format */
utils.cell_set_number_format = function(cell, fmt) {
	cell.z = fmt;
	return cell;
};

/* set cell hyperlink */
utils.cell_set_hyperlink = function(cell, target, tooltip) {
	if(!target) {
		delete cell.l;
	} else {
		cell.l = ({ Target: target });
		if(tooltip) cell.l.Tooltip = tooltip;
	}
	return cell;
};
utils.cell_set_internal_link = function(cell, range, tooltip) { return utils.cell_set_hyperlink(cell, "#" + range, tooltip); };

/* add to cell comments */
utils.cell_add_comment = function(cell, text, author) {
	if(!cell.c) cell.c = [];
	cell.c.push({t:text, a:author||"SheetJS"});
};

/* set array formula and flush related cells */
utils.sheet_set_array_formula = function(ws, range, formula) {
	var rng = typeof range != "string" ? range : safe_decode_range(range);
	var rngstr = typeof range == "string" ? range : encode_range(range);
	for(var R = rng.s.r; R <= rng.e.r; ++R) for(var C = rng.s.c; C <= rng.e.c; ++C) {
		var cell = ws_get_cell_stub(ws, R, C);
		cell.t = 'n';
		cell.F = rngstr;
		delete cell.v;
		if(R == rng.s.r && C == rng.s.c) cell.f = formula;
	}
	return ws;
};

return utils;
})(utils);

if(has_buf && "function" != 'undefined') (function() {
	var Readable = __webpack_require__(14).Readable;

	var write_csv_stream = function(sheet, opts) {
		var stream = Readable();
		var o = opts == null ? {} : opts;
		if(sheet == null || sheet["!ref"] == null) { stream.push(null); return stream; }
		var r = safe_decode_range(sheet["!ref"]);
		var FS = o.FS !== undefined ? o.FS : ",", fs = FS.charCodeAt(0);
		var RS = o.RS !== undefined ? o.RS : "\n", rs = RS.charCodeAt(0);
		var endregex = new RegExp((FS=="|" ? "\\|" : FS)+"+$");
		var row = "", cols = [];
		o.dense = Array.isArray(sheet);
		var colinfo = o.skipHidden && sheet["!cols"] || [];
		var rowinfo = o.skipHidden && sheet["!rows"] || [];
		for(var C = r.s.c; C <= r.e.c; ++C) if (!((colinfo[C]||{}).hidden)) cols[C] = encode_col(C);
		var R = r.s.r;
		var BOM = false;
		stream._read = function() {
			if(!BOM) { BOM = true; return stream.push("\uFEFF"); }
			if(R > r.e.r) return stream.push(null);
			while(R <= r.e.r) {
				++R;
				if ((rowinfo[R-1]||{}).hidden) continue;
				row = make_csv_row(sheet, r, R-1, cols, fs, rs, FS, o);
				if(row != null) {
					if(o.strip) row = row.replace(endregex,"");
					stream.push(row + RS);
					break;
				}
			}
		};
		return stream;
	};

	var write_html_stream = function(ws, opts) {
		var stream = Readable();

		var o = opts || {};
		var header = o.header != null ? o.header : HTML_.BEGIN;
		var footer = o.footer != null ? o.footer : HTML_.END;
		stream.push(header);
		var r = decode_range(ws['!ref']);
		o.dense = Array.isArray(ws);
		stream.push(HTML_._preamble(ws, r, o));
		var R = r.s.r;
		var end = false;
		stream._read = function() {
			if(R > r.e.r) {
				if(!end) { end = true; stream.push("</table>" + footer); }
				return stream.push(null);
			}
			while(R <= r.e.r) {
				stream.push(HTML_._row(ws, r, R, o));
				++R;
				break;
			}
		};
		return stream;
	};

	var write_json_stream = function(sheet, opts) {
		var stream = Readable({objectMode:true});

		if(sheet == null || sheet["!ref"] == null) { stream.push(null); return stream; }
		var val = {t:'n',v:0}, header = 0, offset = 1, hdr = [], v=0, vv="";
		var r = {s:{r:0,c:0},e:{r:0,c:0}};
		var o = opts || {};
		var range = o.range != null ? o.range : sheet["!ref"];
		if(o.header === 1) header = 1;
		else if(o.header === "A") header = 2;
		else if(Array.isArray(o.header)) header = 3;
		switch(typeof range) {
			case 'string': r = safe_decode_range(range); break;
			case 'number': r = safe_decode_range(sheet["!ref"]); r.s.r = range; break;
			default: r = range;
		}
		if(header > 0) offset = 0;
		var rr = encode_row(r.s.r);
		var cols = [];
		var counter = 0;
		var dense = Array.isArray(sheet);
		var R = r.s.r, C = 0, CC = 0;
		if(dense && !sheet[R]) sheet[R] = [];
		for(C = r.s.c; C <= r.e.c; ++C) {
			cols[C] = encode_col(C);
			val = dense ? sheet[R][C] : sheet[cols[C] + rr];
			switch(header) {
				case 1: hdr[C] = C - r.s.c; break;
				case 2: hdr[C] = cols[C]; break;
				case 3: hdr[C] = o.header[C - r.s.c]; break;
				default:
					if(val == null) val = {w: "__EMPTY", t: "s"};
					vv = v = format_cell(val, null, o);
					counter = 0;
					for(CC = 0; CC < hdr.length; ++CC) if(hdr[CC] == vv) vv = v + "_" + (++counter);
					hdr[C] = vv;
			}
		}
		R = r.s.r + offset;
		stream._read = function() {
			if(R > r.e.r) return stream.push(null);
			while(R <= r.e.r) {
				++R;
				//if ((rowinfo[R-1]||{}).hidden) continue;
				var row = make_json_row(sheet, r, R, cols, header, hdr, dense, o);
				if((row.isempty === false) || (header === 1 ? o.blankrows !== false : !!o.blankrows)) {
					stream.push(row.row);
					break;
				}
			}
		};
		return stream;
	};

	XLSX.stream = {
		to_json: write_json_stream,
		to_html: write_html_stream,
		to_csv: write_csv_stream
	};
})();

XLSX.parse_xlscfb = parse_xlscfb;
XLSX.parse_ods = parse_ods;
XLSX.parse_fods = parse_fods;
XLSX.write_ods = write_ods;
XLSX.parse_zip = parse_zip;
XLSX.read = readSync; //xlsread
XLSX.readFile = readFileSync; //readFile
XLSX.readFileSync = readFileSync;
XLSX.write = writeSync;
XLSX.writeFile = writeFileSync;
XLSX.writeFileSync = writeFileSync;
XLSX.writeFileAsync = writeFileAsync;
XLSX.utils = utils;
XLSX.SSF = SSF;
XLSX.CFB = CFB;
}
/*global define */
if(true) make_xlsx_lib(exports);
else {}
/*exported XLS, ODS */
var XLS = XLSX, ODS = XLSX;

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3), __webpack_require__(4).Buffer, __webpack_require__(9)))

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {
  if (true) {
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, module], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else { var mod; }
})(this, function (exports, module) {
  'use strict';

  var defaultOptions = {
    timeout: 5000,
    jsonpCallback: 'callback',
    jsonpCallbackFunction: null
  };

  function generateCallbackFunction() {
    return 'jsonp_' + Date.now() + '_' + Math.ceil(Math.random() * 100000);
  }

  // Known issue: Will throw 'Uncaught ReferenceError: callback_*** is not defined'
  // error if request timeout
  function clearFunction(functionName) {
    // IE8 throws an exception when you try to delete a property on window
    // http://stackoverflow.com/a/1824228/751089
    try {
      delete window[functionName];
    } catch (e) {
      window[functionName] = undefined;
    }
  }

  function removeScript(scriptId) {
    var script = document.getElementById(scriptId);
    document.getElementsByTagName('head')[0].removeChild(script);
  }

  function fetchJsonp(_url) {
    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

    // to avoid param reassign
    var url = _url;
    var timeout = options.timeout || defaultOptions.timeout;
    var jsonpCallback = options.jsonpCallback || defaultOptions.jsonpCallback;

    var timeoutId = undefined;

    return new Promise(function (resolve, reject) {
      var callbackFunction = options.jsonpCallbackFunction || generateCallbackFunction();
      var scriptId = jsonpCallback + '_' + callbackFunction;

      window[callbackFunction] = function (response) {
        resolve({
          ok: true,
          // keep consistent with fetch API
          json: function json() {
            return Promise.resolve(response);
          }
        });

        if (timeoutId) clearTimeout(timeoutId);

        removeScript(scriptId);

        clearFunction(callbackFunction);
      };

      // Check if the user set their own params, and if not add a ? to start a list of params
      url += url.indexOf('?') === -1 ? '?' : '&';

      var jsonpScript = document.createElement('script');
      jsonpScript.setAttribute('src', '' + url + jsonpCallback + '=' + callbackFunction);
      jsonpScript.id = scriptId;
      document.getElementsByTagName('head')[0].appendChild(jsonpScript);

      timeoutId = setTimeout(function () {
        reject(new Error('JSONP request to ' + _url + ' timed out'));

        clearFunction(callbackFunction);
        removeScript(scriptId);
      }, timeout);
    });
  }

  // export as global function
  /*
  let local;
  if (typeof global !== 'undefined') {
    local = global;
  } else if (typeof self !== 'undefined') {
    local = self;
  } else {
    try {
      local = Function('return this')();
    } catch (e) {
      throw new Error('polyfill failed because global object is unavailable in this environment');
    }
  }
  local.fetchJsonp = fetchJsonp;
  */

  module.exports = fetchJsonp;
});

/***/ }),
/* 7 */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(Buffer) {/* cpexcel.js (C) 2013-present SheetJS -- http://sheetjs.com */
/*jshint -W100 */
var cptable = {version:"1.14.0"};
cptable[437] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÃÃ¼Ã©Ã¢Ã¤Ã Ã¥Ã§ÃªÃ«Ã¨Ã¯Ã®Ã¬ÃÃÃÃ¦ÃÃ´Ã¶Ã²Ã»Ã¹Ã¿ÃÃÂ¢Â£Â¥â§ÆÃ¡Ã­Ã³ÃºÃ±ÃÂªÂºÂ¿âÂ¬Â½Â¼Â¡Â«Â»âââââ¤â¡â¢âââ£ââââââââ´â¬âââ¼âââââ©â¦â ââ¬â§â¨â¤â¥âââââ«âªâââââââÎ±ÃÎÏÎ£ÏÂµÏÎ¦ÎÎ©Î´âÏÎµâ©â¡Â±â¥â¤â â¡Ã·âÂ°âÂ·ââ¿Â²â Â ", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[620] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÃÃ¼Ã©Ã¢Ã¤Ã ÄÃ§ÃªÃ«Ã¨Ã¯Ã®ÄÃÄÄÄÅÃ´Ã¶ÄÃ»Ã¹ÅÃÃÂ¢ÅÂ¥ÅÆÅ¹Å»Ã³ÃÅÅÅºÅ¼Â¿âÂ¬Â½Â¼Â¡Â«Â»âââââ¤â¡â¢âââ£ââââââââ´â¬âââ¼âââââ©â¦â ââ¬â§â¨â¤â¥âââââ«âªâââââââÎ±ÃÎÏÎ£ÏÂµÏÎ¦ÎÎ©Î´âÏÎµâ©â¡Â±â¥â¤â â¡Ã·âÂ°âÂ·ââ¿Â²â Â ", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[737] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÎÎÎÎÎÎÎÎÎÎÎÎÎÎÎÎ Î¡Î£Î¤Î¥Î¦Î§Î¨Î©Î±Î²Î³Î´ÎµÎ¶Î·Î¸Î¹ÎºÎ»Î¼Î½Î¾Î¿ÏÏÏÏÏÏÏÏÏâââââ¤â¡â¢âââ£ââââââââ´â¬âââ¼âââââ©â¦â ââ¬â§â¨â¤â¥âââââ«âªâââââââÏÎ¬Î­Î®ÏÎ¯ÏÏÏÏÎÎÎÎÎÎÎÂ±â¥â¤ÎªÎ«Ã·âÂ°âÂ·ââ¿Â²â Â ", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[850] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÃÃ¼Ã©Ã¢Ã¤Ã Ã¥Ã§ÃªÃ«Ã¨Ã¯Ã®Ã¬ÃÃÃÃ¦ÃÃ´Ã¶Ã²Ã»Ã¹Ã¿ÃÃÃ¸Â£ÃÃÆÃ¡Ã­Ã³ÃºÃ±ÃÂªÂºÂ¿Â®Â¬Â½Â¼Â¡Â«Â»âââââ¤ÃÃÃÂ©â£âââÂ¢Â¥âââ´â¬âââ¼Ã£Ãâââ©â¦â ââ¬Â¤Ã°ÃÃÃÃÄ±ÃÃÃââââÂ¦ÃâÃÃÃÃÃµÃÂµÃ¾ÃÃÃÃÃ½ÃÂ¯Â´Â­Â±âÂ¾Â¶Â§Ã·Â¸Â°Â¨Â·Â¹Â³Â²â Â ", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[852] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÃÃ¼Ã©Ã¢Ã¤Å¯ÄÃ§ÅÃ«ÅÅÃ®Å¹ÃÄÃÄ¹ÄºÃ´Ã¶Ä½Ä¾ÅÅÃÃÅ¤Å¥ÅÃÄÃ¡Ã­Ã³ÃºÄÄÅ½Å¾ÄÄÂ¬ÅºÄÅÂ«Â»âââââ¤ÃÃÄÅâ£âââÅ»Å¼âââ´â¬âââ¼ÄÄâââ©â¦â ââ¬Â¤ÄÄÄÃÄÅÃÃÄââââÅ¢Å®âÃÃÃÅÅÅÅ Å¡ÅÃÅÅ°Ã½ÃÅ£Â´Â­ËËËËÂ§Ã·Â¸Â°Â¨ËÅ±ÅÅâ Â ", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[857] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÃÃ¼Ã©Ã¢Ã¤Ã Ã¥Ã§ÃªÃ«Ã¨Ã¯Ã®Ä±ÃÃÃÃ¦ÃÃ´Ã¶Ã²Ã»Ã¹Ä°ÃÃÃ¸Â£ÃÅÅÃ¡Ã­Ã³ÃºÃ±ÃÄÄÂ¿Â®Â¬Â½Â¼Â¡Â«Â»âââââ¤ÃÃÃÂ©â£âââÂ¢Â¥âââ´â¬âââ¼Ã£Ãâââ©â¦â ââ¬Â¤ÂºÂªÃÃÃï¿½ÃÃÃââââÂ¦ÃâÃÃÃÃÃµÃÂµï¿½ÃÃÃÃÃ¬Ã¿Â¯Â´Â­Â±ï¿½Â¾Â¶Â§Ã·Â¸Â°Â¨Â·Â¹Â³Â²â Â ", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[861] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÃÃ¼Ã©Ã¢Ã¤Ã Ã¥Ã§ÃªÃ«Ã¨ÃÃ°ÃÃÃÃÃ¦ÃÃ´Ã¶Ã¾Ã»ÃÃ½ÃÃÃ¸Â£Ãâ§ÆÃ¡Ã­Ã³ÃºÃÃÃÃÂ¿âÂ¬Â½Â¼Â¡Â«Â»âââââ¤â¡â¢âââ£ââââââââ´â¬âââ¼âââââ©â¦â ââ¬â§â¨â¤â¥âââââ«âªâââââââÎ±ÃÎÏÎ£ÏÂµÏÎ¦ÎÎ©Î´âÏÎµâ©â¡Â±â¥â¤â â¡Ã·âÂ°âÂ·ââ¿Â²â Â ", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[865] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÃÃ¼Ã©Ã¢Ã¤Ã Ã¥Ã§ÃªÃ«Ã¨Ã¯Ã®Ã¬ÃÃÃÃ¦ÃÃ´Ã¶Ã²Ã»Ã¹Ã¿ÃÃÃ¸Â£Ãâ§ÆÃ¡Ã­Ã³ÃºÃ±ÃÂªÂºÂ¿âÂ¬Â½Â¼Â¡Â«Â¤âââââ¤â¡â¢âââ£ââââââââ´â¬âââ¼âââââ©â¦â ââ¬â§â¨â¤â¥âââââ«âªâââââââÎ±ÃÎÏÎ£ÏÂµÏÎ¦ÎÎ©Î´âÏÎµâ©â¡Â±â¥â¤â â¡Ã·âÂ°âÂ·ââ¿Â²â Â ", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[866] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐ Ð¡Ð¢Ð£Ð¤Ð¥Ð¦Ð§Ð¨Ð©ÐªÐ«Ð¬Ð­Ð®Ð¯Ð°Ð±Ð²Ð³Ð´ÐµÐ¶Ð·Ð¸Ð¹ÐºÐ»Ð¼Ð½Ð¾Ð¿âââââ¤â¡â¢âââ£ââââââââ´â¬âââ¼âââââ©â¦â ââ¬â§â¨â¤â¥âââââ«âªâââââââÑÑÑÑÑÑÑÑÑÑÑÑÑÑÑÑÐÑÐÑÐÑÐÑÂ°âÂ·ââÂ¤â Â ", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[874] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~â¬ï¿½ï¿½ï¿½ï¿½â¦ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½âââââ¢ââï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Â à¸à¸à¸à¸à¸à¸à¸à¸à¸à¸à¸à¸à¸à¸à¸à¸à¸à¸à¸à¸à¸à¸à¸à¸à¸à¸à¸à¸à¸à¸à¸à¸ à¸¡à¸¢à¸£à¸¤à¸¥à¸¦à¸§à¸¨à¸©à¸ªà¸«à¸¬à¸­à¸®à¸¯à¸°à¸±à¸²à¸³à¸´à¸µà¸¶à¸·à¸¸à¸¹à¸ºï¿½ï¿½ï¿½ï¿½à¸¿à¹à¹à¹à¹à¹à¹à¹à¹à¹à¹à¹à¹à¹à¹à¹à¹à¹à¹à¹à¹à¹à¹à¹à¹à¹à¹à¹à¹ï¿½ï¿½ï¿½ï¿½", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[895] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÄÃ¼Ã©ÄÃ¤ÄÅ¤ÄÄÄÄ¹ÃÄ¾ÇªÃÃÃÅ¾Å½Ã´Ã¶ÃÅ¯ÃÃ½ÃÃÅ Ä½ÃÅÅ¥Ã¡Ã­Ã³ÃºÅÅÅ®ÃÅ¡ÅÅÅÂ¼Â§Â«Â»âââââ¤â¡â¢âââ£ââââââââ´â¬âââ¼âââââ©â¦â ââ¬â§â¨â¤â¥âââââ«âªâââââââÎ±ÃÎÏÎ£ÏÂµÏÎ¦ÎÎ©Î´âÏÎµâ©â¡Â±â¥â¤â â¡Ã·âÂ°âÂ·ââ¿Â²â Â ", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[932] = (function(){ var d = [], e = {}, D = [], j;
D[0] = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï½¡ï½¢ï½£ï½¤ï½¥ï½¦ï½§ï½¨ï½©ï½ªï½«ï½¬ï½­ï½®ï½¯ï½°ï½±ï½²ï½³ï½´ï½µï½¶ï½·ï½¸ï½¹ï½ºï½»ï½¼ï½½ï½¾ï½¿ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¾ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[0].length; ++j) if(D[0][j].charCodeAt(0) !== 0xFFFD) { e[D[0][j]] = 0 + j; d[0 + j] = D[0][j];}
D[129] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ãããï¼ï¼ã»ï¼ï¼ï¼ï¼ããÂ´ï½Â¨ï¼¾ï¿£ï¼¿ã½ã¾ãããä»ãããã¼ââï¼ï¼¼ï½â¥ï½â¦â¥ââââï¼ï¼ããï¼»ï¼½ï½ï½ããããããããããï¼ï¼Â±Ãï¿½Ã·ï¼â ï¼ï¼â¦â§ââ´ââÂ°â²â³âï¿¥ï¼ï¿ ï¿¡ï¼ï¼ï¼ï¼ï¼ Â§ââââââââ¡â â³â²â½â¼â»ãââââãï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½âââââââªâ©ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½â§â¨ï¿¢ââââï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½â â¥ââââ¡ââªâ«ââ½ââµâ«â¬ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½â«â°â¯â­âªâ â¡Â¶ï¿½ï¿½ï¿½ï¿½â¯ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[129].length; ++j) if(D[129][j].charCodeAt(0) !== 0xFFFD) { e[D[129][j]] = 33024 + j; d[33024 + j] = D[129][j];}
D[130] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¼¡ï¼¢ï¼£ï¼¤ï¼¥ï¼¦ï¼§ï¼¨ï¼©ï¼ªï¼«ï¼¬ï¼­ï¼®ï¼¯ï¼°ï¼±ï¼²ï¼³ï¼´ï¼µï¼¶ï¼·ï¼¸ï¼¹ï¼ºï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï¿½ï¿½ï¿½ï¿½ãããããããããããããããããããããããããããããããã ã¡ã¢ã£ã¤ã¥ã¦ã§ã¨ã©ãªã«ã¬ã­ã®ã¯ã°ã±ã²ã³ã´ãµã¶ã·ã¸ã¹ãºã»ã¼ã½ã¾ã¿ããããããããããããããããããããï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[130].length; ++j) if(D[130][j].charCodeAt(0) !== 0xFFFD) { e[D[130][j]] = 33280 + j; d[33280 + j] = D[130][j];}
D[131] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ã¡ã¢ã£ã¤ã¥ã¦ã§ã¨ã©ãªã«ã¬ã­ã®ã¯ã°ã±ã²ã³ã´ãµã¶ã·ã¸ã¹ãºã»ã¼ã½ã¾ã¿ããããããããããããããããããããããããããããããããï¿½ã ã¡ã¢ã£ã¤ã¥ã¦ã§ã¨ã©ãªã«ã¬ã­ã®ã¯ã°ã±ã²ã³ã´ãµã¶ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÎÎÎÎÎÎÎÎÎÎÎÎÎÎÎÎ Î¡Î£Î¤Î¥Î¦Î§Î¨Î©ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Î±Î²Î³Î´ÎµÎ¶Î·Î¸Î¹ÎºÎ»Î¼Î½Î¾Î¿ÏÏÏÏÏÏÏÏÏï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[131].length; ++j) if(D[131][j].charCodeAt(0) !== 0xFFFD) { e[D[131][j]] = 33536 + j; d[33536 + j] = D[131][j];}
D[132] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐ Ð¡Ð¢Ð£Ð¤Ð¥Ð¦Ð§Ð¨Ð©ÐªÐ«Ð¬Ð­Ð®Ð¯ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ð°Ð±Ð²Ð³Ð´ÐµÑÐ¶Ð·Ð¸Ð¹ÐºÐ»Ð¼Ð½ï¿½Ð¾Ð¿ÑÑÑÑÑÑÑÑÑÑÑÑÑÑÑÑï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ââââââââ¬â¤â´â¼âââââââ£â³â«â»ââ â¯â¨â·â¿ââ°â¥â¸âï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[132].length; ++j) if(D[132][j].charCodeAt(0) !== 0xFFFD) { e[D[132][j]] = 33792 + j; d[33792 + j] = D[132][j];}
D[135] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½â â¡â¢â£â¤â¥â¦â§â¨â©âªâ«â¬â­â®â¯â°â±â²â³â â¡â¢â£â¤â¥â¦â§â¨â©ï¿½ããã¢ããã§ãã¶ãããã¦ã£ã«ãã»ããããããã¡ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ã»ï¿½ããâãâ¡ã¤ã¥ã¦ã§ã¨ã±ã²ã¹ã¾ã½ã¼ââ¡â«â®âââ¥â ââ¿âµâ©âªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[135].length; ++j) if(D[135][j].charCodeAt(0) !== 0xFFFD) { e[D[135][j]] = 34560 + j; d[34560 + j] = D[135][j];}
D[136] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½äºåå¨é¿åææ¨å§¶é¢èµèç©æªæ¡æ¸¥æ­è¦è¦é¯µæ¢å§æ¡æ±å®å§è»é£´çµ¢ç¶¾é®æç²è¢·å®åºµæææ¡ééæä»¥ä¼ä½ä¾åå²å¤·å§å¨å°æææ°ææ¤çºçç°ç§»ç¶­ç·¯èèè¡£è¬ééºå»äºäº¥åè²éç£¯ä¸å£±æº¢é¸ç¨²è¨èé°¯åå°å½å¡å å§»å¼é£²æ·«è¤è­ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[136].length; ++j) if(D[136][j].charCodeAt(0) !== 0xFFFD) { e[D[136][j]] = 34816 + j; d[34816 + j] = D[136][j];}
D[137] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¢é°é é»åå³å®çç¾½è¿é¨å¯éµçªºä¸ç¢è¼æ¸¦ååæ¬èé°»å§¥å©æµ¦çéåäºéé²èé¤å¡å¶å¬°å½±æ æ³æ æ°¸æ³³æ´©ççç©é ´è±è¡è© é­æ¶²ç«çé§æ¦è¬è¶é²æ¦å­åï¿½åå °å¥å®´å»¶æ¨æ©æ´æ²¿æ¼ççççç¿ç¸è¶èèé éé´å¡©æ¼æ±ç¥å¹å¤®å¥¥å¾å¿æ¼æºæ¨ªæ¬§æ®´çç¿è¥é´¬é´é»å²¡æ²è»åå±æ¶èæ¡¶ç¡ä¹ä¿ºå¸æ©æ¸©ç©é³ä¸åä»®ä½ä¼½ä¾¡ä½³å å¯åå¤å«å®¶å¯¡ç§æææ¶æ­æ²³ç«çç¦ç¦¾ç¨¼ç®è±èèè·è¯èè¦èª²å©è²¨è¿¦ééèä¿å³¨æçç»è¥è½è¾è³éé¤é§ä»ä¼è§£åå¡å£å»»å¿«æªææ¢ææææ¹ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[137].length; ++j) if(D[137][j].charCodeAt(0) !== 0xFFFD) { e[D[137][j]] = 35072 + j; d[35072 + j] = D[137][j];}
D[138] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é­æ¦æ¢°æµ·ç°çççµµè¥è¹ééè²å±å¾å¤å³å®³å´æ¨æ¦æ¶¯ç¢èè¡è©²é§éª¸æµ¬é¦¨èå£æ¿èéåååå»æ¡æ¹æ ¼æ ¸æ®»ç²ç¢ºç©«è¦è§èµ«è¼é­é£éé©å­¦å²³æ¥½é¡é¡æç¬ æ¨«ï¿½æ©¿æ¢¶é°æ½å²åæ°æ¬æ´»æ¸æ»èè¤è½ä¸é°¹å¶æ¤æ¨ºéæ ªåç«è²ééåé´¨æ ¢èè±ç²¥åèç¦ä¹¾ä¾å å¯ååå§å·»åå ªå§¦å®å®å¯å¹²å¹¹æ£ææ£æ¾ææ¢ææ¡æ£ºæ¬¾æ­æ±æ¼¢æ¾æ½ç°çç£çç«¿ç®¡ç°¡ç·©ç¼¶ç¿°èè¦èè¦³è«è²«ééééé¢é¥éé¤¨èä¸¸å«å²¸å·ç©çç¼å²©ç¿«è´éé é¡é¡ä¼ä¼å±åå¨åºå¥å¬å¯å²å¸å¹¾å¿æ®æºææ¢ææ£æ£ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[138].length; ++j) if(D[138][j].charCodeAt(0) !== 0xFFFD) { e[D[138][j]] = 35328 + j; d[35328 + j] = D[138][j];}
D[139] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ©å¸°æ¯æ°æ±½ç¿ç¥å­£ç¨ç´å¾½è¦è¨è²´èµ·è»è¼é£¢é¨é¬¼äºå½åå¦å®æ¯ææ¬æ¬ºç çç¥ç¾©è»èª¼è­°æ¬èé ååå«æ¡æ©è©°ç §æµé»å´å®¢èèéä¸ä¹ä»ä¼åå¸å®®å¼æ¥æï¿½æ½æ±æ±²æ³£ç¸çç©¶çª®ç¬ç´ç³¾çµ¦æ§çå»å±å·¨ææ ææ¸ èè¨±è·é¸æ¼ç¦¦é­äº¨äº«äº¬ä¾ä¾ ååç«¶å±å¶åå¡å¿å«å¬å¢å³¡å¼·å½æ¯ææ­æææ©æ³çç­ç¯è¸èèèé·é¡é¿é¥é©ä»°åå°­ææ¥­å±æ²æ¥µçæ¡ç²åå¤åå·¾é¦æ¤æ¬£æ¬½ç´ç¦ç¦½ç­ç·è¹èè¡¿è¥è¬¹è¿éåéä¹å¶å¥åºççç©è¦èº¯é§é§é§å·æèå°ç©ºå¶å¯ééä¸²æ«é§å±å±ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[139].length; ++j) if(D[139][j].charCodeAt(0) !== 0xFFFD) { e[D[139][j]] = 35584 + j; d[35584 + j] = D[139][j];}
D[140] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æçªæ²é´è½¡çªªçéç²æ ç¹°æ¡é¬å²åè«è¨ç¾¤è»é¡å¦è¢ç¥ä¿å¾åååå­çªåå¥å½¢å¾æµæ¶æ§æ©æ²æºæ¬æ¯æ¡æ¸ç¦ç¨½ç³»çµç¶ç¹ç½«èèèè¨è©£è­¦è»½é é¶è¸è¿é¯¨ï¿½åæææ¿éæ¡åæ¬ æ±ºæ½ç©´çµè¡è¨£æä»¶å¹å¦å¥å¼å¸å£å§åå å«å»ºæ²æ¸æ³æ²æ¤æ¨©ç½ç¬ç®ç ç¡¯çµ¹çè©è¦è¬è³¢è»é£éµéºé¡é¨é¹¸ååå³å¹»å¼¦æ¸æºçç¾çµè·è¨è«ºéä¹åå¤å¼åºå§å­¤å·±åº«å¼§æ¸ææ¯æ¹çç³è¢´è¡è¡è°èèªè·¨é·éé¡§é¼äºäºä¼ååå¾å¨¯å¾å¾¡ææ¢§æªçç¢èªèª¤è­·éä¹é¯äº¤ä½¼ä¾¯åååå¬åå¹å¾åå£åï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[140].length; ++j) if(D[140][j].charCodeAt(0) !== 0xFFFD) { e[D[140][j]] = 35840 + j; d[35840 + j] = D[140][j];}
D[141] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½åååå¢å¥½å­å­å®å·¥å·§å··å¹¸åºåºåº·å¼æææææ§æ»æææ´æ­æ ¡æ¢æ§æ±æ´ªæµ©æ¸¯æºç²çç¡¬ç¨¿ç³ ç´ç´çµç¶±èèè¯è±èèèªèè¡è¡¡è¬è²¢è³¼ééµé±ç ¿é¼é¤éï¿½é é¦é«é´»åå«å·åå£æ·æ¿ è±ªè½éº¹åå»åå½ç©é·éµ é»çæ¼è°çå¿½æéª¨çè¾¼æ­¤é ä»å°å¤å¢¾å©æ¨ææææ ¹æ¢±æ··çç´ºè®é­äºä½åååµ¯å·¦å·®æ»æ²ç³ç è©éè£ååº§æ«åµå¬åæåå¡å¦»å®°å½©ææ¡æ ½æ­³æ¸ç½éçç ç ¦ç¥­æç´°èè£è¼éå¤å¨æç½ªè²¡å´åéªå ºæ¦è´å²å´å¼ç¢é·ºä½ååæ¾æ¨ææµçªç­ç´¢é¯æ¡é®­ç¬¹ååå·ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[141].length; ++j) if(D[141][j].charCodeAt(0) !== 0xFFFD) { e[D[141][j]] = 36096 + j; d[36096 + j] = D[141][j];}
D[142] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å¯æ¶æ®æ¦æ­æ®ºè©éçé¯æéé®«ç¿æä¸ååå±±æ¨ææ£æ¡ç¦çç£ç®çºèè®è³é¸é¤æ¬æ«æ®ä»ä»ä¼ºä½¿åºå¸å²å£åå£«å§å§å§¿å­å±å¸å¸«å¿æææ¯å­æ¯æ½æ¨ææ­¢ï¿½æ­»æ°çç¥ç§ç³¸ç´ç´«è¢èè³è¦è©è©©è©¦èªè«®è³è³éé£¼æ­¯äºä¼¼ä¾åå­å¯ºææææ¬¡æ»æ²»ç¾ç½çç£ç¤ºèè³èªèè¾æ±é¹¿å¼è­é´«ç«ºè»¸å®é«ä¸å±å·å¤±å«å®¤ææ¹¿æ¼ç¾è³ªå®èç¯ å²æ´èå±¡èç¸èåå°æ¨èµ¦æç®ç¤¾ç´èè¬è»é®èéªååºå°ºæç¼çµééé«è¥å¯å¼±æ¹ä¸»åå®ææ±æ®ç©ç ç¨®è«è¶£éé¦åååªå¯¿ææ¨¹ç¶¬éååå¨ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[142].length; ++j) if(D[142][j].charCodeAt(0) !== 0xFFFD) { e[D[142][j]] = 36352 + j; d[36352 + j] = D[142][j];}
D[143] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å®å°±å·ä¿®ææ¾æ´²ç§ç§çµç¹ç¿è­èèè¡è¥²è®è¹´è¼¯é±éé¬ééä»ä½ååå¾æææ±æ¸ç£ç¸¦ééåå¤å®¿æ·ç¥ç¸®ç²å¡¾çåºè¡è¿°ä¿å³»æ¥ç¬ç«£èé§¿åå¾ªæ¬æ¥¯æ®æ·³ï¿½æºæ½¤ç¾ç´å·¡éµéé å¦åææææ¸åº¶ç·ç½²æ¸è¯è·è«¸å©åå¥³åºå¾æé¤é¤å·ååå åå¬å¨åå±åå¥¨å¦¾å¨¼å®µå°å°å°å°åºåºå» å½°æ¿ææææ·æææ­æ¶æ¾æ¢¢æ¨æ¨µæ²¼æ¶æ¸æ¹ç¼ç¦ç§ççç¡ç¤ç¥¥ç§°ç« ç¬ç²§ç´¹èèèèè¡è£³è¨è¨¼è©è©³è±¡è³é¤é¦é¾éééä¸ä¸ä¸ä¹åå°åå ´å£å¬¢å¸¸ææ¾æ¡ææµç¶ç³ç©£è¸è­²é¸é å±å´é£¾ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[143].length; ++j) if(D[143][j].charCodeAt(0) !== 0xFFFD) { e[D[143][j]] = 36608 + j; d[36608 + j] = D[143][j];}
D[144] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ­æ¤æ®ç­ç¹è·è²è§¦é£èè¾±å°»ä¼¸ä¿¡ä¾µåå¨ å¯å¯©å¿ææ¯æ°ææ£®æ¦æµ¸æ·±ç³ç¹çç¥ç§¦ç´³è£è¯èªè¦ªè¨ºèº«è¾é²ééäººä»åå¡µå£¬å°çå°½èè¨è¿é£é­ç¬¥è«é é¢å³å¨ï¿½éå¹åå¸¥æ¨æ°´çç¡ç²ç¿ è¡°éééééçé«å´åµ©æ°æ¢è¶¨éæ®ææ¤èé éè£¾æ¾æºå¯¸ä¸ç¬çæ¯åå¶å¢å§å¾æ§ææ¿æ´ææ´æ£²æ æ­£æ¸ç²ççç²¾èå£°è£½è¥¿èª èªè«ééééæç¨èé»å¸­æææ¥ææç³ç©ç±ç¸¾èè²¬èµ¤è·¡è¹ç¢©åææ¥ææè¨­çªç¯èª¬éªçµ¶èèä»ååå å®£å°å°å·æ¦ææ°æ æ ´æ³æµæ´ææ½çç½æç©¿ç®­ç·ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[144].length; ++j) if(D[144][j].charCodeAt(0) !== 0xFFFD) { e[D[144][j]] = 36864 + j; d[36864 + j] = D[144][j];}
D[145] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¹ç¾¨èºèè¹è¦è©®è³è·µé¸é·é­ééé®®ååæ¼¸ç¶å¨ç¦ç¹è³ç³åå¡å²¨æªæ¾æ½æ¥çççç¤ç¥ç§ç²ç´ çµèè¨´é»é¡é¼ å§åµåå¢ååªå£®å¥ç½å®å±¤åæ£æ³æææ¿æ»ï¿½ææ©æ¹å·£æ§æ§½æ¼ç¥äºç©ç¸çªç³ç·ç¶è¡èèè¬è¼è»è£èµ°éé­ééé¨åå¢æèèµè´é ä¿å´åå³æ¯æææ¸¬è¶³éä¿å±è³æç¶åè¢å¶æå­å­«å°ææéä»å¤å¤ªæ±°è©å¾å å¦¥æ°ææèµæ¥éé§é¨¨ä½å å¯¾èå²±å¸¯å¾æ ææ´æ¿æ³°æ»èè¿èè¢è²¸éé®éé»é¯ä»£å°å¤§ç¬¬éé¡é·¹æ»ç§ååå®ææææ²¢æ¿¯ç¢è¨é¸æ¿è«¾è¸å§è¸åªï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[145].length; ++j) if(D[145][j].charCodeAt(0) !== 0xFFFD) { e[D[145][j]] = 37120 + j; d[37120 + j] = D[145][j];}
D[146] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å©ä½éè¾°å¥ªè±å·½ç«ªè¾¿æ£è°·ç¸é±æ¨½èª°ä¸¹ååå¦ææ¢æ¦æ­æ·¡æ¹ç­ç­ç«¯ç®ªç¶»è½èèèªéå£å£å¼¾æ­ææªæ®µç·è«å¤ç¥å°å¼æ¥æºæ± ç´ç¨ç½®è´èéé¦³ç¯çç«¹ç­èï¿½éç§©çªè¶å«¡çä¸­ä»²å®å¿ æ½æ¼æ±æ³¨è«è¡·è¨»éé³é§æ¨ç¦çªè§èè²¯ä¸åååå¯µå¸å¸³åºå¼å¼µå½«å¾´æ²ææ¢ææ½®ççºçºè´è¹è¸è¶èª¿è«è¶è·³éé·é é³¥åæç´ææ²çè³é®é³æ´¥å¢æ¤æ§è¿½éçéå¡æ æ´æ§»ä½æ¼¬æè¾»è¦ç¶´éæ¤¿æ½°åªå£·å¬¬ç´¬çªåé£é¶´äº­ä½ååµåè²åå ¤å®å¸åºåº­å»·å¼ææµæºææ¢¯æ±ç¢ç¦ç¨ç· èè¨è«¦è¹éï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[146].length; ++j) if(D[146][j].charCodeAt(0) !== 0xFFFD) { e[D[146][j]] = 37376 + j; d[37376 + j] = D[146][j];}
D[147] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¸é­éé¼æ³¥ææ¢æµæ»´çç¬é©éæººå²å¾¹æ¤è½è¿­éå¸å¡«å¤©å±åºæ·»çºçè²¼è»¢é¡ç¹ä¼æ®¿æ¾±ç°é»ååå µå¡å¦¬å± å¾æææ¸¡ç»èè³­éé½éç ¥ç ºåªåº¦åå¥´æååå¬ï¿½åååå¡å¡å¥å®å³¶å¶æ¼ææ­æ±æ¡æ¢¼æ£çæ·æ¹¯æ¶ç¯çå½çç¥·ç­ç­ç­ç³çµ±å°è£è©è¤è¨è¬è±è¸éééé¶é ­é¨°éåååå å°æ§ææ´ç³ç«¥è´èééå³ é´å¿å¾å¾³æ¶ç¹ç£ç¦¿ç¯¤æ¯ç¬èª­æ æ©¡å¸çªæ¤´å±é³¶è«å¯éçå¸å±¯ææ¦æ²è±éé åæéå¥é£åä¹åªèè¬çæºéæ¥¢é¦´ç¸ç·åæ¥ è»é£æ±äºå°¼å¼è¿©åè³èè¹å»¿æ¥ä¹³å¥ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[147].length; ++j) if(D[147][j].charCodeAt(0) !== 0xFFFD) { e[D[147][j]] = 37632 + j; d[37632 + j] = D[147][j];}
D[148] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å¦å°¿é®ä»»å¦å¿èªæ¿¡ç¦°ç¥¢å¯§è±ç«ç±å¹´å¿µæ»æçç²ä¹å»¼ä¹åå¢æ©æ¿ç´è½è³è¿è¾²è¦è¤å·´ææ­è¦æ·æ³¢æ´¾ç¶ç ´å©ç½µè­é¦¬ä¿³å»ææææ¯ççèèºè¼©éåå¹åªæ¢ï¿½æ¥³ç¤ç½è²·å£²è³ éªéè¿ç§¤ç§è©ä¼¯å¥åæææ³ç½ç®ç²è¶èè¿«ææ¼ çç¸è«é§éº¦å½ç®±ç¡²ç®¸èç­æ«¨å¹¡èçç å«é¢æºçºéé«ªä¼ç½°æç­é¥é³©åºå¡è¤é¼ä¼´å¤åååå¸æ¬ææ¿æ°¾æ±çç¯ç­çç¹è¬è©è²©ç¯éç©é é£¯æ½æ©çªç¤ç£èè®åªåå¦å¦åºå½¼æ²ææ¹æ«ææ¯æ³ç²ç®ç¢ç§ç·ç½·è¥è¢«èª¹è²»é¿éé£æ¨ç°¸åå°¾å¾®ææ¯çµçç¾ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[148].length; ++j) if(D[148][j].charCodeAt(0) !== 0xFFFD) { e[D[148][j]] = 37888 + j; d[37888 + j] = D[148][j];}
D[149] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¼»æç¨å¹çé«­å½¦èè±èå¼¼å¿ç¢ç­é¼æ¡§å§«åªç´ç¾è¬¬ä¿µå½ªæ¨æ°·æ¼ç¢ç¥¨è¡¨è©è±¹å»æçç§èé¨é²èè­é°­åå½¬ææµçè²§è³é »æç¶ä¸ä»å å¤«å©¦å¯å¨å¸åºææ¶æ·ï¿½æ§æ®æµ®ç¶ç¬¦èèèè­è² è³¦èµ´ééä¾®æ«æ­¦èè¡èªé¨å°æ¥é¢¨èºèä¼å¯å¾©å¹æç¦è¹è¤è¦æ·µå¼ææ²¸ä»ç©é®åå»å´å¢³æ¤æ®çå¥®ç²ç³ç´é°æèä¸ä½µåµå¡å¹£å¹³å¼æä¸¦è½ééç±³é å»å£çç¢§å¥ç¥èç®åå¤çç¯ç·¨è¾ºè¿éä¾¿åå¨©å¼é­ä¿èéªåææ­©ç«è£è¼ç©åå¢æææ®æ¯ç°¿è©å£ä¿¸ååå ±å¥å®å³°å³¯å´©åºæ±æ§æ¾æ¹æï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[149].length; ++j) if(D[149][j].charCodeAt(0) !== 0xFFFD) { e[D[149][j]] = 38144 + j; d[38144 + j] = D[149][j];}
D[150] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ³æ³¡ç¹ç ²ç¸«èè³èè¬èè¤è¨ªè±é¦éé£½é³³éµ¬ä¹äº¡åååå¦¨å¸½å¿å¿æ¿æ´æææ£åç´¡èªè¨è¬è²è²¿é¾é²å é ¬åååå¢¨æ²æ´ç§ç¦ç©é¦åæ²¡æ®å å¹å¥æ¬ç¿»å¡çï¿½æ©ç£¨é­éº»åå¦¹æ§ææ¯å©æ§å¹èæé®ªæ¾é±æ¡äº¦ä¿£åæ¹æ«æ²«è¿ä¾­ç¹­éº¿ä¸æ¢æºæ¼«èå³æªé­å·³ç®å²¬å¯èæ¹èç¨èå¦ç²æ°ç åå¤¢ç¡ççé§éµ¡æ¤å©¿å¨å¥åå½æçè¿·éé³´å§ªçæ»åæ£ç¶¿ç·¬é¢éººæ¸æ¨¡èå¦å­æ¯çç²ç¶²èèå²æ¨é»ç®æ¢å¿é¤å°¤æ»ç±¾è²°åæ¶ç´éåä¹å¶å¤çºè¶éå¼¥ç¢åå½¹ç´è¬è¨³èºéæ³è®éæææ²¹çï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[150].length; ++j) if(D[150][j].charCodeAt(0) !== 0xFFFD) { e[D[150][j]] = 38400 + j; d[38400 + j] = D[150][j];}
D[151] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è«­è¼¸å¯ä½åªååå®¥å¹½æ æææææ¹§æ¶ç¶ç·ç±ç¥è£èªéééµéèå¤äºä½ä¸èªè¼¿é å­å¹¼å¦å®¹åº¸ææºæææ¥æ§æ´æº¶çç¨çª¯ç¾èèèè¦è¬¡è¸é¥é½é¤æ¾ææ¬²ï¿½æ²æµ´ç¿ç¿¼æ·ç¾èºè£¸æ¥è±é ¼é·æ´çµ¡è½éªä¹±åµåµæ¬æ¿«èè­è¦§å©åå±¥ææ¢¨ççç¢è£è£¡éé¢é¸å¾çç«èæ ç¥åæµæºççç¡«ç²éç«é¾ä¾¶æ®æèäºäº®åä¸¡åå¯®ææ¢æ¶¼ççç­ç¨ç³§è¯è«é¼ééµé åç·å«åææ·çç³è¨è¼ªé£é±éºç å¡æ¶ç´¯é¡ä»¤ä¼¶ä¾å·å±å¶ºæç²ç¤¼èé´é·é¶ééºé½¢æ¦æ­´åå£çè£å»æææ¼£çç°¾ç·´è¯ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[151].length; ++j) if(D[151][j].charCodeAt(0) !== 0xFFFD) { e[D[151][j]] = 38656 + j; d[38656 + j] = D[151][j];}
D[152] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è®é£é¬åé­¯æ«çè³è·¯é²å´å©å»å¼ææ¥¼æ¦æµªæ¼ç¢ç¼ç¯­èè¾èéå­éºç¦èé²è«å­åè©±æ­ªè³èææ é·²äºäºé°è©«èè¨æ¤æ¹¾ç¢èï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å¼ä¸ä¸ä¸ªä¸±ä¸¶ä¸¼ä¸¿ä¹ä¹ä¹äºäºè±«äºèå¼äºäºäºäº äº¢äº°äº³äº¶ä»ä»ä»ä»ä»ä»ä»ä»­ä»ä»·ä¼ä½ä¼°ä½ä½ä½ä½ä½¶ä¾ä¾ä¾ä½»ä½©ä½°ä¾ä½¯ä¾ä¾åä¿ä¿ä¿ä¿ä¿ä¿ä¿ä¿ä¿¤ä¿¥åå¨ååªå¥åä¼ä¿¶å¡å©å¬ä¿¾ä¿¯ååååæåååååå¬å¸åååå´å²ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[152].length; ++j) if(D[152][j].charCodeAt(0) !== 0xFFFD) { e[D[152][j]] = 38912 + j; d[38912 + j] = D[152][j];}
D[153] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ååå³åååå¥å­å£å®å¹åµåååååååå¡åºå·å¼å»å¿ååååå¢ç«¸å©åªå®ååååååååååå¤å¦å¢å©åªå«å³å±å²å°åµå½åååå èå©å­ï¿½å°åµå¾ååååå§åªå®å³å¹åååååååªå´å©å³å¿å½åååå±ååè¾¨è¾§å¬å­å¼åµååååå£å¦é£­å å³åµå¸å¹ååç¸åååååå£å¯å±å³å¸åååä¸ååååå©å®å¤å»å·ååå å¦å¥å®å°å¶åç°éåæ¼ç®å®å¨å­åºåå½åå¬å­å¼å®å¶å©ååååµååå±å·å°åå»åå¶ååååå¢å¸å¥å¬ååå¨ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[153].length; ++j) if(D[153][j].charCodeAt(0) !== 0xFFFD) { e[D[153][j]] = 39168 + j; d[39168 + j] = D[153][j];}
D[154] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å«åå¤å¾å¼åå¥å¦ååå½å®å­åºå¢å¹åå£åå®ååååå¸å³åååå¯ååå»å¾ååå®å¼åå©åå¨åååååå¤ååå·åå¾å½åå¹ååçå´å¶å²å¸ï¿½å«å¤å¯å¬åªåååå ååå¥å®å¶å´åå¼ååååååååå®å¹åå¿ååååååååååå¦å·å¸åå»ååå©ååå¡å¿ååå å³å¤åªå°åååååå åå£å å å å¡²å ¡å¡¢å¡å¡°æ¯å¡å ½å¡¹å¢å¢¹å¢å¢«å¢ºå£å¢»å¢¸å¢®å£å£å£å£å£å£å£¥å£å£¤å£å£¯å£ºå£¹å£»å£¼å£½å¤å¤å¤å¤æ¢¦å¤¥å¤¬å¤­å¤²å¤¸å¤¾ç«å¥å¥å¥å¥å¥å¥¢å¥ å¥§å¥¬å¥©ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[154].length; ++j) if(D[154][j].charCodeAt(0) !== 0xFFFD) { e[D[154][j]] = 39424 + j; d[39424 + j] = D[154][j];}
D[155] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å¥¸å¦å¦ä½ä¾«å¦£å¦²å§å§¨å§å¦å§å§å¨¥å¨å¨å¨å¨å¨å©å©¬å©å¨µå¨¶å©¢å©ªåªåª¼åª¾å«å«åª½å«£å«å«¦å«©å«å«ºå«»å¬å¬å¬å¬²å«å¬ªå¬¶å¬¾å­å­å­å­å­å­å­å­¥å­©å­°å­³å­µå­¸æå­ºå®ï¿½å®å®¦å®¸å¯å¯å¯å¯å¯å¯¤å¯¦å¯¢å¯å¯¥å¯«å¯°å¯¶å¯³å°å°å°å°å°å° å°¢å°¨å°¸å°¹å±å±å±å±å±å±å­±å±¬å±®ä¹¢å±¶å±¹å²å²å²å¦å²«å²»å²¶å²¼å²·å³å²¾å³å³å³©å³½å³ºå³­å¶å³ªå´å´å´åµå´å´å´å´å´¢å´å´å´åµåµåµåµåµ¬åµ³åµ¶å¶å¶å¶å¶¢å¶å¶¬å¶®å¶½å¶å¶·å¶¼å·å·å·å·å·å·å·«å·²å·µå¸å¸å¸å¸å¸å¸¶å¸·å¹å¹å¹å¹å¹å¹å¹å¹¢å¹¤å¹å¹µå¹¶å¹ºéº¼å¹¿åº å»å»å»å»å»ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[155].length; ++j) if(D[155][j].charCodeAt(0) !== 0xFFFD) { e[D[155][j]] = 39680 + j; d[39680 + j] = D[155][j];}
D[156] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å»å»£å»å»å»å»¢å»¡å»¨å»©å»¬å»±å»³å»°å»´å»¸å»¾å¼å¼å½å½å¼å¼å¼å¼©å¼­å¼¸å½å½å½å½å¼¯å½å½å½å½å½¡å½­å½³å½·å¾å¾å½¿å¾å¾å¾å¾å¾å¾å¾å¾ å¾¨å¾­å¾¼å¿å¿»å¿¤å¿¸å¿±å¿æ³å¿¿æ¡æ ï¿½æææ©ææ±æææ«æ¦ææºæææªæ·æææææ£ææ¤ææ¬æ«ææææ§ææææææææ§ææ¡æ¸æ ææ´å¿°æ½ææµæææææ¶æ·ææ´æºææ¡æ»æ±ææææ¾æ¨æ§ææ¿æ¼æ¬æ´æ½æææ³æ·ææææ«æ´æ¯æ¥æ±ææææµææææ¬æææææ«æ®ææææ·ææææºæç½¹ææ¦æ£æ¶æºæ´æ¿æ½æ¼æ¾æææææææï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[156].length; ++j) if(D[156][j].charCodeAt(0) !== 0xFFFD) { e[D[156][j]] = 39936 + j; d[39936 + j] = D[156][j];}
D[157] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ææ¡æªæ®æ°æ²æ³ææææ£ææ æ¨æ¼æææ¾æææææææææ»ææ¿ææææææææææææ®æ±æ§æææ¯æµææ¾æææææææ«æ¶æ£ææææµæ«ï¿½æ©æ¾æ©æææ£æææ¶æææ´æææ¦æ¶æææ¨ææ§æ¯æ¶ææªæææ¥æ©ææ¼æææææ»æææ±æ§èæ æ¡æ¬æ£æ¯æ¬æ¶æ´æ²æºææ½ææææ¤æ£æ«æ´æµæ·æ¶æ¸çææææææææ²æ¸ææè®æææ«æ·æææææææææ æ¡æ±æ²æææ»æ³æµæ¶æ´ææææææææ¤æ§æ¨ææ¢æ°æææææææææ¹ææ¾æ¼ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[157].length; ++j) if(D[157][j].charCodeAt(0) !== 0xFFFD) { e[D[157][j]] = 40192 + j; d[40192 + j] = D[157][j];}
D[158] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ææ¸æææ æ¿æ¦æ©æ°æµæ·ææææ¦æ§é¸æ®æ¿æ¶ææ¸æ·æææ ææ£æ¤ææ°æ©æ¼æªæææ¦æ¡ææ·æ¯æ´æ¬æ³æ©æ¸æ¤æææ¢æ®æ¹æææ§æªæ æ¡æ ©æ¡æ¡æ ²æ¡ï¿½æ¢³æ «æ¡æ¡£æ¡·æ¡¿æ¢æ¢æ¢­æ¢æ¢æ¢æ¢æª®æ¢¹æ¡´æ¢µæ¢ æ¢ºæ¤æ¢æ¡¾æ¤æ£æ¤æ£æ¤¢æ¤¦æ£¡æ¤æ£æ£æ£§æ£æ¤¶æ¤æ¤æ£æ££æ¤¥æ£¹æ£ æ£¯æ¤¨æ¤ªæ¤æ¤£æ¤¡æ£æ¥¹æ¥·æ¥æ¥¸æ¥«æ¥æ¥¾æ¥®æ¤¹æ¥´æ¤½æ¥æ¤°æ¥¡æ¥æ¥æ¦æ¥ªæ¦²æ¦®æ§æ¦¿æ§æ§æ¦¾æ§å¯¨æ§æ§æ¦»æ§æ¦§æ¨®æ¦æ¦ æ¦æ¦æ¦´æ§æ§¨æ¨æ¨æ§¿æ¬æ§¹æ§²æ§§æ¨æ¦±æ¨æ§­æ¨æ§«æ¨æ¨æ«æ¨£æ¨æ©æ¨æ©²æ¨¶æ©¸æ©æ©¢æ©æ©¦æ©æ¨¸æ¨¢æªæªæª æªæª¢æª£ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[158].length; ++j) if(D[158][j].charCodeAt(0) !== 0xFFFD) { e[D[158][j]] = 40448 + j; d[40448 + j] = D[158][j];}
D[159] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æªèæª»æ«æ«æª¸æª³æª¬æ«æ«æ«æªªæ«æ«ªæ«»æ¬èæ«ºæ¬æ¬é¬±æ¬æ¬¸æ¬·çæ¬¹é£®æ­æ­æ­æ­æ­æ­æ­æ­æ­¡æ­¸æ­¹æ­¿æ®æ®æ®æ®æ®æ®æ®æ®¤æ®ªæ®«æ®¯æ®²æ®±æ®³æ®·æ®¼æ¯æ¯æ¯æ¯æ¯¬æ¯«æ¯³æ¯¯ï¿½éº¾æ°æ°æ°æ°æ°¤æ°£æ±æ±æ±¢æ±ªæ²æ²æ²æ²æ²æ±¾æ±¨æ±³æ²æ²æ³æ³±æ³æ²½æ³æ³æ³æ²®æ²±æ²¾æ²ºæ³æ³¯æ³æ³ªæ´è¡æ´¶æ´«æ´½æ´¸æ´æ´µæ´³æ´æ´æµ£æ¶æµ¤æµæµ¹æµæ¶æ¶æ¿¤æ¶æ·¹æ¸æ¸æ¶µæ·æ·¦æ¶¸æ·æ·¬æ·æ·æ·¨æ·æ·æ·ºæ·æ·¤æ·æ·ªæ·®æ¸­æ¹®æ¸®æ¸æ¹²æ¹æ¸¾æ¸£æ¹«æ¸«æ¹¶æ¹æ¸æ¹æ¸ºæ¹æ¸¤æ»¿æ¸æ¸¸æºæºªæºæ»æº·æ»æº½æº¯æ»æº²æ»æ»æºæº¥æ»æºæ½æ¼çæ»¬æ»¸æ»¾æ¼¿æ»²æ¼±æ»¯æ¼²æ»ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[159].length; ++j) if(D[159][j].charCodeAt(0) !== 0xFFFD) { e[D[159][j]] = 40704 + j; d[40704 + j] = D[159][j];}
D[224] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¼¾æ¼æ»·æ¾æ½ºæ½¸æ¾æ¾æ½¯æ½æ¿³æ½­æ¾æ½¼æ½æ¾æ¾æ¿æ½¦æ¾³æ¾£æ¾¡æ¾¤æ¾¹æ¿æ¾ªæ¿æ¿æ¿¬æ¿æ¿æ¿±æ¿®æ¿ççæ¿ºçççæ¿¾ççæ½´çççç°ç¾ç²çç£ççç¯ç±ç¬ç¸ç³ç®çççï¿½ççç½ççç¥ççç¦ç¢ççç¬çç»ççç¨ç¬çç¹ç¾ççççç ç¬ç§çµç¼ç¹ç¿çççç¨ç­ç¬ç°ç²ç»ç¼ç¿ççççç´ç¾çççççç¢ç§ç¹ç²çççççç¢ç ç¡ç¹ç·åçççççç´ç¯ç©ç¥ç¾ççé»ççªç¨ç°ç¸çµç»çºçç³çç»çç¥ç®çç¢çç¯ç¥ç¸ç²çºçç¿ççççç©ç°ç£çªç¶ç¾ççç§çççç±ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[224].length; ++j) if(D[224][j].charCodeAt(0) !== 0xFFFD) { e[D[224][j]] = 57344 + j; d[57344 + j] = D[224][j];}
D[225] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç ç£ç§ç©ç®ç²ç°ç±ç¸ç·çççççççççç¦ç¬ç¼çççççççç©ç¤ç§ç«ç­ç¸ç¶ççç´ççççççç¥ç£çç³ççµç½ç¸ç¼ç±ççççç£çç¾ç¿ï¿½ç¼çç°çºç²ç³ççççç§ç ç¡ç¢ç¤ç´ç°ç»çççççç¡ç¢ç¨ç©çªç§ç¬ç°ç²ç¶ç¸ç¼çççççççççç°ç´ç¸ç¹çºçççççç¡ç¥ç§çªè¯ç»çççç©ç¤çç¥ç¦çç·ç¸ççç¨ç«çç¥ç¿ç¾ç¹çççç çç°ç¶ç¹ç¿ç¼ç½ç»çççççç£ç®ç¼ç ç ç¤¦ç  ç¤ªç¡ç¢ç¡´ç¢ç¡¼ç¢ç¢ç¢£ç¢µç¢ªç¢¯ç£ç£ç£ç£ç¢¾ç¢¼ç£ç£ç£¬ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[225].length; ++j) if(D[225][j].charCodeAt(0) !== 0xFFFD) { e[D[225][j]] = 57600 + j; d[57600 + j] = D[225][j];}
D[226] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç£§ç£ç£½ç£´ç¤ç¤ç¤ç¤ç¤¬ç¤«ç¥ç¥ ç¥ç¥ç¥ç¥ç¥ç¥ºç¥¿ç¦ç¦ç¦§é½ç¦ªç¦®ç¦³ç¦¹ç¦ºç§ç§ç§§ç§¬ç§¡ç§£ç¨ç¨ç¨ç¨ç¨ ç¨ç¦ç¨±ç¨»ç¨¾ç¨·ç©ç©ç©ç©¡ç©¢ç©©é¾ç©°ç©¹ç©½çªçªçªçªçªçª©ç«çª°ï¿½çª¶ç«ç«çª¿éç«ç«ç«ç«ç«ç«ç«ç«ç«ç«¡ç«¢ç«¦ç«­ç«°ç¬ç¬ç¬ç¬ç¬³ç¬ç¬ç¬ç¬µç¬¨ç¬¶ç­ç­ºç¬ç­ç¬ç­ç­ç­µç­¥ç­´ç­§ç­°ç­±ç­¬ç­®ç®ç®ç®ç®ç®ç®ç®ç®ç®ç­ç®ç¯ç¯ç¯ç¯ç®´ç¯ç¯ç¯©ç°ç°ç¯¦ç¯¥ç± ç°ç°ç°ç¯³ç¯·ç°ç°ç¯¶ç°£ç°§ç°ªç°ç°·ç°«ç°½ç±ç±ç±ç±ç±ç±ç±ç±ç±¤ç±ç±¥ç±¬ç±µç²ç²ç²¤ç²­ç²¢ç²«ç²¡ç²¨ç²³ç²²ç²±ç²®ç²¹ç²½ç³ç³ç³ç³ç³ç³ç³¢é¬»ç³¯ç³²ç³´ç³¶ç³ºç´ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[226].length; ++j) if(D[226][j].charCodeAt(0) !== 0xFFFD) { e[D[226][j]] = 57856 + j; d[57856 + j] = D[226][j];}
D[227] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç´ç´ç´ç´çµçµç´®ç´²ç´¿ç´µçµçµ³çµçµçµ²çµ¨çµ®çµçµ£ç¶ç¶çµç¶çµ½ç¶ç¶ºç¶®ç¶£ç¶µç·ç¶½ç¶«ç¸½ç¶¢ç¶¯ç·ç¶¸ç¶ç¶°ç·ç·ç·¤ç·ç·»ç·²ç·¡ç¸ç¸ç¸£ç¸¡ç¸ç¸±ç¸ç¸ç¸ç¸¢ç¹ç¹¦ç¸»ç¸µç¸¹ç¹ç¸·ï¿½ç¸²ç¸ºç¹§ç¹ç¹ç¹ç¹ç¹ç¹¹ç¹ªç¹©ç¹¼ç¹»çºç·ç¹½è¾®ç¹¿çºçºçºçºçºçºçºçºçºçºçºç¼¸ç¼ºç½ç½ç½ç½ç½ç½ç½ç½ç½ç½ç½ ç½¨ç½©ç½§ç½¸ç¾ç¾ç¾ç¾ç¾ç¾ç¾ç¾ç¾ç¾ç¾£ç¾¯ç¾²ç¾¹ç¾®ç¾¶ç¾¸è­±ç¿ç¿ç¿ç¿ç¿ç¿¡ç¿¦ç¿©ç¿³ç¿¹é£èèèèèèèè¡è¨è¿è»èèèèèèè¢è¨è³è²è°è¶è¹è½è¿èèèèèèè­åè¬èè¥èèèèèèè¯è±èè©è£è¯èï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[227].length; ++j) if(D[227][j].charCodeAt(0) !== 0xFFFD) { e[D[227][j]] = 58112 + j; d[58112 + j] = D[227][j];}
D[228] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½éèè¾èèè¼è±è®è¥è¦è´èèèèèè èè¤è£èèè©è°èµè¾è¸è½èèèºèèèèèèèèè è§èºè»è¾èèèèèèèèè©è«è¸è³èèèèèèè¤ï¿½è¢è¨èªè«è®è±è·è¸è¾èèè«èè»è¬è¡è£èèè´è³èºèèè»è¹èèèèèèµè´èè²è±èè¹èèè¯è«èèèèèªèè¢èè£èèèè¼èµè³èµè èè¨è´èè«èè½èèèèè·èè è²èè¢è è½è¸èè»è­èªè¼èèè·è«è­è®èè©èè¬è¯è¹èµèè¢è¹è¿èèèè»èèèèèè¡è¡è¿è´èèè¬èèèè¼èè£èèï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[228].length; ++j) if(D[228][j].charCodeAt(0) !== 0xFFFD) { e[D[228][j]] = 58368 + j; d[58368 + j] = D[228][j];}
D[229] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èèèèèè¤èèèè¨è­èèèªèèè·è¾èèèºèè¹èèèè¥èè¹èèèè¾èºèè¢èè°è¿èä¹èèè§è±èè£è©èªèèè¶è¯èèè°èè £è«èèè©è¬ï¿½èèè¯èèèèèè»èèèè¹èè´è¿è·è»è¥è©èè èè¸èèè´èè¨è®èèè£èªè è¢èèè¯èè½èèéè«èè³èèè»è¯è²è è è è¾è¶è·è èè è è è ¢è ¡è ±è ¶è ¹è §è »è¡è¡è¡è¡è¡è¡¢è¡«è¢è¡¾è¢è¡µè¡½è¢µè¡²è¢è¢è¢è¢®è¢è¢¢è¢è¢¤è¢°è¢¿è¢±è£è£è£è£è£è£è£¹è¤è£¼è£´è£¨è£²è¤è¤è¤è¤è¥è¤è¤¥è¤ªè¤«è¥è¥è¤»è¤¶è¤¸è¥è¤è¥ è¥ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[229].length; ++j) if(D[229][j].charCodeAt(0) !== 0xFFFD) { e[D[229][j]] = 58624 + j; d[58624 + j] = D[229][j];}
D[230] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¥¦è¥¤è¥­è¥ªè¥¯è¥´è¥·è¥¾è¦è¦è¦è¦è¦è¦¡è¦©è¦¦è¦¬è¦¯è¦²è¦ºè¦½è¦¿è§è§è§è§è§§è§´è§¸è¨è¨è¨è¨è¨è¨è¨¥è¨¶è©è©è©è©è©è©¼è©­è©¬è©¢èªèªèªèª¨èª¡èªèª¥èª¦èªèª£è«è«è«è«è««è«³è«§ï¿½è«¤è«±è¬è« è«¢è«·è«è«è¬è¬è¬è«¡è¬è¬è¬è¬ è¬³é«è¬¦è¬«è¬¾è¬¨è­è­è­è­è­è­è­è­è­«è­è­¬è­¯è­´è­½è®è®è®è®è®è®è®è®è°ºè±è°¿è±è±è±è±è±è±¢è±¬è±¸è±ºè²è²è²è²è²è²è²è±¼è²æè²­è²ªè²½è²²è²³è²®è²¶è³è³è³¤è³£è³è³½è³ºè³»è´è´è´è´è´è´è´é½è´è³è´è´èµ§èµ­èµ±èµ³è¶è¶è·è¶¾è¶ºè·è·è·è·è·è·è·ªè·«è·è·£è·¼è¸è¸è·¿è¸è¸è¸è¸è¹è¸µè¸°è¸´è¹ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[230].length; ++j) if(D[230][j].charCodeAt(0) !== 0xFFFD) { e[D[230][j]] = 58880 + j; d[58880 + j] = D[230][j];}
D[231] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¹è¹è¹è¹è¹è¹è¹¤è¹ è¸ªè¹£è¹è¹¶è¹²è¹¼èºèºèºèºèºèºèºèºèºèºèºªèº¡èº¬èº°è»èº±èº¾è»è»è»è»è»£è»¼è»»è»«è»¾è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼¦è¼³è¼»è¼¹è½è½è¼¾è½è½è½è½è½è½ï¿½è½¢è½£è½¤è¾è¾è¾£è¾­è¾¯è¾·è¿è¿¥è¿¢è¿ªè¿¯éè¿´éè¿¹è¿ºééé¡ééééé§é¶éµé¹è¿¸ééééééé¾éééé¨é¯é¶é¨é²éé½éééééé¨é¯é±éµé¢é¤æééééé²é°éééé£é¥é©é³é²éééé¢é«é¯éªéµé´éºéééééééé¡éé¼éµé¶éé¿éé¬ééééééé¤ééé¿ééééééééé¹é·é©ééºéé®ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[231].length; ++j) if(D[231][j].charCodeAt(0) !== 0xFFFD) { e[D[231][j]] = 59136 + j; d[59136 + j] = D[231][j];}
D[232] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½éé¢éé£éºéµé»éé é¼é®éé°é¬é­éé¹ééé¨é¥éééééé¤ééééééé¶é«éµé¡éºééééé é¢ééªé©é°éµé·é½éé¼é¾éé¿éééééééï¿½é é¨é§é­é¼é»é¹é¾éæ¿¶éééééééé¡é¥é¢é¡é¨é®é¯ééééé·ééééé¦é²é¬éééééªé§é±é²é°é´é¶é¸é¹ééééè¥éééé¹éééééééééé¤éªé°é¹é½é¾ééééééé é¤é¦é¨åé«é±é¹éé¼ééºéééééé¨é¦é£é³é´éééééé­é½é²ç«é¶éµé é é ¸é ¤é ¡é ·é ½é¡é¡é¡é¡«é¡¯é¡°ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[232].length; ++j) if(D[232][j].charCodeAt(0) !== 0xFFFD) { e[D[232][j]] = 59392 + j; d[59392 + j] = D[232][j];}
D[233] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¡±é¡´é¡³é¢ªé¢¯é¢±é¢¶é£é£é£é£©é£«é¤é¤é¤é¤é¤é¤¡é¤é¤é¤¤é¤ é¤¬é¤®é¤½é¤¾é¥é¥é¥é¥é¥é¥é¥é¥é¥é¦é¦é¦¥é¦­é¦®é¦¼é§é§é§é§é§é§­é§®é§±é§²é§»é§¸é¨é¨é¨é§¢é¨é¨«é¨·é©é©é©é©ï¿½é¨¾é©é©é©é©é©é©¢é©¥é©¤é©©é©«é©ªéª­éª°éª¼é«é«é«é«é«é«é«é«¢é«£é«¦é«¯é««é«®é«´é«±é«·é«»é¬é¬é¬é¬é¬¢é¬£é¬¥é¬§é¬¨é¬©é¬ªé¬®é¬¯é¬²é­é­é­é­é­é­é­é­´é®é®é®é®é®é®é® é®¨é®´é¯é¯é®¹é¯é¯é¯é¯é¯£é¯¢é¯¤é¯é¯¡é°ºé¯²é¯±é¯°é°é°é°é°é°é°é°é°é°é°é°®é°é°¥é°¤é°¡é°°é±é°²é±é°¾é±é± é±§é±¶é±¸é³§é³¬é³°é´é´é³«é´é´é´ªé´¦é¶¯é´£é´éµé´é´éµé´¿é´¾éµéµï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[233].length; ++j) if(D[233][j].charCodeAt(0) !== 0xFFFD) { e[D[233][j]] = 59648 + j; d[59648 + j] = D[233][j];}
D[234] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½éµéµéµ¤éµéµéµéµ²é¶é¶é¶«éµ¯éµºé¶é¶¤é¶©é¶²é·é·é¶»é¶¸é¶ºé·é·é·é·é·é·¸é·¦é·­é·¯é·½é¸é¸é¸é¹µé¹¹é¹½éºéºéºéºéºéºéºéºéº¥éº©éº¸éºªéº­é¡é»é»é»é»é»é»é»é»é» é»¥é»¨é»¯ï¿½é»´é»¶é»·é»¹é»»é»¼é»½é¼é¼ç·é¼é¼¡é¼¬é¼¾é½é½é½é½£é½é½ é½¡é½¦é½§é½¬é½ªé½·é½²é½¶é¾é¾é¾ å ¯æ§éç¤åçï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[234].length; ++j) if(D[234][j].charCodeAt(0) !== 0xFFFD) { e[D[234][j]] = 59904 + j; d[59904 + j] = D[234][j];}
D[237] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çºè¤ééèä¿ç»æ±æ£é¹æ»å½ä¸¨ä»¡ä»¼ä¼ä¼ä¼¹ä½ä¾ä¾ä¾ä¾ä¿åå¢ä¿¿ååå°ååå´ååå¤åå¾å¬ååå¦ååååå¤å²åå²åï¨ååå©å¿ååå¥å¬ååï¨ï¿½ï¨å¢å¢²å¤å¥å¥å¥å¥£å¦¤å¦ºå­å¯ç¯å¯å¯¬å°å²¦å²ºå³µå´§åµï¨åµåµ­å¶¸å¶¹å·å¼¡å¼´å½§å¾·å¿ææææææ æ²ææ·æ°æææ¦æµæ ææææææ»ææ®ææ¤æ¥ææï¨æ³ææ æ²æ¿æºæï¤©æ¦æ»æ¡ææ æ¡æ£ï¨æ¥¨ï¨æ¦æ§¢æ¨°æ©«æ©æ©³æ©¾æ«¢æ«¤æ¯æ°¿æ±æ²æ±¯æ³æ´æ¶æµ¯æ¶æ¶¬æ·æ·¸æ·²æ·¼æ¸¹æ¹æ¸§æ¸¼æº¿æ¾æ¾µæ¿µççç¨çç«çççççï¨çç¾ç±ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[237].length; ++j) if(D[237][j].charCodeAt(0) !== 0xFFFD) { e[D[237][j]] = 60672 + j; d[60672 + j] = D[237][j];}
D[238] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¾ç¤ï¨ç·ç½ççç£çççµç¦çªç©ç®ç¢çççç¯ççççç¦ï¨çå¯ç ¡ç¡ç¡¤ç¡ºç¤°ï¨ï¨ï¨ç¦ï¨ç¦ç«ç«§ï¨ç««ç®ï¨çµçµç¶·ç¶ ç·ç¹ç½ç¾¡ï¨èè¢è¿èè¶èè´èèï¿½è«ï¨è°ï¨ ï¨¡è è£µè¨è¨·è©¹èª§èª¾è«ï¨¢è«¶è­è­¿è³°è³´è´èµ¶ï¨£è»ï¨¤ï¨¥é§éï¨¦éé§éééé­é®é¤é¥ééééºéé¼éééé¹é§é§é·é¸é§éééï¨§éé éé¥é¡é»ï¨¨éé¿ééé°éé¤ééé¸é±éééï§ï¨©éé¯é³é»éééééé¡é¡¥ï¨ªï¨«é¤§ï¨¬é¦é©é«é«é­µé­²é®é®±é®»é°éµ°éµ«ï¨­é¸é»ï¿½ï¿½â°â±â²â³â´âµâ¶â·â¸â¹ï¿¢ï¿¤ï¼ï¼ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[238].length; ++j) if(D[238][j].charCodeAt(0) !== 0xFFFD) { e[D[238][j]] = 60928 + j; d[60928 + j] = D[238][j];}
D[250] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½â°â±â²â³â´âµâ¶â·â¸â¹â â¡â¢â£â¤â¥â¦â§â¨â©ï¿¢ï¿¤ï¼ï¼ã±ââ¡âµçºè¤ééèä¿ç»æ±æ£é¹æ»å½ä¸¨ä»¡ä»¼ä¼ä¼ä¼¹ä½ä¾ä¾ä¾ä¾ä¿åå¢ä¿¿ååå°ååå´ååï¿½å¤åå¾å¬ååå¦ååååå¤å²åå²åï¨ååå©å¿ååå¥å¬ååï¨ï¨å¢å¢²å¤å¥å¥å¥å¥£å¦¤å¦ºå­å¯ç¯å¯å¯¬å°å²¦å²ºå³µå´§åµï¨åµåµ­å¶¸å¶¹å·å¼¡å¼´å½§å¾·å¿ææææææ æ²ææ·æ°æææ¦æµæ ææææææ»ææ®ææ¤æ¥ææï¨æ³ææ æ²æ¿æºæï¤©æ¦æ»æ¡ææ æ¡æ£ï¨æ¥¨ï¨æ¦æ§¢æ¨°æ©«æ©æ©³æ©¾æ«¢æ«¤æ¯æ°¿æ±æ²æ±¯æ³æ´æ¶æµ¯ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[250].length; ++j) if(D[250][j].charCodeAt(0) !== 0xFFFD) { e[D[250][j]] = 64000 + j; d[64000 + j] = D[250][j];}
D[251] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¶æ¶¬æ·æ·¸æ·²æ·¼æ¸¹æ¹æ¸§æ¸¼æº¿æ¾æ¾µæ¿µççç¨çç«çççççï¨çç¾ç±ç¾ç¤ï¨ç·ç½ççç£çççµç¦çªç©ç®ç¢çççç¯ççççç¦ï¨çå¯ç ¡ç¡ç¡¤ç¡ºç¤°ï¨ï¨ï¿½ï¨ç¦ï¨ç¦ç«ç«§ï¨ç««ç®ï¨çµçµç¶·ç¶ ç·ç¹ç½ç¾¡ï¨èè¢è¿èè¶èè´èèè«ï¨è°ï¨ ï¨¡è è£µè¨è¨·è©¹èª§èª¾è«ï¨¢è«¶è­è­¿è³°è³´è´èµ¶ï¨£è»ï¨¤ï¨¥é§éï¨¦éé§éééé­é®é¤é¥ééééºéé¼éééé¹é§é§é·é¸é§éééï¨§éé éé¥é¡é»ï¨¨éé¿ééé°éé¤ééé¸é±éééï§ï¨©éé¯é³é»éééééé¡é¡¥ï¨ªï¨«é¤§ï¨¬é¦é©é«ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[251].length; ++j) if(D[251][j].charCodeAt(0) !== 0xFFFD) { e[D[251][j]] = 64256 + j; d[64256 + j] = D[251][j];}
D[252] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é«é­µé­²é®é®±é®»é°éµ°éµ«ï¨­é¸é»ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[252].length; ++j) if(D[252][j].charCodeAt(0) !== 0xFFFD) { e[D[252][j]] = 64512 + j; d[64512 + j] = D[252][j];}
return {"enc": e, "dec": d }; })();
cptable[936] = (function(){ var d = [], e = {}, D = [], j;
D[0] = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~â¬ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[0].length; ++j) if(D[0][j].charCodeAt(0) !== 0xFFFD) { e[D[0][j]] = 0 + j; d[0 + j] = D[0][j];}
D[129] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ä¸ä¸ä¸ä¸ä¸ä¸ä¸ä¸ä¸ ä¸¡ä¸£ä¸¦ä¸©ä¸®ä¸¯ä¸±ä¸³ä¸µä¸·ä¸¼ä¹ä¹ä¹ä¹ä¹ä¹ä¹ä¹ä¹ä¹ä¹ä¹¢ä¹£ä¹¤ä¹¥ä¹§ä¹¨ä¹ªä¹«ä¹¬ä¹­ä¹®ä¹¯ä¹²ä¹´ä¹µä¹¶ä¹·ä¹¸ä¹¹ä¹ºä¹»ä¹¼ä¹½ä¹¿äºäºäºäºäºäºäºäºï¿½äºäºäºäºäºäºäºäº£äºªäº¯äº°äº±äº´äº¶äº·äº¸äº¹äº¼äº½äº¾ä»ä»ä»ä»ä»ä»ä»ä»ä» ä»¢ä»¦ä»§ä»©ä»­ä»®ä»¯ä»±ä»´ä»¸ä»¹ä»ºä»¼ä»¾ä¼ä¼ä¼ä¼ä¼ä¼ä¼ä¼ä¼ä¼ä¼ä¼ä¼ä¼ä¼ä¼ä¼ä¼¡ä¼£ä¼¨ä¼©ä¼¬ä¼­ä¼®ä¼±ä¼³ä¼µä¼·ä¼¹ä¼»ä¼¾ä¼¿ä½ä½ä½ä½ä½ä½ä½ä½ä½ä½ä½ä½ä½ä½ä½¡ä½¢ä½¦ä½¨ä½ªä½«ä½­ä½®ä½±ä½²ä½µä½·ä½¸ä½¹ä½ºä½½ä¾ä¾ä¾ä¾ä¾ä¾ä¾ä¾ä¾ä¾ä¾ä¾ä¾ä¾ä¾ä¾ä¾ä¾ä¾ä¾ä¾¡ä¾¢ï¿½".split("");
for(j = 0; j != D[129].length; ++j) if(D[129][j].charCodeAt(0) !== 0xFFFD) { e[D[129][j]] = 33024 + j; d[33024 + j] = D[129][j];}
D[130] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ä¾¤ä¾«ä¾­ä¾°ä¾±ä¾²ä¾³ä¾´ä¾¶ä¾·ä¾¸ä¾¹ä¾ºä¾»ä¾¼ä¾½ä¾¾ä¿ä¿ä¿ä¿ä¿ä¿ä¿ä¿ä¿ä¿ä¿ä¿ä¿ä¿ä¿ä¿ä¿ä¿ ä¿¢ä¿¤ä¿¥ä¿§ä¿«ä¿¬ä¿°ä¿²ä¿´ä¿µä¿¶ä¿·ä¿¹ä¿»ä¿¼ä¿½ä¿¿åååååååååååï¿½åååååååååååå å¢å£å¤å§å«å¯å°å±å²å³å´åµå¶å·å¸å¹å»å½å¿åååååååååååååååååååååååå å¡å¢å£å¤å¦å§å¨å©åªå«å­å®å¯å°å±å²å³å´åµå¸å¹åºå¼å½ååååååååååååååååååååååååååååå å¡å¢å¤å¦åªå«å­å®å¯å°å±å³å´åµå¶å·å¸å¹å¼ï¿½".split("");
for(j = 0; j != D[130].length; ++j) if(D[130][j].charCodeAt(0) !== 0xFFFD) { e[D[130][j]] = 33280 + j; d[33280 + j] = D[130][j];}
D[131] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å½å¾å¿åååååååååååååååååååååååååååååå å¡å¢å£å¤å¥å¨å©åªå«å¯å°å±å²å´å¶å·å¸å¹åºå¼å½å¾å¿åååååååï¿½åååååååååååååååååååååå å¢å£å¤å¥å¦å§å¨å©åªå«å¬å­å®å¯å°å±å²å³å´åµå¶å·å¸å¹åºå»å¼å½å¾ååååååååååååååååå å¡å£å¤å¦å§å©åªå¯å²åºå¾å¿åååååååååååååååååå¡å£å¦å§å¨å©åªå­å®å´å¸å¹åºå¾å¿åååååååååååååååï¿½".split("");
for(j = 0; j != D[131].length; ++j) if(D[131][j].charCodeAt(0) !== 0xFFFD) { e[D[131][j]] = 33536 + j; d[33536 + j] = D[131][j];}
D[132] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ååååååå¢å£å¥å¦å§å¨å©åªå¬å®å±å²å´å·å¾åååååååååååååå¡å¢å£å¥å¦å§åªå¬å¯å±å²å´åµå¼å¾ååååååååååååååï¿½åååååå å¢å£å¤å¦å¨å«å¬å­å®å°å±å³å´åµå¶å·å¸å¹åºå»å¼å¾åååååååååååååååååååååååå¤å¥å¦å§å®å¯å°å´åµå¶å·å¸å¹åºå»å¼å½åååååååååååååååååååååååå å¡å¢å£å¥å¦å§å¨å©åªå«å¬å­å®å¯å±å²å³å´åµå¶å·å¸å»å¼å½ååååååååååï¿½".split("");
for(j = 0; j != D[132].length; ++j) if(D[132][j].charCodeAt(0) !== 0xFFFD) { e[D[132][j]] = 33792 + j; d[33792 + j] = D[132][j];}
D[133] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½åååååååååå¢å¤å¥å§å¨å©å«å¬å­å¯å°å±å²å³å´åµå¶å·å¸å¼å½åååååååååååååå¥å¨åªå¬å­å²å¶å¹å»å¼å½å¾ååååååååï¿½åååååååååååå å¡å¤å§åªå«å¬å­å¯å°å±å²å³å´åµå·å¸å¹åºå¼å½å¾ååååååååååååååååå¡å¢å§å´åºå¾å¿ååååååååååå¢å¤å¥åªå°å³å¶å·åºå½å¿åååååååååååååååå å¡å£å¥å§å©åªå«å¬å­å®å¯å°å´å¹åºå¾å¿åååååååååååååååå å¡ï¿½".split("");
for(j = 0; j != D[133].length; ++j) if(D[133][j].charCodeAt(0) !== 0xFFFD) { e[D[133][j]] = 34048 + j; d[34048 + j] = D[133][j];}
D[134] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å¢å¥å®å°å²åµå¶å·å¹åºå¼å¾åååååååå å¡å¢å£å¤å«å¬å¯å°å±å´åµå¶å·å¸å¹å»å¾åååååååååååååååååååååååå¡å¥å¦ï¿½å¨å©å«å­å²å´åµå¶å¸å¹åºå»å½ååååååååååååååååååååååå å¢å£å¨å©å«å¯å°å±å²å³å´å¹åºå½å¿ååååååååååååååå å¡å¢å£å¤å¥å¦å¨å©åªå«å¬å­å®å¯å°å²å´å¶å¸åºå¼å¿åååååååååååååååååååå å¢å§å©å­å®å°å±å´å¶å¸å¹åºå»å¼å¿ååååï¿½".split("");
for(j = 0; j != D[134].length; ++j) if(D[134][j].charCodeAt(0) !== 0xFFFD) { e[D[134][j]] = 34304 + j; d[34304 + j] = D[134][j];}
D[135] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½åååååååååååååååååå å¡å¢å¥å¦å¨å©åªå«å®å¯å°å³åµå·å¸åºå¼å½å¾ååååååååååååååååååååååååå å¡ï¿½å£å¥å¦å§å­å®å¯å°å²å³å´åµå·å¸å¹åºå½å¾å¿åååååååååååååååååååååååååååå å¡å¢å¤å¥å¦å§å¨å©åªå«å¬å­å®å°å±å²å³å´åµå¶å¸å¹åºå»å½å¾å¿ååååååååååååååååååååååååå£å¥å¦å§å¨å©åªå¬å®å¯å²å³å¶å·å¸å»å¼ååååååååååååï¿½".split("");
for(j = 0; j != D[135].length; ++j) if(D[135][j].charCodeAt(0) !== 0xFFFD) { e[D[135][j]] = 34560 + j; d[34560 + j] = D[135][j];}
D[136] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ååååååååååååå å¡å¢å¤å¥å¦å§å«å±å²å´åµå¶å·å¸å¼å½å¿åååååååååååååååå¢å£å¥å§å¬å®å°å±å²å´åµå¸å¹åºå½å¾å¿åï¿½åååååååååååååååååååååå¥å¨åªå¬å¯å°å±å³åµå¶å·å¹åºå»å¼å½å¾å¿åååååååååååååååååååå¡å¢å£å¥å¦å§å¨å©åªå«å¬å®å°å±å²å³åµå¶å·å»å¼å¾å¿å å å å å å å å å å å å å å å å å å å å å å å ¢å £å ¥å ¦å §å ¨å ©å «å ¬å ­å ®å ¯å ±å ²å ³å ´å ¶å ·å ¸å ¹å ºå »å ¼å ½ï¿½".split("");
for(j = 0; j != D[136].length; ++j) if(D[136][j].charCodeAt(0) !== 0xFFFD) { e[D[136][j]] = 34816 + j; d[34816 + j] = D[136][j];}
D[137] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å ¾å ¿å¡å¡å¡å¡å¡å¡å¡å¡å¡å¡å¡å¡å¡å¡å¡å¡å¡å¡å¡å¡å¡å¡å¡å¡å¡å¡ å¡¡å¡¢å¡£å¡¤å¡¦å¡§å¡¨å¡©å¡ªå¡­å¡®å¡¯å¡°å¡±å¡²å¡³å¡´å¡µå¡¶å¡·å¡¸å¡¹å¡ºå¡»å¡¼å¡½å¡¿å¢å¢å¢å¢å¢å¢å¢å¢ï¿½å¢å¢å¢å¢å¢å¢å¢å¢å¢å¢å¢å¢å¢å¢ å¢¡å¢¢å¢£å¢¤å¢¥å¢¦å¢§å¢ªå¢«å¢¬å¢­å¢®å¢¯å¢°å¢±å¢²å¢³å¢´å¢µå¢¶å¢·å¢¸å¢¹å¢ºå¢»å¢½å¢¾å¢¿å£å£å£å£å£å£å£å£å£å£å£å£å£å£å£å£å£å£å£å£å£å£å£å£å£å£å£å£å£ å£¡å£¢å££å£¥å£¦å£§å£¨å£©å£ªå£­å£¯å£±å£²å£´å£µå£·å£¸å£ºå£»å£¼å£½å£¾å£¿å¤å¤å¤å¤å¤å¤å¤å¤å¤å¤å¤å¤å¤å¤å¤å¤å¤å¤å¤å¤å¤ å¤¡å¤¢å¤£å¤¦å¤¨å¤¬å¤°å¤²å¤³å¤µå¤¶å¤»ï¿½".split("");
for(j = 0; j != D[137].length; ++j) if(D[137][j].charCodeAt(0) !== 0xFFFD) { e[D[137][j]] = 35072 + j; d[35072 + j] = D[137][j];}
D[138] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å¤½å¤¾å¤¿å¥å¥å¥å¥å¥å¥å¥å¥å¥å¥å¥å¥å¥å¥å¥å¥å¥¡å¥£å¥¤å¥¦å¥§å¥¨å¥©å¥ªå¥«å¥¬å¥­å¥®å¥¯å¥°å¥±å¥²å¥µå¥·å¥ºå¥»å¥¼å¥¾å¥¿å¦å¦å¦å¦å¦å¦å¦å¦å¦å¦å¦å¦å¦å¦å¦å¦å¦å¦ å¦¡å¦¢å¦¦ï¿½å¦§å¦¬å¦­å¦°å¦±å¦³å¦´å¦µå¦¶å¦·å¦¸å¦ºå¦¼å¦½å¦¿å§å§å§å§å§å§å§å§å§å§å§å§å§å§å§å§å§å§å§å§ å§¡å§¢å§¤å§¦å§§å§©å§ªå§«å§­å§®å§¯å§°å§±å§²å§³å§´å§µå§¶å§·å§¸å§ºå§¼å§½å§¾å¨å¨å¨å¨å¨å¨å¨å¨å¨å¨å¨å¨å¨å¨å¨å¨å¨å¨å¨¡å¨¢å¨¤å¨¦å¨§å¨¨å¨ªå¨«å¨¬å¨­å¨®å¨¯å¨°å¨³å¨µå¨·å¨¸å¨¹å¨ºå¨»å¨½å¨¾å¨¿å©å©å©å©å©å©å©å©å©å©å©å©å©å©å©å©å©å©å©å©å©å©å©å©å©å©å© ï¿½".split("");
for(j = 0; j != D[138].length; ++j) if(D[138][j].charCodeAt(0) !== 0xFFFD) { e[D[138][j]] = 35328 + j; d[35328 + j] = D[138][j];}
D[139] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å©¡å©£å©¤å©¥å©¦å©¨å©©å©«å©¬å©­å©®å©¯å©°å©±å©²å©³å©¸å©¹å©»å©¼å©½å©¾åªåªåªåªåªåªåªåªåªåªåªåªåªåªåªåªåªåªåªåªåªåªåªåªåªåªåªåªåªåª åª¡åª¢åª£åª¤åª¥åª¦åª§åª¨åª©åª«åª¬ï¿½åª­åª®åª¯åª°åª±åª´åª¶åª·åª¹åªºåª»åª¼åª½åª¿å«å«å«å«å«å«å«å«å«å«å«å«å«å«å«å«å«å«å«å«å«å«å«å«¢å«¤å«¥å«§å«¨å«ªå«¬å«­å«®å«¯å«°å«²å«³å«´å«µå«¶å«·å«¸å«¹å«ºå«»å«¼å«½å«¾å«¿å¬å¬å¬å¬å¬å¬å¬å¬å¬å¬å¬å¬å¬å¬å¬å¬å¬å¬å¬å¬å¬å¬å¬å¬å¬å¬å¬å¬å¬å¬ å¬¡å¬¢å¬£å¬¤å¬¥å¬¦å¬§å¬¨å¬©å¬ªå¬«å¬¬å¬­å¬®å¬¯å¬°å¬±å¬³å¬µå¬¶å¬¸å¬¹å¬ºå¬»å¬¼å¬½å¬¾å¬¿å­å­å­å­å­å­å­ï¿½".split("");
for(j = 0; j != D[139].length; ++j) if(D[139][j].charCodeAt(0) !== 0xFFFD) { e[D[139][j]] = 35584 + j; d[35584 + j] = D[139][j];}
D[140] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å­å­å­å­å­å­å­å­å­å­å­å­ å­¡å­§å­¨å­«å­­å­®å­¯å­²å­´å­¶å­·å­¸å­¹å­»å­¼å­¾å­¿å®å®å®å®å®å®å®å®å®å®å®å®§å®¨å®©å®¬å®­å®®å®¯å®±å®²å®·å®ºå®»å®¼å¯å¯å¯å¯å¯å¯å¯å¯å¯å¯ï¿½å¯å¯å¯å¯å¯å¯å¯å¯å¯å¯å¯ å¯¢å¯£å¯¦å¯§å¯©å¯ªå¯«å¯¬å¯­å¯¯å¯±å¯²å¯³å¯´å¯µå¯¶å¯·å¯½å¯¾å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å° å°¡å°£å°¦å°¨å°©å°ªå°«å°­å°®å°¯å°°å°²å°³å°µå°¶å°·å±å±å±å±å±å±å±å±å±å±å±å±å±å±å±å±å±å±¢å±¤å±§å±¨å±©å±ªå±«å±¬å±­å±°å±²å±³å±´å±µå±¶å±·å±¸å±»å±¼å±½å±¾å²å²å²å²å²å²å²å²å²å²å²å²å²å²å²å²å²å² å²¡å²¤å²¥å²¦å²§å²¨ï¿½".split("");
for(j = 0; j != D[140].length; ++j) if(D[140][j].charCodeAt(0) !== 0xFFFD) { e[D[140][j]] = 35840 + j; d[35840 + j] = D[140][j];}
D[141] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å²ªå²®å²¯å²°å²²å²´å²¶å²¹å²ºå²»å²¼å²¾å³å³å³å³å³å³å³å³å³å³å³å³å³å³å³å³å³å³å³å³å³å³å³å³å³å³å³å³ å³¢å³£å³§å³©å³«å³¬å³®å³¯å³±å³²å³³å³´å³µå³¶å³·å³¸å³¹å³ºå³¼å³½å³¾å³¿å´ï¿½å´å´å´å´å´å´å´å´å´å´å´å´å´å´å´å´å´å´å´å´å´å´å´ å´¡å´¢å´£å´¥å´¨å´ªå´«å´¬å´¯å´°å´±å´²å´³å´µå´¶å´·å´¸å´¹å´ºå´»å´¼å´¿åµåµåµåµåµåµåµåµåµåµåµåµåµåµåµåµåµåµåµåµåµåµåµåµåµåµ åµ¡åµ¢åµ£åµ¤åµ¥åµ¦åµ§åµ¨åµªåµ­åµ®åµ°åµ±åµ²åµ³åµµåµ¶åµ·åµ¸åµ¹åµºåµ»åµ¼åµ½åµ¾åµ¿å¶å¶å¶å¶å¶å¶å¶å¶å¶å¶å¶å¶å¶å¶å¶å¶å¶å¶å¶å¶å¶å¶å¶å¶å¶å¶å¶å¶å¶å¶ ï¿½".split("");
for(j = 0; j != D[141].length; ++j) if(D[141][j].charCodeAt(0) !== 0xFFFD) { e[D[141][j]] = 36096 + j; d[36096 + j] = D[141][j];}
D[142] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å¶¡å¶¢å¶£å¶¤å¶¥å¶¦å¶§å¶¨å¶©å¶ªå¶«å¶¬å¶­å¶®å¶¯å¶°å¶±å¶²å¶³å¶´å¶µå¶¶å¶¸å¶¹å¶ºå¶»å¶¼å¶½å¶¾å¶¿å·å·å·å·å·å·å·å·å·å·å·å·å·å·å·å·å·å·å·å·å·å·å·å·å·å·å·å· å·£å·¤å·ªå·¬å·­ï¿½å·°å·µå·¶å·¸å·¹å·ºå·»å·¼å·¿å¸å¸å¸å¸å¸å¸å¸å¸å¸å¸å¸å¸å¸å¸ å¸¡å¸¢å¸£å¸¤å¸¥å¸¨å¸©å¸ªå¸«å¸¬å¸¯å¸°å¸²å¸³å¸´å¸µå¸¶å¸¹å¸ºå¸¾å¸¿å¹å¹å¹å¹å¹å¹å¹å¹å¹å¹å¹å¹å¹å¹å¹å¹å¹å¹å¹å¹å¹å¹å¹å¹å¹ å¹£å¹¤å¹¥å¹¦å¹§å¹¨å¹©å¹ªå¹«å¹¬å¹­å¹®å¹¯å¹°å¹±å¹µå¹·å¹¹å¹¾åºåºåºåºåºåºåºåºåºåºåºåºåºåº¡åº¢åº£åº¤åº¨åº©åºªåº«åº¬åº®åº¯åº°åº±åº²åº´åººåº»åº¼åº½åº¿å»å»å»å»å»å»ï¿½".split("");
for(j = 0; j != D[142].length; ++j) if(D[142][j].charCodeAt(0) !== 0xFFFD) { e[D[142][j]] = 36352 + j; d[36352 + j] = D[142][j];}
D[143] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å»å»å»å»å»å»å»å»å»å»å»å»å»å»å»å»å»å»å»å» å»¡å»¢å»£å»¤å»¥å»¦å»§å»©å»«å»¬å»­å»®å»¯å»°å»±å»²å»³å»µå»¸å»¹å»»å»¼å»½å¼å¼å¼å¼å¼å¼å¼å¼å¼å¼å¼å¼å¼å¼å¼å¼å¼¡å¼¢å¼£å¼¤ï¿½å¼¨å¼«å¼¬å¼®å¼°å¼²å¼³å¼´å¼µå¼¶å¼·å¼¸å¼»å¼½å¼¾å¼¿å½å½å½å½å½å½å½å½å½å½å½å½å½å½å½å½å½å½å½å½å½å½å½å½ å½£å½¥å½§å½¨å½«å½®å½¯å½²å½´å½µå½¶å½¸å½ºå½½å½¾å½¿å¾å¾å¾å¾å¾å¾å¾å¾å¾å¾å¾å¾å¾å¾å¾ å¾¢å¾£å¾¤å¾¥å¾¦å¾§å¾©å¾«å¾¬å¾¯å¾°å¾±å¾²å¾³å¾´å¾¶å¾¸å¾¹å¾ºå¾»å¾¾å¾¿å¿å¿å¿å¿å¿å¿å¿å¿å¿å¿å¿å¿å¿å¿å¿å¿å¿¢å¿£å¿¥å¿¦å¿¨å¿©å¿¬å¿¯å¿°å¿²å¿³å¿´å¿¶å¿·å¿¹å¿ºå¿¼æï¿½".split("");
for(j = 0; j != D[143].length; ++j) if(D[143][j].charCodeAt(0) !== 0xFFFD) { e[D[143][j]] = 36608 + j; d[36608 + j] = D[143][j];}
D[144] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æææææææææææææ¢æ£æ¤æ¬æ­æ®æ°æ±æ²æ³æ´æ¶æ·æ¸æ¹æºæ½æ¾ææææææææææææææææææææææ æ¡æ¥æ¦æ®æ±æ²æ´æµæ·æ¾æï¿½ææææææææææææææææææææ¡æ¢æ¤æ¥æ§æ©æªæ®æ°æ³æµæ¶æ·æ¹æºæ½æ¾æ¿ææææææææææææææææææææææ¡æ¢æ£æ¤æ¥æªæ±æ²æµæ·æ¸æ»æ¼æ½æ¾æ¿ææææææææææææææææææææææ¡æ¢æ¥æ¨æ©æªæ¬æ­æ®æ¯æ°æ±æ²æ³æ´æµæ¶æ·æ¸æ¹æºæ»æ¼æ½æ¾æææææææï¿½".split("");
for(j = 0; j != D[144].length; ++j) if(D[144][j].charCodeAt(0) !== 0xFFFD) { e[D[144][j]] = 36864 + j; d[36864 + j] = D[144][j];}
D[145] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æææææææææææææææææææ æ¡æ£æ¤æ¥æ¦æ©æªæ«æ¬æ­æ®æ¯æ±æ²æ³æ´æ¶æ¸æ¹æºæ»æ¼æ½æ¾æ¿æææææææææææææææææææï¿½ææææææææææ æ¡æ¢æ£æ¤æ¥æ¦æªæ«æ­æ®æ¯æ°æ±æ²æ³æ´æµæ¶æ¸æ¹æºæ»æ¼æ½æ¿ææææææææææææææææææææææææææ æ¡æ¢æ£æ¤æ¥æ§æ¨æ©æªæ«æ¬æ­æ®æ¯æ°æ±æ²æ³æ´æ¶æ·æ¸æ¹æºæ»æ¼æ½æ¾æææææææææææææææ æ£æ¦æ§æ¨æ©æ«æ­æ¯æ°æ±æ²æµæ¶æ¸æ¹æºæ»æ¼æææææï¿½".split("");
for(j = 0; j != D[145].length; ++j) if(D[145][j].charCodeAt(0) !== 0xFFFD) { e[D[145][j]] = 37120 + j; d[37120 + j] = D[145][j];}
D[146] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ææææææææææææ æ¡æ¢æ¤æ¥æ¨æ±æ²æ´æµæ·æ¸æºæ»æ½æææææææææææææææææææ£æ¦æ§æ©æªæ­æ®æ¯æ°æ²æ³æ´æ¶æ·æ¸æºæ¾ææï¿½ææææææææ æ¡æ¤æªæ«æ°æ²æµæ¸æ¹æºæ»ææææææææææææææææææææ¦æ§æ©æ¬æ­æ®æ°æ±æ³æ´æµæ¶æ·æ¸æ»æ¼æ¾æ¿æææææææææææææææææææ æ¤æ¥æ¦æ¨æªæ«æ¬æ¯æ°æ²æ³æ´æµæ¸æ¹æ¼æ½æ¾æ¿ææææææææææææææææææææ¡æ¤æ¦æ«æ¯æ±æ²æµæ¶æ¹æ»æ½æ¿æï¿½".split("");
for(j = 0; j != D[146].length; ++j) if(D[146][j].charCodeAt(0) !== 0xFFFD) { e[D[146][j]] = 37376 + j; d[37376 + j] = D[146][j];}
D[147] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ææææææææææææææææææææææ¢æ¤æ¥æ¦æ§æ¨æ«æ¬æ®æ¯æ°æ±æ³æµæ·æ¹æºæ»æ¼æ¾ææææææææææææææææææææ¢æ£æ¤ï¿½æ¥æ§æ¨æ©æ«æ®æ¯æ°æ±æ²æ³æµæ¶æ·æ¸æ¹æ»æ¼æ¾ææææææææææææææææææææææ æ¡æ¢æ£æ¤æ¥æ¦æ¨æªæ«æ¬æ®æ¯æ°æ±æ²æ³æ´æµæ¶æ·æ»æ¼æ½æ¾æ¿æææææææææææææææææææææææ æ¡æ¢æ£æ¥æ¦æ§æ¨æªæ«æ¯æ±æ²æ³æ´æ¶æ¹æ»æ½æ¾æ¿ææææææææææææææææææï¿½".split("");
for(j = 0; j != D[147].length; ++j) if(D[147][j].charCodeAt(0) !== 0xFFFD) { e[D[147][j]] = 37632 + j; d[37632 + j] = D[147][j];}
D[148] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æææææ æ¡æ£æ¥æ§æ¨æ©æªæ«æ¬æ­æ®æ¯æ°æ±æ²æ³æ´æµæ¶æ·æ¸æ¹æºæ»æ¼æ½æ¾æ¿æææææææææææææææææææææææææææææ æ¡ï¿½æ¢æ£æ¤æ¦æ§æ¨æ©æªæ¬æ­æ°æ±æ²æ³æ·æºæ¼æ½æææææææææææææææææææææ æ¡æ¤æ¥æ§æ¨æ©æªæ­æ®æ¯æ±æ³æµæ¶æ¸æ¹æºæ»æ¼æ½æ¾æ¿ææææææææææææææææææææææ æ¢æ£æ¦æ¨æªæ¬æ®æ±æ²æ³æ´æµæ¶æ·æ¸æºæ»æ¾æ¿æææææææææææææææææææææ¡æ£æ¤æªæ«ï¿½".split("");
for(j = 0; j != D[148].length; ++j) if(D[148][j].charCodeAt(0) !== 0xFFFD) { e[D[148][j]] = 37888 + j; d[37888 + j] = D[148][j];}
D[149] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ²æ³æ´æµæ¸æ¹æ»æ¼æ½æ¾æ¿æææææææææææææææææææ¡æ¢æ£æ¤æ¦æ©æªæ«æ¬æ®æ°æ²æ³æ·æ¸æ¹æºæ»æ½æ¿ææææææææææææææï¿½ææææææ æ¢æ£æ¥æ§æ©æªæ«æ¬æ­æ±æ²æ³æµæ¸æ¹æ»æ¼æ½æ¿æææææææææææææææææææææææææ æ¡æ¢æ£æ¤æ¥æ¦æ©æªæ«æ¬æ­æ¯æ°æ±æ²æ³æµæ¶æ·æ¸æºæ»æ¼æ½æ¿æææææææææææææææææææææææææææææ æ¡æ¢æ£æ¤æ¥æ§æ¨æªæ«æ¬æ­æ®æ¯æ±æµæ¶æ¸æºæ»æ½æææï¿½".split("");
for(j = 0; j != D[149].length; ++j) if(D[149][j].charCodeAt(0) !== 0xFFFD) { e[D[149][j]] = 38144 + j; d[38144 + j] = D[149][j];}
D[150] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æææææææææææææææææ æ¡æ¢æ£æ¤æ¥æ§æ©æ®æ°æ²æ³æ¶æ·æ¸æ¹æ»æ¼æ¾æ¿æææææææææææææææææ¢æ£æ¤æ¦æ§æ«æ¬æ®æ±æ´æ¶ï¿½æ¸æ¹æºæ»æ½ææææææææææææææææææææ æ¡æ¤æ¦æ©æ¬æ®æ±æ²æ´æ¹æºæ»æ¼æ½æ¾æ¿ææææææææææææææææææ¡æ£æ¤æ¦æ§æ¨æªæ«æ­æ®æ²æµæ¶æ·æ¸æ¹æºæ»æ¼æ¾æ æ æ æ æ æ æ æ æ æ æ æ æ æ æ æ æ æ  æ ¢æ £æ ¤æ ¥æ ¦æ §æ ¨æ «æ ¬æ ­æ ®æ ¯æ °æ ±æ ´æ µæ ¶æ ºæ »æ ¿æ¡æ¡æ¡æ¡æ¡æ¡æ¡æ¡æ¡æ¡æ¡ï¿½".split("");
for(j = 0; j != D[150].length; ++j) if(D[150][j].charCodeAt(0) !== 0xFFFD) { e[D[150][j]] = 38400 + j; d[38400 + j] = D[150][j];}
D[151] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¡æ¡æ¡æ¡æ¡ªæ¡¬æ¡­æ¡®æ¡¯æ¡°æ¡±æ¡²æ¡³æ¡µæ¡¸æ¡¹æ¡ºæ¡»æ¡¼æ¡½æ¡¾æ¡¿æ¢æ¢æ¢æ¢æ¢æ¢æ¢æ¢æ¢æ¢æ¢æ¢æ¢æ¢æ¢æ¢æ¢æ¢æ¢æ¢æ¢æ¢æ¢æ¢æ¢æ¢ æ¢¡æ¢£æ¢¤æ¢¥æ¢©æ¢ªæ¢«æ¢¬æ¢®æ¢±æ¢²æ¢´æ¢¶æ¢·æ¢¸ï¿½æ¢¹æ¢ºæ¢»æ¢¼æ¢½æ¢¾æ¢¿æ£æ£æ£æ£æ£æ£æ£æ£æ£æ£æ£æ£æ£æ£æ£æ£æ£æ£æ£æ£æ£æ£æ£æ£¡æ£¢æ£¤æ£¥æ£¦æ£§æ£¨æ£©æ£ªæ£«æ£¬æ£­æ£¯æ£²æ£³æ£´æ£¶æ£·æ£¸æ£»æ£½æ£¾æ£¿æ¤æ¤æ¤æ¤æ¤æ¤æ¤æ¤æ¤æ¤æ¤æ¤æ¤æ¤æ¤æ¤æ¤æ¤æ¤æ¤æ¤æ¤æ¤æ¤æ¤¡æ¤¢æ¤£æ¤¥æ¤¦æ¤§æ¤¨æ¤©æ¤ªæ¤«æ¤¬æ¤®æ¤¯æ¤±æ¤²æ¤³æ¤µæ¤¶æ¤·æ¤¸æ¤ºæ¤»æ¤¼æ¤¾æ¥æ¥æ¥æ¥æ¥æ¥æ¥æ¥æ¥æ¥æ¥æ¥æ¥æ¥æ¥æ¥æ¥æ¥æ¥æ¥æ¥æ¥æ¥æ¥æ¥æ¥ï¿½".split("");
for(j = 0; j != D[151].length; ++j) if(D[151][j].charCodeAt(0) !== 0xFFFD) { e[D[151][j]] = 38656 + j; d[38656 + j] = D[151][j];}
D[152] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¥¡æ¥¢æ¥¤æ¥¥æ¥§æ¥¨æ¥©æ¥ªæ¥¬æ¥­æ¥¯æ¥°æ¥²æ¥³æ¥´æ¥µæ¥¶æ¥ºæ¥»æ¥½æ¥¾æ¥¿æ¦æ¦æ¦æ¦æ¦æ¦æ¦æ¦æ¦æ¦æ¦æ¦æ¦æ¦æ¦æ¦æ¦æ¦æ¦æ¦ æ¦¡æ¦¢æ¦£æ¦¤æ¦¥æ¦¦æ¦©æ¦ªæ¦¬æ¦®æ¦¯æ¦°æ¦²æ¦³æ¦µæ¦¶æ¦¸æ¦¹æ¦ºæ¦¼æ¦½ï¿½æ¦¾æ¦¿æ§æ§æ§æ§æ§æ§æ§æ§æ§æ§æ§æ§æ§æ§æ§æ§æ§æ§æ§æ§æ§æ§æ§æ§æ§¡æ§¢æ§£æ§¤æ§¥æ§¦æ§§æ§¨æ§©æ§ªæ§«æ§¬æ§®æ§¯æ§°æ§±æ§³æ§´æ§µæ§¶æ§·æ§¸æ§¹æ§ºæ§»æ§¼æ§¾æ¨æ¨æ¨æ¨æ¨æ¨æ¨æ¨æ¨æ¨æ¨æ¨æ¨æ¨æ¨æ¨æ¨æ¨æ¨æ¨æ¨æ¨æ¨æ¨æ¨æ¨æ¨æ¨æ¨ æ¨¢æ¨£æ¨¤æ¨¥æ¨¦æ¨§æ¨©æ¨«æ¨¬æ¨­æ¨®æ¨°æ¨²æ¨³æ¨´æ¨¶æ¨·æ¨¸æ¨¹æ¨ºæ¨»æ¨¼æ¨¿æ©æ©æ©æ©æ©æ©æ©æ©æ©æ©æ©æ©æ©æ©æ©æ©æ©æ©æ©æ©æ©æ©ï¿½".split("");
for(j = 0; j != D[152].length; ++j) if(D[152][j].charCodeAt(0) !== 0xFFFD) { e[D[152][j]] = 38912 + j; d[38912 + j] = D[152][j];}
D[153] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ©æ©æ©æ©æ© æ©¢æ©£æ©¤æ©¦æ©§æ©¨æ©©æ©ªæ©«æ©¬æ©­æ©®æ©¯æ©°æ©²æ©³æ©´æ©µæ©¶æ©·æ©¸æ©ºæ©»æ©½æ©¾æ©¿æªæªæªæªæªæªæªæªæªæªæªæªæªæªæªæªæªæªæªæªæªæªæªæªæªæªæª¡æª¢æª£æª¤æª¥æª¦ï¿½æª§æª¨æªªæª­æª®æª¯æª°æª±æª²æª³æª´æªµæª¶æª·æª¸æª¹æªºæª»æª¼æª½æª¾æª¿æ«æ«æ«æ«æ«æ«æ«æ«æ«æ«æ«æ«æ«æ«æ«æ«æ«æ«æ«æ«æ«æ«æ«æ«æ«æ«æ«æ«æ«æ«æ«æ«æ« æ«¡æ«¢æ«£æ«¤æ«¥æ«¦æ«§æ«¨æ«©æ«ªæ««æ«¬æ«­æ«®æ«¯æ«°æ«±æ«²æ«³æ«´æ«µæ«¶æ«·æ«¸æ«¹æ«ºæ«»æ«¼æ«½æ«¾æ«¿æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬æ¬¥æ¬¦æ¬¨æ¬©æ¬ªæ¬«æ¬¬æ¬­æ¬®ï¿½".split("");
for(j = 0; j != D[153].length; ++j) if(D[153][j].charCodeAt(0) !== 0xFFFD) { e[D[153][j]] = 39168 + j; d[39168 + j] = D[153][j];}
D[154] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¬¯æ¬°æ¬±æ¬³æ¬´æ¬µæ¬¶æ¬¸æ¬»æ¬¼æ¬½æ¬¿æ­æ­æ­æ­æ­æ­æ­æ­æ­æ­æ­æ­æ­æ­æ­æ­æ­æ­æ­æ­æ­æ­æ­æ­æ­æ­æ­ æ­¡æ­¨æ­©æ­«æ­¬æ­­æ­®æ­¯æ­°æ­±æ­²æ­³æ­´æ­µæ­¶æ­·æ­¸æ­ºæ­½æ­¾æ­¿æ®æ®æ®ï¿½æ®æ®æ®æ®æ®æ®æ®æ®æ®æ®æ®æ®æ®æ®æ® æ®¢æ®£æ®¤æ®¥æ®¦æ®§æ®¨æ®©æ®«æ®¬æ®­æ®®æ®¯æ®°æ®±æ®²æ®¶æ®¸æ®¹æ®ºæ®»æ®¼æ®½æ®¾æ¯æ¯æ¯æ¯æ¯æ¯æ¯æ¯æ¯æ¯æ¯æ¯æ¯æ¯æ¯æ¯æ¯æ¯æ¯ æ¯¢æ¯£æ¯¤æ¯¥æ¯¦æ¯§æ¯¨æ¯©æ¯¬æ¯­æ¯®æ¯°æ¯±æ¯²æ¯´æ¯¶æ¯·æ¯¸æ¯ºæ¯»æ¯¼æ¯¾æ¯¿æ°æ°æ°æ°æ°æ°æ°æ°æ°æ°æ°æ°æ°æ°æ°æ°æ° æ°£æ°¥æ°«æ°¬æ°­æ°±æ°³æ°¶æ°·æ°¹æ°ºæ°»æ°¼æ°¾æ°¿æ±æ±æ±æ±æ±æ±æ±æ±æ±æ±æ±æ±æ±æ±ï¿½".split("");
for(j = 0; j != D[154].length; ++j) if(D[154][j].charCodeAt(0) !== 0xFFFD) { e[D[154][j]] = 39424 + j; d[39424 + j] = D[154][j];}
D[155] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ±æ±æ±¢æ±£æ±¥æ±¦æ±§æ±«æ±¬æ±­æ±®æ±¯æ±±æ±³æ±µæ±·æ±¸æ±ºæ±»æ±¼æ±¿æ²æ²æ²æ²æ²æ²æ²æ²æ²æ²æ²æ²æ²æ²æ²æ²æ²æ² æ²¢æ²¨æ²¬æ²¯æ²°æ²´æ²µæ²¶æ²·æ²ºæ³æ³æ³æ³æ³æ³æ³æ³æ³æ³æ³æ³æ³æ³ï¿½æ³æ³æ³æ³æ³æ³¤æ³¦æ³§æ³©æ³¬æ³­æ³²æ³´æ³¹æ³¿æ´æ´æ´æ´æ´æ´æ´æ´æ´æ´æ´æ´æ´æ´æ´æ´æ´æ´æ´æ´æ´ æ´¡æ´¢æ´£æ´¤æ´¦æ´¨æ´©æ´¬æ´­æ´¯æ´°æ´´æ´¶æ´·æ´¸æ´ºæ´¿æµæµæµæµæµæµæµæµæµæµæµæµæµæµ¡æµ¢æµ¤æµ¥æµ§æµ¨æµ«æµ¬æµ­æµ°æµ±æµ²æµ³æµµæµ¶æµ¹æµºæµ»æµ½æµ¾æµ¿æ¶æ¶æ¶æ¶æ¶æ¶æ¶æ¶æ¶æ¶æ¶æ¶æ¶æ¶æ¶æ¶æ¶æ¶æ¶¢æ¶¥æ¶¬æ¶­æ¶°æ¶±æ¶³æ¶´æ¶¶æ¶·æ¶¹æ¶ºæ¶»æ¶¼æ¶½æ¶¾æ·æ·æ·æ·æ·æ·ï¿½".split("");
for(j = 0; j != D[155].length; ++j) if(D[155][j].charCodeAt(0) !== 0xFFFD) { e[D[155][j]] = 39680 + j; d[39680 + j] = D[155][j];}
D[156] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ·æ·æ·æ·æ·æ·æ·æ·æ·æ·æ·æ·æ·æ·¢æ·£æ·¥æ·§æ·¨æ·©æ·ªæ·­æ·¯æ·°æ·²æ·´æ·µæ·¶æ·¸æ·ºæ·½æ·¾æ·¿æ¸æ¸æ¸æ¸æ¸æ¸æ¸æ¸æ¸æ¸æ¸æ¸æ¸æ¸æ¸æ¸æ¸æ¸æ¸æ¸æ¸¢æ¸¦æ¸§æ¸¨æ¸ªæ¸¬æ¸®æ¸°æ¸±æ¸³æ¸µï¿½æ¸¶æ¸·æ¸¹æ¸»æ¸¼æ¸½æ¸¾æ¸¿æ¹æ¹æ¹æ¹æ¹æ¹æ¹æ¹æ¹æ¹æ¹æ¹æ¹æ¹æ¹æ¹æ¹æ¹æ¹æ¹æ¹æ¹æ¹ æ¹¡æ¹¢æ¹£æ¹¤æ¹¥æ¹¦æ¹§æ¹¨æ¹©æ¹ªæ¹¬æ¹­æ¹¯æ¹°æ¹±æ¹²æ¹³æ¹´æ¹µæ¹¶æ¹·æ¹¸æ¹¹æ¹ºæ¹»æ¹¼æ¹½æºæºæºæºæºæºæºæºæºæºæºæºæºæºæºæºæºæºæºæºæºæºæºæº æº¡æº£æº¤æº¦æº¨æº©æº«æº¬æº­æº®æº°æº³æºµæº¸æº¹æº¼æº¾æº¿æ»æ»æ»æ»æ»æ»æ»æ»æ»æ»æ»æ»æ»æ»æ»æ»æ»æ»æ»æ»£æ»§æ»ªæ»«æ»¬æ»­æ»®æ»¯ï¿½".split("");
for(j = 0; j != D[156].length; ++j) if(D[156][j].charCodeAt(0) !== 0xFFFD) { e[D[156][j]] = 39936 + j; d[39936 + j] = D[156][j];}
D[157] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ»°æ»±æ»²æ»³æ»µæ»¶æ»·æ»¸æ»ºæ»»æ»¼æ»½æ»¾æ»¿æ¼æ¼æ¼æ¼æ¼æ¼æ¼æ¼æ¼æ¼æ¼æ¼æ¼æ¼æ¼æ¼æ¼æ¼æ¼æ¼æ¼æ¼æ¼æ¼æ¼æ¼¡æ¼¢æ¼£æ¼¥æ¼¦æ¼§æ¼¨æ¼¬æ¼®æ¼°æ¼²æ¼´æ¼µæ¼·æ¼¸æ¼¹æ¼ºæ¼»æ¼¼æ¼½æ¼¿æ½æ½æ½ï¿½æ½æ½æ½æ½æ½æ½æ½æ½æ½æ½æ½æ½æ½æ½æ½æ½æ½æ½æ½æ½æ½æ½æ½ æ½¡æ½£æ½¤æ½¥æ½§æ½¨æ½©æ½ªæ½«æ½¬æ½¯æ½°æ½±æ½³æ½µæ½¶æ½·æ½¹æ½»æ½½æ½¾æ½¿æ¾æ¾æ¾æ¾æ¾æ¾æ¾æ¾æ¾æ¾æ¾æ¾æ¾æ¾æ¾æ¾æ¾æ¾æ¾æ¾æ¾æ¾æ¾æ¾æ¾æ¾ æ¾¢æ¾£æ¾¤æ¾¥æ¾¦æ¾¨æ¾©æ¾ªæ¾«æ¾¬æ¾­æ¾®æ¾¯æ¾°æ¾±æ¾²æ¾´æ¾µæ¾·æ¾¸æ¾ºæ¾»æ¾¼æ¾½æ¾¾æ¾¿æ¿æ¿æ¿æ¿æ¿æ¿æ¿æ¿æ¿æ¿æ¿æ¿æ¿æ¿æ¿æ¿æ¿æ¿æ¿æ¿æ¿æ¿æ¿æ¿æ¿æ¿æ¿¢æ¿£æ¿¤æ¿¥ï¿½".split("");
for(j = 0; j != D[157].length; ++j) if(D[157][j].charCodeAt(0) !== 0xFFFD) { e[D[157][j]] = 40192 + j; d[40192 + j] = D[157][j];}
D[158] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¿¦æ¿§æ¿¨æ¿©æ¿ªæ¿«æ¿¬æ¿­æ¿°æ¿±æ¿²æ¿³æ¿´æ¿µæ¿¶æ¿·æ¿¸æ¿¹æ¿ºæ¿»æ¿¼æ¿½æ¿¾æ¿¿çççççççççççççççççççççççççççççç ç¡ç¢ç¤ç¥ç¦ç§ç¨ç©çªï¿½ç«ç¬ç­ç®ç¯ç°ç±ç²ç³ç´ç¶ç·ç¸çºç»ç¼ç½ç¾ç¿çççççççççççççççççççççççççççççç ç¡ç¢ç£ç¤ç¥ç¦ç§ç¨ç©çªç®ç±ç²ç³ç´ç·ç¹çºç»ç½ççççççççççççççççççççç ç¡ç¢ç£ç¤ç¥ç¦ç§ç¨ç©çªç°ç²ç´çµç¶çºç¾ç¿çççççççççççççççççççï¿½".split("");
for(j = 0; j != D[158].length; ++j) if(D[158][j].charCodeAt(0) !== 0xFFFD) { e[D[158][j]] = 40448 + j; d[40448 + j] = D[158][j];}
D[159] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çççç ç¡ç¢ç£ç¥çªç®ç°ç±ç²ç³ç´çµç¶ç¸çºç»ç¼ç¾ç¿çççççççççççççççççççççççç ç¡ç¢ç£ç¤ç¥ç§ç¨ç©çªç«ç¬ç­ç®ç²ç³ç´ï¿½çµç·ç¸ç¹çºç»ç¼ç½ç¾ç¿ççççççççççççççççççççççççççç ç¡ç¢ç£ç¥ç©çªç«ç¬ç­ç¯ç°ç±ç´çµç¶ç·ç¹ç»ç¼ç¾ç¿çççççççççççççççççççççççççç¡ç¢ç£ç¤ç¥ç¦ç§ç©çªç«ç­ç®ç¯ç°ç±ç²ç´ç¶ç·ç¸çºç»ç¼ç½ç¾ç¿ççççççççççççççççççï¿½".split("");
for(j = 0; j != D[159].length; ++j) if(D[159][j].charCodeAt(0) !== 0xFFFD) { e[D[159][j]] = 40704 + j; d[40704 + j] = D[159][j];}
D[160] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ççççççççççç¡ç¢ç£ç¤ç¦ç¨ç©çªç«ç¬ç­ç¯ç°ç±ç²ç³ç´çµç¶ç·ç¸çºç»ç¼ç½ç¾ç¿ççççççççççççççççççççççççççï¿½ççççç ç¡ç¢ç£ç¤ç¥ç¦ç§ç©ç«ç­ç®ç¯ç²ç³ç´çºç¼ç¾ççççççççççççççççççççççç ç£ç¤ç¥ç¨çªç«ç¬ç­ç°ç±ç³ç´ç¶ç·ç¸ç»ç¼ç½çççççççççççççççççççççççç ç¡ç¢ç£ç¤ç¥ç¦ç§ç¨ç©çªç«ç®ç±ç²ç³çµçºç»ç¼ç½ç¾ç¿çççççççççççççççççï¿½".split("");
for(j = 0; j != D[160].length; ++j) if(D[160][j].charCodeAt(0) !== 0xFFFD) { e[D[160][j]] = 40960 + j; d[40960 + j] = D[160][j];}
D[161] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ãããÂ·ËËÂ¨ããâï½ââ¦ââââããããããããããããããÂ±ÃÃ·â¶â§â¨âââªâ©ââ·ââ¥â¥â âââ«â®â¡âââ½ââ â®â¯â¤â¥ââµâ´ââÂ°â²â³âï¼Â¤ï¿ ï¿¡â°Â§âââââââââ¡â â³â²â»ââââãï¿½".split("");
for(j = 0; j != D[161].length; ++j) if(D[161][j].charCodeAt(0) !== 0xFFFD) { e[D[161][j]] = 41216 + j; d[41216 + j] = D[161][j];}
D[162] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½â°â±â²â³â´âµâ¶â·â¸â¹ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½âââââââââââââââââââââ´âµâ¶â·â¸â¹âºâ»â¼â½â¾â¿âââââââââ â¡â¢â£â¤â¥â¦â§â¨â©ï¿½ï¿½ã ã¡ã¢ã£ã¤ã¥ã¦ã§ã¨ã©ï¿½ï¿½â â¡â¢â£â¤â¥â¦â§â¨â©âªâ«ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[162].length; ++j) if(D[162][j].charCodeAt(0) !== 0xFFFD) { e[D[162][j]] = 41472 + j; d[41472 + j] = D[162][j];}
D[163] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¼ï¼ï¼ï¿¥ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ ï¼¡ï¼¢ï¼£ï¼¤ï¼¥ï¼¦ï¼§ï¼¨ï¼©ï¼ªï¼«ï¼¬ï¼­ï¼®ï¼¯ï¼°ï¼±ï¼²ï¼³ï¼´ï¼µï¼¶ï¼·ï¼¸ï¼¹ï¼ºï¼»ï¼¼ï¼½ï¼¾ï¼¿ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï¿£ï¿½".split("");
for(j = 0; j != D[163].length; ++j) if(D[163][j].charCodeAt(0) !== 0xFFFD) { e[D[163][j]] = 41728 + j; d[41728 + j] = D[163][j];}
D[164] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ãããããããããããããããããããããããããããããããã ã¡ã¢ã£ã¤ã¥ã¦ã§ã¨ã©ãªã«ã¬ã­ã®ã¯ã°ã±ã²ã³ã´ãµã¶ã·ã¸ã¹ãºã»ã¼ã½ã¾ã¿ããããããããããããããããããããï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[164].length; ++j) if(D[164][j].charCodeAt(0) !== 0xFFFD) { e[D[164][j]] = 41984 + j; d[41984 + j] = D[164][j];}
D[165] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ã¡ã¢ã£ã¤ã¥ã¦ã§ã¨ã©ãªã«ã¬ã­ã®ã¯ã°ã±ã²ã³ã´ãµã¶ã·ã¸ã¹ãºã»ã¼ã½ã¾ã¿ããããããããããããããããããããããããããããããããã ã¡ã¢ã£ã¤ã¥ã¦ã§ã¨ã©ãªã«ã¬ã­ã®ã¯ã°ã±ã²ã³ã´ãµã¶ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[165].length; ++j) if(D[165][j].charCodeAt(0) !== 0xFFFD) { e[D[165][j]] = 42240 + j; d[42240 + j] = D[165][j];}
D[166] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÎÎÎÎÎÎÎÎÎÎÎÎÎÎÎÎ Î¡Î£Î¤Î¥Î¦Î§Î¨Î©ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Î±Î²Î³Î´ÎµÎ¶Î·Î¸Î¹ÎºÎ»Î¼Î½Î¾Î¿ÏÏÏÏÏÏÏÏÏï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¸µï¸¶ï¸¹ï¸ºï¸¿ï¹ï¸½ï¸¾ï¹ï¹ï¹ï¹ï¿½ï¿½ï¸»ï¸¼ï¸·ï¸¸ï¸±ï¿½ï¸³ï¸´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[166].length; ++j) if(D[166][j].charCodeAt(0) !== 0xFFFD) { e[D[166][j]] = 42496 + j; d[42496 + j] = D[166][j];}
D[167] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐ Ð¡Ð¢Ð£Ð¤Ð¥Ð¦Ð§Ð¨Ð©ÐªÐ«Ð¬Ð­Ð®Ð¯ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ð°Ð±Ð²Ð³Ð´ÐµÑÐ¶Ð·Ð¸Ð¹ÐºÐ»Ð¼Ð½Ð¾Ð¿ÑÑÑÑÑÑÑÑÑÑÑÑÑÑÑÑï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[167].length; ++j) if(D[167][j].charCodeAt(0) !== 0xFFFD) { e[D[167][j]] = 42752 + j; d[42752 + j] = D[167][j];}
D[168] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ËËËâââ¥âµâââââââââ£ââ¦â§â¿âââââââââââââââââ â¡â¢â£â¤â¥â¦â§â¨â©âªâ«â¬â­â®â¯â°â±â²â³âââââââï¿½ââââââââââââ¼â½â¢â£â¤â¥ââãããï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÄÃ¡ÇÃ ÄÃ©ÄÃ¨Ä«Ã­ÇÃ¬ÅÃ³ÇÃ²Å«ÃºÇÃ¹ÇÇÇÇÃ¼ÃªÉï¿½ÅÅï¿½É¡ï¿½ï¿½ï¿½ï¿½ãããããããããããããããããããããããããããã ã¡ã¢ã£ã¤ã¥ã¦ã§ã¨ã©ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[168].length; ++j) if(D[168][j].charCodeAt(0) !== 0xFFFD) { e[D[168][j]] = 43008 + j; d[43008 + j] = D[168][j];}
D[169] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ã¡ã¢ã£ã¤ã¥ã¦ã§ã¨ã©ã£ãããããã¡ãããããï¸°ï¿¢ï¿¤ï¿½â¡ã±ï¿½âï¿½ï¿½ï¿½ã¼ããã½ã¾ãããï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¹ ï¹¡ï¿½ï¹¢ï¹£ï¹¤ï¹¥ï¹¦ï¹¨ï¹©ï¹ªï¹«ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ãï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½âââââââââââââââââââââââââââââââââ â¡â¢â£â¤â¥â¦â§â¨â©âªâ«â¬â­â®â¯â°â±â²â³â´âµâ¶â·â¸â¹âºâ»â¼â½â¾â¿ââââââââââââï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[169].length; ++j) if(D[169][j].charCodeAt(0) !== 0xFFFD) { e[D[169][j]] = 43264 + j; d[43264 + j] = D[169][j];}
D[170] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çççç¢ç£ç¤ç¥ç¦ç§çªç«çµç¶ç¹ç½ç¾ç¿ççççççççççççççççççççç ç£ç¤ç¦ç§ç¨ç­ç¯ç°ç²ç³çµç¶çºç»ç¼ç½çççççççççï¿½çççççççççççççççççççç¡ç¢ç£ç¤ç¥ç¦ç§ç¨ç©çªç«ç®ç°ç±ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[170].length; ++j) if(D[170][j].charCodeAt(0) !== 0xFFFD) { e[D[170][j]] = 43520 + j; d[43520 + j] = D[170][j];}
D[171] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç²ç³ç´çµç¶ç·ç¸ç¹çºç»ç¼ç½ç¿çççççççççççççççççççççççç ç¡ç£ç¤ç¥ç¦ç§ç¨çªç¬ç­ç±ç´çµç¶ç¸ç¹ç¼ç½ç¾ç¿ççççççï¿½çççççççççççççççç¡ç¢ç£ç¤ç¦ç¨çªç«ç¬ç®ç¯ç°ç±ç³ç´çµç¶ç·ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[171].length; ++j) if(D[171][j].charCodeAt(0) !== 0xFFFD) { e[D[171][j]] = 43776 + j; d[43776 + j] = D[171][j];}
D[172] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¸ç¹çºç»ç¼ç½ç¾ç¿çççççççççççççççççççççççç ç¡ç£ç¤ç§ç©ç«ç­ç¯ç±ç²ç·ç¸ç¹çºç»ç½ç¾ç¿çççççççççççççï¿½ççççççççççç ç¡ç¢ç£ç¤ç¥ç¦ç§ç¨ç©çªç«ç¬ç®ç¯ç±ç²ç³ç´çµç¸ç¹çºï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[172].length; ++j) if(D[172][j].charCodeAt(0) !== 0xFFFD) { e[D[172][j]] = 44032 + j; d[44032 + j] = D[172][j];}
D[173] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç»ç¼ç½ç¿çççççççççççççççççççççççç ç¡ç¢ç£ç¤ç¥ç¦çªç«ç¬ç­ç®ç¯ç°ç±ç²ç³ç´çµç¶ç·ç¸ç¹ç»ç¼ç½ç¾ç¿ççççççççï¿½çççççççççççççççççççççç¡ç¥ç§ç¨ç©çªç«ç¬ç­ç°ç±ç²ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[173].length; ++j) if(D[173][j].charCodeAt(0) !== 0xFFFD) { e[D[173][j]] = 44288 + j; d[44288 + j] = D[173][j];}
D[174] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç³çµç¸ç¹çºç»ç¼ç½ç¾ççççççççççççççççççççççç ç¡ç¢ç£ç¤ç¦ç§çªç®ç´ç¶ç¹ç¼ç½ç¿çççççççççççççççççï¿½çççç ç¡ç¢ç£ç¤ç§ç¨ç©ç«ç¬ç­ç®ç¯ç°ç±ç³çµç¶ç·çºç»ç¼ç½ç¾ççççççï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[174].length; ++j) if(D[174][j].charCodeAt(0) !== 0xFFFD) { e[D[174][j]] = 44544 + j; d[44544 + j] = D[174][j];}
D[175] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çççççççççççççç¢ç¦ç§ç¨ç©çªç­ç¶ç·çºç»ç¿ççççççççççççççççç ç¡ç¥ç©ç¬ç­ç®ç¯ç²ç³çµç¶ç·ç¸çºç»ç½ç¾ççççï¿½çççççççççççççççç¡ç£ç§ç¨ç¬ç®ç¯ç±ç²ç¶ç·ç¹çºç»ç½çççï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[175].length; ++j) if(D[175][j].charCodeAt(0) !== 0xFFFD) { e[D[175][j]] = 44800 + j; d[44800 + j] = D[175][j];}
D[176] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çççççççççççççççççççççç ç¡ç¢ç¤ç¥ç¦ç§ç¨ç©çªç¬ç­ç®ç°ç±ç²ç³ç´çµç¶ç·ç¹çºç¼ç¿çççççççççççççççççï¿½ççççç ç¡ç¢ç£ç¥ç¦ç§ç¨ç©çªç«ç¬ç­ç¯ç°ç³çµç¶ç·ç¸ç¹çºç»ç¼ç½ç¾çççåé¿åæ¨åååççè¼ç®è¾ç¢ç±ééæ°¨å®ä¿ºææå²¸èºæ¡è®æçå¹æç¬ç¿±è¢å²å¥¥ææ¾³è­ææå­å§ç¬å«ç¤å·´æè·é¶æèåé¸ç½¢ç¸ç½æç¾æä½°è´¥æç¨æç­æ¬æ³è¬é¢æ¿çæ®æä¼´ç£ååç»é¦å¸®æ¢æ¦èç»æ£ç£èéåè°¤èèåè¤å¥ï¿½".split("");
for(j = 0; j != D[176].length; ++j) if(D[176][j].charCodeAt(0) !== 0xFFFD) { e[D[176][j]] = 45056 + j; d[45056 + j] = D[176][j];}
D[177] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ççççççççççççç ç¡ç¢ç£ç¤ç¦ç§ç¨ç©çªç«ç¬ç­ç°ç³çµç¶ç·çºç»ç½ç¿ççççççççççççççççççççççç¡ç£ç¤ç¥ç§çªç«ï¿½ç¬ç®ç°ç±ç²ç³ç´ç¹ç»ç½ç¾ç¿çççççççççççççççççççççèé¹ä¿å ¡é¥±å®æ±æ¥æ´è±¹é²çæ¯ç¢æ²ååè¾èè´é¡åçå¤æ«çè¢«å¥è¯æ¬ç¬¨å´©ç»·ç­æ³µè¹¦è¿¸é¼é¼»æ¯éç¬å½¼ç¢§èè½æ¯æ¯æ¯å¸åºç¹é­æå¼å¿è¾å£èé¿éé­è¾¹ç¼è´¬æä¾¿ååè¾¨è¾©è¾«éæ å½ªèè¡¨é³æå«çªå½¬ææ¿æ»¨å®¾æåµå°æä¸ç§é¥¼ç³ï¿½".split("");
for(j = 0; j != D[177].length; ++j) if(D[177][j].charCodeAt(0) !== 0xFFFD) { e[D[177][j]] = 45312 + j; d[45312 + j] = D[177][j];}
D[178] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çççç ç¤ç§ç©çªç­ç®ç¯ç°ç±ç²ç³ç´çµç¶ç·ç¸çºç»ç¼çççççççççççççççççççççççç¡ç£ç¤ç¦ç¨ç«ç­ç®ç¯ç±ç²ç´ç¶ç·ç¸ç¹çºï¿½ç¼ç¾ççççççççççççççççççççççççççççç ç¡ç¤çå¹¶ç»è æ­æ¨éµæ³¢ååæéç®ä¼¯å¸è¶èèæ¸¤æ³é©³æååºè¡¥å ä¸å¸æ­¥ç°¿é¨ææ¦çè£ææè´¢ç¬è¸©éå½©èè¡é¤åèæ®æ­æ¨ç¿èè±ä»æ²§èæç³æ§½æ¹èåç­ä¾§åæµå±è¹­æåè¬è¶æ¥ç¢´æ½å¯å²å·®è¯§ææ´è±ºææºèé¦è°ç¼ é²äº§éé¢¤æçï¿½".split("");
for(j = 0; j != D[178].length; ++j) if(D[178][j].charCodeAt(0) !== 0xFFFD) { e[D[178][j]] = 45568 + j; d[45568 + j] = D[178][j];}
D[179] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¦ç¨çªç¯ç°ç±ç²ç´çµç·ç¹çºç»ç¼ç ç ç ç ç ç ç ç ç ç ç ç ç ç ç ç ç  ç ¡ç ¢ç ¤ç ¨ç ªç «ç ®ç ¯ç ±ç ²ç ³ç µç ¶ç ½ç ¿ç¡ç¡ç¡ç¡ç¡ç¡ç¡ç¡ç¡ç¡ç¡ç¡ç¡ç¡ç¡ç¡ç¡ï¿½ç¡ç¡ç¡ç¡ç¡ ç¡¡ç¡¢ç¡£ç¡¤ç¡¥ç¡¦ç¡§ç¡¨ç¡©ç¡¯ç¡°ç¡±ç¡²ç¡³ç¡´ç¡µç¡¶ç¡¸ç¡¹ç¡ºç¡»ç¡½ç¡¾ç¡¿ç¢ç¢ç¢ç¢åºå°å¸¸é¿å¿è åæçå±å¡è¶æéæå²æ½®å·¢åµçè½¦æ¯æ¤æ£å½»æ¾é´è£è¾°å°æ¨å¿±æ²éè¶è¡¬æç§°åæ©æåä¹ç¨æ©æ¾è¯æ¿ééªç§¤åç´æåæ± è¿å¼é©°è»é½¿ä¾å°ºèµ¤ç¿æ¥ç½åå²è«å´å® æ½é¬ç´è¸ç¨ æç­¹ä»ç»¸çä¸è­ååºæ©±å¨èºééæ»é¤æ¥ï¿½".split("");
for(j = 0; j != D[179].length; ++j) if(D[179][j].charCodeAt(0) !== 0xFFFD) { e[D[179][j]] = 45824 + j; d[45824 + j] = D[179][j];}
D[180] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¢ç¢ç¢ç¢ç¢ç¢ç¢ç¢ç¢ç¢ç¢ç¢ç¢ç¢ç¢ç¢ ç¢¢ç¢¤ç¢¦ç¢¨ç¢©ç¢ªç¢«ç¢¬ç¢­ç¢®ç¢¯ç¢µç¢¶ç¢·ç¢¸ç¢ºç¢»ç¢¼ç¢½ç¢¿ç£ç£ç£ç£ç£ç£ç£ç£ç£ç£ç£ç£ç£ç£ç£ç£ç£ç£ç£ç£ç£ç£ç£ç£ ç£¡ç£¢ç££ï¿½ç£¤ç£¥ç£¦ç£§ç£©ç£ªç£«ç£­ç£®ç£¯ç£°ç£±ç£³ç£µç£¶ç£¸ç£¹ç£»ç£¼ç£½ç£¾ç£¿ç¤ç¤ç¤ç¤ç¤ç¤ç¤ç¤ç¤ç¤ç¤ç¡å¨çæè§¦å¤æ£å·ç©¿æ¤½ä¼ è¹åä¸²ç®çªå¹¢åºé¯åå¹çæ¶é¤åæ¥æ¤¿éåæ·³çº¯è ¢æ³ç»°çµè¨ç£éè¾æç·è¯æ­¤åºèµæ¬¡èªè±å±åä»ä¸åç²éç°ä¿è¹¿ç¯¡çªæ§å´å¬èçç²¹æ·¬ç¿ æå­å¯¸ç£æ®ææªæ«éæ­è¾¾ç­ç©æå¤§åæ­¹å£æ´å¸¦æ®ä»£è´·è¢å¾é®ï¿½".split("");
for(j = 0; j != D[180].length; ++j) if(D[180][j].charCodeAt(0) !== 0xFFFD) { e[D[180][j]] = 46080 + j; d[46080 + j] = D[180][j];}
D[181] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¤ç¤ç¤ç¤ç¤ç¤ç¤ç¤ç¤ç¤ç¤ç¤ç¤ç¤ç¤ç¤ç¤ç¤ ç¤¡ç¤¢ç¤£ç¤¥ç¤¦ç¤§ç¤¨ç¤©ç¤ªç¤«ç¤¬ç¤­ç¤®ç¤¯ç¤°ç¤±ç¤²ç¤³ç¤µç¤¶ç¤·ç¤¸ç¤¹ç¤½ç¤¿ç¥ç¥ç¥ç¥ç¥ç¥ç¥ç¥ç¥ç¥ç¥ç¥ç¥ç¥ç¥ç¥ç¥ç¥ç¥¡ç¥£ï¿½ç¥¤ç¥¦ç¥©ç¥ªç¥«ç¥¬ç¥®ç¥°ç¥±ç¥²ç¥³ç¥´ç¥µç¥¶ç¥¹ç¥»ç¥¼ç¥½ç¥¾ç¥¿ç¦ç¦ç¦ç¦ç¦ç¦ç¦ç¦ç¦ç¦ç¦ç¦ç¦æ è½æä¸¹åé¸æ¸èæ¦æ°®ä½æ®æ·¡è¯å¼¹èå½æ¡åè¡æ¡£åæ£è¹åå²ç¥·å¯¼å°ç¨»æ¼éçå¾·å¾çè¹¬ç¯ç»ç­çªå³éå ¤ä½æ»´è¿ªæç¬çæ¶¤ç¿å«¡æµåºå°èç¬¬å¸å¼éç¼é¢ ææ»ç¢ç¹å¸éå«çµä½ç¸åºæ¦å¥ æ·æ®¿ç¢å¼éååæåéè°è·ç¹ç¢è¶è¿­è°å ï¿½".split("");
for(j = 0; j != D[181].length; ++j) if(D[181][j].charCodeAt(0) !== 0xFFFD) { e[D[181][j]] = 46336 + j; d[46336 + j] = D[181][j];}
D[182] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¦ç¦ç¦ç¦ç¦ç¦ç¦ç¦ç¦ç¦ç¦ç¦ç¦ ç¦¡ç¦¢ç¦£ç¦¤ç¦¥ç¦¦ç¦¨ç¦©ç¦ªç¦«ç¦¬ç¦­ç¦®ç¦¯ç¦°ç¦±ç¦²ç¦´ç¦µç¦¶ç¦·ç¦¸ç¦¼ç¦¿ç§ç§ç§ç§ç§ç§ç§ç§ç§ç§ç§ç§ç§ç§ç§ç§ç§ç§ç§ç§ç§ ç§¡ç§¢ç§¥ç§¨ç§ªï¿½ç§¬ç§®ç§±ç§²ç§³ç§´ç§µç§¶ç§·ç§¹ç§ºç§¼ç§¾ç§¿ç¨ç¨ç¨ç¨ç¨ç¨ç¨ç¨ç¨ç¨ç¨ç¨ç¨ç¨ç¨ç¨ç¨ç¨ç¨ä¸ç¯å®éé¡¶é¼é­å®è®¢ä¸¢ä¸å¬è£æå¨æ ä¾æ«å»æ´åææé¡è±éçé½ç£æ¯çç¬è¯»å µç¹èµæéèåº¦æ¸¡å¦ç«¯ç­é»æ®µæ­ç¼å åéå¯¹å¢©å¨è¹²æ¦é¡¿å¤éç¾éæåå¤å¤ºåèº²æµè·ºèµåæ°å è¾å³¨é¹ä¿é¢è®¹å¨¥æ¶åæ¼ééé¥¿æ©èå¿è³å°é¥µæ´±äºï¿½".split("");
for(j = 0; j != D[182].length; ++j) if(D[182][j].charCodeAt(0) !== 0xFFFD) { e[D[182][j]] = 46592 + j; d[46592 + j] = D[182][j];}
D[183] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¨ç¨ç¨¡ç¨¢ç¨¤ç¨¥ç¨¦ç¨§ç¨¨ç¨©ç¨ªç¨«ç¨¬ç¨­ç¨®ç¨¯ç¨°ç¨±ç¨²ç¨´ç¨µç¨¶ç¨¸ç¨ºç¨¾ç©ç©ç©ç©ç©ç©ç©ç©ç©ç©ç©ç©ç©ç©ç©ç©ç©ç©ç©ç©ç©ç©ç©ç©ç©ç©ç©ç©ç©ç© ç©¡ç©¢ç©£ç©¤ç©¥ç©¦ç©§ç©¨ï¿½ç©©ç©ªç©«ç©¬ç©­ç©®ç©¯ç©±ç©²ç©³ç©µç©»ç©¼ç©½ç©¾çªçªçªçªçªçªçªçªçªçªçªçªçªçªçªçªçª¡çª¢è´°åç½ç­ä¼ä¹éæ³çè©å¸çªç¿»æ¨ç¾éç¹å¡ç¦åè¿èè´©ç¯é¥­æ³åè³æ¹èªæ¿é²å¦¨ä»¿è®¿çººæ¾è²éå¡é£è¥åªè¯½å èºåºæ²¸è´¹è¬éå©æ°åçº·åçæ±¾ç²å¥ä»½å¿¿æ¤ç²ªä¸°å°æ«èå³°éé£ç¯ç½é¢å¯ç¼è®½å¥å¤ä½å¦å¤«æ·è¤å­µæ¶æè¾å¹æ°ç¬¦ä¼ä¿æï¿½".split("");
for(j = 0; j != D[183].length; ++j) if(D[183][j].charCodeAt(0) !== 0xFFFD) { e[D[183][j]] = 46848 + j; d[46848 + j] = D[183][j];}
D[184] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çª£çª¤çª§çª©çªªçª«çª®çª¯çª°çª±çª²çª´çªµçª¶çª·çª¸çª¹çªºçª»çª¼çª½çª¾ç«ç«ç«ç«ç«ç«ç«ç«ç«ç«ç«ç«ç«ç«ç«ç«ç«ç«ç«ç«ç«ç«ç«ç«ç«ç«ç«ç«¡ç«¢ç«¤ç«§ç«¨ç«©ç«ªç««ç«¬ç«®ç«°ç«±ç«²ç«³ï¿½ç«´ç«µç«¶ç«·ç«¸ç«»ç«¼ç«¾ç¬ç¬ç¬ç¬ç¬ç¬ç¬ç¬ç¬ç¬ç¬ç¬ç¬ç¬ç¬ç¬ç¬ç¬ç¬ç¬¡ç¬¢ç¬£ç¬§ç¬©ç¬­æµ®æ¶ªç¦è¢±å¼ç«æè¾ä¿¯éæ§è¯èåºèèµ´å¯è¦èµå¤åä»éç¶è¹è´å¯è®£éå¦ç¼åå¶åè¯¥æ¹æ¦éçæºå¹²çææç«¿èèµ¶æç§æ¢èµ£ååé¢ç¼¸èçº²å²æ¸¯æ ç¯çé«èç¾ç³æéç¨¿åå¥æ­ææé¸½è³çå²é©èæ ¼è¤ééé¬ä¸ªåç»æ ¹è·èæ´åºç¾¹ï¿½".split("");
for(j = 0; j != D[184].length; ++j) if(D[184][j].charCodeAt(0) !== 0xFFFD) { e[D[184][j]] = 47104 + j; d[47104 + j] = D[184][j];}
D[185] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¬¯ç¬°ç¬²ç¬´ç¬µç¬¶ç¬·ç¬¹ç¬»ç¬½ç¬¿ç­ç­ç­ç­ç­ç­ç­ç­ç­ç­ç­ç­ç­ç­ç­ç­ç­ç­¡ç­£ç­¤ç­¥ç­¦ç­§ç­¨ç­©ç­ªç­«ç­¬ç­­ç­¯ç­°ç­³ç­´ç­¶ç­¸ç­ºç­¼ç­½ç­¿ç®ç®ç®ç®ç®ç®ç®ç®ç®ç®ç®ç®ç®ï¿½ç®ç®ç®ç®ç®ç®ç®ç®ç®ç®ç® ç®£ç®¤ç®¥ç®®ç®¯ç®°ç®²ç®³ç®µç®¶ç®·ç®¹ç®ºç®»ç®¼ç®½ç®¾ç®¿ç¯ç¯ç¯ç¯åè¿æ¢å·¥æ»åæ­é¾ä¾èº¬å¬å®«å¼å·©æ±æ±è´¡å±é©å¾æ²èçå¢æè´­å¤è¾èåç®ä¼°æ²½å­¤å§é¼å¤èéª¨è°·è¡æé¡¾åºéå®çåå¯¡æè¤ä¹ææªæ£ºå³å®å è§ç®¡é¦ç½æ¯çè´¯åå¹¿éç°è§å­ç¡å½é¾éºè½¨é¬¼è¯¡ç¸æ¡æè·ªè´µå½è¾æ»æ£éé­å½æè£¹è¿åï¿½".split("");
for(j = 0; j != D[185].length; ++j) if(D[185][j].charCodeAt(0) !== 0xFFFD) { e[D[185][j]] = 47360 + j; d[47360 + j] = D[185][j];}
D[186] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¯ç¯ç¯ç¯ç¯ç¯ç¯ç¯ç¯ç¯ç¯ç¯ç¯ç¯ç¯ç¯ç¯ç¯ç¯ç¯ ç¯¢ç¯£ç¯¤ç¯§ç¯¨ç¯©ç¯«ç¯¬ç¯­ç¯¯ç¯°ç¯²ç¯³ç¯´ç¯µç¯¶ç¯¸ç¯¹ç¯ºç¯»ç¯½ç¯¿ç°ç°ç°ç°ç°ç°ç°ç°ç°ç°ç°ç°ç°ç°ç°ç°ç°ç°ç°ç°ç°ï¿½ç°ç°ç°ç°ç°ç° ç°¡ç°¢ç°£ç°¤ç°¥ç°¨ç°©ç°«ç°¬ç°­ç°®ç°¯ç°°ç°±ç°²ç°³ç°´ç°µç°¶ç°·ç°¹ç°ºç°»ç°¼ç°½ç°¾ç±éª¸å­©æµ·æ°¦äº¥å®³éªé£æ¨é¯é©å«æ¶µå¯å½åç½ç¿°æ¼ææ±æ¾æçæ±æ±å¤¯æ­èªå£åè±ªæ¯«éå¥½èå·æµ©åµåè·èæ ¸ç¦¾åä½åçè²éæ²³æ¶¸èµ«è¤é¹¤è´ºå¿é»çå¾ç æ¨å¼äº¨æ¨ªè¡¡æè½°åçè¹é¸¿æ´ªå®å¼çº¢åä¾¯ç´å¼åååå¼ä¹å¿½çå£¶è«è¡è´çç³æ¹ï¿½".split("");
for(j = 0; j != D[186].length; ++j) if(D[186][j].charCodeAt(0) !== 0xFFFD) { e[D[186][j]] = 47616 + j; d[47616 + j] = D[186][j];}
D[187] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç±ç±ç±ç±ç±ç±ç±ç±ç±ç±ç±ç±ç±ç±ç±ç±ç±ç±ç±ç±ç±ç±ç±ç±ç±ç±ç±ç±ç± ç±¡ç±¢ç±£ç±¤ç±¥ç±¦ç±§ç±¨ç±©ç±ªç±«ç±¬ç±­ç±®ç±¯ç±°ç±±ç±²ç±µç±¶ç±·ç±¸ç±¹ç±ºç±¾ç±¿ç²ç²ç²ç²ç²ç²ç²ç²ï¿½ç²ç²ç²ç²ç²ç²ç²ç²ç²ç²ç²ç²ç²ç²ç² ç²¡ç²£ç²¦ç²§ç²¨ç²©ç²«ç²¬ç²­ç²¯ç²°ç²´ç²µç²¶ç²·ç²¸ç²ºç²»å¼§èå¬æ¤äºæ²ªæ·è±ååç¾æ»ç»ååè¯æ§å¾ææ·®åæ¬¢ç¯æ¡è¿ç¼æ¢æ£å¤çªè±¢çæ¶£å®¦å¹»èæé»ç£ºèç°§çå°æ¶çæå¹æè°ç°æ¥è¾å¾½æ¢èåæ¯ææ§åæ æ¦è´¿ç§½ä¼ç©æ±è®³è¯²ç»è¤æå©é­æµæ··è±æ´»ä¼ç«è·ææéè´§ç¥¸å»å¾åºæºç¸ç¨½ç§¯ç®ï¿½".split("");
for(j = 0; j != D[187].length; ++j) if(D[187][j].charCodeAt(0) !== 0xFFFD) { e[D[187][j]] = 47872 + j; d[47872 + j] = D[187][j];}
D[188] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç²¿ç³ç³ç³ç³ç³ç³ç³ç³ç³ç³ç³ç³ç³ç³ç³ç³ç³ç³ç³ç³¡ç³¢ç³£ç³¤ç³¥ç³¦ç³§ç³©ç³ªç³«ç³¬ç³­ç³®ç³°ç³±ç³²ç³³ç³´ç³µç³¶ç³·ç³¹ç³ºç³¼ç³½ç³¾ç³¿ç´ç´ç´ç´ç´ç´ç´ç´ç´ç´ç´ç´ç´ç´ç´ç´ï¿½ç´ç´ç´ç´ç´ç´ç´ç´ç´ç´ç´ç´ç´ç´ç´ç´¡ç´£ç´¤ç´¥ç´¦ç´¨ç´©ç´ªç´¬ç´­ç´®ç´°ç´±ç´²ç´³ç´´ç´µç´¶èé¥¥è¿¹æ¿è®¥é¸¡å§¬ç»©ç¼åææ£è¾ç±éåæ¥ç¾æ±²å³å«çº§æ¤å èå·±èæåå­£ä¼ç¥­åæ¸æµå¯å¯è®¡è®°æ¢å¿éå¦ç»§çºªåæ·å¤¹ä½³å®¶å èé¢è´¾ç²é¾åç¨¼ä»·æ¶é©¾å«æ­¼çåå°ç¬ºé´çå¼è©è°å¥¸ç¼è§æ£æ¬ç¢±ç¡·æ£æ¡ç®ä¿­åªåèæ§é´è·µè´±è§é®ç®­ä»¶ï¿½".split("");
for(j = 0; j != D[188].length; ++j) if(D[188][j].charCodeAt(0) !== 0xFFFD) { e[D[188][j]] = 48128 + j; d[48128 + j] = D[188][j];}
D[189] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç´·ç´¸ç´¹ç´ºç´»ç´¼ç´½ç´¾ç´¿çµçµçµçµçµçµçµçµçµçµçµçµçµçµçµçµçµçµçµçµçµçµçµçµçµçµçµçµçµçµçµçµçµ çµ¡çµ¢çµ£çµ¤çµ¥çµ¦çµ§çµ¨çµ©çµªçµ«çµ¬çµ­çµ¯çµ°çµ±çµ²çµ³çµ´çµµçµ¶ï¿½çµ¸çµ¹çµºçµ»çµ¼çµ½çµ¾çµ¿ç¶ç¶ç¶ç¶ç¶ç¶ç¶ç¶ç¶ç¶ç¶ç¶ç¶ç¶ç¶ç¶ç¶ç¶ç¶ç¶ç¶ç¶ç¶ç¶ç¶å¥è°åé¥¯æ¸æºæ¶§å»ºåµå§å°æµæ±çèæ¡¨å¥è®²å é±éèæ¤ç¤ç¦è¶äº¤éæµéªå¨å¼æé°ç«ä¾¥èç¡è§é¥ºç¼´ç»å¿æéµè½¿è¾å«çªæ­æ¥çç§¸è¡é¶æªå«èæ¡æ°æ·ç«ç«­æ´ç»è§£å§æèè¥çåä»ç¥è¯«å±å·¾ç­æ¤éä»æ´¥è¥ç´§é¦ä»è°¨è¿é³æç¦è¿ç¬æµ¸ï¿½".split("");
for(j = 0; j != D[189].length; ++j) if(D[189][j].charCodeAt(0) !== 0xFFFD) { e[D[189][j]] = 48384 + j; d[48384 + j] = D[189][j];}
D[190] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¶ç¶ç¶ç¶ç¶ç¶ç¶ç¶ ç¶¡ç¶¢ç¶£ç¶¤ç¶¥ç¶§ç¶¨ç¶©ç¶ªç¶«ç¶¬ç¶­ç¶¯ç¶°ç¶±ç¶²ç¶³ç¶´ç¶µç¶¶ç¶·ç¶¸ç¶¹ç¶ºç¶»ç¶¼ç¶½ç¶¾ç¶¿ç·ç·ç·ç·ç·ç·ç·ç·ç·ç·ç·ç·ç·ç·ç·ç·ç·ç·ç·ç·ç·ç·ç·ç·ç·ç·ï¿½ç·ç·ç·ç·ç·ç·ç· ç·¡ç·¢ç·£ç·¤ç·¥ç·¦ç·§ç·¨ç·©ç·ªç·«ç·¬ç·­ç·®ç·¯ç·°ç·±ç·²ç·³ç·´ç·µç·¶ç··ç·¸ç·¹ç·ºå°½å²èå¢èçæ¶é²¸äº¬æç²¾ç²³ç»äºè­¦æ¯é¢éå¢æ¬éå¾çéç«ç«åç¯çªæªç©¶çº çé­ä¹ç¸ä¹éå©ææ§è¼èåå°±çé æçç½å±é©¹èå±åç©ä¸¾æ²®èææ®å·¨å·è·è¸é¯ä¿±å¥æ§ç¬å§æé¹å¨å¦ç·å·ç»¢ææ«ææåçµè§å³è¯ç»åèé§ååå³»ï¿½".split("");
for(j = 0; j != D[190].length; ++j) if(D[190][j].charCodeAt(0) !== 0xFFFD) { e[D[190][j]] = 48640 + j; d[48640 + j] = D[190][j];}
D[191] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç·»ç·¼ç·½ç·¾ç·¿ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ç¸ ç¸¡ç¸¢ç¸£ç¸¤ç¸¥ç¸¦ç¸§ç¸¨ç¸©ç¸ªç¸«ç¸¬ç¸­ç¸®ç¸¯ç¸°ç¸±ç¸²ç¸³ç¸´ç¸µç¸¶ç¸·ç¸¸ç¸¹ï¿½ç¸ºç¸¼ç¸½ç¸¾ç¸¿ç¹ç¹ç¹ç¹ç¹ç¹ç¹ç¹ç¹ç¹ç¹ç¹ç¹ç¹ç¹ç¹ç¹ç¹ç¹ç¹ç¹ç¹ç¹ç¹ç¹ç¹ç¹ç¹ä¿ç«£æµé¡éªååå¡å¯å¼æ©æ¥·å¯æ¨åå ªååç çåº·æ·ç³ ææäº¢çèæ·ç¤é å·èæ¯æ£µç£é¢ç§å£³å³å¯æ¸´åå»å®¢è¯¾è¯åå¦æ³åå­ç©ºæå­æ§æ å£æ£å¯æ¯å­çªè¦é·åºè£¤å¤¸å®æè·¨è¯åç­·ä¾©å¿«å®½æ¬¾å¡ç­çæ¡ç¿ç¶æ·åµäºçå²¿çª¥èµå¥é­åï¿½".split("");
for(j = 0; j != D[191].length; ++j) if(D[191][j].charCodeAt(0) !== 0xFFFD) { e[D[191][j]] = 48896 + j; d[48896 + j] = D[191][j];}
D[192] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¹ç¹ç¹ ç¹¡ç¹¢ç¹£ç¹¤ç¹¥ç¹¦ç¹§ç¹¨ç¹©ç¹ªç¹«ç¹¬ç¹­ç¹®ç¹¯ç¹°ç¹±ç¹²ç¹³ç¹´ç¹µç¹¶ç¹·ç¹¸ç¹¹ç¹ºç¹»ç¹¼ç¹½ç¹¾ç¹¿çºçºçºçºçºçºçºçºçºçºçºçºçºçºçºçºçºçºçºçºçºçºçºçºçºçºçºçºçºï¿½çº®çº´çº»çº¼ç»ç»¤ç»¬ç»¹ç¼ç¼ç¼ç¼·ç¼¹ç¼»ç¼¼ç¼½ç¼¾ç¼¿ç½ç½ç½ç½ç½ç½ç½ç½ç½ç½ç½ç½ç½ç½ç½é¦æ§æºå¤ææå°æ¬æ©å»éåæåè¡èè¾£å¦è±æ¥èµèå©ªæ æ¦ç¯®éå°æ¾è°°æ½è§æç¼çæ»¥çæ¦ç¼å»éææµªæå³ç¢èä½¬å§¥éªçæ¶åä¹é·é­è¾ç£ç´¯å¡åæèç±»æ³ªæ£±æ¥å·åæ¢¨çé»ç¯±ç¸ç¦»æ¼çæéé²¤ç¤¼èèåæ ä¸½åå±ç ¾åå©åä¾ä¿ï¿½".split("");
for(j = 0; j != D[192].length; ++j) if(D[192][j].charCodeAt(0) !== 0xFFFD) { e[D[192][j]] = 49152 + j; d[49152 + j] = D[192][j];}
D[193] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç½ç½ç½ç½ç½ç½ç½ ç½£ç½¤ç½¥ç½¦ç½§ç½«ç½¬ç½­ç½¯ç½°ç½³ç½µç½¶ç½·ç½¸ç½ºç½»ç½¼ç½½ç½¿ç¾ç¾ç¾ç¾ç¾ç¾ç¾ç¾ç¾ç¾ç¾ç¾ç¾ç¾ç¾ç¾ç¾ç¾ç¾ç¾ç¾ç¾ç¾ç¾ ç¾¢ç¾£ç¾¥ç¾¦ç¾¨ç¾©ç¾ªç¾«ç¾¬ç¾­ç¾®ç¾±ï¿½ç¾³ç¾´ç¾µç¾¶ç¾·ç¾ºç¾»ç¾¾ç¿ç¿ç¿ç¿ç¿ç¿ç¿ç¿ç¿ç¿ç¿ç¿ç¿ç¿ç¿ç¿ç¿ç¿ç¿ç¿ç¿ç¿ç¿ç¿¢ç¿£ç¢ç«ç²æ²¥é¶åçå©ä¿©èè²è¿é°å»ææ¶å¸æè¸é¾æç¼ç»ç²®åæ¢ç²±è¯ä¸¤è¾éæ¾äº®è°æ©èåççå¯¥è¾½æ½¦äºæé£å»æåè£çå£çç³æç£·éä¸´é»é³æ·åèµåæç²è±é¶é¾éä¼¶ç¾åçµéµå²­é¢å¦ä»¤æºçæ¦´ç¡«é¦çåç¤æµæ³å­é¾èåç¬¼çª¿ï¿½".split("");
for(j = 0; j != D[193].length; ++j) if(D[193][j].charCodeAt(0) !== 0xFFFD) { e[D[193][j]] = 49408 + j; d[49408 + j] = D[193][j];}
D[194] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¿¤ç¿§ç¿¨ç¿ªç¿«ç¿¬ç¿­ç¿¯ç¿²ç¿´ç¿µç¿¶ç¿·ç¿¸ç¿¹ç¿ºç¿½ç¿¾ç¿¿èèèèèèèèèèèèèèè¡è£è¤è«è¬è­è®è¯è°è²è´è¹èºè¼è¾èèèèèèèèèèèèèèèï¿½èèèèèèè è¡è¢è£è¤è¥è¦è§è¨è«è¬è­è®è¯è°è²è³è´èµè¶è·è¸è¹èºè»è¼è½éåæ¢éæ¥¼å¨æç¯æ¼éè¦å¢é¢åºçæ³å¤èé²éºç¢é²è·¯èµé¹¿æ½ç¦å½éæ®é©´åéä¾£æå±¥å±¡ç¼èæ°¯å¾çæ»¤ç»¿å³¦æå­ªæ»¦åµä¹±æ ç¥æ¡è½®ä¼¦ä»æ²¦çº¶è®ºèèºç½é»é£ç®©éª¡è£¸è½æ´éªç»å¦éº»çç èé©¬éªåååä¹°éº¦åè¿èçé¦è®æ»¡èæ¼æ¢æ¼«ï¿½".split("");
for(j = 0; j != D[194].length; ++j) if(D[194][j].charCodeAt(0) !== 0xFFFD) { e[D[194][j]] = 49664 + j; d[49664 + j] = D[194][j];}
D[195] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¾èèèèèèèèèèèèèèèèè£è¦è§è¨è¬è°è³èµè¶è¸è¹è»èèèèèèèèèèèèèèèè è¢è£è¦è®èµè·è¹è»è¾è¿èèèèèèèèï¿½èèèèèèèèè è¡è¢è£è¤è¥è¦è§è¨è©èªè«è­è®è°è³è´èµè·è¹èºè»è¼è½è¿è°©èè«ç²æ°å¿è½ç«èéæ¯çéå¯èåå¸½è²è´¸ä¹ç«ææ¢é¶éç¤æ²¡çåªéæ¯ç¾æ§å¯å¦¹åªé¨é·ä»¬èèæª¬çé°çæ¢¦å­ç¯éé¡ç³è¿·è°å¼¥ç±³ç§è§æ³èå¯å¹æ£ç ç»µåååå¨©ç¼é¢èæçèç§æ¸ºåºå¦èç­æ°æ¿ç¿ææ¯é½æèé¸£é­åå½è°¬æ¸ï¿½".split("");
for(j = 0; j != D[195].length; ++j) if(D[195][j].charCodeAt(0) !== 0xFFFD) { e[D[195][j]] = 49920 + j; d[49920 + j] = D[195][j];}
D[196] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èèèèèèèèèèèèèèèèèèèèè¡è¢è£è¤è¦è¨èªè«è¬è¯è²è³èµè¶è·è¸èèèèèèèèèèèèèèèèèèèèèèè è¡è¢è¤è¥ï¿½è§è©è«è¬è­è®è¯è°è±è²è´èµè¶è·è¸è¹è¼è½è¾è¿èèèèèèèèèèèèèæ¹èæ¨¡èç£¨æ©é­æ¹æ«è«å¢¨é»æ²«æ¼ å¯éè°çææç¡äº©å§æ¯å¢æ®å¹åææ¨ç®ç¦ç§ç©æ¿åªåé é£å¨çº³æ°ä¹å¥¶èå¥åç·é¾åæ èæ¼é¹æ·å¢é¦åå«©è½å¦®éåªæ³¥å°¼æä½ å¿è»éæººè«æå¹´ç¢¾æµæ»å¿µå¨é¿é¸å°¿æèå­½å®ééæ¶æ¨æ çåå®ï¿½".split("");
for(j = 0; j != D[196].length; ++j) if(D[196][j].charCodeAt(0) !== 0xFFFD) { e[D[196][j]] = 50176 + j; d[50176 + j] = D[196][j];}
D[197] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èèèèèèèèèèèèè è¡è¢è¤è¥è¦è¨è©è«è®è¯è°è±è²èµè¶è·è¸è¹èºè½è¿èèèèèèèèèèèèèèèèèè è¤è¥è¦è§è©è®è²èºè¼è½è¿ï¿½èèèèèèèèèèèèèèèèèèèèèèèèè è¡è¢è£è¤è¥è¦è§è©æ§æ³çæ­é®çº½èæµåå¼å¥´åªæå¥³æèçæªæ¦ç³¯è¯ºå¦æ¬§é¸¥æ®´èåå¶æ²¤åªè¶´ç¬å¸æç¶ææçå¾æ¹æ´¾ææ½çç£ç¼çå¤åä¹åºæèªèæåå¨ç®è¢è·æ³¡å¸èå¹è£´èµéªéä½©æ²å·çç °æ¨ç¹æ¾å½­è¬æ£ç¡¼ç¯·è¨æé¹æ§ç¢°å¯ç é¹æ¹æ«åçµæ¯ï¿½".split("");
for(j = 0; j != D[197].length; ++j) if(D[197][j].charCodeAt(0) !== 0xFFFD) { e[D[197][j]] = 50432 + j; d[50432 + j] = D[197][j];}
D[198] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èªè«è¬è­è±èµè¶è·è¸è»è¼èèèèèèèèèèèèèèèèè è¢è£è§è²èµè¶èºè»è¼è¿èèèèèèèèèèèè¢è§è¨è©èªè¬è­è®è°è²è³èµè¶è¸ï¿½èºè¼è½è¾è¿èèèèèèèèèèèèèè è¡è¢è£è¤è¥è¦è©èªè®è°è²è·è»è½å¤è¾ç²ç®å¹çå»å±è­¬ç¯åçéªé£æ¼ç¢ç¥¨æç¥æ¼é¢è´«åèä¹åªè¹èå¹³å­ç¶è¯å±å¡æ³¼é¢å©ç ´é­è¿«ç²åæéºä»èè¡è©è²åæ´åæ®æµ¦è°±æçææ¬ºæ æå¦»ä¸åæ¼ææ²å¶æ£å¥æ­§ç¦å´èé½æç¥ç¥éªèµ·å²ä¹ä¼å¯å¥ç å¨æ°è¿å¼æ±½æ³£è®«æï¿½".split("");
for(j = 0; j != D[198].length; ++j) if(D[198][j].charCodeAt(0) !== 0xFFFD) { e[D[198][j]] = 50688 + j; d[50688 + j] = D[198][j];}
D[199] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¾è¿èèèèèèèèèèèèèèèèèè¢è°è±è²è³è´èµè¶è¹èºè¾è¿èèèèèèèèèèèèèèèèèèèèèèè¡è¢è£è¤è¥è¦è§è¬è­è®ï¿½è¯èµè»è¾è¿èèèèèèèèèèèèèèèèèèèè¢è£è¤è¦è§è¨è«è¬è­æ°æ´½çµæ¦ééåè¿ç­¾ä»è°¦ä¹¾é»é±é³åæ½é£æµè°´å åµæ¬ æ­æªåèç¾å¢è·å¼ºæ¢æ©é¹æ²ææ¡¥ç§ä¹ä¾¨å·§éæ¬ç¿å³­ä¿çªåèä¸æ¯çªé¦ä¾µäº²ç§¦ç´å¤è¹æç¦½å¯æ²éè½»æ°¢å¾å¿æ¸ææ´æ°°æé¡·è¯·åºç¼ç©·ç§ä¸é±çæ±åéæ³è¶åºèæ²èº¯å±é©±æ¸ ï¿½".split("");
for(j = 0; j != D[199].length; ++j) if(D[199][j].charCodeAt(0) !== 0xFFFD) { e[D[199][j]] = 50944 + j; d[50944 + j] = D[199][j];}
D[200] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è®è¯è³è´èµè¶è·èºè»è¼è¾è¿èèèèèèèèèèèèèèèèèèèè è¡è¢è£è©èªè«è¬è­è®è¯è°è²è³è´èµè¶è·è¹èºè»è¾è¿èèèèèèèèèï¿½èèèèèèèèèèèèèèèèè è¢è¤è¥è¦è§è¨èªè®è¯è°è²è´è·è¹è»è¼åå¨¶é¾è¶£å»åé¢§æéæ³å¨çæ³ç¬å¸åç¼ºçç¸å´é¹æ¦·ç¡®éè£ç¾¤ç¶çåæç¤å£¤æå·è®©é¥¶æ°ç»æ¹ç­å£¬ä»äººå¿é§ä»»è®¤åå¦çº«æä»æ¥æè¸èè£èçæº¶å®¹ç»åææèè¹è åå­ºå¦è¾±ä¹³æ±å¥è¤¥è½¯é®èçéé°æ¶¦è¥å¼±ææ´è¨è®é³å¡èµä¸åï¿½".split("");
for(j = 0; j != D[200].length; ++j) if(D[200][j].charCodeAt(0) !== 0xFFFD) { e[D[200][j]] = 51200 + j; d[51200 + j] = D[200][j];}
D[201] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è½è¾è¿èèèèèèèèèèèèèèèèèèèèèèè è¢è£è¤è¥è¦è§è¨è©èªè«è¬è­è®è°è±è³èµè¶è·è»è¼è¾èèèèèèèèèèèèèèèï¿½èèèèèèè¡è¢è¤è§è¨è©èªè«è­è®è¯è±è²è³è´èµè¶è·è¸è¹èºè»è½è¾èèèä¼æ£æ¡åä¸§æéªæ«å«çè²æ¶©æ£®å§èç æå¹æ²çº±å»å¥çç­æçè«æå±±å ç½è¡«éªéæèµ¡è³åæ±æç¼®å¢ä¼¤åèµæä¸å°è£³æ¢¢æç¨ç§èåºé¶å°å¨éµç»å¥¢èµèèèèµ¦æå°ææ¶ç¤¾è®¾ç ·ç³å»ä¼¸èº«æ·±å¨ ç»ç¥æ²å®¡å©¶çè¾ææ¸å£°çç¥ç²åç»³ï¿½".split("");
for(j = 0; j != D[201].length; ++j) if(D[201][j].charCodeAt(0) !== 0xFFFD) { e[D[201][j]] = 51456 + j; d[51456 + j] = D[201][j];}
D[202] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èèèèèèèèèèèèèèèèèèèèèèèè è¢è£è¤è¥è¦è§è¨è©èªè­è®è¯è°è±è²è³è´èµè¶è¾è¿èèèèèèèèèèèèèèèèèèï¿½èèèèèèèè è¡è¢è£è¥è¦è§è©èªè«è¬è­è®è¯è°è±è³èµè¶è·è¸è¼è½è¿èèççå©èå£å¸å¤±ç®æ½æ¹¿è¯å°¸è±åç³æ¾æ¶ä»é£èå®è¯å²ç¢ä½¿å±é©¶å§å¼ç¤ºå£«ä¸æ¿äºæ­èªéå¿æ¯åå¬éä»ä¾éé¥°æ°å¸æå®¤è§è¯æ¶æé¦å®å¯¿æå®åç¦å½è¬æ¢æ¢³æ®æè¾åèæ·çä¹¦èµå­°çè¯ææç½²èé»é¼ å±æ¯è¿°æ ææç«å¢åº¶æ°æ¼±ï¿½".split("");
for(j = 0; j != D[202].length; ++j) if(D[202][j].charCodeAt(0) !== 0xFFFD) { e[D[202][j]] = 51712 + j; d[51712 + j] = D[202][j];}
D[203] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èèèèèèèèèèèèèèèèèèèèèèèèè è¡è¢è£è¥è¦è§è©è«è¬è­è±è²è³è´èµè¶è¸èºè»è¼è½è¾è¿èèèèèèèèèèèèèèèï¿½èèèèèèèèèèè è¡è¢è£è¥è¦è§è¨èªè«è¬è­è®è¯è°è±è²è³è´èµè¶è·è¸æå·èæè¡°ç©å¸æ æ´éåç½è°æ°´ç¡ç¨å®ç¬é¡ºèè¯´ç¡æçæ¯æå¶æç§å¸ä¸æ­»èå¯ºå£åä¼ºä¼¼é¥²å·³æ¾è¸æé¢éå®è®¼è¯µæèæå½èé¥ä¿ç´ éç²å³å¡æº¯å®¿è¯èé¸èç®è½ééç»¥é«ç¢å²ç©éé§ç¥å­æç¬èæ¢­åç¼©çç´¢éæå¡ä»å®å¥¹å¡ï¿½".split("");
for(j = 0; j != D[203].length; ++j) if(D[203][j].charCodeAt(0) !== 0xFFFD) { e[D[203][j]] = 51968 + j; d[51968 + j] = D[203][j];}
D[204] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¹èºè¼è½è¾èèèèèèèèèèèèèèèèèèèèèèèèèèèèèè è¡è¢è£è¤è¥è¦è¨èªè«è¬è­è®è¯è°è±è²è³è´èµè¶è·è¹èºè»è½è¾è¿èï¿½èèèèèèèèèèèèèèèèèèèèèèèè è¡è£è¤è¥è¦è§è¨è©èªç­æè¹è¸èèæ¬å°æ³°éå¤ªææ±°åæè´ªç«æ»©åæªç°æ½­è°­è°å¦æ¯¯è¢ç¢³æ¢å¹ç­æ±¤å¡æªå æ£ èåç³åèººæ·è¶ç«ææ¶æ»ç»¦èæ¡éæ·é¶è®¨å¥ç¹è¤è¾ç¼èªæ¢¯åè¸¢éæé¢è¹å¼ä½æ¿åææ¶åå±å¤©æ·»å¡«ç°çæ¬èèææ¡è¿¢çºè·³è´´éå¸åå¬çï¿½".split("");
for(j = 0; j != D[204].length; ++j) if(D[204][j].charCodeAt(0) !== 0xFFFD) { e[D[204][j]] = 52224 + j; d[52224 + j] = D[204][j];}
D[205] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è­è¯è°è²è³è´èµè¶è·è¸èèèèèèèèèèèèèèèèèèèèèè è¡è¢è¥è¦è«è­è®è²è³è·è¸è¹è»è¼è½è¾è¿èèèèèèèèèèèèèèï¿½èè è¡è¢è£è¥è¦è§è¨èªè«è¬è¯èµè¶è·èºè»è¼è½è¿èèèèèèèèèèèèæ±å»·åäº­åº­æºèéæ¡é®ç³åéå½¤ç«¥æ¡¶æç­ç»çå·æå¤´éå¸ç§çªå¾å¾éæ¶å± åååæ¹å¢æ¨é¢è¿èè¤ªéåå±¯èææè±é¸µéé©®é©¼æ¤­å¦¥æå¾æåèæ´¼å¨ç¦è¢æ­ªå¤è±å¼¯æ¹¾ç©é¡½ä¸¸ç·å®ç¢æ½æçæå®å©ä¸èæ±ªçäº¡æç½å¾æºæå¿å¦å¨ï¿½".split("");
for(j = 0; j != D[205].length; ++j) if(D[205][j].charCodeAt(0) !== 0xFFFD) { e[D[205][j]] = 52480 + j; d[52480 + j] = D[205][j];}
D[206] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èèèèè è¤è¦è§è¨èªè«è¬è­è¯è°è²è³èµè¶è¸è¹èºè¼è½èèèèèèèèèèèèèèèèèèèèèèèèè¡è¢è¦è§è¨è©èªè«è¬è­è¯è±è²è³èµï¿½è·è¸è¹èºè¿èèèèèèèèèèèèèèèèèèèèèèèè è¡è¢è£è¤å·å¾®å±é¦è¿æ¡å´å¯æä¸ºæ½ç»´èèå§ä¼ä¼ªå°¾çº¬æªèå³çèåé­ä½æ¸­è°å°æ°å«çæ¸©èæé»çº¹å»ç¨³ç´é®å¡ç¿ç®æèæ¶¡çªææ¡å§æ¡æ²å·«åé¨ä¹æ±¡è¯¬å±æ èæ¢§å¾å´æ¯æ­¦äºæåèä¼ä¾®åæé¾æ¤ç©å¿å¡æè¯¯æçæè¥¿ç¡ç½æ°å»å¸é¡çºï¿½".split("");
for(j = 0; j != D[206].length; ++j) if(D[206][j].charCodeAt(0) !== 0xFFFD) { e[D[206][j]] = 52736 + j; d[52736 + j] = D[206][j];}
D[207] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¥è¦è§è©èªè®è°è±è²è´è¶è·è¸è¹è»è¼è¾è¿èèèèèèèèèèèèèèèèèèèèèèèèè¡è¢è£è¤è¦è§è¨è©è«è¬è­è¯è°è±è²è³è´èµè¶è·è¸ï¿½èºè»è¼è½è¿è è è è è è è è è è è è è è è è è è è è è è è è è è è  è £ç¨æ¯å¸æèå¤æçç¯æºªæ±çæªè¢­å¸­ä¹ åª³åé£æ´ç³»éæç»çè¾å£éè¾æå³¡ä¾ ç­ä¸å¦å¤åæé¨åä»é²çº¤å¸è´¤è¡è·é²æ¶å¼¦å«æ¾é©ç°ç®å¿èºé¦ç¾¡å®ªé·éçº¿ç¸å¢é¶é¦ç®±è¥æ¹ä¹¡ç¿ç¥¥è¯¦æ³åäº«é¡¹å··æ©¡ååè±¡è§ç¡éåå®å£éæ¶å®µæ·æï¿½".split("");
for(j = 0; j != D[207].length; ++j) if(D[207][j].charCodeAt(0) !== 0xFFFD) { e[D[207][j]] = 52992 + j; d[52992 + j] = D[207][j];}
D[208] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è ¤è ¥è ¦è §è ¨è ©è ªè «è ¬è ­è ®è ¯è °è ±è ³è ´è µè ¶è ·è ¸è ºè »è ½è ¾è ¿è¡è¡è¡è¡è¡è¡è¡è¡è¡è¡è¡è¡è¡è¡è¡è¡è¡è¡è¡è¡è¡è¡è¡è¡è¡ è¡¦è¡§è¡ªè¡­è¡¯è¡±è¡³è¡´è¡µè¡¶è¡¸è¡¹è¡ºï¿½è¡»è¡¼è¢è¢è¢è¢è¢è¢è¢è¢è¢è¢è¢è¢è¢è¢è¢è¢è¢è¢è¢è¢è¢è¢è¢ è¢¡è¢£è¢¥è¢¦è¢§è¢¨è¢©è¢ªå°å­æ ¡èå¸ç¬ææ¥äºæ­èéåææºéªæèè°åæ¢°å¸è¹ææ³æ³»è°¢å±èªè¯éæ¬£è¾æ°å¿»å¿ä¿¡è¡æè¥ç©æºå´ååå½¢é¢è¡éå¹¸ææ§å§åå¶è¸åæ±¹éçä¼ä¿®ç¾æ½åéç§è¢ç»£å¢æéèåé¡»å¾è®¸èéåæ­åºçæ¤çµ®å©¿ç»ªç»­è½©å§å®£æ¬æçï¿½".split("");
for(j = 0; j != D[208].length; ++j) if(D[208][j].charCodeAt(0) !== 0xFFFD) { e[D[208][j]] = 53248 + j; d[53248 + j] = D[208][j];}
D[209] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¢¬è¢®è¢¯è¢°è¢²è¢³è¢´è¢µè¢¶è¢¸è¢¹è¢ºè¢»è¢½è¢¾è¢¿è£è£è£è£è£è£è£è£è£è£è£è£è£è£è£è£è£è£è£è£è£ è£¡è£¦è£§è£©è£ªè£«è£¬è£­è£®è£¯è£²è£µè£¶è£·è£ºè£»è£½è£¿è¤è¤è¤è¤è¤è¤è¤è¤ï¿½è¤è¤è¤è¤è¤è¤è¤è¤è¤è¤è¤è¤è¤è¤è¤è¤è¤ è¤¢è¤£è¤¤è¤¦è¤§è¤¨è¤©è¤¬è¤­è¤®è¤¯è¤±è¤²è¤³è¤µè¤·éç£ç©ç»é´èå­¦ç©´éªè¡åçå¾ªæ¬è¯¢å¯»é©¯å·¡æ®æ±è®­è®¯éè¿åæ¼é¸¦é¸­åä¸«è½çèå´è¡æ¶¯éåäºè®¶çå½éçæ·¹çä¸¥ç èå²©å»¶è¨é¢éçæ²¿å¥æ©ç¼è¡æ¼è³å °çåç éåå½¦ç°å®´è°éªæ®å¤®é¸¯ç§§æ¨æ¬ä½¯ç¡ç¾æ´é³æ°§ä»°çå»æ ·æ¼¾éè°å¦ç¶ï¿½".split("");
for(j = 0; j != D[209].length; ++j) if(D[209][j].charCodeAt(0) !== 0xFFFD) { e[D[209][j]] = 53504 + j; d[53504 + j] = D[209][j];}
D[210] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¤¸è¤¹è¤ºè¤»è¤¼è¤½è¤¾è¤¿è¥è¥è¥è¥è¥è¥è¥è¥è¥è¥è¥è¥è¥è¥è¥è¥è¥è¥è¥è¥è¥è¥è¥è¥è¥è¥è¥è¥è¥ è¥¡è¥¢è¥£è¥¤è¥¥è¥§è¥¨è¥©è¥ªè¥«è¥¬è¥­è¥®è¥¯è¥°è¥±è¥²è¥³è¥´è¥µè¥¶è¥·è¥¸è¥¹è¥ºè¥¼ï¿½è¥½è¥¾è¦è¦è¦è¦è¦è¦è¦è¦è¦è¦è¦è¦è¦è¦è¦è¦è¦è¦è¦è¦è¦è¦è¦è¦è¦è¦è¦è¦è¦è¦ è¦¡æå°§é¥çªè°£å§å¬èè¯è¦èæ¤°åè¶ç·éå¶ä¹é¡µæä¸å¶æ³èå¤æ¶²ä¸å£¹å»æé±ä¾ä¼è¡£é¢å¤·éç§»ä»ªè°çæ²å®å§¨å½æ¤èåå·²ä¹ç£ä»¥èºææéå±¹äº¿å½¹èé¸èç«äº¦è£ææ¯å¿ä¹çæº¢è¯£è®®è°è¯å¼ç¿¼ç¿ç»èµè«å æ®·é³é´å§»åé¶æ·«å¯é¥®å°¹å¼éï¿½".split("");
for(j = 0; j != D[210].length; ++j) if(D[210][j].charCodeAt(0) !== 0xFFFD) { e[D[210][j]] = 53760 + j; d[53760 + j] = D[210][j];}
D[211] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¦¢è¦£è¦¤è¦¥è¦¦è¦§è¦¨è¦©è¦ªè¦«è¦¬è¦­è¦®è¦¯è¦°è¦±è¦²è¦³è¦´è¦µè¦¶è¦·è¦¸è¦¹è¦ºè¦»è¦¼è¦½è¦¾è¦¿è§è§è§è§è§è§è§è§è§è§è§è§è§ è§¡è§¢è§¤è§§è§¨è§©è§ªè§¬è§­è§®è§°è§±è§²è§´è§µè§¶è§·è§¸è§¹è§ºï¿½è§»è§¼è§½è§¾è§¿è¨è¨è¨è¨è¨è¨è¨è¨è¨è¨è¨è¨è¨è¨è¨è¨è¨è¨è¨è¨è¨è¨è¨è¨è¨è¨è¨è¨å°è±æ¨±å©´é¹°åºç¼¨è¹è¤è¥è§èè¿èµ¢çå½±é¢ç¡¬æ åæ¥ä½£èçåº¸éè¸è¹åæ³³æ¶æ°¸æ¿åç¨å¹½ä¼æ å¿§å°¤ç±é®éç¹æ²¹æ¸¸éæåå³ä½éè¯±åå¹¼è¿æ·¤äºçæ¦èæèä½ä¿é¾é±¼ææ¸æ¸éäºå¨±é¨ä¸å±¿ç¦¹å®è¯­ç¾½çåèéåéå»å³ªå¾¡ææ¬²ç±è²èªï¿½".split("");
for(j = 0; j != D[211].length; ++j) if(D[211][j].charCodeAt(0) !== 0xFFFD) { e[D[211][j]] = 54016 + j; d[54016 + j] = D[211][j];}
D[212] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¨è¨è¨ è¨¡è¨¢è¨£è¨¤è¨¥è¨¦è¨§è¨¨è¨©è¨ªè¨«è¨¬è¨­è¨®è¨¯è¨°è¨±è¨²è¨³è¨´è¨µè¨¶è¨·è¨¸è¨¹è¨ºè¨»è¨¼è¨½è¨¿è©è©è©è©è©è©è©è©è©è©è©è©è©è©è©è©è©è©è©è©è©è©è©è©è©è©è©è©è©è©ï¿½è©è© è©¡è©¢è©£è©¤è©¥è©¦è©§è©¨è©©è©ªè©«è©¬è©­è©®è©¯è©°è©±è©²è©³è©´è©µè©¶è©·è©¸è©ºè©»è©¼è©½è©¾è©¿èªæµ´å¯è£é¢è±«é©­é¸³æ¸å¤åå£è¢åæ´è¾å­ååç¿æºç¼è¿èæ¿æ¨é¢æ°çº¦è¶è·é¥å²³ç²¤ææ¦éèäºé§åé¨åè¿è´éæéµå­åç ¸ææ ½åç¾å®°è½½åå¨å±ææèµèµèè¬é­ç³å¿è»æ£æ©æ¾¡è¤èºåªé çç¶ç¥è´£æ©åæ³½è´¼æå¢ææ¾èµ æå³æ¸£æ­è½§ï¿½".split("");
for(j = 0; j != D[212].length; ++j) if(D[212][j].charCodeAt(0) !== 0xFFFD) { e[D[212][j]] = 54272 + j; d[54272 + j] = D[212][j];}
D[213] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èªèªèªèªèªèªèªèªèªèªèªèªèªèªèªèªèªèªèªèªèªèªèªèªèªèªèªèªèª èª¡èª¢èª£èª¤èª¥èª¦èª§èª¨èª©èªªèª«èª¬èª­èª®èª¯èª°èª±èª²èª³èª´èªµèª¶èª·èª¸èª¹èªºèª»èª¼èª½èª¾èª¿è«è«è«ï¿½è«è«è«è«è«è«è«è«è«è«è«è«è«è«è«è«è«è«è«è«è«è«è«è«è«è«è«è«è«è« è«¡è«¢è«£é¡é¸ç¨æ æ¦¨åä¹ç¸è¯ææå®çªåºå¯¨ç»æ¯¡è©¹ç²æ²¾çæ©è¾å´­å±è¸æ å æç«æ¹ç»½æ¨ç« å½°æ¼³å¼ ææ¶¨æä¸å¸è´¦ä»èç´éææ­æ¾æ²¼èµµç§ç½©åèå¬é®æå²è°è¾èéèè¿æµçæççç §è»è´éä¾¦æç¹è¯éæ¯ééµè¸æ£çå¾ç°äºææ´æ¯æ­£æ¿ï¿½".split("");
for(j = 0; j != D[213].length; ++j) if(D[213][j].charCodeAt(0) !== 0xFFFD) { e[D[213][j]] = 54528 + j; d[54528 + j] = D[213][j];}
D[214] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è«¤è«¥è«¦è«§è«¨è«©è«ªè««è«¬è«­è«®è«¯è«°è«±è«²è«³è«´è«µè«¶è«·è«¸è«¹è«ºè«»è«¼è«½è«¾è«¿è¬è¬è¬è¬è¬è¬è¬è¬è¬è¬è¬è¬è¬è¬è¬è¬è¬è¬è¬è¬è¬è¬è¬è¬è¬è¬è¬è¬è¬è¬è¬è¬ è¬¡è¬¢è¬£ï¿½è¬¤è¬¥è¬§è¬¨è¬©è¬ªè¬«è¬¬è¬­è¬®è¬¯è¬°è¬±è¬²è¬³è¬´è¬µè¬¶è¬·è¬¸è¬¹è¬ºè¬»è¬¼è¬½è¬¾è¬¿è­è­è­è­è­è­å¸§çéè¯èææ¯å±èç¥è¢èæ±ä¹ç»èç´æ¤æ®æ§å¼ä¾åææ­¢è¶¾åªæ¨çº¸å¿ææ·è³è´ç½®å¸å³å¶æºç§©ç¨è´¨ççæ»æ²»çªä¸­çå¿ éè¡·ç»ç§è¿éä»²ä¼èå¨å·æ´²è¯ç²¥è½´èå¸åç±å®æ¼éª¤ç æ ªèæ±çªè¯¸è¯éç«¹çç®æç©å±ä¸»èæ±å©èè´®é¸ç­ï¿½".split("");
for(j = 0; j != D[214].length; ++j) if(D[214][j].charCodeAt(0) !== 0xFFFD) { e[D[214][j]] = 54784 + j; d[54784 + j] = D[214][j];}
D[215] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è­è­è­è­è­è­è­è­è­è­è­è­è­è­è­è­è­è­è­è­è­è­è­è­è­è­è­ è­¡è­¢è­£è­¤è­¥è­§è­¨è­©è­ªè­«è­­è­®è­¯è­°è­±è­²è­³è­´è­µè­¶è­·è­¸è­¹è­ºè­»è­¼è­½è­¾è­¿è®è®è®è®è®è®è®ï¿½è®è®è®è®è®è®è®è®è®è®è®è®è®è®è®è®è®è®è®è®è®è®è®è®è®è®¬è®±è®»è¯è¯è¯ªè°è°ä½æ³¨ç¥é©»æçªæ½ä¸ç è½¬æ°èµç¯æ¡©åºè£å¦æå£®ç¶æ¤é¥è¿½èµå ç¼è°åææåæ¡ç¢èéåçç¼æµå¹å¨èµå§¿æ»æ·å­ç´«ä»ç±½æ»å­èªæ¸å­é¬æ£è¸ªå®ç»¼æ»çºµé¹èµ°å¥æç§è¶³åæç¥è¯é»ç»é»çºå´éæç½ªå°éµæ¨å·¦ä½æåä½ååº§ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[215].length; ++j) if(D[215][j].charCodeAt(0) !== 0xFFFD) { e[D[215][j]] = 55040 + j; d[55040 + j] = D[215][j];}
D[216] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è°¸è°¹è°ºè°»è°¼è°½è°¾è°¿è±è±è±è±è±è±è±è±è±è±è±è±è±è±è±è±è±è±è±è±è±è±è±è±è±è± è±£è±¤è±¥è±¦è±§è±¨è±©è±¬è±­è±®è±¯è±°è±±è±²è±´è±µè±¶è±·è±»è±¼è±½è±¾è±¿è²è²è²è²è²è²ï¿½è²è²è²è²è²è²è²è²è²è²è²è²è²è²è²è²è²è²è²è² è²¡è²¢è²£è²¤è²¥è²¦è²§è²¨è²©è²ªè²«è²¬è²­äºä¸åä¸å»¿åä¸äºä¸é¬²å­¬å©ä¸¨ç¦ºä¸¿åä¹å¤­ç»å®æ°åè¤é¦æ¯ç¾é¼ä¸¶äºé¼ä¹ä¹©äºèå­å¬åä»ååå£å¥å®é¥èµååµå¦å®å¾èµå¦å£åååå­å³å¿åååå¡åè¯å½åååååç½äº»ä»ä»ä»ä»¨ä»¡ä»«ä»ä¼ä»³ä¼¢ä½¤ä»µä¼¥ä¼§ä¼ä¼«ä½ä½§æ¸ä½ä½ï¿½".split("");
for(j = 0; j != D[216].length; ++j) if(D[216][j].charCodeAt(0) !== 0xFFFD) { e[D[216][j]] = 55296 + j; d[55296 + j] = D[216][j];}
D[217] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è²®è²¯è²°è²±è²²è²³è²´è²µè²¶è²·è²¸è²¹è²ºè²»è²¼è²½è²¾è²¿è³è³è³è³è³è³è³è³è³è³è³è³è³è³è³è³è³è³è³è³è³è³è³è³è³è³è³è³è³è³è³è³è³ è³¡è³¢è³£è³¤è³¥è³¦è³§è³¨è³©è³ªè³«è³¬ï¿½è³­è³®è³¯è³°è³±è³²è³³è³´è³µè³¶è³·è³¸è³¹è³ºè³»è³¼è³½è³¾è³¿è´è´è´è´è´è´è´è´è´è´è´è´è´è´ä½ä½ä¼²ä¼½ä½¶ä½´ä¾ä¾ä¾ä¾ä½¾ä½»ä¾ªä½¼ä¾¬ä¾ä¿¦ä¿¨ä¿ªä¿ä¿ä¿£ä¿ä¿ä¿ä¿¸å©åä¿³å¬åå®å­ä¿¾ååå¥å¨å¾ååååå¬å»å¥å§å©åºååå­å¬å¦å®ååä»æ°½ä½ä½¥ä¿é¾ æ±ç±´å®å·½é»é¦åå¤å¹åè¨åå«å¤åäº åäº³è¡®è¢¤äºµèè£ç¦å¬´è ç¾¸å«å±å½å¼ï¿½".split("");
for(j = 0; j != D[217].length; ++j) if(D[217][j].charCodeAt(0) !== 0xFFFD) { e[D[217][j]] = 55552 + j; d[55552 + j] = D[217][j];}
D[218] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è´è´è´è´è´è´è´è´è´è´è´è´è´è´è´è´ èµèµèµèµèµ¥èµ¨èµ©èµªèµ¬èµ®èµ¯èµ±èµ²èµ¸èµ¹èµºèµ»èµ¼èµ½èµ¾èµ¿è¶è¶è¶è¶è¶è¶è¶è¶è¶è¶è¶è¶è¶è¶è¶è¶è¶è¶è¶è¶è¶è¶è¶è¶è¶ è¶¡ï¿½è¶¢è¶¤è¶¥è¶¦è¶§è¶¨è¶©è¶ªè¶«è¶¬è¶­è¶®è¶¯è¶°è¶²è¶¶è¶·è¶¹è¶»è¶½è·è·è·è·è·è·è·è·è·è·è·è·è·ååå¢å¥è® è®¦è®§è®ªè®´è®µè®·è¯è¯è¯è¯è¯è¯è¯è¯è¯è¯è¯è¯è¯è¯ è¯¤è¯¨è¯©è¯®è¯°è¯³è¯¶è¯¹è¯¼è¯¿è°è°è°è°è°è°è°è°è°è°è°è°è°è°è°è°è° è°¡è°¥è°§è°ªè°«è°®è°¯è°²è°³è°µè°¶å©åºéé¢é¡é±éªé½é¼ééééé§é¬é²é´éééé°ééééé¬é¡é´é³é¶éºï¿½".split("");
for(j = 0; j != D[218].length; ++j) if(D[218][j].charCodeAt(0) !== 0xFFFD) { e[D[218][j]] = 55808 + j; d[55808 + j] = D[218][j];}
D[219] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è·è·è·è·è· è·¡è·¢è·¥è·¦è·§è·©è·­è·®è·°è·±è·²è·´è·¶è·¼è·¾è·¿è¸è¸è¸è¸è¸è¸è¸è¸è¸è¸è¸è¸è¸è¸è¸è¸è¸è¸è¸è¸è¸è¸è¸è¸ è¸¡è¸¤è¸¥è¸¦è¸§è¸¨è¸«è¸­è¸°è¸²è¸³è¸´è¸¶è¸·è¸¸è¸»è¸¼è¸¾ï¿½è¸¿è¹è¹è¹è¹è¹è¹è¹è¹è¹è¹è¹è¹è¹è¹è¹è¹è¹è¹è¹è¹è¹ è¹¡è¹¢è¹£è¹¤è¹¥è¹§è¹¨è¹ªè¹«è¹®è¹±é¸é°ééé¾ééééé¦é¢éééé«é¯é¾éé¢éé£é±é¯é¹ééåå¥å¢å¬å­å¾å¿ååå°åç®çå»´åµå¼é¬¯å¶å¼çå·¯åå©å¡å¡¾å¢¼å£å£å©å¬åªå³å¹å®å¯åå»åå©åå«åå¼å»å¨å­å¶å³å­å¤åå²åå§å´åå åååååå¸å´å¯å¸å¤åï¿½".split("");
for(j = 0; j != D[219].length; ++j) if(D[219][j].charCodeAt(0) !== 0xFFFD) { e[D[219][j]] = 56064 + j; d[56064 + j] = D[219][j];}
D[220] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¹³è¹µè¹·è¹¸è¹¹è¹ºè¹»è¹½è¹¾èºèºèºèºèºèºèºèºèºèºèºèºèºèºèºèºèºèºèºèºèºèºèºèºèº èº¡èº¢èº£èº¤èº¥èº¦èº§èº¨èº©èºªèº­èº®èº°èº±èº³èº´èºµèº¶èº·èº¸èº¹èº»èº¼èº½èº¾èº¿è»è»è»ï¿½è»è»è»è»è»è»è»è»è»è»è»è»è»è»è»è»è»è»è»è»è»è»è»è»è»è»è»è»è» è»¡è»¢è»£è»¤å å å½å­å å å å¡å  å¡¥å¡¬å¢å¢å¢å¢é¦¨é¼æ¿è¹è½è¿èèè¨èèèèèè«è¸è¾è°èèè£èè·è®èèèè©è´è¡èªèèèè¤è¡èè·è¤èèèè´èèèè»èèèèèèè èèèèèèèè¼è´è±èèè¯èèèèèèè è­èºè³è¦è¥ï¿½".split("");
for(j = 0; j != D[220].length; ++j) if(D[220][j].charCodeAt(0) !== 0xFFFD) { e[D[220][j]] = 56320 + j; d[56320 + j] = D[220][j];}
D[221] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è»¥è»¦è»§è»¨è»©è»ªè»«è»¬è»­è»®è»¯è»°è»±è»²è»³è»´è»µè»¶è»·è»¸è»¹è»ºè»»è»¼è»½è»¾è»¿è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼è¼ è¼¡è¼¢è¼£ï¿½è¼¤è¼¥è¼¦è¼§è¼¨è¼©è¼ªè¼«è¼¬è¼­è¼®è¼¯è¼°è¼±è¼²è¼³è¼´è¼µè¼¶è¼·è¼¸è¼¹è¼ºè¼»è¼¼è¼½è¼¾è¼¿è½è½è½è½è½è¨èè©è¬èªè­è®è°è¸è³è´è èªèèèè¼è¶è©è½è¸è»èèè¨èºè¼èèè¥èå èèèè½èèè¸èèèèèèè¸è¹èªèèè¦è°è¡èèèèè³èèèºèè¸è¼èè©è¶èèè±è­èèèè¦è½èèè¿èºè è¡è¹è´èè¥è£èçè¸è°è¹èèºï¿½".split("");
for(j = 0; j != D[221].length; ++j) if(D[221][j].charCodeAt(0) !== 0xFFFD) { e[D[221][j]] = 56576 + j; d[56576 + j] = D[221][j];}
D[222] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è½è½è½è½è½è½è½è½è½è½è½è½è½è½è½è½è½è½è½è½è½è½è½è½è½è½è½è½ è½¡è½¢è½£è½¤è½¥è½ªè¾è¾è¾è¾è¾ è¾¡è¾¢è¾¤è¾¥è¾¦è¾§è¾ªè¾¬è¾­è¾®è¾¯è¾²è¾³è¾´è¾µè¾·è¾¸è¾ºè¾»è¾¼è¾¿è¿è¿è¿ï¿½è¿è¿è¿è¿è¿è¿è¿è¿è¿è¿è¿ è¿¡è¿£è¿§è¿¬è¿¯è¿±è¿²è¿´è¿µè¿¶è¿ºè¿»è¿¼è¿¾è¿¿éééééééèè»è¿è¼èèè¨è¤èèºç¢èè²è»è¤è¨èèè¹è®èèè¹è·è°èèèè¿è§èè©èè¼å»¾å¼å¤¼å¥è·å¥å¥å¥åå°¢å°¥å°¬å°´ææªææ»ææææ®æ¢æ¶æ¹æææ­æ¶æ±æºææ´æ­æ¬ææ©æ®æ¼æ²æ¸æ æ¿ææææææ¾æææææ ææ¦æ¡æææ­æï¿½".split("");
for(j = 0; j != D[222].length; ++j) if(D[222][j].charCodeAt(0) !== 0xFFFD) { e[D[222][j]] = 56832 + j; d[56832 + j] = D[222][j];}
D[223] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ééé£é¤é¥é§é¨é©éªé«é¬é°é±é²é³é´é·é¹éºé½é¿éééééééééééééééééééé é¡é¤é¦é§é©éªé«é¬é¯é°é±é²é³é¶é·é¸é¹éºé»é¼é¾éï¿½éééééééééééééééééééé é¤é¥é§é¨é©é«é­é²é·é¼é½é¿éæºæ·æ¸ææºææææ¤æ¢ææ¥æ®å¼å¿çå¼åå±å½å©å¨å»åååååååååå¡ååå£å²ååå·å±å¤åååå¶å¦ååå­åå´åå§å¦ååå²å£åå»å¿ååååå©åªå¤ååååå§å å½åå³å¢å£ååå§åªå§ååµåå­ååå¿åå¼ï¿½".split("");
for(j = 0; j != D[223].length; ++j) if(D[223][j].charCodeAt(0) !== 0xFFFD) { e[D[223][j]] = 57088 + j; d[57088 + j] = D[223][j];}
D[224] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½éééééééééééééééééé é£é¤é¥é©éªé¬é®é°é±é²é³éµé¶é·é¹éºé»é¼é¿ééééééééééééééééééééééééééï¿½ééé é¡é¤é¥é¦é§é¨é©éªé«é¬é­é®é°é²é³é´éµé¶é·é¸éºé»é¼é½é¾é¿ééééå·ååµå¶å·å³å°ååååå±å¹åååå¾ååå»åå½å¾åååªå·åååå«å¬åå¦ååå¯å¥å²å³ååå¨åµå¤è¾ååååå¤å£å¾åå§å­åå¹åå¬åå¢åååååå¤å±å«å»å¼ååå¯åååå¡åµå«å¹å¿ååååå¸å¸å¸å¸å¸±å¸»å¸¼ï¿½".split("");
for(j = 0; j != D[224].length; ++j) if(D[224][j].charCodeAt(0) !== 0xFFFD) { e[D[224][j]] = 57344 + j; d[57344 + j] = D[224][j];}
D[225] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½éééééééééééééé é¦é§é¨é«é­é³éºé»é¼éééééééééééééééééééééé é¡é¤é¥é¦é§é¨é©é«é¬é°é±é²é³é¶é·é¸é¹é»ï¿½é¼é½é¾é¿éééééééééééééééééééééééé é¡é¢é£é¤é¥å¸·å¹å¹å¹å¹å¹¡å²å±ºå²å²å²å²å²å²å²å²å²å²µå²¢å²½å²¬å²«å²±å²£å³å²·å³å³å³¤å³å³¥å´å´å´§å´¦å´®å´¤å´å´å´åµå´¾å´´å´½åµ¬åµåµ¯åµåµ«åµåµåµ©åµ´å¶å¶å¶è±³å¶·å·å½³å½·å¾å¾å¾å¾å¾å¾å¾å¾¨å¾­å¾µå¾¼è¡¢å½¡ç­ç°ç´ç·ç¸çççççç¨ç¯ç©ç²ç´ç·çç³ççºï¿½".split("");
for(j = 0; j != D[225].length; ++j) if(D[225][j].charCodeAt(0) !== 0xFFFD) { e[D[225][j]] = 57600 + j; d[57600 + j] = D[225][j];}
D[226] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¦é§é¨é©éªé«é¬é­é®é¯é°é±é²é³é´éµé¶é·é¸é¹éºé»é¼é½é¾é¿ééééééééééééééééééééééééééééééééé é¡é¢é£é¤ï¿½é¥é¦é§é¨é©éªé«é¬é­é®é¯é°é±é²é³é´éµé¶é·é¸é¹éºé»é¼é½é¾é¿ééééééç»ççç¡ççççç¢ç¹ç¥ç¬ç¸ç±çççç ç¬ç¯ç¾èå¤¥é£§å¤¤å¤é¥£é¥§é¥¨é¥©é¥ªé¥«é¥¬é¥´é¥·é¥½é¦é¦é¦é¦é¦é¦é¦é¦é¦é¦åºåºåºåºåº¥åº åº¹åºµåº¾åº³èµå»å»å»å»¨å»ªèºå¿å¿å¿å¿æå¿®æå¿¡å¿¤å¿¾ææå¿ªå¿­å¿¸ææµæ¦ææææ©æ«ææ¿æ¡æ¸æ¹æ»æºæï¿½".split("");
for(j = 0; j != D[226].length; ++j) if(D[226][j].charCodeAt(0) !== 0xFFFD) { e[D[226][j]] = 57856 + j; d[57856 + j] = D[226][j];}
D[227] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ééééééééééééééééééééééééééé é¡é¢é£é¤é¥é¦é§é¨é©éªé«é¬é­é®é¯é°é±é²é³éµé¶é·é¸é¹éºé»é¼é½é¾é¿ééééééï¿½éééééééééééééééééééééééééé é¡é¢é£é¤é¥é¦é§æªæ½æææ­ææææææ¬æ»æ±æææææ´æ æ¦ææ£æ´æææ«ææµæ¬ææ§æ·ææµå¿é³é©é«é±é³éµé¶é¼é¾éééééééééééééééä¸¬ç¿ææ°µæ±æ±æ±æ²£æ²æ²æ²æ²æ±¨æ±©æ±´æ±¶æ²æ²©æ³æ³æ²­æ³·æ³¸æ³±æ³æ²²æ³ æ³æ³ºæ³«æ³®æ²±æ³æ³¯æ³¾ï¿½".split("");
for(j = 0; j != D[227].length; ++j) if(D[227][j].charCodeAt(0) !== 0xFFFD) { e[D[227][j]] = 58112 + j; d[58112 + j] = D[227][j];}
D[228] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¨é©éªé«é¬é­é¯é°é±é²é³é´éµé¶é·é¸é¹éºé»é¼é½é¾é¿éééééééééééééééééééééééééééééééé é¡é¢é£é¤é¥é¦é§é¨ï¿½é©éªé«é¬é­é®é¯é°é±é²é³é´éµé¶é·é¸é¹éºé»é¼é½é¾é¿ééééééééééæ´¹æ´§æ´æµæµæ´æ´æ´æ´æ´«æµæ´®æ´µæ´æµæµæµæ´³æ¶æµ¯æ¶æ¶ æµæ¶æ¶æµæµ æµ¼æµ£æ¸æ·æ·æ·æ¸æ¶¿æ· æ¸æ·¦æ·æ·æ¸æ¶«æ¸æ¶®æ¸«æ¹®æ¹æ¹«æº²æ¹æºæ¹æ¹æ¸²æ¸¥æ¹æ»æº±æºæ» æ¼­æ»¢æº¥æº§æº½æº»æº·æ»æº´æ»æºæ»æºæ½¢æ½æ½æ¼¤æ¼æ»¹æ¼¯æ¼¶æ½æ½´æ¼ªæ¼æ¼©æ¾æ¾æ¾æ½¸æ½²æ½¼æ½ºæ¿ï¿½".split("");
for(j = 0; j != D[228].length; ++j) if(D[228][j].charCodeAt(0) !== 0xFFFD) { e[D[228][j]] = 58368 + j; d[58368 + j] = D[228][j];}
D[229] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ééééééééééééééééééééééé é¡é¢é£é¤é¥é¦é§é¨é©éªé«é¬é­é®é¯é°é±é²é³é´éµé¶é·é¸é¹éºé»é¼é½é¿ééééééééééï¿½ééééééééééééééééééééééé é¡é¢é£é¤é¥é¦é§é¨é©é«æ¿æ¾§æ¾¹æ¾¶æ¿æ¿¡æ¿®æ¿æ¿ æ¿¯çç£çç¹çµççå®å®å®å®å®¥å®¸ç¯éªæ´å¯¤å¯®è¤°å¯°è¹è¬è¾¶è¿è¿è¿¥è¿®è¿¤è¿©è¿¦è¿³è¿¨éééé¦éééé¡éµé¶é­é¯ééééé¨éé¢éæ¹é´é½ééééå½å½å½å½å°»å«å±å±å­±å±£å±¦ç¾¼å¼ªå¼©å¼­è´å¼¼é¬»å±®å¦å¦å¦å¦©å¦ªå¦£ï¿½".split("");
for(j = 0; j != D[229].length; ++j) if(D[229][j].charCodeAt(0) !== 0xFFFD) { e[D[229][j]] = 58624 + j; d[58624 + j] = D[229][j];}
D[230] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¬é­é®é¯é°é±é²é³é´éµé¶é·é¸é¹éºé»é¼é½é¾é¿éééééééééééééééééééééééééééééééé é¡é¢é£é¤é¥é¦é§é¨é©éªé«ï¿½é¬é­é®é¯é°é±é²é³é´éµé¶é·é¸é¹éºé»é¼é½é¾é¿éééééééééééééå¦å§å¦«å¦å¦¤å§å¦²å¦¯å§å¦¾å¨å¨å§å¨å§£å§å§¹å¨å¨å¨²å¨´å¨å¨£å¨å©å©§å©å©å¨¼å©¢å©µè¬åªªåªå©·å©ºåª¾å««åª²å«å«åª¸å« å«£å«±å«å«¦å«å«å¬å¬å¬å¬²å¬·å­å°å°å­å­¥å­³å­å­å­¢é©µé©·é©¸é©ºé©¿é©½éªéªéªéªéªéªéªéªéªéªéªéªéªéªéª éª¢éª£éª¥éª§çºçº¡çº£çº¥çº¨çº©ï¿½".split("");
for(j = 0; j != D[230].length; ++j) if(D[230][j].charCodeAt(0) !== 0xFFFD) { e[D[230][j]] = 58880 + j; d[58880 + j] = D[230][j];}
D[231] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½éééééééééééééééééé é¡é¢é£é¤é¥é¦é§é¨é©éªé«é¬é­é®é¯é°é±é²é³é´éµé¶é·é¸é¹éºé»é¼é½é¾é¿ééééééééééééééï¿½ééééééééééééééééééé é¡é¢é£é¤é¥é¦é§é¨é©éªé«é¬é­é®çº­çº°çº¾ç»ç»ç»ç»ç»ç»ç»ç»ç»ç»ç» ç»¡ç»¨ç»«ç»®ç»¯ç»±ç»²ç¼ç»¶ç»ºç»»ç»¾ç¼ç¼ç¼ç¼ç¼ç¼ç¼ç¼ç¼ç¼ç¼ç¼ç¼ç¼ç¼ç¼¡ç¼¢ç¼£ç¼¤ç¼¥ç¼¦ç¼§ç¼ªç¼«ç¼¬ç¼­ç¼¯ç¼°ç¼±ç¼²ç¼³ç¼µå¹ºç¿å·ç¾éççç®ç¢ççççç·ç³çççç¥çé¡¼çç©ç§ççºç²ççªçç¦ç¥ç¨ç°ç®ç¬ï¿½".split("");
for(j = 0; j != D[231].length; ++j) if(D[231][j].charCodeAt(0) !== 0xFFFD) { e[D[231][j]] = 59136 + j; d[59136 + j] = D[231][j];}
D[232] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¯é°é±é²é³é´éµé¶é·é¸é¹éºé»é¼é½é¿ééééééééééééééééééééééééééééééééé é¡é¢é£é¤é¥é¦é§é¨é©éªé¬é­é®é¯ï¿½é°é±é²é³é´éµé¶é·é¸é¹éºé»é¼é½é¾é¿éééééééééééééé¦é»éé çççççççç·ç­ç¾çççççççç¨ç©çç§ççºéªé«é¬æææææ©æ¥ææªæ³ææ§æµæ¨ææ­ææ·æ¼æ°æ ææ æ©æ°æ ææµææ³ææ ææ¸æ¢æ ææ½æ ²æ ³æ¡ æ¡¡æ¡æ¡¢æ¡æ¡¤æ¢æ æ¡æ¡¦æ¡æ¡§æ¡æ ¾æ¡æ¡æ ©æ¢µæ¢æ¡´æ¡·æ¢æ¡«æ£æ¥®æ£¼æ¤æ¤ æ£¹ï¿½".split("");
for(j = 0; j != D[232].length; ++j) if(D[232][j].charCodeAt(0) !== 0xFFFD) { e[D[232][j]] = 59392 + j; d[59392 + j] = D[232][j];}
D[233] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é§é³é½éééééé é®é´éµé·é¸é¹éºé»é¼é½é¾ééééééééééééééééééééééééééééééééé é¡é¢é£é¤é¥é¦é§é¨é©éªï¿½é«é¬é­é®é¯é°é±é²é³é´éµé¶é·é¸é¹éºé»é¼é½é¾é¿ééééééééééééæ¤¤æ£°æ¤æ¤æ¥æ££æ¤æ¥±æ¤¹æ¥ æ¥æ¥æ¦æ¥«æ¦æ¦æ¥¸æ¤´æ§æ¦æ¦æ§æ¦æ¥¦æ¥£æ¥¹æ¦æ¦§æ¦»æ¦«æ¦­æ§æ¦±æ§æ§æ§æ¦æ§ æ¦æ§¿æ¨¯æ§­æ¨æ¨æ©¥æ§²æ©æ¨¾æª æ©æ©æ¨µæªæ©¹æ¨½æ¨¨æ©æ©¼æªæªæª©æªæª«ç·çæ®æ®æ®æ®æ®æ®æ®æ®æ®æ®¡æ®ªè½«è½­è½±è½²è½³è½µè½¶è½¸è½·è½¹è½ºè½¼è½¾è¾è¾è¾è¾è¾ï¿½".split("");
for(j = 0; j != D[233].length; ++j) if(D[233][j].charCodeAt(0) !== 0xFFFD) { e[D[233][j]] = 59648 + j; d[59648 + j] = D[233][j];}
D[234] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ééééééééééééééééééééé é¡é¢é£é¤é¥é¦é§é¬é¿éééééé é£é¤é¥é¦é§é¨é©é«é¬é­é¯é°é·é¸é¹éºé¾ééééééééééï¿½ééééééé é£é¥é¦é«é­é®é¯é°é±é³é¸é¹éºé»é¼é½é¾é¿ééééééééè¾è¾è¾è¾è¾è»æææææ¢æ¡æ¥æ¤æ¬è§ç¯ç´ç¿çççæ´æ®æ¯æ°æææ²æææçæ·ææ´æ±æ¶æµèææææææ¡ææ·æææ§ææ¾æææ¦æ©è´²è´³è´¶è´»è´½èµèµèµèµèµèµèµèµèµè§è§è§è§è§è§è§è§ç®ççç¦ç¯ç¾ç¿çççççææ²æ°ï¿½".split("");
for(j = 0; j != D[234].length; ++j) if(D[234][j].charCodeAt(0) !== 0xFFFD) { e[D[234][j]] = 59904 + j; d[59904 + j] = D[234][j];}
D[235] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ééééééééééééé é¡é¢é£é¤é¥é¦é¨é©éªé«é¬é­é®é¯é±é²é´éµé·é¸éºé»é¿éééééééééééééééééééé¡é¢é£é¤é¥é¦é§é«ï¿½é¬é­é®é°é±é²é´éµé¸éºé»é¼é½é¿ééééééééééééééééééé æ¿æèæ¯ªæ¯³æ¯½æ¯µæ¯¹æ°æ°æ°æ°æ°æ°æ°æ°æ°¡æ°©æ°¤æ°ªæ°²æµææ«çççç°è¢åèèèè¼æè½è±è«è­è´è·è§è¨è©èªèèèèèèæèè«è±è´è­èèè²è¼æèè±è¶èè¬èè²èèèè´èèè±è è©è¼è½è­è§å¡åªµèèèæ»è£èªèæ¦èè»ï¿½".split("");
for(j = 0; j != D[235].length; ++j) if(D[235][j].charCodeAt(0) !== 0xFFFD) { e[D[235][j]] = 60160 + j; d[60160 + j] = D[235][j];}
D[236] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¡é¢é£é¤é¥é¦é§é¨é©é«é¬é®é¯é±é³é´éµé¶é·éºé»é¼é½é¿ééééééééééééééééééééééééééé£é¤é¦é§é¨éªé«é¬é­é®é¯é°é±ï¿½é²éµé·é¸é¹éºé»é½é¾é¿éééééééééééééééééééééééèè¦æ¬¤æ¬·æ¬¹æ­æ­æ­é£é£é£é£é£é£æ®³å½æ¯è§³æé½ææ¼æææææææççççç»çç·ç«ç±ç¨ççççç¯ç±ç³çç¨çç²çç¸çºçç³çµç¨ç ç çç§ç¹çç¨ç¬çç¦ç¹æ¾æ½æææç¤»ç¥ç¥ç¥ç¥ç¥ç¥ç¥ç¥¢ç¥ç¥ ç¥¯ç¥§ç¥ºç¦ç¦ç¦ç¦§ç¦³å¿å¿ï¿½".split("");
for(j = 0; j != D[236].length; ++j) if(D[236][j].charCodeAt(0) !== 0xFFFD) { e[D[236][j]] = 60416 + j; d[60416 + j] = D[236][j];}
D[237] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ééé¡é¢é¤é¥é¦é§é¨é©éªé¬é®é°é±é³éµé¶é·é¸é¹éºé»é¼é½é¾é¿ééééééééééééééééééééééééééééééééé é¡é¢é£ï¿½é¤é¥é¨é®é¯é°é±é²é´é·é¸é¹éºé»é¼é½é¾é¿é é é é é é é é é é é é é é é æ¼æææ§æææ£æ«ææææ©ææææèè¿æ²æ³¶æ·¼ç¶ç¸ç ç ç ç ç æ«ç ­ç ç ç ¹ç ºç »ç ç ¼ç ¥ç ¬ç £ç ©ç¡ç¡­ç¡ç¡ç ¦ç¡ç¡ç¡ç¡ªç¢ç¢ç¢ç¢ç¢ç¢¡ç¢£ç¢²ç¢¹ç¢¥ç£ç£ç£ç£¬ç£²ç¤ç£´ç¤ç¤¤ç¤ç¤´é¾é»¹é»»é»¼ç±ççç¹çççç¢çç­ç¦çµç¸çççççç¨ï¿½".split("");
for(j = 0; j != D[237].length; ++j) if(D[237][j].charCodeAt(0) !== 0xFFFD) { e[D[237][j]] = 60672 + j; d[60672 + j] = D[237][j];}
D[238] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é é é é é é é é é é é é é é é é é é  é ¡é ¢é £é ¤é ¥é ¦é §é ¨é ©é ªé «é ¬é ­é ®é ¯é °é ±é ²é ³é ´é µé ¶é ·é ¸é ¹é ºé »é ¼é ½é ¾é ¿é¡é¡é¡é¡é¡é¡é¡é¡é¡é¡é¡é¡é¡é¡ï¿½é¡é¡é¡é¡é¡é¡é¡é¡é¡é¡é¡é¡é¡é¡é¡é¡é¡é¡é¡ é¡¡é¡¢é¡£é¡¤é¡¥é¡¦é¡§é¡¨é¡©é¡ªé¡«é¡¬é¡­é¡®ç¢ç¥ç¿çç½ççççç ç°çµç½çºçççççç²ç¹çç½ç½¡ç½è©ç½¨ç½´ç½±ç½¹ç¾ç½¾çç¥è ²éééééééééééééééé£é¤é«éªé­é¬é¯é°é²é´é¶é·é¸é¹éºé¼é½é¿éééééééééééééééééééé é¢é¤é¥é§é¨éªï¿½".split("");
for(j = 0; j != D[238].length; ++j) if(D[238][j].charCodeAt(0) !== 0xFFFD) { e[D[238][j]] = 60928 + j; d[60928 + j] = D[238][j];}
D[239] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¡¯é¡°é¡±é¡²é¡³é¡´é¢é¢é¢é¢é¢é¢£é¢¨é¢©é¢ªé¢«é¢¬é¢­é¢®é¢¯é¢°é¢±é¢²é¢³é¢´é¢µé¢¶é¢·é¢¸é¢¹é¢ºé¢»é¢¼é¢½é¢¾é¢¿é£é£é£é£é£é£é£é£é£é£é£é£é£é£é£é£é£é£é£é£é£é£é£ é£¡é£¢é££é£¤ï¿½é£¥é£¦é£©é£ªé£«é£¬é£­é£®é£¯é£°é£±é£²é£³é£´é£µé£¶é£·é£¸é£¹é£ºé£»é£¼é£½é£¾é£¿é¤é¤é¤é¤é¤é¤é¤é¤é©é«é®é¯é³é´éµé·é¹é¼é½é¿éééééééééééééééééééé¢éªé«é©é¬é±é²é´é¶é·é¸é¼é¾é¿ééµééééééééééééééééééé¡é¢é¤é¥é¦é§é¨é©éªé«é¬é¯é±é²é³éºç§ç¬éç§ç§­ç§£ç§«ç¨åµç¨ç¨ç¨ç¨ï¿½".split("");
for(j = 0; j != D[239].length; ++j) if(D[239][j].charCodeAt(0) !== 0xFFFD) { e[D[239][j]] = 61184 + j; d[61184 + j] = D[239][j];}
D[240] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¤é¤é¤é¤é¤é¤é¤é¤é¤é¤é¤é¤é¤é¤é¤é¤é¤é¤é¤é¤é¤é¤é¤ é¤¡é¤¢é¤£é¤¤é¤¥é¤¦é¤§é¤¨é¤©é¤ªé¤«é¤¬é¤­é¤¯é¤°é¤±é¤²é¤³é¤´é¤µé¤¶é¤·é¤¸é¤¹é¤ºé¤»é¤¼é¤½é¤¾é¤¿é¥é¥é¥é¥é¥é¥é¥é¥é¥é¥ï¿½é¥é¥é¥é¥é¥é¥é¥é¥é¥é¥é¥é¥é¥é¥é¥é¥é¥é¥é¥é¥é¥ é¥¡é¥¢é¥¤é¥¦é¥³é¥¸é¥¹é¥»é¥¾é¦é¦é¦ç¨¹ç¨·ç©é»é¦¥ç©°ççççç¤çç ç¬é¸ é¸¢é¸¨é¸©é¸ªé¸«é¸¬é¸²é¸±é¸¶é¸¸é¸·é¸¹é¸ºé¸¾é¹é¹é¹é¹é¹é¹é¹é¹é¹é¹é¹é¹é¹é¹é¹é¹é¹é¹£é¹¦é¹§é¹¨é¹©é¹ªé¹«é¹¬é¹±é¹­é¹³çççç çç¬ç£ç³ç´ç¸çç±ç°ççççç£ç¨ç¦ç¤ç«ç§çç±ç¼ç¿ççççççç¥çççï¿½".split("");
for(j = 0; j != D[240].length; ++j) if(D[240][j].charCodeAt(0) !== 0xFFFD) { e[D[240][j]] = 61440 + j; d[61440 + j] = D[240][j];}
D[241] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¦é¦é¦é¦é¦é¦é¦é¦é¦ é¦¡é¦¢é¦£é¦¤é¦¦é¦§é¦©é¦ªé¦«é¦¬é¦­é¦®é¦¯é¦°é¦±é¦²é¦³é¦´é¦µé¦¶é¦·é¦¸é¦¹é¦ºé¦»é¦¼é¦½é¦¾é¦¿é§é§é§é§é§é§é§é§é§é§é§é§é§é§é§é§é§é§é§é§é§é§é§é§é§ï¿½é§é§é§é§é§é§é§é§ é§¡é§¢é§£é§¤é§¥é§¦é§§é§¨é§©é§ªé§«é§¬é§­é§®é§¯é§°é§±é§²é§³é§´é§µé§¶é§·é§¸é§¹çç¼ç¢ç çç­ç°ç¿çµçç¾ç³çççççç«ç¯ç¿ç«¦ç©¸ç©¹çªçªçªçªçª¦çª çª¬çª¨çª­çª³è¡¤è¡©è¡²è¡½è¡¿è¢è¢¢è£è¢·è¢¼è£è£¢è£è££è£¥è£±è¤è£¼è£¨è£¾è£°è¤¡è¤è¤è¤è¤è¤´è¤«è¤¶è¥è¥¦è¥»çè¥ç²ç´çèèèèè è¢è¥è¦è§è©è¨è±èèµèèèèè©è±è¦é¡¸é¢é¢ï¿½".split("");
for(j = 0; j != D[241].length; ++j) if(D[241][j].charCodeAt(0) !== 0xFFFD) { e[D[241][j]] = 61696 + j; d[61696 + j] = D[241][j];}
D[242] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é§ºé§»é§¼é§½é§¾é§¿é¨é¨é¨é¨é¨é¨é¨é¨é¨é¨é¨é¨é¨é¨é¨é¨é¨é¨é¨é¨é¨é¨é¨é¨é¨é¨é¨é¨é¨é¨é¨é¨é¨ é¨¡é¨¢é¨£é¨¤é¨¥é¨¦é¨§é¨¨é¨©é¨ªé¨«é¨¬é¨­é¨®é¨¯é¨°é¨±é¨²é¨³é¨´é¨µé¨¶é¨·é¨¸ï¿½é¨¹é¨ºé¨»é¨¼é¨½é¨¾é¨¿é©é©é©é©é©é©é©é©é©é©é©é©é©é©é©é©é©é©é©é©é©é©é©é©é©é©é¢é¢é¢é¢é¢é¢é¢é¢é¢é¢¡é¢¢é¢¥é¢¦èèè¬è®è¿èºè¼è»è¨èèè¬èè§è£èªèè©è¶èèµèè°èºè±è¯èèè´è©è±è²è­è³èèèè´èèèèèè¸èèèèè£è»èè¥è®èè¾èè´è±è©è·è¿èè¢è½è¾è»è è°èè®èèè£è¼è¤èè¥èè¯è¨èï¿½".split("");
for(j = 0; j != D[242].length; ++j) if(D[242][j].charCodeAt(0) !== 0xFFFD) { e[D[242][j]] = 61952 + j; d[61952 + j] = D[242][j];}
D[243] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é©é©é©é©é©é©é© é©¡é©¢é©£é©¤é©¥é©¦é©§é©¨é©©é©ªé©«é©²éªéªéªéªéªéªéªéª¦éª©éªªéª«éª¬éª­éª®éª¯éª²éª³éª´éªµéª¹éª»éª½éª¾éª¿é«é«é«é«é«é«é«é«é«é«é«é«é«é«é«é«é«é«é«é«ï¿½é«é«é« é«¢é«£é«¤é«¥é«§é«¨é«©é«ªé«¬é«®é«°é«±é«²é«³é«´é«µé«¶é«·é«¸é«ºé«¼é«½é«¾é«¿é¬é¬é¬é¬é¬é¬èèèè­èèè«è¥è¬èµè³èèè½èèèèèªè è®è è è¾è è è ¡è ¹è ¼ç¼¶ç½ç½ç½èç«ºç«½ç¬ç¬ç¬ç¬ç¬ç¬«ç¬ç­ç¬¸ç¬ªç¬ç¬®ç¬±ç¬ ç¬¥ç¬¤ç¬³ç¬¾ç¬ç­ç­ç­ç­µç­ç­ç­ ç­®ç­»ç­¢ç­²ç­±ç®ç®¦ç®§ç®¸ç®¬ç®ç®¨ç®ç®ªç®ç®¢ç®«ç®´ç¯ç¯ç¯ç¯ç¯ç¯¥ç¯¦ç¯ªç°ç¯¾ç¯¼ç°ç°ç°ï¿½".split("");
for(j = 0; j != D[243].length; ++j) if(D[243][j].charCodeAt(0) !== 0xFFFD) { e[D[243][j]] = 62208 + j; d[62208 + j] = D[243][j];}
D[244] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¬é¬é¬é¬é¬é¬é¬é¬é¬é¬é¬é¬é¬é¬é¬é¬é¬é¬é¬é¬é¬é¬ é¬¡é¬¢é¬¤é¬¥é¬¦é¬§é¬¨é¬©é¬ªé¬«é¬¬é¬­é¬®é¬°é¬±é¬³é¬´é¬µé¬¶é¬·é¬¸é¬¹é¬ºé¬½é¬¾é¬¿é­é­é­é­é­é­é­é­é­é­é­é­é­é­é­ï¿½é­é­é­é­é­é­ é­¡é­¢é­£é­¤é­¥é­¦é­§é­¨é­©é­ªé­«é­¬é­­é­®é­¯é­°é­±é­²é­³é­´é­µé­¶é­·é­¸é­¹é­ºé­»ç°ç°ªç°¦ç°¸ç±ç±è¾èèèè¬è¡è¡è¢è£è­è¯è¨è«è¸è»è³è´è¾èèèèèèè¨è¡¾è¢è¢è£è£è¥ç¾ç¾ç¾§ç¾¯ç¾°ç¾²ç±¼æç²ç²ç²ç²ç²¢ç²²ç²¼ç²½ç³ç³ç³ç³ç³ç³ç³ç³¨è®æ¨ç¾¿ç¿ç¿ç¿¥ç¿¡ç¿¦ç¿©ç¿®ç¿³ç³¸çµ·ç¶¦ç¶®ç¹çºéº¸éº´èµ³è¶è¶è¶è¶±èµ§èµ­è±è±ééééé¤ï¿½".split("");
for(j = 0; j != D[244].length; ++j) if(D[244][j].charCodeAt(0) !== 0xFFFD) { e[D[244][j]] = 62464 + j; d[62464 + j] = D[244][j];}
D[245] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é­¼é­½é­¾é­¿é®é®é®é®é®é®é®é®é®é®é®é®é®é®é®é®é®é®é®é®é®é®é®é®é®é®é®é®é®é®é®é®é® é®¡é®¢é®£é®¤é®¥é®¦é®§é®¨é®©é®ªé®«é®¬é®­é®®é®¯é®°é®±é®²é®³é®´é®µé®¶é®·é®¸é®¹é®ºï¿½é®»é®¼é®½é®¾é®¿é¯é¯é¯é¯é¯é¯é¯é¯é¯é¯é¯é¯é¯é¯é¯é¯é¯é¯é¯é¯é¯é¯é¯é¯é¯é¯é¯é¯é¢é¡é°é©é¯é½é¾é²é´é¹éééééé¢é£éªé­é®é¯éµé´éºè±é¹¾è¶¸è·«è¸è¹è¹©è¶µè¶¿è¶¼è¶ºè·è·è·è·è·è·è·è·è·è·¬è··è·¸è·£è·¹è·»è·¤è¸è·½è¸è¸è¸è¸¬è¸®è¸£è¸¯è¸ºè¹è¸¹è¸µè¸½è¸±è¹è¹è¹è¹è¹è¹è¹°è¹¶è¹¼è¹¯è¹´èºèºèºèºèºèºè±¸è²è²è²è²è²æè§è§è§è§ï¿½".split("");
for(j = 0; j != D[245].length; ++j) if(D[245][j].charCodeAt(0) !== 0xFFFD) { e[D[245][j]] = 62720 + j; d[62720 + j] = D[245][j];}
D[246] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¯é¯é¯é¯é¯ é¯¡é¯¢é¯£é¯¤é¯¥é¯¦é¯§é¯¨é¯©é¯ªé¯«é¯¬é¯­é¯®é¯¯é¯°é¯±é¯²é¯³é¯´é¯µé¯¶é¯·é¯¸é¯¹é¯ºé¯»é¯¼é¯½é¯¾é¯¿é°é°é°é°é°é°é°é°é°é°é°é°é°é°é°é°é°é°é°é°é°é°é°é°é°é°é°ï¿½é°é°é°é°é°é° é°¡é°¢é°£é°¤é°¥é°¦é°§é°¨é°©é°ªé°«é°¬é°­é°®é°¯é°°é°±é°²é°³é°´é°µé°¶é°·é°¸é°¹é°ºé°»è§¥è§«è§¯è¨¾è¬¦éé©é³é¯ééééééªé­é°é¾é¾é¾é¾é¾é¾é¾é¾é¾é¾é»¾é¼é¼é¹é¼é½ééç¿é éé®éé¾éªééé¾é«é±¿é²é²é²é²é²ç¨£é²é²é²é²é²é²é²é²é²é²é²é² é²¡é²¢é²£é²¥é²¦é²§é²¨é²©é²«é²­é²®é²°é²±é²²é²³é²´é²µé²¶é²·é²ºé²»é²¼é²½é³é³é³é³é³é³ï¿½".split("");
for(j = 0; j != D[246].length; ++j) if(D[246][j].charCodeAt(0) !== 0xFFFD) { e[D[246][j]] = 62976 + j; d[62976 + j] = D[246][j];}
D[247] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é°¼é°½é°¾é°¿é±é±é±é±é±é±é±é±é±é±é±é±é±é±é±é±é±é±é±é±é±é±é±é±é±é±é±é±é±é±é±é±é± é±¡é±¢é±£é±¤é±¥é±¦é±§é±¨é±©é±ªé±«é±¬é±­é±®é±¯é±°é±±é±²é±³é±´é±µé±¶é±·é±¸é±¹é±ºï¿½é±»é±½é±¾é²é²é²é²é²é²é²é²é²é²é²é²é²é²ªé²¬é²¯é²¹é²¾é²¿é³é³é³é³é³é³é³é³é³é³ é³¡é³é³é³é³é³é³é³é³é³é³é³é³é³é³é³¢é¼ééééé¯é«é£é²é´éª±éª°éª·é¹éª¶éªºéª¼é«é«é«é«é«é«é«é­é­é­é­é­é­é­é£¨é¤é¤®é¥é¥é«é«¡é«¦é«¯é««é«»é«­é«¹é¬é¬é¬é¬é¬£éº½éº¾ç¸»éºéºéºéºéºééºéºé»é»é»é» é»é»¢é»©é»§é»¥é»ªé»¯é¼¢é¼¬é¼¯é¼¹é¼·é¼½é¼¾é½ï¿½".split("");
for(j = 0; j != D[247].length; ++j) if(D[247][j].charCodeAt(0) !== 0xFFFD) { e[D[247][j]] = 63232 + j; d[63232 + j] = D[247][j];}
D[248] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é³£é³¤é³¥é³¦é³§é³¨é³©é³ªé³«é³¬é³­é³®é³¯é³°é³±é³²é³³é³´é³µé³¶é³·é³¸é³¹é³ºé³»é³¼é³½é³¾é³¿é´é´é´é´é´é´é´é´é´é´é´é´é´é´é´é´é´é´é´é´é´é´é´é´é´é´é´é´é´é´é´é´é´ é´¡ï¿½é´¢é´£é´¤é´¥é´¦é´§é´¨é´©é´ªé´«é´¬é´­é´®é´¯é´°é´±é´²é´³é´´é´µé´¶é´·é´¸é´¹é´ºé´»é´¼é´½é´¾é´¿éµéµéµï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[248].length; ++j) if(D[248][j].charCodeAt(0) !== 0xFFFD) { e[D[248][j]] = 63488 + j; d[63488 + j] = D[248][j];}
D[249] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½éµéµéµéµéµéµéµéµéµéµéµéµéµéµéµéµéµéµéµéµéµéµéµéµéµéµéµéµéµéµ éµ¡éµ¢éµ£éµ¤éµ¥éµ¦éµ§éµ¨éµ©éµªéµ«éµ¬éµ­éµ®éµ¯éµ°éµ±éµ²éµ³éµ´éµµéµ¶éµ·éµ¸éµ¹éµºéµ»éµ¼éµ½éµ¾éµ¿é¶é¶ï¿½é¶é¶é¶é¶é¶é¶é¶é¶é¶é¶é¶é¶é¶é¶é¶é¶é¶é¶é¶é¶é¶é¶é¶é¶é¶é¶é¶é¶é¶é¶é¶ é¶¡é¶¢ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[249].length; ++j) if(D[249][j].charCodeAt(0) !== 0xFFFD) { e[D[249][j]] = 63744 + j; d[63744 + j] = D[249][j];}
D[250] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¶£é¶¤é¶¥é¶¦é¶§é¶¨é¶©é¶ªé¶«é¶¬é¶­é¶®é¶¯é¶°é¶±é¶²é¶³é¶´é¶µé¶¶é¶·é¶¸é¶¹é¶ºé¶»é¶¼é¶½é¶¾é¶¿é·é·é·é·é·é·é·é·é·é·é·é·é·é·é·é·é·é·é·é·é·é·é·é·é·é·é·é·é·é·é·é·é· é·¡ï¿½é·¢é·£é·¤é·¥é·¦é·§é·¨é·©é·ªé·«é·¬é·­é·®é·¯é·°é·±é·²é·³é·´é·µé·¶é··é·¸é·¹é·ºé·»é·¼é·½é·¾é·¿é¸é¸é¸ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[250].length; ++j) if(D[250][j].charCodeAt(0) !== 0xFFFD) { e[D[250][j]] = 64000 + j; d[64000 + j] = D[250][j];}
D[251] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¸é¸é¸é¸é¸é¸é¸é¸é¸é¸é¸é¸é¸é¸é¸é¸é¸é¸é¸é¸é¸é¸é¸é¸é¸é¸é¸é¸é¸¤é¸§é¸®é¸°é¸´é¸»é¸¼é¹é¹é¹é¹é¹é¹é¹é¹é¹é¹é¹ é¹¡é¹¢é¹¥é¹®é¹¯é¹²é¹´é¹µé¹¶é¹·é¹¸é¹¹é¹ºé¹»é¹¼é¹½éºï¿½éºéºéºéºéºéºéºéºéºéºéºéºéºéºéºéºéºéºéºéºéºéºéºéº éº¡éº¢éº£éº¤éº¥éº§éº¨éº©éºªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[251].length; ++j) if(D[251][j].charCodeAt(0) !== 0xFFFD) { e[D[251][j]] = 64256 + j; d[64256 + j] = D[251][j];}
D[252] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½éº«éº¬éº­éº®éº¯éº°éº±éº²éº³éºµéº¶éº·éº¹éººéº¼éº¿é»é»é»é»é»é»é»é»é»é»é»é»é»é»é»é»é»é»é»é»é»¡é»£é»¤é»¦é»¨é»«é»¬é»­é»®é»°é»±é»²é»³é»´é»µé»¶é»·é»¸é»ºé»½é»¿é¼é¼é¼é¼é¼é¼ï¿½é¼é¼é¼é¼é¼é¼é¼é¼é¼é¼é¼é¼é¼é¼é¼é¼é¼é¼é¼é¼¡é¼£é¼¤é¼¥é¼¦é¼§é¼¨é¼©é¼ªé¼«é¼­é¼®é¼°é¼±ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[252].length; ++j) if(D[252][j].charCodeAt(0) !== 0xFFFD) { e[D[252][j]] = 64512 + j; d[64512 + j] = D[252][j];}
D[253] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¼²é¼³é¼´é¼µé¼¶é¼¸é¼ºé¼¼é¼¿é½é½é½é½é½é½é½é½é½é½é½é½é½é½é½é½é½é½é½é½é½é½é½é½é½é½é½é½é½é½ é½¡é½¢é½£é½¤é½¥é½¦é½§é½¨é½©é½ªé½«é½¬é½­é½®é½¯é½°é½±é½²é½³é½´é½µé½¶é½·é½¸ï¿½é½¹é½ºé½»é½¼é½½é½¾é¾é¾é¾é¾é¾é¾é¾é¾é¾é¾é¾é¾é¾é¾é¾é¾é¾é¾¡é¾¢é¾£é¾¤é¾¥ï¤¬ï¥¹ï¦ï§§ï§±ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[253].length; ++j) if(D[253][j].charCodeAt(0) !== 0xFFFD) { e[D[253][j]] = 64768 + j; d[64768 + j] = D[253][j];}
D[254] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¨ï¨ï¨ï¨ï¨ï¨ï¨ï¨ï¨ï¨ ï¨¡ï¨£ï¨¤ï¨§ï¨¨ï¨©ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[254].length; ++j) if(D[254][j].charCodeAt(0) !== 0xFFFD) { e[D[254][j]] = 65024 + j; d[65024 + j] = D[254][j];}
return {"enc": e, "dec": d }; })();
cptable[949] = (function(){ var d = [], e = {}, D = [], j;
D[0] = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[0].length; ++j) if(D[0][j].charCodeAt(0) !== 0xFFFD) { e[D[0][j]] = 0 + j; d[0 + j] = D[0][j];}
D[129] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ê°ê°ê°ê°ê°ê°ê°ê°ê°ê°ê°ê°ê°¡ê°¢ê°£ê°¥ê°¦ê°§ê°¨ê°©ê°ªê°«ê°®ê°²ê°³ê°´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ê°µê°¶ê°·ê°ºê°»ê°½ê°¾ê°¿ê±ê±ê±ê±ê±ê±ê±ê±ê±ê±ê±ê±ê±ê±ê±ê±ê±ê±ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ê±ê±ê±ê±ê±ê±ê±ê±ê± ê±¡ê±¢ê±£ê±¤ê±¥ê±¦ê±§ê±¨ê±©ê±ªê±«ê±¬ê±­ê±®ê±¯ê±²ê±³ê±µê±¶ê±¹ê±»ê±¼ê±½ê±¾ê±¿ê²ê²ê²ê²ê²ê²ê²ê²ê²ê²ê²ê²ê²ê²ê²ê²ê²ê²¢ê²£ê²¤ê²¥ê²¦ê²§ê²«ê²­ê²®ê²±ê²²ê²³ê²´ê²µê²¶ê²·ê²ºê²¾ê²¿ê³ê³ê³ê³ê³ê³ê³ê³ê³ê³ê³ê³ê³ê³ê³ê³ê³ê³ê³ê³ê³ê³ê³ê³ê³ê³ê³¢ê³£ê³¥ê³¦ê³©ê³«ê³­ê³®ê³²ê³´ê³·ê³¸ê³¹ê³ºê³»ê³¾ê³¿ê´ê´ê´ê´ê´ê´ê´ê´ê´ê´ê´ê´ê´ï¿½".split("");
for(j = 0; j != D[129].length; ++j) if(D[129][j].charCodeAt(0) !== 0xFFFD) { e[D[129][j]] = 33024 + j; d[33024 + j] = D[129][j];}
D[130] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ê´ê´ê´ê´ê´ê´ê´ê´ê´ê´ê´¡ê´¢ê´£ê´¤ê´¥ê´¦ê´§ê´¨ê´ªê´«ê´®ê´¯ê´°ê´±ê´²ê´³ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ê´¶ê´·ê´¹ê´ºê´»ê´½ê´¾ê´¿êµêµêµêµêµêµêµêµêµêµêµêµêµêµêµêµêµêµï¿½ï¿½ï¿½ï¿½ï¿½ï¿½êµêµêµêµêµêµêµêµ êµ¢êµ¤êµ¥êµ¦êµ§êµ¨êµ©êµªêµ«êµ®êµ¯êµ±êµ²êµ·êµ¸êµ¹êµºêµ¾ê¶ê¶ê¶ê¶ê¶ê¶ê¶ê¶ê¶ê¶ê¶ê¶ê¶ê¶ê¶ê¶ê¶ê¶ê¶ê¶ê¶ê¶ê¶ê¶ê¶ ê¶¡ê¶¢ê¶£ê¶¥ê¶¦ê¶§ê¶¨ê¶©ê¶ªê¶«ê¶¬ê¶­ê¶®ê¶¯ê¶°ê¶±ê¶²ê¶³ê¶´ê¶µê¶¶ê¶¸ê¶¹ê¶ºê¶»ê¶¼ê¶½ê¶¾ê¶¿ê·ê·ê·ê·ê·ê·ê·ê·ê·ê·ê·ê·ê·ê·ê·ê·ê·ê·ê·ê·ê·ê·ê·ê·ê·¡ê·¢ê·£ê·¥ê·¦ê·§ê·¨ê·©ê·ªê·«ê·¬ê·­ê·®ê·¯ê·°ê·±ê·²ê·³ê·´ê·µê·¶ê··ï¿½".split("");
for(j = 0; j != D[130].length; ++j) if(D[130][j].charCodeAt(0) !== 0xFFFD) { e[D[130][j]] = 33280 + j; d[33280 + j] = D[130][j];}
D[131] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ê·ºê·»ê·½ê·¾ê¸ê¸ê¸ê¸ê¸ê¸ê¸ê¸ê¸ê¸ê¸ê¸ê¸ê¸ê¸ê¸ê¸ê¸ê¸ê¸ê¸ê¸ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ê¸ê¸ê¸ê¸ ê¸¡ê¸¢ê¸£ê¸¤ê¸¥ê¸¦ê¸§ê¸¨ê¸©ê¸ªê¸«ê¸¬ê¸­ê¸®ê¸¯ê¸²ê¸³ê¸µê¸¶ê¸¹ê¸»ê¸¼ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ê¸½ê¸¾ê¸¿ê¹ê¹ê¹ê¹ê¹ê¹ê¹ê¹ê¹ê¹ê¹ê¹ê¹ê¹ê¹ê¹ê¹ê¹¢ê¹£ê¹¤ê¹¦ê¹§ê¹ªê¹«ê¹­ê¹®ê¹¯ê¹±ê¹²ê¹³ê¹´ê¹µê¹¶ê¹·ê¹ºê¹¾ê¹¿êºêºêºêºêºêºêºêºêºêºêºêºêºêºêºêºêºêºêºêºêºêºêºêºêºêºêºêºêºêº êº¡êº¢êº£êº¤êº¥êº¦êº§êº¨êº©êºªêº«êº¬êº­êº®êº¯êº°êº±êº²êº³êº´êºµêº¶êº·êº¸êº¹êººêº»êº¿ê»ê»ê»ê»ê»ê»ê»ê»ê»ê»ê»ê»ê»ê»ê»ê»ê»ê»ê»ê»ê»ê»ê» ê»¡ê»¢ê»£ê»¤ê»¥ï¿½".split("");
for(j = 0; j != D[131].length; ++j) if(D[131][j].charCodeAt(0) !== 0xFFFD) { e[D[131][j]] = 33536 + j; d[33536 + j] = D[131][j];}
D[132] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ê»¦ê»§ê»©ê»ªê»¬ê»®ê»¯ê»°ê»±ê»²ê»³ê»µê»¶ê»·ê»¹ê»ºê»»ê»½ê»¾ê»¿ê¼ê¼ê¼ê¼ê¼ê¼ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ê¼ê¼ê¼ê¼ê¼ê¼ê¼ê¼ê¼ê¼ê¼ê¼ê¼ê¼ê¼ê¼ê¼ê¼ê¼ê¼ê¼ê¼ê¼ ê¼¡ê¼¢ê¼£ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ê¼¤ê¼¥ê¼¦ê¼§ê¼¨ê¼©ê¼ªê¼«ê¼®ê¼¯ê¼±ê¼³ê¼µê¼¶ê¼·ê¼¸ê¼¹ê¼ºê¼»ê¼¾ê½ê½ê½ê½ê½ê½ê½ê½ê½ê½ê½ê½ê½ê½ê½ê½ê½ê½ê½ê½ê½ê½ê½ê½ê½ ê½¡ê½¢ê½£ê½¦ê½§ê½¨ê½©ê½ªê½«ê½¬ê½­ê½®ê½¯ê½°ê½±ê½²ê½³ê½´ê½µê½¶ê½·ê½¸ê½ºê½»ê½¼ê½½ê½¾ê½¿ê¾ê¾ê¾ê¾ê¾ê¾ê¾ê¾ê¾ê¾ê¾ê¾ê¾ê¾ê¾ê¾ê¾ê¾ê¾ê¾ê¾ê¾ê¾ê¾ê¾ê¾ ê¾¡ê¾¢ê¾£ê¾¤ê¾¥ê¾¦ê¾§ê¾¨ê¾©ê¾ªê¾«ê¾¬ê¾­ê¾®ê¾¯ê¾°ê¾±ê¾²ê¾³ê¾´ê¾µê¾¶ê¾·ê¾ºê¾»ê¾½ê¾¾ï¿½".split("");
for(j = 0; j != D[132].length; ++j) if(D[132][j].charCodeAt(0) !== 0xFFFD) { e[D[132][j]] = 33792 + j; d[33792 + j] = D[132][j];}
D[133] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ê¾¿ê¿ê¿ê¿ê¿ê¿ê¿ê¿ê¿ê¿ê¿ê¿ê¿ê¿ê¿ê¿ê¿ê¿ê¿ê¿ê¿ê¿ê¿ê¿ê¿ ê¿¡ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ê¿¢ê¿£ê¿¤ê¿¥ê¿¦ê¿§ê¿ªê¿«ê¿¬ê¿­ê¿®ê¿¯ê¿²ê¿³ê¿µê¿¶ê¿·ê¿¹ê¿ºê¿»ê¿¼ê¿½ê¿¾ê¿¿ëëï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ëëëëëëëëëëëëëëëëëëëëëëë ë¡ë¢ë£ë¤ë¥ë¦ë§ë©ëªë«ë¬ë­ë®ë¯ë°ë±ë²ë³ë´ëµë¶ë·ë¸ë¹ëºë»ë¼ë½ë¾ë¿ëëëëëëëëëëëëëëëëëëëëë ë¡ë¢ë£ë¤ë¥ë¦ë§ë¨ë©ëªë«ë¬ë­ë®ë¯ë°ë±ë²ë³ë´ëµë¶ë·ë¸ë¹ëºë»ë¾ë¿ëëëëëëëëëëëëëëëëëëëëëë£ë¤ï¿½".split("");
for(j = 0; j != D[133].length; ++j) if(D[133][j].charCodeAt(0) !== 0xFFFD) { e[D[133][j]] = 34048 + j; d[34048 + j] = D[133][j];}
D[134] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë¥ë¦ë§ëªë°ë²ë¶ë·ë¹ëºë»ë½ë¾ë¿ëëëëëëëëëëëëï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ëëëëëëëëëëëë¡ë¢ë£ë¤ë¦ë§ë¨ë©ëªë«ë¬ë­ë®ë¯ë°ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë±ë²ë³ë´ëµë¶ë·ë¸ë¹ëºë»ë¼ë½ë¾ë¿ëëëëëëëëëëëëëëëëëëëëë ë¡ë¢ë¦ë§ë©ëªë«ë­ë®ë¯ë°ë±ë²ë³ë¶ëºë»ë¼ë½ë¾ë¿ëëëëëëëëëëëëëëëëëëëëëëë¡ë¢ë£ë¤ë¥ë¦ë§ë¨ë©ëªë«ë¬ë­ë®ë¯ë°ë±ë²ë³ë´ëµë¶ë·ëºë»ë½ë¾ë¿ëëëëëëëëëëëëëëëëëëëï¿½".split("");
for(j = 0; j != D[134].length; ++j) if(D[134][j].charCodeAt(0) !== 0xFFFD) { e[D[134][j]] = 34304 + j; d[34304 + j] = D[134][j];}
D[135] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ëëë ë¡ë¢ë£ë¤ë¥ë¦ë§ë©ëªë«ë¬ë­ë®ë¯ë°ë±ë²ë³ë´ëµë¶ë·ë¸ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë¹ëºë»ë¼ë½ë¾ë¿ëëëëëëëëëëëëëëëëëëëï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ëëëëëëëë ë¡ë¢ë£ë¤ë¥ë¦ë§ëªë«ë­ë®ë¯ë±ë²ë³ë´ëµë¶ë·ë¸ëºë¼ë¾ë¿ëëëëëëëëëëëëëëëëëëëëëëëë¡ë¢ë£ë¤ë¥ë¦ë§ë¨ë©ëªë«ë¬ë­ë®ë¯ë°ë±ë²ë³ëµë¶ë·ë¸ë¹ëºë»ë½ë¾ë¿ëëëëëëëëëëëëëëëëëëëëëëëëëëëëëëë¡ë¢ë£ë¤ë¥ë¦ë§ëªë«ë¬ë­ë®ï¿½".split("");
for(j = 0; j != D[135].length; ++j) if(D[135][j].charCodeAt(0) !== 0xFFFD) { e[D[135][j]] = 34560 + j; d[34560 + j] = D[135][j];}
D[136] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë¯ë°ë±ë²ë³ë¶ë·ë¸ë¹ëºë»ë½ë¾ë¿ëëëëëëëëëëëëï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ëëëëëëëëëëëë¢ë¤ë§ë¨ë©ë«ë­ë®ë¯ë±ë²ë³ëµë¶ë·ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë¸ë¹ëºë»ë¼ë½ë¾ë¿ëëëëëëëëëëëëëëëëëëëëëëëë ë¡ë£ë§ë©ëªë°ë±ë²ë¶ë¼ë½ë¾ëëëëëëëëëëëëëëëëëëëëëëë ë¡ë¢ë£ë¤ë¥ë¦ë§ë¨ë©ëªë«ë¬ë­ë®ë¯ë°ë±ë²ë³ë´ëµë¶ë·ë¸ë¹ëºë»ë¼ë½ë¾ë¿ëëëëëëëëëëëëëëëëëëëëëëëëë ë¡ë¢ë£ï¿½".split("");
for(j = 0; j != D[136].length; ++j) if(D[136][j].charCodeAt(0) !== 0xFFFD) { e[D[136][j]] = 34816 + j; d[34816 + j] = D[136][j];}
D[137] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë¦ë¨ëªë¬ë­ë¯ë²ë³ëµë¶ë·ë¹ëºë»ë¼ë½ë¾ë¿ëëëëëëëëï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ëëëëëëëëëëëëëëëëë¢ë£ë¤ë¥ë¦ë§ë©ëªë«ë­ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë®ë¯ë°ë±ë²ë³ë´ëµë¶ë·ë¸ë¹ëºë»ë¼ë½ë¾ë¿ëëëëëëëëëëëëëëëëëëëë¡ë¢ë£ë¥ë¦ë§ë©ëªë«ë¬ë­ë®ë¯ë°ë±ë²ë³ë´ëµë¶ë·ë¸ë¹ëºë»ë½ë¾ë¿ëëëëëëëëëëëëëëëëëëëëëëëëëëëëëë¡ë¢ë£ë¤ë¥ë¦ë§ëªë¬ë­ë®ë¯ë°ë±ë²ë³ëµë¶ë·ë¸ë¹ëºë»ë¼ë½ë¾ë¿ëëëëëï¿½".split("");
for(j = 0; j != D[137].length; ++j) if(D[137][j].charCodeAt(0) !== 0xFFFD) { e[D[137][j]] = 35072 + j; d[35072 + j] = D[137][j];}
D[138] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ëëëëëëëëëëëëëëëëëëëëëëëë¢ë¤ë¦ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë§ë¨ë©ëªë«ë­ë®ë¯ë°ë±ë²ë³ë´ëµë¶ë·ë¸ë¹ëºë»ë¼ë½ë¾ë¿ëëï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ëëëëëëëëëëëëëëëëëëëëëëëëëëëë ë¡ë¢ë£ë¥ë¦ë§ë©ëªë«ë­ë®ë¯ë°ë±ë²ë³ë´ë¶ë¸ëºë»ë¼ë½ë¾ë¿ëëëëëëëëëëëëëëëëëëëëëëëëëë¡ë¢ë¥ë§ë¨ë©ëªë«ë®ë°ë²ë³ë´ëµë¶ë·ë¹ëºë»ë¼ë½ë¾ë¿ëëëëëëëëëëëëëëëëëëëëëëëëëï¿½".split("");
for(j = 0; j != D[138].length; ++j) if(D[138][j].charCodeAt(0) !== 0xFFFD) { e[D[138][j]] = 35328 + j; d[35328 + j] = D[138][j];}
D[139] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ëëë ë¡ë¢ë£ë¦ë«ë¬ë­ë®ë¯ë²ë³ëµë¶ë·ë¹ëºë»ë¼ë½ë¾ë¿ëëï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ëëëëëëëëëëëëëëëëëë¢ë£ë¤ë¥ë¦ë§ë¨ë©ëªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë«ë¬ë­ë®ë¯ë°ë±ë²ë³ë´ëµë¶ë·ë¸ë¹ëºë»ë¼ë½ë¾ë¿ëëëëëëëëëëëëëëëëëëëëëëëëëëëëëëëëë¢ë£ë¥ë¦ë§ë©ë¬ë­ë®ë¯ë²ë¶ë·ë¸ë¹ëºë¾ë¿ëëëëëëëëëëëëëëëëëëëëëëëëë ë¡ë¢ë£ë¤ë¥ë¦ë§ë¨ë©ëªë«ë­ë®ë¯ë°ë±ë²ë³ë´ëµë¶ë·ë¸ë¹ëºë»ë¼ë½ë¾ë¿ï¿½".split("");
for(j = 0; j != D[139].length; ++j) if(D[139][j].charCodeAt(0) !== 0xFFFD) { e[D[139][j]] = 35584 + j; d[35584 + j] = D[139][j];}
D[140] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ëëëëëëëëëëëëëëëëëëëëëëëëëëï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ëëë ë¡ë¢ë£ë¤ë¦ë§ë¨ë©ëªë«ë­ë®ë¯ë°ë±ë²ë³ëµë¶ë·ë¸ë¹ëºï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë»ë¼ë½ë¾ë¿ëëëëëëëëëëëëëëëëëëëëëëëëëëëëëëëë ë¡ë¢ë£ë¥ë¦ë§ë©ëªë«ë¬ë­ë®ë¯ë°ë±ë²ë³ë´ëµë¶ë·ë¸ë¹ëºë»ë¼ë½ë¾ë¿ëëëëëëëëëëëëëëëëëëëëëëëëëëëëëëë¡ë¢ë£ë¥ë¦ë§ë¨ë©ëªë­ë®ë¯ë°ë²ë³ë´ëµë¶ë·ë¸ë¹ëºë»ë¼ë½ë¾ë¿ëëëï¿½".split("");
for(j = 0; j != D[140].length; ++j) if(D[140][j].charCodeAt(0) !== 0xFFFD) { e[D[140][j]] = 35840 + j; d[35840 + j] = D[140][j];}
D[141] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ëëëëëëëëëëëëëëëëëëëëëëëëëëï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ëëë ë¡ë¢ë£ë¤ë¥ë¦ë§ë¨ë©ëªë«ë¬ë­ë®ë¯ë±ë²ë³ëµë¶ë·ë¹ëºï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë»ë¼ë½ë¾ë¿ëëëëëëëëëëëëëëëëëëëëëëëëëëëëëë ë¡ë¢ë£ë¤ë¥ë¦ë§ëªë«ë­ë®ë±ë²ë³ë´ëµë¶ë·ëºë¼ë½ë¾ë¿ëëëëëëëëëëëëëëëëëëëëëëëëëëëë¡ë¢ë£ë¥ë¦ë§ë©ëªë«ë¬ë­ë®ë¯ë²ë´ë¶ë·ë¸ë¹ëºë»ë¾ë¿ëëëëëëëëëëëëëëëëëëï¿½".split("");
for(j = 0; j != D[141].length; ++j) if(D[141][j].charCodeAt(0) !== 0xFFFD) { e[D[141][j]] = 36096 + j; d[36096 + j] = D[141][j];}
D[142] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ëë¡ë¢ë£ë¤ë¥ë¦ë§ëªë®ë¯ë°ë±ë²ë³ë¶ë·ë¹ëºë»ë¼ë½ë¾ë¿ëëï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ëëëëëëëëëëëëëëëëëëëëëëëëëëï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ëëë ë¡ë¢ë£ë¤ë¥ë¦ë§ë¨ë©ëªë«ë®ë¯ë±ë²ë³ëµë¶ë·ë¸ë¹ëºë»ë¾ë ë ë ë ë ë ë ë ë ë ë ë ë ë ë ë ë ë ë ë ë ë  ë ¡ë ¢ë £ë ¦ë §ë ©ë ªë «ë ­ë ®ë ¯ë °ë ±ë ²ë ³ë ¶ë ºë »ë ¼ë ½ë ¾ë ¿ë¡ë¡ë¡ë¡ë¡ë¡ë¡ë¡ë¡ë¡ë¡ë¡ë¡ë¡ë¡ë¡ë¡ë¡ë¡ë¡ë¡ë¡ë¡ë¡ë¡ë¡ë¡¡ë¡¢ë¡£ë¡¥ë¡¦ë¡§ë¡¨ë¡©ë¡ªë¡«ë¡®ë¡°ë¡²ë¡³ë¡´ë¡µë¡¶ë¡·ë¡¹ë¡ºë¡»ë¡½ë¡¾ë¡¿ë¢ë¢ë¢ë¢ë¢ï¿½".split("");
for(j = 0; j != D[142].length; ++j) if(D[142][j].charCodeAt(0) !== 0xFFFD) { e[D[142][j]] = 36352 + j; d[36352 + j] = D[142][j];}
D[143] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë¢ë¢ë¢ë¢ë¢ë¢ë¢ë¢ë¢ë¢ë¢ë¢ë¢ë¢ë¢ë¢ë¢ë¢ë¢ë¢ë¢ë¢ë¢ë¢ë¢ë¢ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë¢ ë¢¡ë¢¢ë¢£ë¢¤ë¢¥ë¢¦ë¢§ë¢©ë¢ªë¢«ë¢¬ë¢­ë¢®ë¢¯ë¢±ë¢²ë¢³ë¢µë¢¶ë¢·ë¢¹ë¢ºë¢»ë¢¼ë¢½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë¢¾ë¢¿ë£ë£ë£ë£ë£ë£ë£ë£ë£ë£ë£ë£ë£ë£ë£ë£ë£ë£ë£ë£ë£ë£ë£ë£ ë£¢ë££ë£¤ë£¥ë£¦ë£§ë£ªë£«ë£­ë£®ë£¯ë£±ë£²ë£³ë£´ë£µë£¶ë£·ë£ºë£¼ë£¾ë£¿ë¤ë¤ë¤ë¤ë¤ë¤ë¤ë¤ë¤ë¤ë¤ë¤ë¤ë¤ë¤ë¤ë¤ë¤ë¤ë¤ë¤ë¤ë¤ë¤ë¤ë¤ë¤ë¤ë¤ë¤ë¤¡ë¤¢ë¤£ë¤¤ë¤¥ë¤¦ë¤§ë¤¨ë¤©ë¤ªë¤«ë¤¬ë¤­ë¤®ë¤¯ë¤°ë¤±ë¤²ë¤³ë¤´ë¤µë¤¶ë¤·ë¤¸ë¤¹ë¤ºë¤»ë¤¾ë¤¿ë¥ë¥ë¥ë¥ë¥ë¥ë¥ë¥ë¥ë¥ë¥ë¥ë¥ë¥ë¥ë¥ë¥ë¥ë¥ï¿½".split("");
for(j = 0; j != D[143].length; ++j) if(D[143][j].charCodeAt(0) !== 0xFFFD) { e[D[143][j]] = 36608 + j; d[36608 + j] = D[143][j];}
D[144] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë¥ë¥ë¥ë¥ë¥ë¥¡ë¥¢ë¥£ë¥¤ë¥¥ë¥¦ë¥§ë¥ªë¥¬ë¥®ë¥¯ë¥°ë¥±ë¥²ë¥³ë¥¶ë¥·ë¥¹ë¥ºë¥»ë¥½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë¥¾ë¥¿ë¦ë¦ë¦ë¦ë¦ë¦ë¦ë¦ë¦ë¦ë¦ë¦ë¦ë¦ë¦ë¦ë¦ë¦ë¦ë¦ë¦ë¦ë¦ë¦ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë¦ë¦ ë¦¡ë¦¢ë¦£ë¦¤ë¦¥ë¦¦ë¦§ë¦¨ë¦©ë¦ªë¦«ë¦®ë¦¯ë¦±ë¦²ë¦³ë¦µë¦¶ë¦·ë¦¸ë¦¹ë¦ºë¦»ë¦¾ë§ë§ë§ë§ë§ë§ë§ë§ë§ë§ë§ë§ë§ë§ë§ë§ë§ë§ë§ ë§¢ë§¦ë§§ë§©ë§ªë§«ë§­ë§®ë§¯ë§°ë§±ë§²ë§³ë§¶ë§»ë§¼ë§½ë§¾ë§¿ë¨ë¨ë¨ë¨ë¨ë¨ë¨ë¨ë¨ë¨ë¨ë¨ë¨ë¨ë¨ë¨ë¨ë¨ë¨ë¨ë¨ë¨ë¨ë¨ë¨ë¨ë¨ë¨ë¨ ë¨¡ë¨¢ë¨£ë¨¤ë¨¥ë¨¦ë¨§ë¨¨ë¨©ë¨ªë¨«ë¨¬ë¨­ë¨®ë¨¯ë¨°ë¨±ë¨²ë¨³ë¨´ë¨µë¨¶ë¨·ë¨ºë¨»ë¨½ë¨¾ë¨¿ë©ë©ë©ë©ë©ï¿½".split("");
for(j = 0; j != D[144].length; ++j) if(D[144][j].charCodeAt(0) !== 0xFFFD) { e[D[144][j]] = 36864 + j; d[36864 + j] = D[144][j];}
D[145] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë©ë©ë©ë©ë©ë©ë©ë©ë©ë©ë©ë©ë©ë©ë©ë© ë©¡ë©¢ë©£ë©¦ë©ªë©«ë©¬ë©­ë©®ë©¯ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë©²ë©³ë©µë©¶ë©·ë©¹ë©ºë©»ë©¼ë©½ë©¾ë©¿ëªëªëªëªëªëªëªëªëªëªëªëªëªëªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ëªëªëªëªëªëªëªëªëªëªëªëªëªëª ëª¡ëª¢ëª£ëª¤ëª¥ëª¦ëª§ëªªëª­ëª®ëª¯ëª±ëª³ëª´ëªµëª¶ëª·ëªºëª¼ëª¾ëª¿ë«ë«ë«ë«ë«ë«ë«ë«ë«ë«ë«ë«ë«ë«ë«ë«ë«ë«ë«ë«ë«ë«ë«ë«ë«ë«ë«ë«ë« ë«¡ë«¢ë«£ë«¤ë«¥ë«¦ë«§ë«¨ë«©ë«ªë««ë«¬ë«­ë«®ë«¯ë«°ë«±ë«²ë«³ë«´ë«µë«¶ë«·ë«¸ë«¹ë«ºë«»ë«½ë«¾ë«¿ë¬ë¬ë¬ë¬ë¬ë¬ë¬ë¬ë¬ë¬ë¬ë¬ë¬ë¬ë¬ë¬ë¬ë¬ë¬ë¬ë¬ë¬ë¬ë¬ë¬ë¬¡ë¬¢ë¬£ë¬¤ë¬¥ë¬¦ë¬§ï¿½".split("");
for(j = 0; j != D[145].length; ++j) if(D[145][j].charCodeAt(0) !== 0xFFFD) { e[D[145][j]] = 37120 + j; d[37120 + j] = D[145][j];}
D[146] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë¬¨ë¬ªë¬¬ë¬­ë¬®ë¬¯ë¬°ë¬±ë¬²ë¬³ë¬·ë¬¹ë¬ºë¬¿ë­ë­ë­ë­ë­ë­ë­ë­ë­ë­ë­ë­ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë­ë­ë­ë­ë­ë­ë­ë­ë­ë­ë­ë­ ë­¢ë­¤ë­¥ë­¦ë­§ë­¨ë­©ë­ªë­«ë­­ë­®ë­¯ë­°ë­±ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë­²ë­³ë­´ë­µë­¶ë­·ë­¸ë­¹ë­ºë­»ë­¼ë­½ë­¾ë­¿ë®ë®ë®ë®ë®ë®ë®ë®ë®ë®ë®ë®ë®ë®ë®ë®ë®ë®ë®ë®ë®ë®ë®ë®ë®ë®ë®ë®ë®ë® ë®¡ë®¢ë®£ë®¥ë®¦ë®§ë®©ë®ªë®«ë®­ë®®ë®¯ë®°ë®±ë®²ë®³ë®µë®¶ë®¸ë®¹ë®ºë®»ë®¼ë®½ë®¾ë®¿ë¯ë¯ë¯ë¯ë¯ë¯ë¯ë¯ë¯ë¯ë¯ë¯ë¯ë¯ë¯ë¯ë¯ë¯ë¯ë¯ë¯ë¯ë¯ë¯ë¯ë¯ë¯ë¯ ë¯¡ë¯¢ë¯£ë¯¤ë¯¥ë¯¦ë¯§ë¯¨ë¯©ë¯ªë¯«ë¯¬ë¯­ë¯®ë¯¯ë¯°ë¯±ë¯²ë¯³ë¯´ë¯µë¯¶ë¯·ë¯ºë¯»ë¯½ë¯¾ë°ï¿½".split("");
for(j = 0; j != D[146].length; ++j) if(D[146][j].charCodeAt(0) !== 0xFFFD) { e[D[146][j]] = 37376 + j; d[37376 + j] = D[146][j];}
D[147] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë°ë°ë°ë°ë°ë°ë°ë°ë°ë°ë°ë°ë° ë°¡ë°¢ë°£ë°¦ë°¨ë°ªë°«ë°¬ë°®ë°¯ë°²ë°³ë°µï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë°¶ë°·ë°¹ë°ºë°»ë°¼ë°½ë°¾ë°¿ë±ë±ë±ë±ë±ë±ë±ë±ë±ë±ë±ë±ë±ë±ë±ë±ë±ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë±ë±ë±ë±ë±ë± ë±¡ë±¢ë±£ë±¤ë±¥ë±¦ë±§ë±¨ë±©ë±ªë±«ë±¬ë±­ë±®ë±¯ë±°ë±±ë±²ë±³ë±´ë±µë±¶ë±·ë±¸ë±¹ë±ºë±»ë±¼ë±½ë±¾ë±¿ë²ë²ë²ë²ë²ë²ë²ë²ë²ë²ë²ë²ë²ë²ë²ë²ë²ë²ë²ë²ë²ë²¢ë²£ë²¥ë²¦ë²©ë²ªë²«ë²¬ë²­ë²®ë²¯ë²²ë²¶ë²·ë²¸ë²¹ë²ºë²»ë²¾ë²¿ë³ë³ë³ë³ë³ë³ë³ë³ë³ë³ë³ë³ë³ë³ë³ë³ë³ë³ë³ë³ë³ë³ë³ë³ ë³¡ë³¢ë³£ë³¤ë³¥ë³¦ë³§ë³¨ë³©ë³ªë³«ë³¬ë³­ë³®ë³¯ë³°ë³±ë³²ë³³ë³·ë³¹ë³ºë³»ë³½ï¿½".split("");
for(j = 0; j != D[147].length; ++j) if(D[147][j].charCodeAt(0) !== 0xFFFD) { e[D[147][j]] = 37632 + j; d[37632 + j] = D[147][j];}
D[148] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë³¾ë³¿ë´ë´ë´ë´ë´ë´ë´ë´ë´ë´ë´ë´ë´ë´ë´ë´ë´ë´ë´ë´ë´ë´ë´ë´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë´ë´ë´ ë´¡ë´¢ë´£ë´¥ë´¦ë´§ë´¨ë´©ë´ªë´«ë´­ë´®ë´¯ë´°ë´±ë´²ë´³ë´´ë´µë´¶ë´·ë´¸ë´¹ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë´ºë´»ë´¼ë´½ë´¾ë´¿ëµëµëµëµëµëµëµëµëµëµëµëµëµëµëµëµëµëµëµëµëµëµëµëµëµëµ ëµ¡ëµ¢ëµ£ëµ¥ëµ¦ëµ§ëµ©ëµªëµ«ëµ¬ëµ­ëµ®ëµ¯ëµ°ëµ±ëµ²ëµ³ëµ´ëµµëµ¶ëµ·ëµ¸ëµ¹ëµºëµ»ëµ¼ëµ½ëµ¾ëµ¿ë¶ë¶ë¶ë¶ë¶ë¶ë¶ë¶ë¶ë¶ë¶ë¶ë¶ë¶ë¶ë¶ë¶ë¶ë¶ ë¶¡ë¶¢ë¶£ë¶¥ë¶¦ë¶§ë¶¨ë¶©ë¶ªë¶«ë¶¬ë¶­ë¶®ë¶¯ë¶±ë¶²ë¶³ë¶´ë¶µë¶¶ë¶·ë¶¹ë¶ºë¶»ë¶¼ë¶½ë¶¾ë¶¿ë·ë·ë·ë·ë·ë·ë·ë·ë·ë·ë·ë·ë·ë·ë·ë·ë·ë·ï¿½".split("");
for(j = 0; j != D[148].length; ++j) if(D[148][j].charCodeAt(0) !== 0xFFFD) { e[D[148][j]] = 37888 + j; d[37888 + j] = D[148][j];}
D[149] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë·ë·ë·ë·ë·ë·ë·ë·ë·ë·ë· ë·¡ë·¢ë·£ë·¤ë·¥ë·¦ë·§ë·¨ë·ªë·«ë·¬ë·­ë·®ë·¯ë·±ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë·²ë·³ë·µë·¶ë··ë·¹ë·ºë·»ë·¼ë·½ë·¾ë·¿ë¸ë¸ë¸ë¸ë¸ë¸ë¸ë¸ë¸ë¸ë¸ë¸ë¸ë¸ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë¸ë¸ë¸ë¸ë¸ë¸ë¸ë¸ë¸ ë¸¡ë¸¢ë¸£ë¸¤ë¸¥ë¸¦ë¸§ë¸¨ë¸©ë¸ªë¸«ë¸¬ë¸­ë¸®ë¸¯ë¸°ë¸±ë¸²ë¸³ë¸´ë¸µë¸¶ë¸·ë¸¸ë¸¹ë¸ºë¸»ë¸¼ë¸½ë¸¾ë¸¿ë¹ë¹ë¹ë¹ë¹ë¹ë¹ë¹ë¹ë¹ë¹ë¹ë¹ë¹ë¹ë¹ë¹ë¹ë¹ë¹ë¹ë¹¢ë¹£ë¹¥ë¹¦ë¹§ë¹©ë¹«ë¹¬ë¹­ë¹®ë¹¯ë¹²ë¹¶ë¹·ë¹¸ë¹¹ë¹ºë¹¾ë¹¿ëºëºëºëºëºëºëºëºëºëºëºëºëºëºëºëºëºëºëºëºëºëºëºëº ëº¡ëº¢ëº£ëº¤ëº¥ëº¦ëº§ëº©ëºªëº«ëº¬ëº­ëº®ëº¯ëº°ëº±ëº²ëº³ëº´ëºµëº¶ëº·ï¿½".split("");
for(j = 0; j != D[149].length; ++j) if(D[149][j].charCodeAt(0) !== 0xFFFD) { e[D[149][j]] = 38144 + j; d[38144 + j] = D[149][j];}
D[150] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ëº¸ëº¹ëººëº»ëº¼ëº½ëº¾ëº¿ë»ë»ë»ë»ë»ë»ë»ë»ë»ë»ë»ë»ë»ë»ë»ë»ë»ë»ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë»ë»ë»ë»ë»ë»ë»ë»ë»ë»¡ë»¢ë»¦ë»§ë»¨ë»©ë»ªë»«ë»­ë»®ë»¯ë»°ë»±ë»²ë»³ë»´ë»µï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë»¶ë»·ë»¸ë»¹ë»ºë»»ë»¼ë»½ë»¾ë»¿ë¼ë¼ë¼ë¼ë¼ë¼ë¼ë¼ë¼ë¼ë¼ë¼ë¼ë¼ë¼ë¼ë¼ë¼ë¼ë¼ë¼ë¼ë¼ë¼ë¼ ë¼¡ë¼¢ë¼£ë¼¤ë¼¥ë¼¦ë¼§ë¼¨ë¼©ë¼ªë¼«ë¼¬ë¼­ë¼®ë¼¯ë¼°ë¼±ë¼²ë¼³ë¼´ë¼µë¼¶ë¼·ë¼¸ë¼¹ë¼ºë¼»ë¼¼ë¼½ë¼¾ë¼¿ë½ë½ë½ë½ë½ë½ë½ë½ë½ë½ë½ë½ë½ë½ë½ë½ë½ë½ë½ë½ë½ë½ë½ë½ë½ë½ ë½¡ë½¢ë½£ë½¤ë½¥ë½¦ë½§ë½¨ë½©ë½ªë½«ë½¬ë½­ë½®ë½¯ë½°ë½±ë½²ë½³ë½´ë½µë½¶ë½·ë½¸ë½¹ë½ºë½»ë½¼ë½½ë½¾ë½¿ë¾ë¾ë¾ï¿½".split("");
for(j = 0; j != D[150].length; ++j) if(D[150][j].charCodeAt(0) !== 0xFFFD) { e[D[150][j]] = 38400 + j; d[38400 + j] = D[150][j];}
D[151] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë¾ë¾ë¾ë¾ë¾ë¾ë¾ë¾ë¾ë¾ë¾ë¾ë¾ë¾ë¾ë¾ë¾ë¾ë¾ë¾ë¾ë¾ë¾ë¾ë¾ë¾ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë¾ë¾ë¾ ë¾¡ë¾¢ë¾£ë¾¤ë¾¥ë¾¦ë¾§ë¾¨ë¾©ë¾ªë¾«ë¾¬ë¾­ë¾®ë¾¯ë¾±ë¾²ë¾³ë¾´ë¾µë¾¶ë¾·ë¾¸ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë¾¹ë¾ºë¾»ë¾¼ë¾½ë¾¾ë¾¿ë¿ë¿ë¿ë¿ë¿ë¿ë¿ë¿ë¿ë¿ë¿ë¿ë¿ë¿ë¿ë¿ë¿ë¿ë¿ë¿ë¿ë¿ë¿ë¿ë¿ë¿ ë¿¢ë¿£ë¿¤ë¿¥ë¿¦ë¿§ë¿¨ë¿©ë¿ªë¿«ë¿¬ë¿­ë¿®ë¿¯ë¿°ë¿±ë¿²ë¿³ë¿´ë¿µë¿¶ë¿·ë¿¸ë¿¹ë¿ºë¿»ë¿¼ë¿½ë¿¾ë¿¿ììììììììììììììììììììììììììììììììì ì¡ì¢ì£ì¤ì¥ì¦ì§ì¨ì©ìªì«ì¬ì­ì®ì¯ì°ì±ì²ì³ì´ìµì¶ì·ì¸ì¹ìºì»ì½ì¾ì¿ï¿½".split("");
for(j = 0; j != D[151].length; ++j) if(D[151][j].charCodeAt(0) !== 0xFFFD) { e[D[151][j]] = 38656 + j; d[38656 + j] = D[151][j];}
D[152] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ììììììììììììììììììììììììììï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ìììì¡ì¢ì£ì¤ì¥ì¦ì§ìªì«ì¬ì­ì®ì¯ì°ì±ì²ì³ì´ìµì¶ì·ì¸ì¹ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ìºì»ì¼ì½ì¾ì¿ììììììììììììììììììììììììììììì¢ì¤ì¦ì§ì¨ì©ìªì«ì®ì±ì²ì·ì¸ì¹ìºì»ì¾ììììììììììììììììììììì ì¡ì¢ì£ì¦ì§ì©ìªì«ì­ì®ì¯ì°ì±ì²ì³ì¶ì¸ìºì»ì¼ì½ì¾ì¿ìììììììììììììììììììììììì¡ì¢ì¥ì¨ì©ìªì«ì®ï¿½".split("");
for(j = 0; j != D[152].length; ++j) if(D[152][j].charCodeAt(0) !== 0xFFFD) { e[D[152][j]] = 38912 + j; d[38912 + j] = D[152][j];}
D[153] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì²ì³ì´ìµì·ìºì»ì½ì¾ì¿ììììììììììììììììï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ììììììì ì¡ì¢ì£ì¦ìªì«ì¬ì­ì®ì¯ì±ì²ì³ìµì¶ì·ì¹ìºì»ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¼ì½ì¾ì¿ììììììììììììììììììììììì ì¢ì£ì¤ì¦ì§ìªì«ì­ì®ì¯ì±ì²ì³ì´ìµì¶ì·ì¸ì¹ìºì»ì¼ì¾ì¿ììììììììììììììììììììììììììì¡ì¢ì£ì¥ì¦ì§ì©ìªì«ì¬ì­ì®ì¯ì²ì´ìµì¶ì·ì¸ì¹ìºì»ì¾ì¿ììììììììììììììììììììììì¡ì¢ì£ï¿½".split("");
for(j = 0; j != D[153].length; ++j) if(D[153][j].charCodeAt(0) !== 0xFFFD) { e[D[153][j]] = 39168 + j; d[39168 + j] = D[153][j];}
D[154] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¤ì¥ì¦ì§ìªì¬ì®ì°ì³ìµì¶ì·ì¸ì¹ìºì»ì¼ì½ì¾ì¿ììììììï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ìììììììììììììììììììììì¡ì¢ì£ì¤ì¦ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì§ì¨ì©ìªì«ì®ì¯ì±ì²ì³ìµì¶ì·ì¸ì¹ìºì»ì¾ìììììììììììììììììììììììììì ì¡ì¢ì£ì¦ì§ì©ìªì«ì®ì¯ì°ì±ì²ì³ì¶ì¸ìºì»ì¼ì½ì¾ì¿ììììììììììììììììììììììììììììììì¡ì¢ì¥ì¦ì§ì¨ì©ìªì®ì°ì²ì³ì´ìµì·ìºì½ì¾ì¿ìììììììììììï¿½".split("");
for(j = 0; j != D[154].length; ++j) if(D[154][j].charCodeAt(0) !== 0xFFFD) { e[D[154][j]] = 39424 + j; d[39424 + j] = D[154][j];}
D[155] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ìììììììììììì ì¡ì¢ì£ì¦ì§ìªì«ì¬ì­ì®ì¯ì°ì±ì²ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì³ì´ìµì¶ì·ì¸ì¹ìºì»ì¼ì½ì¾ì¿ìììììììììììììï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ììììììììììììììììììì ì¡ì¢ì£ì¤ì¥ì¦ì§ìªì«ì­ì®ì¯ì±ì³ì´ìµì¶ì·ìºì»ì¾ì¿ìììììììììììììììììììììììììììììì ì¡ì¢ì£ì¤ì¥ì¦ì§ì¨ì©ìªì«ì¬ì­ì®ì¯ì°ì±ì²ì³ì´ìµì¶ì·ì¸ì¹ìºì»ì¼ì½ì¾ì¿ììììììììììììììììììììììììï¿½".split("");
for(j = 0; j != D[155].length; ++j) if(D[155][j].charCodeAt(0) !== 0xFFFD) { e[D[155][j]] = 39680 + j; d[39680 + j] = D[155][j];}
D[156] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ìììì¡ì£ì¤ì¥ì¦ì§ìªì«ì¬ì®ì¯ì°ì±ì²ì³ì¶ì·ì¹ìºì»ì¼ì½ì¾ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¿ìììììììììììììììììììììììììï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ìììììì ì¡ì¢ì£ì¥ì¦ì§ì¨ì©ìªì«ì­ì®ì¯ì±ì²ì³ìµì¶ì·ì¸ì¹ìºì»ì¾ì¿ìììììììììììììììììììììììììììììììì ì¡ì¢ì£ì¦ì§ì©ìªì«ì­ì®ì¯ì°ì±ì²ì³ì¶ì·ì¸ìºì»ì¼ì½ì¾ì¿ìììììììììììììììììììììììììììììì ì¡ì¢ì£ì¤ì¥ì¦ì§ì¨ì©ï¿½".split("");
for(j = 0; j != D[156].length; ++j) if(D[156][j].charCodeAt(0) !== 0xFFFD) { e[D[156][j]] = 39936 + j; d[39936 + j] = D[156][j];}
D[157] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ìªì«ì¬ì­ì®ì¯ì°ì±ì²ì³ì´ìµì¶ì·ì¹ìºì»ì½ì¾ì¿ììììììï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ììììììììììììììììììììììììììï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì ì¡ì¢ì£ì¤ì¥ì¦ì§ì¨ìªì«ì¬ì­ì®ì¯ì²ì³ìµì¶ì·ì¹ì»ì¼ì½ì¾ììììììììììììììììììììììììììì ì¡ì¢ì£ì¤ì¥ì¦ì§ìªì«ì­ì®ì¯ì±ì²ì³ì´ìµì¶ì·ìºì¼ì¾ì¿ììììììììììììììììì¢ì£ì¥ì¦ì§ì©ìªì«ì¬ì­ì®ì¯ì²ì¶ì·ì¸ì¹ìºì»ì¾ì¿ììììììììììììììï¿½".split("");
for(j = 0; j != D[157].length; ++j) if(D[157][j].charCodeAt(0) !== 0xFFFD) { e[D[157][j]] = 40192 + j; d[40192 + j] = D[157][j];}
D[158] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ìììììììì¡ì¢ì£ì¤ì¥ì¦ì§ì¨ìªì«ì¬ì­ì®ì¯ì°ì±ì²ì³ì¶ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì·ìºì¿ìììììììììììììììììììì¢ì¤ì¦ì§ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¨ì©ìªì«ì¯ì±ì²ì³ìµì¸ì¹ìºì»ììììììììììììììììììììì ì¡ì¢ì£ì¦ì§ì©ìªì«ì¯ì±ì²ì¶ì¸ìºì¼ì½ì¾ì¿ìììììììììììììììììììììì¡ì¢ì£ì¤ì¥ì¦ì§ì¨ì©ìªì«ì­ì®ì°ì²ì³ì´ìµì¶ì·ìºì»ì½ì¾ì¿ìììììììììììììììììììììììì ì¡ì¢ì£ì¦ï¿½".split("");
for(j = 0; j != D[158].length; ++j) if(D[158][j].charCodeAt(0) !== 0xFFFD) { e[D[158][j]] = 40448 + j; d[40448 + j] = D[158][j];}
D[159] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¨ìªì«ì¬ì­ì®ì¯ì²ì³ìµì¶ì·ì»ì¼ì½ì¾ì¿ìììììììììï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ìììììììììììììì¢ì£ì¤ì¥ì¦ì§ìªì«ì­ì®ì¯ì±ì²ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì³ì´ìµì¶ì·ìºì»ì¼ì¾ì¿ììììììììììììììììììììììììì¢ì£ì¥ì¦ì§ì©ìªì«ì¬ì­ì®ì¯ì²ì´ì¶ì¸ì¹ìºì»ì¾ì¿ìììììììììììììììììì¡ì¢ì£ì¤ì¥ì¦ì§ì©ìªì¬ì­ì®ì¯ì°ì±ì²ì³ì¶ì·ì¹ìºì»ì¿ìììììììììììììììììì¢ì§ì¨ì©ìªì«ì®ì¯ì±ì²ì³ìµì¶ì·ï¿½".split("");
for(j = 0; j != D[159].length; ++j) if(D[159][j].charCodeAt(0) !== 0xFFFD) { e[D[159][j]] = 40704 + j; d[40704 + j] = D[159][j];}
D[160] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¸ì¹ìºì»ì¾ìììììììììììììììììììììï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ììì ì¡ì¢ì£ì¥ì¦ì§ì©ìªì«ì­ì®ì¯ì°ì±ì²ì³ì´ìµì¶ì·ì¸ì¹ìºï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì»ì¼ì½ì¾ì¿ì ì ì ì ì ì ì ì ì ì ì ì ì ì ì ì ì ì ì ì ì ¡ì ¢ì £ì ¥ì ¦ì §ì ¨ì ©ì ªì «ì ®ì °ì ²ì ³ì ´ì µì ¶ì ·ì ¹ì ºì »ì ½ì ¾ì ¿ì¡ì¡ì¡ì¡ì¡ì¡ì¡ì¡ì¡ì¡ì¡ì¡ì¡ì¡ì¡ì¡ì¡ì¡ì¡ì¡ì¡ì¡ì¡ì¡ì¡ì¡ì¡ ì¡¡ì¡¢ì¡£ì¡¤ì¡¥ì¡¦ì¡§ì¡¨ì¡©ì¡ªì¡«ì¡¬ì¡­ì¡®ì¡¯ì¡²ì¡³ì¡µì¡¶ì¡·ì¡¹ì¡»ì¡¼ì¡½ì¡¾ì¡¿ì¢ì¢ì¢ì¢ì¢ì¢ì¢ì¢ì¢ì¢ì¢ì¢ì¢ì¢ì¢ì¢ì¢ì¢ì¢ì¢ì¢ ì¢¢ì¢£ì¢¤ï¿½".split("");
for(j = 0; j != D[160].length; ++j) if(D[160][j].charCodeAt(0) !== 0xFFFD) { e[D[160][j]] = 40960 + j; d[40960 + j] = D[160][j];}
D[161] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¢¥ì¢¦ì¢§ì¢©ì¢ªì¢«ì¢¬ì¢­ì¢®ì¢¯ì¢°ì¢±ì¢²ì¢³ì¢´ì¢µì¢¶ì¢·ì¢¸ì¢¹ì¢ºì¢»ì¢¾ì¢¿ì£ì£ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì£ì£ì£ì£ì£ì£ì£ì£ì£ì£ì£ì£ì£ì£ì£ì£ì£ì£ì£ì£ì£ì£ì£ì£¢ì££ì£¥ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì£¦ì£§ì£¨ì£©ì£ªì£«ì£¬ì£­ì£®ì£¯ì£°ì£±ì£²ì£³ì£´ì£¶ì£·ì£¸ì£¹ì£ºì£»ì£¾ì£¿ì¤ì¤ì¤ì¤ì¤ì¤ì¤ì¤ì¤ãããÂ·â¥â¦Â¨ãÂ­ââ¥ï¼¼â¼ââââããããããããããããÂ±ÃÃ·â â¤â¥ââ´Â°â²â³ââ«ï¿ ï¿¡ï¿¥âââ â¥ââââ¡âÂ§â»ââââââââ¡â â³â²â½â¼âââââãâªâ«ââ½ââµâ«â¬âââââââªâ©â§â¨ï¿¢ï¿½".split("");
for(j = 0; j != D[161].length; ++j) if(D[161][j].charCodeAt(0) !== 0xFFFD) { e[D[161][j]] = 41216 + j; d[41216 + j] = D[161][j];}
D[162] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¤ì¤ì¤ì¤ì¤ì¤ì¤ì¤ì¤ì¤ì¤ì¤ì¤ì¤ì¤ ì¤¡ì¤¢ì¤£ì¤¤ì¤¥ì¤¦ì¤§ì¤¨ì¤©ì¤ªì¤«ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¤­ì¤®ì¤¯ì¤°ì¤±ì¤²ì¤³ì¤µì¤¶ì¤·ì¤¸ì¤¹ì¤ºì¤»ì¤¼ì¤½ì¤¾ì¤¿ì¥ì¥ì¥ì¥ì¥ì¥ì¥ì¥ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¥ì¥ì¥ì¥ì¥ì¥ì¥ì¥ì¥ì¥ì¥ì¥ì¥ì¥ì¥ì¥ì¥ì¥ì¥ì¥ì¥¢ì¥¤ì¥¥ì¥¦ì¥§ì¥¨ì¥©ì¥ªì¥«ì¥­ì¥®ì¥¯ââââÂ´ï½ËËËËËÂ¸ËÂ¡Â¿Ëâ®ââÂ¤ââ°âââ·â¶â¤â â¡â¥â§â£âââ£ââââ¤â¥â¨â§â¦â©â¨ââââÂ¶â â¡ââââââ­â©âªâ¬ã¿ãâãâ¢ããâ¡â¬Â®ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[162].length; ++j) if(D[162][j].charCodeAt(0) !== 0xFFFD) { e[D[162][j]] = 41472 + j; d[41472 + j] = D[162][j];}
D[163] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¥±ì¥²ì¥³ì¥µì¥¶ì¥·ì¥¸ì¥¹ì¥ºì¥»ì¥½ì¥¾ì¥¿ì¦ì¦ì¦ì¦ì¦ì¦ì¦ì¦ì¦ì¦ì¦ì¦ì¦ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¦ì¦ì¦ì¦ì¦ì¦ì¦ì¦ì¦ì¦ì¦ì¦ ì¦¡ì¦¢ì¦£ì¦¤ì¦¥ì¦¦ì¦§ì¦¨ì¦©ì¦ªì¦«ì¦¬ì¦­ì¦®ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¦¯ì¦°ì¦±ì¦²ì¦³ì¦´ì¦µì¦¶ì¦·ì¦¸ì¦¹ì¦ºì¦»ì¦¼ì¦½ì¦¾ì¦¿ì§ì§ì§ì§ì§ì§ì§ì§ì§ì§ì§ì§ì§ì§ì§ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ ï¼¡ï¼¢ï¼£ï¼¤ï¼¥ï¼¦ï¼§ï¼¨ï¼©ï¼ªï¼«ï¼¬ï¼­ï¼®ï¼¯ï¼°ï¼±ï¼²ï¼³ï¼´ï¼µï¼¶ï¼·ï¼¸ï¼¹ï¼ºï¼»ï¿¦ï¼½ï¼¾ï¼¿ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï¿£ï¿½".split("");
for(j = 0; j != D[163].length; ++j) if(D[163][j].charCodeAt(0) !== 0xFFFD) { e[D[163][j]] = 41728 + j; d[41728 + j] = D[163][j];}
D[164] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì§ì§ì§¡ì§£ì§¥ì§¦ì§¨ì§©ì§ªì§«ì§®ì§²ì§³ì§´ì§µì§¶ì§·ì§ºì§»ì§½ì§¾ì§¿ì¨ì¨ì¨ì¨ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¨ì¨ì¨ì¨ì¨ì¨ì¨ì¨ì¨ì¨ì¨ì¨ì¨ì¨ì¨ì¨ì¨ì¨ì¨ì¨ì¨ ì¨¡ì¨¢ì¨£ì¨¤ì¨¥ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¨¦ì¨§ì¨¨ì¨ªì¨«ì¨¬ì¨­ì¨®ì¨¯ì¨°ì¨±ì¨²ì¨³ì¨´ì¨µì¨¶ì¨·ì¨¸ì¨¹ì¨ºì¨»ì¨¼ì¨½ì¨¾ì¨¿ì©ì©ì©ì©ì©ì©ì©ã±ã²ã³ã´ãµã¶ã·ã¸ã¹ãºã»ã¼ã½ã¾ã¿ããããããããããããããããããããããããããããããããã ã¡ã¢ã£ã¤ã¥ã¦ã§ã¨ã©ãªã«ã¬ã­ã®ã¯ã°ã±ã²ã³ã´ãµã¶ã·ã¸ã¹ãºã»ã¼ã½ã¾ã¿ãããããããããããããããï¿½".split("");
for(j = 0; j != D[164].length; ++j) if(D[164][j].charCodeAt(0) !== 0xFFFD) { e[D[164][j]] = 41984 + j; d[41984 + j] = D[164][j];}
D[165] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì©ì©ì©ì©ì©ì©ì©ì©ì©ì©ì©ì©ì©ì©ì©ì©ì©ì©ì©¢ì©£ì©¤ì©¥ì©¦ì©§ì©©ì©ªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì©«ì©¬ì©­ì©®ì©¯ì©°ì©±ì©²ì©³ì©´ì©µì©¶ì©·ì©¸ì©¹ì©ºì©»ì©¼ì©¾ì©¿ìªìªìªìªìªìªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ìªìªìªìªìªìªìªìªìªìªìªìªìªìªìªìªìªìªìªìªìªìªìªìªìª ìª¡ìª¢ìª£ìª¤ìª¥ìª¦ìª§â°â±â²â³â´âµâ¶â·â¸â¹ï¿½ï¿½ï¿½ï¿½ï¿½â â¡â¢â£â¤â¥â¦â§â¨â©ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÎÎÎÎÎÎÎÎÎÎÎÎÎÎÎÎ Î¡Î£Î¤Î¥Î¦Î§Î¨Î©ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Î±Î²Î³Î´ÎµÎ¶Î·Î¸Î¹ÎºÎ»Î¼Î½Î¾Î¿ÏÏÏÏÏÏÏÏÏï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[165].length; ++j) if(D[165][j].charCodeAt(0) !== 0xFFFD) { e[D[165][j]] = 42240 + j; d[42240 + j] = D[165][j];}
D[166] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ìª¨ìª©ìªªìª«ìª¬ìª­ìª®ìª¯ìª°ìª±ìª²ìª³ìª´ìªµìª¶ìª·ìª¸ìª¹ìªºìª»ìª¾ìª¿ì«ì«ì«ì«ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì«ì«ì«ì«ì«ì«ì«ì«ì«ì«ì«ì«ì«ì«ì«ì«ì«ì«ì«ì«¡ì«¢ì«£ì«¤ì«¥ì«¦ì«§ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì«¨ì«©ì«ªì««ì«­ì«®ì«¯ì«°ì«±ì«²ì«³ì«µì«¶ì«·ì«¸ì«¹ì«ºì«»ì«¼ì«½ì«¾ì«¿ì¬ì¬ì¬ì¬ì¬ì¬ì¬ì¬ì¬ì¬ââââââââ¬â¤â´â¼âââââââ£â³â«â»ââ â¯â¨â·â¿ââ°â¥â¸ââââââââââââ¡â¢â¦â§â©âªâ­â®â±â²âµâ¶â¹âºâ½â¾ââââââââââï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[166].length; ++j) if(D[166][j].charCodeAt(0) !== 0xFFFD) { e[D[166][j]] = 42496 + j; d[42496 + j] = D[166][j];}
D[167] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¬ì¬ì¬ì¬ì¬ì¬ì¬ì¬ì¬ì¬ì¬ì¬ì¬ì¬ì¬ì¬ì¬ì¬ì¬¢ì¬£ì¬¤ì¬¥ì¬¦ì¬§ì¬¨ì¬©ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¬ªì¬«ì¬¬ì¬­ì¬®ì¬¯ì¬°ì¬±ì¬²ì¬³ì¬´ì¬µì¬¶ì¬·ì¬¸ì¬¹ì¬ºì¬»ì¬¼ì¬½ì¬¾ì¬¿ì­ì­ì­ì­ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì­ì­ì­ì­ì­ì­ì­ì­ì­ì­ì­ì­ì­ì­ì­ì­ì­ì­ì­ì­ì­ ì­¡ì­¢ì­£ì­¥ì­¦ì­§ì­¨ì­©ì­ªì­«ì­¬ãããâããã£ã¤ã¥ã¦ãããããããã ã¡ã¢ããããããããã§ã¨ã°ã±ã²ã³ã´ãµã¶ã·ã¸ã¹ããããããºã»ã¼ã½ã¾ã¿ãããããâ¦ãããããããã­ã®ã¯ãã©ãªã«ã¬ãããããããï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[167].length; ++j) if(D[167][j].charCodeAt(0) !== 0xFFFD) { e[D[167][j]] = 42752 + j; d[42752 + j] = D[167][j];}
D[168] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì­­ì­®ì­¯ì­°ì­±ì­²ì­³ì­´ì­µì­¶ì­·ì­ºì­»ì­¼ì­½ì­¾ì­¿ì®ì®ì®ì®ì®ì®ì®ì®ì®ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì®ì®ì®ì®ì®ì®ì®ì®ì®ì®ì®ì®ì®ì®ì®ì®ì®ì®ì®ì®ì®ì®ì® ì®¡ì®¢ì®£ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì®¤ì®¥ì®¦ì®§ì®¨ì®©ì®ªì®«ì®¬ì®­ì®®ì®¯ì®°ì®±ì®²ì®³ì®´ì®µì®¶ì®·ì®¹ì®ºì®»ì®¼ì®½ì®¾ì®¿ì¯ì¯ì¯ì¯ì¯ÃÃÂªÄ¦ï¿½Ä²ï¿½Ä¿ÅÃÅÂºÃÅ¦Åï¿½ã ã¡ã¢ã£ã¤ã¥ã¦ã§ã¨ã©ãªã«ã¬ã­ã®ã¯ã°ã±ã²ã³ã´ãµã¶ã·ã¸ã¹ãºã»âââââââââââââââââ â¡â¢â£â¤â¥â¦â§â¨â©â â¡â¢â£â¤â¥â¦â§â¨â©âªâ«â¬â­â®Â½ââÂ¼Â¾ââââï¿½".split("");
for(j = 0; j != D[168].length; ++j) if(D[168][j].charCodeAt(0) !== 0xFFFD) { e[D[168][j]] = 43008 + j; d[43008 + j] = D[168][j];}
D[169] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¯ì¯ì¯ì¯ì¯ì¯ì¯ì¯ì¯ì¯ì¯ì¯ì¯ì¯ì¯ì¯ì¯ì¯ì¯ì¯ì¯ì¯ì¯ì¯ì¯ì¯ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¯ ì¯¡ì¯¢ì¯£ì¯¥ì¯¦ì¯¨ì¯ªì¯«ì¯¬ì¯­ì¯®ì¯¯ì¯°ì¯±ì¯²ì¯³ì¯´ì¯µì¯¶ì¯·ì¯¸ì¯¹ì¯ºì¯»ì¯¼ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¯½ì¯¾ì¯¿ì°ì°ì°ì°ì°ì°ì°ì°ì°ì°ì°ì°ì°ì°ì°ì°ì°ì°ì°ì°ì°ì°ì°ì°ì°ì°ì° ì°£ì°¤Ã¦ÄÃ°Ä§Ä±Ä³Ä¸ÅÅÃ¸ÅÃÃ¾Å§ÅÅããããããããããããããããããããããããããããâââââ â¡â¢â£â¤â¥â¦â§â¨â©âªâ«â¬â­â®â¯â°â±â²â³â´âµâ´âµâ¶â·â¸â¹âºâ»â¼â½â¾â¿âââÂ¹Â²Â³â´â¿ââââï¿½".split("");
for(j = 0; j != D[169].length; ++j) if(D[169][j].charCodeAt(0) !== 0xFFFD) { e[D[169][j]] = 43264 + j; d[43264 + j] = D[169][j];}
D[170] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì°¥ì°¦ì°ªì°«ì°­ì°¯ì°±ì°²ì°³ì°´ì°µì°¶ì°·ì°ºì°¿ì±ì±ì±ì±ì±ì±ì±ì±ì±ì±ì±ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì±ì±ì±ì±ì±ì±ì±ì±ì±ì±ì±ì±ì±¡ì±¢ì±£ì±¥ì±§ì±©ì±ªì±«ì±¬ì±­ì±®ì±¯ì±±ì±²ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì±³ì±´ì±¶ì±·ì±¸ì±¹ì±ºì±»ì±¼ì±½ì±¾ì±¿ì²ì²ì²ì²ì²ì²ì²ì²ì²ì²ì²ì²ì²ì²ì²ì²ì²ì²ì²ì²ãããããããããããããããããããããããããããããããã ã¡ã¢ã£ã¤ã¥ã¦ã§ã¨ã©ãªã«ã¬ã­ã®ã¯ã°ã±ã²ã³ã´ãµã¶ã·ã¸ã¹ãºã»ã¼ã½ã¾ã¿ããããããããããããããããããããï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[170].length; ++j) if(D[170][j].charCodeAt(0) !== 0xFFFD) { e[D[170][j]] = 43520 + j; d[43520 + j] = D[170][j];}
D[171] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì²ì²ì²ì²ì²ì²ì²ì²ì²ì²¡ì²¢ì²£ì²¤ì²¥ì²¦ì²§ì²ªì²®ì²¯ì²°ì²±ì²²ì²³ì²¶ì²·ì²¹ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì²ºì²»ì²½ì²¾ì²¿ì³ì³ì³ì³ì³ì³ì³ì³ì³ì³ì³ì³ì³ì³ì³ì³ì³ì³ì³ì³ì³ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì³ì³ì³ì³ì³ì³ ì³¡ì³¢ì³£ì³¥ì³¦ì³§ì³¨ì³©ì³ªì³«ì³­ì³®ì³¯ì³±ì³²ì³³ì³´ì³µì³¶ì³·ì³¸ì³¹ì³ºì³»ì³¼ì³½ã¡ã¢ã£ã¤ã¥ã¦ã§ã¨ã©ãªã«ã¬ã­ã®ã¯ã°ã±ã²ã³ã´ãµã¶ã·ã¸ã¹ãºã»ã¼ã½ã¾ã¿ããããããããããããããããããããããããããããããããã ã¡ã¢ã£ã¤ã¥ã¦ã§ã¨ã©ãªã«ã¬ã­ã®ã¯ã°ã±ã²ã³ã´ãµã¶ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[171].length; ++j) if(D[171][j].charCodeAt(0) !== 0xFFFD) { e[D[171][j]] = 43776 + j; d[43776 + j] = D[171][j];}
D[172] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì³¾ì³¿ì´ì´ì´ì´ì´ì´ì´ì´ì´ì´ì´ì´ì´ì´ì´ì´ì´ì´ì´ì´ì´ì´ì´ì´ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì´¡ì´¢ì´£ì´¥ì´¦ì´§ì´©ì´ªì´«ì´­ì´®ì´¯ì´°ì´±ì´²ì´³ì´´ì´µì´¶ì´·ì´¸ì´ºì´»ì´¼ì´½ì´¾ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì´¿ìµìµìµìµìµìµìµìµìµìµìµìµìµìµìµìµìµìµìµìµìµìµìµìµìµìµìµìµìµìµìµÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐ Ð¡Ð¢Ð£Ð¤Ð¥Ð¦Ð§Ð¨Ð©ÐªÐ«Ð¬Ð­Ð®Ð¯ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ð°Ð±Ð²Ð³Ð´ÐµÑÐ¶Ð·Ð¸Ð¹ÐºÐ»Ð¼Ð½Ð¾Ð¿ÑÑÑÑÑÑÑÑÑÑÑÑÑÑÑÑï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[172].length; ++j) if(D[172][j].charCodeAt(0) !== 0xFFFD) { e[D[172][j]] = 44032 + j; d[44032 + j] = D[172][j];}
D[173] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ìµ¡ìµ¢ìµ£ìµ¥ìµ¦ìµ§ìµ¨ìµ©ìµªìµ«ìµ®ìµ°ìµ²ìµ³ìµ´ìµµìµ¶ìµ·ìµ¹ìµºìµ»ìµ¼ìµ½ìµ¾ìµ¿ì¶ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¶ì¶ì¶ì¶ì¶ì¶ì¶ì¶ì¶ì¶ì¶ì¶ì¶ì¶ì¶ì¶ì¶ì¶ì¶ì¶ì¶ì¶ì¶ì¶ì¶ì¶ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¶ ì¶¡ì¶¢ì¶£ì¶¦ì¶¨ì¶ªì¶«ì¶¬ì¶­ì¶®ì¶¯ì¶±ì¶²ì¶³ì¶´ì¶µì¶¶ì¶·ì¶¸ì¶¹ì¶ºì¶»ì¶¼ì¶½ì¶¾ì¶¿ì·ì·ì·ì·ì·ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[173].length; ++j) if(D[173][j].charCodeAt(0) !== 0xFFFD) { e[D[173][j]] = 44288 + j; d[44288 + j] = D[173][j];}
D[174] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì·ì·ì·ì·ì·ì·ì·ì·ì·ì·ì·ì·ì·ì·ì·ì·ì·ì·ì·ì·ì·ì·ì·ì·ì· ì·¡ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì·¢ì·£ì·¤ì·¥ì·¦ì·§ì·©ì·ªì·«ì·­ì·®ì·¯ì·±ì·²ì·³ì·´ì·µì·¶ì··ì·ºì·¼ì·¾ì·¿ì¸ì¸ì¸ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¸ì¸ì¸ì¸ì¸ì¸ì¸ì¸ì¸ì¸ì¸ì¸ì¸ì¸ì¸ì¸ì¸ì¸ì¸ì¸ì¸ì¸ì¸ì¸ì¸¢ì¸£ì¸¥ì¸¦ì¸§ì¸©ì¸ªì¸«ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[174].length; ++j) if(D[174][j].charCodeAt(0) !== 0xFFFD) { e[D[174][j]] = 44544 + j; d[44544 + j] = D[174][j];}
D[175] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¸¬ì¸­ì¸®ì¸¯ì¸²ì¸´ì¸¶ì¸·ì¸¸ì¸¹ì¸ºì¸»ì¸¼ì¸½ì¸¾ì¸¿ì¹ì¹ì¹ì¹ì¹ì¹ì¹ì¹ì¹ì¹ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¹ì¹ì¹ì¹ì¹ì¹ì¹ì¹ì¹ì¹ì¹ì¹ì¹ì¹ì¹ì¹ì¹ì¹ì¹¢ì¹£ì¹¤ì¹¥ì¹¦ì¹§ì¹ªì¹¬ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¹®ì¹¯ì¹°ì¹±ì¹²ì¹³ì¹¶ì¹·ì¹¹ì¹ºì¹»ì¹½ì¹¾ì¹¿ìºìºìºìºìºìºìºìºìºìºìºìºìºìºìºìºìºìºï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[175].length; ++j) if(D[175][j].charCodeAt(0) !== 0xFFFD) { e[D[175][j]] = 44800 + j; d[44800 + j] = D[175][j];}
D[176] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ìºìºìºìºìºìºìº¢ìº¦ìº§ìº¨ìº©ìºªìº«ìº®ìº¯ìº°ìº±ìº²ìº³ìº´ìºµìº¶ìº·ìº¸ìº¹ìººï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ìº»ìº¼ìº½ìº¾ìº¿ì»ì»ì»ì»ì»ì»ì»ì»ì»ì»ì»ì»ì»ì»ì»ì»ì»ì»ì»ì»ì»ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì»ì»ì»ì»ì»ì»ì»ì»ì»ì»ì» ì»¡ì»¢ì»£ì»¦ì»§ì»©ì»ªì»­ì»®ì»¯ì»°ì»±ì»²ì»³ì»¶ì»ºì»»ì»¼ì»½ì»¾ì»¿ê°ê°ê°ê°ê°ê°ê°ê°ê°ê°ê°ê°ê°ê°ê°ê°ê°ê°ê°ê°ê° ê°¤ê°¬ê°­ê°¯ê°°ê°±ê°¸ê°¹ê°¼ê±ê±ê±ê±ê±ê±ê±°ê±±ê±´ê±·ê±¸ê±ºê²ê²ê²ê²ê²ê²ê²ê²ê²ê²ê²ê²ê²ê²ê²ê² ê²¡ê²¨ê²©ê²ªê²¬ê²¯ê²°ê²¸ê²¹ê²»ê²¼ê²½ê³ê³ê³ê³ê³ê³ê³ ê³¡ê³¤ê³§ê³¨ê³ªê³¬ê³¯ê³°ê³±ê³³ê³µê³¶ê³¼ê³½ê´ê´ê´ï¿½".split("");
for(j = 0; j != D[176].length; ++j) if(D[176][j].charCodeAt(0) !== 0xFFFD) { e[D[176][j]] = 45056 + j; d[45056 + j] = D[176][j];}
D[177] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¼ì¼ì¼ì¼ì¼ì¼ì¼ì¼ì¼ì¼ì¼ì¼ì¼ì¼ì¼ì¼ì¼ì¼ì¼ì¼ì¼ì¼ì¼ì¼¡ì¼¢ì¼£ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¼¥ì¼¦ì¼§ì¼¨ì¼©ì¼ªì¼«ì¼®ì¼²ì¼³ì¼´ì¼µì¼¶ì¼·ì¼¹ì¼ºì¼»ì¼¼ì¼½ì¼¾ì¼¿ì½ì½ì½ì½ì½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì½ì½ì½ì½ì½ì½ì½ì½ì½ì½ì½ì½ì½ì½ì½ì½ì½ì½ì½ì½ì½ì½ì½ì½ ì½¡ì½¢ì½£ì½¦ì½¨ì½ªì½«ì½¬ê´ê´ê´ê´ê´ê´ê´ ê´©ê´¬ê´­ê´´ê´µê´¸ê´¼êµêµêµêµêµêµêµêµ¡êµ£êµ¬êµ­êµ°êµ³êµ´êµµêµ¶êµ»êµ¼êµ½êµ¿ê¶ê¶ê¶ê¶ê¶ê¶ê¶ê¶ê¶¤ê¶·ê·ê·ê·ê·ê·ê·ê·ê·ê· ê·¤ê·¸ê·¹ê·¼ê·¿ê¸ê¸ê¸ê¸ê¸ê¸ê¸ê¸°ê¸±ê¸´ê¸·ê¸¸ê¸ºê¹ê¹ê¹ê¹ê¹ê¹ê¹ê¹ê¹ê¹ê¹ê¹ê¹ê¹ê¹ê¹ ê¹¡ê¹¥ê¹¨ê¹©ê¹¬ê¹°ê¹¸ï¿½".split("");
for(j = 0; j != D[177].length; ++j) if(D[177][j].charCodeAt(0) !== 0xFFFD) { e[D[177][j]] = 45312 + j; d[45312 + j] = D[177][j];}
D[178] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì½­ì½®ì½¯ì½²ì½³ì½µì½¶ì½·ì½¹ì½ºì½»ì½¼ì½½ì½¾ì½¿ì¾ì¾ì¾ì¾ì¾ì¾ì¾ì¾ì¾ì¾ì¾ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¾ì¾ì¾ì¾ì¾ì¾ì¾ì¾ì¾ì¾ì¾ì¾ì¾ì¾ì¾ì¾ì¾ì¾ì¾ ì¾¢ì¾£ì¾¤ì¾¥ì¾¦ì¾§ì¾©ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¾ªì¾«ì¾¬ì¾­ì¾®ì¾¯ì¾±ì¾²ì¾³ì¾´ì¾µì¾¶ì¾·ì¾¸ì¾¹ì¾ºì¾»ì¾¼ì¾½ì¾¾ì¾¿ì¿ì¿ì¿ì¿ì¿ì¿ì¿ì¿ì¿ì¿ì¿ê¹¹ê¹»ê¹¼ê¹½êºêºêºêº¼êº½êº¾ê»ê»ê»ê»ê»ê»ê»ê»ê»ê»ê»¨ê»«ê»­ê»´ê»¸ê»¼ê¼ê¼ê¼ê¼ê¼¬ê¼­ê¼°ê¼²ê¼´ê¼¼ê¼½ê¼¿ê½ê½ê½ê½ê½ê½ê½ê½ê½¤ê½¥ê½¹ê¾ê¾ê¾ê¾ê¾ê¾ê¾ê¾¸ê¾¹ê¾¼ê¿ê¿ê¿ê¿ê¿ê¿ê¿ê¿ê¿ê¿¨ê¿©ê¿°ê¿±ê¿´ê¿¸ëëëëëëëëë¨ëëëëëëëëëëëï¿½".split("");
for(j = 0; j != D[178].length; ++j) if(D[178][j].charCodeAt(0) !== 0xFFFD) { e[D[178][j]] = 45568 + j; d[45568 + j] = D[178][j];}
D[179] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¿ì¿ì¿ì¿ì¿ì¿ì¿ì¿ì¿ì¿ì¿ì¿ì¿ì¿ì¿ì¿ì¿ì¿ì¿ì¿ì¿¢ì¿£ì¿¥ì¿¦ì¿§ì¿©ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¿ªì¿«ì¿¬ì¿­ì¿®ì¿¯ì¿²ì¿´ì¿¶ì¿·ì¿¸ì¿¹ì¿ºì¿»ì¿½ì¿¾ì¿¿íííííííííï¿½ï¿½ï¿½ï¿½ï¿½ï¿½íííííííííííííííííííí í¡í¢í£í¤í¥í¦í§í¨í©íªí«í¬ëë¼ë½ëëëëëëëëëëëë ë¡ë¢ë¨ë©ë«ë¬ë­ë®ë¯ë±ë³ë´ëµë¸ë¼ëëëëëëëëëë ë¥ëëëëëëëëëëëëë£ë¤ë¥ë¨ë¬ë´ëµë·ë¸ë¹ëëëëëëëëëëë ë¸ë¹ë¼ëëëëëëëëëëëë¨ëëëëëï¿½".split("");
for(j = 0; j != D[179].length; ++j) if(D[179][j].charCodeAt(0) !== 0xFFFD) { e[D[179][j]] = 45824 + j; d[45824 + j] = D[179][j];}
D[180] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í®í¯í°í±í²í³í¶í·í¹íºí»í½í¾í¿ííííííííííííï¿½ï¿½ï¿½ï¿½ï¿½ï¿½íííííííííííííí¡í¢í£í¤í¥í¦í§í¨í©íªí«í®í¯ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í±í²í³íµí¶í·í¸í¹íºí»í¾í¿ííííííííííííííííííííëë¨ë©ë¬ë°ë¹ë»ë½ëëëëëëëëëë ë´ë¼ëëë ë¨ë©ë´ëµë¼ëëëëëëëëëë ë¡ë£ë¥ë¦ëªë¬ë°ë´ëëëëëëëëëë¢ë¤ë¥ë¦ë¨ë«ë¬ë­ë®ë¯ë³ë´ëµë·ë¸ë¹ëºë»ë¿ëëëëëëëëëëëëëëëëëëë¤ë¥ï¿½".split("");
for(j = 0; j != D[180].length; ++j) if(D[180][j].charCodeAt(0) !== 0xFFFD) { e[D[180][j]] = 46080 + j; d[46080 + j] = D[180][j];}
D[181] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½íííííííííííí í¡í¢í£í¦í§í©íªí«í­í®í¯í°í±í²ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í³í¶í¸íºí»í¼í½í¾í¿íííííííííííííííííï¿½ï¿½ï¿½ï¿½ï¿½ï¿½íííí¡í¢í£í¥í¦í§í¨í©íªí«í®í²í³í´íµí¶í·í¹íºí»í¼í½í¾í¿íííííë§ë©ë«ë®ë°ë±ë´ë¸ëëëëëëëëë ë¡ë¨ë¬ëëëëëëëëëëëëëë ë¤ë¨ë¼ëëëë ë¨ë©ë«ë´ëëëëë ë¡ë£ë¥ë¬ëëëë¤ë¨ë¬ëµë·ë¹ëëëëëëëë ë£ë¤ë¦ë¬ë­ë¯ë±ë¸ëëëëëë¤ë¥ë§ë¨ë©ëªë°ë±ë´ë¸ï¿½".split("");
for(j = 0; j != D[181].length; ++j) if(D[181][j].charCodeAt(0) !== 0xFFFD) { e[D[181][j]] = 46336 + j; d[46336 + j] = D[181][j];}
D[182] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ííííííííííííííííííííííííííï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í í¡í¢í£í¤í¥í¦í§í¨í©íªí«í¬í­í®í¯í²í³íµí¶í·í¹í»í¼í½í¾ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í¿ííííííííííííííííííííí í¢í£í¤í¥í¦í§í©íªí«í­ëëëëëëëëëëëëëë ë¡ë ë¡ë¤ë¨ëªë«ë°ë±ë³ë´ëµë»ë¼ë½ëëëëëëëëë¬ëëëëë¥ë¬ë´ëë¤ë¨ëëë ë¤ë«ë¬ë±ëë°ë´ë¸ëëëë¨ë©ë¬ë¯ë°ë¸ë¹ë»ëëëëëë ë¤ë¨ë°ë±ë³ëµë¼ë½ëëëëëëëëëëï¿½".split("");
for(j = 0; j != D[182].length; ++j) if(D[182][j].charCodeAt(0) !== 0xFFFD) { e[D[182][j]] = 46592 + j; d[46592 + j] = D[182][j];}
D[183] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í®í¯í°í±í²í³í´íµí¶í·í¸í¹íºí»í½í¾í¿íííííííííï¿½ï¿½ï¿½ï¿½ï¿½ï¿½íííííííííííííííííííííí¢í£í¥í¦í§ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í©íªí«í¬í­í®í¯í²í´í¶í·í¸í¹í»í½í¾í¿íííííííííííííííëëëë ë¨ë©ë«ë¬ë­ë´ëµë¸ëëë¬ë­ë°ë´ë¼ë½ë¿ë ë ë ë ë ë ë ë ë ë ë ë ¤ë ¥ë ¨ë ¬ë ´ë µë ·ë ¸ë ¹ë¡ë¡ë¡ë¡ë¡ë¡ë¡ ë¡¤ë¡¬ë¡­ë¡¯ë¡±ë¡¸ë¡¼ë¢ë¢¨ë¢°ë¢´ë¢¸ë£ë£ë£ë£ë£ë£ë£ë£ë£ë£¡ë£¨ë£©ë£¬ë£°ë£¸ë£¹ë£»ë£½ë¤ë¤ë¤ ë¤¼ë¤½ë¥ë¥ë¥ë¥ë¥ë¥ë¥ë¥ë¥ ë¥¨ë¥©ï¿½".split("");
for(j = 0; j != D[183].length; ++j) if(D[183][j].charCodeAt(0) !== 0xFFFD) { e[D[183][j]] = 46848 + j; d[46848 + j] = D[183][j];}
D[184] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½íííííííííííííííí í¡í¢í£í¤í¥í¦í§í¨í©íªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í«í¬í­í®í¯í°í±í²í³íµí¶í·í¹íºí»í¼í½í¾í¿íííííííï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ííííííííííííííííííííííí í¡í¢í£í¤í¥í¦í§í¨í©ë¥«ë¥­ë¥´ë¥µë¥¸ë¥¼ë¦ë¦ë¦ë¦ë¦ë¦ë¦ë¦¬ë¦­ë¦°ë¦´ë¦¼ë¦½ë¦¿ë§ë§ë§ë§ë§ë§ë§ë§ë§ë§ë§ë§ë§ë§ë§¡ë§£ë§¤ë§¥ë§¨ë§¬ë§´ë§µë§·ë§¸ë§¹ë§ºë¨ë¨ë¨ë¨ë¨¸ë¨¹ë¨¼ë©ë©ë©ë©ë©ë©ë©ë©ë©ë©ë©ë©ë©¤ë©¥ë©§ë©¨ë©©ë©°ë©±ë©´ë©¸ëªëªëªëªëªëª¨ëª©ëª«ëª¬ëª°ëª²ëª¸ëª¹ëª»ëª½ë«ë«ë«ë«ë«¼ï¿½".split("");
for(j = 0; j != D[184].length; ++j) if(D[184][j].charCodeAt(0) !== 0xFFFD) { e[D[184][j]] = 47104 + j; d[47104 + j] = D[184][j];}
D[185] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½íªí«í®í¯í±í²í³íµí¶í·í¸í¹íºí»í¾íííííííííííï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ííííííííííííííííííí í¡í¢í£í¥í¦í§í¨ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í©íªí«í¬í­í®í¯í°í±í²í³í´íµí¶í·í¸í¹íºí»í¼í½í¾í¿íííííííííë¬ë¬ë¬ë¬ë¬ë¬ë¬ë¬ ë¬©ë¬«ë¬´ë¬µë¬¶ë¬¸ë¬»ë¬¼ë¬½ë¬¾ë­ë­ë­ë­ë­ë­ë­ë­ë­ë­¡ë­£ë­¬ë®ë®ë®ë®¤ë®¨ë®¬ë®´ë®·ë¯ë¯ë¯ë¯ë¯ë¯¸ë¯¹ë¯¼ë¯¿ë°ë°ë°ë°ë°ë°ë°ë°ë°ë°ë°ë°ë°ë°ë°ë°ë°ë°ë°ë°¤ë°¥ë°§ë°©ë°­ë°°ë°±ë°´ë°¸ë±ë±ë±ë±ë±ë±ë±ë±ë±ë±ë²ë²ë²ë²ë²ë²ë²ë²ë²ï¿½".split("");
for(j = 0; j != D[185].length; ++j) if(D[185][j].charCodeAt(0) !== 0xFFFD) { e[D[185][j]] = 47360 + j; d[47360 + j] = D[185][j];}
D[186] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½íííííííííííííííí¡í¢í£í¥í¦í§í¨í©íªí«í­ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í®í¯í°í²í³í´íµí¶í·íºí»í½í¾íííííííííííííï¿½ï¿½ï¿½ï¿½ï¿½ï¿½íííííííííííí í¡í¢í£í¦í§í¨í©íªí«í¬í­í®í¯í²í³íµí¶í·í¹íºë²ë²ë² ë²¡ë²¤ë²§ë²¨ë²°ë²±ë²³ë²´ë²µë²¼ë²½ë³ë³ë³ë³ë³ë³ë³ë³ë³ë³´ë³µë³¶ë³¸ë³¼ë´ë´ë´ë´ë´ë´ë´¤ë´¬ëµëµëµëµëµëµëµëµ¤ëµ¨ë¶ë¶ë¶ë¶ë¶ë¶ë¶ë¶ë¶ë¶ë¶ë¶ë¶ë¶ë¶¤ë¶°ë¶¸ë·ë·ë·ë·ë·©ë·°ë·´ë·¸ë¸ë¸ë¸ë¸ë¸ë¸ë¸ë¸ë¸ë¸ë¹ë¹ë¹ë¹ë¹ë¹ë¹ë¹ë¹ë¹ë¹ë¹ ë¹¡ë¹¤ï¿½".split("");
for(j = 0; j != D[186].length; ++j) if(D[186][j].charCodeAt(0) !== 0xFFFD) { e[D[186][j]] = 47616 + j; d[47616 + j] = D[186][j];}
D[187] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í»í¼í½í¾í¿íííííííííííííííííííí¢í£ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í¤í¦í§íªí«í­í®í¯í±í²í³í´íµí¶í·íºí¾í¿ííííííííï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ííííííííííííííííííííííí í¡í¢í£í¤í¥í¦í§í¨í©ë¹¨ë¹ªë¹°ë¹±ë¹³ë¹´ë¹µë¹»ë¹¼ë¹½ëºëºëºëºëºëºëºëºëºëº¨ë»ë»ë»ë»ë»ë» ë»£ë»¤ë»¥ë»¬ë¼ë¼ë¼ë¼ë¼ë¼ë¼ë¼ë½ë½ë½ë½ë½ë½ë½ë¾ë¾°ë¿ë¿ë¿ë¿ë¿ë¿ë¿ë¿¡ì¼ìììì ì¨ì©ììììì ì¡ì£ì¥ì¬ì­ì¯ì°ì³ì´ìµì¶ì¼ì½ì¿ììììììììììììì¤ï¿½".split("");
for(j = 0; j != D[187].length; ++j) if(D[187][j].charCodeAt(0) !== 0xFFFD) { e[D[187][j]] = 47872 + j; d[47872 + j] = D[187][j];}
D[188] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½íªí«í¬í­í®í¯í°í±í²í³í´íµí¶í·í¸í¹íºí»í¾í¿ííííííï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ííííííííííííííííí¡í¢í£í¤í¥í¦í§íªí¬í®ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í¯í°í±í²í³íµí¶í·í¹íºí»í½í¾í¿ííííííííííííííííííì¥ì¨ì¬ì´ìµì·ì¹ìììììììììì ì£ì¤ì¦ì§ì¬ì­ì¯ì°ì±ì¶ì¸ì¹ì¼ììììììììììì¤ì¥ì§ì¨ì©ì°ì´ì¸ììììììììììì¡ì¥ì¨ì©ì¬ì°ì½ììììììì ì¤ì¨ì°ì±ì³ì¼ì½ììììììììììì ì¨ì©ì«ì­ï¿½".split("");
for(j = 0; j != D[188].length; ++j) if(D[188][j].charCodeAt(0) !== 0xFFFD) { e[D[188][j]] = 48128 + j; d[48128 + j] = D[188][j];}
D[189] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ííííííííí í¢í¤í¥í¦í§í¨í©íªí«í®í¯í±í²í³íµí¶í·ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í¸í¹íºí»í¾íííííííííííííííííííííï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ííííííííí í¡í¢í£í¤í¥í¦í§í¨í©íªí«í¬í­í®í¯í°í±í²í³í´íµí¶í·ì¯ì±ì²ì´ìììììì ì¥ì¬ì­ì°ì´ì¼ì½ì¿ìììììììì¤ì¥ì¨ì¬ì­ì´ìµì·ì¹ììì ì£ì¤ì«ì¬ì­ì¯ì±ì¶ì¸ì¹ì»ì¼ììììììììììì¤ì¥ì¨ì©ìì¨ì©ì¬ì°ì²ì¸ì¹ì¼ì½ììììììììì ì¢ì¨ì©ì­ì´ìµì¸ììì¤ì¬ì°ï¿½".split("");
for(j = 0; j != D[189].length; ++j) if(D[189][j].charCodeAt(0) !== 0xFFFD) { e[D[189][j]] = 48384 + j; d[48384 + j] = D[189][j];}
D[190] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í¸í¹íºí»í¼í½í¾í¿ííííííííííííííííííï¿½ï¿½ï¿½ï¿½ï¿½ï¿½íííííííííííí¡í¢í£í¥í¦í§í¨í©íªí«í¬í®í°í±í²ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í³í´íµí¶í·íºí»í½í¾íííííííííííííííííííííííì´ì¼ì½ìì¤ì¥ì¨ì¬ì´ìµì¹ìììì¸ì¼ì©ì°ì±ì´ì¸ìºì¿ììììììì¨ì©ì¬ì°ì¸ì¹ì»ì½ììììììììììììììììì ì¡ì¤ì¨ì°ì±ì³ì´ìµì¼ì½ìììììììììììì ì©ì´ìµì¸ì¹ì»ì¼ì½ì¾ìììììììììï¿½".split("");
for(j = 0; j != D[190].length; ++j) if(D[190][j].charCodeAt(0) !== 0xFFFD) { e[D[190][j]] = 48640 + j; d[48640 + j] = D[190][j];}
D[191] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ííí í¡í¢í£í¤í¥í¦í§í¨íªí«í¬í­í®í¯í°í±í²í³í´íµí¶í·í¸ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í¹íºí»í¼í½í¾í¿íííííííííííííííííííï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ííííííííí í¡í¢í£í¤í¥í¦í§í©íªí«í­í®í¯í±í²í³í´íµí¶í·í¹íºí¼ììììì ì¡ì£ì¥ì¬ì­ì®ì°ì´ì¶ì·ì¼ì½ì¾ì¿ììììììììììììì¤ì¥ì¨ì¬ì­ì®ì°ì³ì´ìµì·ì¹ì»ìììììììììììì ì¬ì¯ì±ì¸ì¹ì¼ìììììììììì¤ì¥ì§ì©ì°ì±ì´ì¸ì¹ìºììììììììììì ì¡ì¨ï¿½".split("");
for(j = 0; j != D[191].length; ++j) if(D[191][j].charCodeAt(0) !== 0xFFFD) { e[D[191][j]] = 48896 + j; d[48896 + j] = D[191][j];}
D[192] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í¾í¿ííííííííííííííííííííííííï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ííí í¡í¢í£í¤í¥í¦í§í¨í©íªí«í¬í­í®í¯í°í±í²í³í´íµí¶í·ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í¸í¹íºí»í¾í¿íííííííííííííííííííííííí¡í¢í£ì©ì¬ì°ì¸ì¹ì½ììììììììì ì¡ì¤ì¨ì°ì±ì³ìµì·ì¼ì½ìììììììììììììììì ì¨ì«ì´ìµì¸ì¼ì½ì¾ìììììììììììììììì ì¡ì£ì¤ì¥ì¦ì¬ì­ì°ì´ì¼ì½ì¿ìììììììììì¤ì¨ì¬ì ì ì ì ì ï¿½".split("");
for(j = 0; j != D[192].length; ++j) if(D[192][j].charCodeAt(0) !== 0xFFFD) { e[D[192][j]] = 49152 + j; d[49152 + j] = D[192][j];}
D[193] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í¤í¦í§íªí¬í®í¯í°í±í²í³í¶í·í¹íºí»í½í¾í¿íííííííï¿½ï¿½ï¿½ï¿½ï¿½ï¿½íííííííííííííííííííí í¡í¢í£í¤í¦í§ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í¨í©íªí«í¬í­í®í¯í°í±í²í³í´íµí¶í·í¸í¹íºí»í¼í½í¾í¿ííííííííì ì ì ì ì ì ì ì  ì ¤ì ¬ì ­ì ¯ì ±ì ¸ì ¼ì¡ì¡ì¡ì¡ì¡ì¡ì¡°ì¡±ì¡´ì¡¸ì¡ºì¢ì¢ì¢ì¢ì¢ì¢ì¢ì¢ì¢ì¢ì¢ì¢ì¢¡ì¢¨ì¢¼ì¢½ì£ì£ì£ì£ì£ì£ì£ì£ ì£¡ì£¤ì£µì£¼ì£½ì¤ì¤ì¤ì¤ì¤ì¤ì¤ì¤ì¤ì¤¬ì¤´ì¥ì¥ì¥ì¥ì¥ ì¥¡ì¥£ì¥¬ì¥°ì¥´ì¥¼ì¦ì¦ì¦ì¦ì¦ì¦ì¦ì¦ì§ì§ì§ì§ì§ì§ì§ì§ì§ï¿½".split("");
for(j = 0; j != D[193].length; ++j) if(D[193][j].charCodeAt(0) !== 0xFFFD) { e[D[193][j]] = 49408 + j; d[49408 + j] = D[193][j];}
D[194] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½íííííííííííííííí í¡í¢í£í¦í§í©íªí«í­í®ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í¯í°í±í²í³í¶í¸íºí»í¼í½í¾í¿íííííííííííííï¿½ï¿½ï¿½ï¿½ï¿½ï¿½íííííííííí¡í¢í£í¥í¦í§í¨í©íªí«í¬í®í¯í°í±í²í³í´íµí¶í·íºí»ì§ì§ì§ì§ì§ì§ì§ ì§¢ì§¤ì§§ì§¬ì§­ì§¯ì§°ì§±ì§¸ì§¹ì§¼ì¨ì¨ì¨ì¨ì¨ì¨ì¨ì¨ì¨©ì©ì©ì©ì©ì©ì©ì©ì© ì©¡ì©¨ì©½ìªìªìª¼ìª½ì«ì«ì«ì«ì«ì«ì«ì«ì«ì« ì«¬ì«´ì¬ì¬ì¬ì¬ì¬ ì¬¡ì­ì­ì­ì­ì­ì­ì­ì­ì­¤ì­¸ì­¹ì®ì®¸ì¯ì¯¤ì¯§ì¯©ì°ì°ì°ì°ì°ì°ì°¡ì°¢ì°§ì°¨ì°©ì°¬ì°®ì°°ì°¸ì°¹ì°»ï¿½".split("");
for(j = 0; j != D[194].length; ++j) if(D[194][j].charCodeAt(0) !== 0xFFFD) { e[D[194][j]] = 49664 + j; d[49664 + j] = D[194][j];}
D[195] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í½í¾í¿íííííííííííííííííííííí í¡ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í¢í£í¤í¥í¦í¨íªí«í¬í­í®í¯í²í³íµí¶í·í¸í¹íºí»í¼í½í¾í¿íï¿½ï¿½ï¿½ï¿½ï¿½ï¿½íííííííííííííííííííííííí í¢í£í¤í¥í¦í§í©íªì°¼ì°½ì°¾ì±ì±ì±ì±ì±ì±ì±ì±ì±ì± ì±¤ì±¦ì±¨ì±°ì±µì²ì²ì²ì² ì²¨ì²©ì²«ì²¬ì²­ì²´ì²µì²¸ì²¼ì³ì³ì³ì³ì³ì³ì³¤ì³¬ì³°ì´ì´ì´ì´ì´ì´ì´ì´ì´ì´¤ì´¨ì´¬ì´¹ìµìµ ìµ¤ìµ¬ìµ­ìµ¯ìµ±ìµ¸ì¶ì¶ì¶ì¶ì¶ì¶¤ì¶¥ì¶§ì¶©ì¶°ì·ì·ì·ì·¨ì·¬ì·°ì·¸ì·¹ì·»ì·½ì¸ì¸ì¸ì¸ì¸ì¸ ì¸¡ì¸¤ì¸¨ì¸°ì¸±ì¸³ì¸µï¿½".split("");
for(j = 0; j != D[195].length; ++j) if(D[195][j].charCodeAt(0) !== 0xFFFD) { e[D[195][j]] = 49920 + j; d[49920 + j] = D[195][j];}
D[196] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í«í­í®í¯í±í²í³í´íµí¶í·í¸íºí¼í½í¾í¿íííííííííï¿½ï¿½ï¿½ï¿½ï¿½ï¿½íííííííííííííííí¡í¢í£í¥í¦í§í©íªí«í¬í­ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í®í¯í±í²í³í´í¶í·í¸í¹íºí»í¾í¿ííííííííííííííííííì¹ì¹ì¹ì¹ì¹ ì¹¡ì¹¨ì¹©ì¹«ì¹­ì¹´ì¹µì¹¸ì¹¼ìºìºìºìºìºìºìºìºìº ìº¡ìº£ìº¤ìº¥ìº¬ìº­ì»ì»¤ì»¥ì»¨ì»«ì»¬ì»´ì»µì»·ì»¸ì»¹ì¼ì¼ì¼ì¼ì¼ì¼ì¼ì¼ì¼ì¼ ì¼¤ì¼¬ì¼­ì¼¯ì¼°ì¼±ì¼¸ì½ì½ì½ì½ì½¤ì½¥ì½§ì½©ì½°ì½±ì½´ì½¸ì¾ì¾ì¾ì¾¡ì¾¨ì¾°ì¿ì¿ ì¿¡ì¿¤ì¿¨ì¿°ì¿±ì¿³ì¿µì¿¼ííííí­í´íµí¸í¼ï¿½".split("");
for(j = 0; j != D[196].length; ++j) if(D[196][j].charCodeAt(0) !== 0xFFFD) { e[D[196][j]] = 50176 + j; d[50176 + j] = D[196][j];}
D[197] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ííííííííí¡í¢í£í¤í¥í¦í§íªí¬í®í¯í°í±í²í³í¶í·í¹ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½íºí»í½í¾í¿íííííííííííííííííííííï¿½ï¿½ï¿½ï¿½ï¿½ï¿½íí¢í¤í¦í§í¨íªí«í­í®í¯í±í²í³íµí¶í·í¸í¹íºí»í¾í¿ííííííííííííííííí í¬í­í°í´í¼í½íí¤í¥í¨í¬í´íµí·í¹ííííííííííííí í¤í¬í­í¯í°í±í¸íí°í±í´í¸íºííííííííííííí¡í¨í¬í¼ííí í¡í¤í¨í°í±í³íµíºí¼ííí´í¸íííí¬í­í°í´í¼í½í¿íííï¿½".split("");
for(j = 0; j != D[197].length; ++j) if(D[197][j].charCodeAt(0) !== 0xFFFD) { e[D[197][j]] = 50432 + j; d[50432 + j] = D[197][j];}
D[198] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ííííííííííííííí í¡í¢í£ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í¤ííííííííí í¤í¬í±í¸í¹í¼í¿ííííííííí¤í¥í°í±í´í¸íííííííííííííí í¡í¥í¨í©í¬í°í¸í¹í»í¼í½ííí¼í½ííííííííííí í¨í©í«í­í´í¸í¼ííííííí¡í£í¬í­í°í´í¼í½í¿íï¿½".split("");
for(j = 0; j != D[198].length; ++j) if(D[198][j].charCodeAt(0) !== 0xFFFD) { e[D[198][j]] = 50688 + j; d[50688 + j] = D[198][j];}
D[199] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½íííííí í¤í­í¯í¸í¹í¼í¿íííííííí©íííííí¨í¬í°í¸í»í½ííííííí¼í½íííííííííí í¥í¨í©í«í­í´íµí¸í¼ííííííí¥íííííííííí¤í¥í¨í¬í´íµí·í¹ííííííííííí ï¿½".split("");
for(j = 0; j != D[199].length; ++j) if(D[199][j].charCodeAt(0) !== 0xFFFD) { e[D[199][j]] = 50944 + j; d[50944 + j] = D[199][j];}
D[200] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½í¤í­í¸í¹í¼íííííííííííí§í©í°í±í´ííííííííí¡í¨í¬í°í¹í»ííííííííí í¤í¨í°íµí¼í½ííííííí í¨í©í«í­í´íµí¸í¼ííííííííííí í¡í£í¥í©í¬í°í´í¼í½íííííííííï¿½".split("");
for(j = 0; j != D[200].length; ++j) if(D[200][j].charCodeAt(0) !== 0xFFFD) { e[D[200][j]] = 51200 + j; d[51200 + j] = D[200][j];}
D[202] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ä¼½ä½³åå¹å å¯åµå¥åå«å®¶ææ¶æ·æ¯æ­ççç¨¼èèè¡è¢è¨¶è³è·è»»è¿¦é§å»å´åæªæ¤æ®¼çèè¦ºè§é£ä¾åå¢¾å¥¸å§¦å¹²å¹¹ææææ¬æ¡¿æ¾ççç£µç¨ç«¿ç°¡èè®è±è««éä¹«åæ·æ¸´ç¢£ç«­èè¤èé¨ååå ªåµææ¾æ¡æ¢ææ©æ¸çç³ç£ç°ç´ºé¯ééé¾ï¿½".split("");
for(j = 0; j != D[202].length; ++j) if(D[202][j].charCodeAt(0) !== 0xFFFD) { e[D[202][j]] = 51712 + j; d[51712 + j] = D[202][j];}
D[203] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å£å²¬ç²èééåå å§å²¡å´åº·å¼ºå½æ·æ±çºçç³ çµ³ç¶±ç¾èè¡èè¥è¬é¼éé±ä»ä»·åå±å¡æ·æ¾æ¨æ¹æ§ªæ¼ç¥ççç®è¥èï¤é§éåå®¢åï¤ç²³ç¾¹éµå¨å»å±å·¨ææ®ææ§æ¸ ç¬ç¥è·è¸ï¤é½éé¸ä¹¾ä»¶å¥å·¾å»ºææ¥è±èè¹éµé¨«ä¹åæ°æ¡åååæª¢ï¿½".split("");
for(j = 0; j != D[203].length; ++j) if(D[203][j].charCodeAt(0) !== 0xFFFD) { e[D[203][j]] = 51968 + j; d[51968 + j] = D[203][j];}
D[204] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¼éé»å«æ¯è¿²åæ©æ­ææ ¼æªæ¿èè¦¡éå ç½ç¬ççµ¹ç¹­è©è¦è­´é£éµææ±ºæ½çµç¼ºè¨£å¼æç®è¬ééäº¬ä¿åå¾åååå¿å°å¢åºå¾æ¶æ¬ææ¬æ¯æ»æ´æ¢æ¶çç±çç¥ççç¡¬ç£¬ç«ç«¶çµç¶èè¿èèè­¦è¼éé¡é é ¸é©é¯¨ä¿åå ºå¥å­£å±æ¸ææ¡æ¢°ï¿½".split("");
for(j = 0; j != D[204].length; ++j) if(D[204][j].charCodeAt(0) !== 0xFFFD) { e[D[204][j]] = 52224 + j; d[52224 + j] = D[204][j];}
D[205] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ£¨æºªçç¸ç£ç¨½ç³»ç¹«ç¹¼è¨èª¡è°¿éé·å¤å©åå±åºå§å­¤å°»åº«æ·æ·ææ²æ æ¯æ§æ²½ç¼çç¾ç¨¿ç¾èè¡èè¦è½è°èè ±è¢´èª¥ï¤è¾é®éé¡§é«é¼å­ææ²æ¢ç©è°·éµ å°å¤å´ææ¢±æ£æ»¾ç¨è¢é¯¤æ±¨ï¤éª¨ä¾å¬å±åå­å·¥ææ­æ±æ§æ»çç©ºè£è²¢éä¸²å¯¡ææçï¿½".split("");
for(j = 0; j != D[205].length; ++j) if(D[205][j].charCodeAt(0) !== 0xFFFD) { e[D[205][j]] = 52480 + j; d[52480 + j] = D[205][j];}
D[206] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç§èèªèª²è·¨ééé¡å»æ§¨è¿é­ï¤å å®å¯¬æ£æ£ºæ¬¾çç¯çç®¡ç½èè§è²«éé¤¨å®ææ¬éä¾åå¡å£å»£æ æ´¸çççç­è±éå¦æç½«ä¹åå¡å£æªæ§ææ§é­å®ç´è±è½äº¤åå¬å¬å¬å¶ å·§æªææ ¡æ©ç¡çç¯çµç¿¹è èèè¼è½éé¤é©é®«ä¸ä¹ä¹ä»ä¿±å·å¾ï¿½".split("");
for(j = 0; j != D[206].length; ++j) if(D[206][j].charCodeAt(0) !== 0xFFFD) { e[D[206][j]] = 52736 + j; d[52736 + j] = D[206][j];}
D[207] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½åå£å¥åååµå¢å¯å¶å»æ¼æææ¸æ©æ§æ­æ¯æ¯¬æ±æºç¸çççç¿ç©ç©¶çµ¿èè¼èèèè¡¢è¬³è³¼è»éé±é¤é¶é§é©é³©é·é¾åå±èé é«éº´åçªç¾¤è£è»é¡å å±æçªå®®å¼ç©¹çª®èèº¬å¦å¸å¸å·åæ³æ²æ¬æ·ç·å¥çè¨è¹¶éæºæ«æ½°è©­è»é¥ï¤æ·æ­¸è²´ï¿½".split("");
for(j = 0; j != D[207].length; ++j) if(D[207][j].charCodeAt(0) !== 0xFFFD) { e[D[207][j]] = 52992 + j; d[52992 + j] = D[207][j];}
D[208] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¬¼ï¤å«å­å¥ææ§»çªç¡çªºç«ç³¾èµè¦èµ³éµé¨å»åçç­ èéï¤æ©åååææ£æ¥µéåå¤å¤ææ¤æ ¹æ§¿ç¾ç­è¹è«è¦²è¬¹è¿é¥ï¤ä»å¦æææªç´ç¦ç¦½è©è¡¾è¡¿è¥ï¤é¦ä¼åæ¥æ±æ±²ç´çµ¦äºå¢çè¯ä¼ä¼å¶ååå¨å»åºå¼å¤å¥å¦å¯å²å´å·±å¹¾å¿æææ£ï¿½".split("");
for(j = 0; j != D[208].length; ++j) if(D[208][j].charCodeAt(0) !== 0xFFFD) { e[D[208][j]] = 53248 + j; d[53248 + j] = D[208][j];}
D[209] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ææææ£æ£æ©æ¬ºæ°£æ±½æ²æ·çç¦çªçç£ç¸ç¿ç¢ç£¯ç¥ç¥ç¥ç¥ºç®ç´ç¶ºç¾èè­èè¨è­è±èµ·é¡é¤é£¢é¥é¨é¨é©¥éºç·ä½¶åæ®æ¡éå«åºï¤ï¤å¨æ¦ï¤ææ¿ï¤ï¤ï¤ï¤ï¤ï¤é£ï¤ï¤ï¤ï¤ï¤è«¾ï¤ï¤ï¤ï¤æï¤çï¤ï¤é£ï¤ ææºåï¤¡ææ¥ æ¹³ï¤¢ç·ï¤£ï¤¤ï¤¥ï¿½".split("");
for(j = 0; j != D[209].length; ++j) if(D[209][j].charCodeAt(0) !== 0xFFFD) { e[D[209][j]] = 53504 + j; d[53504 + j] = D[209][j];}
D[210] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç´ï¤¦ï¤§è¡²åå¨ï¤¨ï¤©ï¤ªï¤«ï¤¬ä¹ï¤­å§å¥æ°èï¤®å¥³å¹´æç§å¿µæ¬ææ»å¯§å¯åªï¤¯å¥´å¼©æï¤°ï¤±ï¤²çï¤³ï¤´ï¤µï¤¶ï¤·ï¤¸é§ï¤¹ï¤ºï¤»ï¤¼ï¤½ï¤¾ï¤¿ï¥ï¥ï¥ï¥æ¿ï¥ï¥è¿è¾²æ±ï¥ï¥è¦ï¥ï¥å°¿ï¥ï¥ï¥ï¥ï¥ï¥ï¥ï¥å«©è¨¥æ»ç´ï¥ï¥ï¥ï¥ï¥ï¥è½ï¥ï¥å°¼æ³¥å¿æººå¤è¶ï¿½".split("");
for(j = 0; j != D[210].length; ++j) if(D[210][j].charCodeAt(0) !== 0xFFFD) { e[D[210][j]] = 53760 + j; d[53760 + j] = D[210][j];}
D[211] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ä¸¹äº¶ä½å®åå£å½æ·æ¦æªæ®µæ¹ç­ç«¯ç°ç·èè¢é²éæ»æ¾¾çºç¸éååæºæææ·¡æ¹æ½­æ¾¹ç°èè½èè¦è«è­éæ²çç­è¸éåå å¡å¹¢æææ£ ç¶ç³è³é»¨ä»£åå®å¤§å°å²±å¸¶å¾æ´æ¡ç³èºè¢è²¸éé»å®å¾·æ³ååå°åå µå¡å°å± å³¶å¶åº¦å¾æ¼ææææ¡ï¿½".split("");
for(j = 0; j != D[211].length; ++j) if(D[211][j].charCodeAt(0) !== 0xFFFD) { e[D[211][j]] = 54016 + j; d[54016 + j] = D[211][j];}
D[212] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ£¹æ«æ·æ¸¡æ»æ¿¤ç¾çç¹ç¦±ç¨»èè¦©è³­è·³è¹éééé½éé¶éæ¯ççç¢ç¨ç£ç¦¿ç¯¤çºè®å¢©ææ¦æ½æ¾æ²ççè±é ä¹­çªä»å¬åååæ§æ±æ¡æ£æ´æ½¼ç¼ç³ç«¥è´è£éåæææçç«è³ï¥è±éé ­å±¯èèéé¯éå¾å¶æ©çç»ç­è¤è¬é§é¨°åæ¶ï¥ç©ç¾ï¿½".split("");
for(j = 0; j != D[212].length; ++j) if(D[212][j].charCodeAt(0) !== 0xFFFD) { e[D[212][j]] = 54272 + j; d[54272 + j] = D[212][j];}
D[213] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¿èºè£¸éï¥æ´çççµ¡è½ï¥éªé§±ï¥äºåµæ¬æ¬ç¾çè­é¸åè¾£åµæ¥æ¬æ¬æ¿«ç±çºèè¥¤è¦½æèè å»ææµªç¼çç¯èéä¾å´å¾ èå·æ ç¥äº®åå©åæ¢æ¨ç²®ç²±ç³§è¯è«è¼éä¾¶å·åµåå»¬æ®æ¾ææ«æ¿¾ç¤ªèè £é­é©¢é©ªéºé»åææ­·çç¤«è½¢éæææ£æ¼£ï¿½".split("");
for(j = 0; j != D[213].length; ++j) if(D[213][j].charCodeAt(0) !== 0xFFFD) { e[D[213][j]] = 54528 + j; d[54528 + j] = D[213][j];}
D[214] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ççç·´è¯è®è¼¦é£éå½åå£æ´çè£å»ææ®®æ¿ç°¾çµä»¤ä¼¶å¹ï¥å²ºå¶ºæç²ç¬­ç¾ç¿èéé´é¶éé é½¡ä¾æ¾§ç¦®é´é·åï¥ æææ«æ½ççç§èèèè·¯è¼é²é­¯é·ºé¹µç¢ç¥¿ç¶ èéé¹¿éºè«å£å¼æ§ç§çç± è¾å¡ç¨ç¢ç£è³è³è³´é·äºåå¯®å»æççç­èè¼ï¿½".split("");
for(j = 0; j != D[214].length; ++j) if(D[214][j].charCodeAt(0) !== 0xFFFD) { e[D[214][j]] = 54784 + j; d[54784 + j] = D[214][j];}
D[215] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¼é¬§é¾å£å©å±¢æ¨æ·æ¼ç»ç´¯ç¸·èè¤¸é¤éåææ³æ¦´æµæºççç çç¤ç¡«è¬¬é¡å­æ®é¸ä¾å«å´æ·ªç¶¸è¼ªå¾ææ ï¥¡éåèååæ¥ç¨ç¶¾è±éµä¿å©åååå±¥æ§ææ¢¨æµ¬çç¸ççï¥¢ç¢ç±¬ç½¹ç¾¸èè£è£¡ééé¢é¯åæ½¾ççèºèºªé£é±éºææ·ç³è¨éç ¬ï¿½".split("");
for(j = 0; j != D[215].length; ++j) if(D[215][j].charCodeAt(0) !== 0xFFFD) { e[D[215][j]] = 55040 + j; d[55040 + j] = D[215][j];}
D[216] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç«ç¬ ç²æ©çªç²ç¢¼ç£¨é¦¬é­éº»å¯å¹æ¼ èè«éä¸åå¨©å·å½æ¢æ½æ©æ¼æ»¿æ¼«ç£çè¬èè »è¼é¥é°»åæ¹æ«æ²«èè¥ªéºäº¡å¦å¿å¿æç¶²ç½èè«è½è¼éåå¦¹åªå¯æ§ææ¢æ¯ç¤ç½µè²·è³£éé­èè²éé©éº¥å­æ°çç²çèåªè¦åååæ£æ²çç ç¶¿ç·¬é¢éºµæ»ï¿½".split("");
for(j = 0; j != D[216].length; ++j) if(D[216][j].charCodeAt(0) !== 0xFFFD) { e[D[216][j]] = 55296 + j; d[55296 + j] = D[216][j];}
D[217] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èå¥åå½æææ¤§æºç¿çèèèé©éé³´è¢ä¾®ååå§å¸½ææ¸æ¹æ®ææ¨¡æ¯æ¯çç¡çç¸çèè¼èè¬è¬¨è²æ¨æ²ç§ç®ç¦ç©é¶©æ­¿æ²å¤¢æ¦èå¯å¢å¦å»ææ´æ³æ¸ºç«ç«èé¨åå·«æ®ææææ«æ æ¥æ­¦æ¯ç¡ç·çç¹èèèªèª£è²¿é§éµ¡å¢¨é»ååå»åæï¿½".split("");
for(j = 0; j != D[217].length; ++j) if(D[217][j].charCodeAt(0) !== 0xFFFD) { e[D[217][j]] = 55552 + j; d[55552 + j] = D[217][j];}
D[218] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ±¶ç´ç´èèéé¯å¿æ²ç©å³åªå°¾åµå½å¾®æªæ¢¶æ¥£æ¸¼æ¹çç±³ç¾èè¬è¿·é¡é»´å²·æ¶ææ«ææ»æ¼æ°æ³¯ççç·¡éå¯èè¬ååæææ²æ´æ¨¸æ³ççç®ç²ç¸èè¶èè¿«é¹é§ä¼´åååææ¬æææ§æ³®æ½ç­çç¢ç¤ç¼ç£ç£»ç¤¬çµè¬è è¿é é£¯åææ¥æ¸¤æ½ï¿½".split("");
for(j = 0; j != D[218].length; ++j) if(D[218][j].charCodeAt(0) !== 0xFFFD) { e[D[218][j]] = 55808 + j; d[55808 + j] = D[218][j];}
D[219] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¼è·é±é¢é«®é­å£ååå¦¨å°¨å¹å½·æ¿æ¾æ¹ææææ¦æ»ç£ç´¡èªèè«è³è¡èè¨ªè¬é¦é²é¾åä¿³ï¥£å¹å¾æææ¯æ¹ççèèè£´è£µè¤è³ è¼©ééªä¼¯ä½°å¸ææ ¢ç½ç¾é­å¹¡æ¨ç©ççªï¥¤ç¹èè©é£ä¼ç­ç½°é¥å¡å¸æ¢µæ°¾æ±æ³ç¯ç¯èæ³çºå»åå£ææªç§çï¿½".split("");
for(j = 0; j != D[219].length; ++j) if(D[219][j].charCodeAt(0) !== 0xFFFD) { e[D[219][j]] = 56064 + j; d[56064 + j] = D[219][j];}
D[220] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¢§èé¢é¹ï¥¥åå¼è®è¾¨è¾¯éå¥ç¥é±é¼ä¸ååµå±å¹·ææºææ£ç³ççç§ç«è¼§é¤ é¨ä¿å ¡å ±å¯¶æ®æ­¥æ´æ¹ºæ½½ç¤ç«è©è£è¤è­è¼ä¼åååå®å¾©æç¦è¹è¯èè¤è¦è¼¹è¼»é¦¥é°æ¬ä¹¶ä¿¸å¥å°å³¯å³°æ§æ£ç½ç¢ç«ç¸«è¬èé¢éé³³ä¸ä»ä¿¯ååå¯å¦åå å¤«å©¦ï¿½".split("");
for(j = 0; j != D[220].length; ++j) if(D[220][j].charCodeAt(0) !== 0xFFFD) { e[D[220][j]] = 56320 + j; d[56320 + j] = D[220][j];}
D[221] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å­å­µå¯åºï¥¦æ¶æ·æ§æµ®æº¥ç¶ç¬¦ç°¿ç¼¶èèèèèè©è¨è² è³¦è³»èµ´è¶ºé¨éééé§é³§ååå©å´å¢³å¥å¥®å¿¿æ¤æ®ææ±¾ççç²ç³ç´è¬è³é°ï¥§ä½å¼å½¿æå´©ææ£ç¡¼ç¹éµ¬ä¸åååªåå¦å©¢åºæ²æææ¹æææ¦§æ¯æ¯æ¯æ¯æ²¸ï¥¨çµçºç ç¢ç§ç§ç²ç·ç¿¡è¥ï¿½".split("");
for(j = 0; j != D[221].length; ++j) if(D[221][j].charCodeAt(0) !== 0xFFFD) { e[D[221][j]] = 56576 + j; d[56576 + j] = D[221][j];}
D[222] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¾èè²èè£¨èª¹è­¬è²»ééé£é¼»å¬å¬ªå½¬ææª³æ®¯æµæ¿±ççç­è²§è³é »ææ°·èé¨ä¹äºäºä»ä¼ºä¼¼ä½¿ä¿å¿å²å¸åå£åå£«å¥¢å¨å¯«å¯ºå°å·³å¸«å¾ææ¨ææ¯æ¶æ»æ¢­æ­»æ²æ³æ¸£ççç ç¤¾ç¥ç¥ ç§ç¯©ç´çµ²èèèèèè£è©è©è¬è³èµ¦è¾­éªé£¼é§éºåï¥©æï¥ªï¿½".split("");
for(j = 0; j != D[222].length; ++j) if(D[222][j].charCodeAt(0) !== 0xFFFD) { e[D[222][j]] = 56832 + j; d[56832 + j] = D[222][j];}
D[223] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ååªå±±æ£æ±çç£çç®èé¸é°ä¹·ææ®ºçè©ä¸ï¥«ææ£®æ¸èèè¡«æ·æ¾éé¢¯ä¸å·ååååªåå­å°å³ å¸¸åºåº å»æ³æ¡æ©¡æ¹ç½ççç¸ç¥¥ç®±ç¿è£³è§´è©³è±¡è³éå¡ç½è³½åï¥¬ç©¡ç´¢è²ç²çç¥ï¥­ç¬å¢å£»å¶¼åºåº¶å¾æææ¿ææææ¸æ æ£²ççç­®çµ®ç·ç½²ï¿½".split("");
for(j = 0; j != D[223].length; ++j) if(D[223][j].charCodeAt(0) !== 0xFFFD) { e[D[223][j]] = 57088 + j; d[57088 + j] = D[223][j];}
D[224] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¥èè¯è¥¿èªéé¤é»é¼ å¤å¥­å¸­æææ³ææ±æ·æ½ç³ç¢©èéé«ä»åååå¬å®£ææ¾ææ¸²ç½çççç¿ç¬ç¦ªç·ç¹ç¾¨èºè³è¹èè¬è©µè·£é¸éé¥é¥é®®å¨å±æ¥æ³æ´©æ¸«èèè¤»è¨­èªªéªé½§å¡æ¹æ®²çºè¾è´ééææ¶ç®ï¥®åå§å®¬æ§æºæææç©ç¹ççç­¬ï¿½".split("");
for(j = 0; j != D[224].length; ++j) if(D[224][j].charCodeAt(0) !== 0xFFFD) { e[D[224][j]] = 57344 + j; d[57344 + j] = D[224][j];}
D[225] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èè²è¥èª éä¸å¢æ­²æ´ç¨ç¬¹ç´°ï¥¯è²°å¬å¯å¡å®µå°å°å·¢ææææ­æ¢³æ²¼æ¶æº¯çç¤çç¦çççç¬ç¯ ç°«ç´ ç´¹è¬è­èè¨´éé¡éµé·é¶é¨·ä¿å±¬ææ¶ç²çºè¬è´éå­«å·½æèéé£¡çå®ææ¾æ·è¨èª¦éé å·ï¥°çç¢éè¡°éä¿®åå½ååå£½å«å®å²«å³å¸¥æï¿½".split("");
for(j = 0; j != D[225].length; ++j) if(D[225][j].charCodeAt(0) !== 0xFFFD) { e[D[225][j]] = 57600 + j; d[57600 + j] = D[225][j];}
D[226] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æææææ¶æ¸æ¨¹æ®æ°´æ´æ¼±ç§ç©ç¸çç²ç¦ç¡ç§ç©ç«ªç²¹ç¶ç¶¬ç¹¡ç¾è©è±èèèªè¢èª°è®è¼¸ééé¬éé¹éé§é¨ééé é¦é«é¬åå¡¾å¤å­°å®¿æ·æ½çç¡ç¹èè½å·¡å¾å¾ªææ¬æ æ¥¯æ©æ®æ´µæ·³ç£ç¾ç¬ç­ç´è£èèè´è£è©¢è«ééé é¦´æè¡è¿°é¥å´å´§ï¿½".split("");
for(j = 0; j != D[226].length; ++j) if(D[226][j].charCodeAt(0) !== 0xFFFD) { e[D[226][j]] = 57856 + j; d[57856 + j] = D[226][j];}
D[227] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½åµ©çèè¨æ¿æ¾ç¿è¤¶è¥²ä¸ä¹å§ååæ¿æç¹©è éä¾åå¶å§åª¤å°¸å±å±å¸å¼ææ½æ¯ææ¾æ´çç¢ç¤ºç¿èèè¦è©¦è©©è«¡è±è±ºå´å¯å¼æ¯æ­æ¤æ®æ¹çç¯èè­è»¾é£é£¾ä¼¸ä¾ä¿¡å»å¨ å®¸æ¼æ°æ¨ç¼ç³ç¥ç´³èè£èèªèèè¨èº«è¾ï¥±è¿å¤±å®¤å¯¦æå¯©å°å¿æ²ï¿½".split("");
for(j = 0; j != D[227].length; ++j) if(D[227][j].charCodeAt(0) !== 0xFFFD) { e[D[227][j]] = 58112 + j; d[58112 + j] = D[227][j];}
D[228] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¥²æ·±ççè¯è«¶ä»åï¥³éæ°äºä¿ååå¨¥å³¨æçè½èªè¾è¡è¨é¿éé¤é´éµå å²³å¶½å¹æ¡ææ¡æ¨æ¸¥ééé¡é°é½·å®å²¸æææ¡ç¼ééé¡é®æ¡è¬è»é¼åµå²©å·åºµæçè´éå£æ¼çé´¨ä»°å¤®ææ»æ®ç§§é´¦åååå´æææ¶¯ç¢è¾ééåæ¼ææ¶²ç¸èé¡ï¿½".split("");
for(j = 0; j != D[228].length; ++j) if(D[228][j].charCodeAt(0) !== 0xFFFD) { e[D[228][j]] = 58368 + j; d[58368 + j] = D[228][j];}
D[229] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ«»ç½é¶¯é¸ä¹å»å¶å¤æ¹æ¶æ¤°çºè¶ï¥´éå¼±ï¥µï¥¶ç´è¥è¯è»è¥èºï¥·ä½¯ï¥¸ï¥¹å£¤å­ææææ­æï¥ºæ¥æ¨£æ´çç¬ççç¦³ç©°ï¥»ç¾ï¥¼è¥ï¥½è®éé½ï¥¾é¤åå¾¡æ¼æ¼çç¦¦èªé¦­é­é½¬åæ¶ææªèåå °å½¦çè¨è«ºå­¼èä¿ºå¼å´å¥æ©æ·¹å¶ªæ¥­åäºä½ï¥¿ï¦ï¦å¦ï¦ï¿½".split("");
for(j = 0; j != D[229].length; ++j) if(D[229][j].charCodeAt(0) !== 0xFFFD) { e[D[229][j]] = 58624 + j; d[58624 + j] = D[229][j];}
D[230] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¦æ­æ±ï¦çµç¤ï¦èèè¹è¼¿è½ï¦é¤ï¦ï¦ï¦äº¦ï¦åå½¹æï¦ï¦ç«ç¹¹è­¯ï¦éé©å¥å §å§¸å¨å®´ï¦å»¶ï¦ï¦ææ»ï¦æ¤½æ²æ²¿æ¶æ¶æ·µæ¼ï¦çç¶çï¦ççï¦ç¡ç¡¯ï¦ç­µç·£ï¦ç¸¯ï¦è¡è»ï¦ï¦ï¦éï¦é³¶ï¦ï¦ï¦ææ¶ï¦ç±ï¦ ï¦¡é±å­ï¦¢ï¦£ï¦¤æï¦¥çç°ç°è¶èï¿½".split("");
for(j = 0; j != D[230].length; ++j) if(D[230][j].charCodeAt(0) !== 0xFFFD) { e[D[230][j]] = 58880 + j; d[58880 + j] = D[230][j];}
D[231] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¦¦é»é«¥é¹½æï¦§çèï¦¨ï¦©å¡ï¦ªï¦«å¶¸å½±ï¦¬æ ææ¥¹æ¦®æ°¸æ³³æ¸¶æ½æ¿çç¯ççç°ï¦­çï¦®ççç©çºï¦¯ï¦°è±è© è¿ï¦±éï¦²éï¦³ï¦´ä¹åªï¦µåå¡æ³æ±­æ¿çç¿ç©¢è®èèï¦¶è£è©£è­½è±«ï¦·é³ï¦¸éé äºä¼ä¿å²åå¾å³åå¡¢å¢ºå¥§å¨å¯¤æï¦¹æææ¿æ¤æ¢§æ±æ¾³ï¿½".split("");
for(j = 0; j != D[231].length; ++j) if(D[231][j].charCodeAt(0) !== 0xFFFD) { e[D[231][j]] = 59136 + j; d[59136 + j] = D[231][j];}
D[232] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çç¬çç­½èèª¤é°²é¼å±æ²ççéºæº«ç¥çç©©ç¸èåå£æç®çç°ç¿ééé¥æ¸¦ç¦çª©çªªè¥èè¸è¨å©å®å®æ¢¡æ¤æµ£ç©çç¬ç¢ç·©ç¿«èèèè±é®é æ°å¾æºææ±ªçå­å¨æ­ªç®å¤åµ¬å·ç¥çï¦ºï¦»å¥å¹å ¯å¤­å¦å§å¯¥ï¦¼ï¦½å¶¢ææææ¾ï¦¾æï¦¿æ©ï§ç¿ç¤ï§ï¿½".split("");
for(j = 0; j != D[232].length; ++j) if(D[232][j].charCodeAt(0) !== 0xFFFD) { e[D[232][j]] = 59392 + j; d[59392 + j] = D[232][j];}
D[233] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çªçª¯ç¹ç¹èè°ï§è¯è¦è¬ éï§éé¥æ¾æ¬²æµ´ç¸è¤¥è¾±ä¿å­åååå¢å®¹åº¸ææ¦æ¶æ¹§æº¶çç¢ç¨ç¬è³è¸èè¸ééï§äºä½å¶åªååå³å®å¯å°¤æææ´ççççç¥ç¦ç¦¹ç´ç¾½èèèè¿ééµéªéé¨é©åå½§æ­æ±æ ¯çç¨¶éé äºï§æ©æ®æ¾çèè¸èï¿½".split("");
for(j = 0; j != D[233].length; ++j) if(D[233][j].charCodeAt(0) !== 0xFFFD) { e[D[233][j]] = 59648 + j; d[59648 + j] = D[233][j];}
D[234] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ééé²é»èé¬±äºçéååå¡ååå£åªå«å¯æ¨æ¿æ´æ²æ´¹æ¹²æºç°ç¿çèè¢è½é ï§é¢é¡é´æè¶éä½ååå±åå§å¨å°æ°ææ¸­ç²çç·¯èèè¦è¿èè¡è¤è¬ééé­ä¹³ä¾ååªï§å¯å©å­ºå®¥å¹¼å¹½åº¾æ æææææ¸æï§ææï§æ¥¡æ¥¢æ²¹æ´§ï§æ¸¸ï§ï¿½".split("");
for(j = 0; j != D[234].length; ++j) if(D[234][j].charCodeAt(0) !== 0xFFFD) { e[D[234][j]] = 59904 + j; d[59904 + j] = D[234][j];}
D[235] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¿¡ç¶ç·ï§çç±ï§çï§ï§ç¶­è¾è¸è£èªè«è«­è¸°è¹éé¾éºééé®ï§ï§å ï§æ¯èè²ï§ï§åå¥«å°¹ï§ï§æ½¤ç§è¤è´ï§ééï§ï§ï§ï§è¿æççµ¨èï§å æ©ææ®·èª¾éé±ä¹åæ·«è­é°é³é£®ææ³£éåæèºé·¹ä¾ååå®ææ¿æ¬æ¤æ¯çç£ç¾©è¤èè»è¡£èª¼ï¿½".split("");
for(j = 0; j != D[235].length; ++j) if(D[235][j].charCodeAt(0) !== 0xFFFD) { e[D[235][j]] = 60160 + j; d[60160 + j] = D[235][j];}
D[236] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è­°é«äºä»¥ä¼ï§ï§å¤·å§¨ï§å·²å¼å½æ¡ï§ ï§¡ï§¢ï§£ç¾ç¥ï§¤ç°çï§¥ç§»ï§¦èè³èè¡èï§§ï§¨è²½è²³éï§©ï§ªé£´é¤ï§«ï§¬ç·çç¿ç¿ç¿¼è¬äººä»åå°ï§­å½å å§»å¯å¼å¿æ¹®ï§®ï§¯çµªèµï§°èèªï§±é­é·ï§²ï§³ä¸ä½ä½¾å£¹æ¥æº¢é¸é°é¦¹ä»»å£¬å¦å§æï§´ï§µç¨ï§¶èè³å¥åï¿½".split("");
for(j = 0; j != D[236].length; ++j) if(D[236][j].charCodeAt(0) !== 0xFFFD) { e[D[236][j]] = 60416 + j; d[60416 + j] = D[236][j];}
D[237] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï§·ï§¸ï§¹ä»å©å­è¿ä»åºå¨å§å§¿å­å­å­æ£ææ»çç®çç·çµç£ç´«èèªè¨èèè«®è³éä½åºå¼æ«æ¨ç¼ç¸çµç¶½èéééµ²å­±æ£§æ®æ½ºçå²æ«æ½ç®´ç°ªè ¶éä¸ä»å å ´å¢»å£¯å¥¬å°å¸³åºå¼µææ²ææ¨æª£æ¬æ¼¿çï§ºççç« ç²§è¸èè§èè¬è£èèè£è´é¬é·ï¿½".split("");
for(j = 0; j != D[237].length; ++j) if(D[237][j].charCodeAt(0) !== 0xFFFD) { e[D[237][j]] = 60672 + j; d[60672 + j] = D[237][j];}
D[238] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½éååå¨å®°æææ ½æ¢æ¸½æ»ç½ç¸¡è£è²¡è¼é½é½ç­ç®è«éä½ä½å²åå§åºæµæµæ¥®æ¨æ²®æ¸ççªç½ç®¸ç´µè§è¹èè·è©è²¯èºéé¸éé½å£åå«¡å¯ææµæ»´çï§»çç©ç¬ç±ç¸¾ç¿è»è¬«è³èµ¤è·¡è¹è¿ªè¿¹é©éä½ä½ºå³å¨å¸ååªå¡¡å¡¼å¥ å°å±å»ææ°æ æ®¿æ°æ¾±ï¿½".split("");
for(j = 0; j != D[238].length; ++j) if(D[238][j].charCodeAt(0) !== 0xFFFD) { e[D[238][j]] = 60928 + j; d[60928 + j] = D[238][j];}
D[239] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çç ç°ç¸çç²ç­ç®ç®­ç¯çºè©®è¼¾è½é¿éé¢é«é»é¡é¡«é¤åæªææµç¤ç«ç¯çµ¶å å²¾åºæ¼¸ç¹ç²éé®é»æ¥æºè¶ä¸äºäº­ååµåå§å®å¹åº­å»·å¾ææºæ¿æ´ææ¶æ¸æ¾æ¥¨æªæ­£æ±æ·æ·¨æ¸æ¹çç¡çç½çºçç¢ç¦ç¨ç©½ç²¾ç¶èè¨è«ªè²é­ééé¦éé ééï¿½".split("");
for(j = 0; j != D[239].length; ++j) if(D[239][j].charCodeAt(0) !== 0xFFFD) { e[D[239][j]] = 61184 + j; d[61184 + j] = D[239][j];}
D[240] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½éé é¼å¶åå¼å ¤å¸å¼æææ¢¯æ¿ç¥­ç¬¬èèºè£½è«¸è¹éé¤éé½é¡é½ä¿ååå©å²å¼å½«æªææ©ææºæ¹ææ¢æ£æ§½æ¼æ½®ç§ç¥çªçªçºç¥ç¥ç§ç¨ çªç²ç³çµç¹°èè»è¤è©èª¿è¶èºé é­é£é»éé³¥æç°è¶³éå­å°åæçå§å®å¾æ°æ«æ£æ·ç®ç¨®çµç¶ç¸±è«ï¿½".split("");
for(j = 0; j != D[240].length; ++j) if(D[240][j].charCodeAt(0) !== 0xFFFD) { e[D[240][j]] = 61440 + j; d[61440 + j] = D[240][j];}
D[241] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¸ªè¸µé¾éä½åå·¦åº§æ«ç½ªä¸»ä½ä¾åå§èåªå¨å¾å¥å®å·å»ææ±æ±æ ªæ³¨æ´²æ¹æ¾ç·ç çç±ç´ç´¬ç¶¢èèè¨»èªèµ°èºè¼³é±éééé§ç«¹ç²¥ä¿åååå¯¯å³»ææ¨½æµæºæ¿¬çç¯ç«£è ¢é¡éµéé§¿èä¸­ä»²è¡éå½æ«æ¥«æ±èºå¢ææ¾æ¯çççç¹è¸è­è´ä¹åªï¿½".split("");
for(j = 0; j != D[241].length; ++j) if(D[241][j].charCodeAt(0) !== 0xFFFD) { e[D[241][j]] = 61696 + j; d[61696 + j] = D[241][j];}
D[242] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å«å°åå¿æææ¯æ¯æ¨æºææ³æ­¢æ± æ²æ¼¬ç¥ç ¥ç¥ç¥ç´è¢èè³èè·èèªï§¼è´è¶¾é²ç´ç¨ç¨·ç¹è·ååå¡µæ¯æ¢æææ¡­æ¦æ®æ´¥æº±çç¨ç¡çç¹ç¡ççç§¦ç¸ç¸è»è¯è¢è¨ºè³è»«è¾°é²é­é£é³éä¾å±å§ªå«å¸æ¡çç¾ç§©çªè£è­è³ªè·è¿­ææï§½å·æ½ç·è¼¯ï¿½".split("");
for(j = 0; j != D[242].length; ++j) if(D[242][j].charCodeAt(0) !== 0xFFFD) { e[D[242][j]] = 61952 + j; d[61952 + j] = D[242][j];}
D[243] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¶éå¾µæ²æ¾ä¸ä¾ååååµ¯å·®æ¬¡æ­¤ç£ç®ï§¾è¹è»é®ææ¾ççªé¯é¿é½ªæ°æ¾¯ç¦ç¨çç«ç°çºç²²çºè®è´é½é¤é¥å¹å¯æ¦æ­ç´®å­åå¡¹æææºæ¬ç«è®è®åå¡åµå±å¨¼å» å½°æ´æææ¶æ¢æ§æ»æ¼²çç¡çªè¹èèè¼åµå°å¯å¯¨å½©æ¡ç ¦ç¶µèè¡ééµåæµç­ï¿½".split("");
for(j = 0; j != D[243].length; ++j) if(D[243][j].charCodeAt(0) !== 0xFFFD) { e[D[243][j]] = 62208 + j; d[62208 + j] = D[243][j];}
D[244] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è²¬åå¦»æ½èåï§¿åå°ºæ½æææ²æ¥æ»ç èè¹ éé»ä»ååå¤©å·ææ³æ·ºçç©¿èè¦è³¤è¸é·é§é¡é¡éå¸å²åå¾¹æ¤æ¾ç¶´è¼è½éµåå°æ²¾æ·»çç»ç°½ç±¤è©¹è«å å¦¾å¸æ·ççç«è«è²¼è¼å»³æ´æ·¸è½èè«éé¯ï¨åæ¿æ¶æ»¯ç· è«¦é®éé«åå¿å¨ææææ¢¢ï¿½".split("");
for(j = 0; j != D[244].length; ++j) if(D[244][j].charCodeAt(0) !== 0xFFFD) { e[D[244][j]] = 62464 + j; d[62464 + j] = D[244][j];}
D[245] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¤æ¥æ¨µçç¦ç¡ç¤ç¤ç§ç¨èè¸èèèè²è¶é¢éé®ä¿åç­çèè§¸å¯¸å¿æé¨å¢å¡å¯µæ¤ææ ç¸½è°è¥éæ®å¬å´æå¢æ½æ¨æ¤æ¥¸æ¨æ¹«çºç§è»è©è«è¶¨è¿½éééééééé¨¶é°ä¸çç¥ç«ºç­ç¯ç¸®èè¹è¹´è»¸éæ¥æ¤¿çåºæ®é»åå¿ æ²è²è¡è¡·æ´èµèï¿½".split("");
for(j = 0; j != D[245].length; ++j) if(D[245][j].charCodeAt(0) !== 0xFFFD) { e[D[245][j]] = 62720 + j; d[62720 + j] = D[245][j];}
D[246] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è´åå¹å´å¨¶å°±çç¿ èèè­è¶£éé©é·²å´ä»å æ»æ¸¬å±¤ä¾å¤å¤å³å¹æ¥æ¢æ²»æ·ç¾çç´ç¡ç¨ç©ç·ç·»ç½®è´è©è¼éé¦³é½ååé£­è¦ªä¸ææ¼ä¾µå¯¢ææ²æµ¸çç §éé¼èç§¤ç¨±å¿«ä»å¤å¾å¢®å¦¥æ°æææ¶æ¥èµéé¦±é§å¬ååå¼ï¨æï¨æ¢æ«ææ¿æ¿¯ç¢ç¸è¨ï¿½".split("");
for(j = 0; j != D[246].length; ++j) if(D[246][j].charCodeAt(0) !== 0xFFFD) { e[D[246][j]] = 62976 + j; d[62976 + j] = D[246][j];}
D[247] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¸ååå¦å½ææ­çç­ç¶»èªå¥ªè«æ¢çè½è²ªå¡æ­æ¦»å®å¸æ¹¯ï¨è©åå°å¤ªæ ææ®æ±°æ³°ç¬èèè·é°é¢±ï¨ææ¾¤ææåååè¨ææ¡¶ï¨çç­çµ±éå æ§è¿è¤ªéé ¹å¸å¥å¦¬æéé¬ªæç¹éå¡å©å·´ææ­æºæ·æ³¢æ´¾ç¬ç¶ç ´ç½·è­è·é å¤åæ¿çç£è²©è¾¦éï¿½".split("");
for(j = 0; j != D[247].length; ++j) if(D[247][j].charCodeAt(0) !== 0xFFFD) { e[D[247][j]] = 63232 + j; d[63232 + j] = D[247][j];}
D[248] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½éªå«å­æä½©åæææ²æµ¿çç½ç¨è¦è²å½­æ¾ç¹è¨æä¾¿åæçç¯ç·¨ç¿©éé­é¨è²¶åªå¹³æ°èè©å å¬å¹£å»¢å¼æèºè½ééä½åååååºåå¸æææ±æï¨æ³¡æµ¦ç±ç ²èè¯èè¡è²è¢è¤ééªé£½é®å¹æ´æççï¨ä¿µå½å½ªæææ¨æ¼ç¢ç¥¨è¡¨è±¹é£é£é©ï¿½".split("");
for(j = 0; j != D[248].length; ++j) if(D[248][j].charCodeAt(0) !== 0xFFFD) { e[D[248][j]] = 63488 + j; d[63488 + j] = D[248][j];}
D[249] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½åç¨æ¥è«·è±é¢¨é¦®å½¼æ«ç²ç®è¢«é¿éå¹å¼¼å¿æ³çç¢çç­è¾é¦ä¹é¼ä¸ä½å¦å¤å»æ°æ²³çè·è¦è³ééé°å£å­¸èè¬é¶´å¯æ¨ææ±æ±æ¼¢æ¾£çç½ç¿°ééééå²è½å½å«å¸å£åæª»æ¶µç·è¦éé·é¹¹ååçè¤é¤ééäº¢ä¼å§®å«¦å··æææ­æ¡æ²æ¸¯ç¼¸èèªï¿½".split("");
for(j = 0; j != D[249].length; ++j) if(D[249][j].charCodeAt(0) !== 0xFFFD) { e[D[249][j]] = 63744 + j; d[63744 + j] = D[249][j];}
D[250] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¨ï¨é äº¥åå³åå¥å­©å®³ææ¥·æµ·ç£è¹è§£è©²è«§éé§­éª¸å¾æ ¸åå¹¸æèè¡äº«åå®ç¦éé¿é¤é¥é¦åå¢èè¨±æ²æ«¶ç»è»æ­éªé©å¥çèµ«é©ä¿å³´å¼¦æ¸ææ³«ç«çç¹ç¾ç©ççµçµ¢ç¸£è·è¡ï¨è³¢éé¡¯å­ç©´è¡é å«ä¿ åå¤¾å³½æ¾æµ¹ç¹èèè¢éé °äº¨åååï¿½".split("");
for(j = 0; j != D[250].length; ++j) if(D[250][j].charCodeAt(0) !== 0xFFFD) { e[D[250][j]] = 64000 + j; d[64000 + j] = D[250][j];}
D[251] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å½¢æ³æ»ççç¯çç©ç©èè¢è¡¡éé¢é£é¦¨å®å½æ æ§æ³èè¹é¯éä¹äºå¼å£å£ºå¥½å²µå¼§æ¶æææ§æ¯«æµ©æ·æ¹æ»¸æ¾æ¿ æ¿©ççç¥çç çç¥ç³ç¸è¡è¦è«è¿èèè´è­·è±ªé¬é é¡¥ææé·å©ææ··æ¸¾ç¿é­å¿½æç¬åå¼æ±æ³æ´ªçç´è¹è¨é´»ååå¬æ¨ºç«çµï¿½".split("");
for(j = 0; j != D[251].length; ++j) if(D[251][j].charCodeAt(0) !== 0xFFFD) { e[D[251][j]] = 64256 + j; d[64256 + j] = D[251][j];}
D[252] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¦ç¦¾è±è¯è©±è­è²¨é´ï¨æ´æ«ç¢ºç¢»ç©«ä¸¸åå¥å®¦å¹»æ£ææ­¡æ¥æ¡æ¸ç¥ç°ç´éé©©é°¥æ´»æ»ç¾è±éå°å¹å¾¨ææ¶æ°ææææ¦¥æ³æ¹æ»æ½¢çççç¯ç°§èèééé»å¯åå»»å¾æ¢ææ·æ¦ææªæ·®æ¾®ç°çªç¹ªè¾è´èèª¨è³åç²å®æ©«éå®åå­ææææ¢æ¶æ·ï¿½".split("");
for(j = 0; j != D[252].length; ++j) if(D[252][j].charCodeAt(0) !== 0xFFFD) { e[D[252][j]] = 64512 + j; d[64512 + j] = D[252][j];}
D[253] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç»è´éµé©ä¾¯åååå¼ååå¸¿å¾æ½ç¦çéåå³å¡¤å£ççç»è°è¨æè¨å§æçè±ååæ¯å½å¾½æ®æçè«±è¼éº¾ä¼æºçç¦è§æ¤è­é·¸åå¶åæ´¶è¸é»ææ¬£ççåå±¹ç´è¨æ¬ æ¬½æ­å¸æ°æ´½ç¿èåååå«åå§¬å¬å¸æææ±ææ¦çç¹çºç§ç¦§ç¨ç¾²è©°ï¿½".split("");
for(j = 0; j != D[253].length; ++j) if(D[253][j].charCodeAt(0) !== 0xFFFD) { e[D[253][j]] = 64768 + j; d[64768 + j] = D[253][j];}
return {"enc": e, "dec": d }; })();
cptable[950] = (function(){ var d = [], e = {}, D = [], j;
D[0] = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[0].length; ++j) if(D[0][j].charCodeAt(0) !== 0xFFFD) { e[D[0][j]] = 0 + j; d[0 + j] = D[0][j];}
D[161] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ãï¼ããï¼â§ï¼ï¼ï¼ï¼ï¸°â¦â¥ï¹ï¹ï¹Â·ï¹ï¹ï¹ï¹ï½âï¸±âï¸³â´ï¸´ï¹ï¼ï¼ï¸µï¸¶ï½ï½ï¸·ï¸¸ããï¸¹ï¸ºããï¸»ï¸¼ããï¸½ï¸¾ããï¸¿ï¹ããï¹ï¹ããï¹ï¹ï¹ï¹ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¹ï¹ï¹ï¹ââââããâµâ²ï¼ï¼ï¼â»Â§ãâââ³â²ââââââ¡â â½â¼ã£âÂ¯ï¿£ï¼¿Ëï¹ï¹ï¹ï¹ï¹ï¹ï¹ï¹ ï¹¡ï¼ï¼ÃÃ·Â±âï¼ï¼ï¼â¦â§â âââ¡ï¹¢ï¹£ï¹¤ï¹¥ï¹¦ï½â©âªâ¥â ââ¿ããâ«â®âµâ´âââââââââââââ¥â£ï¼ï¿½".split("");
for(j = 0; j != D[161].length; ++j) if(D[161][j].charCodeAt(0) !== 0xFFFD) { e[D[161][j]] = 41216 + j; d[41216 + j] = D[161][j];}
D[162] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¼¼âï¹¨ï¼ï¿¥ãï¿ ï¿¡ï¼ï¼ ââï¹©ï¹ªï¹«ãããããã¡ãããÂ°ååååå¡å£å§ç©ç³ââââââââââââââââ¼â´â¬â¤ââââââââââ­ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½â®â°â¯âââªâ¡â¢â£â¥â¤â±â²â³ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼â â¡â¢â£â¤â¥â¦â§â¨â©ã¡ã¢ã£ã¤ã¥ã¦ã§ã¨ã©åååï¼¡ï¼¢ï¼£ï¼¤ï¼¥ï¼¦ï¼§ï¼¨ï¼©ï¼ªï¼«ï¼¬ï¼­ï¼®ï¼¯ï¼°ï¼±ï¼²ï¼³ï¼´ï¼µï¼¶ï¼·ï¼¸ï¼¹ï¼ºï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï¿½".split("");
for(j = 0; j != D[162].length; ++j) if(D[162][j].charCodeAt(0) !== 0xFFFD) { e[D[162][j]] = 41472 + j; d[41472 + j] = D[162][j];}
D[163] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï½ï½ï½ï½ÎÎÎÎÎÎÎÎÎÎÎÎÎÎÎÎ Î¡Î£Î¤Î¥Î¦Î§Î¨Î©Î±Î²Î³Î´ÎµÎ¶Î·Î¸Î¹ÎºÎ»Î¼Î½Î¾Î¿ÏÏÏÏÏÏÏÏÏãããããããããããï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ããããããããããããããããã ã¡ã¢ã£ã¤ã¥ã¦ã§ã¨ã©ËËËËËï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½â¬ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[163].length; ++j) if(D[163][j].charCodeAt(0) !== 0xFFFD) { e[D[163][j]] = 41728 + j; d[41728 + j] = D[163][j];}
D[164] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ä¸ä¹ä¸ä¸ä¹ä¹äºäºäººå¿å¥å«å åååååååä¸ä¸ä¸ä¸ä¸«ä¸¸å¡ä¹ä¹ä¹ä¹äºäº¡åååºååå£åå£«å¤å¤§å¥³å­å­å­å¯¸å°å°¢å°¸å±±å·å·¥å·±å·²å·³å·¾å¹²å»¾å¼å¼æï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ä¸ä¸ä¸ä¸­ä¸°ä¸¹ä¹å°¹äºäºäºäºäºäº¢ä»ä»ä»ä»ä»ä»ä»ä»ä»ååå§å­å®å¬åå¶åååå»å¾å¿åå¹ååååååååå£¬å¤©å¤«å¤ªå¤­å­å°å°¤å°ºå±¯å·´å¹»å»¿å¼å¼å¿ææ¶æææ¯æææ¤æ¹æ¥æ°ææ¨æ¬ æ­¢æ­¹æ¯æ¯æ¯æ°æ°´ç«çªç¶ç»çççç¬çä¸ï¿½".split("");
for(j = 0; j != D[164].length; ++j) if(D[164][j].charCodeAt(0) !== 0xFFFD) { e[D[164][j]] = 41984 + j; d[41984 + j] = D[164][j];}
D[165] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ä¸ä¸ä¸ä¸ä¸»ä¹ä¹ä¹ä»¥ä»ä»ä»ä»ä»ä»£ä»¤ä»ä»ååååå¬å¹åºå¸åå åååååä»ååå¡å å¯å®å»å¯å¤å³å¬å®å©å¨å¼å¸åµå«å¦åªå²å±å°å¥å­å»ååå¤ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å¤®å¤±å¥´å¥¶å­å®å°¼å·¨å·§å·¦å¸å¸å¹³å¹¼å¼å¼å¼å¿ææææææ¥æ¦æ®æ¬æªæ«æ­æ­£æ¯æ°æ°æ°¸æ±æ±æ°¾ç¯çççç¦ççç¨ç©ç°ç±ç²ç³çç½ç®ç¿ç®çç¢ç³ç¤ºç¦¾ç©´ç«ä¸ä¸ä¹ä¹ä¹©äºäº¤äº¦äº¥ä»¿ä¼ä¼ä¼ä¼ä¼ä¼ä¼ä¼ä»²ä»¶ä»»ä»°ä»³ä»½ä¼ä¼ååååå¨ï¿½".split("");
for(j = 0; j != D[165].length; ++j) if(D[165][j].charCodeAt(0) !== 0xFFFD) { e[D[165][j]] = 42240 + j; d[42240 + j] = D[165][j];}
D[166] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å±åå°åååååå£åå¡å å°å±åååååååååååååååå ååå³å°å¨å­å¬å¯å©å¤å¤å¤·å¤¸å¦å¥¸å¦å¥½å¥¹å¦å¦å­å­å®å®å®å®å¯ºå°å±¹å·å¸å¹¶å¹´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å¼å¼å¿å¿æææææ£æææ¶æ©æ¨æ¬æ­æ²æ³ææ½æ´æ±æµæ¬¡æ­¤æ­»æ°æ±æ±æ±æ±æ± æ±æ±æ±¡æ±æ±æ±ç°ççç¾ç«¹ç±³ç³¸ç¼¶ç¾ç¾½èèèèè³è¿èèèè£èªè³è¼èèèè®è²è¾è«è¡è¡è¡£è¥¿é¡ä¸²äº¨ä½ä½ä½ä½ä½ä¼´ä½ä½ä¼°ä½ä½ä¼½ä¼ºä¼¸ä½ä½ä¼¼ä½ä½£ï¿½".split("");
for(j = 0; j != D[166].length; ++j) if(D[166][j].charCodeAt(0) !== 0xFFFD) { e[D[166][j]] = 42496 + j; d[42496 + j] = D[166][j];}
D[167] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ä½ä½ ä¼¯ä½ä¼¶ä½ä½ä½ä½ååååµå¶å·å¥å¤å©åªå¨å«å©åªå¬å£å³åµåå­åå¾å¦åå§ååå³åååå©åå¹å»å¸å®åµå¶å å¼åå±å«åå¬åªå°å¤å«ååååï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ååå¾ååå»å£¯å¤¾å¦å¦å¦¨å¦å¦£å¦å¦å¦å¦¤å¦å¦å¦¥å­å­å­å­å®å®å®å°¬å±å±å°¿å°¾å²å²å²å²å·«å¸åºåºåºå»·å¼å¼å½¤å½¢å½·å½¹å¿å¿å¿å¿å¿±å¿«å¿¸å¿ªæææææææ¶ææ­ææ¼æ¾æ¹æ³ææ¯ææ®æææææ¹æ»æ¸æ±æ´æææææææææææ ï¿½".split("");
for(j = 0; j != D[167].length; ++j) if(D[167][j].charCodeAt(0) !== 0xFFFD) { e[D[167][j]] = 42752 + j; d[42752 + j] = D[167][j];}
D[168] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æææ­¥æ¯æ±æ±æ²æ²æ²æ²æ²æ²æ±ªæ±ºæ²æ±°æ²æ±¨æ²æ²æ±½æ²æ±²æ±¾æ±´æ²æ±¶æ²æ²æ²æ²ç¶ç¼ç½ç¸ç¢ç¡ç çççç¬ç«ç·ç¸çç¯ç£ç§ç§ç¦¿ç©¶ç³»ç½èèèèèèè²è¯èï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èèè¦è§è¨è°·è±è±è²èµ¤èµ°è¶³èº«è»è¾è¾°è¿è¿è¿è¿å·¡éé¢éªé¦é£éééé²é®é±éªé¬ä¸¦ä¹ä¹³äºäºäºäº«äº¬ä½¯ä¾ä¾ä½³ä½¿ä½¬ä¾ä¾ä¾ä¾ä½°ä½µä¾ä½©ä½»ä¾ä½¾ä¾ä¾ä½ºåååå©å·å¶å¸å½å½å»å¸å·åºå°å®å¶åå¾å»ååååå¦å·å¸å¹åååå³åµï¿½".split("");
for(j = 0; j != D[168].length; ++j) if(D[168][j].charCodeAt(0) !== 0xFFFD) { e[D[168][j]] = 43008 + j; d[43008 + j] = D[168][j];}
D[169] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½åå¸ååå»å·åååå¼åå±å¶ååå¢å¨åå½ååºåå·åªå©å¡å¦å¤å¼å¤å¥å¥å¥å¥å¥å¦¾å¦»å§å¦¹å¦®å§å§å§å§å§å§å§å¦¯å¦³å§å§å­å­¤å­£å®å®å®å®å®å®å°å±å±ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å±å²·å²¡å²¸å²©å²«å²±å²³å¸å¸å¸å¸å¸å¸å¹¸åºåºåºåºåºå»¶å¼¦å¼§å¼©å¾å¾å½¿å½¼å¿å¿ å¿½å¿µå¿¿æææ¯æµææªææ¡æ§æ©æ«ææææ¿æ¾ææ¿ææææ¿ææ¹æææ«æææææ¨æ½æ¼æææææµææ±æææææ¬ææ¾æ§æ¼æºææææææææææï¿½".split("");
for(j = 0; j != D[169].length; ++j) if(D[169][j].charCodeAt(0) !== 0xFFFD) { e[D[169][j]] = 43264 + j; d[43264 + j] = D[169][j];}
D[170] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ææææ­æææ±ææ³æ·ææææ¯æ°æ¿ææ¾ææµæææ¼æªæ²æ¬£æ­¦æ­§æ­¿æ°æ°æ³£æ³¨æ³³æ²±æ³æ³¥æ²³æ²½æ²¾æ²¼æ³¢æ²«æ³æ³æ²¸æ³æ²¹æ³æ²®æ³æ³æ³±æ²¿æ²»æ³¡æ³æ³æ²¬æ³¯æ³æ³æ³ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çççççç¬ç­ç¸çç§ç©çççççç©ç¨çç«ç¥ç½çççççç²ç´ç¥ç½ç¤¾ç¥ç¥ç§ç§ç©ºç©¹ç«ºç³¾ç½ç¾ç¾èèºè¥è¢è±è¡è«è©è´èªè¯è¥è¾èè³èèè­è½èè¹è±è¬è¥è¯è¸è£è°è¾è·èè±åè¡¨è»è¿è¿è¿éµé¸é±é¶ééé·éééé¿é»éï¿½".split("");
for(j = 0; j != D[170].length; ++j) if(D[170][j].charCodeAt(0) !== 0xFFFD) { e[D[170][j]] = 43520 + j; d[43520 + j] = D[170][j];}
D[171] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½éé¹é¨ééäºäº­äº®ä¿¡ä¾µä¾¯ä¾¿ä¿ ä¿ä¿ä¿ä¿ä¾¶ä¿ä¿ä¿ä¿ä¾®ä¿ä¿ä¿ä¿ä¿ä¿ä¾·åååå åååååååååååååå»ååå¬åå¨ååå¸å¦å³ååå½åªåï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ååå¯å«å±å»å©å§å¿å¿ååå å£å¢åå®åå¥å¥å¥å¥å¥å§å§å§¿å§£å§¨å¨å§¥å§ªå§å§¦å¨å§»å­©å®£å®¦å®¤å®¢å®¥å°å±å±å±å±å³å³å··å¸å¸¥å¸å¹½åº åº¦å»ºå¼å¼­å½¥å¾å¾å¾å¾å¾å¾å¾æææ æ¥ææ¨ææ°æ¨æ¢æææ¬æ«æªæ¤æææææ¼æ­ææ®æ½ææ±æ·ï¿½".split("");
for(j = 0; j != D[171].length; ++j) if(D[171][j].charCodeAt(0) !== 0xFFFD) { e[D[171][j]] = 43776 + j; d[43776 + j] = D[171][j];}
D[172] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¯æ¬æ¾æ´æææ¿ææ«æ½æ¢æ¥æ­æ æ§æ¯ææ¨æ±æ¤æ·æ¿ææ±æææ¬æ¶æ¯æµæ©æ¯æææ´ææ¥æ¸æææ³æ°ææ¢æææ­ªæ®æ®æ®µæ¯æ¯æ°æ³æ´æ´²æ´ªæµæ´¥æ´æ´±æ´æ´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ´»æ´½æ´¾æ´¶æ´æ³µæ´¹æ´§æ´¸æ´©æ´®æ´µæ´æ´«ç«çºç³ç¬ç¯ç­ç¸ç®ç¤ç°ç²ç¯ç´ç©ç ç¡ç·çç»ç²ççç³çç­ççççç«ç¤ç¥ç¢ç£ç¸ççççççççç¹ç¸ççç¾ç¼ççç ç ç ç ç¥ç¥ç¥ç¥ç¦¹ç¦ºç§ç§ç§ç©¿çªç«¿ç«½ç±½ç´ç´ç´ç´ç´ç´ç´ç¼¸ç¾ç¾¿èï¿½".split("");
for(j = 0; j != D[172].length; ++j) if(D[172][j].charCodeAt(0) !== 0xFFFD) { e[D[172][j]] = 44032 + j; d[44032 + j] = D[172][j];}
D[173] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èèèè¶èè¥èèèèè¡èèèè¤èè´è¢è§èèè£èè¦èè¥èèèèè±èèèèèèèè¯èèè¹è»èºè¡è¡«è¦è§è¨è¨è¨è²è² èµ´èµ³è¶´è»è»è¿°è¿¦è¿¢è¿ªè¿¥ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¿­è¿«è¿¤è¿¨ééééééééééééé¢é©éé­é³é é¢¨é£é£é¦é¦ä¹äº³ååå£ä¿¯å¦å¥ä¿¸å©ååå¼ååååä¿ºååå¨ä¿±å¡åååä¿³ä¿®å­åªä¿¾å«åå¼å¤å¥å¢ååååååååååªå¿åååå¨ååå·å¼å¥å²ååºåå©å­å¡åå®åªï¿½".split("");
for(j = 0; j != D[173].length; ++j) if(D[173][j].charCodeAt(0) !== 0xFFFD) { e[D[173][j]] = 44288 + j; d[44288 + j] = D[173][j];}
D[174] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å¦å§åå½åååååååå å¤å¥å¥å¥å¨å¨å¨å¨å¨å¨å§¬å¨ å¨£å¨©å¨¥å¨å¨å­«å±å®°å®³å®¶å®´å®®å®µå®¹å®¸å°å±å±å±å³­å³½å³»å³ªå³¨å³°å³¶å´å³´å·®å¸­å¸«åº«åº­åº§å¼±å¾å¾å¾æï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ£æ¥æææ­æ©æ¯ææææææææææ³ææ¿ææ¾æ¯ææææææºææ½æªæ«æ¨ææææææææææææææææ¸ææææ ¡æ ¸æ¡æ¡æ¡æ ¹æ¡æ¡æ ©æ¢³æ æ¡æ¡æ ½æ´æ¡æ¡æ ¼æ¡æ ªæ¡æ æ æ¡æ®æ®æ®·æ°£æ°§æ°¨æ°¦æ°¤æ³°æµªæ¶æ¶æ¶æµ¦æµ¸æµ·æµæ¶ï¿½".split("");
for(j = 0; j != D[174].length; ++j) if(D[174][j].charCodeAt(0) !== 0xFFFD) { e[D[174][j]] = 44544 + j; d[44544 + j] = D[174][j];}
D[175] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æµ¬æ¶æµ®æµæµ´æµ©æ¶æ¶æµ¹æ¶æµ¥æ¶ççç¤çççç¹ç¹ç¼ç¹ç½ç¸ç·çç­çç®ç çªççççççç¾ççç²ç³ç½ç¼ç¹çç¸çç°çççç©çç ç¨ç©ç °ç §ç ¸ç ç ´ç ·ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç ¥ç ­ç  ç ç ²ç¥ç¥ç¥ ç¥ç¥ç¥ç¥ç¥ç¥ç§¤ç§£ç§§ç§ç§¦ç§©ç§çªçªç«ç¬ç¬ç²ç´¡ç´ç´ç´ç´ ç´¢ç´ç´ç´ç´ç´ç´ç´ç´ç¼ºç½ç¾ç¿ç¿èèèèèè½è¿è±èè°èè­è´èè¸è³èè½èè¼è¯è­è¬èèèªè«è¨è¬è»è«èèèè¸èèèµè´èè²è¹è¶èèè±è¨èï¿½".split("");
for(j = 0; j != D[175].length; ++j) if(D[175][j].charCodeAt(0) !== 0xFFFD) { e[D[175][j]] = 44800 + j; d[44800 + j] = D[175][j];}
D[176] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èèèªèè¤è©èè£èè¡°è¡·è¢è¢è¡½è¡¹è¨è¨è¨è¨è¨è¨è¨è¨è¨è¨è¨è±è±ºè±¹è²¡è²¢èµ·èº¬è»è»è»è¾±ééè¿·éè¿ºè¿´éè¿½éè¿¸éé¡éé¢éééééééééé¢é£é¡ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ééé¤ééé»é£¢é¦¬éª¨é«é¬¥é¬²é¬¼ä¹¾åºå½ååååååå¥å¶åååµå´å·ååå¯å­ååå°åªå¯åååååååå¿åå¾åæ¼ååªå¦ååå¡ååå±åååå¯å¤å¸å®åå¬å£å³ååååååå å å å å¤åºå å µå·å¹å¤ å¥¢å¨¶å©å©å©¦å©ªå©ï¿½".split("");
for(j = 0; j != D[176].length; ++j) if(D[176][j].charCodeAt(0) !== 0xFFFD) { e[D[176][j]] = 45056 + j; d[45056 + j] = D[176][j];}
D[177] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å¨¼å©¢å©å©å©å­°å¯å¯å¯å¯å®¿å¯å°å°å°å± å±å±å´å´å´å´å´å´¢å´å´©å´å´å´¤å´§å´å·¢å¸¸å¸¶å¸³å¸·åº·åº¸åº¶åºµåº¾å¼µå¼·å½å½¬å½©å½«å¾å¾å¾å¾å¾¡å¾ å¾æ¿æ£ææ æ¨ææ´æ¦æ½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ææ»æµææ¼æææææ¸ææææææ æ§æ²ææ¢æ¥æ·æ§ææªæ±æ©ææææ«æ¨ææææ¡æ¬ææææ»æ©æ¨æºæææææåæææææææ¬æææææææ¤æ¨æ¦ææ¹åææ¢æ¢¯æ¢¢æ¢æ¢µæ¡¿æ¡¶æ¢±æ¢§æ¢æ¢°æ¢æ£æ¢­æ¢æ¢æ¢æ¢æ¢¨æ¢æ¢¡æ¢æ¬²æ®ºï¿½".split("");
for(j = 0; j != D[177].length; ++j) if(D[177][j].charCodeAt(0) !== 0xFFFD) { e[D[177][j]] = 45312 + j; d[45312 + j] = D[177][j];}
D[178] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¯«æ¯¬æ°«æ¶æ¶¼æ·³æ·æ¶²æ·¡æ·æ·¤æ·»æ·ºæ¸æ·æ·æ¶¯æ·æ¶®æ·æ·¹æ¶¸æ··æ·µæ·æ·æ¸æ¶µæ·æ·«æ·æ·ªæ·±æ·®æ·¨æ·æ·æ¶ªæ·¬æ¶¿æ·¦ç¹ççç½ç¯ç½ç½çççççççççççç¾çç ç¶ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç·çç¢ç¥ç¦ç¢ç°ççççµççççççç·ç¾ç¼ç¶ç¸çºç¡«ç¡ç¡ç¥¥ç¥¨ç¥­ç§»çªçªç¬ ç¬¨ç¬ç¬¬ç¬¦ç¬ç¬ç¬®ç²ç²ç²çµçµçµ±ç´®ç´¹ç´¼çµç´°ç´³çµç´¯çµç´²ç´±ç¼½ç¾ç¾ç¿ç¿ç¿èèèè¯èè£è«è©è°è¤èèµè·è¶è¹èèèè¸è¢èè½è«èèèèè è·è»è¼ï¿½".split("");
for(j = 0; j != D[178].length; ++j) if(D[178][j].charCodeAt(0) !== 0xFFFD) { e[D[178][j]] = 45568 + j; d[45568 + j] = D[178][j];}
D[179] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èè§èå½ªèèè¶èèµèèè±è¯èè¡è¢è¢è¢«è¢è¢è¢è¢è¦è¦è¨ªè¨è¨£è¨¥è¨±è¨­è¨è¨è¨¢è±è±è²©è²¬è²«è²¨è²ªè²§èµ§èµ¦è¶¾è¶ºè»è»ééééé£éééééé éé¢éééï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¨é­é½éééµé¦é£é§é­é©ééªéµé³é¸é°é´é¶é·é¬ééªé©ç« ç«é é é­é³¥é¹µé¹¿éº¥éº»å¢ååååååååæå±å²å´åµå©ååååå¥å»åå§å¼ååååååªååååå³å®åå¾å²åå»å¬å±å¾åå«ååå ¯å ªå ´å ¤å °å ±å ¡å å  å£¹å£ºå¥ ï¿½".split("");
for(j = 0; j != D[179].length; ++j) if(D[179][j].charCodeAt(0) !== 0xFFFD) { e[D[179][j]] = 45824 + j; d[45824 + j] = D[179][j];}
D[180] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å©·åªå©¿åªåªåª§å­³å­±å¯å¯å¯å¯å°å°å°±åµåµå´´åµå·½å¹å¸½å¹å¹å¹¾å»å»å»å»å¼¼å½­å¾©å¾ªå¾¨ææ¡æ²æ¶æ ææ£æºææ°æ»æ´æ¨æ±ææ¶ææææææ£ææææ©æææï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ææ£ææ¡ææ­æ®æ¶æ´æªææææ¹ææ¦æ¢æ£æææ¯æ®æ°æ´æ¶æ¯ææºæ¾æ·æ¾æ¿æææ£ºæ£æ£ æ£æ£æ¤æ£æ£µæ£®æ£§æ£¹æ£æ£²æ££æ£æ£æ¤æ¤æ¤æ£æ£æ¥®æ£»æ¬¾æ¬ºæ¬½æ®æ®æ®¼æ¯¯æ°®æ°¯æ°¬æ¸¯æ¸¸æ¹æ¸¡æ¸²æ¹§æ¹æ¸ æ¸¥æ¸£æ¸æ¹æ¹æ¸¤æ¹æ¹®æ¸­æ¸¦æ¹¯æ¸´æ¹æ¸ºæ¸¬æ¹æ¸æ¸¾æ»ï¿½".split("");
for(j = 0; j != D[180].length; ++j) if(D[180][j].charCodeAt(0) !== 0xFFFD) { e[D[180][j]] = 46080 + j; d[46080 + j] = D[180][j];}
D[181] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æºæ¸æ¹æ¹£æ¹æ¹²æ¹©æ¹ççç¦ç°ç¡ç¶ç®ççççç¶ç¥ç´ç©çºçªç³ç¢ç¥çµç¶ç´ç¯çç¦ç¨ç¥ç¦ç«çªç¢çç£çççç ç»ç¼ççç´ççç­ç¡ç¡¬ç¡¯ç¨ç¨ç¨ç¨ç¨çªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çªçªç«¥ç«£ç­ç­ç­ç­ç­ç­ç­ç­ç­ç­ç²ç²¥çµçµçµ¨çµç´«çµ®çµ²çµ¡çµ¦çµ¢çµ°çµ³åç¿ç¿èèèèèèèèè¹èè¾èèè´èèè©èè¸èè èèèè¯è±è´èèè°èèè½è²èè¸èèèèèèèèèè­èèè¤èèè¡è£è£è¢±è¦è¦è¨»è© è©è©è¨¼è©ï¿½".split("");
for(j = 0; j != D[181].length; ++j) if(D[181][j].charCodeAt(0) !== 0xFFFD) { e[D[181][j]] = 46336 + j; d[46336 + j] = D[181][j];}
D[182] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è©è©è©è©è¨´è¨ºè¨¶è©è±¡è²è²¯è²¼è²³è²½è³è²»è³è²´è²·è²¶è²¿è²¸è¶è¶è¶è·è·è·è·è·è·è·è·è»»è»¸è»¼è¾é®éµé±é¸é²é¶ééµéé¾é£é¥éééé£ééééééééééï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ééééééé½éééé²ééééééé¯é²éé é é é£§é£ªé£¯é£©é£²é£­é¦®é¦­é»é»é»äºå­åµå²å³åå¾å¬å·å»å¯åå¿å·å½åå¦å¤å¢å£å¯åå¨åå¦ååååå£å¤å¯åå¡ååå¥åååå¡å¡å¡å¡å¡å¡å¡«å¡å¡­å¡å¡¢å¡å¡å¥§å«å«å«åª¾åª½åª¼ï¿½".split("");
for(j = 0; j != D[182].length; ++j) if(D[182][j].charCodeAt(0) !== 0xFFFD) { e[D[182][j]] = 46592 + j; d[46592 + j] = D[182][j];}
D[183] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½åª³å«åª²åµ©åµ¯å¹å¹¹å»å»å¼å½å¾¬å¾®æææææ³ææ¹æææææææ¾æ´æ§æææ·æ¡æ¢ææ¾ææªæ­æ½æ¬æææææ¶ææææ¬ææ°ææææææææææ¦æ¥­ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¥æ¥·æ¥ æ¥æ¥µæ¤°æ¦æ¥æ¥¨æ¥«æ¥æ¥æ¥¹æ¦æ¥æ¥£æ¥æ­æ­²æ¯æ®¿æ¯æ¯½æº¢æº¯æ»æº¶æ»æºæºæ»æ»æº¥æºæº¼æººæº«æ»æºæºæ»æ»æºªæº§æº´ççç©ç¤çç§çç¬ç¦çç¥ççç¨ççºçç·çç¿ç¾ç¯çççççç¿çççç¶ç¸çç°çç²ç±çºç¿ç´ç³çççç«ç¦çç£ï¿½".split("");
for(j = 0; j != D[183].length; ++j) if(D[183][j].charCodeAt(0) !== 0xFFFD) { e[D[183][j]] = 46848 + j; d[46848 + j] = D[183][j];}
D[184] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¹çªç¬çç¥ç¨ç¢ç®ç¢ç¢°ç¢ç¢ç¢ç¢ç¡¼ç¢ç¢ç¡¿ç¥ºç¥¿ç¦è¬ç¦½ç¨ç¨ç¨ ç¨ç¨ç¨çªçª ç­·ç¯ç­ ç­®ç­§ç²±ç²³ç²µç¶çµ¹ç¶ç¶ç¶çµç½®ç½©ç½ªç½²ç¾©ç¾¨ç¾¤èèèèè±è°è¸è¥è®è³è«ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¹èºè¦èèèè·è½è±èµè¦è«èè¬èè¼èµè¡è£è©è­èèèèè¹èèèèè¾è»èèèèè¡è£è£è£è£è£è£è£¡è£è£è£è¦è§£è©«è©²è©³è©¦è©©è©°èªè©¼è©£èª è©±èªè©­è©¢è©®è©¬è©¹è©»è¨¾è©¨è±¢è²è²è³è³è³è³è²²è³è³è³è·¡è·è·¨è·¯è·³è·ºè·ªè·¤è·¦èº²è¼è¼è»¾è¼ï¿½".split("");
for(j = 0; j != D[184].length; ++j) if(D[184][j].charCodeAt(0) !== 0xFFFD) { e[D[184][j]] = 47104 + j; d[47104 + j] = D[184][j];}
D[185] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¾è¾²éééééé¼éééééééé¾éééé¬éªé©éé·éé¸é½éé¾ééé¤éé´éééé¹é¿éééééééééé·é»é¹é¶éé´é¶é é é é é é é£¼é£´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é£½é£¾é¦³é¦±é¦´é«¡é³©éºé¼é¼é¼ å§å®å¥åå­ååååå±åå©å¢å³ååå±å­å¾åååå½åååååå·ååååå¶ååå¡µå¡¾å¢å¢å¢å¡¹å¢å¡½å£½å¤¥å¤¢å¤¤å¥ªå¥©å«¡å«¦å«©å«å«å«å«£å­µå¯å¯§å¯¡å¯¥å¯¦å¯¨å¯¢å¯¤å¯å°å±¢å¶å¶å¹å¹£å¹å¹å¹å»å»å¼å½å½°å¾¹æï¿½".split("");
for(j = 0; j != D[185].length; ++j) if(D[185][j].charCodeAt(0) !== 0xFFFD) { e[D[185][j]] = 47360 + j; d[47360 + j] = D[185][j];}
D[186] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¿ææ·æ¢æ£ææææµæªææææ¤æ¸ææºææ§æ´æ­æ»æ²æ¡æææ¢æ¨ææ¦æ¦¨æ¦æ§æ¦®æ§æ§æ¦æ¦·æ¦»æ¦«æ¦´æ§æ§æ¦­æ§æ¦¦æ§æ¦£æ­æ­æ°³æ¼³æ¼æ»¾æ¼æ»´æ¼©æ¼¾æ¼ æ¼¬æ¼æ¼æ¼¢ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ»¿æ»¯æ¼æ¼±æ¼¸æ¼²æ¼£æ¼æ¼«æ¼¯æ¾æ¼ªæ»¬æ¼æ»²æ»æ»·ççç½çççç¾ççççç¤ç£çªç°ç­ççç§ççççç¡ç£çç½ç¿ç¡ç£ç¢ç¢§ç¢³ç¢©ç¢£ç¦ç¦ç¦ç¨®ç¨±çªªçª©ç«­ç«¯ç®¡ç®ç®ç­µç®ç®ç®ç®ç®¸ç®ç®ç²¹ç²½ç²¾ç¶»ç¶°ç¶ç¶½ç¶¾ç¶ ç·ç¶´ç¶²ç¶±ç¶ºç¶¢ç¶¿ç¶µç¶¸ç¶­ç·ç·ç¶¬ï¿½".split("");
for(j = 0; j != D[186].length; ++j) if(D[186][j].charCodeAt(0) !== 0xFFFD) { e[D[186][j]] = 47616 + j; d[47616 + j] = D[186][j];}
D[187] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç½°ç¿ ç¿¡ç¿èèèèèèèèè¿èè§èºèèèèèè¿èèèèè²èèè¸èèèè¼èèè¿èè»è¢è¥è´èèè·è©è£³è¤è£´è£¹è£¸è£½è£¨è¤è£¯èª¦èªèªèª£èªèª¡èªèª¤ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èªªèª¥èª¨èªèªèªèª§è±ªè²è²è³è³è³èµ«è¶è¶è·¼è¼è¼è¼è¼è¾£é ééé£ééé¢ééééééµé¸é·é´é¸ééééé»ééé¨é¼éé¡é¨é©é£é¥é¤ééééééé¼éé¶é é é¢¯é¢±é¤é¤é¤é¤é§éª¯éª°é«¦é­é­é³´é³¶é³³éº¼é¼»é½ååå»åµå¹åååååï¿½".split("");
for(j = 0; j != D[187].length; ++j) if(D[187][j].charCodeAt(0) !== 0xFFFD) { e[D[187][j]] = 47872 + j; d[47872 + j] = D[187][j];}
D[188] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½åååååå°å²å®å»å¹å²å¿å´å©åååå´å¶å¯å°å¢å¢å¢å¢³å¢å¢®å¢©å¢¦å¥­å¬å«»å¬å«µå¬å¬å¯®å¯¬å¯©å¯«å±¤å±¥å¶å¶å¹¢å¹å¹¡å»¢å»å»å»å»£å» å½å½±å¾·å¾µæ¶æ§æ®æææï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¼æ°æ«æ¾æ§ææ«ææ¬ææ¤ææ®æ®æ©æ¯æ¹ææ²æææ°æ¥æææ©ææ®æ­æ«ææ¬ææ¢æ³æµæ·æ¸æ®æ«æ´æ±æ¨£æ¨æ§¨æ¨æ¨æ¨æ§½æ¨¡æ¨æ¨æ§³æ¨æ¨æ§­æ¨æ­æ­æ®¤æ¯æ¯æ¼¿æ½¼æ¾æ½æ½¦æ½æ¾æ½­æ½æ½¸æ½®æ¾æ½ºæ½°æ½¤æ¾æ½æ»æ½¯æ½ æ½çç¬ç±ç¨ççççç©ççï¿½".split("");
for(j = 0; j != D[188].length; ++j) if(D[188][j].charCodeAt(0) !== 0xFFFD) { e[D[188][j]] = 48128 + j; d[48128 + j] = D[188][j];}
D[189] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¾çç¿ç ç©çç¤ç¦ç¡ç¢ççºç¤çççççç£ç£ç¢ºç£ç¢¾ç£ç¢¼ç£ç¨¿ç¨¼ç©ç¨½ç¨·ç¨»çª¯çª®ç®­ç®±ç¯ç®´ç¯ç¯ç¯ç® ç¯ç³ç· ç·´ç·¯ç·»ç·ç·¬ç·ç·¨ç·£ç·ç·ç·©ç¶ç·ç·²ç·¹ç½µç½·ç¾¯ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¿©è¦èèèè èèèè½èè®è¬è­èèè£è¡èè¬è¥è¿èèè´è¶è è¦è¸è¨èèèèè¡è¡è¤è¤è¤è¤è¤è¤èª¼è«è«è«èªè«è«¸èª²è«è«èª¿èª°è«è«èª¶èª¹è«è±è±è±¬è³ è³è³¦è³¤è³¬è³­è³¢è³£è³è³ªè³¡èµ­è¶è¶£è¸«è¸è¸è¸¢è¸è¸©è¸è¸¡è¸èººè¼è¼è¼è¼©è¼¦è¼ªè¼è¼ï¿½".split("");
for(j = 0; j != D[189].length; ++j) if(D[189][j].charCodeAt(0) !== 0xFFFD) { e[D[189][j]] = 48384 + j; d[48384 + j] = D[189][j];}
D[190] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¼¥é©é®é¨é­é·é°é­é§é±éééééé»é·éªé¬é¤éé³é¼ééé°é²é­é±ééééé éééé ¡é «é é¢³é¤é¤é¤é¤é§é§é§é§é§é§é§é§éª·é«®é«¯é¬§é­é­é­·é­¯é´é´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é´éº©éº¾é»å¢¨é½åååååååªåååå³åå«å¹å©å¤å¸åªå¨å¥å±å¯å¬å¢å¶å£å¢¾å£å£å¥®å¬å¬´å­¸å¯°å°å½æ²ææ©æææ¶æ¾æææ°ææææ»æ¼ææææææ¿æææ¾æ´æææ¹æææ¸æ¨½æ¨¸æ¨ºæ©æ©«æ©æ¨¹æ©æ©¢æ©¡æ©æ©æ¨µæ©æ©æ­æ­·æ°æ¿æ¾±æ¾¡ï¿½".split("");
for(j = 0; j != D[190].length; ++j) if(D[190][j].charCodeAt(0) !== 0xFFFD) { e[D[190][j]] = 48640 + j; d[48640 + j] = D[190][j];}
D[191] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¿æ¾¤æ¿æ¾§æ¾³æ¿æ¾¹æ¾¶æ¾¦æ¾ æ¾´ç¾çççççç¹çççççç¨çç£çççç¢ççç´ç¸çºç§ç¥ç ççç¥ç£¨ç£ç£¬ç£§ç¦¦ç©ç©ç©ç©ç©çªºç¯ç°ç¯ç¯¤ç¯ç¯¡ç¯©ç¯¦ç³ç³ç¸ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¸ç¸ç¸ç¸£ç¸ç¸ç¸ç¸ç½¹ç¾²ç¿°ç¿±ç¿®è¨è³è©è¨è»èèèèèèè¨è©èèè­èªèèèèè¢èè¡¡è¤ªè¤²è¤¥è¤«è¤¡è¦ªè¦¦è«¦è«ºè««è«±è¬è«è«§è«®è«¾è¬è¬è«·è«­è«³è«¶è«¼è±«è±­è²è³´è¹è¸±è¸´è¹è¸¹è¸µè¼»è¼¯è¼¸è¼³è¾¨è¾¦éµé´é¸é²é¼éºé´éé é¶é¸é³é¯é¢é¼é«ééï¿½".split("");
for(j = 0; j != D[191].length; ++j) if(D[191][j].charCodeAt(0) !== 0xFFFD) { e[D[191][j]] = 48896 + j; d[48896 + j] = D[191][j];}
D[192] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½éé¦é¡éé®éé»é§é¨éªéééééééééé¦éé °é ¸é »é ·é ­é ¹é ¤é¤é¤¨é¤é¤é¤¡é¤é§­é§¢é§±éª¸éª¼é«»é«­é¬¨é®é´é´£é´¦é´¨é´é´é»é»é¾é¾åªåå¡å²åµåååååï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½åå£å£å£å£å¬°å¬ªå¬¤å­ºå°·å±¨å¶¼å¶ºå¶½å¶¸å¹«å½å¾½ææææ¦ææ²æ´ææææ æ°æ¦æ¬æ±æ¢æ­æææææªæªæªæª¢æªæ«æª£æ©¾æªæªæª æ­æ®®æ¯æ°æ¿æ¿±æ¿æ¿ æ¿æ¿¤æ¿«æ¿¯æ¾æ¿¬æ¿¡æ¿©æ¿æ¿®æ¿°ç§çç®ç¦ç¥ç­ç¬ç´ç çµçç°ç²ç©ç°ç¦ç¨ççççªç³çªç°ç¬ï¿½".split("");
for(j = 0; j != D[192].length; ++j) if(D[192][j].charCodeAt(0) !== 0xFFFD) { e[D[192][j]] = 49152 + j; d[49152 + j] = D[192][j];}
D[193] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç§ç­ç¯ç£·ç£ºç£´ç£¯ç¤ç¦§ç¦ªç©çª¿ç°ç°ç¯¾ç¯·ç°ç¯ ç³ ç³ç³ç³¢ç³ç³ç³ç¸®ç¸¾ç¹ç¸·ç¸²ç¹ç¸«ç¸½ç¸±ç¹ç¹ç¸´ç¸¹ç¹ç¸µç¸¿ç¸¯ç½ç¿³ç¿¼è±è²è°è¯è³èèèºèèè¿è½èè¾è¨èè±èªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èè¾èèèè¯èèè¨èè§èèè³èèè«è»èºèèè¤»è¤¶è¥è¤¸è¤½è¦¬è¬è¬è¬è¬è¬è¬ è¬è¬è¬è±è°¿è±³è³ºè³½è³¼è³¸è³»è¶¨è¹è¹è¹è¹è½è¼¾è½è½è¼¿é¿é½ééééé¹é£ééééé¨éµéé¥ééé¾é¬éé°éééééééé±é¸éééé éé¡é¢¶é¤µé¨ï¿½".split("");
for(j = 0; j != D[193].length; ++j) if(D[193][j].charCodeAt(0) !== 0xFFFD) { e[D[193][j]] = 49408 + j; d[49408 + j] = D[193][j];}
D[194] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é§¿é®®é®«é®ªé®­é´»é´¿éºé»é»é»é»é»é¼¾é½å¢åå®å£å£å¬¸å½æ£æ³æ´æ²æ¾ææºæ»æ·æ·ææ¦æª³æª¬æ«æª»æª¸æ«æª®æª¯æ­æ­¸æ®¯ççæ¿¾çæ¿ºççç»ç¼ç¾ç¸ç·çµç§ç¿çççï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çç½ç¿ç»ç¼ç¤ç¦®ç©¡ç©¢ç© ç«ç«ç°«ç°§ç°ªç°ç°£ç°¡ç³§ç¹ç¹ç¹ç¹ç¹¡ç¹ç¹ç½ç¿¹ç¿»è·è¶èèèèè©èèèè°èºè¹è¦è¯è¬è²è è¦è¦²è§´è¬¨è¬¹è¬¬è¬«è±è´è¹è¹£è¹¦è¹¤è¹è¹è»è½è½éééé«é¬ééééé¢é³é®é¬é°éééééééé¢ééééé¤é£é¦ï¿½".split("");
for(j = 0; j != D[194].length; ++j) if(D[194][j].charCodeAt(0) !== 0xFFFD) { e[D[194][j]] = 49664 + j; d[49664 + j] = D[194][j];}
D[195] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é­é¹é¡é¡é¡é¡é¡é¢ºé¤¾é¤¿é¤½é¤®é¦¥é¨é«é¬é¬é­é­é­é¯é¯é¯½é¯é¯éµéµéµ é» é¼é¼¬å³å¥å£å£å£¢å¯µé¾å»¬æ²æ·æ¶æµæææ ææ«¥æ«æ«æ«ççç¨çççççççç¢ç¸ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çºç½çç£çççç¡çç¤ç¦±ç©«ç©©ç°¾ç°¿ç°¸ç°½ç°·ç±ç¹«ç¹­ç¹¹ç¹©ç¹ªç¾ç¹³ç¾¶ç¾¹ç¾¸èè©èèªèè¤è¥è·è»è è è¹è¾è¥ è¥è¥è¥è­è­è­è­è­è­è­è­è­è´è´è¹¼è¹²èºè¹¶è¹¬è¹ºè¹´è½è½è¾­ééé±é®é¡éééééééé¢ééé¤éé¨éé´é£éªé§é¡éé»é¡ï¿½".split("");
for(j = 0; j != D[195].length; ++j) if(D[195][j].charCodeAt(0) !== 0xFFFD) { e[D[195][j]] = 49920 + j; d[49920 + j] = D[195][j];}
D[196] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¡é¡é¢¼é¥é¥é¨é¨é¬é¯¨é¯§é¯é¯é¶éµ¡éµ²éµªéµ¬éºéºéºéº´å¸å¨å·å¶å´å¼å£¤å­å­å­½å¯¶å·æ¸æºææææ¦æ§æ«¬ç¾ç°ç²çç»çç¢ç¥ç¤¦ç¤ªç¤¬ç¤«ç«ç«¶ç±ç±ç±ç³¯ç³°è¾®ç¹½ç¹¼ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çºç½èèè¦è»è¹èèºèèèèè è è¥¤è¦ºè§¸è­°è­¬è­¦è­¯è­è­«è´è´èºèºèºèºé´éééé½é¡é°é£é¥é¥é¦¨é¨«é¨°é¨·é¨µé°é°é¹¹éºµé»¨é¼¯é½é½£é½¡å·å¸åååå¤å±¬å·æ¼æ¾ææææ©æ«»æ¬æ«ºæ®²ççç§ççç©çç±çºçºç¾¼èè­èè £è ¢è ¡è è¥ªè¥¬è¦½è­´ï¿½".split("");
for(j = 0; j != D[196].length; ++j) if(D[196][j].charCodeAt(0) !== 0xFFFD) { e[D[196][j]] = 50176 + j; d[50176 + j] = D[196][j];}
D[197] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è­·è­½è´èºèºèºè½è¾¯éºé®é³éµéºé¸é²é«é¢é¸é¹é²é¿é¡§é¡¥é¥é©é©é©é¨¾é«é­é­é°­é°¥é¶¯é¶´é·é¶¸éºé»¯é¼é½é½¦é½§å¼å»åååå­¿å·å·å½æ¿æ¤æ¬æ­¡çççç¤çç®ç¬ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¦³ç± ç±è¾è½èè¥²è¥¯è§¼è®è´è´èºèºè½¡ééééé½é¾ééé¡«é¥é©é©é«é¬é±é°±é°¾é°»é·é·é¼´é½¬é½ªé¾åå·ææ£æ«æªæ¬æ¬çç«ç±¤ç±£ç±¥çºçºçºè¢è¸è¿è ±è®ééé£é é¤é¨é¡¯é¥é©é©é©é«é«é«é±é±é±é·¥éºé»´åå£©æ¬çç±ç²çç½ç¾è ¶è ¹è¡¢è®è®ï¿½".split("");
for(j = 0; j != D[197].length; ++j) if(D[197][j].charCodeAt(0) !== 0xFFFD) { e[D[197][j]] = 50432 + j; d[50432 + j] = D[197][j];}
D[198] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è®è·è´ééªééééé¡°é©é¬¢é­é±é·¹é·ºé¹¼é¹½é¼é½·é½²å»³æ¬ç£ç±¬ç±®è »è§èº¡éé²é°é¡±é¥é«é¬£é»ç¤çè®é·éé©¢é©¥çºè®èºªéé½é¾é¼é±·é±¸é»·è±é¿é¸ç¨é©ªé¬±é¸é¸ç±²ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[198].length; ++j) if(D[198][j].charCodeAt(0) !== 0xFFFD) { e[D[198][j]] = 50688 + j; d[50688 + j] = D[198][j];}
D[201] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ä¹ä¹åµååä¸ä¸ä¹äºåï¨å±®å½³ä¸åä¸ä¸®äºä»ä»ä»åå¼å¬å¹å å¤å¤¬å°å·¿æ¡æ®³æ¯æ°ç¿ä¸±ä¸¼ä»¨ä»ä»©ä»¡ä»ä»åååå¢å£å¤å¤¯å®å®å°å°»å±´å±³å¸åºåºå¿æææ°ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ°¶æ±æ°¿æ°»ç®ç°çç¦¸èéä¼ä¼ä¼¬ä»µä¼ä»±ä¼ä»·ä¼ä¼ä¼ä¼ä¼¢ä¼ä¼ä»´ä¼å±åååå¦å¢ååååå¡åå®åªå´å¤¼å¦å¥¼å¦å¥»å¥¾å¥·å¥¿å­å°å°¥å±¼å±ºå±»å±¾å·å¹µåºå¼å¼å½´å¿å¿å¿æææ¤æ¡æ¦æ¢ææ ææ¥æ¯æ®æ¾æ¹æ¸æ»æºæ¿æ¼æ³æ°æ±æ±æ±æ±æ±æ±æ±ï¿½".split("");
for(j = 0; j != D[201].length; ++j) if(D[201][j].charCodeAt(0) !== 0xFFFD) { e[D[201][j]] = 51456 + j; d[51456 + j] = D[201][j];}
D[202] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ±ç±çç´çµççªç¿ç©µç½è¸è¼èè½è¿èè¥¾éééééé¢é¤é é£ä½ä¼»ä½¢ä½ä½ä½¤ä¼¾ä½§ä½ä½ä½ä½ä¼­ä¼³ä¼¿ä½¡åå¹ååå¡å­å®åå£å²ååå°å·åªååååå¥åï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å½ååå¨å¤åå®å§å¥ååååååå¤å¥å¦¦å¦å¦ å¦å¦å¦¢å¦å¦å¦§å¦¡å®å®å°¨å°ªå²å²å²å²å²å²å²å²å²å²å· å¸å¸åºåºåºåºåºå¼å¼å½¸å½¶å¿å¿å¿å¿­å¿¨å¿®å¿³å¿¡å¿¤å¿£å¿ºå¿¯å¿·å¿»æå¿´æºæææææææ±æ»æºæ°æææ·æ½æ²æ´æ·æ°æ´æ³æ²æµææï¿½".split("");
for(j = 0; j != D[202].length; ++j) if(D[202][j].charCodeAt(0) !== 0xFFFD) { e[D[202][j]] = 51712 + j; d[51712 + j] = D[202][j];}
D[203] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æææææææææ¯æ°æ°æ±¸æ±§æ±«æ²æ²æ²æ±±æ±¯æ±©æ²æ±­æ²æ²æ²æ±¦æ±³æ±¥æ±»æ²ç´çºç£ç¿ç½ççççºçççççççºç¹çççç¤½è´èèèèèèèèèèèï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èèèè±¸è¿è¾¿éé¡é¥éé§é é°é¨é¯é­ä¸³ä¾ä½¼ä¾ä½½ä¾ä¾ä½¶ä½´ä¾ä¾ä½·ä½ä¾ä½ªä¾ä½¹ä¾ä½¸ä¾ä¾ä¾ä¾ä¾ä¾ä¾ä½«ä½®åå¼å¾åµå²å³åå±å¼ååå¼åååå¿ååååå«åºå¾å¥å¬å´å¦åå¯å¡å åå£å§å¤å·å¹å¯å²å­å«å±å°å¶ååµå»å³å´å¢ï¿½".split("");
for(j = 0; j != D[203].length; ++j) if(D[203][j].charCodeAt(0) !== 0xFFFD) { e[D[203][j]] = 51968 + j; d[51968 + j] = D[203][j];}
D[204] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å¨å½å¤å¥å¦µå¦ºå§å§å¦²å§å§å¦¶å¦¼å§å§å¦±å¦½å§å§å¦´å§å­¢å­¥å®å®å±å±å²®å²¤å² å²µå²¯å²¨å²¬å²å²£å²­å²¢å²ªå²§å²å²¥å²¶å²°å²¦å¸å¸å¸å¼¨å¼¢å¼£å¼¤å½å¾å½¾å½½å¿å¿¥æ­æ¦ææ²æï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ´æææ³æææ¬æ¢æææ®æææææææ½æ­æ´ææ¾æªæ¶ææ®æ³æ¯æ»æ©æ°æ¸æ½æ¨æ»ææ¼ææææ»æææææ½æææ¶æææ¬æææ¶æ»ææææ´æææºæææææ½ææ¸æ¹ææ¬¥æ®æ­¾æ¯æ°æ²æ³¬æ³«æ³®æ³æ²¶æ³æ²­æ³§æ²·æ³æ³æ²ºæ³æ³æ³­æ³²ï¿½".split("");
for(j = 0; j != D[204].length; ++j) if(D[204][j].charCodeAt(0) !== 0xFFFD) { e[D[204][j]] = 52224 + j; d[52224 + j] = D[204][j];}
D[205] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ³æ³æ²´æ²æ²æ²æ³æ³æ´°æ³æ³æ²°æ³¹æ³æ³©æ³ççççççççççççªççççççççççç¤ç¡ç­ç¦ç¢ç ç¬ççç¨ç¿çç¾ççç¯ç³ç±ç°çµç¸ç¼ç¹ç»çºï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç·ç¥ç¤¿ç§ç©¸ç©»ç«»ç±µç³½èµèè®è£è¸èµè­è è èè«èèèèµè§è®è¼èèºè´è¨è¡è©èè¤èè¶è¢è°è¯è­è®è±è¿è¿è¿è¿è¿è¿è¿é²é´é¯é³é°é¹é½é¼éºéä¿ä¿ä¿ä¾²ä¿ä¿ä¿ä¿ä¿ä¿ä¾»ä¾³ä¿ä¿ä¿ä¾ºä¿ä¾¹ä¿¬ååååå½å¼åååååºå¡å­å¥åï¿½".split("");
for(j = 0; j != D[205].length; ++j) if(D[205][j].charCodeAt(0) !== 0xFFFD) { e[D[205][j]] = 52480 + j; d[52480 + j] = D[205][j];}
D[206] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½åèå·å®åå¶ååå å°å¼å¢å¾å²åå°åµååå¤ååååååååå¥ååå£´å¤å¥å§¡å§å§®å¨å§±å§å§ºå§½å§¼å§¶å§¤å§²å§·å§å§©å§³å§µå§ å§¾å§´å§­å®¨å±å³å³å³å³å³å³ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å³å³å³å³å³å³å³å³å³å³å³å³å³å³¸å·¹å¸¡å¸¢å¸£å¸ å¸¤åº°åº¤åº¢åºåº£åº¥å¼å¼®å½å¾æ·æ¹ææ²æææææææææææ¤æææ¦æ®ææææææµæææ«æ¹æææ¸æ¶ææææºææ»æ°æææªæ¿æ¶æ¡æ²æµææ¦æ¢æ³æ«æºææ´æ¹æ®ææææ²ææºï¿½".split("");
for(j = 0; j != D[206].length; ++j) if(D[206][j].charCodeAt(0) !== 0xFFFD) { e[D[206][j]] = 52736 + j; d[52736 + j] = D[206][j];}
D[207] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ææ»æ¸æææ·ææ«æ¤ææµææ³æ·æ¶æ®æ£ææ¹ææ§æ°æ²æ¼ææ­ææ®æ¦ææºææææªææ¬¨æ®æ®æ®¶æ¯æ¯æ¯ æ° æ°¡æ´¨æ´´æ´­æ´æ´¼æ´¿æ´æ´æ³æ´³æ´æ´æ´ºæ´æ´æ´æ´æµï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ´æ´æ´·æ´æ´æµæ´æ´ æ´¬æ´æ´¢æ´æ´ç·çç¾ç±ç°ç¡ç´çµç©çççç¬ç°ç³ç®çç¤ç¨ç«ççªç¦ç£çççççç¹ç¶çµç´ç«ç¿çç¾ççç¸çç¬ç®ç®ççç§çªç¹ççççççç·ç»çºç§ç¨ç ç ç ç ç ç ç ç ç ç ç¥ç¥ç¥ç¥ç¥ç§ç§ç§ç§ç§çªï¿½".split("");
for(j = 0; j != D[207].length; ++j) if(D[207][j].charCodeAt(0) !== 0xFFFD) { e[D[207][j]] = 52992 + j; d[52992 + j] = D[207][j];}
D[208] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç©¾ç«ç¬ç¬ç±ºç±¸ç±¹ç±¿ç²ç²ç´ç´ç´ç½ç¾ç¾ç¾¾èèèèè·èèè èèèèèè£èèèèèèèè¦èè¿è¡èèè¾è¹èè¨èèèºè«èè´è¬è¡è²èµèè»è¶è°èªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¤è èºè³è­è·è´è¼è³è¡è¡è¡§è¡ªè¡©è§è¨è¨èµ²è¿£è¿¡è¿®è¿ é±é½é¿ééé¾éééééééééééååååå¢å°åä¿µä¿´å³å·å¬ä¿¶ä¿·ååå å§åµå¯å±åååååååååå¡åååååå¢åååå¦å¢ååå§å³å¤åå¿ååå«ååå±ï¿½".split("");
for(j = 0; j != D[208].length; ++j) if(D[208][j].charCodeAt(0) !== 0xFFFD) { e[D[208][j]] = 53248 + j; d[53248 + j] = D[208][j];}
D[209] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½åå»å·å¸å ååååååå ²åååºåå½å¼å¸å¶å¿ååå¹åå¤å¥å¨å¨å¨­å¨®å¨å¨å¨å¨å¨å¨³å­¬å®§å®­å®¬å°å±å±å³¬å³¿å³®å³±å³·å´å³¹å¸©å¸¨åº¨åº®åºªåº¬å¼³å¼°å½§æææ§ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ææ¢æææææææææææææææ²æææ¬æææ¶ææ¤æ¹æææ¼æ©ææ´ææææ­ææ³æææ¸ææææææææææææææææ æ æ¡æ ²æ ³æ »æ¡æ¡æ æ ±æ æ µæ «æ ­æ ¯æ¡æ¡æ ´æ æ æ æ ¦æ ¨æ ®æ¡æ ºæ ¥æ  æ¬¬æ¬¯æ¬­æ¬±æ¬´æ­­èæ®æ¯¦æ¯¤ï¿½".split("");
for(j = 0; j != D[209].length; ++j) if(D[209][j].charCodeAt(0) !== 0xFFFD) { e[D[209][j]] = 53504 + j; d[53504 + j] = D[209][j];}
D[210] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¯¨æ¯£æ¯¢æ¯§æ°¥æµºæµ£æµ¤æµ¶æ´æµ¡æ¶æµæµ¢æµ­æµ¯æ¶æ¶æ·¯æµ¿æ¶æµæµ§æµ æ¶æµ°æµ¼æµæ¶æ¶æ´¯æµ¨æ¶æµ¾æ¶æ¶æ´æ¶æµ»æµ½æµµæ¶çççççç¼¹ç¢çççç çççççççç¡çç¸ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç·ç¶ççºç´ç¾ç¶ç³ç»çççç¥çç¼ç§ç£ç©ççççççççç¨ççç´çµç¡ççç°çç»ççç¿ç¶çºçççççççç£ççççç¢ç§ç £ç ¬ç ¢ç µç ¯ç ¨ç ®ç «ç ¡ç ©ç ³ç ªç ±ç¥ç¥ç¥ç¥ç¥ç¥ç¥ç§«ç§¬ç§ ç§®ç§­ç§ªç§ç§ç§çªçªçªçªçªçªçªç«ç¬ï¿½".split("");
for(j = 0; j != D[210].length; ++j) if(D[210][j].charCodeAt(0) !== 0xFFFD) { e[D[210][j]] = 53760 + j; d[53760 + j] = D[210][j];}
D[211] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¬ç¬ç¬ç¬ç¬ç¬ç¬ç¬ç¬ç²ç²ç²ç²ç²ç²ç²ç´ç´ç´ç´ç´ç´ç´ç´ç´ç´ç´ç½ç½¡ç½ç½ ç½ç½ç¾ç¾ç¿ç¿ç¿èè¾è¹èºè²è¹èµèè»èèè¯è¥è³è­èèèè¥èè¿èè¦èè¢ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èèèèªèè¼èèè¤è è·è¯è©èèèèèè¬èè§èèèè¢è¨èèèèèèèèèèè¥èè¡è§èèèèèèè¡è¡è¡­è¡µè¡¶è¡²è¢è¡±è¡¿è¡¯è¢è¡¾è¡´è¡¼è¨è±è±è±»è²¤è²£èµ¶èµ¸è¶µè¶·è¶¶è»è»è¿¾è¿µéè¿¿è¿»éè¿¼è¿¶éé ééé£éé¥ééééé¤éï¿½".split("");
for(j = 0; j != D[211].length; ++j) if(D[211][j].charCodeAt(0) !== 0xFFFD) { e[D[211][j]] = 54016 + j; d[54016 + j] = D[211][j];}
D[212] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½éééé¢éééé¼é££é«é¬¯ä¹¿å°åªå¡åå åååå²åååååå¢åååå©å«å£å¤ååå®å³åååå«å­å¬å®ååå­ååµå¶å¼ååå´åªåå¢å¶åµå°ååï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½åå²å¥åå¹åå­å»ååååå»å å¢å¶åå´å å­å½å å¸å å³åå å®å£å²å¥å¬å¡å å¼å å§å å å±å©å°å å å¥å© å©å©å©§å©å¨¸å¨µå©­å©å©å©¥å©¬å©å©¤å©å©å©å©å©å©å©åªå¨¾å©å¨¹å©å©°å©©å©å©å©å©å©å­²å­®å¯å¯å±å´å´å´å´å´ å´å´¨å´å´¦å´¥å´ï¿½".split("");
for(j = 0; j != D[212].length; ++j) if(D[212][j].charCodeAt(0) !== 0xFFFD) { e[D[212][j]] = 54272 + j; d[54272 + j] = D[212][j];}
D[213] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å´°å´å´£å´å´®å¸¾å¸´åº±åº´åº¹åº²åº³å¼¶å¼¸å¾å¾å¾ææææ¾æ°æºææææ¤ææææ±ææ·ææ¿ææææ²æ¥æææ½æ½ææ­æææ«ææ¯æææ®æ¯æµææ­æ®æ¼æ¤æ»æï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¸æææææ°æææ¥æ¡ææææ¢ææ¡¹æ¢æ¢æ¢æ¡­æ¡®æ¢®æ¢«æ¥æ¡¯æ¢£æ¢¬æ¢©æ¡µæ¡´æ¢²æ¢æ¡·æ¢æ¡¼æ¡«æ¡²æ¢ªæ¢æ¡±æ¡¾æ¢æ¢æ¢æ¢ æ¢æ¢¤æ¡¸æ¡»æ¢æ¢æ¢æ¡½æ¬¶æ¬³æ¬·æ¬¸æ®æ®æ®æ®æ®æ°ªæ·æ¶«æ¶´æ¶³æ¹´æ¶¬æ·©æ·¢æ¶·æ·¶æ·æ¸æ·æ· æ·æ·æ¶¾æ·¥æ·æ·æ·æ·´æ·æ¶½æ·­æ·°æ¶ºæ·æ·æ·æ·ï¿½".split("");
for(j = 0; j != D[213].length; ++j) if(D[213][j].charCodeAt(0) !== 0xFFFD) { e[D[213][j]] = 54528 + j; d[54528 + j] = D[213][j];}
D[214] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ·æ·²æ·æ·½æ·æ·æ·£æ¶»çºçç·çç´çç°çç³çç¼ç¿çççç¸ç¶çççç¾ç»ç¼ç¿çççççççç¿çççç¶ç¸çµççç½çççºç¼ç¿ççç´çç¤ç£çççï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çççççççç¹ç¯ç­ç±ç²ç´ç³ç½ç¥ç»çµç¡ç¡ç¡ç¡ç¡ç¡ç ¦ç¡ç¡ç¥¤ç¥§ç¥©ç¥ªç¥£ç¥«ç¥¡ç¦»ç§ºç§¸ç§¶ç§·çªçªçªç¬µç­ç¬´ç¬¥ç¬°ç¬¢ç¬¤ç¬³ç¬ç¬ªç¬ç¬±ç¬«ç¬­ç¬¯ç¬²ç¬¸ç¬ç¬£ç²ç²ç²ç²£ç´µç´½ç´¸ç´¶ç´ºçµç´¬ç´©çµçµç´¾ç´¿çµç´»ç´¨ç½£ç¾ç¾ç¾ç¾ç¿ç¿ç¿ç¿ç¿ç¿ç¿ç¿èï¿½".split("");
for(j = 0; j != D[214].length; ++j) if(D[214][j].charCodeAt(0) !== 0xFFFD) { e[D[214][j]] = 54784 + j; d[54784 + j] = D[214][j];}
D[215] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èèèèèèè¥èèè­èè¬èè¡èè§èè¢èè¸è³èºè´è²è´èè£è¨èèºè³è¤è´èèèèèµèè©è½èèèèèªèè¾è¥è¯èèè°è¿è¦èè®è¶èèèè¿è·ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èèèèºè°èè¹è³è¸èè´è»è¼èè½è¾è¡è¢è¢è¢¨è¢¢è¢ªè¢è¢è¢¡è¢è¢è¢§è¢è¢è¢è¢¤è¢¬è¢è¢è¢è¦è§è§è§è¨°è¨§è¨¬è¨è°¹è°»è±è±è±½è²¥èµ½èµ»èµ¹è¶¼è·è¶¹è¶¿è·è»è»è»è»è»è» è»¡é¤ééééé¡é¯éªé°é´é²é³éé«é¬é©éééééé¬é´é±é³é¸é¤é¹éªï¿½".split("");
for(j = 0; j != D[215].length; ++j) if(D[215][j].charCodeAt(0) !== 0xFFFD) { e[D[215][j]] = 55040 + j; d[55040 + j] = D[215][j];}
D[216] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é«é·é¨é®éºééé¼é­é«é±é¯é¿éªé é£¥é¦åååååå£ååååå¨ååååååååå¤å§åå¨å¥å­å·åå¢ååååµåå£åå¤å½åå¦å¿åå¡ååå ©å ·ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å å å §å £å ¨åµå¡å ¥å å å ³å ¿å ¶å ®å ¹å ¸å ­å ¬å »å¥¡åª¯åªåªå©ºåª¢åªå©¸åª¦å©¼åª¥åª¬åªåª®å¨·åªåªåªåªåªåª©å©»å©½åªåªåªåªåªå¯ªå¯å¯å¯å¯å¯å¯å°å°°å´·åµåµ«åµåµå´¿å´µåµåµåµå´³å´ºåµå´½å´±åµåµå´¹åµå´¸å´¼å´²å´¶åµåµå¹å¹å½å¾¦å¾¥å¾«ææ¹ææ¢æææï¿½".split("");
for(j = 0; j != D[216].length; ++j) if(D[216][j].charCodeAt(0) !== 0xFFFD) { e[D[216][j]] = 55296 + j; d[55296 + j] = D[216][j];}
D[217] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ²ææææµææ¸æ¼æ¾ææææææ¿æææææ±æ°ææ¥æ¨æ¯æææ³ææ æ¶ææ²æµæ¡ææ¾æææææææææææ°æææ²æ§æªæ¤ææ¨æ¥ææææ®ææï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¼æ¬æ»ææ±æ¹æªæ²ææ¤æ£æ¤æ£æ¤ªæ£¬æ£ªæ£±æ¤æ£æ£·æ£«æ£¤æ£¶æ¤æ¤æ£³æ£¡æ¤æ£æ¤æ¥°æ¢´æ¤æ£¯æ£æ¤æ£¸æ£æ£½æ£¼æ£¨æ¤æ¤æ¤æ£æ£æ£æ£æ£¦æ£´æ£æ¤æ£æ£©æ¤æ¤¥æ£æ¬¹æ¬»æ¬¿æ¬¼æ®æ®æ®æ®æ®½æ¯°æ¯²æ¯³æ°°æ·¼æ¹æ¹æ¸æ¹æºæ¸¼æ¸½æ¹æ¹¢æ¸«æ¸¿æ¹æ¹æ¹³æ¸æ¸³æ¹æ¹æ¹æ¸»æ¸æ¸®æ¹ï¿½".split("");
for(j = 0; j != D[217].length; ++j) if(D[217][j].charCodeAt(0) !== 0xFFFD) { e[D[217][j]] = 55552 + j; d[55552 + j] = D[217][j];}
D[218] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¹¨æ¹æ¹¡æ¸±æ¸¨æ¹ æ¹±æ¹«æ¸¹æ¸¢æ¸°æ¹æ¹¥æ¸§æ¹¸æ¹¤æ¹·æ¹æ¹¹æ¹æ¹¦æ¸µæ¸¶æ¹ç çç¯ç»ç®ç±ç£ç¥ç¢ç²çç¨çºççççççççççç°ç¢ç±ç³ç§ç²ç­ç¦ç£çµçç®ç¬ç°ç«çï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çç¡ç­ç±ç¤ç£çç©ç ç²ç»ç¯ç¯ç¬ç§çç¡ç¦ççç¤ççççççççççççççç¬ç¡ ç¡¤ç¡¥ç¡ç¡­ç¡±ç¡ªç¡®ç¡°ç¡©ç¡¨ç¡ç¡¢ç¥´ç¥³ç¥²ç¥°ç¨ç¨ç¨ç¨ç¨çªç«¦ç«¤ç­ç¬»ç­ç­ç­ç­ç­ç­ç­ç²¢ç²ç²¨ç²¡çµçµ¯çµ£çµçµçµ§çµªçµçµ­çµçµ«çµçµçµ©çµçµçµç¼¾ç¼¿ç½¥ï¿½".split("");
for(j = 0; j != D[218].length; ++j) if(D[218][j].charCodeAt(0) !== 0xFFFD) { e[D[218][j]] = 55808 + j; d[55808 + j] = D[218][j];}
D[219] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç½¦ç¾¢ç¾ ç¾¡ç¿èèèè¾èèèèèèè½èèºè¦è®è·è¸è¹èè¼è½è¿èµè»èè¹è£èè¨èè§è¤è¼è¶èèèè«è£è¿èèè¥èè¿è¡èèèèµèèèèèèèè³ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èèºèèèªèèè¬è®èè»èè¢èèè¾èè¢è¦èè£èèªèè«èè¬è©èè¨èè¡è¡è¡è¢ºè£è¢¹è¢¸è£è¢¾è¢¶è¢¼è¢·è¢½è¢²è¤è£è¦è¦è¦è§è§è§è©è©è¨¹è©è©è©è©è©è©è©è©è©è©è©è©è±è²è²è²ºè²¾è²°è²¹è²µè¶è¶è¶è·è·è·è·è·è·è·è·è·è·è·è·è»¯è»·è»ºï¿½".split("");
for(j = 0; j != D[219].length; ++j) if(D[219][j].charCodeAt(0) !== 0xFFFD) { e[D[219][j]] = 56064 + j; d[56064 + j] = D[219][j];}
D[220] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è»¹è»¦è»®è»¥è»µè»§è»¨è»¶è»«è»±è»¬è»´è»©é­é´é¯éé¬éé¿é¼éé¹é»éééééé¡é¤éé¢é ééé¥ééé¦ééééé¿é½ééé§ééé¤ééééé»ééééé¾éï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ééééééé±é°é¬é°é®é é¢©é£«é³¦é»¹äºäºäº¶å½å¿åå®ååå´ååå°ååºå±ååå¶å¸ååºå¸å»å¼ååååååååååå©å¿ååååå¢ååå²ååååå¡å¡¨å¡¤å¡å¡å¡å¡¯å¡å¡å¡å¡å¡¥å¡å ½å¡£å¡±å£¼å«å«å«åªºåª¸åª±åªµåª°åª¿å«åª»å«ï¿½".split("");
for(j = 0; j != D[220].length; ++j) if(D[220][j].charCodeAt(0) !== 0xFFFD) { e[D[220][j]] = 56320 + j; d[56320 + j] = D[220][j];}
D[221] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½åª·å«å«åª´åª¶å«åª¹åªå¯å¯å¯å°å°³åµ±åµ£åµåµ¥åµ²åµ¬åµåµ¨åµ§åµ¢å·°å¹å¹å¹å¹å¹å»å»å»å»å»å½å¾¯å¾­æ·æææ«ææ¶æ²æ®ææ¯ææ©ææ é¨æ£æ¥æ¤ææ±æ«ææææ æ¤ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ³æææææ¹æ·æ¢æ£ææ¦æ°æ¨ææµæ¯ææææ¥æ§ææ§ææ®æ¡ææ¯æææææææææææ¸æ æ¥¦æ¥æ¤¸æ¥æ¥¢æ¥±æ¤¿æ¥æ¥ªæ¤¹æ¥æ¥æ¥æ¥ºæ¥æ¥æ¤µæ¥¬æ¤³æ¤½æ¥¥æ£°æ¥¸æ¤´æ¥©æ¥æ¥¯æ¥æ¥¶æ¥æ¥æ¥´æ¥æ¤»æ¥æ¤·æ¥æ¥æ¥æ¤²æ¥æ¤¯æ¥»æ¤¼æ­æ­æ­æ­æ­æ­æ®ï¨æ¯»æ¯¼ï¿½".split("");
for(j = 0; j != D[221].length; ++j) if(D[221][j].charCodeAt(0) !== 0xFFFD) { e[D[221][j]] = 56576 + j; d[56576 + j] = D[221][j];}
D[222] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¯¹æ¯·æ¯¸æºæ»æ»æºæ»æºæºæºæº æº±æº¹æ»æ»æº½æ»æºæ»æº·æº°æ»æº¦æ»æº²æº¾æ»æ»æ»æºæºæºæºæº¤æº¡æº¿æº³æ»æ»æºæº®æº£çççç£ç ççç¢ç²ç¸çªç¡ççççç°çççï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çççççççççç¼çç»çºçççççççççççççççççç¡ç¿ç¾ç½çç¹ç·æ¦ç¯ççç·ç¾ç¼ç¹ç¸çç»ç¶ç­çµç½ççµçççç çççç©ç§ççç­ç ç¢ç¢ç¢ç¢ç¢ç¢ç¢ç¢ç¢¡ç¢ç¡¹ç¢ç¢ç¢ç¡»ç¥¼ç¦ç¥½ç¥¹ç¨ç¨ç¨ç¨ç¨ç¨ç¨¢ç¨ï¿½".split("");
for(j = 0; j != D[222].length; ++j) if(D[222][j].charCodeAt(0) !== 0xFFFD) { e[D[222][j]] = 56832 + j; d[56832 + j] = D[222][j];}
D[223] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¨ç¨çª£çª¢çªç««ç­¦ç­¤ç­­ç­´ç­©ç­²ç­¥ç­³ç­±ç­°ç­¡ç­¸ç­¶ç­£ç²²ç²´ç²¯ç¶ç¶ç¶ç¶çµ¿ç¶çµºç¶çµ»ç¶çµ¼ç¶ç¶ç¶çµ½ç¶ç½­ç½«ç½§ç½¨ç½¬ç¾¦ç¾¥ç¾§ç¿ç¿è¡è¤è è·èè©èè¢è²æ¡èè¶è§è¯ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èè¡èèèèèèè±è¿èè¶è¹èèè¥èèèè§è°èè½èèè´è³èèèè·èºè´èºèè¸è²èè©èèè¯èè­èè°è¹èèèè¯èèè»èè¶è³è¨è¾èè«è èè®èèèè·èèºèèµèè¸èèèè¶èèè£è£è£è£è£è£è£è£è£è¦è¦è§è§¥è§¤ï¿½".split("");
for(j = 0; j != D[223].length; ++j) if(D[223][j].charCodeAt(0) !== 0xFFFD) { e[D[223][j]] = 57088 + j; d[57088 + j] = D[223][j];}
D[224] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è§¡è§ è§¢è§è§¦è©¶èªè©¿è©¡è¨¿è©·èªèªè©µèªèªè©´è©ºè°¼è±è±è±¥è±¤è±¦è²è²è²è³èµ¨èµ©è¶è¶è¶è¶è¶è¶è¶è¶è¶è·°è· è·¬è·±è·®è·è·©è·£è·¢è·§è·²è·«è·´è¼è»¿è¼è¼è¼è¼è¼è¼è¼éé¿ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ééé½ééééééééé®é¯ééé°éºé¦é³é¥ééé®ééé­é¬éé é§é¯é¶é¡é°é±éé£éé²ééééé²ééééééééééºé½é¸éµé³é·é¸é²é é é é¢¬é£¶é£¹é¦¯é¦²é¦°é¦µéª­éª«é­é³ªé³­é³§éºé»½å¦ååå¨å³ååªåå¤åå¬å°å¯å£å ï¿½".split("");
for(j = 0; j != D[224].length; ++j) if(D[224][j].charCodeAt(0) !== 0xFFFD) { e[D[224][j]] = 57344 + j; d[57344 + j] = D[224][j];}
D[225] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½åååå©å«å°å¬å§åååå¼ååååååºååå¿å¹å¢å¡¼å¢å¢å¢å¢å¡¿å¡´å¢å¡ºå¢å¢å¢å¡¶å¢å¢å¡»å¢å¢å£¾å¥«å«å«®å«¥å«å«ªå«å«­å««å«³å«¢å« å«å«¬å«å«å«å«¨å«å­·å¯ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å¯£å±£å¶å¶åµ½å¶åµºå¶åµ·å¶å¶å¶åµ¾åµ¼å¶åµ¹åµ¿å¹å¹å¹å»å»å»å»å»å»å»å»å»å½å½å½¯å¾¶æ¬æ¨æææ±æ³æææ²æ¬ææ´ææºææ¥æ»æªæ¡ææ©æ§æ«æ«ææææ´æ¶æ²æ³æ½æµæ¦æ¦æææææææ ææ¿æ¿æ¬æ«ææ¥æ·æ³æ æ¡æ ææææ¢æ¦±æ¦¶æ§ï¿½".split("");
for(j = 0; j != D[225].length; ++j) if(D[225][j].charCodeAt(0) !== 0xFFFD) { e[D[225][j]] = 57600 + j; d[57600 + j] = D[225][j];}
D[226] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¦ æ§æ¦æ¦°æ¦¬æ¦¼æ¦æ¦æ¦æ¦§æ¦æ¦©æ¦¾æ¦¯æ¦¿æ§æ¦½æ¦¤æ§æ¦¹æ§æ¦æ§æ¦³æ¦æ¦ªæ¦¡æ¦æ§æ¦æ¦æ§æ¦µæ¦¥æ§æ­æ­æ­æ®æ®æ® æ¯æ¯æ¯¾æ»æ»µæ»±æ¼æ¼¥æ»¸æ¼·æ»»æ¼®æ¼æ½æ¼æ¼æ¼§æ¼æ¼»æ¼æ»­æ¼ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¼¶æ½³æ»¹æ»®æ¼­æ½æ¼°æ¼¼æ¼µæ»«æ¼æ¼æ½æ¼æ»½æ»¶æ¼¹æ¼æ»¼æ¼ºæ¼æ¼æ¼æ¼æ¼¡çççççççç»ççççççççççççç¢ç³ç±çµç²ç§ç®çççç½ççççççççç¸çç¼ççç®çç¯ç¾çç¢²ç¢ªç¢´ç¢­ç¢¨ç¡¾ç¢«ç¢ç¢¥ç¢ ç¢¬ç¢¢ç¢¤ç¦ç¦ç¦ç¦ç¦ç¦ç¦ï¿½".split("");
for(j = 0; j != D[226].length; ++j) if(D[226][j].charCodeAt(0) !== 0xFFFD) { e[D[226][j]] = 57856 + j; d[57856 + j] = D[226][j];}
D[227] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¦ç¦ç¦ç¦ç¨«ç©ç¨°ç¨¯ç¨¨ç¨¦çª¨çª«çª¬ç«®ç®ç®ç®ç®ç®ç®ç®ç®ç®ç®ç®ç®åç®ç®¤ç®ç²»ç²¿ç²¼ç²ºç¶§ç¶·ç·ç¶£ç¶ªç·ç·ç·ç¶ç·ç·ç·ç·ç·ç¶¯ç¶¹ç¶ç¶¼ç¶ç¶¦ç¶®ç¶©ç¶¡ç·ç½³ç¿¢ç¿£ç¿¥ç¿ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¤èèèèèèèèèèèè¤è¡èèºèèè¬è®è«è¹è´èèèªèè±èèè§è»è¢èèèèè©è¯è¨èèè¶èè èèèèè°èè¡è³è£è¨è«èè®èè¡èèèè¬èè¾èè è²èªè­è¼èèºè±èµèè¦è§è¸è¤èè°èè£·è£§è£±è£²è£ºè£¾è£®è£¼è£¶è£»ï¿½".split("");
for(j = 0; j != D[227].length; ++j) if(D[227][j].charCodeAt(0) !== 0xFFFD) { e[D[227][j]] = 58112 + j; d[58112 + j] = D[227][j];}
D[228] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è£°è£¬è£«è¦è¦¡è¦è¦è§©è§«è§¨èª«èªèªèªèªèªè°½è±¨è±©è³è³è³è¶è¸è¸è·¿è¸è·½è¸è¸è¸è¸è¸è·¾è¸è¸è¼è¼è¼è¼é£éé é¢éééé¤é¡ééºé²é¹é³é¥é¤é¶ééºé ééªéï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¦éé«é¹éé¿é£é®éééé¢é½éé¡ééééé§é¾éé©ééé­éé¡é¿éé½éºé¾éééé»ééé¿ééé é¢­é¢®é¤é¤é¤é¦é¦é§é¦¹é¦»é¦ºé§é¦½é§éª±é«£é«§é¬¾é¬¿é­ é­¡é­é³±é³²é³µéº§å¿åå°å¸ååå¶å¾ååå½åååå±å¯ååååµåååååï¿½".split("");
for(j = 0; j != D[228].length; ++j) if(D[228][j].charCodeAt(0) !== 0xFFFD) { e[D[228][j]] = 58368 + j; d[58368 + j] = D[228][j];}
D[229] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ååå³å½å¬å¾å¸åªåºåå¢«å¢å¢±å¢ å¢£å¢¯å¢¬å¢¥å¢¡å£¿å«¿å«´å«½å«·å«¶å¬å«¸å¬å«¹å¬å¬å¬å¬å±§å¶å¶å¶å¶å¶¢å¶å¶å¶ å¶å¶¡å¶å¶å¹©å¹å¹ å¹ç·³å»å»å»¡å½å¾²æææ¹æ±æ°æ¢æï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æææ¯æ­æææªæ¡ææ¦æ³æ­æ®æ°ææ ææææææææ£ææ¨æ±ææ¶æºæ¹æ»æ²æ³æµæ°æ©æ²æ·æªæ¯æ¨æ¨æ¨æ§¥æ§¸æ¨æ§±æ§¤æ¨ æ§¿æ§¬æ§¢æ¨æ¨æ§¾æ¨§æ§²æ§®æ¨æ§·æ§§æ©æ¨æ§¦æ§»æ¨æ§¼æ§«æ¨æ¨æ¨æ¨¥æ¨æ§¶æ¨¦æ¨æ§´æ¨æ­æ®¥æ®£æ®¢æ®¦æ°æ°æ¯¿æ°æ½æ¼¦æ½¾æ¾æ¿æ¾ï¿½".split("");
for(j = 0; j != D[229].length; ++j) if(D[229][j].charCodeAt(0) !== 0xFFFD) { e[D[229][j]] = 58624 + j; d[58624 + j] = D[229][j];}
D[230] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¾æ¾æ¾æ½¢æ½æ¾æ½æ¾æ½¶æ½¬æ¾æ½æ½²æ½æ½æ½æ¾æ¾æ½æ¼æ½¡æ½«æ½½æ½§æ¾æ½æ¾æ½©æ½¿æ¾æ½£æ½·æ½ªæ½»ç²ç¯çç°ç çç©çµçç¥çç¤ç¡çªçç§ç³ççççççç ççç¡ççï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¢çççççç½ççç¼ç¹ççç¾ç¥ççççç£çç¨çççççççççç£ç¢»ç£ç£ç£ç£ç£ç£ç£ç£ç£ç¦ç¦¡ç¦ ç¦ç¦¢ç¦æ­¶ç¨¹çª²çª´çª³ç®·ç¯ç®¾ç®¬ç¯ç®¯ç®¹ç¯ç®µç³ç³ç³ç³ç··ç·ç·ªç·§ç·ç·¡ç¸ç·ºç·¦ç·¶ç·±ç·°ç·®ç·ç½¶ç¾¬ç¾°ç¾­ç¿­ç¿«ç¿ªç¿¬ç¿¦ç¿¨è¤è§è£èï¿½".split("");
for(j = 0; j != D[230].length; ++j) if(D[230][j].charCodeAt(0) !== 0xFFFD) { e[D[230][j]] = 58880 + j; d[58880 + j] = D[230][j];}
D[231] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èèè¢èèèèèèèèèè¤è»èèè©èèèèèè§èè»è«èºèèè´èªè²èè·è«è³è¼èèªè©èè¾è¨èè®èè½èè¶è±è¦è§è¨è°è¯è¹èè è°èèè¯è¢ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èè£è¤è·è¡è³èèèèè¡èèèè­èªèèèèè¯è¬èºè®èè¥èè»èµè¢è§è©è¡è¤è¤è¤è¤è¤è¤è¤è¤è¤è¤è¤è¤è¦¢è¦¤è¦£è§­è§°è§¬è«è«èª¸è«è«è«è«èª»è«èª¾è«è«è«è«èªºèª½è«è°¾è±è²è³¥è³è³è³¨è³è³è³§è¶ è¶è¶¡è¶è¸ è¸£è¸¥è¸¤è¸®è¸è¸è¸è¸è¸è¸¦è¸§ï¿½".split("");
for(j = 0; j != D[231].length; ++j) if(D[231][j].charCodeAt(0) !== 0xFFFD) { e[D[231][j]] = 59136 + j; d[59136 + j] = D[231][j];}
D[232] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¸è¸è¸è¸è¸è¸è¸è¼¬è¼¤è¼è¼è¼ è¼£è¼è¼é³é°é¯é§é«é¯é«é©éªé²é¦é®ééééééééééééé¶éé±ééé©éééé¯éé¨éééé¦éééé éé§ééï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½éµé¡éé´é¼é¬é«é®é°é¤é¢ééééééééééé é é ¦é ©é ¨é  é é §é¢²é¤é£ºé¤é¤é¤é¤é¤é§é§é§é§é§é§é§é§é§é§é§é§éª³é«¬é««é«³é«²é«±é­é­é­§é­´é­±é­¦é­¶é­µé­°é­¨é­¤é­¬é³¼é³ºé³½é³¿é³·é´é´é³¹é³»é´é´é´éºé»é¼é¼ååååååå´å¡å°å å®ï¿½".split("");
for(j = 0; j != D[232].length; ++j) if(D[232][j].charCodeAt(0) !== 0xFFFD) { e[D[232][j]] = 59392 + j; d[59392 + j] = D[232][j];}
D[233] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å³å¦å£å­å²åå·ååå£å¢½å£å¢¿å¢ºå£å¢¼å£å¬å¬å¬å¬¡å¬å¬å¬å¬å¬¨å¬å¬ å¬å¯¯å¶¬å¶±å¶©å¶§å¶µå¶°å¶®å¶ªå¶¨å¶²å¶­å¶¯å¶´å¹§å¹¨å¹¦å¹¯å»©å»§å»¦å»¨å»¥å½å¾¼ææ¨æææ´ææææºï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¿æ¸æææææææ½ææææ³ææ³æ¿æ¼æ¢ææ¾æææææ½æ»æºææ£æ¨´æ©¦æ©æ©§æ¨²æ©¨æ¨¾æ©æ©­æ©¶æ©æ©æ¨¨æ©æ¨»æ¨¿æ©æ©ªæ©¤æ©æ©æ©æ©¯æ©©æ© æ¨¼æ©æ©æ©æ©æ©æ©æ­æ­æ­æ®§æ®ªæ®«æ¯æ¯æ°æ°æ°æ¾­æ¿æ¾£æ¿æ¾¼æ¿æ¿æ½æ¿æ¾½æ¾æ¿æ¾¨çæ¾¥æ¾®æ¾ºæ¾¬æ¾ªæ¿æ¾¿æ¾¸ï¿½".split("");
for(j = 0; j != D[233].length; ++j) if(D[233][j].charCodeAt(0) !== 0xFFFD) { e[D[233][j]] = 59648 + j; d[59648 + j] = D[233][j];}
D[234] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¾¢æ¿æ¾«æ¿æ¾¯æ¾²æ¾°ççç¿ç¸ççççççççç½çç¼çççççç©ç¦ç§ç¬ç¥ç«çªç¿çç çççç¡ççç¯ç­ç±ç½ç³ç¼çµç²ç°ç»ç¦ççç¡ççç¢ç£ççï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çç£ç£©ç£¥ç£ªç£ç££ç£ç£¡ç£¢ç£­ç£ç£ ç¦¤ç©ç©ç©çª¶çª¸çªµçª±çª·ç¯ç¯£ç¯§ç¯ç¯ç¯¥ç¯ç¯¨ç¯¹ç¯ç¯ªç¯¢ç¯ç¯«ç¯ç¯ç³ç³ç³ç³ç³ç¸ç¸¡ç¸ç¸ç¸ç¸ ç¸ç¸ç¸ç¸ç¸ç¸¢ç¸ç¸ç¸ç¸ç¸ç¸¥ç¸¤ç½ç½»ç½¼ç½ºç¾±ç¿¯èªè©è¬è±è¦è®è¹èµè«è°è¬è´è²è·è§è²èèèèèè«èèè¡èï¿½".split("");
for(j = 0; j != D[234].length; ++j) if(D[234][j].charCodeAt(0) !== 0xFFFD) { e[D[234][j]] = 59904 + j; d[59904 + j] = D[234][j];}
D[235] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èèè¤èè¢èèèè£è¾èè±èè®èµèè§è èè¦èèè¥è¬è£è¥è¤èèèèèèèèèè¹èè£èèèèèèèèèè¤è¤¦è¤°è¤­è¤®è¤§è¤±è¤¢è¤©è¤£è¤¯è¤¬è¤è§±è« ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è«¢è«²è«´è«µè«è¬è«¤è«è«°è«è«è«¡è«¨è«¿è«¯è«»è²è²è²è³µè³®è³±è³°è³³èµ¬èµ®è¶¥è¶§è¸³è¸¾è¸¸è¹è¹è¸¶è¸¼è¸½è¹è¸°è¸¿èº½è¼¶è¼®è¼µè¼²è¼¹è¼·è¼´é¶é¹é»ééºé³éµé¶éééééé§ééééééºé¸é¼éé£éééé­éééééºé¥éé¹é·é´éé¤é¿é©é¹éµéªééï¿½".split("");
for(j = 0; j != D[235].length; ++j) if(D[235][j].charCodeAt(0) !== 0xFFFD) { e[D[235][j]] = 60160 + j; d[60160 + j] = D[235][j];}
D[236] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½éé¾ééé»éé¼éé¾é¹éºé¶é¿éµé½é©éééééééé°é¸é µé ¯é ²é¤¤é¤é¤§é¤©é¦é§®é§¬é§¥é§¤é§°é§£é§ªé§©é§§éª¹éª¿éª´éª»é«¶é«ºé«¹é«·é¬³é®é®é®é­¼é­¾é­»é®é®é®é®é­ºé®ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é­½é®é´¥é´é´ é´é´é´©é´é´é´¢é´é´é´éºéºéºéº®éº­é»é»é»ºé¼é¼½å¦å¥å¢å¤å å©å´ååååååå¾åå¿åå£å£å£å£å¬­å¬¥å¬²å¬£å¬¬å¬§å¬¦å¬¯å¬®å­»å¯±å¯²å¶·å¹¬å¹ªå¾¾å¾»ææµæ¼æ§æ æ¥æ¤æ¨ææ¯æ©æ£æ«æ¤æ¨æææ¶æææªæªæªæª¥æªæªæªæª¡æªæªæªæªï¿½".split("");
for(j = 0; j != D[236].length; ++j) if(D[236][j].charCodeAt(0) !== 0xFFFD) { e[D[236][j]] = 60416 + j; d[60416 + j] = D[236][j];}
D[237] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æªæªæª¨æª¤æªæ©¿æª¦æªæªæªæªæ­æ®­æ°æ¿æ¾©æ¿´æ¿æ¿£æ¿æ¿­æ¿§æ¿¦æ¿æ¿²æ¿æ¿¢æ¿¨ç¡ç±ç¨ç²ç¤ç°ç¢ç³ç®ç¯çç²ç«ççªç­ç±ç¥ç¯çççççççççç¤ç©çµç«ç²ç·ç¶ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç´ç±ç¨ç°ç£³ç£½ç¤ç£»ç£¼ç£²ç¤ç£¹ç£¾ç¤ç¦«ç¦¨ç©ç©ç©ç©ç©ç©çª¾ç«ç«ç°ç°ç¯²ç°ç¯¿ç¯»ç°ç¯´ç°ç¯³ç°ç°ç°ç°ç¯¸ç¯½ç°ç¯°ç¯±ç°ç°ç³¨ç¸­ç¸¼ç¹ç¸³é¡ç¸¸ç¸ªç¹ç¹ç¹ç¸©ç¹ç¸°ç¸»ç¸¶ç¹ç¸ºç½ç½¿ç½¾ç½½ç¿´ç¿²è¬è»èèèèèè¼è©èèèèèèè§èè èè£è»è¤èèï¿½".split("");
for(j = 0; j != D[237].length; ++j) if(D[237][j].charCodeAt(0) !== 0xFFFD) { e[D[237][j]] = 60672 + j; d[60672 + j] = D[237][j];}
D[238] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è·è¼èè¡èºè¸èèèèèèèèè¢èèèè¹è¶èèèè¨è¾èªè­èè°è¬è¹èµè¼è®èèèèè·è¯èèè´è¶è¿è¸è½èè²è¤µè¤³è¤¼è¤¾è¥è¥è¤·è¥è¦­è¦¯è¦®è§²è§³è¬ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¬è¬è¬è¬è¬è¬¢è¬è¬è¬è¬è¬è¬è¬è¬è¬è¬è±è±°è±²è±±è±¯è²è²è³¹èµ¯è¹è¹è¹è¹è¹è¹è½è½éé¾é¸éé¢éééé¡éé é¡éé¯é¤ééé¼ééé¶éééé é­éééªé¹ééééé±é·é»é¡éé£é§ééééééééé·é®é°é¬é éééééé¡éï¿½".split("");
for(j = 0; j != D[238].length; ++j) if(D[238][j].charCodeAt(0) !== 0xFFFD) { e[D[238][j]] = 60928 + j; d[60928 + j] = D[238][j];}
D[239] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ééééé±é¡é¡é¡é¡é¡é¡é¤¥é¤«é¤¬é¤ªé¤³é¤²é¤¯é¤­é¤±é¤°é¦é¦£é¦¡é¨é§ºé§´é§·é§¹é§¸é§¶é§»é§½é§¾é§¼é¨éª¾é«¾é«½é¬é«¼é­é®é®¨é®é®é®¦é®¡é®¥é®¤é®é®¢é® é®¯é´³éµéµ§é´¶é´®é´¯é´±é´¸é´°ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½éµéµéµé´¾é´·éµé´½ç¿µé´­éºéºéºéº°é»é»é»»é»¿é¼¤é¼£é¼¢é½é¾ å±å­å®ååååååå¥°å¬¼å±©å±ªå·å¹­å¹®æææ­æ®æ±æªæ°æ«ææ©æ¿ææ½æ¸æææ¼ææææææ«æª¹æª½æ«¡æ«æªºæª¶æª·æ«æª´æª­æ­æ¯æ°çççççççæ¿¿çæ¿»ç¦æ¿¼æ¿·ççç¿ç¹çç½ç¶ï¿½".split("");
for(j = 0; j != D[239].length; ++j) if(D[239][j].charCodeAt(0) !== 0xFFFD) { e[D[239][j]] = 61184 + j; d[61184 + j] = D[239][j];}
D[240] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¸ççµçç¾ç¶ç»ççççç¤çççççç¦ç½ç¬ççºç£¿ç¤ç¤ç¤ç¤ç¤ç¤ç¤ç¦­ç¦¬ç©ç°ç°©ç°ç° ç°ç°­ç°ç°¦ç°¨ç°¢ç°¥ç°°ç¹ç¹ç¹ç¹£ç¹ç¹¢ç¹ç¹ç¹ ç¹ç¹ç¾µç¾³ç¿·ç¿¸èµèèï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èèèè´èèèèè³èµè½èèè¿èèèèè±è¶èè¤è¸è·è¾è©è§è¦è¢èè«èªè¥èè³è¤èèèè­èè£è¤èèè è´è¨èè¥è¥è¥è¥è¥è¥è¥è¥è¬ªè¬§è¬£è¬³è¬°è¬µè­è¬¯è¬¼è¬¾è¬±è¬¥è¬·è¬¦è¬¶è¬®è¬¤è¬»è¬½è¬ºè±è±µè²è²è²è³¾è´è´è´è¹è¹¢è¹ è¹è¹è¹è¹¥è¹§ï¿½".split("");
for(j = 0; j != D[240].length; ++j) if(D[240][j].charCodeAt(0) !== 0xFFFD) { e[D[240][j]] = 61440 + j; d[61440 + j] = D[240][j];}
D[241] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¹è¹è¹¡è¹è¹©è¹è½è½è½è½é¨éºé»é¾é¨é¥é§é¯éªéµééé·éééé§ééªéé¦éééééé±éé²é¤é¨é´é£é¥éééé³ééå·éééé£é¢é¥é¬é®é¨é«é¤éªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¢é¥éééééºé¡é¡é¡é¢¸é¥é¤¼é¤ºé¨é¨é¨é¨é¨é¨é¨é¨é¨é¨é«é«é¬é¬é¬é¬©é¬µé­é­é­é¯é¯é¯é®¿é¯é®µé®¸é¯é®¶é¯é®¹é®½éµéµéµéµéµéµéµéµéµéµéµéµéµéµéµéºéºé»é¼é¼é¼é¼¥é¼«é¼ªé¼©é¼¨é½é½å´åµåå·å´å«å­å¦å§åªå¬å£å£å£å¤å¬½å¬¾å¬¿å·å¹°ï¿½".split("");
for(j = 0; j != D[241].length; ++j) if(D[241][j].charCodeAt(0) !== 0xFFFD) { e[D[241][j]] = 61696 + j; d[61696 + j] = D[241][j];}
D[242] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å¾¿æ»æææææææææææ«§æ« æ«æ«æ«æ«æ«æ«æ«æ««æ«æ«æ«æ­ æ®°æ°çç§ç çç«ç¡ç¢ç£ç©çç¤ççªçççççç¥ç¦ç¤ç£ç¡ççç·ççç çççç±ç¤ç¤ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¤¡ç¤ç¤ç¤ç¦°ç©§ç©¨ç°³ç°¼ç°¹ç°¬ç°»ç³¬ç³ªç¹¶ç¹µç¹¸ç¹°ç¹·ç¹¯ç¹ºç¹²ç¹´ç¹¨ç½ç½ç¾ç¾ç¾·ç¿½ç¿¾è¸èèè¤è¡è£è«è±è­èè¡è¨èèè¬è²è¸èèè£èèè°è¦è¯èè¢è èºè è¶è·è è è è è¼è è¿è è è¥¢è¥è¥è¥è¥¡è¥è¥è¥è¥è¦è¦·è¦¶è§¶è­è­è­è­è­è­è­è­è­ï¿½".split("");
for(j = 0; j != D[242].length; ++j) if(D[242][j].charCodeAt(0) !== 0xFFFD) { e[D[242][j]] = 61952 + j; d[61952 + j] = D[242][j];}
D[243] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è­è­è­è­è±è±·è±¶è²è´è´è´è¶¬è¶ªè¶­è¶«è¹­è¹¸è¹³è¹ªè¹¯è¹»è»è½è½è½è½è½è¾´éé¿é°é­ééééééé¹é¬ééé©é¦ééé®é£éééééé§é½ééé¡é©é«é¬é¨é¦ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é³é·é¶éééé¡é¡é¡é¡é¢¿é¢½é¢»é¢¾é¥é¥é¥é¦¦é¦§é¨é¨é¨¥é¨é¨¤é¨é¨¢é¨ é¨§é¨£é¨é¨é¨é«é¬é¬é¬é¬é¬·é¯ªé¯«é¯ é¯é¯¤é¯¦é¯¢é¯°é¯é¯é¯¬é¯é¯é¯¥é¯é¯¡é¯éµ·é¶é¶é¶é¶éµ±é¶éµ¸é¶é¶é¶éµ½éµ«éµ´éµµéµ°éµ©é¶éµ³éµ»é¶éµ¯éµ¹éµ¿é¶éµ¨éºéºé»é»¼é¼­é½é½é½é½é½é½å·å²ï¿½".split("");
for(j = 0; j != D[243].length; ++j) if(D[243][j].charCodeAt(0) !== 0xFFFD) { e[D[243][j]] = 62208 + j; d[62208 + j] = D[243][j];}
D[244] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½åµå³å££å­å·å·å»®å»¯å¿å¿æ¹ææææææ¨æ£æ¤æ«³æ«°æ«ªæ«¨æ«¹æ«±æ«®æ«¯ç¼çµç¯ç·ç´ç±çç¸ç¿çºç¹çç»ç³çççç¨ç½ç¼çºç«çªç¾ç­ççççç²ç¤¥ç¤£ç¤§ç¤¨ç¤¤ç¤©ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¦²ç©®ç©¬ç©­ç«·ç±ç±ç±ç±ç±ç³®ç¹»ç¹¾çºçºç¾ºç¿¿è¹èèèè¨è©è¢è¿èè¾èèè¶èèèèè½è è è è è è è¥£è¥¦è¦¹è§·è­ è­ªè­è­¨è­£è­¥è­§è­­è¶®èºèºèºè½è½è½è½è½è½éééé·éµé²é³ééé»é ééé¾ééé¨éééµéé·éééééºéé¸éé¿ï¿½".split("");
for(j = 0; j != D[244].length; ++j) if(D[244][j].charCodeAt(0) !== 0xFFFD) { e[D[244][j]] = 62464 + j; d[62464 + j] = D[244][j];}
D[245] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¼éé¶éééé éé®é¯é¹é»é½é¾é¡ é¡¢é¡£é¡é£é£é¥é¥é¥é¥é¥é¥é¨²é¨´é¨±é¨¬é¨ªé¨¶é¨©é¨®é¨¸é¨­é«é«é«é¬é¬é¬é°é°é¯·é°é°é¯¸é±é°é°é°é°é°é°é¶é¶é¶¤é¶é¶é¶é¶é¶ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¶ é¶é¶é¶ªé¶é¶¡é¶é¶¢é¶¨é¶é¶£é¶¿é¶©é¶é¶¦é¶§éºéºéºé»¥é»¤é»§é»¦é¼°é¼®é½é½ é½é½é½é¾åºå¹åååå½å¾å­å­å·å·å»±æ½ææ¬æ«¼æ¬æ«¸æ¬ççççççççççç¾ççªçç¤­ç¤±ç¤¯ç±ç±ç³²çºçºçºçºçºçºç½ç¾»è°èèèªè¦èè£èèè§è®è¡è è©èè¥ï¿½".split("");
for(j = 0; j != D[245].length; ++j) if(D[245][j].charCodeAt(0) !== 0xFFFD) { e[D[245][j]] = 62720 + j; d[62720 + j] = D[245][j];}
D[246] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è ©è è è  è ¤è è «è¡è¥­è¥©è¥®è¥«è§ºè­¹è­¸è­è­ºè­»è´è´è¶¯èºèºè½è½è½éééé¹é¿é»é¶é©é½é¼é°é¹éªé·é¬éé±é¥é¤é£éµéºé¿é¡é¡¤é£é£é£é¥é¥é¨¹é¨½é©é©é©é©é¨ºï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¨¿é«é¬é¬é¬é¬é¬ºé­é°«é°é°é°¬é°£é°¨é°©é°¤é°¡é¶·é¶¶é¶¼é·é·é·é·é¶¾é·é·é¶»é¶µé·é¶¹é¶ºé¶¬é·é¶±é¶­é·é¶³é·é¶²é¹ºéºé»«é»®é»­é¼é¼é¼é¼±é½é½¥é½¤é¾äº¹åååå¥±å­å­å·å·å»²æ¡æ æ¦æ¢æ¬æ¬æ¬æ°ççççççç©ç¿ççççç­ç­ç¤µç¦´ç©°ç©±ç±ç±ç±ç±ç±ï¿½".split("");
for(j = 0; j != D[246].length; ++j) if(D[246][j].charCodeAt(0) !== 0xFFFD) { e[D[246][j]] = 62976 + j; d[62976 + j] = D[246][j];}
D[247] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç³´ç³±çºç½ç¾èè«è´èµè³è¬è²è¶è ¬è ¨è ¦è ªè ¥è¥±è¦¿è¦¾è§»è­¾è®è®è®è®è­¿è´èºèºèºèºèºèºèºè½ è½¢éééééééééééé¿é£é¡ªé¡©é£é¥é¥é©é©é©é©é©é©é©ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é©é©é©é«é¬é¬«é¬»é­é­é±é±é°¿é±é°¹é°³é±é°¼é°·é°´é°²é°½é°¶é·é·é·é·é·é·é·é·é·é·©é·é·é·é·µé·é·éº¶é»°é¼µé¼³é¼²é½é½«é¾é¾¢å½åå£¨å£§å¥²å­å·è ¯å½ææææ©æ¥ææ«æ¬æ¬æ¬æ¯ççç¢çççç°çç±§ç±¦çºè¬èºèè¹è¼è±è»è¾è °è ²è ®è ³è¥¶è¥´è¥³è§¾ï¿½".split("");
for(j = 0; j != D[247].length; ++j) if(D[247][j].charCodeAt(0) !== 0xFFFD) { e[D[247][j]] = 63232 + j; d[63232 + j] = D[247][j];}
D[248] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è®è®è®è®è±è´èºè½¤è½£é¼é¢ééééééé é©é©é¬é¬é¬ é±é±é±é±é±é±é±é±é±é±é·»é··é·¯é·£é·«é·¸é·¤é·¶é·¡é·®é·¦é·²é·°é·¢é·¬é·´é·³é·¨é·­é»é»é»²é»³é¼é¼é¼¸é¼·é¼¶é½é½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é½±é½°é½®é½¯ååå­å±­æ­æ­æ®æ¬çç¡çç ç£çç¥çç¤¸ç¦·ç¦¶ç±ªçºç¾è­èè ¸è ·è µè¡è®è®èºèºèº èºé¾é½éé«é¨é©é¥ééééé¥é©é«é­é±£é±§é±¦é±¢é±é± é¸é·¾é¸é¸é¸é¸é¸é¸é¸é·¿é·½é¸éº é¼é½é½´é½µé½¶åæ®æ¸æ¬æ¬æ¬æ¬ç¢ç¦çªççç¤¹ç±©ç±«ç³¶çºï¿½".split("");
for(j = 0; j != D[248].length; ++j) if(D[248][j].charCodeAt(0) !== 0xFFFD) { e[D[248][j]] = 63488 + j; d[63488 + j] = D[248][j];}
D[249] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çºçºçºè è¡èèèè¥¹è¥ºè¥¼è¥»è§¿è®è®èº¥èº¤èº£é®é­é¯é±é³éé¡²é¥é±¨é±®é±­é¸é¸é¸é¸é¸é¸éº¡é»µé¼é½é½¸é½»é½ºé½¹åç¦ç±¯è ¼è¶²èº¦éé´é¸é¶éµé© é±´é±³é±±é±µé¸é¸é»¶é¼ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¾¤ç¨ç¥ç³·èªè ¾è ½è ¿è®è²èº©è»éé¡³é¡´é£é¥¡é¦«é©¤é©¦é©§é¬¤é¸é¸é½ææ¬ç§èèº¨éééé©©é©¨é¬®é¸ç©èè®éé±¹éº·çµé©«é±ºé¸ç©çªéº¤é½¾é½é¾ç¢é¹è£å¢»æç²§å«ºââ¦ââ â¬â£ââ©âââ¤âââªâ¡ââ§âââ¥âââ«â¢ââ¨ââââ­â®â°â¯âï¿½".split("");
for(j = 0; j != D[249].length; ++j) if(D[249][j].charCodeAt(0) !== 0xFFFD) { e[D[249][j]] = 63744 + j; d[63744 + j] = D[249][j];}
return {"enc": e, "dec": d }; })();
cptable[1250] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~â¬ï¿½âï¿½ââ¦â â¡ï¿½â°Å â¹ÅÅ¤Å½Å¹ï¿½âââââ¢ââï¿½â¢Å¡âºÅÅ¥Å¾ÅºÂ ËËÅÂ¤ÄÂ¦Â§Â¨Â©ÅÂ«Â¬Â­Â®Å»Â°Â±ËÅÂ´ÂµÂ¶Â·Â¸ÄÅÂ»Ä½ËÄ¾Å¼ÅÃÃÄÃÄ¹ÄÃÄÃÄÃÄÃÃÄÄÅÅÃÃÅÃÃÅÅ®ÃÅ°ÃÃÅ¢ÃÅÃ¡Ã¢ÄÃ¤ÄºÄÃ§ÄÃ©ÄÃ«ÄÃ­Ã®ÄÄÅÅÃ³Ã´ÅÃ¶Ã·ÅÅ¯ÃºÅ±Ã¼Ã½Å£Ë", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[1251] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÐÐâÑââ¦â â¡â¬â°Ðâ¹ÐÐÐÐÑâââââ¢ââï¿½â¢ÑâºÑÑÑÑÂ ÐÑÐÂ¤ÒÂ¦Â§ÐÂ©ÐÂ«Â¬Â­Â®ÐÂ°Â±ÐÑÒÂµÂ¶Â·ÑâÑÂ»ÑÐÑÑÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐ Ð¡Ð¢Ð£Ð¤Ð¥Ð¦Ð§Ð¨Ð©ÐªÐ«Ð¬Ð­Ð®Ð¯Ð°Ð±Ð²Ð³Ð´ÐµÐ¶Ð·Ð¸Ð¹ÐºÐ»Ð¼Ð½Ð¾Ð¿ÑÑÑÑÑÑÑÑÑÑÑÑÑÑÑÑ", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[1252] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~â¬ï¿½âÆââ¦â â¡Ëâ°Å â¹Åï¿½Å½ï¿½ï¿½âââââ¢ââËâ¢Å¡âºÅï¿½Å¾Å¸Â Â¡Â¢Â£Â¤Â¥Â¦Â§Â¨Â©ÂªÂ«Â¬Â­Â®Â¯Â°Â±Â²Â³Â´ÂµÂ¶Â·Â¸Â¹ÂºÂ»Â¼Â½Â¾Â¿ÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃ Ã¡Ã¢Ã£Ã¤Ã¥Ã¦Ã§Ã¨Ã©ÃªÃ«Ã¬Ã­Ã®Ã¯Ã°Ã±Ã²Ã³Ã´ÃµÃ¶Ã·Ã¸Ã¹ÃºÃ»Ã¼Ã½Ã¾Ã¿", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[1253] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~â¬ï¿½âÆââ¦â â¡ï¿½â°ï¿½â¹ï¿½ï¿½ï¿½ï¿½ï¿½âââââ¢ââï¿½â¢ï¿½âºï¿½ï¿½ï¿½ï¿½Â ÎÎÂ£Â¤Â¥Â¦Â§Â¨Â©ï¿½Â«Â¬Â­Â®âÂ°Â±Â²Â³ÎÂµÂ¶Â·ÎÎÎÂ»ÎÂ½ÎÎÎÎÎÎÎÎÎÎÎÎÎÎÎÎÎÎÎ Î¡ï¿½Î£Î¤Î¥Î¦Î§Î¨Î©ÎªÎ«Î¬Î­Î®Î¯Î°Î±Î²Î³Î´ÎµÎ¶Î·Î¸Î¹ÎºÎ»Î¼Î½Î¾Î¿ÏÏÏÏÏÏÏÏÏÏÏÏÏÏÏï¿½", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[1254] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~â¬ï¿½âÆââ¦â â¡Ëâ°Å â¹Åï¿½ï¿½ï¿½ï¿½âââââ¢ââËâ¢Å¡âºÅï¿½ï¿½Å¸Â Â¡Â¢Â£Â¤Â¥Â¦Â§Â¨Â©ÂªÂ«Â¬Â­Â®Â¯Â°Â±Â²Â³Â´ÂµÂ¶Â·Â¸Â¹ÂºÂ»Â¼Â½Â¾Â¿ÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÃÄÃÃÃÃÃÃÃÃÃÃÃÃÄ°ÅÃÃ Ã¡Ã¢Ã£Ã¤Ã¥Ã¦Ã§Ã¨Ã©ÃªÃ«Ã¬Ã­Ã®Ã¯ÄÃ±Ã²Ã³Ã´ÃµÃ¶Ã·Ã¸Ã¹ÃºÃ»Ã¼Ä±ÅÃ¿", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[1255] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~â¬ï¿½âÆââ¦â â¡Ëâ°ï¿½â¹ï¿½ï¿½ï¿½ï¿½ï¿½âââââ¢ââËâ¢ï¿½âºï¿½ï¿½ï¿½ï¿½Â Â¡Â¢Â£âªÂ¥Â¦Â§Â¨Â©ÃÂ«Â¬Â­Â®Â¯Â°Â±Â²Â³Â´ÂµÂ¶Â·Â¸Â¹Ã·Â»Â¼Â½Â¾Â¿Ö°Ö±Ö²Ö³Ö´ÖµÖ¶Ö·Ö¸Ö¹ï¿½Ö»Ö¼Ö½Ö¾Ö¿×××××°×±×²×³×´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½××××××××××××××××× ×¡×¢×£×¤×¥×¦×§×¨×©×ªï¿½ï¿½ââï¿½", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[1256] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~â¬Ù¾âÆââ¦â â¡Ëâ°Ù¹â¹ÅÚÚÚÚ¯âââââ¢ââÚ©â¢ÚâºÅââÚºÂ ØÂ¢Â£Â¤Â¥Â¦Â§Â¨Â©Ú¾Â«Â¬Â­Â®Â¯Â°Â±Â²Â³Â´ÂµÂ¶Â·Â¸Â¹ØÂ»Â¼Â½Â¾ØÛØ¡Ø¢Ø£Ø¤Ø¥Ø¦Ø§Ø¨Ø©ØªØ«Ø¬Ø­Ø®Ø¯Ø°Ø±Ø²Ø³Ø´ØµØ¶ÃØ·Ø¸Ø¹ØºÙÙÙÙÃ ÙÃ¢ÙÙÙÙÃ§Ã¨Ã©ÃªÃ«ÙÙÃ®Ã¯ÙÙÙÙÃ´ÙÙÃ·ÙÃ¹ÙÃ»Ã¼ââÛ", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[1257] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~â¬ï¿½âï¿½ââ¦â â¡ï¿½â°ï¿½â¹ï¿½Â¨ËÂ¸ï¿½âââââ¢ââï¿½â¢ï¿½âºï¿½Â¯Ëï¿½Â ï¿½Â¢Â£Â¤ï¿½Â¦Â§ÃÂ©ÅÂ«Â¬Â­Â®ÃÂ°Â±Â²Â³Â´ÂµÂ¶Â·Ã¸Â¹ÅÂ»Â¼Â½Â¾Ã¦ÄÄ®ÄÄÃÃÄÄÄÃÅ¹ÄÄ¢Ä¶ÄªÄ»Å ÅÅÃÅÃÃÃÅ²ÅÅÅªÃÅ»Å½ÃÄÄ¯ÄÄÃ¤Ã¥ÄÄÄÃ©ÅºÄÄ£Ä·Ä«Ä¼Å¡ÅÅÃ³ÅÃµÃ¶Ã·Å³ÅÅÅ«Ã¼Å¼Å¾Ë", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[1258] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~â¬ï¿½âÆââ¦â â¡Ëâ°ï¿½â¹Åï¿½ï¿½ï¿½ï¿½âââââ¢ââËâ¢ï¿½âºÅï¿½ï¿½Å¸Â Â¡Â¢Â£Â¤Â¥Â¦Â§Â¨Â©ÂªÂ«Â¬Â­Â®Â¯Â°Â±Â²Â³Â´ÂµÂ¶Â·Â¸Â¹ÂºÂ»Â¼Â½Â¾Â¿ÃÃÃÄÃÃÃÃÃÃÃÃÌÃÃÃÄÃÌÃÃÆ ÃÃÃÃÃÃÃÆ¯ÌÃÃ Ã¡Ã¢ÄÃ¤Ã¥Ã¦Ã§Ã¨Ã©ÃªÃ«ÌÃ­Ã®Ã¯ÄÃ±Ì£Ã³Ã´Æ¡Ã¶Ã·Ã¸Ã¹ÃºÃ»Ã¼Æ°â«Ã¿", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[10000] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÃÃÃÃÃÃÃÃ¡Ã Ã¢Ã¤Ã£Ã¥Ã§Ã©Ã¨ÃªÃ«Ã­Ã¬Ã®Ã¯Ã±Ã³Ã²Ã´Ã¶ÃµÃºÃ¹Ã»Ã¼â Â°Â¢Â£Â§â¢Â¶ÃÂ®Â©â¢Â´Â¨â ÃÃâÂ±â¤â¥Â¥ÂµâââÏâ«ÂªÂºâ¦Ã¦Ã¸Â¿Â¡Â¬âÆââÂ«Â»â¦Â ÃÃÃÅÅââââââÃ·âÃ¿Å¸âÂ¤â¹âºï¬ï¬â¡Â·âââ°ÃÃÃÃÃÃÃÃÃÃÃï¿½ÃÃÃÃÄ±ËËÂ¯ËËËÂ¸ËËË", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[10006] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÃÂ¹Â²ÃÂ³ÃÃÎÃ Ã¢Ã¤ÎÂ¨Ã§Ã©Ã¨ÃªÃ«Â£â¢Ã®Ã¯â¢Â½â°Ã´Ã¶Â¦Â­Ã¹Ã»Ã¼â ÎÎÎÎÎÎ ÃÂ®Â©Î£ÎªÂ§â Â°ÎÎÂ±â¤â¥Â¥ÎÎÎÎÎÎÎÎ¦Î«Î¨Î©Î¬ÎÂ¬ÎÎ¡âÎ¤Â«Â»â¦Â Î¥Î§ÎÎÅââââââÃ·ÎÎÎÎÎ­Î®Î¯ÏÎÏÎ±Î²ÏÎ´ÎµÏÎ³Î·Î¹Î¾ÎºÎ»Î¼Î½Î¿ÏÏÏÏÏÎ¸ÏÏÏÏÎ¶ÏÏÎÎ°ï¿½", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[10007] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐ Ð¡Ð¢Ð£Ð¤Ð¥Ð¦Ð§Ð¨Ð©ÐªÐ«Ð¬Ð­Ð®Ð¯â Â°Â¢Â£Â§â¢Â¶ÐÂ®Â©â¢ÐÑâ ÐÑâÂ±â¤â¥ÑÂµâÐÐÑÐÑÐÑÐÑÑÐÂ¬âÆââÂ«Â»â¦Â ÐÑÐÑÑââââââÃ·âÐÑÐÑâÐÑÑÐ°Ð±Ð²Ð³Ð´ÐµÐ¶Ð·Ð¸Ð¹ÐºÐ»Ð¼Ð½Ð¾Ð¿ÑÑÑÑÑÑÑÑÑÑÑÑÑÑÑÂ¤", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[10008] = (function(){ var d = [], e = {}, D = [], j;
D[0] = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~Âï£ï£ï£ï£ï£ï£ï£ï£ï£ ï£¡ï£¢ï££ï£¤ï£¥ï£¦ï£§ï£¨ï£©ï£ªï£«ï£¬ï£­ï£®ï£¯ï£°ï£±ï£²ï£³ï£´ï£µï£¶ï£·ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï£¸ï£¹ï£ºï£»ï£¼ï£½ï£¾ï£¿".split("");
for(j = 0; j != D[0].length; ++j) if(D[0][j].charCodeAt(0) !== 0xFFFD) { e[D[0][j]] = 0 + j; d[0 + j] = D[0][j];}
D[161] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ãããã»ËËÂ¨ããâï½ï¿½â¦ââââããããããããããããããÂ±ÃÃ·â¶â§â¨âââªâ©ââ·ââ¥â¥â âââ«â®â¡âââ½ââ â®â¯â¤â¥ââµâ´ââÂ°â²â³âï¼Â¤ï¿ ï¿¡â°Â§âââââââââ¡â â³â²â»ââââãï¿½".split("");
for(j = 0; j != D[161].length; ++j) if(D[161][j].charCodeAt(0) !== 0xFFFD) { e[D[161][j]] = 41216 + j; d[41216 + j] = D[161][j];}
D[162] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½âââââââââââââââââââââ´âµâ¶â·â¸â¹âºâ»â¼â½â¾â¿âââââââââ â¡â¢â£â¤â¥â¦â§â¨â©ï¿½ï¿½ã ã¡ã¢ã£ã¤ã¥ã¦ã§ã¨ã©ï¿½ï¿½â â¡â¢â£â¤â¥â¦â§â¨â©âªâ«ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[162].length; ++j) if(D[162][j].charCodeAt(0) !== 0xFFFD) { e[D[162][j]] = 41472 + j; d[41472 + j] = D[162][j];}
D[163] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¼ï¼ï¼ï¿¥ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ ï¼¡ï¼¢ï¼£ï¼¤ï¼¥ï¼¦ï¼§ï¼¨ï¼©ï¼ªï¼«ï¼¬ï¼­ï¼®ï¼¯ï¼°ï¼±ï¼²ï¼³ï¼´ï¼µï¼¶ï¼·ï¼¸ï¼¹ï¼ºï¼»ï¼¼ï¼½ï¼¾ï¼¿ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï¿£ï¿½".split("");
for(j = 0; j != D[163].length; ++j) if(D[163][j].charCodeAt(0) !== 0xFFFD) { e[D[163][j]] = 41728 + j; d[41728 + j] = D[163][j];}
D[164] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ãããããããããããããããããããããããããããããããã ã¡ã¢ã£ã¤ã¥ã¦ã§ã¨ã©ãªã«ã¬ã­ã®ã¯ã°ã±ã²ã³ã´ãµã¶ã·ã¸ã¹ãºã»ã¼ã½ã¾ã¿ããããããããããããããããããããï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[164].length; ++j) if(D[164][j].charCodeAt(0) !== 0xFFFD) { e[D[164][j]] = 41984 + j; d[41984 + j] = D[164][j];}
D[165] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ã¡ã¢ã£ã¤ã¥ã¦ã§ã¨ã©ãªã«ã¬ã­ã®ã¯ã°ã±ã²ã³ã´ãµã¶ã·ã¸ã¹ãºã»ã¼ã½ã¾ã¿ããããããããããããããããããããããããããããããããã ã¡ã¢ã£ã¤ã¥ã¦ã§ã¨ã©ãªã«ã¬ã­ã®ã¯ã°ã±ã²ã³ã´ãµã¶ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[165].length; ++j) if(D[165][j].charCodeAt(0) !== 0xFFFD) { e[D[165][j]] = 42240 + j; d[42240 + j] = D[165][j];}
D[166] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÎÎÎÎÎÎÎÎÎÎÎÎÎÎÎÎ Î¡Î£Î¤Î¥Î¦Î§Î¨Î©ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Î±Î²Î³Î´ÎµÎ¶Î·Î¸Î¹ÎºÎ»Î¼Î½Î¾Î¿ÏÏÏÏÏÏÏÏÏï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[166].length; ++j) if(D[166][j].charCodeAt(0) !== 0xFFFD) { e[D[166][j]] = 42496 + j; d[42496 + j] = D[166][j];}
D[167] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐÐ Ð¡Ð¢Ð£Ð¤Ð¥Ð¦Ð§Ð¨Ð©ÐªÐ«Ð¬Ð­Ð®Ð¯ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ð°Ð±Ð²Ð³Ð´ÐµÑÐ¶Ð·Ð¸Ð¹ÐºÐ»Ð¼Ð½Ð¾Ð¿ÑÑÑÑÑÑÑÑÑÑÑÑÑÑÑÑï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[167].length; ++j) if(D[167][j].charCodeAt(0) !== 0xFFFD) { e[D[167][j]] = 42752 + j; d[42752 + j] = D[167][j];}
D[168] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÄÃ¡ÇÃ ÄÃ©ÄÃ¨Ä«Ã­ÇÃ¬ÅÃ³ÇÃ²Å«ÃºÇÃ¹ÇÇÇÇÃ¼Ãªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ãããããããããããããããããããããããããããã ã¡ã¢ã£ã¤ã¥ã¦ã§ã¨ã©ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[168].length; ++j) if(D[168][j].charCodeAt(0) !== 0xFFFD) { e[D[168][j]] = 43008 + j; d[43008 + j] = D[168][j];}
D[169] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½âââââââââââââââââââââââââââââââââ â¡â¢â£â¤â¥â¦â§â¨â©âªâ«â¬â­â®â¯â°â±â²â³â´âµâ¶â·â¸â¹âºâ»â¼â½â¾â¿ââââââââââââï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[169].length; ++j) if(D[169][j].charCodeAt(0) !== 0xFFFD) { e[D[169][j]] = 43264 + j; d[43264 + j] = D[169][j];}
D[176] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½åé¿åæ¨åååççè¼ç®è¾ç¢ç±ééæ°¨å®ä¿ºææå²¸èºæ¡è®æçå¹æç¬ç¿±è¢å²å¥¥ææ¾³è­ææå­å§ç¬å«ç¤å·´æè·é¶æèåé¸ç½¢ç¸ç½æç¾æä½°è´¥æç¨æç­æ¬æ³è¬é¢æ¿çæ®æä¼´ç£ååç»é¦å¸®æ¢æ¦èç»æ£ç£èéåè°¤èèåè¤å¥ï¿½".split("");
for(j = 0; j != D[176].length; ++j) if(D[176][j].charCodeAt(0) !== 0xFFFD) { e[D[176][j]] = 45056 + j; d[45056 + j] = D[176][j];}
D[177] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èé¹ä¿å ¡é¥±å®æ±æ¥æ´è±¹é²çæ¯ç¢æ²ååè¾èè´é¡åçå¤æ«çè¢«å¥è¯æ¬ç¬¨å´©ç»·ç­æ³µè¹¦è¿¸é¼é¼»æ¯éç¬å½¼ç¢§èè½æ¯æ¯æ¯å¸åºç¹é­æå¼å¿è¾å£èé¿éé­è¾¹ç¼è´¬æä¾¿ååè¾¨è¾©è¾«éæ å½ªèè¡¨é³æå«çªå½¬ææ¿æ»¨å®¾æåµå°æä¸ç§é¥¼ç³ï¿½".split("");
for(j = 0; j != D[177].length; ++j) if(D[177][j].charCodeAt(0) !== 0xFFFD) { e[D[177][j]] = 45312 + j; d[45312 + j] = D[177][j];}
D[178] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çå¹¶ç»è æ­æ¨éµæ³¢ååæéç®ä¼¯å¸è¶èèæ¸¤æ³é©³æååºè¡¥å ä¸å¸æ­¥ç°¿é¨ææ¦çè£ææè´¢ç¬è¸©éå½©èè¡é¤åèæ®æ­æ¨ç¿èè±ä»æ²§èæç³æ§½æ¹èåç­ä¾§åæµå±è¹­æåè¬è¶æ¥ç¢´æ½å¯å²å·®è¯§ææ´è±ºææºèé¦è°ç¼ é²äº§éé¢¤æçï¿½".split("");
for(j = 0; j != D[178].length; ++j) if(D[178][j].charCodeAt(0) !== 0xFFFD) { e[D[178][j]] = 45568 + j; d[45568 + j] = D[178][j];}
D[179] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½åºå°å¸¸é¿å¿è åæçå±å¡è¶æéæå²æ½®å·¢åµçè½¦æ¯æ¤æ£å½»æ¾é´è£è¾°å°æ¨å¿±æ²éè¶è¡¬æç§°åæ©æåä¹ç¨æ©æ¾è¯æ¿ééªç§¤åç´æåæ± è¿å¼é©°è»é½¿ä¾å°ºèµ¤ç¿æ¥ç½åå²è«å´å® æ½é¬ç´è¸ç¨ æç­¹ä»ç»¸çä¸è­ååºæ©±å¨èºééæ»é¤æ¥ï¿½".split("");
for(j = 0; j != D[179].length; ++j) if(D[179][j].charCodeAt(0) !== 0xFFFD) { e[D[179][j]] = 45824 + j; d[45824 + j] = D[179][j];}
D[180] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¡å¨çæè§¦å¤æ£å·ç©¿æ¤½ä¼ è¹åä¸²ç®çªå¹¢åºé¯åå¹çæ¶é¤åæ¥æ¤¿éåæ·³çº¯è ¢æ³ç»°çµè¨ç£éè¾æç·è¯æ­¤åºèµæ¬¡èªè±å±åä»ä¸åç²éç°ä¿è¹¿ç¯¡çªæ§å´å¬èçç²¹æ·¬ç¿ æå­å¯¸ç£æ®ææªæ«éæ­è¾¾ç­ç©æå¤§åæ­¹å£æ´å¸¦æ®ä»£è´·è¢å¾é®ï¿½".split("");
for(j = 0; j != D[180].length; ++j) if(D[180][j].charCodeAt(0) !== 0xFFFD) { e[D[180][j]] = 46080 + j; d[46080 + j] = D[180][j];}
D[181] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ è½æä¸¹åé¸æ¸èæ¦æ°®ä½æ®æ·¡è¯å¼¹èå½æ¡åè¡æ¡£åæ£è¹åå²ç¥·å¯¼å°ç¨»æ¼éçå¾·å¾çè¹¬ç¯ç»ç­çªå³éå ¤ä½æ»´è¿ªæç¬çæ¶¤ç¿å«¡æµåºå°èç¬¬å¸å¼éç¼é¢ ææ»ç¢ç¹å¸éå«çµä½ç¸åºæ¦å¥ æ·æ®¿ç¢å¼éååæåéè°è·ç¹ç¢è¶è¿­è°å ï¿½".split("");
for(j = 0; j != D[181].length; ++j) if(D[181][j].charCodeAt(0) !== 0xFFFD) { e[D[181][j]] = 46336 + j; d[46336 + j] = D[181][j];}
D[182] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ä¸ç¯å®éé¡¶é¼é­å®è®¢ä¸¢ä¸å¬è£æå¨æ ä¾æ«å»æ´åææé¡è±éçé½ç£æ¯çç¬è¯»å µç¹èµæéèåº¦æ¸¡å¦ç«¯ç­é»æ®µæ­ç¼å åéå¯¹å¢©å¨è¹²æ¦é¡¿å¤éç¾éæåå¤å¤ºåèº²æµè·ºèµåæ°å è¾å³¨é¹ä¿é¢è®¹å¨¥æ¶åæ¼ééé¥¿æ©èå¿è³å°é¥µæ´±äºï¿½".split("");
for(j = 0; j != D[182].length; ++j) if(D[182][j].charCodeAt(0) !== 0xFFFD) { e[D[182][j]] = 46592 + j; d[46592 + j] = D[182][j];}
D[183] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è´°åç½ç­ä¼ä¹éæ³çè©å¸çªç¿»æ¨ç¾éç¹å¡ç¦åè¿èè´©ç¯é¥­æ³åè³æ¹èªæ¿é²å¦¨ä»¿è®¿çººæ¾è²éå¡é£è¥åªè¯½å èºåºæ²¸è´¹è¬éå©æ°åçº·åçæ±¾ç²å¥ä»½å¿¿æ¤ç²ªä¸°å°æ«èå³°éé£ç¯ç½é¢å¯ç¼è®½å¥å¤ä½å¦å¤«æ·è¤å­µæ¶æè¾å¹æ°ç¬¦ä¼ä¿æï¿½".split("");
for(j = 0; j != D[183].length; ++j) if(D[183][j].charCodeAt(0) !== 0xFFFD) { e[D[183][j]] = 46848 + j; d[46848 + j] = D[183][j];}
D[184] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æµ®æ¶ªç¦è¢±å¼ç«æè¾ä¿¯éæ§è¯èåºèèµ´å¯è¦èµå¤åä»éç¶è¹è´å¯è®£éå¦ç¼åå¶åè¯¥æ¹æ¦éçæºå¹²çææç«¿èèµ¶æç§æ¢èµ£ååé¢ç¼¸èçº²å²æ¸¯æ ç¯çé«èç¾ç³æéç¨¿åå¥æ­ææé¸½è³çå²é©èæ ¼è¤ééé¬ä¸ªåç»æ ¹è·èæ´åºç¾¹ï¿½".split("");
for(j = 0; j != D[184].length; ++j) if(D[184][j].charCodeAt(0) !== 0xFFFD) { e[D[184][j]] = 47104 + j; d[47104 + j] = D[184][j];}
D[185] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½åè¿æ¢å·¥æ»åæ­é¾ä¾èº¬å¬å®«å¼å·©æ±æ±è´¡å±é©å¾æ²èçå¢æè´­å¤è¾èåç®ä¼°æ²½å­¤å§é¼å¤èéª¨è°·è¡æé¡¾åºéå®çåå¯¡æè¤ä¹ææªæ£ºå³å®å è§ç®¡é¦ç½æ¯çè´¯åå¹¿éç°è§å­ç¡å½é¾éºè½¨é¬¼è¯¡ç¸æ¡æè·ªè´µå½è¾æ»æ£éé­å½æè£¹è¿åï¿½".split("");
for(j = 0; j != D[185].length; ++j) if(D[185][j].charCodeAt(0) !== 0xFFFD) { e[D[185][j]] = 47360 + j; d[47360 + j] = D[185][j];}
D[186] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½éª¸å­©æµ·æ°¦äº¥å®³éªé£æ¨é¯é©å«æ¶µå¯å½åç½ç¿°æ¼ææ±æ¾æçæ±æ±å¤¯æ­èªå£åè±ªæ¯«éå¥½èå·æµ©åµåè·èæ ¸ç¦¾åä½åçè²éæ²³æ¶¸èµ«è¤é¹¤è´ºå¿é»çå¾ç æ¨å¼äº¨æ¨ªè¡¡æè½°åçè¹é¸¿æ´ªå®å¼çº¢åä¾¯ç´å¼åååå¼ä¹å¿½çå£¶è«è¡è´çç³æ¹ï¿½".split("");
for(j = 0; j != D[186].length; ++j) if(D[186][j].charCodeAt(0) !== 0xFFFD) { e[D[186][j]] = 47616 + j; d[47616 + j] = D[186][j];}
D[187] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å¼§èå¬æ¤äºæ²ªæ·è±ååç¾æ»ç»ååè¯æ§å¾ææ·®åæ¬¢ç¯æ¡è¿ç¼æ¢æ£å¤çªè±¢çæ¶£å®¦å¹»èæé»ç£ºèç°§çå°æ¶çæå¹æè°ç°æ¥è¾å¾½æ¢èåæ¯ææ§åæ æ¦è´¿ç§½ä¼ç©æ±è®³è¯²ç»è¤æå©é­æµæ··è±æ´»ä¼ç«è·ææéè´§ç¥¸å»å¾åºæºç¸ç¨½ç§¯ç®ï¿½".split("");
for(j = 0; j != D[187].length; ++j) if(D[187][j].charCodeAt(0) !== 0xFFFD) { e[D[187][j]] = 47872 + j; d[47872 + j] = D[187][j];}
D[188] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èé¥¥è¿¹æ¿è®¥é¸¡å§¬ç»©ç¼åææ£è¾ç±éåæ¥ç¾æ±²å³å«çº§æ¤å èå·±èæåå­£ä¼ç¥­åæ¸æµå¯å¯è®¡è®°æ¢å¿éå¦ç»§çºªåæ·å¤¹ä½³å®¶å èé¢è´¾ç²é¾åç¨¼ä»·æ¶é©¾å«æ­¼çåå°ç¬ºé´çå¼è©è°å¥¸ç¼è§æ£æ¬ç¢±ç¡·æ£æ¡ç®ä¿­åªåèæ§é´è·µè´±è§é®ç®­ä»¶ï¿½".split("");
for(j = 0; j != D[188].length; ++j) if(D[188][j].charCodeAt(0) !== 0xFFFD) { e[D[188][j]] = 48128 + j; d[48128 + j] = D[188][j];}
D[189] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å¥è°åé¥¯æ¸æºæ¶§å»ºåµå§å°æµæ±çèæ¡¨å¥è®²å é±éèæ¤ç¤ç¦è¶äº¤éæµéªå¨å¼æé°ç«ä¾¥èç¡è§é¥ºç¼´ç»å¿æéµè½¿è¾å«çªæ­æ¥çç§¸è¡é¶æªå«èæ¡æ°æ·ç«ç«­æ´ç»è§£å§æèè¥çåä»ç¥è¯«å±å·¾ç­æ¤éä»æ´¥è¥ç´§é¦ä»è°¨è¿é³æç¦è¿ç¬æµ¸ï¿½".split("");
for(j = 0; j != D[189].length; ++j) if(D[189][j].charCodeAt(0) !== 0xFFFD) { e[D[189][j]] = 48384 + j; d[48384 + j] = D[189][j];}
D[190] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å°½å²èå¢èçæ¶é²¸äº¬æç²¾ç²³ç»äºè­¦æ¯é¢éå¢æ¬éå¾çéç«ç«åç¯çªæªç©¶çº çé­ä¹ç¸ä¹éå©ææ§è¼èåå°±çé æçç½å±é©¹èå±åç©ä¸¾æ²®èææ®å·¨å·è·è¸é¯ä¿±å¥æ§ç¬å§æé¹å¨å¦ç·å·ç»¢ææ«ææåçµè§å³è¯ç»åèé§ååå³»ï¿½".split("");
for(j = 0; j != D[190].length; ++j) if(D[190][j].charCodeAt(0) !== 0xFFFD) { e[D[190][j]] = 48640 + j; d[48640 + j] = D[190][j];}
D[191] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ä¿ç«£æµé¡éªååå¡å¯å¼æ©æ¥·å¯æ¨åå ªååç çåº·æ·ç³ ææäº¢çèæ·ç¤é å·èæ¯æ£µç£é¢ç§å£³å³å¯æ¸´åå»å®¢è¯¾è¯åå¦æ³åå­ç©ºæå­æ§æ å£æ£å¯æ¯å­çªè¦é·åºè£¤å¤¸å®æè·¨è¯åç­·ä¾©å¿«å®½æ¬¾å¡ç­çæ¡ç¿ç¶æ·åµäºçå²¿çª¥èµå¥é­åï¿½".split("");
for(j = 0; j != D[191].length; ++j) if(D[191][j].charCodeAt(0) !== 0xFFFD) { e[D[191][j]] = 48896 + j; d[48896 + j] = D[191][j];}
D[192] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¦æ§æºå¤ææå°æ¬æ©å»éåæåè¡èè¾£å¦è±æ¥èµèå©ªæ æ¦ç¯®éå°æ¾è°°æ½è§æç¼çæ»¥çæ¦ç¼å»éææµªæå³ç¢èä½¬å§¥éªçæ¶åä¹é·é­è¾ç£ç´¯å¡åæèç±»æ³ªæ£±æ¥å·åæ¢¨çé»ç¯±ç¸ç¦»æ¼çæéé²¤ç¤¼èèåæ ä¸½åå±ç ¾åå©åä¾ä¿ï¿½".split("");
for(j = 0; j != D[192].length; ++j) if(D[192][j].charCodeAt(0) !== 0xFFFD) { e[D[192][j]] = 49152 + j; d[49152 + j] = D[192][j];}
D[193] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¢ç«ç²æ²¥é¶åçå©ä¿©èè²è¿é°å»ææ¶å¸æè¸é¾æç¼ç»ç²®åæ¢ç²±è¯ä¸¤è¾éæ¾äº®è°æ©èåççå¯¥è¾½æ½¦äºæé£å»æåè£çå£çç³æç£·éä¸´é»é³æ·åèµåæç²è±é¶é¾éä¼¶ç¾åçµéµå²­é¢å¦ä»¤æºçæ¦´ç¡«é¦çåç¤æµæ³å­é¾èåç¬¼çª¿ï¿½".split("");
for(j = 0; j != D[193].length; ++j) if(D[193][j].charCodeAt(0) !== 0xFFFD) { e[D[193][j]] = 49408 + j; d[49408 + j] = D[193][j];}
D[194] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½éåæ¢éæ¥¼å¨æç¯æ¼éè¦å¢é¢åºçæ³å¤èé²éºç¢é²è·¯èµé¹¿æ½ç¦å½éæ®é©´åéä¾£æå±¥å±¡ç¼èæ°¯å¾çæ»¤ç»¿å³¦æå­ªæ»¦åµä¹±æ ç¥æ¡è½®ä¼¦ä»æ²¦çº¶è®ºèèºç½é»é£ç®©éª¡è£¸è½æ´éªç»å¦éº»çç èé©¬éªåååä¹°éº¦åè¿èçé¦è®æ»¡èæ¼æ¢æ¼«ï¿½".split("");
for(j = 0; j != D[194].length; ++j) if(D[194][j].charCodeAt(0) !== 0xFFFD) { e[D[194][j]] = 49664 + j; d[49664 + j] = D[194][j];}
D[195] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è°©èè«ç²æ°å¿è½ç«èéæ¯çéå¯èåå¸½è²è´¸ä¹ç«ææ¢é¶éç¤æ²¡çåªéæ¯ç¾æ§å¯å¦¹åªé¨é·ä»¬èèæª¬çé°çæ¢¦å­ç¯éé¡ç³è¿·è°å¼¥ç±³ç§è§æ³èå¯å¹æ£ç ç»µåååå¨©ç¼é¢èæçèç§æ¸ºåºå¦èç­æ°æ¿ç¿ææ¯é½æèé¸£é­åå½è°¬æ¸ï¿½".split("");
for(j = 0; j != D[195].length; ++j) if(D[195][j].charCodeAt(0) !== 0xFFFD) { e[D[195][j]] = 49920 + j; d[49920 + j] = D[195][j];}
D[196] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¹èæ¨¡èç£¨æ©é­æ¹æ«è«å¢¨é»æ²«æ¼ å¯éè°çææç¡äº©å§æ¯å¢æ®å¹åææ¨ç®ç¦ç§ç©æ¿åªåé é£å¨çº³æ°ä¹å¥¶èå¥åç·é¾åæ èæ¼é¹æ·å¢é¦åå«©è½å¦®éåªæ³¥å°¼æä½ å¿è»éæººè«æå¹´ç¢¾æµæ»å¿µå¨é¿é¸å°¿æèå­½å®ééæ¶æ¨æ çåå®ï¿½".split("");
for(j = 0; j != D[196].length; ++j) if(D[196][j].charCodeAt(0) !== 0xFFFD) { e[D[196][j]] = 50176 + j; d[50176 + j] = D[196][j];}
D[197] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ§æ³çæ­é®çº½èæµåå¼å¥´åªæå¥³æèçæªæ¦ç³¯è¯ºå¦æ¬§é¸¥æ®´èåå¶æ²¤åªè¶´ç¬å¸æç¶ææçå¾æ¹æ´¾ææ½çç£ç¼çå¤åä¹åºæèªèæåå¨ç®è¢è·æ³¡å¸èå¹è£´èµéªéä½©æ²å·çç °æ¨ç¹æ¾å½­è¬æ£ç¡¼ç¯·è¨æé¹æ§ç¢°å¯ç é¹æ¹æ«åçµæ¯ï¿½".split("");
for(j = 0; j != D[197].length; ++j) if(D[197][j].charCodeAt(0) !== 0xFFFD) { e[D[197][j]] = 50432 + j; d[50432 + j] = D[197][j];}
D[198] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å¤è¾ç²ç®å¹çå»å±è­¬ç¯åçéªé£æ¼ç¢ç¥¨æç¥æ¼é¢è´«åèä¹åªè¹èå¹³å­ç¶è¯å±å¡æ³¼é¢å©ç ´é­è¿«ç²åæéºä»èè¡è©è²åæ´åæ®æµ¦è°±æçææ¬ºæ æå¦»ä¸åæ¼ææ²å¶æ£å¥æ­§ç¦å´èé½æç¥ç¥éªèµ·å²ä¹ä¼å¯å¥ç å¨æ°è¿å¼æ±½æ³£è®«æï¿½".split("");
for(j = 0; j != D[198].length; ++j) if(D[198][j].charCodeAt(0) !== 0xFFFD) { e[D[198][j]] = 50688 + j; d[50688 + j] = D[198][j];}
D[199] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ°æ´½çµæ¦ééåè¿ç­¾ä»è°¦ä¹¾é»é±é³åæ½é£æµè°´å åµæ¬ æ­æªåèç¾å¢è·å¼ºæ¢æ©é¹æ²ææ¡¥ç§ä¹ä¾¨å·§éæ¬ç¿å³­ä¿çªåèä¸æ¯çªé¦ä¾µäº²ç§¦ç´å¤è¹æç¦½å¯æ²éè½»æ°¢å¾å¿æ¸ææ´æ°°æé¡·è¯·åºç¼ç©·ç§ä¸é±çæ±åéæ³è¶åºèæ²èº¯å±é©±æ¸ ï¿½".split("");
for(j = 0; j != D[199].length; ++j) if(D[199][j].charCodeAt(0) !== 0xFFFD) { e[D[199][j]] = 50944 + j; d[50944 + j] = D[199][j];}
D[200] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½åå¨¶é¾è¶£å»åé¢§æéæ³å¨çæ³ç¬å¸åç¼ºçç¸å´é¹æ¦·ç¡®éè£ç¾¤ç¶çåæç¤å£¤æå·è®©é¥¶æ°ç»æ¹ç­å£¬ä»äººå¿é§ä»»è®¤åå¦çº«æä»æ¥æè¸èè£èçæº¶å®¹ç»åææèè¹è åå­ºå¦è¾±ä¹³æ±å¥è¤¥è½¯é®èçéé°æ¶¦è¥å¼±ææ´è¨è®é³å¡èµä¸åï¿½".split("");
for(j = 0; j != D[200].length; ++j) if(D[200][j].charCodeAt(0) !== 0xFFFD) { e[D[200][j]] = 51200 + j; d[51200 + j] = D[200][j];}
D[201] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ä¼æ£æ¡åä¸§æéªæ«å«çè²æ¶©æ£®å§èç æå¹æ²çº±å»å¥çç­æçè«æå±±å ç½è¡«éªéæèµ¡è³åæ±æç¼®å¢ä¼¤åèµæä¸å°è£³æ¢¢æç¨ç§èåºé¶å°å¨éµç»å¥¢èµèèèèµ¦æå°ææ¶ç¤¾è®¾ç ·ç³å»ä¼¸èº«æ·±å¨ ç»ç¥æ²å®¡å©¶çè¾ææ¸å£°çç¥ç²åç»³ï¿½".split("");
for(j = 0; j != D[201].length; ++j) if(D[201][j].charCodeAt(0) !== 0xFFFD) { e[D[201][j]] = 51456 + j; d[51456 + j] = D[201][j];}
D[202] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ççå©èå£å¸å¤±ç®æ½æ¹¿è¯å°¸è±åç³æ¾æ¶ä»é£èå®è¯å²ç¢ä½¿å±é©¶å§å¼ç¤ºå£«ä¸æ¿äºæ­èªéå¿æ¯åå¬éä»ä¾éé¥°æ°å¸æå®¤è§è¯æ¶æé¦å®å¯¿æå®åç¦å½è¬æ¢æ¢³æ®æè¾åèæ·çä¹¦èµå­°çè¯ææç½²èé»é¼ å±æ¯è¿°æ ææç«å¢åº¶æ°æ¼±ï¿½".split("");
for(j = 0; j != D[202].length; ++j) if(D[202][j].charCodeAt(0) !== 0xFFFD) { e[D[202][j]] = 51712 + j; d[51712 + j] = D[202][j];}
D[203] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æå·èæè¡°ç©å¸æ æ´éåç½è°æ°´ç¡ç¨å®ç¬é¡ºèè¯´ç¡æçæ¯æå¶æç§å¸ä¸æ­»èå¯ºå£åä¼ºä¼¼é¥²å·³æ¾è¸æé¢éå®è®¼è¯µæèæå½èé¥ä¿ç´ éç²å³å¡æº¯å®¿è¯èé¸èç®è½ééç»¥é«ç¢å²ç©éé§ç¥å­æç¬èæ¢­åç¼©çç´¢éæå¡ä»å®å¥¹å¡ï¿½".split("");
for(j = 0; j != D[203].length; ++j) if(D[203][j].charCodeAt(0) !== 0xFFFD) { e[D[203][j]] = 51968 + j; d[51968 + j] = D[203][j];}
D[204] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç­æè¹è¸èèæ¬å°æ³°éå¤ªææ±°åæè´ªç«æ»©åæªç°æ½­è°­è°å¦æ¯¯è¢ç¢³æ¢å¹ç­æ±¤å¡æªå æ£ èåç³åèººæ·è¶ç«ææ¶æ»ç»¦èæ¡éæ·é¶è®¨å¥ç¹è¤è¾ç¼èªæ¢¯åè¸¢éæé¢è¹å¼ä½æ¿åææ¶åå±å¤©æ·»å¡«ç°çæ¬èèææ¡è¿¢çºè·³è´´éå¸åå¬çï¿½".split("");
for(j = 0; j != D[204].length; ++j) if(D[204][j].charCodeAt(0) !== 0xFFFD) { e[D[204][j]] = 52224 + j; d[52224 + j] = D[204][j];}
D[205] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ±å»·åäº­åº­æºèéæ¡é®ç³åéå½¤ç«¥æ¡¶æç­ç»çå·æå¤´éå¸ç§çªå¾å¾éæ¶å± åååæ¹å¢æ¨é¢è¿èè¤ªéåå±¯èææè±é¸µéé©®é©¼æ¤­å¦¥æå¾æåèæ´¼å¨ç¦è¢æ­ªå¤è±å¼¯æ¹¾ç©é¡½ä¸¸ç·å®ç¢æ½æçæå®å©ä¸èæ±ªçäº¡æç½å¾æºæå¿å¦å¨ï¿½".split("");
for(j = 0; j != D[205].length; ++j) if(D[205][j].charCodeAt(0) !== 0xFFFD) { e[D[205][j]] = 52480 + j; d[52480 + j] = D[205][j];}
D[206] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å·å¾®å±é¦è¿æ¡å´å¯æä¸ºæ½ç»´èèå§ä¼ä¼ªå°¾çº¬æªèå³çèåé­ä½æ¸­è°å°æ°å«çæ¸©èæé»çº¹å»ç¨³ç´é®å¡ç¿ç®æèæ¶¡çªææ¡å§æ¡æ²å·«åé¨ä¹æ±¡è¯¬å±æ èæ¢§å¾å´æ¯æ­¦äºæåèä¼ä¾®åæé¾æ¤ç©å¿å¡æè¯¯æçæè¥¿ç¡ç½æ°å»å¸é¡çºï¿½".split("");
for(j = 0; j != D[206].length; ++j) if(D[206][j].charCodeAt(0) !== 0xFFFD) { e[D[206][j]] = 52736 + j; d[52736 + j] = D[206][j];}
D[207] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¨æ¯å¸æèå¤æçç¯æºªæ±çæªè¢­å¸­ä¹ åª³åé£æ´ç³»éæç»çè¾å£éè¾æå³¡ä¾ ç­ä¸å¦å¤åæé¨åä»é²çº¤å¸è´¤è¡è·é²æ¶å¼¦å«æ¾é©ç°ç®å¿èºé¦ç¾¡å®ªé·éçº¿ç¸å¢é¶é¦ç®±è¥æ¹ä¹¡ç¿ç¥¥è¯¦æ³åäº«é¡¹å··æ©¡ååè±¡è§ç¡éåå®å£éæ¶å®µæ·æï¿½".split("");
for(j = 0; j != D[207].length; ++j) if(D[207][j].charCodeAt(0) !== 0xFFFD) { e[D[207][j]] = 52992 + j; d[52992 + j] = D[207][j];}
D[208] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å°å­æ ¡èå¸ç¬ææ¥äºæ­èéåææºéªæèè°åæ¢°å¸è¹ææ³æ³»è°¢å±èªè¯éæ¬£è¾æ°å¿»å¿ä¿¡è¡æè¥ç©æºå´ååå½¢é¢è¡éå¹¸ææ§å§åå¶è¸åæ±¹éçä¼ä¿®ç¾æ½åéç§è¢ç»£å¢æéèåé¡»å¾è®¸èéåæ­åºçæ¤çµ®å©¿ç»ªç»­è½©å§å®£æ¬æçï¿½".split("");
for(j = 0; j != D[208].length; ++j) if(D[208][j].charCodeAt(0) !== 0xFFFD) { e[D[208][j]] = 53248 + j; d[53248 + j] = D[208][j];}
D[209] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½éç£ç©ç»é´èå­¦ç©´éªè¡åçå¾ªæ¬è¯¢å¯»é©¯å·¡æ®æ±è®­è®¯éè¿åæ¼é¸¦é¸­åä¸«è½çèå´è¡æ¶¯éåäºè®¶çå½éçæ·¹çä¸¥ç èå²©å»¶è¨é¢éçæ²¿å¥æ©ç¼è¡æ¼è³å °çåç éåå½¦ç°å®´è°éªæ®å¤®é¸¯ç§§æ¨æ¬ä½¯ç¡ç¾æ´é³æ°§ä»°çå»æ ·æ¼¾éè°å¦ç¶ï¿½".split("");
for(j = 0; j != D[209].length; ++j) if(D[209][j].charCodeAt(0) !== 0xFFFD) { e[D[209][j]] = 53504 + j; d[53504 + j] = D[209][j];}
D[210] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æå°§é¥çªè°£å§å¬èè¯è¦èæ¤°åè¶ç·éå¶ä¹é¡µæä¸å¶æ³èå¤æ¶²ä¸å£¹å»æé±ä¾ä¼è¡£é¢å¤·éç§»ä»ªè°çæ²å®å§¨å½æ¤èåå·²ä¹ç£ä»¥èºææéå±¹äº¿å½¹èé¸èç«äº¦è£ææ¯å¿ä¹çæº¢è¯£è®®è°è¯å¼ç¿¼ç¿ç»èµè«å æ®·é³é´å§»åé¶æ·«å¯é¥®å°¹å¼éï¿½".split("");
for(j = 0; j != D[210].length; ++j) if(D[210][j].charCodeAt(0) !== 0xFFFD) { e[D[210][j]] = 53760 + j; d[53760 + j] = D[210][j];}
D[211] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å°è±æ¨±å©´é¹°åºç¼¨è¹è¤è¥è§èè¿èµ¢çå½±é¢ç¡¬æ åæ¥ä½£èçåº¸éè¸è¹åæ³³æ¶æ°¸æ¿åç¨å¹½ä¼æ å¿§å°¤ç±é®éç¹æ²¹æ¸¸éæåå³ä½éè¯±åå¹¼è¿æ·¤äºçæ¦èæèä½ä¿é¾é±¼ææ¸æ¸éäºå¨±é¨ä¸å±¿ç¦¹å®è¯­ç¾½çåèéåéå»å³ªå¾¡ææ¬²ç±è²èªï¿½".split("");
for(j = 0; j != D[211].length; ++j) if(D[211][j].charCodeAt(0) !== 0xFFFD) { e[D[211][j]] = 54016 + j; d[54016 + j] = D[211][j];}
D[212] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æµ´å¯è£é¢è±«é©­é¸³æ¸å¤åå£è¢åæ´è¾å­ååç¿æºç¼è¿èæ¿æ¨é¢æ°çº¦è¶è·é¥å²³ç²¤ææ¦éèäºé§åé¨åè¿è´éæéµå­åç ¸ææ ½åç¾å®°è½½åå¨å±ææèµèµèè¬é­ç³å¿è»æ£æ©æ¾¡è¤èºåªé çç¶ç¥è´£æ©åæ³½è´¼æå¢ææ¾èµ æå³æ¸£æ­è½§ï¿½".split("");
for(j = 0; j != D[212].length; ++j) if(D[212][j].charCodeAt(0) !== 0xFFFD) { e[D[212][j]] = 54272 + j; d[54272 + j] = D[212][j];}
D[213] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¡é¸ç¨æ æ¦¨åä¹ç¸è¯ææå®çªåºå¯¨ç»æ¯¡è©¹ç²æ²¾çæ©è¾å´­å±è¸æ å æç«æ¹ç»½æ¨ç« å½°æ¼³å¼ ææ¶¨æä¸å¸è´¦ä»èç´éææ­æ¾æ²¼èµµç§ç½©åèå¬é®æå²è°è¾èéèè¿æµçæççç §è»è´éä¾¦æç¹è¯éæ¯ééµè¸æ£çå¾ç°äºææ´æ¯æ­£æ¿ï¿½".split("");
for(j = 0; j != D[213].length; ++j) if(D[213][j].charCodeAt(0) !== 0xFFFD) { e[D[213][j]] = 54528 + j; d[54528 + j] = D[213][j];}
D[214] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å¸§çéè¯èææ¯å±èç¥è¢èæ±ä¹ç»èç´æ¤æ®æ§å¼ä¾åææ­¢è¶¾åªæ¨çº¸å¿ææ·è³è´ç½®å¸å³å¶æºç§©ç¨è´¨ççæ»æ²»çªä¸­çå¿ éè¡·ç»ç§è¿éä»²ä¼èå¨å·æ´²è¯ç²¥è½´èå¸åç±å®æ¼éª¤ç æ ªèæ±çªè¯¸è¯éç«¹çç®æç©å±ä¸»èæ±å©èè´®é¸ç­ï¿½".split("");
for(j = 0; j != D[214].length; ++j) if(D[214][j].charCodeAt(0) !== 0xFFFD) { e[D[214][j]] = 54784 + j; d[54784 + j] = D[214][j];}
D[215] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ä½æ³¨ç¥é©»æçªæ½ä¸ç è½¬æ°èµç¯æ¡©åºè£å¦æå£®ç¶æ¤é¥è¿½èµå ç¼è°åææåæ¡ç¢èéåçç¼æµå¹å¨èµå§¿æ»æ·å­ç´«ä»ç±½æ»å­èªæ¸å­é¬æ£è¸ªå®ç»¼æ»çºµé¹èµ°å¥æç§è¶³åæç¥è¯é»ç»é»çºå´éæç½ªå°éµæ¨å·¦ä½æåä½ååº§ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½".split("");
for(j = 0; j != D[215].length; ++j) if(D[215][j].charCodeAt(0) !== 0xFFFD) { e[D[215][j]] = 55040 + j; d[55040 + j] = D[215][j];}
D[216] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½äºä¸åä¸å»¿åä¸äºä¸é¬²å­¬å©ä¸¨ç¦ºä¸¿åä¹å¤­ç»å®æ°åè¤é¦æ¯ç¾é¼ä¸¶äºé¼ä¹ä¹©äºèå­å¬åä»ååå£å¥å®é¥èµååµå¦å®å¾èµå¦å£åååå­å³å¿åååå¡åè¯å½åååååç½äº»ä»ä»ä»ä»¨ä»¡ä»«ä»ä¼ä»³ä¼¢ä½¤ä»µä¼¥ä¼§ä¼ä¼«ä½ä½§æ¸ä½ä½ï¿½".split("");
for(j = 0; j != D[216].length; ++j) if(D[216][j].charCodeAt(0) !== 0xFFFD) { e[D[216][j]] = 55296 + j; d[55296 + j] = D[216][j];}
D[217] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ä½ä½ä¼²ä¼½ä½¶ä½´ä¾ä¾ä¾ä¾ä½¾ä½»ä¾ªä½¼ä¾¬ä¾ä¿¦ä¿¨ä¿ªä¿ä¿ä¿£ä¿ä¿ä¿ä¿¸å©åä¿³å¬åå®å­ä¿¾ååå¥å¨å¾ååååå¬å»å¥å§å©åºååå­å¬å¦å®ååä»æ°½ä½ä½¥ä¿é¾ æ±ç±´å®å·½é»é¦åå¤å¹åè¨åå«å¤åäº åäº³è¡®è¢¤äºµèè£ç¦å¬´è ç¾¸å«å±å½å¼ï¿½".split("");
for(j = 0; j != D[217].length; ++j) if(D[217][j].charCodeAt(0) !== 0xFFFD) { e[D[217][j]] = 55552 + j; d[55552 + j] = D[217][j];}
D[218] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ååå¢å¥è® è®¦è®§è®ªè®´è®µè®·è¯è¯è¯è¯è¯è¯è¯è¯è¯è¯è¯è¯è¯è¯ è¯¤è¯¨è¯©è¯®è¯°è¯³è¯¶è¯¹è¯¼è¯¿è°è°è°è°è°è°è°è°è°è°è°è°è°è°è°è°è° è°¡è°¥è°§è°ªè°«è°®è°¯è°²è°³è°µè°¶å©åºéé¢é¡é±éªé½é¼ééééé§é¬é²é´éééé°ééééé¬é¡é´é³é¶éºï¿½".split("");
for(j = 0; j != D[218].length; ++j) if(D[218][j].charCodeAt(0) !== 0xFFFD) { e[D[218][j]] = 55808 + j; d[55808 + j] = D[218][j];}
D[219] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¸é°ééé¾ééééé¦é¢éééé«é¯é¾éé¢éé£é±é¯é¹ééåå¥å¢å¬å­å¾å¿ååå°åç®çå»´åµå¼é¬¯å¶å¼çå·¯åå©å¡å¡¾å¢¼å£å£å©å¬åªå³å¹å®å¯åå»åå©åå«åå¼å»å¨å­å¶å³å­å¤åå²åå§å´åå åååååå¸å´å¯å¸å¤åï¿½".split("");
for(j = 0; j != D[219].length; ++j) if(D[219][j].charCodeAt(0) !== 0xFFFD) { e[D[219][j]] = 56064 + j; d[56064 + j] = D[219][j];}
D[220] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å å å½å­å å å å¡å  å¡¥å¡¬å¢å¢å¢å¢é¦¨é¼æ¿è¹è½è¿èèè¨èèèèèè«è¸è¾è°èèè£èè·è®èèèè©è´è¡èªèèèè¤è¡èè·è¤èèèè´èèèè»èèèèèèè èèèèèèèè¼è´è±èèè¯èèèèèèè è­èºè³è¦è¥ï¿½".split("");
for(j = 0; j != D[220].length; ++j) if(D[220][j].charCodeAt(0) !== 0xFFFD) { e[D[220][j]] = 56320 + j; d[56320 + j] = D[220][j];}
D[221] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¨èè©è¬èªè­è®è°è¸è³è´è èªèèèè¼è¶è©è½è¸è»èèè¨èºè¼èèè¥èå èèèè½èèè¸èèèèèèè¸è¹èªèèè¦è°è¡èèèèè³èèèºèè¸è¼èè©è¶èèè±è­èèèè¦è½èèè¿èºè è¡è¹è´èè¥è£èçè¸è°è¹èèºï¿½".split("");
for(j = 0; j != D[221].length; ++j) if(D[221][j].charCodeAt(0) !== 0xFFFD) { e[D[221][j]] = 56576 + j; d[56576 + j] = D[221][j];}
D[222] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èè»è¿è¼èèè¨è¤èèºç¢èè²è»è¤è¨èèè¹è®èèè¹è·è°èèèè¿è§èè©èè¼å»¾å¼å¤¼å¥è·å¥å¥å¥åå°¢å°¥å°¬å°´ææªææ»ææææ®æ¢æ¶æ¹æææ­æ¶æ±æºææ´æ­æ¬ææ©æ®æ¼æ²æ¸æ æ¿ææææææ¾æææææ ææ¦æ¡æææ­æï¿½".split("");
for(j = 0; j != D[222].length; ++j) if(D[222][j].charCodeAt(0) !== 0xFFFD) { e[D[222][j]] = 56832 + j; d[56832 + j] = D[222][j];}
D[223] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æºæ·æ¸ææºææææ¤æ¢ææ¥æ®å¼å¿çå¼åå±å½å©å¨å»åååååååååå¡ååå£å²ååå·å±å¤åååå¶å¦ååå­åå´åå§å¦ååå²å£åå»å¿ååååå©åªå¤ååååå§å å½åå³å¢å£ååå§åªå§ååµåå­ååå¿åå¼ï¿½".split("");
for(j = 0; j != D[223].length; ++j) if(D[223][j].charCodeAt(0) !== 0xFFFD) { e[D[223][j]] = 57088 + j; d[57088 + j] = D[223][j];}
D[224] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å·ååµå¶å·å³å°ååååå±å¹åååå¾ååå»åå½å¾åååªå·åååå«å¬åå¦ååå¯å¥å²å³ååå¨åµå¤è¾ååååå¤å£å¾åå§å­åå¹åå¬åå¢åååååå¤å±å«å»å¼ååå¯åååå¡åµå«å¹å¿ååååå¸å¸å¸å¸å¸±å¸»å¸¼ï¿½".split("");
for(j = 0; j != D[224].length; ++j) if(D[224][j].charCodeAt(0) !== 0xFFFD) { e[D[224][j]] = 57344 + j; d[57344 + j] = D[224][j];}
D[225] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å¸·å¹å¹å¹å¹å¹¡å²å±ºå²å²å²å²å²å²å²å²å²å²µå²¢å²½å²¬å²«å²±å²£å³å²·å³å³å³¤å³å³¥å´å´å´§å´¦å´®å´¤å´å´å´åµå´¾å´´å´½åµ¬åµåµ¯åµåµ«åµåµåµ©åµ´å¶å¶å¶è±³å¶·å·å½³å½·å¾å¾å¾å¾å¾å¾å¾å¾¨å¾­å¾µå¾¼è¡¢å½¡ç­ç°ç´ç·ç¸çççççç¨ç¯ç©ç²ç´ç·çç³ççºï¿½".split("");
for(j = 0; j != D[225].length; ++j) if(D[225][j].charCodeAt(0) !== 0xFFFD) { e[D[225][j]] = 57600 + j; d[57600 + j] = D[225][j];}
D[226] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç»ççç¡ççççç¢ç¹ç¥ç¬ç¸ç±çççç ç¬ç¯ç¾èå¤¥é£§å¤¤å¤é¥£é¥§é¥¨é¥©é¥ªé¥«é¥¬é¥´é¥·é¥½é¦é¦é¦é¦é¦é¦é¦é¦é¦é¦åºåºåºåºåº¥åº åº¹åºµåº¾åº³èµå»å»å»å»¨å»ªèºå¿å¿å¿å¿æå¿®æå¿¡å¿¤å¿¾ææå¿ªå¿­å¿¸ææµæ¦ææææ©æ«ææ¿æ¡æ¸æ¹æ»æºæï¿½".split("");
for(j = 0; j != D[226].length; ++j) if(D[226][j].charCodeAt(0) !== 0xFFFD) { e[D[226][j]] = 57856 + j; d[57856 + j] = D[226][j];}
D[227] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æªæ½æææ­ææææææ¬æ»æ±æææææ´æ æ¦ææ£æ´æææ«ææµæ¬ææ§æ·ææµå¿é³é©é«é±é³éµé¶é¼é¾éééééééééééééééä¸¬ç¿ææ°µæ±æ±æ±æ²£æ²æ²æ²æ²æ±¨æ±©æ±´æ±¶æ²æ²©æ³æ³æ²­æ³·æ³¸æ³±æ³æ²²æ³ æ³æ³ºæ³«æ³®æ²±æ³æ³¯æ³¾ï¿½".split("");
for(j = 0; j != D[227].length; ++j) if(D[227][j].charCodeAt(0) !== 0xFFFD) { e[D[227][j]] = 58112 + j; d[58112 + j] = D[227][j];}
D[228] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ´¹æ´§æ´æµæµæ´æ´æ´æ´æ´«æµæ´®æ´µæ´æµæµæµæ´³æ¶æµ¯æ¶æ¶ æµæ¶æ¶æµæµ æµ¼æµ£æ¸æ·æ·æ·æ¸æ¶¿æ· æ¸æ·¦æ·æ·æ¸æ¶«æ¸æ¶®æ¸«æ¹®æ¹æ¹«æº²æ¹æºæ¹æ¹æ¸²æ¸¥æ¹æ»æº±æºæ» æ¼­æ»¢æº¥æº§æº½æº»æº·æ»æº´æ»æºæ»æºæ½¢æ½æ½æ¼¤æ¼æ»¹æ¼¯æ¼¶æ½æ½´æ¼ªæ¼æ¼©æ¾æ¾æ¾æ½¸æ½²æ½¼æ½ºæ¿ï¿½".split("");
for(j = 0; j != D[228].length; ++j) if(D[228][j].charCodeAt(0) !== 0xFFFD) { e[D[228][j]] = 58368 + j; d[58368 + j] = D[228][j];}
D[229] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¿æ¾§æ¾¹æ¾¶æ¿æ¿¡æ¿®æ¿æ¿ æ¿¯çç£çç¹çµççå®å®å®å®å®¥å®¸ç¯éªæ´å¯¤å¯®è¤°å¯°è¹è¬è¾¶è¿è¿è¿¥è¿®è¿¤è¿©è¿¦è¿³è¿¨éééé¦éééé¡éµé¶é­é¯ééééé¨éé¢éæ¹é´é½ééééå½å½å½å½å°»å«å±å±å­±å±£å±¦ç¾¼å¼ªå¼©å¼­è´å¼¼é¬»å±®å¦å¦å¦å¦©å¦ªå¦£ï¿½".split("");
for(j = 0; j != D[229].length; ++j) if(D[229][j].charCodeAt(0) !== 0xFFFD) { e[D[229][j]] = 58624 + j; d[58624 + j] = D[229][j];}
D[230] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å¦å§å¦«å¦å¦¤å§å¦²å¦¯å§å¦¾å¨å¨å§å¨å§£å§å§¹å¨å¨å¨²å¨´å¨å¨£å¨å©å©§å©å©å¨¼å©¢å©µè¬åªªåªå©·å©ºåª¾å««åª²å«å«åª¸å« å«£å«±å«å«¦å«å«å¬å¬å¬å¬²å¬·å­å°å°å­å­¥å­³å­å­å­¢é©µé©·é©¸é©ºé©¿é©½éªéªéªéªéªéªéªéªéªéªéªéªéªéªéª éª¢éª£éª¥éª§çºçº¡çº£çº¥çº¨çº©ï¿½".split("");
for(j = 0; j != D[230].length; ++j) if(D[230][j].charCodeAt(0) !== 0xFFFD) { e[D[230][j]] = 58880 + j; d[58880 + j] = D[230][j];}
D[231] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çº­çº°çº¾ç»ç»ç»ç»ç»ç»ç»ç»ç»ç»ç» ç»¡ç»¨ç»«ç»®ç»¯ç»±ç»²ç¼ç»¶ç»ºç»»ç»¾ç¼ç¼ç¼ç¼ç¼ç¼ç¼ç¼ç¼ç¼ç¼ç¼ç¼ç¼ç¼ç¼¡ç¼¢ç¼£ç¼¤ç¼¥ç¼¦ç¼§ç¼ªç¼«ç¼¬ç¼­ç¼¯ç¼°ç¼±ç¼²ç¼³ç¼µå¹ºç¿å·ç¾éççç®ç¢ççççç·ç³çççç¥çé¡¼çç©ç§ççºç²ççªçç¦ç¥ç¨ç°ç®ç¬ï¿½".split("");
for(j = 0; j != D[231].length; ++j) if(D[231][j].charCodeAt(0) !== 0xFFFD) { e[D[231][j]] = 59136 + j; d[59136 + j] = D[231][j];}
D[232] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çççççççç·ç­ç¾çççççççç¨ç©çç§ççºéªé«é¬æææææ©æ¥ææªæ³ææ§æµæ¨ææ­ææ·æ¼æ°æ ææ æ©æ°æ ææµææ³ææ ææ¸æ¢æ ææ½æ ²æ ³æ¡ æ¡¡æ¡æ¡¢æ¡æ¡¤æ¢æ æ¡æ¡¦æ¡æ¡§æ¡æ ¾æ¡æ¡æ ©æ¢µæ¢æ¡´æ¡·æ¢æ¡«æ£æ¥®æ£¼æ¤æ¤ æ£¹ï¿½".split("");
for(j = 0; j != D[232].length; ++j) if(D[232][j].charCodeAt(0) !== 0xFFFD) { e[D[232][j]] = 59392 + j; d[59392 + j] = D[232][j];}
D[233] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¤¤æ£°æ¤æ¤æ¥æ££æ¤æ¥±æ¤¹æ¥ æ¥æ¥æ¦æ¥«æ¦æ¦æ¥¸æ¤´æ§æ¦æ¦æ§æ¦æ¥¦æ¥£æ¥¹æ¦æ¦§æ¦»æ¦«æ¦­æ§æ¦±æ§æ§æ§æ¦æ§ æ¦æ§¿æ¨¯æ§­æ¨æ¨æ©¥æ§²æ©æ¨¾æª æ©æ©æ¨µæªæ©¹æ¨½æ¨¨æ©æ©¼æªæªæª©æªæª«ç·çæ®æ®æ®æ®æ®æ®æ®æ®æ®æ®¡æ®ªè½«è½­è½±è½²è½³è½µè½¶è½¸è½·è½¹è½ºè½¼è½¾è¾è¾è¾è¾è¾ï¿½".split("");
for(j = 0; j != D[233].length; ++j) if(D[233][j].charCodeAt(0) !== 0xFFFD) { e[D[233][j]] = 59648 + j; d[59648 + j] = D[233][j];}
D[234] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è¾è¾è¾è¾è¾è»æææææ¢æ¡æ¥æ¤æ¬è§ç¯ç´ç¿çççæ´æ®æ¯æ°æææ²æææçæ·ææ´æ±æ¶æµèææææææ¡ææ·æææ§ææ¾æææ¦æ©è´²è´³è´¶è´»è´½èµèµèµèµèµèµèµèµèµè§è§è§è§è§è§è§è§ç®ççç¦ç¯ç¾ç¿çççççææ²æ°ï¿½".split("");
for(j = 0; j != D[234].length; ++j) if(D[234][j].charCodeAt(0) !== 0xFFFD) { e[D[234][j]] = 59904 + j; d[59904 + j] = D[234][j];}
D[235] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¿æèæ¯ªæ¯³æ¯½æ¯µæ¯¹æ°æ°æ°æ°æ°æ°æ°æ°æ°¡æ°©æ°¤æ°ªæ°²æµææ«çççç°è¢åèèèè¼æè½è±è«è­è´è·è§è¨è©èªèèèèèèæèè«è±è´è­èèè²è¼æèè±è¶èè¬èè²èèèè´èèè±è è©è¼è½è­è§å¡åªµèèèæ»è£èªèæ¦èè»ï¿½".split("");
for(j = 0; j != D[235].length; ++j) if(D[235][j].charCodeAt(0) !== 0xFFFD) { e[D[235][j]] = 60160 + j; d[60160 + j] = D[235][j];}
D[236] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èè¦æ¬¤æ¬·æ¬¹æ­æ­æ­é£é£é£é£é£é£æ®³å½æ¯è§³æé½ææ¼æææææææççççç»çç·ç«ç±ç¨ççççç¯ç±ç³çç¨çç²çç¸çºçç³çµç¨ç ç çç§ç¹çç¨ç¬çç¦ç¹æ¾æ½æææç¤»ç¥ç¥ç¥ç¥ç¥ç¥ç¥ç¥¢ç¥ç¥ ç¥¯ç¥§ç¥ºç¦ç¦ç¦ç¦§ç¦³å¿å¿ï¿½".split("");
for(j = 0; j != D[236].length; ++j) if(D[236][j].charCodeAt(0) !== 0xFFFD) { e[D[236][j]] = 60416 + j; d[60416 + j] = D[236][j];}
D[237] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ¼æææ§æææ£æ«ææææ©ææææèè¿æ²æ³¶æ·¼ç¶ç¸ç ç ç ç ç æ«ç ­ç ç ç ¹ç ºç »ç ç ¼ç ¥ç ¬ç £ç ©ç¡ç¡­ç¡ç¡ç ¦ç¡ç¡ç¡ç¡ªç¢ç¢ç¢ç¢ç¢ç¢¡ç¢£ç¢²ç¢¹ç¢¥ç£ç£ç£ç£¬ç£²ç¤ç£´ç¤ç¤¤ç¤ç¤´é¾é»¹é»»é»¼ç±ççç¹çççç¢çç­ç¦çµç¸çççççç¨ï¿½".split("");
for(j = 0; j != D[237].length; ++j) if(D[237][j].charCodeAt(0) !== 0xFFFD) { e[D[237][j]] = 60672 + j; d[60672 + j] = D[237][j];}
D[238] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¢ç¥ç¿çç½ççççç ç°çµç½çºçççççç²ç¹çç½ç½¡ç½è©ç½¨ç½´ç½±ç½¹ç¾ç½¾çç¥è ²éééééééééééééééé£é¤é«éªé­é¬é¯é°é²é´é¶é·é¸é¹éºé¼é½é¿éééééééééééééééééééé é¢é¤é¥é§é¨éªï¿½".split("");
for(j = 0; j != D[238].length; ++j) if(D[238][j].charCodeAt(0) !== 0xFFFD) { e[D[238][j]] = 60928 + j; d[60928 + j] = D[238][j];}
D[239] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é©é«é®é¯é³é´éµé·é¹é¼é½é¿éééééééééééééééééééé¢éªé«é©é¬é±é²é´é¶é·é¸é¼é¾é¿ééµééééééééééééééééééé¡é¢é¤é¥é¦é§é¨é©éªé«é¬é¯é±é²é³éºç§ç¬éç§ç§­ç§£ç§«ç¨åµç¨ç¨ç¨ç¨ï¿½".split("");
for(j = 0; j != D[239].length; ++j) if(D[239][j].charCodeAt(0) !== 0xFFFD) { e[D[239][j]] = 61184 + j; d[61184 + j] = D[239][j];}
D[240] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç¨¹ç¨·ç©é»é¦¥ç©°ççççç¤çç ç¬é¸ é¸¢é¸¨é¸©é¸ªé¸«é¸¬é¸²é¸±é¸¶é¸¸é¸·é¸¹é¸ºé¸¾é¹é¹é¹é¹é¹é¹é¹é¹é¹é¹é¹é¹é¹é¹é¹é¹é¹é¹£é¹¦é¹§é¹¨é¹©é¹ªé¹«é¹¬é¹±é¹­é¹³çççç çç¬ç£ç³ç´ç¸çç±ç°ççççç£ç¨ç¦ç¤ç«ç§çç±ç¼ç¿ççççççç¥çççï¿½".split("");
for(j = 0; j != D[240].length; ++j) if(D[240][j].charCodeAt(0) !== 0xFFFD) { e[D[240][j]] = 61440 + j; d[61440 + j] = D[240][j];}
D[241] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çç¼ç¢ç çç­ç°ç¿çµçç¾ç³çççççç«ç¯ç¿ç«¦ç©¸ç©¹çªçªçªçªçª¦çª çª¬çª¨çª­çª³è¡¤è¡©è¡²è¡½è¡¿è¢è¢¢è£è¢·è¢¼è£è£¢è£è££è£¥è£±è¤è£¼è£¨è£¾è£°è¤¡è¤è¤è¤è¤è¤´è¤«è¤¶è¥è¥¦è¥»çè¥ç²ç´çèèèèè è¢è¥è¦è§è©è¨è±èèµèèèèè©è±è¦é¡¸é¢é¢ï¿½".split("");
for(j = 0; j != D[241].length; ++j) if(D[241][j].charCodeAt(0) !== 0xFFFD) { e[D[241][j]] = 61696 + j; d[61696 + j] = D[241][j];}
D[242] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¢é¢é¢é¢é¢é¢é¢é¢é¢é¢¡é¢¢é¢¥é¢¦èèè¬è®è¿èºè¼è»è¨èèè¬èè§è£èªèè©è¶èèµèè°èºè±è¯èèè´è©è±è²è­è³èèèè´èèèèèè¸èèèèè£è»èè¥è®èè¾èè´è±è©è·è¿èè¢è½è¾è»è è°èè®èèè£è¼è¤èè¥èè¯è¨èï¿½".split("");
for(j = 0; j != D[242].length; ++j) if(D[242][j].charCodeAt(0) !== 0xFFFD) { e[D[242][j]] = 61952 + j; d[61952 + j] = D[242][j];}
D[243] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½èèèè­èèè«è¥è¬èµè³èèè½èèèèèªè è®è è è¾è è è ¡è ¹è ¼ç¼¶ç½ç½ç½èç«ºç«½ç¬ç¬ç¬ç¬ç¬ç¬«ç¬ç­ç¬¸ç¬ªç¬ç¬®ç¬±ç¬ ç¬¥ç¬¤ç¬³ç¬¾ç¬ç­ç­ç­ç­µç­ç­ç­ ç­®ç­»ç­¢ç­²ç­±ç®ç®¦ç®§ç®¸ç®¬ç®ç®¨ç®ç®ªç®ç®¢ç®«ç®´ç¯ç¯ç¯ç¯ç¯ç¯¥ç¯¦ç¯ªç°ç¯¾ç¯¼ç°ç°ç°ï¿½".split("");
for(j = 0; j != D[243].length; ++j) if(D[243][j].charCodeAt(0) !== 0xFFFD) { e[D[243][j]] = 62208 + j; d[62208 + j] = D[243][j];}
D[244] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç°ç°ªç°¦ç°¸ç±ç±è¾èèèè¬è¡è¡è¢è£è­è¯è¨è«è¸è»è³è´è¾èèèèèèè¨è¡¾è¢è¢è£è£è¥ç¾ç¾ç¾§ç¾¯ç¾°ç¾²ç±¼æç²ç²ç²ç²ç²¢ç²²ç²¼ç²½ç³ç³ç³ç³ç³ç³ç³ç³¨è®æ¨ç¾¿ç¿ç¿ç¿¥ç¿¡ç¿¦ç¿©ç¿®ç¿³ç³¸çµ·ç¶¦ç¶®ç¹çºéº¸éº´èµ³è¶è¶è¶è¶±èµ§èµ­è±è±ééééé¤ï¿½".split("");
for(j = 0; j != D[244].length; ++j) if(D[244][j].charCodeAt(0) !== 0xFFFD) { e[D[244][j]] = 62464 + j; d[62464 + j] = D[244][j];}
D[245] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é¢é¡é°é©é¯é½é¾é²é´é¹éééééé¢é£éªé­é®é¯éµé´éºè±é¹¾è¶¸è·«è¸è¹è¹©è¶µè¶¿è¶¼è¶ºè·è·è·è·è·è·è·è·è·è·¬è··è·¸è·£è·¹è·»è·¤è¸è·½è¸è¸è¸è¸¬è¸®è¸£è¸¯è¸ºè¹è¸¹è¸µè¸½è¸±è¹è¹è¹è¹è¹è¹è¹°è¹¶è¹¼è¹¯è¹´èºèºèºèºèºèºè±¸è²è²è²è²è²æè§è§è§è§ï¿½".split("");
for(j = 0; j != D[245].length; ++j) if(D[245][j].charCodeAt(0) !== 0xFFFD) { e[D[245][j]] = 62720 + j; d[62720 + j] = D[245][j];}
D[246] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è§¥è§«è§¯è¨¾è¬¦éé©é³é¯ééééééªé­é°é¾é¾é¾é¾é¾é¾é¾é¾é¾é¾é»¾é¼é¼é¹é¼é½ééç¿é éé®éé¾éªééé¾é«é±¿é²é²é²é²é²ç¨£é²é²é²é²é²é²é²é²é²é²é²é² é²¡é²¢é²£é²¥é²¦é²§é²¨é²©é²«é²­é²®é²°é²±é²²é²³é²´é²µé²¶é²·é²ºé²»é²¼é²½é³é³é³é³é³é³ï¿½".split("");
for(j = 0; j != D[246].length; ++j) if(D[246][j].charCodeAt(0) !== 0xFFFD) { e[D[246][j]] = 62976 + j; d[62976 + j] = D[246][j];}
D[247] = "ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½é³é³é³é³é³é³é³é³é³é³é³é³é³é³é³¢é¼ééééé¯é«é£é²é´éª±éª°éª·é¹éª¶éªºéª¼é«é«é«é«é«é«é«é­é­é­é­é­é­é­é£¨é¤é¤®é¥é¥é«é«¡é«¦é«¯é««é«»é«­é«¹é¬é¬é¬é¬é¬£éº½éº¾ç¸»éºéºéºéºéºééºéºé»é»é»é» é»é»¢é»©é»§é»¥é»ªé»¯é¼¢é¼¬é¼¯é¼¹é¼·é¼½é¼¾é½ï¿½".split("");
for(j = 0; j != D[247].length; ++j) if(D[247][j].charCodeAt(0) !== 0xFFFD) { e[D[247][j]] = 63232 + j; d[63232 + j] = D[247][j];}
return {"enc": e, "dec": d }; })();
cptable[10029] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÃÄÄÃÄÃÃÃ¡ÄÄÃ¤ÄÄÄÃ©Å¹ÅºÄÃ­ÄÄÄÄÃ³ÄÃ´Ã¶ÃµÃºÄÄÃ¼â Â°ÄÂ£Â§â¢Â¶ÃÂ®Â©â¢ÄÂ¨â Ä£Ä®Ä¯Äªâ¤â¥Ä«Ä¶ââÅÄ»Ä¼Ä½Ä¾Ä¹ÄºÅÅÅÂ¬âÅÅâÂ«Â»â¦Â ÅÅÃÅÅââââââÃ·âÅÅÅÅâ¹âºÅÅÅÅ ââÅ¡ÅÅÃÅ¤Å¥ÃÅ½Å¾ÅªÃÃÅ«Å®ÃÅ¯Å°Å±Å²Å³ÃÃ½Ä·Å»ÅÅ¼Ä¢Ë", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[10079] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÃÃÃÃÃÃÃÃ¡Ã Ã¢Ã¤Ã£Ã¥Ã§Ã©Ã¨ÃªÃ«Ã­Ã¬Ã®Ã¯Ã±Ã³Ã²Ã´Ã¶ÃµÃºÃ¹Ã»Ã¼ÃÂ°Â¢Â£Â§â¢Â¶ÃÂ®Â©â¢Â´Â¨â ÃÃâÂ±â¤â¥Â¥ÂµâââÏâ«ÂªÂºâ¦Ã¦Ã¸Â¿Â¡Â¬âÆââÂ«Â»â¦Â ÃÃÃÅÅââââââÃ·âÃ¿Å¸âÂ¤ÃÃ°ÃÃ¾Ã½Â·âââ°ÃÃÃÃÃÃÃÃÃÃÃï¿½ÃÃÃÃÄ±ËËÂ¯ËËËÂ¸ËËË", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
cptable[10081] = (function(){ var d = "\u0000\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\u000b\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÃÃÃÃÃÃÃÃ¡Ã Ã¢Ã¤Ã£Ã¥Ã§Ã©Ã¨ÃªÃ«Ã­Ã¬Ã®Ã¯Ã±Ã³Ã²Ã´Ã¶ÃµÃºÃ¹Ã»Ã¼â Â°Â¢Â£Â§â¢Â¶ÃÂ®Â©â¢Â´Â¨â ÃÃâÂ±â¤â¥Â¥ÂµâââÏâ«ÂªÂºâ¦Ã¦Ã¸Â¿Â¡Â¬âÆââÂ«Â»â¦Â ÃÃÃÅÅââââââÃ·âÃ¿Å¸ÄÄÄ°Ä±ÅÅâ¡Â·âââ°ÃÃÃÃÃÃÃÃÃÃÃï¿½ÃÃÃÃï¿½ËËÂ¯ËËËÂ¸ËËË", D = [], e = {}; for(var i=0;i!=d.length;++i) { if(d.charCodeAt(i) !== 0xFFFD) e[d.charAt(i)] = i; D[i] = d.charAt(i); } return {"enc": e, "dec": D }; })();
// eslint-disable-next-line no-undef
if (typeof module !== 'undefined' && module.exports && typeof DO_NOT_EXPORT_CODEPAGE === 'undefined') module.exports = cptable;
/* cputils.js (C) 2013-present SheetJS -- http://sheetjs.com */
/* vim: set ft=javascript: */
/*jshint newcap: false */
(function(root, factory) {
  /*jshint ignore:start */
  /*eslint-disable */
  "use strict";
  if(typeof cptable === "undefined") {
    if(true){
      var cpt = cptable;
      if (typeof module !== 'undefined' && module.exports && typeof DO_NOT_EXPORT_CODEPAGE === 'undefined') module.exports = factory(cpt);
      else root.cptable = factory(cpt);
    } else {}
  } else cptable = factory(cptable);
  /*eslint-enable */
  /*jshint ignore:end */
}(this, function(cpt){
  "use strict";
  /*global module, Buffer */
  var magic = {
    "1200":"utf16le",
    "1201":"utf16be",
    "12000":"utf32le",
    "12001":"utf32be",
    "16969":"utf64le",
    "20127":"ascii",
    "65000":"utf7",
    "65001":"utf8"
  };

  var sbcs_cache = [874,1250,1251,1252,1253,1254,1255,1256,10000];
  var dbcs_cache = [932,936,949,950];
  var magic_cache = [65001];
  var magic_decode = {};
  var magic_encode = {};
  var cpdcache = {};
  var cpecache = {};

  var sfcc = function sfcc(x) { return String.fromCharCode(x); };
  var cca = function cca(x) { return x.charCodeAt(0); };

  var has_buf = (typeof Buffer !== 'undefined');
  var Buffer_from = function(){};
  if(has_buf) {
    var nbfs = !Buffer.from;
    if(!nbfs) try { Buffer.from("foo", "utf8"); } catch(e) { nbfs = true; }
    Buffer_from = nbfs ? function(buf, enc) { return (enc) ? new Buffer(buf, enc) : new Buffer(buf); } : Buffer.from.bind(Buffer);
    // $FlowIgnore
    if(!Buffer.allocUnsafe) Buffer.allocUnsafe = function(n) { return new Buffer(n); };

    var mdl = 1024, mdb = Buffer.allocUnsafe(mdl);
    var make_EE = function make_EE(E){
      var EE = Buffer.allocUnsafe(65536);
      for(var i = 0; i < 65536;++i) EE[i] = 0;
      var keys = Object.keys(E), len = keys.length;
      for(var ee = 0, e = keys[ee]; ee < len; ++ee) {
        if(!(e = keys[ee])) continue;
        EE[e.charCodeAt(0)] = E[e];
      }
      return EE;
    };
    var sbcs_encode = function make_sbcs_encode(cp) {
      var EE = make_EE(cpt[cp].enc);
      return function sbcs_e(data, ofmt) {
        var len = data.length;
        var out, i=0, j=0, D=0, w=0;
        if(typeof data === 'string') {
          out = Buffer.allocUnsafe(len);
          for(i = 0; i < len; ++i) out[i] = EE[data.charCodeAt(i)];
        } else if(Buffer.isBuffer(data)) {
          out = Buffer.allocUnsafe(2*len);
          j = 0;
          for(i = 0; i < len; ++i) {
            D = data[i];
            if(D < 128) out[j++] = EE[D];
            else if(D < 224) { out[j++] = EE[((D&31)<<6)+(data[i+1]&63)]; ++i; }
            else if(D < 240) { out[j++] = EE[((D&15)<<12)+((data[i+1]&63)<<6)+(data[i+2]&63)]; i+=2; }
            else {
              w = ((D&7)<<18)+((data[i+1]&63)<<12)+((data[i+2]&63)<<6)+(data[i+3]&63); i+=3;
              if(w < 65536) out[j++] = EE[w];
              else { w -= 65536; out[j++] = EE[0xD800 + ((w>>10)&1023)]; out[j++] = EE[0xDC00 + (w&1023)]; }
            }
          }
          out = out.slice(0,j);
        } else {
          out = Buffer.allocUnsafe(len);
          for(i = 0; i < len; ++i) out[i] = EE[data[i].charCodeAt(0)];
        }
        if(!ofmt || ofmt === 'buf') return out;
        if(ofmt !== 'arr') return out.toString('binary');
        return [].slice.call(out);
      };
    };
    var sbcs_decode = function make_sbcs_decode(cp) {
      var D = cpt[cp].dec;
      var DD = Buffer.allocUnsafe(131072), d=0, c="";
      for(d=0;d<D.length;++d) {
        if(!(c=D[d])) continue;
        var w = c.charCodeAt(0);
        DD[2*d] = w&255; DD[2*d+1] = w>>8;
      }
      return function sbcs_d(data) {
        var len = data.length, i=0, j=0;
        if(2 * len > mdl) { mdl = 2 * len; mdb = Buffer.allocUnsafe(mdl); }
        if(Buffer.isBuffer(data)) {
          for(i = 0; i < len; i++) {
            j = 2*data[i];
            mdb[2*i] = DD[j]; mdb[2*i+1] = DD[j+1];
          }
        } else if(typeof data === "string") {
          for(i = 0; i < len; i++) {
            j = 2*data.charCodeAt(i);
            mdb[2*i] = DD[j]; mdb[2*i+1] = DD[j+1];
          }
        } else {
          for(i = 0; i < len; i++) {
            j = 2*data[i];
            mdb[2*i] = DD[j]; mdb[2*i+1] = DD[j+1];
          }
        }
        return mdb.slice(0, 2 * len).toString('ucs2');
      };
    };
    var dbcs_encode = function make_dbcs_encode(cp) {
      var E = cpt[cp].enc;
      var EE = Buffer.allocUnsafe(131072);
      for(var i = 0; i < 131072; ++i) EE[i] = 0;
      var keys = Object.keys(E);
      for(var ee = 0, e = keys[ee]; ee < keys.length; ++ee) {
        if(!(e = keys[ee])) continue;
        var f = e.charCodeAt(0);
        EE[2*f] = E[e] & 255; EE[2*f+1] = E[e]>>8;
      }
      return function dbcs_e(data, ofmt) {
        var len = data.length, out = Buffer.allocUnsafe(2*len), i=0, j=0, jj=0, k=0, D=0;
        if(typeof data === 'string') {
          for(i = k = 0; i < len; ++i) {
            j = data.charCodeAt(i)*2;
            out[k++] = EE[j+1] || EE[j]; if(EE[j+1] > 0) out[k++] = EE[j];
          }
          out = out.slice(0,k);
        } else if(Buffer.isBuffer(data)) {
          for(i = k = 0; i < len; ++i) {
            D = data[i];
            if(D < 128) j = D;
            else if(D < 224) { j = ((D&31)<<6)+(data[i+1]&63); ++i; }
            else if(D < 240) { j = ((D&15)<<12)+((data[i+1]&63)<<6)+(data[i+2]&63); i+=2; }
            else { j = ((D&7)<<18)+((data[i+1]&63)<<12)+((data[i+2]&63)<<6)+(data[i+3]&63); i+=3; }
            if(j<65536) { j*=2; out[k++] = EE[j+1] || EE[j]; if(EE[j+1] > 0) out[k++] = EE[j]; }
            else { jj = j-65536;
              j=2*(0xD800 + ((jj>>10)&1023)); out[k++] = EE[j+1] || EE[j]; if(EE[j+1] > 0) out[k++] = EE[j];
              j=2*(0xDC00 + (jj&1023)); out[k++] = EE[j+1] || EE[j]; if(EE[j+1] > 0) out[k++] = EE[j];
            }
          }
          out = out.slice(0,k);
        } else {
          for(i = k = 0; i < len; i++) {
            j = data[i].charCodeAt(0)*2;
            out[k++] = EE[j+1] || EE[j]; if(EE[j+1] > 0) out[k++] = EE[j];
          }
        }
        if(!ofmt || ofmt === 'buf') return out;
        if(ofmt !== 'arr') return out.toString('binary');
        return [].slice.call(out);
      };
    };
    var dbcs_decode = function make_dbcs_decode(cp) {
      var D = cpt[cp].dec;
      var DD = Buffer.allocUnsafe(131072), d=0, c, w=0, j=0, i=0;
      for(i = 0; i < 65536; ++i) { DD[2*i] = 0xFF; DD[2*i+1] = 0xFD;}
      for(d = 0; d < D.length; ++d) {
        if(!(c=D[d])) continue;
        w = c.charCodeAt(0);
        j = 2*d;
        DD[j] = w&255; DD[j+1] = w>>8;
      }
      return function dbcs_d(data) {
        var len = data.length, out = Buffer.allocUnsafe(2*len), i=0, j=0, k=0;
        if(Buffer.isBuffer(data)) {
          for(i = 0; i < len; i++) {
            j = 2*data[i];
            if(DD[j]===0xFF && DD[j+1]===0xFD) { j=2*((data[i]<<8)+data[i+1]); ++i; }
            out[k++] = DD[j]; out[k++] = DD[j+1];
          }
        } else if(typeof data === "string") {
          for(i = 0; i < len; i++) {
            j = 2*data.charCodeAt(i);
            if(DD[j]===0xFF && DD[j+1]===0xFD) { j=2*((data.charCodeAt(i)<<8)+data.charCodeAt(i+1)); ++i; }
            out[k++] = DD[j]; out[k++] = DD[j+1];
          }
        } else {
          for(i = 0; i < len; i++) {
            j = 2*data[i];
            if(DD[j]===0xFF && DD[j+1]===0xFD) { j=2*((data[i]<<8)+data[i+1]); ++i; }
            out[k++] = DD[j]; out[k++] = DD[j+1];
          }
        }
        return out.slice(0,k).toString('ucs2');
      };
    };
    magic_decode[65001] = function utf8_d(data) {
      if(typeof data === "string") return utf8_d(data.split("").map(cca));
      var len = data.length, w = 0, ww = 0;
      if(4 * len > mdl) { mdl = 4 * len; mdb = Buffer.allocUnsafe(mdl); }
      var i = 0;
      if(len >= 3 && data[0] == 0xEF) if(data[1] == 0xBB && data[2] == 0xBF) i = 3;
      for(var j = 1, k = 0, D = 0; i < len; i+=j) {
        j = 1; D = data[i];
        if(D < 128) w = D;
        else if(D < 224) { w=(D&31)*64+(data[i+1]&63); j=2; }
        else if(D < 240) { w=((D&15)<<12)+(data[i+1]&63)*64+(data[i+2]&63); j=3; }
        else { w=(D&7)*262144+((data[i+1]&63)<<12)+(data[i+2]&63)*64+(data[i+3]&63); j=4; }
        if(w < 65536) { mdb[k++] = w&255; mdb[k++] = w>>8; }
        else {
          w -= 65536; ww = 0xD800 + ((w>>10)&1023); w = 0xDC00 + (w&1023);
          mdb[k++] = ww&255; mdb[k++] = ww>>>8; mdb[k++] = w&255; mdb[k++] = (w>>>8)&255;
        }
      }
      return mdb.slice(0,k).toString('ucs2');
    };
    magic_encode[65001] = function utf8_e(data, ofmt) {
      if(has_buf && Buffer.isBuffer(data)) {
        if(!ofmt || ofmt === 'buf') return data;
        if(ofmt !== 'arr') return data.toString('binary');
        return [].slice.call(data);
      }
      var len = data.length, w = 0, ww = 0, j = 0;
      var direct = typeof data === "string";
      if(4 * len > mdl) { mdl = 4 * len; mdb = Buffer.allocUnsafe(mdl); }
      for(var i = 0; i < len; ++i) {
        w = direct ? data.charCodeAt(i) : data[i].charCodeAt(0);
        if(w <= 0x007F) mdb[j++] = w;
        else if(w <= 0x07FF) {
          mdb[j++] = 192 + (w >> 6);
          mdb[j++] = 128 + (w&63);
        } else if(w >= 0xD800 && w <= 0xDFFF) {
          w -= 0xD800; ++i;
          ww = (direct ? data.charCodeAt(i) : data[i].charCodeAt(0)) - 0xDC00 + (w << 10);
          mdb[j++] = 240 + ((ww>>>18) & 0x07);
          mdb[j++] = 144 + ((ww>>>12) & 0x3F);
          mdb[j++] = 128 + ((ww>>>6) & 0x3F);
          mdb[j++] = 128 + (ww & 0x3F);
        } else {
          mdb[j++] = 224 + (w >> 12);
          mdb[j++] = 128 + ((w >> 6)&63);
          mdb[j++] = 128 + (w&63);
        }
      }
      if(!ofmt || ofmt === 'buf') return mdb.slice(0,j);
      if(ofmt !== 'arr') return mdb.slice(0,j).toString('binary');
      return [].slice.call(mdb, 0, j);
    };
  }

  var encache = function encache() {
    if(has_buf) {
      if(cpdcache[sbcs_cache[0]]) return;
      var i=0, s=0;
      for(i = 0; i < sbcs_cache.length; ++i) {
        s = sbcs_cache[i];
        if(cpt[s]) {
          cpdcache[s] = sbcs_decode(s);
          cpecache[s] = sbcs_encode(s);
        }
      }
      for(i = 0; i < dbcs_cache.length; ++i) {
        s = dbcs_cache[i];
        if(cpt[s]) {
          cpdcache[s] = dbcs_decode(s);
          cpecache[s] = dbcs_encode(s);
        }
      }
      for(i = 0; i < magic_cache.length; ++i) {
        s = magic_cache[i];
        if(magic_decode[s]) cpdcache[s] = magic_decode[s];
        if(magic_encode[s]) cpecache[s] = magic_encode[s];
      }
    }
  };
  var null_enc = function(data, ofmt) { void ofmt; return ""; };
  var cp_decache = function cp_decache(cp) { delete cpdcache[cp]; delete cpecache[cp]; };
  var decache = function decache() {
    if(has_buf) {
      if(!cpdcache[sbcs_cache[0]]) return;
      sbcs_cache.forEach(cp_decache);
      dbcs_cache.forEach(cp_decache);
      magic_cache.forEach(cp_decache);
    }
    last_enc = null_enc; last_cp = 0;
  };
  var cache = {
    encache: encache,
    decache: decache,
    sbcs: sbcs_cache,
    dbcs: dbcs_cache
  };

  encache();

  var BM = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
  var SetD = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'(),-./:?";
  var last_enc = null_enc, last_cp = 0;
  var encode = function encode(cp, data, ofmt) {
    if(cp === last_cp && last_enc) { return last_enc(data, ofmt); }
    if(cpecache[cp]) { last_enc = cpecache[last_cp=cp]; return last_enc(data, ofmt); }
    if(has_buf && Buffer.isBuffer(data)) data = data.toString('utf8');
    var len = data.length;
    var out = has_buf ? Buffer.allocUnsafe(4*len) : [], w=0, i=0, j = 0, ww=0;
    var C = cpt[cp], E, M = "";
    var isstr = typeof data === 'string';
    if(C && (E=C.enc)) for(i = 0; i < len; ++i, ++j) {
      w = E[isstr? data.charAt(i) : data[i]];
      if(w > 255) {
        out[j] = w>>8;
        out[++j] = w&255;
      } else out[j] = w&255;
    }
    else if((M=magic[cp])) switch(M) {
      case "utf8":
        if(has_buf && isstr) { out = Buffer_from(data, M); j = out.length; break; }
        for(i = 0; i < len; ++i, ++j) {
          w = isstr ? data.charCodeAt(i) : data[i].charCodeAt(0);
          if(w <= 0x007F) out[j] = w;
          else if(w <= 0x07FF) {
            out[j]   = 192 + (w >> 6);
            out[++j] = 128 + (w&63);
          } else if(w >= 0xD800 && w <= 0xDFFF) {
            w -= 0xD800;
            ww = (isstr ? data.charCodeAt(++i) : data[++i].charCodeAt(0)) - 0xDC00 + (w << 10);
            out[j]   = 240 + ((ww>>>18) & 0x07);
            out[++j] = 144 + ((ww>>>12) & 0x3F);
            out[++j] = 128 + ((ww>>>6) & 0x3F);
            out[++j] = 128 + (ww & 0x3F);
          } else {
            out[j]   = 224 + (w >> 12);
            out[++j] = 128 + ((w >> 6)&63);
            out[++j] = 128 + (w&63);
          }
        }
        break;
      case "ascii":
        if(has_buf && typeof data === "string") { out = Buffer_from(data, M); j = out.length; break; }
        for(i = 0; i < len; ++i, ++j) {
          w = isstr ? data.charCodeAt(i) : data[i].charCodeAt(0);
          if(w <= 0x007F) out[j] = w;
          else throw new Error("bad ascii " + w);
        }
        break;
      case "utf16le":
        if(has_buf && typeof data === "string") { out = Buffer_from(data, M); j = out.length; break; }
        for(i = 0; i < len; ++i) {
          w = isstr ? data.charCodeAt(i) : data[i].charCodeAt(0);
          out[j++] = w&255;
          out[j++] = w>>8;
        }
        break;
      case "utf16be":
        for(i = 0; i < len; ++i) {
          w = isstr ? data.charCodeAt(i) : data[i].charCodeAt(0);
          out[j++] = w>>8;
          out[j++] = w&255;
        }
        break;
      case "utf32le":
        for(i = 0; i < len; ++i) {
          w = isstr ? data.charCodeAt(i) : data[i].charCodeAt(0);
          if(w >= 0xD800 && w <= 0xDFFF) w = 0x10000 + ((w - 0xD800) << 10) + (data[++i].charCodeAt(0) - 0xDC00);
          out[j++] = w&255; w >>= 8;
          out[j++] = w&255; w >>= 8;
          out[j++] = w&255; w >>= 8;
          out[j++] = w&255;
        }
        break;
      case "utf32be":
        for(i = 0; i < len; ++i) {
          w = isstr ? data.charCodeAt(i) : data[i].charCodeAt(0);
          if(w >= 0xD800 && w <= 0xDFFF) w = 0x10000 + ((w - 0xD800) << 10) + (data[++i].charCodeAt(0) - 0xDC00);
          out[j+3] = w&255; w >>= 8;
          out[j+2] = w&255; w >>= 8;
          out[j+1] = w&255; w >>= 8;
          out[j] = w&255;
          j+=4;
        }
        break;
      case "utf7":
        for(i = 0; i < len; i++) {
          var c = isstr ? data.charAt(i) : data[i].charAt(0);
          if(c === "+") { out[j++] = 0x2b; out[j++] = 0x2d; continue; }
          if(SetD.indexOf(c) > -1) { out[j++] = c.charCodeAt(0); continue; }
          var tt = encode(1201, c);
          out[j++] = 0x2b;
          out[j++] = BM.charCodeAt(tt[0]>>2);
          out[j++] = BM.charCodeAt(((tt[0]&0x03)<<4) + ((tt[1]||0)>>4));
          out[j++] = BM.charCodeAt(((tt[1]&0x0F)<<2) + ((tt[2]||0)>>6));
          out[j++] = 0x2d;
        }
        break;
      default: throw new Error("Unsupported magic: " + cp + " " + magic[cp]);
    }
    else throw new Error("Unrecognized CP: " + cp);
    out = out.slice(0,j);
    if(!has_buf) return (ofmt == 'str') ? (out).map(sfcc).join("") : out;
    if(!ofmt || ofmt === 'buf') return out;
    if(ofmt !== 'arr') return out.toString('binary');
    return [].slice.call(out);
  };
  var decode = function decode(cp, data) {
    var F; if((F=cpdcache[cp])) return F(data);
    if(typeof data === "string") return decode(cp, data.split("").map(cca));
    var len = data.length, out = new Array(len), s="", w=0, i=0, j=1, k=0, ww=0;
    var C = cpt[cp], D, M="";
    if(C && (D=C.dec)) {
      for(i = 0; i < len; i+=j) {
        j = 2;
        s = D[(data[i]<<8)+ data[i+1]];
        if(!s) {
          j = 1;
          s = D[data[i]];
        }
        if(!s) throw new Error('Unrecognized code: ' + data[i] + ' ' + data[i+j-1] + ' ' + i + ' ' + j + ' ' + D[data[i]]);
        out[k++] = s;
      }
    }
    else if((M=magic[cp])) switch(M) {
      case "utf8":
        if(len >= 3 && data[0] == 0xEF) if(data[1] == 0xBB && data[2] == 0xBF) i = 3;
        for(; i < len; i+=j) {
          j = 1;
          if(data[i] < 128) w = data[i];
          else if(data[i] < 224) { w=(data[i]&31)*64+(data[i+1]&63); j=2; }
          else if(data[i] < 240) { w=((data[i]&15)<<12)+(data[i+1]&63)*64+(data[i+2]&63); j=3; }
          else { w=(data[i]&7)*262144+((data[i+1]&63)<<12)+(data[i+2]&63)*64+(data[i+3]&63); j=4; }
          if(w < 65536) { out[k++] = String.fromCharCode(w); }
          else {
            w -= 65536; ww = 0xD800 + ((w>>10)&1023); w = 0xDC00 + (w&1023);
            out[k++] = String.fromCharCode(ww); out[k++] = String.fromCharCode(w);
          }
        }
        break;
      case "ascii":
        if(has_buf && Buffer.isBuffer(data)) return data.toString(M);
        for(i = 0; i < len; i++) out[i] = String.fromCharCode(data[i]);
        k = len; break;
      case "utf16le":
        if(len >= 2 && data[0] == 0xFF) if(data[1] == 0xFE) i = 2;
        if(has_buf && Buffer.isBuffer(data)) return data.toString(M);
        j = 2;
        for(; i+1 < len; i+=j) {
          out[k++] = String.fromCharCode((data[i+1]<<8) + data[i]);
        }
        break;
      case "utf16be":
        if(len >= 2 && data[0] == 0xFE) if(data[1] == 0xFF) i = 2;
        j = 2;
        for(; i+1 < len; i+=j) {
          out[k++] = String.fromCharCode((data[i]<<8) + data[i+1]);
        }
        break;
      case "utf32le":
        if(len >= 4 && data[0] == 0xFF) if(data[1] == 0xFE && data[2] === 0 && data[3] === 0) i = 4;
        j = 4;
        for(; i < len; i+=j) {
          w = (data[i+3]<<24) + (data[i+2]<<16) + (data[i+1]<<8) + (data[i]);
          if(w > 0xFFFF) {
            w -= 0x10000;
            out[k++] = String.fromCharCode(0xD800 + ((w >> 10) & 0x3FF));
            out[k++] = String.fromCharCode(0xDC00 + (w & 0x3FF));
          }
          else out[k++] = String.fromCharCode(w);
        }
        break;
      case "utf32be":
        if(len >= 4 && data[3] == 0xFF) if(data[2] == 0xFE && data[1] === 0 && data[0] === 0) i = 4;
        j = 4;
        for(; i < len; i+=j) {
          w = (data[i]<<24) + (data[i+1]<<16) + (data[i+2]<<8) + (data[i+3]);
          if(w > 0xFFFF) {
            w -= 0x10000;
            out[k++] = String.fromCharCode(0xD800 + ((w >> 10) & 0x3FF));
            out[k++] = String.fromCharCode(0xDC00 + (w & 0x3FF));
          }
          else out[k++] = String.fromCharCode(w);
        }
        break;
      case "utf7":
        if(len >= 4 && data[0] == 0x2B && data[1] == 0x2F && data[2] == 0x76) {
          if(len >= 5 && data[3] == 0x38 && data[4] == 0x2D) i = 5;
          else if(data[3] == 0x38 || data[3] == 0x39 || data[3] == 0x2B || data[3] == 0x2F) i = 4;
        }
        for(; i < len; i+=j) {
          if(data[i] !== 0x2b) { j=1; out[k++] = String.fromCharCode(data[i]); continue; }
          j=1;
          if(data[i+1] === 0x2d) { j = 2; out[k++] = "+"; continue; }
          // eslint-disable-next-line no-useless-escape
          while(String.fromCharCode(data[i+j]).match(/[A-Za-z0-9+\/]/)) j++;
          var dash = 0;
          if(data[i+j] === 0x2d) { ++j; dash=1; }
          var tt = [];
          var o64 = "";
          var c1=0, c2=0, c3=0;
          var e1=0, e2=0, e3=0, e4=0;
          for(var l = 1; l < j - dash;) {
            e1 = BM.indexOf(String.fromCharCode(data[i+l++]));
            e2 = BM.indexOf(String.fromCharCode(data[i+l++]));
            c1 = e1 << 2 | e2 >> 4;
            tt.push(c1);
            e3 = BM.indexOf(String.fromCharCode(data[i+l++]));
            if(e3 === -1) break;
            c2 = (e2 & 15) << 4 | e3 >> 2;
            tt.push(c2);
            e4 = BM.indexOf(String.fromCharCode(data[i+l++]));
            if(e4 === -1) break;
            c3 = (e3 & 3) << 6 | e4;
            if(e4 < 64) tt.push(c3);
          }
          o64 = decode(1201, tt);
          for(l = 0; l < o64.length; ++l) out[k++] = o64.charAt(l);
        }
        break;
      default: throw new Error("Unsupported magic: " + cp + " " + magic[cp]);
    }
    else throw new Error("Unrecognized CP: " + cp);
    return out.slice(0,k).join("");
  };
  var hascp = function hascp(cp) { return !!(cpt[cp] || magic[cp]); };
  cpt.utils = { decode: decode, encode: encode, hascp: hascp, magic: magic, cache:cache };
  return cpt;
}));

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(4).Buffer))

/***/ }),
/* 9 */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as references for various `Number` constants. */
var MAX_SAFE_INTEGER = 9007199254740991;

/** `Object#toString` result references. */
var argsTag = '[object Arguments]',
    funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    mapTag = '[object Map]',
    objectTag = '[object Object]',
    promiseTag = '[object Promise]',
    setTag = '[object Set]',
    weakMapTag = '[object WeakMap]';

var dataViewTag = '[object DataView]';

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Used to detect unsigned integer values. */
var reIsUint = /^(?:0|[1-9]\d*)$/;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/**
 * A specialized version of `_.map` for arrays without support for iteratee
 * shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the new mapped array.
 */
function arrayMap(array, iteratee) {
  var index = -1,
      length = array ? array.length : 0,
      result = Array(length);

  while (++index < length) {
    result[index] = iteratee(array[index], index, array);
  }
  return result;
}

/**
 * The base implementation of `_.times` without support for iteratee shorthands
 * or max array length checks.
 *
 * @private
 * @param {number} n The number of times to invoke `iteratee`.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the array of results.
 */
function baseTimes(n, iteratee) {
  var index = -1,
      result = Array(n);

  while (++index < n) {
    result[index] = iteratee(index);
  }
  return result;
}

/**
 * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array
 * of key-value pairs for `object` corresponding to the property names of `props`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {Array} props The property names to get values for.
 * @returns {Object} Returns the key-value pairs.
 */
function baseToPairs(object, props) {
  return arrayMap(props, function(key) {
    return [key, object[key]];
  });
}

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Checks if `value` is a host object in IE < 9.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a host object, else `false`.
 */
function isHostObject(value) {
  // Many host objects are `Object` objects that can coerce to strings
  // despite having improperly defined `toString` methods.
  var result = false;
  if (value != null && typeof value.toString != 'function') {
    try {
      result = !!(value + '');
    } catch (e) {}
  }
  return result;
}

/**
 * Converts `map` to its key-value pairs.
 *
 * @private
 * @param {Object} map The map to convert.
 * @returns {Array} Returns the key-value pairs.
 */
function mapToArray(map) {
  var index = -1,
      result = Array(map.size);

  map.forEach(function(value, key) {
    result[++index] = [key, value];
  });
  return result;
}

/**
 * Creates a unary function that invokes `func` with its argument transformed.
 *
 * @private
 * @param {Function} func The function to wrap.
 * @param {Function} transform The argument transform.
 * @returns {Function} Returns the new function.
 */
function overArg(func, transform) {
  return function(arg) {
    return func(transform(arg));
  };
}

/**
 * Converts `set` to its value-value pairs.
 *
 * @private
 * @param {Object} set The set to convert.
 * @returns {Array} Returns the value-value pairs.
 */
function setToPairs(set) {
  var index = -1,
      result = Array(set.size);

  set.forEach(function(value) {
    result[++index] = [value, value];
  });
  return result;
}

/** Used for built-in method references. */
var funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to detect methods masquerading as native. */
var maskSrcKey = (function() {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? ('Symbol(src)_1.' + uid) : '';
}());

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' +
  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
);

/** Built-in value references. */
var propertyIsEnumerable = objectProto.propertyIsEnumerable;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeKeys = overArg(Object.keys, Object);

/* Built-in method references that are verified to be native. */
var DataView = getNative(root, 'DataView'),
    Map = getNative(root, 'Map'),
    Promise = getNative(root, 'Promise'),
    Set = getNative(root, 'Set'),
    WeakMap = getNative(root, 'WeakMap');

/** Used to detect maps, sets, and weakmaps. */
var dataViewCtorString = toSource(DataView),
    mapCtorString = toSource(Map),
    promiseCtorString = toSource(Promise),
    setCtorString = toSource(Set),
    weakMapCtorString = toSource(WeakMap);

/**
 * Creates an array of the enumerable property names of the array-like `value`.
 *
 * @private
 * @param {*} value The value to query.
 * @param {boolean} inherited Specify returning inherited property names.
 * @returns {Array} Returns the array of property names.
 */
function arrayLikeKeys(value, inherited) {
  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.
  // Safari 9 makes `arguments.length` enumerable in strict mode.
  var result = (isArray(value) || isArguments(value))
    ? baseTimes(value.length, String)
    : [];

  var length = result.length,
      skipIndexes = !!length;

  for (var key in value) {
    if ((inherited || hasOwnProperty.call(value, key)) &&
        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {
      result.push(key);
    }
  }
  return result;
}

/**
 * The base implementation of `getTag`.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */
function baseGetTag(value) {
  return objectToString.call(value);
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function baseKeys(object) {
  if (!isPrototype(object)) {
    return nativeKeys(object);
  }
  var result = [];
  for (var key in Object(object)) {
    if (hasOwnProperty.call(object, key) && key != 'constructor') {
      result.push(key);
    }
  }
  return result;
}

/**
 * Creates a `_.toPairs` or `_.toPairsIn` function.
 *
 * @private
 * @param {Function} keysFunc The function to get the keys of a given object.
 * @returns {Function} Returns the new pairs function.
 */
function createToPairs(keysFunc) {
  return function(object) {
    var tag = getTag(object);
    if (tag == mapTag) {
      return mapToArray(object);
    }
    if (tag == setTag) {
      return setToPairs(object);
    }
    return baseToPairs(object, keysFunc(object));
  };
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * Gets the `toStringTag` of `value`.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */
var getTag = baseGetTag;

// Fallback for data views, maps, sets, and weak maps in IE 11,
// for data views in Edge < 14, and promises in Node.js.
if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||
    (Map && getTag(new Map) != mapTag) ||
    (Promise && getTag(Promise.resolve()) != promiseTag) ||
    (Set && getTag(new Set) != setTag) ||
    (WeakMap && getTag(new WeakMap) != weakMapTag)) {
  getTag = function(value) {
    var result = objectToString.call(value),
        Ctor = result == objectTag ? value.constructor : undefined,
        ctorString = Ctor ? toSource(Ctor) : undefined;

    if (ctorString) {
      switch (ctorString) {
        case dataViewCtorString: return dataViewTag;
        case mapCtorString: return mapTag;
        case promiseCtorString: return promiseTag;
        case setCtorString: return setTag;
        case weakMapCtorString: return weakMapTag;
      }
    }
    return result;
  };
}

/**
 * Checks if `value` is a valid array-like index.
 *
 * @private
 * @param {*} value The value to check.
 * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
 * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
 */
function isIndex(value, length) {
  length = length == null ? MAX_SAFE_INTEGER : length;
  return !!length &&
    (typeof value == 'number' || reIsUint.test(value)) &&
    (value > -1 && value % 1 == 0 && value < length);
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && (maskSrcKey in func);
}

/**
 * Checks if `value` is likely a prototype object.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
 */
function isPrototype(value) {
  var Ctor = value && value.constructor,
      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;

  return value === proto;
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to process.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return (func + '');
    } catch (e) {}
  }
  return '';
}

/**
 * Checks if `value` is likely an `arguments` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 *  else `false`.
 * @example
 *
 * _.isArguments(function() { return arguments; }());
 * // => true
 *
 * _.isArguments([1, 2, 3]);
 * // => false
 */
function isArguments(value) {
  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.
  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&
    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);
}

/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

/**
 * Checks if `value` is array-like. A value is considered array-like if it's
 * not a function and has a `value.length` that's an integer greater than or
 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
 * @example
 *
 * _.isArrayLike([1, 2, 3]);
 * // => true
 *
 * _.isArrayLike(document.body.children);
 * // => true
 *
 * _.isArrayLike('abc');
 * // => true
 *
 * _.isArrayLike(_.noop);
 * // => false
 */
function isArrayLike(value) {
  return value != null && isLength(value.length) && !isFunction(value);
}

/**
 * This method is like `_.isArrayLike` except that it also checks if `value`
 * is an object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array-like object,
 *  else `false`.
 * @example
 *
 * _.isArrayLikeObject([1, 2, 3]);
 * // => true
 *
 * _.isArrayLikeObject(document.body.children);
 * // => true
 *
 * _.isArrayLikeObject('abc');
 * // => false
 *
 * _.isArrayLikeObject(_.noop);
 * // => false
 */
function isArrayLikeObject(value) {
  return isObjectLike(value) && isArrayLike(value);
}

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 8-9 which returns 'object' for typed array and other constructors.
  var tag = isObject(value) ? objectToString.call(value) : '';
  return tag == funcTag || tag == genTag;
}

/**
 * Checks if `value` is a valid array-like length.
 *
 * **Note:** This method is loosely based on
 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
 * @example
 *
 * _.isLength(3);
 * // => true
 *
 * _.isLength(Number.MIN_VALUE);
 * // => false
 *
 * _.isLength(Infinity);
 * // => false
 *
 * _.isLength('3');
 * // => false
 */
function isLength(value) {
  return typeof value == 'number' &&
    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Creates an array of the own enumerable property names of `object`.
 *
 * **Note:** Non-object values are coerced to objects. See the
 * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
 * for more details.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Object
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.keys(new Foo);
 * // => ['a', 'b'] (iteration order is not guaranteed)
 *
 * _.keys('hi');
 * // => ['0', '1']
 */
function keys(object) {
  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);
}

/**
 * Creates an array of own enumerable string keyed-value pairs for `object`
 * which can be consumed by `_.fromPairs`. If `object` is a map or set, its
 * entries are returned.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @alias entries
 * @category Object
 * @param {Object} object The object to query.
 * @returns {Array} Returns the key-value pairs.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.toPairs(new Foo);
 * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)
 */
var toPairs = createToPairs(keys);

module.exports = toPairs;

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 11 */
/***/ (function(module, exports) {

module.exports = function(){try{return elasticsearch}catch(e){return {}}}();

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(setImmediate) {(function (root) {

  // Store setTimeout reference so promise-polyfill will be unaffected by
  // other code modifying setTimeout (like sinon.useFakeTimers())
  var setTimeoutFunc = setTimeout;

  function noop() {}
  
  // Polyfill for Function.prototype.bind
  function bind(fn, thisArg) {
    return function () {
      fn.apply(thisArg, arguments);
    };
  }

  function Promise(fn) {
    if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');
    if (typeof fn !== 'function') throw new TypeError('not a function');
    this._state = 0;
    this._handled = false;
    this._value = undefined;
    this._deferreds = [];

    doResolve(fn, this);
  }

  function handle(self, deferred) {
    while (self._state === 3) {
      self = self._value;
    }
    if (self._state === 0) {
      self._deferreds.push(deferred);
      return;
    }
    self._handled = true;
    Promise._immediateFn(function () {
      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;
      if (cb === null) {
        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);
        return;
      }
      var ret;
      try {
        ret = cb(self._value);
      } catch (e) {
        reject(deferred.promise, e);
        return;
      }
      resolve(deferred.promise, ret);
    });
  }

  function resolve(self, newValue) {
    try {
      // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure
      if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.');
      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {
        var then = newValue.then;
        if (newValue instanceof Promise) {
          self._state = 3;
          self._value = newValue;
          finale(self);
          return;
        } else if (typeof then === 'function') {
          doResolve(bind(then, newValue), self);
          return;
        }
      }
      self._state = 1;
      self._value = newValue;
      finale(self);
    } catch (e) {
      reject(self, e);
    }
  }

  function reject(self, newValue) {
    self._state = 2;
    self._value = newValue;
    finale(self);
  }

  function finale(self) {
    if (self._state === 2 && self._deferreds.length === 0) {
      Promise._immediateFn(function() {
        if (!self._handled) {
          Promise._unhandledRejectionFn(self._value);
        }
      });
    }

    for (var i = 0, len = self._deferreds.length; i < len; i++) {
      handle(self, self._deferreds[i]);
    }
    self._deferreds = null;
  }

  function Handler(onFulfilled, onRejected, promise) {
    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;
    this.onRejected = typeof onRejected === 'function' ? onRejected : null;
    this.promise = promise;
  }

  /**
   * Take a potentially misbehaving resolver function and make sure
   * onFulfilled and onRejected are only called once.
   *
   * Makes no guarantees about asynchrony.
   */
  function doResolve(fn, self) {
    var done = false;
    try {
      fn(function (value) {
        if (done) return;
        done = true;
        resolve(self, value);
      }, function (reason) {
        if (done) return;
        done = true;
        reject(self, reason);
      });
    } catch (ex) {
      if (done) return;
      done = true;
      reject(self, ex);
    }
  }

  Promise.prototype['catch'] = function (onRejected) {
    return this.then(null, onRejected);
  };

  Promise.prototype.then = function (onFulfilled, onRejected) {
    var prom = new (this.constructor)(noop);

    handle(this, new Handler(onFulfilled, onRejected, prom));
    return prom;
  };

  Promise.all = function (arr) {
    var args = Array.prototype.slice.call(arr);

    return new Promise(function (resolve, reject) {
      if (args.length === 0) return resolve([]);
      var remaining = args.length;

      function res(i, val) {
        try {
          if (val && (typeof val === 'object' || typeof val === 'function')) {
            var then = val.then;
            if (typeof then === 'function') {
              then.call(val, function (val) {
                res(i, val);
              }, reject);
              return;
            }
          }
          args[i] = val;
          if (--remaining === 0) {
            resolve(args);
          }
        } catch (ex) {
          reject(ex);
        }
      }

      for (var i = 0; i < args.length; i++) {
        res(i, args[i]);
      }
    });
  };

  Promise.resolve = function (value) {
    if (value && typeof value === 'object' && value.constructor === Promise) {
      return value;
    }

    return new Promise(function (resolve) {
      resolve(value);
    });
  };

  Promise.reject = function (value) {
    return new Promise(function (resolve, reject) {
      reject(value);
    });
  };

  Promise.race = function (values) {
    return new Promise(function (resolve, reject) {
      for (var i = 0, len = values.length; i < len; i++) {
        values[i].then(resolve, reject);
      }
    });
  };

  // Use polyfill for setImmediate for performance gains
  Promise._immediateFn = (typeof setImmediate === 'function' && function (fn) { setImmediate(fn); }) ||
    function (fn) {
      setTimeoutFunc(fn, 0);
    };

  Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {
    if (typeof console !== 'undefined' && console) {
      console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console
    }
  };

  /**
   * Set the immediate function to execute callbacks
   * @param fn {function} Function to execute
   * @deprecated
   */
  Promise._setImmediateFn = function _setImmediateFn(fn) {
    Promise._immediateFn = fn;
  };

  /**
   * Change the function to execute on unhandled rejection
   * @param {function} fn Function to execute on unhandled rejection
   * @deprecated
   */
  Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {
    Promise._unhandledRejectionFn = fn;
  };
  
  if (typeof module !== 'undefined' && module.exports) {
    module.exports = Promise;
  } else if (!root.Promise) {
    root.Promise = Promise;
  }

})(this);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(23).setImmediate))

/***/ }),
/* 13 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./src/common/SuperMap.js
var SuperMap = window.SuperMap = window.SuperMap || {};
// CONCATENATED MODULE: ./src/common/REST.js


/**
 * @enum DataFormat
 * @memberOf SuperMap
 * @description æå¡è¯·æ±è¿åç»ææ°æ®ç±»å
 * @type {string}
 */
var DataFormat = SuperMap.DataFormat = {
    /** GEOJSON */
    GEOJSON: "GEOJSON",
    /** ISERVER */
    ISERVER: "ISERVER"
};


/**
 * @enum ServerType
 * @memberOf SuperMap
 * @description æå¡å¨ç±»å
 * @type {string}
 */
var ServerType = SuperMap.ServerType = {
    /** ISERVER */
    ISERVER: "ISERVER",
    /** IPORTAL */
    IPORTAL: "IPORTAL",
    /** ONLINE */
    ONLINE: "ONLINE"
};


/**
 * @enum GeometryType
 * @memberOf SuperMap
 * @description å ä½å¯¹è±¡æä¸¾,å®ä¹äºä¸ç³»åå ä½å¯¹è±¡ç±»åã
 * @type {string}
 */
var GeometryType = SuperMap.GeometryType = {
    /** LINE */
    LINE: "LINE",
    /** LINEM */
    LINEM: "LINEM",
    /** POINT */
    POINT: "POINT",
    /** REGION */
    REGION: "REGION",
    /** ELLIPSE */
    ELLIPSE: "ELLIPSE",
    /** CIRCLE */
    CIRCLE: "CIRCLE",
    /** TEXT */
    TEXT: "TEXT",
    /** RECTANGLE */
    RECTANGLE: "RECTANGLE",
    /** UNKNOWN */
    UNKNOWN: "UNKNOWN"
};


/**
 * @enum QueryOption
 * @memberOf SuperMap
 * @description æ¥è¯¢ç»æç±»åæä¸¾,æè¿°æ¥è¯¢ç»æè¿åç±»åï¼åæ¬åªè¿åå±æ§ãåªè¿åå ä½å®ä½ä»¥åè¿åå±æ§åå ä½å®ä½ã
 * @type {string}
 */
var QueryOption = SuperMap.QueryOption = {
    /** å±æ§ */
    ATTRIBUTE: "ATTRIBUTE",
    /** å±æ§åå ä½å¯¹è±¡ */
    ATTRIBUTEANDGEOMETRY: "ATTRIBUTEANDGEOMETRY",
    /** å ä½å¯¹è±¡ */
    GEOMETRY: "GEOMETRY"
};


/**
 * @enum JoinType
 * @memberOf SuperMap
 * @description å³èæ¥è¯¢æ¶çå³èç±»åå¸¸éã
 * è¯¥ç±»å®ä¹äºä¸¤ä¸ªè¡¨ä¹é´çè¿æ¥ç±»åå¸¸éï¼å³å®äºå¯¹ä¸¤ä¸ªè¡¨ä¹é´è¿è¡è¿æ¥æ¥è¯¢æ¶ï¼æ¥è¯¢ç»æä¸­å¾å°çè®°å½çæåµã
 * @type {string}
 */
var JoinType = SuperMap.JoinType = {
    /** INNERJOIN */
    INNERJOIN: "INNERJOIN",
    /** LEFTJOIN */
    LEFTJOIN: "LEFTJOIN"
};



/**
 * @enum SpatialQueryMode
 * @memberOf SuperMap
 * @description  ç©ºé´æ¥è¯¢æ¨¡å¼æä¸¾ãè¯¥ç±»å®ä¹äºç©ºé´æ¥è¯¢æä½æ¨¡å¼å¸¸éã
 * @type {string}
 */
var SpatialQueryMode = SuperMap.SpatialQueryMode = {
    /** åå«ç©ºé´æ¥è¯¢æ¨¡å¼ */
    CONTAIN: "CONTAIN",
    /** äº¤åç©ºé´æ¥è¯¢æ¨¡å¼ */
    CROSS: "CROSS",
    /** åç¦»ç©ºé´æ¥è¯¢æ¨¡å¼ */
    DISJOINT: "DISJOINT",
    /** éåç©ºé´æ¥è¯¢æ¨¡å¼ */
    IDENTITY: "IDENTITY",
    /** ç¸äº¤ç©ºé´æ¥è¯¢æ¨¡å¼ */
    INTERSECT: "INTERSECT",
    /** æ ç©ºé´æ¥è¯¢ */
    NONE: "NONE",
    /** å å ç©ºé´æ¥è¯¢æ¨¡å¼ */
    OVERLAP: "OVERLAP",
    /** é»æ¥ç©ºé´æ¥è¯¢æ¨¡å¼ */
    TOUCH: "TOUCH",
    /** è¢«åå«ç©ºé´æ¥è¯¢æ¨¡å¼ */
    WITHIN: "WITHIN"
};

/**
 * @enum SpatialRelationType
 * @memberOf SuperMap
 * @description  æ°æ®éå¯¹è±¡é´çç©ºé´å³ç³»æä¸¾ã
 * è¯¥ç±»å®ä¹äºæ°æ®éå¯¹è±¡é´çç©ºé´å³ç³»ç±»åå¸¸éã
 * @type {string}
 */
var SpatialRelationType = SuperMap.SpatialRelationType = {
    /** åå«å³ç³» */
    CONTAIN: "CONTAIN",
    /** ç¸äº¤å³ç³» */
    INTERSECT: "INTERSECT",
    /** è¢«åå«å³ç³» */
    WITHIN: "WITHIN"
};


/**
 * @enum MeasureMode
 * @memberOf SuperMap
 * @type {string}
 * @description  éç®æ¨¡å¼æä¸¾ã
 * è¯¥ç±»å®ä¹äºä¸¤ç§æµéæ¨¡å¼ï¼è·ç¦»æµéåé¢ç§¯æµéã
 */
var MeasureMode = SuperMap.MeasureMode = {
    /** è·ç¦»æµé */
    DISTANCE: "DISTANCE",
    /** é¢ç§¯æµé */
    AREA: "AREA"
};


/**
 * @enum Unit
 * @memberOf SuperMap
 * @description  è·ç¦»åä½æä¸¾ã
 * è¯¥ç±»å®ä¹äºä¸ç³»åè·ç¦»åä½ç±»åã
 * @type {string}
 */
var Unit = SuperMap.Unit = {
    /**  ç±³ */
    METER: "METER",
    /**  åç±³ */
    KILOMETER: "KILOMETER",
    /**  è±é */
    MILE: "MILE",
    /**  ç  */
    YARD: "YARD",
    /**  åº¦ */
    DEGREE: "DEGREE",
    /**  æ¯«ç±³ */
    MILLIMETER: "MILLIMETER",
    /**  åç±³ */
    CENTIMETER: "CENTIMETER",
    /**  è±å¯¸ */
    INCH: "INCH",
    /**  åç±³ */
    DECIMETER: "DECIMETER",
    /**  è±å°º */
    FOOT: "FOOT",
    /**  ç§ */
    SECOND: "SECOND",
    /**  å */
    MINUTE: "MINUTE",
    /**  å¼§åº¦ */
    RADIAN: "RADIAN"
};


/**
 * @enum BufferRadiusUnit
 * @memberOf SuperMap
 * @description  ç¼å²åºè·ç¦»åä½æä¸¾ã
 * è¯¥ç±»å®ä¹äºä¸ç³»åç¼å²è·ç¦»åä½ç±»åã
 * @type {string}
 */
var BufferRadiusUnit = SuperMap.BufferRadiusUnit = {
    /**  åç±³ */
    CENTIMETER: "CENTIMETER",
    /**  åç±³ */
    DECIMETER: "DECIMETER",
    /**  è±å°º */
    FOOT: "FOOT",
    /**  è±å¯¸ */
    INCH: "INCH",
    /**  åç±³ */
    KILOMETER: "KILOMETER",
    /**  ç±³ */
    METER: "METER",
    /**  è±é */
    MILE: "MILE",
    /**  æ¯«ç±³ */
    MILLIMETER: "MILLIMETER",
    /**  ç  */
    YARD: "YARD"
}


/**
 * @enum EngineType
 * @memberOf SuperMap
 * @description  æ°æ®æºå¼æç±»åæä¸¾ã
 * @type {string}
 */
var EngineType = SuperMap.EngineType = {
    /** å½±ååªè¯»å¼æç±»åï¼æä»¶å¼æï¼éå¯¹éç¨å½±åæ ¼å¼å¦ BMPï¼JPGï¼TIFF ä»¥åè¶å¾èªå®ä¹å½±åæ ¼å¼ SIT ç­ã */
    IMAGEPLUGINS: "IMAGEPLUGINS",
    /**  OGC å¼æç±»åï¼éå¯¹äº Web æ°æ®æºï¼Web å¼æï¼ç®åæ¯æçç±»åæ WMSï¼WFSï¼WCSã */
    OGC: "OGC",
    /**  Oracle å¼æç±»åï¼éå¯¹ Oracle æ°æ®æºï¼æ°æ®åºå¼æã */
    ORACLEPLUS: "ORACLEPLUS",
    /**  SDB å¼æç±»åï¼æä»¶å¼æï¼å³ SDB æ°æ®æºã */
    SDBPLUS: "SDBPLUS",
    /**  SQL Server å¼æç±»åï¼éå¯¹ SQL Server æ°æ®æºï¼æ°æ®åºå¼æ */
    SQLPLUS: "SQLPLUS",
    /**  UDB å¼æç±»åï¼æä»¶å¼æã */
    UDB: "UDB"
};


/**
 * @enum ThemeGraphTextFormat
 * @memberOf SuperMap
 * @description  ç»è®¡ä¸é¢å¾ææ¬æ¾ç¤ºæ ¼å¼æä¸¾ã
 * @type {string}
 */
var ThemeGraphTextFormat = SuperMap.ThemeGraphTextFormat = {
    /**  æ é¢ãä»¥åå­é¡¹çæ é¢æ¥è¿è¡æ æ³¨ã */
    CAPTION: "CAPTION",
    /**  æ é¢ + ç¾åæ°ãä»¥åå­é¡¹çæ é¢åæå çç¾åæ¯æ¥è¿è¡æ æ³¨ã */
    CAPTION_PERCENT: "CAPTION_PERCENT",
    /**  æ é¢ + å®éæ°å¼ãä»¥åå­é¡¹çæ é¢åçå®æ°å¼æ¥è¿è¡æ æ³¨ã */
    CAPTION_VALUE: "CAPTION_VALUE",
    /**  ç¾åæ°ãä»¥åå­é¡¹æå çç¾åæ¯æ¥è¿è¡æ æ³¨ã */
    PERCENT: "PERCENT",
    /**  å®éæ°å¼ãä»¥åå­é¡¹ççå®æ°å¼æ¥è¿è¡æ æ³¨ã */
    VALUE: "VALUE"

};


/**
 * @enum ThemeGraphType
 * @memberOf SuperMap
 * @description  ç»è®¡ä¸é¢å¾ç±»åæä¸¾ã
 * @type {string}
 */
var ThemeGraphType = SuperMap.ThemeGraphType = {
    /**  é¢ç§¯å¾ã */
    AREA: "AREA",
    /**  æ±ç¶å¾ã */
    BAR: "BAR",
    /**  ä¸ç»´æ±ç¶å¾ã */
    BAR3D: "BAR3D",
    /**  æçº¿å¾ã */
    LINE: "LINE",
    /**  é¥¼å¾ã */
    PIE: "PIE",
    /**  ä¸ç»´é¥¼å¾ã */
    PIE3D: "PIE3D",
    /**  ç¹ç¶å¾ã */
    POINT: "POINT",
    /**  ç¯ç¶å¾ã */
    RING: "RING",
    /**  ç«ç°å¾ã */
    ROSE: "ROSE",
    /**  ä¸ç»´ç«ç°å¾ã */
    ROSE3D: "ROSE3D",
    /**  å å æ±ç¶å¾ã */
    STACK_BAR: "STACK_BAR",
    /**  ä¸ç»´å å æ±ç¶å¾ã */
    STACK_BAR3D: "STACK_BAR3D",
    /**  é¶æ¢¯å¾ã */
    STEP: "STEP"
};


/**
 * @enum GraphAxesTextDisplayMode
 * @memberOf SuperMap
 * @description  ç»è®¡ä¸é¢å¾åæ è½´ææ¬æ¾ç¤ºæ¨¡å¼ã
 * @type {string}
 */
var GraphAxesTextDisplayMode = SuperMap.GraphAxesTextDisplayMode = {
    /**  æ¾ç¤ºå¨é¨ææ¬ã */
    ALL: "ALL",
    /**  ä¸æ¾ç¤ºã */
    NONE: "NONE",
    /**  æ¾ç¤ºYè½´çææ¬ã */
    YAXES: "YAXES"
};


/**
 * @enum GraduatedMode
 * @memberOf SuperMap
 * @description  ä¸é¢å¾åçº§æ¨¡å¼æä¸¾ã
 *
 * @type {string}
 */
var GraduatedMode = SuperMap.GraduatedMode = {
    /**  å¸¸éåçº§æ¨¡å¼ã */
    CONSTANT: "CONSTANT",
    /** å¯¹æ°åçº§æ¨¡å¼ã */
    LOGARITHM: "LOGARITHM",
    /**  å¹³æ¹æ ¹åçº§æ¨¡å¼ã */
    SQUAREROOT: "SQUAREROOT"
};


/**
 * @enum RangeMode
 * @memberOf SuperMap
 * @description  èå´åæ®µä¸é¢å¾åæ®µæ¹å¼æä¸¾ã
 * @type {string}
 */
var RangeMode = SuperMap.RangeMode = {
    /**  èªå®ä¹åæ®µæ³ã */
    CUSTOMINTERVAL: "CUSTOMINTERVAL",
    /**  ç­è·ç¦»åæ®µæ³ã */
    EQUALINTERVAL: "EQUALINTERVAL",
    /**  å¯¹æ°åæ®µæ³ã */
    LOGARITHM: "LOGARITHM",
    /**  ç­è®¡æ°åæ®µæ³ã */
    QUANTILE: "QUANTILE",
    /**  å¹³æ¹æ ¹åæ®µæ³ã */
    SQUAREROOT: "SQUAREROOT",
    /**  æ åå·®åæ®µæ³ã */
    STDDEVIATION: "STDDEVIATION"
};


/**
 * @enum ThemeType
 * @memberOf SuperMap
 * @description  ä¸é¢å¾ç±»åæä¸¾ã
 * @type {string}
 */
var ThemeType = SuperMap.ThemeType = {
    /** ç¹å¯åº¦ä¸é¢å¾ã */
    DOTDENSITY: "DOTDENSITY",
    /** ç­çº§ç¬¦å·ä¸é¢å¾ã */
    GRADUATEDSYMBOL: "GRADUATEDSYMBOL",
    /** ç»è®¡ä¸é¢å¾ã */
    GRAPH: "GRAPH",
    /** æ ç­¾ä¸é¢å¾ã */
    LABEL: "LABEL",
    /** åæ®µä¸é¢å¾ã */
    RANGE: "RANGE",
    /** åå¼ä¸é¢å¾ã */
    UNIQUE: "UNIQUE"
};


/**
 * @enum ColorGradientType
 * @memberOf SuperMap
 * @description  æ¸åé¢è²æä¸¾ã
 * @type {string}
 */
var ColorGradientType = SuperMap.ColorGradientType = {
    /** é»ç½æ¸åè²ã */
    BLACK_WHITE: "BLACKWHITE",
    /** èé»æ¸åè²ã */
    BLUE_BLACK: "BLUEBLACK",
    /** èçº¢æ¸åè²ã */
    BLUE_RED: "BLUERED",
    /** èç½æ¸åè²ã */
    BLUE_WHITE: "BLUEWHITE",
    /** éé»æ¸åè²ã */
    CYAN_BLACK: "CYANBLACK",
    /** éèæ¸åè²ã */
    CYAN_BLUE: "CYANBLUE",
    /** éç»¿æ¸åè²ã */
    CYAN_GREEN: "CYANGREEN",
    /** éç½æ¸åè²ã */
    CYAN_WHITE: "CYANWHITE",
    /** ç»¿é»æ¸åè²ã */
    GREEN_BLACK: "GREENBLACK",
    /** ç»¿èæ¸åè²ã */
    GREEN_BLUE: "GREENBLUE",
    /** ç»¿æ©ç´«æ¸åè²ã */
    GREEN_ORANGE_VIOLET: "GREENORANGEVIOLET",
    /** ç»¿çº¢æ¸åè²ã */
    GREEN_RED: "GREENRED",
    /** èçº¢æ¸åè²ã */
    GREEN_WHITE: "GREENWHITE",
    /** ç²é»æ¸åè²ã */
    PINK_BLACK: "PINKBLACK",
    /** ç²èæ¸åè²ã */
    PINK_BLUE: "PINKBLUE",
    /** ç²çº¢æ¸åè²ã */
    PINK_RED: "PINKRED",
    /** ç²ç½æ¸åè²ã */
    PINK_WHITE: "PINKWHITE",
    /** å½©è¹è²ã */
    RAIN_BOW: "RAINBOW",
    /** çº¢é»æ¸åè²ã */
    RED_BLACK: "REDBLACK",
    /** çº¢ç½æ¸åè²ã */
    RED_WHITE: "REDWHITE",
    /** åè°±æ¸åã */
    SPECTRUM: "SPECTRUM",
    /** å°å½¢æ¸å,ç¨äºä¸ç»´æ¾ç¤ºææè¾å¥½ã */
    TERRAIN: "TERRAIN",
    /** é»é»æ¸åè²ã */
    YELLOW_BLACK: "YELLOWBLACK",
    /** é»èæ¸åè²ã */
    YELLOW_BLUE: "YELLOWBLUE",
    /** é»ç»¿æ¸åè²ã */
    YELLOW_GREEN: "YELLOWGREEN",
    /** é»çº¢æ¸åè²ã */
    YELLOW_RED: "YELLOWRED",
    /** é»ç½æ¸åè²ã */
    YELLOW_WHITE: "YELLOWWHITE"
};


/**
 * @enum TextAlignment
 * @memberOf SuperMap
 * @description  ææ¬å¯¹é½æä¸¾ã
 * @type {string}
 */
var TextAlignment = SuperMap.TextAlignment = {
    /** å·¦ä¸è§å¯¹é½ã */
    TOPLEFT: "TOPLEFT",
    /** é¡¶é¨å±ä¸­å¯¹é½ã */
    TOPCENTER: "TOPCENTER",
    /** å³ä¸è§å¯¹é½ã */
    TOPRIGHT: "TOPRIGHT",
    /** åºåçº¿å·¦å¯¹é½ã */
    BASELINELEFT: "BASELINELEFT",
    /** åºåçº¿å±ä¸­å¯¹é½ã */
    BASELINECENTER: "BASELINECENTER",
    /** åºåçº¿å³å¯¹é½ã */
    BASELINERIGHT: "BASELINERIGHT",
    /** å·¦ä¸è§å¯¹é½ã */
    BOTTOMLEFT: "BOTTOMLEFT",
    /** åºé¨å±ä¸­å¯¹é½ã */
    BOTTOMCENTER: "BOTTOMCENTER",
    /** å³ä¸è§å¯¹é½ã */
    BOTTOMRIGHT: "BOTTOMRIGHT",
    /** å·¦ä¸­å¯¹é½ã */
    MIDDLELEFT: "MIDDLELEFT",
    /** ä¸­å¿å¯¹é½ã */
    MIDDLECENTER: "MIDDLECENTER",
    /** å³ä¸­å¯¹é½ã */
    MIDDLERIGHT: "MIDDLERIGHT"
};

/**
 * @enum FillGradientMode
 * @memberOf SuperMap
 * @description  æ¸åå¡«åé£æ ¼çæ¸åç±»åæä¸¾ã
 * @type {string}
 */
var FillGradientMode = SuperMap.FillGradientMode = {
    /** æ æ¸åã */
    NONE: "NONE",
    /** çº¿æ§æ¸åå¡«åã */
    LINEAR: "LINEAR",
    /** è¾å°æ¸åå¡«åã */
    RADIAL: "RADIAL",
    /** åé¥æ¸åå¡«åã */
    CONICAL: "CONICAL",
    /** åè§æ¸åå¡«åã */
    SQUARE: "SQUARE"
};


/**
 * @enum AlongLineDirection
 * @memberOf SuperMap
 * @description  æ ç­¾æ²¿çº¿æ æ³¨æ¹åæä¸¾ã
 * @type {string}
 */
var AlongLineDirection = SuperMap.AlongLineDirection = {
    /** æ²¿çº¿çæ³çº¿æ¹åæ¾ç½®æ ç­¾ã */
    NORMAL: "ALONG_LINE_NORMAL",
    /** ä»ä¸å°ä¸ï¼ä»å·¦å°å³æ¾ç½®ã */
    LB_TO_RT: "LEFT_BOTTOM_TO_RIGHT_TOP",
    /** ä»ä¸å°ä¸ï¼ä»å·¦å°å³æ¾ç½®ã */
    LT_TO_RB: "LEFT_TOP_TO_RIGHT_BOTTOM",
    /** ä»ä¸å°ä¸ï¼ä»å³å°å·¦æ¾ç½®ã */
    RB_TO_LT: "RIGHT_BOTTOM_TO_LEFT_TOP",
    /** ä»ä¸å°ä¸ï¼ä»å³å°å·¦æ¾ç½®ã */
    RT_TO_LB: "RIGHT_TOP_TO_LEFT_BOTTOM"
};


/**
 * @enum LabelBackShape
 * @memberOf SuperMap
 * @description  æ ç­¾ä¸é¢å¾ä¸­æ ç­¾èæ¯çå½¢ç¶æä¸¾ã
 * @type {string}
 */
var LabelBackShape = SuperMap.LabelBackShape = {
    /** è±å½¢èæ¯ï¼å³æ ç­¾èæ¯çå½¢ç¶ä¸ºè±å½¢ã */
    DIAMOND: "DIAMOND",
    /** æ¤­åå½¢èæ¯ï¼å³æ ç­¾èæ¯çè¡ç¶ä¸ºæ¤­åå½¢ã */
    ELLIPSE: "ELLIPSE",
    /** ç¬¦å·èæ¯ï¼å³æ ç­¾èæ¯çå½¢ç¶ä¸ºè®¾å®çç¬¦å·ã */
    MARKER: "MARKER",
    /** ç©ºèæ¯ï¼å³ä¸ä½¿ç¨ä»»ä½å½¢ç¶ä½ä¸ºæ ç­¾çèæ¯ã */
    NONE: "NONE",
    /** ç©å½¢èæ¯ï¼å³æ ç­¾èæ¯çå½¢ç¶ä¸ºç©å½¢ã */
    RECT: "RECT",
    /** åè§ç©å½¢èæ¯ï¼å³æ ç­¾èæ¯çå½¢ç¶ä¸ºåè§ç©å½¢ã */
    ROUNDRECT: "ROUNDRECT",
    /** ä¸è§å½¢èæ¯ï¼å³æ ç­¾èæ¯çå½¢ç¶ä¸ºä¸è§å½¢ã */
    TRIANGLE: "TRIANGLE"
};


/**
 * @enum LabelOverLengthMode
 * @memberOf SuperMap
 * @description  æ ç­¾ä¸é¢å¾ä¸­è¶é¿æ ç­¾çå¤çæ¨¡å¼æä¸¾ã
 * @type {string}
 */
var LabelOverLengthMode = SuperMap.LabelOverLengthMode = {
    /** æ¢è¡æ¾ç¤ºã */
    NEWLINE: "NEWLINE",
    /** å¯¹è¶é¿æ ç­¾ä¸è¿è¡å¤çã */
    NONE: "NONE",
    /** çç¥è¶åºé¨åã */
    OMIT: "OMIT"
};


/**
 * @enum DirectionType
 * @memberOf SuperMap
 * @description  ç½ç»åæä¸­æ¹åæä¸¾ã
 * å¨è¡é©¶å¼å¯¼å­é¡¹ä¸­ä½¿ç¨ã
 * @type {string}
 */
var DirectionType = SuperMap.DirectionType = {
    /** ä¸ã */
    EAST: "EAST",
    /** æ æ¹åã */
    NONE: "NONE",
    /** åã */
    NORTH: "NORTH",
    /** åã */
    SOURTH: "SOURTH",
    /** è¥¿ã */
    WEST: "WEST"
};



/**
 * @enum SideType
 * @memberOf SuperMap
 * @description  è¡é©¶ä½ç½®æä¸¾ã
 * è¡¨ç¤ºå¨è¡é©¶å¨è·¯çå·¦è¾¹ãå³è¾¹æèè·¯ä¸çæä¸¾,è¯¥ç±»ç¨å¨è¡é©¶å¯¼å¼å­é¡¹ç±»ä¸­ã
 * @type {string}
 */
var SideType = SuperMap.SideType = {
    /** è·¯çå·¦ä¾§ã */
    LEFT: "LEFT",
    /** å¨è·¯ä¸ï¼å³è·¯çä¸­é´ï¼ã */
    MIDDLE: "MIDDLE",
    /** æ æå¼ã */
    NONE: "NONE",
    /** è·¯çå³ä¾§ã */
    RIGHT: "RIGHT"
};


/**
 * @enum SupplyCenterType
 * @memberOf SuperMap
 * @description  èµæºä¾ç»ä¸­å¿ç±»åæä¸¾ã
 * è¯¥æä¸¾å®ä¹äºç½ç»åæä¸­èµæºä¸­å¿ç¹çç±»åï¼ä¸»è¦ç¨äºèµæºåéåéåååºã
 * èµæºä¾ç»ä¸­å¿ç¹çç±»ååæ¬éä¸­å¿ï¼åºå®ä¸­å¿åå¯éä¸­å¿ãåºå®ä¸­å¿ç¨äºèµæºåéåæï¼ åºå®ä¸­å¿åå¯éä¸­å¿ç¨äºéååæï¼éä¸­å¿å¨ä¸¤ç§ç½ç»åææ¶é½ä¸äºèèã
 * @type {string}
 */
var SupplyCenterType = SuperMap.SupplyCenterType = {
    /** åºå®ä¸­å¿ç¹ã */
    FIXEDCENTER: "FIXEDCENTER",
    /** éä¸­å¿ç¹ã */
    NULL: "NULL",
    /** å¯éä¸­å¿ç¹ã */
    OPTIONALCENTER: "OPTIONALCENTER"
};


/**
 * @enum TurnType
 * @memberOf SuperMap
 * @description  è½¬å¼¯æ¹åæä¸¾ã
 * ç¨å¨è¡é©¶å¼å¯¼å­é¡¹ç±»ä¸­ï¼è¡¨ç¤ºè½¬å¼¯çæ¹åã
 * @type {string}
 */
var TurnType = SuperMap.TurnType = {
    /** ååç´è¡ã */
    AHEAD: "AHEAD",
    /** æå¤´ã */
    BACK: "BACK",
    /** ç»ç¹ï¼ä¸æå¼¯ã */
    END: "END",
    /** å·¦è½¬å¼¯ã */
    LEFT: "LEFT",
    /** æ æå¼ã */
    NONE: "NONE",
    /** å³è½¬å¼¯ã */
    RIGHT: "RIGHT"
};


/**
 * @enum BufferEndType
 * @memberOf SuperMap
 * @description  ç¼å²åºåæBufferEndç±»åã
 * @type {string}
 */
var BufferEndType = SuperMap.BufferEndType = {
    /** FLAT */
    FLAT: "FLAT",
    /** ROUND */
    ROUND: "ROUND"
};

/**
 * @enum OverlayOperationType
 * @memberOf SuperMap
 * @description  å å åæç±»åæä¸¾ã
 * @type {string}
 */
var OverlayOperationType = SuperMap.OverlayOperationType = {
    /** æä½æ°æ®éï¼å ä½å¯¹è±¡ï¼è£åªè¢«æä½æ°æ®éï¼å ä½å¯¹è±¡ï¼ã */
    CLIP: "CLIP",
    /** å¨è¢«æä½æ°æ®éï¼å ä½å¯¹è±¡ï¼ä¸æ¦é¤æä¸æä½æ°æ®éï¼å ä½å¯¹è±¡ï¼ç¸éåçé¨åãã */
    ERASE: "ERASE",
    /**å¯¹è¢«æä½æ°æ®éï¼å ä½å¯¹è±¡ï¼è¿è¡åä¸æä½ï¼å³æä½æ§è¡åï¼è¢«æä½æ°æ®éï¼å ä½å¯¹è±¡ï¼åå«æ¥èªæä½æ°æ®éï¼å ä½å¯¹è±¡ï¼çå ä½å½¢ç¶ã */
    IDENTITY: "IDENTITY",
    /** å¯¹ä¸¤ä¸ªæ°æ®éï¼å ä½å¯¹è±¡ï¼æ±äº¤ï¼è¿åä¸¤ä¸ªæ°æ®éï¼å ä½å¯¹è±¡ï¼çäº¤éã */
    INTERSECT: "INTERSECT",
    /** å¯¹ä¸¤ä¸ªé¢æ°æ®éï¼å ä½å¯¹è±¡ï¼è¿è¡åå¹¶æä½ãã */
    UNION: "UNION",
    /** å¯¹ä¸¤ä¸ªé¢æ°æ®éï¼å ä½å¯¹è±¡ï¼è¿è¡æ´æ°æä½ã */
    UPDATE: "UPDATE",
    /** å¯¹ä¸¤ä¸ªé¢æ°æ®éï¼å ä½å¯¹è±¡ï¼è¿è¡å¯¹ç§°å·®æä½ã */
    XOR: "XOR"
};


/**
 * @enum OutputType
 * @memberOf SuperMap
 * @description  åå¸å¼åæè¾åºç±»åæä¸¾ã
 * @type {string}
 */
var OutputType = SuperMap.OutputType = {
    /** INDEXEDHDFS */
    INDEXEDHDFS: "INDEXEDHDFS",
    /** UDB */
    UDB: "UDB",
    /** MONGODB */
    MONGODB: "MONGODB",
    /** PG */
    PG: "PG"
};


/**
 * @enum SmoothMethod
 * @memberOf SuperMap
 * @description  åæ»æ¹æ³æä¸¾ã
 * ç¨äºä»Grid æDEMæ°æ®çæç­å¼çº¿æç­å¼é¢æ¶å¯¹ç­å¼çº¿æèç­å¼é¢çè¾¹ççº¿è¿è¡å¹³æ»å¤ççæ¹æ³ã
 * @type {string}
 */
var SmoothMethod = SuperMap.SmoothMethod = {
    /** B æ ·æ¡æ³ã */
    BSPLINE: "BSPLINE",
    /** ç£¨è§æ³ã */
    POLISH: "POLISH"
};

/**
 * @enum SurfaceAnalystMethod
 * @memberOf SuperMap
 * @description  è¡¨é¢åææ¹æ³æä¸¾ã
 * éè¿å¯¹æ°æ®è¿è¡è¡¨é¢åæï¼è½å¤ææåå§æ°æ®æåå«çä¿¡æ¯ï¼ä½¿æäºç»èææ¾åï¼æäºåæã
 * @type {string}
 */
var SurfaceAnalystMethod = SuperMap.SurfaceAnalystMethod = {
    /** ç­å¼çº¿æåã */
    ISOLINE: "ISOLINE",
    /** ç­å¼é¢æåã */
    ISOREGION: "ISOREGION"
};

/**
 * @enum DataReturnMode
 * @memberOf SuperMap
 * @description  æ°æ®è¿åæ¨¡å¼æä¸¾ã
 * è¯¥æä¸¾ç¨äºæå®ç©ºé´åæè¿åç»ææ¨¡å¼,åå«è¿åæ°æ®éæ è¯åè®°å½éãåªè¿åæ°æ®éæ è¯(æ°æ®éåç§°@æ°æ®æºåç§°)ååªè¿åè®°å½éä¸ç§æ¨¡å¼ã
 * @type {string}
 */
var DataReturnMode = SuperMap.DataReturnMode = {
    /** è¿åç»ææ°æ®éæ è¯(æ°æ®éåç§°@æ°æ®æºåç§°)åè®°å½éï¼RecordSetï¼ã */
    DATASET_AND_RECORDSET: "DATASET_AND_RECORDSET",
    /** åªè¿åæ°æ®éæ è¯ï¼æ°æ®éåç§°@æ°æ®æºåç§°ï¼ã */
    DATASET_ONLY: "DATASET_ONLY",
    /** åªè¿åè®°å½éï¼RecordSetï¼ã */
    RECORDSET_ONLY: "RECORDSET_ONLY"
};

/**
 * @enum EditType
 * @memberOf SuperMap
 * @description  è¦ç´ éæ´æ°æ¨¡å¼æä¸¾ã
 * è¯¥æä¸¾ç¨äºæå®æ°æ®æå¡ä¸­è¦ç´ éæ´æ°æ¨¡å¼,åå«æ·»å è¦ç´ éãæ´æ°è¦ç´ éåå é¤è¦ç´ éã
 * @type {string}
 */
var EditType = SuperMap.EditType = {
    /** å¢å æä½ã */
    ADD: "add",
    /** ä¿®æ¹æä½ã */
    UPDATE: "update",
    /** å é¤æä½ã */
    DELETE: "delete"
};


/**
 * @enum TransferTactic
 * @memberOf SuperMap
 * @description  å¬äº¤æ¢ä¹ç­ç¥æä¸¾ã
 * è¯¥æä¸¾ç¨äºæå®å¬äº¤æå¡ä¸­è¦ç´ éæ´æ°æ¨¡å¼,åå«æ·»å è¦ç´ éãæ´æ°è¦ç´ éåå é¤è¦ç´ éã
 * @type {string}
 */
var TransferTactic = SuperMap.TransferTactic = {
    /** æ¶é´ç­ã */
    LESS_TIME: "LESS_TIME",
    /** å°æ¢ä¹ã */
    LESS_TRANSFER: "LESS_TRANSFER",
    /** å°æ­¥è¡ã */
    LESS_WALK: "LESS_WALK",
    /** è·ç¦»æç­ã */
    MIN_DISTANCE: "MIN_DISTANCE"
};


/**
 * @enum TransferPreference
 * @memberOf SuperMap
 * @description  å¬äº¤æ¢ä¹ç­ç¥æä¸¾ã
 * è¯¥æä¸¾ç¨äºæå®äº¤éæ¢ä¹æå¡ä¸­è®¾ç½®å°éä¼åãå¬äº¤ä¼åãä¸ä¹å°éãæ åå¥½ç­åå¥½è®¾ç½®ã
 * @type {string}
 */
var TransferPreference = SuperMap.TransferPreference = {
    /** å¬äº¤æ±½è½¦ä¼åã */
    BUS: "BUS",
    /** å°éä¼åã */
    SUBWAY: "SUBWAY",
    /** ä¸ä¹åå°éã */
    NO_SUBWAY: "NO_SUBWAY",
    /** æ ä¹è½¦åå¥½ã */
    NONE: "NONE"
};


/**
 * @enum GridType
 * @memberOf SuperMap
 * @description  å°å¾èæ¯æ ¼ç½ç±»åæä¸¾ã
 * @type {string}
 */
var GridType = SuperMap.GridType = {
    /** åå­åä¸ã */
    CROSS: "CROSS",
    /** ç½æ ¼çº¿ã */
    GRID: "GRID",
    /** ç¹ã */
    POINT: "POINT"
};


/**
 * @enum ColorSpaceType
 * @memberOf SuperMap
 * @description  è²å½©ç©ºé´æä¸¾ã
 * ç±äºæè²åççä¸åï¼å³å®äºæ¾ç¤ºå¨ãæå½±ä»ªè¿ç±»é è²åç´æ¥åæé¢è²çé¢è²è®¾å¤åæå°æºã
 * å°å·æºè¿ç±»é ä½¿ç¨é¢æçå°å·è®¾å¤å¨çæé¢è²æ¹å¼ä¸çåºå«ã
 * éå¯¹ä¸è¿°ä¸åæè²æ¹å¼ï¼SuperMap æä¾ä¸¤ç§è²å½©ç©ºé´ï¼
 * åå«ä¸º RGB å CMYKãRGB ä¸»è¦ç¨äºæ¾ç¤ºç³»ç»ä¸­ï¼CMYK ä¸»è¦ç¨äºå°å·ç³»ç»ä¸­ã
 * @type {string}
 */
var ColorSpaceType = SuperMap.ColorSpaceType = {
    /** è¯¥ç±»åä¸»è¦å¨å°å·ç³»ç»ä½¿ç¨ã */
    CMYK: "CMYK",
    /** è¯¥ç±»åä¸»è¦å¨æ¾ç¤ºç³»ç»ä¸­ä½¿ç¨ã */
    RGB: "RGB"
};

/**
 * @enum LayerType
 * @memberOf SuperMap
 * @description  å¾å±ç±»åã
 * @type {string}
 */
var LayerType = SuperMap.LayerType = {
    /** SuperMap UGC ç±»åå¾å±ãå¦ç¢éå¾å±ãæ æ ¼(Grid)å¾å±ãå½±åå¾å±ãã */
    UGC: "UGC",
    /** WMS å¾å±ã */
    WMS: "WMS",
    /** WFS å¾å±ã */
    WFS: "WFS",
    /** èªå®ä¹å¾å±ã */
    CUSTOM: "CUSTOM"
};


/**
 * @enum UGCLayerType
 * @memberOf SuperMap
 * @description  UGCå¾å±ç±»åã
 * @type {string}
 */
var UGCLayerType = SuperMap.UGCLayerType = {
    /** ä¸é¢å¾å±ã */
    THEME: "THEME",
    /** ç¢éå¾å±ã */
    VECTOR: "VECTOR",
    /** æ æ ¼å¾å±ãã */
    GRID: "GRID",
    /** å½±åå¾å±ã */
    IMAGE: "IMAGE"
};


/**
 * @enum StatisticMode
 * @memberOf SuperMap
 * @description  å­æ®µç»è®¡æ¹æ³ç±»åã
 * @type {string}
 */
var StatisticMode = SuperMap.StatisticMode = {
    /** ç»è®¡æéå­æ®µçå¹³åå¼ã */
    AVERAGE: "AVERAGE",
    /** ç»è®¡æéå­æ®µçæå¤§å¼ã */
    MAX: "MAX",
    /** ç»è®¡æéå­æ®µçæå°å¼ã */
    MIN: "MIN",
    /** ç»è®¡æéå­æ®µçæ åå·® */
    STDDEVIATION: "STDDEVIATION",
    /** ç»è®¡æéå­æ®µçæ»åã */
    SUM: "SUM",
    /** ç»è®¡æéå­æ®µçæ¹å·®ã */
    VARIANCE: "VARIANCE"
};


/**
 * @enum PixelFormat
 * @memberOf SuperMap
 * @description  æ æ ¼ä¸å½±åæ°æ®å­å¨çåç´ æ ¼å¼æä¸¾ã
 * @type {string}
 */
var PixelFormat = SuperMap.PixelFormat = {
    /** æ¯ä¸ªååç¨16ä¸ªæ¯ç¹(å³2ä¸ªå­è)è¡¨ç¤ºã */
    BIT16: "BIT16",
    /** æ¯ä¸ªååç¨32ä¸ªæ¯ç¹(å³4ä¸ªå­è)è¡¨ç¤ºã */
    BIT32: "BIT32",
    /** æ¯ä¸ªååç¨64ä¸ªæ¯ç¹(å³8ä¸ªå­è)è¡¨ç¤ºï¼åªæä¾ç»æ æ ¼æ°æ®éä½¿ç¨ã */
    BIT64: "BIT64",
    /** æ¯ä¸ªååç¨4ä¸ªå­èæ¥è¡¨ç¤ºï¼åªæä¾ç»æ æ ¼æ°æ®éä½¿ç¨ã */
    SINGLE: "SINGLE",
    /** æ¯ä¸ªååç¨8ä¸ªå­èæ¥è¡¨ç¤ºï¼åªæä¾ç»æ æ ¼æ°æ®éä½¿ç¨ã */
    DOUBLE: "DOUBLE",
    /** æ¯ä¸ªååç¨1ä¸ªæ¯ç¹è¡¨ç¤ºã */
    UBIT1: "UBIT1",
    /** æ¯ä¸ªååç¨4ä¸ªæ¯ç¹æ¥è¡¨ç¤ºã */
    UBIT4: "UBIT4",
    /** æ¯ä¸ªååç¨8ä¸ªæ¯ç¹(å³1ä¸ªå­è)æ¥è¡¨ç¤ºã */
    UBIT8: "UBIT8",
    /** æ¯ä¸ªååç¨24ä¸ªæ¯ç¹(å³3ä¸ªå­è)æ¥è¡¨ç¤ºã */
    UBIT24: "UBIT24",
    /** æ¯ä¸ªååç¨32ä¸ªæ¯ç¹(å³4ä¸ªå­è)æ¥è¡¨ç¤ºã */
    UBIT32: "UBIT32"
};


/**
 * @enum SearchMode
 * @memberOf SuperMap
 * @description  åææ¶ä½¿ç¨çæ ·æ¬ç¹çæ¥æ¾æ¹å¼æä¸¾
 * @type {string}
 */
var SearchMode = SuperMap.SearchMode = {
    /** ä½¿ç¨ KDTREE çåºå®ç¹æ°æ¹å¼æ¥æ¾åä¸åæåæçç¹ã */
    KDTREE_FIXED_COUNT: "KDTREE_FIXED_COUNT",
    /** ä½¿ç¨ KDTREE çå®é¿æ¹å¼æ¥æ¾åä¸åæåæçç¹ã */
    KDTREE_FIXED_RADIUS: "KDTREE_FIXED_RADIUS",
    /** ä¸è¿è¡æ¥æ¾ï¼ä½¿ç¨ææçè¾å¥ç¹è¿è¡åæåæã */
    NONE: "NONE",
    /** ä½¿ç¨ QUADTREE æ¹å¼æ¥æ¾åä¸åæåæçç¹ï¼ä»å¯¹æ ·æ¡ï¼RBFï¼æå¼åæ®éååéï¼Krigingï¼æç¨ã */
    QUADTREE: "QUADTREE"
};


/**
 * @enum InterpolationAlgorithmType
 * @memberOf SuperMap
 * @description  æå¼åæçç®æ³çç±»å
 * @type {string}
 */
var InterpolationAlgorithmType = SuperMap.InterpolationAlgorithmType = {
    /** æ®éååéæå¼æ³ã */
    KRIGING: "KRIGING",
    /** ç®åååéæå¼æ³ã */
    SimpleKriging: "SimpleKriging",
    /** æ³ååéæå¼æ³ã */
    UniversalKriging: "UniversalKriging"
};


/**
 * @enum VariogramMode
 * @memberOf SuperMap
 * @description  ååéï¼Krigingï¼æå¼æ¶çååå½æ°ç±»åæä¸¾
 * @type {string}
 */
var VariogramMode = SuperMap.VariogramMode = {
    /** ææ°å½æ°ã */
    EXPONENTIAL: "EXPONENTIAL",
    /** é«æ¯å½æ°ã */
    GAUSSIAN: "GAUSSIAN",
    /** çåå½æ°ã */
    SPHERICAL: "SPHERICAL"
};


/**
 * @enum Exponent
 * @memberOf SuperMap
 * @description  å®ä¹äºæ³ååéï¼UniversalKrigingï¼æå¼æ¶æ ·ç¹æ°æ®ä¸­è¶å¿é¢æ¹ç¨çé¶æ°
 * @type {string}
 */
var Exponent = SuperMap.Exponent = {
    /** é¶æ°ä¸º1ã */
    EXP1: "EXP1",
    /** é¶æ°ä¸º2ã */
    EXP2: "EXP2"
};


/**
 * @enum ClientType
 * @memberOf SuperMap
 * @description tokenç³è¯·çå®¢æ·ç«¯æ è¯ç±»å
 * @type {string}
 */
var ClientType = SuperMap.ClientType = {
    /** æå®ç IP å°åã */
    IP: "IP",
    /** æå®ç URLã */
    REFERER: "Referer",
    /** åéç³è¯·ä»¤çè¯·æ±çå®¢æ·ç«¯ IPã */
    REQUESTIP: "RequestIP",
    /** ä¸åä»»ä½éªè¯ã */
    NONE: "NONE",
    /** SERVERã */
    SERVER: "SERVER",
    /** WEBã */
    WEB: "WEB"
};


/**
 * @enum ChartType
 * @memberOf SuperMap
 * @description å®¢æ·ç«¯ä¸é¢å¾å¾è¡¨ç±»å
 * @type {string}
 */
var ChartType = SuperMap.ChartType = {
    /** æ±ç¶å¾ã */
    BAR: "Bar",
    /** ä¸ç»´æ±ç¶å¾ã */
    BAR3D: "Bar3D",
    /** åå½¢å¾ã */
    CIRCLE: "Circle",
    /** é¥¼å¾ã */
    PIE: "Pie",
    /** æ£ç¹å¾ã */
    POINT: "Point",
    /** æçº¿å¾ã */
    LINE: "Line",
    /** ç¯ç¶å¾ã */
    RING: "Ring"
};


/**
 * @enum ClipAnalystMode
 * @memberOf SuperMap
 * @description  è£åªåææ¨¡å¼
 * @type {string}
 */
var ClipAnalystMode = SuperMap.ClipAnalystMode = {
    /** CLIPã */
    CLIP: "clip",
    /** INTERSECTã */
    INTERSECT: "intersect"
};

/**
 * @enum AnalystAreaUnit
 * @memberOf SuperMap
 * @description åå¸å¼åæé¢ç§¯åä½
 * @type {string}
 */
var AnalystAreaUnit = SuperMap.AnalystAreaUnit = {
    /** å¹³æ¹ç±³ã */
    "SQUAREMETER": "SquareMeter",
    /** å¹³æ¹åç±³ã */
    "SQUAREKILOMETER": "SquareKiloMeter",
    /** å¬é¡·ã */
    "HECTARE": "Hectare",
    /** å¬äº©ã */
    "ARE": "Are",
    /** è±äº©ã */
    "ACRE": "Acre",
    /** å¹³æ¹è±å°ºã */
    "SQUAREFOOT": "SquareFoot",
    /** å¹³æ¹ç ã */
    "SQUAREYARD": "SquareYard",
    /** å¹³æ¹è±éã */
    "SQUAREMILE": "SquareMile"
};

/**
 * @enum AnalystSizeUnit
 * @memberOf SuperMap
 * @description åå¸å¼åæåä½
 * @type {string}
 */
var AnalystSizeUnit = SuperMap.AnalystSizeUnit = {
    /** ç±³ã */
    "METER": "Meter",
    /** åç±³ã */
    "KILOMETER": "Kilometer",
    /** ç ã */
    "YARD": "Yard",
    /** è±å°ºã */
    "FOOT": "Foot",
    /** è±éã */
    "MILE": "Mile"
};


/**
 * @enum StatisticAnalystMode
 * @memberOf SuperMap
 * @description åå¸å¼åæç»è®¡æ¨¡å¼
 * @type {string}
 */
var StatisticAnalystMode = SuperMap.StatisticAnalystMode = {
    /** ç»è®¡æéå­æ®µçæå¤§å¼ã */
    "MAX": "max",
    /** ç»è®¡æéå­æ®µçæå°å¼ã */
    "MIN": "min",
    /** ç»è®¡æéå­æ®µçå¹³åå¼ã */
    "AVERAGE": "average",
    /** ç»è®¡æéå­æ®µçæ»åã */
    "SUM": "sum",
    /** ç»è®¡æéå­æ®µçæ¹å·®ã */
    "VARIANCE": "variance",
    /** ç»è®¡æéå­æ®µçæ åå·® */
    "STDDEVIATION": "stdDeviation"
};

/**
 * @enum SummaryType
 * @memberOf SuperMap
 * @description åå¸å¼åæèåç±»å
 * @type {string}
 */
var SummaryType = SuperMap.SummaryType = {
    /** æ ¼ç½èåã */
    "SUMMARYMESH": "SUMMARYMESH",
    /** å¤è¾¹å½¢èåã */
    "SUMMARYREGION": "SUMMARYREGION"
};

/**
 * @enum TopologyValidatorRule
 * @memberOf SuperMap
 * @description  æææ£æ¥æ¨¡å¼æä¸¾ãè¯¥ç±»å®ä¹äºæææ£æ¥æä½æ¨¡å¼å¸¸éã
 * @type {string}
 */
var TopologyValidatorRule = SuperMap.TopologyValidatorRule = {
    /** é¢åæ éå ï¼ç¨äºå¯¹é¢æ°æ®è¿è¡æææ£æ¥ã */
    REGIONNOOVERLAP: "REGIONNOOVERLAP",
    /** é¢ä¸é¢æ éå ï¼ç¨äºå¯¹é¢æ°æ®è¿è¡æææ£æ¥ã */
    REGIONNOOVERLAPWITH: "REGIONNOOVERLAPWITH",
    /** é¢è¢«é¢åå«ï¼ç¨äºå¯¹é¢æ°æ®è¿è¡æææ£æ¥ã */
    REGIONCONTAINEDBYREGION: "REGIONCONTAINEDBYREGION",
    /** é¢è¢«é¢è¦çï¼ç¨äºå¯¹é¢æ°æ®è¿è¡æææ£æ¥ã */
    REGIONCOVEREDBYREGION: "REGIONCOVEREDBYREGION",
    /** çº¿ä¸çº¿æ éå ï¼ç¨äºå¯¹çº¿æ°æ®è¿è¡æææ£æ¥ã */
    LINENOOVERLAP: "LINENOOVERLAP",
    /** çº¿åæ éå ï¼ç¨äºå¯¹çº¿æ°æ®è¿è¡æææ£æ¥ã */
    LINENOOVERLAPWITH: "LINENOOVERLAPWITH",
    /** ç¹ä¸ç¸åï¼ç¨äºå¯¹ç¹æ°æ®è¿è¡æææ£æ¥ã */
    POINTNOIDENTICAL: "POINTNOIDENTICAL"
};


/**
 * @enum AggregationType
 * @memberOf SuperMap
 * @description  èåæ¥è¯¢æä¸¾ç±»ï¼è¯¥ç±»å®ä¹äºEsæ°æ®æå¡ä¸­èåæ¥è¯¢æ¨¡å¼å¸¸é
 * @type {string}
 */
var AggregationType = SuperMap.AggregationType = {
    /** æ ¼ç½èåç±»åã */
    GEOHASH_GRID: "geohash_grid",
    /** è¿æ»¤èåç±»åã */
    FILTER: "filter"
};


/**
 * @enum AggregationType
 * @memberOf SuperMap
 * @description  èåæ¥è¯¢ä¸­filteræ¥è¯¢æä¸¾ç±»
 * @type {string}
 */
var AggregationQueryBuilderType = SuperMap.AggregationQueryBuilderType = {
    /** èå´æ¥è¯¢ã */
    GEO_BOUNDING_BOX: "geo_bounding_box"
}

// CONCATENATED MODULE: ./src/common/commontypes/Size.js


/**
 * @class  SuperMap.Size
 * @category BaseTypes Style
 * @classdesc æ­¤ç±»æç»ä¸å¯¹é«å®½å¼çå®ä¾ã
 * @param {number} [w=0.0] - å®½åº¦ã
 * @param {number} [h=0.0] - é«åº¦ã
 *
 * @example
 * var size = new SuperMap.Size(31,46);
 */
class Size {

    constructor(w, h) {
        /**
         * @member {number} [SuperMap.Size.prototype.w=0.0]
         * @description å®½åº¦ã
         */
        this.w = w ? parseFloat(w) : 0.0;

        /**
         * @member {number} [SuperMap.Size.prototype.h=0.0]
         * @description é«åº¦ã
         */
        this.h = w ? parseFloat(h) : 0.0;
        this.CLASS_NAME = "SuperMap.Size";
    }


    /**
     * @function SuperMap.Size.prototype.toString
     * @description è¿åæ­¤å¯¹è±¡çå­ç¬¦ä¸²å½¢å¼ã
     * @example
     * var size = new SuperMap.Size(10,5);
     * var str = size.toString();
     * @returns {string} ä¾å¦ï¼"w=10,h=5"ã
     */
    toString() {
        return ("w=" + this.w + ",h=" + this.h);
    }


    /**
     * @function SuperMap.Size.prototype.clone
     * @description åéå½åsizeå¯¹è±¡ã
     * @example
     * var size = new SuperMap.Size(31,46);
     * var size2 = size.clone();
     * @returns {SuperMap.Size}  è¿åä¸ä¸ªæ°çä¸å½å size å¯¹è±¡æç¸åå®½ãé«ç Size å¯¹è±¡ã
     */
    clone() {
        return new Size(this.w, this.h);
    }


    /**
     *
     * @function SuperMap.Size.prototype.equals
     * @description æ¯è¾ä¸¤ä¸ª size å¯¹è±¡æ¯å¦ç¸ç­ã
     * @example
     * var size = new SuperMap.Size(31,46);
     * var size2 = new SuperMap.Size(31,46);
     * var isEquals = size.equals(size2);
     *
     * @param {SuperMap.Size} sz - ç¨äºæ¯è¾ç¸ç­ç Size å¯¹è±¡ã
     * @returns {boolean} ä¼ å¥ç size åå½å size é«å®½ç¸ç­ï¼æ³¨æï¼å¦æä¼ å¥ç size ä¸ºç©ºåè¿å falseã
     *
     */
    equals(sz) {
        var equals = false;
        if (sz != null) {
            equals = ((this.w === sz.w && this.h === sz.h) ||
                (isNaN(this.w) && isNaN(this.h) && isNaN(sz.w) && isNaN(sz.h)));
        }
        return equals;
    }

    /**
     *
     * @function SuperMap.Size.prototype.destroy
     * @description éæ¯æ­¤å¯¹è±¡ãéæ¯åæ­¤å¯¹è±¡çææå±æ§ä¸º nullï¼èä¸æ¯åå§å¼ã
     * @example
     * var size = new SuperMap.Size(31,46);
     * size.destroy();
     */
    destroy() {
        this.w = null;
        this.h = null;
    }
}

SuperMap.Size = Size;
// CONCATENATED MODULE: ./src/common/commontypes/Pixel.js


/**
 * @class SuperMap.Pixel
 * @category BaseTypes Geometry
 * @classdesc æ­¤ç±»ç¨ x,y åæ æç»å±å¹åæ ï¼åç´ ç¹ï¼ã
 * @param {number} [x=0.0] - x åæ ã
 * @param {number} [y=0.0] - y åæ ã
 * @param {SuperMap.Pixel.Mode} [mode=SuperMap.Pixel.Mode.LeftTop] - åæ æ¨¡å¼ã
 *
 * @example
 * //åç¬åå»ºä¸ä¸ªå¯¹è±¡
 * var pixcel = new SuperMap.Pixel(100,50);
 *
 * //ä¾æ® size åå»º
 *  var size = new SuperMap.Size(21,25);
 *  var offset = new SuperMap.Pixel(-(size.w/2), -size.h);
 */
class Pixel_Pixel {


    constructor(x, y, mode) {
        /**
         * @member {number} [SuperMap.Pixel.prototype.x=0.0]
         * @description x åæ ã
         */
        this.x = x ? parseFloat(x) : 0.0;

        /**
         * @member {number} [SuperMap.Pixel.prototype.y=0.0]
         * @description y åæ ã
         */
        this.y = y ? parseFloat(y) : 0.0;

        /**
         * @member {SuperMap.Pixel.Mode} [SuperMap.Pixel.prototype.mode=SuperMap.Pixel.Mode.LeftTop]
         * @description åæ æ¨¡å¼ï¼æå·¦ä¸ãå³ä¸ãå³ä¸ãå·¦ä¸è¿å ç§æ¨¡å¼ï¼åå«è¡¨ç¤ºç¸å¯¹äºå·¦ä¸è§ãå³ä¸è§ãå³ä¸è§ãå·¦ä¸è§çåæ ã 
         */ 
        this.mode = mode;
        this.CLASS_NAME = "SuperMap.Pixel";
        /**
         * @enum SuperMap.Pixel.Mode
         * @readonly
         * @description æ¨¡å¼ã
         * @type {string}
         */

        SuperMap.Pixel.Mode = {
            /** å·¦ä¸æ¨¡å¼ã*/
            LeftTop: "lefttop",
            /** å³ä¸æ¨¡å¼ã */
            RightTop: "righttop",
            /** å³ä¸æ¨¡å¼ã */
            RightBottom: "rightbottom",
            /** å·¦ä¸æ¨¡å¼ã */
            LeftBottom: "leftbottom"
        };
    }

    /**
     * @function SuperMap.Pixel.prototype.toString
     * @description è¿åæ­¤å¯¹è±¡çå­ç¬¦ä¸²å½¢å¼ã
     * @example
     *
     * var pixcel = new SuperMap.Pixel(100,50);
     * var str = pixcel.toString();
     *
     * @returns {string} ä¾å¦: "x=200.4,y=242.2"
     */
    toString() {
        return ("x=" + this.x + ",y=" + this.y);
    }

    /**
     * @function SuperMap.Pixel.prototype.clone
     * @description åéå½åç pixel å¯¹è±¡ã
     * @example
     * var pixcel = new SuperMap.Pixel(100,50);
     * var pixcel2 = pixcel.clone();
     * @returns {SuperMap.Pixel} è¿åä¸ä¸ªæ°çä¸å½å pixel å¯¹è±¡æç¸å xãy åæ ç pixel å¯¹è±¡ã
     */
    clone() {
        return new Pixel_Pixel(this.x, this.y, this.mode);
    }

    /**
     * @function SuperMap.Pixel.prototype.equals
     * @description æ¯è¾ä¸¤ pixel æ¯å¦ç¸ç­ã
     * @example
     * var pixcel = new SuperMap.Pixel(100,50);
     * var pixcel2 = new SuperMap.Pixel(100,50);
     * var isEquals = pixcel.equals(pixcel2);
     *
     * @param {SuperMap.Pixel} px - ç¨äºæ¯è¾ç¸ç­ç pixel å¯¹è±¡ã
     * @returns {boolean} å¦æä¼ å¥çåç´ ç¹åå½ååç´ ç¹ç¸åè¿å trueï¼å¦æä¸åæä¼ å¥åæ°ä¸º NULL åè¿å falseã
     */
    equals(px) {
        var equals = false;
        if (px != null) {
            equals = ((this.x == px.x && this.y == px.y) ||
                (isNaN(this.x) && isNaN(this.y) && isNaN(px.x) && isNaN(px.y)));
        }
        return equals;
    }

    /**
     * @function SuperMap.Pixel.prototype.distanceTo
     * @description è¿åä¸¤ä¸ª pixel çè·ç¦»ã
     * @example
     * var pixcel = new SuperMap.Pixel(100,50);
     * var pixcel2 = new SuperMap.Pixel(110,30);
     * var distance = pixcel.distanceTo(pixcel2);
     *
     * @param {SuperMap.Pixel} px - ç¨äºè®¡ç®çä¸ä¸ª pixelã
     * @returns {float} ä½ä¸ºåæ°ä¼ å¥çåç´ ä¸å½ååç´ ç¹çè·ç¦»ã
     */
    distanceTo(px) {
        return Math.sqrt(
            Math.pow(this.x - px.x, 2) +
            Math.pow(this.y - px.y, 2)
        );
    }

    /**
     * @function SuperMap.Pixel.prototype.add
     * @description å¨åæ¥åç´ åæ åºç¡ä¸ï¼x å¼å ä¸ä¼ å¥ç x åæ°ï¼y å¼å ä¸ä¼ å¥ç y åæ°ã
     * @example
     * var pixcel = new SuperMap.Pixel(100,50);
     * //pixcel2æ¯æ°çå¯¹è±¡
     * var pixcel2 = pixcel.add(20,30);
     *
     * @param {number} x - ä¼ å¥ç x å¼ã
     * @param {number} y - ä¼ å¥ç y å¼ã
     * @returns {SuperMap.Pixel} è¿åä¸ä¸ªæ°ç pixel å¯¹è±¡ï¼è¯¥ pixel æ¯ç±å½åç pixel ä¸ä¼ å¥ç xï¼y ç¸å å¾å°ã
     */
    add(x, y) {
        if ((x == null) || (y == null)) {
            throw new TypeError('Pixel.add cannot receive null values');
        }
        return new Pixel_Pixel(this.x + x, this.y + y);
    }

    /**
     * @function SuperMap.Pixel.prototype.offset
     * @description éè¿ä¼ å¥ç {@link SuperMap.Pixel} åæ°å¯¹åå±å¹åæ è¿è¡åç§»ã
     * @example
     * var pixcel = new SuperMap.Pixel(100,50);
     * var pixcel2 = new SuperMap.Pixel(130,20);
     * //pixcel3 æ¯æ°çå¯¹è±¡
     * var pixcel3 = pixcel.offset(pixcel2);
     *
     * @param {SuperMap.Pixel} px - ä¼ å¥ç <SuperMap.Pixel> å¯¹è±¡ã
     * @returns {SuperMap.Pixel} è¿åä¸ä¸ªæ°ç pixelï¼è¯¥ pixel æ¯ç±å½åç pixel å¯¹è±¡ç xï¼y å¼ä¸ä¼ å¥ç Pixel å¯¹è±¡ç xï¼y å¼ç¸å å¾å°ã
     */
    offset(px) {
        var newPx = this.clone();
        if (px) {
            newPx = this.add(px.x, px.y);
        }
        return newPx;
    }

    /**
     *
     * @function SuperMap.Pixel.prototype.destroy
     * @description éæ¯æ­¤å¯¹è±¡ãéæ¯åæ­¤å¯¹è±¡çææå±æ§ä¸º nullï¼èä¸æ¯åå§å¼ã
     * @example
     * var pixcel = new SuperMap.Pixel(100,50);
     * pixcel.destroy();
     */
    destroy() {
        this.x = null;
        this.y = null;
        this.mode = null;
    }
}

SuperMap.Pixel = Pixel_Pixel;


// CONCATENATED MODULE: ./src/common/commontypes/BaseTypes.js

/**
 *@namespace SuperMap
 *@category BaseTypes Namespace
 */

/**
 * @function SuperMap.inherit
 * @description é¤äº C å P ä¸¤ä¸ªå¿è¦åæ°å¤ï¼å¯ä»¥ä¼ éä»»ææ°éçå¯¹è±¡ï¼è¿äºå¯¹è±¡é½å°ç»§æ¿Cã
 * @memberOf SuperMap
 * @param {Object} C - ç»§æ¿çç±»ã
 * @param {Object} P - è¢«ç»§æ¿çç¶ç±»ã
 */
SuperMap.inherit = function (C, P) {
    var F = function () {
    };
    F.prototype = P.prototype;
    C.prototype = new F;
    var i, l, o;
    for (i = 2, l = arguments.length; i < l; i++) {
        o = arguments[i];
        if (typeof o === "function") {
            o = o.prototype;
        }
        SuperMap.Util.extend(C.prototype, o);
    }
};


/**
 * @function SuperMap.mixin 
 * @description å®ç°å¤éç»§æ¿ã
 * @memberOf SuperMap
 * @param {Class|Object} ...mixins - ç»§æ¿çç±»ã
 */
SuperMap.mixin = function (...mixins) {

    class Mix {
        constructor(options) {
            for (var index = 0; index < mixins.length; index++) {
                copyProperties(this, new mixins[index](options));
            }
        }
    }

    for (var index = 0; index < mixins.length; index++) {
        var mixin = mixins[index];
        copyProperties(Mix, mixin);
        copyProperties(Mix.prototype, mixin.prototype);
        copyProperties(Mix.prototype, new mixin());
    }
    return Mix;

    function copyProperties(target, source) {
        var ownKeys = Object.getOwnPropertyNames(source);
        if (Object.getOwnPropertySymbols) {
            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source));
        }
        for (var index = 0; index < ownKeys.length; index++) {
            var key = ownKeys[index];
            if (key !== "constructor"
                && key !== "prototype"
                && key !== "name" && key !== "length") {
                let desc = Object.getOwnPropertyDescriptor(source, key);
                if (window["ActiveXObject"]) {
                    Object.defineProperty(target, key, desc || {});
                } else {
                    Object.defineProperty(target, key, desc);
                }
            }
        }
    }
};

/**
 * @name String
 * @namespace
 * @memberOf SuperMap
 * @category BaseTypes Util
 * @description å­ç¬¦ä¸²æä½çä¸ç³»åå¸¸ç¨æ©å±å½æ°ã
 */
var StringExt = SuperMap.String = {

    /**
     * @function SuperMap.String.startsWith
     * @description å¤æ­ç®æ å­ç¬¦ä¸²æ¯å¦ä»¥æå®çå­å­ç¬¦ä¸²å¼å¤´ã
     * @param {string} str - ç®æ å­ç¬¦ä¸²ã
     * @param {string} sub - æ¥æ¾çå­å­ç¬¦ä¸²ã
     * @returns {boolean} ç®æ å­ç¬¦ä¸²ä»¥æå®çå­å­ç¬¦ä¸²å¼å¤´ï¼åè¿å trueï¼å¦åè¿å falseã
     */
    startsWith: function (str, sub) {
        return (str.indexOf(sub) == 0);
    },

    /**
     * @function SuperMap.String.contains
     * @description å¤æ­ç®æ å­ç¬¦ä¸²æ¯å¦åå«æå®çå­å­ç¬¦ä¸²ã
     * @param {string} str - ç®æ å­ç¬¦ä¸²ã
     * @param {string} sub - æ¥æ¾çå­å­ç¬¦ä¸²ã
     * @returns {boolean} ç®æ å­ç¬¦ä¸²ä¸­åå«æå®çå­å­ç¬¦ä¸²ï¼åè¿å trueï¼å¦åè¿å falseã
     */
    contains: function (str, sub) {
        return (str.indexOf(sub) != -1);
    },

    /**
     * @function SuperMap.String.trim
     * @description å é¤ä¸ä¸ªå­ç¬¦ä¸²çå¼å¤´åç»å°¾å¤çææç©ºç½å­ç¬¦ã
     * @param {string} str - ï¼å¯è½ï¼å­å¨ç©ºç½å­ç¬¦å¡«å¡çå­ç¬¦ä¸²ã
     * @returns {string} å é¤å¼å¤´åç»å°¾å¤ç©ºç½å­ç¬¦åçå­ç¬¦ä¸²ã
     */
    trim: function (str) {
        return str.replace(/^\s\s*/, '').replace(/\s\s*$/, '');
    },

    /**
     * @function SuperMap.String.camelize
     * @description éªé©¼å¼("-")è¿å­ç¬¦çå­ç¬¦ä¸²å¤çã
     * ä¾å¦ï¼"chicken-head" becomes "chickenHead",
     *       "-chicken-head" becomes "ChickenHead"ã
     * @param {string} str - è¦å¤ççå­ç¬¦ä¸²ï¼åå§åå®¹ä¸åºè¢«ä¿®æ¹ã
     * @returns {string}
     */
    camelize: function (str) {
        var oStringList = str.split('-');
        var camelizedString = oStringList[0];
        for (var i = 1, len = oStringList.length; i < len; i++) {
            var s = oStringList[i];
            camelizedString += s.charAt(0).toUpperCase() + s.substring(1);
        }
        return camelizedString;
    },

    /**
     * @function SuperMap.String.format
     * @description æä¾å¸¦ ${token} æ è®°çå­ç¬¦ä¸², è¿å context å¯¹è±¡å±æ§ä¸­æå®æ è®°çå±æ§å¼ã
     * @example
     * ç¤ºä¾ï¼
     * (code)
     * 1ãtemplate = "${value,getValue}";
     *         context = {value: {getValue:function(){return Math.max.apply(null,argument);}}};
     *         args = [2,23,12,36,21];
     *       è¿åå¼:36
     * (end)
     * ç¤ºä¾:
     * (code)
     * 2ãtemplate = "$${{value,getValue}}";
     *         context = {value: {getValue:function(){return Math.max.apply(null,argument);}}};
     *         args = [2,23,12,36,21];
     *       è¿åå¼:"${36}"
     * (end)
     * ç¤ºä¾:
     * (code)
     * 3ãtemplate = "${a,b}";
     *         context = {a: {b:"format"}};
     *         args = null;
     *       è¿åå¼:"format"
     * (end)
     * ç¤ºä¾:
     * (code)
     * 3ãtemplate = "${a,b}";
     *         context = null;
     *         args = null;
     *       è¿åå¼:"${a.b}"
     * (end)
     * @param {string} template - å¸¦æ è®°çå­ç¬¦ä¸²å°è¦è¢«æ¿æ¢ãåæ° template æ ¼å¼ä¸º"${token}"ï¼æ­¤å¤ç token æ è®°ä¼æ¿æ¢ä¸º context["token"] å±æ§çå¼ã
     * @param {Object} [context=window] - å¸¦æå±æ§çå¯éå¯¹è±¡çå±æ§ç¨äºå¹éæ ¼å¼åå­ç¬¦ä¸²ä¸­çæ è®°ãå¦æè¯¥åæ°ä¸ºç©ºï¼å°ä½¿ç¨ window å¯¹è±¡ã
     * @param {Array} [args] - å¯éåæ°ä¼ éç»å¨ context å¯¹è±¡ä¸æ¾å°çå½æ°ã
     * @returns {string} ä» context å¯¹è±¡å±æ§ä¸­æ¿æ¢å­ç¬¦ä¸²æ è®°ä½çå­ç¬¦ä¸²ã 
     */
    format: function (template, context, args) {
        if (!context) {
            context = window;
        }

        // Example matching:
        // str   = ${foo.bar}
        // match = foo.bar
        var replacer = function (str, match) {
            var replacement;

            // Loop through all subs. Example: ${a.b.c}
            // 0 -> replacement = context[a];
            // 1 -> replacement = context[a][b];
            // 2 -> replacement = context[a][b][c];
            var subs = match.split(/\.+/);
            for (var i = 0; i < subs.length; i++) {
                if (i == 0) {
                    replacement = context;
                }

                replacement = replacement[subs[i]];
            }

            if (typeof replacement === "function") {
                replacement = args ?
                    replacement.apply(null, args) :
                    replacement();
            }

            // If replacement is undefined, return the string 'undefined'.
            // This is a workaround for a bugs in browsers not properly
            // dealing with non-participating groups in regular expressions:
            // http://blog.stevenlevithan.com/archives/npcg-javascript
            if (typeof replacement == 'undefined') {
                return 'undefined';
            } else {
                return replacement;
            }
        };

        return template.replace(SuperMap.String.tokenRegEx, replacer);
    },

    /**
     * @member {RegExp} [SuperMap.String.tokenRegEx]
     * @description å¯»æ¾å¸¦ token çå­ç¬¦ä¸²ï¼é»è®¤ä¸º tokenRegEx=/\$\{([\w.]+?)\}/gã
     * @example
     * Examples: ${a}, ${a.b.c}, ${a-b}, ${5}
     */
    tokenRegEx: /\$\{([\w.]+?)\}/g,

    /**
     * @member {RegExp} [SuperMap.String.numberRegEx]
     * @description å¤æ­ä¸ä¸ªå­ç¬¦ä¸²æ¯å¦åªåå«ä¸ä¸ªæ°å¼ï¼é»è®¤ä¸º numberRegEx=/^([+-]?)(?=\d|\.\d)\d*(\.\d*)?([Ee]([+-]?\d+))?$/ã
     */
    numberRegEx: /^([+-]?)(?=\d|\.\d)\d*(\.\d*)?([Ee]([+-]?\d+))?$/,

    /**
     * @function SuperMap.String.isNumeric
     * @description å¤æ­ä¸ä¸ªå­ç¬¦ä¸²æ¯å¦åªåå«ä¸ä¸ªæ°å¼ã
     * @example
     * (code)
     * SuperMap.String.isNumeric("6.02e23") // true
     * SuperMap.String.isNumeric("12 dozen") // false
     * SuperMap.String.isNumeric("4") // true
     * SuperMap.String.isNumeric(" 4 ") // false
     * (end)
     * @returns {boolean} å­ç¬¦ä¸²åå«å¯ä¸çæ°å¼ï¼è¿å trueï¼å¦åè¿å falseã
     */
    isNumeric: function (value) {
        return SuperMap.String.numberRegEx.test(value);
    },

    /**
     * @function SuperMap.String.numericIf
     * @description æä¸ä¸ªçä¼¼æ°å¼åçå­ç¬¦ä¸²è½¬åä¸ºä¸ä¸ªæ°å¼ã
     * @returns {(number|string)} å¦æè½è½¬æ¢ä¸ºæ°å¼åè¿åæ°å¼ï¼å¦åè¿åå­ç¬¦ä¸²æ¬èº«ã
     */
    numericIf: function (value) {
        return SuperMap.String.isNumeric(value) ? parseFloat(value) : value;
    }

};

/**
 * @name Number
 * @memberOf SuperMap
 * @namespace
 * @category BaseTypes Util
 * @description æ°å¼æä½çä¸ç³»åå¸¸ç¨æ©å±å½æ°ã
 */
var NumberExt = SuperMap.Number = {

    /**
     * @member {string} [SuperMap.Number.decimalSeparator='.']
     * @description æ ¼å¼åæ°å­æ¶é»è®¤çå°æ°ç¹åéç¬¦ã
     * @constant
     */
    decimalSeparator: ".",

    /**
     * @member {string} [SuperMap.Number.thousandsSeparator=',']
     * @description æ ¼å¼åæ°å­æ¶é»è®¤çåä½åéç¬¦ã
     * @constant
     */
    thousandsSeparator: ",",

    /**
     * @function SuperMap.Number.limitSigDigs
     * @description éå¶æµ®ç¹æ°çæææ°å­ä½æ°ã
     * @param {number} num - æµ®ç¹æ°ã
     * @param {integer} sig - ææä½æ°ã
     * @returns {number} å°æ°å­åèäºå¥å°æå®æ°éçææä½æ°ã
     */
    limitSigDigs: function (num, sig) {
        var fig = 0;
        if (sig > 0) {
            fig = parseFloat(num.toPrecision(sig));
        }
        return fig;
    },

    /**
     * @function SuperMap.Number.format
     * @description æ°å­æ ¼å¼åè¾åºã
     * @param {number} num - æ°å­ã
     * @param {integer} [dec=0]  - æ°å­çå°æ°é¨ååèäºå¥å°æå®çä½æ°ãè®¾ç½®ä¸º null å¼æ¶å°æ°é¨åä¸åã
     * @param {string} [tsep=','] - åä½åéç¬¦ã
     * @param {string} [dsep='.'] - å°æ°ç¹åéç¬¦ã
     * @returns {string} æ°å­æ ¼å¼ååçå­ç¬¦ä¸²ã
     */
    format: function (num, dec, tsep, dsep) {
        dec = (typeof dec != "undefined") ? dec : 0;
        tsep = (typeof tsep != "undefined") ? tsep :
            SuperMap.Number.thousandsSeparator;
        dsep = (typeof dsep != "undefined") ? dsep :
            SuperMap.Number.decimalSeparator;

        if (dec != null) {
            num = parseFloat(num.toFixed(dec));
        }

        var parts = num.toString().split(".");
        if (parts.length === 1 && dec == null) {
            // integer where we do not want to touch the decimals
            dec = 0;
        }

        var integer = parts[0];
        if (tsep) {
            var thousands = /(-?[0-9]+)([0-9]{3})/;
            while (thousands.test(integer)) {
                integer = integer.replace(thousands, "$1" + tsep + "$2");
            }
        }

        var str;
        if (dec == 0) {
            str = integer;
        } else {
            var rem = parts.length > 1 ? parts[1] : "0";
            if (dec != null) {
                rem = rem + new Array(dec - rem.length + 1).join("0");
            }
            str = integer + dsep + rem;
        }
        return str;
    }
};

if (!Number.prototype.limitSigDigs) {
    /**
     * APIMethod: Number.limitSigDigs
     * éå¶æµ®ç¹æ°çæææ°å­ä½æ°.
     * @param {integer} sig -ææä½æ°ã
     * @returns {integer} å°æ°å­åèäºå¥å°æå®æ°éçææä½æ°ã
     *           å¦æä¼ å¥å¼ ä¸º nullã0ãæèæ¯è´æ°, è¿åå¼ 0ã
     */
    Number.prototype.limitSigDigs = function (sig) {
        return NumberExt.limitSigDigs(this, sig);
    };
}

/**
 * @name Function
 * @memberOf SuperMap
 * @namespace
 * @category BaseTypes Util
 * @description å½æ°æä½çä¸ç³»åå¸¸ç¨æ©å±å½æ°ã
 */
var FunctionExt = SuperMap.Function = {
    /**
     * @function SuperMap.Function.bind
     * @description ç»å®å½æ°å°å¯¹è±¡ãæ¹ä¾¿åå»º this çä½ç¨åã
     * @param {function} func - è¾å¥å½æ°ã
     * @param {Object} object - å¯¹è±¡ç»å®å°è¾å¥å½æ°ï¼ä½ä¸ºè¾å¥å½æ°ç this å¯¹è±¡ï¼ã
     * @returns {function} object åæ°ä½ä¸º func å½æ°ç this å¯¹è±¡ã
     */
    bind: function (func, object) {
        // create a reference to all arguments past the second one
        var args = Array.prototype.slice.apply(arguments, [2]);
        return function () {
            // Push on any additional arguments from the actual function call.
            // These will come after those sent to the bind call.
            var newArgs = args.concat(
                Array.prototype.slice.apply(arguments, [0])
            );
            return func.apply(object, newArgs);
        };
    },

    /**
     * @function SuperMap.Function.bindAsEventListener
     * @description ç»å®å½æ°å°å¯¹è±¡ï¼å¨è°ç¨è¯¥å½æ°æ¶éç½®å¹¶ä½¿ç¨äºä»¶å¯¹è±¡ä½ä¸ºç¬¬ä¸ä¸ªåæ°ã
     * @param {function} func - ç¨äºçå¬äºä»¶çå½æ°ã
     * @param {Object} object - this å¯¹è±¡çå¼ç¨ã
     * @returns {function}
     */
    bindAsEventListener: function (func, object) {
        return function (event) {
            return func.call(object, event || window.event);
        };
    },

    /**
     * @function SuperMap.Function.False
     * @description è¯¥å½æ°ä»ä»è¿å falseãè¯¥å½æ°ä¸»è¦æ¯é¿åå¨ IE8 ä»¥ä¸æµè§ä¸­ DOM äºä»¶å¥æçå¿åå½æ°é®é¢ã
     * @example
     * document.onclick = SuperMap.Function.False;
     * @returns {boolean}
     */
    False: function () {
        return false;
    },

    /**
     * @function SuperMap.Function.True
     * @description è¯¥å½æ°ä»ä»è¿å trueãè¯¥å½æ°ä¸»è¦æ¯é¿åå¨ IE8 ä»¥ä¸æµè§ä¸­ DOM äºä»¶å¥æçå¿åå½æ°é®é¢ã
     * @example
     * document.onclick = SuperMap.Function.True;
     * @returns {boolean}
     */
    True: function () {
        return true;
    },

    /**
     * @function SuperMap.Function.Void
     * @description å¯éç¨å½æ°ï¼ä»ä»è¿å "undefined"ã
     * @returns {undefined}
     */
    Void: function () {
    }

};

/**
 * @name Array
 * @memberOf SuperMap
 * @namespace
 * @category BaseTypes Util
 * @description æ°ç»æä½çä¸ç³»åå¸¸ç¨æ©å±å½æ°ã
 */
var ArrayExt = SuperMap.Array = {

    /**
     * @function SuperMap.Array.filter
     * @description è¿æ»¤æ°ç»ï¼æä¾äº ECMA-262 æ åä¸­ Array.prototype.filter å½æ°çæ©å±ãè¯¦è§ï¼{@link http://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Array/filter}
     * @param {Array} array - è¦è¿æ»¤çæ°ç»ã
     * @param {function} callback - æ°ç»ä¸­çæ¯ä¸ä¸ªåç´ è°ç¨è¯¥å½æ°ã</br>
     *     å¦æå½æ°çè¿åå¼ä¸º trueï¼è¯¥åç´ å°åå«å¨è¿åçæ°ç»ä¸­ãè¯¥å½æ°æä¸ä¸ªåæ°: æ°ç»ä¸­çåç´ ï¼åç´ çç´¢å¼ï¼æ°ç»èªèº«ã</br>
     *     å¦æè®¾ç½®äºå¯éåæ° callerï¼å¨è°ç¨ callback æ¶ï¼ä½¿ç¨å¯éåæ° caller è®¾ç½®ä¸º callback çåæ°ã</br>
     * @param {Object} [caller] - å¨è°ç¨ callback æ¶ï¼ä½¿ç¨åæ° caller è®¾ç½®ä¸º callback çåæ°ã
     * @returns {Array} callback å½æ°è¿å true æ¶çåç´ å°ä½ä¸ºè¿åæ°ç»ä¸­çåç´ ã
     */
    filter: function (array, callback, caller) {
        var selected = [];
        if (Array.prototype.filter) {
            selected = array.filter(callback, caller);
        } else {
            var len = array.length;
            if (typeof callback != "function") {
                throw new TypeError();
            }
            for (var i = 0; i < len; i++) {
                if (i in array) {
                    var val = array[i];
                    if (callback.call(caller, val, i, array)) {
                        selected.push(val);
                    }
                }
            }
        }
        return selected;
    }

};

// CONCATENATED MODULE: ./src/common/commontypes/Util.js



var Util_Util = SuperMap.Util = SuperMap.Util || {};
/**
 * @name Util
 * @memberOf SuperMap
 * @namespace
 * @category BaseTypes Util
 * @description common å·¥å·ç±»ã
 */

/**
 * @description å¤å¶æºå¯¹è±¡çææå±æ§å°ç®æ å¯¹è±¡ä¸ï¼æºå¯¹è±¡ä¸çæ²¡æå®ä¹çå±æ§å¨ç®æ å¯¹è±¡ä¸ä¹ä¸ä¼è¢«è®¾ç½®ã
 * @example
 * è¦å¤å¶ SuperMap.Size å¯¹è±¡çææå±æ§å°èªå®ä¹å¯¹è±¡ä¸ï¼ä½¿ç¨æ¹æ³å¦ä¸:
 *     var size = new SuperMap.Size(100, 100);
 *     var obj = {}ï¼
 *     SuperMap.Util.extend(obj, size);
 * @param {Object} [destination] - ç®æ å¯¹è±¡ã
 * @param {Object} source - æºå¯¹è±¡ï¼å¶å±æ§å°è¢«è®¾ç½®å°ç®æ å¯¹è±¡ä¸ã
 * @returns {Object} ç®æ å¯¹è±¡ã
 */

SuperMap.Util.extend = function (destination, source) {
    destination = destination || {};
    if (source) {
        for (var property in source) {
            var value = source[property];
            if (value !== undefined) {
                destination[property] = value;
            }
        }

        /**
         * IE doesn't include the toString property when iterating over an object's
         * properties with the for(property in object) syntax.  Explicitly check if
         * the source has its own toString property.
         */

        /*
         * FF/Windows < 2.0.0.13 reports "Illegal operation on WrappedNative
         * prototype object" when calling hawOwnProperty if the source object
         * is an instance of window.Event.
         */

        var sourceIsEvt = typeof window.Event === "function"
            && source instanceof window.Event;

        if (!sourceIsEvt
            && source.hasOwnProperty && source.hasOwnProperty("toString")) {
            destination.toString = source.toString;
        }
    }
    return destination;
};
/**
 * @description å¯¹è±¡æ·è´ã
 * @param {Object} [des] - ç®æ å¯¹è±¡ã
 * @param {Object} soc - æºå¯¹è±¡ã
 */
SuperMap.Util.copy = function (des, soc) {
    des = des || {};
    var v;
    if (soc) {
        for (var p in des) {
            v = soc[p];
            if (typeof v !== 'undefined') {
                des[p] = v;
            }
        }
    }
};
/**
 * @description éæ¯å¯¹è±¡ï¼å°å¶å±æ§ç½®ç©ºã
 * @param {Object} [obj] - ç®æ å¯¹è±¡ã
 */
SuperMap.Util.reset = function (obj) {
    obj = obj || {};
    for (var p in obj) {
        if (obj.hasOwnProperty(p)) {
            if (typeof obj[p] === "object" && obj[p] instanceof Array) {
                for (var i in obj[p]) {
                    if (obj[p][i].destroy) {
                        obj[p][i].destroy();
                    }
                }
                obj[p].length = 0;
            } else if (typeof obj[p] === "object" && obj[p] instanceof Object) {
                if (obj[p].destroy) {
                    obj[p].destroy();
                }
            }
            obj[p] = null;
        }
    }
};

/**
 * @description è·å HTML åç´ æ°ç»ã
 * @returns {Array.<HTMLElement>} HTML åç´ æ°ç»ã
 */
SuperMap.Util.getElement = function () {
    var elements = [];

    for (var i = 0, len = arguments.length; i < len; i++) {
        var element = arguments[i];
        if (typeof element === 'string') {
            element = document.getElementById(element);
        }
        if (arguments.length === 1) {
            return element;
        }
        elements.push(element);
    }
    return elements;
};

/**
 * @description instance of çè·¨æµè§å¨å®ç°ã
 * @param {Object} o - å¯¹è±¡ã
 * @returns {boolean} æ¯å¦æ¯é¡µé¢åç´ ã
 */
SuperMap.Util.isElement = function (o) {
    return !!(o && o.nodeType === 1);
};

/**
 * @description å¤æ­ä¸ä¸ªå¯¹è±¡æ¯å¦æ¯æ°ç»ã
 * @param {Object} a - å¯¹è±¡ã
 * @returns {boolean} æ¯å¦æ¯æ°ç»ã
 */
SuperMap.Util.isArray = function (a) {
    return (Object.prototype.toString.call(a) === '[object Array]');
};


/**
 * @description ä»æ°ç»ä¸­å é¤æä¸é¡¹ã
 * @param {Array} array - æ°ç»ã
 * @param {Object} item - æ°ç»ä¸­è¦å é¤çä¸é¡¹ã
 * @returns {Array} æ§è¡å é¤æä½åçæ°ç»ã
 */
SuperMap.Util.removeItem = function (array, item) {
    for (var i = array.length - 1; i >= 0; i--) {
        if (array[i] === item) {
            array.splice(i, 1);
            //break;more than once??
        }
    }
    return array;
};

/**
 * @description è·åæå¯¹è±¡åæ°ç»ä¸­çç´¢å¼å¼ã
 * @param {Array} array - æ°ç»ã
 * @param {Object} obj - å¯¹è±¡ã
 * @returns {number} æå¯¹è±¡åæ°ç»ä¸­çç´¢å¼å¼ã
 */
SuperMap.Util.indexOf = function (array, obj) {
    if (array == null) {
        return -1;
    } else {
        // use the build-in function if available.
        if (typeof array.indexOf === "function") {
            return array.indexOf(obj);
        } else {
            for (var i = 0, len = array.length; i < len; i++) {
                if (array[i] === obj) {
                    return i;
                }
            }
            return -1;
        }
    }
};


/**
 * @description ä¿®æ¹æ DOM åç´ çè®¸å¤å±æ§ã
 * @param {HTMLElement} element - å¾ä¿®æ¹ç DOM åç´ ã
 * @param {string} [id] - DOM åç´ ç IDã
 * @param {SuperMap.Pixel} [px] - åå« DOM åç´ ç style å±æ§ç left å top å±æ§ã
 * @param {SuperMap.Size} [sz] - åå« DOM åç´ ç width å height å±æ§ã
 * @param {string} [position] - DOM åç´ ç position å±æ§ã
 * @param {string} [border] - DOM åç´ ç style å±æ§ç border å±æ§ã
 * @param {string} [overflow] - DOM åç´ ç style å±æ§ç overflow å±æ§ã
 * @param {number} [opacity] - ä¸éæåº¦å¼ãåå¼èå´ä¸º(0.0 - 1.0)ã
 */
SuperMap.Util.modifyDOMElement = function (element, id, px, sz, position,
                                           border, overflow, opacity) {

    if (id) {
        element.id = id;
    }
    if (px) {
        element.style.left = px.x + "px";
        element.style.top = px.y + "px";
    }
    if (sz) {
        element.style.width = sz.w + "px";
        element.style.height = sz.h + "px";
    }
    if (position) {
        element.style.position = position;
    }
    if (border) {
        element.style.border = border;
    }
    if (overflow) {
        element.style.overflow = overflow;
    }
    if (parseFloat(opacity) >= 0.0 && parseFloat(opacity) < 1.0) {
        element.style.filter = 'alpha(opacity=' + (opacity * 100) + ')';
        element.style.opacity = opacity;
    } else if (parseFloat(opacity) === 1.0) {
        element.style.filter = '';
        element.style.opacity = '';
    }
};


/**
 * @description Takes an object and copies any properties that don't exist from
 *     another properties, by analogy with SuperMap.Util.extend() from
 *     Prototype.js.
 *
 * @param {Object} [to] - ç®æ å¯¹è±¡ã
 * @param {Object} from - æºå¯¹è±¡ãAny properties of this object that
 *     are undefined in the to object will be set on the to object.
 *
 * @returns {Object} A reference to the to object.  Note that the to argument is modified
 *     in place and returned by this function.
 */
SuperMap.Util.applyDefaults = function (to, from) {
    to = to || {};
    /*
     * FF/Windows < 2.0.0.13 reports "Illegal operation on WrappedNative
     * prototype object" when calling hawOwnProperty if the source object is an
     * instance of window.Event.
     */
    var fromIsEvt = typeof window.Event === "function"
        && from instanceof window.Event;

    for (var key in from) {
        if (to[key] === undefined ||
            (!fromIsEvt && from.hasOwnProperty
                && from.hasOwnProperty(key) && !to.hasOwnProperty(key))) {
            to[key] = from[key];
        }
    }
    /**
     * IE doesn't include the toString property when iterating over an object's
     * properties with the for(property in object) syntax.  Explicitly check if
     * the source has its own toString property.
     */
    if (!fromIsEvt && from && from.hasOwnProperty
        && from.hasOwnProperty('toString') && !to.hasOwnProperty('toString')) {
        to.toString = from.toString;
    }

    return to;
};


/**
 * @description å°åæ°å¯¹è±¡è½¬æ¢ä¸º HTTP ç GET è¯·æ±ä¸­çåæ°å­ç¬¦ä¸²ãä¾å¦ï¼"key1=value1&key2=value2&key3=value3"ã
 * @param {Object} params - åæ°å¯¹è±¡ã
 * @returns {string} HTTP ç GET è¯·æ±ä¸­çåæ°å­ç¬¦ä¸²ã
 */
SuperMap.Util.getParameterString = function (params) {
    var paramsArray = [];

    for (var key in params) {
        var value = params[key];
        if ((value != null) && (typeof value !== 'function')) {
            var encodedValue;
            if (typeof value === 'object' && value.constructor === Array) {
                /* value is an array; encode items and separate with "," */
                var encodedItemArray = [];
                var item;
                for (var itemIndex = 0, len = value.length; itemIndex < len; itemIndex++) {
                    item = value[itemIndex];
                    encodedItemArray.push(encodeURIComponent(
                        (item === null || item === undefined) ? "" : item)
                    );
                }
                encodedValue = encodedItemArray.join(",");
            } else {
                /* value is a string; simply encode */
                encodedValue = encodeURIComponent(value);
            }
            paramsArray.push(encodeURIComponent(key) + "=" + encodedValue);
        }
    }

    return paramsArray.join("&");
};

/**
 * @description ç» URL è¿½å åæ°ã
 * @param {string} url - å¾è¿½å åæ°ç URL å­ç¬¦ä¸²ã
 * @param {string} paramStr - å¾è¿½å çåæ°ã
 * @returns {string} æ°ç URLã
 */
SuperMap.Util.urlAppend = function (url, paramStr) {
    var newUrl = url;
    if (paramStr) {
        var parts = (url + " ").split(/[?&]/);
        newUrl += (parts.pop() === " " ?
            paramStr :
            parts.length ? "&" + paramStr : "?" + paramStr);
    }
    return newUrl;
};

/**
 * @description ä¸ºäºé¿åæµ®ç¹ç²¾åº¦éè¯¯èä¿ççææä½æ°ã
 * @type {number}
 * @default 14
 */
SuperMap.Util.DEFAULT_PRECISION = 14;

/**
 * @description å°å­ç¬¦ä¸²ä»¥æ¥è¿çç²¾åº¦è½¬æ¢ä¸ºæ°å­ã
 * @param {string} number - å­ç¬¦ä¸²ã
 * @param {number} [precision=14] - ç²¾åº¦ã
 * @returns {number} æ°å­ã
 */
SuperMap.Util.toFloat = function (number, precision) {
    if (precision == null) {
        precision = SuperMap.Util.DEFAULT_PRECISION;
    }
    if (typeof number !== "number") {
        number = parseFloat(number);
    }
    return precision === 0 ? number :
        parseFloat(number.toPrecision(precision));
};

/**
 * @description è§åº¦è½¬å¼§åº¦ã
 * @param {number} x - è§åº¦ã
 * @returns {number} å¼§åº¦ã
 */
SuperMap.Util.rad = function (x) {
    return x * Math.PI / 180;
};

/**
 * @description ä» URL å­ç¬¦ä¸²ä¸­è§£æåºåæ°å¯¹è±¡ã
 * @param {string} url - URLã
 * @returns {Object} è§£æåºçåæ°å¯¹è±¡ã
 */
SuperMap.Util.getParameters = function (url) {
    // if no url specified, take it from the location bar
    url = (url === null || url === undefined) ? window.location.href : url;

    //parse out parameters portion of url string
    var paramsString = "";
    if (SuperMap.String.contains(url, '?')) {
        var start = url.indexOf('?') + 1;
        var end = SuperMap.String.contains(url, "#") ?
            url.indexOf('#') : url.length;
        paramsString = url.substring(start, end);
    }

    var parameters = {};
    var pairs = paramsString.split(/[&;]/);
    for (var i = 0, len = pairs.length; i < len; ++i) {
        var keyValue = pairs[i].split('=');
        if (keyValue[0]) {

            var key = keyValue[0];
            try {
                key = decodeURIComponent(key);
            } catch (err) {
                key = unescape(key);
            }

            // being liberal by replacing "+" with " "
            var value = (keyValue[1] || '').replace(/\+/g, " ");

            try {
                value = decodeURIComponent(value);
            } catch (err) {
                value = unescape(value);
            }

            // follow OGC convention of comma delimited values
            value = value.split(",");

            //if there's only one value, do not return as array                    
            if (value.length == 1) {
                value = value[0];
            }

            parameters[key] = value;
        }
    }
    return parameters;
};

/**
 * @description ä¸æ­éå¢è®¡æ°åéï¼ç¨äºçæå¯ä¸ IDã
 * @type {number}
 * @default 0
 */
SuperMap.Util.lastSeqID = 0;

/**
 * @description åå»ºå¯ä¸ ID å¼ã
 * @param {string} [prefix] - åç¼ã
 * @returns {string} å¯ä¸ç ID å¼ã
 */
SuperMap.Util.createUniqueID = function (prefix) {
    if (prefix == null) {
        prefix = "id_";
    }
    SuperMap.Util.lastSeqID += 1;
    return prefix + SuperMap.Util.lastSeqID;
};

/**
 * @memberOf SuperMap
 * @description æ¯åä½çè±å°ºæ°ã
 * @type {Object}
 * @constant
 */
SuperMap.INCHES_PER_UNIT = {
    'inches': 1.0,
    'ft': 12.0,
    'mi': 63360.0,
    'm': 39.3701,
    'km': 39370.1,
    'dd': 4374754,
    'yd': 36
};
SuperMap.INCHES_PER_UNIT["in"] = SuperMap.INCHES_PER_UNIT.inches;
SuperMap.INCHES_PER_UNIT["degrees"] = SuperMap.INCHES_PER_UNIT.dd;
SuperMap.INCHES_PER_UNIT["nmi"] = 1852 * SuperMap.INCHES_PER_UNIT.m;

// Units from CS-Map
SuperMap.METERS_PER_INCH = 0.02540005080010160020;
SuperMap.Util.extend(SuperMap.INCHES_PER_UNIT, {
    "Inch": SuperMap.INCHES_PER_UNIT.inches,
    "Meter": 1.0 / SuperMap.METERS_PER_INCH,   //EPSG:9001
    "Foot": 0.30480060960121920243 / SuperMap.METERS_PER_INCH,   //EPSG:9003
    "IFoot": 0.30480000000000000000 / SuperMap.METERS_PER_INCH,   //EPSG:9002
    "ClarkeFoot": 0.3047972651151 / SuperMap.METERS_PER_INCH,   //EPSG:9005
    "SearsFoot": 0.30479947153867624624 / SuperMap.METERS_PER_INCH,   //EPSG:9041
    "GoldCoastFoot": 0.30479971018150881758 / SuperMap.METERS_PER_INCH,   //EPSG:9094
    "IInch": 0.02540000000000000000 / SuperMap.METERS_PER_INCH,
    "MicroInch": 0.00002540000000000000 / SuperMap.METERS_PER_INCH,
    "Mil": 0.00000002540000000000 / SuperMap.METERS_PER_INCH,
    "Centimeter": 0.01000000000000000000 / SuperMap.METERS_PER_INCH,
    "Kilometer": 1000.00000000000000000000 / SuperMap.METERS_PER_INCH,   //EPSG:9036
    "Yard": 0.91440182880365760731 / SuperMap.METERS_PER_INCH,
    "SearsYard": 0.914398414616029 / SuperMap.METERS_PER_INCH,   //EPSG:9040
    "IndianYard": 0.91439853074444079983 / SuperMap.METERS_PER_INCH,   //EPSG:9084
    "IndianYd37": 0.91439523 / SuperMap.METERS_PER_INCH,   //EPSG:9085
    "IndianYd62": 0.9143988 / SuperMap.METERS_PER_INCH,   //EPSG:9086
    "IndianYd75": 0.9143985 / SuperMap.METERS_PER_INCH,   //EPSG:9087
    "IndianFoot": 0.30479951 / SuperMap.METERS_PER_INCH,   //EPSG:9080
    "IndianFt37": 0.30479841 / SuperMap.METERS_PER_INCH,   //EPSG:9081
    "IndianFt62": 0.3047996 / SuperMap.METERS_PER_INCH,   //EPSG:9082
    "IndianFt75": 0.3047995 / SuperMap.METERS_PER_INCH,   //EPSG:9083
    "Mile": 1609.34721869443738887477 / SuperMap.METERS_PER_INCH,
    "IYard": 0.91440000000000000000 / SuperMap.METERS_PER_INCH,   //EPSG:9096
    "IMile": 1609.34400000000000000000 / SuperMap.METERS_PER_INCH,   //EPSG:9093
    "NautM": 1852.00000000000000000000 / SuperMap.METERS_PER_INCH,   //EPSG:9030
    "Lat-66": 110943.316488932731 / SuperMap.METERS_PER_INCH,
    "Lat-83": 110946.25736872234125 / SuperMap.METERS_PER_INCH,
    "Decimeter": 0.10000000000000000000 / SuperMap.METERS_PER_INCH,
    "Millimeter": 0.00100000000000000000 / SuperMap.METERS_PER_INCH,
    "Dekameter": 10.00000000000000000000 / SuperMap.METERS_PER_INCH,
    "Decameter": 10.00000000000000000000 / SuperMap.METERS_PER_INCH,
    "Hectometer": 100.00000000000000000000 / SuperMap.METERS_PER_INCH,
    "GermanMeter": 1.0000135965 / SuperMap.METERS_PER_INCH,   //EPSG:9031
    "CaGrid": 0.999738 / SuperMap.METERS_PER_INCH,
    "ClarkeChain": 20.1166194976 / SuperMap.METERS_PER_INCH,   //EPSG:9038
    "GunterChain": 20.11684023368047 / SuperMap.METERS_PER_INCH,   //EPSG:9033
    "BenoitChain": 20.116782494375872 / SuperMap.METERS_PER_INCH,   //EPSG:9062
    "SearsChain": 20.11676512155 / SuperMap.METERS_PER_INCH,   //EPSG:9042
    "ClarkeLink": 0.201166194976 / SuperMap.METERS_PER_INCH,   //EPSG:9039
    "GunterLink": 0.2011684023368047 / SuperMap.METERS_PER_INCH,   //EPSG:9034
    "BenoitLink": 0.20116782494375872 / SuperMap.METERS_PER_INCH,   //EPSG:9063
    "SearsLink": 0.2011676512155 / SuperMap.METERS_PER_INCH,   //EPSG:9043
    "Rod": 5.02921005842012 / SuperMap.METERS_PER_INCH,
    "IntnlChain": 20.1168 / SuperMap.METERS_PER_INCH,   //EPSG:9097
    "IntnlLink": 0.201168 / SuperMap.METERS_PER_INCH,   //EPSG:9098
    "Perch": 5.02921005842012 / SuperMap.METERS_PER_INCH,
    "Pole": 5.02921005842012 / SuperMap.METERS_PER_INCH,
    "Furlong": 201.1684023368046 / SuperMap.METERS_PER_INCH,
    "Rood": 3.778266898 / SuperMap.METERS_PER_INCH,
    "CapeFoot": 0.3047972615 / SuperMap.METERS_PER_INCH,
    "Brealey": 375.00000000000000000000 / SuperMap.METERS_PER_INCH,
    "ModAmFt": 0.304812252984505969011938 / SuperMap.METERS_PER_INCH,
    "Fathom": 1.8288 / SuperMap.METERS_PER_INCH,
    "NautM-UK": 1853.184 / SuperMap.METERS_PER_INCH,
    "50kilometers": 50000.0 / SuperMap.METERS_PER_INCH,
    "150kilometers": 150000.0 / SuperMap.METERS_PER_INCH
});

//unit abbreviations supported by PROJ.4
SuperMap.Util.extend(SuperMap.INCHES_PER_UNIT, {
    "mm": SuperMap.INCHES_PER_UNIT["Meter"] / 1000.0,
    "cm": SuperMap.INCHES_PER_UNIT["Meter"] / 100.0,
    "dm": SuperMap.INCHES_PER_UNIT["Meter"] * 100.0,
    "km": SuperMap.INCHES_PER_UNIT["Meter"] * 1000.0,
    "kmi": SuperMap.INCHES_PER_UNIT["nmi"],    //International Nautical Mile
    "fath": SuperMap.INCHES_PER_UNIT["Fathom"], //International Fathom
    "ch": SuperMap.INCHES_PER_UNIT["IntnlChain"],  //International Chain
    "link": SuperMap.INCHES_PER_UNIT["IntnlLink"], //International Link
    "us-in": SuperMap.INCHES_PER_UNIT["inches"], //U.S. Surveyor's Inch
    "us-ft": SuperMap.INCHES_PER_UNIT["Foot"],    //U.S. Surveyor's Foot
    "us-yd": SuperMap.INCHES_PER_UNIT["Yard"],    //U.S. Surveyor's Yard
    "us-ch": SuperMap.INCHES_PER_UNIT["GunterChain"], //U.S. Surveyor's Chain
    "us-mi": SuperMap.INCHES_PER_UNIT["Mile"],   //U.S. Surveyor's Statute Mile
    "ind-yd": SuperMap.INCHES_PER_UNIT["IndianYd37"],  //Indian Yard
    "ind-ft": SuperMap.INCHES_PER_UNIT["IndianFt37"],  //Indian Foot
    "ind-ch": 20.11669506 / SuperMap.METERS_PER_INCH  //Indian Chain
});

/**
 * @memberOf SuperMap
 * @member [SuperMap.DOTS_PER_INCH=96]
 * @description åè¾¨çä¸æ¯ä¾å°ºä¹é´è½¬æ¢çå¸¸éã
 * @type {Object}
 */
SuperMap.DOTS_PER_INCH = 96;

/**
 * @param {number} scale - æ¯ä¾å°ºã
 * @returns {number} è¿åæ­£å¸¸ç scale å¼ã
 */
SuperMap.Util.normalizeScale = function (scale) {
    var normScale = (scale > 1.0) ? (1.0 / scale) : scale;
    return normScale;
};

/**
 * @description æ¯ä¾å°ºè½¬åè¾¨çã
 * @param {number} scale - æ¯ä¾å°ºã
 * @param {string} [units='degrees'] - æ¯ä¾å°ºåä½ã
 * @returns {number} åè¾¨çã
 */
SuperMap.Util.getResolutionFromScale = function (scale, units) {
    var resolution;
    if (scale) {
        if (units == null) {
            units = "degrees";
        }
        var normScale = SuperMap.Util.normalizeScale(scale);
        resolution = 1 / (normScale * SuperMap.INCHES_PER_UNIT[units]
            * SuperMap.DOTS_PER_INCH);
    }
    return resolution;
};

/**
 * @description åè¾¨çè½¬æ¯ä¾å°ºã
 * @param {number} resolution - åè¾¨çã
 * @param {string} [units='degrees'] - åè¾¨çåä½ã
 * @returns {number} æ¯ä¾å°ºã
 */
SuperMap.Util.getScaleFromResolution = function (resolution, units) {

    if (units == null) {
        units = "degrees";
    }

    var scale = resolution * SuperMap.INCHES_PER_UNIT[units] *
        SuperMap.DOTS_PER_INCH;
    return scale;
};

/**
 * @memberOf SuperMap
 * @description å¦æ userAgent æè·å°æµè§å¨ä½¿ç¨çæ¯ Gecko å¼æåè¿å trueã
 * @constant
 */
SuperMap.IS_GECKO = (function () {
    var ua = navigator.userAgent.toLowerCase();
    return ua.indexOf("webkit") === -1 && ua.indexOf("gecko") !== -1;
})();

/**
 * @memberOf SuperMap
 * @description æµè§å¨åç§°ï¼ä¾èµäº userAgent å±æ§ï¼BROWSER_NAME å¯ä»¥æ¯ç©ºï¼æèä»¥ä¸æµè§å¨ï¼
 *     * "opera" -- Opera
 *     * "msie"  -- Internet Explorer
 *     * "safari" -- Safari
 *     * "firefox" -- Firefox
 *     * "mozilla" -- Mozilla
 * @constant
 */
SuperMap.Browser = (function () {
    var name = '', version = '', device = 'pc', uaMatch;
    //ä»¥ä¸è¿è¡æµè¯
    var ua = navigator.userAgent.toLowerCase();
    if (ua.indexOf("msie") > -1 || (ua.indexOf("trident") > -1 && ua.indexOf("rv") > -1)) {
        name = 'msie';
        uaMatch = ua.match(/msie ([\d.]+)/) || ua.match(/rv:([\d.]+)/);
    } else if (ua.indexOf("chrome") > -1) {
        name = 'chrome';
        uaMatch = ua.match(/chrome\/([\d.]+)/);
    } else if (ua.indexOf("firefox") > -1) {
        name = 'firefox';
        uaMatch = ua.match(/firefox\/([\d.]+)/);
    } else if (ua.indexOf("opera") > -1) {
        name = 'opera';
        uaMatch = ua.match(/version\/([\d.]+)/);
    } else if (ua.indexOf("safari") > -1) {
        name = 'safari';
        uaMatch = ua.match(/version\/([\d.]+)/);
    }
    version = uaMatch ? uaMatch[1] : '';

    if (ua.indexOf("ipad") > -1 || ua.indexOf("ipod") > -1 || ua.indexOf("iphone") > -1) {
        device = 'apple';
    } else if (ua.indexOf("android") > -1) {
        uaMatch = ua.match(/version\/([\d.]+)/);
        version = uaMatch ? uaMatch[1] : '';
        device = 'android';
    }
    return {name: name, version: version, device: device};
})();

/**
 * @description è·åæµè§å¨ç¸å³ä¿¡æ¯ãæ¯æçæµè§å¨åæ¬ï¼Operaï¼Internet Explorerï¼Safariï¼Firefoxã
 * @returns {Object} è·åæµè§å¨åç§°ãçæ¬ãè®¾å¤åç§°ãå¯¹åºçå±æ§åå«ä¸º name, version, deviceã
 */
SuperMap.Util.getBrowser = function () {
    return SuperMap.Browser;
};

/**
 * @description æµè§å¨æ¯å¦æ¯æ Canvasã
 * @returns {boolean} è·åå½åæµè§å¨æ¯å¦æ¯æ HTML5 Canvasã
 */
SuperMap.Util.isSupportCanvas = (function () {
    var checkRes = true, broz = SuperMap.Util.getBrowser();
    if (document.createElement("canvas").getContext) {
        if (broz.name === 'firefox' && parseFloat(broz.version) < 5) {
            checkRes = false;
        }
        if (broz.name === 'safari' && parseFloat(broz.version) < 4) {
            checkRes = false;
        }
        if (broz.name === 'opera' && parseFloat(broz.version) < 10) {
            checkRes = false;
        }
        if (broz.name === 'msie' && parseFloat(broz.version) < 9) {
            checkRes = false;
        }
    } else {
        checkRes = false;
    }
    return checkRes;
})();

/**
 * @description å¤æ­ï¼æµè§å¨æ¯å¦æ¯æ Canvasã
 * @returns {boolean} è·åå½åæµè§å¨æ¯å¦æ¯æ HTML5 Canvas ã
 */
SuperMap.Util.supportCanvas = function () {
    return SuperMap.Util.isSupportCanvas;
};

//å°æå¡ç«¯çå°å¾åä½è½¬æSuperMapçå°å¾åä½
SuperMap.INCHES_PER_UNIT["degree"] = SuperMap.INCHES_PER_UNIT.dd;
SuperMap.INCHES_PER_UNIT["meter"] = SuperMap.INCHES_PER_UNIT.m;
SuperMap.INCHES_PER_UNIT["foot"] = SuperMap.INCHES_PER_UNIT.ft;
SuperMap.INCHES_PER_UNIT["inch"] = SuperMap.INCHES_PER_UNIT.inches;
SuperMap.INCHES_PER_UNIT["mile"] = SuperMap.INCHES_PER_UNIT.mi;
SuperMap.INCHES_PER_UNIT["kilometer"] = SuperMap.INCHES_PER_UNIT.km;
SuperMap.INCHES_PER_UNIT["yard"] = SuperMap.INCHES_PER_UNIT.yd;

/**
 * @description å¤æ­ä¸ä¸ª URL è¯·æ±æ¯å¦å¨å½ååä¸­ã
 * @param {string} url - URL è¯·æ±å­ç¬¦ä¸²ã
 * @returns {boolean} URL è¯·æ±æ¯å¦å¨å½ååä¸­ã
 */
SuperMap.Util.isInTheSameDomain = function (url) {
    if (!url) {
        return true;
    }
    var index = url.indexOf("//");
    var documentUrl = document.location.toString();
    var documentIndex = documentUrl.indexOf("//");
    if (index === -1) {
        return true;
    } else {
        var protocol;
        var substring = protocol = url.substring(0, index);
        var documentSubString = documentUrl.substring(documentIndex + 2);
        documentIndex = documentSubString.indexOf("/");
        var documentPortIndex = documentSubString.indexOf(":");
        var documentDomainWithPort = documentSubString.substring(0, documentIndex);
        //var documentPort;

        var documentprotocol = document.location.protocol;
        if (documentPortIndex !== -1) {
            // documentPort = +documentSubString.substring(documentPortIndex, documentIndex);
        } else {
            documentDomainWithPort += ':' + (documentprotocol.toLowerCase() === 'http:' ? 80 : 443);
        }
        if (documentprotocol.toLowerCase() !== substring.toLowerCase()) {
            return false;
        }
        substring = url.substring(index + 2);
        var portIndex = substring.indexOf(":");
        index = substring.indexOf("/");
        var domainWithPort = substring.substring(0, index);
        var domain;
        if (portIndex !== -1) {
            domain = substring.substring(0, portIndex);
        } else {
            domain = substring.substring(0, index);
            domainWithPort += ':' + (protocol.toLowerCase() === 'http:' ? 80 : 443);
        }
        var documentDomain = document.domain;
        if (domain === documentDomain && domainWithPort === documentDomainWithPort) {
            return true;
        }
    }
    return false;
};

/**
 * @description è®¡ç® iServer æå¡ç REST å¾å±çæ¾ç¤ºåè¾¨çï¼éè¦ä» iServer ç REST å¾å±è¡¨è¿°ä¸­è·å viewBoundsãviewerãscaleãcoordUnitãdatumAxis äºä¸ªåæ°ï¼æ¥è¿è¡è®¡ç®ã
 * @param {SuperMap.Bounds} viewBounds - å°å¾çåç§å¯è§èå´ï¼å³å°å¾åå§åæ¶é»è®¤çå°å¾æ¾ç¤ºèå´ã
 * @param {SuperMap.Size} viewer - å°å¾åå§åæ¶é»è®¤çå°å¾å¾ççå°ºå¯¸ã
 * @param {number} scale - å°å¾åå§åæ¶é»è®¤çæ¾ç¤ºæ¯ä¾å°ºã
 * @param {string} [coordUnit='degrees'] - æå½±åæ ç³»ç»çå°å¾åä½ã
 * @param {number} [datumAxis=6378137] - å°çåæ ç³»ç»æ¤­çä½é¿åè½´ãç¨æ·èªå®ä¹å°å¾ç Options æ¶ï¼è¥æªæå®è¯¥åæ°çå¼ï¼åç³»ç»é»è®¤ä¸º WGS84 åèç³»çæ¤­çä½é¿åè½´ 6378137ã
 * @returns {number} è¿åå¾å±æ¾ç¤ºåè¾¨çã
 */
SuperMap.Util.calculateDpi = function (viewBounds, viewer, scale, coordUnit, datumAxis) {
    //10000 æ¯ 0.1æ¯«ç±³ä¸ç±³çè½¬æ¢ãDPIçè®¡ç®å¬å¼ï¼Viewer / DPI *  0.0254 * 10000 = ViewBounds * scale ï¼å¬å¼ä¸­ç10000æ¯ä¸ºäºæé«è®¡ç®ç»æçç²¾åº¦ï¼ä»¥ä¸åºç°çratioçä¸ºå¦æ­¤ã
    if (!viewBounds || !viewer || !scale) {
        return;
    }
    var ratio = 10000,
        rvbWidth = viewBounds.getWidth(),
        rvbHeight = viewBounds.getHeight(),
        rvWidth = viewer.w,
        rvHeight = viewer.h;
    //ç¨æ·èªå®ä¹å°å¾çOptionsæ¶ï¼è¥æªæå®è¯¥åæ°çå¼ï¼åç³»ç»é»è®¤ä¸º6378137ç±³ï¼å³WGS84åèç³»çæ¤­çä½é¿åè½´ã
    datumAxis = datumAxis || 6378137;
    coordUnit = coordUnit || "degrees";
    var dpi;
    if (coordUnit.toLowerCase() === "degree" || coordUnit.toLowerCase() === "degrees" || coordUnit.toLowerCase() === "dd") {
        let num1 = rvbWidth / rvWidth,
            num2 = rvbHeight / rvHeight,
            resolution = num1 > num2 ? num1 : num2;
        dpi = 0.0254 * ratio / resolution / scale / ((Math.PI * 2 * datumAxis) / 360) / ratio;

    } else {
        let resolution = rvbWidth / rvWidth;
        dpi = 0.0254 * ratio / resolution / scale / ratio;
    }
    return dpi;
};

/**
 * @description å°å¯¹è±¡è½¬æ¢æ JSON å­ç¬¦ä¸²ã
 * @param {Object} obj - è¦è½¬æ¢æ JSON ç Object å¯¹è±¡ã
 * @returns {string} è¿åè½¬æ¢åç JSON å¯¹è±¡ã
 */
SuperMap.Util.toJSON = function (obj) {
    var objInn = obj;
    if (objInn == null) {
        return null;
    }
    switch (objInn.constructor) {
        case String:
            //s = "'" + str.replace(/(["\\])/g, "\\$1") + "'";   stringå«æåå¼å·åºé
            objInn = '"' + objInn.replace(/(["\\])/g, '\\$1') + '"';
            objInn = objInn.replace(/\n/g, "\\n");
            objInn = objInn.replace(/\r/g, "\\r");
            objInn = objInn.replace("<", "&lt;");
            objInn = objInn.replace(">", "&gt;");
            objInn = objInn.replace(/%/g, "%25");
            objInn = objInn.replace(/&/g, "%26");
            return objInn;
        case Array:
            var arr = [];
            for (var i = 0, len = objInn.length; i < len; i++) {
                arr.push(SuperMap.Util.toJSON(objInn[i]));
            }
            return "[" + arr.join(",") + "]";
        case Number:
            return isFinite(objInn) ? String(objInn) : null;
        case Boolean:
            return String(objInn);
        case Date:
            var dateStr = "{" + "'__type':\"System.DateTime\"," +
                "'Year':" + objInn.getFullYear() + "," +
                "'Month':" + (objInn.getMonth() + 1) + "," +
                "'Day':" + objInn.getDate() + "," +
                "'Hour':" + objInn.getHours() + "," +
                "'Minute':" + objInn.getMinutes() + "," +
                "'Second':" + objInn.getSeconds() + "," +
                "'Millisecond':" + objInn.getMilliseconds() + "," +
                "'TimezoneOffset':" + objInn.getTimezoneOffset() + "}";
            return dateStr;
        default:
            if (objInn["toJSON"] != null && typeof objInn["toJSON"] === "function") {
                return objInn.toJSON();
            }
            if (typeof objInn === "object") {
                if (objInn.length) {
                    let arr = [];
                    for (let i = 0, len = objInn.length; i < len; i++) {
                        arr.push(SuperMap.Util.toJSON(objInn[i]));
                    }
                    return "[" + arr.join(",") + "]";
                }
                let arr = [];
                for (let attr in objInn) {
                    //ä¸ºè§£å³SuperMap.Geometryç±»åå¤´jsonæ¶å æ æº¢åºçé®é¢ï¼attr == "parent"æ¶ä¸è¿è¡jsonè½¬æ¢
                    if (typeof objInn[attr] !== "function" && attr !== "CLASS_NAME" && attr !== "parent") {
                        arr.push("'" + attr + "':" + SuperMap.Util.toJSON(objInn[attr]));
                    }
                }

                if (arr.length > 0) {
                    return "{" + arr.join(",") + "}";
                } else {
                    return "{}";
                }
            }
            return objInn.toString();
    }
};

/**
 * @description æ ¹æ®æ¯ä¾å°ºå dpi è®¡ç®å±å¹åè¾¨çã
 * @param {number} scale - æ¯ä¾å°ºã
 * @param {number} dpi - å¾ååè¾¨çï¼è¡¨ç¤ºæ¯è±å¯¸åçåç´ ä¸ªæ°ã
 * @param {string} [coordUnit] - æå½±åæ ç³»ç»çå°å¾åä½ã
 * @param {number} [datumAxis=6378137] - å°çåæ ç³»ç»æ¤­çä½é¿åè½´ãç¨æ·èªå®ä¹å°å¾ç Options æ¶ï¼è¥æªæå®è¯¥åæ°çå¼ï¼å DPI é»è®¤æç§ WGS84 åèç³»çæ¤­çä½é¿åè½´ 6378137 æ¥è®¡ç®ã
 * @returns {number} è¿åå½åæ¯ä¾å°ºä¸çå±å¹åè¾¨çã
 */
SuperMap.Util.getResolutionFromScaleDpi = function (scale, dpi, coordUnit, datumAxis) {
    var resolution = null,
        ratio = 10000;
    //ç¨æ·èªå®ä¹å°å¾çOptionsæ¶ï¼è¥æªæå®è¯¥åæ°çå¼ï¼åç³»ç»é»è®¤ä¸º6378137ç±³ï¼å³WGS84åèç³»çæ¤­çä½é¿åè½´ã
    datumAxis = datumAxis || 6378137;
    coordUnit = coordUnit || "";
    if (scale > 0 && dpi > 0) {
        scale = SuperMap.Util.normalizeScale(scale);
        if (coordUnit.toLowerCase() === "degree" || coordUnit.toLowerCase() === "degrees" || coordUnit.toLowerCase() === "dd") {
            //scale = SuperMap.Util.normalizeScale(scale);
            resolution = 0.0254 * ratio / dpi / scale / ((Math.PI * 2 * datumAxis) / 360) / ratio;
            return resolution;
        } else {
            resolution = 0.0254 * ratio / dpi / scale / ratio;
            return resolution;
        }
    }
    return -1;
};

/**
 * @description æ ¹æ® resolutionãdpiãcoordUnit å datumAxis è®¡ç®æ¯ä¾å°ºã
 * @param {number} resolution - ç¨äºè®¡ç®æ¯ä¾å°ºçå°å¾åè¾¨çã
 * @param {number} dpi - å¾ååè¾¨çï¼è¡¨ç¤ºæ¯è±å¯¸åçåç´ ä¸ªæ°ã
 * @param {string} [coordUnit] - æå½±åæ ç³»ç»çå°å¾åä½ã
 * @param {number} [datumAxis=6378137] - å°çåæ ç³»ç»æ¤­çä½é¿åè½´ãç¨æ·èªå®ä¹å°å¾ç Options æ¶ï¼è¥æªæå®è¯¥åæ°çå¼ï¼å DPI é»è®¤æç§ WGS84 åèç³»çæ¤­çä½é¿åè½´ 6378137 æ¥è®¡ç®ã
 * @returns {number} è¿åå½åå±å¹åè¾¨çä¸çæ¯ä¾å°ºã
 */
SuperMap.Util.getScaleFromResolutionDpi = function (resolution, dpi, coordUnit, datumAxis) {
    var scale = null,
        ratio = 10000;
    //ç¨æ·èªå®ä¹å°å¾çOptionsæ¶ï¼è¥æªæå®è¯¥åæ°çå¼ï¼åç³»ç»é»è®¤ä¸º6378137ç±³ï¼å³WGS84åèç³»çæ¤­çä½é¿åè½´ã
    datumAxis = datumAxis || 6378137;
    coordUnit = coordUnit || "";
    if (resolution > 0 && dpi > 0) {
        if (coordUnit.toLowerCase() === "degree" || coordUnit.toLowerCase() === "degrees" || coordUnit.toLowerCase() === "dd") {
            scale = 0.0254 * ratio / dpi / resolution / ((Math.PI * 2 * datumAxis) / 360) / ratio;
            return scale;
        } else {
            scale = 0.0254 * ratio / dpi / resolution / ratio;
            return scale;
        }
    }
    return -1;
};

/**
 * @description è½¬æ¢æ¥è¯¢ç»æã
 * @param {Object} result - æ¥è¯¢ç»æã
 * @returns {Object} è½¬æ¢åçæ¥è¯¢ç»æã
 */
SuperMap.Util.transformResult = function (result) {
    if (result.responseText && typeof result.responseText === "string") {
        result = JSON.parse(result.responseText);
    }
    return result;
};

/**
 * @description å±æ§æ·è´ï¼ä¸æ·è´æ¹æ³ç±»å(CLASS_NAME)ç­ã
 * @param {Object} [destination] - æ·è´ç®æ ã
 * @param {Object} source - æºå¯¹è±¡ã
 *
 */
SuperMap.Util.copyAttributes = function (destination, source) {
    destination = destination || {};
    if (source) {
        for (var property in source) {
            var value = source[property];
            if (value !== undefined && property !== "CLASS_NAME" && typeof value !== "function") {
                destination[property] = value;
            }
        }
    }
    return destination;
};

/**
 * @description å°æºå¯¹è±¡ä¸çå±æ§æ·è´å°ç®æ å¯¹è±¡ä¸ãï¼ä¸æ·è´ CLASS_NAME åæ¹æ³ï¼
 * @param {Object} [destination] - ç®æ å¯¹è±¡ã
 * @param {Object} source - æºå¯¹è±¡ã
 * @param {Array.<string>} clip - æºå¯¹è±¡ä¸­ç¦æ­¢æ·è´å°ç®æ å¯¹è±¡çå±æ§ï¼ç®çæ¯é²æ­¢ç®æ å¯¹è±¡ä¸ä¸å¯ä¿®æ¹çå±æ§è¢«ç¯¡æ¹ã
 *
 */
SuperMap.Util.copyAttributesWithClip = function (destination, source, clip) {
    destination = destination || {};
    if (source) {
        for (var property in source) {
            //å»æç¦æ­¢æ·è´çå±æ§
            var isInClip = false;
            if (clip && clip.length) {
                for (var i = 0, len = clip.length; i < len; i++) {
                    if (property === clip[i]) {
                        isInClip = true;
                        break;
                    }
                }
            }
            if (isInClip === true) {
                continue;
            }

            var value = source[property];
            if (value !== undefined && property !== "CLASS_NAME" && typeof value !== "function") {
                destination[property] = value;
            }
        }
    }
    return destination;
};

/**
 * @description åéä¸ä¸ª Object å¯¹è±¡
 * @param {Object} obj - éè¦åéçå¯¹è±¡ã
 * @returns {Object} è¿åå¯¹è±¡çæ·è´å¯¹è±¡ï¼æ³¨ææ¯æ°çå¯¹è±¡ï¼ä¸æ¯æåã
 */
SuperMap.Util.cloneObject = function (obj) {
    // Handle the 3 simple types, and null or undefined
    if (null === obj || "object" !== typeof obj) {
        return obj;
    }

    // Handle Date
    if (obj instanceof Date) {
        let copy = new Date();
        copy.setTime(obj.getTime());
        return copy;
    }

    // Handle Array
    if (obj instanceof Array) {
        let copy = obj.slice(0);
        return copy;
    }

    // Handle Object
    if (obj instanceof Object) {
        let copy = {};
        for (var attr in obj) {
            if (obj.hasOwnProperty(attr)) {
                copy[attr] = SuperMap.Util.cloneObject(obj[attr]);
            }
        }
        return copy;
    }

    throw new Error("Unable to copy obj! Its type isn't supported.");
};

/**
 * @description å¤æ­ä¸¤æ¡çº¿æ®µæ¯ä¸æ¯æäº¤ç¹ã
 * @param {SuperMap.Geometry.Point} a1 - ç¬¬ä¸æ¡çº¿æ®µçèµ·å§èç¹ã
 * @param {SuperMap.Geometry.Point} a2 - ç¬¬ä¸æ¡çº¿æ®µçç»æèç¹ã
 * @param {SuperMap.Geometry.Point} b1 - ç¬¬äºæ¡çº¿æ®µçèµ·å§èç¹ã
 * @param {SuperMap.Geometry.Point} b2 - ç¬¬äºæ¡çº¿æ®µçç»æèç¹ã
 * @returns {Object} å¦æç¸äº¤è¿åäº¤ç¹ï¼å¦æä¸ç¸äº¤è¿åä¸¤æ¡çº¿æ®µçä½ç½®å³ç³»ã
 */
SuperMap.Util.lineIntersection = function (a1, a2, b1, b2) {
    var intersectValue = null;
    var k1;
    var k2;
    var b = (b2.x - b1.x) * (a1.y - b1.y) - (b2.y - b1.y) * (a1.x - b1.x);
    var a = (a2.x - a1.x) * (a1.y - b1.y) - (a2.y - a1.y) * (a1.x - b1.x);
    var ab = (b2.y - b1.y) * (a2.x - a1.x) - (b2.x - b1.x) * (a2.y - a1.y);
    //ab==0ä»£è¡¨ä¸¤æ¡çº¿æ­çæçä¸æ ·
    if (ab != 0) {
        k1 = b / ab;
        k2 = a / ab;

        if (k1 >= 0 && k2 <= 1 && k1 <= 1 && k2 >= 0) {
            intersectValue = new SuperMap.Geometry.Point(a1.x + k1 * (a2.x - a1.x), a1.y + k1 * (a2.y - a1.y));
        } else {
            intersectValue = "No Intersection";
        }
    } else {

        if (b == 0 && a == 0) {
            var maxy = Math.max(a1.y, a2.y);
            var miny = Math.min(a1.y, a2.y);
            var maxx = Math.max(a1.x, a2.x);
            var minx = Math.min(a1.x, a2.x);
            if (((b1.y >= miny && b1.y <= maxy) || (b2.y >= miny && b2.y <= maxy)) &&
                (b1.x >= minx && b1.x <= maxx) || (b2.x >= minx && b2.x <= maxx)) {
                intersectValue = "Coincident";//éå
            } else {
                intersectValue = "Parallel";//å¹³è¡
            }

        } else {
            intersectValue = "Parallel";//å¹³è¡
        }
    }
    return intersectValue;
};

/**
 * @description è·åææ¬å¤æ¥ç©å½¢å®½åº¦ä¸é«åº¦ã
 * @param {SuperMap.Style} style - ææ¬æ ·å¼ã
 * @param {string} text - ææ¬åå®¹ã
 * @param {Object} element - DOM åç´ ã
 * @returns {Object} è¿åè£åªåçå®½åº¦ï¼é«åº¦ä¿¡æ¯ã
 */
SuperMap.Util.getTextBounds = function (style, text, element) {
    document.body.appendChild(element);
    element.style.width = 'auto';
    element.style.height = 'auto';
    if (style.fontSize) {
        element.style.fontSize = style.fontSize;
    }
    if (style.fontFamily) {
        element.style.fontFamily = style.fontFamily;
    }
    if (style.fontWeight) {
        element.style.fontWeight = style.fontWeight;
    }
    element.style.position = 'relative';
    element.style.visibility = 'hidden';
    //fix å¨æäºæåµä¸ï¼elementåçææ¬åæç«èµ·æåï¼å¯¼è´å®½åº¦è®¡ç®ä¸æ­£ç¡®çbug
    element.style.display = 'inline-block';
    element.innerHTML = text;
    var textWidth = element.clientWidth;
    var textHeight = element.clientHeight;
    document.body.removeChild(element);
    return {
        textWidth: textWidth,
        textHeight: textHeight
    };
};

// CONCATENATED MODULE: ./src/common/commontypes/LonLat.js


/**
 * @class SuperMap.LonLat
 * @category BaseTypes Geometry
 * @classdesc  è¿ä¸ªç±»ç¨æ¥è¡¨ç¤ºç»åº¦åçº¬åº¦å¯¹ã
 * @param {number} [lon=0.0] - å°å¾åä½ä¸ç X è½´åæ ï¼å¦æå°å¾æ¯å°çæå½±ï¼åæ­¤å¼æ¯ç»åº¦ï¼å¦åï¼æ­¤å¼æ¯å°å¾å°çä½ç½®ç x åæ ã
 * @param {number} [lat=0.0] - å°å¾åä½ä¸ç Y è½´åæ ï¼å¦æå°å¾æ¯å°çæå½±ï¼åæ­¤å¼æ¯çº¬åº¦ï¼å¦åï¼æ­¤å¼æ¯å°å¾å°çä½ç½®ç y åæ ã
 * @param {Array.<float>} [location] - å¦æè¦åæ¶è®¾ç½®ï¼åä½¿ç¨ä¼ å¥æ¨ªçºµåæ ç»æçæ°ç»ã
 * @example
 * var lonLat = new SuperMap.LonLat(30,45);
 */
class LonLat_LonLat {


    constructor(lon, lat) {
        if (Util_Util.isArray(lon)) {
            lat = lon[1];
            lon = lon[0];
        }
        /**
         * @member {float} [SuperMap.LonLat.prototype.lon=0.0]
         * @description å°å¾çåä½ç X è½´ï¼æ¨ªè½´ï¼åæ ã
         */
        this.lon = lon ? Util_Util.toFloat(lon) : 0.0;

        /**
         * @member {float} [SuperMap.LonLat.prototype.lat=0.0]
         * @description å°å¾çåä½ç Y è½´ï¼çºµè½´ï¼åæ ã
         */
        this.lat = lat ? Util_Util.toFloat(lat) : 0.0;
        this.CLASS_NAME = "SuperMap.LonLat";
    }

    /**
     * @function SuperMap.LonLat.prototype.toString
     * @description è¿åæ­¤å¯¹è±¡çå­ç¬¦ä¸²å½¢å¼
     * @example
     * var lonLat = new SuperMap.LonLat(100,50);
     * var str = lonLat.toString();
     * @returns {string} ä¾å¦: "lon=100,lat=50"
     */
    toString() {
        return ("lon=" + this.lon + ",lat=" + this.lat);
    }

    /**
     * @function SuperMap.LonLat.prototype.toShortString
     * @description å°ç»åº¦çº¬åº¦è½¬æ¢æç®åå­ç¬¦ä¸²ã
     * @example
     * var lonLat = new SuperMap.LonLat(100,50);
     * var str = lonLat.toShortString();
     * @returns {string} è¿åå¤çåçç»çº¬åº¦å­ç¬¦ä¸²ãä¾å¦ï¼"100,50"
     */
    toShortString() {
        return (this.lon + "," + this.lat);
    }

    /**
     * @function SuperMap.LonLat.prototype.clone
     * @description å¤å¶åæ å¯¹è±¡ï¼å¹¶è¿åå¤å¶åçæ°å¯¹è±¡ã
     * @example
     * var lonLat1 = new SuperMap.LonLat(100,50);
     * var lonLat2 = lonLat1.clone();
     * @returns {SuperMap.LonLat}  è¿åç¸ååæ å¼çæ°çåæ å¯¹è±¡ã
     */
    clone() {
        return new LonLat_LonLat(this.lon, this.lat);
    }

    /**
     * @function SuperMap.LonLat.prototype.add
     * @description å¨å·²æåæ å¯¹è±¡çç»çº¬åº¦åºç¡ä¸å ä¸æ°çåæ ç»çº¬åº¦ï¼å¹¶è¿åæ°çåæ å¯¹è±¡ã
     * @example
     * var lonLat1 = new SuperMap.LonLat(100,50);
     * //lonLat2 æ¯æ°çå¯¹è±¡
     * var lonLat2 = lonLat1.add(100,50);
     * @param {float} lon - ä¼ å¥çç»åº¦åæ°ã
     * @param {float} lat - ä¼ å¥ççº¬åº¦åæ°ã
     * @returns {SuperMap.LonLat} è¿åä¸ä¸ªæ°ç LonLat å¯¹è±¡ï¼æ­¤å¯¹è±¡çç»çº¬åº¦æ¯ç±ä¼ å¥çç»çº¬åº¦ä¸å½åçç»çº¬åº¦ç¸å æå¾ã
     */
    add(lon, lat) {
        if ((lon == null) || (lat == null)) {
            throw new TypeError('LonLat.add cannot receive null values');
        }
        return new LonLat_LonLat(this.lon + Util_Util.toFloat(lon),
            this.lat + Util_Util.toFloat(lat));
    }

    /**
     * @function SuperMap.LonLat.prototype.equals
     * @description å¤æ­ä¸¤ä¸ªåæ å¯¹è±¡æ¯å¦ç¸ç­ã
     * @example
     * var lonLat1 = new SuperMap.LonLat(100,50);
     * var lonLat2 = new SuperMap.LonLat(100,50);
     * var isEquals = lonLat1.equals(lonLat2);
     * @param {SuperMap.LonLat} ll - éè¦è¿è¡æ¯è¾çåæ å¯¹è±¡ã
     * @returns {boolean} å¦æLonLatå¯¹è±¡çç»çº¬åº¦åä¼ å¥çç»çº¬åº¦ä¸è´åè¿åtrue,ä¸ä¸
     *      è´æä¼ å¥çllåæ°ä¸ºNULLåè¿åfalseã
     */
    equals(ll) {
        var equals = false;
        if (ll != null) {
            equals = ((this.lon === ll.lon && this.lat === ll.lat) ||
                (isNaN(this.lon) && isNaN(this.lat) && isNaN(ll.lon) && isNaN(ll.lat)));
        }
        return equals;
    }

    /**
     * @function SuperMap.LonLat.prototype.wrapDateLine
     * @description éè¿ä¼ å¥çèå´å¯¹è±¡å¯¹åæ å¯¹è±¡è½¬æ¢å°è¯¥èå´åã
     * å¦æç»åº¦å°äºç»å®èå´æå°ç²¾åº¦ï¼åå¨åç»åº¦åºç¡ä¸å ä¸èå´å®½åº¦ï¼ç´å°ç²¾åº¦å¨èå´åä¸ºæ­¢ï¼å¦æç»åº¦å¤§äºç»å®èå´åå¨åç»åº¦åºç¡ä¸åå»èå´å®½åº¦ã
     * å³æå°ä¸å¨ç»åº¦èå´åçåæ è½¬æ¢å°èå´ä»¥åï¼åªä¼è½¬æ¢ lonï¼ä¸ä¼è½¬æ¢ latï¼ä¸»è¦ç¨äºè½¬ç§»å°æ¥ççº¿ä»¥åï¼ã
     * @example
     * var lonLat1 = new SuperMap.LonLat(420,50);
     * var lonLat2 = lonLat1.wrapDateLine(
     *      new SuperMap.Bounds(-180,-90,180,90)
     *  );
     * @param {SuperMap.Bounds} maxExtent - æå¤§è¾¹ççèå´ã
     * @returns {SuperMap.LonLat} å°åæ è½¬æ¢å°èå´å¯¹è±¡ä»¥åï¼å¹¶è¿åæ°çåæ ã
     */
    wrapDateLine(maxExtent) {

        var newLonLat = this.clone();

        if (maxExtent) {
            //shift right?
            while (newLonLat.lon < maxExtent.left) {
                newLonLat.lon += maxExtent.getWidth();
            }

            //shift left?
            while (newLonLat.lon > maxExtent.right) {
                newLonLat.lon -= maxExtent.getWidth();
            }
        }

        return newLonLat;
    }

    /**
     *
     * @function SuperMap.LonLat.prototype.destroy
     * @description éæ¯æ­¤å¯¹è±¡ã
     * éæ¯åæ­¤å¯¹è±¡çææå±æ§ä¸º nullï¼èä¸æ¯åå§å¼ã
     * @example
     * var lonLat = new SuperMap.LonLat(100,50);
     * lonLat.destroy();
     */
    destroy() {
        this.lon = null;
        this.lat = null;
    }

    /**
     * @function SuperMap.LonLat.fromString
     * @description éè¿å­ç¬¦ä¸²çæä¸ä¸ª {@link SuperMap.LonLat} å¯¹è±¡ã
     * @example
     * var str = "100,50";
     * var lonLat = SuperMap.LonLat.fromString(str);
     * @param {string} str - å­ç¬¦ä¸²çæ ¼å¼ï¼Lon+","+Latãå¦ï¼"100,50"ã
     * @returns {SuperMap.LonLat} è¿åä¸ä¸ª {@link SuperMap.LonLat} å¯¹è±¡ã
     */
    static fromString(str) {
        var pair = str.split(",");
        return new LonLat_LonLat(pair[0], pair[1]);
    }

    /**
     * @function SuperMap.LonLat.fromArray
     * @description éè¿æ°ç»çæä¸ä¸ª <SuperMap.LonLat> å¯¹è±¡ã
     * @param {Array.<float>} arr - æ°ç»çæ ¼å¼ï¼é¿åº¦åªè½ä¸º2,ï¼[Lon,Lat]ãå¦ï¼[5,-42]ã
     * @returns {SuperMap.LonLat} è¿åä¸ä¸ª <SuperMap.LonLat> å¯¹è±¡ã
     */
    static fromArray(arr) {
        var gotArr = Util_Util.isArray(arr),
            lon = gotArr && arr[0],
            lat = gotArr && arr[1];
        return new LonLat_LonLat(lon, lat);
    }


}


// CONCATENATED MODULE: ./src/common/commontypes/Bounds.js






/**
 * @class SuperMap.Bounds
 * @category BaseTypes Geometry
 * @classdesc è¡¨ç¤ºè¾¹çç±»å®ä¾ãä½¿ç¨ bounds ä¹åéè¦è®¾ç½® leftï¼bottomï¼rightï¼top åä¸ªå±æ§ï¼è¿äºå±æ§çåå§å¼ä¸º nullã
 * @param {number} [left] - å·¦è¾¹çï¼æ³¨æèèå®½åº¦ï¼çè®ºä¸å°äº right å¼ã
 * @param {number} [bottom] - ä¸è¾¹çãèèé«åº¦ï¼çè®ºä¸å°äº top å¼ã
 * @param {number} [right] - å³è¾¹çã
 * @param {number} [top] - ä¸è¾¹çã
 * @param {Array.<number>} [array] - [left, bottom, right, top]ï¼å¦æåæ¶ä¼ å¤ä¸ªåæ°ï¼åä½¿ç¨å·¦ä¸å³ä¸ç»æçæ°ç»ã
 * @example
 * var bounds = new SuperMap.Bounds();
 * bounds.extend(new SuperMap.LonLat(4,5));
 * bounds.extend(new SuperMap.LonLat(5,6));
 * bounds.toBBOX(); // returns 4,5,5,6
 */
class Bounds_Bounds {


    constructor(left, bottom, right, top) {
        if (Util_Util.isArray(left)) {
            top = left[3];
            right = left[2];
            bottom = left[1];
            left = left[0];
        }
        /**
         * @member {number} SuperMap.Bounds.prototype.left
         * @description æå°çæ°´å¹³åæ ç³»ã
         */
        this.left = left != null ? Util_Util.toFloat(left) : this.left;

        /**
         * @member {number} SuperMap.Bounds.prototype.bottom
         * @description æå°çåç´åæ ç³»ã
         */
        this.bottom = bottom != null ? Util_Util.toFloat(bottom) : this.bottom;

        /**
         * @member {number} SuperMap.Bounds.prototype.right
         * @description æå¤§çæ°´å¹³åæ ç³»ã
         */
        this.right = right != null ? Util_Util.toFloat(right) : this.right;

        /**
         * @member {number} SuperMap.Bounds.prototype.top
         * @description æå¤§çåç´åæ ç³»ã
         */
        this.top = top != null ? Util_Util.toFloat(top) : this.top;

        /**
         * @member {SuperMap.LonLat} SuperMap.Bounds.prototype.centerLonLat
         * @description bounds çå°å¾ç©ºé´çä¸­å¿ç¹ãç¨ getCenterLonLat() è·å¾ã
         */
        this.centerLonLat = null;
        this.CLASS_NAME = "SuperMap.Bounds";
    }

    /**
     * @function SuperMap.Bounds.prototype.clone
     * @description å¤å¶å½å bounds å¯¹è±¡ã
     * @example
     * var bounds1 = new SuperMap.Bounds(-180,-90,180,90);
     * var bounds2 = bounds1.clone();
     * @returns {SuperMap.Bounds} è¿åä¸ä¸ªåéç boundsã
     */
    clone() {
        return new Bounds_Bounds(this.left, this.bottom,
            this.right, this.top);
    }

    /**
     * @function SuperMap.Bounds.prototype.equals
     * @description å¤æ­ä¸¤ä¸ª bounds å¯¹è±¡æ¯å¦ç¸ç­ã
     * @example
     * var bounds1 = new SuperMap.Bounds(-180,-90,180,90);
     * var bounds2 = new SuperMap.Bounds(-180,-90,180,90);
     * var isEquals = bounds1.equals(bounds2);
     * @param {SuperMap.Bounds} bounds - éè¦è¿è¡è®¡è¾ç boundsã
     * @returns {boolean} å¦æ bounds å¯¹è±¡çè¾¹åä¼ å¥ç bounds ä¸è´åè¿å trueï¼ä¸ä¸è´æä¼ å¥ç bounds åæ°ä¸º NULL åè¿å falseã
     */
    equals(bounds) {
        var equals = false;
        if (bounds != null) {
            equals = ((this.left === bounds.left) &&
                (this.right === bounds.right) &&
                (this.top === bounds.top) &&
                (this.bottom === bounds.bottom));
        }
        return equals;
    }

    /**
     * @function SuperMap.Bounds.prototype.toString
     * @description è¿åæ­¤å¯¹è±¡çå­ç¬¦ä¸²å½¢å¼ã
     * @example
     * var bounds = new SuperMap.Bounds(-180,-90,180,90);
     * var str = bounds.toString();
     * @returns {string} è¾¹çå¯¹è±¡çå­ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ï¼left,bottom,right,topï¼ï¼ä¾å¦: "-180,-90,180,90"ã
     */
    toString() {
        return [this.left, this.bottom, this.right, this.top].join(",");
    }

    /**
     * @function SuperMap.Bounds.prototype.toArray
     * @description è¾¹çå¯¹è±¡çæ°ç»è¡¨ç¤ºå½¢å¼ã
     * @example
     * var bounds = new SuperMap.Bounds(-180,-90,100,80);
     * //array1 = [-180,-90,100,80];
     * var array1 = bounds.toArray();
     * //array1 = [-90,-180,80,100];
     * var array2 = bounds.toArray(true);
     * @param {boolean} [reverseAxisOrder=false] - æ¯å¦åè½¬è½´é¡ºåºã
     * å¦æè®¾ä¸º trueï¼ååè½¬é¡ºåºï¼bottom,left,top,rightï¼ï¼å¦åææ­£å¸¸è½´é¡ºåºï¼left,bottom,right,topï¼ã
     * @returns {Array.<number>} left, bottom, right, top æ°ç»ã
     */
    toArray(reverseAxisOrder) {
        if (reverseAxisOrder === true) {
            return [this.bottom, this.left, this.top, this.right];
        } else {
            return [this.left, this.bottom, this.right, this.top];
        }
    }

    /**
     * @function SuperMap.Bounds.prototype.toBBOX
     * @description åå°æ°ç¹å decimal ä½æ°å­è¿è¡åèäºå¥åè½¬æ¢ä¸º BBOX å­ç¬¦ä¸²ã
     * @example
     * var bounds = new SuperMap.Bounds(-1.1234567,-1.7654321,1.4444444,1.5555555);
     * //str1 = "-1.123457,-1.765432,1.444444,1.555556";
     * var str1 = bounds.toBBOX();
     * //str2 = "-1.1,-1.8,1.4,1.6";
     * var str2 = bounds.toBBOX(1);
     * //str2 = "-1.8,-1.1,1.6,1.4";
     * var str2 = bounds.toBBOX(1,true);
     * @param {integer} [decimal=6] - è¾¹çæ¹ä½åæ çæææ°å­ä¸ªæ°ã
     * @param {boolean} [reverseAxisOrder=false] - æ¯å¦æ¯åè½¬è½´é¡ºåºã
     * å¦æè®¾ä¸ºtrueï¼ååè½¬é¡ºåºï¼bottom,left,top,rightï¼,å¦åææ­£å¸¸è½´é¡ºåºï¼left,bottom,right,topï¼ã
     * @returns {string} è¾¹çå¯¹è±¡çå­ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ï¼å¦ï¼"5,42,10,45"ã
     */
    toBBOX(decimal, reverseAxisOrder) {
        if (decimal == null) {
            decimal = 6;
        }
        var mult = Math.pow(10, decimal);
        var xmin = Math.round(this.left * mult) / mult;
        var ymin = Math.round(this.bottom * mult) / mult;
        var xmax = Math.round(this.right * mult) / mult;
        var ymax = Math.round(this.top * mult) / mult;
        if (reverseAxisOrder === true) {
            return ymin + "," + xmin + "," + ymax + "," + xmax;
        } else {
            return xmin + "," + ymin + "," + xmax + "," + ymax;
        }
    }

    /**
     * @function SuperMap.Bounds.prototype.toGeometry
     * @description åºäºå½åè¾¹çèå´åå»ºä¸ä¸ªæ°çå¤è¾¹å½¢å¯¹è±¡ã
     * @example
     * var bounds = new SuperMap.Bounds(-180,-90,100,80);
     * //SuperMap.Geometry.Polygonå¯¹è±¡
     * var geo = bounds.toGeometry();
     * @returns {SuperMap.Geometry.Polygon} åºäºå½å bounds åæ åå»ºçæ°çå¤è¾¹å½¢ã
     */
    // toGeometry() {
    //     return new Polygon([
    //         new LinearRing([
    //             new Point(this.left, this.bottom),
    //             new Point(this.right, this.bottom),
    //             new Point(this.right, this.top),
    //             new Point(this.left, this.top)
    //         ])
    //     ]);
    // }

    /**
     * @function SuperMap.Bounds.prototype.getWidth
     * @description è·å bounds çå®½åº¦ã
     * @example
     * var bounds = new SuperMap.Bounds(-180,-90,100,80);
     * //width = 280;
     * var width = bounds.getWidth();
     * @returns {float} è·åå½å bounds çå®½åº¦ï¼right åå» leftï¼ã
     */
    getWidth() {
        return (this.right - this.left);
    }

    /**
     * @function SuperMap.Bounds.prototype.getHeight
     * @description è·å bounds çé«åº¦ã
     * @example
     * var bounds = new SuperMap.Bounds(-180,-90,100,80);
     * //height = 170;
     * var height = bounds.getHeight();
     * @returns {float} è¿åè¾¹çé«åº¦ï¼top åå» bottomï¼ã
     */
    getHeight() {
        return (this.top - this.bottom);
    }

    /**
     * @function SuperMap.Bounds.prototype.getSize
     * @description è·åè¾¹æ¡å¤§å°ã
     * @example
     * var bounds = new SuperMap.Bounds(-180,-90,100,80);
     * var size = bounds.getSize();
     * @returns {SuperMap.Size} è¿åè¾¹æ¡å¤§å°ã
     */
    getSize() {
        return new Size(this.getWidth(), this.getHeight());
    }

    /**
     * @function SuperMap.Bounds.prototype.getCenterPixel
     * @description è·ååç´ æ ¼å¼çèå´ä¸­å¿ç¹ã
     * @example
     * var bounds = new SuperMap.Bounds(-180,-90,100,80);
     * var pixel = bounds.getCenterPixel();
     * @returns {SuperMap.Pixel} è¿ååç´ æ ¼å¼çå½åèå´çä¸­å¿ç¹ã
     */
    getCenterPixel() {
        return new Pixel_Pixel((this.left + this.right) / 2,
            (this.bottom + this.top) / 2);
    }

    /**
     * @function SuperMap.Bounds.prototype.getCenterLonLat
     * @description è·åå°çæ ¼å¼çèå´ä¸­å¿ç¹ã
     * @example
     * var bounds = new SuperMap.Bounds(-180,-90,100,80);
     * var lonlat = bounds.getCenterLonLat();
     * @returns {SuperMap.LonLat} è¿åå½åå°çèå´çä¸­å¿ç¹ã
     */
    getCenterLonLat() {
        if (!this.centerLonLat) {
            this.centerLonLat = new LonLat_LonLat(
                (this.left + this.right) / 2, (this.bottom + this.top) / 2
            );
        }
        return this.centerLonLat;
    }

    /**
     * @function SuperMap.Bounds.prototype.scale
     * @description æç§æ¯ä¾æ©å¤§/ç¼©å°åºä¸ä¸ªæ°ç boundsã
     * @example
     * var bounds = new SuperMap.Bounds(-50,-50,40,40);
     * var bounds2 = bounds.scale(2);
     * @param {float} [ratio=1] - éè¦æ©å¤§çæ¯ä¾ã
     * @param {(SuperMap.Pixel|SuperMap.LonLat)} [origin] - æ©å¤§æ¶çåºåç¹ï¼é»è®¤ä¸ºå½å bounds çä¸­å¿ç¹ã
     * @returns {SuperMap.Bounds} è¿åéè¿ ratioãorigin è®¡ç®å¾å°çæ°çè¾¹çèå´ã
     */
    scale(ratio, origin) {
        ratio = ratio ? ratio : 1;
        if (origin == null) {
            origin = this.getCenterLonLat();
        }

        var origx, origy;

        // get origin coordinates
        if (origin.CLASS_NAME === "SuperMap.LonLat") {
            origx = origin.lon;
            origy = origin.lat;
        } else {
            origx = origin.x;
            origy = origin.y;
        }

        var left = (this.left - origx) * ratio + origx;
        var bottom = (this.bottom - origy) * ratio + origy;
        var right = (this.right - origx) * ratio + origx;
        var top = (this.top - origy) * ratio + origy;

        return new Bounds_Bounds(left, bottom, right, top);
    }

    /**
     * @function SuperMap.Bounds.prototype.add
     * @description å¨å½åç Bounds ä¸æç§ä¼ å¥çåæ ç¹è¿è¡å¹³ç§»ï¼è¿åæ°çèå´ã
     * @example
     * var bounds1 = new SuperMap.Bounds(-50,-50,40,40);
     * //bounds2 æ¯æ°ç bounds
     * var bounds2 = bounds.add(20,10);
     * @param {float} x - ä¼ å¥åæ ç¹ç x åæ ã
     * @param {float} y - ä¼ å¥åæ ç¹ç y åæ ã
     * @returns {SuperMap.Bounds} è¿åä¸ä¸ªæ°ç boundsï¼æ­¤ bounds çåæ æ¯ç±ä¼ å¥ç xï¼y åæ°ä¸å½å bounds åæ è®¡ç®æå¾ã
     */
    add(x, y) {
        if ((x == null) || (y == null)) {
            throw new TypeError('Bounds.add cannot receive null values');
        }
        return new Bounds_Bounds(this.left + x, this.bottom + y,
            this.right + x, this.top + y);
    }

    /**
     * @function SuperMap.Bounds.prototype.extend
     * @description å¨å½å bounds ä¸æ©å± boundsï¼æ¯æ pointï¼lanlat å boundsãæ©å±åç bounds çèå´æ¯ä¸¤èçç»åã
     * @example
     * var bounds1 = new SuperMap.Bounds(-50,-50,40,40);
     * //bounds æ¹å
     * bounds.extend(new SuperMap.LonLat(50,60));
     * @param {(SuperMap.Geometry.Point|SuperMap.LonLat|SuperMap.Bounds)} object - å¯ä»¥æ¯ pointãlonlat å boundsã
     */
    extend(object) {
        var bounds = null;
        if (object) {
            // clear cached center location
            switch (object.CLASS_NAME) {
                case "SuperMap.LonLat":
                    bounds = new Bounds_Bounds(object.lon, object.lat,
                        object.lon, object.lat);
                    break;
                case "SuperMap.Geometry.Point":
                    bounds = new Bounds_Bounds(object.x, object.y,
                        object.x, object.y);
                    break;

                case "SuperMap.Bounds":
                    bounds = object;
                    break;
            }

            if (bounds) {
                this.centerLonLat = null;
                if ((this.left == null) || (bounds.left < this.left)) {
                    this.left = bounds.left;
                }
                if ((this.bottom == null) || (bounds.bottom < this.bottom)) {
                    this.bottom = bounds.bottom;
                }
                if ((this.right == null) || (bounds.right > this.right)) {
                    this.right = bounds.right;
                }
                if ((this.top == null) || (bounds.top > this.top)) {
                    this.top = bounds.top;
                }
            }
        }
    }

    /**
     * @function SuperMap.Bounds.prototype.containsLonLat
     * @description å¤æ­ä¼ å¥çåæ æ¯å¦å¨èå´åã
     * @example
     * var bounds1 = new SuperMap.Bounds(-50,-50,40,40);
     * //isContains1 = true
     * //è¿éçç¬¬äºä¸ªåæ°å¯ä»¥ç´æ¥ä¸º boolean ç±»åï¼ä¹å°±æ¯inclusive
     * var isContains1 = bounds.containsLonLat(new SuperMap.LonLat(40,40),true);
     *
     * //(40,40)å¨èå´åï¼åæ ·(40+360,40)ä¹å¨èå´å
     * var bounds2 = new SuperMap.Bounds(-50,-50,40,40);
     * //isContains2 = true;
     * var isContains2 = bounds2.containsLonLat(
     *      new SuperMap.LonLat(400,40),
     *      {
     *           inclusive:true,
     *           //å¨ççèå´
     *           worldBounds: new SuperMap.Bounds(-180,-90,180,90)
     *      }
     * );
     * @param {(SuperMap.LonLat|Object)} ll - <SuperMap.LonLat> å¯¹è±¡æèæ¯ä¸ä¸ªåå« 'lon' ä¸ 'lat' å±æ§çå¯¹è±¡ã
     * @param {Object} options - å¯éåæ°ã
     * @param {boolean} [options.inclusive=true] - æ¯å¦åå«è¾¹çã
     * @param {SuperMap.Bounds} [options.worldBounds] - å¦ææä¾ worldBounds åæ°, å¦æ ll åæ°æä¾çåæ è¶åºäºä¸çè¾¹çï¼worldBoundsï¼ï¼
     *        ä½æ¯éè¿æ¥ççº¿çè½¬åå¯ä»¥è¢«åå«, å®å°è¢«è®¤ä¸ºæ¯åå«å¨è¯¥èå´åçã
     * @returns {boolean} ä¼ å¥åæ æ¯å¦åå«å¨èå´åã
     */
    containsLonLat(ll, options) {
        if (typeof options === "boolean") {
            options = {inclusive: options};
        }
        options = options || {};
        var contains = this.contains(ll.lon, ll.lat, options.inclusive),
            worldBounds = options.worldBounds;
        //æ¥ççº¿ä»¥å¤çä¹æå¯è½ç®åå«ï¼
        if (worldBounds && !contains) {
            var worldWidth = worldBounds.getWidth();
            var worldCenterX = (worldBounds.left + worldBounds.right) / 2;
            //è¿ä¸æ­¥å¾å³é®
            var worldsAway = Math.round((ll.lon - worldCenterX) / worldWidth);
            contains = this.containsLonLat({
                lon: ll.lon - worldsAway * worldWidth,
                lat: ll.lat
            }, {inclusive: options.inclusive});
        }
        return contains;
    }

    /**
     * @function SuperMap.Bounds.prototype.containsPixel
     * @description å¤æ­ä¼ å¥çåç´ æ¯å¦å¨èå´åãç´æ¥å¹éå¤§å°ï¼ä¸æ¶ååç´ åå°çè½¬æ¢ã
     * @example
     * var bounds = new SuperMap.Bounds(-50,-50,40,40);
     * //isContains = true
     * var isContains = bounds.containsPixel(new SuperMap.Pixel(40,40),true);
     * @param {SuperMap.Pixel} px - æä¾çåç´ åæ°ã
     * @param {boolean} [inclusive=true] - æ¯å¦åå«è¾¹çã
     * @returns {boolean} ä¼ å¥ç pixel å¨å½åè¾¹çèå´ä¹åã
     */
    containsPixel(px, inclusive) {
        return this.contains(px.x, px.y, inclusive);
    }

    /**
     * @function SuperMap.Bounds.prototype.contains
     * @description å¤æ­ä¼ å¥ç xï¼y åæ å¼æ¯å¦å¨èå´åã
     * @example
     * var bounds = new SuperMap.Bounds(-50,-50,40,40);
     * //isContains = true
     * var isContains = bounds.contains(40,40,true);
     * @param {float} x - ä¼ å¥ç x åæ å¼ã
     * @param {float} y - ä¼ å¥ç y åæ å¼ã
     * @param {boolean} [inclusive=true] - æ¯å¦åå«è¾¹çã
     * @returns {boolean} ä¼ å¥ç xï¼y åæ æ¯å¦å¨å½åèå´åã
     */
    contains(x, y, inclusive) {
        //set default
        if (inclusive == null) {
            inclusive = true;
        }

        if (x == null || y == null) {
            return false;
        }

        x = Util_Util.toFloat(x);
        y = Util_Util.toFloat(y);

        var contains = false;
        if (inclusive) {
            contains = ((x >= this.left) && (x <= this.right) &&
                (y >= this.bottom) && (y <= this.top));
        } else {
            contains = ((x > this.left) && (x < this.right) &&
                (y > this.bottom) && (y < this.top));
        }
        return contains;
    }

    /**
     * @function SuperMap.Bounds.prototype.intersectsBounds
     * @description å¤æ­ç®æ è¾¹çèå´æ¯å¦ä¸å½åè¾¹çèå´ç¸äº¤ãå¦æä¸¤ä¸ªè¾¹çèå´ä¸­çä»»æ
     *              è¾¹ç¼ç¸äº¤æèä¸ä¸ªè¾¹çåå«äºå¦å¤ä¸ä¸ªå°±è®¤ä¸ºè¿ä¸¤ä¸ªè¾¹çç¸äº¤ã
     * @example
     * var bounds = new SuperMap.Bounds(-180,-90,100,80);
     * var isIntersects = bounds.intersectsBounds(
     *      new SuperMap.Bounds(-170,-90,120,80)
     *  );
     * @param {SuperMap.Bounds} bounds - ç®æ è¾¹çã
     * @param {Object} options - åæ°ã
     * @param {boolean} [options.inclusive=true] - è¾¹ç¼éåä¹çæç¸äº¤ãå¦ææ¯falseï¼
     *                               ä¸¤ä¸ªè¾¹çèå´æ²¡æéå é¨åä»ä»æ¯å¨è¾¹ç¼ç¸æ¥ï¼éåï¼ï¼
     *                               è¿ç§æåµè¢«è®¤ä¸ºæ²¡æç¸äº¤ã
     * @param {SuperMap.Bounds} [options.worldBounds] - æä¾äº worldBounds åæ°, å¦æä»ä»¬ç¸äº¤æ¶
     *                               æ¯å¨å¨çèå´å, ä¸¤ä¸ªè¾¹çå°è¢«è§ä¸ºç¸äº¤ãè¿ä»éç¨äºäº¤åæå®å¨ä¸å¨ä¸çèå´çè¾¹çã
     * @returns {boolean} ä¼ å¥ç bounds å¯¹è±¡ä¸å½å bounds ç¸äº¤ã
     */
    intersectsBounds(bounds, options) {
        if (typeof options === "boolean") {
            options = {inclusive: options};
        }
        options = options || {};
        if (options.worldBounds) {
            var self = this.wrapDateLine(options.worldBounds);
            bounds = bounds.wrapDateLine(options.worldBounds);
        } else {
            self = this;
        }
        if (options.inclusive == null) {
            options.inclusive = true;
        }
        var intersects = false;
        var mightTouch = (
            self.left === bounds.right ||
            self.right === bounds.left ||
            self.top === bounds.bottom ||
            self.bottom === bounds.top
        );

        // if the two bounds only touch at an edge, and inclusive is false,
        // then the bounds don't *really* intersect.
        if (options.inclusive || !mightTouch) {
            // otherwise, if one of the boundaries even partially contains another,
            // inclusive of the edges, then they do intersect.
            var inBottom = (
                ((bounds.bottom >= self.bottom) && (bounds.bottom <= self.top)) ||
                ((self.bottom >= bounds.bottom) && (self.bottom <= bounds.top))
            );
            var inTop = (
                ((bounds.top >= self.bottom) && (bounds.top <= self.top)) ||
                ((self.top > bounds.bottom) && (self.top < bounds.top))
            );
            var inLeft = (
                ((bounds.left >= self.left) && (bounds.left <= self.right)) ||
                ((self.left >= bounds.left) && (self.left <= bounds.right))
            );
            var inRight = (
                ((bounds.right >= self.left) && (bounds.right <= self.right)) ||
                ((self.right >= bounds.left) && (self.right <= bounds.right))
            );
            intersects = ((inBottom || inTop) && (inLeft || inRight));
        }
        // document me
        if (options.worldBounds && !intersects) {
            var world = options.worldBounds;
            var width = world.getWidth();
            var selfCrosses = !world.containsBounds(self);
            var boundsCrosses = !world.containsBounds(bounds);
            if (selfCrosses && !boundsCrosses) {
                bounds = bounds.add(-width, 0);
                intersects = self.intersectsBounds(bounds, {inclusive: options.inclusive});
            } else if (boundsCrosses && !selfCrosses) {
                self = self.add(-width, 0);
                intersects = bounds.intersectsBounds(self, {inclusive: options.inclusive});
            }
        }
        return intersects;
    }

    /**
     * @function SuperMap.Bounds.prototype.containsBounds
     * @description å¤æ­ç®æ è¾¹çæ¯å¦è¢«å½åè¾¹çåå«å¨åã
     * @example
     * var bounds = new SuperMap.Bounds(-180,-90,100,80);
     * var isContains = bounds.containsBounds(
     *      new SuperMap.Bounds(-170,-90,100,80),true,true
     *  );
     * @param {SuperMap.Bounds} bounds - ç®æ è¾¹çã
     * @param {boolean} [partial=false] - ç®æ è¾¹ççä»»æé¨åé½åå«å¨å½åè¾¹çä¸­åè¢«è®¤ä¸ºæ¯åå«å³ç³»ã
     * å¦æè®¾ä¸º falseï¼æ´ä¸ªç®æ è¾¹çå¨é¨è¢«åå«å¨å½åè¾¹çèå´åã
     * @param {boolean} [inclusive=true] - è¾¹ç¼å±äº«è¢«è§ä¸ºåå«ã
     * @returns {boolean} ä¼ å¥çè¾¹çè¢«å½åè¾¹çåå«ã
     */
    containsBounds(bounds, partial, inclusive) {
        if (partial == null) {
            partial = false;
        }
        if (inclusive == null) {
            inclusive = true;
        }
        var bottomLeft = this.contains(bounds.left, bounds.bottom, inclusive);
        var bottomRight = this.contains(bounds.right, bounds.bottom, inclusive);
        var topLeft = this.contains(bounds.left, bounds.top, inclusive);
        var topRight = this.contains(bounds.right, bounds.top, inclusive);

        return (partial) ? (bottomLeft || bottomRight || topLeft || topRight)
            : (bottomLeft && bottomRight && topLeft && topRight);
    }

    /**
     * @function SuperMap.Bounds.prototype.determineQuadrant
     * @description å¤æ­ä¼ å¥åæ æ¯å¦å¨ bounds èå´åçè±¡éãä»¥ bounds ä¸­å¿ç¹ä¸ºåæ åç¹ã
     * @example
     * var bounds = new SuperMap.Bounds(-180,-90,100,80);
     * //str = "tr";
     * var str = bounds.determineQuadrant(
     *      new SuperMap.LonLat(20,20)
     *  );
     * @param {SuperMap.LonLat} lonlat - ä¼ å¥çåæ å¯¹è±¡ã
     * @returns {string} ä¼ å¥åæ æå¨çè±¡éï¼"br" "tr" "tl" "bl" åå«å¯¹åº"å³ä¸"ï¼"å³ä¸"ï¼"å·¦ä¸" "å·¦ä¸"ï¼ã
     */
    determineQuadrant(lonlat) {

        var quadrant = "";
        var center = this.getCenterLonLat();

        quadrant += (lonlat.lat < center.lat) ? "b" : "t";
        quadrant += (lonlat.lon < center.lon) ? "l" : "r";

        return quadrant;
    }

    /**
     * @function SuperMap.Bounds.prototype.wrapDateLine
     * @description å°å½å bounds ç§»å¨å°æå¤§è¾¹çèå´åé¨ï¼æè°çåé¨æ¯ç¸äº¤æèåé¨ï¼ã
     * @example
     * var bounds = new SuperMap.Bounds(380,-40,400,-20);
     * var maxExtent = new SuperMap.Bounds(-180,-90,100,80);
     * //æ°çbounds
     * var newBounds = bounds.wrapDateLine(maxExtent);
     * @param {SuperMap.Bounds} maxExtent - æå¤§çè¾¹çèå´ï¼ä¸è¬æ¯å¨çèå´ï¼ã
     * @param {Object} options - å¯ééé¡¹åæ°ã 
     * @param {float} [options.leftTolerance=0] - left åè®¸çè¯¯å·®ã 
     * @param {float} [options.rightTolerance=0] - right åè®¸çè¯¯å·®ã
     * @returns {SuperMap.Bounds} åéå½åè¾¹çãå¦æå½åè¾¹çå®å¨å¨æå¤§èå´ä¹å¤æ­¤å½æ°åè¿åä¸ä¸ªä¸åå¼çè¾¹çï¼
     *                            è¥è½å¨æå¤§è¾¹ççå·¦è¾¹ï¼åç»å½åçboundså¼å ä¸æå¤§èå´çå®½åº¦ï¼å³åå³ç§»å¨ï¼
     *                            è¥è½å¨å³è¾¹ï¼ååå·¦ç§»å¨ï¼å³ç»å½åçboundså¼å ä¸è´çæå¤§èå´çå®½åº¦ã
     */
    wrapDateLine(maxExtent, options) {
        options = options || {};

        var leftTolerance = options.leftTolerance || 0;
        var rightTolerance = options.rightTolerance || 0;

        var newBounds = this.clone();

        if (maxExtent) {
            var width = maxExtent.getWidth();
            //å¦æ newBounds å¨ maxExtent çå·¦è¾¹ï¼é£ä¹ä¸ç´åå³ç§»å¨ï¼ç´å°ç¸äº¤æèåå«ä¸ºæ­¢ï¼æ¯æ¬¡ç§»å¨width
            //shift right?
            while (newBounds.left < maxExtent.left &&
            newBounds.right - rightTolerance <= maxExtent.left) {
                newBounds = newBounds.add(width, 0);
            }
            //å¦æ newBounds å¨ maxExtent çå³è¾¹ï¼é£ä¹ä¸ç´åå·¦ç§»å¨ï¼ç´å°ç¸äº¤æèåå«ä¸ºæ­¢ï¼æ¯æ¬¡ç§»å¨width
            //shift left?
            while (newBounds.left + leftTolerance >= maxExtent.right &&
            newBounds.right > maxExtent.right) {
                newBounds = newBounds.add(-width, 0);
            }
            //å¦æåå³è¾¹ç¸äº¤ï¼å·¦è¾¹åå¨åé¨ï¼é£ä¹åæ¬¡åå·¦è¾¹ç§»å¨ä¸æ¬¡
            // crosses right only? force left
            var newLeft = newBounds.left + leftTolerance;
            if (newLeft < maxExtent.right && newLeft > maxExtent.left &&
                newBounds.right - rightTolerance > maxExtent.right) {
                newBounds = newBounds.add(-width, 0);
            }
        }

        return newBounds;
    }

    /**
     * @function SuperMap.Bounds.prototype.toServerJSONObject
     * @description è½¬æ¢æå¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     * @example
     * var bounds = new SuperMap.Bounds(-180,-90,100,80);
     * var obj = bounds.toServerJSONObject();
     * @returns {Object} è¿å JSON æ ¼å¼ç Object å¯¹è±¡ã
     */
    toServerJSONObject() {
        var jsonObject = {
            rightTop: {x: this.right, y: this.top},
            leftBottom: {x: this.left, y: this.bottom},
            left: this.left,
            right: this.right,
            top: this.top,
            bottom: this.bottom
        }
        return jsonObject;
    }

    /**
     *
     * @function SuperMap.Bounds.prototype.destroy
     * @description éæ¯æ­¤å¯¹è±¡ã
     * éæ¯åæ­¤å¯¹è±¡çææå±æ§ä¸º nullï¼èä¸æ¯åå§å¼ã
     * @example
     * var bounds = new SuperMap.Bounds(-180,-90,100,80);
     * bounds.destroy();
     */
    destroy() {
        this.left = null;
        this.right = null;
        this.top = null;
        this.bottom = null;
        this.centerLonLat = null;
    }

    /**
     * @function SuperMap.Bounds.fromString
     * @description éè¿å­ç¬¦ä¸²åæ°åå»ºæ°ç bounds çæé å½æ°ã
     * @example
     * var bounds = SuperMap.Bounds.fromString("-180,-90,100,80");
     * @param {string} str - è¾¹çå­ç¬¦ä¸²ï¼ç¨éå·éå¼ï¼e.g. <i>"5,42,10,45"</i>ï¼ã
     * @param {boolean} [reverseAxisOrder=false] - æ¯å¦åè½¬è½´é¡ºåºã
     * å¦æè®¾ä¸ºtrueï¼ååè½¬é¡ºåºï¼bottom,left,top,rightï¼ï¼å¦åææ­£å¸¸è½´é¡ºåºï¼left,bottom,right,topï¼ã
     * @returns {SuperMap.Bounds} è¿åç»å®çå­ç¬¦ä¸²åå»ºçæ°çè¾¹çå¯¹è±¡ã
     */
    static fromString(str, reverseAxisOrder) {
        var bounds = str.split(",");
        return Bounds_Bounds.fromArray(bounds, reverseAxisOrder);
    }

    /**
     * @function SuperMap.Bounds.fromArray
     * @description éè¿è¾¹çæ¡æ°ç»åå»º Boundsã
     * @example
     * var bounds = SuperMap.Bounds.fromArray([-180,-90,100,80]);
     * @param {Array.<float>} bbox - è¾¹çå¼æ°ç»ãï¼e.g. <i>[5,42,10,45]</i>ï¼ã
     * @param {boolean} [reverseAxisOrder=false] - æ¯å¦æ¯åè½¬è½´é¡ºåºãå¦æè®¾ä¸ºtrueï¼ååè½¬é¡ºåºï¼bottom,left,top,rightï¼ï¼å¦åææ­£å¸¸è½´é¡ºåºï¼left,bottom,right,topï¼ã
     * @returns {SuperMap.Bounds} è¿åæ ¹æ®ä¼ å¥çæ°ç»åå»ºçæ°çè¾¹çå¯¹è±¡ã
     */
    static fromArray(bbox, reverseAxisOrder) {
        return reverseAxisOrder === true ?
            new Bounds_Bounds(bbox[1], bbox[0], bbox[3], bbox[2]) :
            new Bounds_Bounds(bbox[0], bbox[1], bbox[2], bbox[3]);
    }

    /**
     * @function SuperMap.Bounds.fromSize
     * @description éè¿ä¼ å¥çè¾¹çå¤§å°æ¥åå»ºæ°çè¾¹çã
     * @example
     * var bounds = SuperMap.Bounds.fromSize(new SuperMap.Size(20,10));
     * @param {SuperMap.Size} size - ä¼ å¥çè¾¹çå¤§å°ã
     * @returns {SuperMap.Bounds} è¿åæ ¹æ®ä¼ å¥çè¾¹çå¤§å°çåå»ºæ°çè¾¹çã
     */
    static fromSize(size) {
        return new Bounds_Bounds(0,
            size.h,
            size.w,
            0);
    }

    /**
     * @function SuperMap.Bounds.oppositeQuadrant
     * @description åè½¬è±¡éã"t"å"b" äº¤æ¢ï¼"r"å"l"äº¤æ¢, å¦ï¼"tl"åä¸º"br"ã
     * @param {string} quadrant - ä»£è¡¨è±¡éçå­ç¬¦ä¸²ï¼å¦ï¼"tl"ã
     * @returns {string} åè½¬åçè±¡éã
     */
    static oppositeQuadrant(quadrant) {
        var opp = "";

        opp += (quadrant.charAt(0) === 't') ? 'b' : 't';
        opp += (quadrant.charAt(1) === 'l') ? 'r' : 'l';

        return opp;
    }

}

SuperMap.Bounds = Bounds_Bounds;

// CONCATENATED MODULE: ./src/common/commontypes/Geometry.js

// import {WKT} from '../format/WKT';
// import {Vector} from './Vector';


/**
 * @class SuperMap.Geometry
 * @category BaseTypes Geometry
 * @classdesc å ä½å¯¹è±¡ç±»ï¼æè¿°å°çå¯¹è±¡çå ä½å¾å½¢ã
 */
class Geometry_Geometry {


    constructor() {
        this.CLASS_NAME = "SuperMap.Geometry";
        /**
         * @member {string} SuperMap.Geometry.prototype.id
         * @description  æ­¤å ä½å¯¹è±¡çå¯ä¸æ ç¤ºç¬¦ã
         *
         */
        this.id = Util_Util.createUniqueID(this.CLASS_NAME + "_");

        /**
         * @member {SuperMap.Geometry} SuperMap.Geometry.prototype.parent
         * @description This is set when a Geometry is added as component
         * of another geometry
         */
        this.parent = null;

        /**
         * @member {SuperMap.Bounds} SuperMap.Geometry.prototype.bounds
         * @description å ä½å¯¹è±¡çèå´ã
         *
         */
        this.bounds = null;

        /**
         * @member {interger} SuperMap.Geometry.prototype.SRID
         * @description æå½±åæ åæ°ãéè¿è¯¥åæ°ï¼æå¡å¨å¤æ­ Geometry å¯¹è±¡çåæ åèç³»æ¯å¦ä¸æ°æ®éç¸åï¼å¦æä¸åï¼åå¨æ°æ®å¥åºåè¿è¡æå½±åæ¢ã
         * @example
         *   var geometry= new SuperMap.Geometry();
         *   geometry. SRID=4326;
         *
         */
        this.SRID = null;
    }


    /**
     * @function SuperMap.Geometry.prototype.destroy
     * @description è§£æ Geometry ç±»ï¼éæ¾èµæºã
     */
    destroy() {
        this.id = null;
        this.bounds = null;
        this.SRID = null;
    }


    /**
     * @function SuperMap.Geometry.prototype.clone
     * @description åå»ºåéçå ä½å¾å½¢ãåéçå ä½å¾å½¢ä¸è®¾ç½®éæ åçå±æ§ã
     * @returns {SuperMap.Geometry} åéçå ä½å¾å½¢ã
     */
    clone() {
        return new Geometry_Geometry();
    }


    /**
     * @function SuperMap.Geometry.prototype.setBounds
     * @description è®¾ç½®æ­¤å ä½å¯¹è±¡ç boundsã
     * @param {SuperMap.Bounds} bounds - èå´ã
     */
    setBounds(bounds) {
        if (bounds) {
            this.bounds = bounds.clone();
        }
    }


    /**
     * @function SuperMap.Geometry.prototype.clearBounds
     * @description æ¸é¤å ä½å¯¹è±¡ç boundsã
     * å¦æè¯¥å¯¹è±¡æç¶ç±»ï¼ä¹ä¼æ¸é¤ç¶ç±»å ä½å¯¹è±¡ç boundsã
     */
    clearBounds() {
        this.bounds = null;
        if (this.parent) {
            this.parent.clearBounds();
        }
    }


    /**
     * @function SuperMap.Geometry.prototype.extendBounds
     * @description Extend the existing bounds to include the new bounds.
     * If geometry's bounds is not yet set, then set a new Bounds.
     *
     * @param {SuperMap.Bounds} newBounds - èå´ã
     */
    extendBounds(newBounds) {
        var bounds = this.getBounds();
        if (!bounds) {
            this.setBounds(newBounds);
        } else {
            this.bounds.extend(newBounds);
        }
    }


    /**
     * @function SuperMap.Geometry.prototype.getBounds
     * @description è·å¾å ä½å¾å½¢çè¾¹çãå¦ææ²¡æè®¾ç½®è¾¹çï¼å¯éè¿è®¡ç®è·å¾ã
     * @returns {SuperMap.Bounds} è¿åçå ä½å¯¹è±¡çè¾¹çã
     */
    getBounds() {
        if (this.bounds == null) {
            this.calculateBounds();
        }
        return this.bounds;
    }


    /**
     * @function SuperMap.Geometry.prototype.calculateBounds
     * @description éæ°è®¡ç®å ä½å¾å½¢çè¾¹çï¼éè¦å¨å­ç±»ä¸­å®ç°æ­¤æ¹æ³ï¼ã
     */
    calculateBounds() {
        //
        // This should be overridden by subclasses.
        //
    }

    /**
     * @function SuperMap.Geometry.prototype.getVertices
     * @description è¿åå ä½å¾å½¢çææé¡¶ç¹çåè¡¨ï¼éè¦å¨å­ç±»ä¸­å®ç°æ­¤æ¹æ³ï¼ã
     * @param {boolean} [nodes] - å¦ææ¯ trueï¼çº¿ååªè¿åçº¿çæ«ç«¯ç¹ï¼å¦æ falseï¼ä»ä»è¿åé¡¶ç¹ï¼å¦ææ²¡æè®¾ç½®ï¼åè¿åé¡¶ç¹ã
     * @returns {Array} å ä½å¾å½¢çé¡¶ç¹åè¡¨ã
     */
    getVertices(nodes) { // eslint-disable-line no-unused-vars
    }

    /**
     * @function SuperMap.Geometry.prototype.getArea
     * @description è®¡ç®å ä½å¯¹è±¡çé¢ç§¯ ï¼æ­¤æ¹æ³éè¦å¨å­ç±»ä¸­å®ä¹ã
     * @returns {float} The area of the collection by summing its parts
     */
    getArea() {
        //to be overridden by geometries that actually have an area
        //
        return 0.0;
    }


    // /**
    //  * @function SuperMap.Geometry.prototype.toString
    //  * @description è¿ågeometryå¯¹è±¡çå­ç¬¦ä¸²è¡¨è¿°ï¼éè¦å¼å¥{@link SuperMap.Format.WKT}ãæ­¤æ¹æ³åªè½å¨å­ç±»å®ç°ï¼å¨ç¶ç±»ä½¿ç¨ä¼æ¥éã
    //  * @returns {string} geometryå¯¹è±¡çå­ç¬¦ä¸²è¡¨è¿°(Well-Known Text)
    //  */
    // toString() {
    // var string;
    // if (WKT) {
    //     var wkt = new WKT();
    //     string = wkt.write(new Vector(this));
    // } else {
    //     string = Object.prototype.toString.call(this);
    // }
    // return string;
    // }
}

SuperMap.Geometry = Geometry_Geometry;

// CONCATENATED MODULE: ./src/common/commontypes/geometry/Collection.js





/**
 * @class SuperMap.Geometry.Collection
 * @classdesc å ä½å¯¹è±¡éåç±»ï¼å­å¨å¨æ¬å°ç components å±æ§ä¸­ï¼å¯ä½ä¸ºåæ°ä¼ éç»æé å½æ°ï¼ã<br>
 *            éçæ°çå ä½å¾å½¢æ·»å å°éåä¸­ï¼å°ä¸è½è¢«åéï¼å½ç§»å¨å ä½å¾å½¢æ¶ï¼éè¦æå®åç§ç©ã<br>
 *            getArea å getLength å½æ°åªè½éè¿éåå­å¨å ä½å¯¹è±¡ç components æ°ç»ï¼æ»è®¡ææå ä½å¾å½¢çé¢ç§¯åé¿åº¦ã
 * @category BaseTypes Geometry
 * @extends {SuperMap.Geometry}
 * @param {Array.<SuperMap.Geometry>} components - å ä½å¯¹è±¡æ°ç»ã
 * @example
 * var point1 = new SuperMap.Geometry.Point(10,20);
 * var point2 = new SuperMap.Geometry.Point(30,40);
 * var col = new SuperMap.Geometry.Collection([point1,point2]);
 */
class Collection_Collection extends Geometry_Geometry {


    constructor(components) {
        super();

        /**
         * @description å­å¨å ä½å¯¹è±¡çæ°ç»ã
         * @member {Array.<SuperMap.Geometry>} SuperMap.Geometry.Collection.prototype.components
         */
        this.components = [];

        /**
         * @member {Array.<string>} SuperMap.Geometry.Collection.prototype.componentTypes
         * @description components å­å¨ççå ä½å¯¹è±¡ææ¯æçå ä½ç±»åæ°ç»ï¼ä¸ºç©ºè¡¨ç¤ºç±»åä¸åéå¶ã
         */
        this.componentTypes = null;
        if (components != null) {
            this.addComponents(components);
        }
        this.CLASS_NAME = "SuperMap.Geometry.Collection";
    }

    /**
     * @function SuperMap.Geometry.Collection.prototype.destroy
     * @description éæ¯å ä½å¾å½¢ã
     */
    destroy() {
        this.components.length = 0;
        this.components = null;
        super.destroy();
    }

    /**
     * @function SuperMap.Geometry.Collection.prototype.clone
     * @description åéå½åå ä½å¯¹è±¡ã
     * @returns {SuperMap.Geometry.Collection} åéçå ä½å¯¹è±¡éåã
     */
    clone() {
        var geometry = new Collection_Collection();
        for (var i = 0, len = this.components.length; i < len; i++) {
            geometry.addComponent(this.components[i].clone());
        }

        // catch any randomly tagged-on properties
        Util_Util.applyDefaults(geometry, this);

        return geometry;
    }

    /**
     * @function SuperMap.Geometry.Collection.prototype.getComponentsString
     * @description è·å components å­ç¬¦ä¸²ã
     * @returns {string} components å­ç¬¦ä¸²ã
     */
    getComponentsString() {
        var strings = [];
        for (var i = 0, len = this.components.length; i < len; i++) {
            strings.push(this.components[i].toShortString());
        }
        return strings.join(",");
    }

    /**
     * @function SuperMap.Geometry.Collection.prototype.calculateBounds
     * @description éè¿éåæ°ç»éæ°è®¡ç®è¾¹çï¼å¨éåæ¯ä¸å­é¡¹ä¸­æ¶è°ç¨ extend æ¹æ³ã
     */
    calculateBounds() {
        this.bounds = null;
        var bounds = new Bounds_Bounds();
        var components = this.components;
        if (components) {
            for (var i = 0, len = components.length; i < len; i++) {
                bounds.extend(components[i].getBounds());
            }
        }
        // to preserve old behavior, we only set bounds if non-null
        // in the future, we could add bounds.isEmpty()
        if (bounds.left != null && bounds.bottom != null &&
            bounds.right != null && bounds.top != null) {
            this.setBounds(bounds);
        }
    }

    /**
     * @function SuperMap.Geometry.Collection.prototype.addComponents
     * @description ç»å ä½å¾å½¢å¯¹è±¡æ·»å åç´ ã
     * @param {Array.<SuperMap.Geometry>} components - å ä½å¯¹è±¡ç»ä»¶ã
     * @example
     * var collection = new SuperMap.Geometry.Collection();
     * collection.addComponents(new SuerpMap.Geometry.Point(10,10));
     */
    addComponents(components) {
        if (!(Util_Util.isArray(components))) {
            components = [components];
        }
        for (var i = 0, len = components.length; i < len; i++) {
            this.addComponent(components[i]);
        }
    }

    /**
     * @function SuperMap.Geometry.Collection.prototype.addComponent
     * @description æ·»å ä¸ä¸ªå ä½å¯¹è±¡å°éåä¸­ãå¦æè®¾ç½®äº componentTypes ç±»åï¼åæ·»å çå ä½å¯¹è±¡å¿é¡»æ¯ componentTypes ä¸­çç±»åã
     * @param {SuperMap.Geometry} component - å¾æ·»å çå ä½å¯¹è±¡ã
     * @param {int} [index] - å ä½å¯¹è±¡æå¥çä½ç½®ã
     * @returns {boolean} æ¯å¦æ·»å æåã
     */
    addComponent(component, index) {
        var added = false;
        if (component) {
            if (this.componentTypes == null ||
                (Util_Util.indexOf(this.componentTypes,
                    component.CLASS_NAME) > -1)) {

                if (index != null && (index < this.components.length)) {
                    var components1 = this.components.slice(0, index);
                    var components2 = this.components.slice(index,
                        this.components.length);
                    components1.push(component);
                    this.components = components1.concat(components2);
                } else {
                    this.components.push(component);
                }
                component.parent = this;
                this.clearBounds();
                added = true;
            }
        }
        return added;
    }

    /**
     * @function SuperMap.Geometry.Collection.prototype.removeComponents
     * @description æ¸é¤å ä½å¯¹è±¡ã
     * @param {Array.<SuperMap.Geometry>} components - éè¦æ¸é¤çå ä½å¯¹è±¡ã
     * @returns {boolean} åç´ æ¯å¦è¢«å é¤ã
     */
    removeComponents(components) {
        var removed = false;

        if (!(Util_Util.isArray(components))) {
            components = [components];
        }
        for (var i = components.length - 1; i >= 0; --i) {
            removed = this.removeComponent(components[i]) || removed;
        }
        return removed;
    }

    /**
     * @function SuperMap.Geometry.Collection.prototype.removeComponent
     * @description ä»éåä¸­ç§»é¤ä¸ä¸ªå ä½å¯¹è±¡ã
     * @param {SuperMap.Geometry} component - è¦ç§»é¤çå ä½å¯¹è±¡ã
     * @returns {boolean} å ä½å¯¹è±¡æ¯å¦ç§»é¤æåã
     */
    removeComponent(component) {
        Util_Util.removeItem(this.components, component);

        // clearBounds() so that it gets recalculated on the next call
        // to this.getBounds();
        this.clearBounds();
        return true;
    }

    /**
     * @function SuperMap.Geometry.Collection.prototype.getArea
     * @description è®¡ç®å ä½å¯¹è±¡çé¢ç§¯ãæ³¨æï¼è¿ä¸ªæ¹æ³å¨ {@link SuperMap.Geometry.Polygon} ç±»ä¸­éè¦éåã
     * @returns {number} å ä½å¾å½¢çé¢ç§¯ï¼æ¯å ä½å¯¹è±¡ä¸­ææç»æé¨åçé¢ç§¯ä¹åã
     */
    getArea() {
        var area = 0.0;
        for (var i = 0, len = this.components.length; i < len; i++) {
            area += this.components[i].getArea();
        }
        return area;
    }

    /**
     * @function SuperMap.Geometry.Collection.prototype.equals
     * @description å¤æ­ä¸¤ä¸ªå ä½å¾å½¢æ¯å¦ç¸ç­ãå¦æææç components å·æç¸åçåæ ï¼åè®¤ä¸ºæ¯ç¸ç­çã
     * @param {SuperMap.Geometry} geometry - éè¦å¤æ­çå ä½å¾å½¢ã
     * @returns {boolean} è¾å¥çå ä½å¾å½¢ä¸å½åå ä½å¾å½¢æ¯å¦ç¸ç­ã
     */
    equals(geometry) {
        var equivalent = true;
        if (!geometry || !geometry.CLASS_NAME ||
            (this.CLASS_NAME !== geometry.CLASS_NAME)) {
            equivalent = false;
        } else if (!(Util_Util.isArray(geometry.components)) ||
            (geometry.components.length !== this.components.length)) {
            equivalent = false;
        } else {
            for (var i = 0, len = this.components.length; i < len; ++i) {
                if (!this.components[i].equals(geometry.components[i])) {
                    equivalent = false;
                    break;
                }
            }
        }
        return equivalent;
    }


    /**
     * @function SuperMap.Geometry.Collection.prototype.getVertices
     * @description è¿åå ä½å¯¹è±¡çææç»ç¹çåè¡¨ã
     * @param {boolean} [nodes] - å¯¹äºçº¿æ¥è¯´ï¼ä»ä»è¿åä½ä¸ºç«¯ç¹çé¡¶ç¹ï¼å¦æè®¾ä¸º falseï¼åè¿åéç«¯ç¹çé¡¶ç¹å¦ææ²¡æè®¾ç½®æ­¤åæ°ï¼åè¿åææé¡¶ç¹ã
     * @returns {Array} å ä½å¯¹è±¡çé¡¶ç¹åè¡¨ã
     */
    getVertices(nodes) {
        var vertices = [];
        for (var i = 0, len = this.components.length; i < len; ++i) {
            Array.prototype.push.apply(
                vertices, this.components[i].getVertices(nodes)
            );
        }
        return vertices;
    }

}

SuperMap.Geometry.Collection = Collection_Collection;
// CONCATENATED MODULE: ./src/common/commontypes/geometry/MultiPoint.js



/**
 * @class SuperMap.Geometry.MultiPoint
 * @classdesc å ä½å¯¹è±¡å¤ç¹ç±»ã
 * @category BaseTypes Geometry
 * @extends {SuperMap.Geometry.Collection}
 * @param {Array.<SuperMap.Geometry.Point>} components - ç¹å¯¹è±¡æ°ç»ã
 * @example
 * var point1 = new SuperMap.Geometry.Point(5,6);
 * var poine2 = new SuperMap.Geometry.Point(7,8);
 * var multiPoint = new SuperMap.Geometry.MultiPoint([point1,point2]);
 */
class MultiPoint_MultiPoint extends Collection_Collection {


    constructor(components) {
        super(components);
        /**
         * @member {Array.<string>} [SuperMap.Geometry.MultiPoint.prototype.componentTypes=["SuperMap.Geometry.Point"]]
         * @description components å­å¨ççå ä½å¯¹è±¡ææ¯æçå ä½ç±»åæ°ç»ã
         * @readonly
         */
        this.componentTypes = ["SuperMap.Geometry.Point"];
        this.CLASS_NAME = "SuperMap.Geometry.MultiPoint";
    }

    /**
     * @function SuperMap.Geometry.MultiPoint.prototype.addPoint
     * @description æ·»å ç¹ï¼å°è£äº {@link SuperMap.Geometry.Collection|SuperMap.Geometry.Collection.addComponent} æ¹æ³ã
     * @param {SuperMap.Geometry.Point} point - æ·»å çç¹ã
     * @param {integer} [index] - ä¸æ ã
     */
    addPoint(point, index) {
        this.addComponent(point, index);
    }


    /**
     * @function SuperMap.Geometry.MultiPoint.prototype.removePoint
     * @description ç§»é¤ç¹ï¼å°è£äº {@link SuperMap.Geometry.Collection|SuperMap.Geometry.Collection.removeComponent} æ¹æ³ã
     * @param {SuperMap.Geometry.Point} point - ç§»é¤çç¹å¯¹è±¡ã
     */
    removePoint(point) {
        this.removeComponent(point);
    }


}

SuperMap.Geometry.MultiPoint = MultiPoint_MultiPoint;
// CONCATENATED MODULE: ./src/common/commontypes/geometry/Curve.js



/**
 * @class SuperMap.Geometry.Curve
 * @classdesc å ä½å¯¹è±¡æ²çº¿ç±»ã
 * @category BaseTypes Geometry
 * @extends {SuperMap.Geometry.MultiPoint}
 * @param {Array.<SuperMap.Geometry.Point>} components - å ä½å¯¹è±¡æ°ç»ã
 * @example
 * var point1 = new SuperMap.Geometry.Point(10,20);
 * var point2 = new SuperMap.Geometry.Point(30,40);
 * var curve = new SuperMap.Geometry.Curve([point1,point2]);
 */
class Curve_Curve extends MultiPoint_MultiPoint {

    constructor(components) {
        super(components);
        /**
         * @member {Array.<string>} [SuperMap.Geometry.Curve.prototype.componentType=["SuperMap.Geometry.Point", "SuperMap.PointWithMeasure"]]
         * @description components å­å¨ççå ä½å¯¹è±¡ææ¯æçå ä½ç±»åæ°ç»ã
         * @readonly
         */
        this.componentTypes = ["SuperMap.Geometry.Point", "SuperMap.PointWithMeasure"];
        this.CLASS_NAME = "SuperMap.Geometry.Curve";
    }


}

SuperMap.Geometry.Curve = Curve_Curve;
// CONCATENATED MODULE: ./src/common/commontypes/geometry/Point.js





/**
 * @class SuperMap.Geometry.Point
 * @classdesc ç¹å ä½å¯¹è±¡ç±»ã
 * @category BaseTypes Geometry
 * @extends {SuperMap.Geometry}
 * @param {float} x - x åæ ã
 * @param {float} y - y åæ ã
 * @param {string} [type = 'Point'] - ç¨æ¥å­å¨ç¹çç±»åã
 * @param {float} [tag] - ç¨æ¥å­å¨é¢å¤çå±æ§ï¼æ¯å¦å·®å¼åæä¸­ç Z å¼ã
 * @example
 * var point = new SuperMap.Geometry.Point(-111.04, 45.68);
 */
class Point_Point extends Geometry_Geometry {


    constructor(x, y, type, tag) {
        super(x, y, type, tag);
        /**
         * @member {float} SuperMap.Geometry.Point.prototype.x
         * @description æ¨ªåæ ã
         */
        this.x = parseFloat(x);

        /**
         * @member {float} SuperMap.Geometry.Point.prototype.y
         * @description çºµåæ ã
         */
        this.y = parseFloat(y);

        /**
         * @member {string} SuperMap.Geometry.Point.prototype.tag
         * @description  ç¨æ¥å­å¨é¢å¤çå±æ§ï¼æ¯å¦å·®å¼åæä¸­ç Z å¼ã
         */
        this.tag = (tag || tag == 0) ? parseFloat(tag) : null;

        /**
         * @member {string} SuperMap.Geometry.Point.prototype.tag
         * @description  ç¨æ¥å­å¨ç¹çç±»å
         */
        this.type = type || "Point";
        this.CLASS_NAME = "SuperMap.Geometry.Point";
    }

    /**
     * @function SuperMap.Geometry.Point.prototype.clone
     * @description åéç¹å¯¹è±¡ã
     * @returns {SuperMap.Geometry.Point} åéåçç¹å¯¹è±¡ã
     */
    clone(obj) {
        if (obj == null) {
            obj = new Point_Point(this.x, this.y);
        }

        // catch any randomly tagged-on properties
        Util_Util.applyDefaults(obj, this);

        return obj;
    }

    /**
     * @function SuperMap.Geometry.Point.prototype.calculateBounds
     * @description è®¡ç®ç¹å¯¹è±¡çèå´ã
     */
    calculateBounds() {
        this.bounds = new Bounds_Bounds(this.x, this.y,
            this.x, this.y);
    }

    /**
     * @function SuperMap.Geometry.Point.prototype.equals
     * @description å¤æ­ä¸¤ä¸ªç¹å¯¹è±¡æ¯å¦ç¸ç­ãå¦æä¸¤ä¸ªç¹å¯¹è±¡å·æç¸åçåæ ï¼åè®¤ä¸ºæ¯ç¸ç­çã
     * @example
     * var point= new SuperMap.Geometry.Point(0,0);
     * var point1={x:0,y:0};
     * var result= point.equals(point1);
     * @param {SuperMap.Geometry.Point} geom - éè¦å¤æ­çç¹å¯¹è±¡ã
     * @returns {boolean} ä¸¤ä¸ªç¹å¯¹è±¡æ¯å¦ç¸ç­ï¼true ä¸ºç¸ç­ï¼false ä¸ºä¸ç­ï¼ã
     */
    equals(geom) {
        var equals = false;
        if (geom != null) {
            equals = ((this.x === geom.x && this.y === geom.y) ||
                (isNaN(this.x) && isNaN(this.y) && isNaN(geom.x) && isNaN(geom.y)));
        }
        return equals;
    }


    /**
     * @function SuperMap.Geometry.Point.prototype.move
     * @description æ²¿ç xãy è½´çæ­£æ¹åä¸æç§ç»å®çä½ç§»ç§»å¨ç¹å¯¹è±¡ï¼move ä¸ä»æ¹åäºå ä½å¯¹è±¡çä½ç½®å¹¶ä¸æ¸çäºè¾¹çç¼å­ã
     * @param {float} x - x è½´æ­£æ¹åä¸çåç§»éã
     * @param {float} y - y è½´æ­£æ¹åä¸åç§»éã
     */
    move(x, y) {
        this.x = this.x + x;
        this.y = this.y + y;
        this.clearBounds();
    }

    /**
     * @function SuperMap.Geometry.Point.prototype.toShortString
     * @returns {string} å­ç¬¦ä¸²ä»£è¡¨ç¹å¯¹è±¡ã(ex. <i>"5, 42"</i>)
     */
    toShortString() {
        return (this.x + ", " + this.y);
    }

    /**
     * @function SuperMap.Geometry.Point.prototype.destroy
     * @description éæ¾ç¹å¯¹è±¡çèµæºã
     */
    destroy() {
        this.x = null;
        this.y = null;
        this.tag = null;
        super.destroy();
    }

    /**
     * @function SuperMap.Geometry.Point.prototype.getVertices
     * @description è¿åç¹å¯¹è±¡çææé¡¶ç¹çåè¡¨ã
     * @param {boolean} [nodes] - å¯¹äºç¹å¯¹è±¡æ­¤åæ°ä¸èµ·ä½ç¨ï¼ç´æ¥è¿åç¹ã
     * @returns {Array} å ä½å¾å½¢çé¡¶ç¹åè¡¨ã
     */
    getVertices(nodes) { // eslint-disable-line no-unused-vars
        return [this];
    }


}

SuperMap.Geometry.Point = Point_Point;

// CONCATENATED MODULE: ./src/common/commontypes/geometry/LineString.js




/**
 * @class SuperMap.Geometry.LineString
 * @classdesc å ä½å¯¹è±¡çº¿ä¸²ç±»ã
 * @category BaseTypes Geometry
 * @param {Array.<SuperMap.Geometry.Point>} points - ç¨æ¥çæçº¿ä¸²çç¹æ°ç»ã
 * @extends {SuperMap.Geometry.Curve}
 * @example
 * var points = [new SuperMap.Geometry.Point(4933.319287022352, -3337.3849141502124),
 *     new SuperMap.Geometry.Point(4960.9674060199022, -3349.3316322355736),
 *     new SuperMap.Geometry.Point(5006.0235999418364, -3358.8890067038628),
 *     new SuperMap.Geometry.Point(5075.3145648369318, -3378.0037556404409),
 *     new SuperMap.Geometry.Point(5305.19551436013, -3376.9669111768926)],
 * var roadLine = new SuperMap.Geometry.LineString(points)ï¼
 */
class LineString_LineString extends Curve_Curve {

    constructor(points) {
        super(points);
        this.CLASS_NAME = "SuperMap.Geometry.LineString";
    }

    /**
     * @function SuperMap.Geometry.LineString.prototype.removeComponent
     * @description åªæå¨çº¿ä¸²ä¸æä¸ä¸ªææ´å¤çç¹çæ¶åï¼æä¼åè®¸ç§»é¤ç¹ï¼å¦åç»æå°ä¼æ¯åä¸çç¹ï¼ã
     * @param {SuperMap.Geometry.Point} point - å°è¢«å é¤çç¹ã
     * @returns {boolean} å é¤çç¹ã
     */
    removeComponent(point) { // eslint-disable-line no-unused-vars
        var removed = this.components && (this.components.length > 2);
        if (removed) {
            super.removeComponent.apply(this, arguments);
        }
        return removed;
    }

    /**
     * @function SuperMap.Geometry.LineString.prototype.getSortedSegments
     * @returns {Array} An array of segment objects.  Segment objects have properties
     *     x1, y1, x2, and y2.  The start point is represented by x1 and y1.
     *     The end point is represented by x2 and y2.  Start and end are
     *     ordered so that x1 < x2.
     */
    getSortedSegments() {
        var numSeg = this.components.length - 1;
        var segments = new Array(numSeg), point1, point2;
        for (var i = 0; i < numSeg; ++i) {
            point1 = this.components[i];
            point2 = this.components[i + 1];
            if (point1.x < point2.x) {
                segments[i] = {
                    x1: point1.x,
                    y1: point1.y,
                    x2: point2.x,
                    y2: point2.y
                };
            } else {
                segments[i] = {
                    x1: point2.x,
                    y1: point2.y,
                    x2: point1.x,
                    y2: point1.y
                };
            }
        }

        // more efficient to define this somewhere static
        function byX1(seg1, seg2) {
            return seg1.x1 - seg2.x1;
        }

        return segments.sort(byX1);
    }

    /**
     * @function SuperMap.Geometry.LineString.prototype.getVertices
     * @description è¿åå ä½å¾å½¢çææé¡¶ç¹çåè¡¨ã
     * @param {boolean} [nodes] - å¯¹äºçº¿æ¥è¯´ï¼ä»ä»è¿åä½ä¸ºç«¯ç¹çé¡¶ç¹ï¼å¦æè®¾ä¸º falseï¼åè¿åéç«¯ç¹çé¡¶ç¹ãå¦ææ²¡æè®¾ç½®æ­¤åæ°ï¼åè¿åææé¡¶ç¹ã
     * @returns {Array} å ä½å¾å½¢çé¡¶ç¹åè¡¨ã
     */
    getVertices(nodes) {
        var vertices;
        if (nodes === true) {
            vertices = [
                this.components[0],
                this.components[this.components.length - 1]
            ];
        } else if (nodes === false) {
            vertices = this.components.slice(1, this.components.length - 1);
        } else {
            vertices = this.components.slice();
        }
        return vertices;
    }

    /**
     * @function SuperMap.Geometry.LineString.calculateCircle
     * @description ä¸ç¹ç»åå¼§ã
     * @param {Array.<SuperMap.Geometry.Point>} points - ä¼ å¥çå¾è®¡ç®çåå§ç¹ä¸²ã
     * @returns {Array.<SuperMap.Geometry.Point>} è®¡ç®åºç¸åºçåå¼§æ§å¶ç¹ã
     * @example
     * var points = [];
     * points.push(new SuperMap.Geometry.Point(-50,30));
     * points.push(new SuperMap.Geometry.Point(-30,50));
     * points.push(new SuperMap.Geometry.Point(2,60));
     * var circle = SuperMap.Geometry.LineString.calculateCircle(points);
     */
    static calculateCircle(points) {
        if (points.length < 3) {
            return points
        }
        var centerPoint = {},
            p1 = points[0],
            p2 = points[1],
            p3 = points[2];
        var R = 0,
            dStep = 0,
            direc = true,
            dRotation = 0,
            dRotationBegin = 0,
            dRotationAngle = 0,
            nSegmentCount = 72,
            circlePoints = [];

        var KTan13 = (p3.y - p1.y) / (p3.x - p1.x);
        var B13 = p3.y - KTan13 * p3.x;
        if ((((p3.x != p1.x) && (p3.y != p1.y)) && (p2.y == KTan13 * p2.x + B13)) ||
            ((p3.x == p1.x) && (p2.x == p1.x)) || ((p3.y == p1.y) && (p2.y == p1.y)) ||
            ((p3.x == p1.x) && (p3.y == p1.y)) || ((p3.x == p2.x) && (p3.y == p2.y)) || ((p1.x == p2.x) && (p1.y == p2.y))) {
            circlePoints.push(p1);
            circlePoints.push(p2);
            circlePoints.push(p3);
        } else {
            var D = ((p2.x * p2.x + p2.y * p2.y) - (p1.x * p1.x + p1.y * p1.y)) * (2 * (p3.y - p1.y)) - ((p3.x * p3.x + p3.y * p3.y) -
                (p1.x * p1.x + p1.y * p1.y)) * (2 * (p2.y - p1.y));
            var E = (2 * (p2.x - p1.x)) * ((p3.x * p3.x + p3.y * p3.y) - (p1.x * p1.x + p1.y * p1.y)) -
                (2 * (p3.x - p1.x)) * ((p2.x * p2.x + p2.y * p2.y) - (p1.x * p1.x + p1.y * p1.y));
            var F = 4 * ((p2.x - p1.x) * (p3.y - p1.y) - (p3.x - p1.x) * (p2.y - p1.y));
            centerPoint.x = D / F;
            centerPoint.y = E / F;
            R = Math.sqrt((p1.x - centerPoint.x) * (p1.x - centerPoint.x) + (p1.y - centerPoint.y) * (p1.y - centerPoint.y));

            var dis = (p1.x - p3.x) * (p1.x - p3.x) + (p1.y - p3.y) * (p1.y - p3.y);
            var cons = (2 * R * R - dis) / (2 * R * R);
            cons = cons >= 1 ? 1 : cons;
            cons = cons <= -1 ? -1 : cons;
            dRotationAngle = Math.acos(cons) * 180 / Math.PI;

            if (p3.x == p1.x) {
                dRotationAngle = ((centerPoint.x > p1.x && p2.x > p1.x) || (centerPoint.x < p1.x && p2.x < p1.x)) ? (360 - dRotationAngle) : dRotationAngle;
            } else {
                dRotationAngle = ((centerPoint.y > (KTan13 * centerPoint.x + B13) && p2.y > (KTan13 * p2.x + B13)) ||
                    (centerPoint.y < (KTan13 * centerPoint.x + B13) && p2.y < (KTan13 * p2.x + B13))) ? (360 - dRotationAngle) : dRotationAngle;
            }
            dStep = dRotationAngle / 72;

            if (p3.y != p1.y) {
                if (p3.x == p1.x) {
                    if (p3.y > p1.y) {
                        if (p2.x < p1.x) {
                            direc = false;
                        }
                    } else {
                        if (p2.x > p1.x) {
                            direc = false;
                        }
                    }
                } else if (p3.x < p1.x) {
                    if (p2.y < KTan13 * p2.x + B13) {
                        direc = false;
                    }
                } else {
                    if (p2.y > KTan13 * p2.x + B13) {
                        direc = false;
                    }
                }
            } else {
                if (p3.x > p1.x) {
                    if (p2.y > p1.y) {
                        direc = false;
                    }
                } else {
                    if (p2.y < p1.y) {
                        direc = false;
                    }
                }
            }

            var K10 = (p1.y - centerPoint.y) / (p1.x - centerPoint.x);
            var atan10 = K10 >= 0 ? Math.atan(K10) * 180 / Math.PI : Math.abs(Math.atan(K10) * 180 / Math.PI) + 90;

            var CY = Math.abs(centerPoint.y);
            if ((p1.y == CY) && (CY == p3.y)) {
                if (p1.x < p3.x) {
                    atan10 = atan10 + 180;
                }
            }

            var newPY = p1.y - centerPoint.y;
            circlePoints.push(p1);
            for (var i = 1; i < nSegmentCount; i++) {
                dRotation = dStep * i;
                dRotationBegin = atan10;

                if (direc) {
                    if (newPY >= 0) {
                        if (K10 >= 0) {
                            dRotationBegin = dRotationBegin + dRotation;
                        } else {
                            dRotationBegin = (180 - (dRotationBegin - 90)) + dRotation;
                        }
                    } else {
                        if (K10 > 0) {
                            dRotationBegin = (dRotationBegin - 180) + dRotation;
                        } else {
                            dRotationBegin = (90 - dRotationBegin) + dRotation;
                        }
                    }
                } else {
                    if (newPY >= 0) {
                        if (K10 >= 0) {
                            dRotationBegin = dRotationBegin - dRotation;
                        } else {
                            dRotationBegin = (180 - (dRotationBegin - 90)) - dRotation;
                        }
                    } else {
                        if (K10 >= 0) {
                            dRotationBegin = (dRotationBegin - 180) - dRotation;
                        } else {
                            dRotationBegin = (90 - dRotationBegin) - dRotation;
                        }
                    }
                }

                dRotationBegin = dRotationBegin * Math.PI / 180;
                var x = centerPoint.x + R * Math.cos(dRotationBegin);
                var y = centerPoint.y + R * Math.sin(dRotationBegin);
                circlePoints.push(new Point_Point(x, y));
            }
            circlePoints.push(p3);
        }
        return circlePoints;
    }

    /**
     * @function SuperMap.Geometry.LineString.createLineEPS
     * @description æ ¹æ®ç¹çç±»åç»åºä¸åç±»åçæ²çº¿ã
     * ç¹çç±»åæä¸ç§ï¼LTypeArcï¼LTypeCurveï¼NONEã
     * @param {Array.<SuperMap.Geometry.Point>} points - ä¼ å¥çå¾è®¡ç®çåå§ç¹ä¸²ã
     * @returns {Array.<SuperMap.Geometry.Point>} è®¡ç®åºç¸åºç lineEPS æ§å¶ç¹ã
     * @example
     * var points = [];
     * points.push(new SuperMap.Geometry.Point(-50,30));
     * points.push(new SuperMap.Geometry.Point(-30,50,"LTypeArc"));
     * points.push(new SuperMap.Geometry.Point(2,60));
     * points.push(new SuperMap.Geometry.Point(8,20));
     * var lineEPS = SuperMap.Geometry.LineString.createLineEPS(points);
     */
    static createLineEPS(points) {
        var list = [],
            len = points.length;
        if (points == null || len < 2) {
            return points;
        }
        for (var i = 0; i < len;) {
            var type = points[i].type;
            if (type == 'LTypeArc') {
                var listObj = LineString_LineString.createLineArc(list, i, len, points);
                list = listObj[0];
                i = listObj[1];
            } else {
                list.push(points[i]);
                i++;
            }
        }
        return list;
    }

    static createLineArc(list, i, len, points) {
        if (i == 0) {
            let bezierPtsObj = LineString_LineString.addPointEPS(points, i, len, 'LTypeArc');
            Array.prototype.push.apply(list, bezierPtsObj[0]);
            i = bezierPtsObj[1] + 1;
        } else if (i == len - 1) {
            var bezierP = [points[i - 1], points[i]],
                bezierPts = LineString_LineString.calculateCircle(bezierP);
            Array.prototype.push.apply(list, bezierPts);
            i++;
        } else {
            let bezierPtsObj = LineString_LineString.addPointEPS(points, i, len, 'LTypeArc');
            list.pop();
            Array.prototype.push.apply(list, bezierPtsObj[0]);
            i = bezierPtsObj[1] + 1;
        }
        return [list, i];
    }

    static addPointEPS(points, i, len, type) {
        var bezierP = [], j = i + 1;
        if (i == 0) {
            Array.prototype.push.apply(bezierP, [points[i], points[i + 1]]);
        } else if (i == len - 1) {
            Array.prototype.push.apply(bezierP, [points[i - 1], points[i]]);
        } else {
            Array.prototype.push.apply(bezierP, [points[i - 1], points[i], points[i + 1]]);
        }
        var bezierPts;
        if (type == 'LTypeCurve') {
            bezierPts = LineString_LineString.calculatePointsFBZN(bezierP);
        } else if (type == 'LTypeArc') {
            bezierPts = LineString_LineString.calculateCircle(bezierP);
        }
        return [bezierPts, j];
    }
}

SuperMap.Geometry.LineString = LineString_LineString;

 
// CONCATENATED MODULE: ./src/common/commontypes/geometry/GeoText.js









/**
 * @class SuperMap.Geometry.GeoText
 * @classdesc ææ¬æ ç­¾ç±»ã
 * @category BaseTypes Geometry
 * @extends {SuperMap.Geometry}
 * @param {float} x - x åæ ã
 * @param {float} y - y åæ ã
 * @param {string} text - æ ç­¾ä¸­çææ¬åå®¹ã
 */
class GeoText_GeoText extends Geometry_Geometry {

    constructor(x, y, text) {
        super(x, y, text);
        /**
         * @member {float} SuperMap.Geometry.GeoText.prototype.x
         * @description æ¨ªåæ ã
         */
        this.x = parseFloat(x);

        /**
         * @member {float} SuperMap.Geometry.GeoText.prototype.y
         * @description çºµåæ ã
         */
        this.y = parseFloat(y);

        /**
         * @member {string} SuperMap.Geometry.GeoText.prototype.text
         * @description æ ç­¾ä¸­çææ¬åå®¹ã
         */
        this.text = text.toString();

        /**
         * @member {Object} SuperMap.Geometry.GeoText.prototype.bsInfo
         * @description æ ç­¾èå´çåºç¡ä¿¡æ¯ã
         * @property {number} w - bounds çå®½ã
         * @property {number} h - bounds çé«åº¦ã
         */
        this.bsInfo = {
            "h": null,
            "w": null
        };
        this.element = document.createElement('span');
        this.CLASS_NAME = "SuperMap.Geometry.GeoText";
    }

    /**
     * @function SuperMap.Geometry.GeoText.prototype.destroy
     * @description éæ¯ææ¬æ ç­¾ç±»ã
     */
    destroy() {
        super.destroy();
        this.x = null;
        this.y = null;
        this.text = null;
    }

    /**
     * @function SuperMap.Geometry.GeoText.prototype.getCentroid
     * @description è·åæ ç­¾å¯¹è±¡çè´¨å¿ã
     * @returns {SuperMap.Geometry.Point} æ ç­¾å¯¹è±¡çè´¨å¿ã
     */
    getCentroid() {
        return new Point_Point(this.x, this.y);
    }

    /**
     * @function SuperMap.Geometry.GeoText.prototype.clone
     * @description åéæ ç­¾å¯¹è±¡ã
     * @returns {SuperMap.Geometry.GeoText} åéåçæ ç­¾å¯¹è±¡ã
     */
    clone(obj) {
        if (obj == null) {
            obj = new GeoText_GeoText(this.x, this.y, this.text);
        }
        Util_Util.applyDefaults(obj, this);
        return obj;
    }

    /**
     * @function SuperMap.Geometry.GeoText.prototype.calculateBounds
     * @description è®¡ç®æ ç­¾å¯¹è±¡çèå´ã
     */
    calculateBounds() {
        this.bounds = new Bounds_Bounds(this.x, this.y,
            this.x, this.y);
    }

    /**
     * @function SuperMap.Geometry.GeoText.prototype.getLabelPxBoundsByLabel
     * @description æ ¹æ®ç»å¶å¥½çæ ç­¾è·åæå­æ ç­¾çåç´ èå´ï¼åæ°çåä½æ¯åç´ ï¼æ­¤æ¹æ³ç¸å¯¹äº getLabelPxBoundsByText æçè¾ä½ï¼ä½æ¯ææææ ¼å¼çææ¬ã
     * @param {Object} locationPixel - æ ç­¾çä½ç½®ç¹ï¼è¯¥å¯¹è±¡å«æå±æ§ xï¼æ¨ªåæ ï¼ï¼å±æ§ yï¼çºµåæ ï¼ã
     * @param {string} labelWidth - æ ç­¾çå®½åº¦ï¼å¦ï¼â90pxâã
     * @param {string} labelHeight - æ ç­¾çé«åº¦ã
     * @param {Object} style - æ ç­¾ç styleã
     * @returns {SuperMap.Bounds} æ ç­¾çåç´ èå´ã
     */
    getLabelPxBoundsByLabel(locationPixel, labelWidth, labelHeight, style) {
        var labelPxBounds, left, bottom, top, right;
        var locationPx = Util_Util.cloneObject(locationPixel);

        //è®¡ç®ææ¬è¡æ°
        var theText = style.label || this.text;
        var textRows = theText.split('\n');
        var laberRows = textRows.length;

        //å¤çæå­å¯¹é½
        labelWidth = parseFloat(labelWidth);
        labelHeight = parseFloat(labelHeight);
        if (laberRows > 1) {
            labelHeight = parseFloat(labelHeight) * laberRows;
        }
        if (style.labelAlign && style.labelAlign !== "cm") {
            switch (style.labelAlign) {
                case "lt":
                    locationPx.x += labelWidth / 2;
                    locationPx.y += labelHeight / 2;
                    break;
                case "lm":
                    locationPx.x += labelWidth / 2;
                    break;
                case "lb":
                    locationPx.x += labelWidth / 2;
                    locationPx.y -= labelHeight / 2;
                    break;
                case "ct":
                    locationPx.y += labelHeight / 2;
                    break;
                case "cb":
                    locationPx.y -= labelHeight / 2;
                    break;
                case "rt":
                    locationPx.x -= labelWidth / 2;
                    locationPx.y += labelHeight / 2;
                    break;
                case "rm":
                    locationPx.x -= labelWidth / 2;
                    break;
                case "rb":
                    locationPx.x -= labelWidth / 2;
                    locationPx.y -= labelHeight / 2;
                    break;
                default:
                    break;
            }
        }

        this.bsInfo.h = labelHeight;
        this.bsInfo.w = labelWidth;

        //boundsçåè¾¹
        left = locationPx.x - parseFloat(labelWidth) / 2;
        bottom = locationPx.y + parseFloat(labelHeight) / 2;
        right = locationPx.x + parseFloat(labelWidth) / 2;
        top = locationPx.y - parseFloat(labelHeight) / 2;

        labelPxBounds = new Bounds_Bounds(left, bottom, right, top);

        return labelPxBounds;
    }

    /**
     * @function SuperMap.Geometry.GeoText.prototype.getLabelPxBoundsByText
     * @description æ ¹æ®ææ¬åå®¹è·åæå­æ ç­¾çåç´ èå´ã
     * @param {Object} locationPixel - æ ç­¾çä½ç½®ç¹ï¼è¯¥å¯¹è±¡å«æå±æ§ xï¼æ¨ªåæ ï¼ï¼å±æ§ yï¼çºµåæ ï¼ã
     * @param {Object} style - æ ç­¾çæ ·å¼ã
     * @returns {SuperMap.Bounds} æ ç­¾çåç´ èå´ã
     */
    getLabelPxBoundsByText(locationPixel, style) {
        var labelPxBounds, left, bottom, top, right;
        var labelSize = this.getLabelPxSize(style);
        var locationPx = Util_Util.cloneObject(locationPixel);

        //å¤çæå­å¯¹é½
        if (style.labelAlign && style.labelAlign !== "cm") {
            switch (style.labelAlign) {
                case "lt":
                    locationPx.x += labelSize.w / 2;
                    locationPx.y += labelSize.h / 2;
                    break;
                case "lm":
                    locationPx.x += labelSize.w / 2;
                    break;
                case "lb":
                    locationPx.x += labelSize.w / 2;
                    locationPx.y -= labelSize.h / 2;
                    break;
                case "ct":
                    locationPx.y += labelSize.h / 2;
                    break;
                case "cb":
                    locationPx.y -= labelSize.h / 2;
                    break;
                case "rt":
                    locationPx.x -= labelSize.w / 2;
                    locationPx.y += labelSize.h / 2;
                    break;
                case "rm":
                    locationPx.x -= labelSize.w / 2;
                    break;
                case "rb":
                    locationPx.x -= labelSize.w / 2;
                    locationPx.y -= labelSize.h / 2;
                    break;
                default:
                    break;
            }
        }

        this.bsInfo.h = labelSize.h;
        this.bsInfo.w = labelSize.w;


        left = locationPx.x - labelSize.w / 2;
        bottom = locationPx.y + labelSize.h / 2;
        //å¤çæä½å­
        if (style.fontStyle && style.fontStyle === "italic") {
            right = locationPx.x + labelSize.w / 2 + parseInt(parseFloat(style.fontSize) / 2);
        } else {
            right = locationPx.x + labelSize.w / 2;
        }
        top = locationPx.y - labelSize.h / 2;

        labelPxBounds = new Bounds_Bounds(left, bottom, right, top);

        return labelPxBounds;
    }

    /**
     * @function SuperMap.Geometry.GeoText.prototype.getLabelPxSize
     * @description è·å label çåç´ å¤§å°ã
     * @param {Object} style - æ ç­¾æ ·å¼ã
     * @returns {Object} æ ç­¾å¤§å°å¯¹è±¡ï¼å±æ§ w è¡¨ç¤ºæ ç­¾çå®½åº¦ï¼å±æ§ h è¡¨ç¤ºæ ç­¾çé«åº¦ã
     */
    getLabelPxSize(style) {
        var text,//ææ¬åå®¹
            fontSize,//å­ä½å¤§å°
            spacing = 1,//ä¸¤ä¸ªå­ç¬¦é´çé´è·ï¼åä½ï¼pxï¼
            lineSpacing = 0.2,
            bgstrokeWidth = parseFloat(style.strokeWidth);//æ ç­¾èæ¯æ¡è¾¹æ¡çå®½åº¦

        text = style.label || this.text;
        if (style.fontSize) {
            fontSize = parseFloat(style.fontSize);
        } else {
            fontSize = parseFloat("12px");
        }

        //æ ç­¾å®½é«
        var labelW, labelH;

        var textRows = text.split('\n');
        var numRows = textRows.length;

        if (numRows > 1) {
            labelH = fontSize * numRows + numRows + bgstrokeWidth + lineSpacing * fontSize;
        } else {
            labelH = fontSize + bgstrokeWidth + lineSpacing * fontSize + 1;
        }

        //åæå¤§å®½åº¦
        labelW = 0;
        if (this.labelWTmp && labelW < this.labelWTmp) {
            labelW = this.labelWTmp;
        }
        for (var i = 0; i < numRows; i++) {
            var textCharC = this.getTextCount(textRows[i]);
            var labelWTmp = this.labelWTmp = Util_Util.getTextBounds(style, textRows[i], this.element).textWidth + textCharC.textC * spacing + bgstrokeWidth;
            if (labelW < labelWTmp) {
                labelW = labelWTmp;
            }
        }

        var labelSize = new Object(); //æ ç­¾å¤§å°
        labelSize.h = labelH;
        labelSize.w = labelW;

        return labelSize;
    }

    /**
     * @function SuperMap.Geometry.GeoText.prototype.getTextCount
     * @description è·å text ä¸­çå­ç¬¦ä¸ªæ°ã
     * @param {string} text - å­ç¬¦ä¸²ã
     * @returns {Object} å­ç¬¦ä¸ªæ°ç»è®¡ç»æï¼å±æ§ cnC è¡¨ç¤ºä¸­æå­ç¬¦ä¸ªæ°ï¼å±æ§ enC è¡¨ç¤ºè±æå­ç¬¦ä¸ªæ°ï¼å±æ§ textC è¡¨ç¤ºå­ç¬¦æ»ä¸ªæ°ã
     */
    getTextCount(text) {
        var textCharCount = {};

        var cnCount = 0;
        var enCount = 0;

        for (var i = 0; i < text.length; i++) {
            if (text.charCodeAt(i) > 255) { //éåå¤æ­å­ç¬¦ä¸²ä¸­æ¯ä¸ªå­ç¬¦çUnicodeç ,å¤§äº255åä¸ºä¸­æ
                cnCount++;
            } else {
                enCount++;
            }
        }
        //ä¸­åå­ç¬¦ä¸ªæ°
        textCharCount.cnC = cnCount;
        //è±æå­ç¬¦ä¸ªæ°
        textCharCount.enC = enCount;
        //å­ç¬¦æ»ä¸ªæ°
        textCharCount.textC = text.length;

        return textCharCount;
    }


}

SuperMap.Geometry.GeoText = GeoText_GeoText;
// CONCATENATED MODULE: ./src/common/commontypes/geometry/LinearRing.js



/**
 * @class  SuperMap.Geometry.LinearRing
 * @classdesc å ä½å¯¹è±¡çº¿ç¯ç±»ï¼æ¯ä¸ä¸ªç¹æ®çå°é­ççº¿ä¸²ï¼å¨æ¯æ¬¡ addPoint/removePoint ä¹åä¼éè¿æ·»å ä¸ä¸ªç¹ï¼æ­¤ç¹æ¯å¤å¶çç¬¬ä¸ä¸ªç¹å¾å°çï¼
 * ä½ä¸ºæåçä¸ä¸ªç¹æ¥èªå¨å³é­çº¿ç¯ã
 * @category BaseTypes Geometry
 * @extends {SuperMap.Geometry.LineString}
 * @param {Array.<SuperMap.Geometry.Point>} points - ç»æçº¿æ§ç¯çç¹ã
 * @example
 * var points = [new SuperMap.Geometry.Point(4933.319287022352, -3337.3849141502124),
 *      new SuperMap.Geometry.Point(4960.9674060199022, -3349.3316322355736),
 *      new SuperMap.Geometry.Point(5006.0235999418364, -3358.8890067038628),
 *      new SuperMap.Geometry.Point(5075.3145648369318, -3378.0037556404409),
 *      new SuperMap.Geometry.Point(5305.19551436013, -3376.9669111768926)],
 * var linearRing = new SuperMap.Geometry.LinearRing(points);
 */
class LinearRing_LinearRing extends LineString_LineString {


    constructor(points) {
        super(points);
        /**
         * @member {Array.<string>} [SuperMap.Geometry.LinearRing.prototype.componentTypes=["SuperMap.Geometry.Point"]]
         * @description components å­å¨ççå ä½å¯¹è±¡ææ¯æçå ä½ç±»åæ°ç»,ä¸ºç©ºè¡¨ç¤ºç±»åä¸åéå¶ã
         * @readonly
         */
        this.componentTypes = ["SuperMap.Geometry.Point"];
        this.CLASS_NAME = "SuperMap.Geometry.LinearRing";
    }

    /**
     * @function SuperMap.Geometry.LinearRing.prototype.addComponent
     * @description æ·»å ä¸ä¸ªç¹å°å ä½å¾å½¢æ°ç»ä¸­ï¼å¦æè¿ä¸ªç¹å°è¦è¢«æ·»å å°ç»ä»¶æ°ç»çæ«ç«¯ï¼å¹¶ä¸ä¸æ°ç»ä¸­å·²ç»å­å¨çæåä¸ä¸ªç¹ç¸åï¼
     * éå¤çç¹æ¯ä¸è½è¢«æ·»å çãè¿å°å½±åæªå³é­ç¯çå³é­ã
     * è¿ä¸ªæ¹æ³å¯ä»¥éè¿å°éç©ºç´¢å¼ï¼ç»ä»¶æ°ç»çä¸æ ï¼ä½ä¸ºç¬¬äºä¸ªåæ°éåã
     * @param {SuperMap.Geometry.Point} point - ç¹å¯¹è±¡ã
     * @param {integer} [index] - æå¥ç»ä»¶æ°ç»çä¸æ ã
     * @returns {boolean} ç¹å¯¹è±¡æ¯å¦æ·»å æåã
     */
    addComponent(point, index) {
        var added = false;

        //remove last point
        var lastPoint = this.components.pop();

        // given an index, add the point
        // without an index only add non-duplicate points
        if (index != null || !point.equals(lastPoint)) {
            added = super.addComponent.apply(this, arguments);
        }

        //append copy of first point
        var firstPoint = this.components[0];
        super.addComponent.apply(this, [firstPoint]);

        return added;
    }

    /**
     * @function SuperMap.Geometry.LinearRing.prototype.removeComponent
     * @description ä»å ä½ç»ä»¶ä¸­å é¤ä¸ä¸ªç¹ã
     * @param {SuperMap.Geometry.Point} point - ç¹å¯¹è±¡ã
     * @returns {boolean} ç¹å¯¹è±¡æ¯å¦å é¤ã
     */
    removeComponent(point) { // eslint-disable-line no-unused-vars
        var removed = this.components && (this.components.length > 3);
        if (removed) {
            //remove last point
            this.components.pop();

            //remove our point
            super.removeComponent.apply(this, arguments);
            //append copy of first point
            var firstPoint = this.components[0];
            super.addComponent.apply(this, [firstPoint]);
        }
        return removed;
    }

    /**
     * @function SuperMap.Geometry.LinearRing.prototype.getArea
     * @description è·å¾å½åå ä½å¯¹è±¡åºåå¤§å°ï¼å¦ææ¯æ²¿é¡ºæ¶éæ¹åçç¯åæ¯æ­£å¼ï¼å¦åä¸ºè´å¼ã
     * @returns {float} ç¯çé¢ç§¯ã
     */
    getArea() {
        var area = 0.0;
        if (this.components && (this.components.length > 2)) {
            var sum = 0.0;
            for (var i = 0, len = this.components.length; i < len - 1; i++) {
                var b = this.components[i];
                var c = this.components[i + 1];
                sum += (b.x + c.x) * (c.y - b.y);
            }
            area = -sum / 2.0;
        }
        return area;
    }

    /**
     * @function SuperMap.Geometry.LinearRing.prototype.getVertices
     * @description è¿åå ä½å¾å½¢çææç¹çåè¡¨ã
     * @param {boolean} [nodes] - å¯¹äºçº¿æ¥è¯´ï¼ä»ä»è¿åä½ä¸ºç«¯ç¹çé¡¶ç¹ï¼å¦æè®¾ä¸º false ï¼åè¿åéç«¯ç¹çé¡¶ç¹ï¼å¦ææ²¡æè®¾ç½®æ­¤åæ°ï¼åè¿åææé¡¶ç¹ã
     * @returns {Array} å ä½å¯¹è±¡ææç¹çåè¡¨ã
     */
    getVertices(nodes) {
        return (nodes === true) ? [] : this.components.slice(0, this.components.length - 1);
    }


}

SuperMap.Geometry.LinearRing = LinearRing_LinearRing;
// CONCATENATED MODULE: ./src/common/commontypes/geometry/MultiLineString.js





/**
 * @class SuperMap.Geometry.MultiLineString
 * @classdesc å ä½å¯¹è±¡å¤çº¿ç±»ã
 * @category BaseTypes Geometry
 * @extends {SuperMap.Geometry.Collection}
 * @param {Array.<SuperMap.Geometry.LineString>} components - LineString æ°ç»ã
 * @example
 * var multi = new SuperMap.Geometry.MultiLineString([
 *      new SuperMap.Geometry.LineString([
 *          new SuperMap.Geometry.Point(1, 0),
 *          new SuperMap.Geometry.Point(0, 1)
 *      ])
 *  ]);
 */
class MultiLineString_MultiLineString extends Collection_Collection {


    constructor(components) {
        super(components);
        /**
         * @member {Array.<string>} [SuperMap.Geometry.MultiLineString.prototype.componentTypes=["SuperMap.Geometry.LineString"]]
         * @description components å­å¨ççå ä½å¯¹è±¡ææ¯æçå ä½ç±»åæ°ç»ã
         * @readonly
         */
        this.componentTypes = ["SuperMap.Geometry.LineString"];
        this.CLASS_NAME = "SuperMap.Geometry.MultiLineString";
    }


}

SuperMap.Geometry.MultiLineString = MultiLineString_MultiLineString;
// CONCATENATED MODULE: ./src/common/commontypes/geometry/MultiPolygon.js



/**
 * @class SuperMap.Geometry.MultiPolygon
 * @classdesc å ä½å¯¹è±¡å¤å¤è¾¹å½¢ç±»ã
 * @category BaseTypes Geometry
 * @extends {SuperMap.Geometry.Collection}
 * @param  {Array.<SuperMap.Geometry.Polygon>} components - å½¢æ MultiPolygon çå¤è¾¹å½¢æ°ç»ã
 * @example
 * var points1 = [new SuperMap.Geometry.Point(10,10),new SuperMap.Geometry.Point(0,0)];
 * var points2 = [new SuperMap.Geometry.Point(10,10),new SuperMap.Geometry.Point(0,0),new SuperMap.Geometry.Point(3,3),new SuperMap.Geometry.Point(10,10)];
 *
 * var linearRing1 = new SuperMap.Geometry.LinearRing(points1);
 * var linearRing2 = new SuperMap.Geometry.LinearRing(points2);
 *
 * var polygon1 = new SuperMap.Geometry.Polygon([linearRing1]);
 * var polygon2 = new SuperMap.Geometry.Polygon([linearRing2]);
 *
 * var multiPolygon1 = new SuperMap.Geometry.MultiPolygon([polygon1,polygon2]);
 */
class MultiPolygon_MultiPolygon extends Collection_Collection {


    constructor(components) {
        super(components);
        /**
         * @member {Array.<string>} [SuperMap.Geometry.MultiPolygon.prototype.componentTypes=["SuperMap.Geometry.Polygon"]]
         * @description components å­å¨ççå ä½å¯¹è±¡ææ¯æçå ä½ç±»åæ°ç»ã
         * @readonly
         */
        this.componentTypes = ["SuperMap.Geometry.Polygon"];
        this.CLASS_NAME = "SuperMap.Geometry.MultiPolygon";
    }


}

SuperMap.Geometry.MultiPolygon = MultiPolygon_MultiPolygon;
// CONCATENATED MODULE: ./src/common/commontypes/geometry/Polygon.js






/**
 * @class SuperMap.Geometry.Polygon
 * @classdesc  å¤è¾¹å½¢å ä½å¯¹è±¡ç±»ã
 * @category BaseTypes Geometry
 * @extends {SuperMap.Geometry.Collection}
 * @param {Array.<SuperMap.Geometry.LinearRing>} components - ç¨æ¥çæå¤è¾¹å½¢ççº¿ç¯æ°ç»ã
 * @example
 * var points =[new SuperMap.Geometry.Point(0,4010338),
 *      new SuperMap.Geometry.Point(1063524,4010338),
 *      new SuperMap.Geometry.Point(1063524,3150322),
 *      new SuperMap.Geometry.Point(0,3150322)
 *  ],
 *  var linearRings = new SuperMap.Geometry.LinearRing(points),
 *  var  region = new SuperMap.Geometry.Polygon([linearRings]);
 */
class Polygon_Polygon extends Collection_Collection {


    constructor(components) {
        super(components);
        /**
         * @member {Array.<string>} [SuperMap.Geometry.Polygon.prototype.componentTypes=["SuperMap.Geometry.LinearRing"]]
         * @description components å­å¨ççå ä½å¯¹è±¡ææ¯æçå ä½ç±»åæ°ç»ã
         * @readonly
         */
        this.componentTypes = ["SuperMap.Geometry.LinearRing"];
        this.CLASS_NAME = "SuperMap.Geometry.Polygon";
    }

    /**
     * @function SuperMap.Geometry.Polygon.prototype.getArea
     * @description è·å¾åºåé¢ç§¯ï¼ä»åºåçå¤é¨å£å¾åå»è®¡æ­¤åºååé¨å£å¾ç®æå¾çé¢ç§¯ã
     * @returns {float} å ä½å¯¹è±¡çé¢ç§¯ã
     */
    getArea() {
        var area = 0.0;
        if (this.components && (this.components.length > 0)) {
            area += Math.abs(this.components[0].getArea());
            for (var i = 1, len = this.components.length; i < len; i++) {
                area -= Math.abs(this.components[i].getArea());
            }
        }
        return area;
    }


}

SuperMap.Geometry.Polygon = Polygon_Polygon;
// CONCATENATED MODULE: ./src/common/commontypes/geometry/Rectangle.js




/**
 * @class  SuperMap.Geometry.Rectangle
 * @classdesc ç©å½¢å ä½å¯¹è±¡ç±»ã
 * @category BaseTypes Geometry
 * @param {float} x - ç©å½¢å·¦ä¸è§ç¹çæ¨ªåæ ã
 * @param {float} y - ç©å½¢å·¦ä¸è§ç¹ççºµåæ ã
 * @param {float} width - ç©å½¢çå®½åº¦ã
 * @param {float} height -  ç©å½¢çé«åº¦ã
 * @extends {SuperMap.Geometry}
 * @example
 *  //x ä¸ºç©å½¢å·¦ä¸è§ç¹çæ¨ªåæ ï¼y ä¸ºç©å½¢å·¦ä¸è§ç¹ççºµåæ ï¼w ä¸ºç©å½¢çå®½åº¦ï¼h ä¸ºç©å½¢çé«åº¦
 *  var x = 1;
 *  var y = 2;
 *  var w = 10;
 *  var h = 20;
 *  var recttangle = new SuperMap.Geometry.Rectangle(x, y, w, h);
 */

class Rectangle_Rectangle extends Geometry_Geometry {


    constructor(x, y, width, height) {
        super(x, y, width, height);
        /**
         * @member {float} SuperMap.Geometry.Rectangle.prototype.x
         * @description ç©å½¢å·¦ä¸è§ç¹çæ¨ªåæ ã
         */
        this.x = x;

        /**
         * @member {float} SuperMap.Geometry.Rectangle.prototype.y
         * @description ç©å½¢å·¦ä¸è§ç¹ççºµåæ ã
         */
        this.y = y;

        /**
         * @member {float} SuperMap.Geometry.Rectangle.prototype.width
         * @description ç©å½¢çå®½åº¦ã
         */
        this.width = width;

        /**
         * @member {float} SuperMap.Geometry.Rectangle.prototype.height
         * @description ç©å½¢çé«åº¦ã
         */
        this.height = height;

        this.CLASS_NAME = "SuperMap.Geometry.Rectangle";
    }

    /**
     * @function SuperMap.Geometry.Rectangle.prototype.calculateBounds
     * @description è®¡ç®åºæ­¤ç©å½¢å¯¹è±¡ç boundsã
     */
    calculateBounds() {
        this.bounds = new Bounds_Bounds(this.x, this.y,
            this.x + this.width,
            this.y + this.height);
    }


    /**
     * @function SuperMap.Geometry.Rectangle.prototype.getArea
     * @description è·åç©å½¢å¯¹è±¡çé¢ç§¯ã
     * @returns {float} ç©å½¢å¯¹è±¡é¢ç§¯ã
     */
    getArea() {
        var area = this.width * this.height;
        return area;
    }


}

SuperMap.Geometry.Rectangle = Rectangle_Rectangle;
// CONCATENATED MODULE: ./src/common/commontypes/geometry/index.js























// CONCATENATED MODULE: ./src/common/commontypes/Credential.js


/**
 * @class SuperMap.Credential
 * @category Security
 * @classdesc SuperMap çå®å¨è¯ä¹¦ç±»ï¼å¶ä¸­åæ¬ token ç­å®å¨éªè¯ä¿¡æ¯ã</br>
 * éè¦ä½¿ç¨ç¨æ·ååå¯ç å¨ï¼"http://localhost:8090/iserver/services/security/tokens" ä¸ç³è¯· valueã</br>
 * è·å¾å½¢å¦ï¼"2OMwGmcNlrP2ixqv1Mk4BuQMybOGfLOrljruX6VcYMDQKc58Sl9nMHsqQaqeBx44jRvKSjkmpZKK1L596y7skQ.." ç valueã</br>
 * ç®åæ¯æçåè½åæ¬ï¼å°å¾æå¡ãä¸é¢å¾ãéç®ãæ¥è¯¢ãå¬äº¤æ¢ä¹ãç©ºé´åæãç½ç»åæï¼ä¸æ¯æè½®è¯¢åè½ã</br>
 * @param {string} value - è®¿é®åå®å¨éå¶çæå¡æ¶ç¨äºéè¿å®å¨è®¤è¯çéªè¯ä¿¡æ¯ã
 * @param {string} [name='token'] - éªè¯ä¿¡æ¯åç¼ï¼name=value é¨åç name é¨åã
 * @example
 * var pixcel = new SuperMap.Credential("valueString","token");
 * pixcel.destroy();
 */
class Credential {


    constructor(value, name) {

        /**
         * @member {string} SuperMap.Bounds.prototype.value
         * @description è®¿é®åå®å¨éå¶çæå¡æ¶ç¨äºéè¿å®å¨è®¤è¯çéªè¯ä¿¡æ¯ã
         */
        this.value = value ? value : "";

        /**
         * @member {string} [SuperMap.Bounds.prototype.name='token']
         * @description éªè¯ä¿¡æ¯åç¼ï¼name=value é¨åç name é¨åã
         */
        this.name = name ? name : "token";
        this.CLASS_NAME = "SuperMap.Credential";
    }

    /**
     * @function SuperMap.Credential.prototype.getUrlParameters
     * @example
     * var credential = new SuperMap.Credential("valueString","token");
     * //è¿é str = "token=valueString";
     * var str = credential.getUrlParameters();
     * @returns {string} è¿åå®å¨ä¿¡æ¯ç»æç url çæ®µã
     */
    getUrlParameters() {
        //å½éè¦å¶ä»å®å¨ä¿¡æ¯çæ¶åï¼åéè¦return this.name + "=" + this.value + "&" + "...";çå½¢å¼æ·»å ã
        return this.name + "=" + this.value;
    }


    /**
     * @function SuperMap.Bounds.prototype.getValue
     * @description è·å valueã
     * @example
     * var credential = new SuperMap.Credential("2OMwGmcNlrP2ixqv1Mk4BuQMybOGfLOrljruX6VcYMDQKc58Sl9nMHsqQaqeBx44jRvKSjkmpZKK1L596y7skQ..","token");
     * //è¿é str = "2OMwGmcNlrP2ixqv1Mk4BuQMybOGfLOrljruX6VcYMDQKc58Sl9nMHsqQaqeBx44jRvKSjkmpZKK1L596y7skQ..";
     * var str = credential.getValue();
     * @returns {string} è¿å value å­ç¬¦ä¸²ï¼å¨ iServer æå¡ä¸è¯¥ value å¼å³ä¸º token å¼ã
     */
    getValue() {
        return this.value;
    }

    /**
     *
     * @function SuperMap.Credential.prototype.destroy
     * @description éæ¯æ­¤å¯¹è±¡ãéæ¯åæ­¤å¯¹è±¡çææå±æ§ä¸º nullï¼èä¸æ¯åå§å¼ã
     * @example
     * var credential = new SuperMap.Credential("valueString","token");
     * credential.destroy();
     */
    destroy() {
        this.value = null;
        this.name = null;
    }

}

/**
 * @member {SuperMap.Credential} SuperMap.Credential.CREDENTIAL
 * @description è¿ä¸ªå¯¹è±¡ä¿å­ä¸ä¸ªå®å¨ç±»çå®ä¾ï¼å¨æå¡ç«¯éè¦å®å¨éªè¯çæ¶åå¿é¡»è¿è¡è®¾ç½®ã
 * @constant
 * @example
 * ä»£ç å®ä¾:
 *  // å½iServerå¯ç¨æå¡å®å¨çæ¶åï¼ä¸è¾¹çä»£ç æ¯å¿é¡»çãå®å¨è¯ä¹¦ç±»è½å¤æ¥æ¶ä¸ä¸ªvalueåä¸ä¸ªnameåæ°ã
 *  var value = "(ä»¥iServerä¸ºä¾ï¼è¿éæ¯ç³è¯·çtokenå¼)";
 *  var name = "token";
 *  // é»è®¤nameåæ°ä¸ºtokenï¼æä»¥å½ä½¿ç¨iServeræå¡çæ¶åå¯ä»¥ä¸è¿è¡è®¾ç½®ã
 *  SuperMap.Credential.CREDENTIAL = new SuperMap.Credential(value, name);
 *
 */

Credential.CREDENTIAL = null;
SuperMap.Credential = Credential;

// CONCATENATED MODULE: ./src/common/commontypes/Date.js


/**
 * @name Date
 * @memberOf SuperMap
 * @namespace
 * @category BaseTypes Util
 * @description åå« parseãtoISOString æ¹æ³çå®ç°ï¼ä¸¤ä¸ªæ¹æ³ç¨æ¥è§£æ RFC 3339 æ¥æï¼éµå¾ª ECMAScript 5 è§èã
 */
var DateExt = SuperMap.Date = {

    /**
     * @description çæä»£è¡¨ä¸ä¸ªå·ä½çæ¥æå­ç¬¦ä¸²ï¼è¯¥æ¥æéµå¾ª ISO 8601 æ åï¼è¯¦ææ¥ç{@link http://tools.ietf.org/html/rfc3339}ï¼ã
     * @example
     *  var dateString = SuperMap.Date.toISOString(new Date());
     * @param {Date} date - æ¥æå¯¹è±¡ã
     * @returns {string} ä¸ä¸ªä»£è¡¨æ¥æçå­ç¬¦ä¸²ãï¼ä¾å¦ "2010-08-07T16:58:23.123Z"ï¼ã
     */
    toISOString: (function () {
        //æ åçDateä¼å­å¨toISOStringæ¹æ³ï¼å¯ä»¥ç´æ¥è°ç¨
        if ("toISOString" in Date.prototype) {
            return function (date) {
                return date.toISOString();
            };
        } else {// é¨åæµè§å¨æ²¡æï¼å°±å¾èªå·±ç»åï¼ç»ååçå­ç¬¦ä¸²è§åä¸å
            function pad(num, len) {
                var str = num + "";
                while (str.length < len) {
                    str = "0" + str;
                }
                return str;
            }

            return function (date) {
                var str;
                if (isNaN(date.getTime())) {
                    // ECMA-262 says throw RangeError, Firefox returns
                    // "Invalid Date"
                    str = "Invalid Date";
                } else {
                    str =
                        date.getUTCFullYear() + "-" +
                        pad(date.getUTCMonth() + 1, 2) + "-" +
                        pad(date.getUTCDate(), 2) + "T" +
                        pad(date.getUTCHours(), 2) + ":" +
                        pad(date.getUTCMinutes(), 2) + ":" +
                        pad(date.getUTCSeconds(), 2) + "." +
                        pad(date.getUTCMilliseconds(), 3) + "Z";
                }
                return str;
            };
        }

    })(),

    /**
     * @description ä»ä¸ä¸ªå­ç¬¦ä¸²çæä¸ä¸ªæ¥æå¯¹è±¡ã
     * @example
     *  var date = SuperMap.Date.parse("2010-08-07");
     * @param {string} str - ä»£è¡¨æ¥æçå­ç¬¦ä¸²ãï¼ä¾å¦ï¼ "2010", "2010-08", "2010-08-07", "2010-08-07T16:58:23.123Z","2010-08-07T11:58:23.123-06"ï¼ã
     * @returns {Date} æ¥æå¯¹è±¡ï¼å¦æå­ç¬¦ä¸²æ æ³è¢«è§£æï¼åè¿åä¸ä¸ªæ æçæ¥æã(ä¾å¦ isNaN(date.getTime()))ã
     */
    parse: function (str) {
        var date;
        var match = str.match(/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:(?:T(\d{1,2}):(\d{2}):(\d{2}(?:\.\d+)?)(Z|(?:[+-]\d{1,2}(?::(\d{2}))?)))|Z)?$/);
        if (match && (match[1] || match[7])) { // must have at least year or time
            var year = parseInt(match[1], 10) || 0;
            var month = (parseInt(match[2], 10) - 1) || 0;
            var day = parseInt(match[3], 10) || 1;
            date = new Date(Date.UTC(year, month, day));
            // optional time
            var type = match[7];
            if (type) {
                var hours = parseInt(match[4], 10);
                var minutes = parseInt(match[5], 10);
                var secFrac = parseFloat(match[6]);
                var seconds = secFrac | 0;
                var milliseconds = Math.round(1000 * (secFrac - seconds));
                date.setUTCHours(hours, minutes, seconds, milliseconds);
                // check offset
                if (type !== "Z") {
                    var hoursOffset = parseInt(type, 10);
                    var minutesOffset = parseInt(match[8], 10) || 0;
                    var offset = -1000 * (60 * (hoursOffset * 60) + minutesOffset * 60);
                    date = new Date(date.getTime() + offset);
                }
            }
        } else {
            date = new Date("invalid");
        }
        return date;
    }
};

// CONCATENATED MODULE: ./src/common/commontypes/Event.js



/**
 * @name Event
 * @memberOf SuperMap
 * @namespace
 * @description äºä»¶å¤çå½æ°.
 */
var Event = SuperMap.Event = {

    /**
     * @description  A hash table cache of the event observers. Keyed by element._eventCacheID
     * @type {boolean}
     * @default false
     */
    observers: false,

    /**
     * @description KEY_SPACE
     * @type {number}
     * @default 32
     */
    KEY_SPACE: 32,

    /**
     * @description KEY_BACKSPACE
     * @type {number}
     * @default 8
     */
    KEY_BACKSPACE: 8,

    /**
     * @description KEY_TAB
     * @type {number}
     * @default 9
     */
    KEY_TAB: 9,

    /**
     * @description KEY_RETURN
     * @type {number}
     * @default 13
     */
    KEY_RETURN: 13,

    /**
     * @description KEY_ESC
     * @type {number}
     * @default 27
     */
    KEY_ESC: 27,

    /**
     * @description KEY_LEFT
     * @type {number}
     * @default 37
     */
    KEY_LEFT: 37,

    /**
     * @description KEY_UP
     * @type {number}
     * @default 38
     */
    KEY_UP: 38,

    /**
     * @description KEY_RIGHT
     * @type {number}
     * @default 39
     */
    KEY_RIGHT: 39,

    /**
     * @description KEY_DOWN
     * @type {number}
     * @default 40
     */
    KEY_DOWN: 40,

    /**
     * @description KEY_DELETE
     * @type {number}
     * @default 46
     */
    KEY_DELETE: 46,


    /**
     * @description Cross browser event element detection.
     * @param {Event} event - The event
     * @returns {HTMLElement} The element that caused the event
     */
    element: function (event) {
        return event.target || event.srcElement;
    },

    /**
     * @description Determine whether event was caused by a single touch
     * @param {Event} event - The event
     * @returns {boolean}
     */
    isSingleTouch: function (event) {
        return event.touches && event.touches.length === 1;
    },

    /**
     * @description Determine whether event was caused by a multi touch
     * @param {Event} event - The event
     * @returns {boolean}
     */
    isMultiTouch: function (event) {
        return event.touches && event.touches.length > 1;
    },

    /**
     * @description Determine whether event was caused by a left click.
     * @param {Event} event - The event
     * @returns {boolean}
     */
    isLeftClick: function (event) {
        return (((event.which) && (event.which === 1)) ||
            ((event.button) && (event.button === 1)));
    },

    /**
     * @description Determine whether event was caused by a right mouse click.
     * @param {Event} event - The event
     * @returns {boolean}
     */
    isRightClick: function (event) {
        return (((event.which) && (event.which === 3)) ||
            ((event.button) && (event.button === 2)));
    },

    /**
     * @description Stops an event from propagating.
     * @param {Event} event - The event
     * @param {boolean} allowDefault - If true, we stop the event chain but still allow the default browser  behaviour (text selection, radio-button clicking, etc) Default false
     */
    stop: function (event, allowDefault) {

        if (!allowDefault) {
            if (event.preventDefault) {
                event.preventDefault();
            } else {
                event.returnValue = false;
            }
        }

        if (event.stopPropagation) {
            event.stopPropagation();
        } else {
            event.cancelBubble = true;
        }
    },

    /**
     * @param {Event} event - The eventã
     * @param {string} tagName - html æ ç­¾åã
     * @returns {HTMLElement} The first node with the given tagName, starting from the node the event was triggered on and traversing the DOM upwards
     */
    findElement: function (event, tagName) {
        var element = SuperMap.Event.element(event);
        while (element.parentNode && (!element.tagName ||
            (element.tagName.toUpperCase() != tagName.toUpperCase()))) {
            element = element.parentNode;
        }
        return element;
    },

    /**
     * @description çå¬äºä»¶ï¼æ³¨åäºä»¶å¤çæ¹æ³ã
     * @param {(HTMLElement|string)} elementParam - å¾çå¬ç DOM å¯¹è±¡æèå¶ ID æ è¯ã
     * @param {string} name - çå¬äºä»¶çç±»å«åç§°ã
     * @param {function} observer - æ³¨åçäºä»¶å¤çæ¹æ³ã
     * @param {boolean} [useCapture=false] - æ¯å¦æè·ã
     */
    observe: function (elementParam, name, observer, useCapture) {
        var element = Util_Util.getElement(elementParam);
        useCapture = useCapture || false;

        if (name === 'keypress' &&
            (navigator.appVersion.match(/Konqueror|Safari|KHTML/)
                || element.attachEvent)) {
            name = 'keydown';
        }

        //if observers cache has not yet been created, create it
        if (!this.observers) {
            this.observers = {};
        }

        //if not already assigned, make a new unique cache ID
        if (!element._eventCacheID) {
            var idPrefix = "eventCacheID_";
            if (element.id) {
                idPrefix = element.id + "_" + idPrefix;
            }
            element._eventCacheID = Util_Util.createUniqueID(idPrefix);
        }

        var cacheID = element._eventCacheID;

        //if there is not yet a hash entry for this element, add one
        if (!this.observers[cacheID]) {
            this.observers[cacheID] = [];
        }

        //add a new observer to this element's list
        this.observers[cacheID].push({
            'element': element,
            'name': name,
            'observer': observer,
            'useCapture': useCapture
        });

        //add the actual browser event listener
        if (element.addEventListener) {
            element.addEventListener(name, observer, useCapture);
        } else if (element.attachEvent) {
            element.attachEvent('on' + name, observer);
        }
    },

    /**
     * @description Given the id of an element to stop observing, cycle through the
     *   element's cached observers, calling stopObserving on each one,
     *   skipping those entries which can no longer be removed.
     *
     * @param {(HTMLElement|string)} elementParam - 
     */
    stopObservingElement: function (elementParam) {
        var element = Util_Util.getElement(elementParam);
        var cacheID = element._eventCacheID;

        this._removeElementObservers(SuperMap.Event.observers[cacheID]);
    },

    /**
     * @param {Array.<Object>} elementObservers - Array of (element, name,
     *                                         observer, usecapture) objects,
     *                                         taken directly from hashtable
     */
    _removeElementObservers: function (elementObservers) {
        if (elementObservers) {
            for (var i = elementObservers.length - 1; i >= 0; i--) {
                var entry = elementObservers[i];
                var args = new Array(entry.element, entry.name, entry.observer, entry.useCapture);
                SuperMap.Event.stopObserving.apply(this, args);
            }
        }
    },

    /**
     * @description ç§»é¤äºä»¶çå¬åæ³¨åçäºä»¶å¤çæ¹æ³ãæ³¨æï¼äºä»¶çç§»é¤åçå¬ç¸å¯¹åºï¼ç§»é¤æ¶çåå±æ§ä¿¡æ¯å¿é¡»çå¬æ¶
     * ä¿æä¸è´æè½ç¡®ä¿äºä»¶ç§»é¤æåã
     * @param {(HTMLElement|string)} elementParam - è¢«çå¬ç DOM åç´ æèå¶ IDã
     * @param {string} name - éè¦ç§»é¤çè¢«çå¬äºä»¶åç§°ã
     * @param {function} observer - éè¦ç§»é¤çäºä»¶å¤çæ¹æ³ã
     * @param {boolean} [useCapture=false] - æ¯å¦æè·ã
     * @returns {boolean} Whether or not the event observer was removed
     */
    stopObserving: function (elementParam, name, observer, useCapture) {
        useCapture = useCapture || false;

        var element = Util_Util.getElement(elementParam);
        var cacheID = element._eventCacheID;

        if (name === 'keypress') {
            if (navigator.appVersion.match(/Konqueror|Safari|KHTML/) ||
                element.detachEvent) {
                name = 'keydown';
            }
        }

        // find element's entry in this.observers cache and remove it
        var foundEntry = false;
        var elementObservers = SuperMap.Event.observers[cacheID];
        if (elementObservers) {

            // find the specific event type in the element's list
            var i = 0;
            while (!foundEntry && i < elementObservers.length) {
                var cacheEntry = elementObservers[i];

                if ((cacheEntry.name === name) &&
                    (cacheEntry.observer === observer) &&
                    (cacheEntry.useCapture === useCapture)) {

                    elementObservers.splice(i, 1);
                    if (elementObservers.length == 0) {
                        delete SuperMap.Event.observers[cacheID];
                    }
                    foundEntry = true;
                    break;
                }
                i++;
            }
        }

        //actually remove the event listener from browser
        if (foundEntry) {
            if (element.removeEventListener) {
                element.removeEventListener(name, observer, useCapture);
            } else if (element && element.detachEvent) {
                element.detachEvent('on' + name, observer);
            }
        }
        return foundEntry;
    },

    /**
     * @description Cycle through all the element entries in the events cache and call
     *   stopObservingElement on each.
     */
    unloadCache: function () {
        // check for SuperMap.Event before checking for observers, because
        // SuperMap.Event may be undefined in IE if no map instance was
        // created
        if (SuperMap.Event && SuperMap.Event.observers) {
            for (var cacheID in SuperMap.Event.observers) {
                var elementObservers = SuperMap.Event.observers[cacheID];
                SuperMap.Event._removeElementObservers.apply(this,
                    [elementObservers]);
            }
            SuperMap.Event.observers = false;
        }
    },

    CLASS_NAME: "SuperMap.Event"
};
SuperMap.Event = Event;
/* prevent memory leaks in IE */
SuperMap.Event.observe(window, 'unload', SuperMap.Event.unloadCache, false);


// CONCATENATED MODULE: ./src/common/commontypes/Events.js






/**
 * @class SuperMap.Events
 * @classdesc äºä»¶ç±»ã
 * @param {Object} object - å½åäºä»¶å¯¹è±¡è¢«æ·»å å°ç JS å¯¹è±¡ã
 * @param {HTMLElement} element - ååºæµè§å¨äºä»¶ç DOM åç´ ã
 * @param {Array.<string>} eventTypes - èªå®ä¹åºç¨äºä»¶çæ°ç»ã
 * @param {boolean} [fallThrough=false] - æ¯å¦åè®¸äºä»¶å¤çä¹ååä¸ä¼ éï¼åæ³¡ï¼ï¼ä¸º false çæ¶åé»æ­¢äºä»¶åæ³¡ã
 * @param {Object} options - äºä»¶å¯¹è±¡éé¡¹ã
 */
class Events_Events {


    constructor(object, element, eventTypes, fallThrough, options) {
        /**
         * @member {Array.<string>} SuperMap.Events.prototype.BROWSER_EVENTS
         * @description æ¯æçäºä»¶ã
         * @constant
         * @default [
         "mouseover", "mouseout","mousedown", "mouseup", "mousemove",
         "click", "dblclick", "rightclick", "dblrightclick","resize",
         "focus", "blur","touchstart", "touchmove", "touchend","keydown",
         "MSPointerDown", "MSPointerUp", "pointerdown", "pointerup",
         "MSGestureStart", "MSGestureChange", "MSGestureEnd","contextmenu"
         ]
         */
        this.BROWSER_EVENTS = [
            "mouseover", "mouseout",
            "mousedown", "mouseup", "mousemove",
            "click", "dblclick", "rightclick", "dblrightclick",
            "resize", "focus", "blur",
            "touchstart", "touchmove", "touchend",
            "keydown", "MSPointerDown", "MSPointerUp", "pointerdown", "pointerup",
            "MSGestureStart", "MSGestureChange", "MSGestureEnd",
            "contextmenu"
        ];

        /**
         * @member {Object} SuperMap.Events.prototype.listeners
         * @description Hashtable of Array(function): events listener functions
         */
        this.listeners = {};

        /**
         * @member {Object} SuperMap.Events.prototype.object
         * @description  åå¸åºç¨ç¨åºäºä»¶çå¯¹è±¡ã
         */
        this.object = object;

        /**
         * @member {HTMLElement} SuperMap.Events.prototype.element
         * @description æ¥åæµè§å¨äºä»¶ç DOM èç¹ã
         */
        this.element = null;

        /**
         * @member {Array.<string>} SuperMap.Events.prototype.eventTypes
         * @description æ¯æçäºä»¶ç±»ååè¡¨ã
         */
        this.eventTypes = [];

        /**
         * @member {function} SuperMap.Events.prototype.eventHandler
         * @description ç»å®å¨åç´ ä¸çäºä»¶å¤çå¨å¯¹è±¡ã
         */
        this.eventHandler = null;

        /**
         * @member {boolean} [SuperMap.Events.prototype.fallThrough=false]
         * @description æ¯å¦åè®¸äºä»¶å¤çä¹ååä¸ä¼ éï¼åæ³¡ï¼ï¼ä¸º false çæ¶åé»æ­¢äºä»¶åæ³¡ã
         */
        this.fallThrough = fallThrough;

        /**
         * @member {boolean} [SuperMap.Events.prototype.includeXY=false]
         * @description å¤æ­æ¯å¦è®© xy å±æ§èªå¨åå»ºå°æµè§å¨ä¸çé¼ æ äºä»¶ï¼ä¸è¬è®¾ç½®ä¸º falseï¼å¦æè®¾ç½®ä¸º trueï¼é¼ æ äºä»¶å°ä¼å¨äºä»¶ä¼ éè¿ç¨ä¸­èªå¨äº§ç xy å±æ§ã
         *              å¯æ ¹æ®äºä»¶å¯¹è±¡ç 'evt.object' å±æ§å¨ç¸å³çäºä»¶å¥æä¸è°ç¨ getMousePosition å½æ°ãè¿ä¸ªéé¡¹ä¹ æ¯é»è®¤ä¸º false çåå å¨äºï¼å½åå»ºä¸ä¸ª
         *              äºä»¶å¯¹è±¡ï¼å¶ä¸»è¦ç®çæ¯ç®¡çãå¨ä¸ä¸ª div çç¸å¯¹å®ä½çé¼ æ äºä»¶ï¼å°å¶è®¾ä¸º true ä¹æ¯ææä¹çãè¿ä¸ªéé¡¹ä¹å¯ä»¥ç¨æ¥æ§å¶æ¯å¦æµæ¶ç¼å­ãå¦æ
         *              è®¾ä¸º false ä¸æµæ¶ï¼å¦æè®¾ä¸º trueï¼ç¨ this.clearMouseCache() æ¸é¤ç¼å­åç§»ï¼è¾¹çåç´ åç§»ï¼åç´ å¨é¡µé¢çä½ç½®åç§»ï¼ã
         * @example
         *  function named(evt) {
         *        this.xy = this.object.events.getMousePosition(evt);
         *  }
         */
        this.includeXY = false;

        /**
         * @member {Object} SuperMap.Events.prototype.extensions
         * @description äºä»¶æ©å±ãKeys ä»£è¡¨äºä»¶ç±»åï¼values ä»£è¡¨äºä»¶å¯¹è±¡ã
         * @example
         * ä»¥æ©å± "foostart" å "fooend" äºä»¶ä¸ºä¾ãå±ç¤ºæ¿æ¢ css å±æ§ä¸º foo çåç´ ç click äºä»¶ã
         *
         *   SuperMap.Events.foostart = SuperMap.Class({
     *       initialize: function(target) {
     *           this.target = target;
     *           this.target.register("click", this, this.doStuff, {extension: true});
     *           // only required if extension provides more than one event type
     *           this.target.extensions["foostart"] = true;
     *           this.target.extensions["fooend"] = true;
     *       },
     *       destroy: function() {
     *           var target = this.target;
     *           target.unregister("click", this, this.doStuff);
     *           delete this.target;
     *           // only required if extension provides more than one event type
     *           delete target.extensions["foostart"];
     *           delete target.extensions["fooend"];
     *       },
     *       doStuff: function(evt) {
     *           var propagate = true;
     *           if (SuperMap.Event.element(evt).className === "foo") {
     *               propagate = false;
     *               var target = this.target;
     *               target.triggerEvent("foostart");
     *               window.setTimeout(function() {
     *                   target.triggerEvent("fooend");
     *               }, 1000);
     *           }
     *           return propagate;
     *       }
     *   });
         *   // only required if extension provides more than one event type
         *   SuperMap.Events.fooend = SuperMap.Events.foostart;
         */
        this.extensions = {};

        /**
         * @member {Object} SuperMap.Events.prototype.extensionCount
         */
        this.extensionCount = {};
        /**
         * @member {Object} SuperMap.Events.prototype.clearMouseListener
         */
        this.clearMouseListener = null;

        Util_Util.extend(this, options);

        if (eventTypes != null) {
            for (var i = 0, len = eventTypes.length; i < len; i++) {
                this.addEventType(eventTypes[i]);
            }
        }

        if (element != null) {
            this.attachToElement(element);
        }

        this.CLASS_NAME = "SuperMap.Events";
    }

    /**
     * @function SuperMap.Events.prototype.destroy
     * @description ç§»é¤å½åè¦ç´  element ä¸çææäºä»¶çå¬åå¤çã
     */
    destroy() {
        for (var e in this.extensions) {
            if (typeof this.extensions[e] !== "boolean") {
                this.extensions[e].destroy();
            }
        }
        this.extensions = null;
        if (this.element) {
            Event.stopObservingElement(this.element);
            if (this.element.hasScrollEvent) {
                Event.stopObserving(
                    window, "scroll", this.clearMouseListener
                );
            }
        }
        this.element = null;

        this.listeners = null;
        this.object = null;
        this.eventTypes = null;
        this.fallThrough = null;
        this.eventHandler = null;
    }

    /**
     * @function SuperMap.Events.prototype.addEventType
     * @description å¨æ­¤äºä»¶å¯¹è±¡ä¸­æ·»å æ°çäºä»¶ç±»åï¼å¦æè¿ä¸ªäºä»¶ç±»åå·²ç»æ·»å è¿äºï¼åä¸åä»»ä½äºæã
     * @param {string} eventName - äºä»¶åã
     */
    addEventType(eventName) {
        if (!this.listeners[eventName]) {
            this.eventTypes.push(eventName);
            this.listeners[eventName] = [];
        }
    }

    /**
     * @function SuperMap.Events.prototype.attachToElement
     * @description ç» DOM åç´ ç»å®æµè§å¨äºä»¶ã
     * @param {HTMLDOMElement} element - ç»å®æµè§å¨äºä»¶ç DOM åç´ ã
     */
    attachToElement(element) {
        if (this.element) {
            Event.stopObservingElement(this.element);
        } else {
            // keep a bound copy of handleBrowserEvent() so that we can
            // pass the same function to both Event.observe() and .stopObserving()
            this.eventHandler = FunctionExt.bindAsEventListener(
                this.handleBrowserEvent, this
            );

            // to be used with observe and stopObserving
            this.clearMouseListener = FunctionExt.bind(
                this.clearMouseCache, this
            );
        }
        this.element = element;
        for (var i = 0, len = this.BROWSER_EVENTS.length; i < len; i++) {
            var eventType = this.BROWSER_EVENTS[i];

            // every browser event has a corresponding application event
            // (whether it's listened for or not).
            this.addEventType(eventType);

            // use Prototype to register the event cross-browser
            Event.observe(element, eventType, this.eventHandler);
        }
        // disable dragstart in IE so that mousedown/move/up works normally
        Event.observe(element, "dragstart", Event.stop);
    }


    /**
     * @function SuperMap.Events.prototype.on
     * @description å¨ä¸ä¸ªç¸åçèå´åæ³¨åçå¬å¨çæ¹æ³ï¼æ­¤æ¹æ³è°ç¨ register å½æ°ã
     * @example
     * // æ³¨åä¸ä¸ª "loadstart" çå¬äºä»¶
     * events.on({"loadstart": loadStartListener});
     *
     * // åæ ·æ³¨åä¸ä¸ª "loadstart" çå¬äºä»¶
     * events.register("loadstart", undefined, loadStartListener);
     *
     * // åæ¶ä¸ºå¯¹è±¡æ³¨åå¤ä¸ªçå¬äºä»¶
     * events.on({
     *     "loadstart": loadStartListener,
     *     "loadend": loadEndListener,
     *     scope: object
     * });
     *
     * // åæ¶ä¸ºå¯¹è±¡æ³¨åå¤ä¸ªçå¬äºä»¶ï¼å¤æ¬¡è°ç¨ register æ¹æ³
     * events.register("loadstart", object, loadStartListener);
     * events.register("loadend", object, loadEndListener);
     *
     *
     * @param {Object} object - æ·»å çå¬çå¯¹è±¡ã
     */
    on(object) {
        for (var type in object) {
            if (type !== "scope" && object.hasOwnProperty(type)) {
                this.register(type, object.scope, object[type]);
            }
        }
    }


    /**
     * @function SuperMap.Events.prototype.register
     * @description å¨äºä»¶å¯¹è±¡ä¸æ³¨åä¸ä¸ªäºä»¶ãå½äºä»¶è¢«è§¦åæ¶ï¼'func' å½æ°è¢«è°ç¨ï¼åè®¾æä»¬è§¦åä¸ä¸ªäºä»¶ï¼
     *              æå® SuperMap.Bounds ä½ä¸º "obj"ï¼å½äºä»¶è¢«è§¦åæ¶ï¼åè°å½æ°çä¸ä¸æä½ä¸º Bounds å¯¹è±¡ã
     * @param {string} type - äºä»¶æ³¨åèçåå­ã
     * @param {Object} [obj=this.object] - å¯¹è±¡ç»å®çåè°ã
     * @param {function} [func] - åè°å½æ°ï¼å¦ææ²¡æç¹å®çåè°ï¼åè¿ä¸ªå½æ°ä¸åä»»ä½äºæã
     * @param {(boolean|Object)} [priority] - å½ä¸º true æ¶å°æ°ççå¬å å¨äºä»¶éåçåé¢ã
     */
    register(type, obj, func, priority) {
        if (type in Events_Events && !this.extensions[type]) {
            this.extensions[type] = new Events_Events[type](this);
        }
        if ((func != null) &&
            (Util_Util.indexOf(this.eventTypes, type) !== -1)) {

            if (obj == null) {
                obj = this.object;
            }
            var listeners = this.listeners[type];
            if (!listeners) {
                listeners = [];
                this.listeners[type] = listeners;
                this.extensionCount[type] = 0;
            }
            var listener = {obj: obj, func: func};
            if (priority) {
                listeners.splice(this.extensionCount[type], 0, listener);
                if (typeof priority === "object" && priority.extension) {
                    this.extensionCount[type]++;
                }
            } else {
                listeners.push(listener);
            }
        }
    }

    /**
     * @function SuperMap.Events.prototype.registerPriority
     * @description ç¸åçæ³¨åæ¹æ³ï¼ä½æ¯å¨åé¢å¢å æ°ççå¬èäºä»¶æ¥è¯¢èä»£æ¿å°æ¹æ³çç»æã
     * @param {string} type - äºä»¶æ³¨åèçåå­ã
     * @param {Object} [obj=this.object] - å¯¹è±¡ç»å®æ¹é¢çåè°ã
     * @param {function} [func] - åè°å½æ°ï¼å¦ææ²¡æç¹å®çåè°ï¼åè¿ä¸ªå½æ°ä¸åä»»ä½äºæã
     */
    registerPriority(type, obj, func) {
        this.register(type, obj, func, true);
    }


    /**
     * @function SuperMap.Events.prototype.un
     * @description å¨ä¸ä¸ªç¸åçèå´ååæ¶æ³¨åçå¬å¨çæ¹æ³ï¼æ­¤æ¹æ³è°ç¨ unregister å½æ°ã
     * @example
     * // ç§»é¤ "loadstart" äºä»¶çå¬
     * events.un({"loadstart": loadStartListener});
     *
     * // ä½¿ç¨ "unregister" æ¹æ³ç§»é¤ "loadstart" äºä»¶çå¬
     * events.unregister("loadstart", undefined, loadStartListener);
     *
     * // åæ¶å¯¹è±¡å¤ä¸ªäºä»¶çå¬
     * events.un({
     *     "loadstart": loadStartListener,
     *     "loadend": loadEndListener,
     *     scope: object
     * });
     *
     * // åæ¶å¯¹è±¡å¤ä¸ªäºä»¶çå¬ï¼å¤æ¬¡è°ç¨unregisteræ¹æ³ã
     * events.unregister("loadstart", object, loadStartListener);
     * events.unregister("loadend", object, loadEndListener);
     *
     * @param {Object} object - ç§»é¤çå¬çå¯¹è±¡ã
     */
    un(object) {
        for (var type in object) {
            if (type !== "scope" && object.hasOwnProperty(type)) {
                this.unregister(type, object.scope, object[type]);
            }
        }
    }

    /**
     * @function SuperMap.Events.prototype.unregister
     * @description åæ¶æ³¨åã
     * @param {string} type - äºä»¶ç±»åã
     * @param {Object} [obj=this.object] - å¯¹è±¡ç»å®æ¹é¢çåè°ã
     * @param {function} [func] - åè°å½æ°ï¼å¦ææ²¡æç¹å®çåè°ï¼åè¿ä¸ªå½æ°ä¸åä»»ä½äºæã
     */
    unregister(type, obj, func) {
        if (obj == null) {
            obj = this.object;
        }
        var listeners = this.listeners[type];
        if (listeners != null) {
            for (var i = 0, len = listeners.length; i < len; i++) {
                if (listeners[i].obj === obj && listeners[i].func === func) {
                    listeners.splice(i, 1);
                    break;
                }
            }
        }
    }


    /**
     * @function SuperMap.Events.prototype.remove
     * @description å é¤æä¸ªäºä»¶ç±»åçææçå¬ï¼å¦æè¯¥äºä»¶ç±»åæ²¡ææ³¨åï¼åä¸åä»»ä½æä½ã
     * @param {string} type - äºä»¶ç±»åã
     */
    remove(type) {
        if (this.listeners[type] != null) {
            this.listeners[type] = [];
        }
    }

    /**
     * @function SuperMap.Events.prototype.triggerEvent
     * @description è§¦åä¸ä¸ªç¹å®çæ³¨åäºä»¶ã
     * @param {string} type - è§¦åäºä»¶ç±»åã
     * @param {Event} evt - äºä»¶å¯¹è±¡ã
     * @returns {boolean} è¿åçå¬å¯¹è±¡ï¼å¦æè¿åæ¯ falseï¼ååæ­¢çå¬ã
     */
    triggerEvent(type, evt) {
        var listeners = this.listeners[type];

        // fast path
        if (!listeners || listeners.length == 0) {
            return undefined;
        }

        // prep evt object with object & div references
        if (evt == null) {
            evt = {};
        }
        evt.object = this.object;
        evt.element = this.element;
        if (!evt.type) {
            evt.type = type;
        }

        // execute all callbacks registered for specified type
        // get a clone of the listeners array to
        // allow for splicing during callbacks
        listeners = listeners.slice();
        var continueChain;
        for (var i = 0, len = listeners.length; i < len; i++) {
            var callback = listeners[i];
            // bind the context to callback.obj
            continueChain = callback.func.apply(callback.obj, [evt]);

            if ((continueChain != undefined) && (continueChain == false)) {
                // if callback returns false, execute no more callbacks.
                break;
            }
        }
        // don't fall through to other DOM elements
        if (!this.fallThrough) {
            Event.stop(evt, true);
        }
        return continueChain;
    }


    /**
     * @function SuperMap.Events.prototype.handleBrowserEvent
     * @description å¯¹ triggerEvent å½æ°çåè£ï¼ç»äºä»¶å¯¹è±¡è®¾ç½®äº xy å±æ§ï¼å³å½åé¼ æ ç¹ç xy åæ ï¼ã
     * @param {Event} evt - äºä»¶å¯¹è±¡ã
     */
    handleBrowserEvent(evt) {
        var type = evt.type, listeners = this.listeners[type];
        if (!listeners || listeners.length == 0) {
            // noone's listening, bail out
            return;
        }
        // add clientX & clientY to all events - corresponds to average x, y
        var touches = evt.touches;
        if (touches && touches[0]) {
            var x = 0;
            var y = 0;
            var num = touches.length;
            var touch;
            for (var i = 0; i < num; ++i) {
                touch = touches[i];
                x += touch.clientX;
                y += touch.clientY;
            }
            evt.clientX = x / num;
            evt.clientY = y / num;
        }
        if (this.includeXY) {
            evt.xy = this.getMousePosition(evt);
        }
        this.triggerEvent(type, evt);
    }


    /**
     * @function SuperMap.Events.prototype.clearMouseCache
     * @description æ¸é¤é¼ æ ç¼å­ã
     */
    clearMouseCache() {
        this.element.scrolls = null;
        this.element.lefttop = null;
        var body = document.body;
        if (body && !((body.scrollTop != 0 || body.scrollLeft != 0) &&
                navigator.userAgent.match(/iPhone/i))) {
            this.element.offsets = null;
        }
    }

    /**
     * @function SuperMap.Events.prototype.getMousePosition
     * @param {Event} evt - äºä»¶å¯¹è±¡ã
     * @returns {SuperMap.Pixel} å½åçé¼ æ ç xy åæ ç¹ã
     */
    getMousePosition(evt) {
        if (!this.includeXY) {
            this.clearMouseCache();
        } else if (!this.element.hasScrollEvent) {
            Event.observe(window, "scroll", this.clearMouseListener);
            this.element.hasScrollEvent = true;
        }

        if (!this.element.scrolls) {
            var viewportElement = Util_Util.getViewportElement();
            this.element.scrolls = [
                viewportElement.scrollLeft,
                viewportElement.scrollTop
            ];
        }

        if (!this.element.lefttop) {
            this.element.lefttop = [
                (document.documentElement.clientLeft || 0),
                (document.documentElement.clientTop || 0)
            ];
        }

        if (!this.element.offsets) {
            this.element.offsets = Util_Util.pagePosition(this.element);
        }

        return new Pixel_Pixel(
            (evt.clientX + this.element.scrolls[0]) - this.element.offsets[0]
            - this.element.lefttop[0],
            (evt.clientY + this.element.scrolls[1]) - this.element.offsets[1]
            - this.element.lefttop[1]
        );
    }

}

SuperMap.Events = Events_Events;
SuperMap.Events.prototype.BROWSER_EVENTS = [
    "mouseover", "mouseout",
    "mousedown", "mouseup", "mousemove",
    "click", "dblclick", "rightclick", "dblrightclick",
    "resize", "focus", "blur",
    "touchstart", "touchmove", "touchend",
    "keydown", "MSPointerDown", "MSPointerUp", "pointerdown", "pointerup",
    "MSGestureStart", "MSGestureChange", "MSGestureEnd",
    "contextmenu"
];
// CONCATENATED MODULE: ./src/common/commontypes/Feature.js



/**
 * @class SuperMap.Feature
 * @category BaseTypes Geometry
 * @classdesc è¦ç´ ç±»ç»åäºå°çåå±æ§ï¼Feature ç±»åæ¶å·æ marker å lonlat å±æ§ã
 * @param {SuperMap.Layer} layer - å¾å±ã
 * @param {SuperMap.LonLat} lonlat - ç»çº¬åº¦ã
 * @param {Object} data - æ°æ®å¯¹è±¡ã
 */
class Feature_Feature {


    constructor(layer, lonlat, data) {
        this.CLASS_NAME = "SuperMap.Feature";
        /**
         * @deprecated
         * @member {SuperMap.Layer} SuperMap.Feature.prototype.layer
         * @description å¾å±ã
         */
        this.layer = layer;

        /**
         * @member {string} SuperMap.Feature.prototype.id
         * @description è¦ç´  IDã
         */
        this.id = Util_Util.createUniqueID(this.CLASS_NAME + "_");

        /**
         * @member {SuperMap.LonLat} SuperMap.Feature.prototype.lonlat
         * @description ç»çº¬åº¦ã
         *
         */
        this.lonlat = lonlat;

        /**
         * @member {Object} SuperMap.Feature.prototype.data
         * @description æ°æ®å¯¹è±¡ã
         */
        this.data = (data != null) ? data : {};

    }

    /**
     * @function SuperMap.Feature.prototype.destroy
     * @description éæ¾ç¸å³èµæºã
     */
    destroy() {
        this.id = null;
        this.lonlat = null;
        this.data = null;
    }
}

SuperMap.Feature = Feature_Feature;
// CONCATENATED MODULE: ./src/common/commontypes/Vector.js






/**
 * @class SuperMap.Feature.Vector
 * @category BaseTypes Geometry
 * @classdesc ç¢éè¦ç´ ç±»ãè¯¥ç±»å·æ Geometry å±æ§å­æ¾å ä½ä¿¡æ¯ï¼
 * attributes å±æ§å­æ¾éå ä½ä¿¡æ¯ï¼å¦å¤è¿åå«äº style å±æ§ï¼ç¨æ¥å®ä¹ç¢éè¦ç´ çæ ·å¼ï¼
 * å¶ä¸­ï¼é»è®¤çæ ·å¼å¨ {@link SuperMap.Feature.Vector.style} ç±»ä¸­å®ä¹ï¼å¦ææ²¡æç¹å«çæå®å°ä½¿ç¨é»è®¤çæ ·å¼ã
 * @extends {SuperMap.Feature}
 * @param {SuperMap.Geometry} geometry - ä»£è¡¨è¦ç´ çå ä½å½¢ç¶ã
 * @param {Object} [attributes] - æè¿°è¦ç´ çä»»æçå¯åºååå±æ§ï¼å°è¦æ å°å° attributes å±æ§ä¸­çå¯¹è±¡ã
 * @param {Object} [style] - æ ·å¼å¯¹è±¡ã
 * @example
 * var geometry = new SuperMap.Geometry.Point(-115,10);
 *  var style = {
     *      strokeColor:"#339933",
     *      strokeOpacity:1,
     *      strokeWidth:3,
     *      pointRadius:6
     *  }
 *  var pointFeature = new SuperMap.Feature.Vector(geometry,null,style);
 *  vectorLayer.addFeatures(pointFeature);
 */
class Vector_Vector extends Feature_Feature {


    constructor(geometry, attributes, style) {
        super(null, null, attributes);
        /**
         * @member {string} SuperMap.Feature.Vector.prototype.fid
         * @description fid
         */
        this.fid = null;

        /**
         * @member {SuperMap.Geometry} SuperMap.Feature.Vector.prototype.geometry
         * @description è¯¥å±æ§ç¨äºå­æ¾å ä½ä¿¡æ¯ã
         */
        this.geometry = geometry ? geometry : null;

        /**
         * @member {Object} SuperMap.Feature.Vector.prototype.attributes
         * @description æè¿°è¦ç´ çä»»æçå¯åºååå±æ§ã
         */
        this.attributes = {};

        if (attributes) {
            this.attributes = Util_Util.extend(this.attributes, attributes);
        }

        /**
         * @member {SuperMap.Bounds} SuperMap.Feature.Vector.prototype.bounds
         * @description The box bounding that feature's geometry, that
         *     property can be set by an <SuperMap.Format> object when
         *     deserializing the feature, so in most cases it represents an
         *     information set by the server.
         */
        this.bounds = null;

        /**
         * @member {string} SuperMap.Feature.Vector.prototype.state
         * @description state
         */
        this.state = null;

        /**
         * @member {Object} SuperMap.Feature.Vector.prototype.style
         * @description è¦ç´ çæ ·å¼å±æ§ï¼å°å¾æ¥è¯¢è¿åç feature ç styleï¼8C åä¸ºnullã
         */
        this.style = style ? style : null;

        /**
         * @member {string} SuperMap.Feature.Vector.prototype.url 
         * @description å¦æè®¾ç½®äºè¿ä¸ªå±æ§ï¼å¨æ´æ°æèå é¤è¦ç´ æ¶éè¦èè {@link SuperMap.HTTP} ã
         */
        this.url = null;

        this.lonlat = null;

        this.CLASS_NAME = "SuperMap.Feature.Vector";
        // TRASH THIS
        SuperMap.State = {
            /** states */
            UNKNOWN: 'Unknown',
            INSERT: 'Insert',
            UPDATE: 'Update',
            DELETE: 'Delete'
        };

        Vector_Vector.style = {
            'default': {
                fillColor: "#ee9900",
                fillOpacity: 0.4,
                hoverFillColor: "white",
                hoverFillOpacity: 0.8,
                strokeColor: "#ee9900",
                strokeOpacity: 1,
                strokeWidth: 1,
                strokeLinecap: "round",
                strokeDashstyle: "solid",
                hoverStrokeColor: "red",
                hoverStrokeOpacity: 1,
                hoverStrokeWidth: 0.2,
                pointRadius: 6,
                hoverPointRadius: 1,
                hoverPointUnit: "%",
                pointerEvents: "visiblePainted",
                cursor: "inherit",
                fontColor: "#000000",
                labelAlign: "cm",
                labelOutlineColor: "white",
                labelOutlineWidth: 3
            },
            'select': {
                fillColor: "blue",
                fillOpacity: 0.4,
                hoverFillColor: "white",
                hoverFillOpacity: 0.8,
                strokeColor: "blue",
                strokeOpacity: 1,
                strokeWidth: 2,
                strokeLinecap: "round",
                strokeDashstyle: "solid",
                hoverStrokeColor: "red",
                hoverStrokeOpacity: 1,
                hoverStrokeWidth: 0.2,
                pointRadius: 6,
                hoverPointRadius: 1,
                hoverPointUnit: "%",
                pointerEvents: "visiblePainted",
                cursor: "pointer",
                fontColor: "#000000",
                labelAlign: "cm",
                labelOutlineColor: "white",
                labelOutlineWidth: 3

            },
            'temporary': {
                fillColor: "#66cccc",
                fillOpacity: 0.2,
                hoverFillColor: "white",
                hoverFillOpacity: 0.8,
                strokeColor: "#66cccc",
                strokeOpacity: 1,
                strokeLinecap: "round",
                strokeWidth: 2,
                strokeDashstyle: "solid",
                hoverStrokeColor: "red",
                hoverStrokeOpacity: 1,
                hoverStrokeWidth: 0.2,
                pointRadius: 6,
                hoverPointRadius: 1,
                hoverPointUnit: "%",
                pointerEvents: "visiblePainted",
                //cursor:"inherit",
                cursor: "default",
                fontColor: "#000000",
                labelAlign: "cm",
                labelOutlineColor: "white",
                labelOutlineWidth: 3

            },
            'delete': {
                display: "none"
            }
        };
    }

    /**
     * @function SuperMap.Feature.Vector.prototype.destroy
     * @description nullify references to prevent circular references and memory leaks
     */
    destroy() {
        if (this.layer) {
            this.layer.removeFeatures(this);
            this.layer = null;
        }

        this.geometry = null;
        super.destroy();
    }

    /**
     * @function SuperMap.Feature.Vector.prototype.clone
     * @description Create a clone of this vector feature.  Does not set any non-standard
     *     properties.
     * @returns {SuperMap.Feature.Vector} An exact clone of this vector feature.
     */
    clone() {
        return new Vector_Vector(
            this.geometry ? this.geometry.clone() : null,
            this.attributes,
            this.style);
    }

    /**
     * @function SuperMap.Feature.Vector.prototype.toState
     * @description è®¾ç½®æ°ç¶æã
     * @param {string} state - ç¶æã
     */
    toState(state) {
        if (state === SuperMap.State.UPDATE) {
            switch (this.state) {
                case SuperMap.State.UNKNOWN:
                case SuperMap.State.DELETE:
                    this.state = state;
                    break;
                case SuperMap.State.UPDATE:
                case SuperMap.State.INSERT:
                    break;
            }
        } else if (state === SuperMap.State.INSERT) {
            switch (this.state) {
                case SuperMap.State.UNKNOWN:
                    break;
                default:
                    this.state = state;
                    break;
            }
        } else if (state === SuperMap.State.DELETE) {
            switch (this.state) {
                case SuperMap.State.INSERT:
                    // the feature should be destroyed
                    break;
                case SuperMap.State.DELETE:
                    break;
                case SuperMap.State.UNKNOWN:
                case SuperMap.State.UPDATE:
                    this.state = state;
                    break;
            }
        } else if (state === SuperMap.State.UNKNOWN) {
            this.state = state;
        }
    }
}
/**
 *
 * @typedef {Object} SuperMap.Feature.Vector.style
 * @description SuperMap.features æå¤§éçæ ·å¼å±æ§ï¼å¦ææ²¡æç¹å«çæå®å°ä½¿ç¨é»è®¤çæ ·å¼ï¼
 * å¤§é¨åæ ·å¼éè¿ SVG æ åå®ä¹å±æ§ã
 * - fill properties èµæä»ç»ï¼{@link http://www.w3.org/TR/SVG/painting.html#FillProperties}
 * - stroke properties èµæä»ç»ï¼{@link http://www.w3.org/TR/SVG/painting.html#StrokeProperties}
 * @property {Boolean} [fill] - ä¸éè¦å¡«ååè®¾ç½®ä¸º falseã
 * @property {string} [fillColor='#ee9900'] - åå­è¿å¶å¡«åé¢è²ã
 * @property {number} [fillOpacity=0.4] - å¡«åä¸éæåº¦ã
 * @property {Boolean} [stroke] - ä¸éè¦æè¾¹åè®¾ä¸º falseã
 * @property {string} [strokeColor='#ee9900'] - åå­è¿å¶æè¾¹é¢è²ã
 * @property {number} [strokeOpacity=0.4] - æè¾¹çä¸éæåº¦(0-1)ã
 * @property {number} [strokeWidth=1] - åç´ æè¾¹å®½åº¦ã
 * @property {string} [strokeLinecap='round'] - strokeLinecap æä¸ç§ç±»å buttï¼roundï¼squareã
 * @property {string} [strokeDashstyle='solid'] - æ dotï¼dashï¼dashdotï¼longdashï¼longdashdotï¼solid å ç§æ ·å¼ã
 * @property {Boolean} [graphic] - ä¸éè¦åè®¾ç½®ä¸º falseã
 * @property {number} [pointRadius=6] - åç´ ç¹åå¾ã
 * @property {string} [pointerEvents='visiblePainted'] - pointerEventsã
 * @property {string} [cursor] - cursorã
 * @property {Boolean} [allowRotate='false'] - æ¯å¦åè®¸å¾æ éçè¿è¡æ¹åæè½¬ãç¨äºæ¶ç©ºæ°æ®å¾å±ã
 * @property {string} [externalGraphic] - è¿æ¥å°ç¨æ¥æ¸²æç¹çå¤é¨çå¾å½¢ã
 * @property {number} [graphicWidth] - å¤é¨å¾è¡¨çåç´ å®½åº¦ã
 * @property {number} [graphicHeight] - å¤é¨å¾è¡¨çé«å®½åº¦ã
 * @property {number} [graphicOpacity] - å¤é¨å¾è¡¨çä¸éæåº¦(0-1)ã
 * @property {number} [graphicXOffset] - å¤é¨å¾è¡¨æ²¿çxæ¹åçåç§»éã
 * @property {number} [graphicYOffset] - å¤é¨å¾è¡¨æ²¿çyæ¹åçåç§»é Pixelã
 * @property {number} [rotation] - ä¸ä¸ªå¾è¡¨æ²¿çå¶ä¸­å¿ç¹ï¼æèåç§»ä¸­å¿æå®ç¹ï¼å¨é¡ºæ¶éæ¹åæè½¬ã
 * @property {number} [graphicZIndex] - æ¸²ææ¶ä½¿ç¨çç´¢å¼å¼ã
 * @property {string} [graphicName='circle'] - æ¸²æç¹æ¶å¾æ ä½¿ç¨çåå­ãæ¯æ"circle" , "square", "star", "x", "cross", "triangle"ã
 * @property {string} [graphicTitle] - å¤é¨å¾è¡¨çæç¤ºæ¡ã
 * @property {string} [backgroundGraphic] - å¤é¨å¾è¡¨çèæ¯ã
 * @property {number} [backgroundGraphicZIndex] - èæ¯å¾æ¸²ææ¶ä½¿ç¨çç´¢å¼å¼ã
 * @property {number} [backgroundXOffset] - èæ¯å¾å¨ x è½´çåç§»éã
 * @property {number} [backgroundYOffset] - èæ¯å¾å¨ y è½´çåç§»éã
 * @property {number} [backgroundHeight] - èæ¯å¾çé«åº¦ãå¦ææ²¡æè®¾ç½®ï¼å°ç¨ graphicHeightã
 * @property {number} [backgroundWidth] - èæ¯å¾çå®½åº¦ãå¦ææ²¡æè®¾ç½®ï¼å°ç¨ graphicWidthã
 * @property {Boolean} [isUnicode=false] - è¿ä¸ªå±æ§è¦éå label å±æ§æ¥ç¨ï¼å½ä¸º trueæ¶ï¼label å°±å¯ä»¥ä½¿ç¨ unicode ç¼ç ï¼
 * æ¯å¦ "a" ç unicode åå­è¿å¶ç¼ç ä¸º 61ï¼å label å±æ§å¯ä»¥ä¸º "&#x61;",å¶ä¸­ "&#" ä¸ºåç¼ï¼æ å¿è¿ä¸ªä¸º unicode ç¼ç ï¼
 * "x" æ¯æ 16 è¿å¶,è¿æ¶é¡µé¢æ¾ç¤ºçæ¯ "a"ï¼å½æ­¤å¼ä¸º false çæ¶åï¼label çåå®¹ä¼è¢«ç´æ¥è¾åºï¼
 * æ¯å¦ï¼label ä¸º "&#x61;"ï¼è¿æ¶é¡µé¢æ¾ç¤ºçä¹æ¯ "&#x61;"ã
 * @property {string} [label] - å¯éçæ ç­¾ææ¬ã
 * @property {string} [labelAlign='cm'] - æ ç­¾å¯¹é½ï¼æ¯ç±ä¸¤ä¸ªå­ç¬¦ç»æçå­ç¬¦ä¸²ï¼å¦ï¼"lt", "cm", "rb"ï¼
 * å¶ä¸­ç¬¬ä¸ä¸ªå­ç¬¦ä»£è¡¨æ°´å¹³æ¹åä¸çå¯¹é½ï¼"l"=left, "c"=center, "r"=rightï¼
 * ç¬¬äºä¸ªå­ç¬¦ä»£è¡¨åç´æ¹åä¸çå¯¹é½ï¼"t"=top, "m"=middle, "b"=bottomã
 * @property {number} [labelXOffset] - æ ç­¾å¨ x è½´æ¹åçåç§»éã
 * @property {number} [labelYOffset] - æ ç­¾å¨ y è½´æ¹åçåç§»éã
 * @property {Boolean} [labelSelect=false] - å¦æè®¾ä¸º trueï¼æ ç­¾å¯ä»¥éç¨ SelectFeature æè similar æ§ä»¶ã
 * @property {string} [fontColor='#000000'] - æ ç­¾å­ä½é¢è²ã
 * @property {number} [fontOpacity] - æ ç­¾éæåº¦ (0-1)ã
 * @property {string} [fontFamily] - æ ç­¾çå­ä½ç±»åã
 * @property {string} [fontSize] - æ ç­¾çå­ä½å¤§å°ã
 * @property {string} [fontStyle] - æ ç­¾çå­ä½æ ·å¼ã
 * @property {string} [fontWeight] - æ ç­¾çå­ä½ç²ç»ã
 * @property {string} [display] - å¦æ display å±æ§è®¾ç½®ä¸º ânoneâï¼ç¬¦å·å°æ²¡æä»»ä½ææã
 * @example
 *  // labelçç¨æ³å¦ä¸ï¼
 *  function addGeoTest(){
 *  var geometry = new SuperMap.Geometry.Point(105, 35);
 *  var pointFeature = new SuperMap.Feature.Vector(geometry);
 *  var styleTest = {
 *        label:"supermap",
 *        fontColor:"#0000ff",
 *        fontOpacity:"0.5",
 *        fontFamily:"é¶ä¹¦",
 *        fontSize:"8em",
 *        fontWeight:"bold",
 *        fontStyle:"italic",
 *        labelSelect:"true",
 *     }
 *           pointFeature.style = styleTest;
 *          vectorLayer.addFeatures([pointFeature]);
 * }
     */
SuperMap.Feature.Vector = Vector_Vector;



// CONCATENATED MODULE: ./src/common/commontypes/index.js





























// CONCATENATED MODULE: ./src/common/format/Format.js



/**
 * @class SuperMap.Format
 * @classdesc è¯»ååç§æ ¼å¼çæ ¼å¼ç±»åºç±»ãå¶å­ç±»åºè¯¥åå«å¹¶å®ç° read å write æ¹æ³ã
 * @category BaseTypes Format
 * @param {Object} options - å¯éåæ°ã
 * @param {boolean} [options.keepData=false] - å¦æè®¾ç½®ä¸º trueï¼ data å±æ§ä¼æåè¢«è§£æçå¯¹è±¡ï¼ä¾å¦ JSON æ xml æ°æ®å¯¹è±¡ï¼ã
 * @param {Object} [options.data] - å½ keepData å±æ§è®¾ç½®ä¸º trueï¼è¿æ¯ä¼ éç» read æä½çè¦è¢«è§£æçå­ç¬¦ä¸²ã
 */
class Format_Format {


    constructor(options) {
        /**
         * @member {Object} SuperMap.Format.prototype.data 
         * @description å½ keepData å±æ§è®¾ç½®ä¸º trueï¼è¿æ¯ä¼ éç» read æä½çè¦è¢«è§£æçå­ç¬¦ä¸²ã
         */
        this.data = null;

        /**
         * APIProperty: keepData
         * @member {Object} [SuperMap.Format.prototype.keepData=false]
         * @description ä¿ææè¿è¯»å°çæ°æ®çå¼ç¨ï¼éè¿ <data> å±æ§ï¼ã
         */
        this.keepData = false;

        Util_Util.extend(this, options);
        /**
         * @member {Object} SuperMap.Format.prototype.options
         * @description å¯éåæ°ã
         */
        this.options = options;

        this.CLASS_NAME = "SuperMap.Format";
    }

    /**
     * @function SuperMap.Format.prototype.destroy
     * @description éæ¯è¯¥æ ¼å¼ç±»ï¼éæ¾ç¸å³èµæºã
     */
    destroy() {
        //ç¨æ¥éæ¯è¯¥æ ¼å¼ç±»ï¼éæ¾ç¸å³èµæº
    }

    /**
     * @function SuperMap.Format.prototype.read
     * @description æ¥ä»å­ç¬¦ä¸²ä¸­è¯»åæ°æ®ã
     * @param {string} data - è¯»åçæ°æ®ã
     */
    read(data) { // eslint-disable-line no-unused-vars
        //ç¨æ¥ä»å­ç¬¦ä¸²ä¸­è¯»åæ°æ®
    }

    /**
     * @function SuperMap.Format.prototype.write
     * @description å°å¯¹è±¡åæå­ç¬¦ä¸²ã
     * @param {Object} object - å¯åºååçå¯¹è±¡ã
     * @returns {string} å¯¹è±¡è¢«åæå­ç¬¦ä¸²ã
     */
    write(object) { // eslint-disable-line no-unused-vars
        //ç¨æ¥åå­ç¬¦ä¸²
    }
}

SuperMap.Format = Format_Format;

// CONCATENATED MODULE: ./src/common/format/JSON.js



/**
 * @class SuperMap.Format.JSON
 * @classdesc å®å¨çè¯»å JSON çè§£æç±»ãä½¿ç¨ {@link SuperMap.Format.JSON} æé å½æ°åå»ºæ°å®ä¾ã
 * @category BaseTypes Format
 * @extends {SuperMap.Format}
 */
class JSON_JSONFormat extends Format_Format {

    constructor(options) {
        super(options);
        /**
         * @member {string} SuperMap.Format.JSON.prototype.indent
         * @description ç¨äºæ ¼å¼åè¾åºï¼indent å­ç¬¦ä¸²ä¼å¨æ¯æ¬¡ç¼©è¿çæ¶åä½¿ç¨ä¸æ¬¡ã
         */
        this.indent = "    ";

        /**
         * @member {string} SuperMap.Format.JSON.prototype.space
         * @description ç¨äºæ ¼å¼åè¾åºï¼space å­ç¬¦ä¸²ä¼å¨åå¼å¯¹ç ":" åè¾¹æ·»å ã
         */
        this.space = " ";

        /**
         * @member {string} SuperMap.Format.JSON.prototype.newline
         * @description ç¨äºæ ¼å¼åè¾åº, newline å­ç¬¦ä¸²ä¼ç¨å¨æ¯ä¸ä¸ªåå¼å¯¹ææ°ç»é¡¹æ«å°¾ã
         */
        this.newline = "\n";

        /**
         * @member {integer} SuperMap.Format.JSON.prototype.level 
         * @description ç¨äºæ ¼å¼åè¾åº, è¡¨ç¤ºçæ¯ç¼©è¿çº§å«ã
         */
        this.level = 0;

        /**
         * @member {boolean} [SuperMap.Format.JSON.prototype.pretty=false]
         * @description æ¯å¦å¨åºååçæ¶åä½¿ç¨é¢å¤çç©ºæ ¼æ§å¶ç»æãå¨ write æ¹æ³ä¸­ä½¿ç¨ã
         */
        this.pretty = false;

        /**
         * @member {boolean} SuperMap.Format.JSON.prototype.nativeJSON 
         * @description å¤æ­æµè§å¨æ¯å¦åçæ¯æ JSON æ ¼å¼æ°æ®ã
         */
        this.nativeJSON = (function () {
            return !!(window.JSON && typeof JSON.parse === "function" && typeof JSON.stringify === "function");
        })();

        this.CLASS_NAME = "SuperMap.Format.JSON";
        /**
         * @member SuperMap.Format.JSON.prototype.serialize
         * @description æä¾ä¸äºç±»åå¯¹è±¡è½¬ JSON å­ç¬¦ä¸²çæ¹æ³ã
         */
        this.serialize = {
            /**
             * @function SuperMap.Format.JSON.serialize.object
             * @description æå¯¹è±¡è½¬æ¢ä¸º JSON å­ç¬¦ä¸²ã
             * @param {Object} object - å¯åºååçå¯¹è±¡ã
             * @returns {string} JSON å­ç¬¦ä¸²ã
             */
            'object': function (object) {
                // three special objects that we want to treat differently
                if (object == null) {
                    return "null";
                }
                if (object.constructor === Date) {
                    return this.serialize.date.apply(this, [object]);
                }
                if (object.constructor === Array) {
                    return this.serialize.array.apply(this, [object]);
                }
                var pieces = ['{'];
                this.level += 1;
                var key, keyJSON, valueJSON;

                var addComma = false;
                for (key in object) {
                    if (object.hasOwnProperty(key)) {
                        // recursive calls need to allow for sub-classing
                        keyJSON = this.write.apply(this,
                            [key, this.pretty]);
                        valueJSON = this.write.apply(this,
                            [object[key], this.pretty]);
                        if (keyJSON != null && valueJSON != null) {
                            if (addComma) {
                                pieces.push(',');
                            }
                            pieces.push(this.writeNewline(), this.writeIndent(),
                                keyJSON, ':', this.writeSpace(), valueJSON);
                            addComma = true;
                        }
                    }
                }

                this.level -= 1;
                pieces.push(this.writeNewline(), this.writeIndent(), '}');
                return pieces.join('');
            },

            /**
             * @function SuperMap.Format.JSON.serialize.array
             * @description ææ°ç»è½¬æ¢æ JSON å­ç¬¦ä¸²ã
             * @param {Array} array - å¯åºååçæ°ç»ã
             * @returns {string} JSON å­ç¬¦ä¸²ã
             */
            'array': function (array) {
                var json;
                var pieces = ['['];
                this.level += 1;

                for (var i = 0, len = array.length; i < len; ++i) {
                    // recursive calls need to allow for sub-classing
                    json = this.write.apply(this,
                        [array[i], this.pretty]);
                    if (json != null) {
                        if (i > 0) {
                            pieces.push(',');
                        }
                        pieces.push(this.writeNewline(), this.writeIndent(), json);
                    }
                }

                this.level -= 1;
                pieces.push(this.writeNewline(), this.writeIndent(), ']');
                return pieces.join('');
            },

            /**
             * @function SuperMap.Format.JSON.serialize.string
             * @description æå­ç¬¦ä¸²è½¬æ¢æ JSON å­ç¬¦ä¸²ã
             * @param {string} string - å¯åºååçå­ç¬¦ä¸²ã
             * @returns {string} JSON å­ç¬¦ä¸²ã
             */
            'string': function (string) {
                // If the string contains no control characters, no quote characters, and no
                // backslash characters, then we can simply slap some quotes around it.
                // Otherwise we must also replace the offending characters with safe
                // sequences.
                var m = {
                    '\b': '\\b',
                    '\t': '\\t',
                    '\n': '\\n',
                    '\f': '\\f',
                    '\r': '\\r',
                    '"': '\\"',
                    '\\': '\\\\'
                };
                /*eslint-disable no-control-regex*/
                if (/["\\\x00-\x1f]/.test(string)) {
                    return '"' + string.replace(/([\x00-\x1f\\"])/g, function (a, b) {
                        var c = m[b];
                        if (c) {
                            return c;
                        }
                        c = b.charCodeAt();
                        return '\\u00' +
                            Math.floor(c / 16).toString(16) +
                            (c % 16).toString(16);
                    }) + '"';
                }
                return '"' + string + '"';
            },

            /**
             * @function SuperMap.Format.JSON.serialize.number
             * @description ææ°å­è½¬æ¢æ JSON å­ç¬¦ä¸²ã
             * @param {number} number - å¯åºååçæ°å­ã
             * @returns {string} JSON å­ç¬¦ä¸²ã
             */
            'number': function (number) {
                return isFinite(number) ? String(number) : "null";
            },

            /**
             * @function SuperMap.Format.JSON.serialize.boolean
             * @description Transform a boolean into a JSON string.
             * @param {boolean} bool - The boolean to be serialized.
             * @returns {string} A JSON string representing the boolean.
             */
            'boolean': function (bool) {
                return String(bool);
            },

            /**
             * @function SuperMap.Format.JSON.serialize.object
             * @description å°æ¥æå¯¹è±¡è½¬æ¢æ JSON å­ç¬¦ä¸²ã
             * @param {Date} date - å¯åºååçæ¥æå¯¹è±¡ã
             * @returns {string} JSON å­ç¬¦ä¸²ã
             */
            'date': function (date) {
                function format(number) {
                    // Format integers to have at least two digits.
                    return (number < 10) ? '0' + number : number;
                }

                return '"' + date.getFullYear() + '-' +
                    format(date.getMonth() + 1) + '-' +
                    format(date.getDate()) + 'T' +
                    format(date.getHours()) + ':' +
                    format(date.getMinutes()) + ':' +
                    format(date.getSeconds()) + '"';
            }
        };
    }

    /**
     * @function SuperMap.Format.JSON.prototype.read
     * @description å°ä¸ä¸ªç¬¦å JSON ç»æçå­ç¬¦ä¸²è¿è¡è§£æã
     * @param {string} json - ç¬¦å JSON ç»æçå­ç¬¦ä¸²ã
     * @param {function} filter - è¿æ»¤æ¹æ³ï¼æç»ç»æçæ¯ä¸ä¸ªé®å¼å¯¹é½ä¼è°ç¨è¯¥è¿æ»¤æ¹æ³ï¼å¹¶å¨å¯¹åºçå¼çä½ç½®æ¿æ¢æè¯¥æ¹æ³è¿åçå¼ã
     * @returns {Object} å¯¹è±¡ï¼æ°ç»ï¼å­ç¬¦ä¸²ææ°å­ã
     */
    read(json, filter) {
        var object;
        if (this.nativeJSON) {
            try {
                object = JSON.parse(json, filter);
            } catch (e) {
                // Fall through if the regexp test fails.
            }
        }

        if (this.keepData) {
            this.data = object;
        }

        return object;
    }

    /**
     * @function SuperMap.Format.JSON.prototype.write
     * @description åºååä¸ä¸ªå¯¹è±¡å°ä¸ä¸ªç¬¦å JSON æ ¼å¼çå­ç¬¦ä¸²ã
     * @param {(object|string|Array|number|boolean)} value - éè¦è¢«åºååçå¯¹è±¡ï¼æ°ç»ï¼å­ç¬¦ä¸²ï¼æ°å­ï¼å¸å°å¼ã
     * @param {boolean} [pretty=false] - æ¯å¦å¨åºååçæ¶åä½¿ç¨é¢å¤çç©ºæ ¼æ§å¶ç»æãå¨ write æ¹æ³ä¸­ä½¿ç¨ã
     * @returns {string} ç¬¦å JSON æ ¼å¼çå­ç¬¦ä¸²ã
     *
     */
    write(value, pretty) {
        this.pretty = !!pretty;
        var json = null;
        var type = typeof value;
        if (this.serialize[type]) {
            try {
                json = (!this.pretty && this.nativeJSON) ?
                    JSON.stringify(value) :
                    this.serialize[type].apply(this, [value]);
            } catch (err) {
                //SuperMap.Console.error("Trouble serializing: " + err);
            }
        }
        return json;
    }

    /**
     * @function SuperMap.Format.JSON.prototype.writeIndent
     * @description æ ¹æ®ç¼©è¿çº§å«è¾åºä¸ä¸ªç¼©è¿å­ç¬¦ä¸²ã
     * @returns {string} ä¸ä¸ªéå½çç¼©è¿å­ç¬¦ä¸²ã
     */
    writeIndent() {
        var pieces = [];
        if (this.pretty) {
            for (var i = 0; i < this.level; ++i) {
                pieces.push(this.indent);
            }
        }
        return pieces.join('');
    }

    /**
     * @function SuperMap.Format.JSON.prototype.writeNewline
     * @description å¨æ ¼å¼åè¾åºæ¨¡å¼æåµä¸è¾åºä»£è¡¨æ°ä¸è¡çå­ç¬¦ä¸²ã
     * @returns {string} ä»£è¡¨æ°çä¸è¡çå­ç¬¦ä¸²ã
     */
    writeNewline() {
        return (this.pretty) ? this.newline : '';
    }

    /**
     * @function SuperMap.Format.JSON.prototype.writeSpace
     * @description å¨æ ¼å¼åè¾åºæ¨¡å¼æåµä¸è¾åºä¸ä¸ªä»£è¡¨ç©ºæ ¼çå­ç¬¦ä¸²ã
     * @returns {string} ä¸ä¸ªç©ºæ ¼ã
     */
    writeSpace() {
        return (this.pretty) ? this.space : '';
    }

}

SuperMap.Format.JSON = JSON_JSONFormat;
// CONCATENATED MODULE: ./src/common/format/GeoJSON.js















/**
 * @class SuperMap.Format.GeoJSON
 * @classdesc  GeoJSON çè¯»ååãä½¿ç¨ {@link SuperMap.Format.GeoJSON} æé å¨åå»ºä¸ä¸ª GeoJSON è§£æå¨ã
 * @category BaseTypes Format
 * @extends {SuperMap.Format.JSON}
 */
class GeoJSON_GeoJSON extends JSON_JSONFormat {


    constructor(options) {
        super(options);
        /**
         * @member {boolean} [SuperMap.Format.GeoJSON.prototype.ignoreExtraDims=false]
         * @description å¿½ç¥ç»´åº¦è¶è¿ 2 çå ä½è¦ç´ ã
         */
        this.ignoreExtraDims = false;

        this.CLASS_NAME = "SuperMap.Format.GeoJSON";
        /**
         * @member {Object} SuperMap.Format.GeoJSON.prototype.parseCoords 
         * @description ä¸ä¸ªå±æ§åå¯¹åºç GeoJSON å¯¹è±¡çå ä½ç±»åçå¯¹è±¡ãæ¯ä¸ªå±æ§å¶å®é½æ¯ä¸ä¸ªå®éä¸åè§£æç¨çæ¹æ³ã
         */
        this.parseCoords = {
            /**
             * @function SuperMap.Format.GeoJSON.parseCoords.point
             * @description å°ä¸ç»åæ è½¬æä¸ä¸ª {@link SuperMap.Geometry} å¯¹è±¡ã
             * @param {Object} array - GeoJSON çæ®µä¸­çä¸ç»åæ ã
             * @returns {SuperMap.Geometry} ä¸ä¸ªå ä½å¯¹è±¡ã
             */
            "point": function (array) {
                if (this.ignoreExtraDims == false &&
                    array.length != 2) {
                    throw "Only 2D points are supported: " + array;
                }
                return new Point_Point(array[0], array[1]);
            },

            /**
             * @function SuperMap.Format.GeoJSON.parseCoords.multipoint
             * @description å°åæ ç»æ°ç»è½¬åæä¸ºä¸ä¸ª {@link SuperMap.Geometry} å¯¹è±¡ã
             * @param {Object} array - GeoJSON çæ®µä¸­çåæ ç»æ°ç»ã
             * @returns {SuperMap.Geometry} ä¸ä¸ªå ä½å¯¹è±¡ã
             */
            "multipoint": function (array) {
                var points = [];
                var p = null;
                for (var i = 0, len = array.length; i < len; ++i) {
                    try {
                        p = this.parseCoords["point"].apply(this, [array[i]]);
                    } catch (err) {
                        throw err;
                    }
                    points.push(p);
                }
                return new MultiPoint_MultiPoint(points);
            },

            /**
             * @function SuperMap.Format.GeoJSON.parseCoords.linestring
             * @description å°åæ ç»æ°ç»è½¬åæä¸ºä¸ä¸ª {@link SuperMap.Geometry} å¯¹è±¡ã
             * @param {Object} array - GeoJSON çæ®µä¸­çåæ ç»æ°ç»ã
             * @returns {SuperMap.Geometry} ä¸ä¸ªå ä½å¯¹è±¡ã
             */
            "linestring": function (array) {
                var points = [];
                var p = null;
                for (var i = 0, len = array.length; i < len; ++i) {
                    try {
                        p = this.parseCoords["point"].apply(this, [array[i]]);
                    } catch (err) {
                        throw err;
                    }
                    points.push(p);
                }
                return new LineString_LineString(points);
            },

            /**
             * @function SuperMap.Format.GeoJSON.parseCoords.multilinestring
             * @description å°åæ ç»æ°ç»è½¬åæä¸ºä¸ä¸ª {@link SuperMap.Geometry} å¯¹è±¡ã
             * @param {Object} array - GeoJSON çæ®µä¸­çåæ ç»æ°ç»ã
             * @returns {SuperMap.Geometry} ä¸ä¸ªå ä½å¯¹è±¡ã
             */
            "multilinestring": function (array) {
                var lines = [];
                var l = null;
                for (var i = 0, len = array.length; i < len; ++i) {
                    try {
                        l = this.parseCoords["linestring"].apply(this, [array[i]]);
                    } catch (err) {
                        throw err;
                    }
                    lines.push(l);
                }
                return new MultiLineString_MultiLineString(lines);
            },

            /**
             * @function SuperMap.Format.GeoJSON.parseCoords.polygon
             * @description å°åæ ç»æ°ç»è½¬åæä¸ºä¸ä¸ª {@link SuperMap.Geometry} å¯¹è±¡ã
             * @returns {SuperMap.Geometry} ä¸ä¸ªå ä½å¯¹è±¡ã
             */
            "polygon": function (array) {
                var rings = [];
                var r, l;
                for (var i = 0, len = array.length; i < len; ++i) {
                    try {
                        l = this.parseCoords["linestring"].apply(this, [array[i]]);
                    } catch (err) {
                        throw err;
                    }
                    r = new LinearRing_LinearRing(l.components);
                    rings.push(r);
                }
                return new Polygon_Polygon(rings);
            },

            /**
             * @function SuperMap.Format.GeoJSON.parseCoords.multipolygon
             * @description å°åæ ç»æ°ç»è½¬åæä¸ºä¸ä¸ª {@link SuperMap.Geometry} å¯¹è±¡ã
             * @param {Object} array - GeoJSON çæ®µä¸­çåæ ç»æ°ç»ã
             * @returns {SuperMap.Geometry} ä¸ä¸ªå ä½å¯¹è±¡ã
             */
            "multipolygon": function (array) {
                var polys = [];
                var p = null;
                for (var i = 0, len = array.length; i < len; ++i) {
                    try {
                        p = this.parseCoords["polygon"].apply(this, [array[i]]);
                    } catch (err) {
                        throw err;
                    }
                    polys.push(p);
                }
                return new MultiPolygon_MultiPolygon(polys);
            },

            /**
             * @function SuperMap.Format.GeoJSON.parseCoords.box
             * @description å°åæ ç»æ°ç»è½¬åæä¸ºä¸ä¸ª {@link SuperMap.Geometry} å¯¹è±¡ã
             * @param {Object} array - GeoJSON çæ®µä¸­çåæ ç»æ°ç»ã
             * @returns {SuperMap.Geometry} ä¸ä¸ªå ä½å¯¹è±¡ã
             */
            "box": function (array) {
                if (array.length != 2) {
                    throw "GeoJSON box coordinates must have 2 elements";
                }
                return new Polygon_Polygon([
                    new LinearRing_LinearRing([
                        new Point_Point(array[0][0], array[0][1]),
                        new Point_Point(array[1][0], array[0][1]),
                        new Point_Point(array[1][0], array[1][1]),
                        new Point_Point(array[0][0], array[1][1]),
                        new Point_Point(array[0][0], array[0][1])
                    ])
                ]);
            }

        };
        /**
         * Property: extract
         * ä¸ä¸ªå±æ§åå¯¹åºçGeoJSONç±»åçå¯¹è±¡ãå¶å¼ä¸ºç¸åºçå®éçè§£ææ¹æ³ã
         */
        this.extract = {
            /**
             * @function SuperMap.Format.GeoJSON.extract.feature
             * @description è¿åä¸ä¸ªè¡¨ç¤ºåä¸ªè¦ç´ å¯¹è±¡ç GeoJSON çä¸é¨åã
             * @param {Object} feature - iServer è¦ç´ å¯¹è±¡ã
             * @returns {Object} ä¸ä¸ªè¡¨ç¤ºç¹çå¯¹è±¡ã
             */
            'feature': function (feature) {
                var geom = this.extract.geometry.apply(this, [feature.geometry]);
                var json = {
                    "type": "Feature",
                    "properties": this.createAttributes(feature),
                    "geometry": geom
                };

                if (feature.geometry && feature.geometry.type === 'TEXT') {
                    json.properties.texts = feature.geometry.texts;
                    json.properties.textStyle = feature.geometry.textStyle;
                }
                if (feature.fid !== null) {
                    json.id = feature.fid;
                }
                if (feature.ID !== null) {
                    json.id = feature.ID;
                }
                return json;
            },


            /**
             * @function SuperMap.Format.GeoJSON.extract.geometry
             * @description è¿åä¸ä¸ªè¡¨ç¤ºåä¸ªå ä½å¯¹è±¡ç GeoJSON çä¸é¨åã
             * @param {Object} geometry - iServer å ä½å¯¹è±¡ã
             * @returns {Object} ä¸ä¸ªè¡¨ç¤ºå ä½ä½çå¯¹è±¡ã
             */
            'geometry': function (geometry) {
                if (geometry == null) {
                    return null;
                }
                var geo = this.toGeometry(geometry);
                var geometryType = geo.type;
                var data = this.extract[geometryType.toLowerCase()].apply(this, [geo]);
                geometryType = geometryType === 'TEXT' ? 'Point' : geometryType;
                var json;
                if (geometryType === "Collection") {
                    json = {
                        "type": "GeometryCollection",
                        "geometries": data
                    };
                } else {
                    json = {
                        "type": geometryType,
                        "coordinates": data
                    };
                }
                return json;
            },


            /**
             * @function SuperMap.Format.GeoJSON.extract.point
             * @description ä»ä¸ä¸ªç¹å¯¹è±¡ä¸­è¿åä¸ä¸ªåæ ç»ã
             * @param {SuperMap.Geometry.Point} point - ä¸ä¸ªç¹å¯¹è±¡ã
             * @returns {Array} ä¸ä¸ªè¡¨ç¤ºä¸ä¸ªç¹çåæ ç»ã
             */
            'point': function (point) {
                var p = [point.x, point.y];
                for (var name in point) {
                    if (name !== "x" && name !== "y" && !isNaN(point[name])) {
                        p.push(point[name]);
                    }
                }
                return p;
            },

            /**
             * @function SuperMap.Format.GeoJSON.extract.point
             * @description ä»ä¸ä¸ªææ¬å¯¹è±¡ä¸­è¿åä¸ä¸ªåæ ç»ã
             * @param {Object} geo - ä¸ä¸ªææ¬å¯¹è±¡ã
             * @returns {Array} ä¸ä¸ªè¡¨ç¤ºä¸ä¸ªç¹çåæ ç»ã
             */
            'text': function (geo) {
                return [geo.points[0].x, geo.points[0].y];
            },

            /**
             * @function SuperMap.Format.GeoJSON.extract.multipoint
             * @description ä»ä¸ä¸ªå¤ç¹å¯¹è±¡ä¸­è¿ä¸ä¸ªåæ ç»æ°ç»ã
             * @param {SuperMap.Geometry.MultiPoint} multipoint - å¤ç¹å¯¹è±¡ã
             * @returns {Array} ä¸ä¸ªè¡¨ç¤ºå¤ç¹çåæ ç»æ°ç»ã
             */
            'multipoint': function (multipoint) {
                var array = [];
                for (var i = 0, len = multipoint.components.length; i < len; ++i) {
                    array.push(this.extract.point.apply(this, [multipoint.components[i]]));
                }
                return array;
            },

            /**
             * @function SuperMap.Format.GeoJSON.extract.linestring
             * @description ä»ä¸ä¸ªçº¿å¯¹è±¡ä¸­è¿åä¸ä¸ªåæ ç»æ°ç»ã
             * @param {SuperMap.Geometry.Linestring} linestring - çº¿å¯¹è±¡ã
             * @returns {Array} ä¸ä¸ªè¡¨ç¤ºçº¿å¯¹è±¡çåæ ç»æ°ç»ã
             */
            'linestring': function (linestring) {
                var array = [];
                for (var i = 0, len = linestring.components.length; i < len; ++i) {
                    array.push(this.extract.point.apply(this, [linestring.components[i]]));
                }
                return array;
            },

            /**
             * @function SuperMap.Format.GeoJSON.extract.multilinestring
             * @description ä»ä¸ä¸ªå¤çº¿å¯¹è±¡ä¸­è¿åä¸ä¸ªçº¿æ°ç»ã
             * @param {SuperMap.Geometry.MultiLinestring} multilinestring - å¤çº¿å¯¹è±¡ã
             *
             * @returns {Array} ä¸ä¸ªè¡¨ç¤ºå¤çº¿ççº¿æ°ç»ã
             */
            'multilinestring': function (multilinestring) {
                var array = [];
                for (var i = 0, len = multilinestring.components.length; i < len; ++i) {
                    array.push(this.extract.linestring.apply(this, [{components: multilinestring.components[i]}]));
                }
                return array;
            },

            /**
             * @function SuperMap.Format.GeoJSON.extract.polygon
             * @description ä»ä¸ä¸ªé¢å¯¹è±¡ä¸­è¿åä¸ç»çº¿ç¯ã
             * @param {SuperMap.Geometry.Polygon} polygon - é¢å¯¹è±¡ã
             * @returns {Array} ä¸ç»è¡¨ç¤ºé¢ççº¿ç¯ã
             */
            'polygon': function (polygon) {
                var array = [];
                for (var i = 0, len = polygon.components.length; i < len; ++i) {
                    array.push(this.extract.linestring.apply(this, [{components: polygon.components[i]}]));
                }
                return array;
            },

            /**
             * @function SuperMap.Format.GeoJSON.extract.multipolygon
             * @description ä»ä¸ä¸ªå¤é¢å¯¹è±¡ä¸­è¿åä¸ç»é¢ã
             * @param {SuperMap.Geometry.MultiPolygon} multipolygon - å¤é¢å¯¹è±¡ã
             * @returns {Array} ä¸ç»è¡¨ç¤ºå¤é¢çé¢ã
             */
            'multipolygon': function (multipolygon) {
                var array = [];
                for (var i = 0, len = multipolygon.components.length; i < len; ++i) {
                    array.push(this.extract.polygon.apply(this, [{components: multipolygon.components[i]}]));
                }
                return array;
            },

            /**
             * @function SuperMap.Format.GeoJSON.extract.collection
             * @description ä»ä¸ä¸ªå ä½è¦ç´ éåä¸­ä¸ç»å ä½è¦ç´ æ°ç»ã
             * @param {SuperMap.Geometry.Collection} collection - å ä½è¦ç´ éåã
             * @returns {Array} ä¸ç»è¡¨ç¤ºå ä½è¦ç´ éåçå ä½è¦ç´ æ°ç»ã
             */
            'collection': function (collection) {
                var len = collection.components.length;
                var array = new Array(len);
                for (var i = 0; i < len; ++i) {
                    array[i] = this.extract.geometry.apply(this, [{
                        type: "Collection",
                        components: collection.components[i]
                    }]);
                }
                return array;
            }
        };
    }

    /**
     * @function SuperMap.Format.GeoJSON.prototype.read
     * @description ååºååä¸ä¸ª GeoJSON å­ç¬¦ä¸²ã
     * @param {string} json - GeoJSON å­ç¬¦ä¸²
     * @param {Function} filter - å¯¹è±¡ä¸­æ¯ä¸ªå±æ¬¡æ¯ä¸ªé®å¼å¯¹é½ä¼è°ç¨æ­¤å½æ°å¾åºä¸ä¸ªç»æãæ¯ä¸ªå¼é½ä¼è¢« filter å½æ°çç»æææ¿æ¢æãè¿ä¸ªå½æ°å¯è¢«ç¨æ¥å°æäºå¯¹è±¡è½¬åææä¸ªç±»ç¸åºçå¯¹è±¡ï¼æèå°æ¥æå­ç¬¦ä¸²è½¬åæDateå¯¹è±¡ã
     * @param {string} [type='FeaureCollection'] - å¯éçå­ç¬¦ä¸²ï¼å®å³å®äºè¾åºçæ ¼å¼ãæ¯æçå¼æï¼"Geometry","Feature"ï¼å "FeatureCollection"ï¼å¦ææ­¤å¼ä¸ºnullã
     * @returns {Object}  è¿åå¼ä¾èµäº type åæ°çå¼ã
     *     -å¦æ type ç­äº "FeatureCollection"ï¼è¿åå¼å°ä¼æ¯ {@link SuperMap.Feature.Vector} æ°ç»ã
     *     -å¦æ type ä¸º "Geometry",è¾å¥ç JSON å¯¹è±¡å¿é¡»è¡¨ç¤ºä¸ä¸ªå¯ä¸çå ä½ä½ï¼ç¶åè¿åå¼å°±ä¼æ¯ {@link SuperMap.Feature.Geometry}ã
     *     -å¦æ type ä¸º "Feature"ï¼è¾å¥ç JSON å¯¹è±¡ä¹å¿é¡»è¡¨ç¤ºçä¸ä¸ªè¦ç´ ï¼è¿æ ·è¿åå¼æä¼æ¯ {@link SuperMap.Feature.Vector}ã
     */
    
     read(json, type, filter) {
        type = (type) ? type : "FeatureCollection";
        var results = null;
        var obj = null;
        if (typeof json == "string") {
            obj = super.read(json, filter);
        } else {
            obj = json;
        }
        if (!obj) {
            //SuperMap.Console.error("Bad JSON: " + json);
        } else if (typeof(obj.type) != "string") {
            //SuperMap.Console.error("Bad GeoJSON - no type: " + json);
        } else if (this.isValidType(obj, type)) {
            switch (type) {
                case "Geometry":
                    try {
                        results = this.parseGeometry(obj);
                    } catch (err) {
                        //SuperMap.Console.error(err);
                    }
                    break;
                case "Feature":
                    try {
                        results = this.parseFeature(obj);
                        results.type = "Feature";
                    } catch (err) {
                        //SuperMap.Console.error(err);
                    }
                    break;
                case "FeatureCollection":
                    // for type FeatureCollection, we allow input to be any type
                    results = [];
                    switch (obj.type) {
                        case "Feature":
                            try {
                                results.push(this.parseFeature(obj));
                            } catch (err) {
                                results = null;
                                //SuperMap.Console.error(err);
                            }
                            break;
                        case "FeatureCollection":
                            for (var i = 0, len = obj.features.length; i < len; ++i) {
                                try {
                                    results.push(this.parseFeature(obj.features[i]));
                                } catch (err) {
                                    results = null;
                                    // SuperMap.Console.error(err);
                                }
                            }
                            break;
                        default:
                            try {
                                var geom = this.parseGeometry(obj);
                                results.push(new Vector_Vector(geom));
                            } catch (err) {
                                results = null;
                                //SuperMap.Console.error(err);
                            }
                    }
                    break;
                default:
                    break;
            }
        }
        return results;
    }

    /**
     *  @function SuperMap.Format.GeoJSON.prototype.isValidType
     *  @description æ£æ¥ä¸ä¸ª GeoJSON å¯¹è±¡æ¯å¦åç»å®çç±»åç¸ç¬¦çåæ³çå¯¹è±¡ã
     *  @returns {boolean} GeoJSON æ¯å¦æ¯ç»å®ç±»åçåæ³å¯¹è±¡ã
     */
    isValidType(obj, type) {
        var valid = false;
        switch (type) {
            case "Geometry":
                if (Util_Util.indexOf(
                        ["Point", "MultiPoint", "LineString", "MultiLineString",
                            "Polygon", "MultiPolygon", "Box", "GeometryCollection"],
                        obj.type) == -1) {
                    // unsupported geometry type
                    //SuperMap.Console.error("Unsupported geometry type: " +
                    // obj.type);
                } else {
                    valid = true;
                }
                break;
            case "FeatureCollection":
                // allow for any type to be converted to a feature collection
                valid = true;
                break;
            default:
                // for Feature types must match
                if (obj.type == type) {
                    valid = true;
                } else {
                    //SuperMap.Console.error("Cannot convert types from " +
                    //obj.type + " to " + type);
                }
        }
        return valid;
    }

    /**
     * @function SuperMap.Format.GeoJSON.prototype.parseFeature
     * @description å°ä¸ä¸ª GeoJSON ä¸­ç feature è½¬åæ {@link SuperMap.Feature.Vector}> å¯¹è±¡ã
     * @param {Object} obj - ä» GeoJSON å¯¹è±¡ä¸­åå»ºä¸ä¸ªå¯¹è±¡ã
     * @returns {SuperMap.Feature.Vector} ä¸ä¸ªè¦ç´ ã
     */
    parseFeature(obj) {
        var feature, geometry, attributes, bbox;
        attributes = (obj.properties) ? obj.properties : {};
        bbox = (obj.geometry && obj.geometry.bbox) || obj.bbox;
        try {
            geometry = this.parseGeometry(obj.geometry);
        } catch (err) {
            // deal with bad geometries
            throw err;
        }
        feature = new Vector_Vector(geometry, attributes);
        if (bbox) {
            feature.bounds = Bounds_Bounds.fromArray(bbox);
        }
        if (obj.id) {
            feature.fid = obj.id;
        }
        return feature;
    }


    /**
     * @function SuperMap.Format.GeoJSON.prototype.parseGeometry
     * @description å°ä¸ä¸ª GeoJSON ä¸­çå ä½è¦ç´ è½¬åæ {@link SuperMap.Geometry} å¯¹è±¡ã
     * @param {Object} obj - ä» GeoJSON å¯¹è±¡ä¸­åå»ºä¸ä¸ªå¯¹è±¡ã
     * @returns {SuperMap.Geometry} ä¸ä¸ªå ä½è¦ç´ ã
     */
    parseGeometry(obj) {
        if (obj == null) {
            return null;
        }
        var geometry;
        if (obj.type == "GeometryCollection") {
            if (!(Util_Util.isArray(obj.geometries))) {
                throw "GeometryCollection must have geometries array: " + obj;
            }
            var numGeom = obj.geometries.length;
            var components = new Array(numGeom);
            for (var i = 0; i < numGeom; ++i) {
                components[i] = this.parseGeometry.apply(
                    this, [obj.geometries[i]]
                );
            }
            geometry = new Collection_Collection(components);
        } else {
            if (!(Util_Util.isArray(obj.coordinates))) {
                throw "Geometry must have coordinates array: " + obj;
            }
            if (!this.parseCoords[obj.type.toLowerCase()]) {
                throw "Unsupported geometry type: " + obj.type;
            }
            try {
                geometry = this.parseCoords[obj.type.toLowerCase()].apply(
                    this, [obj.coordinates]
                );
            } catch (err) {
                // deal with bad coordinates
                throw err;
            }
        }
        return geometry;
    }

    /**
     * @function SuperMap.Format.GeoJSON.write
     * @description åºååä¸ä¸ªè¦ç´ å¯¹è±¡ï¼å ä½å¯¹è±¡ï¼è¦ç´ å¯¹è±¡æ°ç»ä¸ºä¸ä¸ª GeoJSON å­ç¬¦ä¸²ã
     * @param {Object} obj - ä¸ä¸ª {@link SuperMap.Feature.Vector}> å¯¹è±¡ï¼ä¸ä¸ª {@link SuperMap.Geometry} å¯¹è±¡æèä¸ä¸ªè¦ç´ å¯¹è±¡æ°ç»ã
     * @param {boolean} [pretty=false] - æ¯å¦ä½¿ç¨æ¢è¡åç¼©è¿æ¥æ§å¶è¾åºã
     * @returns {string} ä¸ä¸ª GeoJSON å­ç¬¦ä¸²ï¼å®è¡¨ç¤ºäºè¾å¥çå ä½å¯¹è±¡ï¼è¦ç´ å¯¹è±¡ï¼æèè¦ç´ å¯¹è±¡æ°ç»ã
     */
    write(obj, pretty) {
        var geojson = {
            "type": null
        };
        if (Util_Util.isArray(obj)) {
            geojson.type = "FeatureCollection";
            var numFeatures = obj.length;
            geojson.features = new Array(numFeatures);
            for (var i = 0; i < numFeatures; ++i) {
                var element = obj[i];
                if (isGeometry(element)) {
                    let feature = {};
                    feature.geometry = element;
                    geojson.features[i] = this.extract.feature.apply(this, [feature]);
                } else {
                    geojson.features[i] = this.extract.feature.apply(this, [element]);
                }
            }
        } else if (isGeometry(obj)) {
            let feature = {};
            feature.geometry = obj;
            geojson = this.extract.feature.apply(this, [feature]);
        }

        function isGeometry(input) {
            return input.hasOwnProperty("parts") && input.hasOwnProperty("points");
        }

        return super.write(geojson, pretty);
    }


    /**
     * @function SuperMap.Format.GeoJSON.createCRSObject
     * @description ä»ä¸ä¸ªè¦ç´ å¯¹è±¡ä¸­åå»ºä¸ä¸ªåæ åèç³»å¯¹è±¡ã
     * @param {SuperMap.Feature.Vector} object - è¦ç´ å¯¹è±¡ã
     * @returns {Object} ä¸ä¸ªå¯ä½ä¸º GeoJSON å¯¹è±¡ç CRS å±æ§ä½¿ç¨çå¯¹è±¡ã
     */
    createCRSObject(object) {
        var proj = object.layer.projection.toString();
        var crs = {};
        if (proj.match(/epsg:/i)) {
            var code = parseInt(proj.substring(proj.indexOf(":") + 1));
            if (code == 4326) {
                crs = {
                    "type": "name",
                    "properties": {
                        "name": "urn:ogc:def:crs:OGC:1.3:CRS84"
                    }
                };
            } else {
                crs = {
                    "type": "name",
                    "properties": {
                        "name": "EPSG:" + code
                    }
                };
            }
        }
        return crs;
    }

    createAttributes(feature) {
        if (!feature) {
            return null;
        }
        var attr = {};
        processFieldsAttributes(feature, attr);
        var exceptKeys = ["fieldNames", "fieldValues", "geometry"];
        for (var key in feature) {
            if (exceptKeys.indexOf(key) > -1) {
                continue;
            }
            attr[key] = feature[key];
        }

        function processFieldsAttributes(feature, attributes) {
            if (!(feature.hasOwnProperty("fieldNames") && feature.hasOwnProperty("fieldValues"))) {
                return;
            }
            var names = feature.fieldNames,
                values = feature.fieldValues;
            for (var i in names) {
                attributes[names[i]] = values[i];
            }
        }

        return attr;
    }


    toGeometry(geometry) {
        var me = this,
            geoType = geometry.type;
        if (geoType === 'polygon') {
            geoType = GeometryType.REGION;
        }
        switch (geoType.toUpperCase()) {
            case GeometryType.POINT:
                return me.toGeoPoint(geometry);
            case GeometryType.LINE:
                return me.toGeoLine(geometry);
            case GeometryType.LINEM:
                return me.toGeoLinem(geometry);
            case GeometryType.REGION:
                return me.toGeoRegion(geometry);
            case GeometryType.RECTANGLE:
                return me.toGeoRectangle(geometry);
            case GeometryType.POINTEPS:
                return me.toGeoPoint(geometry);
            // case GeometryType.LINEEPS:
            //     return me.toGeoLineEPS();
            // case GeometryType.REGIONEPS:
            //     return me.toGeoRegionEPS();
            default:
                return geometry;
        }
    }

    /**
     * @function SuperMap.Format.GeoJSON.toGeoPoint
     * @description å°æå¡ç«¯çç¹å ä½å¯¹è±¡è½¬æ¢ä¸ºå ä½å¯¹è±¡ã
     */
    toGeoPoint(geometry) {
        var geoPoints = geometry.points || [{x: geometry.x, y: geometry.y}],
            geoParts = geometry.parts || [geoPoints.length],
            len = geoParts.length;
        if (len < 1) {
            return null;
        }
        if (len === 1) {
            return {type: "Point", x: parseFloat(geoPoints[0].x), y: parseFloat(geoPoints[0].y)};
        } else {
            for (var i = 0, pointList = []; i < len; i++) {
                pointList.push({x: parseFloat(geoPoints[i].x), y: parseFloat(geoPoints[i].y)});
            }
            return {type: "MultiPoint", components: pointList};
        }

    }


    /**
     *
     * @function SuperMap.Format.GeoJSON.toGeoPoint
     * @description å°æå¡ç«¯ççº¿å ä½å¯¹è±¡è½¬æ¢ä¸ºå ä½å¯¹è±¡ã
     */
    toGeoLine(geometry) {
        var me = this,
            geoPoints = geometry.points || [],
            geoParts = geometry.parts || [geoPoints.length],
            len = geoParts.length;
        if (len < 1) {
            return null;
        }
        if (len === 1) {
            for (var i = 0, pointList = []; i < geoParts[0]; i++) {
                pointList.push({x: parseFloat(geoPoints[i].x), y: parseFloat(geoPoints[i].y)});
            }
            //å¤æ­çº¿æ¯å¦é­åï¼å¦æé­åï¼åè¿åLinearRingï¼å¦åè¿åLineString
            if (me.isPointsEquals(pointList[0], pointList[geoParts[0] - 1])) {
                pointList.pop();
                pointList.push(pointList[0]);
            }
            return {type: "LineString", components: pointList};
        } else {
            for (var k = 0, lineList = []; k < len; k++) {
                for (var j = 0, pointArr = []; j < geoParts[k]; j++) {
                    pointArr.push({x: parseFloat(geoPoints[j].x), y: parseFloat(geoPoints[j].y)});
                }
                lineList.push(pointArr);
                geoPoints.splice(0, geoParts[k]);
            }
            return {type: "MultiLineString", components: lineList};
        }

    }


    /**
     *
     * @function SuperMap.Format.GeoJSON.toGeoLinem
     * @description å°æå¡ç«¯çè·¯ç±çº¿å ä½å¯¹è±¡è½¬æ¢ä¸ºå ä½å¯¹è±¡ã
     */
    toGeoLinem(geometry) {
        var me = this,
            geoPoints = geometry.points || [],
            geoParts = geometry.parts || [geoPoints.length],
            len = geoParts.length,
            lineList = [];
        if (len < 1) {
            return null;
        }
        for (var i = 0, pointIndex = 0, pointList = []; i < len; i++) {
            for (var j = 0; j < geoParts[i]; j++) {
                pointList.push({
                    x: parseFloat(geoPoints[pointIndex + j].x),
                    y: parseFloat(geoPoints[pointIndex + j].y),
                    measure: parseFloat(geoPoints[pointIndex + j].measure)
                });
            }
            pointIndex += geoParts[i];
            //å¤æ­çº¿æ¯å¦é­åï¼å¦æé­åï¼åè¿åLinearRingï¼å¦åè¿åLineString
            if (me.isPointsEquals(pointList[0], pointList[geoParts[0] - 1])) {
                pointList.pop();
                pointList.push(pointList[0]);
            }
            lineList.push(pointList);
            pointList = [];
        }
        return {type: "MultiLineString", components: lineList};
    }

    /**
     *
     * @function SuperMap.Format.GeoJSON.toGeoRegion
     * @description å°æå¡ç«¯çé¢å ä½å¯¹è±¡è½¬æ¢ä¸ºå ä½å¯¹è±¡ã
     */
    toGeoRegion(geometry) {
        var CCWArray = [],
            geoPoints = geometry.points || [],
            geoParts = geometry.parts || [geoPoints.length],
            len = geoParts.length;
        if (len < 1) {
            return null;
        }
        var polygonArray = new Array();
        for (var i = 0, pointIndex = 0, pointList = []; i < len; i++) {
            for (var j = 0; j < geoParts[i]; j++) {
                pointList.push({
                    x: parseFloat(geoPoints[pointIndex + j].x),
                    y: parseFloat(geoPoints[pointIndex + j].y)
                });
            }

            pointIndex += geoParts[i];
            var linearRing = pointList.concat();
            linearRing.pop();
            linearRing.push(linearRing[0]);

            if (this.isClockWise(linearRing) > 0) {
                CCWArray.push(linearRing);
            } else {
                polygonArray.push([linearRing]);
            }

            if (i === len - 1) {
                var polyLength = polygonArray.length;
                if (polyLength) {
                    polygonArray[polyLength - 1] = polygonArray[polyLength - 1].concat(CCWArray);
                } else {
                    for (var k = 0, length = CCWArray.length; k < length; k++) {
                        polygonArray.push([CCWArray[k]].concat());
                    }
                }
            }
            pointList = [];
        }
        return {type: "MultiPolygon", components: polygonArray};
    }

    /**
     * 
     * @function SuperMap.Format.GeoJSON.toGeoRectangle
     * @description å°æå¡ç«¯çé¢å ä½å¯¹è±¡è½¬æ¢ä¸ºå ä½å¯¹è±¡ã
     */
    toGeoRectangle(geometry) {
        var me = this;
        var center = geometry.center;
        var halfWidth = geometry.width / 2;
        var halfHeight = geometry.height / 2;

        var serverRegion = {
            id: geometry.id,
            points: [
                {x: center.x - halfWidth, y: center.y + halfHeight},
                {x: center.x + halfWidth, y: center.y + halfHeight},
                {x: center.x + halfWidth, y: center.y - halfHeight},
                {x: center.x - halfWidth, y: center.y - halfHeight}
            ],
            partTopo: geometry.partTopo,
            rotation: geometry.rotation,
            style: geometry.style,
            type: GeometryType.REGION
        };

        return me.toGeoRegion(serverRegion);
    }

    isClockWise(points) {
        var length = points.length;
        if (length < 3) {
            return 0.0;
        }
        var s = points[0].y * (points[length - 1].x - points[1].x);
        points.push(points[0]);
        for (var i = 1; i < length; i++) {
            s += points[i].y * (points[i - 1].x - points[i + 1].x);
        }
        return s * 0.5;
    }

    isPointsEquals(point1, point2) {
        return (point1.x === point2.x && point1.y === point2.y);
    }
}

SuperMap.Format.GeoJSON = GeoJSON_GeoJSON;
// CONCATENATED MODULE: ./src/common/format/WKT.js












/**
 * @class SuperMap.Format.WKT
 * @classdesc ç¨äºè¯»åå¸¸è§ææ¬çç±»ãéè¿ {@link SuperMap.Format.WKT} æé å¨æ¥åå»ºä¸ä¸ªæ°çå®ä¾ã
 * @category BaseTypes Format
 * @extends {SuperMap.Format}
 * @param {Object} options - å¯éçéé¡¹å¯¹è±¡ï¼å¶å±æ§å°è¢«è®¾ç½®å°å®ä¾ãoption å·ä½éç½®é¡¹ç»§æ¿èª {@link SuperMap.Format}ã
 */
class WKT_WKT extends Format_Format {

    constructor(options) {
        super(options);
        this.regExes = {
            'typeStr': /^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,
            'spaces': /\s+/,
            'parenComma': /\)\s*,\s*\(/,
            'doubleParenComma': /\)\s*\)\s*,\s*\(\s*\(/,  // can't use {2} here
            'trimParens': /^\s*\(?(.*?)\)?\s*$/
        };
        this.CLASS_NAME = "SuperMap.Format.WKT"; /**
         * @private
         * @description Object with properties corresponding to the geometry types.
         * Property values are functions that do the actual data extraction.
         */
        this.extract = {
            /**
             * @description Return a space delimited string of point coordinates.
             * @param {SuperMap.Geometry.Point} point
             * @returns  {String} A string of coordinates representing the point
             */
            'point': function (point) {
                return point.x + ' ' + point.y;
            },

            /**
             * @description  Return a comma delimited string of point coordinates from a multipoint.
             * @param {SuperMap.Geometry.MultiPoint} multipoint
             * @returns  {String} A string of point coordinate strings representing
             *                  the multipoint
             */
            'multipoint'(multipoint) {
                var array = [];
                for (var i = 0, len = multipoint.components.length; i < len; ++i) {
                    array.push('(' +
                        this.extract.point.apply(this, [multipoint.components[i]]) +
                        ')');
                }
                return array.join(',');
            },

            /**
             * @description  Return a comma delimited string of point coordinates from a line.
             * @param {SuperMap.Geometry.LineString} linestring
             * @returns  {String} A string of point coordinate strings representing
             *                  the linestring
             */
            'linestring'(linestring) {
                var array = [];
                for (var i = 0, len = linestring.components.length; i < len; ++i) {
                    array.push(this.extract.point.apply(this, [linestring.components[i]]));
                }
                return array.join(',');
            },

            /**
             * @description  Return a comma delimited string of linestring strings from a multilinestring.
             * @param {SuperMap.Geometry.MultiLineString} multilinestring
             * @returns  {String} A string of of linestring strings representing
             *                  the multilinestring
             */
            'multilinestring'(multilinestring) {
                var array = [];
                for (var i = 0, len = multilinestring.components.length; i < len; ++i) {
                    array.push('(' +
                        this.extract.linestring.apply(this, [multilinestring.components[i]]) +
                        ')');
                }
                return array.join(',');
            },

            /**
             * @description  Return a comma delimited string of linear ring arrays from a polygon.
             * @param {SuperMap.Geometry.Polygon} polygon
             * @returns  {String} An array of linear ring arrays representing the polygon
             */
            'polygon'(polygon) {
                var array = [];
                for (var i = 0, len = polygon.components.length; i < len; ++i) {
                    array.push('(' +
                        this.extract.linestring.apply(this, [polygon.components[i]]) +
                        ')');
                }
                return array.join(',');
            },

            /**
             * @description  Return an array of polygon arrays from a multipolygon.
             * @param {SuperMap.Geometry.MultiPolygon} multipolygon
             * @returns  {String} An array of polygon arrays representing
             *                  the multipolygon
             */
            'multipolygon'(multipolygon) {
                var array = [];
                for (var i = 0, len = multipolygon.components.length; i < len; ++i) {
                    array.push('(' +
                        this.extract.polygon.apply(this, [multipolygon.components[i]]) +
                        ')');
                }
                return array.join(',');
            },

            /**
             * @description  Return the WKT portion between 'GEOMETRYCOLLECTION(' and ')' for an <SuperMap.Geometry.Collection>
             * @param {SuperMap.Geometry.Collection} collection
             * @returns  {String} internal WKT representation of the collection
             */
            'collection'(collection) {
                var array = [];
                for (var i = 0, len = collection.components.length; i < len; ++i) {
                    array.push(this.extractGeometry.apply(this, [collection.components[i]]));
                }
                return array.join(',');
            }

        };

        /**
         * @private
         * @description Object with properties corresponding to the geometry types.
         * Property values are functions that do the actual parsing.
         */
        this.parse = {
            /**
             * @private
             * @description  Return point feature given a point WKT fragment.
             * @param {String} str A WKT fragment representing the point
             * @returns  {SuperMap.Feature.Vector} A point feature
             *
             */
            'point': function (str) {
                var coords = StringExt.trim(str).split(this.regExes.spaces);
                return new Vector_Vector(new Point_Point(coords[0], coords[1])
                );
            },

            /**
             * @description  Return a multipoint feature given a multipoint WKT fragment.
             * @param {String} A WKT fragment representing the multipoint
             * @returns  {SuperMap.Feature.Vector} A multipoint feature
             * @private
             */
            'multipoint': function (str) {
                var point;
                var points = StringExt.trim(str).split(',');
                var components = [];
                for (var i = 0, len = points.length; i < len; ++i) {
                    point = points[i].replace(this.regExes.trimParens, '$1');
                    components.push(this.parse.point.apply(this, [point]).geometry);
                }
                return new Vector_Vector(
                    new MultiPoint_MultiPoint(components)
                );
            },

            /**
             * @description  Return a linestring feature given a linestring WKT fragment.
             * @param {String} A WKT fragment representing the linestring
             * @returns  {SuperMap.Feature.Vector} A linestring feature
             * @private
             */
            'linestring': function (str) {
                var points = StringExt.trim(str).split(',');
                var components = [];
                for (var i = 0, len = points.length; i < len; ++i) {
                    components.push(this.parse.point.apply(this, [points[i]]).geometry);
                }
                return new Vector_Vector(
                    new LineString_LineString(components)
                );
            },

            /**
             * @description  Return a multilinestring feature given a multilinestring WKT fragment.
             * @param {String} A WKT fragment representing the multilinestring
             * @returns  {SuperMap.Feature.Vector} A multilinestring feature
             * @private
             */
            'multilinestring': function (str) {
                var line;
                var lines = StringExt.trim(str).split(this.regExes.parenComma);
                var components = [];
                for (var i = 0, len = lines.length; i < len; ++i) {
                    line = lines[i].replace(this.regExes.trimParens, '$1');
                    components.push(this.parse.linestring.apply(this, [line]).geometry);
                }
                return new Vector_Vector(
                    new MultiLineString_MultiLineString(components)
                );
            },

            /**
             * @description  Return a polygon feature given a polygon WKT fragment.
             * @param {String} A WKT fragment representing the polygon
             * @returns  {SuperMap.Feature.Vector} A polygon feature
             * @private
             */
            'polygon': function (str) {
                var ring, linestring, linearring;
                var rings = StringExt.trim(str).split(this.regExes.parenComma);
                var components = [];
                for (var i = 0, len = rings.length; i < len; ++i) {
                    ring = rings[i].replace(this.regExes.trimParens, '$1');
                    linestring = this.parse.linestring.apply(this, [ring]).geometry;
                    linearring = new LinearRing_LinearRing(linestring.components);
                    components.push(linearring);
                }
                return new Vector_Vector(
                    new Polygon_Polygon(components)
                );
            },

            /**
             * @private
             * @description  Return a multipolygon feature given a multipolygon WKT fragment.
             * @param {String} A WKT fragment representing the multipolygon
             * @returns  {SuperMap.Feature.Vector} A multipolygon feature
             *
             */
            'multipolygon': function (str) {
                var polygon;
                var polygons = StringExt.trim(str).split(this.regExes.doubleParenComma);
                var components = [];
                for (var i = 0, len = polygons.length; i < len; ++i) {
                    polygon = polygons[i].replace(this.regExes.trimParens, '$1');
                    components.push(this.parse.polygon.apply(this, [polygon]).geometry);
                }
                return new Vector_Vector(
                    new MultiPolygon_MultiPolygon(components)
                );
            },


            /**
             * @description  Return an array of features given a geometrycollection WKT fragment.
             * @param {String} A WKT fragment representing the geometrycollection
             * @returns  {Array} An array of SuperMap.Feature.Vector
             * @private
             */
            'geometrycollection': function (str) {
                // separate components of the collection with |
                str = str.replace(/,\s*([A-Za-z])/g, '|$1');
                var wktArray = StringExt.trim(str).split('|');
                var components = [];
                for (var i = 0, len = wktArray.length; i < len; ++i) {
                    components.push(this.read(wktArray[i]));
                }
                return components;
            }

        };

    }


    /**
     * @function SuperMap.Format.WKT.prototype.read
     * @description Deserialize a WKT string and return a vector feature or an
     * array of vector features.  Supports WKT for POINT, MULTIPOINT,
     * LINESTRING, MULTILINESTRING, POLYGON, MULTIPOLYGON, and
     * GEOMETRYCOLLECTION.
     * @param {string} wkt - A WKT string
     * @returns {SuperMap.Feature.Vector|Array} A feature or array of features for
     * GEOMETRYCOLLECTION WKT.
     */
    read(wkt) {
        var features, type, str;
        wkt = wkt.replace(/[\n\r]/g, " ");
        var matches = this.regExes.typeStr.exec(wkt);
        if (matches) {
            type = matches[1].toLowerCase();
            str = matches[2];
            if (this.parse[type]) {
                features = this.parse[type].apply(this, [str]);
            }
        }
        return features;
    }


    /**
     * @function SuperMap.Format.WKT.prototype.write
     * @description Serialize a feature or array of features into a WKT string.
     * @param {(SuperMap.Feature.Vector|Array)} features - A feature or array of features
     * @returns {string} The WKT string representation of the input geometries
     */
    write(features) {
        var collection, geometry, isCollection;
        if (features.constructor === Array) {
            collection = features;
            isCollection = true;
        } else {
            collection = [features];
            isCollection = false;
        }
        var pieces = [];
        if (isCollection) {
            pieces.push('GEOMETRYCOLLECTION(');
        }
        for (var i = 0, len = collection.length; i < len; ++i) {
            if (isCollection && i > 0) {
                pieces.push(',');
            }
            geometry = collection[i].geometry;
            pieces.push(this.extractGeometry(geometry));
        }
        if (isCollection) {
            pieces.push(')');
        }
        return pieces.join('');
    }

    /**
     * @function SuperMap.Format.WKT.prototype.extractGeometry
     * @description Entry point to construct the WKT for a single Geometry object.
     * @param {SuperMap.Geometry} geometry 
     * @returns {string} A WKT string of representing the geometry
     */
    extractGeometry(geometry) {
        var type = geometry.CLASS_NAME.split('.')[2].toLowerCase();
        if (!this.extract[type]) {
            return null;
        }
        var wktType = type === 'collection' ? 'GEOMETRYCOLLECTION' : type.toUpperCase();
        var data = wktType + '(' + this.extract[type].apply(this, [geometry]) + ')';
        return data;
    }
}

SuperMap.Format.WKT = WKT_WKT;
// CONCATENATED MODULE: ./src/common/format/index.js









// CONCATENATED MODULE: ./src/common/control/img/Logo.js
var LogoBase64 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF4AAAAdCAYAAAAjHtusAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozYWZlOGIwMi01MWE3LTRiZjYtYWVkYS05MGQ2ZTQ4YjZiMmUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODg0NkFBQUE3RjEzMTFFNzhFRjJFQkY4RjcxQjc1NjIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODg0NkFBQTk3RjEzMTFFNzhFRjJFQkY4RjcxQjc1NjIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4MWI3NzdhNC1lZmEyLTQ1MzUtOGQzNi03MmRjNDkyODMzN2UiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpjYTYzODVjMi1jNDQ1LTExN2EtYTc0ZC1lM2I5MzJlMGE4Y2QiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5q1HM0AAAF/ElEQVR42tSabYhUVRjHZ7W01C1uaCRW4F3oi9SXCUnwQ9gsGUFvOEtQH1bLu5VS9sbYh5KicjYt29qiGQwVg2xWWKgocob91AvC+CWsoJqB3qHMSdTMpZyeU/+Df07n3pk7997Z6cBv99z7nHvOvf/z/pxJNZvNVI/jCKXmv6EquAmVkxPSlvtp2GItr0/96fFQForChJAWDiVYTkMYMu4XBFcYjLOwWS3sNwmn8NGzZ0h4Flv/zwIdchAnh/slCGmmKUNIBzYPaXOUr0vPuEjD71JAPh7l61embzinhV3V8nnCGmGT8LwlzSL8/yUh4Tfjo9T/CgnCIYNKycA2Qq21AcHU/VHE80Idoo3Qs0W6p0UtUnkZvEMDeVcCyqxEafF7hL8Qf0oYsIj+lfC9cH1CwhchWAGCtZO+AooQOkdC1Km1VtCb63StW73uFSzgKFUkNwBbmZGGmqowhvg8ZNpH9oXChcIcYRdeNomgxLkaH+S1SGubAxyIpFv+Zp+0DYjrAS00j/dem2VGEl6FJ4Qa4quEu8j2hTCJ+GJhe4JjfQMf6JCYPPbysMPxBlp0BUKOogEF9Rg9/heNvNKYfM0KsZUZaYxX4STGrzJa+zbhPeFH2DcK10KItcI+pI0rVElwXl1ULaKnIJhDw0oRQpTQc1zcbwRU8ATy4DR6yMlTzwkqMziEWHvubJ4Nk4ZtHdnqwvwY17xq3Z4FjrG+z2Kdrdf2ZSGD+xlLPh6t1R0jP9fI22ZzKI92yvQl7EbmBxI4S7Y+vIAOL87QZqsc5uNnssxZIcfYjXT9snCR7jjobidp+FkxA2v+Cq1QervMDmp4P7Xs3YZtE9kOC3P/By6JGaETl8ElwueYTNTDq4UDsKnd7YfCNbT239LF1udS72xYJt1UWxNfN4IIP4bWuTpEja01JtMFZFsm/AHbtHBlDE6yasA4moYTrUbvdBTXHqUrAH4uSadbyzF+vbBM2IsNkS3MNa5305JxqfA02T4TnkX8XOH1mPw8ruVejpxbI9hZD2Cz1U7LdrrUvjP/WfZinNZhr6V27hP+FPZh9aLvLxVO4DllX0G2OcKnlO/DCblxaz6uXBtmi+8mBaP3/SP8IuEIiTRoPPQm2TaEmEyXo0JU+F0YiPFD0hhOsiE/vqeEVwyTgF8L51OilcIZ2I4Ll5NttvAJPfukUeB2sk0ZPSbKIUUJpCII7+DasWy08uhNNazT0wGHI7mAtB7KqMKm38HhDdAUibTVKGicbB8YAqrJ9DRsp43JdB4qUof1HQrPE6XTQWu3Ce/inVzjXhXpMiTwUYugNVQ+p80jrUsV5EH0POKeuXO9QjhFq5GryNYvfEMCDhsftYVsB9ETtG0V9ZjfhCURhbcJFpfwVZ9jvhxsLHwTYtp2svlWQw3vXL8UnqHVSIG8l8ex+tHhBXgjddgqHEZ8ufAA2aaEnYgrF/KrPXrEmMUqZ9THLW06xhoBaVueQpkug+ewOUphE3Qv2Q5gGamXYa+QbVq4O+DQ5FHyZqrjxNt7UHh9uuRa0F7HjCF8o9PCTOGnscM7g2u1Hl9C9oeEnxC/1ajZg8JLiM9Hj9GHJseMShwL2DO0G5yEWn3Zh1QUods5CPkIoqlwAZxhXMsb6HrcEPBxchhdJ6wj29vCW4hfLOzo8J3rltYX50nXQAATSf/K4DEaGlTLvplsk/QCpoD60EQ7gLYZc8H9wq+I3yncEOEcNhuz6HWf3XEiwU/4Y8YEqVp2P10rt+8REvBGw026i4aDcbL9jF8r8Blmf4fCOzhViiscskygXRdehf3CO4hfigmTBXyQrl8TFtD1IzQX3CbcQrY3hPcRv4z8OmHPXwchVNln2MmE7BX6VwIFi/he6uxvb6JM3m0fdqvx/ATidxg2JeC7VDErAw5NzGfvwRJVheEIQ8Mg/pdwIM+UOmi9Q8ivCsrIy0tF+wVbEcLrd3Pb2XisEb4Tdlhsi4WP4RBbaLGrHfC3PrvMIezy9rTpGm5lz9LOMG15xvFxD/j5gjzjjDbMOzk+9zzt3v5bgAEAibzFeFHVgYkAAAAASUVORK5CYII=";
// CONCATENATED MODULE: ./src/common/control/TimeControlBase.js



/**
 * @class SuperMap.TimeControlBase
 * @classdesc æ¶é´æ§å¶åºç±»ç±»ã
 * @category  Control
 * @param {Object} options - è¯¥ç±»å¼æ¾çå¯éå±æ§ã
 * @param {number} [options.speed=1] - éåº¦ãä¸è½å°äº 0ï¼ï¼æ¯å¸§æ¸²æçæ°æ®ä¹é´çé´éä¸º1ï¼ï¼è®¾ç½®è¶å¤§éåº¦è¶å¿«ã
 * @param {number} [options.frequency=1000] - å·æ°é¢çï¼åä½ msï¼ï¼æå¡å¨å·æ°çæ¶é´é´éã
 * @param {number} [options.startTime=0] - èµ·å§æ¶é´ï¼å¿é¡»ä¸ºæ°å­ï¼ä¸å°äºç­äº endTimeãå¦æä¸è®¾ç½®ï¼åå§åæ¶ä¸º 0ï¼å»ºè®®è®¾ç½®ã
 * @param {number} [options.endTime] - ç»ææ¶é´ï¼å¿é¡»ä¸ºæ°å­ï¼ä¸å¤§äºç­äº startTimeãå¦æä¸è®¾ç½®ï¼åå§åæ¶ä»¥å½åæ¶é´è¿è¡è®¾ç½®ï¼å»ºè®®è®¾ç½®ã
 * @param {boolean} [options.repeat=true] - æ¯å¦éå¤å¾ªç¯ã
 * @param {boolean} [options.reverse=false] - æ¯å¦ååã
 */
class TimeControlBase_TimeControlBase {


    constructor(options) {
        //è®¾ç½®æ­¥é¿ï¼å·æ°é¢çãå¼å§ç»ææ¶é´ãæ¯å¦å¾ªç¯ãæ¯å¦åå
        var me = this;
        options = options || {};


        /**
         * @member {number} [SuperMap.TimeControlBase.prototype.speed=1]
         * @description æ­¥é¿ï¼å¿é¡»ä¸ºéè´æ°ï¼é»è®¤ä¸º1ï¼è¡¨ç¤ºååä¸¤æ¬¡æ¸²æçæ°æ®ä¹é´çé´éä¸º1ï¼
         */
        this.speed = (options.speed && options.speed >= 0) ? options.speed : 1;

        /**
         * @member {number} [SuperMap.TimeControlBase.prototype.frequency=1000]
         * @description å·æ°é¢ç(åä½ms)ï¼æå¡å¨å·æ°çæ¶é´é´éã
         */
        this.frequency = (options.speed && options.frequency >= 0) ? options.frequency : 1000;

        /**
         * @member {number} [SuperMap.TimeControlBase.prototype.startTime=0]
         * @description è®°å½çèµ·å§æ¶é´ï¼å¿é¡»ä¸ºæ°å­ï¼
         *              å¦æä¸è®¾ç½®ï¼åå§åæ¶ä¸º0ï¼å»ºè®®è®¾ç½®
         */
        this.startTime = (options.startTime && options.startTime != null) ? options.startTime : 0;

        /**
         * @member {number} SuperMap.TimeControlBase.prototype.endTime
         * @description è®°å½çç»ææ¶é´ï¼å¿é¡»ä¸ºæ°å­ï¼
         *              å¦æä¸è®¾ç½®ï¼åå§åæ¶ä»¥å½åæ¶é´è¿è¡è®¾ç½®ï¼å»ºè®®è®¾ç½®
         */
        this.endTime = (options.endTime && options.endTime != null && options.endTime >= me.startTime) ? options.endTime : +new Date();

        /**
         * @member {boolean} [SuperMap.TimeControlBase.prototype.repeat=true]
         * @description æ¯å¦éå¤å¾ªç¯ã
         */
        this.repeat = (options.repeat !== undefined) ? options.repeat : true;

        /**
         * @member {boolean} [SuperMap.TimeControlBase.prototype.reverse=false]
         * @description æ¯å¦ååã
         */
        this.reverse = (options.reverse !== undefined) ? options.reverse : false;

        /**
         * @member {number} SuperMap.TimeControlBase.prototype.currentTime
         * @description è®°å½è¿æçæ¶é´ï¼ä¹å°±æ¯å½åå¸§è¿è¡å°çæ¶é´ã
         */
        this.currentTime = null;

        /**
         * @member {number} SuperMap.TimeControlBase.prototype.oldTime
         * @description è®°å½ä¸ä¸å¸§çæ¶é´ï¼ä¹å°±æ¯ä¹åè¿è¡å°çæ¶é´ã
         */
        this.oldTime = null;

        /**
         * @member {boolean} [SuperMap.TimeControlBase.prototype.running=false]
         * @description è®°å½å½åæ¯å¦å¤äºè¿è¡ä¸­ã
         */
        this.running = false;


        /**
         * @private
         * @member {Array.<string>} SuperMap.TimeControlBase.prototype.EVENT_TYPES
         * @description æ­¤ç±»æ¯æçäºä»¶ç±»åã
         *
         */
        this.EVENT_TYPES = ["start", "pause", "stop"];

        /**
         * @private
         * @member {SuperMap.Events} SuperMap.TimeControlBase.prototype.events
         * @description äºä»¶
         */
        me.events = new Events_Events(this, null, this.EVENT_TYPES);

        me.speed = Number(me.speed);
        me.frequency = Number(me.frequency);
        me.startTime = Number(me.startTime);
        me.endTime = Number(me.endTime);

        me.startTime = Date.parse(new Date(me.startTime));
        me.endTime = Date.parse(new Date(me.endTime));

        //åå§åå½åæ¶é´
        me.currentTime = me.startTime;

        this.CLASS_NAME = "SuperMap.TimeControlBase";
    }


    /**
     * @function SuperMap.TimeControlBase.prototype.updateOptions
     * @param {Object} options - è®¾ç½®åæ°å¾å¯éåæ°ãè®¾ç½®æ­¥é¿ï¼å·æ°é¢çãå¼å§ç»ææ¶é´ãæ¯å¦å¾ªç¯ãæ¯å¦ååã
     */
    updateOptions(options) {
        //è®¾ç½®æ­¥é¿ï¼å·æ°é¢çãå¼å§ç»ææ¶é´ãæ¯å¦å¾ªç¯ãæ¯å¦åå
        var me = this;
        options = options || {};
        if (options.speed && options.speed >= 0) {
            me.speed = options.speed;
            me.speed = Number(me.speed);
        }

        if (options.speed && options.frequency >= 0) {
            me.frequency = options.frequency;
            me.frequency = Number(me.frequency);
        }

        if (options.startTime && options.startTime != null) {
            me.startTime = options.startTime;
            me.startTime = Date.parse(new Date(me.startTime));
        }

        if (options.endTime && options.endTime != null && options.endTime >= me.startTime) {
            me.endTime = options.endTime;
            me.endTime = Date.parse(new Date(me.endTime));
        }

        if (options.repeat != null) {
            me.repeat = options.repeat;
        }

        if (options.reverse != null) {
            me.reverse = options.reverse;
        }
    }


    /**
     * @function SuperMap.TimeControlBase.prototype.start
     * @description å¼å§ã
     */
    start() {
        var me = this;

        if (!me.running) {
            me.running = true;
            me.tick();
            me.events.triggerEvent('start', me.currentTime);
        }
    }


    /**
     * @function SuperMap.TimeControlBase.prototype.pause
     * @description æåã
     */
    pause() {
        var me = this;
        me.running = false;
        me.events.triggerEvent('pause', me.currentTime);
    }


    /**
     * @function SuperMap.TimeControlBase.prototype.stop
     * @description åæ­¢ï¼åæ­¢åè¿åèµ·å§ç¶æã
     */
    stop() {
        var me = this;
        //åæ­¢æ¶ æ¶é´è®¾ç½®ä¸ºå¼å§æ¶é´
        me.currentTime = me.startTime;
        //å¦ææ­£å¨è¿è¡ï¼ä¿®æ¹ä¸ºåå§æ¶é´å³å¯ç»å¶ä¸å¸§
        if (me.running) {
            me.running = false;
        }
        me.events.triggerEvent('stop', me.currentTime);
    }


    /**
     * @function SuperMap.TimeControlBase.prototype.toggle
     * @description å¼å³åæ¢ï¼åæ¢çæ¯å¼å§åæåã
     */
    toggle() {
        var me = this;

        if (me.running) {
            me.pause();
        } else {
            me.start();
        }
    }


    /**
     * @function SuperMap.TimeControlBase.prototype.setSpeed
     * @description è®¾ç½®æ­¥é¿ã
     * @param {number} [speed=1] - æ­¥é¿ï¼å¿é¡»ä¸ºéè´æ°ã
     * @returns {boolean} true ä»£è¡¨è®¾ç½®æåï¼false è®¾ç½®å¤±è´¥ï¼speed å°äº 0 æ¶å¤±è´¥ï¼ã
     */
    setSpeed(speed) {
        var me = this;
        if (speed >= 0) {
            me.speed = speed;
            return true;
        }
        return false;
    }


    /**
     * @function SuperMap.TimeControlBase.prototype.getSpeed
     * @description è·åæ­¥é¿ã
     * @returns {number} è¿åå½åçæ­¥é¿
     */
    getSpeed() {
        return this.speed;
    }


    /**
     * @function SuperMap.TimeControlBase.prototype.setFrequency
     * @description è®¾ç½®å·æ°é¢çã
     * @param {number} [frequency=1000] - å·æ°é¢çï¼åä½ä¸º msã
     * @returns {boolean} true ä»£è¡¨è®¾ç½®æåï¼false è®¾ç½®å¤±è´¥ï¼frequency å°äº 0 æ¶å¤±è´¥ï¼ã
     */
    setFrequency(frequency) {
        var me = this;
        if (frequency >= 0) {
            me.frequency = frequency;
            return true;
        }
        return false;
    }


    /**
     * @function SuperMap.TimeControlBase.prototype.getFrequency
     * @description è·åå·æ°é¢çã
     * @returns {number} è¿åå½åçå·æ°é¢çã
     */
    getFrequency() {
        return this.frequency;
    }


    /**
     * @function SuperMap.TimeControlBase.prototype.setStartTime
     * @description è®¾ç½®èµ·å§æ¶é´ï¼è®¾ç½®å®æåå¦æå½åæ¶é´å°äºèµ·å§æ¶é´ï¼åä»èµ·å§æ¶é´å¼å§ã
     * @param {number} startTime - éè¦è®¾ç½®çèµ·å§æ¶é´ã
     * @returns {boolean} true ä»£è¡¨è®¾ç½®æåï¼false è®¾ç½®å¤±è´¥ï¼startTime å¤§äºç»ææ¶é´æ¶å¤±è´¥ï¼ã
     */
    setStartTime(startTime) {
        var me = this;
        startTime = Date.parse(new Date(startTime));
        //èµ·å§æ¶é´ä¸å¾å¤§äºç»ææ¶é´
        if (startTime > me.endTime) {
            return false;
        }
        me.startTime = startTime;
        //å¦æå½åæ¶é´å°äºäºèµ·å§æ¶é´ï¼åä»å½åèµ·å§æ¶é´å¼å§
        if (me.currentTime < me.startTime) {
            me.currentTime = me.startTime;
            me.tick();
        }
        return true;
    }


    /**
     * @function SuperMap.TimeControlBase.prototype.getStartTime
     * @description è·åèµ·å§æ¶é´ã
     * @returns {number} è¿åå½åçèµ·å§æ¶é´ã
     */
    getStartTime() {
        return this.startTime;
    }


    /**
     * @function SuperMap.TimeControlBase.prototype.setEndTime
     * @description è®¾ç½®ç»ææ¶é´ï¼è®¾ç½®å®æåå¦æå½åæ¶é´å¤§äºç»æï¼åä»èµ·å§æ¶é´å¼å§ã
     * @param {number} endTime - éè¦è®¾ç½®çç»ææ¶é´ã
     * @returns {boolean} true ä»£è¡¨è®¾ç½®æåï¼false è®¾ç½®å¤±è´¥ï¼endTime å°äºå¼å§æ¶é´æ¶å¤±è´¥ï¼ã
     */
    setEndTime(endTime) {
        var me = this;
        me.endTime = Date.parse(new Date(me.endTime));
        //ç»ææ¶é´ä¸å¾å°äºå¼å§æ¶é´
        if (endTime < me.startTime) {
            return false;
        }
        me.endTime = endTime;
        //å¦æå½åæ¶é´å¤§äºäºç»ææ¶é´ï¼åä»èµ·å§æ¶é´å¼å§
        if (me.currentTime >= me.endTime) {
            me.currentTime = me.startTime;
            me.tick();
        }
        return true;
    }


    /**
     * @function SuperMap.TimeControlBase.prototype.getEndTime
     * @description è·åç»ææ¶é´ã
     * @returns {number} è¿åå½åçç»ææ¶é´ã
     */
    getEndTime() {
        return this.endTime;
    }


    /**
     * @function SuperMap.TimeControlBase.prototype.setCurrentTime
     * @description è®¾ç½®å½åæ¶é´ã
     * @param {number} currentTime - éè¦è®¾ç½®çå½åæ¶é´ã
     * @returns {boolean} true ä»£è¡¨è®¾ç½®æåï¼false è®¾ç½®å¤±è´¥ã
     */
    setCurrentTime(currentTime) {
        var me = this;
        me.currentTime = Date.parse(new Date(me.currentTime));
        //ç»ææ¶é´ä¸å¾å°äºå¼å§æ¶é´
        if (currentTime >= me.startTime && currentTime <= me.endTime) {
            me.currentTime = currentTime;
            me.startTime = me.currentTime;
            me.tick();
            return true;
        }
        return false;
    }


    /**
     * @function SuperMap.TimeControlBase.prototype.getCurrentTime
     * @description è·åå½åæ¶é´ã
     * @returns {number} è¿åå½åæ¶é´ã
     */
    getCurrentTime() {
        return this.currentTime;
    }


    /**
     * @function SuperMap.TimeControlBase.prototype.setRepeat
     * @description è®¾ç½®æ¯å¦éå¤å¾ªç¯ã
     * @param {boolean} [repeat=true] - æ¯å¦éå¤å¾ªç¯ã
     */
    setRepeat(repeat) {
        this.repeat = repeat;
    }


    /**
     * @function SuperMap.TimeControlBase.prototype.getRepeat
     * @description è·åæ¯å¦éå¤å¾ªç¯ï¼é»è®¤æ¯ trueã
     * @returns {boolean} è¿åæ¯å¦éå¤å¾ªç¯ã
     */
    getRepeat() {
        return this.repeat;
    }


    /**
     * @function SuperMap.TimeControlBase.prototype.setReverse
     * @description è®¾ç½®æ¯å¦ååã
     * @param {boolean} [reverse=false] - æ¯å¦ååã
     */
    setReverse(reverse) {
        this.reverse = reverse;
    }


    /**
     * @function SuperMap.TimeControlBase.prototype.getReverse
     * @description è·åæ¯å¦ååï¼é»è®¤æ¯falseã
     * @returns {boolean} è¿åæ¯å¦ååã
     */
    getReverse() {
        return this.reverse;
    }


    /**
     * @function SuperMap.TimeControlBase.prototype.getRunning
     * @description è·åè¿è¡ç¶æã
     * @returns {boolean} true ä»£è¡¨æ­£å¨è¿è¡ï¼false åè¡¨æ²¡æè¿è¡ã
     */
    getRunning() {
        return this.running;
    }


    /**
     * @function SuperMap.TimeControlBase.prototype.destroy
     * @description éæ¯ Animator å¯¹è±¡ï¼éæ¾èµæºã
     */
    destroy() {
        var me = this;
        me.speed = null;
        me.frequency = null;
        me.startTime = null;
        me.endTime = null;
        me.currentTime = null;
        me.repeat = null;
        me.running = false;
        me.reverse = null;
    }


    tick() {
        //TODO æ¯æ¬¡å·æ°æ§è¡çæä½ãå­ç±»å®ç°
    }

}

SuperMap.TimeControlBase = TimeControlBase_TimeControlBase;


// CONCATENATED MODULE: ./src/common/control/TimeFlowControl.js



/**
 * @class SuperMap.TimeFlowControl
 * @classdesc æ¶é´ç®¡çç±»ã
 * @category  Control
 * @description æ­¤ç±»åªè´è´£æ¶é´ä¸çæ§å¶ï¼å·ä½æ§è¡çæä½éè¦ç¨æ·å¨åå§åæ¶çåè°å½æ°åé¨è¿è¡å®ç°ã
 * å¦è®¾ç½®èµ·å§æ¶é´ä¸º 1000ï¼ç»ææ¶é´æ¯ 2000ï¼æ­¥é¿è®¾ç½®ä¸º 1ï¼
 * é£ä¹è¡¨ç¤ºæç§æ¯æ¬¡1å¹´ï¼å¯ä»¥éè¿ setSpeed è¿è¡ä¿®æ¹ï¼çååä»å¬å 1000 å¹´å¼å§å°å¬å 2000 å¹´ä¸ºæ­¢ï¼é»è®¤æ¯ 1 ç§ä¼ 1 æ¬¡ï¼éè¿ setFrequency ä¿®æ¹ï¼
 * @extends {SuperMap.TimeControlBase}
 * @param {function} callback - æ¯æ¬¡å·æ°åè°å½æ°ãå·ä½çææéè¦ç¨æ·å¨æ­¤åè°å½æ°éé¢å®ç°ã
 * @param {Object} options - è¯¥ç±»å¼æ¾çå¯éå±æ§ã
 * @param {number} [options.speed=1] - æ­¥é¿ï¼åä½ msï¼ãä¸è½å°äº 0ï¼ï¼æ¯æ¬¡å·æ°çæ°æ®ä¹é´çé´éä¸º 1msï¼ã
 * @param {number} [options.frequency=1000] - å·æ°é¢çï¼åä½ msï¼ã
 * @param {number} [options.startTime=0] - èµ·å§æ¶é´ï¼å¿é¡»ä¸ºæ°å­ï¼ä¸å°äºç­äº endTimeãå¦æä¸è®¾ç½®ï¼åå§åæ¶ä¸º 0ï¼å»ºè®®è®¾ç½®ã
 * @param {number} [options.endTime] - ç»ææ¶é´ï¼å¿é¡»ä¸ºæ°å­ï¼ä¸å¤§äºç­äº startTimeãå¦æä¸è®¾ç½®ï¼åå§åæ¶ä½¿ç¨ new Date() ä»¥å½åæ¶é´è¿è¡è®¾ç½®ï¼å»ºè®®è®¾ç½®ã
 * @param {boolean} [options.repeat=true] - æ¯å¦éå¤å¾ªç¯ã
 * @param {boolean} [options.reverse=false] - æ¯å¦ååã
 */
class TimeFlowControl_TimeFlowControl extends TimeControlBase_TimeControlBase {


    constructor(callback, options) {
        super(options);
        var me = this;
        /**
         * @member SuperMap.TimeFlowControl.prototype.callback -{function}
         * @description æ¯æ¬¡å·æ°æ§è¡çåè°å½æ°ã
         */
        me.callback = callback;

        //åè®©IEä¸æ¯æbindæ¹æ³
        if (!Function.prototype.bind) {
            Function.prototype.bind = function (oThis) {
                if (typeof this !== "function") {
                    throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");
                }
                var aArgs = Array.prototype.slice.call(arguments, 1),
                    fToBind = this,
                    fNOP = function () {
                        //empty Function
                    },
                    fBound = function () {
                        return fToBind.apply(this instanceof fNOP && oThis
                            ? this
                            : oThis,
                            aArgs.concat(Array.prototype.slice.call(arguments)));
                    };
                fNOP.prototype = this.prototype;
                fBound.prototype = new fNOP();
                return fBound;
            };
        }
        //ä¿è¯ this.tick çä¸ä¸æè¿æ¯ TimeControl è¿ä¸ªå¯¹è±¡
        me.update = me.update.bind(me);

        me.oldTime = me.currentTime;

        me.CLASS_NAME = "SuperMap.TimeFlowControl";
    }


    /**
     * @function SuperMap.TimeFlowControl.prototype.updateOptions
     * @override
     */
    updateOptions(options) {
        options = options || {};
        super.updateOptions(options);
    }


    /**
     * @function SuperMap.TimeFlowControl.prototype.start
     * @override
     */
    start() {
        var me = this;
        if (me.running) {
            return;
        }
        me.running = true;
        if (me.reverse) {
            if (me.currentTime === me.startTime) {
                me.oldTime = me.endTime;
                me.currentTime = me.oldTime;
            }
        } else {
            if (me.oldTime === me.endTime) {
                me.currentTime = me.startTime;
                me.oldTime = me.currentTime;
            }
        }
        me.tick();
    }


    /**
     * @function SuperMap.TimeFlowControl.prototype.stop
     * @override
     */
    stop() {
        super.stop();
        var me = this;
        me.oldTime = me.currentTime;

        if (me.running) {
            me.running = false;
        }
        //æ¸é¤å®æ¶tick
        me.intervalId && window.clearTimeout(me.intervalId);
    }


    /**
     * @function SuperMap.TimeFlowControl.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        var me = this;
        me.oldTime = null;
        me.callback = null;
    }


    /**
     * @function SuperMap.TimeFlowControl.prototype.tick
     * @description å®æ¶å·æ°ã
     */
    tick() {
        var me = this;
        me.intervalId && window.clearInterval(me.intervalId);
        me.intervalId = null;
        me.update();
        me.intervalId = window.setInterval(me.update, me.frequency);
    }

    /**
     * @function SuperMap.TimeFlowControl.prototype.update
     * @override
     */
    update() {
        var me = this;

        //å¤å®æ¯å¦è¿éè¦ç»§ç»­
        if (!me.running) {
            return;
        }
        //è°ç¨åè°å½æ°
        me.callback && me.callback(me.currentTime);    //destroyä¹åcallbackå°±ä¸ºç©ºï¼æä»¥éè¦å¤å®ä¸ä¸

        if (!me.reverse) {
            //å¦æç¸ç­ï¼åä»£è¡¨ä¸ä¸å¸§å·²ç»è¿è¡å°äºæåï¼ä¸ä¸å¸§è¿è¡åå§åçç¶æ
            if (me.currentTime === me.endTime) {
                //ä¸å¾ªç¯æ¶
                if (!me.repeat) {
                    me.running = false;
                    me.stop();
                    return null;
                }
                me.stop();
                me.currentTime = me.startTime;
                me.oldTime = me.currentTime;
                me.start();
            } else {//å¦åæ¶é´éå¢
                me.oldTime = me.currentTime;
                me.currentTime += me.speed;
            }

            if (me.currentTime >= me.endTime) {
                me.currentTime = me.endTime;
            }

        } else {
            //å¦æç¸ç­ï¼åä»£è¡¨ä¸ä¸å¸§å·²ç»è¿è¡å°äºæåï¼ä¸ä¸å¸§è¿è¡ç»æçç¶æ
            if (me.currentTime === me.startTime) {
                //ä¸å¾ªç¯æ¶
                if (!me.repeat) {
                    me.running = false;
                    return null;
                }

                me.oldTime = me.endTime;
                me.currentTime = me.oldTime;
            } else {//å¦åæ¶é´éå
                me.currentTime = me.oldTime;
                me.oldTime -= me.speed;
            }

            if (me.oldTime <= me.startTime) {
                me.oldTime = me.startTime;
            }
        }

    }


}

SuperMap.TimeFlowControl = TimeFlowControl_TimeFlowControl;


// CONCATENATED MODULE: ./src/common/control/index.js








// EXTERNAL MODULE: ./node_modules/promise-polyfill/promise.js
var promise = __webpack_require__(12);
var promise_default = /*#__PURE__*/__webpack_require__.n(promise);

// CONCATENATED MODULE: ./src/common/util/PromisePolyfill.js


window.Promise = promise_default.a;
// EXTERNAL MODULE: ./node_modules/fetch-ie8/fetch.js
var fetch = __webpack_require__(21);

// EXTERNAL MODULE: ./node_modules/fetch-jsonp/build/fetch-jsonp.js
var fetch_jsonp = __webpack_require__(6);
var fetch_jsonp_default = /*#__PURE__*/__webpack_require__.n(fetch_jsonp);

// CONCATENATED MODULE: ./src/common/util/FetchRequest.js






const FetchRequest_fetch = window.fetch;
/**
 * @function SuperMap.setCORS
 * @description è®¾ç½®æ¯å¦æ¯æè·¨åã
 * @param {boolean} cors - æ¯å¦æ¯æè·¨åã
 */
var setCORS = SuperMap.setCORS = function (cors) {
    SuperMap.CORS = cors;
}
/**
 * @function SuperMap.isCORS
 * @description æ¯å¦æ¯æè·¨åã
 * @returns {boolean} æ¯å¦æ¯æè·¨åã
 */
var isCORS = SuperMap.isCORS = function () {
    if (SuperMap.CORS != undefined) {
        return SuperMap.CORS;
    }
    return window.XMLHttpRequest && 'withCredentials' in new window.XMLHttpRequest();
}
/**
 * @function SuperMap.setRequestTimeout
 * @description è®¾ç½®è¯·æ±è¶æ¶æ¶é´ã
 * @param {number} [timeout=45] - è¯·æ±è¶æ¶æ¶é´ï¼åä½ç§ã
 */
var setRequestTimeout = SuperMap.setRequestTimeout = function (timeout) {
    return SuperMap.RequestTimeout = timeout;
}
/**
 * @function SuperMap.getRequestTimeout
 * @description è·åè¯·æ±è¶æ¶æ¶é´ã
 * @returns {number} è¯·æ±è¶æ¶æ¶é´ã
 */
var getRequestTimeout = SuperMap.getRequestTimeout = function () {
    return SuperMap.RequestTimeout || 45000;
}
var FetchRequest = SuperMap.FetchRequest = {
    commit: function (method, url, params, options) {
        method = method ? method.toUpperCase() : method;
        switch (method) {
            case 'GET':
                return this.get(url, params, options);
            case 'POST':
                return this.post(url, params, options);
            case 'PUT':
                return this.put(url, params, options);
            case 'DELETE':
                return this.delete(url, params, options);
            default:
                return this.get(url, params, options);
        }
    },
    supportDirectRequest: function (url, options) {
        return Util_Util.isInTheSameDomain(url) || isCORS() || options.proxy
    },
    get: function (url, params, options) {
        options = options || {};
        var type = 'GET';
        url = this._processUrl(url, options);
        url = Util_Util.urlAppend(url, this._getParameterString(params || {}));
        if (!this.supportDirectRequest(url, options)) {
            url = url.replace('.json', '.jsonp');
            var config = {
                url: url,
                data: params
            };
            return SuperMap.Util.RequestJSONPPromise.GET(config);
        }
        if (!this.urlIsLong(url)) {
            return this._fetch(url, params, options, type);
        } else {
            return this._postSimulatie(type, url.substring(0, url.indexOf('?') - 1), params, options);
        }

    },

    delete: function (url, params, options) {
        options = options || {};
        var type = 'DELETE';
        url = this._processUrl(url, options);
        url = Util_Util.urlAppend(url, this._getParameterString(params || {}));
        if (!this.supportDirectRequest(url, options)) {
            url = url.replace('.json', '.jsonp');
            var config = {
                url: url += "&_method=DELETE",
                data: params
            };
            return SuperMap.Util.RequestJSONPPromise.DELETE(config);
        }
        if (this.urlIsLong(url)) {
            return this._postSimulatie(type, url.substring(0, url.indexOf('?') - 1), params, options);
        }
        return this._fetch(url, params, options, type);

    },
    post: function (url, params, options) {
        options = options || {};
        if (!this.supportDirectRequest(url, options)) {
            url = url.replace('.json', '.jsonp');
            var config = {
                url: url += "&_method=POST",
                data: params
            };
            return SuperMap.Util.RequestJSONPPromise.POST(config);
        }
        return this._fetch(this._processUrl(url, options), params, options, 'POST');

    },

    put: function (url, params, options) {
        options = options || {};
        url = this._processUrl(url, options);
        if (!this.supportDirectRequest(url, options)) {
            url = url.replace('.json', '.jsonp');
            var config = {
                url: url += "&_method=PUT",
                data: params
            };
            return SuperMap.Util.RequestJSONPPromise.DELETE(config);

        }
        return this._fetch(url, params, options, 'PUT');

    },
    urlIsLong: function (url) {
        //å½åurlçå­èé¿åº¦ã
        var totalLength = 0,
            charCode = null;
        for (var i = 0, len = url.length; i < len; i++) {
            //è½¬åä¸ºUnicodeç¼ç 
            charCode = url.charCodeAt(i);
            if (charCode < 0x007f) {
                totalLength++;
            } else if ((0x0080 <= charCode) && (charCode <= 0x07ff)) {
                totalLength += 2;
            } else if ((0x0800 <= charCode) && (charCode <= 0xffff)) {
                totalLength += 3;
            }
        }
        return (totalLength < 2000) ? false : true;
    },
    _postSimulatie: function (type, url, params, options) {
        var separator = url.indexOf("?") > -1 ? "&" : "?";
        url += separator + '_method=' + type;
        if (typeof params !== 'string') {
            params = JSON.stringify(params);
        }
        return this.post(url, params, options);
    },

    _processUrl: function (url, options) {
        if (this._isMVTRequest(url)) {
            return url;
        }

        if (url.indexOf('.json') === -1 && !options.withoutFormatSuffix) {
            if (url.indexOf("?") < 0) {
                url += '.json'
            } else {
                var urlArrays = url.split("?");
                if (urlArrays.length === 2) {
                    url = urlArrays[0] + ".json?" + urlArrays[1]
                }
            }
        }
        if (options && options.proxy) {
            if (typeof options.proxy === "function") {
                url = options.proxy(url);
            } else {
                url = decodeURIComponent(url);
                url = options.proxy + encodeURIComponent(url);
            }
        }
        return url;
    },

    _fetch: function (url, params, options, type) {
        options = options || {};
        options.headers = options.headers || {};
        if (!options.headers['Content-Type']) {
            options.headers['Content-Type'] = 'application/x-www-form-urlencoded;charset=UTF-8';
        }
        if (options.timeout) {
            return this._timeout(options.timeout, FetchRequest_fetch(url, {
                method: type,
                headers: options.headers,
                body: type === 'PUT' || type === 'POST' ? params : undefined,
                credentials: options.withCredentials ? 'include' : 'omit',
                mode: 'cors',
                timeout: getRequestTimeout()
            }).then(function (response) {
                return response;
            }));
        }
        return FetchRequest_fetch(url, {
            method: type,
            body: type === 'PUT' || type === 'POST' ? params : undefined,
            headers: options.headers,
            credentials: options.withCredentials ? 'include' : 'omit',
            mode: 'cors',
            timeout: getRequestTimeout()
        }).then(function (response) {
            return response;
        });
    },

    _fetchJsonp: function (url, options) {
        options = options || {};
        return fetch_jsonp_default()(url, {
                method: 'GET',
                timeout: options.timeout
            })
            .then(function (response) {
                return response;
            });
    },

    _timeout: function (seconds, promise) {
        return new Promise(function (resolve, reject) {
            setTimeout(function () {
                reject(new Error("timeout"))
            }, seconds)
            promise.then(resolve, reject)
        })
    },

    _getParameterString: function (params) {
        var paramsArray = [];
        for (var key in params) {
            var value = params[key];
            if ((value != null) && (typeof value !== 'function')) {
                var encodedValue;
                if (typeof value === 'object' && value.constructor === Array) {
                    var encodedItemArray = [];
                    var item;
                    for (var itemIndex = 0, len = value.length; itemIndex < len; itemIndex++) {
                        item = value[itemIndex];
                        encodedItemArray.push(encodeURIComponent(
                            (item === null || item === undefined) ? "" : item));
                    }
                    encodedValue = '[' + encodedItemArray.join(",") + ']';
                } else {
                    encodedValue = encodeURIComponent(value);
                }
                paramsArray.push(encodeURIComponent(key) + "=" + encodedValue);
            }
        }
        return paramsArray.join("&");
    },

    _isMVTRequest: function (url) {
        return (url.indexOf('.mvt') > -1 || url.indexOf('.pbf') > -1);
    }
};
SuperMap.Util.RequestJSONPPromise = {
    limitLength: 1500,
    queryKeys: [],
    queryValues: [],
    supermap_callbacks: {},
    addQueryStrings: function (values) {
        var me = this;
        for (var key in values) {
            me.queryKeys.push(key);
            if (typeof values[key] !== "string") {
                values[key] = SuperMap.Util.toJSON(values[key]);
            }
            var tempValue = encodeURIComponent(values[key]);
            me.queryValues.push(tempValue);
        }
    },
    issue: function (config) {
        var me = this,
            uid = me.getUid(),
            url = config.url,
            splitQuestUrl = [];
        var p = new Promise(function (resolve) {
            me.supermap_callbacks[uid] = function (response) {
                delete me.supermap_callbacks[uid];
                resolve(response);
            };
        });

        // me.addQueryStrings({
        //     callback: "SuperMap.Util.RequestJSONPPromise.supermap_callbacks[" + uid + "]"
        // });
        var sectionURL = url,
            keysCount = 0; //æ­¤æ¬¡sectionURLä¸­æå¤å°ä¸ªkey
        var length = me.queryKeys ? me.queryKeys.length : 0;
        for (var i = 0; i < length; i++) {
            if (sectionURL.length + me.queryKeys[i].length + 2 >= me.limitLength) { //+2 for ("&"or"?")and"="
                if (keysCount == 0) {
                    return false;
                }
                splitQuestUrl.push(sectionURL);
                sectionURL = url;
                keysCount = 0;
                i--;
            } else {
                if (sectionURL.length + me.queryKeys[i].length + 2 + me.queryValues[i].length > me.limitLength) {
                    var leftValue = me.queryValues[i];
                    while (leftValue.length > 0) {
                        var leftLength = me.limitLength - sectionURL.length - me.queryKeys[i].length - 2; //+2 for ("&"or"?")and"="
                        if (sectionURL.indexOf("?") > -1) {
                            sectionURL += "&";
                        } else {
                            sectionURL += "?";
                        }
                        var tempLeftValue = leftValue.substring(0, leftLength);
                        //é¿å æªæ­sectionURLæ¶ï¼å°ç±»ä¼¼äº%22è¿æ ·çç¬¦å·æªæä¸¤åï¼ä»èå¯¼è´æå¡ç«¯ç»è£sectionURLæ¶åçéè¯¯
                        if (tempLeftValue.substring(leftLength - 1, leftLength) === "%") {
                            leftLength -= 1;
                            tempLeftValue = leftValue.substring(0, leftLength);
                        } else if (tempLeftValue.substring(leftLength - 2, leftLength - 1) === "%") {
                            leftLength -= 2;
                            tempLeftValue = leftValue.substring(0, leftLength);
                        }

                        sectionURL += me.queryKeys[i] + "=" + tempLeftValue;
                        leftValue = leftValue.substring(leftLength);
                        if (tempLeftValue.length > 0) {
                            splitQuestUrl.push(sectionURL);
                            sectionURL = url;
                            keysCount = 0;
                        }
                    }
                } else {
                    keysCount++;
                    if (sectionURL.indexOf("?") > -1) {
                        sectionURL += "&";
                    } else {
                        sectionURL += "?";
                    }
                    sectionURL += me.queryKeys[i] + "=" + me.queryValues[i];
                }
            }
        }
        splitQuestUrl.push(sectionURL);
        me.send(splitQuestUrl, "SuperMap.Util.RequestJSONPPromise.supermap_callbacks[" + uid + "]", config && config.proxy);
        return p;
    },


    getUid: function () {
        var uid = new Date().getTime(),
            random = Math.floor(Math.random() * 1e17);
        return uid * 1000 + random;
    },

    send: function (splitQuestUrl, callback, proxy) {
        var len = splitQuestUrl.length;
        if (len > 0) {
            var jsonpUserID = new Date().getTime();
            for (var i = 0; i < len; i++) {
                var url = splitQuestUrl[i];
                if (url.indexOf("?") > -1) {
                    url += "&";
                } else {
                    url += "?";
                }
                url += "sectionCount=" + len;
                url += "&sectionIndex=" + i;
                url += "&jsonpUserID=" + jsonpUserID;
                if (proxy) {
                    url = decodeURIComponent(url);
                    url = proxy + encodeURIComponent(url);
                }
                fetch_jsonp_default()(url, {
                    jsonpCallbackFunction: callback,
                    timeout: 30000
                })
            }
        }
    },

    GET: function (config) {
        var me = this;
        me.queryKeys.length = 0;
        me.queryValues.length = 0;
        me.addQueryStrings(config.params);
        return me.issue(config);
    },

    POST: function (config) {
        var me = this;
        me.queryKeys.length = 0;
        me.queryValues.length = 0;
        me.addQueryStrings({
            requestEntity: config.data
        });
        return me.issue(config);
    },

    PUT: function (config) {
        var me = this;
        me.queryKeys.length = 0;
        me.queryValues.length = 0;
        me.addQueryStrings({
            requestEntity: config.data
        });
        return me.issue(config);
    },
    DELETE: function (config) {
        var me = this;
        me.queryKeys.length = 0;
        me.queryValues.length = 0;
        me.addQueryStrings({
            requestEntity: config.data
        });
        return me.issue(config);
    }
};
// CONCATENATED MODULE: ./src/common/security/SecurityManager.js




/**
 * @name SecurityManager
 * @memberOf SuperMap
 * @namespace
 * @category Security
 * @description å®å¨ç®¡çä¸­å¿ï¼æä¾ iServer,iPortal,Online ç»ä¸æéè®¤è¯ç®¡çã
 *  > ä½¿ç¨è¯´æï¼
 *  > åå»ºä»»ä½ä¸ä¸ªæå¡ä¹åè°ç¨ {@link SuperMap.SecurityManager.registerToken}æ
 *  > {@link SuperMap.SecurityManager.registerKey}æ³¨åå­æ®ã
 *  > åéè¯·æ±æ¶æ ¹æ® url æèæå¡ id è·åç¸åºç key æè token å¹¶èªå¨æ·»å å°æå¡å°åä¸­ã
 */
class SecurityManager_SecurityManager {

    /**
     * @description ä»æå¡å¨è·åä¸ä¸ªtoken,å¨æ­¤ä¹åè¦æ³¨åæå¡å¨ä¿¡æ¯ã
     * @param {string} url - æå¡å¨åå+ç«¯å£ï¼å¦ï¼http://localhost:8092ã
     * @param {SuperMap.TokenServiceParameter} tokenParam - token ç³è¯·åæ°ã
     * @returns {Promise} è¿ååå« token ä¿¡æ¯ç Promise å¯¹è±¡ã
     */

    static generateToken(url, tokenParam) {
        var serverInfo = this.servers[url];
        if (!serverInfo) {
            return;
        }
        return FetchRequest.post(serverInfo.tokenServiceUrl, JSON.stringify(tokenParam.toJSON())).then(function (response) {
            return response.text();
        });
    }

    /**
     * @description æ³¨åå®å¨æå¡å¨ç¸å³ä¿¡æ¯ã
     * @param {SuperMap.ServerInfo} serverInfos - æå¡å¨ä¿¡æ¯ã
     */
    static registerServers(serverInfos) {
        this.servers = this.servers || {};
        if (!Util_Util.isArray(serverInfos)) {
            serverInfos = [serverInfos];
        }
        for (var i = 0; i < serverInfos.length; i++) {
            var serverInfo = serverInfos[i];
            this.servers[serverInfo.server] = serverInfo;
        }
    }

    /**
     * @description æå¡è¯·æ±é½ä¼èªå¨å¸¦ä¸è¿ä¸ª tokenã
     * @param {string} url -æå¡å¨åå+ç«¯å£ï¼å¦http://localhost:8090ã
     * @param {string} token - token
     */
    static registerToken(url, token) {
        this.tokens = this.tokens || {};
        if (!url || !token) {
            return;
        }
        var domain = this._getTokenStorageKey(url);
        this.tokens[domain] = token;
    }

    /**
     * @description æ³¨å key,ids ä¸ºæ°ç»(å­å¨ä¸ä¸ª key å¯¹åºå¤ä¸ªæå¡)ã
     * @param {Array} ids - å¯ä»¥æ¯æå¡ id æ°ç»æè url å°åæ°ç»æè webAPI ç±»åæ°ç»ã
     * @param {string} key - key
     */
    static registerKey(ids, key) {
        this.keys = this.keys || {};
        if (!ids || ids.length < 1 || !key) {
            return;
        }

        ids = (Util_Util.isArray(ids)) ? ids : [ids];
        for (var i = 0; i < ids.length; i++) {
            var id = this._getUrlRestString(ids[0]) || ids[0];
            this.keys[id] = key;
        }
    }

    /**
     * @description è·åæå¡å¨ä¿¡æ¯ã
     * @param {string} url - æå¡å¨åå+ç«¯å£ï¼å¦ï¼http://localhost:8092ã
     * @returns {SuperMap.ServerInfo} æå¡å¨ä¿¡æ¯ã
     */
    static getServerInfo(url) {
        this.servers = this.servers || {};
        return this.servers[url];
    }

    /**
     * @description æ ¹æ® Url è·åtokenã
     * @param {string} url - æå¡å¨åå+ç«¯å£ï¼å¦ï¼http://localhost:8092ã
     * @returns {string} token
     */
    static getToken(url) {
        if (!url) {
            return;
        }
        this.tokens = this.tokens || {};
        var domain = this._getTokenStorageKey(url);
        return this.tokens[domain];
    }

    /**
     * @description æ ¹æ® Url è·å keyã
     * @param {string} id - id
     * @returns {string} key
     */
    static getKey(id) {
        this.keys = this.keys || {};
        var key = this._getUrlRestString(id) || id;
        return this.keys[key];
    }

    /**
     * @description iServer ç»å½éªè¯ã
     * @param {string} url - iServer é¦é¡µå°åï¼å¦ï¼http://localhost:8090/iserverã
     * @param {string} username - ç¨æ·åã
     * @param {string} password - å¯ç ã
     * @param {boolean} [rememberme=false] - æ¯å¦è®°ä½ã
     * @returns {Promise} è¿ååå« iServer ç»å½è¯·æ±ç»æç Promise å¯¹è±¡ã
     */
    static loginiServer(url, username, password, rememberme) {
        var end = url.substr(url.length - 1, 1);
        url += end === "/" ? "services/security/login.json" : "/services/security/login.json";
        var loginInfo = {
            username: username && username.toString(),
            password: password && password.toString(),
            rememberme: rememberme
        };
        loginInfo = JSON.stringify(loginInfo);
        var requestOptions = {
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'
            }
        };
        return FetchRequest.post(url, loginInfo, requestOptions).then(function (response) {
            return response.json();
        });

    }

    /**
     * @description iServerç»åºã
     * @param {string} url - iServer é¦é¡µå°å,å¦ï¼http://localhost:8090/iserverã
     * @returns {Promise} æ¯å¦ç»åºæåã
     */
    static logoutiServer(url) {
        var end = url.substr(url.length - 1, 1);
        url += end === "/" ? "services/security/logout" : "/services/security/logout";

        var requestOptions = {
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'
            },
            withoutFormatSuffix: true
        };
        return FetchRequest.get(url, "", requestOptions).then(function () {
            return true;
        }).catch(function () {
            return false;
        });

    }

    /**
     * @description Online ç»å½éªè¯ã
     * @param {string} callbackLocation - è·³è½¬ä½ç½®ã
     * @param {boolean} [newTab=true] - æ¯å¦æ°çªå£æå¼ã
     */
    static loginOnline(callbackLocation, newTab) {
        var loginUrl = SecurityManager_SecurityManager.SSO + "/login?service=" + callbackLocation;
        this._open(loginUrl, newTab);
    }

    /**
     * @description iPortalç»å½éªè¯ã
     * @param {string} url - iportal é¦é¡µå°åã
     * @param {string} username - ç¨æ·åã
     * @param {string} password - å¯ç ã
     * @returns {Promise} è¿ååå« iPortal ç»å½è¯·æ±ç»æç Promise å¯¹è±¡ã
     */
    static loginiPortal(url, username, password) {
        var end = url.substr(url.length - 1, 1);
        url += end === "/" ? "web/login.json" : "/web/login.json";
        var loginInfo = {
            username: username && username.toString(),
            password: password && password.toString()
        };
        loginInfo = JSON.stringify(loginInfo);
        var requestOptions = {
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'
            },
            withCredentials: true
        };
        return FetchRequest.post(url, loginInfo, requestOptions).then(function (response) {
            return response.json();
        });

    }

    /**
     * @description iPortal ç»åºã
     * @param {string} url - iportal é¦é¡µå°åã
     * @returns {Promise} å¦æç»åºæåï¼è¿å true;å¦åè¿å falseã
     */
    static logoutiPortal(url) {
        var end = url.substr(url.length - 1, 1);
        url += end === "/" ? "services/security/logout" : "/services/security/logout";

        var requestOptions = {
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'
            },
            withCredentials: true,
            withoutFormatSuffix: true
        };
        return FetchRequest.get(url, "", requestOptions).then(function () {
            return true;
        }).catch(function () {
            return false;
        });

    }

    /**
     * @description iManager ç»å½éªè¯ã
     * @param {string} url - iManager å°åãå°ååæ°ä¸º iManager é¦é¡µå°åï¼å¦ï¼ http://localhost:8390/imanagerã
     * @param {Object} [loginInfoParams] - iManager ç»å½åæ°ã
     * @param {string} loginInfoParams.userName - ç¨æ·åã
     * @param {string} loginInfoParams.password - å¯ç ã
     * @param {Object} options
     * @param {boolean} [options.isNewTab=true] - ä¸ååæ¶æ¯å¦å¨æ°çªå£æå¼ç»å½é¡µé¢ã
     * @returns {Promise} è¿ååå« iManager ç»å½è¯·æ±ç»æç Promise å¯¹è±¡ã
     */
    static loginManager(url, loginInfoParams, options) {
        if (!Util_Util.isInTheSameDomain(url)) {
            var isNewTab = options ? options.isNewTab : true;
            this._open(url, isNewTab);
            return;
        }
        var end = url.substr(url.length - 1, 1);
        var requestUrl = end === "/" ? url + "icloud/security/tokens.json" : url + "/icloud/security/tokens.json";
        var params = loginInfoParams || {};
        var loginInfo = {
            username: params.userName && params.userName.toString(),
            password: params.password && params.password.toString()
        };
        loginInfo = JSON.stringify(loginInfo);
        var requestOptions = {
            headers: {
                'Accept': '*/*',
                'Content-Type': 'application/json'
            }
        };
        var me = this;
        return FetchRequest.post(requestUrl, loginInfo, requestOptions).then(function (response) {
            response.text().then(function (result) {
                me.imanagerToken = result;
                return result;
            });
        });
    }

    /**
     * @description æ¸ç©ºå¨é¨éªè¯ä¿¡æ¯ã
     */
    static destroyAllCredentials() {
        this.keys = null;
        this.tokens = null;
        this.servers = null;
    }

    /**
     * @description æ¸ç©ºä»¤çä¿¡æ¯ã
     */
    static destroyToken(url) {
        if (!url) {
            return;
        }
        var domain = this._getTokenStorageKey(url);
        this.tokens = this.tokens || {};
        if (this.tokens[domain]) {
            delete this.tokens[domain];
        }
    }

    /**
     * @description æ¸ç©ºæå¡ææç ã
     */
    static destroyKey(id) {
        if (!id) {
            return;
        }
        this.keys = this.keys || {};
        var key = this._getUrlRestString(id) || id;
        if (this.keys[key]) {
            delete this.keys[key];
        }
    }

    static _open(url, newTab) {
        newTab = (newTab != null) ? newTab : true;
        var offsetX = window.screen.availWidth / 2 - this.INNER_WINDOW_WIDTH / 2;
        var offsetY = window.screen.availHeight / 2 - this.INNER_WINDOW_HEIGHT / 2;
        var options =
            "height=" + this.INNER_WINDOW_HEIGHT + ", width=" + this.INNER_WINDOW_WIDTH +
            ",top=" + offsetY + ", left=" + offsetX +
            ",toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no";
        if (newTab) {
            window.open(url, 'login');
        } else {
            window.open(url, 'login', options);
        }
    }

    static _getTokenStorageKey(url) {
        var patten = /(.*?):\/\/([^\/]+)/i;
        var result = url.match(patten);
        if (!result) {
            return url;
        }
        return result[0];
    }

    static _getUrlRestString(url) {
        if (!url) {
            return url;
        }
        var patten = /http:\/\/(.*\/rest)/i;
        var result = url.match(patten);
        if (!result) {
            return url;
        }
        return result[0];
    }
}
SecurityManager_SecurityManager.INNER_WINDOW_WIDTH = 600;
SecurityManager_SecurityManager.INNER_WINDOW_HEIGHT = 600;
SecurityManager_SecurityManager.SSO = "https://sso.supermap.com";
SecurityManager_SecurityManager.ONLINE = "http://www.supermapol.com";
SuperMap.SecurityManager = SecurityManager_SecurityManager;


// CONCATENATED MODULE: ./src/common/iManager/iManagerServiceBase.js




/**
 * @class SuperMap.iManagerServiceBase
 * @classdesc iManager æå¡åºç±»ï¼ææééå¶çç±»éè¦å®ç°æ­¤ç±»ï¼ã
 * @category iManager
 * @param {string} url - iManager é¦é¡µå°åï¼å¦ï¼http://localhost:8390/imanagerã
 */
class iManagerServiceBase_IManagerServiceBase {

    constructor(url) {
        if (url) {
            var end = url.substr(url.length - 1, 1);
            this.serviceUrl = end === "/" ? url.substr(0, url.length - 2) : url;
        }
        this.CLASS_NAME = "SuperMap.iManagerServiceBase";
    }

    /**
     * @function SuperMap.iManagerServiceBase.prototype.request
     * @description å­ç±»ç»ä¸éè¿è¯¥æ¹æ³åéè¯·æ±ã
     * @param {string} url - è¯·æ± URLã
     * @param {string} [method='GET'] - è¯·æ±ç±»åã
     * @param {Object} [requestOptions] - è¯·æ±éé¡¹ã
     * @param {Object} param - è¯·æ±åæ°ã
     * @description åéè¯·æ±ã
     * @returns {Promise} Promise å¯¹è±¡ã
     */
    request(method, url, param, requestOptions) {
        requestOptions = requestOptions || {
            headers: {
                'Accept': '*/*',
                'Content-Type': 'application/json'
            }
        };
        if (!requestOptions.hasOwnProperty("withCredentials")) {
            requestOptions['withCredentials'] = true;
        }
        var token = SecurityManager_SecurityManager.imanagerToken;
        if (token) {
            if (!requestOptions.headers) {
                requestOptions.headers = [];
            }
            requestOptions.headers['X-Auth-Token'] = token;
        }
        if (param) {
            param = JSON.stringify(param);
        }
        return FetchRequest.commit(method, url, param, requestOptions).then(function (response) {
            return response.json();
        });
    }

}

SuperMap.iManagerServiceBase = iManagerServiceBase_IManagerServiceBase;

// CONCATENATED MODULE: ./src/common/iManager/iManagerCreateNodeParam.js



/**
 * @class SuperMap.iManagerCreateNodeParam
 * @classdesc iManager åå»ºèç¹åæ°ã
 * @category iManager
 * @param {Object} [params] - iManager åå»ºèç¹åæ°ã
 *
 */
class iManagerCreateNodeParam_IManagerCreateNodeParam {

    constructor(params) {
        params = params || {};
        this.nodeSpec = 'SMALL';              //åå¼èå´: ['SMALL','MEDIUM','LARGE'] ä»¥åèªå®ä¹çç¯å¢è§æ ¼åç§°
        this.nodeCount = 1;                   //è¦åå»ºvmçä¸ªæ°
        this.nodeName = '';                   //vmåç§°
        this.password = '';                   //vmçå¯ç ,ç©ºè¡¨ç¤ºéæºåé
        this.description = '';                //æè¿°ä¿¡æ¯
        this.physicalMachineName = '';        //vmæå±çç©çæºåç§°.
        this.ips = [];                        //vmçip,ç©ºæ°ç»è¡¨ç¤ºéæºåé
        this.userName = '';                   //vmæå±ç¨æ·
        Util_Util.extend(this, params);
    }

}

SuperMap.iManagerCreateNodeParam = iManagerCreateNodeParam_IManagerCreateNodeParam;


// CONCATENATED MODULE: ./src/common/iManager/iManager.js




/**
 * @class SuperMap.iManager
 * @classdesc iManager æå¡ç±»ã
 * @category iManager
 * @param {string} serviceUrl - iManager é¦é¡µå°åã
 *
 */
class iManager_IManager extends iManagerServiceBase_IManagerServiceBase {

    constructor(iManagerUrl) {
        super(iManagerUrl);
    }

    /**
     * @function SuperMap.iManager.prototype.load
     * @description è·åæææå¡æ¥å£ï¼éªè¯æ¯å¦å·²ç»å½ææã
     * @returns {Promise} Promise å¯¹è±¡ã
     */
    load() {
        return this.request("GET", this.serviceUrl + '/web/api/service.json');
    }

    /**
     * @function SuperMap.iManager.prototype.createIServer
     * @param {SuperMap.iManagerCreateNodeParam} createParam - åå»ºåæ°ã
     * @description åå»º iServerã
     * @returns {Promise} Promise å¯¹è±¡ã
     */
    createIServer(createParam) {
        return this.request("POST", this.serviceUrl + '/icloud/web/nodes/server.json', new iManagerCreateNodeParam_IManagerCreateNodeParam(createParam));
    }

    /**
     * @function SuperMap.iManager.prototype.createIPortal
     * @param {SuperMap.iManagerCreateNodeParam} createParam - åå»ºåæ°ã
     * @description åå»º iPortalã
     * @returns {Promise} Promise å¯¹è±¡ã
     */
    createIPortal(createParam) {
        return this.request("POST", this.serviceUrl + '/icloud/web/nodes/portal.json', new iManagerCreateNodeParam_IManagerCreateNodeParam(createParam));
    }

    /**
     * @function SuperMap.iManager.prototype.iServerList
     * @description è·åææåå»ºç iServerã
     * @returns {Promise} Promise å¯¹è±¡ã
     */
    iServerList() {
        return this.request("GET", this.serviceUrl + '/icloud/web/nodes/server.json');
    }

    /**
     * @function SuperMap.iManager.prototype.iPortalList
     * @description è·åææåå»ºç iPortalã
     * @returns {Promise} Promise å¯¹è±¡ã
     */
    iPortalList() {
        return this.request("GET", this.serviceUrl + '/icloud/web/nodes/portal.json');
    }

    /**
     * @function SuperMap.iManager.prototype.startNodes
     * @param {Array} ids - éè¦å¯å¨èç¹ç ID æ°ç»ãe.g:['1']ã
     * @description å¯å¨èç¹ã
     * @returns {Promise} Promise å¯¹è±¡ã
     */
    startNodes(ids) {
        return this.request("POST", this.serviceUrl + '/icloud/web/nodes/started.json', ids);
    }

    /**
     * @function SuperMap.iManager.prototype.stopNodes
     * @param {Array} ids - éè¦åæ­¢èç¹ç ID æ°ç»ãe.g:['1']ã
     * @description åæ­¢èç¹ã
     * @returns {Promise} Promise å¯¹è±¡ã
     */
    stopNodes(ids) {
        return this.request("POST", this.serviceUrl + '/icloud/web/nodes/stopped.json', ids);
    }
}

SuperMap.iManager = iManager_IManager;


// CONCATENATED MODULE: ./src/common/iManager/index.js








// CONCATENATED MODULE: ./src/common/iPortal/iPortalServicesQueryParam.js



/**
 * @class SuperMap.iPortalServicesQueryParam
 * @classdesc iPortal æå¡æ¥è¯¢åæ°ã
 * @category iPortal/Online
 * @param {Object} params - æå¡åæ°ã
 *
 */
class iPortalServicesQueryParam_IPortalServicesQueryParam {


    constructor(params) {
        params = params || {};
        this.tags = [];
        this.userNames = '';
        this.types = [];
        this.checkStatus = '';
        this.offline = false;
        this.orderBy = '';
        this.orderType = '';
        this.keywords = [];
        this.currentPage = 0;
        this.pageSize = 0;
        this.isBatch = false;
        this.dirIds = [];
        this.isNotInDir = false;
        this.filterFields = [];
        this.authorizedOnly = false;
        Util_Util.extend(this, params);
    }

}

SuperMap.iPortalServicesQueryParam = iPortalServicesQueryParam_IPortalServicesQueryParam;


// CONCATENATED MODULE: ./src/common/iPortal/iPortalMapsQueryParam.js



/**
 * @class SuperMap.iPortalMapsQueryParam
 * @classdesc iPortal å°å¾èµæºæ¥è¯¢åæ°ã
 * @category iPortal/Online
 * @param {Object} params - iPortal å°å¾èµæºæ¥è¯¢å·ä½åæ°ã
 *
 */
class iPortalMapsQueryParam_IPortalMapsQueryParam {

    constructor(params) {
        params = params || {};
        this.userNames = null;
        this.tags = null;
        this.suggest = false;
        this.sourceTypes = null;
        this.keywords = null;
        this.epsgCode = null;
        this.orderBy = null;
        this.currentPage = null;
        this.pageSize = null;
        this.dirIds = null;
        this.isNotInDir = false;
        this.updateStart = null;
        this.updateEnd = null;
        this.visitStart = null;
        this.visitEnd = null;
        this.filterFields = null;
        Util_Util.extend(this, params);
    }

}

SuperMap.iPortalMapsQueryParam = iPortalMapsQueryParam_IPortalMapsQueryParam;


// CONCATENATED MODULE: ./src/common/iPortal/iPortalServiceBase.js






/**
 * @class SuperMap.iPortalServiceBase
 * @classdesc iPortal æå¡åºç±»ï¼ææééå¶çç±»éè¦å®ç°æ­¤ç±»ï¼ã
 * @category iPortal/Online
 * @param {string} url - iPortal æå¡å°åã
 */
class iPortalServiceBase_IPortalServiceBase {

    constructor(url) {
        this.serviceUrl = url;
        this.serverType = ServerType.iPortal;
        this.CLASS_NAME = "SuperMap.iPortalServiceBase";
    }

    /**
     * @function SuperMap.iPortalServiceBase.prototype.request
     * @description å­ç±»ç»ä¸éè¿è¯¥æ¹æ³åéè¯·æ±ã
     * @param {string} [method='GET'] - è¯·æ±ç±»åã
     * @param {string} url - æå¡å°åã
     * @param {Object} param - è¯·æ±åæ°ã
     * @param {Object} [requestOptions] - fetch è¯·æ±éç½®é¡¹ã
     * @returns {Promise} è¿ååå«è¯·æ±ç»æç Promise å¯¹è±¡ã
     */

    request(method, url, param, requestOptions) {
        url = this.createCredentialUrl(url);
        return FetchRequest.commit(method, url, param, requestOptions).then(function (response) {
            return response.json();
        });
    }


    /**
     * @function SuperMap.iPortalServiceBase.prototype.createCredentialUrl
     * @description è¿½å ææä¿¡æ¯ã
     * @param {string} url - åå»ºè¯ä¹¦ URL å°åã
     * @returns {string} æºå¸¦ token æ key çæ°å°åã
     */

    createCredentialUrl(url) {
        var newUrl = url,
            credential = this.getCredential();

        if (credential) {
            var endStr = newUrl.substring(newUrl.length - 1, newUrl.length);

            if (newUrl.indexOf("?") > -1 && endStr === "?") {
                newUrl += credential.getUrlParameters();
            } else if (newUrl.indexOf("?") > -1 && endStr !== "?") {
                newUrl += "&" + credential.getUrlParameters();
            } else {
                newUrl += "?" + credential.getUrlParameters();
            }
        }
        return newUrl;
    }


    /**
     * @function SuperMap.iPortalServiceBase.prototype.getCredential
     * @description è·å tokenã
     * @returns {string} è¿åè·åç tokenã
     *
     */

    getCredential() {
        var credential,
            value = SecurityManager_SecurityManager.getToken(this.serviceUrl);
        credential = value ? new Credential(value, "token") : null;
        if (!credential) {
            value = this.getKey();
            credential = value ? new Credential(value, "key") : null;
        }
        return credential;
    }


    /**
     * @function SuperMap.iPortalServiceBase.prototype.getKey
     * @description å¶å­ç±»éè¦éåè¯¥æ¹æ³ï¼ä¿®æ¹å¶ä¸­è·å key çå­æ®µï¼å­å¨ key å¯è½æ¯æå¡ ID å­æ®µï¼å¯è½æ¯ URLã
     */
    getKey() {
        //return SuperMap.SecurityManager.getKey(this.id);
        //æ
        //return SuperMap.SecurityManager.getKey(this.serviceUrl);
    }

}

SuperMap.iPortalServiceBase = iPortalServiceBase_IPortalServiceBase;

// CONCATENATED MODULE: ./src/common/iPortal/iPortalService.js




/**
 * @class SuperMap.iPortalService
 * @classdesc iPortal æå¡ã
 * @category iPortal/Online
 * @extends {SuperMap.iPortalServiceBase}
 * @param {string} seviceUrl - æå¡å°åã
 * @param {Object} params - æå¡è¯·æ±åæ°ã
 *
 */
class iPortalService_IPortalService extends iPortalServiceBase_IPortalServiceBase {



    constructor(serviceUrl, params) {
        super(serviceUrl);
        params = params || {};
        this.addedMapNames = null;
        this.addedSceneNames = null;
        this.authorizeSetting = [];
        this.checkStatus = "";
        this.createTime = 0;
        this.description = "";
        this.enable = true;
        this.id = 0;
        this.isBatch = false;
        this.isDataItemService = false;
        this.linkPage = null;
        this.mapInfos = [];
        this.metadata = null;
        this.nickname = "";
        this.offline = false;
        this.proxiedUrl = null;
        this.resTitle = "";
        this.scenes = [];
        this.serviceRootUrlId = null;
        this.tags = [];
        this.thumbnail = null;
        this.type = "";
        this.updateTime = 0;
        this.userName = "";
        this.verifyReason = null;
        this.version = null;
        this.visitCount = 0;
        Util_Util.extend(this, params);
        this.serviceUrl = serviceUrl;
        if (this.id) {
            this.serviceUrl = serviceUrl + "/" + this.id;
        }
    }

    /**
     * @function SuperMap.iPortalService.prototype.load
     * @description å è½½æå¡ä¿¡æ¯ã
     * @returns {Promise} è¿å Promise å¯¹è±¡ãå¦ææåï¼Promise æ²¡æè¿åå¼ï¼å¦æå¤±è´¥ï¼Promise è¿åå¼åå«éè¯¯ä¿¡æ¯ã
     */

    load() {
        var me = this;
        return me.request("GET", me.serviceUrl + ".json")
            .then(function (serviceInfo) {
                if (serviceInfo.error) {
                    return serviceInfo;
                }
                for (var key in serviceInfo) {
                    me[key] = serviceInfo[key];
                }
            });
    }

    /**
     * @function SuperMap.iPortalService.prototype.update
     * @description æ´æ°æå¡ã
     * @returns {Promise} è¿ååå«æ´æ°æä½ç¶æç Promise å¯¹è±¡ã
     */
    update() {
        var serviceUpdateParam = {
            authorizeSetting: this.authorizeSetting,
            metadata: this.metadata,
            tags: this.tags,
            thumbnail: this.thumbnail
        };
        var options = {
            headers: {'Content-Type': 'application/x-www-form-urlencoded'}
        };
        return this.request("PUT", this.serviceUrl, JSON.stringify(serviceUpdateParam), options);
    }

}

SuperMap.iPortalService = iPortalService_IPortalService;


// CONCATENATED MODULE: ./src/common/iPortal/iPortalMap.js




/**
 * @class SuperMap.iPortalMap
 * @classdesc iPortal å°å¾æå¡ç±»ã
 * @category iPortal/Online
 * @param {string} mapUrl - å°å¾å°åã
 * @param {Object} [params] - æå¡åæ°ã
 * @extends {SuperMap.iPortalServiceBase}
 *
 */
class iPortalMap_IPortalMap extends iPortalServiceBase_IPortalServiceBase {


    constructor(mapUrl, params) {
        super(mapUrl);
        params = params || {};
        this.authorizeSetting = [];
        this.center = "";
        this.controls = null;
        this.checkStatus = "";
        this.createTime = 0;
        this.description = "";
        this.epsgCode = 0;
        this.extent = "";
        this.id = 0;
        this.isDefaultBottomMap = false;
        this.layers = [];
        this.level = null;
        this.nickname = "";
        this.sourceType = "";
        this.status = null;
        this.tags = [];
        this.thumbnail = "";
        this.title = "";
        this.units = null;
        this.updateTime = 0;
        this.userName = "";
        this.visitCount = 0;
        Util_Util.extend(this, params);
        this.mapUrl = mapUrl;
        // if (this.id) {
        //     this.mapUrl = mapUrl + "/" + this.id;
        // }
    }

    /**
     * @function SuperMap.iPortalMap.prototype.load
     * @description å è½½å°å¾ä¿¡æ¯ã
     * @returns {Promise} è¿å Promise å¯¹è±¡ãå¦ææåï¼Promise æ²¡æè¿åå¼ï¼è¯·æ±è¿åç»æèªå¨å¡«åå°è¯¥ç±»çå±æ§ä¸­ï¼å¦æå¤±è´¥ï¼Promise è¿åå¼åå«éè¯¯ä¿¡æ¯ã
     */
    load() {
        var me = this;
        return me.request("GET", me.mapUrl + ".json")
            .then(function (mapInfo) {
                if (mapInfo.error) {
                    return mapInfo;
                }
                for (var key in mapInfo) {
                    me[key] = mapInfo[key];
                }
            });
    }

    /**
     * @function SuperMap.iPortalMap.prototype.update
     * @description æ´æ°å°å¾åæ°ã
     * @returns {Promise} è¿ååå«æ´æ°æä½ç¶æç Promise å¯¹è±¡ã
     */
    update() {
        var mapUpdateParam = {
            units: this.units,
            level: this.level,
            center: this.center,
            controls: this.controls,
            description: this.description,
            epsgCode: this.epsgCode,
            extent: this.extent,
            status: this.status,
            tags: this.tags,
            layers: this.layers,
            title: this.title,
            thumbnail: this.thumbnail,
            sourceType: this.sourceType,
            authorizeSetting: this.authorizeSetting
        };
        var options = {
            headers: {'Content-Type': 'application/x-www-form-urlencoded'}
        };
        return this.request("PUT", this.mapUrl, JSON.stringify(mapUpdateParam), options);
    }

}

SuperMap.iPortalMap = iPortalMap_IPortalMap;


// CONCATENATED MODULE: ./src/common/iPortal/iPortal.js








/**
 * @class SuperMap.iPortal
 * @classdesc å¯¹æ¥ SuperMap iPortal åºç¡æå¡ã
 * @category iPortal/Online
 * @extends {SuperMap.iPortalServiceBase}
 * @param {string} iportalUrl - å°åã
 *
 */
class iPortal_IPortal extends iPortalServiceBase_IPortalServiceBase {

    constructor(iportalUrl) {
        super(iportalUrl);
        this.iportalUrl = iportalUrl;
    }

    /**
     * @function SuperMap.iPortal.prototype.load
     * @description å è½½é¡µé¢ã
     * @returns {Promise} è¿ååå« iportal web èµæºä¿¡æ¯ç Promise å¯¹è±¡ã
     */
    load() {
        return FetchRequest.get(this.iportalUrl + '/web');
    }

    /**
     * @function SuperMap.iPortal.prototype.queryServices
     * @description æ¥è¯¢æå¡ã
     * @param {SuperMap.iPortalServicesQueryParam} queryParams - æ¥è¯¢åæ°ã
     * @returns {Promise} è¿ååå«æææå¡ç Promise å¯¹è±¡ã
     */
    queryServices(queryParams) {
        if (!(queryParams instanceof iPortalServicesQueryParam_IPortalServicesQueryParam)) {
            return null;
        }
        var serviceUrl = this.iportalUrl + "/web/services";
        return this.request("GET", serviceUrl, queryParams).then(function (result) {
            var services = [];
            result.content.map(function (serviceJsonObj) {
                services.push(new iPortalService_IPortalService(serviceUrl, serviceJsonObj));
                return serviceJsonObj;
            });
            return services;
        });
    }

    /**
     * @function SuperMap.iPortal.prototype.deleteServices
     * @param {Array} ids - æå¡çåºå·ã
     * @description å é¤æå¡ã
     * @returns {Promise} è¿ååå«æå¡å é¤æä½ç¶æç Promise å¯¹è±¡ã
     */
    deleteServices(ids) {
        var serviceUrl = this.iportalUrl + "/web/services";
        return this.request("DELETE", serviceUrl, {ids: ids});
    }

    /**
     * @function SuperMap.iPortal.prototype.queryMaps
     * @param {SuperMap.iPortalMapsQueryParam} queryParams - æ¥è¯¢åæ°ã
     * @description è·åå°å¾ä¿¡æ¯ã
     * @returns {Promise} è¿ååå«ææå°å¾æå¡ä¿¡æ¯ç Promise å¯¹è±¡ã
     */
    queryMaps(queryParams) {
        if (!(queryParams instanceof iPortalMapsQueryParam_IPortalMapsQueryParam)) {
            return null;
        }
        var mapsUrl = this.iportalUrl + "/web/maps";
        return this.request("GET", mapsUrl, queryParams).then(function (result) {
            var mapRetult = {};
            var maps = [];
            result.content.map(function (mapJsonObj) {
                maps.push(new iPortalMap_IPortalMap(mapsUrl + "/" + mapJsonObj.id, mapJsonObj));
                return mapJsonObj;
            });
            mapRetult.content = maps;
            mapRetult.currentPage = result.currentPage;
            mapRetult.pageSize = result.pageSize;
            mapRetult.total = result.total;
            mapRetult.totalPage = result.totalPage;
            return mapRetult;
        });
    }
}

SuperMap.iPortal = iPortal_IPortal;


// CONCATENATED MODULE: ./src/common/iPortal/index.js













// CONCATENATED MODULE: ./src/common/iServer/CommonServiceBase.js










/**
 * @class SuperMap.CommonServiceBase
 * @category  iServer
 * @classdesc å¯¹æ¥ iServer åç§æå¡ç Service çåºç±»ã
 * @param {string} url - æå¡å°åã
 * @param {Object} options - åæ°ã 
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæ processCompleted å±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailed å±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã
 * @param {string} [options.proxy] - æå¡ä»£çå°åã
 * @param {SuperMap.ServerType} [options.serverType=SuperMap.ServerType.ISERVER] - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã
 * @param {boolean} [options.withCredentials=false] - è¯·æ±æ¯å¦æºå¸¦ cookieã
 */
class CommonServiceBase_CommonServiceBase {

    constructor(url, options) {
        let me = this;

        this.EVENT_TYPES = ["processCompleted", "processFailed"];

        this.events = null;

        this.eventListeners = null;

        this.url = null;

        this.urls = null;

        this.proxy = null;

        this.serverType = null;

        this.index = null;

        this.length = null;

        this.options = null;

        this.totalTimes = null;

        this.POLLING_TIMES = 3;

        this._processSuccess = null;

        this._processFailed = null;

        this.isInTheSameDomain = null;

        this.withCredentials = false;

        if (Util_Util.isArray(url)) {
            me.urls = url;
            me.length = url.length;
            me.totalTimes = me.length;
            if (me.length === 1) {
                me.url = url[0];
            } else {
                me.index = parseInt(Math.random() * me.length);
                me.url = url[me.index];
            }
        } else {
            me.totalTimes = 1;
            me.url = url;
        }

        if (Util_Util.isArray(url) && !me.isServiceSupportPolling()) {
            me.url = url[0];
            me.totalTimes = 1;
        }

        me.serverType = me.serverType || ServerType.ISERVER;

        options = options || {};

        if (options) {
            Util_Util.extend(this, options);
        }

        me.isInTheSameDomain = Util_Util.isInTheSameDomain(me.url);

        me.events = new Events_Events(me, null, me.EVENT_TYPES, true);
        if (me.eventListeners instanceof Object) {
            me.events.on(me.eventListeners);
        }

        this.CLASS_NAME = "SuperMap.CommonServiceBase";
    }

    /**
     * @function SuperMap.CommonServiceBase.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨çèµæºå±æ§ç½®ç©ºã
     */
    destroy() {
        let me = this;
        if (Util_Util.isArray(me.urls)) {
            me.urls = null;
            me.index = null;
            me.length = null;
            me.totalTimes = null;
        }
        me.url = null;
        me.options = null;
        me._processSuccess = null;
        me._processFailed = null;
        me.isInTheSameDomain = null;

        me.EVENT_TYPES = null;
        if (me.events) {
            me.events.destroy();
            me.events = null;
        }
        if (me.eventListeners) {
            me.eventListeners = null;
        }
    }

    /**
     * @function  SuperMap.CommonServiceBase.prototype.request
     * @description: è¯¥æ¹æ³ç¨äºåæå¡åéè¯·æ±ã
     * @param {Object} options - åæ°ã
     * @param {string} [options.method='GET'] - è¯·æ±æ¹å¼ï¼åæ¬ "GET"ï¼"POST"ï¼"PUT"ï¼"DELETE"ã 
     * @param {string} [options.url] - åéè¯·æ±çå°åã 
     * @param {Object} [options.params] - ä½ä¸ºæ¥è¯¢å­ç¬¦ä¸²æ·»å å° URL ä¸­çä¸ç»é®å¼å¯¹ï¼æ­¤åæ°åªéç¨äº GET æ¹å¼åéçè¯·æ±ã 
     * @param {String} [options.data] - åéå°æå¡å¨çæ°æ®ã 
     * @param {function} options.success - è¯·æ±æååçåè°å½æ°ã 
     * @param {function} options.failure - è¯·æ±å¤±è´¥åçåè°å½æ°ã 
     * @param {Object} [options.scope] - å¦æåè°å½æ°æ¯å¯¹è±¡çä¸ä¸ªå¬å±æ¹æ³ï¼è®¾å®è¯¥å¯¹è±¡çèå´ã 
     * @param {boolean} [options.isInTheSameDomain] - è¯·æ±æ¯å¦å¨å½ååä¸­ã 
     * @param {boolean} [options.withCredentials=false] - è¯·æ±æ¯å¦æºå¸¦ cookieã 
     */
    request(options) {
        let me = this;
        options.url = options.url || me.url;
        options.proxy = options.proxy || me.proxy;
        options.withCredentials = options.withCredentials != undefined ? options.withCredentials : me.withCredentials;
        options.isInTheSameDomain = me.isInTheSameDomain;
        //ä¸ºurlæ·»å å®å¨è®¤è¯ä¿¡æ¯çæ®µ
        let credential = this.getCredential(options.url);
        if (credential) {
            //å½urlä¸­å«æ?ï¼å¹¶ä¸?å¨urlæ«å°¾çæ¶åç´æ¥æ·»å token *ç½ç»åæç­æå¡è¯·æ±urlä¼åºç°æ«å°¾æ¯?çæåµ*
            //å½urlä¸­å«æ?ï¼å¹¶ä¸?ä¸å¨urlæ«å°¾çæ¶åæ·»å &token
            //å½urlä¸­ä¸å«æ?ï¼å¨urlæ«å°¾æ·»å ?token
            let endStr = options.url.substring(options.url.length - 1, options.url.length);
            if (options.url.indexOf("?") > -1 && endStr === "?") {
                options.url += credential.getUrlParameters();
            } else if (options.url.indexOf("?") > -1 && endStr !== "?") {
                options.url += "&" + credential.getUrlParameters();
            } else {
                options.url += "?" + credential.getUrlParameters();
            }
        }

        me.calculatePollingTimes();
        me._processSuccess = options.success;
        me._processFailed = options.failure;
        options.scope = me;
        options.success = me.getUrlCompleted;
        options.failure = me.getUrlFailed;
        me.options = options;
        me._commit(me.options);
    }

    /**
     * @function SuperMap.CommonServiceBase.prototype.getCredential
     * @description  è·åå­æ®ä¿¡æ¯
     * @param {string} url - æå¡å°åã
     * @returns {SuperMap.Credential} å­æ®ä¿¡æ¯å¯¹è±¡ã
     */
    getCredential(url) {
        let keyUrl = url,
            credential, value;
        switch (this.serverType) {
            case ServerType.IPORTAL:
                value = SecurityManager_SecurityManager.getToken(keyUrl);
                credential = value ? new Credential(value, "token") : null;
                if (!credential) {
                    value = SecurityManager_SecurityManager.getKey(keyUrl);
                    credential = value ? new Credential(value, "key") : null;
                }
                break;
            case ServerType.ONLINE:
                value = SecurityManager_SecurityManager.getKey(keyUrl);
                credential = value ? new Credential(value, "key") : null;
                break;
            default:
                //iServer or others
                value = SecurityManager_SecurityManager.getToken(keyUrl);
                credential = value ? new Credential(value, "token") : null;
                break;
        }
        return credential;
    }

    /**
     * @function SuperMap.CommonServiceBase.prototype.getUrlCompleted
     * @description è¯·æ±æååæ§è¡æ­¤æ¹æ³ã
     * @param {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ã
     */
    getUrlCompleted(result) {
        let me = this;
        me._processSuccess(result);
    }


    /**
     * @function SuperMap.CommonServiceBase.prototype.getUrlFailed
     * @description è¯·æ±å¤±è´¥åæ§è¡æ­¤æ¹æ³ã
     * @param {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ã
     */
    getUrlFailed(result) {
        let me = this;
        if (me.totalTimes > 0) {
            me.totalTimes--;
            me.ajaxPolling();
        } else {
            me._processFailed(result);
        }
    }


    /**
     *
     * @function SuperMap.CommonServiceBase.prototype.ajaxPolling
     * @description è¯·æ±å¤±è´¥åï¼å¦æå©ä½è¯·æ±å¤±è´¥æ¬¡æ°ä¸ä¸º 0ï¼éæ°è·å URL åéè¯·æ±
     */
    ajaxPolling() {
        let me = this,
            url = me.options.url,
            re = /^http:\/\/([a-z]{9}|(\d+\.){3}\d+):\d{0,4}/;
        me.index = parseInt(Math.random() * me.length);
        me.url = me.urls[me.index];
        url = url.replace(re, re.exec(me.url)[0]);
        me.options.url = url;
        me.options.isInTheSameDomain = Util_Util.isInTheSameDomain(url);
        me._commit(me.options);
    }


    /**
     * @function SuperMap.CommonServiceBase.prototype.calculatePollingTimes
     * @description è®¡ç®å©ä½è¯·æ±å¤±è´¥æ§è¡æ¬¡æ°ã
     */
    calculatePollingTimes() {
        let me = this;
        if (me.times) {
            if (me.totalTimes > me.POLLING_TIMES) {
                if (me.times > me.POLLING_TIMES) {
                    me.totalTimes = me.POLLING_TIMES;
                } else {
                    me.totalTimes = me.times;
                }
            } else {
                if (me.times < me.totalTimes) {
                    me.totalTimes = me.times;
                }
            }

        } else {
            if (me.totalTimes > me.POLLING_TIMES) {
                me.totalTimes = me.POLLING_TIMES;
            }
        }
        me.totalTimes--;
    }

    /**
     * @function SuperMap.CommonServiceBase.prototype.isServiceSupportPolling
     * @description å¤æ­æå¡æ¯å¦æ¯æè½®è¯¢ã
     */
    isServiceSupportPolling() {
        let me = this;
        return !(
            me.CLASS_NAME === "SuperMap.REST.ThemeService" ||
            me.CLASS_NAME === "SuperMap.REST.EditFeaturesService"
        );
    }

    /**
     * @function SuperMap.CommonServiceBase.prototype.serviceProcessCompleted
     * @description ç¶æå®æï¼æ§è¡æ­¤æ¹æ³ã
     * @param {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ã
     */
    serviceProcessCompleted(result) {
        result = Util_Util.transformResult(result);
        this.events.triggerEvent("processCompleted", {
            result: result
        });
    }

    /**
     * @function SuperMap.CommonServiceBase.prototype.serviceProcessFailed
     * @description ç¶æå¤±è´¥ï¼æ§è¡æ­¤æ¹æ³ã
     * @param {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ã
     */
    serviceProcessFailed(result) {
        result = Util_Util.transformResult(result);
        let error = result.error || result;
        this.events.triggerEvent("processFailed", {
            error: error
        });
    }

    _commit(options) {
        if (options.method === "POST" || options.method === "PUT") {
            if (options.params) {
                options.url = Util_Util.urlAppend(options.url,
                    Util_Util.getParameterString(options.params || {}));
            }
            options.params = options.data;
        }
        FetchRequest.commit(options.method, options.url, options.params, {
            headers: options.headers,
            withCredentials: options.withCredentials,
            timeout: options.async ? 0 : null,
            proxy: options.proxy
        }).then(function (response) {
            if (response.text) {
                return response.text();
            }
            if (response.json) {
                return response.json();
            }
            return response;
        }).then(function (text) {
            var result = text;
            if (typeof text === "string") {
                result = new JSON_JSONFormat().read(text);
            }
            if (!result || result.error || result.code >= 300 && result.code !== 304) {
                if (result && result.error) {
                    result = {
                        error: result.error
                    };
                } else {
                    result = {
                        error: result
                    };
                }
            }
            if (result.error) {
                var failure = (options.scope) ? FunctionExt.bind(options.failure, options.scope) : options.failure;
                failure(result);
            } else {
                result.succeed = result.succeed == undefined ? true : result.succeed;
                var success = (options.scope) ? FunctionExt.bind(options.success, options.scope) : options.success;
                success(result);
            }

        })
    }
}

SuperMap.CommonServiceBase = CommonServiceBase_CommonServiceBase;

/**
 * æå¡å¨è¯·æ±åè°å½æ°
 * @callback RequestCallback
 * @example
 * var requestCallback = function (serviceResult){
 *      console.log(serviceResult.result);
 * }
 * new QueryService(url).queryByBounds(param, requestCallback);
 * @param {Object} serviceResult
 * @param {Object} serviceResult.result æå¡å¨è¿åç»æã
 * @param {Object} serviceResult.object åå¸åºç¨ç¨åºäºä»¶çå¯¹è±¡ã
 * @param {Object} serviceResult.type äºä»¶ç±»åã
 * @param {Object} serviceResult.element æ¥åæµè§å¨äºä»¶ç DOM èç¹ã
 */
// CONCATENATED MODULE: ./src/common/iServer/GeoCodingParameter.js



/**
 * @class SuperMap.GeoCodingParameter
 * @category  iServer AddressMatch
 * @classdesc å°çæ­£åå¹éåæ°ç±»ã
 * @param {Object} options - åæ°ã 
 * @param {string} options.address - å°ç¹å³é®è¯ã 
 * @param {number} [options.fromIndex] - è®¾ç½®è¿åå¯¹è±¡çèµ·å§ç´¢å¼å¼ã 
 * @param {number} [options.toIndex] - è®¾ç½®è¿åå¯¹è±¡çç»æç´¢å¼å¼ã 
 * @param {Array.<string>} [options.filters] - è¿æ»¤å­æ®µï¼éå®æ¥è¯¢åºåã 
 * @param {string} [options.prjCoordSys] - æ¥è¯¢ç»æçåæ ç³»ã 
 * @param {number} [options.maxReturn] - æå¤§è¿åç»ææ°ã
 */
class GeoCodingParameter_GeoCodingParameter {




    constructor(options) {
        if (options.filters) {
            let strs = [];
            let fields = options.filters.split(',');
            fields.map(function (field) {
                strs.push("\"" + field + "\"");
                return field;
            });
            options.filters = strs;
        }
        /**
         * @member {string} SuperMap.GeoCodingParameter.prototype.address
         * @description å°ç¹å³é®è¯ã
         */
        this.address = null;

        /**
         * @member {number} [SuperMap.GeoCodingParameter.prototype.fromIndex]
         * @description è®¾ç½®è¿åå¯¹è±¡çèµ·å§ç´¢å¼å¼ã
         */
        this.fromIndex = null;

        /**
         * @member {number} [SuperMap.GeoCodingParameter.prototype.toIndex]
         * @description è®¾ç½®è¿åå¯¹è±¡çç»æç´¢å¼å¼ã
         */
        this.toIndex = null;

        /**
         * @member {Array.<string>} [SuperMap.GeoCodingParameter.prototype.filters]
         * @description è¿æ»¤å­æ®µï¼éå®æ¥è¯¢åºåã
         */
        this.filters = null;

        /**
         * @member {string} [SuperMap.GeoCodingParameter.prototype.prjCoordSys]
         * @description  æ¥è¯¢ç»æçåæ ç³»ã
         */
        this.prjCoordSys = null;

        /**
         * @member {number} [SuperMap.GeoCodingParameter.prototype.maxReturn]
         * @description æå¤§è¿åç»ææ°ã
         */
        this.maxReturn = null;
        Util_Util.extend(this, options);
    }

    /**
     * @function SuperMap.GeoCodingParameter.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        this.address = null;
        this.fromIndex = null;
        this.toIndex = null;
        this.filters = null;
        this.prjCoordSys = null;
        this.maxReturn = null;
    }

}

SuperMap.GeoCodingParameter = GeoCodingParameter_GeoCodingParameter;
// CONCATENATED MODULE: ./src/common/iServer/GeoDecodingParameter.js



/**
 * @class SuperMap.GeoDecodingParameter
 * @category iServer AddressMatch
 * @classdesc å°çååå¹éåæ°ç±»ã
 * @param {Object} options - åæ°ã 
 * @param {number} options.x - æ¥è¯¢ä½ç½®çæ¨ªåæ ã 
 * @param {number} options.y - æ¥è¯¢ä½ç½®ççºµåæ ã 
 * @param {number} [options.fromIndex] - è®¾ç½®è¿åå¯¹è±¡çèµ·å§ç´¢å¼å¼ã 
 * @param {Array.<string>} [options.filters] - è¿æ»¤å­æ®µï¼éå®æ¥è¯¢åºåã 
 * @param {string} [options.prjCoordSys] - æ¥è¯¢ç»æçåæ ç³»ã 
 * @param {number} [options.maxReturn] - æå¤§è¿åç»ææ°ã 
 * @param {number} [options.geoDecodingRadius] - æ¥è¯¢åå¾ã
 */
class GeoDecodingParameter_GeoDecodingParameter {


    constructor(options) {

        if (options.filters) {
            let strs = [];
            let fields = options.filters.split(',');
            fields.map(function (field) {
                strs.push("\"" + field + "\"");
                return field
            });
            options.filters = strs;
        }
        /**
         * @member {number} SuperMap.GeoDecodingParameter.prototype.x
         * @description æ¥è¯¢ä½ç½®çæ¨ªåæ ã
         */
        this.x = null;

        /**
         * @member {number} SuperMap.GeoDecodingParameter.prototype.y
         * @description æ¥è¯¢ä½ç½®ççºµåæ ã
         */
        this.y = null;
        /**
         * @member {number} [SuperMap.GeoDecodingParameter.prototype.fromIndex]
         * @description  è®¾ç½®è¿åå¯¹è±¡çèµ·å§ç´¢å¼å¼ã
         */
        this.fromIndex = null;

        /**
         * @member {number} [SuperMap.GeoDecodingParameter.prototype.toIndex]
         * @description è®¾ç½®è¿åå¯¹è±¡çç»æç´¢å¼å¼ã
         */
        this.toIndex = null;

        /**
         * @member {Array.<string>} [SuperMap.GeoDecodingParameter.prototype.filters]
         * @description è¿æ»¤å­æ®µï¼éå®æ¥è¯¢åºåã
         */
        this.filters = null;

        /**
         * @member {string} [SuperMap.GeoDecodingParameter.prototype.prjCoordSys]
         * @description æ¥è¯¢ç»æçåæ ç³»ã
         */
        this.prjCoordSys = null;

        /**
         *  @member {number} [SuperMap.GeoDecodingParameter.prototype.maxReturn]
         *  @description æå¤§è¿åç»ææ°ã
         */
        this.maxReturn = null;

        /**
         * @member {number} SuperMap.GeoDecodingParameter.prototype.geoDecodingRadius
         * @description æ¥è¯¢åå¾ã
         */
        this.geoDecodingRadius = null;
        Util_Util.extend(this, options);
    }

    /**
     * @function SuperMap.GeoDecodingParameter.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        this.x = null;
        this.y = null;
        this.fromIndex = null;
        this.toIndex = null;
        this.filters = null;
        this.prjCoordSys = null;
        this.maxReturn = null;
        this.geoDecodingRadius = null;
    }

}

SuperMap.GeoDecodingParameter = GeoDecodingParameter_GeoDecodingParameter;
// CONCATENATED MODULE: ./src/common/iServer/AddressMatchService.js






/**
 * @class SuperMap.AddressMatchService
 * @category iServer AddressMatch
 * @classdesc å°åå¹éæå¡ï¼åæ¬æ­£åå¹éåååå¹éã
 * @param {string} url - å°åå¹éæå¡å°åã
 * @param {Object} options - åæ°ã
 */
class AddressMatchService_AddressMatchService extends CommonServiceBase_CommonServiceBase {

    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.AddressMatchService";
    }

    /**
     * @function SuperMap.AddressMatchService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.AddressMatchService.prototype.code
     * @param {string} url - æ­£åå°åå¹éæå¡å°åã
     * @param {SuperMap.GeoCodingParameter} params - æ­£åå°åå¹éæå¡åæ°ã
     */
    code(url, params) {
        if (!(params instanceof GeoCodingParameter_GeoCodingParameter)) {
            return;
        }
        this.processAsync(url, params);
    }

    /**
     * @function SuperMap.AddressMatchService.prototype.decode
     * @param {string} url - ååå°åå¹éæå¡å°åã
     * @param {SuperMap.GeoDecodingParameter} params - ååå°åå¹éæå¡åæ°ã
     */
    decode(url, params) {
        if (!(params instanceof GeoDecodingParameter_GeoDecodingParameter)) {
            return;
        }
        this.processAsync(url, params);
    }

    /**
     * @function SuperMap.AddressMatchService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çå¨æåæ®µæå¡åæ°ä¼ éå°æå¡ç«¯ã
     * @param {string} url - æå¡å°åã
     * @param {Object} params - åæ°ã
     */

    processAsync(url, params) {
        var me = this;
        FetchRequest.get(url, params,{proxy: me.proxy}).then(function (response) {
            return response.json();
        }).then(function (result) {
            if (result) {
                me.serviceProcessCompleted(result);
            } else {
                me.serviceProcessFailed(result);
            }
        }).catch(function (e) {
            me.eventListeners.processFailed({error: e});
        });
    }

    /**
     * @function SuperMap.AddressMatchService.prototype.serviceProcessCompleted
     * @param {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ã
     * @description æå¡æµç¨æ¯å¦å®æ
     */
    serviceProcessCompleted(result) {
        super.serviceProcessCompleted(result);
    }

    /**
     * @function SuperMap.AddressMatchService.prototype.serviceProcessCompleted
     * @param {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ã
     * @description æå¡æµç¨æ¯å¦å¤±è´¥
     */
    serviceProcessFailed(result) {
        super.serviceProcessFailed(result);
    }
}

SuperMap.AddressMatchService = AddressMatchService_AddressMatchService;
// CONCATENATED MODULE: ./src/common/iServer/AggQueryBuilderParameter.js



/**
 * @class SuperMap.AggQueryBuilderParameter
 * @classdesc èåæ¥è¯¢ QueryBuilder åæ°åºç±»ï¼è¯¥åæ°ä»æ¯ææ°æ®æ¥æº Elasticsearch æå¡çæ°æ®æå¡ã
 * @category iServer Data FeatureResults
 * @param {Object} option - åå§ååæ°ã
 * @param {string} option.name - æ¥è¯¢ç»æåç§°ã
 * @param {SuperMap.AggregationQueryBuilderType} option.queryType - æ¥è¯¢ç±»åã
 */
class AggQueryBuilderParameter_AggQueryBuilderParameter {
    constructor(option) {

        /**
         * @member {string} SuperMap.AggQueryBuilderParameter.prototype.name
         * @description æ¥è¯¢ç»æåç§°ã
         */
        this.name = null;
        /**
         * @member {SuperMap.AggregationQueryBuilderType} SuperMap.AggQueryBuilderParameter.prototype.queryType
         * @description æ¥è¯¢ç±»åã
         */
        this.queryType = null;
        this.CLASS_NAME = "SuperMap.AggQueryBuilderParameter";
        Util_Util.extend(this, option);
    }

    destroy() {
        var me = this;
        me.name = null;
        me.queryType = null;
    }
}

SuperMap.AggQueryBuilderParameter = AggQueryBuilderParameter_AggQueryBuilderParameter;
// CONCATENATED MODULE: ./src/common/iServer/AggregationParameter.js



/**
 * @class SuperMap.AggregationParameter
 * @classdesc èåæ¥è¯¢åæ°è®¾ç½®ï¼è¯¥åæ°ä»æ¯ææ°æ®æ¥æº Elasticsearch æå¡çæ°æ®æå¡ã
 * @category iServer Data FeatureResults
 * @param {Object} options - åå§ååæ°ã
 * @param {string} options.aggName - èååç§°ã
 * @param {SuperMap.AggregationType} options.aggType - èåç±»åè®¾ç½®ã
 * @param {string} options.aggFieldName - èåå­æ®µã
 * @param {SuperMap.AggregationParameter} options.subAgg - å­èåç±»ã
 *
 */
class AggregationParameter_AggregationParameter {
    constructor(options) {
        /**
         * @member {string} SuperMap.AggregationParameter.prototype.aggName
         * @description èååç§°ã
         */
        this.aggName = null;
        /**
         * @member {SuperMap.AggregationType} SuperMap.AggregationParameter.prototype.aggType
         * @description èåç±»åè®¾ç½®ç±»ã
         */
        this.aggType = null;
        /**
         * @member {string} SuperMap.AggregationParameter.prototype.aggFieldName
         * @description èåå­æ®µã
         */
        this.aggFieldName = null;
        /**
         * @member {SuperMap.AggregationParameter} SuperMap.AggregationParameter.prototype.subAgg
         * @description å­èåã
         */
        this.subAgg = null;

        this.CLASS_NAME = "SuperMap.AggregationParameter";
        Util_Util.extend(this, options);
    }

    destroy() {
        var me = this;
        me.aggName = null;
        me.aggFieldName = null;
        me.aggType = null;
        if (me.subAgg) {
            me.subAgg = null;
        }
    }
}

SuperMap.AggregationParameter = AggregationParameter_AggregationParameter;
// CONCATENATED MODULE: ./src/common/iServer/AreaSolarRadiationParameters.js



/**
 * @class SuperMap.AreaSolarRadiationParameters
 * @category iServer SpatialAnalyst SolarRadiationAnalyst
 * @classdesc å°åºå¤ªé³è¾å°åæ°ç±»ã
 * @param {Object} options - åæ°ã 
 * @param {string} options.dataset - è¦ç¨æ¥åå°åºå¤ªé³è¾å°æ°æ®æºä¸­æ°æ®éçåç§°ãè¯¥åç§°ç¨å½¢å¦"æ°æ®éåç§°@æ°æ®æºå«å"çå½¢å¼æ¥è¡¨ç¤ºï¼ä¾å¦ï¼JingjinTerrain@Jingjinã 
 * @param {string} options.targetDatasourceName - æå®çå­å¨ç»ææ°æ®éçæ°æ®æºåç§°, ä¾å¦ï¼"Jingjin"ã 
 * @param {string} options.totalGridName - æå®å°åºå¤ªé³è¾å°æ»è¾å°éæ°æ®éçåç§°ã 
 * @param {string} options.diffuseDatasetGridName - æå®å°åºå¤ªé³è¾å°æ£å°è¾å°éæ°æ®éçåç§°ã 
 * @param {string} options.durationDatasetGridName - æå®å°åºå¤ªé³è¾å°å¤ªé³ç´å°æç»­æ¶é´æ°æ®éçåç§°ã 
 * @param {string} options.directDatasetGridName - æå®å°åºå¤ªé³è¾å°ç´å°è¾å°éæ°æ®éçåç§°ã
 * @param {number} options.latitude - å¾è®¡ç®åºåççº¬åº¦å¼ã 
 * @param {string} [options.timeMode = 'MULTIDAYS'] - æ¶é´æ¨¡å¼ãå¯éå¼"WITHINDAY"ï¼åæ¥ï¼æ"MULTIDAYS"ï¼å¤æ¥ï¼ã
 * @param {number} options.dayStart - èµ·å§æ¥æï¼å¹´åçç¬¬å å¤©ï¼ã 
 * @param {number} options.dayEnd - ç»ææ¥æï¼å¹´åçç¬¬å å¤©ï¼ã 
 * @param {number} [options.hourStart] - èµ·å§æ¶é´ï¼ä¸å¤©ä¸­çç¬¬å ä¸ªå°æ¶ï¼ã 
 * @param {number} [options.hourEnd] - ç»ææ¶é´ï¼ä¸å¤©ä¸­çç¬¬å ä¸ªå°æ¶ï¼ã 
 * @param {number} [options.transmittance] - å¤ªé³è¾å°ç©¿è¿å¤§æ°çéå°çã 
 * @param {number} [options.hourInterval=0.5] - è®¡ç®æ¶çå°æ¶é´éï¼è®¾ç½®çè¶å°è®¡ç®éè¶å¤§å¹¶ä¸è®¡ç®ç»ææ´ç²¾ç¡®ï¼å¦æä¿®æ¹æ­¤åæ°ï¼å¿é¡»ä½¿ç¨æ´æ°ï¼ã 
 * @param {number} [options.dayInterval=5] - è®¡ç®æ¶çå¤©æ°é´éï¼è®¾ç½®çè¶å°è®¡ç®éè¶å¤§å¹¶ä¸è®¡ç®ç»ææ´ç²¾ç¡®ï¼å¿é¡»ä½¿ç¨æ´æ°ï¼ã 
 * @param {boolean} [options.deleteExistResultDataset=false] - å¦æç¨æ·å½åçç»ææ°æ®éåç§°ä¸å·²æçæ°æ®ééåï¼æ¯å¦å é¤å·²æçæ°æ®éã
 */
class AreaSolarRadiationParameters_AreaSolarRadiationParameters {

    constructor(options) {
        /**
         *  @member {string} SuperMap.AreaSolarRadiationParameters.prototype.dataset
         *  @description è¦ç¨æ¥åå°åºå¤ªé³è¾å°æ°æ®æºä¸­æ°æ®éçåç§°ãè¯¥åç§°ç¨å½¢å¦âæ°æ®éåç§°@æ°æ®æºå«åâå½¢å¼æ¥è¡¨ç¤ºï¼ä¾å¦ï¼JingjinTerrain@Jingjinãæ³¨ï¼å°åºå¤ªé³è¾å°æ°æ®å¿é¡»ä¸ºæ æ ¼æ°æ®éã
         */
        this.dataset = null;

        /**
         * @member {string} SuperMap.AreaSolarRadiationParameters.prototype.targetDatasourceName
         * @description æå®çå­å¨ç»ææ°æ®éçæ°æ®æºåç§°ï¼ä¾å¦ï¼"Jingjin"ã
         */
        this.targetDatasourceName = null;

        /**
         * @member {string} SuperMap.AreaSolarRadiationParameters.prototype.totalGridName
         * @description æå®å°åºå¤ªé³è¾å°æ»è¾å°éæ°æ®éçåç§°ã
         */
        this.totalGridName = null;

        /**
         * @member {string} SuperMap.AreaSolarRadiationParameters.prototype.diffuseDatasetGridName
         * @description æå®å°åºå¤ªé³è¾å°æ£å°è¾å°éæ°æ®éçåç§°ã
         */
        this.diffuseDatasetGridName = null;

        /**
         * @member {string} SuperMap.AreaSolarRadiationParameters.prototype.durationDatasetGridName
         * @description  æå®å°åºå¤ªé³è¾å°å¤ªé³ç´å°æç»­æ¶é´æ°æ®éçåç§°ã
         */
        this.durationDatasetGridName = null;

        /**
         * @member {string} SuperMap.AreaSolarRadiationParameters.prototype.durationDatasetGridName
         * @description æå®å°åºå¤ªé³è¾å°ç´å°è¾å°éæ°æ®éçåç§°ã
         */
        this.directDatasetGridName = null;

        /**
         * @member {number} SuperMap.AreaSolarRadiationParameters.prototype.latitude
         * @description å¾è®¡ç®åºåççº¬åº¦å¼ã
         */
        this.latitude = null;

        /**
         *  @member {string} [SuperMap.AreaSolarRadiationParameters.prototype.timeMode='MULTIDAYS']
         *  @description æ¶é´æ¨¡å¼ãå¯éå¼"WITHINDAY"ï¼åæ¥ï¼æ"MULTIDAYS"ï¼å¤æ¥ï¼ã
         */
        this.timeMode = "MULTIDAYS";

        /**
         *  @member {number} SuperMap.AreaSolarRadiationParameters.prototype.dayStart
         *  @description èµ·å§æ¥æï¼å¹´åçç¬¬å å¤©ï¼ã
         */
        this.dayStart = null;

        /**
         *  @member {number} SuperMap.AreaSolarRadiationParameters.prototype.dayEnd
         * @description ç»ææ¥æï¼å¹´åçç¬¬å å¤©ï¼ã
         */
        this.dayEnd = null;

        /**
         * @member {number} [SuperMap.AreaSolarRadiationParameters.prototype.hourStart]
         * @description èµ·å§æ¶é´ï¼ä¸å¤©ä¸­çç¬¬å ä¸ªå°æ¶ï¼ã
         */
        this.hourStart = null;

        /**
         * @member {number} [SuperMap.AreaSolarRadiationParameters.prototype.hourEnd]
         * @description ç»ææ¶é´ï¼ä¸å¤©ä¸­çç¬¬å ä¸ªå°æ¶ï¼ã
         */
        this.hourEnd = null;

        /**
         * @member {number} [SuperMap.AreaSolarRadiationParameters.prototype.transmittance]
         * @description å¤ªé³è¾å°ç©¿è¿å¤§æ°çéå°çã
         */
        this.transmittance = null;

        /**
         *  @member {number} [SuperMap.AreaSolarRadiationParameters.prototype.hourInterval=0.5]
         *  @description è®¡ç®æ¶çå°æ¶é´éï¼è®¾ç½®çè¶å°è®¡ç®éè¶å¤§å¹¶ä¸è®¡ç®ç»ææ´ç²¾ç¡®, å¦æä¿®æ¹æ­¤åæ°ï¼å¿é¡»ä½¿ç¨æ´æ°ï¼
         */
        this.hourInterval = null;

        /**
         * @member {number} [SuperMap.AreaSolarRadiationParameters.prototype.dayInterval=5]
         * @description è®¡ç®æ¶çå¤©æ°é´éï¼è®¾ç½®çè¶å°è®¡ç®éè¶å¤§å¹¶ä¸è®¡ç®ç»ææ´ç²¾ç¡®, å¿é¡»ä½¿ç¨æ´æ°ï¼
         */
        this.dayInterval = null;

        /**
         * @member {boolean} [SuperMap.AreaSolarRadiationParameters.prototype.deleteExistResultDataset=false]
         * @description å¦æç¨æ·å½åçç»ææ°æ®éåç§°ä¸å·²æçæ°æ®ééåï¼æ¯å¦å é¤å·²æçæ°æ®éã
         */
        this.deleteExistResultDataset = false;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.AreaSolarRadiationParameters";
    }

    /**
     * @function SuperMap.AreaSolarRadiationParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.dataset = null;
        me.zFactor = 1.0;
        me.averageCurvatureName = null;
        me.profileCurvatureName = null;
        me.planCurvatureName = null;
        me.deleteExistResultDataset = true;
    }

    /**
     * @function SuperMap.AreaSolarRadiationParameters.toObject
     * @param {SuperMap.AreaSolarRadiationParameters} param - å°åºå¤ªé³è¾å°åæ°ç±»ã
     * @param {SuperMap.AreaSolarRadiationParameters} tempObj - å°åºå¤ªé³è¾å°åæ°å¯¹è±¡ã
     * @returns {Object} JSONå¯¹è±¡ã
     * @description å°SuperMap.AreaSolarRadiationParameterså¯¹è±¡è½¬æ¢æJSONå¯¹è±¡ã
     */
    static toObject(param, tempObj) {
        var parameter = {};
        for (var name in param) {
            if (name !== "dataset") {
                var name1 = (name === "latitude" || name === "timeMode" || name === "dayStart");
                var name2 = (name === "dayEnd" || name === "hourStart" || name === "hourEnd");
                var name3 = (name === "transmittance" || name === "hourInterval" || name === "dayInterval");
                if (name1 || name2 || name3) {
                    parameter[name] = param[name];
                } else {
                    tempObj[name] = param[name];
                }
            }
        }
        tempObj["parameter"] = parameter;
    }
}

SuperMap.AreaSolarRadiationParameters = AreaSolarRadiationParameters_AreaSolarRadiationParameters;
// CONCATENATED MODULE: ./src/common/iServer/SpatialAnalystBase.js






/**
 * @class SuperMap.SpatialAnalystBase
 * @category  iServer SpatialAnalyst
 * @classdesc ç©ºé´åææå¡åºç±»ã
 * @param {string} url - å°åã
 * @param {Object} options - åæ°ã
 * @extends {SuperMap.CommonServiceBase}
 */
class SpatialAnalystBase_SpatialAnalystBase extends CommonServiceBase_CommonServiceBase {

    constructor(url, options) {
        super(url, options);
        /**
         * @member {SuperMap.DataFormat} [SuperMap.SpatialAnalystBase.prototype.format=SuperMap.DataFormat.GEOJSON]
         * @description æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æ iServerJSON å GeoJSON ä¸¤ç§æ ¼å¼ï¼åæ°æ ¼å¼ä¸º "ISERVER"ï¼"GEOJSON"ã
         */
        this.format = DataFormat.GEOJSON;
        this.CLASS_NAME = "SuperMap.SpatialAnalystBase";
    }

    /**
     * @function SuperMap.SpatialAnalystBase.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        this.format = null;
    }

    /**
     * @function SuperMap.SpatialAnalystBase.prototype.serviceProcessCompleted
     * @description åæå®æï¼æ§è¡æ­¤æ¹æ³ã
     * @param {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ã
     */
    serviceProcessCompleted(result) {
        var me = this, analystResult;
        result = Util_Util.transformResult(result);
        if (result && me.format === DataFormat.GEOJSON && typeof me.toGeoJSONResult === 'function') {
            //æ¹éåææ¶ä¼è¿åå¤ä¸ªç»æ
            if (Util_Util.isArray(result)) {
                for (var i = 0; i < result.length; i++) {
                    result[i] = me.toGeoJSONResult(result[i])
                }
                analystResult = result;

            } else {
                analystResult = me.toGeoJSONResult(result);
            }
        }
        if (!analystResult) {
            analystResult = result;
        }
        me.events.triggerEvent("processCompleted", {result: analystResult});
    }

    /**
     * @function SuperMap.SpatialAnalystBase.prototype.toGeoJSONResult
     * @description å°å«æ geometry çæ°æ®è½¬æ¢ä¸º GeoJSON æ ¼å¼ã
     * @param {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ã
     *
     */
    toGeoJSONResult(result) {
        if (!result) {
            return null;
        }
        //æ¹éå å åææ¶ç»æè¿æ ·å¤ç
        if (result.result && result.result.resultGeometry) {
            result = result.result
        }
        var geoJSONFormat = new GeoJSON_GeoJSON();
        if (result.recordsets) {
            for (var i = 0, recordsets = result.recordsets, len = recordsets.length; i < len; i++) {
                if (recordsets[i].features) {
                    recordsets[i].features = JSON.parse(geoJSONFormat.write(recordsets[i].features));
                }
            }
        } else if (result.recordset && result.recordset.features) {
            result.recordset.features = JSON.parse(geoJSONFormat.write(result.recordset.features));
        }
        if (result.resultGeometry) {
            result.resultGeometry = JSON.parse(geoJSONFormat.write(result.resultGeometry));
        }
        if (result.regions) {
            result.regions = JSON.parse(geoJSONFormat.write(result.regions));
        }

        return result;
    }

}

SuperMap.SpatialAnalystBase = SpatialAnalystBase_SpatialAnalystBase;

// CONCATENATED MODULE: ./src/common/iServer/AreaSolarRadiationService.js





/**
 * @class SuperMap.AreaSolarRadiationService
 * @category iServer SpatialAnalyst SolarRadiationAnalyst
 * @classdesc å°åºå¤ªé³è¾å°æå¡ç±»ã
 * @param {string} url - æå¡çè®¿é®å°åãå¦ï¼</br>http://localhost:8090/iserver/services/spatialanalyst-sample/restjsr/spatialanalystã</br>
 * @param {Object} options - åæ°ã</br>
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 * @extends {SuperMap.SpatialAnalystBase}
 * @example ä¾å¦ï¼
 * (start code)
 * var myAreaSolarRadiationService = new SuperMap.AreaSolarRadiationService(url);
 * myAreaSolarRadiationService.on({
     *     "processCompleted": processCompleted,
     *     "processFailed": processFailed
     *     }
 * );
 * (end)
 *
 */
class AreaSolarRadiationService_AreaSolarRadiationService extends SpatialAnalystBase_SpatialAnalystBase {

    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.AreaSolarRadiationService";
    }

    /**
     * @function SuperMap.AreaSolarRadiationService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.AreaSolarRadiationService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.AreaSolarRadiationParameters} parameter - å°åºå¤ªé³è¾å°åæ°ã
     */
    processAsync(parameter) {
        if (!(parameter instanceof AreaSolarRadiationParameters_AreaSolarRadiationParameters)) {
            return;
        }
        var me = this;

        var end = me.url.substr(me.url.length - 1, 1);
        if (end !== '/') {
            me.url += "/";
        }

        var parameterObject = {};

        if (parameter instanceof AreaSolarRadiationParameters_AreaSolarRadiationParameters) {
            me.url += 'datasets/' + parameter.dataset + '/solarradiation';
        }

        AreaSolarRadiationParameters_AreaSolarRadiationParameters.toObject(parameter, parameterObject);
        var jsonParameters = Util_Util.toJSON(parameterObject);
        me.url += '.json?returnContent=true';

        me.request({
            method: "POST",
            data: jsonParameters,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }
}

SuperMap.AreaSolarRadiationService = AreaSolarRadiationService_AreaSolarRadiationService;


// CONCATENATED MODULE: ./src/common/iServer/BufferDistance.js



/**
 * @class SuperMap.BufferDistance
 * @category iServer SpatialAnalyst BufferAnalyst
 * @classdesc ç¼å²åºåæçç¼å²è·ç¦»ç±»ãéè¿è¯¥ç±»å¯ä»¥è®¾ç½®ç¼å²åºåæçç¼å²è·ç¦»ï¼è·ç¦»å¯ä»¥æ¯æ°å¼ä¹å¯ä»¥æ¯æ°å¼åçå­æ®µè¡¨è¾¾å¼ã
 * @param {Object} options - åæ°ã 
 * @param {string} [options.exp] - ä»¥æ°å¼åçå­æ®µè¡¨è¾¾å¼ä½ä¸ºç¼å²åºåæçè·ç¦»å¼ã 
 * @param {number} [options.value=100] - ä»¥æ°å¼ä½ä¸ºç¼å²åºåæçè·ç¦»å¼ãåä½ï¼ç±³ã
 */
class BufferDistance_BufferDistance {


    constructor(options) {
        /**
         * @member {string} [SuperMap.BufferDistance.prototype.exp]
         * @description ä»¥æ°å¼åçå­æ®µè¡¨è¾¾å¼ä½ä¸ºç¼å²åºåæçè·ç¦»å¼ã
         */
        this.exp = null;

        /**
         * @member {number} [SuperMap.BufferDistance.prototype.value=100]
         * @description ä»¥æ°å¼ä½ä¸ºç¼å²åºåæçè·ç¦»å¼ãåä½ï¼ç±³ã
         */
        this.value = 100;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.BufferDistance";
    }

    /**
     * @function SuperMap.BufferDistance.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        this.exp = null;
        this.value = null;
    }


}

SuperMap.BufferDistance = BufferDistance_BufferDistance;
// CONCATENATED MODULE: ./src/common/iServer/BufferSetting.js





/**
 * @class SuperMap.BufferSetting
 * @category iServer SpatialAnalyst BufferAnalyst
 * @classdesc ç¼å²åºåæéç¨è®¾ç½®ç±»ã
 * @param {Object} options - åæ°ã 
 * @param {SuperMap.BufferEndType} [options.endType=SuperMap.BufferEndType.FLAT] - ç¼å²åºç«¯ç¹æä¸¾å¼ã 
 * @param {SuperMap.BufferDistance} [options.leftDistance=100] - å·¦ä¾§ç¼å²è·ç¦»ã 
 * @param {SuperMap.BufferDistance} [options.rightDistance=100] - å³ä¾§ç¼å²è·ç¦»ã 
 * @param {number} [options.semicircleLineSegment=4] - åå¤´ç¼å²åå¼§å¤çº¿æ®µçä¸ªæ°ã 
 * @param {SuperMap.BufferRadiusUnit} [options.radiusUnit=SuperMap.BufferRadiusUnit.METER] - ç¼å²åå¾åä½ã
 */
class BufferSetting_BufferSetting {


    constructor(options) {
        /**
         * @member {SuperMap.BufferEndType} [SuperMap.BufferSetting.prototype.endType = SuperMap.BufferEndType.FLAT]
         * @description ç¼å²åºç«¯ç¹æä¸¾å¼ãåä¸ºå¹³å¤´ååå¤´ä¸¤ç§ã
         */
        this.endType = BufferEndType.FLAT;

        /**
         * @member {SuperMap.BufferDistance} [SuperMap.BufferSetting.prototype.leftDistance=100]
         * @description å·¦ä¾§ç¼å²è·ç¦»ã
         * å½ä¸º GeometryBufferAnalyst æ¶ï¼åä½ä¸ºé»è®¤å°å¾çæå½±ç³»çåä½ï¼å¦3857ä¸ºç±³ï¼4326ä¸ºåº¦ï¼ï¼
         * å½ä¸º DatasetBufferAnalyst æ¶ï¼åä½éè¿{@link BufferSetting.radiusUnit}è®¾ç½®ï¼é»è®¤å¨é¨ä¸ºç±³ï¼ã
         */
        this.leftDistance = new BufferDistance_BufferDistance();

        /**
         * @member {SuperMap.BufferDistance} [SuperMap.BufferSetting.prototype.rightDistance=100]
         * @description å³ä¾§ç¼å²è·ç¦»ã
         * å½ä¸º GeometryBufferAnalyst æ¶ï¼åä½ä¸ºé»è®¤å°å¾çæå½±ç³»çåä½ï¼å¦3857ä¸ºç±³ï¼4326ä¸ºåº¦ï¼ï¼
         * å½ä¸º DatasetBufferAnalyst æ¶ï¼åä½éè¿{@link BufferSetting.radiusUnit}è®¾ç½®ï¼é»è®¤å¨é¨ä¸ºç±³ï¼ã
         */
        this.rightDistance = new BufferDistance_BufferDistance();

        /**
         * @member {number} [SuperMap.BufferSetting.prototype.semicircleLineSegment=4]
         * @description åå¤´ç¼å²åå¼§å¤çº¿æ®µçä¸ªæ°ãå³ç¨å¤å°ä¸ªçº¿æ®µæ¥æ¨¡æä¸ä¸ªååã
         */
        this.semicircleLineSegment = 4;

        /**
         * @member {SuperMap.BufferRadiusUnit} [SuperMap.BufferSetting.prototype.radiusUnit = SuperMap.BufferRadiusUnit.METER]
         * @description ç¼å²åå¾åä½ï¼å¯ä»¥æ¯{@link SuperMap.BufferRadiusUnit.METER}ã{@link SuperMap.BufferRadiusUnit.MILIMETER}ã
         * {@link SuperMap.BufferRadiusUnit.CENTIMETER}ã{@link SuperMap.BufferRadiusUnit.DECIMETER}ã{@link SuperMap.BufferRadiusUnit.KILOMETER}ã
         * {@link SuperMap.BufferRadiusUnit.FOOT}ã{@link SuperMap.BufferRadiusUnit.INCH}ã{@link SuperMap.BufferRadiusUnit.MILE}ã{@link SuperMap.BufferRadiusUnit.YARD}ã
         * ä»å¯¹BufferAnalystææã
         */
        this.radiusUnit = BufferRadiusUnit.METER;

        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = "SuperMap.BufferSetting";
    }


    /**
     * @function SuperMap.BufferSetting.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        let me = this;
        me.endType = null;
        if (me.leftDistance) {
            me.leftDistance.destroy();
            me.leftDistance = null;
        }
        if (me.rightDistance) {
            me.rightDistance.destroy();
            me.rightDistance = null;
        }
        me.semicircleLineSegment = null;
        me.radiusUnit = null;
    }
}

SuperMap.BufferSetting = BufferSetting_BufferSetting;
// CONCATENATED MODULE: ./src/common/iServer/BufferAnalystParameters.js




/**
 * @class SuperMap.BufferAnalystParameters
 * @category iServer SpatialAnalyst BufferAnalyst
 * @classdesc ç¼å²åºåæåæ°åºç±»ã
 * @param {Object} options - åæ°ã 
 * @param {SuperMap.BufferSetting} [options.bufferSetting] - è®¾ç½®ç¼å²åºéç¨åæ°ãä¸ºç¼å²åºåææä¾å¿è¦çåæ°ä¿¡æ¯ï¼åæ¬å·¦ç¼å²è·ç¦»ãå³ç¼å²è·ç¦»ãç«¯ç¹ç±»åãåå¤´ç¼å²åå¼§å¤çº¿æ®µçä¸ªæ°ä¿¡æ¯ã
 */
class BufferAnalystParameters_BufferAnalystParameters {


    constructor(options) {
        var me = this;
        /**
         * @member {SuperMap.BufferSetting} [SuperMap.BufferAnalystParameters.prototype.bufferSetting]
         * @description è®¾ç½®ç¼å²åºéç¨åæ°ãä¸ºç¼å²åºåææä¾å¿è¦çåæ°ä¿¡æ¯ï¼åæ¬å·¦ç¼å²è·ç¦»ãå³ç¼å²è·ç¦»ãç«¯ç¹ç±»åãåå¤´ç¼å²åå¼§å¤çº¿æ®µçä¸ªæ°ä¿¡æ¯ã
         */
        me.bufferSetting = new BufferSetting_BufferSetting();
        Util_Util.extend(this, options);
        this.CLASS_NAME = "SuperMap.BufferAnalystParameters";
    }


    /**
     * @function SuperMap.BufferAnalystParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        if (me.bufferSetting) {
            me.bufferSetting.destroy();
            me.bufferSetting = null;
        }
    }


}

SuperMap.BufferAnalystParameters = BufferAnalystParameters_BufferAnalystParameters;
// CONCATENATED MODULE: ./src/common/iServer/DataReturnOption.js




/**
 * @class SuperMap.DataReturnOption
 * @category iServer SpatialAnalyst
 * @classdesc æ°æ®è¿åè®¾ç½®ç±»ã
 * @param {Object} options - åæ°ã 
 * @param {number} [options.expectCount=1000] - è®¾ç½®è¿åçæå¤§è®°å½æ°ï¼å°äºæèç­äº 0 æ¶è¡¨ç¤ºè¿åææè®°å½æ°ã 
 * @param {string} [options.dataset] - è®¾ç½®ç»ææ°æ®éæ è¯ï¼å½ dataReturnMode ä¸º {@link SuperMap.DataReturnMode.DATASET_ONLY}æ{@link SuperMap.DataReturnMode.DATASET_AND_RECORDSET}æ¶ææï¼
 *                                   ä½ä¸ºè¿åæ°æ®éçåç§°ãè¯¥åç§°ç¨å½¢å¦âæ°æ®éåç§°@æ°æ®æºå«åâå½¢å¼æ¥è¡¨ç¤ºã 
 * @param {SuperMap.DataReturnMode} [options.dataReturnMode=SuperMap.DataReturnMode.RECORDSET_ONLY] - æ°æ®è¿åæ¨¡å¼ã 
 * @param {boolean} [options.deleteExistResultDataset=true] - å¦æç¨æ·å½åçç»ææ°æ®éåç§°ä¸å·²æçæ°æ®ééåï¼æ¯å¦å é¤å·²æçæ°æ®éã
 */
class DataReturnOption_DataReturnOption {


    constructor(options) {

        /**
         * @member {number} [SuperMap.DataReturnOption.prototype.expectCount=1000]
         * @description è®¾ç½®è¿åçæå¤§è®°å½æ°ï¼å°äºæèç­äº0æ¶è¡¨ç¤ºè¿åææè®°å½æ°ã
         */
        this.expectCount = 1000;

        /**
         * @member {string} [SuperMap.DataReturnOption.prototype.dataset]
         * @description è®¾ç½®ç»ææ°æ®éæ è¯ï¼å½dataReturnModeä¸º {@link SuperMap.DataReturnMode.DATASET_ONLY}
         * æ{@link SuperMap.DataReturnMode.DATASET_AND_RECORDSET}æ¶ææï¼
         * ä½ä¸ºè¿åæ°æ®éçåç§°ãè¯¥åç§°ç¨å½¢å¦"æ°æ®éåç§°@æ°æ®æºå«å"å½¢å¼æ¥è¡¨ç¤ºã
         */
        this.dataset = null;

        /**
         * @member {SuperMap.DataReturnMode} [SuperMap.DataReturnOption.prototype.dataReturnMode=SuperMap.DataReturnMode.RECORDSET_ONLY]
         * @description æ°æ®è¿åæ¨¡å¼ã
         */
        this.dataReturnMode = DataReturnMode.RECORDSET_ONLY;

        /**
         * @member {boolean} [SuperMap.DataReturnOption.prototype.deleteExistResultDataset=true]
         * @description å¦æç¨æ·å½åçç»ææ°æ®éåç§°ä¸å·²æçæ°æ®ééåï¼æ¯å¦å é¤å·²æçæ°æ®éã
         */
        this.deleteExistResultDataset = true;

        Util_Util.extend(this, options);
        this.CLASS_NAME = "SuperMap.DataReturnOption";
    }

    /**
     * @function SuperMap.DataReturnOption.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.expectCount = null;
        me.dataset = null;
        me.dataReturnMode = null;
        me.deleteExistResultDataset = null;
    }


}

SuperMap.DataReturnOption = DataReturnOption_DataReturnOption;
// CONCATENATED MODULE: ./src/common/iServer/JoinItem.js



/**
 * @class SuperMap.JoinItem
 * @category iServer
 * @classdesc è¿æ¥ä¿¡æ¯ç±»ã
 * è¯¥ç±»ç¨äºç¢éæ°æ®éä¸å¤é¨è¡¨çè¿æ¥ãå¤é¨è¡¨å¯ä»¥ä¸ºå¦ä¸ä¸ªç¢éæ°æ®éï¼å¶ä¸­çº¯å±æ§æ°æ®éä¸­æ²¡æç©ºé´å ä½ä¿¡æ¯ï¼æå¯¹åºç DBMS è¡¨ï¼ä¹å¯ä»¥æ¯ç¨æ·èªå»ºçä¸å¡è¡¨ã
 * éè¦æ³¨æçæ¯ï¼ç¢éæ°æ®éä¸å¤é¨è¡¨å¿é¡»å±äºåä¸æ°æ®æºãè¡¨ä¹é´çèç³»çå»ºç«æä¸¤ç§æ¹å¼ï¼ä¸ç§æ¯è¿æ¥ï¼joinï¼ï¼ä¸ç§æ¯å³èï¼linkï¼ã
 * è¿æ¥ï¼å®éä¸æ¯ä¾æ®ç¸åçå­æ®µå°ä¸ä¸ªå¤é¨è¡¨è¿½å å°æå®çè¡¨ï¼èå³èæ¯åºäºä¸ä¸ªç¸åçå­æ®µå®ä¹äºä¸¤ä¸ªè¡¨æ ¼ä¹é´çèç³»ï¼ä½ä¸æ¯å®éçè¿½å ã
 * ç¨äºè¿æ¥ä¸¤ä¸ªè¡¨çå­æ®µçåç§°ä¸ä¸å®ç¸åï¼ä½ç±»åå¿é¡»ä¸è´ãå½ä¸¤ä¸ªè¡¨æ ¼ä¹é´å»ºç«äºè¿æ¥ï¼éè¿å¯¹ä¸»è¡¨è¿è¡æä½ï¼å¯ä»¥å¯¹å¤é¨è¡¨è¿è¡æ¥è¯¢ï¼å¶ä½ä¸é¢å¾ä»¥ååæç­ã
 * å½ä¸¤ä¸ªè¡¨æ ¼ä¹é´æ¯ä¸å¯¹ä¸æå¤å¯¹ä¸çå³ç³»æ¶ï¼å¯ä»¥ä½¿ç¨ join è¿æ¥ãå½ä¸ºå¤å¯¹ä¸çå³ç³»æ¶ï¼åè®¸æå®å¤ä¸ªå­æ®µä¹é´çå³èã
 *ï¼æ³¨æï¼SuperMap.JoinItem ç®åæ¯æå·¦è¿æ¥ååè¿æ¥ï¼ä¸æ¯æå¨è¿æ¥åå³è¿æ¥ï¼UDB å¼æä¸æ¯æåè¿æ¥ãå¹¶ä¸ç¨äºå»ºç«è¿æ¥çä¸¤ä¸ªè¡¨å¿é¡»å¨åä¸ä¸ªæ°æ®æºä¸ã)
 * @param {Object} options - åæ°ã 
 * @param {string} options.foreignTableName - å¤é¨è¡¨çåç§°ã 
 * @param {string} options.joinFilter - ç¢éæ°æ®éä¸å¤é¨è¡¨ä¹é´çè¿æ¥è¡¨è¾¾å¼ï¼å³è®¾å®ä¸¤ä¸ªè¡¨ä¹é´å³èçå­æ®µã 
 * @param {SuperMap.JoinType} options.joinType - ä¸¤ä¸ªè¡¨ä¹é´è¿æ¥ç±»åã 
 * @example ä¸é¢ä»¥ SQL æ¥è¯¢è¯´æ joinItem çä½¿ç¨æ¹æ³ï¼
 *(start code)
 *   function queryBySQL() {
     *       // è®¾ç½®ä¸å¤é¨è¡¨çè¿æ¥ä¿¡æ¯
     *       var joinItem = new SuperMap.JoinItem({
     *           foreignTableName: "foreignTable",
     *           joinFilter: "foreignTable.CONTINENT = Countries.CONTINENT",
     *           joinType: "LEFTJOIN"
     *       })
     *       var queryParam, queryBySQLParams, queryBySQLService;
     *       // è®¾ç½®æ¥è¯¢åæ°ï¼å¨æ¥è¯¢åæ°ä¸­æ·»å joinItemå³èæ¡ä»¶ä¿¡æ¯
     *       queryParam = new SuperMap.FilterParameter({
     *            name: "Countries@World",
     *            joinItems: [joinItem]
     *         }),
     *       queryBySQLParams = new SuperMap.QueryBySQLParameters({
     *             queryParams: [queryParam]
     *         }),
     *       queryBySQLService = new SuperMap.QueryBySQLService(url, {
     *             eventListeners: { "processCompleted": processCompleted, "processFailed": processFailed}
     *         });
     *       queryBySQLService.processAsync(queryBySQLParams);
     *  }
 *  function processCompleted(queryEventArgs) {//todo}
 *  function processFailed(e) {//todo}
 * (end)
 */
class JoinItem_JoinItem {

    constructor(options) {
        /**
         * @member {string} SuperMap.JoinItem.prototype.foreignTableName
         * @description å¤é¨è¡¨çåç§°ã
         * å¦æå¤é¨è¡¨çåç§°æ¯ä»¥ âè¡¨å@æ°æ®æºåâ å½åæ¹å¼ï¼åè¯¥å±æ§åªéèµå¼è¡¨åã
         * ä¾å¦ï¼å¤é¨è¡¨ Name@changchunï¼Name ä¸ºè¡¨åï¼changchun ä¸ºæ°æ®æºåç§°ï¼åè¯¥å±æ§çèµå¼åºä¸ºï¼Nameã
         */
        this.foreignTableName = null;

        /**
         * @member {string} SuperMap.JoinItem.prototype.joinFilter
         * @description ç¢éæ°æ®éä¸å¤é¨è¡¨ä¹é´çè¿æ¥è¡¨è¾¾å¼ï¼å³è®¾å®ä¸¤ä¸ªè¡¨ä¹é´å³èçå­æ®µã
         * ä¾å¦ï¼å°æ¿å±é¢æ°æ®éï¼Buildingï¼ç district å­æ®µä¸æ¿å±æ¥æèççº¯å±æ§æ°æ®éï¼Ownerï¼ç region å­æ®µç¸è¿æ¥ï¼
         * ä¸¤ä¸ªæ°æ®éå¯¹åºçè¡¨åç§°åå«ä¸º Table_Building å Table_Ownerï¼
         * åè¿æ¥è¡¨è¾¾å¼ä¸º Table_Building.district = Table_Owner.regionã
         * å½æå¤ä¸ªå­æ®µç¸è¿æ¥æ¶ï¼ç¨ AND å°å¤ä¸ªè¡¨è¾¾å¼ç¸è¿ã
         */
        this.joinFilter = null;

        /**
         * @member {SuperMap.JoinType} SuperMap.JoinItem.prototype.joinType
         * @description ä¸¤ä¸ªè¡¨ä¹é´è¿æ¥ç±»åã
         * è¿æ¥ç±»åå³å®äºå¯¹ä¸¤ä¸ªè¡¨è¿è¡è¿æ¥æ¥è¯¢åè¿åçè®°å½çæåµã
         */
        this.joinType = null;

        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = "SuperMap.JoinItem";
    }


    /**
     * @function SuperMap.JoinItem.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.foreignTableName = null;
        me.joinFilter = null;
        me.joinType = null;
    }

    /**
     * @function SuperMap.JoinItem.prototype.toServerJSONObject
     * @description è½¬æ¢æå¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     */
    toServerJSONObject() {
        var dataObj = {};
        dataObj = Util_Util.copyAttributes(dataObj, this);
        //joinFilteråºæ¬æ¯ä¸ªçº¯å±æ§å¯¹è±¡ï¼è¿éä¸ååè½¬æ¢
        return dataObj;
    }
}

SuperMap.JoinItem = JoinItem_JoinItem;
// CONCATENATED MODULE: ./src/common/iServer/DatasourceConnectionInfo.js


 // eslint-disable-line no-unused-vars

/**
 * @class SuperMap.DatasourceConnectionInfo
 * @category  iServer Data
 * @classdesc æ°æ®æºè¿æ¥ä¿¡æ¯ç±»ãè¯¥ç±»åæ¬äºè¿è¡æ°æ®æºè¿æ¥çææä¿¡æ¯ï¼å¦æè¦è¿æ¥çæå¡å¨åç§°ãæ°æ®åºåç§°ãç¨æ·åä»¥åå¯ç ç­ã
 *            å½ä¿å­ä¸ºå·¥ä½ç©ºé´æ¶ï¼ å·¥ä½ç©ºé´ä¸­çæ°æ®æºçè¿æ¥ä¿¡æ¯é½å°å­å¨å°å·¥ä½ç©ºé´æä»¶ä¸­ãå¯¹äºä¸åç±»åçæ°æ®æºï¼å¶è¿æ¥ä¿¡æ¯ææåºå«ã
 *            æä»¥å¨ä½¿ ç¨è¯¥ç±»æåå«çæåæ¶ï¼è¯·æ³¨æè¯¥æåæéç¨çæ°æ®æºç±»åãå¯¹äºä»æ°æ®æºå¯¹è±¡ä¸­è¿åçæ°æ®è¿æ¥ä¿¡æ¯å¯¹è±¡ï¼åªæ connect æ¹æ³å¯ä»¥è¢«ä¿®æ¹ï¼
 *            å¶ä»åå®¹æ¯ä¸å¯ä»¥è¢«ä¿®æ¹çãå¯¹äºç¨æ·åå»ºçæ°æ®æºè¿æ¥ä¿¡æ¯å¯¹è±¡ï¼å¶åå®¹é½å¯ä»¥ä¿®æ¹ã
 * @category iServer Data
 * @param {Object} options - åæ°ã 
 * @param {string} options.alias - æ°æ®æºå«åã 
 * @param {string} options.dataBase - æ°æ®æºè¿æ¥çæ°æ®åºåã 
 * @param {boolean} [options.connect] - æ°æ®æºæ¯å¦èªå¨è¿æ¥æ°æ®ã 
 * @param {string} [options.driver] - ä½¿ç¨ ODBC(Open Database Connectivityï¼å¼æ¾æ°æ®åºäºè¿)çæ°æ®åºçé©±å¨ç¨åºåã 
 * @param {SuperMap.EngineType} [options.engineType] - æ°æ®æºè¿æ¥çå¼æç±»åã 
 * @param {boolean} [options.exclusive] - æ¯å¦ä»¥ç¬å æ¹å¼æå¼æ°æ®æºã 
 * @param {boolean} [options.OpenLinkTable] - æ¯å¦ææ°æ®åºä¸­çå¶ä»é SuperMap æ°æ®è¡¨ä½ä¸º LinkTable æå¼ã 
 * @param {string} [options.password] - ç»å½æ°æ®æºè¿æ¥çæ°æ®åºææä»¶çå¯ç ã 
 * @param {boolean} [options.readOnly] - æ¯å¦ä»¥åªè¯»æ¹å¼æå¼æ°æ®æºã 
 * @param {string} [options.server] - æ°æ®åºæå¡å¨åæ SDB æä»¶åã 
 * @param {string} [options.user] - ç»å½æ°æ®åºçç¨æ·åã 
 */
class DatasourceConnectionInfo_DatasourceConnectionInfo {


    constructor(options) {

        /**
         * @member {string} SuperMap.DatasourceConnectionInfo.prototype.alias
         * @description æ°æ®æºå«åã
         */
        this.alias = null;

        /**
         * @member {boolean} [SuperMap.DatasourceConnectionInfo.prototype.connect]
         * @description æ°æ®æºæ¯å¦èªå¨è¿æ¥æ°æ®ã
         */
        this.connect = null;

        /**
         * @member {string} SuperMap.DatasourceConnectionInfo.prototype.dataBase
         * @description æ°æ®æºè¿æ¥çæ°æ®åºåã
         */
        this.dataBase = null;

        /**
         * @member {string} [SuperMap.DatasourceConnectionInfo.prototype.driver]
         * @description ä½¿ç¨ ODBC(Open Database Connectivityï¼å¼æ¾æ°æ®åºäºè¿) çæ°æ®åºçé©±å¨ç¨åºåã
         * å¶ä¸­ï¼å¯¹äº SQL Server æ°æ®åºä¸ iServer åå¸ç WMTS æå¡ï¼æ­¤ä¸ºå¿è®¾åæ°ã
         * å¯¹äº SQL Server æ°æ®åºï¼å®ä½¿ç¨ ODBC è¿æ¥ï¼æè®¾ç½®çé©±å¨ç¨åºåä¸º "SQL Server" æ "SQL Native Client"ï¼
         * å¯¹äº iServer åå¸ç WMTS æå¡ï¼è®¾ç½®çé©±å¨åç§°ä¸º "WMTS"ã
         */
        this.driver = null;

        /**
         * @member {SuperMap.EngineType} [SuperMap.DatasourceConnectionInfo.prototype.engineType]
         * @description æ°æ®æºè¿æ¥çå¼æç±»åã
         */
        this.engineType = null;

        /**
         * @member {boolean} [SuperMap.DatasourceConnectionInfo.prototype.exclusive]
         * @description æ¯å¦ä»¥ç¬å æ¹å¼æå¼æ°æ®æºã
         */
        this.exclusive = null;

        /**
         * @member {boolean} [SuperMap.DatasourceConnectionInfo.prototype.OpenLinkTable]
         * @description æ¯å¦ææ°æ®åºä¸­çå¶ä»é SuperMap æ°æ®è¡¨ä½ä¸º LinkTable æå¼ã
         */
        this.OpenLinkTable = null;

        /**
         * @member {string} [SuperMap.DatasourceConnectionInfo.prototype.password]
         * @description ç»å½æ°æ®æºè¿æ¥çæ°æ®åºææä»¶çå¯ç ã
         */
        this.password = null;

        /**
         * @member {boolean} [SuperMap.DatasourceConnectionInfo.prototype.readOnly]
         * @description æ¯å¦ä»¥åªè¯»æ¹å¼æå¼æ°æ®æºã
         */
        this.readOnly = null;

        /**
         * @member {string} [SuperMap.DatasourceConnectionInfo.prototype.server]
         * @description æ°æ®åºæå¡å¨åãæä»¶åææå¡å°åã
         * 1.å¯¹äº SDB å UDB æä»¶ï¼ä¸ºå¶æä»¶çç»å¯¹è·¯å¾ãæ³¨æï¼å½ç»å¯¹è·¯å¾çé¿åº¦è¶è¿ UTF-8 ç¼ç æ ¼å¼ç 260 å­èé¿åº¦ï¼è¯¥æ°æ®æºæ æ³æå¼ã
         * 2.å¯¹äº Oracle æ°æ®åºï¼å¶æå¡å¨åä¸ºå¶ TNS æå¡åç§°ã
         * 3.å¯¹äº SQL Server æ°æ®åºï¼å¶æå¡å¨åä¸ºå¶ç³»ç»ç DSN(Database Source Name) åç§°ã
         * 4.å¯¹äº PostgreSQL æ°æ®åºï¼å¶æå¡å¨åä¸º âIP:ç«¯å£å·âï¼é»è®¤çç«¯å£å·æ¯ 5432ã
         * 5.å¯¹äº DB2 æ°æ®åºï¼å·²ç»è¿è¡äºç¼ç®ï¼æä»¥ä¸éè¦è¿è¡æå¡å¨çè®¾ç½®ã
         * 6.å¯¹äº Kingbase æ°æ®åºï¼å¶æå¡å¨åä¸ºå¶ IP å°åã
         * 7.å¯¹äº GoogleMaps æ°æ®æºï¼å¶æå¡å¨å°åï¼é»è®¤è®¾ç½®ä¸º â{@link http://maps.google.com}âï¼ä¸ä¸å¯æ´æ¹ã
         * 8.å¯¹äº SuperMapCould æ°æ®æºï¼ä¸ºå¶æå¡å°åã
         * 9.å¯¹äº MAPWORLD æ°æ®æºï¼ä¸ºå¶æå¡å°åï¼é»è®¤è®¾ç½®ä¸º â{@link http://www.tianditu.cn}âï¼ä¸ä¸å¯æ´æ¹ã
         * 10.å¯¹äº OGC å REST æ°æ®æºï¼ä¸ºå¶æå¡å°åã
         */
        this.server = null;

        /**
         * @member {string} SuperMap.DatasourceConnectionInfo.prototype.user
         * @description ç»å½æ°æ®åºçç¨æ·åã
         */
        this.user = null;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.DatasourceConnectionInfo";
    }

    /**
     * @function SuperMap.DatasourceConnectionInfo.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.alias = null;
        me.connect = null;
        me.dataBase = null;
        me.driver = null;
        me.engineType = null;
        me.exclusive = null;
        me.OpenLinkTable = null;
        me.password = null;
        me.readOnly = null;
        me.server = null;
        me.user = null;
    }

}

SuperMap.DatasourceConnectionInfo = DatasourceConnectionInfo_DatasourceConnectionInfo;
// CONCATENATED MODULE: ./src/common/iServer/LinkItem.js




/**
 * @class SuperMap.LinkItem
 * @constructs SuperMap.LinkItem
 * @category iServer
 * @classdesc å³èä¿¡æ¯ç±»ã
 * @description è¯¥ç±»ç¨äºç¢éæ°æ®éä¸å¤é¨è¡¨çå³èã å¤é¨è¡¨æ¯å¦ä¸ä¸ªæ°æ®éï¼å¶ä¸­çº¯å±æ§æ°æ®éä¸­æ²¡æç©ºé´å ä½ä¿¡æ¯ï¼ä¸­ç DBMS è¡¨,
 *              ç¢éæ°æ®éä¸å¤é¨è¡¨å¯ä»¥å±äºä¸åçæ°æ®æºï¼ä½æ°æ®æºç±»åç®ååªæ¯æ SQL Server å Oracle ç±»åãä½¿ç¨ LinkItem æ¶ï¼
 *              ç©ºé´æ°æ®åå±æ§æ°æ®å¿é¡»æ»¡è¶³å³èæ¡ä»¶ï¼å³ä¸»ç©ºé´æ°æ®éä¸å¤é¨å±æ§è¡¨ä¹é´å­å¨å³èå­æ®µã{@link SuperMap.LinkItem}
 *              åªæ¯æå·¦è¿æ¥ï¼UDBãPostgreSQL å DB2 æ°æ®æºä¸æ¯æ {@link SuperMap.LinkItem}ï¼å¦å¤ï¼ç¨äºå»ºç«å³èå³ç³»çä¸¤ä¸ªè¡¨å¯ä»¥ä¸å¨åä¸ä¸ªæ°æ®æºä¸ãæ³¨æï¼<br>
 * 1. ä½¿ç¨ {@link SuperMap.LinkItem} ççº¦ææ¡ä»¶ä¸ºï¼ç©ºé´æ°æ®åå±æ§æ°æ®å¿é¡»æå³èæ¡ä»¶ï¼å³ä¸»ç©ºé´æ°æ®éä¸å¤é¨å±æ§è¡¨ä¹é´å­å¨å³èå­æ®µï¼<br>
 * 2. ä½¿ç¨å¤å³èè¡¨å¶ä½ä¸é¢å¾æ¶ï¼æå³èçå­æ®µå¿é¡»è®¾ç½®è¡¨åï¼ä¾å¦ï¼å¦ææå³èçå­æ®µä¸º BaseMap_R æ°æ®éç SmIDï¼å°±è¦åæ BaseMap_R.SMIDã
 * @param {Object} options - åæ°ã
 * @param {SuperMap.DatasourceConnectionInfo} options.datasourceConnectionInfo - å³èçå¤é¨æ°æ®æºä¿¡æ¯ã
 * @param {Array.<string>} options.foreignKeys - ä¸»ç©ºé´æ°æ®éçå¤é®ã
 * @param {string} options.foreignTable - å³èçå¤é¨å±æ§è¡¨çåç§°ã
 * @param {Array.<string>} options.linkFields - æ¬²ä¿ççå¤é¨å±æ§è¡¨çå­æ®µã
 * @param {string} options.linkFilter - ä¸å¤é¨å±æ§è¡¨çè¿æ¥æ¡ä»¶ã
 * @param {string} options.name - æ­¤å³èä¿¡æ¯å¯¹è±¡çåç§°ã
 * @param {Array.<string>} options.primaryKeys - éè¦å³èçå¤é¨å±æ§è¡¨çä¸»é®ã
 * @example ä¸é¢ä»¥ SQL æ¥è¯¢è¯´æ linkitem çä½¿ç¨æ¹æ³ï¼
 *  function queryBySQL() {
 *      // è®¾ç½®å³èçå¤é¨æ°æ®åºä¿¡æ¯,aliasè¡¨ç¤ºæ°æ®åºå«å
 *      var dc = new SuperMap.DatasourceConnectionInfo({
 *          dataBase: "RelQuery",
 *          server: "192.168.168.39",
 *          user: "sa",
 *          password: "map",
 *          driver: "SQL Server",
 *          connect: true,
 *          OpenLinkTable: false,
 *          alias: "RelQuery",
 *          engineType: EngineType.SQLPLUS,
 *          readOnly: false,
 *          exclusive: false
 *      });
 *     // è®¾ç½®å³èä¿¡æ¯
 *      var linkItem = new SuperMap.LinkItem({
 *          datasourceConnectionInfo: dc,
 *          foreignKeys: ["name"],
 *          foreignTable: "Pop_2011",
 *          linkFields: ["SmID as Pid","pop"],
 *          name: "link",
 *          primatryKeys: ["name"],
 *      });
 *      // è®¾ç½®æ¥è¯¢åæ°ï¼å¨æ¥è¯¢åæ°ä¸­æ·»å linkItemå³èæ¡ä»¶ä¿¡æ¯
 *      var queryParam, queryBySQLParams, queryBySQLService;
 *      queryParam = new SuperMap.FilterParameter({
 *          name: "Province@RelQuery",
 *          fields: ["SmID","name"],
 *          attributeFilter: "SmID<7",
 *          linkItems: [linkItem]
 *       }),
 *      queryBySQLParams = new SuperMap.QueryBySQLParameters({
 *           queryParams: [queryParam]
 *              }),
 *      queryBySQLService = new SuperMap.QueryBySQLService(url, {
     *          eventListeners: {
     *              "processCompleted": processCompleted,
     *              "processFailed": processFailed
     *              }
     *      });
     *      queryBySQLService.processAsync(queryBySQLParams);
     *  }
 *  function processCompleted(queryEventArgs) {//todo}
 *  function processFailed(e) {//todo}
 *
 */
class LinkItem_LinkItem {


    constructor(options) {

        /**
         * @member {SuperMap.DatasourceConnectionInfo} SuperMap.LinkItem.prototype.datasourceConnectionInfo
         * @description å³èçå¤é¨æ°æ®æºä¿¡æ¯ã
         */
        this.datasourceConnectionInfo = null;

        /**
         * @member {Array.<string>} SuperMap.LinkItem.prototype.foreignKeys
         * @description ä¸»ç©ºé´æ°æ®éçå¤é®ã
         */
        this.foreignKeys = null;

        /**
         * @member {string} SuperMap.LinkItem.prototype.foreignTable
         * @description å³èçå¤é¨å±æ§è¡¨çåç§°ï¼ç®åä»æ¯æ Supermap ç®¡ççè¡¨ï¼å³å¦ä¸ä¸ªç¢éæ°æ®éæå¯¹åºç DBMS è¡¨ã
         */
        this.foreignTable = null;

        /**
         * @member {Array.<string>} SuperMap.LinkItem.prototype.linkFields
         * @description æ¬²ä¿ççå¤é¨å±æ§è¡¨çå­æ®µãå¦æä¸è®¾ç½®å­æ®µæèè®¾ç½®çå­æ®µå¨å¤é¨å±æ§è¡¨ä¸­ä¸å­å¨çè¯åä¸è¿
         * åä»»ä½å¤é¨å±æ§è¡¨çå±æ§ä¿¡æ¯ãå¦ææ¬²ä¿ççå¤é¨è¡¨å­æ®µä¸ä¸»è¡¨å­æ®µå­å¨ååï¼åè¿éè¦æå®ä¸ä¸ªä¸å­å¨å­æ®µåä½ä¸ºå¤é¨è¡¨çå­æ®µå«åã
         */
        this.linkFields = null;

        /**
         * @member {string} SuperMap.LinkItem.prototype.linkFilter
         * @description ä¸å¤é¨å±æ§è¡¨çè¿æ¥æ¡ä»¶ã
         */
        this.linkFilter = null;

        /**
         * @member {string} SuperMap.LinkItem.prototype.name
         * @description æ­¤å³èä¿¡æ¯å¯¹è±¡çåç§°ã
         */
        this.name = null;

        /**
         * @member {Array.<string>} SuperMap.LinkItem.prototype.primaryKeys
         * @description éè¦å³èçå¤é¨å±æ§è¡¨çä¸»é®ã
         */
        this.primaryKeys = null;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.LinkItem";
    }

    /**
     * @function SuperMap.LinkItem.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        if (me.datasourceConnectionInfo instanceof DatasourceConnectionInfo_DatasourceConnectionInfo) {
            me.datasourceConnectionInfo.destroy();
            me.datasourceConnectionInfo = null;
        }
        me.foreignKeys = null;
        me.foreignTable = null;
        me.linkFields = null;
        me.linkFilter = null;
        me.name = null;
        me.primaryKeys = null;
    }

}

SuperMap.LinkItem = LinkItem_LinkItem;
// CONCATENATED MODULE: ./src/common/iServer/FilterParameter.js





/**
 * @class SuperMap.FilterParameter
 * @category iServer
 * @classdesc æ¥è¯¢è¿æ»¤æ¡ä»¶åæ°ç±»ãè¯¥ç±»ç¨äºè®¾ç½®æ¥è¯¢æ°æ®éçæ¥è¯¢è¿æ»¤åæ°ã
 * @param {Object} options - åæ°ã 
 * @param {string} options.attributeFilter - å±æ§è¿æ»¤æ¡ä»¶ã 
 * @param {string} options.name - æ¥è¯¢æ°æ®éåç§°æèå¾å±åç§°ã 
 * @param {Array.<SuperMap.JoinItem>} [options.joinItems] - ä¸å¤é¨è¡¨çè¿æ¥ä¿¡æ¯ SuperMap.JoinItem æ°ç»ã 
 * @param {Array.<SuperMap.LinkItem>} [options.linkItems] - ä¸å¤é¨è¡¨çå³èä¿¡æ¯ SuperMap.LinkItem æ°ç»ã 
 * @param {Array.<string>} [options.ids] - æ¥è¯¢ id æ°ç»ï¼å³å±æ§è¡¨ä¸­ç SmID å¼ã 
 * @param {string} [options.orderBy] - æ¥è¯¢æåºçå­æ®µï¼orderBy çå­æ®µé¡»ä¸ºæ°å¼åçã 
 * @param {string} [options.groupBy] - æ¥è¯¢åç»æ¡ä»¶çå­æ®µã 
 * @param {Array.<string>} [options.fields] - æ¥è¯¢å­æ®µæ°ç»ã 
 */
class FilterParameter_FilterParameter {


    constructor(options) {
        /**
         * @member {string} SuperMap.FilterParameter.prototype.attributeFilter
         * @description å±æ§è¿æ»¤æ¡ä»¶ã
         * ç¸å½äº SQL è¯­å¥ä¸­ç WHERE å­å¥ï¼å¶æ ¼å¼ä¸ºï¼WHERE <æ¡ä»¶è¡¨è¾¾å¼>ï¼
         * attributeFilter å°±æ¯å¶ä¸­çâæ¡ä»¶è¡¨è¾¾å¼âã
         * è¯¥å­æ®µçç¨æ³ä¸º attributeFilter = "è¿æ»¤æ¡ä»¶"ã
         * ä¾å¦ï¼è¦æ¥è¯¢å­æ®µ fieldValue å°äº100çè®°å½ï¼è®¾ç½® attributeFilter = "fieldValue < 100"ï¼
         * è¦æ¥è¯¢å­æ®µ name çå¼ä¸ºâéåºâçè®°å½ï¼è®¾ç½® attributeFilter = "name like '%éåº%'"ï¼ç­ç­ã
         */
        this.attributeFilter = null;

        /**
         * @member {string} SuperMap.FilterParameter.prototype.name
         * @description æ¥è¯¢æ°æ®éåç§°æèå¾å±åç§°ï¼æ ¹æ®å®éçæ¥è¯¢å¯¹è±¡èå®ã
         * ä¸è¬æåµä¸è¯¥å­æ®µä¸ºæ°æ®éåç§°ï¼ä½å¨è¿è¡ä¸å°å¾ç¸å³åè½çæä½æ¶ï¼
         * éè¦è®¾ç½®ä¸ºå¾å±åç§°ï¼å¾å±åç§°æ ¼å¼ï¼æ°æ®éåç§°@æ°æ®æºå«åï¼ã
         * å ä¸ºä¸ä¸ªå°å¾çå¾å±å¯è½æ¯æ¥èªäºä¸åæ°æ®æºçæ°æ®éï¼
         * èä¸åçæ°æ®æºä¸­å¯è½å­å¨ååçæ°æ®éï¼
         * ä½¿ç¨æ°æ®éåç§°ä¸è½å¯ä¸çç¡®å®æ°æ®éï¼
         * æä»¥å¨è¿è¡ä¸å°å¾ç¸å³åè½çæä½æ¶ï¼è¯¥å¼éè¦è®¾ç½®ä¸ºå¾å±åç§°ã
         */
        this.name = null;

        /**
         * @member {Array.<SuperMap.JoinItem>} [SuperMap.FilterParameter.prototype.joinItems]
         * @description ä¸å¤é¨è¡¨çè¿æ¥ä¿¡æ¯ SuperMap.JoinItem æ°ç»ã
         */
        this.joinItems = null;

        /**
         * @member {Array.<SuperMap.LinkItem>} [SuperMap.FilterParameter.prototype.linkItems]
         * @description ä¸å¤é¨è¡¨çå³èä¿¡æ¯ LinkItem æ°ç»ã
         */
        this.linkItems = null;

        /**
         * @member {Array.<string>} [SuperMap.FilterParameter.prototype.ids]
         * @description æ¥è¯¢ id æ°ç»ï¼å³å±æ§è¡¨ä¸­ç SmID å¼ã
         */
        this.ids = null;

        /**
         * @member {string} [SuperMap.FilterParameter.prototype.orderBy]
         * @description æ¥è¯¢æåºçå­æ®µï¼orderByçå­æ®µé¡»ä¸ºæ°å¼åçã
         * ç¸å½äº SQL è¯­å¥ä¸­ç ORDER BY å­å¥ï¼å¶æ ¼å¼ä¸ºï¼ORDER BY <åå>ï¼
         * ååå³å±æ§è¡¨ä¸­æ¯ä¸åçåç§°ï¼ååå¯ç§°ä¸ºå±æ§ï¼å¨ SuperMap ä¸­åç§°ä¸ºå­æ®µã
         * å¯¹åä¸ªå­æ®µæåºæ¶ï¼è¯¥å­æ®µçç¨æ³ä¸º orderBy = "å­æ®µå"ï¼
         * å¯¹å¤ä¸ªå­æ®µæåºæ¶ï¼å­æ®µä¹é´ä»¥è±æéå·è¿è¡åå²ï¼ç¨æ³ä¸º orderBy = "å­æ®µå1, å­æ®µå2"ã
         * ä¾å¦ï¼ç°æä¸ä¸ªå½å®¶æ°æ®éï¼å®æä¸¤ä¸ªå­æ®µåå«ä¸ºâSmAreaâåâpop_1994âï¼
         * åå«è¡¨ç¤ºå½å®¶çé¢ç§¯å1994å¹´çåå½äººå£æ°éã
         * å¦æè¦æç§åå½äººå£æ°éå¯¹è®°å½è¿è¡æåºï¼å orderBy = "pop_1994"ï¼
         * å¦æè¦ä»¥é¢ç§¯åäººå£è¿è¡æåºï¼å orderBy = "SmArea, pop_1994"ã
         */
        this.orderBy = null;


        /**
         * @member {string} [SuperMap.FilterParameter.prototype.groupBy]
         * @description æ¥è¯¢åç»æ¡ä»¶çå­æ®µã
         * ç¸å½äº SQL è¯­å¥ä¸­ç GROUP BY å­å¥ï¼å¶æ ¼å¼ä¸ºï¼GROUP BY <åå>ï¼
         * ååå³å±æ§è¡¨ä¸­æ¯ä¸åçåç§°ï¼ååå¯ç§°ä¸ºå±æ§ï¼å¨ SuperMap ä¸­åç§°ä¸ºå­æ®µã
         * å¯¹åä¸ªå­æ®µåç»æ¶ï¼è¯¥å­æ®µçç¨æ³ä¸º groupBy = "å­æ®µå"ï¼
         * å¯¹å¤ä¸ªå­æ®µåç»æ¶ï¼å­æ®µä¹é´ä»¥è±æéå·è¿è¡åå²ï¼ç¨æ³ä¸º groupBy = "å­æ®µå1, å­æ®µå2"ã
         * ä¾å¦ï¼ç°æä¸ä¸ªå¨çåå¸æ°æ®éï¼è¯¥æ°æ®éæä¸¤ä¸ªå­æ®µåå«ä¸ºâContinentâåâCountryâï¼
         * åå«è¡¨ç¤ºæä¸ªåå¸æå±çæ´²åå½å®¶ã
         * å¦æè¦æç§å½å®¶å¯¹å¨ççåå¸è¿è¡åç»ï¼ å¯ä»¥è®¾ç½® groupBy = "Country"ï¼
         * å¦æä»¥æ´²åå½å®¶å¯¹åå¸è¿è¡åç»ï¼è®¾ç½® groupBy = "Continent, Country"ã
         */
        this.groupBy = null;

        /**
         * @member {Array.<string>} [SuperMap.FilterParameter.prototype.fields]
         * @description æ¥è¯¢å­æ®µæ°ç»ï¼å¦æä¸è®¾ç½®åä½¿ç¨ç³»ç»è¿åçææå­æ®µã
         */
        this.fields = null;
        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.FilterParameter";
    }


    /**
     * @function SuperMap.FilterParameter.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.attributeFilter = null;
        me.name = null;
        if (me.joinItems) {
            for (let i = 0, joinItems = me.joinItems, len = joinItems.length; i < len; i++) {
                joinItems[i].destroy();
            }
            me.joinItems = null;
        }
        if (me.linkItems) {
            for (let i = 0, linkItems = me.linkItems, len = linkItems.length; i < len; i++) {
                linkItems[i].destroy();
            }
            me.linkItems = null;
        }
        me.ids = null;
        me.orderBy = null;
        me.groupBy = null;
        me.fields = null;
    }


}

SuperMap.FilterParameter = FilterParameter_FilterParameter;
// CONCATENATED MODULE: ./src/common/iServer/DatasetBufferAnalystParameters.js






/**
 * @class SuperMap.DatasetBufferAnalystParameters
 * @category iServer SpatialAnalyst BufferAnalyst
 * @classdesc æ°æ®éç¼å²åºåæåæ°ç±»ã
 * @param {Object} options - åæ°ã 
 * @param {string} options.dataset - è¦ç¨æ¥åç¼å²åºåæçæ°æ®æºä¸­æ°æ®éçåç§°ãè¯¥åç§°ç¨å½¢å¦âæ°æ®éåç§°@æ°æ®æºå«åâå½¢å¼æ¥è¡¨ç¤ºã 
 * @param {SuperMap.FilterParameter} [options.filterQueryParameter] - è®¾ç½®æ°æ®éä¸­å ä½å¯¹è±¡çè¿æ»¤æ¡ä»¶ãåªææ»¡è¶³æ­¤æ¡ä»¶çå ä½å¯¹è±¡æåä¸ç¼å²åºåæã 
 * @param {SuperMap.DataReturnOption} [options.resultSetting] - ç»æè¿åè®¾ç½®ç±»ã 
 * @param {boolean} [options.isAttributeRetained=true] - æ¯å¦ä¿çè¿è¡ç¼å²åºåæçå¯¹è±¡çå­æ®µå±æ§ãå½ isUnion å­æ®µä¸º false æ¶è¯¥å­æ®µææã 
 * @param {boolean} [options.isUnion=false] - æ¯å¦å°ç¼å²åºä¸æºè®°å½éä¸­çå¯¹è±¡åå¹¶åè¿åãå¯¹äºé¢å¯¹è±¡èè¨ï¼è¦æ±æºæ°æ®éä¸­çé¢å¯¹è±¡ä¸ç¸äº¤ã 
 * @param {SuperMap.BufferSetting} [options.bufferSetting] - è®¾ç½®ç¼å²åºéç¨åæ°ã 
 *
 * @extends {SuperMap.BufferAnalystParameters}
 */
class DatasetBufferAnalystParameters_DatasetBufferAnalystParameters extends BufferAnalystParameters_BufferAnalystParameters {


    constructor(options) {
        super(options);
        /**
         * @member {string} SuperMap.DatasetBufferAnalystParameters.prototype.dataset
         * @description è¦ç¨æ¥åç¼å²åºåæçæ°æ®æºä¸­æ°æ®éçåç§°ãè¯¥åç§°ç¨å½¢å¦âæ°æ®éåç§°@æ°æ®æºå«åâå½¢å¼æ¥è¡¨ç¤ºã
         */
        this.dataset = null;

        /**
         *  @member {SuperMap.FilterParameter} [SuperMap.DatasetBufferAnalystParameters.prototype.filterQueryParameter]
         *  @description è®¾ç½®æ°æ®éä¸­å ä½å¯¹è±¡çè¿æ»¤æ¡ä»¶ãåªææ»¡è¶³æ­¤æ¡ä»¶çå ä½å¯¹è±¡æåä¸ç¼å²åºåæã
         */
        this.filterQueryParameter = new FilterParameter_FilterParameter();

        /**
         * @member {SuperMap.DataReturnOption} [SuperMap.DatasetBufferAnalystParameters.prototype.resultSetting]
         * @description ç»æè¿åè®¾ç½®ç±»ã
         */
        this.resultSetting = new DataReturnOption_DataReturnOption();

        /**
         * @member {boolean} [SuperMap.DatasetBufferAnalystParameters.prototype.isAttributeRetained=true]
         * @description æ¯å¦ä¿çè¿è¡ç¼å²åºåæçå¯¹è±¡çå­æ®µå±æ§ãå½ isUnion å­æ®µä¸º false æ¶è¯¥å­æ®µææã
         */
        this.isAttributeRetained = true;

        /**
         * @member {boolean} [SuperMap.DatasetBufferAnalystParameters.prototype.isUnion=false]
         * @description æ¯å¦å°ç¼å²åºä¸æºè®°å½éä¸­çå¯¹è±¡åå¹¶åè¿åãå¯¹äºé¢å¯¹è±¡èè¨ï¼è¦æ±æºæ°æ®éä¸­çé¢å¯¹è±¡ä¸ç¸äº¤ã
         */
        this.isUnion = false;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.DatasetBufferAnalystParameters";
    }


    /**
     * @function SuperMap.DatasetBufferAnalystParameters.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        var me = this;
        me.dataset = null;
        if (me.filterQueryParameter) {
            me.filterQueryParameter.destroy();
            me.filterQueryParameter = null;
        }
        if (me.resultSetting) {
            me.resultSetting.destroy();
            me.resultSetting = null;
        }
        me.isAttributeRetained = null;
        me.isUnion = null;
    }

    /**
     * @function SuperMap.DatasetBufferAnalystParameters.toObject
     * @param {SuperMap.DatasetBufferAnalystParameters} datasetBufferAnalystParameters - æ°æ®éç¼å²åºåæåæ°ç±»ã
     * @param {SuperMap.DatasetBufferAnalystParameters} tempObj - æ°æ®éç¼å²åºåæåæ°å¯¹è±¡ã
     * @description å°æ°æ®éç¼å²åºåæåæ°å¯¹è±¡è½¬æ¢ä¸º JSON å¯¹è±¡ã
     * @returns {Object} JSON å¯¹è±¡ã
     */
    static toObject(datasetBufferAnalystParameters, tempObj) {
        for (var name in datasetBufferAnalystParameters) {
            if (name === "bufferSetting") {
                datasetBufferAnalystParameters.bufferSetting.radiusUnit = datasetBufferAnalystParameters.bufferSetting.radiusUnit.toUpperCase();
                tempObj.bufferAnalystParameter = datasetBufferAnalystParameters.bufferSetting;
            } else if (name === "resultSetting") {
                tempObj.dataReturnOption = datasetBufferAnalystParameters.resultSetting;
            } else if (name === "dataset") {
                continue;
            } else {
                tempObj[name] = datasetBufferAnalystParameters[name];
            }
        }
    }

}


SuperMap.DatasetBufferAnalystParameters = DatasetBufferAnalystParameters_DatasetBufferAnalystParameters;
// CONCATENATED MODULE: ./src/common/iServer/ServerColor.js


/**
 * @class SuperMap.ServerColor
 * @category iServer Map Theme
 * @classdesc é¢è²ç±»ãè¯¥ç±»ä½¿ç¨ä¸åè²ï¼ RGB ï¼æ¥è¡¨è¾¾é¢è²ã
 * @param {Object} options - åæ°ã
 * @param {number} [options.red=255] - è·åæè®¾ç½®çº¢è²å¼ã
 * @param {number} [options.green=0] - è·åæè®¾ç½®ç»¿è²å¼ã
 * @param {number} [options.blue=0] - è·åæè®¾ç½®èè²å¼ã
 */
class ServerColor {

    constructor(red, green, blue) {

        /**
         * @member {number} [SuperMap.ServerColor.prototype.red=255]
         * @description è·åæè®¾ç½®çº¢è²å¼ã
         */
        this.red = (!red && red != 0)?255:red;

        /**
         * @member {number} [SuperMap.ServerColor.prototype.green=0]
         * @description è·åæè®¾ç½®ç»¿è²å¼ã
         */
        this.green = green||0;

        /**
         * @member {number} [SuperMap.ServerColor.prototype.blue=0]
         * @description è·åæè®¾ç½®èè²å¼ã
         */
        this.blue = blue||0;

        this.CLASS_NAME = "SuperMap.ServerColor";
    }

    /**
     * @function SuperMap.ServerColor.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.red = null;
        me.green = null;
        me.blue = null;
    }


    /**
     * @function SuperMap.ServerColor.formJson
     * @description å° JSON å¯¹è±¡è½¬åä¸º ServerColor å¯¹è±¡ã
     * @param {Object} jsonObject - è¦è½¬æ¢ç JSON å¯¹è±¡ã
     * @returns {SuperMap.ServerColor} è½¬ååç ServerColor å¯¹è±¡ã
     */
    static fromJson(jsonObject) {
        if (!jsonObject) {
            return;
        }
        var color = new ServerColor();
        var red = 255;
        if (jsonObject.red !== null) {
            red = Number(jsonObject.red);
        }
        color.red = red;

        var green = 0;
        if (jsonObject.green !== null) {
            green = Number(jsonObject.green);
        }
        color.green = green;

        var blue = 0;
        if (jsonObject.blue !== null) {
            blue = Number(jsonObject.blue);
        }
        color.blue = blue;
        return color;
    }

}

SuperMap.ServerColor = ServerColor;


// CONCATENATED MODULE: ./src/common/iServer/ServerStyle.js




/**
 * @class SuperMap.ServerStyle
 * @category  iServer Map Theme
 * @classdesc æå¡ç«¯ç¢éè¦ç´ é£æ ¼ç±»ã
 * @description è¯¥ç±»ç¨äºå®ä¹ç¹ç¶ç¬¦å·ãçº¿ç¶ç¬¦å·ãå¡«åç¬¦å·é£æ ¼åå¶ç¸å³å±æ§ã
 * @param {Object} options - åæ°ã
 * @param {SuperMap.FillGradientMode} options.fillGradientMode - æ¸åå¡«åé£æ ¼çæ¸åç±»åã
 * @param {SuperMap.ServerColor} [options.fillBackColor=[255,255,255]] - å¡«åèæ¯é¢è²ã
 * @param {boolean} [options.fillBackOpaque=false] - èæ¯æ¯å¦ä¸éæã
 * @param {SuperMap.ServerColor} [options.fillForeColor=[255,0,0]] - å¡«åé¢è²ã
 * @param {number} [options.fillGradientAngle=0] - æ¸åå¡«åçæè½¬è§åº¦ã
 * @param {number} [options.fillGradientOffsetRatioX=0] - æ¸åå¡«åä¸­å¿ç¹ç¸å¯¹äºå¡«ååºåèå´ä¸­å¿ç¹çæ°´å¹³åç§»ç¾åæ¯ã
 * @param {number} [options.fillGradientOffsetRatioY=0] - å¡«åä¸­å¿ç¹ç¸å¯¹äºå¡«ååºåèå´ä¸­å¿ç¹çåç´åç§»ç¾åæ¯ã
 * @param {number} [options.fillOpaqueRate=100] - å¡«åä¸éæåº¦ã
 * @param {number} [options.fillSymbolID=0] - å¡«åç¬¦å·çç¼ç ã
 * @param {SuperMap.ServerColor} [options.lineColor] - ç¢éè¦ç´ çè¾¹çº¿é¢è²ãé»è®¤ lineColor = new ServerColor(0, 0, 0)ã
 * @param {number} [options.lineSymbolID=0] - çº¿ç¶ç¬¦å·çç¼ç ã
 * @param {number} [options.lineWidth=1] - è¾¹çº¿çå®½åº¦ã
 * @param {number} [options.markerAngle=0] - ç¹ç¶ç¬¦å·çæè½¬è§åº¦ã
 * @param {number} [options.markerSize=1] - ç¹ç¶ç¬¦å·çå¤§å°ã
 * @param {number} [options.markerSymbolID=-1] - ç¹ç¶ç¬¦å·çç¼ç ã
 */
class ServerStyle_ServerStyle {

    constructor(options) {
        /**
         * @member {SuperMap.ServerColor} SuperMap.ServerStyle.prototype.fillBackColor
         * @description å¡«åèæ¯é¢è²ãå½å¡«åæ¨¡å¼ä¸ºæ¸åå¡«åæ¶ï¼è¯¥é¢è²ä¸ºå¡«åç»æ­¢è²ã
         */
        this.fillBackColor = new ServerColor(255, 255, 255);

        /**
         * @member {boolean} [SuperMap.ServerStyle.prototype.fillBackOpaque=false]
         * @description èæ¯æ¯å¦ä¸éæãfalse è¡¨ç¤ºéæã
         */
        this.fillBackOpaque = false;

        /**
         * @member {SuperMap.ServerColor} SuperMap.ServerStyle.prototype.fillForeColor
         * @description å¡«åé¢è²ãå½å¡«åæ¨¡å¼ä¸ºæ¸åå¡«åæ¶ï¼è¯¥é¢è²ä¸ºå¡«åèµ·å§é¢è²ã
         */
        this.fillForeColor = new ServerColor(255, 0, 0);

        /**
         * @member {SuperMap.FillGradientMode} SuperMap.ServerStyle.prototype.fillGradientMode
         * @description æ¸åå¡«åé£æ ¼çæ¸åç±»åã
         */
        this.fillGradientMode = null;

        /**
         * @member {number} SuperMap.ServerStyle.prototype.fillGradientAngle -
         * @description æ¸åå¡«åçæè½¬è§åº¦ãåä½ä¸ºåº¦ï¼ç²¾ç¡®å° 0.1 åº¦ï¼éæ¶éæ¹åä¸ºæ­£æ¹åã
         */
        this.fillGradientAngle = 0;

        /**
         * @member {number} SuperMap.ServerStyle.prototype.fillGradientOffsetRatioX
         * @description æ¸åå¡«åä¸­å¿ç¹ç¸å¯¹äºå¡«ååºåèå´ä¸­å¿ç¹çæ°´å¹³åç§»ç¾åæ¯ãå®ä»¬çå³ç³»å¦ä¸ï¼è®¾å¡«ååºåèå´ä¸­å¿ç¹çåæ ä¸ºï¼x0, y0ï¼ï¼
         *              å¡«åä¸­å¿ç¹çåæ ä¸ºï¼x, yï¼ï¼å¡«ååºåèå´çå®½åº¦ä¸º aï¼æ°´å¹³åç§»ç¾åæ¯ä¸º dxï¼å x=x0 + a*dx/100ã
         */
        this.fillGradientOffsetRatioX = 0;

        /**
         * @member {number} SuperMap.ServerStyle.prototype.fillGradientOffsetRatioY
         * @description å¡«åä¸­å¿ç¹ç¸å¯¹äºå¡«ååºåèå´ä¸­å¿ç¹çåç´åç§»ç¾åæ¯ãå®ä»¬çå³ç³»å¦ä¸ï¼<br>
         *              è®¾å¡«ååºåèå´ä¸­å¿ç¹çåæ ä¸ºï¼x0, y0ï¼ï¼å¡«åä¸­å¿ç¹çåæ ä¸ºï¼x, yï¼ï¼å¡«ååºåèå´çé«åº¦ä¸º bï¼åç´åç§»ç¾åæ¯ä¸º dyï¼å y=y0 + b*dx/100ã
         */
        this.fillGradientOffsetRatioY = 0;

        /**
         * @member {number} [SuperMap.ServerStyle.prototype.fillOpaqueRate=100]
         * @description å¡«åä¸éæåº¦ãåæ³å¼ä¸º 0 - 100 çæ°å¼ãå¶ä¸­ä¸º 0 è¡¨ç¤ºå®å¨éæï¼
         *              100 è¡¨ç¤ºå®å¨ä¸éæãèµå¼å°äº 0 æ¶æç§ 0 å¤çï¼å¤§äº 100 æ¶æç§ 100 å¤çã
         */
        this.fillOpaqueRate = 100;

        /**
         * @member {number} SuperMap.ServerStyle.prototype.fillSymbolID
         * @description å¡«åç¬¦å·çç¼ç ãæ­¤ç¼ç ç¨äºå¯ä¸æ è¯åæ®éå¡«åé£æ ¼çå¡«åç¬¦å·ã
         *              å³äºå¡«åç¬¦å·çæ ·å¼ä¸å¯¹åºç ID å·è¯·å¨ SuperMap æ¡é¢è½¯ä»¶ä¸­æ¥æ¾ã
         */
        this.fillSymbolID = 0;

        /**
         * @member {SuperMap.ServerColor} SuperMap.ServerStyle.prototype.lineColor
         * @description ç¢éè¦ç´ çè¾¹çº¿é¢è²ãå¦æç­çº§ç¬¦å·æ¯ç¹ç¬¦å·ï¼ç¹ç¬¦å·çé¢è²ç± lineColor æ§å¶ã
         */
        this.lineColor = new ServerColor(0, 0, 0);

        /**
         * @member {number} [SuperMap.ServerStyle.prototype.lineSymbolID=0]
         * @description çº¿ç¶ç¬¦å·çç¼ç ãæ­¤ç¼ç ç¨äºå¯ä¸æ è¯åæ®éå¡«åé£æ ¼çå¡«åç¬¦å·ã
         *              å³äºçº¿ç¶ç¬¦å·çæ ·å¼ä¸å¯¹åºç ID å·è¯·å¨ SuperMap æ¡é¢è½¯ä»¶ä¸­æ¥æ¾ã
         */
        this.lineSymbolID = 0;

        /**
         * @member {number} [SuperMap.ServerStyle.prototype.lineWidth=1.0]
         * @description è¾¹çº¿çå®½åº¦ãåä½ä¸ºæ¯«ç±³ï¼ç²¾åº¦å° 0.1ã
         */
        this.lineWidth = 1;

        /**
         * @member {number} [SuperMap.ServerStyle.prototype.markerAngle=0]
         * @description ç¹ç¶ç¬¦å·çæè½¬è§åº¦ãä»¥åº¦ä¸ºåä½ï¼ç²¾ç¡®å° 0.1 åº¦ï¼éæ¶éæ¹åä¸ºæ­£æ¹åã
         */
        this.markerAngle = 0;

        /**
         * @member {number} [SuperMap.ServerStyle.prototype.markerSize=1.0]
         * @description ç¹ç¶ç¬¦å·çå¤§å°ãåä½ä¸ºæ¯«ç±³ï¼ç²¾åº¦ä¸º 0.1ãå½è¯¥å±æ§è®¾ç½®ä¸º0æ¶ï¼éç¨ç¬¦å·é»è®¤å¤§å° 1.0 æ¾ç¤ºã
         *              å½è¯¥å±æ§è®¾ç½®ä¸ºéæ³å¼æ¶ï¼äº¤ç±æå¡å¨é»è®¤å¤çã
         */
        this.markerSize = 1;

        /**
         * @member {number} [SuperMap.ServerStyle.prototype.markerSymbolID=-1]
         * @description ç¹ç¶ç¬¦å·çç¼ç ãæ­¤ç¼ç ç¨äºå¯ä¸æ è¯åç¹ç¶ç¬¦å·ã
         *              å³äºçº¿ç¶ç¬¦å·çæ ·å¼ä¸å¯¹åºç ID å·è¯·å¨ SuperMap æ¡é¢è½¯ä»¶ä¸­æ¥æ¾ã
         */
        this.markerSymbolID = -1;
        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.ServerStyle";
    }

    /**
     * @function SuperMap.ServerStyle.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        if (me.fillBackColor) {
            me.fillBackColor.destroy();
            me.fillBackColor = null;
        }
        me.fillBackOpaque = null;

        if (me.fillForeColor) {
            me.fillForeColor.destroy();
            me.fillForeColor = null;
        }
        me.fillGradientMode = null;
        me.fillGradientAngle = null;
        me.fillGradientOffsetRatioX = null;
        me.fillGradientOffsetRatioY = null;
        me.fillOpaqueRate = null;
        me.fillSymbolID = null;
        if (me.lineColor) {
            me.lineColor.destroy();
            me.lineColor = null;
        }
        me.lineSymbolID = null;
        me.lineWidth = null;
        me.markerAngle = null;
        me.markerSize = null;
        me.markerSymbolID = null;
    }

    /**
     * @function SuperMap.ServerStyle.prototype.toServerJSONObject
     * @description è½¬æ¢æå¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     * @returns {Object} å¯¹åºç JSON æ ¼å¼å¯¹è±¡.
     */
    toServerJSONObject() {
        var styleObj = {};
        styleObj = Util_Util.copyAttributes(styleObj, this);
        //ææ¶åå¿½ç¥serverColorå¾Jsonçè½¬æ¢
        return styleObj;
    }

    /**
     * @function SuperMap.ServerStyle.fromJson
     * @description å°JSONå¯¹è±¡è½¬æ¢ä¸º SuperMap.ServerStyle å¯¹è±¡ã
     * @param jsonObject - {Object} è¦è½¬æ¢ç JSON å¯¹è±¡ã
     * @returns {SuperMap.ServerStyle} è½¬ååç SuperMap.ServerStyle å¯¹è±¡ã
     */
    static fromJson(jsonObject) {
        if (!jsonObject) {
            return;
        }
        return new ServerStyle_ServerStyle({
            fillBackColor: ServerColor.fromJson(jsonObject.fillBackColor),
            fillBackOpaque: jsonObject.fillBackOpaque,
            fillForeColor: ServerColor.fromJson(jsonObject.fillForeColor),
            fillGradientMode: jsonObject.fillGradientMode,
            fillGradientAngle: jsonObject.fillGradientAngle,
            fillGradientOffsetRatioX: jsonObject.fillGradientOffsetRatioX,
            fillGradientOffsetRatioY: jsonObject.fillGradientOffsetRatioY,
            fillOpaqueRate: jsonObject.fillOpaqueRate,
            fillSymbolID: jsonObject.fillSymbolID,
            lineColor: ServerColor.fromJson(jsonObject.lineColor),
            lineSymbolID: jsonObject.lineSymbolID,
            lineWidth: jsonObject.lineWidth,
            markerAngle: jsonObject.markerAngle,
            markerSize: jsonObject.markerSize,
            markerSymbolID: jsonObject.markerSymbolID
        });
    }

}


SuperMap.ServerStyle = ServerStyle_ServerStyle;

// CONCATENATED MODULE: ./src/common/iServer/PointWithMeasure.js




/**
 * @class SuperMap.PointWithMeasure
 * @category  iServer SpatialAnalyst
 * @classdesc è·¯ç±ç¹ç±»ãè·¯ç±ç¹æ¯æå·æçº¿æ§åº¦éå¼ (Measure) çäºç»´å°çåæ ç¹ã
 * @param {Object} options - åæ°ã
 * @param {number} options.measure - åº¦éå¼ï¼å³è·¯ç±å¯¹è±¡å±æ§å¼ Mã
 * @param {number} options.x - è·åå½åç¹å¯¹è±¡å¨å°çåæ ç³»ä¸ç X åæ å¼ã
 * @param {number} options.y - è·åå½åç¹å¯¹è±¡å¨å°çåæ ç³»ä¸ç Y åæ å¼ã
 * @extends {SuperMap.Geometry.Point}
 */
class PointWithMeasure_PointWithMeasure extends Point_Point {

    constructor(options) {
        super(options);

        /**
         * @member {number} SuperMap.PointWithMeasure.prototype.measure
         * @description åº¦éå¼ï¼å³è·¯ç±å¯¹è±¡å±æ§å¼ Mã
         */
        this.measure = null;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.PointWithMeasure";
    }

    /**
     * @function SuperMap.PointWithMeasure.prototype.equals
     * @description å¤æ­ä¸¤ä¸ªè·¯ç±ç¹å¯¹è±¡æ¯å¦ç¸ç­ãå¦æä¸¤ä¸ªè·¯ç±ç¹å¯¹è±¡å·æç¸åçåæ ä»¥ååº¦éå¼ï¼åè®¤ä¸ºæ¯ç¸ç­çã
     * @param {SuperMap.PointWithMeasure} geom - éè¦å¤æ­çè·¯ç±ç¹å¯¹è±¡ã
     * @returns {boolean} ä¸¤ä¸ªè·¯ç±ç¹å¯¹è±¡æ¯å¦ç¸ç­ï¼true ä¸ºç¸ç­ï¼false ä¸ºä¸ç­ï¼ã
     */
    equals(geom) {
        var equals = false;
        if (geom != null) {
            var isValueEquals = this.x === geom.x && this.y === geom.y && this.measure === geom.measure;
            var isNaNValue = isNaN(this.x) && isNaN(this.y) && isNaN(this.measure);
            var isNaNGeometry = isNaN(geom.x) && isNaN(geom.y) && isNaN(geom.measure);
            equals = ( isValueEquals || ( isNaNValue && isNaNGeometry ));
        }
        return equals;
    }


    /**
     * @function SuperMap.PointWithMeasure.prototype.toJson
     * @description è½¬æ¢ä¸º JSON å¯¹è±¡ã
     * */
     toJson() {
        var result = "{";
        if (this.measure != null && this.measure != undefined) {
            result += "\"measure\":" + this.measure + ",";
        }
        result += "\"x\":" + this.x + ",";
        result += "\"y\":" + this.y;
        result += "}";
        return result;
    }


     /**
     * @function SuperMap.PointWithMeasure.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.measure = null;
        me.x = null;
        me.y = null;
    }

    /**
     * @function SuperMap.PointWithMeasure.fromJson
     * @description å° JSON å¯¹è±¡è½¬æ¢ä¸º{@link SuperMap.PointWithMeasure} å¯¹è±¡ã
     * @param {Object} jsonObject - JSON å¯¹è±¡è¡¨ç¤ºçè·¯ç±ç¹ã
     * @returns {SuperMap.PointWithMeasure} è½¬ååç PointWithMeasure å¯¹è±¡ã
     */
    static fromJson(jsonObject) {
        if (!jsonObject) {
            return;
        }
        return new PointWithMeasure_PointWithMeasure({
            x: jsonObject.x,
            y: jsonObject.y,
            measure: jsonObject.measure
        });
    }

}

SuperMap.PointWithMeasure = PointWithMeasure_PointWithMeasure;

// CONCATENATED MODULE: ./src/common/iServer/Route.js







/**
 * @class SuperMap.Route
 * @category  iServer SpatialAnalyst
 * @classdesc è·¯ç±å¯¹è±¡ç±»ãè·¯ç±å¯¹è±¡ä¸ºä¸ç³»åæåºçå¸¦æå±æ§å¼ M ç xï¼y åæ å¯¹ï¼å¶ä¸­ M å¼ä¸ºè¯¥ç»ç¹çè·ç¦»å±æ§ï¼å°å·²ç¥ç¹çè·ç¦»ï¼ã
 * @param {Array.<SuperMap.Geometry>} points - å½¢æè·¯ç±å¯¹è±¡ççº¿æ°ç»ã
 * @param {Object} options - åæ°ã
 * @param {number} options.id - è·¯ç±å¯¹è±¡å¨æ°æ®åºä¸­ç idã
 * @param {number} options.length - è·¯ç±å¯¹è±¡çé¿åº¦ãåä½ä¸æ°æ®éçåä½ç¸åã
 * @param {number} [options.maxM] - æå¤§çº¿æ§åº¦éå¼ï¼å³ææç»ç¹å°èµ·å§ç¹çéç®è·ç¦»ä¸­æå¤§å¼ã
 * @param {number} [options.minM] - æå°çº¿æ§åº¦éå¼ï¼å³ææç»ç¹å°èµ·å§ç¹çéç®è·ç¦»ä¸­æå°å¼ã
 * @param {string} [options.type] - æ°æ®ç±»åï¼å¦ï¼"LINEM"ã
 * @extends {SuperMap.Geometry.Collection}
 */
class Route_Route extends Collection_Collection {

    constructor(points, options) {
        super(points, options);

        /**
         * @member {number} SuperMap.Route.prototype.id
         * @description è·¯ç±å¯¹è±¡å¨æ°æ®åºä¸­ç IDã
         */
        this.id = null;

        /**
         * @member {number} SuperMap.Route.prototype.center
         * @description è·¯ç±å¯¹è±¡çä¸­å¿ç¹ã
         */
        this.center = null;

        /**
         * @member {string} SuperMap.Route.prototype.style
         * @description è·¯ç±å¯¹è±¡çæ ·å¼ã
         */
        this.style = null;

        /**
         * @member {number} SuperMap.Route.prototype.length
         * @description è·¯ç±å¯¹è±¡çé¿åº¦ãåä½ä¸æ°æ®éçåä½ç¸åã
         */
        this.length = null;

        /**
         *  @member {number} SuperMap.Route.prototype.maxM
         *  @description æå¤§çº¿æ§åº¦éå¼ï¼å³ææç»ç¹å°èµ·å§ç¹çéç®è·ç¦»ä¸­æå¤§å¼ã
         */
        this.maxM = null;

        /**
         * @member {number} SuperMap.Route.prototype.minM
         * @description æå°çº¿æ§åº¦éå¼ï¼å³ææç»ç¹å°èµ·å§ç¹çéç®è·ç¦»ä¸­æå°å¼ã
         */
        this.minM = null;

        /**
         * @member {Array.<number>} SuperMap.Route.prototype.parts
         * @description æå¡ç«¯å ä½å¯¹è±¡ä¸­åä¸ªå­å¯¹è±¡æåå«çèç¹ä¸ªæ°ã
         */
        this.parts = null;

        /**
         * @member {Array.<Object>} SuperMap.Route.prototype.points
         * @description è·¯ç±å¯¹è±¡çææè·¯ç±ç¹ã
         * @example
         * (start code)
         * [
         *  {
         *      "measure": 0,
         *      "y": -4377.027184298267,
         *      "x": 4020.0045221720466
         *  },
         *  {
         *      "measure": 37.33288381391519,
         *      "y": -4381.569363260499,
         *      "x": 4057.0600591960642
         *  }
         * ]
         * (end)
         */
        this.points = null;

        /**
         * @member {string} SuperMap.Route.prototype.type
         * @description æå¡ç«¯å ä½å¯¹è±¡ç±»åã
         */
        this.type = null;

        /**
         * @member {Array.<string>} [SuperMap.Route.prototype.componentTypes=SuperMap.Geometry.LineString]
         * @description components å­å¨ççå ä½å¯¹è±¡ææ¯æçå ä½ç±»åæ°ç»ã
         */
        this.componentTypes = ["SuperMap.Geometry.LinearRing", "SuperMap.Geometry.LineString"];

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.Route";
    }

    /**
     *
     * @function SuperMap.Route.prototype.toJson
     * @description è½¬æ¢ä¸º JSON å¯¹è±¡ã
     * @returns {Object} JSON å¯¹è±¡ã
     */
    toJson() {
        var result = "{";
        if (this.id != null && this.id != undefined) {
            result += "\"id\":" + this.id + ",";
        }
        if (this.center != null && this.center != undefined) {
            result += "\"center\":" + this.center + ",";
        }
        if (this.style != null && this.style != undefined) {
            result += "\"style\":" + this.style + ",";
        }
        if (this.length != null && this.length != undefined) {
            result += "\"length\":" + this.length + ",";
        }
        if (this.maxM != null && this.maxM != undefined) {
            result += "\"maxM\":" + this.maxM + ",";
        }
        if (this.minM != null && this.minM != undefined) {
            result += "\"minM\":" + this.minM + ",";
        }
        if (this.type != null && this.type != undefined) {
            result += "\"type\":\"" + this.type + "\",";
        }
        if (this.parts != null && this.parts != undefined) {
            result += "\"parts\":[" + this.parts[0];

            for (var i = 1; i < this.parts.length; i++) {
                result += "," + this.parts[i];
            }
            result += "],";
        }
        if (this.components != null && this.components.length > 0) {
            result += "\"points\":[";
            for (var j = 0, len = this.components.length; j < len; j++) {
                for (var k = 0, len2 = this.components[j].components.length; k < len2; k++) {
                    result += this.components[j].components[k].toJson() + ",";
                }
            }
            result = result.replace(/,$/g, '');
            result += "]";
        }
        result = result.replace(/,$/g, '');
        result += "}";
        return result;
    }


    /**
     * @function SuperMap.Route.prototype.destroy
     * @override
     */
    destroy() {
        var me = this;
        me.id = null;
        me.center = null;
        me.style = null;
        me.length = null;
        me.maxM = null;
        me.minM = null;
        me.type = null;
        me.parts = null;
        me.components.length = 0;
        me.components = null;
        me.componentTypes = null;
    }


    /**
     * @function SuperMap.Route.fromJson
     * @description å° JSON å¯¹è±¡è½¬æ¢ä¸º SuperMap.Route å¯¹è±¡ã
     * @param {Object} [jsonObject] - JSON å¯¹è±¡è¡¨ç¤ºçè·¯ç±å¯¹è±¡ã
     * @returns {SuperMap.Route} è½¬ååç Route å¯¹è±¡ã
     */
    static fromJson(jsonObject) {
        if (!jsonObject) {
            return;
        }

        var geoParts = jsonObject.parts || [],
            geoPoints = jsonObject.points || [],
            len = geoParts.length,
            lineList = [];
        if (len > 0) {
            for (var i = 0, pointIndex = 0, pointList = []; i < len; i++) {
                for (var j = 0; j < geoParts[i]; j++) {
                    pointList.push(PointWithMeasure_PointWithMeasure.fromJson(geoPoints[pointIndex + j]));
                }
                pointIndex += geoParts[i];
                //å¤æ­çº¿æ¯å¦é­åï¼å¦æé­åï¼åè¿åLinearRingï¼å¦åè¿åLineString
                if (pointList[0].equals(pointList[geoParts[i] - 1])) {
                    lineList.push(new LinearRing_LinearRing(pointList));
                } else {
                    lineList.push(new LineString_LineString(pointList));
                }
                pointList = [];
            }

        } else {
            return null;
        }

        return new Route_Route(lineList, {
            id: jsonObject.id,
            center: jsonObject.center,
            style: jsonObject.style,
            length: jsonObject.length,
            maxM: jsonObject.maxM,
            minM: jsonObject.minM,
            type: jsonObject.type,
            parts: jsonObject.parts
        });
    }

}

SuperMap.Route = Route_Route;
// CONCATENATED MODULE: ./src/common/iServer/ServerGeometry.js













/**
 * @private
 * @class SuperMap.ServerGeometry
 * @category  iServer  
 * @classdesc æå¡ç«¯å ä½å¯¹è±¡ç±»ãè¯¥ç±»æè¿°å ä½å¯¹è±¡ï¼ç¢éï¼çç¹å¾æ°æ®ï¼åæ ç¹å¯¹ãå ä½å¯¹è±¡çç±»åç­ï¼ãåºäºæå¡ç«¯çç©ºé´åæãç©ºé´å³ç³»è¿ç®ãæ¥è¯¢ç­ GIS æå¡åè½ä½¿ç¨æå¡ç«¯å ä½å¯¹è±¡ã
 * @param {Object} options - åæ°ã
 * @param {string} options.id - æå¡ç«¯å ä½å¯¹è±¡å¯ä¸æ è¯ç¬¦ã
 * @param {Array.<number>} options.parts - æå¡ç«¯å ä½å¯¹è±¡ä¸­åä¸ªå­å¯¹è±¡æåå«çèç¹ä¸ªæ°ã
 * @param {Array.<SuperMap.Geometry.Point>} options.points - ç»æå ä½å¯¹è±¡çèç¹çåæ å¯¹æ°ç»ã
 * @param {SuperMap.GeometryType} options.type - å ä½å¯¹è±¡çç±»åã
 * @param {SuperMap.ServerStyle} [options.style] - æå¡ç«¯å ä½å¯¹è±¡çé£æ ¼ã
 */
class ServerGeometry_ServerGeometry {

    constructor(options) {

        /**
         * @member {string} SuperMap.ServerGeometry.prototype.id
         * @description æå¡ç«¯å ä½å¯¹è±¡å¯ä¸æ è¯ç¬¦ã
         */
        this.id = 0;
        
        /**
         * @member {SuperMap.ServerStyle} [SuperMap.ServerGeometry.prototype.style]
         * @description æå¡ç«¯å ä½å¯¹è±¡çé£æ ¼ï¼ServerStyleï¼ã
         */
        this.style = null;

        /**
         * @member {Array.<number>} SuperMap.ServerGeometry.prototype.parts
         * @description æå¡ç«¯å ä½å¯¹è±¡ä¸­åä¸ªå­å¯¹è±¡æåå«çèç¹ä¸ªæ°ã<br>
         * 1.å ä½å¯¹è±¡ä»ç»æä¸å¯ä»¥åä¸ºç®åå ä½å¯¹è±¡åå¤æå ä½å¯¹è±¡ã
         * ç®åå ä½å¯¹è±¡ä¸å¤æå ä½å¯¹è±¡çåºå«ï¼ç®åçå ä½å¯¹è±¡ä¸è¬ä¸ºåä¸å¯¹è±¡ï¼
         * èå¤æçå ä½å¯¹è±¡ç±å¤ä¸ªç®åå¯¹è±¡ç»ææç»è¿ä¸å®çç©ºé´è¿ç®ä¹åäº§çï¼
         * å¦ï¼ç©å½¢ä¸ºç®åçåºåå¯¹è±¡ï¼èä¸­ç©ºçç©å½¢ä¸ºå¤æçåºåå¯¹è±¡ã<br>
         * 2.éå¸¸æåµï¼ä¸ä¸ªç®åå ä½å¯¹è±¡çå­å¯¹è±¡å°±æ¯å®æ¬èº«ï¼
         * å æ­¤å¯¹äºç®åå¯¹è±¡æ¥è¯´çè¯¥å­æ®µä¸ºé¿åº¦ä¸º1çæ´åæ°ç»ï¼
         * è¯¥å­æ®µçå¼å°±æ¯è¿ä¸ªç®åå¯¹è±¡èç¹çä¸ªæ°ã
         * å¦æä¸ä¸ªå ä½å¯¹è±¡æ¯ç±å ä¸ªç®åå¯¹è±¡ç»åèæçï¼
         * ä¾å¦ï¼ä¸ä¸ªå²ç¶å ä½å¯¹è±¡ç± 3 ä¸ªç®åçå¤è¾¹å½¢ç»æèæï¼
         * é£ä¹è¿ä¸ªå²ç¶çå ä½å¯¹è±¡ç Parts å­æ®µå¼å°±æ¯ä¸ä¸ªé¿åº¦ä¸º 3 çæ´åæ°ç»ï¼
         * æ°ç»ä¸­æ¯ä¸ªæåçå¼åå«ä»£è¡¨è¿ä¸ä¸ªå¤è¾¹å½¢æåå«çèç¹ä¸ªæ°ã
         */
        this.parts = null;

        /**
         * @member {Array.<SuperMap.Geometry.Point>} SuperMap.ServerGeometry.prototype.points
         * @description ç»æå ä½å¯¹è±¡çèç¹çåæ å¯¹æ°ç»ã<br>
         * 1.ææå ä½å¯¹è±¡ï¼ç¹ãçº¿ãé¢ï¼é½æ¯ç±ä¸äºç®åçç¹åæ ç»æçï¼
         * è¯¥å­æ®µå­æ¾äºç»æå ä½å¯¹è±¡çç¹åæ çæ°ç»ã
         * å¯¹äºç®åçé¢å¯¹è±¡ï¼ä»çèµ·ç¹åç»ç¹çåæ ç¹ç¸åã<br>
         * 2.å¯¹äºå¤æçå ä½å¯¹è±¡ï¼æ ¹æ® Parts å±æ§æ¥ç¡®å®æ¯ä¸ä¸ªç»æå¤æå ä½å¯¹è±¡çç®åå¯¹è±¡æå¯¹åºçèç¹çä¸ªæ°ï¼
         * ä»èç¡®å® Points å­æ®µä¸­åæ å¯¹çåéå½å±é®é¢ã
         */
        this.points = null;

        /**
         * @member {SuperMap.GeometryType} SuperMap.ServerGeometry.prototype.type
         * @description å ä½å¯¹è±¡çç±»åï¼GeometryTypeï¼ã
         */
        this.type = null;

        /**
         * @member {Object} SuperMap.ServerGeometry.prototype.prjCoordSys
         * @description æå½±åæ åæ°ï¼ç°ä»å¨ç¼å²åºåæä¸­ææã
         */
        this.prjCoordSys = null;
        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.ServerGeometry";
    }

    /**
     * @function SuperMap.ServerGeometry.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.id = null;
        me.style = null;
        me.parts = null;
        me.partTopo = null;
        me.points = null;
        me.type = null;
        me.prjCoordSys = null;
    }

    /**
     * @function SuperMap.ServerGeometry.prototype.toGeometry
     * @description å°æå¡ç«¯å ä½å¯¹è±¡ ServerGeometry è½¬æ¢ä¸ºå®¢æ·ç«¯å ä½å¯¹è±¡ Geometryã
     * @returns {SuperMap.Geometry} è½¬æ¢åçå®¢æ·ç«¯å ä½å¯¹è±¡ã
     */
    toGeometry() {
        var me = this,
            geoType = me.type;
        switch (geoType) {
            case GeometryType.POINT:
                return me.toGeoPoint();
            case GeometryType.LINE:
                return me.toGeoLine();
            case GeometryType.LINEM:
                return me.toGeoLinem();
            case GeometryType.REGION:
                return me.toGeoRegion();
            case GeometryType.POINTEPS:
                return me.toGeoPoint();
            case GeometryType.LINEEPS:
                return me.toGeoLineEPS();
            case GeometryType.REGIONEPS:
                return me.toGeoRegionEPS();
        }
    }

    /**
     * @function SuperMap.ServerGeometry.prototype.toGeoPoint
     * @description å°æå¡ç«¯çç¹å ä½å¯¹è±¡è½¬æ¢ä¸ºå®¢æ·ç«¯å ä½å¯¹è±¡ãåæ¬ PointãMultiPointã
     * @returns {SuperMap.Geometry} è½¬æ¢åçå®¢æ·ç«¯å ä½å¯¹è±¡ã
     */
    toGeoPoint() {
        var me = this,
            geoParts = me.parts || [],
            geoPoints = me.points || [],
            len = geoParts.length;
        if (len > 0) {
            if (len === 1) {
                return new Point_Point(geoPoints[0].x, geoPoints[0].y);
            } else {
                var pointList = [];
                for (let i = 0; i < len; i++) {
                    pointList.push(new Point_Point(geoPoints[i].x, geoPoints[i].y));
                }
                return new MultiPoint_MultiPoint(pointList);
            }
        } else {
            return null;
        }
    }

    /**
     * @function SuperMap.ServerGeometry.prototype.toGeoLine
     * @description å°æå¡ç«¯ççº¿å ä½å¯¹è±¡è½¬æ¢ä¸ºå®¢æ·ç«¯å ä½å¯¹è±¡ãåæ¬ LinearRingãLineStringãMultiLineStringã
     * @returns {SuperMap.Geometry} è½¬æ¢åçå®¢æ·ç«¯å ä½å¯¹è±¡ã
     */
    toGeoLine() {
        var me = this,
            geoParts = me.parts || [],
            geoPoints = me.points || [],
            len = geoParts.length;
        if (len > 0) {
            if (len === 1) {
                let pointList = [];
                for (let i = 0; i < geoParts[0]; i++) {
                    pointList.push(new Point_Point(geoPoints[i].x, geoPoints[i].y));
                }
                //å¤æ­çº¿æ¯å¦é­åï¼å¦æé­åï¼åè¿åLinearRingï¼å¦åè¿åLineString
                if (pointList[0].equals(pointList[geoParts[0] - 1])) {
                    return new LinearRing_LinearRing(pointList);
                } else {
                    return new LineString_LineString(pointList);
                }
            } else {
                let lineList = [];
                for (let i = 0; i < len; i++) {
                    let pointList = [];
                    for (let j = 0; j < geoParts[i]; j++) {
                        pointList.push(new Point_Point(geoPoints[j].x, geoPoints[j].y));
                    }
                    lineList.push(new LineString_LineString(pointList));
                    geoPoints.splice(0, geoParts[i]);
                }
                return new MultiLineString_MultiLineString(lineList);
            }
        } else {
            return null;
        }
    }

    /**
     * @function SuperMap.ServerGeometry.prototype.toGeoLineEPS
     * @description å°æå¡ç«¯ççº¿å ä½å¯¹è±¡è½¬æ¢ä¸ºå®¢æ·ç«¯å ä½å¯¹è±¡ãåæ¬ LinearRingãLineStringãMultiLineStringã
     * @returns {SuperMap.Geometry} è½¬æ¢åçå®¢æ·ç«¯å ä½å¯¹è±¡ã
     */
    toGeoLineEPS() {
        var me = this,
            geoParts = me.parts || [],
            geoPoints = me.points || [],
            i,
            j,
            pointList,
            lineList,
            lineEPS,
            len = geoParts.length;
        if (len > 0) {
            if (len === 1) {
                for (i = 0, pointList = []; i < geoParts[0]; i++) {
                    pointList.push(new Point_Point(geoPoints[i].x, geoPoints[i].y, geoPoints[i].type));
                }
                //å¤æ­çº¿æ¯å¦é­åï¼å¦æé­åï¼åè¿åLinearRingï¼å¦åè¿åLineString
                if (pointList[0].equals(pointList[geoParts[0] - 1])) {
                    lineEPS = LineString_LineString.createLineEPS(pointList);
                    return new LinearRing_LinearRing(lineEPS);
                } else {
                    lineEPS = LineString_LineString.createLineEPS(pointList);
                    return new LineString_LineString(lineEPS);
                }
            } else {
                for (i = 0, lineList = []; i < len; i++) {
                    for (j = 0, pointList = []; j < geoParts[i]; j++) {
                        pointList.push(new Point_Point(geoPoints[j].x, geoPoints[j].y));
                    }
                    lineEPS = LineString_LineString.createLineEPS(pointList);
                    lineList.push(new LineString_LineString(lineEPS));
                    geoPoints.splice(0, geoParts[i]);
                }
                return new MultiLineString_MultiLineString(lineList);
            }
        } else {
            return null;
        }
    }

    /**
     * @function SuperMap.ServerGeometry.prototype.toGeoLine
     * @description å°æå¡ç«¯çè·¯ç±çº¿å ä½å¯¹è±¡è½¬æ¢ä¸ºå®¢æ·ç«¯å ä½å¯¹è±¡ãåæ¬ LinearRingãLineStringãMultiLineStringã
     * @returns {SuperMap.Geometry} è½¬æ¢åçå®¢æ·ç«¯å ä½å¯¹è±¡ã
     */
    toGeoLinem() {
        var me = this;
        return Route_Route.fromJson(me);
    }

    /**
     * @function SuperMap.ServerGeometry.prototype.toGeoRegion
     * @description å°æå¡ç«¯çé¢å ä½å¯¹è±¡è½¬æ¢ä¸ºå®¢æ·ç«¯å ä½å¯¹è±¡ãç±»åä¸º Polygonã
     * @returns {SuperMap.Geometry} è½¬æ¢åçå®¢æ·ç«¯å ä½å¯¹è±¡ã
     */
    toGeoRegion() {
        var me = this,
            geoParts = me.parts || [],
            geoTopo = me.partTopo || [],
            geoPoints = me.points || [],
            len = geoParts.length;
        if (len <= 0) {
            return null;
        }
        var polygonArray = [];
        var pointList = [];
        if (len == 1) {
            for (let i = 0; i < geoPoints.length; i++) {
                pointList.push(
                    new Point_Point(geoPoints[i].x, geoPoints[i].y))
            }
            polygonArray.push(
                new Polygon_Polygon(
                    [new LinearRing_LinearRing(pointList)]
                )
            );
            return new MultiPolygon_MultiPolygon(polygonArray);
        }
        //å¤çå¤æé¢
        var CCWArray = [];
        var areaArray = [];
        var polygonArrayTemp = [];
        //polyonå²æ´æ è¯æ°ç»ï¼åå§é½æ¯å²ã
        var CCWIdent = [];
        for (let i = 0, pointIndex = 0; i < len; i++) {
            for (let j = 0; j < geoParts[i]; j++) {
                pointList.push(
                    new Point_Point(geoPoints[pointIndex + j].x, geoPoints[pointIndex + j].y)
                );
            }
            pointIndex += geoParts[i];
            var polygon = new Polygon_Polygon(
                [new LinearRing_LinearRing(pointList)]
            );
            pointList = [];
            polygonArrayTemp.push(polygon);
            CCWIdent.push(1);
            areaArray.push(polygon.getArea());
        }
        //æ ¹æ®é¢ç§¯æåº
        ServerGeometry_ServerGeometry.bubbleSort(areaArray, polygonArrayTemp, geoTopo);
        //iServer 9Dæ°å¢å­æ®µ
        if (geoTopo.length === 0) {
            //å²æ´åºå±å¤æ­ååï¼å°ææçå­å¯¹è±¡æç§é¢ç§¯æåºï¼é¢ç§¯æå¤§çç´æ¥å¤å®ä¸ºå²ï¼1ï¼ï¼ä»é¢ç§¯æ¬¡å¤§çå¼å§å¤çï¼
            // å¦æåç°è¯¥å¯¹è±¡å¨æä¸ªé¢ç§¯å¤§äºå®çå¯¹è±¡ä¹ä¸­ï¼å³è¢«åå«ï¼ï¼åæ ¹æ®åå«å®çå¯¹è±¡çæ è¯ï¼1 or -1ï¼ï¼æå®å¶æ è¯ï¼-1 or 1ï¼ï¼
            // ä¾æ¬¡å¤çå®ææå¯¹è±¡ï¼å°±å¾å°äºä¸ä¸ªæ è¯æ°ç»ï¼1è¡¨ç¤ºå²ï¼-1è¡¨ç¤ºæ´
            //ç®æ polygonç´¢å¼åè¡¨ -1æ ç¤ºæ²¡æè¢«ä»»ä½polygonåå«ï¼
            var targetArray = [];
            for (let i = 1; i < polygonArrayTemp.length; i++) {
                for (let j = i - 1; j >= 0; j--) {
                    targetArray[i] = -1;
                    if (polygonArrayTemp[j].getBounds().containsBounds(polygonArrayTemp[i].getBounds())) {
                        CCWIdent[i] = CCWIdent[j] * -1;
                        if (CCWIdent[i] < 0) {
                            targetArray[i] = j;
                        }
                        break;
                    }
                }
            }
            for (let i = 0; i < polygonArrayTemp.length; i++) {
                if (CCWIdent[i] > 0) {
                    polygonArray.push(polygonArrayTemp[i]);
                } else {
                    polygonArray[targetArray[i]].components = polygonArray[targetArray[i]].components.concat(polygonArrayTemp[i].components);
                    //å ä½
                    polygonArray.push('');
                }
            }
        } else {
            //æ ¹æ®é¢ç§¯æåº
            //ServerGeometry.bubbleSort(areaArray, polygonArrayTemp,geoTopo);
            polygonArray = new Array();
            for (let i = 0; i < polygonArrayTemp.length; i++) {
                if (geoTopo[i] && geoTopo[i] == -1) {
                    CCWArray = CCWArray.concat(polygonArrayTemp[i].components);
                } else {
                    if (CCWArray.length > 0 && polygonArray.length > 0) {
                        polygonArray[polygonArray.length - 1].components = polygonArray[polygonArray.length - 1].components.concat(CCWArray);
                        CCWArray = [];
                    }
                    polygonArray.push(
                        polygonArrayTemp[i]
                    );
                }
                if (i == len - 1) {
                    var polyLength = polygonArray.length;
                    if (polyLength) {
                        polygonArray[polyLength - 1].components = polygonArray[polyLength - 1].components.concat(CCWArray);
                    } else {
                        for (let k = 0, length = CCWArray.length; k < length; k++) {
                            polygonArray.push(
                                new Polygon_Polygon(CCWArray)
                            );
                        }
                    }
                }
            }
        }
        return new MultiPolygon_MultiPolygon(polygonArray);
    }

    /**
     * @function SuperMap.ServerGeometry.prototype.toGeoRegionEPS
     * @description å°æå¡ç«¯çé¢å ä½å¯¹è±¡è½¬æ¢ä¸ºå®¢æ·ç«¯å ä½å¯¹è±¡ãç±»åä¸º Polygonã
     * @returns {SuperMap.Geometry} è½¬æ¢åçå®¢æ·ç«¯å ä½å¯¹è±¡ã
     */
    toGeoRegionEPS() {
        var me = this,
            geoParts = me.parts || [],
            geoTopo = me.partTopo || [],
            geoPoints = me.points || [],
            len = geoParts.length;

        if (len <= 0) {
            return null;
        }
        var polygonArray = [];
        var pointList = [];
        var lineEPS;
        if (len == 1) {
            for (var i = 0; i < geoPoints.length; i++) {
                pointList.push(
                    new Point_Point(geoPoints[i].x, geoPoints[i].y))
            }

            lineEPS = LineString_LineString.createLineEPS(pointList);
            polygonArray.push(
                new Polygon_Polygon(
                    [new LinearRing_LinearRing(lineEPS)]
                )
            );
            return new MultiPolygon_MultiPolygon(polygonArray);
        }
        //å¤çå¤æé¢
        var CCWArray = [];
        var areaArray = [];
        var polygonArrayTemp = [];
        //polyonå²æ´æ è¯æ°ç»ï¼åå§é½æ¯å²ã
        var CCWIdent = [];
        for (let i = 0, pointIndex = 0; i < len; i++) {
            for (let j = 0; j < geoParts[i]; j++) {
                pointList.push(
                    new Point_Point(geoPoints[pointIndex + j].x, geoPoints[pointIndex + j].y)
                );
            }
            pointIndex += geoParts[i];

            lineEPS = LineString_LineString.createLineEPS(pointList);
            var polygon = new Polygon_Polygon(
                [new LinearRing_LinearRing(lineEPS)]
            );
            pointList = [];
            polygonArrayTemp.push(polygon);
            CCWIdent.push(1);
            areaArray.push(polygon.getArea());
        }
        //æ ¹æ®é¢ç§¯æåº
        ServerGeometry_ServerGeometry.bubbleSort(areaArray, polygonArrayTemp, geoTopo);
        //iServer 9Dæ°å¢å­æ®µ
        if (geoTopo.length === 0) {
            //å²æ´åºå±å¤æ­ååï¼å°ææçå­å¯¹è±¡æç§é¢ç§¯æåºï¼é¢ç§¯æå¤§çç´æ¥å¤å®ä¸ºå²ï¼1ï¼ï¼ä»é¢ç§¯æ¬¡å¤§çå¼å§å¤çï¼
            // å¦æåç°è¯¥å¯¹è±¡å¨æä¸ªé¢ç§¯å¤§äºå®çå¯¹è±¡ä¹ä¸­ï¼å³è¢«åå«ï¼ï¼åæ ¹æ®åå«å®çå¯¹è±¡çæ è¯ï¼1 or -1ï¼ï¼æå®å¶æ è¯ï¼-1 or 1ï¼ï¼
            // ä¾æ¬¡å¤çå®ææå¯¹è±¡ï¼å°±å¾å°äºä¸ä¸ªæ è¯æ°ç»ï¼1è¡¨ç¤ºå²ï¼-1è¡¨ç¤ºæ´
            //ç®æ polygonç´¢å¼åè¡¨ -1æ ç¤ºæ²¡æè¢«ä»»ä½polygonåå«ï¼
            var targetArray = [];
            for (let i = 1; i < polygonArrayTemp.length; i++) {
                for (let j = i - 1; j >= 0; j--) {
                    targetArray[i] = -1;
                    if (polygonArrayTemp[j].getBounds().containsBounds(polygonArrayTemp[i].getBounds())) {
                        CCWIdent[i] = CCWIdent[j] * -1;
                        if (CCWIdent[i] < 0) {
                            targetArray[i] = j;
                        }
                        break;
                    }
                }
            }
            for (let i = 0; i < polygonArrayTemp.length; i++) {
                if (CCWIdent[i] > 0) {
                    polygonArray.push(polygonArrayTemp[i]);
                } else {
                    polygonArray[targetArray[i]].components = polygonArray[targetArray[i]].components.concat(polygonArrayTemp[i].components);
                    //å ä½
                    polygonArray.push('');
                }
            }
        } else {
            //æ ¹æ®é¢ç§¯æåº
            polygonArray = new Array();
            for (let i = 0; i < polygonArrayTemp.length; i++) {
                if (geoTopo[i] && geoTopo[i] == -1) {
                    CCWArray = CCWArray.concat(polygonArrayTemp[i].components);
                } else {
                    if (CCWArray.length > 0 && polygonArray.length > 0) {
                        polygonArray[polygonArray.length - 1].components = polygonArray[polygonArray.length - 1].components.concat(CCWArray);
                        CCWArray = [];
                    }
                    polygonArray.push(
                        polygonArrayTemp[i]
                    );
                }
                if (i == len - 1) {
                    var polyLength = polygonArray.length;
                    if (polyLength) {
                        polygonArray[polyLength - 1].components = polygonArray[polyLength - 1].components.concat(CCWArray);
                    } else {
                        for (let k = 0, length = CCWArray.length; k < length; k++) {
                            polygonArray.push(
                                new Polygon_Polygon(CCWArray)
                            );
                        }
                    }
                }
            }
        }
        return new MultiPolygon_MultiPolygon(polygonArray);
    }

    /**
     * @function SuperMap.ServerGeometry.prototype.fromJson
     * @description å° JSON å¯¹è±¡è¡¨ç¤ºæå¡ç«¯å ä½å¯¹è±¡è½¬æ¢ä¸º ServerGeometryã
     * @param {Object} jsonObject - è¦è½¬æ¢ç JSON å¯¹è±¡ã
     * @returns {SuperMap.ServerGeometry} è½¬æ¢åç ServerGeometry å¯¹è±¡ã
     */
    static fromJson(jsonObject) {
        if (!jsonObject) {
            return;
        }
        return new ServerGeometry_ServerGeometry({
            id: jsonObject.id,
            style: ServerStyle_ServerStyle.fromJson(jsonObject.style),
            parts: jsonObject.parts,
            partTopo: jsonObject.partTopo,
            points: jsonObject.points,
            center: jsonObject.center,
            length: jsonObject.length,
            maxM: jsonObject.maxM,
            minM: jsonObject.minM,
            type: jsonObject.type
        });

    }

    /**
     * @function SuperMap.ServerGeometry.prototype.fromGeometry
     * @description å°å®¢æ·ç«¯ Geometry è½¬æ¢ææå¡ç«¯ ServerGeometryã
     * @param {SuperMap.Geometry} geometry - è¦è½¬æ¢çå®¢æ·ç«¯ Geometry å¯¹è±¡ã
     * @returns {SuperMap.ServerGeometry} è½¬æ¢åç ServerGeometry å¯¹è±¡ã
     */
    static fromGeometry(geometry) {
        if (!geometry) {
            return;
        }
        var id = 0,
            parts = [],
            points = [],
            type = null,
            icomponents = geometry.components,
            className = geometry.CLASS_NAME,
            prjCoordSys = {"epsgCode": geometry.SRID};

        if (!isNaN(geometry.id)) {
            id = geometry.id;
        }
        //åç¹çæ¹æ³ï¼æ²¡æ³ï¼ä¸ºäºæ¯ææå¿æ ç»ï¼ææ¶é´å°±å¾å¨æ¹
        if (className != "SuperMap.Geometry.LinearRing" && className != "SuperMap.Geometry.LineString" && (geometry instanceof MultiPoint_MultiPoint || geometry instanceof MultiLineString_MultiLineString)) {
            let ilen = icomponents.length;
            for (let i = 0; i < ilen; i++) {
                let partPointsCount = icomponents[i].getVertices().length;
                parts.push(partPointsCount);
                for (let j = 0; j < partPointsCount; j++) {
                    points.push(new Point_Point(icomponents[i].getVertices()[j].x, icomponents[i].getVertices()[j].y));
                }
            }
            //è¿éclassNameä¸æ¯å¤ç¹å°±å¨é¨æ¯ç®çº¿
            type = (className == "SuperMap.Geometry.MultiPoint") ? GeometryType.POINT : GeometryType.LINE;
        } else if (geometry instanceof MultiPolygon_MultiPolygon) {
            let ilen = icomponents.length;
            for (let i = 0; i < ilen; i++) {
                let polygon = icomponents[i],
                    linearRingOfPolygon = polygon.components,
                    linearRingOfPolygonLen = linearRingOfPolygon.length;
                for (let j = 0; j < linearRingOfPolygonLen; j++) {
                    let partPointsCount = linearRingOfPolygon[j].getVertices().length + 1;
                    parts.push(partPointsCount);
                    for (let k = 0; k < partPointsCount - 1; k++) {
                        points.push(new Point_Point(linearRingOfPolygon[j].getVertices()[k].x, linearRingOfPolygon[j].getVertices()[k].y));
                    }
                    points.push(new Point_Point(linearRingOfPolygon[j].getVertices()[0].x, linearRingOfPolygon[j].getVertices()[0].y));
                }
            }
            type = GeometryType.REGION;
        } else if (geometry instanceof Polygon_Polygon) {
            let ilen = icomponents.length;
            for (let i = 0; i < ilen; i++) {
                let partPointsCount = icomponents[i].getVertices().length + 1;
                parts.push(partPointsCount);
                for (let j = 0; j < partPointsCount - 1; j++) {
                    points.push(new Point_Point(icomponents[i].getVertices()[j].x, icomponents[i].getVertices()[j].y));
                }
                points.push(new Point_Point(icomponents[i].getVertices()[0].x, icomponents[i].getVertices()[0].y));
            }
            type = GeometryType.REGION;
        } else {
            let geometryVerticesCount = geometry.getVertices().length;
            for (let j = 0; j < geometryVerticesCount; j++) {
                points.push(new Point_Point(geometry.getVertices()[j].x, geometry.getVertices()[j].y));
            }
            if (geometry instanceof LinearRing_LinearRing) {
                points.push(new Point_Point(geometry.getVertices()[0].x, geometry.getVertices()[0].y));
                geometryVerticesCount++;
            }
            parts.push(geometryVerticesCount);
            type = (geometry instanceof Point_Point) ? GeometryType.POINT : GeometryType.LINE;
        }

        return new ServerGeometry_ServerGeometry({
            id: id,
            style: null,
            parts: parts,
            points: points,
            type: type,
            prjCoordSys: prjCoordSys
        });
    }

    /**
     * @function SuperMap.ServerGeometry.prototype.IsClockWise
     * @description å¤æ­ linearRing ä¸­çç¹çé¡ºåºãè¿åå¼å¤§äº 0ï¼éæ¶éï¼å°äº 0ï¼é¡ºæ¶éã
     * @param {SuperMap.Geometry} geometry - è¦è½¬æ¢çå®¢æ·ç«¯ Geometry å¯¹è±¡ã
     * @returns {number} è¿åå¼å¤§äº 0ï¼éæ¶éï¼å°äº 0ï¼é¡ºæ¶éã
     */
    static IsClockWise(points) {
        var length = points.length;
        if (length < 3) {
            return 0.0;
        }
        var s = points[0].y * (points[length - 1].x - points[1].x);
        points.push(points[0]);
        for (var i = 1; i < length; i++) {
            s += points[i].y * (points[i - 1].x - points[i + 1].x);
        }
        return s * 0.5;
    }

    static bubbleSort(areaArray, pointList, geoTopo) {
        for (var i = 0; i < areaArray.length; i++) {
            for (var j = 0; j < areaArray.length; j++) {
                if (areaArray[i] > areaArray[j]) {
                    var d = areaArray[j];
                    areaArray[j] = areaArray[i];
                    areaArray[i] = d;
                    var b = pointList[j];
                    pointList[j] = pointList[i];
                    pointList[i] = b;
                    if (geoTopo && geoTopo.length > 0) {
                        var c = geoTopo[j];
                        geoTopo[j] = geoTopo[i];
                        geoTopo[i] = c;
                    }
                }
            }
        }
    }

}

SuperMap.ServerGeometry = ServerGeometry_ServerGeometry;
// CONCATENATED MODULE: ./src/common/iServer/GeometryBufferAnalystParameters.js





/**
 * @class SuperMap.GeometryBufferAnalystParameters
 * @category  iServer SpatialAnalyst BufferAnalyst
 * @classdesc å ä½å¯¹è±¡ç¼å²åºåæåæ°ç±»
 * å¯¹æå®çæä¸ªå ä½å¯¹è±¡åç¼å²åºåæãéè¿è¯¥ç±»å¯ä»¥æå®è¦åç¼å²åºåæçå ä½å¯¹è±¡ãç¼å²åºåæ°ç­ã
 * @param {Object} options - åæ°ã 
 * @param {Object} options.sourceGeometry - è¦åç¼å²åºåæçå ä½å¯¹è±¡ã</br>
 * @param {SuperMap.BufferSetting} [options.bufferSetting] - è®¾ç½®ç¼å²åºéç¨åæ°ã
 * @extends {SuperMap.BufferAnalystParameters}
 */
class GeometryBufferAnalystParameters_GeometryBufferAnalystParameters extends BufferAnalystParameters_BufferAnalystParameters {


    constructor(options) {
        super(options);
        /**
         * @member {Object} SuperMap.GeometryBufferAnalystParameters.prototype.sourceGeometry
         * @description è¦åç¼å²åºåæçå ä½å¯¹è±¡ã<br>
         * ç¹ç±»åå¯ä»¥æ¯ï¼{@link SuperMap.Geometry.Point}|{@link L.Point}|{@link L.GeoJSON}|{@link ol.geom.Point}|{@link ol.format.GeoJSON}ã</br>
         * çº¿ç±»åå¯ä»¥æ¯ï¼{@link SuperMap.Geometry.LineString}|{@link SuperMap.Geometry.LinearRing}|{@link L.Polyline}|{@link L.GeoJSON}|{@link ol.geom.LineString}|{@link ol.format.GeoJSON}ã</br>
         * é¢ç±»åå¯ä»¥æ¯ï¼{@link SuperMap.Geometry.Polygon}|{@link L.Polygon}|{@link L.GeoJSON}|{@link ol.geom.Polygon}|{@link ol.format.GeoJSON}ã 
         */
        this.sourceGeometry = null;

        /**
         * @member {number} SuperMap.GeometryBufferAnalystParameters.prototype.sourceGeometrySRID
         * @description ç¼å²åºå ä½å¯¹è±¡æå½±åæ åæ°, å¦ 4326ï¼3857ã
         */
        this.sourceGeometrySRID = null;

        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = " SuperMap.GeometryBufferAnalystParameters";
    }

    /**
     * @function SuperMap.GeometryBufferAnalystParameters.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        var me = this;
        if (me.sourceGeometry) {
            me.sourceGeometry.destroy();
            me.sourceGeometry = null;
        }
    }

    /**
     * @function SuperMap.GeometryBufferAnalystParameters.toObject
     * @param {SuperMap.GeometryBufferAnalystParameters} geometryBufferAnalystParameters - å ä½å¯¹è±¡ç¼å²åºåæåæ°ç±»ã
     * @param {SuperMap.GeometryBufferAnalystParameters} tempObj - å ä½å¯¹è±¡ç¼å²åºåæåæ°å¯¹è±¡ã
     * @description å°å ä½å¯¹è±¡ç¼å²åºåæåæ°å¯¹è±¡è½¬æ¢ä¸º JSON å¯¹è±¡ã
     * @returns {Object} JSON å¯¹è±¡ã
     */
    static toObject(geometryBufferAnalystParameters, tempObj) {
        for (var name in geometryBufferAnalystParameters) {
            if (name === "bufferSetting") {
                var tempBufferSetting = {};
                for (var key in geometryBufferAnalystParameters.bufferSetting) {
                    tempBufferSetting[key] = geometryBufferAnalystParameters.bufferSetting[key];
                }
                tempObj.analystParameter = tempBufferSetting;
            } else if (name === "sourceGeometry") {
                tempObj.sourceGeometry = ServerGeometry_ServerGeometry.fromGeometry(geometryBufferAnalystParameters.sourceGeometry);

            } else {
                tempObj[name] = geometryBufferAnalystParameters[name];
            }
        }
    }

}

SuperMap.GeometryBufferAnalystParameters = GeometryBufferAnalystParameters_GeometryBufferAnalystParameters;
// CONCATENATED MODULE: ./src/common/iServer/BufferAnalystService.js






/**
 * @class SuperMap.BufferAnalystService
 * @category iServer SpatialAnalyst BufferAnalyst
 * @classdesc ç¼å²åºåææå¡ç±»ã
 * è¯¥ç±»è´è´£å°å®¢æ·è®¾ç½®çç¼å²åºåæåæ°ä¼ éç»æå¡ç«¯ï¼å¹¶æ¥æ¶æå¡ç«¯è¿åçç¼å²åºåæç»ææ°æ®ã
 * ç¼å²åºåæç»æéè¿è¯¥ç±»æ¯æçäºä»¶ççå¬å½æ°åæ°è·åã
 * @param {string} url - æå¡çè®¿é®å°åãå¦ï¼http://localhost:8090/iserver/services/spatialanalyst-changchun/restjsr/spatialanalystã
 * @param {Object} options - åæ°ã</br>
 * @param {object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 * @extends {SuperMap.SpatialAnalystBase}
 * @example ä¾å¦ï¼
 * (start code)
 * var myBufferAnalystService = new SuperMap.BufferAnalystService(url, {
     *     eventListeners: {
     *           "processCompleted": bufferCompleted,
     *           "processFailed": bufferFailed
     *           }
     *    });
 * (end)
 *
 *
 */
class BufferAnalystService_BufferAnalystService extends SpatialAnalystBase_SpatialAnalystBase {


    constructor(url, options) {
        super(url, options);
        /**
         * @member {string} SuperMap.BufferAnalystService.prototype.mode
         * @description ç¼å²åºåæç±»å
         */
        this.mode = null;
        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = "SuperMap.BufferAnalystService";
    }


    /**
     * @function SuperMap.BufferAnalystService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        this.mode = null;
    }


    /**
     * @method SuperMap.BufferAnalystService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.BufferAnalystParameters} parameter - ç¼å²åºåæåæ°
     */
    processAsync(parameter) {
        var parameterObject = {};
        var me = this;

        var end = me.url.substr(me.url.length - 1, 1);
        if (end !== '/') {
            me.url += "/";
        }

        if (parameter instanceof DatasetBufferAnalystParameters_DatasetBufferAnalystParameters) {
            me.mode = "datasets";
            me.url += 'datasets/' + parameter.dataset + '/buffer';
            DatasetBufferAnalystParameters_DatasetBufferAnalystParameters.toObject(parameter, parameterObject);
        } else if (parameter instanceof GeometryBufferAnalystParameters_GeometryBufferAnalystParameters) {
            me.mode = "geometry";
            me.url += 'geometry/buffer';
            GeometryBufferAnalystParameters_GeometryBufferAnalystParameters.toObject(parameter, parameterObject);
        }

        var jsonParameters = Util_Util.toJSON(parameterObject);
        me.url += '.json?returnContent=true';
        me.request({
            method: "POST",
            data: jsonParameters,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

}

SuperMap.BufferAnalystService = BufferAnalystService_BufferAnalystService;
// CONCATENATED MODULE: ./src/common/iServer/OutputSetting.js





/**
 * @class SuperMap.OutputSetting
 * @category  iServer ProcessingService
 * @classdesc åå¸å¼åæè¾åºç±»åè®¾ç½®ç±»ã
 * @param {Object} options - åæ°ã
 * @param {SuperMap.DatasourceConnectionInfo} options.datasourceInfo - æ°æ®æºè¿æ¥ä¿¡æ¯ã
 * @param {string} [options.datasetName='analystResult'] - ç»ææ°æ®éåç§°ã
 * @param {SuperMap.OutputType} [options.type=SuperMap.OutputType.UDB] - è¾åºç±»åã
 * @param {string} [options.outputPath] - åæç»æè¾åºè·¯å¾ã
 */
class OutputSetting_OutputSetting {

    constructor(options) {

        /**
         * @member {SuperMap.OutputType} SuperMap.OutputSetting.prototype.type
         * @description åå¸å¼åæçè¾åºç±»åã
         */
        this.type = OutputType.UDB;

        /**
         * @member {string} [SuperMap.OutputSetting.prototype.datasetName='analystResult']
         * @description åå¸å¼åæçè¾åºç»ææ°æ®éåç§°ã
         */
        this.datasetName = "analystResult";

        /**
         * @member {SuperMap.DatasourceConnectionInfo} SuperMap.OutputSetting.prototype.datasourceInfo
         * @description åå¸å¼åæçè¾åºç»ææ°æ®æºè¿æ¥ä¿¡æ¯ã
         */
        this.datasourceInfo = null;

        /**
         * @member {string} [SuperMap.OutputSetting.prototype.outputPath]
         * @description åå¸å¼åæçåæç»æè¾åºè·¯å¾ã
         */
        this.outputPath = "";

        Util_Util.extend(this, options);
        this.CLASS_NAME = "SuperMap.OutputSetting";
    }

    /**
     * @function SuperMap.OutputSetting.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.type = null;
        me.datasetName = null;
        me.outputPath = null;
        if (me.datasourceInfo instanceof DatasourceConnectionInfo_DatasourceConnectionInfo) {
            me.datasourceInfo.destroy();
            me.datasourceInfo = null;
        }
    }

}

SuperMap.OutputSetting = OutputSetting_OutputSetting;
// CONCATENATED MODULE: ./src/common/iServer/BuffersAnalystJobsParameter.js





/**
 * @class SuperMap.BuffersAnalystJobsParameter
 * @category iServer ProcessingService BufferAnalyst
 * @classdesc ç¼å²åºåæä»»å¡åæ°ç±»ã
 * @param {Object} options - åæ°ã   
 * @param {string} options.datasetName - æ°æ®éåã   
 * @param {(SuperMap.Bounds|L.Bounds|ol.extent)} options.bounds - åæèå´ã   
 * @param {string} [options.distance='15'] - ç¼å²è·ç¦»ï¼æç¼å²åºåå¾ã   
 * @param {string} [options.distanceField='pickup_latitude'] - ç¼å²åºåæè·ç¦»å­æ®µã   
 * @param {SuperMap.AnalystSizeUnit} [options.distanceUnit=SuperMap.AnalystSizeUnit.METER] - ç¼å²è·ç¦»åä½åä½ã   
 * @param {SuperMap.OutputSetting} [options.output] - è¾åºåæ°è®¾ç½®ã   
 */
class BuffersAnalystJobsParameter_BuffersAnalystJobsParameter {


    constructor(options) {
        /**
         * @member {string} SuperMap.BuffersAnalystJobsParameter.prototype.datasetName
         * @description æ°æ®éåã
         */
        this.datasetName = "";

        /**
         * @member {(SuperMap.Bounds|L.Bounds|ol.extent)} SuperMap.BuffersAnalystJobsParameter.prototype.bounds
         * @description åæèå´ã 
         */
        this.bounds = "";

        /**
         * @member {string} [SuperMap.BuffersAnalystJobsParameter.prototype.distance='15']
         * @description ç¼å²è·ç¦»ï¼æç§°ä¸ºç¼å²åºåå¾ãå½ç¼å²è·ç¦»å­æ®µä½ç©ºæ¶ï¼æ­¤åæ°ææã
         */
        this.distance = "";

        /**
         * @member {string} [SuperMap.BuffersAnalystJobsParameter.prototype.distanceField='pickup_latitude']
         * @description ç¼å²è·ç¦»å­æ®µã
         */
        this.distanceField = "";

        /**
         * @member {SuperMap.AnalystSizeUnit} [SuperMap.BuffersAnalystJobsParameter.prototype.distanceUnit=SuperMap.AnalystSizeUnit.METER]
         * @description ç¼å²è·ç¦»åä½ã
         */
        this.distanceUnit = AnalystSizeUnit.METER;

        /**
         * @member {string} SuperMap.BuffersAnalystJobsParameter.prototype.dissolveField
         * @description èåå­æ®µï¼æ ¹æ®å­æ®µå¼å¯¹ç¼å²åºç»æé¢å¯¹è±¡è¿è¡èåã
         */
        this.dissolveField = "";

        /**
         * @member {SuperMap.OutputSetting} [SuperMap.BuffersAnalystJobsParameter.prototype.output]
         * @description è¾åºåæ°è®¾ç½®ç±»ã
         */
        this.output = null;

        if (!options) {
            return this;
        }
        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.BuffersAnalystJobsParameter";
    }

    /**
     * @function SuperMap.BuffersAnalystJobsParameter.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        this.datasetName = null;
        this.bounds = null;
        this.distance = null;
        this.distanceField = null;
        this.distanceUnit = null;
        this.dissolveField = null;
        if (this.output instanceof OutputSetting_OutputSetting) {
            this.output.destroy();
            this.output = null;
        }
    }

    /**
     * @function SuperMap.BuffersAnalystJobsParameter.toObject
     * @param {SuperMap.BuffersAnalystJobsParameter} BuffersAnalystJobsParameter - ç¼å²åºåæä»»å¡åæ°ã
     * @param {Object} tempObj - ç®æ å¯¹è±¡ã
     * @description çæç¼å²åºåæä»»å¡å¯¹è±¡ã
     */
    static toObject(BuffersAnalystJobsParameter, tempObj) {
        for (var name in BuffersAnalystJobsParameter) {
            if (name === "datasetName") {
                tempObj['input'] = tempObj['input'] || {};
                tempObj['input'][name] = BuffersAnalystJobsParameter[name];
                continue;
            }
            if (name === "output") {
                tempObj['output'] = tempObj['output'] || {};
                tempObj['output'] = BuffersAnalystJobsParameter[name];
                continue;
            }
            tempObj['analyst'] = tempObj['analyst'] || {};
            if (name === 'bounds') {
                tempObj['analyst'][name] = BuffersAnalystJobsParameter[name].toBBOX();
            } else {
                tempObj['analyst'][name] = BuffersAnalystJobsParameter[name];
            }
        }
    }

}

SuperMap.BuffersAnalystJobsParameter = BuffersAnalystJobsParameter_BuffersAnalystJobsParameter;
// CONCATENATED MODULE: ./src/common/iServer/ProcessingServiceBase.js






/**
 * @class SuperMap.ProcessingServiceBase
 * @category  iServer ProcessingService
 * @classdesc åå¸å¼åææå¡åºç±»
 * @extends {SuperMap.CommonServiceBase}
 * @param {string} url - åå¸å¼åææå¡å°åã
 * @param {Object} options - åæ°ã
 * @param {SuperMap.Events} options.events - å¤çææäºä»¶çå¯¹è±¡ã
 * @param {number} options.index - æå¡è®¿é®å°åå¨æ°ç»ä¸­çä½ç½®ã
 * @param {number} options.length - æå¡è®¿é®å°åæ°ç»é¿åº¦ã
 * @param {SuperMap.ServerType} [options.serverType=SuperMap.ServerType.ISERVER] - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã
 * @param {Object} [options.eventListeners] - äºä»¶çå¬å¨å¯¹è±¡ãæ processCompleted å±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailed å±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã
*/
class ProcessingServiceBase_ProcessingServiceBase extends CommonServiceBase_CommonServiceBase {

    constructor(url, options) {
        options = options || {};
        /*
         * Constant: EVENT_TYPES
         * {Array.<string>}
         * æ­¤ç±»æ¯æçäºä»¶ç±»å
         * - *processCompleted* åå»ºæååè§¦åçäºä»¶ã
         * - *processFailed* åå»ºå¤±è´¥åè§¦åçäºä»¶ ã
         * - *processRunning* åå»ºè¿ç¨çæ´ä¸ªé¶æ®µé½ä¼è§¦åçäºä»¶ï¼ç¨äºè·ååå»ºè¿ç¨çç¶æ ã
         */
        options.EVENT_TYPES = ["processCompleted", "processFailed", "processRunning"];
        super(url, options);

        this.CLASS_NAME = "SuperMap.ProcessingServiceBase";
    }

    /**
     * @function SuperMap.ProcessingServiceBase.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.ProcessingServiceBase.prototype.getJobs
     * @description è·ååå¸å¼åæä»»å¡ã
     * @param {string} url - èµæºå°åã
     */
    getJobs(url) {
        var me = this;
        FetchRequest.get(me._processUrl(url), null, {proxy: me.proxy}).then(function (response) {
            return response.json();
        }).then(function (result) {
            me.events.triggerEvent("processCompleted", {result: result});
        }).catch(function (e) {
            me.eventListeners.processFailed({error: e});
        });
    }

    /**
     * @function SuperMap.ProcessingServiceBase.prototype.addJob
     * @description æ·»å åå¸å¼åæä»»å¡ã
     * @param {string} url - èµæºæ ¹å°åã
     * @param {Object} params - åå»ºä¸ä¸ªç©ºé´åæçè¯·æ±åæ°ã
     * @param {string} paramType - è¯·æ±åæ°ç±»åã
     * @param {number} seconds - å¼å§åå»ºåï¼è·ååå»ºæåç»æçæ¶é´é´éã
     */
    addJob(url, params, paramType, seconds) {
        var me = this, parameterObject = null;
        if (params && params instanceof paramType) {
            parameterObject = new Object();
            paramType.toObject(params, parameterObject);
        }
        var options = {
            proxy: me.proxy,
            headers: {'Content-Type': 'application/x-www-form-urlencoded'}
        };
        FetchRequest.post(me._processUrl(url), JSON.stringify(parameterObject), options).then(function (response) {
            return response.json();
        }).then(function (result) {
            if (result.succeed) {
                me.serviceProcessCompleted(result, seconds);
            } else {
                me.serviceProcessFailed(result);
            }
        }).catch(function (e) {
            me.serviceProcessFailed({error: e});
        });
    }

    serviceProcessCompleted(result, seconds) {
        result = Util_Util.transformResult(result);
        seconds = seconds || 1000;
        var me = this;
        if (result) {
            var id = setInterval(function () {
                FetchRequest.get(me._processUrl(result.newResourceLocation), {_t: new Date().getTime()})
                    .then(function (response) {
                        return response.json();
                    }).then(function (job) {
                    me.events.triggerEvent("processRunning", {id: job.id, state: job.state});
                    if (job.state.runState === 'LOST' || job.state.runState === 'KILLED' || job.state.runState === 'FAILED') {
                        clearInterval(id);
                        me.events.triggerEvent("processFailed", {error: job.state.errorMsg, state: job.state.runState});
                    }
                    if (job.state.runState === 'FINISHED' && job.setting.serviceInfo) {
                        clearInterval(id);
                        me.events.triggerEvent("processCompleted", {result: job});
                    }
                }).catch(function (e) {
                    clearInterval(id);
                    me.events.triggerEvent("processFailed", {error: e});
                });
            }, seconds);
        }
    }

    serviceProcessFailed(result) {
        super.serviceProcessFailed(result);
    }

    //ä¸ºä¸æ¯ä»¥.jsonç»å°¾çurlå ä¸.jsonï¼å¹¶ä¸å¦æætokençè¯ï¼å¨.jsonåå ä¸tokenåæ°ã
    _processUrl(url) {
        if (url.indexOf('.json') === -1) {
            url += '.json';
        }
        if (SecurityManager_SecurityManager.getToken(url)) {
            url += '?token=' + SecurityManager_SecurityManager.getToken(url);
        }
        return url;
    }

}

SuperMap.ProcessingServiceBase = ProcessingServiceBase_ProcessingServiceBase;

// CONCATENATED MODULE: ./src/common/iServer/BuffersAnalystJobsService.js




/**
 * @class SuperMap.BuffersAnalystJobsService
 * @category iServer ProcessingService BufferAnalyst
 * @classdesc ç¼å²åºåææå¡ç±»
 * @extends {SuperMap.ProcessingServiceBase}
 * @param {string} url - æå¡å°åã
 * @param {Object} options - åæ°ã
 */
class BuffersAnalystJobsService_BuffersAnalystJobsService extends ProcessingServiceBase_ProcessingServiceBase {
    constructor(url, options) {
        super(url, options);
        this.url += "/spatialanalyst/buffers";
        this.CLASS_NAME = "SuperMap.BuffersAnalystJobsService";
    }

    /**
     *@override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.BuffersAnalystJobsService.prototype.getBufferJobs
     * @description è·åç¼å²åºåæææä»»å¡
     */
    getBuffersJobs() {
        super.getJobs(this.url);
    }

    /**
     * @function SuperMap.BuffersAnalystJobsService.prototype.getBufferJob
     * @description è·åæå®idçç¼å²åºåææå¡
     * @param {string} id - æå®è¦è·åæ°æ®çidã
     */
    getBuffersJob(id) {
        super.getJobs(this.url + '/' + id);
    }

    /**
     * @function SuperMap.BuffersAnalystJobsService.prototype.addBufferJob
     * @description æ°å»ºç¼å²åºåææå¡
     * @param {SuperMap.BuffersAnalystJobsParameter} params - åå»ºä¸ä¸ªç©ºé´åæçè¯·æ±åæ°ã
     * @param {number} seconds - å¼å§åå»ºåï¼è·ååå»ºæåç»æçæ¶é´é´éã
     */
    addBuffersJob(params, seconds) {
        super.addJob(this.url, params, BuffersAnalystJobsParameter_BuffersAnalystJobsParameter, seconds);
    }
}

SuperMap.BuffersAnalystJobsService = BuffersAnalystJobsService_BuffersAnalystJobsService;
// CONCATENATED MODULE: ./src/common/iServer/BurstPipelineAnalystParameters.js



/**
 * @class SuperMap.BurstPipelineAnalystParameters
 * @category iServer NetworkAnalyst BurstAnalyse
 * @classdesc çç®¡åæåæ°ç±»ã
 * @param {Object} options - åæ°ã 
 * @param {Array.<number>} options.sourceNodeIDs - æå®çè®¾æ½ç¹ ID æ°ç»ã 
 * @param {number} [options.edgeID] - æå®çå¼§æ®µIDï¼edgeID ä¸ nodeID å¿é¡»æå®ä¸ä¸ªã 
 * @param {number} [options.nodeID] - æå®çç»ç¹IDï¼edgeID ä¸ nodeID å¿é¡»æå®ä¸ä¸ªã 
 * @param {boolean} [options.isUncertainDirectionValid=false] - æå®ä¸ç¡®å®æµåæ¯å¦ææã
 */
class BurstPipelineAnalystParameters_BurstPipelineAnalystParameters {


    constructor(options) {
        var me = this;
        /**
         * @member {Array.<number>} SuperMap.BurstPipelineAnalystParameters.prototype.sourceNodeIDs
         * @description æå®çè®¾æ½ç¹ ID æ°ç»ã
         */
        this.sourceNodeIDs = null;

        /**
         * @member {number} [SuperMap.BurstPipelineAnalystParameters.prototype.edgeID]
         * @description æå®çå¼§æ®µ IDï¼edgeID ä¸ nodeID å¿é¡»æå®ä¸ä¸ªã 
         */
        this.edgeID = null;

        /**
         * @member {number} [SuperMap.BurstPipelineAnalystParameters.prototype.nodeID]
         * @description æå®çç»ç¹ IDï¼edgeID ä¸ nodeID å¿é¡»æå®ä¸ä¸ªã 
         */
        this.nodeID = null;

        /**
         * @member {boolean} [SuperMap.BurstPipelineAnalystParameters.prototype.isUncertainDirectionValid=false]
         * @description æå®ä¸ç¡®å®æµåæ¯å¦ææã
         * æå®ä¸º trueï¼è¡¨ç¤ºä¸ç¡®å®æµåææï¼éå°ä¸ç¡®å®æµåæ¶åæç»§ç»­è¿è¡ã
         * æå®ä¸º falseï¼è¡¨ç¤ºä¸ç¡®å®æµåæ æï¼éå°ä¸ç¡®å®æµåå°åæ­¢å¨è¯¥æ¹åä¸ç»§ç»­æ¥æ¾ã
         */
        this.isUncertainDirectionValid = false;

        Util_Util.extend(me, options);

        this.CLASS_NAME = "SuperMap.BurstPipelineAnalystParameters";
    }

    /**
     * @function SuperMap.BurstPipelineAnalystParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.sourceNodeIDs = null;
        me.edgeID = null;
        me.nodeID = null;
        me.isUncertainDirectionValid = null;
    }


}

SuperMap.BurstPipelineAnalystParameters = BurstPipelineAnalystParameters_BurstPipelineAnalystParameters;
// CONCATENATED MODULE: ./src/common/iServer/NetworkAnalystServiceBase.js





/**
 * @class SuperMap.NetworkAnalystServiceBase
 * @category iServer NetworkAnalyst
 * @classdesc ç½ç»åææå¡åºç±»ã
 * @description ç½ç»åææå¡åºç±»ã
 * @extends {SuperMap.CommonServiceBase}
 * @param {string} url - ç½ç»åææå¡å°åã
 * @param {Object} options - åæ°ã
 *
 */
class NetworkAnalystServiceBase_NetworkAnalystServiceBase extends CommonServiceBase_CommonServiceBase {

    constructor(url, options) {
        super(url, options);
        /**
         * @member {SuperMap.DataFormat} [SuperMap.NetworkAnalystServiceBase.prototype.format=SuperMap.DataFormat.GEOJSON]
         * @description æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æ iServerJSON å GeoJSON ä¸¤ç§æ ¼å¼ï¼åæ°æ ¼å¼ä¸º "ISERVER","GEOJSON"
         */
        this.format = DataFormat.GEOJSON;

        this.CLASS_NAME = "SuperMap.NetworkAnalystServiceBase";
    }

    /**
     * @function SuperMap.NetworkAnalystServiceBase.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨çèµæºå±æ§ç½®ç©ºã
     */
    destroy() {
        super.destroy();
        this.format = null;
    }

    /**
     * @function SuperMap.NetworkAnalystServiceBase.prototype.serviceProcessCompleted
     * @description åæå®æï¼æ§è¡æ­¤æ¹æ³ã
     * @param {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ã
     */
    serviceProcessCompleted(result) {
        var me = this, analystResult;
        result = Util_Util.transformResult(result);
        if (result && me.format === DataFormat.GEOJSON && typeof me.toGeoJSONResult === 'function') {
            analystResult = me.toGeoJSONResult(result);
        }
        if (!analystResult) {
            analystResult = result;
        }
        me.events.triggerEvent("processCompleted", {result: analystResult});
    }

    /**
     * @function SuperMap.NetworkAnalystServiceBase.prototype.toGeoJSONResult
     * @description å°å«æ geometry çæ°æ®è½¬æ¢ä¸º GeoJSON æ ¼å¼ãåªå¤çç»æä¸­çè·¯ç±ï¼ç±å­ç±»å®ç°ã
     * @param {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ã
     * @returns {Object} GeoJSON å¯¹è±¡ã
     */
    toGeoJSONResult(result) { // eslint-disable-line no-unused-vars
        return null;
    }
}

SuperMap.NetworkAnalystServiceBase = NetworkAnalystServiceBase_NetworkAnalystServiceBase;
// CONCATENATED MODULE: ./src/common/iServer/BurstPipelineAnalystService.js




/**
 * @class SuperMap.BurstPipelineAnalystService
 * @category iServer NetworkAnalyst BurstAnalyse
 * @classdesc çç®¡åææå¡ç±»ï¼å³å°ç»å®å¼§æ®µæèç¹ä½ä¸ºçç®¡ç¹æ¥è¿è¡åæï¼è¿åå³é®ç»ç¹ ID æ°ç»ãæ®éç»ç¹ ID æ°ç»åå¶ä¸ä¸æ¸¸å¼§æ®µ ID æ°ç»ã
 * @extends {SuperMap.NetworkAnalystServiceBase}
 * @param {string} url - ç½ç»åææå¡å°åãè¯·æ±ç½ç»åææå¡ï¼URLåºä¸ºï¼
 *                       http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{ç½ç»åææå¡å}/rest/networkanalyst/{ç½ç»æ°æ®é@æ°æ®æº}ï¼
 *                       ä¾å¦: "http://localhost:8090/iserver/services/test/rest/networkanalyst/WaterNet@FacilityNet"ã
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 */
class BurstPipelineAnalystService_BurstPipelineAnalystService extends NetworkAnalystServiceBase_NetworkAnalystServiceBase {

    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.BurstPipelineAnalystService";
    }

    /**
     * @function SuperMap.BurstPipelineAnalystService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.BurstPipelineAnalystService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @params {SuperMap.BurstPipelineAnalystParameters} params - çç®¡åæåæ°ç±»
     */
    processAsync(params) {
        if (!(params instanceof BurstPipelineAnalystParameters_BurstPipelineAnalystParameters)) {
            return null;
        }
        var me = this, jsonObject;
        var end = me.url.substr(me.url.length - 1, 1);
        me.url = me.url + ((end === "/") ? "burstAnalyse" : "/burstAnalyse") + ".json?";

        jsonObject = {
            sourceNodeIDs: params.sourceNodeIDs,
            isUncertainDirectionValid: params.isUncertainDirectionValid
        };

        //å¿ä¼ åæ°ä¸æ­£ç¡®ï¼å°±ç»æ­¢
        if (params.edgeID !== null && params.nodeID !== null) {
            throw new Error('edgeID and nodeID cannot be null at the same time.');
        }
        if (params.edgeID === null && params.nodeID === null) {
            throw new Error('edgeID and nodeID cannot be null at the same time.');
        }
        if (params.edgeID !== null) {
            jsonObject.edgeID = params.edgeID;
        } else {
            jsonObject.nodeID = params.nodeID;
        }

        me.request({
            method: "GET",
            params: jsonObject,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }


}

SuperMap.BurstPipelineAnalystService = BurstPipelineAnalystService_BurstPipelineAnalystService;
// CONCATENATED MODULE: ./src/common/iServer/ChartFeatureInfoSpecsService.js




/**
 * @class SuperMap.ChartFeatureInfoSpecsService
 * @category  iServer Map Chart
 * @classdesc æµ·å¾ç©æ ä¿¡æ¯æå¡ç±»ï¼éè¿è¯¥æå¡ç±»å¯ä»¥æ¥è¯¢å°æå¡ç«¯æ¯æçæææµ·å¾ç©æ ä¿¡æ¯ã
 *            ç¨æ·å¯ä»¥éè¿ä¸¤ç§æ¹å¼è·åæ¥è¯¢ç»æï¼
 *            ä¸ç§æ¯éè¿çå¬ ChartFeatureInfoSpecsEvent.PROCESS_COMPLETE äºä»¶ï¼
 *            å¦ä¸ç§æ¯ä½¿ç¨ AsyncResponder ç±»å®ç°å¼æ­¥å¤çã
 * @extends {SuperMap.CommonServiceBase}
 * @param {string} url - å°å¾ï¼ç¹ææµ·å¾ï¼æå¡å°åã
 *        å¦ï¼"http://localhost:8090/iserver/services/map-ChartW/rest/maps/æµ·å¾"ã
 *        åéè¯·æ±æ ¼å¼ç±»ä¼¼äºï¼"http://localhost:8090/iserver/services/map-ChartW/rest/maps/æµ·å¾/chartFeatureInfoSpecs.json"ã
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæprocessCompletedå±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailedå±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã
 * @param {SuperMap.ServerType} options.serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã
 * @param {SuperMap.DataFormat} options.format - æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æ iServerJSON å GeoJSON ä¸¤ç§æ ¼å¼ï¼åæ°æ ¼å¼ä¸º"ISERVER","GEOJSON"ã
 */
class ChartFeatureInfoSpecsService_ChartFeatureInfoSpecsService extends CommonServiceBase_CommonServiceBase {

    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.ChartFeatureInfoSpecsService";
    }

    /**
     * @function SuperMap.ChartFeatureInfoSpecsService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        Util_Util.reset(this);
    }

    /**
     * @function SuperMap.ChartFeatureInfoSpecsService.prototype.processAsync
     * @description æ ¹æ®å°å¾ï¼ç¹ææµ·å¾ï¼æå¡å°åä¸æå¡ç«¯å®æå¼æ­¥éè®¯ï¼è·åç©æ ä¿¡æ¯ã
     *              å½æ¥è¯¢ç©æ ä¿¡æ¯æåæ¶ï¼å°è§¦å ChartFeatureInfoSpecsEvent.PROCESS_COMPLETE
     *              äºä»¶ãç¨å¯ä»¥éè¿æ·ä¸¤ç§æ¹å¼è·åå¾å±ä¿¡æ¯:
     *              1. éè¿ AsyncResponder ç±»è·åï¼æ¨èä½¿ç¨ï¼ï¼
     *              2. éè¿çå¬ ChartFeatureInfoSpecsEvent.PROCESS_COMPLETE äºä»¶è·åã
     */
    processAsync() {
        var me = this, method = "GET",
            end = me.url.substr(me.url.length - 1, 1);
        if (!me.isTempLayers) {
            me.url += (end === "/") ? '' : '/';
            me.url += "chartFeatureInfoSpecs.json?";
        } else {
            me.url += ".json?";
        }
        me.request({
            method: method,
            params: null,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }
}

SuperMap.ChartFeatureInfoSpecsService = ChartFeatureInfoSpecsService_ChartFeatureInfoSpecsService;
// CONCATENATED MODULE: ./src/common/iServer/ChartQueryFilterParameter.js



/**
 * @class SuperMap.ChartQueryFilterParameter
 * @category  iServer Map Chart
 * @classdesc æµ·å¾æ¥è¯¢è¿æ»¤åæ°ç±»ï¼ç¨äºè®¾ç½®æµ·å¾æ¥è¯¢çè¿æ»¤åæ°ãåæ¬ï¼ç©æ ä»£ç ãç©æ å¯åºç¨å¯¹è±¡çéæ©ï¼æ¯å¦æ¥è¯¢ç¹ãçº¿æé¢ï¼ãå±æ§å­æ®µè¿æ»¤æ¡ä»¶ã
 * @param {Object} options - åæ°ã 
 * @param {string} options.attributeFilter - å±æ§å­æ®µè¿æ»¤æ¡ä»¶ã 
 * @param {number} options.chartFeatureInfoSpecCode - æ¥è¯¢çç©æ ä»£å·ã
 * @param {boolean} [options.isQueryPoint] - æ¯å¦æ¥è¯¢ç¹ã 
 * @param {boolean} [options.isQueryLine] - æ¯å¦æ¥è¯¢çº¿ã 
 * @param {boolean} [options.isQueryRegion] - æ¯å¦æ¥è¯¢é¢ã 
 */
class ChartQueryFilterParameter_ChartQueryFilterParameter {


    constructor(options) {
        /**
         * @member {boolean} [SuperMap.ChartQueryFilterParameter.prototype.isQueryPoint]
         * @description æ¯å¦æ¥è¯¢ç¹ã
         */
        this.isQueryPoint = null;

        /**
         * @member {boolean} [SuperMap.ChartQueryFilterParameter.prototype.isQueryLine]
         * @description æ¯å¦æ¥è¯¢çº¿ã
         */
        this.isQueryLine = null;

        /**
         * @member {boolean} [SuperMap.ChartQueryFilterParameter.prototype.isQueryRegion]
         * @description æ¯å¦æ¥è¯¢é¢ã
         */
        this.isQueryRegion = null;

        /**
         * @member {string} SuperMap.ChartQueryFilterParameter.prototype.attributeFilter
         * @description å±æ§å­æ®µè¿æ»¤æ¡ä»¶ã
         */
        this.attributeFilter = null;

        /**
         * @member {number} SuperMap.ChartQueryFilterParameter.prototype.chartFeatureInfoSpecCode
         * @description æ¥è¯¢çç©æ ä»£å·ã
         */
        this.chartFeatureInfoSpecCode = null;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.ChartQueryFilterParameter";
    }

    /**
     * @function SuperMap.ChartQueryFilterParameter.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.isQueryPoint = null;
        me.isQueryLine = null;
        me.isQueryRegion = null;
        me.attributeFilter = null;
        me.chartFeatureInfoSpecCode = null;
    }

    /**
     * @function SuperMap.ChartQueryFilterParameter.prototype.toJson
     * @description å°å±æ§ä¿¡æ¯è½¬åæ JSON æ ¼å¼å­ç¬¦ä¸²ã
     */
    toJson() {
        var json = "";
        json += "\"isQueryPoint\":" + this.isQueryPoint + ",";
        json += "\"isQueryLine\":" + this.isQueryLine + ",";
        json += "\"isQueryRegion\":" + this.isQueryRegion + ",";
        if (this.attributeFilter) {
            json += "\"attributeFilter\": \"" + this.attributeFilter + "\",";
        }
        json += "\"chartFeatureInfoSpecCode\":" + this.chartFeatureInfoSpecCode;
        json = "{" + json + "}";
        return json;
    }


}

SuperMap.ChartQueryFilterParameter = ChartQueryFilterParameter_ChartQueryFilterParameter;
// CONCATENATED MODULE: ./src/common/iServer/ChartQueryParameters.js




/**
 * @class SuperMap.ChartQueryParameters
 * @category iServer Map Chart
 * @classdesc æµ·å¾æ¥è¯¢åæ°ç±»ï¼è¯¥ç±»ç¨äºè®¾ç½®æµ·å¾æ¥è¯¢æ¶çç¸å³åæ°ï¼æµ·å¾æ¥è¯¢åä¸ºæµ·å¾å±æ§æ¥è¯¢åæµ·å¾èå´æ¥è¯¢ä¸¤ç±»ï¼éè¿å±æ§ queryMode æå®æ¥è¯¢æ¨¡å¼ã
 *            å¿è®¾å±æ§æï¼queryModeãchartLayerNamesãchartQueryFilterParametersãå½è¿è¡æµ·å¾èå´æ¥è¯¢æ¶ï¼å¿è®¾å±æ§è¿åæ¬ boundsã
 * @param {Object} options - åæ°ã 
 * @param {string} options.queryMode - æµ·å¾æ¥è¯¢æ¨¡å¼ç±»åï¼æ¯æä¸¤ç§æ¥è¯¢æ¹å¼ï¼æµ·å¾å±æ§æ¥è¯¢ï¼"ChartAttributeQuery"ï¼åæµ·å¾ç©ºé´æ¥è¯¢ï¼"ChartBoundsQuery"ï¼ã 
 * @param {Array.<string>} options.chartLayerNames - æ¥è¯¢çæµ·å¾å¾å±çåç§°ã
 * @param {Array.<{SuperMap.ChartQueryFilterParameter}>} options.chartQueryFilterParameters - æµ·å¾æ¥è¯¢è¿æ»¤åæ°ãåæ¬ï¼ç©æ ä»£ç ãç©æ å¯åºç¨å¯¹è±¡çéæ©ï¼æ¯å¦æ¥è¯¢ç¹ãçº¿æé¢ï¼ãå±æ§å­æ®µè¿æ»¤æ¡ä»¶ã 
 * @param {(SuperMap.Bounds|L.Bounds|ol.extent)} [options.bounds] - æµ·å¾æ¥è¯¢èå´ãå½è¿è¡æµ·å¾èå´æ¥è¯¢æ¶ï¼æ­¤åæ°ä¸ºå¿éã
 * @param {boolean} [options.returnContent=true] - è·åæè®¾ç½®æ¯è¿åæ¥è¯¢ç»æè®°å½é recordsetsï¼è¿æ¯è¿åæ¥è¯¢ç»æçèµæº resourceInfoã 
 * @param {number} [options.startRecord=0] - æ¥è¯¢èµ·å§è®°å½ä½ç½®ã 
 * @param {number} [options.expectCount] - æææ¥è¯¢ç»æè¿åçè®°å½æ°ï¼è¯¥å¼å¤§äº0ã
 */
class ChartQueryParameters_ChartQueryParameters {


    constructor(options) {
        /**
         * @member {string} SuperMap.ChartQueryParameters.prototype.queryMode
         * @description æµ·å¾æ¥è¯¢æ¨¡å¼ç±»åï¼æ¯æä¸¤ç§æ¥è¯¢æ¹å¼ï¼æµ·å¾å±æ§æ¥è¯¢ï¼"ChartAttributeQuery"ï¼åæµ·å¾ç©ºé´æ¥è¯¢ï¼"ChartBoundsQuery"ï¼ ã
         */
        this.queryMode = null;

        /**
         * @member {(SuperMap.Bounds|L.Bounds|ol.extent)} SuperMap.ChartQueryParameters.prototype.bounds
         * @description æµ·å¾æ¥è¯¢èå´ã
         */
        this.bounds = null;

        /**
         * @member {Array.<string>} SuperMap.ChartQueryParameters.prototype.chartLayerNames
         * @description æ¥è¯¢çæµ·å¾å¾å±çåç§°ã
         */
        this.chartLayerNames = null;

        /**
         * @member {Array.<SuperMap.ChartQueryFilterParameter>} SuperMap.ChartQueryParameters.prototype.chartQueryFilterParameters
         * @description æµ·å¾æ¥è¯¢è¿æ»¤åæ°ãåæ¬ï¼ç©æ ä»£ç ãç©æ å¯åºç¨å¯¹è±¡çéæ©ï¼æ¯å¦æ¥è¯¢ç¹ãçº¿æé¢ï¼ãå±æ§å­æ®µè¿æ»¤æ¡ä»¶ã
         */
        this.chartQueryFilterParameters = null;

        /**
         * @member {boolean} [SuperMap.ChartQueryParameters.prototype.returnContent=true]
         * @description è·åæè®¾ç½®æ¯è¿åæ¥è¯¢ç»æè®°å½é recordsetsï¼è¿æ¯è¿åæ¥è¯¢ç»æçèµæº resourceInfoã
         */
        this.returnContent = true;

        /**
         * @member {number} [SuperMap.ChartQueryParameters.prototype.startRecord=0]
         * @description æ¥è¯¢èµ·å§è®°å½ä½ç½®ã
         */
        this.startRecord = 0;

        /**
         * @member {number} [SuperMap.ChartQueryParameters.prototype.expectCount]
         * @description æææ¥è¯¢ç»æè¿åçè®°å½æ°ï¼è¯¥å¼å¤§äº0ã
         */
        this.expectCount = null;
        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.ChartQueryParameters";
    }

    /**
     * @function SuperMap.ChartQueryParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.queryMode = null;
        me.bounds = null;
        me.chartLayerNames = null;
        me.chartQueryFilterParameters = null;
        me.returnContent = true;
        me.startRecord = 0;
        me.expectCount = null;
    }

    /**
     * @function SuperMap.ChartQueryParameters.prototype.getVariablesJson
     * @description å°å±æ§ä¿¡æ¯è½¬æ¢æè½å¤è¢«æå¡è¯å«ç JSON æ ¼å¼å­ç¬¦ä¸²ã
     * @returns {string} JSON å­ç¬¦ä¸²ã
     */
    getVariablesJson() {
        var json = "";

        json += "\"queryMode\":\"" + this.queryMode + "\",";

        if (this.chartLayerNames && this.chartLayerNames.length) {
            var chartLayersArray = [];
            var layerLength = this.chartLayerNames.length;
            for (var i = 0; i < layerLength; i++) {
                chartLayersArray.push("\"" + this.chartLayerNames[i] + "\"");
            }
            var layerNames = "[" + chartLayersArray.join(",") + "]";
            json += "\"chartLayerNames\":" + layerNames + ",";
        }

        if (this.queryMode === "ChartBoundsQuery" && this.bounds) {
            json += "\"bounds\":" + "{" + "\"leftBottom\":" + "{" + "\"x\":" + this.bounds.left + "," +
                "\"y\":" + this.bounds.bottom + "}" + "," + "\"rightTop\":" + "{" + "\"x\":" + this.bounds.right + "," +
                "\"y\":" + this.bounds.top + "}" + "},";
        }

        if (this.chartQueryFilterParameters && this.chartQueryFilterParameters.length) {
            var chartParamArray = [];
            var chartLength = this.chartQueryFilterParameters.length;
            for (var j = 0; j < chartLength; j++) {
                var chartQueryFilterParameter = this.chartQueryFilterParameters[j];
                if (!(chartQueryFilterParameter instanceof ChartQueryFilterParameter_ChartQueryFilterParameter)) {
                    continue;
                }
                chartParamArray.push(chartQueryFilterParameter.toJson());
            }
            var chartParamsJson = "[" + chartParamArray.join(",") + "]";
            chartParamsJson = "\"chartQueryParams\":" + chartParamsJson + ",";
            chartParamsJson += "\"startRecord\":" + this.startRecord + ",";
            chartParamsJson += "\"expectCount\":" + this.expectCount;
            chartParamsJson = "{" + chartParamsJson + "}";
            json += "\"chartQueryParameters\":" + chartParamsJson;
        }
        json = "{" + json + "}";
        return json;
    }
}

SuperMap.ChartQueryParameters = ChartQueryParameters_ChartQueryParameters;
// CONCATENATED MODULE: ./src/common/iServer/QueryParameters.js





/**
 * @class SuperMap.QueryParameters
 * @category  iServer Map QueryResults
 * @classdesc æ¥è¯¢åæ°åºç±»ãè·ç¦»æ¥è¯¢ãSQL æ¥è¯¢ãå ä½å°ç©æ¥è¯¢ç­åèªçåæ°åç»§æ¿æ­¤ç±»ã
 * @param {Object} options - åæ°ã
 * @param {Array.<SuperMap.FilterParameter>} options.queryParams - æ¥è¯¢è¿æ»¤æ¡ä»¶åæ°æ°ç»ã
 * @param {string} [options.customParams] - èªå®ä¹åæ°ï¼ä¾æ©å±ä½¿ç¨ã
 * @param {Object} [options.prjCoordSys] - èªå®ä¹åæ°ï¼ä¾ SuperMap Online æä¾çå¨ææå½±æ¥è¯¢æ©å±ä½¿ç¨ãå¦ {"epsgCode":3857}ã
 * @param {number} [options.expectCount=10000] - ææè¿åç»æè®°å½ä¸ªæ°ã
 * @param {SuperMap.GeometryType} [options.networkType=SuperMap.GeometryType.LINE] - ç½ç»æ°æ®éå¯¹åºçæ¥è¯¢ç±»åã
 * @param {SuperMap.QueryOption} [options.queryOption=SuperMap.ATTRIBUTEANDGEOMETRY] - æ¥è¯¢ç»æç±»åæä¸¾ç±»ã
 * @param {number} [options.startRecord=0] - æ¥è¯¢èµ·å§è®°å½å·ã
 * @param {number} [options.holdTime=10] - èµæºå¨æå¡ç«¯ä¿å­çæ¶é´,åä½ä¸ºåéã
 * @param {boolean} [options.returnCustomResult=false] - ä»ä¾ä¸ç»´ä½¿ç¨ã
 */
class QueryParameters_QueryParameters {


    constructor(options) {
        if (!options) {
            return;
        }
        /**
         * @member {string} [SuperMap.QueryParameters.prototype.customParams]
         * @description èªå®ä¹åæ°ï¼ä¾æ©å±ä½¿ç¨ã
         */
        this.customParams = null;

        /**
         * @member {Object} [SuperMap.QueryParameters.prototype.prjCoordSys]
         * @description èªå®ä¹åæ°ï¼ä¾ SuperMap Online æä¾çå¨ææå½±æ¥è¯¢æ©å±ä½¿ç¨ãå¦ {"epsgCode":3857}
         */
        this.prjCoordSys = null;

        /**
         * @member {number} [SuperMap.QueryParameters.prototype.expectCount=100000]
         * @description ææè¿åç»æè®°å½ä¸ªæ°ï¼é»è®¤è¿å100000æ¡æ¥è¯¢è®°å½ï¼
         *              å¦æå®éä¸è¶³100000æ¡åè¿åå®éè®°å½æ¡æ°ã
         */
        this.expectCount = 100000;

        /**
         * @member {SuperMap.GeometryType} [SuperMap.QueryParameters.prototype.networkType=SuperMap.GeometryType.LINE]
         * @description ç½ç»æ°æ®éå¯¹åºçæ¥è¯¢ç±»åï¼åä¸ºç¹åçº¿ä¸¤ç§ç±»åã
         */
        this.networkType = GeometryType.LINE;

        /**
         * @member {SuperMap.QueryOption} [SuperMap.QueryParameters.prototype.queryOption=SuperMap.QueryOption.ATTRIBUTEANDGEOMETRY]
         * @description æ¥è¯¢ç»æç±»åæä¸¾ç±»ã
         *              è¯¥ç±»æè¿°æ¥è¯¢ç»æè¿åç±»åï¼åæ¬åªè¿åå±æ§ã
         *              åªè¿åå ä½å®ä½ä»¥åè¿åå±æ§åå ä½å®ä½ã
         */
        this.queryOption = QueryOption.ATTRIBUTEANDGEOMETRY;

        /**
         * @member {Array.<SuperMap.FilterParameter>} SuperMap.QueryParameters.prototype.queryParams
         * @description æ¥è¯¢è¿æ»¤æ¡ä»¶åæ°æ°ç»ã
         *              è¯¥ç±»ç¨äºè®¾ç½®æ¥è¯¢æ°æ®éçæ¥è¯¢è¿æ»¤åæ°ã
         */
        this.queryParams = null;

        /**
         * @member {number} [SuperMap.QueryParameters.prototype.startRecord=0]
         * @description æ¥è¯¢èµ·å§è®°å½å·ã
         */
        this.startRecord = 0;

        /**
         * @member {number} [SuperMap.QueryParameters.prototype.holdTime=10]
         * @description èµæºå¨æå¡ç«¯ä¿å­çæ¶é´ï¼åä½ä¸ºåéã
         */
        this.holdTime = 10;

        /**
         * @member {boolean} [SuperMap.QueryParameters.prototype.returnCustomResult=false]
         * @description ä»ä¾ä¸ç»´ä½¿ç¨ã
         */
        this.returnCustomResult = false;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.QueryParameters";
    }

    /**
     * @function SuperMap.QueryParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.customParams = null;
        me.expectCount = null;
        me.networkType = null;
        me.queryOption = null;
        if (me.queryParams) {
            for (var i = 0, qps = me.queryParams, len = qps.length; i < len; i++) {
                qps[i].destroy();
            }
            me.queryParams = null;
        }
        me.startRecord = null;
        me.holdTime = null;
        me.returnCustomResult = null;
        me.prjCoordSys = null;
    }

}

SuperMap.QueryParameters = QueryParameters_QueryParameters;
// CONCATENATED MODULE: ./src/common/iServer/ChartQueryService.js








/**
 * @class SuperMap.ChartQueryService
 * @category  iServer Map Chart
 * @classdesc æµ·å¾æ¥è¯¢æå¡ç±»ãè¯¥ç±»è´è´£å°æµ·å¾æ¥è¯¢æéåæ°ï¼ChartQueryParametersï¼ä¼ éè³æå¡ç«¯ï¼å¹¶è·åæå¡ç«¯çè¿åç»æã
 *      ç¨æ·å¯ä»¥éè¿ä¸¤ç§æ¹å¼è·åæ¥è¯¢ç»æï¼
 *      1.éè¿ AsyncResponder ç±»è·åï¼æ¨èä½¿ç¨ï¼ï¼
 *      2.éè¿çå¬ QueryEvent.PROCESS_COMPLETE äºä»¶è·åã
 * @extends {SuperMap.CommonServiceBase}
 * @param {string} url - å°å¾æ¥è¯¢æå¡è®¿é®å°åãå¦ï¼"http://192.168.168.35:8090/iserver/services/map-ChartW/rest/maps/æµ·å¾"ã
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæprocessCompletedå±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailedå±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã
 * @param {SuperMap.ServerType} options.serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã
 * @param {SuperMap.DataFormat} options.format - æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æ iServerJSON å GeoJSON ä¸¤ç§æ ¼å¼ãåæ°æ ¼å¼ä¸º"ISERVER","GEOJSON"ã
 * @example
 * ä¸é¢ç¤ºä¾æ¾ç¤ºäºå¦ä½è¿è¡æµ·å¾å±æ§æ¥è¯¢ï¼
 * var nameArray = ["GB4X0000_52000"];
 * var chartQueryFilterParameter = new ChartQueryFilterParameter({
 *       isQueryPoint:true,
 *        isQueryLine:true,
 *        isQueryRegion:true,
 *        attributeFilter:"SmID<10",
 *        chartFeatureInfoSpecCode:1
 *    });
 *
 * var chartQueryParameters = new SuperMap.ChartQueryParameters({
 *        queryMode:"ChartAttributeQuery",
 *        chartLayerNames:nameArray,
 *        returnContent:true,
 *        chartQueryFilterParameters:[chartQueryFilterParameter]
 *    });
 *
 * var chartQueryService = new SuperMap.ChartQueryService(url);
 *
 * chartQueryService.events.on({
 *        "processCompleted":processCompleted,
 *        "processFailed":processFailed
 *    });
 * chartQueryService.processAsync(chartQueryParameters);
 */
class ChartQueryService_ChartQueryService extends CommonServiceBase_CommonServiceBase {


    constructor(url, options) {
        super(url, options);
        options = options || {};

        /**
         * @member {boolean} SuperMap.ChartQueryService.prototype.returnContent
         * @description æ¯å¦ç«å³è¿åæ°åå»ºèµæºçè¡¨è¿°è¿æ¯è¿åæ°èµæºçURIã
         */
        this.returnContent = null;

        /**
         * @member {SuperMap.DataFormat} SuperMap.ChartQueryService.prototype.format
         * @description æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æiServerJSON åGeoJSONä¸¤ç§æ ¼å¼
         *              åæ°æ ¼å¼ä¸º"ISERVER","GEOJSON",GEOJSON
         */
        this.format = DataFormat.GEOJSON;

        if (options) {
            Util_Util.extend(this, options);
        }
        var me = this, end;
        if (options && options.format) {
            me.format = options.format.toUpperCase();
        }

        if (!me.url) {
            return;
        }
        end = me.url.substr(me.url.length - 1, 1);

        // TODO å¾iServer featureResulèµæºGeoJSONè¡¨è¿°bugä¿®å¤å½ä½¿ç¨ä»¥ä¸æ³¨éæçé»è¾
        // if (me.format==="geojson") {
        //     me.url += (end == "/") ? "featureResults.geojson?" : "/featureResults.geojson?";
        // } else {
        //     me.url += (end == "/") ? "featureResults.json?" : "/featureResults.json?";
        // }
        me.url += (end === "/") ? "queryResults.json?" : "/queryResults.json?";

        this.CLASS_NAME = "SuperMap.ChartQueryService";
    }


    /**
     * @function SuperMap.ChartQueryService.prototype.destroy
     * @override
     */
    destroy() {
        var me = this;
        CommonServiceBase_CommonServiceBase.prototype.destroy.apply(this, arguments);
        me.returnContent = null;
        me.format = null;
    }


    /**
     * @function SuperMap.ChartQueryService.prototype.processAsync
     * @description ä½¿ç¨æå¡å°å URL å®ä¾å ChartQueryService å¯¹è±¡ã
     * @param {SuperMap.ChartQueryParameters} params - æ¥è¯¢åæ°ã
     */
    processAsync(params) {
        //todoéç¹éè¦æ·»å ä»£ç çå°æ¹
        if (!(params instanceof ChartQueryParameters_ChartQueryParameters)) {
            return;
        }
        var me = this, jsonParameters;
        me.returnContent = params.returnContent;
        jsonParameters = params.getVariablesJson();
        if (me.returnContent) {
            me.url += "returnContent=" + me.returnContent;
        }
        me.request({
            method: "POST",
            data: jsonParameters,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }


    /**
     * @function SuperMap.ChartQueryService.prototype.serviceProcessCompleted
     * @description æ¥è¯¢å®æï¼æ§è¡æ­¤æ¹æ³ã
     * @param {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ã
     */
    serviceProcessCompleted(result) {
        var me = this;
        result = Util_Util.transformResult(result);
        if (result && result.recordsets && me.format === DataFormat.GEOJSON) {
            for (var i = 0, recordsets = result.recordsets, len = recordsets.length; i < len; i++) {
                if (recordsets[i].features) {
                    var geoJSONFormat = new GeoJSON_GeoJSON();
                    recordsets[i].features = JSON.parse(geoJSONFormat.write(recordsets[i].features));
                }
            }

        }
        me.events.triggerEvent("processCompleted", {result: result});
    }

    /**
     * @function SuperMap.ChartQueryService.prototype.getQueryParameters
     * @description å° JSON å¯¹è±¡è¡¨ç¤ºçæ¥è¯¢åæ°è½¬åä¸º QueryParameters å¯¹è±¡ã
     * @param {Object} params - JSON å­ç¬¦ä¸²è¡¨ç¤ºçæ¥è¯¢åæ°ã
     * @returns {SuperMap.QueryParameters} è¿åæ¥è¯¢ç»æ
     */
    getQueryParameters(params) {
        return new QueryParameters_QueryParameters({
            queryMode: params.queryMode,
            bounds: params.bounds,
            chartLayerNames: params.chartLayerNames,
            chartQueryFilterParameters: params.chartQueryFilterParameters,
            returnContent: params.returnContent
        });
    }
}

SuperMap.ChartQueryService = ChartQueryService_ChartQueryService;
// CONCATENATED MODULE: ./src/common/iServer/ClipParameter.js




/**
 * @class SuperMap.ClipParameter
 * @category iServer SpatialAnalyst Interpolation
 * @classdesc ç¨äºè£åªçåæ°ã
 * @description ä¼åä½¿ç¨ç¨æ·æå®çè£åªåºåå¤è¾¹å½¢è¿è¡è£åªï¼ä¹å¯ä»¥éè¿æå®æ°æ®æºåæ°æ®éåï¼ä»èä½¿ç¨æå®æ°æ®éçè¾¹çå¤è¾¹å½¢è¿è¡è£åªã
 * @param {Object} options - åæ°ã 
 * @param {string} [options.clipDatasetName] - è£åªçæ°æ®éåã 
 * @param {string} [options.clipDatasourceName] - è£åªçæ°æ®éæå¨æ°æ®æºçåå­ã 
 * @param {(SuperMap.Geometry.Polygon|L.Polygon|L.GeoJSON|ol.geom.Polygon|ol.format.GeoJSON)} [options.clipRegion] - ç¨æ·æå®çè£åªåºåã 
 * @param {boolean} [options.isClipInRegion=true] - æ¯å¦å¯¹è£åªåºåçæ°æ®éè¿è¡è£åªã 
 * @param {boolean} [options.isExactClip=true] - æ¯å¦ä½¿ç¨ç²¾ç¡®è£åªã
 */
class ClipParameter_ClipParameter {


    constructor(options) {
        /**
         * @member {string} SuperMap.ClipParameter.prototype.clipDatasetName
         * @description ç¨äºè£åªçæ°æ®éåï¼clipDatasetName ä¸ clipRegion å¿é¡»è®¾ç½®ä¸ä¸ªã
         */
        this.clipDatasetName = null;

        /**
         * @member {string} SuperMap.ClipParameter.prototype.clipDatasourceName
         * @description ç¨äºè£åªçæ°æ®éæå¨æ°æ®æºçåå­ãå½ clipRegion ä¸è®¾ç½®æ¶èµ·ä½ç¨ã
         */
        this.clipDatasourceName = null;

        /**
         * @member {(SuperMap.Geometry.Polygon|L.Polygon|L.GeoJSON|ol.geom.Polygon|ol.format.GeoJSON)} SuperMap.ClipParameter.prototype.clipRegion
         * @description ç¨æ·æå®çè£åªåºåï¼ä¼åä½¿ç¨ï¼clipDatasetName ä¸ clipRegion å¿é¡»è®¾ç½®ä¸ä¸ªã 
         */
        this.clipRegion = null;

        /**
         * @member {boolean} [SuperMap.ClipParameter.prototype.isClipInRegion=true]
         * @description æ¯å¦å¯¹è£åªåºåçæ°æ®éè¿è¡è£åªãè¥ä¸º trueï¼åå¯¹è£åªåºååçç»æè¿è¡è£åªï¼è¥ä¸º falseï¼åå¯¹è£åªåºåå¤çç»æè¿è¡è£åªã 
         */
        this.isClipInRegion = true;

        /**
         * @member {boolean} [SuperMap.ClipParameter.prototype.isExactClip=true]
         * @description æ¯å¦ä½¿ç¨ç²¾ç¡®è£åªã
         */
        this.isExactClip = null;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.ClipParameter";
    }


    /**
     * @function SuperMap.ClipParameter.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.clipDatasetName = null;
        me.clipDatasourceName = null;
        me.clipRegion = null;
        me.isClipInRegion = null;
        me.isExactClip = null;
    }


    /**
     * @function SuperMap.ClipParameter.prototype.toJSON
     * @description å° ClipParameter å¯¹è±¡è½¬åä¸º JSON å­ç¬¦ä¸²ã
     * @returns {string} è¿åè½¬æ¢åç JSON å­ç¬¦ä¸²ã
     */
    toJSON() {
        if (this.isClipInRegion == false) {
            return null;
        }
        var strClipParameter = "";
        var me = this;

        strClipParameter += "'isClipInRegion':" + Util_Util.toJSON(me.isClipInRegion);

        if (me.clipDatasetName != null) {
            strClipParameter += "," + "'clipDatasetName':" + Util_Util.toJSON(me.clipDatasetName);
        }

        if (me.clipDatasourceName != null) {
            strClipParameter += "," + "'clipDatasourceName':" + Util_Util.toJSON(me.clipDatasourceName);
        }

        if (me.isExactClip != null) {
            strClipParameter += "," + "'isExactClip':" + Util_Util.toJSON(me.isExactClip);
        }

        if (me.clipRegion != null) {
            var serverGeometry = ServerGeometry_ServerGeometry.fromGeometry(me.clipRegion);
            if (serverGeometry) {
                var pointsCount = serverGeometry.parts[0];
                var point2ds = serverGeometry.points.splice(0, pointsCount);
                strClipParameter += "," + "'clipRegion':" + "{\"point2Ds\":";
                strClipParameter += Util_Util.toJSON(point2ds);
                strClipParameter += "}";
            }
        }
        return "{" + strClipParameter + "}";
    }

}

SuperMap.ClipParameter = ClipParameter_ClipParameter;
// CONCATENATED MODULE: ./src/common/iServer/ColorDictionary.js




/**
 * @class SuperMap.ColorDictionary
 * @category  iServer Map Theme
 * @classdesc é¢è²å¯¹ç§è¡¨ç±»ã
 * @description é¢è²å¯¹ç§è¡¨ä¸­çé®åä¸ºå·ä½çé«ç¨å¼ï¼é®å¼è¡¨ç¤ºè¯¥é«ç¨å¼è¦æ¾ç¤ºçé¢è²ãå¯¹äºæ æ ¼å¾å±ä¸­é«ç¨å¼å°äºé¢è²å¯¹ç§è¡¨ä¸­é«ç¨æå°å¼çç¹ä½¿ç¨é¢è²å¯¹ç§è¡¨ä¸­é«ç¨æå°å¼å¯¹åºçé¢è²ï¼å¯¹äºæ æ ¼å¾å±ä¸­é«ç¨å¼å¤§äºé¢è²å¯¹ç§è¡¨ä¸­é«ç¨æå¤§å¼çç¹ä½¿ç¨é¢è²å¯¹ç§è¡¨ä¸­é«ç¨æå¤§å¼å¯¹åºçé¢è²ï¼å¯¹äºæ æ ¼å¾å±ä¸­é«ç¨å¼å¨é¢è²å¯¹ç§è¡¨ä¸­æ²¡æå¯¹åºé¢è²çç¹ï¼åæ¥æ¾é¢è²å¯¹ç§è¡¨ä¸­ä¸å½åé«ç¨å¼ç¸é»çä¸¤ä¸ªé«ç¨å¯¹åºçé¢è²ï¼ç¶åéè¿æ¸åè¿ç®è¦æ¾ç¤ºçé¢è²ãå¦æè®¾ç½®äºé¢è²å¯¹ç§è¡¨çè¯ï¼åé¢è²è¡¨è®¾ç½®æ æã
 * @param {Object} options - åæ°ã 
 * @param {number} options.elevation - é«ç¨å¼ã 
 * @param {SuperMap.ServerColor} options.color - æå¡ç«¯é¢è²ç±»ã
 */
class ColorDictionary_ColorDictionary {


    constructor(options) {
        options = options || {};

        /**
         * @member {number} SuperMap.ColorDictionary.prototype.elevation
         * @description é«ç¨å¼ã
         */
        this.elevation = null;

        /**
         * @member {SuperMap.ServerColor} SuperMap.ColorDictionary.prototype.color
         * @description æå¡ç«¯é¢è²ç±»ã
         */
        this.color = null;

        Util_Util.extend(this, options);

        var me = this,
            c = me.color;
        if (c) {
            me.color = new ServerColor(c.red, c.green, c.blue);
        }

        this.CLASS_NAME = "SuperMap.ColorDictionary";
    }

    /**
     * @function SuperMap.ColorDictionary.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        Util_Util.reset(this);
    }

    /**
     * @function SuperMap.ColorDictionary.prototype.toServerJSONObject
     * @description è½¬æ¢æå¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     * @returns {Object} JSON å¯¹è±¡ã
     */
    toServerJSONObject() {
        var dataObj = {};
        dataObj = Util_Util.copyAttributes(dataObj, this);
        return dataObj;
    }
}

SuperMap.ColorDictionary = ColorDictionary_ColorDictionary;


// CONCATENATED MODULE: ./src/common/iServer/TransportationAnalystResultSetting.js



/**
 * @class SuperMap.TransportationAnalystResultSetting
 * @category  iServer NetworkAnalyst
 * @classdesc äº¤éç½ç»åæç»æåæ°ç±»ã
 * @description éè¿è¯¥ç±»è®¾ç½®äº¤éç½ç»åæè¿åçç»æï¼åæ¬æ¯å¦è¿åå¾çãæ¯å¦è¿åå¼§æ®µç©ºé´ä¿¡æ¯ãæ¯å¦è¿åç»ç¹ç©ºé´ä¿¡æ¯ç­ã
 * @param {Object} options - åæ°ã
 * @param {boolean} [options.returnEdgeFeatures=false] - æ¯å¦å¨åæç»æä¸­åå«å¼§æ®µè¦ç´ éåã
 * @param {boolean} [options.returnEdgeGeometry=false] - è¿åçå¼§æ®µè¦ç´ éåä¸­æ¯å¦åå«å ä½å¯¹è±¡ä¿¡æ¯ã
 * @param {boolean} [options.returnEdgeIDs=false] - è¿åç»æä¸­æ¯å¦åå«ç»è¿å¼§æ®µ ID éåã
 * @param {boolean} [options.returnNodeFeatures=false] - æ¯å¦å¨åæç»æä¸­åå«ç»ç¹è¦ç´ éåã
 * @param {boolean} [options.returnNodeGeometry=false] - è¿åçç»ç¹è¦ç´ éåä¸­æ¯å¦åå«å ä½å¯¹è±¡ä¿¡æ¯ã
 * @param {boolean} [options.returnNodeIDs=false] - è¿åç»æä¸­æ¯å¦åå«ç»è¿ç»ç¹ ID éåã
 * @param {boolean} [options.returnPathGuides=false] - è¿ååæç»æä¸­æ¯å¦åå«è¡é©¶å¯¼å¼éåã
 * @param {boolean} [options.returnRoutes=false] - è¿ååæç»æä¸­æ¯å¦åå«è·¯ç±å¯¹è±¡çéåã
 */
class TransportationAnalystResultSetting_TransportationAnalystResultSetting {

    constructor(options) {
        if (!options) {
            return;
        }

        /**
         * @member {boolean} SuperMap.TransportationAnalystResultSetting.prototype.returnEdgeFeatures
         * @description æ¯å¦å¨åæç»æä¸­åå«å¼§æ®µè¦ç´ éåãå¼§æ®µè¦ç´ åæ¬å¼§æ®µçç©ºé´ä¿¡æ¯åå±æ§ä¿¡æ¯ã
         */
        this.returnEdgeFeatures = false;

        /**
         * @member {boolean} [SuperMap.TransportationAnalystResultSetting.prototype.returnEdgeGeometry=false]
         * @description è¿åçå¼§æ®µè¦ç´ éåä¸­æ¯å¦åå«å ä½å¯¹è±¡ä¿¡æ¯ã
         */
        this.returnEdgeGeometry = false;

        /**
         * @member {boolean} [SuperMap.TransportationAnalystResultSetting.prototype.returnEdgeIDs=false]
         * @description è¿åç»æä¸­æ¯å¦åå«ç»è¿å¼§æ®µ ID éåã
         */
        this.returnEdgeIDs = false;

        /**
         * @member {boolean} [SuperMap.TransportationAnalystResultSetting.prototype.returnNodeFeatures=false]
         * @description æ¯å¦å¨åæç»æä¸­åå«ç»ç¹è¦ç´ éåã
         * ç»ç¹è¦ç´ åæ¬ç»ç¹çç©ºé´ä¿¡æ¯åå±æ§ä¿¡æ¯ãå¶ä¸­è¿åçç»ç¹è¦ç´ æ¯å¦åå«ç©ºé´ä¿¡æ¯å¯éè¿ returnNodeGeometry å­æ®µè®¾ç½®ã
         */
        this.returnNodeFeatures = false;

        /**
         * @member {boolean} [SuperMap.TransportationAnalystResultSetting.prototype.returnNodeGeometry=false]
         * @description è¿åçç»ç¹è¦ç´ éåä¸­æ¯å¦åå«å ä½å¯¹è±¡ä¿¡æ¯ã
         */
        this.returnNodeGeometry = false;

        /**
         * @member {boolean} [SuperMap.TransportationAnalystResultSetting.prototype.returnNodeIDs=false]
         * @description è¿åç»æä¸­æ¯å¦åå«ç»è¿ç»ç¹ ID éåã
         */
        this.returnNodeIDs = false;

        /**
         * @member {boolean} SuperMap.TransportationAnalystResultSetting.prototype.returnPathGuides
         * @description è¿ååæç»æä¸­æ¯å¦åå«è¡é©¶å¯¼å¼éåã
         */
        this.returnPathGuides = false;

        /**
         * @member {boolean} SuperMap.TransportationAnalystResultSetting.prototype.returnRoutes
         * @description è¿ååæç»æä¸­æ¯å¦åå«è·¯ç±å¯¹è±¡çéåã
         */
        this.returnRoutes = false;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.TransportationAnalystResultSetting";
    }

    /**
     * @function SuperMap.TransportationAnalystResultSetting.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.returnEdgeFeatures = null;
        me.returnEdgeGeometry = null;
        me.returnEdgeIDs = null;
        me.returnNodeFeatures = null;
        me.returnNodeGeometry = null;
        me.returnNodeIDs = null;
        me.returnPathGuides = null;
        me.returnRoutes = null;
    }

}

SuperMap.TransportationAnalystResultSetting = TransportationAnalystResultSetting_TransportationAnalystResultSetting;
// CONCATENATED MODULE: ./src/common/iServer/TransportationAnalystParameter.js




/**
 * @class SuperMap.TransportationAnalystParameter
 * @category  iServer NetworkAnalyst
 * @classdesc äº¤éç½ç»åæéç¨åæ°ç±»ã
 * @description è¯¥ç±»ä¸»è¦ç¨æ¥æä¾äº¤éç½ç»åææéçéç¨åæ°ã
 * éè¿æ¬ç±»å¯ä»¥è®¾ç½®éç¢è¾¹ãéç¢ç¹ãæå¼å­æ®µä¿¡æ¯çåç§°æ è¯ãè½¬åæå¼å­æ®µç­ä¿¡æ¯ï¼è¿å¯ä»¥å¯¹åæç»æåå«çåå®¹è¿è¡ä¸äºè®¾ç½®ã
 * @param {Object} options - åæ°ã
 * @param {Array.<number>} options.barrierEdgeIDs - ç½ç»åæä¸­éç¢å¼§æ®µç ID æ°ç»ã
 * @param {Array.<number>} options.barrierNodeIDs - ç½ç»åæä¸­éç¢ç¹ç ID æ°ç»ã
 * @param {string} options.turnWeightField - è½¬åæéå­æ®µçåç§°ã
 * @param {SuperMap.TransportationAnalystResultSetting} options.resultSetting - åæç»æè¿ååå®¹ã
 * @param {Array.<(SuperMap.Geometry.Point|L.Point|L.LatLng|ol.geom.Point)>} [options.barrierPoints] - ç½ç»åæä¸­ Point2D ç±»åçéç¢ç¹æ°ç»ã
 * @param {string} [options.weightFieldName] - é»åå­æ®µçåç§°ã
 */
class TransportationAnalystParameter_TransportationAnalystParameter {

    constructor(options) {

        if (!options) {
            return;
        }
        /**
         * @member {Array.<number>} SuperMap.TransportationAnalystParameter.prototype.barrierEdgeIDs
         * @description ç½ç»åæä¸­éç¢å¼§æ®µç ID æ°ç»ãå¼§æ®µè®¾ç½®ä¸ºéç¢è¾¹ä¹åï¼è¡¨ç¤ºååé½ä¸éã
         */
        this.barrierEdgeIDs = null;

        /**
         * @member {Array.<number>} SuperMap.TransportationAnalystParameter.prototype.barrierNodeIDs
         * @description ç½ç»åæä¸­éç¢ç¹ç ID æ°ç»ãç»ç¹è®¾ç½®ä¸ºéç¢ç¹ä¹åï¼è¡¨ç¤ºä»»ä½æ¹åé½ä¸è½éè¿æ­¤ç»ç¹ã
         */
        this.barrierNodeIDs = null;

        /**
         * @member {Array.<(SuperMap.Geometry.Point|L.Point|L.LatLng|ol.geom.Point)>}  SuperMap.TransportationAnalystParameter.prototype.barrierPoints
         * @description ç½ç»åæä¸­ Point2D ç±»åçéç¢ç¹æ°ç»ãéç¢ç¹è¡¨ç¤ºä»»ä½æ¹åé½ä¸è½éè¿æ­¤ç¹ã</br>
         * å½åç½ç»åæåæ°ç±»ä¸­ç isAnalyzeById å±æ§è®¾ç½®ä¸º false æ¶ï¼è¯¥å±æ§æçæã
         */
        this.barrierPoints = null;

        /**
         * @member {string} [SuperMap.TransportationAnalystParameter.prototype.weightFieldName]
         * @description é»åå­æ®µçåç§°ï¼æ è¯äºè¿è¡ç½ç»åææ¶æä½¿ç¨çé»åå­æ®µï¼ä¾å¦è¡¨ç¤ºæ¶é´ãé¿åº¦ç­çå­æ®µé½å¯ä»¥ç¨ä½é»åå­æ®µã
         * è¯¥å­æ®µé»å¼ä¸ºæå¡å¨åå¸çææèè´¹å­æ®µçç¬¬ä¸ä¸ªå­æ®µã
         */
        this.weightFieldName = null;

        /**
         * @member {string} SuperMap.TransportationAnalystParameter.prototype.turnWeightField
         * @description è½¬åæéå­æ®µçåç§°ã
         */
        this.turnWeightField = null;

        /**
         *  @member {SuperMap.TransportationAnalystResultSetting} SuperMap.TransportationAnalystParameter.prototype.resultSetting
         *  @description åæç»æè¿ååå®¹ã
         */
        this.resultSetting = new TransportationAnalystResultSetting_TransportationAnalystResultSetting();

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.TransportationAnalystParameter";
    }

    /**
     * @function SuperMap.TransportationAnalystParameter.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.barrierEdgeIDs = null;
        me.barrierNodeIDs = null;
        me.weightFieldName = null;
        me.turnWeightField = null;
        if (me.resultSetting) {
            me.resultSetting.destroy();
            me.resultSetting = null;
        }
        if (me.barrierPoints && me.barrierPoints.length) {
            for (var i in me.barrierPoints) {
                me.barrierPoints[i].destroy();
            }
        }
        me.barrierPoints = null;
    }

}

SuperMap.TransportationAnalystParameter = TransportationAnalystParameter_TransportationAnalystParameter;
// CONCATENATED MODULE: ./src/common/iServer/ComputeWeightMatrixParameters.js




/**
 * @class SuperMap.ComputeWeightMatrixParameters
 * @category iServer NetworkAnalyst WeightMatrix
 * @classdesc èè´¹ç©éµåæåæ°ç±»ãæ ¹æ®äº¤éç½ç»åæåæ°ä¸­çèè´¹å­æ®µè¿åä¸ä¸ªèè´¹ç©éµãè¯¥ç©éµæ¯ä¸ä¸ªäºç»´æ°ç»ï¼ç¨æ¥å­å¨ä»»æä¸¤ç¹é´çèµæºæ¶èã
 * @param {Object} options - åæ°ã 
 * @param {boolean} [options.isAnalyzeById=false] - æ¯å¦éè¿èç¹ ID æå®è·¯å¾åæçç»ç¹ã 
 * @param {Array.<SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point|number>} options.nodes - è¦è®¡ç®èè´¹ç©éµçç¹æ°ç»ã 
 * @param {SuperMap.TransportationAnalystParameter} [options.parameter] - äº¤éç½ç»åæéç¨åæ°ã
 */
class ComputeWeightMatrixParameters_ComputeWeightMatrixParameters {


    constructor(options) {
        /**
         * @member {boolean} [SuperMap.ComputeWeightMatrixParameters.prototype.isAnalyzeById=false]
         * @description æ¯å¦éè¿èç¹ ID æå®è·¯å¾åæçç»ç¹ï¼å³éè¿åæ ç¹æå®ã
         */
        this.isAnalyzeById = false;

        /**
         * @member {Array.<SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point|number>} SuperMap.ComputeWeightMatrixParameters.prototype.nodes
         * @description è¦è®¡ç®èè´¹ç©éµçç¹æ°ç»ã
         *              å½ {@link SuperMap.ComputeWeightMatrixParameters.isAnalyzeById} = false æ¶ï¼nodes åºä¸ºç¹çåæ æ°ç»ï¼
         *              å½ {@link SuperMap.ComputeWeightMatrixParameters.isAnalyzeById} = true æ¶ï¼nodes åºä¸ºç¹ç ID æ°ç»ã
         */
        this.nodes = null;

        /**
         * @member {SuperMap.TransportationAnalystParameter} SuperMap.ComputeWeightMatrixParameters.prototype.parameter
         * @description äº¤éç½ç»åæéç¨åæ°ã
         */
        this.parameter = new TransportationAnalystParameter_TransportationAnalystParameter();

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.ComputeWeightMatrixParameters";
    }

    /**
     * @function SuperMap.ComputeWeightMatrixParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.isAnalyzeById = null;
        me.nodes = null;
        if (me.parameter) {
            me.parameter.destroy();
            me.parameter = null;
        }
    }
}

SuperMap.ComputeWeightMatrixParameters = ComputeWeightMatrixParameters_ComputeWeightMatrixParameters;
// CONCATENATED MODULE: ./src/common/iServer/ComputeWeightMatrixService.js





/**
 * @class SuperMap.ComputeWeightMatrixService
 * @category  iServer NetworkAnalyst WeightMatrix
 * @classdesc èè´¹ç©éµåææå¡ç±»ã
 *            èè´¹ç©éµæ¯æ ¹æ®äº¤éç½ç»åæåæ°ä¸­çèè´¹å­æ®µæ¥è®¡ç®ä¸ä¸ªäºç»´æ°ç»ï¼
 *            ç¨æ¥å­å¨æå®çä»»æä¸¤ç¹é´çèµæºæ¶èã
 *            èè´¹ç©éµåæç»æéè¿è¯¥ç±»æ¯æçäºä»¶ççå¬å½æ°åæ°è·å
 * @extends {SuperMap.NetworkAnalystServiceBase}
 * @example
 * var mycomputeWeightMatrixService = new SuperMap.ComputeWeightMatrixService(url,{
 *     eventListeners: {
 *	       "processCompleted": computeWeightMatrixCompleted,
 *		   "processFailed": computeWeightMatrixnError
 *	   }
 * });
 * @param {string} url - èè´¹ç©éµåææå¡å°åãè¯·æ±æå¡çURLåºä¸ºï¼
 *                       http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{ç½ç»åææå¡å}/rest/networkanalyst/{ç½ç»æ°æ®é@æ°æ®æº}ï¼
 *                       ä¾å¦ï¼"http://localhost:8090/iserver/services/components-rest/rest/networkanalyst/RoadNet@Changchun"ã
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 */
class ComputeWeightMatrixService_ComputeWeightMatrixService extends NetworkAnalystServiceBase_NetworkAnalystServiceBase {

    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.ComputeWeightMatrixService";
    }


    /**
     * @function SuperMap.ComputeWeightMatrixService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }


    /**
     * @function SuperMap.ComputeWeightMatrixService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.ComputeWeightMatrixParameters} params - èè´¹ç©éµåæåæ°ç±»
     */
    processAsync(params) {
        if (!(params instanceof ComputeWeightMatrixParameters_ComputeWeightMatrixParameters)) {
            return;
        }
        var me = this, jsonObject,
            end = me.url.substr(me.url.length - 1, 1);
        me.url = me.url + ((end === "/") ? "weightmatrix" : "/weightmatrix") + ".json?";
        jsonObject = {
            parameter: Util_Util.toJSON(params.parameter),
            nodes: me.getJson(params.isAnalyzeById, params.nodes)
        };
        me.request({
            method: "GET",
            params: jsonObject,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

    /**
     * @function SuperMap.ComputeWeightMatrixService.prototype.getJson
     * @description å°å¯¹è±¡è½¬åä¸ºJSONå­ç¬¦ä¸²ã
     * @param {boolean} isAnalyzeById - æ¯å¦éè¿idåæ
     * @param {Array.<SuperMap.ComputeWeightMatrixParameters>} params - åæåæ°æ°ç»
     * @returns {string} è½¬ååçJSONå­ç¬¦ä¸²ã
     */
    getJson(isAnalyzeById, params) {
        var jsonString = "[",
            len = params ? params.length : 0;

        if (isAnalyzeById === false) {
            for (let i = 0; i < len; i++) {
                if (i > 0) {
                    jsonString += ",";
                }
                jsonString += '{"x":' + params[i].x + ',"y":' + params[i].y + '}';
            }
        } else if (isAnalyzeById == true) {
            for (let i = 0; i < len; i++) {
                if (i > 0) {
                    jsonString += ",";
                }
                jsonString += params[i];
            }
        }
        jsonString += ']';
        return jsonString;
    }
}

SuperMap.ComputeWeightMatrixService = ComputeWeightMatrixService_ComputeWeightMatrixService;
// CONCATENATED MODULE: ./src/common/iServer/DataFlowService.js





/**
 * @class SuperMap.DataFlowService
 * @category iServer DataFlow
 * @classdesc æ°æ®æµæå¡ç±»
 * @extends {SuperMap.CommonServiceBase}
 * @param {string} url - æ°æ®æµæå¡å°å
 * @param {Object} options - åæ°ã
 * @function {function} options.style - è®¾ç½®æ°æ®å è½½æ ·å¼ã
 * @function {function} options.onEachFeature - è®¾ç½®æ¯ä¸ªæ°æ®å è½½popupç­ã
 * @param {Array.<Object>} options.geometry - è®¾ç½®å¢æ·»çå ä½è¦ç´ å¯¹è±¡æ°ç»ã
 * @param {Object} options.excludeField - -æé¤å­æ®µã
 */
class DataFlowService_DataFlowService extends CommonServiceBase_CommonServiceBase {


    constructor(url, options) {
        options = options || {};
        /*
         * @constant EVENT_TYPES
         * {Array.<string>}
         * æ­¤ç±»æ¯æçäºä»¶ç±»å
         */
        options.EVENT_TYPES = ["broadcastSocketConnected", "broadcastSocketError", "broadcastFailed", "broadcastSuccessed", "subscribeSocketConnected", "subscribeSocketError", "messageSuccessed", "setFilterParamSuccessed"]
        super(url, options);

        /**
         * @member {Array.<Object>} SuperMap.DataFlowService.prototype.geometry
         * @description è®¾ç½®å¢æ·»çå ä½è¦ç´ å¯¹è±¡æ°ç»ã
         */
        this.geometry = null;

        /**
         * @member {Object} SuperMap.DataFlowService.prototype.prjCoordSys
         * @description å¨ææå½±åæ°
         */
        this.prjCoordSys = null;

        /**
         * @member {Object} SuperMap.DataFlowService.prototype.excludeField
         * @description æé¤å­æ®µ
         */
        this.excludeField = null;

        var me = this;
        var end = me.url.substr(me.url.length - 1, 1);
        if (end !== '/') {
            me.url += "/";
        }
        if (options) {
            Util_Util.extend(me, options);
        }

        this.CLASS_NAME = "SuperMap.DataFlowService";
    }

    /**
     * @function SuperMap.DataFlowService.prototype.initBroadcast
     * @description åå§åå¹¿æ­
     * @returns {SuperMap.DataFlowService}
     */
    initBroadcast() {
        var me = this;
        this.broadcastWebSocket = this._connect(me.url + 'broadcast');
        this.broadcastWebSocket.onopen = function (e) {
            me.broadcastWebSocket.isOpen = true;
            e.eventType = 'broadcastSocketConnected';
            me.events.triggerEvent('broadcastSocketConnected', e);
        };
        this.broadcastWebSocket.onclose = function (e) {
            me.broadcastWebSocket.isOpen = false;
            e.eventType = 'broadcastSocketConnected';
            me.events.triggerEvent('broadcastSocketConnected', e);
        };
        this.broadcastWebSocket.onerror = function (e) {
            e.eventType = 'broadcastSocketError';
            me.events.triggerEvent('broadcastSocketError', e);
        };
        return this;
    }

    /**
     * @function SuperMap.DataFlowService.prototype.broadcast
     * @description å è½½å¹¿æ­æ°æ®
     * @param {Object} geoJSONFeature - JSON æ ¼å¼çè¦ç´ æ°æ®
     */
    broadcast(geoJSONFeature) {
        if (!this.broadcastWebSocket||!this.broadcastWebSocket.isOpen) {
            this.events.triggerEvent('broadcastFailed');
            return;
        }
        this.broadcastWebSocket.send(JSON.stringify(geoJSONFeature));
        this.events.triggerEvent('broadcastSuccessed');

    }

    /**
     * @function SuperMap.DataFlowService.prototype.initSubscribe
     * @description åå§åè®¢éæ°æ®
     * @returns {this} this
     */
    initSubscribe() {
        var me = this;
        this.subscribeWebSocket = this._connect(this.url + 'subscribe');
        this.subscribeWebSocket.onopen = function (e) {
            me.subscribeWebSocket.send(me._getFilterParams());
            e.eventType = 'subscribeSocketConnected';
            me.events.triggerEvent('subscribeSocketConnected', e);
        };
        this.subscribeWebSocket.onerror = function (e) {
            e.eventType = 'subscribeSocketError';
            me.events.triggerEvent('subscribeSocketError', e);
        };
        this.subscribeWebSocket.onmessage = function (e) {
            me._onMessage(e);
        };
        return this;
    }


    /**
     * @function SuperMap.DataFlowService.prototype.setExcludeField
     * @description è®¾ç½®æé¤å­æ®µ
     * @param {Object} excludeField - æé¤å­æ®µ
     * @returns {this} this
     */
    setExcludeField(excludeField) {
        this.excludeField = excludeField;
        this.subscribeWebSocket.send(this._getFilterParams());
        return this;
    }

    /**
     * @function SuperMap.DataFlowService.prototype.setGeometry
     * @description è®¾ç½®æ·»å çå ä½è¦ç´ æ°æ®
     * @param {Array.<Object>} geometry - è®¾ç½®å¢æ·»çå ä½è¦ç´ å¯¹è±¡æ°ç»ã
     * @returns {this} this
     */
    setGeometry(geometry) {
        this.geometry = geometry;
        this.subscribeWebSocket.send(this._getFilterParams());
        return this;
    }

    /**
     * @function SuperMap.DataFlowService.prototype.unSubscribe
     * @description ç»æè®¢éæ°æ®
     */
    unSubscribe() {
        if (!this.subscribeWebSocket) {
            return;
        }
        this.subscribeWebSocket.close();
        this.subscribeWebSocket = null;
    }

    /**
     * @function SuperMap.DataFlowService.prototype.unBroadcast
     * @description ç»æå è½½å¹¿æ­
     */
    unBroadcast() {
        if (!this.broadcastWebSocket) {
            return;
        }
        this.broadcastWebSocket.close();
        this.broadcastWebSocket = null;
    }

    /**
     * @function SuperMap.DataFlowService.prototype.destroy
     * @override
     */
    destroy() {
        CommonServiceBase_CommonServiceBase.prototype.destroy.apply(this, arguments);
        var me = this;
        me.geometry = null;
        me.prjCoordSys = null;
        me.excludeField = null;
        this.unBroadcast();
        this.unSubscribe();

    }


    _getFilterParams() {
        var filter = {
            filterParam: {
                prjCoordSys: this.prjCoordSys,
                excludeField: this.excludeField,
                geometry: this.geometry
            }
        };
        return Util_Util.toJSON(filter);
    }


    _onMessage(e) {
        if (e.data && e.data.indexOf("filterParam") > 0) {
            var filterParam = JSON.parse(e.data);
            e.filterParam = filterParam;
            e.eventType = 'setFilterParamSuccessed';
            this.events.triggerEvent('setFilterParamSuccessed', e);
            return;
        }
        var feature = JSON.parse(e.data);
        e.featureResult = feature;
        e.eventType = 'messageSuccessed';
        this.events.triggerEvent('messageSuccessed', e);
    }


    _connect(url) {
        url = this._appendCredentials(url);
        if ("WebSocket" in window) {
            return new WebSocket(url);
        } else if ("MozWebSocket" in window) {
            var mozWebSocket = window.MozWebSocket;
            return new mozWebSocket(url);
        } else {
            console.log("no WebSocket");
            return null;
        }
    }

    _appendCredentials(url) {
        var token = SecurityManager_SecurityManager.getToken(url);
        if (token) {
            url += "?token=" + token;
        }
        return url;
    }

}

SuperMap.DataFlowService = DataFlowService_DataFlowService;
// CONCATENATED MODULE: ./src/common/iServer/DatasetInfo.js




/**
 * @class SuperMap.DatasetInfo
 * @category  iServer Data
 * @classdesc æ°æ®éä¿¡æ¯ç±»ã
 * @description æ°æ®éä¸è¬ä¸ºå­å¨å¨ä¸èµ·çç¸å³æ°æ®çéåï¼æ ¹æ®æ°æ®ç±»åçä¸åï¼åä¸ºç¢éæ°æ®éãæ æ ¼æ°æ®éï¼griddatasetï¼å
 * å½±åæ°æ®éï¼image datasetï¼ï¼ä»¥åä¸ºäºå¤çç¹å®é®é¢èè®¾è®¡çæ°æ®éï¼å¦æææ°æ®éï¼ç½ç»æ°æ®éç­ã
 * æ°æ®éæ¯ GIS æ°æ®ç»ç»çæå°åä½ãå¶ä¸­ç¢éæ°æ®éæ¯ç±åç§ç±»åç©ºé´è¦ç´ ç»æçéåï¼
 * æä»¥ä¹å¯ä»¥ç§°ä¸ºè¦ç´ éãæ ¹æ®è¦ç´ çç©ºé´ç¹å¾çä¸åï¼ç¢éæ°æ®éååä¸ºç¹æ°æ®éï¼
 * çº¿æ°æ®éï¼é¢æ°æ®éç­ï¼åç¢éæ°æ®éæ¯ç©ºé´ç¹å¾åæ§è´¨ç¸åçæ°æ®ç»ç»èµ·æ¥çéåã
 * ç®åçæ¬æ¯æçæ°æ®éä¸»è¦æç¹æ°æ®éï¼çº¿æ°æ®éï¼é¢æ°æ®éï¼ææ¬æ°æ®éï¼å¤åæ°æ®éï¼CAD æ°æ®éï¼ã
 * ç½ç»æ°æ®éï¼æ æ ¼æ°æ®éï¼grid datasetï¼åå½±åæ°æ®éï¼image datasetï¼ã
 * @param {Object} options - åæ°ã 
 * @param {SuperMap.Bounds} [options.bounds] - æ°æ®éèå´ï¼è¯¥å­æ®µåªè¯»ã 
 * @param {string} [options.dataSourceName] - æ°æ®æºåç§°ï¼è¯¥å­æ®µåªè¯»ã 
 * @param {string} [options.description] - æ°æ®éçæè¿°ä¿¡æ¯ã 
 * @param {string} [options.encodeType] - æ°æ®éå­å¨æ¶çåç¼©ç¼ç æ¹å¼ï¼è¯¥å­æ®µåªè¯»ã 
 * @param {boolean} [options.isReadOnly] - æ°æ®éæ¯å¦ä¸ºåªè¯»ã 
 * @param {string} options.name - æ°æ®éåç§°ï¼è¯¥å­æ®µå¿é¡»ä¸åªè¯»ã 
 * @param {SuperMap.Projection} [options.prjCoordSys] - æ°æ®éçæå½±ä¿¡æ¯ã 
 * @param {string} [options.tableName] - è¡¨åï¼è¯¥å­æ®µåªè¯»ã 
 * @param {string} options.type - æ°æ®éç±»åãä¸»è¦æç¹æ°æ®éï¼çº¿æ°æ®éï¼é¢æ°æ®éï¼ææ¬æ°æ®éï¼å¤åæ°æ®éï¼CAD æ°æ®éï¼ãç½ç»æ°æ®éï¼æ æ ¼æ°æ®éï¼grid datasetï¼åå½±åæ°æ®éï¼image datasetï¼ã
 */
class DatasetInfo_DatasetInfo {


    constructor(options) {
        options = options || {};

        /**
         * @member {SuperMap.Bounds} [SuperMap.DatasetInfo.prototype.bounds]
         * @description æ°æ®éèå´ï¼è¯¥å­æ®µåªè¯»ã
         */
        this.bounds = null;

        /**
         * @member {string} [SuperMap.DatasetInfo.prototype.dataSourceName]
         * @description æ°æ®æºåç§°ï¼è¯¥å­æ®µåªè¯»ã
         */
        this.dataSourceName = null;

        /**
         * @member {string} [SuperMap.DatasetInfo.prototype.description]
         * @description æ°æ®éçæè¿°ä¿¡æ¯ã
         */
        this.description = null;

        /**
         * @member {string} [SuperMap.DatasetInfo.prototype.encodeType]
         * @description æ°æ®éå­å¨æ¶çåç¼©ç¼ç æ¹å¼ï¼è¯¥å­æ®µåªè¯»ã
         */
        this.encodeType = null;

        /**
         * @member {boolean} [SuperMap.DatasetInfo.prototype.isReadOnly]
         * @description æ°æ®éæ¯å¦ä¸ºåªè¯»ã
         */
        this.isReadOnly = null;

        /**
         * @member {string} SuperMap.DatasetInfo.prototype.name
         * @description æ°æ®éåç§°ï¼è¯¥å­æ®µå¿é¡»ä¸åªè¯»ã
         */
        this.name = null;

        /**
         * @member {SuperMap.Projection} [SuperMap.DatasetInfo.prototype.prjCoordSys]
         * @description æ°æ®éçæå½±ä¿¡æ¯ã
         */
        this.prjCoordSys = null;

        /**
         * @member {string} [SuperMap.DatasetInfo.prototype.tableName]
         * @description è¡¨åï¼è¯¥å­æ®µåªè¯»ã
         */
        this.tableName = null;

        /**
         * @member {string} SuperMap.DatasetInfo.prototype.type
         * @description æ°æ®éç±»åï¼è¯¥å­æ®µå¿è®¾ãä¸»è¦æç¹æ°æ®éï¼çº¿æ°æ®éï¼é¢æ°æ®éï¼ææ¬æ°æ®éï¼å¤åæ°æ®éï¼CAD æ°æ®éï¼ãç½ç»æ°æ®éï¼æ æ ¼æ°æ®éï¼grid datasetï¼åå½±åæ°æ®éï¼image datasetï¼ã
         */
        this.type = null;

        Util_Util.extend(this, options);

        var b = this.bounds;
        if (b) {
            this.bounds = new Bounds_Bounds(b.leftBottom.x, b.leftBottom.y, b.rightTop.x, b.rightTop.y);
        }
        this.CLASS_NAME = "SuperMap.DatasetInfo";
    }

    /**
     * @function SuperMap.DatasetInfo.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        Util_Util.reset(this);
    }

    /**
     * @function SuperMap.DatasetInfo.prototype.toServerJSONObject
     * @description è½¬æ¢æå¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     * @returns {Object} JSON å¯¹è±¡ã
     */
    toServerJSONObject() {
        var dataObj = {};
        dataObj = Util_Util.copyAttributes(dataObj, this);
        if (dataObj.bounds) {
            if (dataObj.bounds.toServerJSONObject) {
                dataObj.bounds = dataObj.bounds.toServerJSONObject();
            }
        }
        return dataObj;
    }
}

SuperMap.DatasetInfo = DatasetInfo_DatasetInfo;
// CONCATENATED MODULE: ./src/common/iServer/OverlayAnalystParameters.js




/**
 * @class SuperMap.OverlayAnalystParameters
 * @category  iServer SpatialAnalyst OverlayAnalyst
 * @classdesc å å åæåæ°åºç±»ãæ°æ®éå å åæåæ°åå ä½å¯¹è±¡å å åæåæ°åç»§æ¿æ­¤åºç±»ã
 * @param {Object} options - åæ°ã
 */
class OverlayAnalystParameters_OverlayAnalystParameters {


    constructor(options) {
        /**
         * @member {SuperMap.OverlayOperationType} [SuperMap.OverlayAnalystParameters.prototype.operation=SuperMap.OverlayOperationType.UNION]
         * @description æå®å å åææä½ç±»åã
         */
        this.operation = OverlayOperationType.UNION;

        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = "SuperMap.OverlayAnalystParameters";
    }

    /**
     * @function SuperMap.OverlayAnalystParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.operation = null;
    }


}

SuperMap.OverlayAnalystParameters = OverlayAnalystParameters_OverlayAnalystParameters;
// CONCATENATED MODULE: ./src/common/iServer/DatasetOverlayAnalystParameters.js







/**
 * @class SuperMap.DatasetOverlayAnalystParameters
 * @category  iServer SpatialAnalyst OverlayAnalyst
 * @classdesc æ°æ®éå å åæåæ°ç±»ã
 * @param {Object} options - åæ°ã 
 * @param {string} options.operateDataset - å å åæä¸­æä½æ°æ®éçåç§°ã 
* @param {string} options.sourceDataset - å å åæä¸­æºæ°æ®éçåç§°ã 
 * @param {Array.<string>} [options.operateDatasetFields] - å å åæä¸­æä½æ°æ®éä¿çå¨ç»ææ°æ®éä¸­çå­æ®µååè¡¨ã 
 * @param {SuperMap.FilterParameter} [options.operateDatasetFilter] - è®¾ç½®æä½æ°æ®éä¸­ç©ºé´å¯¹è±¡è¿æ»¤æ¡ä»¶ã 
 * @param {Array.<SuperMap.Geometry.Polygon|L.Polygon|ol.geom.Polygon>} [options.operateRegions] - æä½é¢å¯¹è±¡éåï¼è¡¨ç¤ºä¸è¿äºé¢å¯¹è±¡è¿è¡å å åæãä¸ operateDataset åæ°äºæ¥ï¼å²çªæ¶ä»¥ operateDataset ä¸ºåã 
 * @param {Array.<string>} [options.sourceDatasetFields] - å å åæä¸­æºæ°æ®éä¿çå¨ç»ææ°æ®éä¸­çå­æ®µååè¡¨ã 
 * @param {SuperMap.FilterParameter} [options.sourceDatasetFilter] - è®¾ç½®æºæ°æ®éä¸­ç©ºé´å¯¹è±¡è¿æ»¤æ¡ä»¶ã 
 * @param {number} [options.tolerance=0] - å®¹éã 
 * @param {SuperMap.OverlayOperationType} options.operation - å å æä½æä¸¾å¼ã 
 * @param {SuperMap.DataReturnOption} [options.resultSetting] - ç»æè¿åè®¾ç½®ç±»ã 
 * @extends {SuperMap.GetFeaturesParametersBase}
 */
class DatasetOverlayAnalystParameters_DatasetOverlayAnalystParameters extends OverlayAnalystParameters_OverlayAnalystParameters {


    constructor(options) {
        super(options);
        /**
         * @member {string} SuperMap.DatasetOverlayAnalystParameters.prototype.operateDataset
         * @description å å åæä¸­æä½æ°æ®éçåç§°ã
         */
        this.operateDataset = null;

        /**
         * @member {Array.<string>} [SuperMap.DatasetOverlayAnalystParameters.prototype.operateDatasetFields]
         * @description å å åæä¸­æä½æ°æ®éä¿çå¨ç»ææ°æ®éä¸­çå­æ®µååè¡¨ã
         */
        this.operateDatasetFields = [];

        /**
         * @member {SuperMap.FilterParameter} SuperMap.DatasetOverlayAnalystParameters.prototype.operateDatasetFilter
         * @description è®¾ç½®æä½æ°æ®éä¸­ç©ºé´å¯¹è±¡è¿æ»¤æ¡ä»¶ã
         */
        this.operateDatasetFilter = new FilterParameter_FilterParameter();

        /**
         * @member {Array.<SuperMap.Geometry.Polygon|L.Polygon|ol.geom.Polygon>} [SuperMap.DatasetOverlayAnalystParameters.prototype.operateRegions]
         * @description æä½é¢å¯¹è±¡éåï¼è¡¨ç¤ºä¸è¿äºé¢å¯¹è±¡è¿è¡å å åæãä¸ operateDataset åæ°äºæ¥ï¼å²çªæ¶ä»¥ operateDataset ä¸ºåã
         */
        this.operateRegions = [];


        /**
         * @member {string} SuperMap.DatasetOverlayAnalystParameters.prototype.sourceDataset
         * @description å å åæä¸­æºæ°æ®éçåç§°ã
         */
        this.sourceDataset = null;


        /**
         * @member {Array.<string>} [SuperMap.DatasetOverlayAnalystParameters.prototype.sourceDatasetFields]
         * @description å å åæä¸­æºæ°æ®éä¿çå¨ç»ææ°æ®éä¸­çå­æ®µååè¡¨ã
         */
        this.sourceDatasetFields = [];


        /**
         * @member {SuperMap.FilterParameter} [SuperMap.DatasetOverlayAnalystParameters.prototype.filterQueryParameter]
         * @description è®¾ç½®æºæ°æ®éä¸­ç©ºé´å¯¹è±¡è¿æ»¤æ¡ä»¶ã
         */
        this.sourceDatasetFilter = new FilterParameter_FilterParameter();

        /**
         * @member {number} [SuperMap.DatasetOverlayAnalystParameters.prototype.tolerance=0]
         * @description å®¹éã
         */
        this.tolerance = 0;

        /**
         * @member {SuperMap.DataReturnOption} [SuperMap.DatasetOverlayAnalystParameters.prototype.resultSetting]
         * @description ç»æè¿åè®¾ç½®ç±»ã
         */
        this.resultSetting = new DataReturnOption_DataReturnOption();

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.DatasetOverlayAnalystParameters";
    }


    /**
     * @function SuperMap.DatasetOverlayAnalystParameters.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();

        var me = this;
        me.operateDataset = null;
        me.operateDatasetFields = null;
        if (me.operateDatasetFilter) {
            me.operateDatasetFilter.destroy();
            me.operateDatasetFilter = null;
        }
        if (me.operateRegions) {
            for (var i = 0, opRegions = me.operateRegions, len = opRegions.length; i < len; i++) {
                opRegions[i].destroy();
            }
            me.operateRegions = null;
        }
        me.sourceDataset = null;
        me.sourceDatasetFields = null;
        if (me.sourceDatasetFilter) {
            me.sourceDatasetFilter.destroy();
            me.sourceDatasetFilter = null;
        }
        me.tolerance = null;
        if (me.resultSetting) {
            me.resultSetting.destroy();
            me.resultSetting = null;
        }
    }

    /**
     * @function SuperMap.DatasetOverlayAnalystParameters.toObject
     * @param {SuperMap.DatasetOverlayAnalystParameters} datasetOverlayAnalystParameters - æ°æ®éå å åæåæ°ç±»ã
     * @param {SuperMap.DatasetOverlayAnalystParameters} tempObj - æ°æ®éå å åæåæ°å¯¹è±¡ã
     * @description å°æ°æ®éå å åæåæ°ç±»è½¬æ¢ä¸º JSON å¯¹è±¡ã
     * @returns {Object} JSON å¯¹è±¡ã
     */
    static toObject(datasetOverlayAnalystParameters, tempObj) {
        for (var name in datasetOverlayAnalystParameters) {
            if (name === "sourceDataset") {
                continue;
            } else if (name === "operateRegions") {
                tempObj.operateRegions = [];
                var ors = datasetOverlayAnalystParameters.operateRegions;
                for (var index in ors) {
                    if (ors.hasOwnProperty(index)) {    //icl542
                        tempObj.operateRegions[index] = ServerGeometry_ServerGeometry.fromGeometry(ors[index]);
                    }
                }
            } else if (name === "resultSetting") {
                tempObj.dataReturnOption = datasetOverlayAnalystParameters.resultSetting;
            } else {
                tempObj[name] = datasetOverlayAnalystParameters[name];
            }
        }
    }


}

SuperMap.DatasetOverlayAnalystParameters = DatasetOverlayAnalystParameters_DatasetOverlayAnalystParameters;
// CONCATENATED MODULE: ./src/common/iServer/SurfaceAnalystParametersSetting.js






/**
 * @class SuperMap.SurfaceAnalystParametersSetting
 * @category  iServer SpatialAnalyst SurfaceAnalyst
 * @classdesc è¡¨é¢åæåæ°è®¾ç½®ç±»ã
 * éè¿è¯¥ç±»å¯ä»¥è®¾ç½®è¡¨é¢åææåç­å¼çº¿ãæåç­å¼é¢çä¸äºåæ°ï¼åæ¬åºåå¼ãç­å¼è·ãåæ»åº¦ãåæ»æ¹æ³ç­ã
 * @param {Object} options - åæ°ã
 * @param {(SuperMap.Geometry.Polygon|L.Polygon|ol.geom.Polygon)} [options.clipRegion] - è·åæè®¾ç½®è£åªé¢å¯¹è±¡ï¼å¦æä¸éè¦å¯¹æä½ç»æè¿è¡è£åªï¼å¯ä»¥ä½¿ç¨ null å¼åä»£è¯¥åæ°ã
 * @param {number} [options.datumValue=0] - è·åæè®¾ç½®è¡¨é¢åæä¸­æåç­å¼çº¿ãæåç­å¼é¢çåºåå¼ã
 * @param {Array.<number>} options.expectedZValues - è·åæè®¾ç½®ææåæç»æç Z å¼éåã
 * @param {number} [options.interval=0] - è·åæè®¾ç½®ç­å¼è·ãç­å¼è·æ¯ä¸¤æ¡ç­å¼çº¿ä¹é´çé´éå¼ã
 * @param {number} [options.resampleTolerance=0] - è·åæè®¾ç½®ééæ ·å®¹éã
 * @param {SuperMap.SmoothMethod} [options.smoothMethod=SuperMap.SmoothMethod.BSPLINE] - è·åæè®¾ç½®åæ»å¤çæä½¿ç¨çæ¹æ³ã
 * @param {number} [options.smoothness=0] - è·åæè®¾ç½®è¡¨é¢åæä¸­ç­å¼çº¿æç­å¼é¢çè¾¹ççº¿çåæ»åº¦ã
 */
class SurfaceAnalystParametersSetting_SurfaceAnalystParametersSetting {

    constructor(options) {
        /**
         * @member {(SuperMap.Geometry.Polygon|L.Polygon|ol.geom.Polygon)} [SuperMap.SurfaceAnalystParametersSetting.prototype.clipRegion]
         * @description è·åæè®¾ç½®è£åªé¢å¯¹è±¡ï¼å¦æä¸éè¦å¯¹æä½ç»æè¿è¡è£åªï¼å¯ä»¥ä½¿ç¨ null å¼åä»£è¯¥åæ°ã
         */
        this.clipRegion = null;

        /**
         * @member {number} [SuperMap.SurfaceAnalystParametersSetting.prototype.datumValue=0]
         * @description è·åæè®¾ç½®è¡¨é¢åæä¸­æåç­å¼çº¿ãæåç­å¼é¢çåºåå¼ã
         * åºåå¼æ¯ä½ä¸ºä¸ä¸ªçæç­å¼çº¿çåå§èµ·ç®å¼ï¼å¹¶ä¸ä¸å®æ¯æå°ç­å¼çº¿çå¼ã ä¾å¦ï¼é«ç¨èå´ä¸º 220 -1550 ç DEM æ æ ¼æ°æ®ï¼
         * å¦æè®¾åºåå¼ä¸º 0ï¼ ç­å¼è·ä¸º 50ï¼åæåç­å¼çº¿æ¶ï¼ä»¥åºåå¼ 0 ä¸ºèµ·ç¹ï¼ç­å¼è· 50 ä¸ºé´éæåç­å¼çº¿ï¼
         * å ä¸ºç»å®é«ç¨çæå°å¼æ¯ 220ï¼æä»¥ï¼å¨ç»å®èå´åæåç­å¼çº¿çæå°é«ç¨æ¯ 250ã
         * æåç­å¼çº¿çç»ææ¯ï¼æå°ç­å¼çº¿å¼ä¸º 250ï¼æå¤§ç­å¼çº¿å¼ä¸º 1550ã
         */
        this.datumValue = 0;
        /**
         * @member {Array.<number>} SuperMap.SurfaceAnalystParametersSetting.prototype.expectedZValues
         * @description è·åæè®¾ç½®ææåæç»æç Z å¼éåã
         *              Z å¼éåå­å¨ä¸ç³»åæ°å¼ï¼è¯¥æ°å¼ä¸ºå¾æåç­å¼çº¿çå¼ãå³ä»é«ç¨å¼å¨ Z å¼éåä¸­çç­å¼çº¿ä¼è¢«æåã
         */
        this.expectedZValues = null;

        /**
         *  @member {number} [SuperMap.SurfaceAnalystParametersSetting.prototype.interval=0]
         *  @description è·åæè®¾ç½®ç­å¼è·ãç­å¼è·æ¯ä¸¤æ¡ç­å¼çº¿ä¹é´çé´éå¼ã
         */
        this.interval = 0;

        /**
         * @member {number} [SuperMap.SurfaceAnalystParametersSetting.prototype.resampleTolerance=0]
         * @description è·åæè®¾ç½®ééæ ·å®¹éã
         *              å®¹éå¼è¶å¤§ï¼éæ ·ç»ææ°æ®è¶ç®åãå½åæç»æåºç°äº¤åæ¶ï¼å¯éè¿è°æ´ééæ ·å®¹éä¸ºè¾å°çå¼æ¥å¤çã
         */
        this.resampleTolerance = 0;

        /**
         * @member {SuperMap.SmoothMethod} [SuperMap.SurfaceAnalystParametersSetting.prototype.smoothMethod=SuperMap.SmoothMethod.BSPLINE]
         * @description è·åæè®¾ç½®åæ»å¤çæä½¿ç¨çæ¹æ³ã
         */
        this.smoothMethod = SmoothMethod.BSPLINE;

        /**
         * @member {number} [SuperMap.SurfaceAnalystParametersSetting.prototype.smoothness=0]
         * @description è·åæè®¾ç½®è¡¨é¢åæä¸­ç­å¼çº¿æç­å¼é¢çè¾¹ççº¿çåæ»åº¦ã
         * ä»¥ä¸º 0-5 ä¸ºä¾ï¼åæ»åº¦ä¸º 0 è¡¨ç¤ºä¸è¿è¡åæ»æä½ï¼å¼è¶å¤§è¡¨ç¤ºåæ»åº¦è¶é«ã
         * éçåæ»åº¦çå¢å ï¼æåçç­å¼çº¿è¶åæ».å½ç¶åæ»åº¦è¶å¤§ï¼
         * è®¡ç®æéçæ¶é´åå ç¨çåå­ä¹å°±è¶å¤§ãèä¸ï¼å½ç­å¼è·è¾å°æ¶ï¼
         * åæ»åº¦å¤ªé«ä¼åºç°ç­å¼çº¿ç¸äº¤çé®é¢ã
         */
        this.smoothness = 0;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.SurfaceAnalystParametersSetting";
    }


    /**
     * @function SuperMap.SurfaceAnalystParametersSetting.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        if (me.clipRegion) {
            me.clipRegion.destroy();
            me.clipRegion = null;
        }

        me.datumValue = null;
        me.expectedZValues = null;
        me.interval = null;
        me.resampleTolerance = null;
        me.smoothMethod = null;
        me.smoothness = null;
    }
    /**
     * @function SuperMap.SurfaceAnalystParametersSetting.prototype.toJSON
     * @description å°å¯¹è±¡è½¬åä¸º JSON å­ç¬¦ä¸²ã
     * @returns {string} å¯¹è±¡ JSON å­ç¬¦ä¸²ã
     */
    toJSON() {
        let json = "'datumValue':" + Util_Util.toJSON(this.datumValue);
        json += ",'interval':" + Util_Util.toJSON(this.interval);
        json += ",'resampleTolerance':" + Util_Util.toJSON(this.resampleTolerance);
        json += ",'smoothMethod':" + Util_Util.toJSON(this.smoothMethod);
        json += ",'smoothness':" + Util_Util.toJSON(this.smoothness);
        if (this.expectedZValues != null) {
            json += "," + "'expectedZValues':" + Util_Util.toJSON(this.expectedZValues);
        }
        if (this.clipRegion != null) {
            var serverGeometry = this.clipRegion;
            if (this.clipRegion instanceof Geometry_Geometry && this.clipRegion.components) {
                serverGeometry = ServerGeometry_ServerGeometry.fromGeometry(this.clipRegion)
            }
            json += ",'clipRegion':" + Util_Util.toJSON(serverGeometry);
        }
        return "{" + json + "}";
    }

}

SuperMap.SurfaceAnalystParametersSetting = SurfaceAnalystParametersSetting_SurfaceAnalystParametersSetting;
// CONCATENATED MODULE: ./src/common/iServer/SurfaceAnalystParameters.js






/**
 * @class SuperMap.SurfaceAnalystParameters
 * @category  iServer SpatialAnalyst SurfaceAnalyst
 * @classdesc è¡¨é¢åææåæä½åæ°ç±»ã
 * @description éè¿è¯¥ç±»å¯ä»¥ä¸ºè¿è¡è¡¨é¢åææä¾åæ°ä¿¡æ¯ï¼åæ¬è¡¨é¢åæçæ¹æ³æåç­å¼çº¿ãæåç­å¼é¢åä¸­é´ç»æçåè¾¨çï¼
 * {@link SuperMap.DatasetSurfaceAnalystParameters} å {@link SuperMap.GeometrySurfaceAnalystParameters} ç»§æ¿èªè¯¥ç±»ã
 * @param {Object} options - åæ°ã
 * @param {SuperMap.SurfaceAnalystParametersSetting} options.extractParameter - è·åæè®¾ç½®è¡¨é¢åæåæ°ã
 * @param {number} options.resolution - æå®ä¸­é´ç»æï¼æ æ ¼æ°æ®éï¼çåè¾¨çã
 * @param {SuperMap.DataReturnOption} options.resultSetting - ç»æè¿åè®¾ç½®ç±»ã
 * @param {SuperMap.SurfaceAnalystMethod} [options.surfaceAnalystMethod=SuperMap.SurfaceAnalystMethod.ISOLINE] - è·åæè®¾ç½®è¡¨é¢åæçæåæ¹æ³ï¼æåç­å¼çº¿åæåç­å¼é¢ã
 */
class SurfaceAnalystParameters_SurfaceAnalystParameters {

    constructor(options) {
        /**
         * @member {number} SuperMap.SurfaceAnalystParameters.prototype.resolution
         * @description è·åæè®¾ç½®æå®ä¸­é´ç»æï¼æ æ ¼æ°æ®éï¼çåè¾¨çã
         */
        this.resolution = 0;

        /**
         * @member {SuperMap.SurfaceAnalystParametersSetting} SuperMap.SurfaceAnalystParameters.prototype.extractParameter
         * @description è·åæè®¾ç½®è¡¨é¢åæåæ°ã
         * å¨è¿è¡ç¹æ°æ®éè¿è¡æåç­å¼é¢åææ¶ï¼ææ¶ä¸æ¯æ SurfaceAnalystParametersSetting ç±»ä¸­ç expectedZValues å­æ®µã
         */
        this.extractParameter = new SurfaceAnalystParametersSetting_SurfaceAnalystParametersSetting();

        /**
         * @member {SuperMap.DataReturnOption} SuperMap.SurfaceAnalystParameters.prototype.resultSetting
         * @description ç»æè¿åè®¾ç½®ç±»ã
         */
        this.resultSetting = new DataReturnOption_DataReturnOption();

        /**
         * @member {SuperMap.SurfaceAnalystMethod} [SuperMap.SurfaceAnalystParameters.prototype.surfaceAnalystMethod=SuperMap.SurfaceAnalystMethod.ISOLINE]
         * @description è·åæè®¾ç½®è¡¨é¢åæçæåæ¹æ³ï¼æåç­å¼çº¿åæåç­å¼é¢ã
         */
        this.surfaceAnalystMethod = SurfaceAnalystMethod.ISOLINE;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.SurfaceAnalystParameters";
    }

    /**
     * @function SuperMap.SurfaceAnalystParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.resolution = null;
        if (me.extractParameter) {
            me.extractParameter.destroy();
            me.extractParameter = null;
        }
        if (me.resultSetting) {
            me.resultSetting.destroy();
            me.resultSetting = null;
        }
        me.surfaceAnalystMethod = null;
    }

}

SuperMap.SurfaceAnalystParameters = SurfaceAnalystParameters_SurfaceAnalystParameters;
// CONCATENATED MODULE: ./src/common/iServer/DatasetSurfaceAnalystParameters.js







/**
 * @class SuperMap.DatasetSurfaceAnalystParameters
 * @category iServer SpatialAnalyst SurfaceAnalyst
 * @classdesc æ°æ®éè¡¨é¢åæåæ°ç±»ãè¯¥ç±»å¯¹æ°æ®éè¡¨é¢åææç¨å°çåæ°è¿è¡è®¾ç½®ã
 * @param {Object} options - åæ°ã 
 * @param {string} options.dataset - è¦ç¨æ¥åæ°æ®éè¡¨é¢åæçæ°æ®æºä¸­æ°æ®éçåç§°ã 
 * @param {string} options.zValueFieldName - è·åæè®¾ç½®ç¨äºæåæä½çå­æ®µåç§°ã 
 * @param {integer} options.resolution - è·åæè®¾ç½®æå®ä¸­é´ç»æï¼æ æ ¼æ°æ®éï¼çåè¾¨çã 
 * @param {SuperMap.SurfaceAnalystParametersSetting} options.extractParameter - è¡¨é¢åæåæ°è®¾ç½®ç±»ãè·åæè®¾ç½®è¡¨é¢åæåæ°ã 
 * @param {SuperMap.FilterParameter} [options.filterQueryParameter] - è·åæè®¾ç½®æ¥è¯¢è¿æ»¤æ¡ä»¶åæ°ã 
 * @param {SuperMap.DataReturnOption} [options.resultSetting] - ç»æè¿åè®¾ç½®ç±»ã 
 * @param {SuperMap.SurfaceAnalystMethod} [options.surfaceAnalystMethod=SuperMap.SurfaceAnalystMethod.ISOLINE] - è·åæè®¾ç½®è¡¨é¢åæçæåæ¹æ³ï¼æåç­å¼çº¿åæåç­å¼é¢ã 
 * @extends {SuperMap.SurfaceAnalystParameters}
 */
class DatasetSurfaceAnalystParameters_DatasetSurfaceAnalystParameters extends SurfaceAnalystParameters_SurfaceAnalystParameters {


    constructor(options) {
        super(options);
        /**
         * @member {string} SuperMap.DatasetSurfaceAnalystParameters.prototype.dataset
         * @description è¦ç¨æ¥åæ°æ®éè¡¨é¢åæçæ°æ®æºä¸­æ°æ®éçåç§°ãè¯¥åç§°ç¨å½¢å¦ "æ°æ®éåç§°@æ°æ®æºå«å" å½¢å¼æ¥è¡¨ç¤ºï¼ä¾å¦ï¼Country@Worldã
         */
        this.dataset = null;

        /**
         *  @member {SuperMap.FilterParameter} SuperMap.DatasetSurfaceAnalystParameters.prototype.filterQueryParameter
         *  @description è·åæè®¾ç½®æ¥è¯¢è¿æ»¤æ¡ä»¶åæ°ã
         */
        this.filterQueryParameter = new FilterParameter_FilterParameter();

        /**
         * @member {string} SuperMap.DatasetSurfaceAnalystParameters.prototype.zValueFieldName
         * @description è·åæè®¾ç½®ç¨äºæåæä½çå­æ®µåç§°ãæåç­å¼çº¿æ¶ï¼å°ä½¿ç¨è¯¥å­æ®µä¸­çå¼ï¼å¯¹ç¹è®°å½éä¸­çç¹æ°æ®è¿è¡æå¼åæï¼å¾å°æ æ ¼æ°æ®éï¼ä¸­é´ç»æï¼ï¼æ¥çä»æ æ ¼æ°æ®éæåç­å¼çº¿ã
         */
        this.zValueFieldName = null;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.DatasetSurfaceAnalystParameters";
    }

    /**
     * @function SuperMap.DatasetSurfaceAnalystParameters.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        var me = this;
        me.dataset = null;
        if (me.filterQueryParameter) {
            me.filterQueryParameter.destroy();
            me.filterQueryParameter = null;
        }
        me.zValueFieldName = null;
    }

    /**
     * @function SuperMap.DatasetSurfaceAnalystParameters.toObject
     * @param {SuperMap.DatasetSurfaceAnalystParameters} datasetSurfaceAnalystParameters - æ°æ®éè¡¨é¢åæåæ°ç±»ã
     * @param {SuperMap.DatasetSurfaceAnalystParameters} tempObj - æ°æ®éè¡¨é¢åæåæ°å¯¹è±¡ã
     * @description å°æ°æ®éè¡¨é¢åæåæ°å¯¹è±¡è½¬æ¢ä¸º JSON å¯¹è±¡ã
     * @returns JSON å¯¹è±¡ã
     */
    static toObject(datasetSurfaceAnalystParameters, tempObj) {
        for (var name in datasetSurfaceAnalystParameters) {
            if (name === "filterQueryParameter") {
                tempObj.filterQueryParameter = datasetSurfaceAnalystParameters.filterQueryParameter;
            }
            if (name === "extractParameter") {
                if (datasetSurfaceAnalystParameters.extractParameter.clipRegion instanceof Geometry_Geometry && datasetSurfaceAnalystParameters.extractParameter.clipRegion.components) {
                    datasetSurfaceAnalystParameters.extractParameter.clipRegion = ServerGeometry_ServerGeometry.fromGeometry(datasetSurfaceAnalystParameters.extractParameter.clipRegion);
                }
                tempObj.extractParameter = datasetSurfaceAnalystParameters.extractParameter;
            } else if (name === "dataset") {
                continue;
            } else if (name === "surfaceAnalystMethod") {
                continue;
            } else {
                tempObj[name] = datasetSurfaceAnalystParameters[name];
            }
        }
    }

}

SuperMap.DatasetSurfaceAnalystParameters = DatasetSurfaceAnalystParameters_DatasetSurfaceAnalystParameters;
// CONCATENATED MODULE: ./src/common/iServer/ThiessenAnalystParameters.js



/**
 * @class SuperMap.ThiessenAnalystParameters
 * @category  iServer SpatialAnalyst ThiessenPolygonAnalyst
 * @classdesc æ³°æ£®å¤è¾¹å½¢åæåæ°åºç±»ã
 * @param {Object} options - åæ°ã
 * @param {(SuperMap.Geometry.Polygon|L.Polygon|ol.geom.Polygon)} [options.clipRegion] - ç»ææ°æ®è£åªåºåï¼å¯ä»¥ä¸º nullï¼è¡¨ç¤ºä¸å¯¹ç»æè¿è¡è£åªã
 * @param {boolean} [options.createResultDataset=false] - æ¯å¦è¿åç»ææ°æ®éã
 * @param {string} [options.resultDatasetName] - æå®ç»ææ°æ®éåç§°ã
 * @param {string} [options.resultDatasourceName] - æå®ç»ææ°æ®éæå¨æ°æ®æºï¼é»è®¤ä¸ºå½åæ°æ®æºã
 * @param {boolean} [options.returnResultRegion=true] - æ¯å¦è¿ååæå¾å°çå¤è¾¹å½¢é¢æ°ç»ã
 */
class ThiessenAnalystParameters_ThiessenAnalystParameters {

    constructor(options) {
        if (!options) {
            return;
        }
        /**
         * @member {(SuperMap.Geometry.Polygon|L.Polygon|ol.geom.Polygon)} [SuperMap.ThiessenAnalystParameters.prototype.clipRegion]
         * @description ç»ææ°æ®è£åªåºåï¼å¯ä»¥ä¸º nullï¼è¡¨ç¤ºä¸å¯¹ç»æè¿è¡è£åªã
         */
        this.clipRegion = null;

        /**
         *  @member {boolean} [SuperMap.ThiessenAnalystParameters.prototype.createResultDataset=false]
         *  @description æ¯å¦è¿åç»ææ°æ®éãå¦æä¸º trueï¼åå¿é¡»è®¾ç½®å±æ§ resultDatasetName å resultDatasourceNameã
         */
        this.createResultDataset = false;

        /**
         * @member {string} SuperMap.ThiessenAnalystParameters.prototype.resultDatasetName
         * @description æå®ç»ææ°æ®éåç§°ã
         */
        this.resultDatasetName = null;

        /**
         * @member {string} SuperMap.ThiessenAnalystParameters.prototype.resultDatasourceName
         * @description æå®ç»ææ°æ®éæå¨æ°æ®æºã
         */
        this.resultDatasourceName = null;

        /**
         * @member {boolean} SuperMap.ThiessenAnalystParameters.prototype.returnResultRegion
         * @description æ¯å¦è¿ååæå¾å°çå¤è¾¹å½¢é¢æ°ç»ã
         */
        this.returnResultRegion = true;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.ThiessenAnalystParameters";
    }

    /**
     * @function SuperMap.ThiessenAnalystParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        if (me.clipRegion) {
            me.clipRegion.destroy();
            me.clipRegion = null;
        }
        me.createResultDataset = null;
        me.resultDatasetName = null;
        me.resultDatasourceName = null;
        me.returnResultRegion = null;
    }

}

SuperMap.ThiessenAnalystParameters = ThiessenAnalystParameters_ThiessenAnalystParameters;
// CONCATENATED MODULE: ./src/common/iServer/DatasetThiessenAnalystParameters.js





/**
 * @class SuperMap.DatasetThiessenAnalystParameters
 * @category iServer SpatialAnalyst ThiessenAnalyst
 * @classdesc æ°æ®éæ³°æ£®å¤è¾¹å½¢åæåæ°ç±»ã
 * @param {Object} options - åæ°ã 
 * @param {SuperMap.FilterParameter} [options.filterQueryParameter] - å¯¹å¾åææ°æ®éä¸­çç¹è¿è¡è¿æ»¤ï¼å³å¯¹æ°æ®éä¸­çææç¹è¿è¡åæã
 * @extends {SuperMap.ThiessenAnalystParameters}
 */
class DatasetThiessenAnalystParameters_DatasetThiessenAnalystParameters extends ThiessenAnalystParameters_ThiessenAnalystParameters {


    constructor(options) {
        super(options);
        /**
         * @member {SuperMap.FilterParameter} [SuperMap.DatasetThiessenAnalystParameters.prototype.filterQueryParameter]
         * @description è¿æ»¤æ¡ä»¶ï¼å¯¹å¾åææ°æ®éä¸­çç¹è¿è¡è¿æ»¤ï¼å³å¯¹æ°æ®éä¸­çææç¹è¿è¡åæã
         * @example
         *  var filterQueryParameter = new SuperMap.FilterParameter({
         *   name: "Countries@World",
         *   attributeFilter: "SmID>100"
         *  });
         */
        this.filterQueryParameter = null;

        /**
         * @member {string} SuperMap.DatasetThiessenAnalystParameters.prototype.dataset
         * @description æ°æ®éåç§°å¾åæçæ°æ®éåç§°ï¼è¯·ä½¿ç¨ "datasetName@datasourceName" æ ¼å¼æ¥è¡¨ç¤ºã
         */
        this.dataset = null;

        if (options) {
            Util_Util.extend(this, options);
        }


        this.CLASS_NAME = "SuperMap.DatasetThiessenAnalystParameters";
    }

    /**
     * @function SuperMap.DatasetThiessenAnalystParameters.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        var me = this;
        if (me.filterQueryParameter) {
            me.filterQueryParameter.destroy();
            me.filterQueryParameter = null;
        }
    }

    /**
     * @function SuperMap.DatasetThiessenAnalystParameters.toObject
     * @param {SuperMap.DatasetThiessenAnalystParameters} datasetThiessenAnalystParameters - æ³°æ£®å¤è¾¹å½¢åææå¡åæ°ç±»ã
     * @param {SuperMap.DatasetThiessenAnalystParameters} tempObj - æ³°æ£®å¤è¾¹å½¢åææå¡åæ°å¯¹è±¡ã
     * @description å°æ³°æ£®å¤è¾¹å½¢åææå¡åæ°å¯¹è±¡è½¬æ¢ä¸º JSON å¯¹è±¡ã
     * @returns JSON å¯¹è±¡ã
     */
    static toObject(datasetThiessenAnalystParameters, tempObj) {
        for (var name in datasetThiessenAnalystParameters) {
            if (name === "clipRegion") {
                tempObj.clipRegion = ServerGeometry_ServerGeometry.fromGeometry(datasetThiessenAnalystParameters.clipRegion);
            } else {
                tempObj[name] = datasetThiessenAnalystParameters[name];
            }
        }
    }

}

SuperMap.DatasetThiessenAnalystParameters = DatasetThiessenAnalystParameters_DatasetThiessenAnalystParameters;

// CONCATENATED MODULE: ./src/common/iServer/DensityKernelAnalystParameters.js



/**
 * @class SuperMap.DensityKernelAnalystParameters
 * @category  iServer SpatialAnalyst DensityAnalyst
 * @classdesc æ ¸å¯åº¦åæåæ°ç±»ã
 * @param {Object} options - åæ°ã
 * @param {string} options.dataset - è¦ç¨æ¥åæ ¸å¯åº¦åææ°æ®æºä¸­æ°æ®éçåç§°ãè¯¥åç§°ç¨å½¢å¦ "æ°æ®éåç§°@æ°æ®æºå«å" å½¢å¼æ¥è¡¨ç¤ºï¼ä¾å¦ï¼BaseMap_P@Jingjinã 
 * @param {string} options.fieldName - ç¨äºè¿è¡æ ¸å¯åº¦åæçæµéå¼çå­æ®µåç§°ï¼æ ¸å¯åº¦åæä¸æ¯æææ¬ç±»åçå­æ®µã 
 * @param {string} options.resultGridName - æå®ç»ææ°æ®éåç§°ã 
 * @param {(SuperMap.Bounds|L.Bounds|ol.extent)} [options.bounds] - æ ¸å¯åº¦åæçèå´ï¼ç¨äºç¡®å®ç»ææ æ ¼æ°æ®éçèå´ãå¦æç¼ºçï¼åé»è®¤ä¸ºåæ°æ®éçèå´ã 
 * @param {number} [options.searchRadius] - æ æ ¼é»ååç¨äºè®¡ç®å¯åº¦çæ¥æ¾åå¾ï¼åä½ä¸å½åæ°æ®éç¸åãé»è®¤å¼ä¸ºå½åæ°æ®éçé¿å®½ä¸­çæå¤§å¼é¤30ã 
 * @param {number} [options.resultGridDatasetResolution] - å¯åº¦åæç»ææ æ ¼æ°æ®çåè¾¨çï¼åä½ä¸å½åæ°æ®éç¸åãé»è®¤å¼ä¸ºå½åæ°æ®éçé¿å®½ä¸­çæå°å¼é¤500ã 
 * @param {string} [options.targetDatasource] - æå®çå­å¨ç»ææ°æ®éçæ°æ®æºï¼é»è®¤ä¸ºå½ååæçæ°æ®éæå¨çæ°æ®æºã 
 * @param {boolean} [options.deleteExistResultDataset=false] - å¦æç¨æ·å½åçç»ææ°æ®éåç§°ä¸å·²æçæ°æ®ééåï¼æ¯å¦å é¤å·²æçæ°æ®éã 
 */
class DensityKernelAnalystParameters_DensityKernelAnalystParameters {


    constructor(options) {
        /**
         * @member {string} SuperMap.DensityKernelAnalystParameters.prototype.dataset
         * @description è¦ç¨æ¥åæ ¸å¯åº¦åææ°æ®æºä¸­æ°æ®éçåç§°ã
         * è¯¥åç§°ç¨å½¢å¦ "æ°æ®éåç§°@æ°æ®æºå«å" å½¢å¼æ¥è¡¨ç¤ºï¼ä¾å¦ï¼Railway@Changchunã
         * æ³¨ï¼æ ¸å¯åº¦åææ¯æç¹æ°æ®éåçº¿æ°æ®éã
         */
        this.dataset = null;

        /**
         * @member {(SuperMap.Bounds|L.Bounds|ol.extent)} [SuperMap.DensityKernelAnalystParameters.prototype.bounds]
         * @description æ ¸å¯åº¦åæçèå´ï¼ç¨äºç¡®å®ç»ææ æ ¼æ°æ®éçèå´ã
         * å¦æç¼ºçï¼åé»è®¤ä¸ºåæ°æ®éçèå´ã
         */
        this.bounds = null;

        /**
         * @member {string} SuperMap.DensityKernelAnalystParameters.prototype.fieldName
         * @description ç¨äºè¿è¡æ ¸å¯åº¦åæçæµéå¼çå­æ®µåç§°ï¼æ ¸å¯åº¦åæä¸æ¯æææ¬ç±»åçå­æ®µã
         */
        this.fieldName = null;

        /**
         * @member {number} [SuperMap.DensityKernelAnalystParameters.prototype.resultGridDatasetResolution]
         * @description å¯åº¦åæç»ææ æ ¼æ°æ®çåè¾¨çï¼åä½ä¸å½åæ°æ®éç¸åãé»è®¤å¼ä¸ºå½åæ°æ®éçé¿å®½ä¸­çæå°å¼é¤500ã
         */
        this.resultGridDatasetResolution = null;

        /**
         * @member {number} [SuperMap.DensityKernelAnalystParameters.prototype.searchRadius]
         * @description æ æ ¼é»ååç¨äºè®¡ç®å¯åº¦çæ¥æ¾åå¾ï¼åä½ä¸å½åæ°æ®éç¸åãé»è®¤å¼ä¸ºå½åæ°æ®éçé¿å®½ä¸­çæå¤§å¼é¤30ã
         */
        this.searchRadius = null;

        /**
         * @member {string} [SuperMap.DensityKernelAnalystParameters.prototype.targetDatasource]
         * @description æå®çå­å¨ç»ææ°æ®éçæ°æ®æºï¼é»è®¤ä¸ºå½ååæçæ°æ®éæå¨çæ°æ®æºã
         */
        this.targetDatasource = null;

        /**
         * @member {string} SuperMap.DensityKernelAnalystParameters.prototype.resultGridName
         * @description æå®ç»ææ°æ®éåç§°ã
         */
        this.resultGridName = null;

        /**
         * @member {boolean} [SuperMap.DensityKernelAnalystParameters.prototype.deleteExistResultDataset=false]
         * @description å¦æç¨æ·å½åçç»ææ°æ®éåç§°ä¸å·²æçæ°æ®ééåï¼æ¯å¦å é¤å·²æçæ°æ®éã
         */
        this.deleteExistResultDataset = false;
        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.DensityKernelAnalystParameters";

    }


    /**
     * @function SuperMap.DensityKernelAnalystParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.dataset = null;
        me.bounds = null;
        me.fieldName = null;
        me.resultGridDatasetResolution = null;
        me.searchRadius = null;

        me.targetDatasource = null;
        me.resultGridName = null;
        me.deleteExistResultDataset = null;
    }

    /**
     * @function SuperMap.DensityKernelAnalystParameters.toObject
     * @param {SuperMap.DensityKernelAnalystParameters} densityKernelAnalystParameters -æ ¸å¯åº¦åæåæ°ç±»ã
     * @param {SuperMap.DensityKernelAnalystParameters} tempObj - æ ¸å¯åº¦åæåæ°å¯¹è±¡ã
     * @description å°æ ¸å¯åº¦åæåæ°å¯¹è±¡è½¬æ¢æ JSON å¯¹è±¡ã
     * @returns JSON å¯¹è±¡ã
     */
    static toObject(densityKernelAnalystParameters, tempObj) {
        for (var name in densityKernelAnalystParameters) {
            if (name !== "dataset") {
                tempObj[name] = densityKernelAnalystParameters[name];
            }
        }
    }

}

SuperMap.DensityKernelAnalystParameters = DensityKernelAnalystParameters_DensityKernelAnalystParameters;

// CONCATENATED MODULE: ./src/common/iServer/DensityAnalystService.js





/**
 * @class SuperMap.DensityAnalystService
 * @category iServer SpatialAnalyst DensityAnalyst
 * @classdesc
 * å¯åº¦åææå¡ç±»ï¼å¯åº¦åæå¯è®¡ç®æ¯ä¸ªè¾åºæ æ ¼ååå¨å´åå½¢é»ååè¾å¥çç¹æçº¿å¯¹è±¡çå¯åº¦ã
 * å¯åº¦åæï¼å¨æç§æä¹ä¸æ¥è¯´ï¼ç¸å½äºå¨è¡¨é¢ä¸å°è¾å¥çç¹çº¿å¯¹è±¡çæµéå¼æ£å¼æ¥ï¼å°æ¯ä¸ªç¹æçº¿å¯¹è±¡çæµééåå¸å¨æ´ä¸ªç ç©¶åºåï¼å¹¶è®¡ç®è¾åºæ æ ¼ä¸­æ¯ä¸ªååçå¯åº¦å¼ãç®åæä¾1ç§å¯åº¦åæï¼æ ¸å¯åº¦åæï¼Kernelï¼ã
 * @param {string} url - æå¡çè®¿é®å°åãå¦ http://localhost:8090/iserver/services/spatialanalyst-changchun/restjsr/spatialanalyst ã
 * @param {Object} options - åæ°ã</br>
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 * @extends {SuperMap.SpatialAnalystBase}
 * @example  ä¾å¦ï¼
 *  var myDensityAnalystService = new SuperMap.DensityAnalystService(url);
 *  myDensityAnalystService.on({
 *     "processCompleted": processCompleted,
 *     "processFailed": processFailed
 *     }
 *  );
 */
class DensityAnalystService_DensityAnalystService extends SpatialAnalystBase_SpatialAnalystBase {


    constructor(url, options) {
        super(url, options);
        /**
         * @member {string} SuperMap.DensityAnalystService.prototype.mode
         * @description å¯åº¦åæç±»åã
         */
        this.mode = null;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.DensityAnalystService";
    }

    /**
     * @function SuperMap.DensityAnalystService.prototype.destroy
     * @description éæ¾èµæº,å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        super.destroy();
        this.mode = null;
    }

    /**
     * @function SuperMap.DensityAnalystService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.DensityKernelAnalystParameters} parameter - æ ¸å¯åº¦åæåæ°ã
     */
    processAsync(parameter) {
        var me = this;

        var end = me.url.substr(me.url.length - 1, 1);
        if (end !== '/') {
            me.url += "/";
        }
        var parameterObject = new Object();

        if (parameter instanceof DensityKernelAnalystParameters_DensityKernelAnalystParameters) {
            me.url += 'datasets/' + parameter.dataset + '/densityanalyst/kernel';
            me.mode = "kernel";
        }

        DensityKernelAnalystParameters_DensityKernelAnalystParameters.toObject(parameter, parameterObject);
        var jsonParameters = Util_Util.toJSON(parameterObject);
        me.url += '.json?returnContent=true';

        me.request({
            method: "POST",
            data: jsonParameters,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

}

SuperMap.DensityAnalystService = DensityAnalystService_DensityAnalystService;
// CONCATENATED MODULE: ./src/common/iServer/EditFeaturesParameters.js





/**
 * @class SuperMap.EditFeaturesParameters
 * @category iServer Data Feature
 * @classdesc æ°æ®æå¡ä¸­æ°æ®éæ·»å ãä¿®æ¹ãå é¤åæ°ç±»ã
 * @category iServer Data
 * @param {Object} options - åæ°ã 
 * @param {Array.<SuperMap.Feature.Vector|GeoJSON|ol.feature>} options.features - å½åéè¦åå»ºæèæ¯ä¿®æ¹çè¦ç´ éã 
 * @param {boolean} [options.returnContent=false] - æ¯è¿ååå»ºè¦ç´ ç ID æ°ç»è¿æ¯è¿å featureResult èµæºç URIã 
 * @param {SuperMap.EditType} [options.editType=SuperMap.EditType.ADD] - POST å¨ä½ç±»å (ADDãUPDATEãDELETE)ã 
 * @param {Array.<string|integer>} [options.IDs] - å é¤è¦ç´ æ¶çè¦ç´ ç ID æ°ç»ã 
 */
class EditFeaturesParameters_EditFeaturesParameters {


    constructor(options) {
        /**
         * @member {string} SuperMap.EditFeaturesParameters.prototype.dataSourceName
         * @description å½åéè¦åå»ºæèæ¯ä¿®æ¹çè¦ç´ çæ°æ®æºã
         */
        this.dataSourceName = null;

        /**
         * @member {string} SuperMap.EditFeaturesParameters.prototype.dataSetName
         * @description å½åéè¦åå»ºæèæ¯ä¿®æ¹çè¦ç´ çæ°æ®éã
         */
        this.dataSetName = null;

        /**
         * @member {Array.<SuperMap.Feature.Vector|GeoJSON|ol.feature>} SuperMap.EditFeaturesParameters.prototype.features
         * @description å½åéè¦åå»ºæèæ¯ä¿®æ¹çè¦ç´ éã 
         */
        this.features = null;

        /**
         * @member {SuperMap.EditType} [SuperMap.EditFeaturesParameters.prototype.editType=SuperMap.EditType.ADD]
         * @description è¦ç´ éæ´æ°ç±»å (addãupdateãdelete)ã
         */
        this.editType = EditType.ADD;

        /**
         * @member {Array.<string|number>} [SuperMap.EditFeaturesParameters.prototype.IDs]
         * @description æ§è¡å é¤æ¶è¦ç´ é ID éåã
         */
        this.IDs = null;

        /**
         * @member {boolean} [SuperMap.EditFeaturesParameters.prototype.returnContent=false]
         * @description è¦ç´ æ·»å æ¶ï¼isUseBatch ä¸ä¼ æä¼ ä¸º false çæåµä¸ææã
         *              true è¡¨ç¤ºç´æ¥è¿åæ°åå»ºçè¦ç´ ç ID æ°ç»ï¼false è¡¨ç¤ºè¿ååå»ºç featureResult èµæºç URIã
         */
        this.returnContent = false;

        /**
         * @member {boolean} [SuperMap.EditFeaturesParameters.prototype.isUseBatch=false]
         * @description æ¯å¦ä½¿ç¨æ¹éæ·»å è¦ç´ åè½ï¼è¦ç´ æ·»å æ¶ææãæ¹éæ·»å è½å¤æé«è¦ç´ ç¼è¾æçãtrue è¡¨ç¤ºæ¹éæ·»å ï¼false è¡¨ç¤ºä¸ä½¿ç¨æ¹éæ·»å ã
         */
        this.isUseBatch = false;
        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.EditFeaturesParameters";
    }


    /**
     * @function SuperMap.EditFeaturesParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.dataSourceName = null;
        me.dataSetName = null;
        me.features = null;
        me.editType = null;
        me.IDs = null;
        me.returnContent = null;
    }

    /**
     * @function SuperMap.EditFeaturesParameters.prototype.toJsonParameters
     * @description å° EditFeaturesParameters å¯¹è±¡åæ°è½¬æ¢ä¸º JSON å­ç¬¦ä¸²ã
     * @param {SuperMap.EditFeaturesParameters} params - å°ç©ç¼è¾åæ°ã
     * @returns {string} JSON å­ç¬¦ä¸²ã
     */
    static toJsonParameters(params) {
        var feature,
            len,
            features,
            editType = params.editType;

        if (editType === EditType.DELETE) {
            if (params.IDs === null) {
                return;
            }

            features = {ids: params.IDs};
        } else {
            features = [];
            if (params.features) {
                len = params.features.length;
                for (var i = 0; i < len; i++) {
                    feature = params.features[i];
                    feature.geometry = ServerGeometry_ServerGeometry.fromGeometry(feature.geometry);
                    features.push(feature);
                }
            }
        }

        return Util_Util.toJSON(features);
    }

}

SuperMap.EditFeaturesParameters = EditFeaturesParameters_EditFeaturesParameters;
// CONCATENATED MODULE: ./src/common/iServer/EditFeaturesService.js






/**
 * @class SuperMap.EditFeaturesService
 * @category  iServer Data Feature
 * @classdesc æ°æ®æå¡ä¸­æ°æ®éæ·»å ãæ´æ°ãå é¤æå¡ç±»ã
 * @extends {SuperMap.CommonServiceBase}
 * @param {string} url - æå¡ç«¯çæ°æ®æå¡èµæºå°åãè¯·æ±æ°æ®æå¡ä¸­æ°æ®éç¼è¾æå¡ï¼URL åºä¸ºï¼</br>
 * http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{æ°æ®æå¡å}/rest/data/datasources/name/{æ°æ®æºå}/datasets/name/{æ°æ®éå} ã</br>
 * ä¾å¦ï¼http://localhost:8090/iserver/services/data-jingjin/rest/data/datasources/name/Jingjin/datasets/name/Landuse_R
 * @param {Object} options - åæ°ã</br>
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæprocessCompletedå±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailedå±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã
 * @param {SuperMap.ServerType} serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã
 * @param {SuperMap.DataFormat} format -æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æiServerJSON åGeoJSONä¸¤ç§æ ¼å¼ãåæ°æ ¼å¼ä¸º"ISERVER","GEOJSON"ã
 * @example
 * var myService = new SuperMap.EditFeaturesService(url, {eventListeners: {
 *     "processCompleted": editFeatureCompleted,
 *     "processFailed": editFeatureError
 *       }
 * };
 *
 */
class EditFeaturesService_EditFeaturesService extends CommonServiceBase_CommonServiceBase {


    constructor(url, options) {
        super(url, options);
        /**
         * @member {boolean} [SuperMap.EditFeaturesService.prototype.returnContent=false]
         * @descriptionè¦ç´ æ·»å æ¶ï¼isUseBatch ä¸ä¼ æä¼ ä¸º false çæåµä¸ææãtrue è¡¨ç¤ºç´æ¥è¿åæ°åå»ºçè¦ç´ ç ID æ°ç»;false è¡¨ç¤ºè¿ååå»ºç featureResult èµæºç URIã
         */
        this.returnContent = false;

        /**
         * @member {boolean} [SuperMap.EditFeaturesService.prototype.isUseBatch=false]
         * @description æ¯å¦ä½¿ç¨æ¹éæ·»å è¦ç´ åè½ï¼è¦ç´ æ·»å æ¶ææã
         *              æ¹éæ·»å è½å¤æé«è¦ç´ ç¼è¾æçã
         *              true è¡¨ç¤ºæ¹éæ·»å ï¼false è¡¨ç¤ºä¸ä½¿ç¨æ¹éæ·»å ã
         */
        this.isUseBatch = false;

        if (options) {
            Util_Util.extend(this, options);
        }
        var me = this, end;
        end = me.url.substr(me.url.length - 1, 1);
        me.url += (end == "/") ? "features.json?" : "/features.json?";

        this.CLASS_NAME = "SuperMap.EditFeaturesService";
    }


    /**
     * @function SuperMap.EditFeaturesService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        var me = this;
        me.returnContent = null;
        me.isUseBatch = null;
        me.fromIndex = null;
        me.toIndex = null;
    }


    /**
     * @function SuperMap.EditFeaturesService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ´æ°åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.EditFeaturesParameters} params - ç¼è¾è¦ç´ åæ°ã
     */
    processAsync(params) {
        if (!(params instanceof EditFeaturesParameters_EditFeaturesParameters)) {
            return;
        }
        var me = this,
            method = "POST",
            ids = "",
            editType = params.editType,
            jsonParameters = null;

        me.returnContent = params.returnContent;
        me.isUseBatch = params.isUseBatch;
        jsonParameters = EditFeaturesParameters_EditFeaturesParameters.toJsonParameters(params);
        if (editType === EditType.DELETE) {
            ids = Util_Util.toJSON(params.IDs);
            me.url += "ids=" + ids;
            method = "DELETE";
            jsonParameters = ids;
        } else if (editType === EditType.UPDATE) {
            method = "PUT";
        } else {
            if (me.isUseBatch) {
                me.url += "isUseBatch=" + me.isUseBatch;
                me.returnContent = false;
            }
            if (me.returnContent) {
                me.url += "returnContent=" + me.returnContent;
                method = "POST";
            }
        }

        me.request({
            method: method,
            data: jsonParameters,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

}

SuperMap.EditFeaturesService = EditFeaturesService_EditFeaturesService;
// CONCATENATED MODULE: ./src/common/iServer/FacilityAnalyst3DParameters.js



/**
 * @class SuperMap.FacilityAnalyst3DParameters
 * @category  iServer FacilityAnalyst3D
 * @classdesc æè¿è®¾æ½åæåæ°åºç±»ãæè¿è®¾æ½åææ¯æå¨ç½ç»ä¸ç»å®ä¸ä¸ªäºä»¶ç¹åä¸ç»è®¾æ½ç¹ï¼æ¥æ¾ä»äºä»¶ç¹å°è®¾æ½ç¹ï¼æä»è®¾æ½ç¹å°äºä»¶ç¹ï¼ä»¥æå°èè´¹è½å°è¾¾çæä½³è·¯å¾ã
 * è®¾æ½ç¹ä¸è¬ä¸ºå­¦æ ¡ãè¶å¸ãå æ²¹ç«ç­æå¡è®¾æ½ï¼äºä»¶ç¹ä¸ºéè¦æå¡è®¾æ½çäºä»¶ä½ç½®ãä¾å¦äºä»¶åçç¹æ¯ä¸èµ·äº¤éäºæï¼è¦æ±æ¥æ¾å¨ 10 åéåè½å°è¾¾çæè¿å»é¢ï¼
 * è¶è¿ 10 åéè½å°è¾¾çé½ä¸äºèèãæ­¤ä¾ä¸­ï¼äºæåçå°å³æ¯ä¸ä¸ªäºä»¶ç¹ï¼å¨è¾¹çå»é¢åæ¯è®¾æ½ç¹ãæè¿è®¾æ½æ¥æ¾å®éä¸ä¹æ¯ä¸ç§è·¯å¾åæï¼å æ­¤å¯¹è·¯å¾åæèµ·
 * ä½ç¨çéç¢è¾¹ãéç¢ç¹ãè½¬åè¡¨ãèè´¹ç­å±æ§å¨æè¿è®¾æ½åææ¶åæ ·å¯è®¾ç½®ã
 * @param {Object} options - åæ°ã 
 * @param {string} options.weightName - æå®çæå¼å­æ®µä¿¡æ¯å¯¹è±¡çåç§°ã 
 * @param {number} [options.edgeID] - æå®çå¼§æ®µ IDï¼edgeID ä¸ nodeID å¿é¡»æå®ä¸ä¸ªã 
 * @param {number} [options.nodeID] - æå®çç»ç¹ IDï¼edgeID ä¸ nodeID å¿é¡»æå®ä¸ä¸ªã  
 * @param {boolean} [options.isUncertainDirectionValid=false] - æå®ä¸ç¡®å®æµåæ¯å¦ææãæå®ä¸º trueï¼è¡¨ç¤ºä¸ç¡®å®æµåææï¼éå°ä¸ç¡®å®æµåæ¶åæç»§ç»­è¿è¡ï¼
 *                                                      æå®ä¸º falseï¼è¡¨ç¤ºä¸ç¡®å®æµåæ æï¼éå°ä¸ç¡®å®æµåå°åæ­¢å¨è¯¥æ¹åä¸ç»§ç»­æ¥æ¾ã
 */
class FacilityAnalyst3DParameters_FacilityAnalyst3DParameters {


    constructor(options) {
        /**
         * @member {number} [SuperMap.FacilityAnalyst3DParameters.prototype.edgeID]
         * @description æå®çå¼§æ®µ IDï¼edgeID ä¸ nodeID å¿é¡»æå®ä¸ä¸ªã 
         */
        this.edgeID = null;

        /**
         * @member {number} [SuperMap.FacilityAnalyst3DParameters.prototype.nodeID]
         * @description æå®çç»ç¹ IDï¼edgeID ä¸ nodeID å¿é¡»æå®ä¸ä¸ªã 
         */
        this.nodeID = null;

        /**
         * @member {string} SuperMap.FacilityAnalyst3DParameters.prototype.weightName
         * @description æå®çæå¼å­æ®µä¿¡æ¯å¯¹è±¡çåç§°ã
         */
        this.weightName = null;

        /**
         * @member {boolean} [SuperMap.FacilityAnalyst3DParameters.prototype.isUncertainDirectionValid=false]
         * @description æå®ä¸ç¡®å®æµåæ¯å¦ææãæå®ä¸º trueï¼è¡¨ç¤ºä¸ç¡®å®æµåææï¼éå°ä¸ç¡®å®æµåæ¶åæç»§ç»­è¿è¡ï¼
         *              æå®ä¸º falseï¼è¡¨ç¤ºä¸ç¡®å®æµåæ æï¼éå°ä¸ç¡®å®æµåå°åæ­¢å¨è¯¥æ¹åä¸ç»§ç»­æ¥æ¾
         */
        this.isUncertainDirectionValid = false;
        Util_Util.extend(this, options);
        this.CLASS_NAME = "SuperMap.FacilityAnalyst3DParameters";

    }

    /**
     * @function SuperMap.FacilityAnalyst3DParameters.prototype.destroy
     * @override
     */
    destroy() {
        var me = this;
        me.edgeID = null;
        me.nodeID = null;
        me.weightName = null;
        me.isUncertainDirectionValid = null;
    }
}

SuperMap.FacilityAnalyst3DParameters = FacilityAnalyst3DParameters_FacilityAnalyst3DParameters;
// CONCATENATED MODULE: ./src/common/iServer/FacilityAnalystSinks3DParameters.js



/**
 * @class SuperMap.FacilityAnalystSinks3DParameters
 * @category  iServer FacilityAnalyst3D Sinks
 * @classdesc æè¿è®¾æ½åæåæ°ç±»(æ±æ¥æ¾èµæº)ãæè¿è®¾æ½åææ¯æå¨ç½ç»ä¸ç»å®ä¸ä¸ªäºä»¶ç¹åä¸ç»è®¾æ½ç¹ï¼æ¥æ¾ä»äºä»¶ç¹å°è®¾æ½ç¹(æä»è®¾æ½ç¹å°äºä»¶ç¹)ä»¥æå°èè´¹è½å°è¾¾çæä½³è·¯å¾ã
 *            è®¾æ½ç¹ä¸è¬ä¸ºå­¦æ ¡ãè¶å¸ãå æ²¹ç«ç­æå¡è®¾æ½ï¼äºä»¶ç¹ä¸ºéè¦æå¡è®¾æ½çäºä»¶ä½ç½®ãä¾å¦äºä»¶åçç¹æ¯ä¸èµ·äº¤éäºæï¼è¦æ±æ¥æ¾å¨10åéåè½å°è¾¾çæè¿å»é¢ï¼è¶è¿10åé
 *            è½å°è¾¾çé½ä¸äºèèãæ­¤ä¾ä¸­ï¼äºæåçå°å³æ¯ä¸ä¸ªäºä»¶ç¹ï¼å¨è¾¹çå»é¢åæ¯è®¾æ½ç¹ãæè¿è®¾æ½æ¥æ¾å®éä¸ä¹æ¯ä¸ç§è·¯å¾åæï¼å æ­¤å¯¹è·¯å¾åæèµ·ä½ç¨çéç¢è¾¹ãéç¢ç¹ã
 *            è½¬åè¡¨ãèè´¹ç­å±æ§å¨æè¿è®¾æ½åææ¶åæ ·å¯è®¾ç½®ã
 * @extends {SuperMap.FacilityAnalyst3DParameters}
 * @param {Object} options - åæ°ã 
 * @param {string} options.weightName - æå®çæå¼å­æ®µä¿¡æ¯å¯¹è±¡çåç§°ã 
 * @param {number} [options.edgeID] - æå®çå¼§æ®µ IDï¼edgeID ä¸ nodeID å¿é¡»æå®ä¸ä¸ªã  
 * @param {number} [options.nodeID] - æå®çç»ç¹ IDï¼edgeID ä¸ nodeID å¿é¡»æå®ä¸ä¸ªã  
 * @param {boolean} [options.isUncertainDirectionValid=false] - æå®ä¸ç¡®å®æµåæ¯å¦ææãæå®ä¸º trueï¼è¡¨ç¤ºä¸ç¡®å®æµåææï¼éå°ä¸ç¡®å®æµåæ¶åæç»§ç»­è¿è¡ï¼
 * æå®ä¸º falseï¼è¡¨ç¤ºä¸ç¡®å®æµåæ æï¼éå°ä¸ç¡®å®æµåå°åæ­¢å¨è¯¥æ¹åä¸ç»§ç»­æ¥æ¾ã
 */
class FacilityAnalystSinks3DParameters_FacilityAnalystSinks3DParameters extends FacilityAnalyst3DParameters_FacilityAnalyst3DParameters {

    constructor(options) {
        super(options);
        this.CLASS_NAME = "SuperMap.FacilityAnalystSinks3DParameters";
    }


    /**
     * @function SuperMap.FacilityAnalystSinks3DParameters.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }


}

SuperMap.FacilityAnalystSinks3DParameters = FacilityAnalystSinks3DParameters_FacilityAnalystSinks3DParameters;
// CONCATENATED MODULE: ./src/common/iServer/FacilityAnalystSinks3DService.js




/**
 * @class SuperMap.FacilityAnalystSinks3DService
 * @category iServer FacilityAnalyst3D Sinks
 * @classdesc  æè¿è®¾æ½åææå¡ç±»(æ±æ¥æ¾èµæº)<br>
 *             æè¿è®¾æ½åææ¯æå¨ç½ç»ä¸ç»å®ä¸ä¸ªäºä»¶ç¹åä¸ç»è®¾æ½ç¹ï¼
 *             æ¥æ¾ä»äºä»¶ç¹å°è®¾æ½ç¹(æä»è®¾æ½ç¹å°äºä»¶ç¹)ä»¥æå°èè´¹è½å°è¾¾çæä½³è·¯å¾ã
 *             è¯¥ç±»è´è´£å°å®¢æ·ç«¯æå®çæè¿è®¾æ½åæåæ°ä¼ éç»æå¡ç«¯ï¼å¹¶æ¥æ¶æå¡ç«¯è¿åçç»ææ°æ®ã
 *             æè¿è®¾æ½åæç»æéè¿è¯¥ç±»æ¯æçäºä»¶ççå¬å½æ°åæ°è·å
 * @extends {SuperMap.CommonServiceBase}
 * @example
 * var myFacilityAnalystSinks3DService = new SuperMap.FacilityAnalystSinks3DService(url, {
 *     eventListeners: {
 *	       "processCompleted": facilityAnalystSinks3DCompleted,
 *		   "processFailed": facilityAnalystSinks3DError
 *		   }
 * });
 * @param {string} url - ç½ç»åææå¡å°åãè¯·æ±ç½ç»åææå¡ï¼URLåºä¸ºï¼<br>
 *                       http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{ç½ç»åææå¡å}/rest/networkanalyst/{ç½ç»æ°æ®é@æ°æ®æº}ï¼<br>
 *                       ä¾å¦:"http://localhost:8090/iserver/services/components-rest/rest/networkanalyst/RoadNet@Changchun"ã<br>
 * @param {Object} options - åæ°ã<br>
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 */
class FacilityAnalystSinks3DService_FacilityAnalystSinks3DService extends CommonServiceBase_CommonServiceBase {

    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.FacilityAnalystSinks3DService";
    }


    /**
     * @function SuperMap.FacilityAnalystSinks3DService.prototype.destroy
     * @override
     */
    destroy() {
        CommonServiceBase_CommonServiceBase.prototype.destroy.apply(this, arguments);
    }


    /**
     * @function SuperMap.FacilityAnalystSinks3DService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.FacilityAnalystSinks3DParameters} params - æè¿è®¾æ½åæåæ°ç±»(æ±æ¥æ¾èµæº)
     */
    processAsync(params) {
        if (!(params instanceof FacilityAnalystSinks3DParameters_FacilityAnalystSinks3DParameters)) {
            return;
        }
        var me = this, jsonObject,
            end = me.url.substr(me.url.length - 1, 1);
        me.url = me.url + ((end === "/") ? "sinks" : "/sinks") + ".json?";
        jsonObject = {
            edgeID: params.edgeID,
            nodeID: params.nodeID,
            weightName: params.weightName,
            isUncertainDirectionValid: params.isUncertainDirectionValid
        };
        me.request({
            method: "GET",
            params: jsonObject,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

}

SuperMap.FacilityAnalystSinks3DService = FacilityAnalystSinks3DService_FacilityAnalystSinks3DService;
// CONCATENATED MODULE: ./src/common/iServer/FacilityAnalystSources3DParameters.js



/**
 * @class SuperMap.FacilityAnalystSources3DParameters
 * @category  iServer FacilityAnalyst3D Sources 
 * @classdesc æè¿è®¾æ½åæåæ°ç±»(æºæ¥æ¾èµæº)ãæè¿è®¾æ½åææ¯æå¨ç½ç»ä¸ç»å®ä¸ä¸ªäºä»¶ç¹åä¸ç»è®¾æ½ç¹ï¼æ¥æ¾ä»äºä»¶ç¹å°è®¾æ½ç¹(æä»è®¾æ½ç¹å°äºä»¶ç¹)ä»¥æå°èè´¹è½å°è¾¾çæä½³è·¯å¾ã
 *            è®¾æ½ç¹ä¸è¬ä¸ºå­¦æ ¡ãè¶å¸ãå æ²¹ç«ç­æå¡è®¾æ½ï¼äºä»¶ç¹ä¸ºéè¦æå¡è®¾æ½çäºä»¶ä½ç½®ãä¾å¦äºä»¶åçç¹æ¯ä¸èµ·äº¤éäºæï¼è¦æ±æ¥æ¾å¨10åéåè½å°è¾¾çæè¿å»é¢ï¼è¶è¿10å
 *            éè½å°è¾¾çé½ä¸äºèèãæ­¤ä¾ä¸­ï¼äºæåçå°å³æ¯ä¸ä¸ªäºä»¶ç¹ï¼å¨è¾¹çå»é¢åæ¯è®¾æ½ç¹ãæè¿è®¾æ½æ¥æ¾å®éä¸ä¹æ¯ä¸ç§è·¯å¾åæï¼å æ­¤å¯¹è·¯å¾åæèµ·ä½ç¨çéç¢è¾¹ãéç¢
 *            ç¹ãè½¬åè¡¨ãèè´¹ç­å±æ§å¨æè¿è®¾æ½åææ¶åæ ·å¯è®¾ç½®ã
 * @extends {SuperMap.FacilityAnalyst3DParameters}
 * @param {Object} options - åæ°ã 
 * @param {string} options.weightName - æå®çæå¼å­æ®µä¿¡æ¯å¯¹è±¡çåç§°ã 
 * @param {number} [options.edgeID] - æå®çå¼§æ®µ IDï¼edgeID ä¸ nodeID å¿é¡»æå®ä¸ä¸ªã 
 * @param {number} [options.nodeID] - æå®çç»ç¹ IDï¼edgeID ä¸ nodeID å¿é¡»æå®ä¸ä¸ªã  
 * @param {boolean} [options.isUncertainDirectionValid=false] - æå®ä¸ç¡®å®æµåæ¯å¦ææãæå®ä¸º trueï¼è¡¨ç¤ºä¸ç¡®å®æµåææï¼éå°ä¸ç¡®å®æµåæ¶åæç»§ç»­è¿è¡ï¼
 * æå®ä¸º falseï¼è¡¨ç¤ºä¸ç¡®å®æµåæ æï¼éå°ä¸ç¡®å®æµåå°åæ­¢å¨è¯¥æ¹åä¸ç»§ç»­æ¥æ¾ã
 */
class FacilityAnalystSources3DParameters_FacilityAnalystSources3DParameters extends FacilityAnalyst3DParameters_FacilityAnalyst3DParameters {


    constructor(options) {
        super(options);
        this.CLASS_NAME = "SuperMap.FacilityAnalystSources3DParameters";
    }

    /**
     * @function SuperMap.FacilityAnalystSources3DParameters.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }


}

SuperMap.FacilityAnalystSources3DParameters = FacilityAnalystSources3DParameters_FacilityAnalystSources3DParameters;
// CONCATENATED MODULE: ./src/common/iServer/FacilityAnalystSources3DService.js




/**
 * @class SuperMap.FacilityAnalystSources3DService
 * @category  iServer FacilityAnalyst3D Sources
 * @classdesc æè¿è®¾æ½åææå¡ç±»(æºæ¥æ¾èµæº)
 *            æè¿è®¾æ½åææ¯æå¨ç½ç»ä¸ç»å®ä¸ä¸ªäºä»¶ç¹åä¸ç»è®¾æ½ç¹ï¼
 *            æ¥æ¾ä»äºä»¶ç¹å°è®¾æ½ç¹(æä»è®¾æ½ç¹å°äºä»¶ç¹)ä»¥æå°èè´¹è½å°è¾¾çæä½³è·¯å¾ã
 *            è¯¥ç±»è´è´£å°å®¢æ·ç«¯æå®çæè¿è®¾æ½åæåæ°ä¼ éç»æå¡ç«¯ï¼å¹¶æ¥æ¶æå¡ç«¯è¿åçç»ææ°æ®ã
 *            æè¿è®¾æ½åæç»æéè¿è¯¥ç±»æ¯æçäºä»¶ççå¬å½æ°åæ°è·åã
 * @extends {SuperMap.CommonServiceBase}
 * @param {string} url - ç½ç»åææå¡å°åãè¯·æ±ç½ç»åææå¡ï¼URLåºä¸ºï¼
 *                       http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{ç½ç»åææå¡å}/rest/networkanalyst/{ç½ç»æ°æ®é@æ°æ®æº}ï¼
 *                       ä¾å¦:"http://localhost:8090/iserver/services/components-rest/rest/networkanalyst/RoadNet@Changchun"ã
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 */
class FacilityAnalystSources3DService_FacilityAnalystSources3DService extends CommonServiceBase_CommonServiceBase {

    constructor(url, options) {
        super(url, options);

        this.CLASS_NAME = "SuperMap.FacilityAnalystSources3DService";
    }


    /**
     * @function SuperMap.FacilityAnalystSources3DService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }


    /**
     * @function SuperMap.FacilityAnalystSources3DService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.FacilityAnalystSources3DParameters} params - æè¿è®¾æ½åæåæ°ç±»ï¼æºæ¥æ¾èµæºï¼
     */
    processAsync(params) {
        if (!(params instanceof FacilityAnalystSources3DParameters_FacilityAnalystSources3DParameters)) {
            return;
        }
        var me = this, jsonObject,
            end = me.url.substr(me.url.length - 1, 1);
        me.url = me.url + ((end === "/") ? "sources" : "/sources") + ".json?";
        jsonObject = {
            edgeID: params.edgeID,
            nodeID: params.nodeID,
            weightName: params.weightName,
            isUncertainDirectionValid: params.isUncertainDirectionValid
        };
        me.request({
            method: "GET",
            params: jsonObject,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

}

SuperMap.FacilityAnalystSources3DService = FacilityAnalystSources3DService_FacilityAnalystSources3DService;
// CONCATENATED MODULE: ./src/common/iServer/FacilityAnalystStreamParameters.js



/**
 * @class SuperMap.FacilityAnalystStreamParameters
 * @category iServer NetworkAnalyst UpstreamCriticalFacilities
 * @classdesc ä¸æ¸¸/ä¸æ¸¸å³é®è®¾æ½æ¥æ¾èµæºåæ°ç±»ã
 * @param {Object} options - åæ°ã 
 * @param {Array.<number>} options.sourceNodeIDs - æå®çè®¾æ½ç¹ ID æ°ç»ã 
 * @param {number} options.queryType - åæç±»åï¼åªè½æ¯ 0 (ä¸æ¸¸å³é®è®¾æ½æ¥è¯¢) æèæ¯ 1ï¼ä¸æ¸¸å³é®è®¾æ½æ¥è¯¢ï¼ã
 * @param {number} [options.edgeID] - æå®çå¼§æ®µ IDï¼edgeID ä¸ nodeID å¿é¡»æå®ä¸ä¸ªã  
 * @param {number} [options.nodeID] - æå®çç»ç¹ IDï¼edgeID ä¸ nodeID å¿é¡»æå®ä¸ä¸ªã  
 * @param {boolean} [options.isUncertainDirectionValid=false] - æå®ä¸ç¡®å®æµåæ¯å¦ææã
 */
class FacilityAnalystStreamParameters_FacilityAnalystStreamParameters {


    constructor(options) {
        /**
         * @member {Array.<number>} [SuperMap.FacilityAnalystStreamParameters.prototype.sourceNodeIDs]
         * @description æå®çè®¾æ½ç¹ ID æ°ç»ã
         */
        this.sourceNodeIDs = null;

        /**
         * @member {number} [SuperMap.FacilityAnalystStreamParameters.prototype.edgeID]
         * @description æå®çå¼§æ®µ IDï¼edgeID ä¸ nodeID å¿é¡»æå®ä¸ä¸ªã 
         */
        this.edgeID = null;

        /**
         * @member {number} [SuperMap.FacilityAnalystStreamParameters.prototype.nodeID]
         * @description æå®çç»ç¹ IDï¼edgeID ä¸ nodeID å¿é¡»æå®ä¸ä¸ªã 
         */
        this.nodeID = null;

        /**
         * @member {boolean} [SuperMap.FacilityAnalystStreamParameters.prototype.isUncertainDirectionValid=false]
         * @description æå®ä¸ç¡®å®æµåæ¯å¦ææãæå®ä¸º trueï¼è¡¨ç¤ºä¸ç¡®å®æµåææï¼éå°ä¸ç¡®å®æµåæ¶åæç»§ç»­è¿è¡ï¼
         *              æå®ä¸º falseï¼è¡¨ç¤ºä¸ç¡®å®æµåæ æï¼éå°ä¸ç¡®å®æµåå°åæ­¢å¨è¯¥æ¹åä¸ç»§ç»­æ¥æ¾ã
         */
        this.isUncertainDirectionValid = false;

        /**
         * @member {number} SuperMap.FacilityAnalystStreamParameters.prototype.queryType
         * @description åæç±»åï¼åªè½æ¯ 0 (ä¸æ¸¸å³é®è®¾æ½æ¥è¯¢) æèæ¯ 1ï¼ä¸æ¸¸å³é®è®¾æ½æ¥è¯¢ï¼ã
         */
        this.queryType = null;
        Util_Util.extend(this, options);
        this.CLASS_NAME = "SuperMap.FacilityAnalystStreamParameters";
    }


    /**
     * @function SuperMap.FacilityAnalystStreamParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.edgeID = null;
        me.nodeID = null;
        me.weightName = null;
        me.isUncertainDirectionValid = null;
        me.type = null;
    }

}

SuperMap.FacilityAnalystStreamParameters = FacilityAnalystStreamParameters_FacilityAnalystStreamParameters;
// CONCATENATED MODULE: ./src/common/iServer/FacilityAnalystStreamService.js




/**
 * @class SuperMap.FacilityAnalystStreamService
 * @category iServer NetworkAnalyst UpstreamCriticalFacilities
 * @classdesc ä¸æ¸¸/ä¸æ¸¸ å³é®è®¾æ½æ¥æ¾èµæºæå¡ç±»ï¼å³æ¥æ¾ç»å®å¼§æ®µæèç¹çä¸æ¸¸/ä¸æ¸¸ä¸­çå³é®è®¾æ½ç»ç¹ï¼è¿åå³é®ç»ç¹ ID æ°ç»åå¶ä¸æ¸¸å¼§æ®µ ID æ°ç»ã
 * @extends SuperMap.NetworkAnalystServiceBase
 * @param {string} url - ç½ç»åææå¡å°åãè¯·æ±ç½ç»åææå¡ï¼URLåºä¸ºï¼
 *                       http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{ç½ç»åææå¡å}/rest/networkanalyst/{ç½ç»æ°æ®é@æ°æ®æº}ï¼
 *                       ä¾å¦: "http://localhost:8090/iserver/services/test/rest/networkanalyst/WaterNet@FacilityNet";
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 */
class FacilityAnalystStreamService_FacilityAnalystStreamService extends NetworkAnalystServiceBase_NetworkAnalystServiceBase {

    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.FacilityAnalystStreamService";
    }


    /**
     * @function SuperMap.FacilityAnalystStreamService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }


    /**
     * @function SuperMap.FacilityAnalystStreamService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.FacilityAnalystStreamParameters} params - ä¸æ¸¸/ä¸æ¸¸å³é®è®¾æ½æ¥æ¾èµæºåæ°ç±»ã
     */
    processAsync(params) {
        if (!(params instanceof FacilityAnalystStreamParameters_FacilityAnalystStreamParameters)) {
            return;
        }
        var me = this, jsonObject;
        var end = me.url.substr(me.url.length - 1, 1);

        //URL éè¿åæ°ç±»åæ¥å¤æ­æ¯ ä¸æ¸¸ è¿æ¯ä¸æ¸¸ æ¥è¯¢
        if (params.queryType === 0) {
            me.url = me.url + ((end === "/") ? "upstreamcirticalfaclilities" :
                "/upstreamcirticalfaclilities") + ".json?";
        } else if (params.queryType === 1) {
            me.url = me.url + ((end === "/") ? "downstreamcirticalfaclilities" :
                "/downstreamcirticalfaclilities") + ".json?";
        } else {
            return;
        }

        jsonObject = {
            sourceNodeIDs: params.sourceNodeIDs,
            isUncertainDirectionValid: params.isUncertainDirectionValid
        };

        if (params.edgeID !== null && params.nodeID !== null) {
            return;
        }
        if (params.edgeID === null && params.nodeID === null) {
            return;
        }
        if (params.edgeID !== null) {
            jsonObject.edgeID = params.edgeID;
        } else {
            jsonObject.nodeID = params.nodeID;
        }

        me.request({
            method: "GET",
            params: jsonObject,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

}

SuperMap.FacilityAnalystStreamService = FacilityAnalystStreamService_FacilityAnalystStreamService;
// CONCATENATED MODULE: ./src/common/iServer/FacilityAnalystTracedown3DParameters.js



/**
 * @class SuperMap.FacilityAnalystTracedown3DParameters
 * @category iServer FacilityAnalyst3D TraceDownResult
 * @classdesc ä¸æ¸¸è¿½è¸ªèµæºåæ°ç±»ã
 * @extends {SuperMap.FacilityAnalyst3DParameters}
 * @param {Object} options - åæ°ã 
 * @param {string} options.weightName - æå®çæå¼å­æ®µä¿¡æ¯å¯¹è±¡çåç§°ã 
 * @param {number} [options.edgeID] - æå®çå¼§æ®µ IDï¼edgeID ä¸ nodeID å¿é¡»æå®ä¸ä¸ªã  
 * @param {number} [options.nodeID] - æå®çç»ç¹ IDï¼edgeID ä¸ nodeID å¿é¡»æå®ä¸ä¸ªã  
 * @param {boolean} [options.isUncertainDirectionValid=false] - æå®ä¸ç¡®å®æµåæ¯å¦ææãæå®ä¸º trueï¼è¡¨ç¤ºä¸ç¡®å®æµåææï¼éå°ä¸ç¡®å®æµåæ¶åæç»§ç»­è¿è¡ï¼
 * æå®ä¸º falseï¼è¡¨ç¤ºä¸ç¡®å®æµåæ æï¼éå°ä¸ç¡®å®æµåå°åæ­¢å¨è¯¥æ¹åä¸ç»§ç»­æ¥æ¾ã

 */
class FacilityAnalystTracedown3DParameters_FacilityAnalystTracedown3DParameters extends FacilityAnalyst3DParameters_FacilityAnalyst3DParameters {

    constructor(options) {
        super(options);
        this.CLASS_NAME = "SuperMap.FacilityAnalystTracedown3DParameters";
    }

    /**
     * @function SuperMap.FacilityAnalystTracedown3DParameters.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }


}

SuperMap.FacilityAnalystTracedown3DParameters = FacilityAnalystTracedown3DParameters_FacilityAnalystTracedown3DParameters;
// CONCATENATED MODULE: ./src/common/iServer/FacilityAnalystTracedown3DService.js




/**
 * @class SuperMap.FacilityAnalystTracedown3DService
 * @category iServer FacilityAnalyst3D TraceDownResult
 * @classdesc ä¸æ¸¸è¿½è¸ªèµæºæå¡ç±»
 * @extends {SuperMap.CommonServiceBase}
 * @param {string} url - ç½ç»åææå¡å°åãè¯·æ±ç½ç»åææå¡ï¼URLåºä¸ºï¼
 *                       http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{ç½ç»åææå¡å}/rest/networkanalyst/{ç½ç»æ°æ®é@æ°æ®æº}ï¼
 *                       ä¾å¦:"http://localhost:8090/iserver/services/components-rest/rest/networkanalyst/RoadNet@Changchun"ã
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 */
class FacilityAnalystTracedown3DService_FacilityAnalystTracedown3DService extends CommonServiceBase_CommonServiceBase {

    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.FacilityAnalystTracedown3DService";
    }

    /**
     * @function SuperMap.FacilityAnalystTracedown3DService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.FacilityAnalystTracedown3DService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.FacilityAnalystTracedown3DParameters} params - ä¸æ¸¸è¿½è¸ªèµæºåæ°ç±»ã
     */
    processAsync(params) {
        if (!(params instanceof FacilityAnalystTracedown3DParameters_FacilityAnalystTracedown3DParameters)) {
            return;
        }
        var me = this, jsonObject,
            end = me.url.substr(me.url.length - 1, 1);
        me.url = me.url + ((end === "/") ? "tracedownresult" : "/tracedownresult") + ".json?";
        jsonObject = {
            edgeID: params.edgeID,
            nodeID: params.nodeID,
            weightName: params.weightName,
            isUncertainDirectionValid: params.isUncertainDirectionValid
        };
        me.request({
            method: "GET",
            params: jsonObject,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }


}

SuperMap.FacilityAnalystTracedown3DService = FacilityAnalystTracedown3DService_FacilityAnalystTracedown3DService;
// CONCATENATED MODULE: ./src/common/iServer/FacilityAnalystTraceup3DParameters.js



/**
 * @class SuperMap.FacilityAnalystTraceup3DParameters
 * @category iServer FacilityAnalyst3D TraceUpResult
 * @classdesc ä¸æ¸¸è¿½è¸ªèµæºåæ°ç±»ã
 * @extends {SuperMap.FacilityAnalyst3DParameters}
 * @param {Object} options - åæ°ã 
 * @param {string} options.weightName - æå®çæå¼å­æ®µä¿¡æ¯å¯¹è±¡çåç§°ã 
 * @param {number} [options.edgeID] - æå®çå¼§æ®µIDï¼edgeID ä¸ nodeID å¿é¡»æå®ä¸ä¸ªã 
 * @param {number} [options.nodeID] - æå®çç»ç¹IDï¼edgeID ä¸ nodeID å¿é¡»æå®ä¸ä¸ªã 
 * @param {boolean} [options.isUncertainDirectionValid=false] - æå®ä¸ç¡®å®æµåæ¯å¦ææãæå®ä¸º trueï¼è¡¨ç¤ºä¸ç¡®å®æµåææï¼éå°ä¸ç¡®å®æµåæ¶åæç»§ç»­è¿è¡ï¼
 * æå®ä¸º falseï¼è¡¨ç¤ºä¸ç¡®å®æµåæ æï¼éå°ä¸ç¡®å®æµåå°åæ­¢å¨è¯¥æ¹åä¸ç»§ç»­æ¥æ¾ã
 */
class FacilityAnalystTraceup3DParameters_FacilityAnalystTraceup3DParameters extends FacilityAnalyst3DParameters_FacilityAnalyst3DParameters {

    constructor(options) {
        super(options);
        this.CLASS_NAME = "SuperMap.FacilityAnalystTraceup3DParameters";
    }

    /**
     * @function SuperMap.FacilityAnalystTraceup3DParameters.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }


}

SuperMap.FacilityAnalystTraceup3DParameters = FacilityAnalystTraceup3DParameters_FacilityAnalystTraceup3DParameters;
// CONCATENATED MODULE: ./src/common/iServer/FacilityAnalystTraceup3DService.js




/**
 * @class SuperMap.FacilityAnalystTraceup3DService
 * @category iServer FacilityAnalyst3D TraceUpResult
 * @classdesc ä¸æ¸¸è¿½è¸ªèµæºæå¡ç±»
 * @extends {SuperMap.CommonServiceBase}
 * @param {string} url - ç½ç»åææå¡å°åãè¯·æ±ç½ç»åææå¡ï¼URLåºä¸ºï¼
 *                       http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{ç½ç»åææå¡å}/rest/networkanalyst/{ç½ç»æ°æ®é@æ°æ®æº}ï¼
 *                       ä¾å¦:"http://localhost:8090/iserver/services/components-rest/rest/networkanalyst/RoadNet@Changchun"ã
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 */
class FacilityAnalystTraceup3DService_FacilityAnalystTraceup3DService extends CommonServiceBase_CommonServiceBase {

    /**
     * @function SuperMap.FacilityAnalystTraceup3DService.constructor
     * @description ä¸æ¸¸è¿½è¸ªèµæºæå¡ç±»æé å½æ°ã
     * @param {string} url - ç½ç»åææå¡å°åãè¯·æ±ç½ç»åææå¡ï¼URLåºä¸ºï¼
     *                       http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{ç½ç»åææå¡å}/rest/networkanalyst/{ç½ç»æ°æ®é@æ°æ®æº}ï¼
     *                       ä¾å¦:"http://localhost:8090/iserver/services/components-rest/rest/networkanalyst/RoadNet@Changchun"ã
     * @param {Object} options - åæ°ã
     * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
     */
    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.FacilityAnalystTraceup3DService";
    }

    /**
     * @function SuperMap.FacilityAnalystTraceup3DService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.FacilityAnalystTraceup3DService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.FacilityAnalystTraceup3DParameters} params - ä¸æ¸¸è¿½è¸ªèµæºåæ°ç±»
     */
    processAsync(params) {
        if (!(params instanceof FacilityAnalystTraceup3DParameters_FacilityAnalystTraceup3DParameters)) {
            return;
        }
        var me = this, jsonObject,
            end = me.url.substr(me.url.length - 1, 1);
        me.url = me.url + ((end === "/") ? "traceupresult" : "/traceupresult") + ".json?";
        jsonObject = {
            edgeID: params.edgeID,
            nodeID: params.nodeID,
            weightName: params.weightName,
            isUncertainDirectionValid: params.isUncertainDirectionValid
        };
        me.request({
            method: "GET",
            params: jsonObject,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

}

SuperMap.FacilityAnalystTraceup3DService = FacilityAnalystTraceup3DService_FacilityAnalystTraceup3DService;
// CONCATENATED MODULE: ./src/common/iServer/FacilityAnalystUpstream3DParameters.js




/**
 * @class SuperMap.FacilityAnalystUpstream3DParameters
 * @category iServer FacilityAnalyst3D UpstreamCriticalFacilities
 * @classdesc ä¸æ¸¸å³é®è®¾æ½æ¥æ¾èµæºåæ°ç±»ã
 * @extends {SuperMap.FacilityAnalyst3DParameters}
 * @param {Object} options - åæ°ã 
 * @param {Array.<number>} options.sourceNodeIDs - æå®çè®¾æ½ç¹ ID æ°ç»ã 
 * @param {number} [options.edgeID] - æå®çå¼§æ®µIDãedgeID ä¸ nodeID å¿é¡»æå®ä¸ä¸ªã  
 * @param {number} [options.nodeID] - æå®çç»ç¹IDãedgeID ä¸ edgeID å¿é¡»æå®ä¸ä¸ªã
 * @param {boolean} [options.isUncertainDirectionValid=false] - æå®ä¸ç¡®å®æµåæ¯å¦ææãæå®ä¸º trueï¼è¡¨ç¤ºä¸ç¡®å®æµåææï¼éå°ä¸ç¡®å®æµåæ¶åæç»§ç»­è¿è¡ï¼
 * æå®ä¸º falseï¼è¡¨ç¤ºä¸ç¡®å®æµåæ æï¼éå°ä¸ç¡®å®æµåå°åæ­¢å¨è¯¥æ¹åä¸ç»§ç»­æ¥æ¾ã 
 */
class FacilityAnalystUpstream3DParameters_FacilityAnalystUpstream3DParameters extends FacilityAnalyst3DParameters_FacilityAnalyst3DParameters {


    constructor(options) {
        super(options);
        options = options || {};
        this.sourceNodeIDs = null;
        Util_Util.extend(this, options);
        this.CLASS_NAME = "SuperMap.FacilityAnalystUpstream3DParameters";
    }


    /**
     * @function SuperMap.FacilityAnalystUpstream3DParameters.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        this.sourceNodeIDs = null;
    }


}

SuperMap.FacilityAnalystUpstream3DParameters = FacilityAnalystUpstream3DParameters_FacilityAnalystUpstream3DParameters;
// CONCATENATED MODULE: ./src/common/iServer/FacilityAnalystUpstream3DService.js




/**
 * @class SuperMap.FacilityAnalystUpstream3DService
 * @category  iServer FacilityAnalyst3D UpstreamCriticalFacilities
 * @classdesc ä¸æ¸¸å³é®è®¾æ½æ¥æ¾èµæºæå¡ç±»
 * @extends {SuperMap.CommonServiceBase}
 * @param {string} url - ç½ç»åææå¡å°åãè¯·æ±ç½ç»åææå¡ï¼URLåºä¸ºï¼
 *                       http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{ç½ç»åææå¡å}/rest/networkanalyst/{ç½ç»æ°æ®é@æ°æ®æº}ï¼
 *                       ä¾å¦:"http://localhost:8090/iserver/services/components-rest/rest/networkanalyst/RoadNet@Changchun"ã
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 */
class FacilityAnalystUpstream3DService_FacilityAnalystUpstream3DService extends CommonServiceBase_CommonServiceBase {

    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.FacilityAnalystUpstream3DService";
    }

    /**
     * @function SuperMap.FacilityAnalystUpstream3DService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.FacilityAnalystUpstream3DService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.FacilityAnalystUpstream3DParameters} params - ä¸æ¸¸å³é®è®¾æ½æ¥æ¾èµæºåæ°ç±»
     */
    processAsync(params) {
        if (!(params instanceof FacilityAnalystUpstream3DParameters_FacilityAnalystUpstream3DParameters)) {
            return;
        }
        var me = this, jsonObject,
            end = me.url.substr(me.url.length - 1, 1);
        me.url = me.url + ((end === "/") ? "upstreamcirticalfaclilities" :
            "/upstreamcirticalfaclilities") + ".json?";
        jsonObject = {
            sourceNodeIDs: params.sourceNodeIDs,
            edgeID: params.edgeID,
            nodeID: params.nodeID,
            isUncertainDirectionValid: params.isUncertainDirectionValid
        };
        me.request({
            method: "GET",
            params: jsonObject,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }
}

SuperMap.FacilityAnalystUpstream3DService = FacilityAnalystUpstream3DService_FacilityAnalystUpstream3DService;

// CONCATENATED MODULE: ./src/common/iServer/FilterAggParameter.js






/**
 * @class SuperMap.FilterAggParameter
 * @classdesc è¿æ»¤æ¡ä»¶åæ°è®¾ç½®ï¼è¯¥åæ°ä»æ¯ææ°æ®æ¥æº Elasticsearch æå¡çæ°æ®æå¡ã
 * @category iServer Data FeatureResults
 * @param {Object} options - åå§ååæ°ã
 * @param {SuperMap.AggQueryBuilderParameter} options.filterParam - è¿æ»¤æ¡ä»¶åæ°è®¾ç½®ç±»ã
 * @param {SuperMap.AggregationType} [options.aggType=AggregationType.FILTER] - èåç±»åã
 */
class FilterAggParameter_FilterAggParameter extends AggregationParameter_AggregationParameter {

    constructor(options) {
        super(options);
        /**
         * @member {SuperMap.AggQueryBuilderParameter} SuperMap.FilterAggParameter.prototype.filterParam
         * @description è¿æ»¤æ¡ä»¶åæ°è®¾ç½®ç±»ã
         */
        this.filterParam = null;
        /**
         * @member {SuperMap.AggregationType} [SuperMap.FilterAggParameter.prototype.aggType=AggregationType.FILTER]
         * @description èåç±»åã
         */
        this.aggType = AggregationType.FILTER;
        this.CLASS_NAME = "SuperMap.FilterAggParameter";
        Util_Util.extend(this, options);
    }

    destroy() {
        super.destroy();
        var me = this;
        if (me.filterParam) {
            me.filterParam = null;
        }
    }
}

SuperMap.FilterAggParameter = FilterAggParameter_FilterAggParameter;
// CONCATENATED MODULE: ./src/common/iServer/FieldParameters.js



/**
 * @class SuperMap.FieldParameters
 * @category iServer Data Field
 * @classdesc å­æ®µä¿¡æ¯æ¥è¯¢åæ°ç±»ã
 * @param {Object} options - åæ°ã 
 * @param {string} options.datasource - æ°æ®æºåç§°ã
 * @param {string} options.dataset - æ°æ®éåç§°ã
 */
class FieldParameters_FieldParameters {


    constructor(options) {
        /**
         * @member {string} SuperMap.FieldParameters.prototype.datasource
         * @description è¦æ¥è¯¢çæ°æ®éæå¨çæ°æ®æºåç§°ã
         */
        this.datasource = null;

        /**
         *  @member {string} SuperMap.FieldParameters.prototype.dataset
         *  @description è¦æ¥è¯¢çæ°æ®éåç§°ã
         */
        this.dataset = null;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.FieldParameters";
    }

    /**
     * @function SuperMap.FieldParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.datasource = null;
        me.dataset = null;
    }

}

SuperMap.FieldParameters = FieldParameters_FieldParameters;

// CONCATENATED MODULE: ./src/common/iServer/FieldStatisticsParameters.js




/**
 * @class SuperMap.FieldStatisticsParameters
 * @category iServer Data Field
 * @classdesc å­æ®µç»è®¡ä¿¡æ¯æ¥è¯¢åæ°ç±»ã
 * @param {Object} options - åæ°ã 
 * @param {string} options.datasource - æ°æ®æºåç§°ã 
 * @param {string} options.dataset - æ°æ®éåç§°ã 
 * @param {string} options.fieldName - å­æ®µåã 
 * @param {(string.<SuperMap.StatisticMode>|Array.<string.<SuperMap.StatisticMode>>)} statisticMode - å­æ®µç»è®¡æ¹æ³ç±»åã
 * @extends {SuperMap.FieldParameters}
 */
class FieldStatisticsParameters_FieldStatisticsParameters extends FieldParameters_FieldParameters {


    constructor(options) {
        super(options);
        /**
         * @member {string} SuperMap.FieldStatisticsParameters.prototype.fieldName
         * @description å­æ®µå
         */
        this.fieldName = null;

        /**
         * @member {(string.<SuperMap.StatisticMode>|Array.<string.<SuperMap.StatisticMode>>)} SuperMap.FieldStatisticsParameters.prototype.statisticMode
         * @description å­æ®µç»è®¡æ¹æ³ç±»å
         */
        this.statisticMode = null;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.FieldStatisticsParameters";
    }

    /**
     * @function SuperMap.FieldStatisticsParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.fieldName = null;
        me.statisticMode = null;
    }

}

SuperMap.FieldStatisticsParameters = FieldStatisticsParameters_FieldStatisticsParameters;

// CONCATENATED MODULE: ./src/common/iServer/FieldStatisticService.js





/**
 * @class SuperMap.FieldStatisticService
 * @category iServer Data Field
 * @classdesc å­æ®µæ¥è¯¢ç»è®¡æå¡ç±»ãç¨æ¥å®æå¯¹æå®æ°æ®éæå®å­æ®µçæ¥è¯¢ç»è®¡åæï¼å³æ±å¹³åå¼ï¼æå¤§å¼ç­ã
 * @extends {SuperMap.CommonServiceBase}
 * @param {string} url - æå¡çè®¿é®å°åãå¦è®¿é® World Map æå¡ï¼åªéå° url è®¾ä¸ºï¼http://localhost:8090/iserver/services/data-world/rest/data å³å¯ã
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæ processCompleted å±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailed å±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã
 * @param {SuperMap.ServerType} options.serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã
 * @param {SuperMap.DataFormat} options.format - æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æ iServerJSON åGeoJSON ä¸¤ç§æ ¼å¼ãåæ°æ ¼å¼ä¸º "ISERVER","GEOJSON"ã
 * @param {string} options.datasource - æ°æ®éæå¨çæ°æ®æºåç§°ã
 * @param {string} options.dataset - æ°æ®éåç§°ã
 * @param {string} options.field - æ¥è¯¢ç»è®¡çç®æ å­æ®µåç§°ã
 * @param {SuperMap.StatisticMode} options.statisticMode - å­æ®µæ¥è¯¢ç»è®¡çæ¹æ³ç±»åã
 * @example
 * var myService = new SuperMap.FieldStatisticService(url, {eventListeners: {
 *     "processCompleted": fieldStatisticCompleted,
 *     "processFailed": fieldStatisticError
 *     }ï¼
 *     datasource: "World",
 *     dataset: "Countries",
 *     field: "SmID",
 *     statisticMode: StatisticMode.AVERAGE
 * };
 */


class FieldStatisticService_FieldStatisticService extends CommonServiceBase_CommonServiceBase {


    constructor(url, options) {
        super(url, options);
        /**
         * @member {string} SuperMap.FieldStatisticService.prototype.datasource
         * @description æ°æ®éæå¨çæ°æ®æºåç§°ã
         */
        this.datasource = null;


        /**
         * @member {string} SuperMap.FieldStatisticService.prototype.dataset
         * @description æ°æ®éåç§°ã
         */
        this.dataset = null;

        /**
         * @member {string} SuperMap.FieldStatisticService.prototype.field
         * @description æ¥è¯¢ç»è®¡çç®æ å­æ®µåç§°ã
         */
        this.field = null;

        /**
         * @member {SuperMap.StatisticMode} SuperMap.FieldStatisticService.prototype.statisticMode
         * @description å­æ®µæ¥è¯¢ç»è®¡çæ¹æ³ç±»åã
         */
        this.statisticMode = null;
        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.FieldStatisticService";
    }


    /**
     * @function SuperMap.FieldStatisticService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        var me = this;
        me.datasource = null;
        me.dataset = null;
        me.field = null;
        me.statisticMode = null;
    }


    /**
     * @function SuperMap.FieldStatisticService.prototype.processAsync
     * @description æ§è¡æå¡ï¼è¿è¡æå®å­æ®µçæ¥è¯¢ç»è®¡ã
     */
    processAsync() {
        var me = this,
            end = me.url.substr(me.url.length - 1, 1),
            fieldStatisticURL = "datasources/" + me.datasource + "/datasets/" + me.dataset + "/fields/" + me.field + "/" + me.statisticMode;
        me.url += (end == "/") ? fieldStatisticURL + ".json?" : "/" + fieldStatisticURL + ".json?";

        me.request({
            method: "GET",
            data: null,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

}

SuperMap.FieldStatisticService = FieldStatisticService_FieldStatisticService;
// CONCATENATED MODULE: ./src/common/iServer/FindClosestFacilitiesParameters.js




/**
 * @class SuperMap.FindClosestFacilitiesParameters
 * @category iServer NetworkAnalyst ClosestFacility
 * @classdesc æè¿è®¾æ½åæåæ°ç±»ã
 * @param {Object} options - åæ°ã 
 * @param {(SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point|number)} options.event - äºä»¶ç¹ï¼ä¸è¬ä¸ºéè¦è·å¾æå¡è®¾æ½æå¡çäºä»¶ä½ç½®ã 
 * @param {Array.<SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point|number>}  options.facilities - è®¾æ½ç¹éåï¼ä¸è¬ä¸ºæä¾æå¡çæå¡è®¾æ½ä½ç½®ã 
 * @param {number} [options.expectFacilityCount=1] - è¦æ¥æ¾çè®¾æ½ç¹æ°éã 
 * @param {boolean} [options.fromEvent=false] - æ¯å¦ä»äºä»¶ç¹å°è®¾æ½ç¹è¿è¡æ¥æ¾ã 
 * @param {boolean} [options.isAnalyzeById=false] - äºä»¶ç¹åè®¾æ½ç¹æ¯å¦éè¿èç¹ ID å·æ¥æå®ã 
 * @param {number} [options.maxWeight=0] - æ¥æ¾åå¾ãåä½ä¸è¯¥ç±»ä¸­ parameter å­æ®µï¼äº¤éç½ç»åæéç¨åæ°ï¼ä¸­è®¾ç½®çèè´¹å­æ®µä¸è´ã 
 * @param {SuperMap.TransportationAnalystParameter} [options.parameter] - äº¤éç½ç»åæéç¨åæ°ã
 */
class FindClosestFacilitiesParameters_FindClosestFacilitiesParameters {


    constructor(options) {
        /**
         * @member {(SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point|number)} SuperMap.FindClosestFacilitiesParameters.prototype.event
         * @description äºä»¶ç¹ï¼ä¸è¬ä¸ºéè¦è·å¾æå¡è®¾æ½æå¡çäºä»¶ä½ç½®ã
         *              å¯ä»¥éè¿ä¸¤ç§æ¹å¼èµäºäºä»¶ç¹ï¼å½è¯¥ç±»ä¸­å­æ®µ isAnalyzeById = true æ¶ï¼åºè¾å¥äºä»¶ç¹ ID å·ï¼å½ isAnalyzeById = false æ¶ï¼åºè¾å¥äºä»¶ç¹åæ ã
         */
        this.event = null;

        /**
         * @member {number} [SuperMap.FindClosestFacilitiesParameters.prototype.expectFacilityCount=1]
         * @description è¦æ¥æ¾çè®¾æ½ç¹æ°éã
         */
        this.expectFacilityCount = 1;

        /**
         * @member {Array.<SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point|number>} [SuperMap.FindClosestFacilitiesParameters.prototype.facilities=false]
         * @description è®¾æ½ç¹éåï¼ä¸è¬ä¸ºæä¾æå¡çæå¡è®¾æ½ä½ç½®ã
         *              å¯ä»¥éè¿ä¸¤ç§æ¹å¼èµäºè®¾æ½ç¹ï¼å½è¯¥ç±»ä¸­å­æ®µ isAnalyzeById = true æ¶ï¼åºè¾å¥è®¾æ½ç¹ ID å·ï¼å½ isAnalyzeById = false æ¶ï¼åºè¾å¥è®¾æ½ç¹åæ ã
         */
        this.facilities = null;

        /**
         * @member {boolean} [SuperMap.FindClosestFacilitiesParameters.prototype.fromEvent=false]
         * @description æ¯å¦ä»äºä»¶ç¹å°è®¾æ½ç¹è¿è¡æ¥æ¾ãæè¿è®¾æ½åæä¸»è¦æ¯éè¿è®¾æ½ç¹åäºä»¶ç¹ä¹é´æä¼çè·¯çº¿æ¥åæå¨ä¸å®èå´ååªä¸ªæåªäºè®¾æ½ä¸äºä»¶ç¹ææä¼è·¯çº¿çå³ç³»ã
         *              è¿ä¸ªè¡èµ°çº¿è·¯æ¯éè¿ç½ç»å¾å±è¿è¡ç½ç»åæç®æ³è®¡ç®åºæ¥çä¸¤ç¹é´çæä¼è·¯çº¿ãç±äºå­å¨ä» A ç¹å° B ç¹ä¸ä» B ç¹å° A ç¹çèè´¹ä¸ä¸æ ·çæåµï¼å æ­¤èµ·æ­¢ç¹
         *              ä¸åå¯è½ä¼å¾å°ä¸åçæä¼è·¯çº¿ãå æ­¤å¨è¿è¡æè¿è®¾æ½åæä¹åï¼éè¦è®¾ç½®è·åçæä¼è·¯çº¿çæ¹åï¼å³æ¯ä»¥äºä»¶ç¹ä½ä¸ºèµ·ç¹å°æè¿è®¾æ½ç¹çæ¹ååæï¼è¿æ¯ä»¥æ
         *              è¿è®¾æ½ç¹ä¸ºèµ·ç¹å°äºä»¶ç¹çæ¹ååæãå¦æéè¦ä»¥äºä»¶ç¹ä½ä¸ºèµ·ç¹å°è®¾æ½ç¹æ¹åè¿è¡æ¥æ¾ï¼è®¾ç½®è¯¥å­æ®µå¼ä¸º trueï¼è®¾ç½®ä¸º falseï¼è¡¨ç¤ºä»è®¾æ½ç¹å°äºä»¶ç¹è¿è¡æ¥æ¾ã
         */
        this.fromEvent = false;

        /**
         * @member {boolean} [SuperMap.FindClosestFacilitiesParameters.prototype.isAnalyzeById=false]
         * @description äºä»¶ç¹åè®¾æ½ç¹æ¯å¦éè¿èç¹ ID å·æ¥æå®ï¼è®¾ç½®ä¸º falseï¼è¡¨ç¤ºéè¿åæ ç¹æå®äºä»¶ç¹åè®¾æ½ç¹ã
         */
        this.isAnalyzeById = false;

        /**
         * @member {number} [SuperMap.FindClosestFacilitiesParameters.prototype.maxWeight=0]
         * @description æ¥æ¾åå¾ãåä½ä¸è¯¥ç±»ä¸­ parameter å­æ®µï¼äº¤éç½ç»åæéç¨åæ°ï¼ä¸­è®¾ç½®çèè´¹å­æ®µä¸è´ã
         *              ä¾å¦äºä»¶åçç¹æ¯ä¸èµ·äº¤éäºæï¼è¦æ±æ¥æ¾å¨ 10 åéåè½å°è¾¾çæè¿å»é¢ï¼è¶è¿ 10 åéè½å°è¾¾çé½ä¸äºèèã
         *              é£ä¹éè¦å°ç½ç»åæåæ°ä¸­ parameter.weightFieldName è®¾ç½®ä¸ºè¡¨ç¤ºæ¶é´çå­æ®µï¼ç¶åè®¾ç½®æ¥æ¾èå´çåå¾å¼ä¸º10ã
         */
        this.maxWeight = 0;

        /**
         * @member {SuperMap.TransportationAnalystParameter} [SuperMap.FindClosestFacilitiesParameters.prototype.parameter]
         * @description äº¤éç½ç»åæéç¨åæ°ãéè¿æ¬ç±»å¯ä»¥è®¾ç½®éç¢è¾¹ãéç¢ç¹ãæå¼å­æ®µä¿¡æ¯çåç§°æ è¯ãè½¬åæå¼å­æ®µç­ä¿¡æ¯ã
         *              å®ä¸º SuperMap.TransportationAnalystParameter ç±»åï¼è½ç¶ä¸ºå¯éåæ°ï¼ä½æ¯å¦æä¸è®¾ç½®å¶ä¸­ç resultSetting å­æ®µï¼
         *              åè¿åç»æç©ºé´ä¿¡æ¯ç­é½ä¸ºç©ºã
         */
        this.parameter = new TransportationAnalystParameter_TransportationAnalystParameter();
        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.FindClosestFacilitiesParameters";
    }

    /**
     * @function SuperMap.FindClosestFacilitiesParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.event = null;
        me.expectFacilityCount = null;
        me.facilities = null;
        me.fromEvent = null;
        me.isAnalyzeById = null;
        me.maxWeight = null;
        if (me.parameter) {
            me.parameter.destroy();
            me.parameter = null;
        }
    }

}

SuperMap.FindClosestFacilitiesParameters = FindClosestFacilitiesParameters_FindClosestFacilitiesParameters;
// CONCATENATED MODULE: ./src/common/iServer/FindClosestFacilitiesService.js






/**
 * @class SuperMap.FindClosestFacilitiesService
 * @category  iServer NetworkAnalyst ClosestFacility
 * @classdesc æè¿è®¾æ½åææå¡ç±»ã
 *            æè¿è®¾æ½åææ¯æå¨ç½ç»ä¸ç»å®ä¸ä¸ªäºä»¶ç¹åä¸ç»è®¾æ½ç¹ï¼
 *            æ¥æ¾ä»äºä»¶ç¹å°è®¾æ½ç¹(æä»è®¾æ½ç¹å°äºä»¶ç¹)ä»¥æå°èè´¹è½å°è¾¾çæä½³è·¯å¾ã
 *            è¯¥ç±»è´è´£å°å®¢æ·ç«¯æå®çæè¿è®¾æ½åæåæ°ä¼ éç»æå¡ç«¯ï¼å¹¶æ¥æ¶æå¡ç«¯è¿åçç»ææ°æ®ã
 *            æè¿è®¾æ½åæç»æéè¿è¯¥ç±»æ¯æçäºä»¶ççå¬å½æ°åæ°è·å
 * @extends {SuperMap.NetworkAnalystServiceBase}
 * @example
 * var myfindClosestFacilitiesService = new SuperMap.FindClosestFacilitiesService(url, {
 *     eventListeners: {
 *	       "processCompleted": findClosestFacilitiesCompleted,
 *		   "processFailed": findClosestFacilitiesError
 *		   }
 * });
 * @param {string} url - ç½ç»åææå¡å°åãè¯·æ±ç½ç»åææå¡ï¼URLåºä¸ºï¼
 *                       http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{ç½ç»åææå¡å}/rest/networkanalyst/{ç½ç»æ°æ®é@æ°æ®æº}ï¼
 *                       ä¾å¦:"http://localhost:8090/iserver/services/components-rest/rest/networkanalyst/RoadNet@Changchun"ã
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 */
class FindClosestFacilitiesService_FindClosestFacilitiesService extends NetworkAnalystServiceBase_NetworkAnalystServiceBase {

    /*
     * @function SuperMap.FindClosestFacilitiesService.prototype.constructor
     * @description æè¿è®¾æ½åææå¡ç±»æé å½æ°ã
     * @param {string} url - ç½ç»åææå¡å°åãè¯·æ±ç½ç»åææå¡ï¼URLåºä¸ºï¼
     *                       http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{ç½ç»åææå¡å}/rest/networkanalyst/{ç½ç»æ°æ®é@æ°æ®æº}ï¼
     *                       ä¾å¦:"http://localhost:8090/iserver/services/components-rest/rest/networkanalyst/RoadNet@Changchun"ã
     * @param {Object} options - éåæ°ã<br>
     * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
     */
    constructor(url, options) {
        super(url, options);

        this.CLASS_NAME = "SuperMap.FindClosestFacilitiesService";
    }

    /**
     * @function SuperMap.FindClosestFacilitiesService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.FindClosestFacilitiesService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.FindClosestFacilitiesParameters} params - æè¿è®¾æ½åææå¡åæ°ç±»
     */
    processAsync(params) {
        if (!(params instanceof FindClosestFacilitiesParameters_FindClosestFacilitiesParameters)) {
            return;
        }
        var me = this, jsonObject,
            end = me.url.substr(me.url.length - 1, 1);
        me.url = me.url + ((end === "/") ? "closestfacility" : "/closestfacility") + ".json?";
        jsonObject = {
            expectFacilityCount: params.expectFacilityCount,
            fromEvent: params.fromEvent,
            maxWeight: params.maxWeight,
            parameter: Util_Util.toJSON(params.parameter),
            event: Util_Util.toJSON(params.event),
            facilities: me.getJson(params.isAnalyzeById, params.facilities)
        };
        me.request({
            method: "GET",
            params: jsonObject,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

    /**
     * @function SuperMap.FindClosestFacilitiesService.prototype.getJson
     * @description å°å¯¹è±¡è½¬åä¸ºJSONå­ç¬¦ä¸²ã
     * @param {boolean} isAnalyzeById - æ¯å¦éè¿IDæ¥åæ
     * @param {Array} params - åæåæ°æ°ç»
     * @returns {Object} è½¬ååçJSONå­ç¬¦ä¸²ã
     */
    getJson(isAnalyzeById, params) {
        var jsonString = "[",
            len = params ? params.length : 0;

        if (isAnalyzeById === false) {
            for (let i = 0; i < len; i++) {
                if (i > 0) {
                    jsonString += ",";
                }
                jsonString += '{"x":' + params[i].x + ',"y":' + params[i].y + '}';
            }
        } else if (isAnalyzeById == true) {
            for (let i = 0; i < len; i++) {
                if (i > 0) {
                    jsonString += ",";
                }
                jsonString += params[i];
            }
        }
        jsonString += ']';
        return jsonString;
    }

    /**
     * @function SuperMap.FindClosestFacilitiesService.prototype.toGeoJSONResult
     * @description å°å«æ geometry çæ°æ®è½¬æ¢ä¸º GeoJSON æ ¼å¼ã
     * @param {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ã
     */
    toGeoJSONResult(result) {
        if (!result || !result.facilityPathList) {
            return result;
        }

        var geoJSONFormat = new GeoJSON_GeoJSON();
        result.facilityPathList.map(function (path) {
            if (path.route) {
                path.route = JSON.parse(geoJSONFormat.write(path.route));
            }
            if (path.pathGuideItems) {
                path.pathGuideItems = JSON.parse(geoJSONFormat.write(path.pathGuideItems));

            }
            if (path.edgeFeatures) {
                path.edgeFeatures = JSON.parse(geoJSONFormat.write(path.edgeFeatures));
            }
            if (path.nodeFeatures) {
                path.nodeFeatures = JSON.parse(geoJSONFormat.write(path.nodeFeatures));
            }
            return path;
        });
        return result;
    }

}

SuperMap.FindClosestFacilitiesService = FindClosestFacilitiesService_FindClosestFacilitiesService;
// CONCATENATED MODULE: ./src/common/iServer/FindLocationParameters.js



/**
 * @class SuperMap.FindLocationParameters
 * @category iServer NetworkAnalyst Location
 * @classdesc éåååºåæåæ°ç±»ã
 * @param {Object} options - åæ°ã 
 * @param {string} options.turnWeightField - è½¬åæå¼å­æ®µçåç§°ã 
 * @param {string} options.weightName - é»åå­æ®µçåç§°ï¼æ è¯äºè¿è¡ç½ç»åææ¶æä½¿ç¨çé»åå­æ®µã
 * @param {Array.<SuperMap.SupplyCenter>} options.supplyCenters - èµæºä¾ç»ä¸­å¿éåã 
 * @param {number} [options.expectedSupplyCenterCount=1] - ææç¨äºæç»è®¾æ½éåçèµæºä¾ç»ä¸­å¿æ°éã 
 * @param {boolean} [options.isFromCenter=false] - æ¯å¦ä»ä¸­å¿ç¹å¼å§åéèµæºã 
 */
class FindLocationParameters_FindLocationParameters {


    constructor(options) {
        /**
         * @member {number} [SuperMap.FindLocationParameters.prototype.expectedSupplyCenterCount=1]
         * @description ææç¨äºæç»è®¾æ½éåçèµæºä¾ç»ä¸­å¿æ°éã 
         *              å½è¾å¥å¼ä¸º 0 æ¶ï¼æç»è®¾æ½éåçèµæºä¾ç»ä¸­å¿æ°éé»è®¤ä¸ºè¦çåæåºååçæéæå°çä¾ç»ä¸­å¿æ°ã
         */
        this.expectedSupplyCenterCount = null;

        /**
         * @member {boolean} [SuperMap.FindLocationParameters.prototype.isFromCenter=false]
         * @description æ¯å¦ä»ä¸­å¿ç¹å¼å§åéèµæºã
         *              ç±äºç½è·¯æ°æ®ä¸­çå¼§æ®µå·ææ­£åé»åï¼å³å¼§æ®µçæ­£åé»åå¼ä¸å¶ååé»åå¼å¯è½ä¸åï¼
         *              å æ­¤ï¼å¨è¿è¡åææ¶ï¼ä»èµæºä¾ç»ä¸­å¿å¼å§åéèµæºå°éæ±ç¹ä¸ä»éæ±ç¹åèµæºä¾ç»ä¸­å¿åéè¿ä¸¤ç§åéå½¢å¼ä¸ï¼æå¾çåæç»æä¼ä¸åã
         */
        this.isFromCenter = false;


        /**
         * @member {Array.<SuperMap.SupplyCenter>} SuperMap.FindLocationParameters.prototype.supplyCenters
         * @description èµæºä¾ç»ä¸­å¿éåã
         *              èµæºä¾ç»ä¸­å¿æ¯æä¾èµæºåæå¡çè®¾æ½ï¼å¯¹åºäºç½ç»ç»ç¹ï¼
         *              èµæºä¾ç»ä¸­å¿çç¸å³ä¿¡æ¯åæ¬èµæºéãæå¤§é»åå¼ãèµæºä¾ç»ä¸­å¿ç±»åï¼èµæºä¾ç»ä¸­å¿å¨ç½ç»ä¸­æå¤ç»ç¹ç ID ç­ï¼ä»¥ä¾¿å¨è¿è¡éåååºåææ¶ä½¿ç¨ã
         */
        this.supplyCenters = null;

        /**
         * @member {string} SuperMap.FindLocationParameters.prototype.turnWeightField
         * @description è½¬åæå¼å­æ®µçåç§°ã
         */
        this.turnWeightField = null;

        /**
         * @member {string} SuperMap.FindLocationParameters.prototype.weightName
         * @description é»åå­æ®µçåç§°ï¼æ è¯äºè¿è¡ç½ç»åææ¶æä½¿ç¨çé»åå­æ®µã
         */
        this.weightName = null;
        Util_Util.extend(this, options);
        this.CLASS_NAME = "SuperMap.FindLocationParameters";
    }

    /**
     * @function SuperMap.FindLocationParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.expectedSupplyCenterCount = null;
        me.isFromCenter = null;
        me.turnWeightField = null;
        me.weightName = null;
        if (me.supplyCenters) {
            for (var i = 0, supplyCenters = me.supplyCenters, len = supplyCenters.length; i < len; i++) {
                supplyCenters[i].destroy();
            }
            me.supplyCenters = null;
        }
    }


}

SuperMap.FindLocationParameters = FindLocationParameters_FindLocationParameters;
// CONCATENATED MODULE: ./src/common/iServer/FindLocationService.js






/**
 * @class SuperMap.FindLocationService
 * @category iServer NetworkAnalyst Location
 * @classdesc éåååºåææå¡ç±»ã
 *            éåååºåææ¯ä¸ºäºç¡®å®ä¸ä¸ªæå¤ä¸ªå¾å»ºè®¾æ½çæä½³ææä¼ä½ç½®ï¼ä½¿å¾è®¾æ½å¯ä»¥ç¨ä¸ç§æç»æµææçæ¹å¼ä¸ºéæ±æ¹æä¾æå¡æèååã
 *            éåååºä¸ä»ä»æ¯ä¸ä¸ªéåè¿ç¨ï¼è¿è¦å°éæ±ç¹çéæ±åéå°ç¸åºçæ°å»ºè®¾æ½çæå¡åºä¸­ï¼å æ­¤ç§°ä¹ä¸ºéåä¸ååºã
 *            éåååºåæç»æéè¿è¯¥ç±»æ¯æçäºä»¶ççå¬å½æ°åæ°è·å
 * @extends {SuperMap.NetworkAnalystServiceBase}
 * @example
 * (start code)
 * var findLocationService = new SuperMap.FindLocationService(url, {
 *     eventListeners: {
 *         "processCompleted": findLocationCompleted,
 *		   "processFailed": findLocationError
 *		   }
 * });
 * (end)
 * @param {string} url - æå¡çè®¿é®å°åã
 *                       å¦ http://localhost:8090/iserver/services/transportationanalyst-sample/rest/networkanalyst/RoadNet@Changchun ã
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 */
class FindLocationService_FindLocationService extends NetworkAnalystServiceBase_NetworkAnalystServiceBase {

    constructor(url, options) {
        super(url, options);

        this.CLASS_NAME = "SuperMap.FindLocationService";
    }

    /**
     * @function SuperMap.FindLocationService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.FindLocationService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.FindLocationParameters} params - éåååºåææå¡åæ°ç±»
     */
    processAsync(params) {
        if (!(params instanceof FindLocationParameters_FindLocationParameters)) {
            return;
        }
        var me = this, jsonObject,
            end = me.url.substr(me.url.length - 1, 1);
        me.url = me.url + ((end === "/") ? "location" : "/location") + ".json?";
        jsonObject = {
            isFromCenter: params.isFromCenter,
            expectedSupplyCenterCount: params.expectedSupplyCenterCount,
            weightName: params.weightName,
            turnWeightField: params.turnWeightField,
            returnEdgeFeature: true,
            returnEdgeGeometry: true,
            returnNodeFeature: true,
            mapParameter: Util_Util.toJSON(params.mapParameter),
            supplyCenters: me.getCentersJson(params.supplyCenters)
        };
        me.request({
            method: "GET",
            params: jsonObject,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

    /**
     * @function SuperMap.FindLocationService.prototype.getCentersJson
     * @description å°æ°ç»å¯¹è±¡è½¬åä¸ºJSONå­ç¬¦ä¸²ã
     * @param {Array} params - éè¦è½¬æ¢çåæ°
     * @returns {string} è½¬ååçJSONå­ç¬¦ä¸²ã
     */
    getCentersJson(params) {
        var json = "[",
            len = params ? params.length : 0;
        for (var i = 0; i < len; i++) {
            if (i > 0) {
                json += ",";
            }
            json += Util_Util.toJSON(params[i]);
        }
        json += "]";
        return json;
    }

    /**
     * @function SuperMap.FindLocationService.prototype.toGeoJSONResult
     * @description å°å«æ geometry çæ°æ®è½¬æ¢ä¸º GeoJSON æ ¼å¼ã
     * @param {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ã
     */
    toGeoJSONResult(result) {
        if (!result) {
            return null;
        }
        var geoJSONFormat = new GeoJSON_GeoJSON();
        if (result.demandResults) {
            result.demandResults = JSON.parse(geoJSONFormat.write(result.demandResults));
        }
        if (result.supplyResults) {
            result.supplyResults = JSON.parse(geoJSONFormat.write(result.supplyResults));
        }

        return result;
    }

}

SuperMap.FindLocationService = FindLocationService_FindLocationService;
// CONCATENATED MODULE: ./src/common/iServer/FindMTSPPathsParameters.js




/**
 * @class SuperMap.FindMTSPPathsParameters
 * @category iServer NetworkAnalyst MTSPPath
 * @classdesc å¤æè¡ååæåæ°ç±»
 * @param {Object} options - åæ°ã 
 * @param {Array.<SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point|number>} options.centers - ééä¸­å¿éåã 
 * @param {Array.<SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point|number>} options.nodes - ééç®æ éåã 
 * @param {boolean} [options.hasLeastTotalCost=false] - ééæ¨¡å¼æ¯å¦ä¸ºæ»è±è´¹æå°æ¹æ¡ã 
 * @param {boolean} [options.isAnalyzeById=false] - æ¯å¦éè¿èç¹ ID å·æ¥æå®ééä¸­å¿ç¹åééç®çç¹ï¼å³éè¿åæ ç¹æå®ã 
 * @param {SuperMap.TransportationAnalystParameter} [options.parameter] - äº¤éç½ç»åæéç¨åæ°ã
 */
class FindMTSPPathsParameters_FindMTSPPathsParameters {


    constructor(options) {
        /**
         * @member SuperMap.FindMTSPPathsParameters.prototype.centers - {Array.<SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point|number>}
         * @description ééä¸­å¿éåã
         *              å½ SuperMap.FindMTSPPathsParameters.isAnalyzeById = false æ¶ï¼centers åºä¸ºç¹çåæ æ°ç»ï¼
         *              å½ SuperMap.FindMTSPPathsParameters.isAnalyzeById = true æ¶ï¼centers åºä¸ºç¹ç ID æ°ç»ã
         */
        this.centers = null;

        /**
         * @member {boolean} [SuperMap.FindMTSPPathsParameters.prototype.hasLeastTotalCost=false]
         * @description ééæ¨¡å¼æ¯å¦ä¸ºæ»è±è´¹æå°æ¹æ¡ã
         *              è¥ä¸º trueï¼åæç§æ»è±è´¹æå°çæ¨¡å¼è¿è¡ééï¼æ­¤æ¶å¯è½ä¼åºç°æå ä¸ªééä¸­å¿ç¹ééçè±è´¹è¾å¤èå¶ä»ééä¸­å¿ç¹çè±è´¹å¾å°çæåµã
         *              è¥ä¸º falseï¼åä¸ºå±é¨æä¼ï¼æ­¤æ¹æ¡ä¼æ§å¶æ¯ä¸ªééä¸­å¿ç¹çè±è´¹ï¼ä½¿åä¸ªä¸­å¿ç¹è±è´¹ç¸å¯¹å¹³åï¼æ­¤æ¶æ»è±è´¹ä¸ä¸å®æå°ã
         */
        this.hasLeastTotalCost = false;

        /**
         * @member {boolean} [SuperMap.FindMTSPPathsParameters.prototype.isAnalyzeById=false] 
         * @description æ¯å¦éè¿èç¹ ID å·æ¥æå®ééä¸­å¿ç¹åééç®çç¹ï¼å³éè¿åæ ç¹æå®ã
         */
        this.isAnalyzeById = false;

        /**
         * @member {Array.<SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point|number>} SuperMap.FindMTSPPathsParameters.prototype.nodes  
         * @description ééç®æ éåã
         *              å½ SuperMap.FindMTSPPathsParameters.isAnalyzeById = false æ¶ï¼nodes åºä¸ºç¹çåæ æ°ç»ï¼
         *              å½ SuperMap.FindMTSPPathsParameters.isAnalyzeById = true æ¶ï¼nodes åºä¸ºç¹ç ID æ°ç»ã
         */
        this.nodes = null;

        /**
         * @member {SuperMap.TransportationAnalystParameter} [SuperMap.FindMTSPPathsParameters.prototype.parameter]
         * @description äº¤éç½ç»åæéç¨åæ°ã
         *              éè¿æ¬ç±»å¯ä»¥è®¾ç½®éç¢è¾¹ãéç¢ç¹ãæå¼å­æ®µä¿¡æ¯çåç§°æ è¯ãè½¬åæå¼å­æ®µç­ä¿¡æ¯ã
         *              SuperMap.TransportationAnalystParameter ç±»åï¼å®è½ç¶ä¸ºå¯éåæ°ï¼ä½æ¯å¦æä¸è®¾ç½®å¶ä¸­ç resultSetting å­æ®µï¼åè¿åç»æç©ºé´ä¿¡æ¯ç­é½ä¸ºç©ºã
         */
        this.parameter = new TransportationAnalystParameter_TransportationAnalystParameter();
        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.FindMTSPPathsParameters";
    }

    /**
     * @function SuperMap.FindMTSPPathsParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.centers = null;
        me.hasLeastTotalCost = null;
        me.isAnalyzeById = null;
        me.nodes = null;
        me.maxWeight = null;
        if (me.parameter) {
            me.parameter.destroy();
            me.parameter = null;
        }
    }

}

SuperMap.FindMTSPPathsParameters = FindMTSPPathsParameters_FindMTSPPathsParameters;
// CONCATENATED MODULE: ./src/common/iServer/FindMTSPPathsService.js






/**
 * @class SuperMap.FindMTSPPathsService
 * @category  iServer NetworkAnalyst MTSPPath
 * @classdesc å¤æè¡ååææå¡ç±»
 *            å¤æè¡ååæä¹ç§°ä¸ºç©æµééï¼æ¯æå¨ç½ç»æ°æ®éä¸­ï¼ç»å® M ä¸ªééä¸­å¿ç¹å N ä¸ªééç®çå°ï¼Mï¼N ä¸ºå¤§äºé¶çæ´æ°ï¼ã
 *            æ¥æ¾ç»æµææçééè·¯å¾ï¼å¹¶ç»åºç¸åºçè¡èµ°è·¯çº¿ã
 *            ç©æµééåè½å°±æ¯è§£å³å¦ä½åçåéééæ¬¡åºåéè´§è·¯çº¿ï¼ä½¿ééæ»è±è´¹è¾¾å°æå°ææ¯ä¸ªééä¸­å¿çè±è´¹è¾¾å°æå°ã
 *            è¯¥ç±»è´è´£å°å®¢æ·ç«¯æå®çå¤æè¡ååæåæ°ä¼ éç»æå¡ç«¯ï¼å¹¶æ¥æ¶æå¡ç«¯è¿åçç»ææ°æ®ã
 *            å¤æè¡ååæç»æéè¿è¯¥ç±»æ¯æçäºä»¶ççå¬å½æ°åæ°è·å
 * @extends {SuperMap.NetworkAnalystServiceBase}
 * @example
 * var myFindMTSPPathsService = new SuperMap.FindMTSPPathsService(url, {
 *     eventListeners: {
 *         "processCompleted": findMTSPPathsCompleted,
 *		   "processFailed": findMTSPPathsError
 *		   }
 * });
 * @param {string} url - ç½ç»åææå¡å°åãè¯·æ±ç½ç»åææå¡ï¼URLåºä¸ºï¼
 *                       http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/ç½ç»åææå¡å}/rest/networkanalyst/{ç½ç»æ°æ®é@æ°æ®æº}ï¼
 *                       ä¾å¦:"http://localhost:8090/iserver/services/components-rest/rest/networkanalyst/RoadNet@Changchun"ã
 * @param {Object} options - äºæå¡æ¶æéå¯éåæ°ãå¦ï¼
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 */
class FindMTSPPathsService_FindMTSPPathsService extends NetworkAnalystServiceBase_NetworkAnalystServiceBase {

    constructor(url, options) {
        super(url, options);

        this.CLASS_NAME = "SuperMap.FindMTSPPathsService";
    }

    /**
     * @function SuperMap.FindMTSPPathsService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.FindMTSPPathsService..prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.FindMTSPPathsParameters} params - å¤æè¡ååææå¡åæ°ç±»
     */
    processAsync(params) {
        if (!(params instanceof FindMTSPPathsParameters_FindMTSPPathsParameters)) {
            return;
        }
        var me = this, jsonObject,
            //end = me.url.substr(me.url.length - 1, 1),
            centers = me.getJson(params.isAnalyzeById, params.centers),
            nodes = me.getJson(params.isAnalyzeById, params.nodes);
        me.url = me.url + "/mtsppath" + ".json?";
        jsonObject = {
            centers: centers,
            nodes: nodes,
            parameter: Util_Util.toJSON(params.parameter),
            hasLeastTotalCost: params.hasLeastTotalCost
        };
        me.request({
            method: "GET",
            params: jsonObject,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

    /**
     * @function SuperMap.FindMTSPPathsService.prototype.getJson
     * @description å°å¯¹è±¡è½¬åä¸ºJSONå­ç¬¦ä¸²ã
     * @param {boolean} isAnalyzeById - æ¯å¦éè¿idåæ
     * @param {Array} params - éè¦è½¬æ¢çæ°å­
     * @returns {Object} è½¬ååçJSONå­ç¬¦ä¸²ã
     */
    getJson(isAnalyzeById, params) {
        var jsonString = "[",
            len = params ? params.length : 0;

        if (isAnalyzeById === false) {
            for (let i = 0; i < len; i++) {
                if (i > 0) {
                    jsonString += ",";
                }
                jsonString += '{"x":' + params[i].x + ',"y":' + params[i].y + '}';
            }
        } else if (isAnalyzeById == true) {
            for (let i = 0; i < len; i++) {
                if (i > 0) {
                    jsonString += ",";
                }
                jsonString += params[i];
            }
        }
        jsonString += ']';
        return jsonString;
    }

    /**
     * @function SuperMap.FindMTSPPathsService.prototype.toGeoJSONResult
     * @description å°å«æ geometry çæ°æ®è½¬æ¢ä¸º GeoJSON æ ¼å¼ã
     * @param {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ã
     */
    toGeoJSONResult(result) {
        if (!result || !result.pathList) {
            return null;
        }
        var geoJSONFormat = new GeoJSON_GeoJSON();
        result.pathList.map(function (path) {
            if (path.route) {
                path.route = JSON.parse(geoJSONFormat.write(path.route));
            }
            if (path.pathGuideItems) {
                path.pathGuideItems = JSON.parse(geoJSONFormat.write(path.pathGuideItems));
            }
            if (path.edgeFeatures) {
                path.edgeFeatures = JSON.parse(geoJSONFormat.write(path.edgeFeatures));
            }
            if (path.nodeFeatures) {
                path.nodeFeatures = JSON.parse(geoJSONFormat.write(path.nodeFeatures));
            }
            return path;
        });
        return result;
    }

}

SuperMap.FindMTSPPathsService = FindMTSPPathsService_FindMTSPPathsService;
// CONCATENATED MODULE: ./src/common/iServer/FindPathParameters.js




/**
 * @class SuperMap.FindPathParameters
 * @category  iServer NetworkAnalyst Path 
 * @classdesc æä½³è·¯å¾åæåæ°ç±»ãæä½³è·¯å¾æ¯å¨ç½ç»æ°æ®éä¸­æå®ä¸äºç»ç¹ï¼æç§é¡ºåºè®¿é®ç»ç¹ä»èæ±è§£èµ·æ­¢ç¹ä¹é´é»ææå°çè·¯å¾ã
 * ä¾å¦å¦æè¦é¡ºåºè®¿é® 1ã2ã3ã4 åä¸ªç»ç¹ï¼åéè¦åå«æ¾å°1ã2ç»ç¹é´çæä½³è·¯å¾ R1â2ï¼2ã3 é´çæä½³è·¯å¾ R2â3 å 3ã4 ç»ç¹é´çæä½³è·¯å¾ R3â4ï¼
 * é¡ºåºè®¿é® 1ã2ã3ã4 åä¸ªç»ç¹çæä½³è·¯å¾å°±æ¯ R = R1â2 + R2â3 + R3â4ã
 * é»æå°±æ¯æä»ä¸ç¹å°å¦ä¸ç¹çèè´¹ï¼å¨å®éåºç¨ä¸­æä»¬å¯ä»¥å°è·ç¦»ãæ¶é´ãè±è´¹ç­ä½ä¸ºé»ææ¡ä»¶ã
 * é»ææå°ä¹å°±å¯ä»¥çè§£ä¸ºä»ä¸ç¹å°å¦ä¸ç¹è·ç¦»æç­ãæ¶é´æå°ãè±è´¹æä½ç­ãå½ä¸¤ç¹é´è·ç¦»æç­æ¶ä¸ºæç­è·¯å¾ï¼å®æ¯æä½³è·¯å¾é®é¢çä¸ä¸ªç¹ä¾ã
 * é»æå¼éè¿ SuperMap.TransportationAnalystParameter.weightFieldName è®¾ç½®ã
 * è®¡ç®æä½³è·¯å¾é¤äºåé»æå½±åå¤ï¼è¿åè½¬åå­æ®µçå½±åãè½¬åå¼éè¿ {@link SuperMap.TransportationAnalystParameter.turnWeightField} è®¾ç½®ã
 *
 * @param {Object} options - åæ°ã 
 * @param {Array.<SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point|number>} options.nodes - æä½³è·¯å¾åæç»è¿çç»ç¹æè®¾æ½ç¹æ°ç»ãè¯¥å­æ®µè³å°åå«ä¸¤ä¸ªç¹ã
 * @param {boolean} [options.isAnalyzeById=false] - æ¯å¦éè¿èç¹ ID æå®è·¯å¾åæçç»ç¹ã 
 * @param {boolean} [options.hasLeastEdgeCount=false] - æ¯å¦æç§å¼§æ®µæ°æå°çè¿è¡æä½³è·¯å¾åæã 
 * @param {SuperMap.TransportationAnalystParameter} [options.parameter] - äº¤éç½ç»åæéç¨åæ°ã
 */
class FindPathParameters_FindPathParameters {

    constructor(options) {

        /**
         * @member {boolean} [SuperMap.FindPathParameters.prototype.isAnalyzeById=false]
         * @description æ¯å¦éè¿èç¹ ID æå®è·¯å¾åæçç»ç¹ã
         *              æå®è·¯å¾åæç»è¿çç»ç¹æè®¾æ½ç¹æä¸¤ç§æ¹å¼ï¼è¾å¥ç»ç¹ ID å·æç´æ¥è¾å¥ç¹åæ ã
         *              å½è¯¥å­æ®µä¸º true æ¶ï¼è¡¨ç¤ºéè¿ç»ç¹ ID æå®éç»ç¹ï¼å³ SuperMap.FindPathParameters.nodes = [ID1,ID2,...]ï¼
         *              åä¹è¡¨ç¤ºéè¿ç»ç¹åæ æå®éç»ç¹ï¼å³ SuperMap.FindPathParameters.nodes = [{x1,y1},{x2,y2},...] ã
         */
        this.isAnalyzeById = false;

        /**
         * @member {boolean} [SuperMap.FindPathParameters.prototype.hasLeastEdgeCount=false]
         * @description æ¯å¦æç§å¼§æ®µæ°æå°çè¿è¡æä½³è·¯å¾åæã
         *              true è¡¨ç¤ºæç§å¼§æ®µæ°æå°è¿è¡åæï¼è¿åå¼§æ®µæ°æå°çè·¯å¾ä¸­ä¸ä¸ªé»ææå°çæä½³è·¯å¾ï¼
         *              false è¡¨ç¤ºç´æ¥è¿åé»ææå°çè·¯å¾ï¼èä¸èèå¼§æ®µçå¤å°ã
         */
        this.hasLeastEdgeCount = null;

        /**
         * @member {Array.<SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point|number>} SuperMap.FindPathParameters.prototype.nodes
         * @description æä½³è·¯å¾åæç»è¿çç»ç¹æè®¾æ½ç¹æ°ç»ï¼å¿è®¾å­æ®µãè¯¥å­æ®µè³å°åå«ä¸¤ä¸ªç¹ã
         *              å½ SuperMap.FindPathParameters.isAnalyzeById = false æ¶ï¼nodes åºä¸ºç¹çåæ æ°ç»ï¼
         *              å½ SuperMap.FindPathParameters.isAnalyzeById = true æ¶ï¼nodes åºä¸ºç¹ç ID æ°ç»ã
         */
        this.nodes = null;

        /**
         * @member {SuperMap.TransportationAnalystParameter} SuperMap.FindPathParameters.prototype.parameter
         * @description äº¤éç½ç»åæéç¨åæ°ã
         */
        this.parameter = new TransportationAnalystParameter_TransportationAnalystParameter();
        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.FindPathParameters";
    }


    /**
     * @function SuperMap.FindPathParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.isAnalyzeById = null;
        me.hasLeastEdgeCount = null;
        me.nodes = null;
        if (me.parameter) {
            me.parameter.destroy();
            me.parameter = null;
        }
    }

}

SuperMap.FindPathParameters = FindPathParameters_FindPathParameters;
// CONCATENATED MODULE: ./src/common/iServer/FindPathService.js






/**
 * @class SuperMap.FindPathService
 * @category iServer NetworkAnalyst Path
 * @classdesc æä½³è·¯å¾åææå¡ç±»ã
 *            æä½³è·¯å¾æ¯å¨ç½ç»æ°æ®éä¸­æå®ä¸äºèç¹ï¼æç§èç¹çéæ©é¡ºåºï¼
 *            é¡ºåºè®¿é®è¿äºèç¹ä»èæ±è§£èµ·æ­¢ç¹ä¹é´é»ææå°çè·¯ç»ã
 *            è¯¥ç±»è´è´£å°å®¢æ·ç«¯æå®çæä½³è·¯å¾åæåæ°ä¼ éç»æå¡ç«¯ï¼å¹¶æ¥æ¶æå¡ç«¯è¿åçç»ææ°æ®ã
 *            æä½³è·¯å¾åæç»æéè¿è¯¥ç±»æ¯æçäºä»¶ççå¬å½æ°åæ°è·å
 * @extends {SuperMap.NetworkAnalystServiceBase}
 * @example
 * var myFindPathService = new SuperMap.FindPathService(url, {
 *     eventListeners: {
 *	       "processCompleted": findPathCompleted,
 *		   "processFailed": findPathError
 *		   }
 * });
 * @param {string} url - ç½ç»åææå¡å°åãè¯·æ±ç½ç»åææå¡ï¼URLåºä¸ºï¼
 *                       http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{ç½ç»åææå¡å}/rest/networkanalyst/{ç½ç»æ°æ®é@æ°æ®æº}ï¼
 *                       ä¾å¦:"http://localhost:8090/iserver/services/components-rest/rest/networkanalyst/RoadNet@Changchun"ã
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 */
class FindPathService_FindPathService extends NetworkAnalystServiceBase_NetworkAnalystServiceBase {

    constructor(url, options) {
        super(url, options);

        this.CLASS_NAME = "SuperMap.FindPathService";
    }

    /**
     * @function SuperMap.FindPathService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.FindPathService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.FindPathParameters} params - æä½³è·¯å¾åææå¡åæ°ç±»
     */
    processAsync(params) {
        if (!(params instanceof FindPathParameters_FindPathParameters)) {
            return;
        }
        var me = this, jsonObject,
            end = me.url.substr(me.url.length - 1, 1);
        me.url = me.url + ((end === "/") ? "path" : "/path") + ".json?";
        jsonObject = {
            hasLeastEdgeCount: params.hasLeastEdgeCount,
            parameter: Util_Util.toJSON(params.parameter),
            nodes: me.getJson(params.isAnalyzeById, params.nodes)
        };
        me.request({
            method: "GET",
            params: jsonObject,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

    /**
     * @function SuperMap.FindPathService.prototype.getJson
     * @description å°å¯¹è±¡è½¬åä¸ºJSONå­ç¬¦ä¸²ã
     * @param {boolean} isAnalyzeById - æ¯å¦éè¿idåæ
     * @param {Array} params - éè¦è½¬æ¢çæ°å­
     * @returns {Object} è½¬ååçJSONå­ç¬¦ä¸²ã
     */
    getJson(isAnalyzeById, params) {
        var jsonString = "[",
            len = params ? params.length : 0;

        if (isAnalyzeById === false) {
            for (let i = 0; i < len; i++) {
                if (i > 0) {
                    jsonString += ",";
                }
                jsonString += '{"x":' + params[i].x + ',"y":' + params[i].y + '}';
            }
        } else if (isAnalyzeById == true) {
            for (let i = 0; i < len; i++) {
                if (i > 0) {
                    jsonString += ",";
                }
                jsonString += params[i];
            }
        }
        jsonString += ']';
        return jsonString;
    }

    /**
     * @function SuperMap.FindMTSPPathsService.prototype.toGeoJSONResult
     * @description å°å«æ geometry çæ°æ®è½¬æ¢ä¸º GeoJSON æ ¼å¼ã
     * @param {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ã
     */
    toGeoJSONResult(result) {
        if (!result || !result.pathList || result.pathList.length < 1) {
            return null;
        }
        var geoJSONFormat = new GeoJSON_GeoJSON();
        result.pathList.forEach(function (path) {
            if (path.route) {
                path.route = JSON.parse(geoJSONFormat.write(path.route));
            }
            if (path.pathGuideItems) {
                path.pathGuideItems = JSON.parse(geoJSONFormat.write(path.pathGuideItems));

            }
            if (path.edgeFeatures) {
                path.edgeFeatures = JSON.parse(geoJSONFormat.write(path.edgeFeatures));
            }
            if (path.nodeFeatures) {
                path.nodeFeatures = JSON.parse(geoJSONFormat.write(path.nodeFeatures));
            }
        });
        return result;
    }

}

SuperMap.FindPathService = FindPathService_FindPathService;
// CONCATENATED MODULE: ./src/common/iServer/FindServiceAreasParameters.js




/**
 * @class SuperMap.FindServiceAreasParameters
 * @category iServer NetworkAnalyst ServiceArea
 * @classdesc æå¡åºåæåæ°ç±»ã
 *            æå¡åºåææ¯ä»¥æå®æå¡ç«ç¹ä¸ºä¸­å¿ï¼å¨ä¸å®æå¡èå´åæ¥æ¾ç½ç»ä¸æå¡ç«ç¹è½å¤æä¾æå¡çåºåèå´ã
 *            ä¾å¦ï¼è®¡ç®æå¿«é¤åºè½å¤å¨30åéåéè¾¾å¿«é¤çåºåã
 * @param {Object} options - åæ°ã 
 * @param {Array.<number>} options.weights - æ¯ä¸ªæå¡ç«ç¹æä¾æå¡çé»ååå¾ï¼è¶è¿è¿ä¸ªé»ååå¾çåºåä¸äºèèï¼å¶åä½ä¸é»åå­æ®µä¸è´ã 
 * @param {Array.<SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point|number>} options.centers - æå¡ç«ç¹æ°ç»ã 
 * @param {boolean} [options.isAnalyzeById=false] - æ¯å¦éè¿èç¹ ID æå®è·¯å¾åæçç»ç¹ã 
 * @param {boolean} [options.isCenterMutuallyExclusive=false] - æ¯å¦ä¸­å¿ç¹äºæ¥ã 
 * @param {boolean} [options.isFromCenter=false] - æ¯å¦ä»ä¸­å¿ç¹å¼å§åæã 
 * @param {SuperMap.TransportationAnalystParameter} [options.parameter] - äº¤éç½ç»åæéç¨åæ°ã
 */
class FindServiceAreasParameters_FindServiceAreasParameters {


    constructor(options) {
        /**
         * @member {boolean} [SuperMap.FindServiceAreasParameters.prototype.isAnalyzeById=false]
         * @description æ¯å¦éè¿èç¹ ID æå®è·¯å¾åæçç»ç¹ã
         *              æå®è·¯å¾åæç»è¿çç»ç¹æè®¾æ½ç¹æä¸¤ç§æ¹å¼ï¼è¾å¥ç»ç¹ ID å·æç´æ¥è¾å¥ç¹åæ ã
         *              å½è¯¥å­æ®µä¸º true æ¶ï¼è¡¨ç¤ºéè¿ç»ç¹ ID æå®éç»ç¹ï¼å³ SuperMap.FindServiceAreasParameters.centers = [ID1,ID2,...]ï¼
         *              åä¹è¡¨ç¤ºéè¿ç»ç¹åæ æå®éç»ç¹ï¼å³ SuperMap.FindServiceAreasParameters.centers = [{x1,y1},{x2,y2},...]ã
         */
        this.isAnalyzeById = false;

        /**
         * @member {boolean} [SuperMap.FindServiceAreasParameters.prototype.isCenterMutuallyExclusive=false]
         * @description æ¯å¦ä¸­å¿ç¹äºæ¥ï¼å³æç§ä¸­å¿ç¹çè·ç¦»è¿è¡å¤æ­æ¯å¦è¦è¿è¡äºæ¥å¤çã
         *              è¥åæåºçæå¡åºæéå çé¨åï¼åéè¿è®¾ç½®è¯¥åæ°è¿è¡äºæ¥å¤çã
         */
        this.isCenterMutuallyExclusive = false;

        /**
         * @member {Array.<SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point|number>} SuperMap.FindServiceAreasParameters.prototype.centers
         * @description æå¡ç«ç¹æ°ç»ã
         *              å½è¯¥ç±»ç iSAnalyzeById = true æ¶ï¼éè¿ç»ç¹ ID å·æå®æå¡ç«ç¹ï¼å½ iSAnalyzeById = false æ¶ï¼éè¿ç¹åæ æå®æå¡ç«ç¹ã
         */
        this.centers = null;

        /**
         * @member {boolean} [SuperMap.FindServiceAreasParameters.prototype.isFromCenter=false]
         * @description æ¯å¦ä»ä¸­å¿ç¹å¼å§åæã
         *              ä»ä¸­å¿ç¹å¼å§åæåä¸ä»ä¸­å¿ç¹å¼å§åæï¼ä½ç°äºæå¡ä¸­å¿åéè¦è¯¥æå¡çéæ±å°çå³ç³»æ¨¡å¼ã
         *              ä»ä¸­å¿ç¹å¼å§åæï¼æ¯ä¸ä¸ªæå¡ä¸­å¿åæå¡éæ±å°æä¾æå¡ï¼
         *              èä¸ä»ä¸­å¿ç¹å¼å§åæï¼æ¯ä¸ä¸ªæå¡éæ±å°ä¸»å¨å°æå¡ä¸­å¿è·å¾æå¡ã
         */
        this.isFromCenter = false;

        /**
         * APIProperty: weights
         * @member {Array.<number>} SuperMap.FindServiceAreasParameters.prototype.weights
         * @description æ¯ä¸ªæå¡ç«ç¹æä¾æå¡çé»ååå¾ï¼å³è¶è¿è¿ä¸ªé»ååå¾çåºåä¸äºèèï¼å¶åä½ä¸é»åå­æ®µä¸è´ã
         *              è¯¥å­æ®µä¸ºä¸ä¸ªæ°ç»ï¼æ°ç»é¿åº¦è·æå¡ä¸­å¿ä¸ªæ°ä¸è´ï¼æç§ç´¢å¼é¡ºåºä¸ç«ç¹ä¸ä¸å¯¹åºï¼æ¯ä¸ªåç´ è¡¨ç¤ºäºå¨å¯¹æ¯ä¸ªæå¡ä¸­å¿è¿è¡æå¡åºåææ¶ï¼æç¨çæå¡åå¾ã
         */
        this.weights = null;

        /**
         * @member {SuperMap.TransportationAnalystParameter} SuperMap.FindServiceAreasParameters.prototype.parameter
         * @description äº¤éç½ç»åæéç¨åæ°ã
         */
        this.parameter = new TransportationAnalystParameter_TransportationAnalystParameter();

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.FindServiceAreasParameters";
    }

    /**
     * @function SuperMap.FindServiceAreasParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.isAnalyzeById = null;
        me.isCenterMutuallyExclusive = null;
        me.centers = null;
        me.isFromCenter = null;
        me.weights = null;
        if (me.parameter) {
            me.parameter.destroy();
            me.parameter = null;
        }
    }

}

SuperMap.FindServiceAreasParameters = FindServiceAreasParameters_FindServiceAreasParameters;
// CONCATENATED MODULE: ./src/common/iServer/FindServiceAreasService.js






/**
 * @class SuperMap.FindServiceAreasService
 * @category iServer NetworkAnalyst ServiceArea
 * @classdesc æå¡åºåææå¡ç±»ã
 *            æå¡åºåææ¯ä»¥æå®æå¡ç«ç¹ä¸ºä¸­å¿ï¼
 *            å¨ä¸å®æå¡èå´åæ¥æ¾ç½ç»ä¸æå¡ç«ç¹è½å¤æä¾æå¡çåºåèå´ã
 *            è¯¥ç±»è´è´£å°å®¢æ·ç«¯æå®çæå¡åºåæåæ°ä¼ éç»æå¡ç«¯ï¼å¹¶æ¥æ¶æå¡ç«¯è¿åçç»ææ°æ®ã
 *            æå¡åºåæç»æéè¿è¯¥ç±»æ¯æçäºä»¶ççå¬å½æ°åæ°è·å
 * @extends {SuperMap.NetworkAnalystServiceBase}
 * @example
 * var myFindServiceAreasService = new SuperMap.FindServiceAreasService(url, {
 *          eventListeners: {
 *              "processCompleted": findServiceAreasCompleted,
 *              "processFailed": findServiceAreasError
 *          }
 * });
 * @param {string} url - ç½ç»åææå¡å°åãè¯·æ±ç½ç»åææå¡ï¼URLåºä¸ºï¼
 *                       http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{ç½ç»åææå¡å}/rest/networkanalyst/{ç½ç»æ°æ®é@æ°æ®æº}ï¼
 *                       ä¾å¦:"http://localhost:8090/iserver/services/components-rest/rest/networkanalyst/RoadNet@Changchun"ã
 * @param {Object} options - äºæå¡æ¶æéå¯éåæ°ãå¦ï¼
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡
 */
class FindServiceAreasService_FindServiceAreasService extends NetworkAnalystServiceBase_NetworkAnalystServiceBase {

    constructor(url, options) {
        super(url, options);

        this.CLASS_NAME = "SuperMap.FindServiceAreasService";
    }

    /**
     * @function SuperMap.FindServiceAreasService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.FindServiceAreasService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.FindServiceAreasParameters} params - æå¡åºåææå¡åæ°ç±»
     */
    processAsync(params) {
        if (!(params instanceof FindServiceAreasParameters_FindServiceAreasParameters)) {
            return;
        }
        var me = this, jsonObject,
            end = me.url.substr(me.url.length - 1, 1);
        me.url = me.url + ((end === "/") ? "servicearea" : "/servicearea") + ".json?";
        jsonObject = {
            isFromCenter: params.isFromCenter,
            isCenterMutuallyExclusive: params.isCenterMutuallyExclusive,
            parameter: Util_Util.toJSON(params.parameter),
            centers: me.getJson(params.isAnalyzeById, params.centers),
            weights: me.getJson(true, params.weights)
        };
        me.request({
            method: "GET",
            params: jsonObject,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

    /**
     * @function SuperMap.FindServiceAreasService.prototype.getJson
     * @description å°å¯¹è±¡è½¬åä¸ºJSONå­ç¬¦ä¸²ã
     * @param {boolean} isAnalyzeById - æ¯å¦éè¿idåæ
     * @param {Array} params - éè¦è½¬æ¢çæ°å­
     * @returns {Object} è½¬ååçJSONå­ç¬¦ä¸²ã
     */
    getJson(isAnalyzeById, params) {
        var jsonString = "[",
            len = params ? params.length : 0;

        if (isAnalyzeById === false) {
            for (let i = 0; i < len; i++) {
                if (i > 0) {
                    jsonString += ",";
                }
                jsonString += '{"x":' + params[i].x + ',"y":' + params[i].y + '}';
            }
        } else if (isAnalyzeById == true) {
            for (let i = 0; i < len; i++) {
                if (i > 0) {
                    jsonString += ",";
                }
                jsonString += params[i];
            }
        }
        jsonString += ']';
        return jsonString;
    }

    /**
     * @function SuperMap.FindServiceAreasService.prototype.toGeoJSONResult
     * @description å°å«æ geometry çæ°æ®è½¬æ¢ä¸º GeoJSON æ ¼å¼ã
     * @param {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ãã
     */
    toGeoJSONResult(result) {
        if (!result || !result.serviceAreaList) {
            return result;
        }
        var geoJSONFormat = new GeoJSON_GeoJSON();
        result.serviceAreaList.map(function (serviceArea) {
            if (serviceArea.serviceRegion) {
                serviceArea.serviceRegion = JSON.parse(geoJSONFormat.write(serviceArea.serviceRegion));
            }
            if (serviceArea.edgeFeatures) {
                serviceArea.edgeFeatures = JSON.parse(geoJSONFormat.write(serviceArea.edgeFeatures));
            }
            if (serviceArea.nodeFeatures) {
                serviceArea.nodeFeatures = JSON.parse(geoJSONFormat.write(serviceArea.nodeFeatures));
            }
            if (serviceArea.routes) {
                serviceArea.routes = JSON.parse(geoJSONFormat.write(serviceArea.routes));
            }
            return serviceArea;
        });

        return result;
    }

}

SuperMap.FindServiceAreasService = FindServiceAreasService_FindServiceAreasService;
// CONCATENATED MODULE: ./src/common/iServer/FindTSPPathsParameters.js




/**
 * @class SuperMap.FindTSPPathsParameters
 * @category iServer NetworkAnalyst TSPPath
 * @classdesc æè¡ååæåæ°ç±»ã
 * æè¡ååææ¯è·¯å¾åæçä¸ç§ï¼å®ä»èµ·ç¹å¼å§ï¼é»è®¤ä¸ºç¨æ·æå®çç¬¬ä¸ç¹ï¼æ¥æ¾è½å¤éåææéç»ç¹ä¸è±è´¹æå°çè·¯å¾ã
 * æè¡ååæä¹å¯ä»¥æå®å°è¾¾çç»ç¹ï¼è¿æ¶æ¥æ¾ä»èµ·ç¹è½å¤éåææéç»ç¹æåå°è¾¾ç»ç¹ï¼ä¸è±è´¹æå°çè·¯å¾ã
 * æè¡ååæåæä½³è·¯å¾åæé½æ¯å¨ç½ç»ä¸­å¯»æ¾éåææç«ç¹çæç»æµçè·¯å¾ï¼åºå«æ¯å¨éåç½ç»ææç«ç¹çè¿ç¨ä¸­å¯¹ç»ç¹è®¿é®é¡ºåºä¸å
 * æä½³è·¯å¾åæå¿é¡»æç§æå®é¡ºåºå¯¹ç«ç¹è¿è¡è®¿é®ï¼èæè¡ååææ¯æ åºçè·¯å¾åæã
 * @param {Object} options - åæ°ã 
 * @param {boolean} [options.endNodeAssigned=false] - æ¯å¦æå®ç»æ­¢ç¹ï¼å°æå®çéç»ç¹çæåä¸ä¸ªç¹ä½ä¸ºç»æ­¢ç¹ãtrue è¡¨ç¤ºæå®ç»æ­¢ç¹ï¼åæè¡åå¿é¡»æåä¸ä¸ªè®¿é®ç»æ­¢ç¹ã 
 * @param {boolean} [options.isAnalyzeById=false] - æ¯å¦éè¿èç¹ ID å·æ¥æå®ééä¸­å¿ç¹åééç®çç¹ã 
 * @param {Array.<(SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point|number)>} options.nodes - ééç®æ éåã 
 * @param {SuperMap.TransportationAnalystParameter} [options.parameter] - äº¤éç½ç»åæéç¨åæ°ã 
 */
class FindTSPPathsParameters_FindTSPPathsParameters {


    constructor(options) {
        /**
         * @member {boolean} [SuperMap.FindTSPPathsParameters.prototype.endNodeAssigned=false]
         * @description æ¯å¦æå®ç»æ­¢ç¹ï¼å°æå®çéç»ç¹çæåä¸ä¸ªç¹ä½ä¸ºç»æ­¢ç¹ã
         *              true è¡¨ç¤ºæå®ç»æ­¢ç¹ï¼åæè¡åå¿é¡»æåä¸ä¸ªè®¿é®ç»æ­¢ç¹ã
         */
        this.endNodeAssigned = false;

        /**
         * @member {boolean} [SuperMap.FindTSPPathsParameters.prototype.isAnalyzeById=false]
         * @description æ¯å¦éè¿èç¹ ID å·æ¥æå®éç»ç¹ã
         */
        this.isAnalyzeById = false;

        /**
         * @member {Array.<SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point|number>} SuperMap.FindTSPPathsParameters.prototype.nodes
         * @description æè¡ååæéç»ç¹æ°ç»ã
         *              å½ SuperMap.FindTSPPathsParameters.isAnalyzeById = false æ¶ï¼nodes åºä¸ºç¹çåæ æ°ç»ï¼
         *              å½ SuperMap.FindTSPPathsParameters.isAnalyzeById = true æ¶ï¼nodes åºä¸ºç¹ç ID æ°ç»ã
         */
        this.nodes = null;

        /**
         * @member {SuperMap.TransportationAnalystParameter} [SuperMap.FindTSPPathsParameters.prototype.parameter]
         * @description äº¤éç½ç»åæéç¨åæ°ãéè¿æ¬ç±»å¯ä»¥è®¾ç½®éç¢è¾¹ãéç¢ç¹ãæå¼å­æ®µä¿¡æ¯çåç§°æ è¯ãè½¬åæå¼å­æ®µç­ä¿¡æ¯ã
         *              SuperMap.TransportationAnalystParameter ç±»åï¼å®è½ç¶ä¸ºå¯éåæ°ï¼ä½æ¯å¦æä¸è®¾ç½®å¶ä¸­ç resultSetting
         *              å­æ®µï¼åè¿åç»æç©ºé´ä¿¡æ¯ç­é½ä¸ºç©ºã
         */
        this.parameter = new TransportationAnalystParameter_TransportationAnalystParameter();
        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.FindTSPPathsParameters";
    }

    /**
     * @function SuperMap.FindTSPPathsParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.endNodeAssigned = null;
        me.isAnalyzeById = null;
        me.nodes = null;
        if (me.parameter) {
            me.parameter.destroy();
            me.parameter = null;
        }
    }

}

SuperMap.FindTSPPathsParameters = FindTSPPathsParameters_FindTSPPathsParameters;
// CONCATENATED MODULE: ./src/common/iServer/FindTSPPathsService.js





/**
 * @class SuperMap.FindTSPPathsService
 * @category  iServer NetworkAnalyst TSPPath
 * @classdesc æè¡ååææå¡ç±»
 *            æè¡ååææ¯è·¯å¾åæçä¸ç§ï¼å®ä»èµ·ç¹å¼å§ï¼é»è®¤ä¸ºç¨æ·æå®çç¬¬ä¸ç¹ï¼æ¥æ¾è½å¤éåææéç»ç¹ä¸è±è´¹æå°çè·¯å¾ã
 *            æè¡ååæä¹å¯ä»¥æå®å°è¾¾çç»ç¹ï¼è¿æ¶æ¥æ¾ä»èµ·ç¹è½å¤éåææéç»ç¹æåå°è¾¾ç»ç¹ï¼ä¸è±è´¹æå°çè·¯å¾ã
 *            è¯¥ç±»è´è´£å°å®¢æ·ç«¯æå®çæè¡ååæåæ°ä¼ éç»æå¡ç«¯ï¼å¹¶æ¥æ¶æå¡ç«¯è¿åçç»ææ°æ®ã
 *            æè¡ååæç»æéè¿è¯¥ç±»æ¯æçäºä»¶ççå¬å½æ°åæ°è·å
 * @extends {SuperMap.NetworkAnalystServiceBase}
 * @example
 * (start code)
 * var myFindTSPPathsService = new SuperMap.FindTSPPathsService(url, {
 *     eventListeners: {
 *	      "processCompleted": findTSPPathsCompleted,
 *		  "processFailed": findTSPPathsError
 *		  }
 *  });
 * (end)
 * @param {string} url - ç½ç»åææå¡å°åãè¯·æ±ç½ç»åææå¡ï¼URLåºä¸ºï¼
 *                       http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{ç½ç»åææå¡å}/rest/networkanalyst/{ç½ç»æ°æ®é@æ°æ®æº}ï¼
 *                       ä¾å¦:"http://localhost:8090/iserver/services/components-rest/rest/networkanalyst/RoadNet@Changchun"ã
 * @param {Object} options - åæ°ã
 *        {Object} eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 */
class FindTSPPathsService_FindTSPPathsService extends NetworkAnalystServiceBase_NetworkAnalystServiceBase {

    constructor(url, options) {
        super(url, options);

        this.CLASS_NAME = "SuperMap.FindTSPPathsService";
    }

    /**
     * @function SuperMap.FindTSPPathsService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.FindTSPPathsService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.FindTSPPathsParameters} params - æè¡ååææå¡åæ°ç±»ã
     */
    processAsync(params) {
        if (!(params instanceof FindTSPPathsParameters_FindTSPPathsParameters)) {
            return;
        }
        var me = this, jsonObject,
            end = me.url.substr(me.url.length - 1, 1);
        me.url = me.url + ((end === "/") ? "tsppath" : "/tsppath") + ".json?";
        jsonObject = {
            parameter: SuperMap.Util.toJSON(params.parameter),
            endNodeAssigned: params.endNodeAssigned,
            nodes: me.getNodesJson(params)
        };
        me.request({
            method: "GET",
            params: jsonObject,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

    /**
     * @function SuperMap.FindTSPPathsService.prototype.getNodesJson
     * @description å°èç¹å¯¹è±¡è½¬åä¸ºJSONå­ç¬¦ä¸²ã
     * @param {SuperMap.FindTSPPathsParameters} params - æè¡ååææå¡åæ°ç±»ã
     * @returns {string} è½¬ååçJSONå­ç¬¦ä¸²ã
     */
    getNodesJson(params) {
        var jsonParameters = "", nodesString, i, len, nodes;
        if (params.isAnalyzeById === false) {
            for (nodesString = "[", i = 0, nodes = params.nodes, len = nodes.length; i < len; i++) {
                if (i > 0) {
                    nodesString += ",";
                }
                nodesString += '{"x":' + nodes[i].x + ',"y":' + nodes[i].y + '}';
            }
            nodesString += ']';
            jsonParameters += nodesString;
        } else if (params.isAnalyzeById == true) {
            let nodeIDsString = "[", nodes = params.nodes, len = nodes.length;
            for (let i = 0; i < len; i++) {
                if (i > 0) {
                    nodeIDsString += ",";
                }
                nodeIDsString += nodes[i];
            }
            nodeIDsString += ']';
            jsonParameters += nodeIDsString;
        }
        return jsonParameters;
    }

    /**
     * @function SuperMap.FindTSPPathsService.prototype.toGeoJSONResult
     * @description å°å«æ geometry çæ°æ®è½¬æ¢ä¸º GeoJSON æ ¼å¼ã
     * @param {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ã
     */
    toGeoJSONResult(result) {
        if (!result || !result.tspPathList) {
            return null;
        }
        var geoJSONFormat = new GeoJSON_GeoJSON();
        result.tspPathList.forEach(function (path) {
            if (path.route) {
                path.route = JSON.parse(geoJSONFormat.write(path.route));
            }
            if (path.pathGuideItems) {
                path.pathGuideItems = JSON.parse(geoJSONFormat.write(path.pathGuideItems));
            }
            if (path.edgeFeatures) {
                path.edgeFeatures = JSON.parse(geoJSONFormat.write(path.edgeFeatures));
            }
            if (path.nodeFeatures) {
                path.nodeFeatures = JSON.parse(geoJSONFormat.write(path.nodeFeatures));
            }
        });
        return result;
    }

}

SuperMap.FindTSPPathsService = FindTSPPathsService_FindTSPPathsService;
// CONCATENATED MODULE: ./src/common/iServer/GenerateSpatialDataParameters.js




/**
 * @class SuperMap.GenerateSpatialDataParameters
 * @category iServer SpatialAnalyst GenerateSpatialData
 * @classdesc å¨æåæ®µæä½åæ°ç±»ãéè¿è¯¥ç±»å¯ä»¥ä¸ºå¨æåæ®µæä¾åæ°ä¿¡æ¯ã
 * @param {Object} options - åæ°ã 
 * @param {string} options.routeTable - è·¯ç±æ°æ®éã 
 * @param {string} options.routeIDField - è·¯ç±æ°æ®éçæ è¯å­æ®µã 
 * @param {string} options.eventTable - ç¨äºçæç©ºé´æ°æ®çäºä»¶è¡¨åã 
 * @param {SuperMap.DataReturnOption} options.dataReturnOption - è®¾ç½®æ°æ®è¿åéé¡¹ã
 * @param {string} [options.attributeFilter] - å±æ§è¿æ»¤æ¡ä»¶ã 
 * @param {string} options.eventRouteIDField - ç¨äºçæç©ºé´æ°æ®çäºä»¶è¡¨çè·¯ç±æ è¯å­æ®µã 
 * @param {string} [options.measureField] - ç¨äºçæç©ºé´æ°æ®çäºä»¶è¡¨çå»åº¦å­æ®µï¼åªæå½äºä»¶ä¸ºç¹äºä»¶çæ¶åè¯¥å±æ§æææä¹ã
 * @param {string} [options.measureStartField] - ç¨äºçæç©ºé´æ°æ®çäºä»¶è¡¨çèµ·å§å»åº¦å­æ®µï¼åªæå½äºä»¶ä¸ºçº¿äºä»¶çæ¶åè¯¥å±æ§æææä¹ã 
 * @param {string} [options.measureEndField] - ç¨äºçæç©ºé´æ°æ®çäºä»¶è¡¨çç»æ­¢å»åº¦å­æ®µï¼åªæå½äºä»¶ä¸ºçº¿äºä»¶çæ¶åè¯¥å±æ§æææä¹ã 
 * @param {string} [options.measureOffsetField] - å»åº¦åç§»éå­æ®µã 
 * @param {string} [options.errorInfoField] - éè¯¯ä¿¡æ¯å­æ®µï¼ç´æ¥åå¥åäºä»¶è¡¨ï¼ç¨äºæè¿°äºä»¶æªè½çæå¯¹åºçç¹æçº¿æ¶çéè¯¯ä¿¡æ¯ã 
 * @param {Array.<string>} [options.retainedFields] - æ¬²ä¿çå°ç»æç©ºé´æ°æ®ä¸­çå­æ®µéåï¼ç³»ç»å­æ®µé¤å¤ï¼ã 
 */
class GenerateSpatialDataParameters_GenerateSpatialDataParameters {


    constructor(options) {
        /**
         * @member {string} SuperMap.GenerateSpatialDataParameters.prototype.routeTable
         * @description è·¯ç±æ°æ®éã
         */
        this.routeTable = null;

        /**
         * @member {string} SuperMap.GenerateSpatialDataParameters.prototype.routeIDField
         * @description è·¯ç±æ°æ®éçæ è¯å­æ®µã
         */
        this.routeIDField = null;
        /**
         * @member {string} [SuperMap.GenerateSpatialDataParameters.prototype.attributeFilter]
         * @description å±æ§è¿æ»¤æ¡ä»¶ã
         * å½ {@link SuperMap.GenerateSpatialDataParameters.prototype.dataReturnOption.dataReturnMode}  ä¸º {@link DataReturnMode.DATASET_AND_RECORDSET} æ {@link DataReturnMode.RECORDSET_ONLY} æ¶ææã
         */
        this.attributeFilter = null;
        /**
         * @member {string} SuperMap.GenerateSpatialDataParameters.prototype.eventTable
         * @description ç¨äºçæç©ºé´æ°æ®çäºä»¶è¡¨åã
         */
        this.eventTable = null;

        /**
         * @member {string} SuperMap.GenerateSpatialDataParameters.prototype.eventRouteIDField
         * @description ç¨äºçæç©ºé´æ°æ®çäºä»¶è¡¨çè·¯ç±æ è¯å­æ®µã
         */
        this.eventRouteIDField = null;

        /**
         * @member {string} [SuperMap.GenerateSpatialDataParameters.prototype.measureField]
         * @description ç¨äºçæç©ºé´æ°æ®çäºä»¶è¡¨çå»åº¦å­æ®µï¼åªæå½äºä»¶ä¸ºç¹äºä»¶çæ¶åè¯¥å±æ§æææä¹
         */
        this.measureField = null;

        /**
         * @member {string} [SuperMap.GenerateSpatialDataParameters.prototype.measureStartField]
         * @description ç¨äºçæç©ºé´æ°æ®çäºä»¶è¡¨çèµ·å§å»åº¦å­æ®µï¼åªæå½äºä»¶ä¸ºçº¿äºä»¶çæ¶åè¯¥å±æ§æææä¹ã
         */
        this.measureStartField = null;

        /**
         * @member {string} [SuperMap.GenerateSpatialDataParameters.prototype.measureEndField]
         * @description ç¨äºçæç©ºé´æ°æ®çäºä»¶è¡¨çç»æ­¢å»åº¦å­æ®µï¼åªæå½äºä»¶ä¸ºçº¿äºä»¶çæ¶åè¯¥å±æ§æææä¹ã
         */
        this.measureEndField = null;

        /**
         * @member {string} [SuperMap.GenerateSpatialDataParameters.prototype.measureOffsetField]
         * @description å»åº¦åç§»éå­æ®µã
         */
        this.measureOffsetField = null;

        /**
         * @member {string} [SuperMap.GenerateSpatialDataParameters.prototype.errorInfoField]
         * @description éè¯¯ä¿¡æ¯å­æ®µï¼ç´æ¥åå¥åäºä»¶è¡¨ï¼ç¨äºæè¿°äºä»¶æªè½çæå¯¹åºçç¹æçº¿æ¶çéè¯¯ä¿¡æ¯ã
         */
        this.errorInfoField = null;

        /**
         * @member {Array.<string>} [SuperMap.GenerateSpatialDataParameters.prototype.retainedFields]
         * @description æ¬²ä¿çå°ç»æç©ºé´æ°æ®ä¸­çå­æ®µéåï¼ç³»ç»å­æ®µé¤å¤ï¼ã
         * çæç©ºé´æ°æ®æ¶ï¼æ è®ºæ¯å¦æå®ä¿çå­æ®µï¼è·¯ç± ID å­æ®µãå»åº¦åç§»éå­æ®µãå»åº¦å¼å­æ®µï¼ç¹äºä»¶ä¸ºå»åº¦å­æ®µï¼çº¿äºä»¶æ¯èµ·å§åç»æ­¢å»åº¦å­æ®µï¼é½ä¼ä¿çå°ç»æç©ºé´æ°æ®ä¸­ï¼
         * å¦ææ²¡ææå® retainedFields åæ°æè retainedFields åæ°æ°ç»é¿åº¦ä¸º 0ï¼åè¿åææç¨æ·å­æ®µã
         */
        this.retainedFields = null;

        /**
         * @member {SuperMap.DataReturnOption} SuperMap.GenerateSpatialDataParameters.prototype.dataReturnOption
         * @description è®¾ç½®æ°æ®è¿åçéé¡¹ã
         */
        this.dataReturnOption = null;
        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.GenerateSpatialDataParameters";
    }


    /**
     * @function SuperMap.GenerateSpatialDataParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        if (me.routeTable) {
            me.routeTable = null;
        }
        me.routeIDField = null;
        me.attributeFilter = null;
        me.eventTable = null;
        me.eventRouteIDField = null;
        me.measureField = null;
        me.measureStartField = null;
        me.measureEndField = null;
        me.measureOffsetField = null;
        me.errorInfoField = null;
        if (me.dataReturnOption) {
            me.dataReturnOption.destroy();
            me.dataReturnOption = null;
        }
    }


}

SuperMap.GenerateSpatialDataParameters = GenerateSpatialDataParameters_GenerateSpatialDataParameters;
// CONCATENATED MODULE: ./src/common/iServer/GenerateSpatialDataService.js





/**
 * @class SuperMap.GenerateSpatialDataService
 * @category iServer SpatialAnalyst GenerateSpatialData
 * @classdesc å¨æåæ®µåææå¡ç±»ãè¯¥ç±»è´è´£å°å®¢æ·è®¾ç½®çå¨æåæ®µåææå¡åæ°ä¼ éç»æå¡ç«¯ï¼å¹¶æ¥æ¶æå¡ç«¯è¿åçå¨æåæ®µåæç»ææ°æ®ã
 * è·åçç»ææ°æ®åæ¬ originResult ãresult ä¸¤ç§ï¼å¶ä¸­ï¼originResult ä¸ºæå¡ç«¯è¿åçç¨ JSON å¯¹è±¡è¡¨ç¤ºçå¨æåæ®µåæç»ææ°æ®ï¼result ä¸ºæå¡ç«¯è¿åçå¨æåæ®µåæç»ææ°æ®ã
 * @param {string} url - æå¡çè®¿é®å°åãå¦ http://localhost:8090/iserver/services/spatialanalyst-changchun/restjsr/spatialanalystã
 * @param {Object} options - åæ°ã</br>
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 * @extends {SuperMap.SpatialAnalystBase}
 * @example å®ä¾åè¯¥ç±»å¦ä¸ä¾æç¤ºï¼
 * (start code)
 *  function GenerateSpatialData(){
     *
     *  //éç½®æ°æ®è¿åéé¡¹(option)
     *  var option = new SuperMap.DataReturnOption({
     *      expectCount: 1000,
     *      dataset: "generateSpatialData",
     *      deleteExistResultDataset: true,
     *      dataReturnMode: SuperMap.DataReturnMode.DATASET_ONLY
     *  }),
     *  //éç½®å¨æåæ®µåæ°(Parameters)
     *  parameters = new SuperMap.GenerateSpatialDataParameters({
     *      routeTable: "RouteDT_road@Changchun",
     *      routeIDField: "RouteID",
     *      eventTable: "LinearEventTabDT@Changchun",
     *      eventRouteIDField: "RouteID",
     *      measureField: "",
     *      measureStartField: "LineMeasureFrom",
     *      measureEndField: "LineMeasureTo",
     *      measureOffsetField: "",
     *      errorInfoField: "",
     *      retainedFields:[],
     *      dataReturnOption: option
     *  }),
     *  //éç½®å¨æåæ®µiService
     *  iService = new SuperMap.GenerateSpatialDataService(Changchun_spatialanalyst, {
     *      eventListeners: {
     *          processCompleted: generateCompleted,
     *          processFailed: generateFailded
     *      }
     *  });
     *  //æ§è¡
     *  iService.processAsync(parameters);
     *  function Completed(generateSpatialDataEventArgs){//todo};
     *  function Error(generateSpatialDataEventArgs){//todo};
     * (end)
     */
class GenerateSpatialDataService_GenerateSpatialDataService extends SpatialAnalystBase_SpatialAnalystBase {

    constructor(url, options) {
        super(url, options);

        this.CLASS_NAME = "SuperMap.GenerateSpatialDataService";
    }

    /**
     * @function SuperMap.GenerateSpatialDataService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }


    /**
     * @function SuperMap.GenerateSpatialDataService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çå¨æåæ®µæå¡åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.GenerateSpatialDataParameters} params - å¨æåæ®µæä½åæ°ç±»ã
     */
    processAsync(params) {
        if (!(params instanceof GenerateSpatialDataParameters_GenerateSpatialDataParameters)) {
            return;
        }
        var me = this,
            jsonParameters;

        jsonParameters = me.getJsonParameters(params);

        me.request({
            method: "POST",
            data: jsonParameters,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }


    /**
     * @function SuperMap.GenerateSpatialDataService.prototype.getJsonParameters
     * @description å°åæ°è½¬åä¸º JSON å­ç¬¦ä¸²ã
     * @param {SuperMap.GenerateSpatialDataParameters} params - å¨æåæ®µæä½åæ°ç±»ã
     * @returns {string}è½¬ååçJSONå­ç¬¦ä¸²ã
     */
    getJsonParameters(params) {
        var jsonParameters = "",
            jsonStr = "datasets/" + params.routeTable + "/linearreferencing/generatespatialdata",
            me = this,
            end;

        end = me.url.substr(me.url.length - 1, 1);
        me.url += (end === "/") ? jsonStr + ".json" : "/" + jsonStr + ".json";

        me.url += "?returnContent=true";
        jsonParameters = Util_Util.toJSON(params);
        return jsonParameters;
    }


}

SuperMap.GenerateSpatialDataService = GenerateSpatialDataService_GenerateSpatialDataService;
// CONCATENATED MODULE: ./src/common/iServer/GeoBoundingBoxQueryBuilderParameter.js





/**
 * @class SuperMap.GeoBoundingBoxQueryBuilderParameter
 * @classdesc bounds æ¥è¯¢åæ°è®¾ç½®ç±»ï¼è¯¥åæ°ä»æ¯ææ°æ®æ¥æº Elasticsearch æå¡çæ°æ®æå¡ã
 * @category iServer Data FeatureResults
 * @param {Object} options - åæ°ã 
 * @param {(SuperMap.Bounds|L.Bounds|ol.extent)} options.bounds - æ¥è¯¢èå´ã 
 * @param {SuperMap.AggregationQueryBuilderType} [options.queryType=SuperMap.AggregationQueryBuilderType.GEO_BOUNDING_BOX] - æ¥è¯¢ç±»åã 
 */
class GeoBoundingBoxQueryBuilderParameter_GeoBoundingBoxQueryBuilderParameter extends AggQueryBuilderParameter_AggQueryBuilderParameter {
    constructor(options) {
        super(options);
        /**
         * @member {(SuperMap.Bounds|L.Bounds|ol.extent)} SuperMap.GeoBoundingBoxQueryBuilderParameter.prototype.bounds
         * @description æ¥è¯¢èå´ã
         */
        this.bounds = null;

        /**
         * @member {SuperMap.AggregationQueryBuilderType} [SuperMap.GeoBoundingBoxQueryBuilderParameter.prototype.queryType=SuperMap.AggregationQueryBuilderType.GEO_BOUNDING_BOX]
         * @description æ¥è¯¢ç±»åã
         */
        this.queryType = AggregationQueryBuilderType.GEO_BOUNDING_BOX;
        this.CLASS_NAME = "SuperMap.GeoBoundingBoxQueryBuilderParameter";
        Util_Util.extend(this, options);
    }

    destroy() {
        super.destroy();
        this.bounds = null;
        this.queryType = null;
    }
}

SuperMap.GeoBoundingBoxQueryBuilderParameter = GeoBoundingBoxQueryBuilderParameter_GeoBoundingBoxQueryBuilderParameter
// CONCATENATED MODULE: ./src/common/iServer/GeoHashGridAggParameter.js





/**
 * @class SuperMap.GeoHashGridAggParameter
 * @classdesc æ ¼ç½èåæ¥è¯¢åæ°ç±»ï¼è¯¥åæ°ä»æ¯ææ°æ®æ¥æº Elasticsearch æå¡çæ°æ®æå¡ã
 * @category iServer Data FeatureResults
 * @param {Object} option - åå§ååæ°ã
 * @param {number} [option.precision=5] - ç½æ ¼ä¸­æ°å­çç²¾åº¦ã
 * @param {SuperMap.AggregationType} [option.aggType=SuperMap.AggregationType.GEOHASH_GRID] - æ ¼ç½èåç±»åã
 */
class GeoHashGridAggParameter_GeoHashGridAggParameter extends AggregationParameter_AggregationParameter {
    constructor(option) {
        super(option);
        /**
         * @member {number} [SuperMap.GeoHashGridAggParameter.prototype.precision=5]
         * @description ç½æ ¼ä¸­æ°å­çç²¾åº¦ã
         */
        this.precision = 5;
        /**
         * @member {SuperMap.AggregationType} [SuperMap.GeoHashGridAggParameter.prototype.aggType=SuperMap.AggregationType.GEOHASH_GRID]
         * @description æ ¼ç½èåç±»åã
         */
        this.aggType = AggregationType.GEOHASH_GRID;

        Util_Util.extend(this, option);

        this.CLASS_NAME = "SuperMap.GeoHashGridAggParameter";
    }

    destroy() {
        super.destroy();
        this.aggType = null;
    }

    /**
     * @function SuperMap.GeoHashGridAggParameter.toJsonParameters
     * @description å°å¯¹è±¡è½¬ä¸º JSON æ ¼å¼ã
     * @param param è½¬æ¢å¯¹è±¡ã
     * @returns {string|object}
     */
    static toJsonParameters(param) {
        var parameters = {
            aggName: param.aggName,
            aggFieldName: param.aggFieldName,
            aggType: param.aggType,
            precision: param.precision
        };
        if (param.subAgg) {
            parameters.subAgg = param.subAgg;
        }
        return Util_Util.toJson(parameters);
    }
}

SuperMap.GeoHashGridAggParameter = GeoHashGridAggParameter_GeoHashGridAggParameter;


// CONCATENATED MODULE: ./src/common/iServer/GeometryOverlayAnalystParameters.js





/**
 * @class SuperMap.GeometryOverlayAnalystParameters
 * @category  iServer SpatialAnalyst OverlayAnalyst
 * @classdesc
 * å ä½å¯¹è±¡å å åæåæ°ç±»ãå¯¹æå®çæä¸¤ä¸ªå ä½å¯¹è±¡åå å åæãéè¿è¯¥ç±»å¯ä»¥æå®è¦åå å åæçå ä½å¯¹è±¡ãå å æä½ç±»åã
 * @param {Object} options - åæ°ã 
 * @param {Object} options.operateGeometry - å å åæçæä½å ä½å¯¹è±¡ã </br>
 *                                   ç¹ç±»åå¯ä»¥æ¯ï¼{@link SuperMap.Geometry.Point}|{@link L.Point}|{@link L.GeoJSON}|{@link ol.geom.Point}|{@link ol.format.GeoJSON}ã</br>
 *                                   çº¿ç±»åå¯ä»¥æ¯ï¼{@link SuperMap.Geometry.LineString}|{@link SuperMap.Geometry.LinearRing}|{@link L.Polyline}|{@link L.GeoJSON}|{@link ol.geom.LineString}|GeoJSONã</br>
 *                                   é¢ç±»åå¯ä»¥æ¯ï¼{@link SuperMap.Geometry.Polygon}|{@link L.Polygon}|{@link L.GeoJSON}|{@link ol.geom.Polygon}|GeoJSONã 
 * @param {Object} options.sourceGeometry - å å åæçæºå ä½å¯¹è±¡ã 
 * @param {Array.<Object>} [options.operateGeometries] - æ¹éå å åæçæä½å ä½å¯¹è±¡æ°ç»ã 
 * @param {Array.<Object>} [options.sourceGeometries] -æ¹éå å åæçæºå ä½å¯¹è±¡æ°ç»ã 
 * @param {SuperMap.OverlayOperationType} [options.operation] - å å æä½æä¸¾å¼ã 
 * @extends {SuperMap.OverlayAnalystParameters}
 */
class GeometryOverlayAnalystParameters_GeometryOverlayAnalystParameters extends OverlayAnalystParameters_OverlayAnalystParameters {

    constructor(options) {
        super(options);
        if (options && options.operateGeometry) {
            this.operateGeometry = options.operateGeometry;
        }
        if (options && options.sourceGeometry) {
            this.sourceGeometry = options.sourceGeometry;
        }
        if (options && options.operateGeometries) {
            this.operateGeometries = options.operateGeometries;
        }
        if (options && options.sourceGeometries) {
            this.sourceGeometries = options.sourceGeometries;
        }

        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = "SuperMap.GeometryOverlayAnalystParameters";
    }

    /**
     * @function SuperMap.GeometryOverlayAnalystParameters.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        var me = this;
        if (me.sourceGeometry) {
            me.sourceGeometry.destroy();
            me.sourceGeometry = null;
        }

        if (me.sourceGeometries) {
            me.sourceGeometries.destroy();
            me.sourceGeometries = null;
        }
        if (me.sourceGeometry) {
            me.sourceGeometry.destroy();
            me.sourceGeometry = null;
        }

        if (me.operateGeometries) {
            me.operateGeometries.destroy();
            me.operateGeometries = null;
        }
    }

    /**
     * @function SuperMap.GeometryOverlayAnalystParameters.toObject
     * @param {SuperMap.GeometryOverlayAnalystParameters} geometryOverlayAnalystParameters - å ä½å¯¹è±¡å å åæåæ°ç±»ã
     * @param {SuperMap.GeometryOverlayAnalystParameters} tempObj - å ä½å¯¹è±¡å å åæåæ°å¯¹è±¡ã
     * @description å°å ä½å¯¹è±¡å å åæåæ°å¯¹è±¡è½¬æ¢ä¸º JSON å¯¹è±¡ã
     * @returns {Object} JSON å¯¹è±¡ã
     */
    static toObject(geometryOverlayAnalystParameters, tempObj) {
        for (var name in geometryOverlayAnalystParameters) {
            if (name === "sourceGeometry") {
                tempObj.sourceGeometry = ServerGeometry_ServerGeometry.fromGeometry(geometryOverlayAnalystParameters.sourceGeometry);

            } else if (name === "sourceGeometries") {
                var sourceGeometries = [];
                for (var i = 0; i < geometryOverlayAnalystParameters.sourceGeometries.length; i++) {
                    sourceGeometries.push(ServerGeometry_ServerGeometry.fromGeometry(geometryOverlayAnalystParameters.sourceGeometries[i]));
                }
                tempObj.sourceGeometries = sourceGeometries;

            } else if (name === "operateGeometry") {
                tempObj.operateGeometry = ServerGeometry_ServerGeometry.fromGeometry(geometryOverlayAnalystParameters.operateGeometry);

            } else if (name === "operateGeometries") {
                var operateGeometries = [];
                for (var j = 0; j < geometryOverlayAnalystParameters.operateGeometries.length; j++) {
                    operateGeometries.push(ServerGeometry_ServerGeometry.fromGeometry(geometryOverlayAnalystParameters.operateGeometries[j]));
                }
                tempObj.operateGeometries = operateGeometries;

            } else {
                tempObj[name] = geometryOverlayAnalystParameters[name];
            }
        }
    }
}

SuperMap.GeometryOverlayAnalystParameters = GeometryOverlayAnalystParameters_GeometryOverlayAnalystParameters;
// CONCATENATED MODULE: ./src/common/iServer/GeometrySurfaceAnalystParameters.js




/**
 * @class SuperMap.GeometrySurfaceAnalystParameters
 * @category  iServer SpatialAnalyst SurfaceAnalyst
 * @classdesc å ä½å¯¹è±¡è¡¨é¢åæåæ°ç±»ãè¯¥ç±»å¯¹å ä½å¯¹è±¡è¡¨é¢åææç¨å°çåæ°è¿è¡è®¾ç½®ã
 * @param {Object} options - åæ°ã 
 * @param {Array.<SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point>} options.points - è¡¨é¢åæçåæ ç¹æ°ç»ã 
 * @param {Array.<number>} options.zValues - è¡¨é¢åæçåæ ç¹ç Z å¼æ°ç»ã 
 * @param {number} [options.resolution] - è·åæè®¾ç½®æå®ä¸­é´ç»æï¼æ æ ¼æ°æ®éï¼çåè¾¨çã 
 * @param {SuperMap.DataReturnOption} [options.resultSetting] - ç»æè¿åè®¾ç½®ç±»ã 
 * @param {SuperMap.SurfaceAnalystParametersSetting} options.extractParameter - è·åæè®¾ç½®è¡¨é¢åæåæ°ã 
 * @param {SuperMap.SurfaceAnalystMethod} [options.surfaceAnalystMethod = SuperMap.SurfaceAnalystMethod.ISOLINE] - è·åæè®¾ç½®è¡¨é¢åæçæåæ¹æ³ï¼æåç­å¼çº¿åæåç­å¼é¢ã 
 * @extends {SuperMap.SurfaceAnalystParameters}
 */
class GeometrySurfaceAnalystParameters_GeometrySurfaceAnalystParameters extends SurfaceAnalystParameters_SurfaceAnalystParameters {


    constructor(options) {
        super(options);
        /**
         * @member {Array.<SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point>} SuperMap.GeometrySurfaceAnalystParameters.prototype.points
         * @description è·åæè®¾ç½®ç¨äºè¡¨é¢åæçåæ ç¹æ°ç»ã
         */
        this.points = null;

        /**
         * @member {Array.<number>} SuperMap.GeometrySurfaceAnalystParameters.prototype.zValues
         * @description è·åæè®¾ç½®ç¨äºæåæä½çå¼ãæåç­å¼çº¿æ¶ï¼å°ä½¿ç¨è¯¥æ°ç»ä¸­çå¼ï¼
         * å¯¹å ä½å¯¹è±¡ä¸­çåæ ç¹æ°ç»è¿è¡æå¼åæï¼å¾å°æ æ ¼æ°æ®éï¼ä¸­é´ç»æï¼ï¼æ¥çä»æ æ ¼æ°æ®éæåç­å¼çº¿ã
         */
        this.zValues = null;
        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.GeometrySurfaceAnalystParameters";
    }

    /**
     * @function SuperMap.GeometrySurfaceAnalystParameters.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        var me = this;
        if (me.points) {
            for (var i = 0, points = me.points, len = points.length; i < len; i++) {
                points[i].destroy();
            }
            me.points = null;
        }
        me.zValues = null;
    }

}

SuperMap.GeometrySurfaceAnalystParameters = GeometrySurfaceAnalystParameters_GeometrySurfaceAnalystParameters;

// CONCATENATED MODULE: ./src/common/iServer/GeometryThiessenAnalystParameters.js





/**
 * @class SuperMap.GeometryThiessenAnalystParameters
 * @constructs SuperMap.GeometryThiessenAnalystParameters
 * @category iServer SpatialAnalyst ThiessenPolygonAnalyst
 * @classdesc å ä½å¯¹è±¡æ³°æ£®å¤è¾¹å½¢åæåæ°ç±»ãå¯¹æå®çæä¸ªå ä½å¯¹è±¡åæ³°æ£®å¤è¾¹å½¢åæãéè¿è¯¥ç±»å¯ä»¥æå®è¦åæ³°æ£®å¤è¾¹å½¢åæçå ä½å¯¹è±¡ãè¿åæ°æ®éåç§°ç­ã
 * @param {Object} options - åæ°ã 
 * @param {Array.<SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point>} options.points - ä½¿ç¨ç¹æ°ç»è¿è¡åææ¶ä½¿ç¨çå ä½å¯¹è±¡ã 
 * @extends {SuperMap.ThiessenAnalystParameters}
 */

class GeometryThiessenAnalystParameters_GeometryThiessenAnalystParameters extends ThiessenAnalystParameters_ThiessenAnalystParameters {


    constructor(options) {
        super(options);
        /**
         * @member {Array.<SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point>} SuperMap.GeometryThiessenAnalystParameters.prototype.points
         * @description ä½¿ç¨ç¹æ°ç»è¿è¡åææ¶ä½¿ç¨çå ä½å¯¹è±¡ã
         */
        this.points = null;
        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = "SuperMap.GeometryThiessenAnalystParameters";
    }

    /**
     * @function SuperMap.GeometryThiessenAnalystParameters.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        var me = this;
        if (me.points) {
            for (var i = me.points.length - 1; i >= 0; i--) {
                me.points[i].destroy();
            }
            me.points = null;
        }
    }

    /**
     * @function SuperMap.GeometryThiessenAnalystParameters.toObject
     * @param {SuperMap.GeometryThiessenAnalystParameters} geometryThiessenAnalystParameters - å ä½å¯¹è±¡æ³°æ£®å¤è¾¹å½¢åæåæ°ç±»ã
     * @param {SuperMap.GeometryThiessenAnalystParameters} tempObj - å ä½å¯¹è±¡æ³°æ£®å¤è¾¹å½¢åæåæ°å¯¹è±¡ã
     * @description å°å ä½å¯¹è±¡æ³°æ£®å¤è¾¹å½¢åæåæ°å¯¹è±¡è½¬æ¢ä¸º JSON å¯¹è±¡ã
     * @returns {Object} JSON å¯¹è±¡ã
     */
    static toObject(geometryThiessenAnalystParameters, tempObj) {
        for (var name in geometryThiessenAnalystParameters) {
            if (name === "clipRegion") {
                tempObj.clipRegion = ServerGeometry_ServerGeometry.fromGeometry(geometryThiessenAnalystParameters.clipRegion);
            } else {
                tempObj[name] = geometryThiessenAnalystParameters[name];
            }
        }
    }


}

SuperMap.GeometryThiessenAnalystParameters = GeometryThiessenAnalystParameters_GeometryThiessenAnalystParameters;
// CONCATENATED MODULE: ./src/common/iServer/GeoRelationAnalystParameters.js





/**
 * @class SuperMap.GeoRelationAnalystParameters
 * @category iServer SpatialAnalyst GeoRelationAnalyst
 * @classdesc ç©ºé´å³ç³»åææå¡åæ°ç±»ãä½¿ç¨è¯¥ç±»å¯ä»¥ä¸ºç©ºé´å³ç³»åææå¡æä¾æéçåæ°ä¿¡æ¯ã
 * @param {Object} options - åæ°ã 
 * @param {SuperMap.FilterParameter} options.sourceFilter - ç©ºé´å³ç³»åæä¸­çæºæ°æ®éæ¥è¯¢åæ°ãä» name, ids, attributeFilter å fields å­æ®µææã 
 * @param {SuperMap.FilterParameter} options.referenceFilter - ç©ºé´å³ç³»åæä¸­çåèæ°æ®éæ¥è¯¢åæ°ãä» name, ids, attributeFilter å fields å­æ®µææã 
 * @param {SuperMap.SpatialRelationType} options.spatialRelationType - æå®çç©ºé´å³ç³»ç±»åã 
 * @param {boolean} [options.isBorderInside] - è¾¹çå¤çæ¹å¼ï¼å³ä½äºé¢è¾¹çº¿ä¸çç¹æ¯å¦è¢«é¢åå«ãæ­¤åæ°ä»ç¨äºç©ºé´å³ç³»ä¸ºåå«æè¢«åå«çæåµã 
 * @param {boolean} [options.returnFeature] - æ¯å¦è¿å Feature ä¿¡æ¯ã 
 * @param {boolean} [options.returnGeoRelatedOnly=true] - ä»è¿åæ»¡è¶³æå®ç©ºé´å³ç³»çç©ºé´å¯¹è±¡ã 
 * @param {number} [options.startRecord=0] - åæç»æèµ·å§è®°å½ä½ç½®ã 
 * @param {number} [options.expectCount=500] - ç©ºé´å³ç³»åæææè¿åç»æè®°å½æ°ï¼å¦æå®éä¸è¶³500æ¡ç»æåè¿åææåæç»æã 
 */
class GeoRelationAnalystParameters_GeoRelationAnalystParameters {


    constructor(options) {
        /**
         *  @member {string} SuperMap.GeoRelationAnalystParameters.prototype.dataset
         *  @description æºæ°æ®éåç§°ã
         */
        this.dataset = null;

        /**
         * @member {SuperMap.FilterParameter} SuperMap.GeoRelationAnalystParameters.prototype.sourceFilter
         * @description ç©ºé´å³ç³»åæä¸­çæºæ°æ®éæ¥è¯¢åæ°ãä» idsãattributeFilter å fields å­æ®µææã
         */
        this.sourceFilter = null;

        /**
         * @member {SuperMap.FilterParameter} SuperMap.GeoRelationAnalystParameters.prototype.referenceFilter
         * @description ç©ºé´å³ç³»åæä¸­çåèæ°æ®éæ¥è¯¢åæ°ãä» nameï¼idsï¼attributeFilter å fields å­æ®µææã
         */
        this.referenceFilter = null;

        /**
         * @member {SuperMap.SpatialRelationType} SuperMap.GeoRelationAnalystParameters.prototype.spatialRelationType
         * @description æå®çç©ºé´å³ç³»ç±»åã
         */
        this.spatialRelationType = null;

        /**
         * @member {boolean} [SuperMap.GeoRelationAnalystParameters.prototype.isBorderInside]
         * @description è¾¹çå¤çæ¹å¼ï¼å³ä½äºé¢è¾¹çº¿ä¸çç¹æ¯å¦è¢«é¢åå«ãæ­¤åæ°ä»ç¨äºç©ºé´å³ç³»ä¸ºåå«æè¢«åå«çæåµã
         */
        this.isBorderInside = null;

        /**
         * @member {boolean} [SuperMap.GeoRelationAnalystParameters.prototype.returnFeature]
         * @description æ¯å¦è¿å Feature ä¿¡æ¯ã
         */ 
        this.returnFeature = null;

        /**
         * @member {boolean} [SuperMap.GeoRelationAnalystParameters.prototype.returnGeoRelatedOnly=true]
         * @description æ¯å¦ä»è¿åæ»¡è¶³æå®ç©ºé´å³ç³»çç©ºé´å¯¹è±¡ã
         */
        this.returnGeoRelatedOnly = null;

        /**
         * @member {number} [SuperMap.GeoRelationAnalystParameters.prototype.returnGeoRelatedOnly=0]
         * @description åæç»æèµ·å§è®°å½ä½ç½®ã
         */
        this.startRecord = 0;

        /**
         * @member {number} [SuperMap.GeoRelationAnalystParameters.prototype.expectCount=500]
         * @description ç©ºé´å³ç³»åæææè¿åç»æè®°å½æ°ï¼å¦æå®éä¸è¶³ 500 æ¡ç»æåè¿åææåæç»æã
         */
        this.expectCount = 500;
        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.GeoRelationAnalystParameters";
    }

    /**
     * @function SuperMap.GeoRelationAnalystParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        if (me.sourceFilter) {
            me.sourceFilter.destroy();
        }
        me.sourceFilter = null;

        if (me.referenceFilter) {
            me.referenceFilter.destroy();
        }
        me.referenceFilter = null;

        me.dataset = null;
        me.spatialRelationType = null;
        me.isBorderInside = null;
        me.returnFeature = null;
        me.returnGeoRelatedOnly = null;
        me.startRecord = null;
        me.expectCount = null;
    }

}

SuperMap.GeoRelationAnalystParameters = GeoRelationAnalystParameters_GeoRelationAnalystParameters;
// CONCATENATED MODULE: ./src/common/iServer/GeoRelationAnalystService.js




/**
 * @class SuperMap.GeoRelationAnalystService
 * @category iServer SpatialAnalyst GeoRelationAnalyst
 * @classdesc ç©ºé´å³ç³»åææå¡ç±»ãè¯¥ç±»è´è´£å°å®¢æ·è®¾ç½®çç©ºé´å³ç³»åææå¡åæ°ä¼ éç»æå¡ç«¯ï¼å¹¶æ¥æ¶æå¡ç«¯è¿åçç©ºé´å³ç³»åæç»ææ°æ®ã
 * @param {string} url - æå¡çè®¿é®å°åãå¦ http://localhost:8090/iserver/services/spatialanalyst-changchun/restjsr/spatialanalystã
 * @param {Object} options - åæ°ã</br>
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 * @extends {SuperMap.SpatialAnalystBase}
 * @example å®ä¾åè¯¥ç±»å¦ä¸ä¾æç¤ºï¼
 * (start code)
 *  function datasetGeoRelationAnalystProcess() {
     *      var referenceFilter = new SuperMap.FilterParameter({
     *                              name:"Frame_R@Changchun",
     *                              attributeFilter:"SmID>0"});
     *      var sourceFilter = new SuperMap.FilterParameter({
     *                          attributeFilter:"SmID>0"});
     *      //åå§åæå¡ç±»
     *      var datasetGeoRelationService = new SuperMap.GeoRelationAnalystService(
     *          "http://localhost:8090/iserver/services/spatialanalyst-changchun/restjsr/spatialanalyst/"),
     *      //æå»ºåæ°ç±»
     *      datasetGeoRelationParameters = new SuperMap.GeoRelationAnalystParameters({
     *          dataset: "Park@Changchun",
     *          startRecord: 0,
     *          expectCount: 20,
     *          sourceFilter: sourceFilter,
     *          referenceFilter: referenceFilter,
     *          spatialRelationType: SuperMap.SpatialRelationType.INTERSECT,
     *          isBorderInside: true,
     *          returnFeature: true,
     *          returnGeoRelatedOnly: true
     *      });
     *      datasetGeoRelationService.events.on({
     *          "processCompleted": datasetGeoRelationAnalystCompleted,
     *          "processFailed": datasetGeoRelationAnalystFailed});
     *      //æ§è¡
     *      datasetGeoRelationService.processAsync(datasetGeoRelationParameters);
     *  }
 *  function Completed(datasetGeoRelationAnalystCompleted){//todo};
 *  function Error(datasetGeoRelationAnalystFailed){//todo};
 * (end)
 *
 */
class GeoRelationAnalystService_GeoRelationAnalystService extends SpatialAnalystBase_SpatialAnalystBase {

    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.GeoRelationAnalystService";
    }

    /**
     * @function SuperMap.GeoRelationAnalystService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.GeoRelationAnalystService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çç©ºé´å³ç³»åæåæ°ä¼ éå°æå¡ç«¯
     * @param {SuperMap.GeoRelationAnalystParameters} parameter - ç©ºé´å³ç³»åææéçåæ°ä¿¡æ¯ã
     */
    processAsync(parameter) {
        if (!(parameter instanceof GeoRelationAnalystParameters_GeoRelationAnalystParameters)) {
            return;
        }
        var me = this;
        var end = me.url.substr(me.url.length - 1, 1);
        if (end === '/') {
            me.url += 'datasets/' + parameter.dataset + '/georelation';
        } else {
            me.url += '/datasets/' + parameter.dataset + '/georelation';
        }

        var jsonParameters = SuperMap.Util.toJSON(parameter);

        me.url += '.json?returnContent=true';

        me.request({
            method: "POST",
            data: jsonParameters,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }


}

SuperMap.GeoRelationAnalystService = GeoRelationAnalystService_GeoRelationAnalystService;
// CONCATENATED MODULE: ./src/common/iServer/GetFeaturesParametersBase.js



/**
 * @class SuperMap.GetFeaturesParametersBase
 * @category  iServer Data FeatureResults
 * @classdesc è¦ç´ æ¥è¯¢åæ°åºç±»ã
 * @param {Object} options - åæ°ã 
 * @param {Array.<string>} options.datasetNames - æ°æ®ééåä¸­çæ°æ®éåç§°åè¡¨ã 
 * @param {boolean} [options.returnContent=true] - æ¯å¦ç´æ¥è¿åæ¥è¯¢ç»æã 
 * @param {number} [options.fromIndex=0] - æ¥è¯¢ç»æçæå°ç´¢å¼å·ã 
 * @param {number} [options.toIndex=19] - æ¥è¯¢ç»æçæå¤§ç´¢å¼å·ã 
 */
class GetFeaturesParametersBase_GetFeaturesParametersBase {


    constructor(options) {
        /**
         * @member {Array.<string>} SuperMap.GetFeaturesParametersBase.prototype.datasetName
         * @description æ°æ®ééåä¸­çæ°æ®éåç§°åè¡¨ã
         */
        this.datasetNames = null;

        /**
         * @member {boolean} [SuperMap.GetFeaturesParametersBase.prototype.returnContent=true]
         * @description æ¯å¦ç«å³è¿åæ°åå»ºèµæºçè¡¨è¿°è¿æ¯è¿åæ°èµæºç URIã
         *              å¦æä¸º trueï¼åç´æ¥è¿åæ°åå»ºèµæºï¼å³æ¥è¯¢ç»æçè¡¨è¿°ã
         *              å¦æä¸º falseï¼åè¿åçæ¯æ¥è¯¢ç»æèµæºç URIã
         */
        this.returnContent = true;

        /**
         * @member {number} [SuperMap.GetFeaturesParametersBase.prototype.fromIndex=0]
         * @description æ¥è¯¢ç»æçæå°ç´¢å¼å·ãå¦æè¯¥å¼å¤§äºæ¥è¯¢ç»æçæå¤§ç´¢å¼å·ï¼åæ¥è¯¢ç»æä¸ºç©ºã
         */
        this.fromIndex = 0;

        /**
         * @member {number} [SuperMap.GetFeaturesParametersBase.prototype.toIndex=19]
         * @description æ¥è¯¢ç»æçæå¤§ç´¢å¼å·ãå¦æè¯¥å¼å¤§äºæ¥è¯¢ç»æçæå¤§ç´¢å¼å·ï¼åä»¥æ¥è¯¢ç»æçæå¤§ç´¢å¼å·ä¸ºç»æ­¢ç´¢å¼å·ã
         */
        this.toIndex = 19;

        /**
         * @member {boolean} [SuperMap.GetFeaturesParametersBase.prototype.returnCountOnly=false]
         * @description åªè¿åæ¥è¯¢ç»æçæ»æ°ã
         */
        this.returnCountOnly = false;

        /**
         * @member {number} [SuperMap.GetFeaturesParametersBase.prototype.maxFeatures=1000]
         * @description è¿è¡ SQL æ¥è¯¢æ¶ï¼ç¨äºè®¾ç½®æå¡ç«¯è¿åæ¥è¯¢ç»ææ¡ç®æ°éã
         */
        this.maxFeatures = null;

        /**
         * @member {Object} SuperMap.GetFeaturesParametersBase.prototype.aggregations
         * @description èåæ¥è¯¢åæ°ï¼è¯¥åæ°ä»æ¯ææ°æ®æ¥æº Elasticsearch æå¡çæ°æ®æå¡ã
         */
        this.aggregations = null;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.GetFeaturesParametersBase";
    }

    /**
     *
     * @function SuperMap.GetFeaturesParametersBase.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.datasetNames = null;
        me.returnContent = null;
        me.fromIndex = null;
        me.toIndex = null;
        me.maxFeatures = null;
        if (me.aggregation) {
            me.aggregation = null;
        }
    }
}

SuperMap.GetFeaturesParametersBase = GetFeaturesParametersBase_GetFeaturesParametersBase;
// CONCATENATED MODULE: ./src/common/iServer/GetFeaturesByBoundsParameters.js






/**
 * @class SuperMap.GetFeaturesByBoundsParameters
 * @category iServer Data FeatureResults
 * @classdesc æ°æ®éèå´æ¥è¯¢åæ°ç±»ï¼è¯¥ç±»ç¨äºè®¾ç½®æ°æ®éèå´æ¥è¯¢çç¸å³åæ°ã
 * @param {Object} options - åæ°ã 
 * @param {(SuperMap.Bounds|L.Bounds|ol.extent)} options.bounds - ç¨äºæ¥è¯¢çèå´å¯¹è±¡ã 
 * @param {Array.<string>} options.datasetNames - æ°æ®ééåä¸­çæ°æ®éåç§°åè¡¨ã 
 * @param {string} [options.attributeFilter] - èå´æ¥è¯¢å±æ§è¿æ»¤æ¡ä»¶ã 
 * @param {Array.<string>} [options.fields] - è®¾ç½®æ¥è¯¢ç»æè¿åå­æ®µãé»è®¤è¿åææå­æ®µã 
 * @param {SuperMap.SpatialQueryMode} [options.spatialQueryMode=SuperMap.SpatialQueryMode.CONTAIN] - ç©ºé´æ¥è¯¢æ¨¡å¼å¸¸éã 
 * @param {SuperMap.FilterParameter} [options.queryParameter] - æ¥è¯¢è¿æ»¤æ¡ä»¶åæ°ã 
 * @param {boolean} [options.returnContent=true] - æ¯å¦ç´æ¥è¿åæ¥è¯¢ç»æã 
 * @param {number} [options.fromIndex=0] - æ¥è¯¢ç»æçæå°ç´¢å¼å·ã 
 * @param {number} [options.toIndex=19] - æ¥è¯¢ç»æçæå¤§ç´¢å¼å·ã 
 * @extends {SuperMap.GetFeaturesParametersBase}
 */

class GetFeaturesByBoundsParameters_GetFeaturesByBoundsParameters extends GetFeaturesParametersBase_GetFeaturesParametersBase {

    constructor(options) {
        super(options);
        /**
         * @member {string} SuperMap.GetFeaturesByBoundsParameters.prototype.getFeatureMode
         * @description æ°æ®éæ¥è¯¢æ¨¡å¼ãèå´æ¥è¯¢æ "BOUNDS"ï¼"BOUNDS_ATTRIBUTEFILTER" ä¸¤ç§ï¼å½ç¨æ·è®¾ç½® attributeFilter æ¶ä¼èªå¨åæ¢å° BOUNDS_ATTRIBUTEFILTER è®¿é®æå¡ã
         */
        this.getFeatureMode = GetFeaturesByBoundsParameters_GetFeaturesByBoundsParameters.getFeatureMode.BOUNDS;

        /**
         * @member {(SuperMap.Bounds|L.Bounds|ol.extent)} SuperMap.GetFeaturesByBoundsParameters.prototype.bounds
         * @description ç¨äºæ¥è¯¢çèå´å¯¹è±¡ã
         *
         */
        this.bounds = null;

        /**
         * @member {Array.<string>} SuperMap.GetFeaturesByBoundsParameters.prototype.fields
         * @description è®¾ç½®æ¥è¯¢ç»æè¿åå­æ®µãå½æå®äºè¿åç»æå­æ®µåï¼å GetFeaturesResult ä¸­ç features çå±æ§å­æ®µåªåå«ææå®çå­æ®µãä¸è®¾ç½®å³è¿åå¨é¨å­æ®µã
         */
        this.fields = null;

        /**
         * @member {string} SuperMap.GetFeaturesByBoundsParameters.prototype.attributeFilter
         * @description èå´æ¥è¯¢å±æ§è¿æ»¤æ¡ä»¶ã
         */
        this.attributeFilter = null;

        /**
         * @member {SuperMap.SpatialQueryMode} [SuperMap.GetFeaturesByBoundsParameters.prototype.spatialQueryMode=SuperMap.SpatialQueryMode.CONTAIN]
         * @description ç©ºé´æ¥è¯¢æ¨¡å¼å¸¸éã
         */
        this.spatialQueryMode = SpatialQueryMode.CONTAIN;
        Util_Util.extend(this, options);
        this.CLASS_NAME = "SuperMap.GetFeaturesByBoundsParameters";
    }

    /**
     * @function SuperMap.GetFeaturesByBoundsParameters.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        var me = this;
        if (me.bounds) {
            me.bounds.destroy();
            me.bounds = null;
        }
        if (me.fields) {
            while (me.fields.length > 0) {
                me.fields.pop();
            }
            me.fields = null;
        }
        me.attributeFilter = null;
        me.spatialQueryMode = null;
        me.getFeatureMode = null;
    }

    /**
     * @function SuperMap.GetFeaturesByBoundsParameters.toJsonParameters
     * @description å° {@link SuperMap.GetFeaturesByBoundsParameters} å¯¹è±¡åæ°è½¬æ¢ä¸º JSON å­ç¬¦ä¸²ã
     * @param {SuperMap.GetFeaturesByBoundsParameters} params - èå´æ¥è¯¢åæ°ã
     * @returns {string} è½¬ååç JSON å­ç¬¦ä¸²ã
     *
     */
    static toJsonParameters(params) {
        var filterParameter,
            bounds,
            parasByBounds;

        bounds = {
            "leftBottom": {"x": params.bounds.left, "y": params.bounds.bottom},
            "rightTop": {"x": params.bounds.right, "y": params.bounds.top}
        };
        parasByBounds = {
            datasetNames: params.datasetNames,
            getFeatureMode: GetFeaturesByBoundsParameters_GetFeaturesByBoundsParameters.getFeatureMode.BOUNDS,
            bounds: bounds,
            spatialQueryMode: params.spatialQueryMode
        };
        if (params.fields) {
            filterParameter = new FilterParameter_FilterParameter();
            filterParameter.name = params.datasetNames;
            filterParameter.fields = params.fields;
            parasByBounds.queryParameter = filterParameter;
        }
        if (params.attributeFilter) {
            parasByBounds.attributeFilter = params.attributeFilter;
            parasByBounds.getFeatureMode = GetFeaturesByBoundsParameters_GetFeaturesByBoundsParameters.getFeatureMode.BOUNDS_ATTRIBUTEFILTER;
        }
        if (params.maxFeatures && !isNaN(params.maxFeatures)) {
            parasByBounds.maxFeatures = params.maxFeatures;
        }

        return Util_Util.toJSON(parasByBounds);
    }


}

GetFeaturesByBoundsParameters_GetFeaturesByBoundsParameters.getFeatureMode = {
    "BOUNDS": "BOUNDS",
    "BOUNDS_ATTRIBUTEFILTER": "BOUNDS_ATTRIBUTEFILTER"
};

SuperMap.GetFeaturesByBoundsParameters = GetFeaturesByBoundsParameters_GetFeaturesByBoundsParameters;
// CONCATENATED MODULE: ./src/common/iServer/GetFeaturesServiceBase.js






/**
 * @class SuperMap.GetFeaturesServiceBase
 * @category  iServer Data FeatureResults
 * @classdesc æ°æ®æå¡ä¸­æ°æ®éæ¥è¯¢æå¡åºç±»ãè·åç»ææ°æ®ç±»åä¸º Objectãåå« result å±æ§ï¼result çæ°æ®æ ¼å¼æ ¹æ® format åæ°å³å®ä¸º GeoJSON æè iServerJSONã
 * @extends SuperMap.CommonServiceBase
 * @param {string} url - æ°æ®æ¥è¯¢ç»æèµæºå°åãè¯·æ±æ°æ®æå¡ä¸­æ°æ®éæ¥è¯¢æå¡ï¼
 * URLåºä¸ºï¼http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{æ°æ®æå¡å}/rest/data/
 * ä¾å¦ï¼"http://localhost:8090/iserver/services/data-jingjin/rest/data/"
 * @param {Object} options - åæ°ã 
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæ processCompleted å±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailed å±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã 
 * @param {SuperMap.ServerType} [options.serverType=SuperMap.ServerType.ISERVER] - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã 
 * @param {SuperMap.DataFormat} [options.format=SuperMap.DataFormat.GEOJSON] - æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æ iServerJSON å GeoJSON ä¸¤ç§æ ¼å¼ãåæ°æ ¼å¼ä¸º "ISERVER"ï¼"GEOJSON"ã
 * @example
 * var myService = new SuperMap.GetFeaturesServiceBase(url, {
 *     eventListeners: {
 *         "processCompleted": getFeatureCompleted,
 *         "processFailed": getFeatureError
 *     }
 * });
 */
class GetFeaturesServiceBase_GetFeaturesServiceBase extends CommonServiceBase_CommonServiceBase {

    constructor(url, options) {
        super(url, options);
        options = options || {};

        /**
         * @member {boolean} [SuperMap.GetFeaturesServiceBase.prototype.returnContent=true]
         * @description æ¯å¦ç«å³è¿åæ°åå»ºèµæºçè¡¨è¿°è¿æ¯è¿åæ°èµæºç URIã
         * å¦æä¸º trueï¼åç´æ¥è¿åæ°åå»ºèµæºï¼å³æ¥è¯¢ç»æçè¡¨è¿°ã
         * å¦æä¸º falseï¼åè¿åçæ¯æ¥è¯¢ç»æèµæºç URIã
         */
        this.returnContent = true;

        /**
         * @member {number} [SuperMap.GetFeaturesServiceBase.prototype.fromIndex=0]
         * @description æ¥è¯¢ç»æçæå°ç´¢å¼å·ãå¦æè¯¥å¼å¤§äºæ¥è¯¢ç»æçæå¤§ç´¢å¼å·ï¼åæ¥è¯¢ç»æä¸ºç©ºã
         */
        this.fromIndex = 0;

        /**
         * @member {number} [SuperMap.GetFeaturesServiceBase.prototype.toIndex=19]
         * @description æ¥è¯¢ç»æçæå¤§ç´¢å¼å·ã
         * å¦æè¯¥å¼å¤§äºæ¥è¯¢ç»æçæå¤§ç´¢å¼å·ï¼åä»¥æ¥è¯¢ç»æçæå¤§ç´¢å¼å·ä¸ºç»æ­¢ç´¢å¼å·ã
         */
        this.toIndex = 19;

        /**
         * @member {number} [SuperMap.GetFeaturesServiceBase.prototype.maxFeatures=1000]
         * @description è¿è¡ SQL æ¥è¯¢æ¶ï¼ç¨äºè®¾ç½®æå¡ç«¯è¿åæ¥è¯¢ç»ææ¡ç®æ°éã
         */
        this.maxFeatures = null;

        /**
         * @member {string} [SuperMap.GetFeaturesServiceBase.prototype.format=SuperMap.DataFormat.GEOJSON]
         * @description æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æ iServerJSON å GeoJSON ä¸¤ç§æ ¼å¼ã
         * åæ°æ ¼å¼ä¸º "ISERVER"ï¼"GEOJSON"ã
         */
        this.format = DataFormat.GEOJSON;

        if (options) {
            Util_Util.extend(this, options);
        }
        var me = this, end;
        if (options && options.format) {
            me.format = options.format.toUpperCase();
        }

        end = me.url.substr(me.url.length - 1, 1);
        // TODO å¾iServer featureResulèµæºGeoJSONè¡¨è¿°bugä¿®å¤å½ä½¿ç¨ä»¥ä¸æ³¨éæçé»è¾
        // if (me.format==="geojson" ) {
        //     me.url += (end == "/") ? "featureResults.geojson?" : "/featureResults.geojson?";
        // } else {
        //     me.url += (end == "/") ? "featureResults.json?" : "/featureResults.json?";
        // }
        me.url += (end == "/") ? "featureResults.json?" : "/featureResults.json?";

        this.CLASS_NAME = "SuperMap.GetFeaturesServiceBase";
    }

    /**
     * @function SuperMap.GetFeaturesServiceBase.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        super.destroy();
        var me = this;
        me.returnContent = null;
        me.fromIndex = null;
        me.toIndex = null;
        me.maxFeatures = null;
        me.format = null;
    }

    /**
     * @function SuperMap.GetFeaturesServiceBase.prototype.processAsync
     * @description å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @param {Object} params - æ¥è¯¢åæ°ã
     */
    processAsync(params) {
        if (!params) {
            return;
        }
        var me = this,
            jsonParameters = null,
            firstPara = true;

        me.returnContent = params.returnContent;
        me.fromIndex = params.fromIndex;
        me.toIndex = params.toIndex;
        me.maxFeatures = params.maxFeatures;
        if (me.returnContent) {
            me.url += "returnContent=" + me.returnContent;
            firstPara = false;
        }
        var isValidNumber = me.fromIndex != null && me.toIndex != null && !isNaN(me.fromIndex) && !isNaN(me.toIndex);
        if (isValidNumber && me.fromIndex >= 0 && me.toIndex >= 0 && !firstPara) {
            me.url += "&fromIndex=" + me.fromIndex + "&toIndex=" + me.toIndex;
        }

        if (params.returnCountOnly) {
            me.url += "&returnCountOnly=" + params.returnContent;
        }
        jsonParameters = me.getJsonParameters(params);
        me.request({
            method: "POST",
            data: jsonParameters,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

    /**
     * @function SuperMap.GetFeaturesServiceBase.prototype.getFeatureComplete
     * @description æ¥è¯¢å®æï¼æ§è¡æ­¤æ¹æ³ã
     * @param {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ã
     */
    serviceProcessCompleted(result) {
        var me = this;
        result = Util_Util.transformResult(result);
        if (me.format === DataFormat.GEOJSON && result.features) {
            var geoJSONFormat = new GeoJSON_GeoJSON();
            result.features = JSON.parse(geoJSONFormat.write(result.features));
        }
        me.events.triggerEvent("processCompleted", {result: result});
    }


}

SuperMap.GetFeaturesServiceBase = GetFeaturesServiceBase_GetFeaturesServiceBase;
// CONCATENATED MODULE: ./src/common/iServer/GetFeaturesByBoundsService.js




/**
 * @class SuperMap.GetFeaturesByBoundsService
 * @category iServer Data FeatureResults
 * @classdesc æ°æ®éèå´æ¥è¯¢æå¡ç±»,æ¥è¯¢ä¸æå®èå´å¯¹è±¡ç¬¦åä¸å®ç©ºé´å³ç³»çç¢éè¦ç´ ã
 * @description æ°æ®éèå´æ¥è¯¢æå¡ç±»æé å½æ°ã
 * @extends {SuperMap.GetFeaturesServiceBase}
 * @param {string} url - æ°æ®æ¥è¯¢ç»æèµæºå°åãè¯·æ±æ°æ®æå¡ä¸­æ°æ®éæ¥è¯¢æå¡ï¼URL åºä¸ºï¼http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{æ°æ®æå¡å}/rest/data/ï¼
 * ä¾å¦ï¼"http://localhost:8090/iserver/services/data-jingjin/rest/data/"
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæ processCompleted å±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailed å±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã
 * @param {SuperMap.ServerType} options.serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã<
 * @param {SuperMap.DataFormat} options.format - æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æ iServerJSON åGeoJSON ä¸¤ç§æ ¼å¼ãåæ°æ ¼å¼ä¸º "ISERVER","GEOJSON"ã
 * @example
 * var myGetFeaturesByBoundsService = new SuperMa.GetFeaturesByBoundsService(url, {
 *     eventListeners: {
 *           "processCompleted": getFeatureCompleted,
 *           "processFailed": getFeatureError
 *           }
 * });
 * function getFeatureCompleted(object){//todo};
 * function getFeatureError(object){//todo}
 */

class GetFeaturesByBoundsService_GetFeaturesByBoundsService extends GetFeaturesServiceBase_GetFeaturesServiceBase {

    constructor(url, options) {
        super(url, options);

        this.CLASS_NAME = "SuperMap.GetFeaturesByBoundsService";
    }

    /**
     * @function SuperMap.GetFeaturesByBoundsService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.GetFeaturesByBoundsService.prototype.getJsonParameters
     * @description å°æ¥è¯¢åæ°è½¬åä¸º JSON å­ç¬¦ä¸²ãå¨æ¬ç±»ä¸­éåæ­¤æ¹æ³ï¼å¯ä»¥å®ç°ä¸åç§ç±»çæ¥è¯¢ï¼ID, SQL, Buffer, Geometry,Boundsç­ï¼ã
     * @param params {SuperMap.GetFeaturesByBoundsParameters}
     * @returns {string} è½¬ååç JSON å­ç¬¦ä¸²ã
     *
     */
    getJsonParameters(params) {
        return GetFeaturesByBoundsParameters_GetFeaturesByBoundsParameters.toJsonParameters(params);
    }

}

SuperMap.GetFeaturesByBoundsService = GetFeaturesByBoundsService_GetFeaturesByBoundsService;
// CONCATENATED MODULE: ./src/common/iServer/GetFeaturesByBufferParameters.js






/**
 * @class SuperMap.GetFeaturesByBufferParameters
 * @category iServer Data FeatureResults
 * @classdesc æ°æ®æå¡ä¸­æ°æ®éç¼å²åºæ¥è¯¢åæ°ç±»ã
 * @param {Object} options - åæ°ã 
 * @param {number} options.bufferDistance - buffer è·ç¦»ï¼åä½ä¸ææ¥è¯¢å¾å±å¯¹åºçæ°æ®éåä½ç¸åã  
 * @param {Object} options.geometry - ç©ºé´æ¥è¯¢æ¡ä»¶ã</br>
 * @param {Array.<string>} options.dataSetNames - æ°æ®ééåä¸­çæ°æ®éåç§°åè¡¨ã  
 * @param {Array.<string>} [options.fields] - è®¾ç½®æ¥è¯¢ç»æè¿åå­æ®µãé»è®¤è¿åææå­æ®µã  
 * @param {string} [options.attributeFilter] - å±æ§æ¥è¯¢æ¡ä»¶ã   
 * @param {boolean} [options.returnContent=true] - æ¯å¦ç´æ¥è¿åæ¥è¯¢ç»æã  
 * @param {number} [options.fromIndex=0] - æ¥è¯¢ç»æçæå°ç´¢å¼å·ã  
 * @param {number} [options.toIndex=19] - æ¥è¯¢ç»æçæå¤§ç´¢å¼å·ã  
 * @extends {SuperMap.GetFeaturesParametersBase}
 */
class GetFeaturesByBufferParameters_GetFeaturesByBufferParameters extends GetFeaturesParametersBase_GetFeaturesParametersBase {


    constructor(options) {
        super(options);
        /**
         * @member {number} SuperMap.GetFeaturesByBufferParameters.prototype.bufferDistance
         * @description buffer è·ç¦»,åä½ä¸ææ¥è¯¢å¾å±å¯¹åºçæ°æ®éåä½ç¸åã
         */
        this.bufferDistance = null;

        /**
         * @member {string} SuperMap.GetFeaturesByBufferParameters.prototype.attributeFilter
         * @description å±æ§æ¥è¯¢æ¡ä»¶ã
         */
        this.attributeFilter = null;

        /**
         * @member {Object} SuperMap.GetFeaturesByBufferParameters.prototype.geometry
         * @description ç©ºé´æ¥è¯¢æ¡ä»¶ã <br>
         * ç¹ç±»åå¯ä»¥æ¯ï¼{@link SuperMap.Geometry.Point}|{@link L.Point}|{@link L.GeoJSON}|{@link ol.geom.Point}|{@link ol.format.GeoJSON}ã</br>
         * çº¿ç±»åå¯ä»¥æ¯ï¼{@link SuperMap.Geometry.LineString}|{@link SuperMap.Geometry.LinearRing}|{@link L.Polyline}|{@link L.GeoJSON}|{@link ol.geom.LineString}|{@link ol.format.GeoJSON}ã</br>  
         * é¢ç±»åå¯ä»¥æ¯ï¼{@link SuperMap.Geometry.Polygon}|{@link L.Polygon}|{@link L.GeoJSON}|{@link ol.geom.Polygon}|{@link ol.format.GeoJSON}ã  
         */
        this.geometry = null;

        /**
         * @member {Array.<string>} SuperMap.GetFeaturesByBufferParameters.prototype.fields
         * @description è®¾ç½®æ¥è¯¢ç»æè¿åå­æ®µãå½æå®äºè¿åç»æå­æ®µåï¼å GetFeaturesResult ä¸­ç features çå±æ§å­æ®µåªåå«ææå®çå­æ®µãä¸è®¾ç½®å³è¿åå¨é¨å­æ®µã
         */
        this.fields = null;
        Util_Util.extend(this, options);
        this.CLASS_NAME = "SuperMap.GetFeaturesByBufferParameters";
    }


    /**
     * @function SuperMap.GetFeaturesByBufferParameters.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        var me = this;
        me.bufferDistance = null;
        me.attributeFilter = null;
        if (me.fields) {
            while (me.fields.length > 0) {
                me.fields.pop();
            }
            me.fields = null;
        }
        if (me.geometry) {
            me.geometry.destroy();
            me.geometry = null;
        }
    }

    /**
     * @function SuperMap.GetFeaturesByBufferParameters.toJsonParameters
     * @description å° SuperMap.GetFeaturesByBufferParameters å¯¹è±¡è½¬æ¢ä¸º JSON å­ç¬¦ä¸²ã
     * @param {SuperMap.GetFeaturesByBufferParameters} params - æ°æ®éç¼å²åºæ¥è¯¢åæ°å¯¹è±¡ã
     * @returns {string} è½¬ååç JSON å­ç¬¦ä¸²ã
     */
    static toJsonParameters(params) {
        var filterParameter,
            paramsBySql,
            geometry;
        geometry = ServerGeometry_ServerGeometry.fromGeometry(params.geometry);
        paramsBySql = {
            datasetNames: params.datasetNames,
            getFeatureMode: "BUFFER",
            bufferDistance: params.bufferDistance,
            geometry: geometry
        };
        if (params.fields) {
            filterParameter = new FilterParameter_FilterParameter();
            filterParameter.name = params.datasetNames;
            filterParameter.fields = params.fields;
            paramsBySql.queryParameter = filterParameter;
        }
        if (params.attributeFilter) {
            paramsBySql.attributeFilter = params.attributeFilter;
            paramsBySql.getFeatureMode = "BUFFER_ATTRIBUTEFILTER";
        }
        if (params.maxFeatures && !isNaN(params.maxFeatures)) {
            paramsBySql.maxFeatures = params.maxFeatures;
        }
        return Util_Util.toJSON(paramsBySql);
    }


}

SuperMap.GetFeaturesByBufferParameters = GetFeaturesByBufferParameters_GetFeaturesByBufferParameters;
// CONCATENATED MODULE: ./src/common/iServer/GetFeaturesByBufferService.js




/**
 * @class SuperMap.GetFeaturesByBufferService
 * @category iServer Data FeatureResults
 * @classdesc æ°æ®æå¡ä¸­æ°æ®éç¼å²åºæ¥è¯¢æå¡ç±»ã
 * @param {string} url - æ°æ®æ¥è¯¢ç»æèµæºå°åãè¯·æ±æ°æ®æå¡ä¸­æ°æ®éæ¥è¯¢æå¡ï¼
 * URL åºä¸ºï¼http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{æ°æ®æå¡å}/rest/data/ï¼
 * ä¾å¦ï¼"http://localhost:8090/iserver/services/data-jingjin/rest/data/"
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæprocessCompletedå±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailedå±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã
 * @param {SuperMap.ServerType} options.serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã
 * @param {SuperMap.DataFormat} options.format -æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æiServerJSON åGeoJSONä¸¤ç§æ ¼å¼ãåæ°æ ¼å¼ä¸º"ISERVER","GEOJSON"ã
 * @extends {SuperMap.GetFeaturesServiceBase}
 * @example
 * var myGetFeaturesByBufferService = new SuperMap.GetFeaturesByBufferService(url, {
 *     eventListeners: {
 *           "processCompleted": GetFeaturesCompleted,
 *           "processFailed": GetFeaturesError
 *           }
 * });
 * function GetFeaturesCompleted(object){//todo};
 * function GetFeaturesError(object){//todo};
 */

class GetFeaturesByBufferService_GetFeaturesByBufferService extends GetFeaturesServiceBase_GetFeaturesServiceBase {

    constructor(url, options) {
        super(url, options);

        this.CLASS_NAME = "SuperMap.GetFeaturesByBufferService";
    }

    /**
     * @function SuperMap.GetFeaturesByBufferService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.GetFeaturesByBufferService.prototype.getJsonParameters
     * @description å°æ¥è¯¢åæ°è½¬åä¸º JSON å­ç¬¦ä¸²ãå¨æ¬ç±»ä¸­éåæ­¤æ¹æ³ï¼å¯ä»¥å®ç°ä¸åç§ç±»çæ¥è¯¢ï¼IDs, SQL, Buffer, Geometryç­ï¼ã
     * @param {SuperMap.GetFeaturesByBufferParameters} params - æ°æ®éç¼å²åºæ¥è¯¢åæ°ç±»ã
     * @returns {Object} è½¬ååç JSON å­ç¬¦ä¸²ã
     */
    getJsonParameters(params) {
        if (!(params instanceof GetFeaturesByBufferParameters_GetFeaturesByBufferParameters)) {
            return;
        }
        return SuperMap.GetFeaturesByBufferParameters.toJsonParameters(params);
    }

}

SuperMap.GetFeaturesByBufferService = GetFeaturesByBufferService_GetFeaturesByBufferService;
// CONCATENATED MODULE: ./src/common/iServer/GetFeaturesByGeometryParameters.js







/**
 * @class SuperMap.GetFeaturesByGeometryParameters
 * @category iServer Data FeatureResults
 * @classdesc æ°æ®éå ä½æ¥è¯¢åæ°ç±»ãè¯¥ç±»ç¨äºè®¾ç½®æ°æ®éå ä½æ¥è¯¢çç¸å³åæ°ã
 * @param {Object} options - åæ°ã  
 * @param {Object} options.geometry - ç¨äºæ¥è¯¢çå ä½å¯¹è±¡ã 
 * @param {Array.<string>} options.datasetNames - æ°æ®ééåä¸­çæ°æ®éåç§°åè¡¨ã  
 * @param {string} [options.attributeFilter] - å ä½æ¥è¯¢å±æ§è¿æ»¤æ¡ä»¶ã  
 * @param {Array.<string>} [options.fields] - è®¾ç½®æ¥è¯¢ç»æè¿åå­æ®µãé»è®¤è¿åææå­æ®µã  
 * @param {SuperMap.SpatialQueryMode} [options.spatialQueryMode=SuperMap.SpatialQueryMode.CONTAIN] - ç©ºé´æ¥è¯¢æ¨¡å¼å¸¸éã  
 * @param {SuperMap.FilterParameter} [options.queryParameter] - æ¥è¯¢è¿æ»¤æ¡ä»¶åæ°ã  
 * @param {boolean} [options.returnContent=true] - æ¯å¦ç´æ¥è¿åæ¥è¯¢ç»æã  
 * @param {number} [options.fromIndex=0] - æ¥è¯¢ç»æçæå°ç´¢å¼å·ã  
 * @param {number} [options.toIndex=19] - æ¥è¯¢ç»æçæå¤§ç´¢å¼å·ã  
 * @extends {SuperMap.GetFeaturesParametersBase}
 */
class GetFeaturesByGeometryParameters_GetFeaturesByGeometryParameters extends GetFeaturesParametersBase_GetFeaturesParametersBase {


    constructor(options) {
        super(options);
        /**
         * @member {string} SuperMap.GetFeaturesByGeometryParameters.prototype.getFeatureMode
         * @description æ°æ®éæ¥è¯¢æ¨¡å¼ãå ä½æ¥è¯¢æ "SPATIAL"ï¼"SPATIAL_ATTRIBUTEFILTER" ä¸¤ç§ï¼å½ç¨æ·è®¾ç½® attributeFilter æ¶ä¼èªå¨åæ¢å° SPATIAL_ATTRIBUTEFILTER è®¿é®æå¡ã
         */
        this.getFeatureMode = "SPATIAL";

        /**
         * @member {Object} SuperMap.GetFeaturesByGeometryParameters.prototype.geometry
         * @description ç¨äºæ¥è¯¢çå ä½å¯¹è±¡ã </br>
         * ç¹ç±»åå¯ä»¥æ¯ï¼{@link SuperMap.Geometry.Point}|{@link L.Point}|{@link L.GeoJSON}|{@link ol.geom.Point}|{@link ol.format.GeoJSON}ã</br>
         * çº¿ç±»åå¯ä»¥æ¯ï¼{@link SuperMap.Geometry.LineString}|{@link SuperMap.Geometry.LinearRing}|{@link L.Polyline}|{@link L.GeoJSON}|{@link ol.geom.LineString}|{@link ol.format.GeoJSON}ã</br>  
         * é¢ç±»åå¯ä»¥æ¯ï¼{@link SuperMap.Geometry.Polygon}|{@link L.Polygon}|{@link L.GeoJSON}|{@link ol.geom.Polygon}|{@link ol.format.GeoJSON}ã  
         */
        this.geometry = null;

        /**
         * @member {Array.<string>} SuperMap.GetFeaturesByGeometryParameters.prototype.fields
         * @description è®¾ç½®æ¥è¯¢ç»æè¿åå­æ®µãå½æå®äºè¿åç»æå­æ®µåï¼å GetFeaturesResult ä¸­ç features çå±æ§å­æ®µåªåå«ææå®çå­æ®µãä¸è®¾ç½®å³è¿åå¨é¨å­æ®µã
         */
        this.fields = null;

        /**
         * @member {string} SuperMap.GetFeaturesByGeometryParameters.prototype.attributeFilter
         *  @description å ä½æ¥è¯¢å±æ§è¿æ»¤æ¡ä»¶ã
         */
        this.attributeFilter = null;

        /**
         * @member {SuperMap.SpatialQueryMode} [SuperMap.GetFeaturesByGeometryParameters.prototype.spatialQueryMode=SuperMap.SpatialQueryMode.CONTAIN]
         * @description ç©ºé´æ¥è¯¢æ¨¡å¼å¸¸éã
         */
        this.spatialQueryMode = SpatialQueryMode.CONTAIN;
        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.GetFeaturesByGeometryParameters";
    }


    /**
     * @function SuperMap.GetFeaturesByGeometryParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        super.destroy();
        var me = this;
        if (me.geometry) {
            me.geometry.destroy();
            me.geometry = null;
        }
        if (me.fields) {
            while (me.fields.length > 0) {
                me.fields.pop();
            }
            me.fields = null;
        }
        me.attributeFilter = null;
        me.spatialQueryMode = null;
        me.getFeatureMode = null;
    }

    /**
     * @function SuperMap.GetFeaturesByGeometryParameters.toJsonParameters
     * @description å° SuperMap.GetFeaturesByGeometryParameters å¯¹è±¡åæ°è½¬æ¢ä¸º JSON å­ç¬¦ä¸²ã
     * @param {SuperMap.GetFeaturesByGeometryParameters} params - æ¥è¯¢åæ°å¯¹è±¡ã
     * @returns {string} è½¬ååç JSON å­ç¬¦ä¸²ã
     */
    static toJsonParameters(params) {
        var filterParameter,
            geometry,
            parasByGeometry;

        geometry = ServerGeometry_ServerGeometry.fromGeometry(params.geometry);
        parasByGeometry = {
            datasetNames: params.datasetNames,
            getFeatureMode: "SPATIAL",
            geometry: geometry,
            spatialQueryMode: params.spatialQueryMode
        };
        if (params.fields) {
            filterParameter = new FilterParameter_FilterParameter();
            filterParameter.name = params.datasetNames;
            filterParameter.fields = params.fields;
            parasByGeometry.queryParameter = filterParameter;
        }
        if (params.attributeFilter) {
            parasByGeometry.attributeFilter = params.attributeFilter;
            parasByGeometry.getFeatureMode = "SPATIAL_ATTRIBUTEFILTER";
        }
        if (params.maxFeatures && !isNaN(params.maxFeatures)) {
            parasByGeometry.maxFeatures = params.maxFeatures;
        }

        return Util_Util.toJSON(parasByGeometry);
    }

}

SuperMap.GetFeaturesByGeometryParameters = GetFeaturesByGeometryParameters_GetFeaturesByGeometryParameters;
// CONCATENATED MODULE: ./src/common/iServer/GetFeaturesByGeometryService.js




/**
 * @class SuperMap.GetFeaturesByGeometryService
 * @category iServer Data FeatureResults
 * @classdesc æ°æ®éå ä½æ¥è¯¢æå¡ç±»ï¼æ¥è¯¢ä¸æå®å ä½å¯¹è±¡ç¬¦åä¸å®ç©ºé´å³ç³»çç¢éè¦ç´ ã
 * @param {string} url - æ°æ®æ¥è¯¢ç»æèµæºå°åãè¯·æ±æ°æ®æå¡ä¸­æ°æ®éæ¥è¯¢æå¡ã
 * URL åºä¸ºï¼http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{æ°æ®æå¡å}/rest/dataï¼
 * ä¾å¦ï¼"http://localhost:8090/iserver/services/data-jingjin/rest/data"
 * @param {Object} options - åæ°ã</br>
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæprocessCompletedå±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailedå±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã
 * @param {SuperMap.ServerType} options.serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã
 * @param {SuperMap.DataFormat} options.format - æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æ iServerJSON å GeoJSON ä¸¤ç§æ ¼å¼ãåæ°æ ¼å¼ä¸º"ISERVER"ï¼"GEOJSON"ã
 * @extends {SuperMap.GetFeaturesServiceBase}
 * @example
 * var myService = new SuperMap.GetFeaturesByGeometryService(url, {
     *     eventListeners: {
     *           "processCompleted": getFeatureCompleted,
     *           "processFailed": getFeatureError
     *           }
     * });
 * function getFeatureCompleted(object){//todo};
 * function getFeatureError(object){//todo}
 */
class GetFeaturesByGeometryService_GetFeaturesByGeometryService extends GetFeaturesServiceBase_GetFeaturesServiceBase {

    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.GetFeaturesByGeometryService";
    }

    /**
     * @function SuperMap.GetFeaturesByGeometryService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.GetFeaturesByGeometryService.prototype.getJsonParameters
     * @param {SuperMap.GetFeaturesByGeometryParameters} params - æ°æ®éå ä½æ¥è¯¢åæ°ç±»ã
     * @description å°æ¥è¯¢åæ°è½¬åä¸º JSON å­ç¬¦ä¸²ã
     * å¨æ¬ç±»ä¸­éåæ­¤æ¹æ³ï¼å¯ä»¥å®ç°ä¸åç§ç±»çæ¥è¯¢ï¼ID, SQL, Buffer, Geometryç­ï¼ã
     * @returns {Object} è½¬ååç JSON å­ç¬¦ä¸²ã
     */
    getJsonParameters(params) {
        return GetFeaturesByGeometryParameters_GetFeaturesByGeometryParameters.toJsonParameters(params);
    }


}

SuperMap.GetFeaturesByGeometryService = GetFeaturesByGeometryService_GetFeaturesByGeometryService;
// CONCATENATED MODULE: ./src/common/iServer/GetFeaturesByIDsParameters.js





/**
 * @class SuperMap.GetFeaturesByIDsParameters
 * @category  iServer Data FeatureResults
 * @classdesc IDæ¥è¯¢åæ°ç±»ã
 * @param {Object} options - åæ°ã  
 * @param {Array.<number>} options.IDs - æè¦æ¥è¯¢æå®çåç´  ID ä¿¡æ¯ã  
 * @param {Array.<string>} [options.fields] - è®¾ç½®æ¥è¯¢ç»æè¿åå­æ®µãé»è®¤è¿åææå­æ®µã  
 * @param {Array.<string>} options.dataSetNames - æ°æ®ééåä¸­çæ°æ®éåç§°åè¡¨ã  
 * @param {boolean} [options.returnContent=true] - æ¯å¦ç´æ¥è¿åæ¥è¯¢ç»æã  
 * @param {number} [options.fromIndex=0] - æ¥è¯¢ç»æçæå°ç´¢å¼å·ã  
 * @param {number} [options.toIndex=19] - æ¥è¯¢ç»æçæå¤§ç´¢å¼å·ã  
 * @extends {SuperMap.GetFeaturesParametersBase}
 */
class GetFeaturesByIDsParameters_GetFeaturesByIDsParameters extends GetFeaturesParametersBase_GetFeaturesParametersBase {


    constructor(options) {
        super(options);
        /**
         * @member {string} SuperMap.GetFeaturesByIDsParameters.prototype.getFeatureMode
         * @description æ°æ®éæ¥è¯¢æ¨¡å¼ã
         */
        this.getFeatureMode = "ID";

        /**
         * @member {Array.<number>} SuperMap.GetFeaturesByIDsParameters.prototype.IDs
         * @description æè¦æ¥è¯¢æå®çåç´  ID ä¿¡æ¯ã
         */
        this.IDs = null;

        /**
         *  @member {Array.<string>} SuperMap.GetFeaturesByIDsParameters.prototype.fields
         *  @description è®¾ç½®æ¥è¯¢ç»æè¿åå­æ®µãå½æå®äºè¿åç»æå­æ®µåï¼å GetFeaturesResult ä¸­ç features çå±æ§å­æ®µåªåå«ææå®çå­æ®µãä¸è®¾ç½®å³è¿åå¨é¨å­æ®µã
         */
        this.fields = null;
        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.GetFeaturesByIDsParameters";
    }


    /**
     * @function SuperMap.GetFeaturesByIDsParameters.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        var me = this;
        me.IDs = null;
        me.getFeatureMode = null;
        if (me.fields) {
            while (me.fields.length > 0) {
                me.fields.pop();
            }
            me.fields = null;
        }
    }

    /**
     * @function SuperMap.GetFeaturesByIDsParameters.toJsonParameters
     * @description å° SuperMap.GetFeaturesByIDsParameters å¯¹è±¡è½¬æ¢ä¸º JSON å­ç¬¦ä¸²ã
     * @param {SuperMap.GetFeaturesByIDsParameters} params - ID æ¥è¯¢åæ°å¯¹è±¡ã
     * @returns {string} è½¬ååç JSON å­ç¬¦ä¸²ã
     */
    static toJsonParameters(params) {
        var parasByIDs, filterParameter;

        parasByIDs = {
            datasetNames: params.datasetNames,
            getFeatureMode: "ID",
            ids: params.IDs
        };
        if (params.fields) {
            filterParameter = new FilterParameter_FilterParameter();
            filterParameter.name = params.datasetNames;
            filterParameter.fields = params.fields;
            parasByIDs.queryParameter = filterParameter;
        }
        return Util_Util.toJSON(parasByIDs);
    }

}

SuperMap.GetFeaturesByIDsParameters = GetFeaturesByIDsParameters_GetFeaturesByIDsParameters;
// CONCATENATED MODULE: ./src/common/iServer/GetFeaturesByIDsService.js




/**
 * @class SuperMap.GetFeaturesByIDsService
 * @category iServer Data FeatureResults
 * @classdesc æ°æ®éIDæ¥è¯¢æå¡ç±»ãå¨æ°æ®ééåä¸­æ¥æ¾æå® ID å·å¯¹åºçç©ºé´å°ç©è¦ç´ ã
 * @param {string} url - æ°æ®æ¥è¯¢ç»æèµæºå°åãè¯·æ±æ°æ®æå¡ä¸­æ°æ®éæ¥è¯¢æå¡ã
 *                       URL åºä¸ºï¼http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{æ°æ®æå¡å}/rest/data/ï¼</br>
 *                       ä¾å¦ï¼"http://localhost:8090/iserver/services/data-jingjin/rest/data/"
 * @param {Object} options - åæ°ã</br>
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæprocessCompletedå±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailedå±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã
 * @param {SuperMap.ServerType} options.serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã
 * @param {SuperMap.DataFormat} options.format - æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æiServerJSON åGeoJSONä¸¤ç§æ ¼å¼ãåæ°æ ¼å¼ä¸º"ISERVER","GEOJSON"ã
 * @extends {SuperMap.GetFeaturesServiceBase}
 * @example
 * var myGetFeaturesByIDsService = new SuperMap.GetFeaturesByIDsService(url, {
 *     eventListeners: {
 *         "processCompleted": getFeatureCompleted,
 *         "processFailed": getFeatureError
 *            }
 *     });
 * function getFeatureCompleted(object){//todo};
 * function getFeatureError(object){//todo}
 */
class GetFeaturesByIDsService_GetFeaturesByIDsService extends GetFeaturesServiceBase_GetFeaturesServiceBase {


    constructor(url, options) {
        super(url, options);

        this.CLASS_NAME = "SuperMap.GetFeaturesByIDsService";
    }

    /**
     * @function SuperMap.GetFeaturesByIDsService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.GetFeaturesByIDsService.prototype.getJsonParameters
     * @description å°æ¥è¯¢åæ°è½¬åä¸º JSON å­ç¬¦ä¸²ã
     * å¨æ¬ç±»ä¸­éåæ­¤æ¹æ³ï¼å¯ä»¥å®ç°ä¸åç§ç±»çæ¥è¯¢ï¼ID, SQL, Buffer, Geometryç­ï¼ã
     * @param {SuperMap.GetFeaturesByIDsParameters} params - IDæ¥è¯¢åæ°ç±»ã
     * @returns {string} è½¬ååç JSON å­ç¬¦ä¸²ã
     */
    getJsonParameters(params) {
        return GetFeaturesByIDsParameters_GetFeaturesByIDsParameters.toJsonParameters(params);
    }

}

SuperMap.GetFeaturesByIDsService = GetFeaturesByIDsService_GetFeaturesByIDsService;
// CONCATENATED MODULE: ./src/common/iServer/GetFeaturesBySQLParameters.js





/**
 * @class SuperMap.GetFeaturesBySQLParameters
 * @category iServer Data FeatureResults
 * @classdesc æ°æ®æå¡ä¸­æ°æ®é SQL æ¥è¯¢åæ°ç±»ã
 * @param {Object} options - åæ°ã 
 * @param {SuperMap.FilterParameter} options.queryParameter - æ¥è¯¢è¿æ»¤æ¡ä»¶åæ°ã 
 * @param {Array.<string>} options.datasetNames - æ°æ®ééåä¸­çæ°æ®éåç§°åè¡¨ã 
 * @param {boolean} [options.returnContent=true] - æ¯å¦ç´æ¥è¿åæ¥è¯¢ç»æã 
 * @param {number} [options.fromIndex=0] - æ¥è¯¢ç»æçæå°ç´¢å¼å·ã 
 * @param {number} [options.toIndex=19] - æ¥è¯¢ç»æçæå¤§ç´¢å¼å·ã 
 * @extends {SuperMap.GetFeaturesParametersBase}
 */
class GetFeaturesBySQLParameters_GetFeaturesBySQLParameters extends GetFeaturesParametersBase_GetFeaturesParametersBase {


    constructor(options) {
        super(options);
        /**
         * @member {string} SuperMap.GetFeaturesBySQLParameters.prototype.getFeatureMode
         * @description æ°æ®éæ¥è¯¢æ¨¡å¼ã
         */
        this.getFeatureMode = "SQL";

        /**
         * @member {SuperMap.FilterParameter} SuperMap.GetFeaturesBySQLParameters.prototype.queryParameter
         * @description æ¥è¯¢è¿æ»¤æ¡ä»¶åæ°ç±»ã
         */
        this.queryParameter = null;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.GetFeaturesBySQLParameters";
    }

    /**
     * @function SuperMap.GetFeaturesBySQLParameters.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        var me = this;
        me.getFeatureMode = null;
        if (me.queryParameter) {
            me.queryParameter.destroy();
            me.queryParameter = null;
        }
    }

    /**
     * @function SuperMap.GetFeaturesBySQLParameters.prototype.toJsonParameters
     * @description å° SuperMap.GetFeaturesBySQLParameters å¯¹è±¡è½¬æ¢ä¸º JSON å­ç¬¦ä¸²ã
     * @param {SuperMap.GetFeaturesBySQLParameters} params - æ°æ®é SQL æ¥è¯¢åæ°å¯¹è±¡ã
     * @returns {string} è½¬ååç JSON å­ç¬¦ä¸²ã
     */
    static toJsonParameters(params) {
        var paramsBySql = {
            datasetNames: params.datasetNames,
            getFeatureMode: "SQL",
            queryParameter: params.queryParameter
        };
        if (params.maxFeatures && !isNaN(params.maxFeatures)) {
            paramsBySql.maxFeatures = params.maxFeatures;
        }
        if (params.aggregations) {
            paramsBySql.aggregations = params.aggregations;
        }
        return Util_Util.toJSON(paramsBySql);
    }

}

SuperMap.GetFeaturesBySQLParameters = GetFeaturesBySQLParameters_GetFeaturesBySQLParameters;
// CONCATENATED MODULE: ./src/common/iServer/GetFeaturesBySQLService.js




/**
 * @class SuperMap.GetFeaturesBySQLService
 * @constructs SuperMap.GetFeaturesBySQLService
 * @category iServer Data FeatureResults
 * @classdesc æ°æ®æå¡ä¸­æ°æ®é SQL æ¥è¯¢æå¡ç±»ãå¨ä¸ä¸ªæå¤ä¸ªæå®çå¾å±ä¸æ¥è¯¢ç¬¦å SQL æ¡ä»¶çç©ºé´å°ç©ä¿¡æ¯ã
 * @param {string} url - æ°æ®æ¥è¯¢ç»æèµæºå°åãè¯·æ±æ°æ®æå¡ä¸­æ°æ®éæ¥è¯¢æå¡ï¼
 *                       URL åºä¸ºï¼http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{æ°æ®æå¡å}/rest/data/ï¼</br>
 *                       ä¾å¦ï¼"http://localhost:8090/iserver/services/data-jingjin/rest/data/"
 * @param {Object} options - åæ°ã</br>
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæprocessCompletedå±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailedå±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã
 * @param {SuperMap.ServerType} options.serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã
 * @param {SuperMap.DataFormat} options.format - æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æiServerJSON åGeoJSONä¸¤ç§æ ¼å¼ãåæ°æ ¼å¼ä¸º"ISERVER","GEOJSON"ã
 * @extends {SuperMap.GetFeaturesServiceBase}
 * @example
 * var myGetFeaturesBySQLService = new SuperMap.GetFeaturesBySQLService(url, {
     *     eventListeners: {
     *         "processCompleted": GetFeaturesCompleted,
     *         "processFailed": GetFeaturesError
     *         }
     * });
 * function getFeaturesCompleted(object){//todo};
 * function getFeaturesError(object){//todo};
 *
 */
class GetFeaturesBySQLService_GetFeaturesBySQLService extends GetFeaturesServiceBase_GetFeaturesServiceBase {

    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.GetFeaturesBySQLService";
    }

    /**
     * @function SuperMap.GetFeaturesBySQLService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }

    /*
     * @function SuperMap.GetFeaturesBySQLService.prototype.getJsonParameters
     * @description å°æ¥è¯¢åæ°è½¬åä¸º JSON å­ç¬¦ä¸²ã
     * å¨æ¬ç±»ä¸­éåæ­¤æ¹æ³ï¼å¯ä»¥å®ç°ä¸åç§ç±»çæ¥è¯¢ï¼ID, SQL, Buffer, Geometryç­ï¼ã
     * @param {SuperMap.GetFeaturesBySQLParameters} params - æ°æ®éSQLæ¥è¯¢åæ°ç±»ã
     * @returns {string} è½¬ååç JSON å­ç¬¦ä¸²ã
     */
    getJsonParameters(params) {
        return GetFeaturesBySQLParameters_GetFeaturesBySQLParameters.toJsonParameters(params);
    }


}

SuperMap.GetFeaturesBySQLService = GetFeaturesBySQLService_GetFeaturesBySQLService;
// CONCATENATED MODULE: ./src/common/iServer/GetFieldsService.js




/**
 * @class SuperMap.GetFieldsService
 * @category iServer Data Field
 * @classdesc å­æ®µæ¥è¯¢æå¡ï¼æ¯ææ¥è¯¢æå®æ°æ®éçä¸­ææå±æ§å­æ®µï¼fieldï¼çéåã
 * @param {string} url - æå¡çè®¿é®å°åãå¦è®¿é®World Mapæå¡ï¼åªéå°urlè®¾ä¸ºï¼http://localhost:8090/iserver/services/data-world/rest/data å³å¯ã
 * @param {Object} options - åæ°ã</br>
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæprocessCompletedå±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailedå±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã
 * @param {SuperMap.ServerType} options.serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã
 * @param {SuperMap.DataFormat} options.format - æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æiServerJSON åGeoJSONä¸¤ç§æ ¼å¼ãåæ°æ ¼å¼ä¸º"ISERVER","GEOJSON"ã
 * @param {string}options.datasource - è¦æ¥è¯¢çæ°æ®éæå¨çæ°æ®æºåç§°ã</br>
 * @param {string}options.dataset - è¦æ¥è¯¢çæ°æ®éåç§°ã</br>
 * @extends {SuperMap.CommonServiceBase}
 * @example
 * var myService = new SuperMap.GetFieldsService(url, {eventListeners: {
 *     "processCompleted": getFieldsCompleted,
 *     "processFailed": getFieldsError
 *     },
 *     datasource: "World",
 *     dataset: "Countries"
 * };
 *
 */
class GetFieldsService_GetFieldsService extends CommonServiceBase_CommonServiceBase {


    constructor(url, options) {
        super(url, options);
        /**
         * @member {string} SuperMap.GetFieldsService.prototype.datasource
         * @description è¦æ¥è¯¢çæ°æ®éæå¨çæ°æ®æºåç§°ã
         */
        this.datasource = null;

        /**
         *  @member {string} SuperMap.GetFieldsService.prototype.dataset
         *  @description è¦æ¥è¯¢çæ°æ®éåç§°ã
         */
        this.dataset = null;
        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.GetFieldsService";
    }


    /**
     * @function SuperMap.GetFieldsService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        var me = this;
        me.datasource = null;
        me.dataset = null;
    }


    /**
     * @function SuperMap.GetFieldsService.prototype.processAsync
     * @description æ§è¡æå¡ï¼æ¥è¯¢æå®æ°æ®éçå­æ®µä¿¡æ¯ã
     */
    processAsync() {
        var me = this,
            end = me.url.substr(me.url.length - 1, 1),
            datasetURL = "datasources/" + me.datasource + "/datasets/" + me.dataset;
        me.url += (end == "/") ? datasetURL + "/fields.json?" : "/" + datasetURL + "/fields.json?";

        me.request({
            method: "GET",
            data: null,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }
}

SuperMap.GetFieldsService = GetFieldsService_GetFieldsService;
// CONCATENATED MODULE: ./src/common/iServer/GetGridCellInfosParameters.js



/**
 * @class SuperMap.GetGridCellInfosParameters
 * @category iServer Data Grid
 * @classdesc æ°æ®æå¡æ æ ¼æ¥è¯¢åæ°ç±»ã
 * @param {Object} options - åæ°ã  
 * @param {string} options.datasetName - æ°æ®éåç§°ã 
 * @param {string} options.dataSourceName - æ°æ®æºåç§°ã 
 * @param {number} options.X - è¦æ¥è¯¢çå°çä½ç½® X è½´ã 
 * @param {number} options.Y - è¦æ¥è¯¢çå°çä½ç½® Y è½´ã
 */
class GetGridCellInfosParameters_GetGridCellInfosParameters {


    constructor(options) {
        /**
         * @member {string} SuperMap.GetGridCellInfosParameters.prototype.datasetName
         * @description æ°æ®éåç§°ã
         */
        this.datasetName = null;

        /**
         * @member {string} SuperMap.GetGridCellInfosParameters.prototype.dataSourceName
         * @description æ°æ®æºåç§°ã
         */
        this.dataSourceName = null;

        /**
         * @member {number} SuperMap.GetGridCellInfosParameters.prototype.X
         * @description è¦æ¥è¯¢çå°çä½ç½® X è½´ã
         */
        this.X = null;

        /**
         * @member {number} SuperMap.GetGridCellInfosParameters.prototype.Y
         * @description è¦æ¥è¯¢çå°çä½ç½® Y è½´ã
         */
        this.Y = null;
        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.GetGridCellInfosParameters";
    }


    /**
     * @function SuperMap.GetGridCellInfosParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨çèµæºå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.datasetName = null;
        me.dataSourceName = null;
        me.X = null;
        me.Y = null;
    }


}

SuperMap.GetGridCellInfosParameters = GetGridCellInfosParameters_GetGridCellInfosParameters;

// CONCATENATED MODULE: ./src/common/iServer/GetGridCellInfosService.js





/**
 * @class SuperMap.GetGridCellInfosService
 * @category iServer Data Grid
 * @classdesc æ°æ®æ æ ¼æ¥è¯¢æå¡ï¼æ¯ææ¥è¯¢æå®å°çä½ç½®çæ æ ¼ä¿¡æ¯ã
 * @param {string} url - æ¥è¯¢æå¡å°åãä¾å¦: http://localhost:8090/iserver/services/data-jingjin/rest/data
 * @param {Object} options - åæ°ã</br>
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæprocessCompletedå±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailedå±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã<br>
 * @param {SuperMap.ServerType} options.serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã<br>
 * @param {SuperMap.DataFormat} options.format - æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æ iServerJSON å GeoJSON ä¸¤ç§æ ¼å¼ãåæ°æ ¼å¼ä¸º"ISERVER","GEOJSON"ã
 * @extends {SuperMap.CommonServiceBase}
 * @example
 * var myService = new SuperMap.GetGridCellInfosService(url, {eventListeners: {
 *     "processCompleted": queryCompleted,
 *     "processFailed": queryError
 *     }
 * });
 *
 */
class GetGridCellInfosService_GetGridCellInfosService extends CommonServiceBase_CommonServiceBase {


    constructor(url, options) {
        super(url, options);
        /**
         * @member {string} SuperMap.GetGridCellInfosService.prototype.datasetName
         * @description æ°æ®éåç§°ã
         */
        this.datasetName = null;

        /**
         * @member {string} SuperMap.GetGridCellInfosService.prototype.dataSourceName
         * @description æ°æ®æºåç§°ã
         */
        this.dataSourceName = null;

        /**
         * @member {string} SuperMap.GetGridCellInfosService.prototype.datasetType
         * @description æ°æ®éç±»åã
         */
        this.datasetType = null;

        /**
         * @member {number} SuperMap.GetGridCellInfosService.prototype.X
         * @description è¦æ¥è¯¢çå°çä½ç½®Xè½´
         */
        this.X = null;

        /**
         * @member {number} SuperMap.GetGridCellInfosService.prototype.Y
         * @description è¦æ¥è¯¢çå°çä½ç½®Yè½´
         */
        this.Y = null;
        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = "SuperMap.GetGridCellInfosService";
    }

    /**
     * @function SuperMap.GetGridCellInfosService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        var me = this;
        me.X = null;
        me.Y = null;
        me.datasetName = null;
        me.dataSourceName = null;
        me.datasetType = null;
    }

    /**
     * @function SuperMap.GetGridCellInfosService.prototype.processAsync
     * @description æ§è¡æå¡ï¼æ¥è¯¢æ°æ®éä¿¡æ¯ã
     * @param {SuperMap.GetGridCellInfosParameters} params - æ¥è¯¢åæ°ã
     */
    processAsync(params) {
        if (!(params instanceof GetGridCellInfosParameters_GetGridCellInfosParameters)) {
            return;
        }
        Util_Util.extend(this, params);
        var me = this;
        var end = me.url.substr(me.url.length - 1, 1);
        me.url += (end == "/") ? ("datasources/" + me.dataSourceName + "/datasets/" + me.datasetName + ".json") :
            ("/datasources/" + me.dataSourceName + "/datasets/" + me.datasetName + ".json");

        me.queryRequest(me.getDatasetInfoCompleted, me.getDatasetInfoFailed);
    }

    /**
     * @function SuperMap.GetGridCellInfosService.prototype.queryRequest
     * @description æ§è¡æå¡ï¼æ¥è¯¢ã
     * @callback {function} successFun - æååæ§è¡çå½æ°ã
     * @callback {function} failedFunc - å¤±è´¥åæ§è¡çå½æ°ã
     */
    queryRequest(successFun, failedFunc) {
        var me = this;
        me.request({
            method: "GET",
            data: null,
            scope: me,
            success: successFun,
            failure: failedFunc
        });
    }

    /**
     * @function SuperMap.GetGridCellInfosService.prototype.getDatasetInfoCompleted
     * @description æ°æ®éæ¥è¯¢å®æï¼æ§è¡æ­¤æ¹æ³ã
     * @param {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ã
     */
    getDatasetInfoCompleted(result) {
        var me = this;
        result = Util_Util.transformResult(result);
        me.datasetType = result.datasetInfo.type;
        me.queryGridInfos();
    }

    /**
     * @function SuperMap.GetGridCellInfosService.prototype.queryGridInfos
     * @description æ§è¡æå¡ï¼æ¥è¯¢æ°æ®éæ æ ¼ä¿¡æ¯ä¿¡æ¯ã
     */
    queryGridInfos() {
        var me = this,
            re = /\.json/,
            index = re.exec(me.url).index,
            urlBack = me.url.substring(index),
            urlFront = me.url.substring(0, me.url.length - urlBack.length);
        if (me.datasetType == "GRID") {
            me.url = urlFront + "/gridValue" + urlBack;
        } else {
            me.url = urlFront + "/imageValue" + urlBack;
        }

        if (me.X != null && me.Y != null) {
            me.url += '?x=' + me.X + '&y=' + me.Y;
        }
        me.queryRequest(me.serviceProcessCompleted, me.serviceProcessFailed);
    }


    /**
     * @function SuperMap.GetGridCellInfosService.prototype.getDatasetInfoFailed
     * @description æ°æ®éæ¥è¯¢å¤±è´¥ï¼æ§è¡æ­¤æ¹æ³ã
     * @param {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ã
     */
    getDatasetInfoFailed(result) {
        var me = this;
        me.serviceProcessFailed(result);
    }
}

SuperMap.GetGridCellInfosService = GetGridCellInfosService_GetGridCellInfosService;
// CONCATENATED MODULE: ./src/common/iServer/ThemeMemoryData.js


/**
 * @class SuperMap.ThemeMemoryData
 * @category  iServer Map Theme
 * @classdesc ä¸é¢å¾åå­æ°æ®ç±»ã
 * @param {Array} srcData - åå§å¼æ°ç»ã
 * @param {Array} targetData - å¤é¨å¼æ°ç»ã
 */
class ThemeMemoryData {

    constructor(srcData, targetData) {
        /**
         * @member {Array} SuperMap.ThemeMemoryData.prototype.srcData
         * @description åå§å¼æ°ç»ï¼è¯¥å±æ§å¼å°è¢« targetData å±æ§ææå®çå¼æ¿æ¢æï¼ç¶åå¶ä½ä¸é¢å¾ï¼ä½æ°æ®åºä¸­çå¼å¹¶ä¸ä¼æ¹åã
         */
        this.srcData = srcData;

        /**
         * @member {Array} SuperMap.ThemeMemoryData.prototype.targetData
         * @description å¤é¨å¼æ°ç»ï¼å³ç¨äºå¶ä½ä¸é¢å¾çåå­æ°æ®ï¼è®¾å®è¯¥å±æ§å¼åï¼ä¼å° srcData å±æ§ææå®çåå§å¼æ¿æ¢æå¶ä½ä¸é¢å¾ï¼ä½æ°æ®åºä¸­çå¼å¹¶ä¸ä¼æ¹åã
         */
        this.targetData = targetData;

        this.CLASS_NAME = "SuperMap.ThemeMemoryData";
    }

    /**
     * @function SuperMap.ThemeMemoryData.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.srcData = null;
        me.targetData = null;
    }


    /**
     * @function SuperMap.ThemeMemoryData.prototype.toJSON
     * @description å° SuperMap.ThemeMemoryData å¯¹è±¡è½¬åä¸º JSON å­ç¬¦ä¸²ã
     * @returns {string} è¿åè½¬æ¢åç JSON å­ç¬¦ä¸²ã
     */
    toJSON() {
        if (this.srcData && this.targetData) {
            var memoryDataStr = "";
            var count = Math.min(this.srcData.length, this.targetData.length);
            for (var i = 0; i < count; i++) {
                memoryDataStr += "\'" + this.srcData[i] + "\':\'" + this.targetData[i] + "\',";
            }
            //å»é¤å¤ä½çéå·
            if (i > 0) {
                memoryDataStr = memoryDataStr.substring(0, memoryDataStr.length - 1);
            }
            return "{" + memoryDataStr + "}";
        } else {
            return null;
        }
    }

}

SuperMap.ThemeMemoryData = ThemeMemoryData;
// CONCATENATED MODULE: ./src/common/iServer/Theme.js




/**
 * @class SuperMap.Theme
 * @category  iServer Map Theme
 * @classdesc ä¸é¢å¾åºç±»ã
 * @param {string} type - ä¸é¢å¾ç±»åã
 * @param {Object} options - åæ°ã
 * @param {SuperMap.ThemeMemoryData} [options.memoryData] - ä¸é¢å¾åå­æ°æ®ã
 */
class Theme_Theme {

    constructor(type, options) {
        if (!type) {
            return this;
        }
        /**
         * @member {SuperMap.ThemeMemoryData} SuperMap.Theme.prototype.memoryData
         * @description ä¸é¢å¾åå­æ°æ®ã<br>
         *              ç¨åå­æ°æ®å¶ä½ä¸é¢å¾çæ¹å¼ä¸è¡¨è¾¾å¼å¶ä½ä¸é¢å¾çæ¹å¼äºæ¥ï¼åèä¼åçº§è¾é«ã
         *              ç¬¬ä¸ä¸ªåæ°ä»£è¡¨ä¸é¢å¼ï¼å³æ°æ®éä¸­ç¨æ¥åä¸é¢å¾çå­æ®µæè¡¨è¾¾å¼çå¼ï¼ç¬¬äºä¸ªåæ°ä»£è¡¨å¤é¨å¼ãå¨å¶ä½ä¸é¢å¾æ¶ï¼ä¼ç¨å¤é¨å¼ä»£æ¿ä¸é¢å¼æ¥å¶ä½ç¸åºçä¸é¢å¾ã
         */
        this.memoryData = null;

        /**
         * @member {string} SuperMap.Theme.prototype.type
         * @description ä¸é¢å¾ç±»åã
         */
        this.type = type;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.Theme";
    }

    /**
     * @function SuperMap.Theme.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        if (me.memoryData) {
            me.memoryData.destroy();
            me.memoryData = null;
        }
        me.type = null;
    }

    /**
     * @function SuperMap.Theme.prototype.toServerJSONObject
     * @description è½¬æ¢æå¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     * @returns {Object} å¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     */
    toServerJSONObject() {
        //return å­ç±»å®ç°
        return;
    }

}

SuperMap.Theme = Theme_Theme;
// CONCATENATED MODULE: ./src/common/iServer/ServerTextStyle.js





/**
 * @class SuperMap.ServerTextStyle
 * @category  iServer Map Theme
 * @classdesc æå¡ç«¯ææ¬é£æ ¼ç±»ã
 * @description è¯¥ç±»ç¨äºå®ä¹ææ¬é£æ ¼çç¸å³å±æ§ã
 * @param {Object} options - åæ°ã
 * @param {SuperMap.TextAlignment} [options.align=SuperMap.TextAlignment.BASELINECENTER] - ææ¬çå¯¹é½æ¹å¼ã
 * @param {SuperMap.ServerColor} [options.backColor] - ææ¬çèæ¯è²ãé»è®¤ backColor = new ServerColor(255, 255, 255)ã
 * @param {SuperMap.ServerColor} [options.foreColor] - ææ¬çåæ¯è²ãé»è®¤ foreColor = new ServerColor(0, 0, 0)ã
 * @param {boolean} [options.backOpaque=false] - ææ¬èæ¯æ¯å¦ä¸éæã
 * @param {boolean} [options.sizeFixed=true] - ææ¬å¤§å°æ¯å¦åºå®ã
 * @param {number} [options.fontHeight=6] - ææ¬å­ä½çé«åº¦ã
 * @param {number} [options.fontWidth=0] - ææ¬å­ä½çå®½åº¦ã
 * @param {number} [options.fontWeight=400] - ææ¬å­ä½çç£æ°ã
 * @param {string} [options.fontName='Times New Roman'] - ææ¬å­ä½çåç§°ã
 * @param {boolean} [options.bold=false] - ææ¬æ¯å¦ä¸ºç²ä½å­ã
 * @param {boolean} [options.italic=false] - ææ¬æ¯å¦éç¨æä½ã
 * @param {number} [options.italicAngle=0] - å­ä½å¾æè§åº¦ã
 * @param {boolean} [options.shadow=false] - ææ¬æ¯å¦æé´å½±ã
 * @param {boolean} [options.strikeout=false] - ææ¬å­ä½æ¯å¦å å é¤çº¿ã
 * @param {boolean} [options.outline=false] - æ¯å¦ä»¥è½®å»çæ¹å¼æ¥æ¾ç¤ºææ¬çèæ¯ã
 * @param {number} [options.opaqueRate=0] - æ³¨è®°æå­çä¸éæåº¦ã
 * @param {boolean} [options.underline=false] - ææ¬å­ä½æ¯å¦å ä¸åçº¿ã
 * @param {number} [options.rotation=0.0] -  ææ¬æè½¬çè§åº¦ã
 */
class ServerTextStyle_ServerTextStyle {


    constructor(options) {
        /**
         * @member {SuperMap.TextAlignment} [SuperMap.ServerTextStyle.prototype.align= SuperMap.TextAlignment.BASELINECENTER]
         * @description ææ¬çå¯¹é½æ¹å¼ã
         */
        this.align = TextAlignment.BASELINECENTER;

        /**
         * @member {SuperMap.ServerColor} [SuperMap.ServerTextStyle.prototype.backColor=(255, 255, 255)]
         * @description ææ¬çèæ¯è²ã
         */
        this.backColor = new ServerColor(255, 255, 255);

        /**
         * @member {SuperMap.ServerColor} [SuperMap.ServerTextStyle.prototype.foreColor=(0, 0, 0)]
         * @description ææ¬çåæ¯è²ã
         */
        this.foreColor = new ServerColor(0, 0, 0);

        /**
         * @member {boolean} [SuperMap.ServerTextStyle.prototype.backOpaque=false]
         * @description ææ¬èæ¯æ¯å¦ä¸éæãtrue è¡¨ç¤ºææ¬èæ¯ä¸éæã
         */
        this.backOpaque = false;

        /**
         * @member {boolean} [SuperMap.ServerTextStyle.prototype.sizeFixed=true]
         * @description ææ¬å¤§å°æ¯å¦åºå®ãè®¾ç½®ä¸º trueï¼è¡¨ç¤ºå¾çä¸ºåºå®åç´ å¤§å°ï¼å·ä½å¤§å°è¯·åè fontHeightãå½è®¾ä¸º false æ¶ï¼å¾çä¼éçå°å¾ç¼©æ¾èç¼©æ¾ã
         */
        this.sizeFixed = true;

        /**
         * @member {number} [SuperMap.ServerTextStyle.prototype.fontHeight=6]
         * @description ææ¬å­ä½çé«åº¦ï¼åä½ä¸ sizeFixed æå³ï¼å½ sizeFixed ä¸º False æ¶ï¼å³éåºå®ææ¬å¤§å°æ¶ä½¿ç¨å°å¾åæ åä½ï¼
         *              å¦å°çåæ ç³»ä¸çå°å¾ä¸­åä½ä¸ºåº¦ï¼å½ sizeFixed ä¸º True æ¶ï¼åä½ä¸ºæ¯«ç±³ï¼mmï¼ã
         */
        this.fontHeight = 6;

        /**
         * @member {number} [SuperMap.ServerTextStyle.prototype.fontWidth=0]
         * @description ææ¬å­ä½çå®½åº¦ãå­ä½çå®½åº¦ä»¥è±æå­ç¬¦ä¸ºæ åï¼ç±äºä¸ä¸ªä¸­æå­ç¬¦ç¸å½äºä¸¤ä¸ªè±æå­ç¬¦ã
         */
        this.fontWidth = 0;

        /**
         * @member {number} [SuperMap.ServerTextStyle.prototype.fontWeight=400]
         * @description ææ¬å­ä½çç£æ°ãè¡¨ç¤ºç²ä½çå·ä½æ°å¼ãåå¼èå´ä¸ºä»0ï¼900ä¹é´çæ´ç¾æ°ã
         */
        this.fontWeight = 400;

        /**
         * @member {string} [SuperMap.ServerTextStyle.prototype.fontName="Times New Roman"]
         * @description ææ¬å­ä½çåç§°ã
         */
        this.fontName = "Times New Roman";

        /**
         * @member {boolean} [SuperMap.ServerTextStyle.prototype.bold=false]
         * @description ææ¬æ¯å¦ä¸ºç²ä½å­ãtrue è¡¨ç¤ºä¸ºç²ä½ãfalse è¡¨ç¤ºææ¬ä¸æ¯ç²ä½å­ã
         */
        this.bold = false;

        /**
         * @member {boolean} [SuperMap.ServerTextStyle.prototype.italic=false]
         * @description ææ¬æ¯å¦éç¨æä½ãtrue è¡¨ç¤ºéç¨æä½ã
         */
        this.italic = false;

        /**
         * @member {number} [SuperMap.ServerTextStyle.prototype.italicAngle=0]
         * @description å­ä½å¾æè§åº¦ãæ­£è´åº¦ä¹é´ï¼ä»¥åº¦ä¸ºåä½ï¼ç²¾ç¡®å°0.1åº¦ãå½å¾æè§åº¦ä¸º0åº¦ï¼ä¸ºç³»ç»é»è®¤çå­ä½å¾ææ ·å¼ã
         *              æ­£è´åº¦æ¯æä»¥çºµè½´ä¸ºèµ·å§é¶åº¦çº¿ï¼å¶çºµè½´å·¦ä¾§ä¸ºæ­£ï¼å³ä¾§ä¸ºè´ãåè®¸çæå¤§è§åº¦ä¸º60ï¼æå°-60ãå¤§äº60æç§60å¤çï¼å°äº-60æç§-60å¤çãç®ååªå¯¹æ ç­¾ä¸é¢å¾ææã
         */
        this.italicAngle = 0;

        /**
         * @member {boolean} [SuperMap.ServerTextStyle.prototype.shadow=false]
         * @description ææ¬æ¯å¦æé´å½±ãtrue è¡¨ç¤ºç»ææ¬å¢å é´å½±ãfalse è¡¨ç¤ºææ¬æ²¡æé´å½±ã
         */
        this.shadow = false;

        /**
         * @member {boolean} [SuperMap.ServerTextStyle.prototype.strikeout=false]
         * @description ææ¬å­ä½æ¯å¦å å é¤çº¿ãtrue è¡¨ç¤ºå å é¤çº¿ãfalse è¡¨ç¤ºææ¬å­ä½ä¸å å é¤çº¿ã
         */
        this.strikeout = false;

        /**
         * @member {boolean} [SuperMap.ServerTextStyle.prototype.outline=false]
         * @description æ¯å¦ä»¥è½®å»çæ¹å¼æ¥æ¾ç¤ºææ¬çèæ¯ãtrue è¡¨ç¤ºä»¥è½®å»çæ¹å¼æ¥æ¾ç¤ºææ¬çèæ¯ãfalse è¡¨ç¤ºä¸ä»¥è½®å»çæ¹å¼æ¥æ¾ç¤ºææ¬çèæ¯ã
         */
        this.outline = false;

        /**
         * @member {number} [SuperMap.ServerTextStyle.prototype.opaqueRate=0]
         * @description æ³¨è®°æå­çä¸éæåº¦ãä¸éæåº¦çèå´ä¸º0-100ã0è¡¨ç¤ºéæã
         */
        this.opaqueRate = 0;

        /**
         * @member {boolean} [SuperMap.ServerTextStyle.prototype.underline=false]
         * @description ææ¬å­ä½æ¯å¦å ä¸åçº¿ãtrue è¡¨ç¤ºå ä¸åçº¿ã
         */
        this.underline = false;

        /**
         * @member {number} [SuperMap.ServerTextStyle.prototype.rotation=0.0]
         * @description ææ¬æè½¬çè§åº¦ãéæ¶éæ¹åä¸ºæ­£æ¹åï¼åä½ä¸ºåº¦ï¼ç²¾ç¡®å°0.1åº¦ã
         */
        this.rotation = 0.0;

        if (options) {
            Util_Util.extend(this, options);
        }

       this.CLASS_NAME = "SuperMap.ServerTextStyle";
    }


    /**
     * @function SuperMap.ServerTextStyle.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.align = null;
        if (me.backColor) {
            me.backColor.destroy();
            me.backColor = null;
        }
        if (me.foreColor) {
            me.foreColor.destroy();
            me.foreColor = null;
        }
        me.backOpaque = null;
        me.sizeFixed = null;
        me.fontHeight = null;
        me.fontWidth = null;
        me.fontWeight = null;
        me.fontName = null;
        me.bold = null;
        me.italic = null;
        me.italicAngle = null;
        me.shadow = null;
        me.strikeout = null;
        me.outline = null;
        me.opaqueRate = null;
        me.underline = null;
        me.rotation = null;
    }

    /**
     * @function SuperMap.ServerTextStyle.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·æå¡ç«¯ææ¬é£æ ¼ç±»ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡
     * @returns {SuperMap.ServerTextStyle} è¿åæå¡ç«¯ææ¬é£æ ¼å¯¹è±¡
     */
    static fromObj(obj) {
        var res = new ServerTextStyle_ServerTextStyle(obj);
        Util_Util.copy(res, obj);
        res.backColor = ServerColor.fromJson(obj.backColor);
        res.foreColor = ServerColor.fromJson(obj.foreColor);
        return res;
    }

}

SuperMap.ServerTextStyle = ServerTextStyle_ServerTextStyle;

// CONCATENATED MODULE: ./src/common/iServer/ThemeLabelItem.js




/**
 * @class SuperMap.ThemeLabelItem
 * @category  iServer Map Theme
 * @classdesc åæ®µæ ç­¾ä¸é¢å¾çå­é¡¹ã
 * @description æ ç­¾ä¸é¢å¾ç¨ä¸é¢å¼å¯¹ç¹ãçº¿ãé¢ç­å¯¹è±¡åæ æ³¨ï¼å¼å¾æ³¨æçæ¯ï¼åæ®µæ ç­¾ä¸é¢å¾åè®¸ç¨æ·éè¿ rangeExpression
 *              å­æ®µæå®ç¨äºåæ®µçæ°å¼åå­æ®µï¼åä¸èå´æ®µåçæ ç­¾å·æç¸åçæ¾ç¤ºé£æ ¼ï¼å¶ä¸­æ¯ä¸ä¸ªèå´æ®µå°±æ¯ä¸ä¸ªä¸é¢å¾å­é¡¹ï¼
 *              æ¯ä¸ä¸ªå­é¡¹é½å·æå¶åç§°ãé£æ ¼ãèµ·å§å¼åç»æ­¢å¼ãæ³¨æï¼æ¯ä¸ªåæ®µæè¡¨ç¤ºçèå´ä¸º [Start, End)ãä¾å¦ï¼æ ç­¾ä¸é¢å¾çåæ®µç¹æä¸¤ä¸ªå­é¡¹ï¼
 *              ä»ä»¬æä»£è¡¨çåæ®µåºé´åå«ä¸º[0,5)ï¼[5,10)ãé£ä¹éè¦åå«è®¾ç½® SuperMap.ThemeLabelItem[0].start=0ï¼
 *              SuperMap.ThemeLabelItem[0].end=5ï¼SuperMap.ThemeLabelItem[1].start=5ï¼SuperMap.ThemeLabelItem[1].end=10ã
 * @param {Object} options - åæ°ã
 * @param {string} [options.caption] - ä¸é¢å¾å­é¡¹çåç§°ã
 * @param {number} [options.end=0] - æ ç­¾ä¸é¢å¾å­é¡¹çç»æ­¢å¼ã
 * @param {number} [options.start=0] - æ ç­¾ä¸é¢å¾å­é¡¹çåæ®µèµ·å§å¼ã
 * @param {boolean} [options.visible=true] - æ ç­¾ä¸é¢å¾å­é¡¹æ¯å¦å¯è§ã
 * @param {SuperMap.ServerTextStyle} [options.style] - æ ç­¾ä¸é¢å¾å­é¡¹ææ¬çæ¾ç¤ºé£æ ¼ã
 */
class ThemeLabelItem_ThemeLabelItem {

    constructor(options) {
        /**
         * @member {string} [SuperMap.ThemeLabelItem.prototype.caption]
         * @description æ ç­¾ä¸é¢å­é¡¹çæ é¢ã
         */
        this.caption = null;

        /**
         * @member {number} [SuperMap.ThemeLabelItem.prototype.end=0]
         * @description æ ç­¾ä¸é¢å¾å­é¡¹çç»æ­¢å¼ãå¦æè¯¥å­é¡¹æ¯åæ®µä¸­æåä¸ä¸ªå­é¡¹ï¼é£ä¹è¯¥ç»æ­¢å¼å°±æ¯åæ®µçæå¤§å¼ï¼
         *              å¦æä¸æ¯æåä¸é¡¹ï¼è¯¥ç»æ­¢å¼å¿é¡»ä¸å¶ä¸ä¸å­é¡¹çèµ·å§å¼ç¸åï¼å¦åç³»ç»æåºå¼å¸¸ã
         */
        this.end = 0;

        /**
         * @member {number} [SuperMap.ThemeLabelItem.prototype.start=0]
         * @description æ ç­¾ä¸é¢å¾å­é¡¹çåæ®µèµ·å§å¼ãå¦æè¯¥å­é¡¹æ¯åæ®µä¸­ç¬¬ä¸é¡¹ï¼é£ä¹è¯¥èµ·å§å¼å°±æ¯åæ®µçæå°å¼ï¼
         *              å¦æè¯¥å­é¡¹çåºå·å¤§äºç­äº 1 çæ¶åï¼è¯¥èµ·å§å¼å¿é¡»ä¸åä¸å­é¡¹çç»æ­¢å¼ç¸åï¼å¦åç³»ç»ä¼æåºå¼å¸¸ã
         */
        this.start = 0;

        /**
         * @member {boolean} [SuperMap.ThemeLabelItem.prototype.visible=true]
         * @description æ ç­¾ä¸é¢å¾å­é¡¹æ¯å¦å¯è§ãå¦ææ ç­¾ä¸é¢å¾å­é¡¹å¯è§ï¼åä¸º trueï¼å¦åä¸º falseã
         */
        this.visible = true;

        /**
         * @member {SuperMap.ServerTextStyle} SuperMap.ThemeLabelItem.prototype.style
         * @description æ ç­¾ä¸é¢å¾å­é¡¹ææ¬çæ¾ç¤ºé£æ ¼ãåç§é£æ ¼çä¼åçº§ä»é«å°ä½ä¸ºï¼<br>
         *              uniformMixedStyleï¼æ ç­¾ææ¬çå¤åé£æ ¼ï¼ï¼SuperMap.ThemeLabelItem.styleï¼åæ®µå­é¡¹çææ¬é£æ ¼ï¼ï¼uniformStyleï¼ç»ä¸ææ¬é£æ ¼ï¼ã
         */
        this.style = new ServerTextStyle_ServerTextStyle();

        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = "SuperMap.ThemeLabelItem";

    }


    /**
     * @function SuperMap.ThemeLabelItem.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.caption = null;
        me.end = null;
        me.start = null;
        if (me.style) {
            me.style.destroy();
            me.style = null;
        }
        me.visible = null;
    }

    /**
     * @function SuperMap.ThemeLabelItem.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·ååæ®µæ ç­¾ä¸é¢å¾çå­é¡¹ç±»ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡ã
     * @returns {SuperMap.ThemeLabelItem} ThemeLabelItem å¯¹è±¡ã
     */
    static fromObj(obj) {
        if (!obj) {
            return;
        }
        var t = new ThemeLabelItem_ThemeLabelItem();
        Util_Util.copy(t, obj);
        return t;
    }

}

SuperMap.ThemeLabelItem = ThemeLabelItem_ThemeLabelItem;

// CONCATENATED MODULE: ./src/common/iServer/ThemeUniqueItem.js




/**
 * @class SuperMap.ThemeUniqueItem
 * @category  iServer Map Theme
 * @classdesc åå¼ä¸é¢å¾å­é¡¹ç±»ã
 * @description åå¼ä¸é¢å¾æ¯å°ä¸é¢å¼ç¸åçè¦ç´ å½ä¸ºä¸ç±»ï¼ä¸ºæ¯ä¸ç±»è®¾å®ä¸ç§æ¸²æé£æ ¼ï¼å¶ä¸­æ¯ä¸ç±»å°±æ¯ä¸ä¸ªä¸é¢å¾å­é¡¹ãæ¯å¦ï¼å©ç¨åå¼ä¸é¢å¾å¶ä½è¡æ¿åºåå¾ï¼Name å­æ®µä»£è¡¨
 *              ç/ç´è¾å¸åï¼è¯¥å­æ®µç¨æ¥åä¸é¢åéï¼å¦æè¯¥å­æ®µçå­æ®µå¼æ»å±æ 5 ç§ä¸åå¼ï¼åè¯¥è¡æ¿åºåå¾æ 5 ä¸ªä¸é¢å¾å­é¡¹ã
 * @param {Object} options - åæ°ã
 * @param {string} options.unique - åå¼ä¸é¢å¾å­é¡¹çåå¼ã
 * @param {string} [options.caption] - åå¼ä¸é¢å¾å­é¡¹çæ é¢ã
 * @param {SuperMap.ServerStyle} [options.style] - åå¼ä¸é¢å¾å­é¡¹çé£æ ¼ã
 * @param {boolean} [options.visible=true] - åå¼ä¸é¢å¾å­é¡¹æ¯å¦å¯è§ã
 */
class ThemeUniqueItem_ThemeUniqueItem {

    constructor(options) {
        /**
         * @member {string} [SuperMap.ThemeUniqueItem.prototype.caption]
         * @description åå¼ä¸é¢å¾å­é¡¹çæ é¢ã
         */
        this.caption = null;

        /**
         * @member {SuperMap.ServerStyle} [SuperMap.ThemeUniqueItem.prototype.style]
         * @description åå¼ä¸é¢å¾å­é¡¹çæ¾ç¤ºé£æ ¼ã
         */
        this.style = new ServerStyle_ServerStyle();

        /**
         * @member {string} SuperMap.ThemeUniqueItem.prototype.unique
         * @description åå¼ä¸é¢å¾å­é¡¹çå¼ï¼å¯ä»¥ä¸ºæ°å­ãå­ç¬¦ä¸²ç­ã
         */
        this.unique = null;

        /**
         * @member {boolean} [SuperMap.ThemeUniqueItem.prototype.visible=true]
         * @description åå¼ä¸é¢å¾å­é¡¹çå¯è§æ§ã
         */
        this.visible = true;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.ThemeUniqueItem";
    }

    /**
     * @function SuperMap.ThemeUniqueItem.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.caption = null;
        me.unique = null;

        if (me.style) {
            me.style.destroy();
            me.style = null;
        }
        me.visible = null;
    }

    /**
     * @function SuperMap.ThemeUniqueItem.prototype.toServerJSONObject
     * @description è½¬æ¢æå¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     * @returns {Object} å¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     */
    toServerJSONObject() {
        var obj = {};
        obj = Util_Util.copyAttributes(obj, this);
        if (obj.style) {
            if (obj.style.toServerJSONObject) {
                obj.style = obj.style.toServerJSONObject();
            }
        }
        return obj;
    }

    /**
     * @function SuperMap.ThemeUniqueItem.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·ååå¼ä¸é¢å¾å­é¡¹ç±»ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡ã
     * @returns {SuperMap.ThemeUniqueItem} ThemeUniqueItem å¯¹è±¡ã
     */
    static fromObj(obj) {
        var res = new ThemeUniqueItem_ThemeUniqueItem();
        Util_Util.copy(res, obj);
        res.style = ServerStyle_ServerStyle.fromJson(obj.style);
        return res;

    }

}

SuperMap.ThemeUniqueItem = ThemeUniqueItem_ThemeUniqueItem;


// CONCATENATED MODULE: ./src/common/iServer/ThemeFlow.js




/**
 * @class SuperMap.ThemeFlow
 * @category  iServer Map Theme
 * @classdesc æ ç­¾æç¬¦å·æµå¨æ¾ç¤ºåçµå¼çº¿é£æ ¼è®¾ç½®ç±»ã
 *            éè¿è¯¥ç±»å¯ä»¥è®¾ç½®ä¸é¢å¾ä¸­ç¬¦å·æ¯å¦æµå¨æ¾ç¤ºãæ¯å¦ä½¿ç¨çµå¼çº¿ä»¥åçµå¼çº¿é£æ ¼ã
 * @param {Object} options - åæ°ã
 * @param {boolean} [options.flowEnabled=false] - æ¯å¦æµå¨æ¾ç¤ºæ ç­¾æç¬¦å·ã
 * @param {boolean} [options.leaderLineDisplayed=false] - æ¯å¦æ¾ç¤ºæ ç­¾æç¬¦å·åå®æ æ³¨çå¯¹è±¡ä¹é´ççµå¼çº¿ã
 * @param {SuperMap.ServerStyle} [options.leaderLineStyle] - æ ç­¾æç¬¦å·ä¸å¶æ æ³¨å¯¹è±¡ä¹é´çµå¼çº¿çé£æ ¼ã
 */
class ThemeFlow_ThemeFlow {

    constructor(options) {
        /**
         * @member {boolean} [SuperMap.ThemeFlow.prototype.flowEnabled=false]
         * @description æ¯å¦æµå¨æ¾ç¤ºæ ç­¾æç¬¦å·ã<br>
         *              å¯¹äºæ ç­¾ä¸é¢å¾èè¨ï¼å¯¹äºè·¨è¶æ¯è¾å¤§çåºååçº¿æ¡ç¶çå ä½å¯¹è±¡ï¼å¨ä¸ä¸ªå°å¾çªå£ä¸­ä¸è½å®å¨æ¾ç¤ºçæåµä¸ï¼å¦æå¶æ ç­¾ä½ç½®æ¯è¾åºå®ï¼
         *              å¨å½åå°å¾çªå£ä¸­è¯¥å¯¹è±¡çæ ç­¾ä¸å¯è§ï¼åéè¦éè¿å¹³ç§»å°å¾æ¥æ¥çå¯¹è±¡çæ ç­¾ä¿¡æ¯ãå¦æéç¨äºæµå¨æ¾ç¤ºçææï¼å¨å½åå°å¾çªå£ä¸­ï¼å¯¹è±¡å³ä½¿æ¯é¨åæ¾ç¤ºï¼
         *              å¶æ ç­¾ä¹ä¼æ¾ç¤ºå¨å½åå°å¾çªå£ä¸­ãå½å¹³ç§»å°å¾æ¶ï¼å¯¹è±¡çæ ç­¾ä¼éä¹ç§»å¨ï¼ä»¥ä¿è¯å¨å½åå°å¾çªå£ä¸­é¨åæå¨é¨æ¾ç¤ºçå¯¹è±¡å¶æ ç­¾é½å¯è§ï¼ä»èå¯ä»¥æ¹ä¾¿å°æ¥çåè¦ç´ çæ ç­¾ä¿¡æ¯ã
         */
        this.flowEnabled = false;

        /**
         * @member {boolean} [SuperMap.ThemeFlow.prototype.leaderLineDisplayed=false]
         * @description æ¯å¦æ¾ç¤ºæ ç­¾æç¬¦å·åå®æ æ³¨çå¯¹è±¡ä¹é´ççµå¼çº¿ãfalseè¡¨ç¤ºä¸æ¾ç¤ºæ ç­¾æç¬¦å·åå®æ æ³¨çå¯¹è±¡ä¹é´ççµå¼çº¿ã<br>
         *              åªæå½ flowEnabled ä¸º true æ¶ï¼çµå¼çº¿æèµ·ä½ç¨ãå¨å½æ ç­¾æµå¨æ¾ç¤ºæ¶ï¼å¶ä½ç½®ä¸åºå®ï¼ç±äºçµå¼çº¿å§ç»æåè¦ç´ çåç¹ï¼
         *              å èéè¿çµå¼çº¿æ¾ç¤ºåè½å¯ä»¥æ¾å°æµå¨çæ ç­¾æç¬¦å·å®éå¯¹åºçè¦ç´ ãæèæ¸²æç¬¦å·åç§»å®ææåçå¯¹è±¡æ¶ï¼å¾ä¸å¯¹è±¡ä¹é´å¯ä»¥éç¨çµå¼çº¿è¿è¡è¿æ¥ã
         */
        this.leaderLineDisplayed = false;

        /**
         * @member {SuperMap.ServerStyle} SuperMap.ThemeFlow.prototype.leaderLineStyle
         * @description æ ç­¾æç¬¦å·ä¸å¶æ æ³¨å¯¹è±¡ä¹é´çµå¼çº¿çé£æ ¼ã
         */
        this.leaderLineStyle =  new ServerStyle_ServerStyle();

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.ThemeFlow";
    }

    /**
     * @function SuperMap.ThemeFlow.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.flowEnabled = null;
        me.leaderLineDisplayed = null;
        if (me.leaderLineStyle) {
            me.leaderLineStyle.destroy();
            me.leaderLineStyle = null;
        }
    }

    /**
     * @function SuperMap.ThemeFlow.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·åæ ç­¾æç¬¦å·æµå¨æ¾ç¤ºåçµå¼çº¿é£æ ¼è®¾ç½®ç±»ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡ã
     * @returns {SuperMap.ThemeFlow} ThemeFlow å¯¹è±¡ã
     */
    static fromObj(obj) {
        if (!obj) {
            return;
        }
        var res = new ThemeFlow_ThemeFlow();
        Util_Util.copy(res, obj);
        res.leaderLineStyle = ServerStyle_ServerStyle.fromJson(obj.leaderLineStyle);
        return res;
    }

}

SuperMap.ThemeFlow = ThemeFlow_ThemeFlow;

// CONCATENATED MODULE: ./src/common/iServer/ThemeOffset.js



/**
 * @class SuperMap.ThemeOffset
 * @category  iServer Map Theme
 * @classdesc ä¸é¢å¾ä¸­ææ¬æç¬¦å·ç¸å¯¹äºè¦ç´ åç¹çåç§»éè®¾ç½®ç±»ã
 *            éè¿è¯¥ç±»å¯ä»¥è®¾ç½®ä¸é¢å¾ä¸­æ è®°ææ¬æç¬¦å·çåç§»éä»¥ååç§»éæ¯å¦éå°å¾ç¼©æ¾èæ¹åã
 * @param {Object} options - åæ°ã
 * @param {boolean} [options.offsetFixed=false] - å½åä¸é¢å¾æ¯å¦åºå®æ è®°ææ¬æç¬¦å·çåç§»éã
 * @param {string} [options.offsetX='0.0'] - ä¸é¢å¾ä¸­ææ¬æç¬¦å·ç¸å¯¹äºè¦ç´ åç¹çæ°´å¹³åç§»éã
 * @param {string} [options.offsetY='0.0'] - ä¸é¢å¾ä¸­ææ¬æç¬¦å·ç¸å¯¹äºè¦ç´ åç¹çåç´åç§»éã
 */
class ThemeOffset_ThemeOffset {

    constructor(options) {
        /**
         * @member {boolean} [SuperMap.ThemeOffset.prototype.offsetFixed=false]
         * @description å½åä¸é¢å¾æ¯å¦åºå®æ è®°ææ¬æç¬¦å·çåç§»éãæè°åºå®åç§»éï¼åææ¬æç¬¦å·çåç§»éä¸éå°å¾çç¼©æ¾èååã
         */
        this.offsetFixed = false;

        /**
         * @member {string} [SuperMap.ThemeOffset.prototype.offsetX=0.0]
         * @description ä¸é¢å¾ä¸­ææ¬æç¬¦å·ç¸å¯¹äºè¦ç´ åç¹çæ°´å¹³åç§»éãåç§»éçåä½ä¸ºå°å¾åä½ã
         *              è¯¥åç§»éçå¼ä¸ºä¸ä¸ªå¸¸éå¼æèå­æ®µè¡¨è¾¾å¼æè¡¨ç¤ºçå¼ï¼å³å¦æå­æ®µè¡¨è¾¾å¼ä¸º SmIDï¼å¶ä¸­ SmID = 2ï¼é£ä¹æ°´å¹³åç§»éä¸º2ã
         */
        this.offsetX = "0.0";

        /**
         * @member {string} [SuperMap.ThemeOffset.prototype.offsetY=0.0]
         * @description ä¸é¢å¾ä¸­ææ¬æç¬¦å·ç¸å¯¹äºè¦ç´ åç¹çåç´åç§»éãåç§»éçåä½ä¸ºå°å¾åä½ã
         *              è¯¥åç§»éçå¼ä¸ºä¸ä¸ªå¸¸éå¼æèå­æ®µè¡¨è¾¾å¼æè¡¨ç¤ºçå¼ï¼å³å¦æå­æ®µè¡¨è¾¾å¼ä¸º SmIDï¼å¶ä¸­ SmID = 2ï¼é£ä¹åç´åç§»éä¸º2ã
         */
        this.offsetY = "0.0";

        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = "SuperMap.ThemeOffset";
    }

    /**
     * @function SuperMap.ThemeOffset.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.offsetFixed = null;
        me.offsetX = null;
        me.offsetY = null;
    }

    /**
     * @function SuperMap.ThemeOffset.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·åä¸é¢å¾ä¸­ææ¬æç¬¦å·ç¸å¯¹äºè¦ç´ åç¹çåç§»éè®¾ç½®ç±»ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡ã
     * @returns {SuperMap.ThemeOffset} ThemeOffset å¯¹è±¡ã
     */
    static fromObj(obj) {
        if (!obj) {
            return;
        }
        var res = new ThemeOffset_ThemeOffset();
        Util_Util.copy(res, obj);
        return res;
    }

}

SuperMap.ThemeOffset = ThemeOffset_ThemeOffset;

// CONCATENATED MODULE: ./src/common/iServer/LabelMixedTextStyle.js




/**
 * @class SuperMap.LabelMixedTextStyle
 * @category iServer Map Theme
 * @classdesc æ ç­¾ææ¬å¤åé£æ ¼ç±»
 * @description è¯¥ç±»ä¸»è¦ç¨äºå¯¹æ ç­¾ä¸é¢å¾ä¸­æ ç­¾çææ¬åå®¹è¿è¡é£æ ¼è®¾ç½®ãéè¿è¯¥ç±»ç¨æ·å¯ä»¥ä½¿æ ç­¾çæå­æ¾ç¤ºä¸åçé£æ ¼ï¼æ¯å¦ææ¬ âåé©¬æéå±±âï¼éè¿æ¬ç±»å¯ä»¥å°åä¸ä¸ªå­ç¨çº¢è²æ¾ç¤ºï¼åä¸¤ä¸ªå­ç¨èè²æ¾ç¤ºãå¯¹åä¸ææ¬è®¾ç½®ä¸åçé£æ ¼å®è´¨ä¸æ¯å¯¹ææ¬çå­ç¬¦è¿è¡åæ®µï¼åä¸åæ®µåçå­ç¬¦å·æç¸åçæ¾ç¤ºé£æ ¼ãå¯¹å­ç¬¦åæ®µæä¸¤ç§æ¹å¼ï¼ä¸ç§æ¯å©ç¨åéç¬¦å¯¹ææ¬è¿è¡åæ®µï¼å¦ä¸ç§æ¯æ ¹æ®åæ®µç´¢å¼å¼è¿è¡åæ®µã<br>
 *  1. å©ç¨åéç¬¦å¯¹ææ¬è¿è¡åæ®µ: æ¯å¦ææ¬ â5&109â è¢«åéç¬¦ â&â åä¸º â5â å â109â ä¸¤é¨åï¼
 *     å¨æ¾ç¤ºæ¶ï¼â5â ååéç¬¦ â&â ä½¿ç¨åä¸ä¸ªé£æ ¼ï¼å­ç¬¦ä¸² â109â ä½¿ç¨ç¸åçé£æ ¼ã<br>
 *  2. å©ç¨åæ®µç´¢å¼å¼è¿è¡åæ®µ: ææ¬ä¸­å­ç¬¦çç´¢å¼å¼æ¯ä»¥0å¼å§çæ´æ°ï¼æ¯å¦ææ¬ âç ç©æçå³°âï¼
 *     ç¬¬ä¸ä¸ªå­ç¬¦ï¼âç âï¼çç´¢å¼å¼ä¸º 0ï¼ç¬¬äºä¸ªå­ç¬¦ï¼âç©âï¼çç´¢å¼å¼ä¸º 1ï¼ä»¥æ­¤ç±»æ¨ï¼å½è®¾ç½®åæ®µç´¢å¼å¼ä¸º 1ï¼3ï¼4ï¼9 æ¶ï¼
 *     å­ç¬¦åæ®µèå´ç¸åºçå°±æ¯ (-âï¼1)ï¼[1ï¼3)ï¼[3ï¼4)ï¼[4ï¼9)ï¼[9ï¼+â)ï¼å¯ä»¥çåºç´¢å¼å·ä¸º 0 çå­ç¬¦ï¼å³âç â ï¼å¨ç¬¬ä¸ä¸ªåæ®µåï¼
 *     ç´¢å¼å·ä¸º 1ï¼2 çå­ç¬¦ï¼å³âç©âãâæâï¼ä½äºç¬¬äºä¸ªåæ®µåï¼ç´¢å¼å·ä¸º 3 çå­ç¬¦ï¼âçâï¼å¨ç¬¬ä¸ä¸ªåæ®µåï¼ç´¢å¼å·ä¸º 4 çå­ç¬¦ï¼âå³°âï¼å¨ç¬¬åä¸ªåæ®µåï¼å¶ä½åæ®µä¸­æ²¡æå­ç¬¦ã
 * @param {Object} options - åæ°ã
 * @param {SuperMap.ServerTextStyle} [options.defaultStyle] - é»è®¤çææ¬å¤åé£æ ¼ã
 * @param {string} [options.separator] - ææ¬çåéç¬¦ã 
 * @param {boolean} [options.separatorEnabled=false] - ææ¬çåéç¬¦æ¯å¦ææã 
 * @param {Array.<number>} [options.splitIndexes] - åæ®µç´¢å¼å¼ï¼åæ®µç´¢å¼å¼ç¨æ¥å¯¹ææ¬ä¸­çå­ç¬¦è¿è¡åæ®µã 
 * @param {Array.<SuperMap.ServerTextStyle>} [options.styles] - ææ¬æ ·å¼éåã
 */
class LabelMixedTextStyle_LabelMixedTextStyle {

    constructor(options) {
        /**
         * @member {SuperMap.ServerTextStyle} SuperMap.LabelMixedTextStyle.prototype.defaultStyle
         * @description é»è®¤çææ¬å¤åé£æ ¼ï¼å³ SuperMap.ServerTextStyle åå­æ®µçé»è®¤å¼ã
         */
        this.defaultStyle = null;

        /**
         * @member {string} SuperMap.LabelMixedTextStyle.prototype.separator
         * @description ææ¬çåéç¬¦ï¼åéç¬¦çé£æ ¼ä¸åä¸ä¸ªå­ç¬¦çé£æ ¼ä¸æ ·ãææ¬çåéç¬¦æ¯ä¸ä¸ªå°ææ¬åå²å¼çç¬¦å·ï¼
         *              æ¯å¦ææ¬ â5_109â è¢« â_â éç¬¦ä¸º â5â å â109â ä¸¤é¨åï¼åè®¾æé£æ ¼æ°ç»ï¼style1ãstyle2ã
         *              å¨æ¾ç¤ºæ¶ï¼â5â ååéç¬¦ â_â ä½¿ç¨ Style1 é£æ ¼æ¸²æï¼å­ç¬¦ä¸² â109â ä½¿ç¨ Style2 çé£æ ¼ã
         */
        this.separator = null;

        /**
         * @member {boolean} [SuperMap.LabelMixedTextStyle.prototype.separatorEnabled=false]
         * @description ææ¬çåéç¬¦æ¯å¦ææãåéç¬¦æææ¶å©ç¨åéç¬¦å¯¹ææ¬è¿è¡åæ®µï¼æ ææ¶æ ¹æ®ææ¬ä¸­å­ç¬¦çä½ç½®è¿è¡åæ®µã
         *              åæ®µåï¼åä¸åæ®µåçå­ç¬¦å·æç¸åçæ¾ç¤ºé£æ ¼ã
         */
        this.separatorEnabled = false;

        /**
         * @member {Array.<number>} SuperMap.LabelMixedTextStyle.prototype.splitIndexes
         * @description åæ®µç´¢å¼å¼ï¼åæ®µç´¢å¼å¼ç¨æ¥å¯¹ææ¬ä¸­çå­ç¬¦è¿è¡åæ®µã
         *              ææ¬ä¸­å­ç¬¦çç´¢å¼å¼æ¯ä»¥ 0 å¼å§çæ´æ°ï¼æ¯å¦ææ¬âç ç©æçå³°âï¼ç¬¬ä¸ä¸ªå­ç¬¦ï¼âç âï¼çç´¢å¼å¼ä¸º0ï¼ç¬¬äºä¸ªå­ç¬¦ï¼âç©âï¼çç´¢å¼å¼ä¸º 1ï¼
         *              ä»¥æ­¤ç±»æ¨ï¼å½è®¾ç½®åæ®µç´¢å¼å¼æ°ç»ä¸º [1ï¼3ï¼4ï¼9] æ¶ï¼å­ç¬¦åæ®µèå´ç¸åºçå°±æ¯ (-âï¼1)ï¼[1ï¼3)ï¼[3ï¼4)ï¼[4ï¼9)ï¼[9ï¼+â)ï¼
         *              å¯ä»¥çåºç´¢å¼å·ä¸º 0 çå­ç¬¦ï¼å³ âç âï¼å¨ç¬¬ä¸ä¸ªåæ®µåï¼ç´¢å¼å·ä¸º 1ï¼2 çå­ç¬¦ï¼å³ âç©âãâæâï¼ä½äºç¬¬äºä¸ªåæ®µåï¼
         *              ç´¢å¼å·ä¸º 3 çå­ç¬¦ï¼âçâï¼å¨ç¬¬ä¸ä¸ªåæ®µåï¼ç´¢å¼å·ä¸º 4 çå­ç¬¦ï¼âå³°âï¼å¨ç¬¬åä¸ªåæ®µåï¼å¶ä½åæ®µä¸­æ²¡æå­ç¬¦ã
         */
        this.splitIndexes = null;

        /**
         * @member {Array.<SuperMap.ServerTextStyle>} SuperMap.LabelMixedTextStyle.prototype.styles
         * @description ææ¬æ ·å¼éåãææ¬æ ·å¼éåä¸­çæ ·å¼æ ¹æ®ç´¢å¼ä¸ä¸ååæ®µä¸ä¸å¯¹åºï¼
         *              å¦ææåæ®µæ²¡æé£æ ¼å¯¹åºåä½¿ç¨ defaultStyleã
         */
        this.styles = new ServerTextStyle_ServerTextStyle();

        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = "SuperMap.LabelMixedTextStyle"
    }

    /**
     * @function SuperMap.LabelMixedTextStyle.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        if (me.defaultStyle) {
            me.defaultStyle.destroy();
            me.defaultStyle = null;
        }
        me.separator = null;
        me.separatorEnabled = null;
        if (me.splitIndexes) {
            me.splitIndexes = null;
        }
        if (me.styles) {
            for (var i = 0, styles = me.styles, len = styles.length; i < len; i++) {
                styles[i].destroy();
            }
            me.styles = null;
        }
    }

    /**
     * @function SuperMap.LabelMixedTextStyle.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·åæ ç­¾ææ¬å¤åé£æ ¼ç±»ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡ã
     * @returns {SuperMap.LabelMixedTextStyle} è¿åæ°ç LabelMixedTextStyle å¯¹è±¡ã
     */
    static fromObj(obj) {
        if (!obj) {
            return;
        }
        var res = new LabelMixedTextStyle_LabelMixedTextStyle();
        var stys = obj.styles;
        Util_Util.copy(res, obj);
        res.defaultStyle = new ServerTextStyle_ServerTextStyle(obj.defaultStyle);
        if (stys) {
            res.styles = [];
            for (var i = 0, len = stys.length; i < len; i++) {
                res.styles.push(new ServerTextStyle_ServerTextStyle(stys[i]));
            }
        }
        return res;
    }

}

SuperMap.LabelMixedTextStyle = LabelMixedTextStyle_LabelMixedTextStyle;


// CONCATENATED MODULE: ./src/common/iServer/ThemeLabelText.js





/**
 * @class SuperMap.ThemeLabelText
 * @category  iServer Map Theme
 * @classdesc æ ç­¾ä¸­ææ¬é£æ ¼ç±»ã
 *            éè¿è¯¥ç±»å¯ä»¥è®¾ç½®æ ç­¾ä¸­çææ¬å­ä½å¤§å°åæ¾ç¤ºé£æ ¼ã
 * @param {Object} options - åæ°ã
 * @param {number} [options.maxTextHeight=0] - æ ç­¾ä¸­ææ¬çæå¤§é«åº¦ã
 * @param {number} [options.maxTextWidth=0] - æ ç­¾ä¸­ææ¬çæå¤§å®½åº¦ã
 * @param {number} [options.minTextHeight=0] - æ ç­¾ä¸­ææ¬çæå°é«åº¦ã
 * @param {number} [options.minTextWidth=0] - æ ç­¾ä¸­ææ¬çæå°å®½åº¦ã
 * @param {SuperMap.ServerTextStyle} [options.uniformStyle] - ç»ä¸ææ¬é£æ ¼ã
 * @param {SuperMap.LabelMixedTextStyle} [options.uniformMixedStyle] - æ ç­¾ä¸é¢å¾ç»ä¸çææ¬å¤åé£æ ¼ã
 */
class ThemeLabelText_ThemeLabelText {

    constructor(options) {
        /**
         * @member {number} [SuperMap.ThemeLabelText.prototype.maxTextHeight=0]
         * @description æ ç­¾ä¸­ææ¬çæå¤§é«åº¦ãå½æ ç­¾ææ¬ä¸åºå®å¤§å°æ¶ï¼å³ SuperMap.ServerTextStyle.sizeFixed = false ææï¼
         *              å½æ¾å¤§åçææ¬é«åº¦è¶è¿æå¤§é«åº¦ä¹åå°±ä¸åæ¾å¤§ãé«åº¦åä½ä¸º 0.1 æ¯«ç±³ã
         */
        this.maxTextHeight = 0;

        /**
         * @member {number} [SuperMap.ThemeLabelText.prototype.maxTextWidth=0]
         * @description æ ç­¾ä¸­ææ¬çæå¤§å®½åº¦ãå½æ ç­¾ææ¬ä¸åºå®å¤§å°æ¶ï¼å³ SuperMap.ServerTextStyle.sizeFixed = false ææï¼
         *              å½æ¾å¤§åçææ¬å®½åº¦è¶è¿æå¤§é«åº¦ä¹åå°±ä¸åæ¾å¤§ãå®½åº¦åä½ä¸º 0.1 æ¯«ç±³ã
         */
        this.maxTextWidth = 0;

        /**
         * @member {number} [SuperMap.ThemeLabelText.prototype.minTextHeight=0]
         * @description æ ç­¾ä¸­ææ¬çæå°é«åº¦ãå½æ ç­¾ææ¬ä¸åºå®å¤§å°æ¶ï¼å³ SuperMap.ServerTextStyle.sizeFixed = false ææï¼
         *              å½ç¼©å°åçææ¬é«åº¦å°äºæå°é«åº¦ä¹åå°±ä¸åç¼©å°ãé«åº¦åä½ä¸º 0.1 æ¯«ç±³ã
         */
        this.minTextHeight = 0;

        /**
         * @member {number} [SuperMap.ThemeLabelText.prototype.minTextWidth=0]
         * @description æ ç­¾ä¸­ææ¬çæå°å®½åº¦ãå½æ ç­¾ææ¬ä¸åºå®å¤§å°æ¶ï¼å³ SuperMap.ServerTextStyle.sizeFixed = false ææï¼
         *              å½ç¼©å°åçææ¬å®½åº¦å°äºæå°å®½åº¦ä¹åå°±ä¸åç¼©å°ãå®½åº¦åä½ä¸º 0.1 æ¯«ç±³ã
         */
        this.minTextWidth = 0;

        /**
         * @member {SuperMap.ServerTextStyle} [SuperMap.ThemeLabelText.prototype.uniformStyle]
         * @description ç»ä¸ææ¬é£æ ¼ãå½æ ç­¾ä¸é¢å¾å­é¡¹çä¸ªæ°å¤§äºç­äº1æ¶ï¼
         *              uniformStyle ä¸èµ·ä½ç¨ï¼åæ ç­¾çé£æ ¼ä½¿ç¨å­é¡¹ä¸­è®¾ç½®çé£æ ¼ãåç§é£æ ¼çä¼åçº§ä»é«å°ä½ä¸ºï¼uniformMixedStyleï¼æ ç­¾ææ¬çå¤åé£æ ¼ï¼ï¼
         *              SuperMap.ThemeLabelItem.styleï¼åæ®µå­é¡¹çææ¬é£æ ¼ï¼ï¼uniformStyleï¼ç»ä¸ææ¬é£æ ¼ï¼ã
         */
        this.uniformStyle = new ServerTextStyle_ServerTextStyle();

        /**
         *@member {SuperMap.LabelMixedTextStyle} [SuperMap.ThemeLabelText.prototype.uniformMixedStyle]
         *@description  æ ç­¾ä¸é¢å¾ç»ä¸çææ¬å¤åé£æ ¼ãéè¿è¯¥ç±»å¯ä»¥ä½¿åä¸ä¸ªæ 
         *              ç­¾ä¸­çæå­ä½¿ç¨å¤ç§é£æ ¼æ¾ç¤ºãåç§é£æ ¼çä¼åçº§ä»é«å°ä½ä¸ºï¼uniformMixedStyleï¼æ ç­¾ææ¬çå¤åé£æ ¼ï¼ï¼
         *              SuperMap.ThemeLabelItem.styleï¼åæ®µå­é¡¹çææ¬é£æ ¼ï¼ï¼uniformStyleï¼ç»ä¸ææ¬é£æ ¼ï¼ã
         */
        this.uniformMixedStyle =  null;

        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = "SuperMap.ThemeLabelText";
    }

    /**
     * @function SuperMap.ThemeLabelText.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.maxTextHeight = null;
        me.maxTextWidth = null;
        me.minTextHeight = null;
        me.minTextWidth = null;
        if (me.uniformStyle) {
            me.uniformStyle.destroy();
            me.uniformStyle = null;
        }
        if (me.uniformMixedStyle) {
            me.uniformMixedStyle.destroy();
            me.uniformMixedStyle = null;
        }
    }

    /**
     * @function SuperMap.ThemeLabelText.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·åæ ç­¾ä¸­ææ¬é£æ ¼ç±»ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡ã
     * @returns {SuperMap.ThemeLabelText} ThemeLabelText å¯¹è±¡ã
     */
    static fromObj(obj) {
        if (!obj) {
            return;
        }
        var res = new ThemeLabelText_ThemeLabelText();
        Util_Util.copy(res, obj);
        res.uniformStyle = ServerTextStyle_ServerTextStyle.fromObj(obj.uniformStyle);
        res.uniformMixedStyle = LabelMixedTextStyle_LabelMixedTextStyle.fromObj(obj.uniformMixedStyle);
        return res;
    }
}

SuperMap.ThemeLabelText = ThemeLabelText_ThemeLabelText;

// CONCATENATED MODULE: ./src/common/iServer/ThemeLabelAlongLine.js




/**
 * @class SuperMap.ThemeLabelAlongLine
 * @category  iServer Map Theme
 * @classdesc æ ç­¾æ²¿çº¿æ æ³¨æ ·å¼ç±»ã
 * @param {Object} options - åæ°ã
 * @param {boolean} [options.isAlongLine=true] - æ¯å¦æ²¿çº¿æ¾ç¤ºææ¬ã
 * @param {SuperMap.AlongLineDirection} [options.alongLineDirection=SuperMap.AlongLineDirection.LB_TO_RT] - æ ç­¾æ²¿çº¿æ æ³¨æ¹åã
 * @param {boolean} [options.angleFixed=false] - å½æ²¿çº¿æ¾ç¤ºææ¬æ¶ï¼æ¯å¦å°ææ¬è§åº¦åºå®ã
 * @param {boolean} [options.repeatedLabelAvoided=false] - æ²¿çº¿å¾ªç¯æ æ³¨æ¶æ¯å¦é¿åæ ç­¾éå¤æ æ³¨ã
 * @param {boolean} [options.repeatIntervalFixed=false] - å¾ªç¯æ æ³¨é´éæ¯å¦åºå®ã
 * @param {number} [options.labelRepeatInterval=0] - æ²¿çº¿ä¸å¾ªç¯æ æ³¨æ¶å¾ªç¯æ æ³¨çé´éã
 */
class ThemeLabelAlongLine_ThemeLabelAlongLine {


    constructor(options) {
        /**
         * @member {boolean} [SuperMap.ThemeLabelAlongLine.prototype.isAlongLine=true]
         * @description æ¯å¦æ²¿çº¿æ¾ç¤ºææ¬ãtrue è¡¨ç¤ºæ²¿çº¿æ¾ç¤ºææ¬ï¼false è¡¨ç¤ºæ­£å¸¸æ¾ç¤ºææ¬ã
         */
        this.isAlongLine = true;

        /**
         * @member {SuperMap.AlongLineDirection} [SuperMap.ThemeLabelAlongLine.prototype.alongLineDirection=SuperMap.AlongLineDirection.LB_TO_RT]
         * @description æ ç­¾æ²¿çº¿æ æ³¨æ¹åã
         */
        this.alongLineDirection = AlongLineDirection.LB_TO_RT;

        /**
         * @member {boolean} [SuperMap.ThemeLabelAlongLine.prototype.angleFixed=false]
         * @description å½æ²¿çº¿æ¾ç¤ºææ¬æ¶ï¼æ¯å¦å°ææ¬è§åº¦åºå®ãtrue è¡¨ç¤ºæåºå®ææ¬è§åº¦æ¾ç¤ºææ¬ï¼false è¡¨ç¤ºæç§æ²¿çº¿è§åº¦æ¾ç¤ºææ¬ã
         *              å¦æåºå®è§åº¦ï¼åæææ ç­¾åææè®¾ç½®çææ¬é£æ ¼ä¸­å­ä½çæè½¬è§åº¦æ¥æ¾ç¤ºï¼ä¸èèæ²¿çº¿æ æ³¨çæ¹åï¼
         *              å¦æä¸åºå®è§åº¦ï¼å¨æ¾ç¤ºæ ç­¾æ¶ä¼åæ¶èèå­ä½çæè½¬è§åº¦åæ²¿çº¿æ æ³¨çæ¹åã
         */
        this.angleFixed = false;

        /**
         * @member {boolean} SuperMap.ThemeLabelAlongLine.prototype.repeatedLabelAvoided
         * @description æ²¿çº¿å¾ªç¯æ æ³¨æ¶æ¯å¦é¿åæ ç­¾éå¤æ æ³¨ã
         */
        this.repeatedLabelAvoided = false;

        /**
         * @member {boolean} [SuperMap.ThemeLabelAlongLine.prototype.repeatIntervalFixed=false]
         * @description å¾ªç¯æ æ³¨é´éæ¯å¦åºå®ãtrue è¡¨ç¤ºä½¿ç¨åºå®å¾ªç¯æ æ³¨é´éï¼å³ä½¿ç¨é»è¾åæ æ¥æ¾ç¤ºå¾ªç¯æ æ³¨é´éï¼
         *              false è¡¨ç¤ºå¾ªç¯æ æ³¨é´ééå°å¾çç¼©æ¾èååï¼å³ä½¿ç¨å°çåæ æ¥æ¾ç¤ºå¾ªç¯æ æ³¨é´éã
         */
        this.repeatIntervalFixed = false;

        /**
         * @member {number} [SuperMap.ThemeLabelAlongLine.prototype.labelRepeatInterval=0]
         * @description æ²¿çº¿ä¸å¾ªç¯æ æ³¨æ¶å¾ªç¯æ æ³¨çé´éãé¿åº¦çåä½ä¸å°å¾çå°çåä½ä¸è´ãåªæè®¾å® RepeatedLabelAvoided ä¸º true
         *              çæ¶åï¼labelRepeatInterval å±æ§æææã
         */
        this.labelRepeatInterval = 0;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.ThemeLabelAlongLine";
    }


    /**
     * @function SuperMap.ThemeLabelAlongLine.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.isAlongLine = null;
        me.alongLineDirection = null;
        me.angleFixed = null;
        me.repeatedLabelAvoided = null;
        me.repeatIntervalFixed = null;
        me.labelRepeatInterval = null;
    }

    /**
     * @function SuperMap.ThemeLabelAlongLine.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·åæ ç­¾æ²¿çº¿æ æ³¨æ ·å¼ç±»ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡ã
     * @returns {SuperMap.ThemeLabelAlongLine} ThemeLabelAlongLine å¯¹è±¡ã
     */
    static fromObj(obj) {
        if (!obj) {
            return;
        }
        var t = new ThemeLabelAlongLine_ThemeLabelAlongLine();
        Util_Util.copy(t, obj);
        return t;
    }

}

SuperMap.ThemeLabelAlongLine = ThemeLabelAlongLine_ThemeLabelAlongLine;

// CONCATENATED MODULE: ./src/common/iServer/ThemeLabelBackground.js





/**
 * @class SuperMap.ThemeLabelBackground
 * @category  iServer Map Theme
 * @classdesc æ ç­¾èæ¯é£æ ¼ç±»ãéè¿è¯¥ç±»å¯ä»¥è®¾ç½®æ ç­¾çèæ¯å½¢ç¶åé£æ ¼ã
 * @param {Object} options - åæ°ã
 * @param {SuperMap.LabelBackShape} [options.labelBackShape=SuperMap.LabelBackShape.NONE] - æ ç­¾ä¸é¢å¾ä¸­æ ç­¾èæ¯é£æ ¼ã
 * @param {SuperMap.ServerStyle} [options.backStyle=SuperMap.LabelBackShape.NONE] - æ ç­¾ä¸é¢å¾ä¸­æ ç­¾èæ¯çå½¢ç¶æä¸¾ç±»ã
 */
class ThemeLabelBackground_ThemeLabelBackground {

    constructor(options) {
        /**
         * @member {SuperMap.LabelBackShape} [SuperMap.ThemeLabelBackground.prototype.labelBackShape=SuperMap.LabelBackShape.NONE]
         * @description æ ç­¾ä¸é¢å¾ä¸­æ ç­¾èæ¯é£æ ¼ãå½èæ¯å½¢ç¶
         *              labelBackShape å±æ§è®¾ä¸º NONEï¼å³æ èæ¯å½¢ç¶ï¼ æ¶ï¼backStyle å±æ§æ æã
         */
        this.labelBackShape = LabelBackShape.NONE;

        /**
         * @member {SuperMap.ServerStyle} [SuperMap.ThemeLabelBackground.prototype.backStyle=SuperMap.LabelBackShape.NON]
         * @description æ ç­¾ä¸é¢å¾ä¸­æ ç­¾èæ¯çå½¢ç¶æä¸¾ç±»ãèæ¯ç±»åå¯
         *              ä»¥æ¯ç©å½¢ãåè§ç©å½¢ãè±å½¢ãæ¤­åå½¢ãä¸è§å½¢åç¬¦å·ç­ï¼å³ä¸ä½¿ç¨ä»»ä½çå½¢ç¶ä½ä¸ºæ ç­¾çèæ¯ã
         */
        this.backStyle = new ServerStyle_ServerStyle();

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.ThemeLabelBackground";
    }

    /**
     * @function SuperMap.ThemeLabelBackground.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.labelBackShape = null;
        if (me.backStyle) {
            me.backStyle.destroy();
            me.backStyle = null;
        }
    }

    /**
     * @function SuperMap.ThemeLabelBackground.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·åæ ç­¾èæ¯é£æ ¼ç±»ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡ã
     * @returns {SuperMap.ThemeLabelBackground} ThemeLabelBackground å¯¹è±¡ã
     */
    static fromObj(obj) {
        if (!obj) {
            return;
        }
        var t = new ThemeLabelBackground_ThemeLabelBackground();
        t.labelBackShape = obj.labelBackShape;
        t.backStyle = ServerStyle_ServerStyle.fromJson(obj.backStyle);

        return t;
    }

}

SuperMap.ThemeLabelBackground = ThemeLabelBackground_ThemeLabelBackground;

// CONCATENATED MODULE: ./src/common/iServer/ThemeLabel.js












/**
 * @class SuperMap.ThemeLabel
 * @category  iServer Map Theme
 * @classdesc æ ç­¾ä¸é¢å¾ç±»ã
 * @extends SuperMap.Theme
 * @param {Object} options - åæ°ã
 * @param {Array.<SuperMap.ThemeUniqueItem>} options.items - åæ®µæ ç­¾ä¸é¢å¾çå­é¡¹æ°ç»ã
 * @param {string} options.labelExpression - æ æ³¨å­æ®µè¡¨è¾¾å¼ã
 * @param {Array.<SuperMap.LabelMatrixCell>} options.matrixCells - ç©éµæ ç­¾åç´ æ°ç»ã
 * @param {SuperMap.ThemeLabelAlongLine} [options.alongLine] - æ ç­¾æ²¿çº¿æ æ³¨æ¹åæ ·å¼ç±»ã
 * @param {SuperMap.ThemeLabelBackground} [options.background] - æ ç­¾ä¸é¢å¾ä¸­æ ç­¾çèæ¯é£æ ¼ç±»ã
 * @param {SuperMap.ThemeFlow} [options.flow] - æ ç­¾ä¸é¢å¾æ ç­¾æµå¨æ¾ç¤ºä¸çµå¼çº¿è®¾ç½®ç±»ã
 * @param {SuperMap.LabelOverLengthMode} [options.labelOverLengthMode=SuperMap.LabelOverLengthMode.NONE] - æ ç­¾ä¸é¢å¾ä¸­è¶é¿æ ç­¾çå¤çæ¨¡å¼æä¸¾ç±»ã
 * @param {number} [options.maxLabelLength=256] - æ ç­¾å¨æ¯ä¸è¡æ¾ç¤ºçæå¤§é¿åº¦ã
 * @param {number} [options.numericPrecision=0] - éè¿è¯¥å­æ®µè®¾ç½®å¶æ¾ç¤ºçç²¾åº¦ã
 * @param {SuperMap.ThemeOffset} [options.offset] - ç¨äºè®¾ç½®æ ç­¾ä¸é¢å¾ä¸­æ è®°ææ¬ç¸å¯¹äºè¦ç´ åç¹çåç§»éå¯¹è±¡ã
 * @param {boolean} [options.overlapAvoided=true] - æ¯å¦åè®¸ä»¥ææ¬é¿è®©æ¹å¼æ¾ç¤ºææ¬ã
 * @param {string} [options.rangeExpression] - å¶ä½åæ®µæ ç­¾ä¸é¢çåæ®µå­æ®µæå­æ®µè¡¨è¾¾å¼ã
 * @param {boolean} [options.smallGeometryLabeled=false] - æ¯å¦æ¾ç¤ºé¿åº¦å¤§äºè¢«æ æ³¨å¯¹è±¡æ¬èº«é¿åº¦çæ ç­¾ã
 * @param {SuperMap.ThemeLabelText} options.text - æ ç­¾ä¸­ææ¬é£æ ¼ã
 * @param {number} [options.textSpace=0] - æ²¿çº¿æ æ³¨ï¼ç¸é»ä¸¤ä¸ªæå­ä¹é´çé´è·ï¼åä½å½åè®¾ç½®çå­é«ã
 * @param {SuperMap.ThemeMemoryData} [options.memoryData] - ä¸é¢å¾åå­æ°æ®ã
 */
class ThemeLabel_ThemeLabel extends Theme_Theme {


    constructor(options) {
        super("LABEL", options);
        /**
         * @member {SuperMap.ThemeLabelAlongLine} [SuperMap.ThemeLabel.prototype.alongLine]
         * @description æ ç­¾æ²¿çº¿æ æ³¨æ¹åæ ·å¼ç±»ã
         *              å¨è¯¥ç±»ä¸­å¯ä»¥è®¾ç½®æ ç­¾æ¯å¦æ²¿çº¿æ æ³¨ä»¥åæ²¿çº¿æ æ³¨çå¤ç§æ¹å¼ãæ²¿çº¿æ æ³¨å±æ§åªéç¨äºçº¿æ°æ®éä¸é¢å¾ã
         */
        this.alongLine = new ThemeLabelAlongLine_ThemeLabelAlongLine();

        /**
         * @member {SuperMap.ThemeLabelBackground} [SuperMap.ThemeLabel.prototype.background] 
         * @description æ ç­¾ä¸é¢å¾ä¸­æ ç­¾çèæ¯é£æ ¼ç±»ãéè¿è¯¥å­æ®µå¯ä»¥è®¾ç½®æ ç­¾çèæ¯å½¢ç¶åé£æ ¼ã
         */
        this.background = new ThemeLabelBackground_ThemeLabelBackground();

        /**
         * @member {SuperMap.ThemeFlow} [SuperMap.ThemeLabel.prototype.flow]
         * @description æ ç­¾ä¸é¢å¾æ ç­¾æµå¨æ¾ç¤ºä¸çµå¼çº¿è®¾ç½®ç±»ãéè¿è¯¥å­æ®µå¯ä»¥è®¾ç½®æ ç­¾æ¯å¦æµå¨æ¾ç¤ºåçµå¼çº¿é£æ ¼ã
         */
        this.flow = new ThemeFlow_ThemeFlow();

        /**
         * @member {Array.<SuperMap.ThemeUniqueItem>} [SuperMap.ThemeLabel.prototype.items]
         * @description åæ®µæ ç­¾ä¸é¢å¾çå­é¡¹æ°ç»ãåæ®µæ ç­¾ä¸é¢å¾ä½¿ç¨ rangeExpression
         *              æå®æ°å­åçå­æ®µä½ä¸ºåæ®µæ°æ®ï¼items ä¸­çæ¯ä¸ªå­å¯¹è±¡ç [startï¼end) åæ®µå¼å¿é¡»æ¥æºäºå±æ§ rangeExpression çå­æ®µå¼ãæ¯ä¸ªå­é¡¹æ¥æèªå·±çé£æ ¼ã
         */
        this.items = null;

        /**
         * @member {Array.<SuperMap.ThemeLabelUniqueItem>} SuperMap.ThemeLabel.prototype.uniqueItems
         * @description åå¼æ ç­¾ä¸é¢å¾å­é¡¹æ°ç»ãåå¼æ ç­¾ä¸é¢å¾ä½¿ç¨ uniqueExpressionåå¼æ ç­¾ä¸é¢å¾å­é¡¹éåã
         */
        this.uniqueItems = null;

        /**
         * @member {string} SuperMap.ThemeLabel.prototype.labelExpression
         * @description æ æ³¨å­æ®µè¡¨è¾¾å¼ãç³»ç»å° labelExpression å¯¹åºçå­æ®µæå­æ®µè¡¨è¾¾å¼çå¼ä»¥æ ç­¾çå½¢å¼æ¾ç¤ºå¨å¾å±ä¸­ã
         */
        this.labelExpression = null;

        /**
         * @member {SuperMap.LabelOverLengthMode} [SuperMap.ThemeLabel.prototype.labelOverLengthMode=SuperMap.LabelOverLengthMode.NONE] - æ ç­¾ä¸é¢å¾ä¸­è¶é¿æ ç­¾çå¤çæ¨¡å¼æä¸¾ç±»ã
         * @description å¯¹äºæ ç­¾çé¿åº¦è¶è¿è®¾ç½®çæ ç­¾æå¤§é¿åº¦ maxLabelLength æ¶ç§°ä¸ºè¶é¿æ ç­¾ã
         */
        this.labelOverLengthMode = LabelOverLengthMode.NONE;

        /**
         * @member {Array.<SuperMap.LabelMatrixCell>} SuperMap.ThemeLabel.prototype.matrixCells
         * @description ç©éµæ ç­¾åç´ æ°ç»ï¼ç¨äºå¶ä½ç©éµæ ç­¾ä¸é¢å¾ã
         *              æ°ç»ä¸­å¯ä»¥æ¾ç½®ç¬¦å·ç±»åçç©éµæ ç­¾åç´ åå¾çç±»åçç©éµæ ç­¾åç´ ã
         */
        this.matrixCells = null;

        /**
         * @member {number} [SuperMap.ThemeLabel.prototype.maxLabelLength=256]
         * @description æ ç­¾å¨æ¯ä¸è¡æ¾ç¤ºçæå¤§é¿åº¦ï¼ä¸ä¸ªä¸­æä¸ºä¸¤ä¸ªå­ç¬¦ã
         *              å¦æè¶è¿æå¤§é¿åº¦ï¼å¯ä»¥éç¨ä¸¤ç§æ¹å¼æ¥å¤çï¼ä¸ç§æ¯æ¢è¡çæ¨¡å¼è¿è¡æ¾ç¤ºï¼å¦ä¸ç§æ¯ä»¥çç¥å·æ¹å¼æ¾ç¤ºãåä½ä¸ºå­ç¬¦ã
         */
        this.maxLabelLength = 256;

        /**
         * @member {number} [SuperMap.ThemeLabel.prototype.numericPrecision=0]
         * @description å¦ææ¾ç¤ºçæ ç­¾åå®¹ä¸ºæ°å­ï¼éè¿è¯¥å­æ®µè®¾ç½®å¶æ¾ç¤ºçç²¾åº¦ãä¾å¦æ ç­¾å¯¹åºçæ°å­æ¯8071.64529347ï¼
         *              å¦æè¯¥å±æ§ä¸º0æ¶ï¼æ¾ç¤º8071ï¼ä¸º1æ¶ï¼æ¾ç¤º8071.6ï¼ä¸º3æ¶ï¼åæ¯8071.645ã
         */
        this.numericPrecision = 0;

        /**
         * @member {SuperMap.ThemeOffset} [SuperMap.ThemeLabel.prototype.offset]
         * @description ç¨äºè®¾ç½®æ ç­¾ä¸é¢å¾ä¸­æ è®°ææ¬ç¸å¯¹äºè¦ç´ åç¹çåç§»éå¯¹è±¡ã
         */
        this.offset = new ThemeOffset_ThemeOffset();

        /**
         * @member {boolean} [SuperMap.ThemeLabel.prototype.overlapAvoided=true]
         * @description æ¯å¦åè®¸ä»¥ææ¬é¿è®©æ¹å¼æ¾ç¤ºææ¬ãtrue è¡¨ç¤ºèªå¨é¿åææ¬å çãåªéå¯¹è¯¥æ ç­¾ä¸é¢å¾å±ä¸­çææ¬æ°æ®ã
         *              å¨æ ç­¾éå åº¦å¾å¤§çæåµä¸ï¼å³ä½¿ä½¿ç¨èªå¨é¿è®©åè½ï¼å¯è½ä¹æ æ³å®å¨é¿åæ ç­¾éå ç°è±¡ã
         */
        this.overlapAvoided = true;

        /**
         * @member {string} SuperMap.ThemeLabel.prototype.rangeExpression
         * @description å¶ä½åæ®µæ ç­¾ä¸é¢çåæ®µå­æ®µæå­æ®µè¡¨è¾¾å¼ãè¯¥è¡¨è¾¾å¼å¯¹åºçå­æ®µï¼æèå­æ®µè¡¨è¾¾å¼ï¼çå¼åºè¯¥ä¸ºæ°å¼åã
         *              è¯¥å­æ®µä¸ items åæ®µå­é¡¹èåä½¿ç¨ï¼æ¯ä¸ªå­é¡¹çèµ·å§å¼ [startï¼end)æ¥æºäº rangeExpression å­æ®µå¼ã
         *              æå labelExpression æå®çæ ç­¾å­æ®µï¼æ ç­¾ä¸é¢å¾è¦æ¾ç¤ºçå·ä½åå®¹ï¼ä¼æ ¹æ®åæ®µå­é¡¹çé£æ ¼è¿è¡åæ®µæ¾ç¤ºã
         */
        this.rangeExpression = null;

        /**
         * @member {string} SuperMap.ThemeLabel.prototype.uniqueExpression
         * @description ç¨äºå¶ä½åå¼ä¸é¢å¾çå­æ®µæå­æ®µè¡¨è¾¾å¼ã
         *              è¯¥å­æ®µå¼çæ°æ®ç±»åå¯ä»¥ä¸ºæ°å¼åæå­ç¬¦åãå¦æè®¾ç½®å­æ®µè¡¨è¾¾å¼ï¼åªè½æ¯ç¸åæ°æ®ç±»åå­æ®µé´çè¿ç®ãå¿é¡»ä¸labelExpressionä¸èµ·ä½¿ç¨ã
         */
        this.uniqueExpression = null;

        /**
         * @member {boolean} [SuperMap.ThemeLabel.prototype.smallGeometryLabeled=false]
         * @description æ¯å¦æ¾ç¤ºé¿åº¦å¤§äºè¢«æ æ³¨å¯¹è±¡æ¬èº«é¿åº¦çæ ç­¾ãå¨æ ç­¾çé¿åº¦å¤§äºçº¿æèé¢å¯¹è±¡æ¬èº«çé¿åº¦æ¶ï¼
         *              å¦æè¯¥å¼ä¸º trueï¼åæ ç­¾æå­ä¼å å å¨ä¸èµ·æ¾ç¤ºï¼ä¸ºäºæ¸æ¥å®æ´çæ¾ç¤ºè¯¥æ ç­¾ï¼
         *              å¯ä»¥éç¨æ¢è¡æ¨¡å¼æ¥æ¾ç¤ºæ ç­¾ï¼ä½å¿é¡»ä¿è¯æ¯è¡çé¿åº¦å°äºå¯¹è±¡æ¬èº«çé¿åº¦ã
         */
        this.smallGeometryLabeled = false;

        /**
         * @member {SuperMap.ThemeLabelText} SuperMap.ThemeLabel.prototype.text
         * @description æ ç­¾ä¸­ææ¬é£æ ¼ã
         */
        this.text = new ThemeLabelText_ThemeLabelText();

        /**
         * @member {number} [SuperMap.ThemeLabel.prototype.textSpace=0]
         * @description æ²¿çº¿æ æ³¨ï¼ç¸é»ä¸¤ä¸ªæå­ä¹é´çé´è·ï¼åä½å½åè®¾ç½®çå­é«ã
         */
        this.textSpace = 0;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.ThemeLabel";
    }


    /**
     * @function SuperMap.ThemeLabel.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        var me = this;
        me.alongLine = null;
        if (me.background) {
            me.background.destroy();
            me.background = null;
        }
        me.flow = null;
        if (me.items) {
            for (var i = 0, items = me.items, len = items.length; i < len; i++) {
                items[i].destroy();
            }
            me.items = null;
        }
        if (me.uniqueItems) {
            for (var j = 0, uniqueItems = me.uniqueItems, uniqueLen = uniqueItems.length; j < uniqueLen; j++) {
                uniqueItems[j].destory();
            }
            me.uniqueItems = null;
        }
        me.labelExpression = null;
        me.labelOverLengthMode = null;
        me.matrixCells = null;
        me.maxLabelLength = null;
        me.numericPrecision = null;
        me.overlapAvoided = null;
        me.rangeExpression = null;
        me.uniqueExpression = null;
        if (me.offset) {
            me.offset.destroy();
            me.offset = null;
        }
        me.overlapAvoided = null;
        me.smallGeometryLabeled = null;
        if (me.text) {
            me.text.destroy();
            me.text = null;
        }
        me.textSpace = null;
    }

    /**
     * @function SuperMap.ThemeLabel.prototype.toJSON
     * @description å°themeLabelå¯¹è±¡è½¬åä¸º JSON å­ç¬¦ä¸²ã
     * @returns {string} è¿åè½¬æ¢åç JSON å­ç¬¦ä¸²ã
     */
    toJSON() {
        return Util_Util.toJSON(this.toServerJSONObject());
    }

    /**
     * @function SuperMap.ThemeLabel.prototype.toServerJSONObject
     * @description è½¬æ¢æå¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     * @returns {Object} å¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     */
    toServerJSONObject() {
        var obj = {};
        obj.type = this.type;
        obj.memoryData = this.memoryData;
        if (this.alongLine) {
            obj.alongLine = this.alongLine.isAlongLine;
            obj.alongLineDirection = this.alongLine.alongLineDirection;
            obj.angleFixed = this.alongLine.angleFixed;
            obj.isLabelRepeated = this.alongLine.isLabelRepeated;
            obj.labelRepeatInterval = this.alongLine.labelRepeatInterval;
            obj.repeatedLabelAvoided = this.alongLine.repeatedLabelAvoided;
            obj.repeatIntervalFixed = this.alongLine.repeatIntervalFixed;
        }
        if (this.offset) {
            obj.offsetFixed = this.offset.offsetFixed;
            obj.offsetX = this.offset.offsetX;
            obj.offsetY = this.offset.offsetY;
        }

        if (this.flow) {
            obj.flowEnabled = this.flow.flowEnabled;
            obj.leaderLineDisplayed = this.flow.leaderLineDisplayed;
            obj.leaderLineStyle = this.flow.leaderLineStyle;
        }
        if (this.text) {
            obj.maxTextHeight = this.text.maxTextHeight;
            obj.maxTextWidth = this.text.maxTextWidth;
            obj.minTextHeight = this.text.minTextHeight;
            obj.minTextWidth = this.text.minTextWidth;
            obj.uniformStyle = this.text.uniformStyle;
            obj.uniformMixedStyle = this.text.uniformMixedStyle;
        }
        if (this.background) {
            obj.labelBackShape = this.background.labelBackShape;
            obj.backStyle = this.background.backStyle;
        }
        obj.labelOverLengthMode = this.labelOverLengthMode;
        obj.maxLabelLength = this.maxLabelLength;
        obj.smallGeometryLabeled = this.smallGeometryLabeled;
        obj.rangeExpression = this.rangeExpression;
        obj.uniqueExpression = this.uniqueExpression;
        obj.numericPrecision = this.numericPrecision;
        obj.items = this.items;
        obj.uniqueItems = this.uniqueItems;
        obj.labelExpression = this.labelExpression;
        obj.overlapAvoided = this.overlapAvoided;
        obj.matrixCells = this.matrixCells;
        obj.textSpace = this.textSpace;
        return obj;
    }

    /**
     * @function SuperMap.ThemeLabel.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·åæ ç­¾ä¸é¢å¾ç±»ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡ã
     * @returns {SuperMap.ThemeLabel} ThemeLabel å¯¹è±¡ã
     */
    static fromObj(obj) {
        if (!obj) {
            return;
        }
        var lab = new ThemeLabel_ThemeLabel();
        var itemsL = obj.items, itemsU = obj.uniqueItems, cells = obj.matrixCells;
        obj.matrixCells = null;
        Util_Util.copy(lab, obj);
        lab.alongLine = ThemeLabelAlongLine_ThemeLabelAlongLine.fromObj(obj);
        lab.background = ThemeLabelBackground_ThemeLabelBackground.fromObj(obj);
        lab.flow = new ThemeFlow_ThemeFlow({
            flowEnabled: obj.flowEnabled,
            leaderLineDisplayed: obj.leaderLineDisplayed,
            leaderLineStyle: obj.leaderLineStyle
        });
        if (itemsL) {
            lab.items = [];
            for (var i = 0, len = itemsL.length; i < len; i++) {
                lab.items.push(ThemeLabelItem_ThemeLabelItem.fromObj(itemsL[i]));
            }
        }
        if (itemsU) {
            lab.uniqueItems = [];
            for (let j = 0, uniqueLen = itemsU.length; j < uniqueLen; j++) {
                lab.uniqueItems.push(ThemeUniqueItem_ThemeUniqueItem.fromObj(itemsU[j]));
            }
        }
        if (cells) {
            lab.matrixCells = [];
            for (let i = 0, len = cells.length; i < len; i++) {
                //TODO
                //lab.matrixCells.push(SuperMap.LabelMatrixCell.fromObj(cells[i]));
            }
        }
        lab.offset = ThemeOffset_ThemeOffset.fromObj(obj);
        lab.text = ThemeLabelText_ThemeLabelText.fromObj(obj);
        return lab;
    }

}

SuperMap.ThemeLabel = ThemeLabel_ThemeLabel;

// CONCATENATED MODULE: ./src/common/iServer/ThemeUnique.js








/**
 * @class SuperMap.ThemeUnique
 * @category  iServer Map Theme
 * @classdesc åå¼ä¸é¢å¾ã
 * @description åå¼ä¸é¢å¾æ¯å©ç¨ä¸åçé¢è²æç¬¦å·ï¼çº¿åãå¡«åï¼è¡¨ç¤ºå¾å±ä¸­æä¸å±æ§ä¿¡æ¯çä¸åå±æ§å¼ï¼å±æ§å¼ç¸åçè¦ç´ å·æç¸åçæ¸²æé£æ ¼ãåå¼ä¸é¢å¾å¤ç¨äºå·æåç±»å±æ§çå°å¾ä¸ï¼
 *              æ¯å¦åå£¤ç±»ååå¸å¾ãåå°å©ç¨å¾ãè¡æ¿åºåå¾ç­ãåå¼ä¸é¢å¾çéè¡¨ç¤ºç°è±¡è´¨çå·®å«ï¼ä¸è¬ä¸è¡¨ç¤ºæ°éçç¹å¾ãå°¤å¶æ¯æäº¤åæéå ç°è±¡æ¶ï¼æ­¤ç±»ä¸æ¨èä½¿ç¨ï¼ä¾å¦ï¼æ°æåå¸åºç­ã
 * @extends {SuperMap.Theme}
 * @param {Object} options - åæ°ã
 * @param {Array.<SuperMap.ThemeUniqueItem>} options.items - åå¼ä¸é¢å¾å­é¡¹ç±»æ°ç»ã
 * @param {string} options.uniqueExpression - ç¨äºå¶ä½åå¼ä¸é¢å¾çå­æ®µæå­æ®µè¡¨è¾¾å¼ã
 * @param {SuperMap.ServerStyle} [options.defaultStyle] - æªåä¸åå¼ä¸é¢å¾å¶ä½çå¯¹è±¡çæ¾ç¤ºé£æ ¼ã
 * @param {SuperMap.ColorGradientType} [options.colorGradientType=SuperMap.ColorGradientType.YELLOW_RED] - æ¸åé¢è²æä¸¾ç±»ã
 * @param {SuperMap.ThemeMemoryData} [options.memoryData] - ä¸é¢å¾åå­æ°æ®ã
 */
class ThemeUnique_ThemeUnique extends Theme_Theme {

    constructor(options) {
        super("UNIQUE", options);
        /**
         * @member {SuperMap.ServerStyle} SuperMap.ThemeUnique.prototype.defaultStyle
         * @description æªåä¸åå¼ä¸é¢å¾å¶ä½çå¯¹è±¡çæ¾ç¤ºé£æ ¼ã
         *              éè¿åå¼ä¸é¢å¾å­é¡¹æ°ç» ï¼itemsï¼å¯ä»¥æå®æäºè¦ç´ åä¸åå¼ä¸é¢å¾å¶ä½ï¼å¯¹äºé£äºæ²¡æè¢«åå«çè¦ç´ ï¼å³ä¸åå åå¼ä¸é¢è¡¨è¾¾çè¦ç´ ï¼ä½¿ç¨è¯¥é£æ ¼æ¾ç¤ºã
         */
        this.defaultStyle = new ServerStyle_ServerStyle();

        /**
         * @member {Array.<SuperMap.ThemeUniqueItem>} SuperMap.ThemeUnique.prototype.items
         * @description åå¼ä¸é¢å¾å­é¡¹ç±»æ°ç»ã
         *              åå¼ä¸é¢å¾æ¯å°ä¸é¢å¼ç¸åçè¦ç´ å½ä¸ºä¸ç±»ï¼ä¸ºæ¯ä¸ç±»è®¾å®ä¸ç§æ¸²æé£æ ¼ï¼å¶ä¸­æ¯ä¸ç±»å°±æ¯ä¸ä¸ªä¸é¢å¾å­é¡¹ãæ¯å¦ï¼å©ç¨åå¼ä¸é¢å¾å¶ä½è¡æ¿åºåå¾ï¼
         *              Name å­æ®µä»£è¡¨ç/ç´è¾å¸åï¼è¯¥å­æ®µç¨æ¥åä¸é¢åéï¼å¦æè¯¥å­æ®µçå­æ®µå¼æ»å±æ5ç§ä¸åå¼ï¼åè¯¥è¡æ¿åºåå¾æ 5 ä¸ªä¸é¢å¾å­é¡¹ã
         */
        this.items = null;

        /**
         * @member {string} SuperMap.ThemeUnique.prototype.uniqueExpression
         * @description ç¨äºå¶ä½åå¼ä¸é¢å¾çå­æ®µæå­æ®µè¡¨è¾¾å¼ã
         *              è¯¥å­æ®µå¼çæ°æ®ç±»åå¯ä»¥ä¸ºæ°å¼åæå­ç¬¦åãå¦æè®¾ç½®å­æ®µè¡¨è¾¾å¼ï¼åªè½æ¯ç¸åæ°æ®ç±»åå­æ®µé´çè¿ç®ã
         */
        this.uniqueExpression = null;

        /**
         * @member {SuperMap.ColorGradientType} [SuperMap.ThemeUnique.prototype.colorGradientType=SuperMap.ColorGradientType.YELLOW_RED]
         * @description æ¸åé¢è²æä¸¾ç±»ã
         *              æ¸åè²æ¯ç±èµ·å§è²æ ¹æ®ä¸å®ç®æ³éæ¸è¿æ¸¡å°ç»æ­¢è²çä¸ç§æ··ååé¢è²ã
         *              è¯¥ç±»ä½ä¸ºåå¼ä¸é¢å¾åæ°ç±»ãåæ®µä¸é¢å¾åæ°ç±»çå±æ§ï¼è´è´£è®¾ç½®åå¼ä¸é¢å¾ãåæ®µä¸é¢å¾çéè²æ¹æ¡ï¼å¨é»è®¤æåµä¸ä¸é¢å¾ææå­é¡¹ä¼æ ¹æ®è¿ä¸ªéè²æ¹æ¡å®æå¡«åã
         *              ä½å¦æä¸ºæå ä¸ªå­é¡¹çé£æ ¼è¿è¡åç¬è®¾ç½®åï¼è®¾ç½®äº ThemeUniqueItem æ ThemeRangeItem ç±»ä¸­Styleå±æ§ï¼ï¼
         *              è¯¥éè²æ¹æ¡å¯¹äºè¿å ä¸ªå­é¡¹å°ä¸èµ·ä½ç¨ã
         */
        this.colorGradientType = ColorGradientType.YELLOW_RED;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.ThemeUnique";
    }

    /**
     * @function SuperMap.ThemeUnique.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        var me = this;
        me.uniqueExpression = null;
        me.colorGradientType = null;
        if (me.items) {
            if (me.items.length > 0) {
                for (var item in me.items) {
                    me.items[item].destroy();
                    me.items[item] = null;
                }
            }
            me.items = null;
        }

        if (me.defaultStyle) {
            me.defaultStyle.destroy();
            me.defaultStyle = null;
        }
    }


    /**
     * @function SuperMap.ThemeUnique.prototype.toServerJSONObject
     * @description è½¬æ¢æå¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     * @returns {Object} å¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     */
    toServerJSONObject() {
        var obj = {};
        obj = Util_Util.copyAttributes(obj, this);
        if (obj.defaultStyle) {
            if (obj.defaultStyle.toServerJSONObject) {
                obj.defaultStyle = obj.defaultStyle.toServerJSONObject();
            }
        }
        if (obj.items) {
            var items = [],
                len = obj.items.length;
            for (var i = 0; i < len; i++) {
                items.push(obj.items[i].toServerJSONObject());
            }
            obj.items = items;
        }
        return obj;
    }

    /**
     * @function SuperMap.ThemeUnique.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·ååå¼ä¸é¢å¾ç±»ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡ã
     * @returns {SuperMap.ThemeUnique} ThemeUnique å¯¹è±¡ã
     */
    static fromObj(obj) {
        var res = new ThemeUnique_ThemeUnique();
        var uItems = obj.items;
        var len = uItems ? uItems.length : 0;
        Util_Util.extend(res, obj);
        res.items = [];
        res.defaultStyle = ServerStyle_ServerStyle.fromJson(obj.defaultStyle);
        for (var i = 0; i < len; i++) {
            res.items.push(ThemeUniqueItem_ThemeUniqueItem.fromObj(uItems[i]));
        }
        return res;
    }

}

SuperMap.ThemeUnique = ThemeUnique_ThemeUnique;

// CONCATENATED MODULE: ./src/common/iServer/ThemeGraphAxes.js





/**
 * @class SuperMap.ThemeGraphAxes
 * @category  iServer Map Theme
 * @classdesc ç»è®¡ä¸é¢å¾åæ è½´æ ·å¼ç±»ã
 * @param {Object} options - åæ°ã
 * @param {SuperMap.ServerColor} [options.axesColor=(0, 0, 0)] - åæ è½´é¢è²ã
 * @param {boolean} [options.axesDisplayed=false] - æ¯å¦æ¾ç¤ºåæ è½´ã
 * @param {boolean} [options.axesGridDisplayed=false] - æ¯å¦å¨ç»è®¡å¾åæ è½´ä¸æ¾ç¤ºç½æ ¼ã
 * @param {boolean} [options.axesTextDisplayed=false] - æ¯å¦æ¾ç¤ºåæ è½´çææ¬æ æ³¨ã
 * @param {SuperMap.ServerTextStyle} [options.axesTextStyle] - ç»è®¡ç¬¦å·çæå¤§æå°å°ºå¯¸ã
 */
class ThemeGraphAxes_ThemeGraphAxes {

    constructor(options) {

        /**
         * @member {SuperMap.ServerColor} [SuperMap.ThemeGraphAxes.prototype.axesColor=(0, 0, 0)]
         * @description åæ è½´é¢è²ãå½ axesDisplayed = true æ¶ææã
         */
        this.axesColor =  new ServerColor(0, 0, 0);

        /**
         * @member {boolean} [SuperMap.ThemeGraphAxes.prototype.axesDisplayed=false]
         * @description æ¯å¦æ¾ç¤ºåæ è½´ã<br>
         *              ç±äºé¥¼ç¶å¾åç¯ç¶å¾æ åæ è½´ï¼æè¯¥å±æ§ä»¥åææä¸åæ è½´è®¾ç½®ç¸å³çå±æ§é½ä¸éç¨äºå®ä»¬ãå¹¶ä¸åªæå½è¯¥å¼ä¸º true æ¶ï¼å¶å®è®¾ç½®åæ è½´çå±æ§æèµ·ä½ç¨ã
         */
        this.axesDisplayed = false;

        /**
         * @member {boolean} [SuperMap.ThemeGraphAxes.prototype.axesGridDisplayed=false]
         * @description æ¯å¦å¨ç»è®¡å¾åæ è½´ä¸æ¾ç¤ºç½æ ¼ã
         */
        this.axesGridDisplayed = false;

        /**
         * @member {boolean} [SuperMap.ThemeGraphAxes.prototype.axesTextDisplayed=false]
         * @description æ¯å¦æ¾ç¤ºåæ è½´çææ¬æ æ³¨ã
         */
        this.axesTextDisplayed = false;

        /**
         * @member {SuperMap.ServerTextStyle} SuperMap.ThemeGraphAxes.prototype.axesTextStyle
         * @description åæ è½´ææ¬é£æ ¼ãå½ axesTextDisplayed = true æ¶ææã
         */
        this.axesTextStyle =  new ServerTextStyle_ServerTextStyle();

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.ThemeGraphAxes";
    }

    /**
     * @function SuperMap.ThemeGraphAxes.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        if (me.axesColor) {
            me.axesColor.destroy();
            me.axesColor = null;
        }
        me.axesDisplayed = null;
        me.axesGridDisplayed = null;
        me.axesTextDisplayed = null;
        if (me.axesTextStyle) {
            me.axesTextStyle.destroy();
            me.axesTextStyle = null;
        }
    }

    /**
     * @function SuperMap.ThemeGraphAxes.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·åç»è®¡ä¸é¢å¾åæ è½´æ ·å¼ç±»ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡ã
     * @returns {SuperMap.ThemeGraphAxes} ThemeGraphAxes å¯¹è±¡ã
     */
    static fromObj(obj) {
        if (!obj) {
            return;
        }
        var res = new ThemeGraphAxes_ThemeGraphAxes();
        Util_Util.copy(res, obj);
        res.axesColor = ServerColor.fromJson(obj.axesColor);
        res.axesTextStyle = ServerTextStyle_ServerTextStyle.fromObj(obj.axesTextStyle);
        return res;
    }

}

SuperMap.ThemeGraphAxes = ThemeGraphAxes_ThemeGraphAxes;

// CONCATENATED MODULE: ./src/common/iServer/ThemeGraphSize.js



/**
 * @class SuperMap.ThemeGraphSize
 * @category  iServer Map Theme
 * @classdesc ç»è®¡ä¸é¢å¾ç¬¦å·å°ºå¯¸ç±»ã
 * @param {Object} options - åæ°ã
 * @param {number} [options.maxGraphSize=0] - ç»è®¡å¾ä¸­æ¾ç¤ºçæå¤§å¾è¡¨å°ºå¯¸åºåå¼ã
 * @param {number} [options.minGraphSize=0] - ç»è®¡å¾ä¸­æ¾ç¤ºçæå°å¾è¡¨å°ºå¯¸åºåå¼ã
 */
class ThemeGraphSize_ThemeGraphSize {

    constructor(options) {
        /**
         * @member {number} [SuperMap.ThemeGraphSize.prototype.maxGraphSize=0]
         * @description è·åæè®¾ç½®ç»è®¡å¾ä¸­æ¾ç¤ºçæå¤§å¾è¡¨å°ºå¯¸åºåå¼ï¼åä½ä¸ºåç´ ã
         */
        this.maxGraphSize = 0;

        /**
         * @member {number} [SuperMap.ThemeGraphSize.prototype.minGraphSize=0]
         * @description è·åæè®¾ç½®ç»è®¡å¾ä¸­æ¾ç¤ºçæå°å¾è¡¨å°ºå¯¸åºåå¼ï¼åä½ä¸ºåç´ ã
         */
        this.minGraphSize = 0;

        if (options) {
            Util_Util.extend(this, options);
        }

       this.CLASS_NAME = "SuperMap.ThemeGraphSize";
    }

    /**
     * @function SuperMap.ThemeGraphSize.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.maxGraphSize = null;
        me.minGraphSize = null;
    }

    /**
     * @function SuperMap.ThemeGraphSize.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·ç»è®¡ä¸é¢å¾ç¬¦å·å°ºå¯¸ç±»ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡ã
     * @returns {SuperMap.ThemeGraphSize}  ThemeGraphSize å¯¹è±¡ã
     */
    static fromObj(obj) {
        var res = new ThemeGraphSize_ThemeGraphSize();
        Util_Util.copy(res, obj);
        return res;
    }

}

SuperMap.ThemeGraphSize = ThemeGraphSize_ThemeGraphSize;

// CONCATENATED MODULE: ./src/common/iServer/ThemeGraphText.js





/**
 * @class SuperMap.ThemeGraphText
 * @category  iServer Map Theme
 * @classdesc ç»è®¡å¾æå­æ æ³¨é£æ ¼ç±»ã
 * @param {Object} options - å¯éåæ°ã
 * @param {boolean} [options.graphTextDisplayed=false] - æ¯å¦æ¾ç¤ºç»è®¡å¾ä¸çæå­æ æ³¨ã
 * @param {SuperMap.ThemeGraphTextFormat} [options.graphTextFormat=SuperMap.ThemeGraphTextFormat.CAPTION] - ç»è®¡ä¸é¢å¾ææ¬æ¾ç¤ºæ ¼å¼ã
 * @param {SuperMap.ServerTextStyle} [options.graphTextStyle] - ç»è®¡å¾ä¸çæå­æ æ³¨é£æ ¼ã
 */
class ThemeGraphText_ThemeGraphText {

    constructor(options) {

        /**
         * @member {boolean} [SuperMap.ThemeGraphText.prototype.graphTextDisplayed=false]
         * @description æ¯å¦æ¾ç¤ºç»è®¡å¾ä¸çæå­æ æ³¨ã
         */
        this.graphTextDisplayed = false;

        /**
         * @member {SuperMap.ThemeGraphTextFormat} [SuperMap.ThemeGraphText.prototype.graphTextFormat=SuperMap.ThemeGraphTextFormat.CAPTION]
         * @description ç»è®¡ä¸é¢å¾ææ¬æ¾ç¤ºæ ¼å¼ã
         *              ææ¬æ¾ç¤ºæ ¼å¼åæ¬ç¾åæ°ãçå®æ°å¼ãæ é¢ãæ é¢+ç¾åæ°ãæ é¢+çå®æ°å¼ã
         */
        this.graphTextFormat = ThemeGraphTextFormat.CAPTION;

        /**
         * @member {SuperMap.ServerTextStyle} SuperMap.ThemeGraphText.prototype.graphTextStyle
         * @description ç»è®¡å¾ä¸çæå­æ æ³¨é£æ ¼ã
         */
        this.graphTextStyle =  new ServerTextStyle_ServerTextStyle();

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.ThemeGraphText";
    }

    /**
     * @function SuperMap.ThemeGraphText.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.graphTextDisplayed = null;
        me.graphTextFormat = null;
        if (me.graphTextStyle) {
            me.graphTextStyle.destroy();
            me.graphTextStyle = null;
        }
    }

    /**
     * @function SuperMap.ThemeGraphText.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·åç»è®¡å¾æå­æ æ³¨é£æ ¼ç±»ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡ã
     * @returns {SuperMap.ThemeGraphText} ThemeGraphText å¯¹è±¡ã
     */
    static fromObj(obj) {
        var res = new ThemeGraphText_ThemeGraphText();
        Util_Util.copy(res, obj);
        res.graphTextStyle = ServerTextStyle_ServerTextStyle.fromObj(obj.graphTextStyle);
        return res;

    }

}

SuperMap.ThemeGraphText = ThemeGraphText_ThemeGraphText;

// CONCATENATED MODULE: ./src/common/iServer/ThemeGraphItem.js




/**
 * @class SuperMap.ThemeGraphItem
 * @category  iServer Map Theme
 * @classdesc ç»è®¡ä¸é¢å¾å­é¡¹ç±»ã
 * @param {Object} options - åæ°ã
 * @param {string} [options.caption] - ä¸é¢å¾å­é¡¹çåç§°ã
 * @param {string} options.graphExpression - ç»è®¡ä¸é¢å¾çä¸é¢åéã
 * @param {Array.<number>} [options.memoryDoubleValues] - åå­æ°ç»æ¹å¼å¶ä½ä¸é¢å¾æ¶çå¼æ°ç»ã
 * @param {SuperMap.ServerStyle} [options.uniformStyle] - ç»è®¡ä¸é¢å¾å­é¡¹çæ¾ç¤ºé£æ ¼
 */
class ThemeGraphItem_ThemeGraphItem {

    constructor(options) {

        /**
         * @member {string} [SuperMap.ThemeGraphItem.prototype.caption]
         * @description ä¸é¢å¾å­é¡¹çåç§°ã
         */
        this.caption = null;

        /**
         * @member {string} SuperMap.ThemeGraphItem.prototype.graphExpression
         * @description ç»è®¡ä¸é¢å¾çä¸é¢åéãä¸é¢åéå¯ä»¥æ¯ä¸ä¸ªå­æ®µæå­æ®µè¡¨è¾¾å¼ãå­æ®µå¿é¡»ä¸ºæ°å¼åï¼è¡¨è¾¾å¼åªè½ä¸ºæ°å¼åçå­æ®µé´çè¿ç®ã
         */
        this.graphExpression = null;

        /**
         * @member {Array.<number>} [SuperMap.ThemeGraphItem.prototype.memoryDoubleValues]
         * @description åå­æ°ç»æ¹å¼å¶ä½ä¸é¢å¾æ¶çå¼æ°ç»ã<br>
         *              åå­æ°ç»æ¹å¼å¶ä½ä¸é¢å¾æ¶ï¼åªå¯¹ SmID å¼å¨é®æ°ç»ï¼{@link SuperMap.ThemeGraph.memoryKeys}ï¼ä¸­çè®°å½å¶ä½ä¸é¢å¾ã
         *              å¼æ°ç»çæ°å¼ä¸ªæ°å¿é¡»ä¸é®æ°ç»ä¸­æ°å¼çä¸ªæ°ä¸è´ã å¼æ°ç»ä¸­çå¼å°ä»£æ¿åæ¥çä¸é¢å¼æ¥å¶ä½ç»è®¡ä¸é¢å¾ã
         *              æ¯å¦ï¼å©ç¨é¢ç§¯å­æ®µåå¨é¿å­æ®µï¼å³æä¸¤ä¸ªç»è®¡ä¸é¢å¾å­é¡¹ ï¼ä½ä¸ºä¸é¢åéå¶ä½ç»è®¡ä¸é¢å¾ã
         */
        this.memoryDoubleValues = null;

        /**
         * @member {SuperMap.ServerStyle} [SuperMap.ThemeGraphItem.prototype.uniformStyle]
         * @description ç»è®¡ä¸é¢å¾å­é¡¹çæ¾ç¤ºé£æ ¼ã
         *              æ¯ä¸ä¸ªç»è®¡ä¸é¢å¾å­é¡¹é½å¯¹åºä¸ç§æ¾ç¤ºé£æ ¼ã
         */
        this.uniformStyle = new ServerStyle_ServerStyle();

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.ThemeGraphItem";
    }

    /**
     * @function SuperMap.ThemeGraphItem.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.caption = null;
        me.graphExpression = null;
        me.memoryDoubleValues = null;
        me.uniformStyle = null;
    }

    /**
     * @function SuperMap.ThemeGraphItem.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·åç»è®¡ä¸é¢å¾å­é¡¹ç±»ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡ã
     * @returns {SuperMap.ThemeGraphItem} ThemeGraphItem å¯¹è±¡ã
     */
    static fromObj(obj) {
        if (!obj) {
            return;
        }
        var res = new ThemeGraphItem_ThemeGraphItem();
        Util_Util.copy(res, obj);
        res.uniformStyle = ServerStyle_ServerStyle.fromJson(obj.uniformStyle);
        return res;
    }

}

SuperMap.ThemeGraphItem = ThemeGraphItem_ThemeGraphItem;

// CONCATENATED MODULE: ./src/common/iServer/ThemeGraph.js












/**
 * @class SuperMap.ThemeGraph
 * @category  iServer Map Theme
 * @classdesc ç»è®¡ä¸é¢å¾ç±»ã
 * @extends {SuperMap.Theme}
 * @param {Object} options - åæ°ã
 * @param {Array.<SuperMap.ThemeGraphItem>} options.items - ç»è®¡ä¸é¢å¾å­é¡¹éåã
 * @param {number}  [options.barWidth=0] - æ±ç¶ä¸é¢å¾ä¸­æ¯ä¸ä¸ªæ±çå®½åº¦ã
 * @param {SuperMap.ThemeFlow} [options.flow] - ç»è®¡ä¸é¢å¾æµå¨æ¾ç¤ºä¸çµå¼çº¿è®¾ç½®ã
 * @param {SuperMap.GraduatedMode} [options.graduatedMode=SuperMap.GraduatedMode.CONSTANT] - ç»è®¡å¾ä¸­å°çè¦ç´ çå¼ä¸å¾è¡¨å°ºå¯¸é´çæ å°å³ç³»ã
 * @param {SuperMap.ThemeGraphAxes} [options.graphAxes] - ç»è®¡å¾ä¸­åæ è½´æ ·å¼ç¸å³ä¿¡æ¯ã
 * @param {SuperMap.ThemeGraphSize} [options.graphSize=0] - ç»è®¡ç¬¦å·çæå¤§æå°å°ºå¯¸ã
 * @param {boolean} [options.graphSizeFixed=false] - ç¼©æ¾å°å¾æ¶ç»è®¡å¾ç¬¦å·æ¯å¦åºå®å¤§å°ã
 * @param {SuperMap.ThemeGraphText} [options.graphText] - ç»è®¡å¾ä¸çæå­æ¯å¦å¯ä»¥è§ä»¥åæå­æ æ³¨é£æ ¼ã
 * @param {SuperMap.GraphAxesTextDisplayMode} [options.graphAxesTextDisplayMode=SuperMap.GraphAxesTextDisplayMode.NONE] - ç»è®¡ä¸é¢å¾åæ è½´ææ¬æ¾ç¤ºæ¨¡å¼ã
 * @param {SuperMap.ThemeGraphType} [options.graphType=SuperMap.ThemeGraphType.AREA] - ç»è®¡ä¸é¢å¾ç±»åã
 * @param {Array.<number>} [options.memoryKeys] - ä»¥åå­æ°ç»æ¹å¼å¶ä½ä¸é¢å¾æ¶çé®æ°ç»ã
 * @param {boolean} [options.negativeDisplayed=false] - ä¸é¢å¾ä¸­æ¯å¦æ¾ç¤ºå±æ§ä¸ºè´å¼çæ°æ®ã
 * @param {SuperMap.ThemeOffset} [options.offset] - ç»è®¡å¾ç¸å¯¹äºè¦ç´ åç¹çåç§»éã
 * @param {boolean} [options.overlapAvoided=true] - ç»è®¡å¾æ¯å¦éç¨é¿è®©æ¹å¼æ¾ç¤ºã
 * @param {number} [options.roseAngle=0] - ç»è®¡å¾ä¸­ç«ç°å¾æä¸ç»´ç«ç°å¾ç¨äºç­åçè§åº¦ã
 * @param {number} [options.startAngle=0] - é¥¼ç¶ç»è®¡å¾æå½¢çèµ·å§è§åº¦ã
 */
class ThemeGraph_ThemeGraph extends Theme_Theme {

    constructor(options) {
        super("GRAPH", options);
        /**
         * @member {number} [SuperMap.ThemeGraph.prototype.barWidth=0]
         * @description æ±ç¶ä¸é¢å¾ä¸­æ¯ä¸ä¸ªæ±çå®½åº¦ãä½¿ç¨å°å¾åæ åä½ã
         *              åªæéæ©çç»è®¡å¾ç±»åä¸ºæ±ç¶å¾ï¼æ±ç¶å¾ãä¸ç»´æ±ç¶å¾ãå å æ±ç¶å¾ãä¸ç»´å å æ±ç¶å¾ï¼æ¶ï¼æ­¤é¡¹æå¯è®¾ç½®ã
         */
        this.barWidth = 0;

        /**
         * @member {SuperMap.ThemeFlow} SuperMap.ThemeGraph.prototype.flow
         * @description ç»è®¡ä¸é¢å¾æµå¨æ¾ç¤ºä¸çµå¼çº¿è®¾ç½®ã
         *              éè¿è¯¥å­æ®µå¯ä»¥è®¾ç½®ç»è®¡ç¬¦å·æ¯å¦æµå¨æ¾ç¤ºåçµå¼çº¿é£æ ¼ã
         */
        this.flow = new ThemeFlow_ThemeFlow();

        /**
         * @member {SuperMap.GraduatedMode} [SuperMap.ThemeGraph.prototype.graduatedMode=SuperMap.GraduatedMode.CONSTANT]
         * @description ç»è®¡å¾ä¸­å°çè¦ç´ çå¼ä¸å¾è¡¨å°ºå¯¸é´çæ å°å³ç³»ï¼å¸¸æ°ãå¯¹æ°ãå¹³æ¹æ ¹ï¼ï¼å³åçº§æ¹å¼ã
         *              åçº§ä¸»è¦æ¯ä¸ºäºåå°å¶ä½ç»è®¡ä¸é¢å¾ä¸­æ°æ®å¤§å°ä¹é´çå·®å¼ï¼ä½¿å¾ç»è®¡å¾çè§è§æææ¯è¾å¥½ï¼åæ¶ä¸åç±»å«ä¹é´çæ¯è¾ä¹è¿æ¯ææä¹çã
         *              æä¾ä¸ç§åçº§æ¨¡å¼ï¼å¸¸æ°ãå¯¹æ°åå¹³æ¹æ ¹ï¼å¯¹äºæå¼ä¸ºè´æ°çå­æ®µï¼ä¸å¯ä»¥éç¨å¯¹æ°åå¹³æ¹æ ¹çåçº§æ¹å¼ãä¸åçç­çº§æ¹å¼ç¨äºç¡®å®ç¬¦å·å¤§å°çæ°å¼æ¯ä¸ç¸åçã
         */
        this.graduatedMode = GraduatedMode.CONSTANT;

        /**
         * @member {SuperMap.ThemeGraphAxes} SuperMap.ThemeGraph.prototype.graphAxes
         * @description ç¨äºè®¾ç½®ç»è®¡å¾ä¸­åæ è½´æ ·å¼ç¸å³ä¿¡æ¯ï¼å¦åæ è½´é¢è²ãæ¯å¦æ¾ç¤ºãåæ ææ¬æ ·å¼ç­ã
         */
        this.graphAxes = new ThemeGraphAxes_ThemeGraphAxes();

        /**
         * @member {SuperMap.ThemeGraphSize} [SuperMap.ThemeGraph.prototype.graphSize=0]
         * @description ç¨äºè®¾ç½®ç»è®¡ç¬¦å·çæå¤§æå°å°ºå¯¸ã
         */
        this.graphSize = new ThemeGraphSize_ThemeGraphSize();

        /**
         * @member {boolean} [SuperMap.ThemeGraph.prototype.graphSizeFixed=false]
         * @description ç¼©æ¾å°å¾æ¶ç»è®¡å¾ç¬¦å·æ¯å¦åºå®å¤§å°ãå³ç»è®¡å¾ç¬¦å·å°éå°å¾ç¼©æ¾ã
         */
        this.graphSizeFixed = false;

        /**
         * @member {SuperMap.ThemeGraphText} SuperMap.ThemeGraph.prototype.graphText
         * @description ç»è®¡å¾ä¸çæå­æ¯å¦å¯ä»¥è§ä»¥åæå­æ æ³¨é£æ ¼ã
         */
        this.graphText =  new ThemeGraphText_ThemeGraphText();

        /**
         * @member {SuperMap.ThemeGraphType} [SuperMap.ThemeGraph.prototype.graphType=SuperMap.ThemeGraphType.AREA]
         * @description ç»è®¡ä¸é¢å¾ç±»åãSuperMap æä¾äºå¤ç§ç±»åçç»è®¡å¾ï¼
         *              åå«ä¸ºé¢ç§¯å¾ãé¶æ¢¯å¾ãæçº¿å¾ãç¹ç¶å¾ãæ±ç¶å¾ãä¸ç»´æ±ç¶å¾ãé¥¼å¾ãä¸ç»´é¥¼å¾ãç«ç°å¾ãä¸ç»´ç«ç°å¾ãå å æ±ç¶å¾ãä¸ç»´å å æ±ç¶å¾ãç¯ç¶å¾ãé»è®¤ä¸ºé¢ç§¯å¾ã
         */
        this.graphType = ThemeGraphType.AREA;

        /**
         * @member {SuperMap.GraphAxesTextDisplayMode} [SuperMap.ThemeGraph.prototype.graphAxesTextDisplayMode=SuperMap.GraphAxesTextDisplayMode.NONE]
         * @description ç»è®¡ä¸é¢å¾åæ è½´ææ¬æ¾ç¤ºæ¨¡å¼ã
         */
        this.graphAxesTextDisplayMode = GraphAxesTextDisplayMode.NONE;

        /**
         * @member {Array.<SuperMap.ThemeGraphItem>} SuperMap.ThemeGraph.prototype.items
         * @description ç»è®¡ä¸é¢å¾å­é¡¹éåã
         *              ç»è®¡ä¸é¢å¾å¯ä»¥åºäºå¤ä¸ªåéï¼åæ å¤ç§å±æ§ï¼å³å¯ä»¥å°å¤ä¸ªä¸é¢åéçå¼ç»å¶å¨ä¸ä¸ªç»è®¡å¾ä¸ãæ¯ä¸ä¸ªä¸é¢åéå¯¹åºçç»è®¡å¾å³ä¸ºä¸ä¸ªä¸é¢å¾å­é¡¹ã
         *              å¯¹äºæ¯ä¸ªä¸é¢å¾å­é¡¹å¯ä»¥ä¸ºå¶è®¾ç½®æ é¢ãé£æ ¼ï¼çè³å¯ä»¥å°è¯¥å­é¡¹åå¶ä½æèå´åæ®µä¸é¢å¾ã
         */
        this.items = null;

        /**
         * @member {Array.<number>} SuperMap.ThemeGraph.prototype.memoryKeys
         * @description ä»¥åå­æ°ç»æ¹å¼å¶ä½ä¸é¢å¾æ¶çé®æ°ç»ã
         *              é®æ°ç»åçæ°å¼ä»£è¡¨ SmID å¼ï¼å®ä¸ SuperMap.ThemeGraphItem ç±»ä¸­çå¼æ°ç»ï¼SuperMap.ThemeGraphItem.memoryDoubleValuesï¼è¦å³èèµ·æ¥åºç¨ã
         *              é®æ°ç»ä¸­æ°å¼çä¸ªæ°å¿é¡»è¦ä¸å¼æ°ç»çæ°å¼ä¸ªæ°ä¸è´ãå¼æ°ç»ä¸­çå¼å°ä»£æ¿åæ¥çä¸é¢å¼æ¥å¶ä½ç»è®¡ä¸é¢å¾ã
         *              ç®åææçä¸é¢å¾é½æ¯æä»¥åå­æ°ç»çæ¹å¼å¶ä½ä¸é¢å¾ï¼ä½ç»è®¡ä¸é¢å¾ä¸å¶ä»ä¸é¢å¾æå®åå­æ°ç»çæ¹å¼ä¸åï¼
         *              ç»è®¡ä¸é¢å¾ä½¿ç¨ memoryKeys æå®åå­æ°ç»ï¼èå¶ä»ä¸é¢å¾åä½¿ç¨ memoryData æ¥æå®åå­æ°ç»ã
         * @example
         *  memoryKeys çä½¿ç¨æ¹æ³å¦ä¸ï¼
         *  function addThemeGraph() {
         *      removeTheme();
         *       //åå»ºç»è®¡ä¸é¢å¾å¯¹è±¡ï¼SuperMap.ThemeGraph å¿è®¾ itemsã
         *       //ä¸é¢å¾åæ° ThemeParameters å¿è®¾ themeï¼å³ä»¥è®¾ç½®å¥½çåæ®µä¸é¢å¾å¯¹è±¡ï¼ãdataSourceName å datasetName
         *      var style1 = new SuperMap.ServerStyle({
         *                   fillForeColor: new SuperMap.ServerColor(92,73,234),
         *                   lineWidth: 0.1
         *               }),
         *               style2 = new SuperMap.ServerStyle({
         *                   fillForeColor: new SuperMap.ServerColor(211,111,240),
         *                   lineWidth: 0.1
         *               }),
         *               item1 = new SuperMap.ThemeGraphItem({
         *                   memoryDoubleValues:[1.18,0.95,0.37,1.31,0.8,1.5],
         *                  caption: "1992-1995äººå£å¢é¿ç",
         *                  graphExpression: "Pop_Rate95",
         *                   uniformStyle: style1
         *               }),
         *               item2 = new SuperMap.ThemeGraphItem({
         *               //ä»¥åå­æ°ç»æ¹å¼å¶ä½ä¸é¢å¾æ¶çå¼æ°ç»
         *                   memoryDoubleValues:[2.71,0,0.74,3.1,2.2,3.5],
         *                   caption: "1995-1999äººå£å¢é¿ç",  //ä¸é¢å¾å­é¡¹çåç§°
         *                   graphExpression: "Pop_Rate99",  //ç»è®¡ä¸é¢å¾çä¸é¢åé
         *                   uniformStyle: style2      //ç»è®¡ä¸é¢å¾å­é¡¹çæ¾ç¤ºé£æ ¼
         *               }),
         *               themeGraph  = new SuperMap.ThemeGraph({
         *               //ä»¥åå­æ°ç»æ¹å¼å¶ä½ä¸é¢å¾æ¶çé®æ°ç»ï¼é®æ°ç»åçæ°å¼ä»£è¡¨ SmID å¼
         *                    memoryKeys:[1,2,4,8,10,12],
         *                   items: new Array(item1,item2),
         *                   barWidth: 0.03,
         *                    //ç»è®¡å¾ä¸­å°çè¦ç´ çå¼ä¸å¾è¡¨å°ºå¯¸é´çæ å°å³ç³»ä¸ºå¹³æ¹æ ¹
         *                   graduatedMode: SuperMap.GraduatedMode.SQUAREROOT,
         *                   //graphAxesç¨äºè®¾ç½®ç»è®¡å¾ä¸­åæ è½´æ ·å¼ç¸å³ä¿¡æ¯
         *                   graphAxes: new SuperMap.ThemeGraphAxes({
         *                       axesDisplayed: true
         *                   }),
         *                   graphSize: new SuperMap.ThemeGraphSize({
         *                       maxGraphSize: 1,
         *                       minGraphSize: 0.35
         *                   }),
         *                   //ç»è®¡å¾ä¸çæå­æ¯å¦å¯ä»¥è§ä»¥åæå­æ æ³¨é£æ ¼
         *                   graphText: new SuperMap.ThemeGraphText({
         *                       graphTextDisplayed: true,
         *                       graphTextFormat: SuperMap.ThemeGraphTextFormat.VALUE,
         *                       graphTextStyle: new SuperMap.ServerTextStyle({
         *                           sizeFixed: true,
         *                           fontHeight: 9,
         *                           fontWidth: 5
         *                       })
         *                   }),
         *                   //ç»è®¡ä¸é¢å¾ç±»åä¸ºä¸ç»´æ±ç¶å¾
         *                   graphType: SuperMap.ThemeGraphType.BAR3D
         *               }),
         *                   //ä¸é¢å¾åæ°å¯¹è±¡
         *               themeParameters = new SuperMap.ThemeParameters({
         *                   themes: [themeGraph],
         *                   dataSourceNames: ["Jingjin"],
         *                   datasetNames: ["BaseMap_R"]
         *               }),
         *                   //ä¸æå¡ç«¯äº¤äº
         *               themeService=new SuperMap.ThemeService(url, {
         *                   eventListeners: {
         *                       "processCompleted": ThemeCompleted,
         *                        "processFailed": themeFailed
         *                  }
         *              });
         *       themeService.processAsync(themeParameters);
         *   }
         */
        this.memoryKeys = null;

        /**
         * @member {boolean} [SuperMap.ThemeGraph.prototype.negativeDisplayed=false]
         * @description ä¸é¢å¾ä¸­æ¯å¦æ¾ç¤ºå±æ§ä¸ºè´å¼çæ°æ®ãtrue è¡¨ç¤ºæ¾ç¤ºï¼falese ä¸æ¾ç¤ºã
         */
        this.negativeDisplayed = false;

        /**
         * @member {SuperMap.ThemeOffset} SuperMap.ThemeGraph.prototype.offset
         * @description ç¨äºè®¾ç½®ç»è®¡å¾ç¸å¯¹äºè¦ç´ åç¹çåç§»éã
         */
        this.offset = new ThemeOffset_ThemeOffset();

        /**
         * @member {boolean} SuperMap.ThemeGraph.prototype.overlapAvoided
         * @description ç»è®¡å¾æ¯å¦éç¨é¿è®©æ¹å¼æ¾ç¤ºã<br>
         *              1.å¯¹æ°æ®éå¶ä½ç»è®¡ä¸é¢å¾:å½ç»è®¡å¾éç¨é¿è®©æ¹å¼æ¾ç¤ºæ¶ï¼å¦æ overlapAvoided ä¸º trueï¼åå¨ç»è®¡å¾éå åº¦å¾å¤§çæåµä¸ï¼
         *              ä¼åºç°æ æ³å®å¨é¿åç»è®¡å¾éå çç°è±¡ï¼å¦æ overlapAvoided ä¸º falseï¼ä¼è¿æ»¤æä¸äºç»è®¡å¾ï¼ä»èä¿è¯ææçç»è®¡å¾åä¸éå ã<br>
         *              2.å¯¹æ°æ®éåæ¶å¶ä½ç»è®¡ä¸é¢å¾åæ ç­¾ä¸é¢å¾ï¼å½ç»è®¡å¾ä¸æ¾ç¤ºå­é¡¹ææ¬æ¶ï¼æ ç­¾ä¸é¢å¾çæ ç­¾å³ä½¿åç»è®¡å¾éå ï¼ä¸¤èä¹é½å¯æ­£å¸¸æ¾ç¤ºï¼
         *              å½ç»è®¡å¾æ¾ç¤ºå­é¡¹ææ¬æ¶ï¼å¦æç»è®¡å¾ä¸­çå­é¡¹ææ¬åæ ç­¾ä¸é¢å¾ä¸­çæ ç­¾ä¸éå ï¼åä¸¤èåæ­£å¸¸æ¾ç¤ºï¼å¦æéå ï¼åä¼è¿æ»¤æç»è®¡å¾çå­é¡¹ææ¬ï¼åªæ¾ç¤ºæ ç­¾ã
         */
        this.overlapAvoided = true;

        /**
         * @member {number} [SuperMap.ThemeGraph.prototype.roseAngle=0]
         * @description ç»è®¡å¾ä¸­ç«ç°å¾æä¸ç»´ç«ç°å¾ç¨äºç­åçè§åº¦ï¼é»è®¤ä¸º 0 åº¦ï¼ç²¾ç¡®å° 0.1 åº¦ãå¨è§åº¦ä¸º0æèå¤§äº 360 åº¦çæåµä¸åä½¿ç¨ 360 åº¦æ¥ç­åå¶ä½ç»è®¡å¾çå­æ®µæ°ã
         */
        this.roseAngle = 0;

        /**
         * @member {number} [SuperMap.ThemeGraph.prototype.startAngle=0]
         * @description é¥¼ç¶ç»è®¡å¾æå½¢çèµ·å§è§åº¦ãç²¾ç¡®å° 0.1 åº¦ï¼ä»¥æ°´å¹³æ¹åä¸ºæ­£åãåªæéæ©çç»è®¡å¾ç±»åä¸ºé¥¼ç¶å¾ï¼é¥¼å¾ãä¸ç»´é¥¼å¾ãç«ç°å¾ãä¸ç»´ç«ç°å¾ï¼æ¶ï¼æ­¤é¡¹æå¯è®¾ç½®ã
         */
        this.startAngle = 0;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.ThemeGraph";
    }


    /**
     * @function SuperMap.ThemeGraph.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        var me = this;
        me.barWidth = null;
        if (me.flow) {
            me.flow.destroy();
            me.flow = null;
        }
        me.graduatedMode = null;
        if (me.graphAxes) {
            me.graphAxes.destroy();
            me.graphAxes = null;
        }
        if (me.graphSize) {
            me.graphSize.destroy();
            me.graphSize = null;
        }
        me.graphSizeFixed = null;
        if (me.graphText) {
            me.graphText.destroy();
            me.graphText = null;
        }
        me.graphType = null;
        if (me.items) {
            for (var i = 0, items = me.items, len = items.length; i < len; i++) {
                items[i].destroy();
            }
            me.items = null;
        }
        me.memoryKeys = null;
        me.negativeDisplayed = null;
        if (me.offset) {
            me.offset.destroy();
            me.offset = null;
        }
        me.overlapAvoided = null;
        me.roseAngle = null;
        me.startAngle = null;
        me.graphAxesTextDisplayMode = null;
    }

    /**
     * @function SuperMap.ThemeGraph.prototype.toJSON
     * @description å° SuperMap.ThemeGraph å¯¹è±¡è½¬åä¸º JSON å­ç¬¦ä¸²ã
     * @returns {string} è¿åè½¬æ¢åç JSON å­ç¬¦ä¸²ã
     */
    toJSON() {
        return Util_Util.toJSON(this.toServerJSONObject());
    }

    /**
     * @function SuperMap.ThemeGraph.prototype.toServerJSONObject
     * @description è½¬æ¢æå¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     * @returns {Object} å¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     */
    toServerJSONObject() {
        var obj = {};
        obj.type = this.type;
        if (this.graphText) {
            obj.graphTextDisplayed = this.graphText.graphTextDisplayed;
            obj.graphTextFormat = this.graphText.graphTextFormat;
            obj.graphTextStyle = this.graphText.graphTextStyle;
        }
        if (this.flow) {
            obj.flowEnabled = this.flow.flowEnabled;
            obj.leaderLineDisplayed = this.flow.leaderLineDisplayed;
            obj.leaderLineStyle = this.flow.leaderLineStyle;
        }
        if (this.graphAxes) {
            obj.axesColor = this.graphAxes.axesColor;
            obj.axesDisplayed = this.graphAxes.axesDisplayed;
            obj.axesGridDisplayed = this.graphAxes.axesGridDisplayed;
            obj.axesTextDisplayed = this.graphAxes.axesTextDisplayed;
            obj.axesTextStyle = this.graphAxes.axesTextStyle;
        }
        if (this.graphSize) {
            obj.maxGraphSize = this.graphSize.maxGraphSize;
            obj.minGraphSize = this.graphSize.minGraphSize;
        }
        if (this.offset) {
            obj.offsetFixed = this.offset.offsetFixed;
            obj.offsetX = this.offset.offsetX;
            obj.offsetY = this.offset.offsetY;
        }
        obj.barWidth = this.barWidth;
        obj.graduatedMode = this.graduatedMode;
        obj.graphSizeFixed = this.graphSizeFixed;
        obj.graphType = this.graphType;
        obj.graphAxesTextDisplayMode = this.graphAxesTextDisplayMode;
        obj.items = this.items;
        obj.memoryKeys = this.memoryKeys;
        obj.negativeDisplayed = this.negativeDisplayed;
        obj.overlapAvoided = this.overlapAvoided;
        obj.roseAngle = this.roseAngle;
        obj.startAngle = this.startAngle;
        return obj;
    }

    /**
     * @function SuperMap.ThemeGraph.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·åç»è®¡ä¸é¢å¾ç±»ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡ã
     * @returns {SuperMap.ThemeGraph} ThemeGraph å¯¹è±¡ã
     */
    static fromObj(obj) {
        var res = new ThemeGraph_ThemeGraph();
        var itemsG = obj.items;
        var len = itemsG ? itemsG.length : 0;
        Util_Util.copy(res, obj);
        res.items = [];
        res.flow = ThemeFlow_ThemeFlow.fromObj(obj);
        res.graphAxes = ThemeGraphAxes_ThemeGraphAxes.fromObj(obj);
        res.graphSize = ThemeGraphSize_ThemeGraphSize.fromObj(obj);
        res.graphText = ThemeGraphText_ThemeGraphText.fromObj(obj);
        res.offset = ThemeOffset_ThemeOffset.fromObj(obj);
        for (var i = 0; i < len; i++) {
            res.items.push(ThemeGraphItem_ThemeGraphItem.fromObj(itemsG[i]));
        }
        return res;
    }

}

SuperMap.ThemeGraph = ThemeGraph_ThemeGraph;
// CONCATENATED MODULE: ./src/common/iServer/ThemeDotDensity.js





/**
 * @class SuperMap.ThemeDotDensity
 * @category  iServer Map Theme
 * @classdesc ç¹å¯åº¦ä¸é¢å¾ã
 * @description ç¹å¯åº¦ä¸é¢å¾ç¨ä¸å®å¤§å°ãå½¢ç¶ç¸åçç¹è¡¨ç¤ºç°è±¡åå¸èå´ãæ°éç¹å¾ååå¸å¯åº¦ãç¹çå¤å°åæä»£è¡¨çæä¹ç±å°å¾çåå®¹ç¡®å®ã
 *              ç¹å¯åº¦ä¸é¢å¾å©ç¨å¾å±çæä¸æ°å¼å±æ§ä¿¡æ¯ï¼ä¸é¢å¼ï¼æ å°ä¸ºä¸åç­çº§ï¼æ¯ä¸çº§å«ä½¿ç¨ä¸åæ°éæè¡¨ç°ä¸ºå¯åº¦çç¹ç¬¦å·æ¥è¡¨ç¤ºã
 *              è¯¥ä¸é¢å¼å¨åä¸ªååºåçåå¸æåµï¼ä½ç°ä¸ååºåçç¸å¯¹æ°éå·®å¼ãå¤ç¨äºå·ææ°éç¹å¾çå°å¾ä¸ï¼
 *              æ¯å¦è¡¨ç¤ºä¸åå°åºçç²®é£äº§éãGDPãäººå£ç­çåçº§ï¼ä¸»è¦éå¯¹åºåæé¢ç¶çè¦ç´ ï¼å èï¼ç¹å¯åº¦ä¸é¢å¾éç¨äºé¢æ°æ®éã
 *              æ³¨æï¼ç¹å¯åº¦ä¸é¢å¾ä¸­ç¹çåå¸æ¯éæºçï¼å¹¶ä¸ä»£è¡¨å®éçåå¸ä½ç½®ãå³ä½¿å¨ç¸å³è®¾ç½®å®å¨ç¸åçæåµä¸ï¼
 *              æ¯æ¬¡å¶ä½åºçä¸é¢å¾ï¼ç¹çæ°éç¸åï¼ä½ç¹çä½ç½®é½æå·®å¼ã
 * @extends {SuperMap.Theme}
 * @param {Object} options - åæ°ã
 * @param {string} options.dotExpression - åå»ºç¹å¯åº¦ä¸é¢å¾çå­æ®µæå­æ®µè¡¨è¾¾å¼ã
 * @param {SuperMap.ServerStyle} [options.style] - ç¹å¯åº¦ä¸é¢å¾ä¸­ç¹çé£æ ¼ã
 * @param {number} [options.value] - ä¸é¢å¾ä¸­æ¯ä¸ä¸ªç¹æä»£è¡¨çæ°å¼ã
 * @param {SuperMap.ThemeMemoryData} [options.memoryData] - ä¸é¢å¾åå­æ°æ®ã
 */
class ThemeDotDensity_ThemeDotDensity extends Theme_Theme {

    constructor(options) {
        super("DOTDENSITY", options);
        /**
         * @member {string} SuperMap.ThemeDotDensity.prototype.dotExpression
         * @description åå»ºç¹å¯åº¦ä¸é¢å¾çå­æ®µæå­æ®µè¡¨è¾¾å¼ãç¹çæ°ç®æå¯éç¨åº¦çæ¥æºã
         */
        this.dotExpression = null;

        /**
         * @member {SuperMap.ServerStyle} SuperMap.ThemeDotDensity.prototype.style
         * @description ç¹å¯åº¦ä¸é¢å¾ä¸­ç¹çé£æ ¼ã
         */
        this.style =  new ServerStyle_ServerStyle();

        /**
         * @member {number} SuperMap.ThemeDotDensity.prototype.value
         * @description ä¸é¢å¾ä¸­æ¯ä¸ä¸ªç¹æä»£è¡¨çæ°å¼ã<br>
         *              ç¹å¼çç¡®å®ä¸å°å¾æ¯ä¾å°ºä»¥åç¹çå¤§å°æå³ãå°å¾æ¯ä¾å°ºè¶å¤§ï¼ç¸åºçå¾é¢èå´ä¹è¶å¤§ï¼
         *              ç¹ç¸åºå°±å¯ä»¥è¶å¤ï¼æ­¤æ¶ç¹å¼å°±å¯ä»¥è®¾ç½®ç¸å¯¹å°ä¸äºãç¹å½¢ç¶è¶å¤§ï¼
         *              ç¹å¼ç¸åºå°±åºè¯¥è®¾ç½®çå°ä¸äºãç¹å¼è¿å¤§æè¿å°é½æ¯ä¸åéçã
         */
        this.value = null;

        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = "SuperMap.ThemeDotDensity";
    }

    /**
     * @function SuperMap.ThemeDotDensity.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.dotExpression = null;
        me.value = null;

        if (me.style) {
            me.style.destroy();
            me.style = null;
        }
    }


    /**
     * @function SuperMap.ThemeDotDensity.prototype.toServerJSONObject
     * @description è½¬æ¢æå¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     * @returns {Object} å¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     */
    toServerJSONObject() {
        var obj = {};
        obj = Util_Util.copyAttributes(obj, this);
        if (obj.style) {
            if (obj.style.toServerJSONObject) {
                obj.style = obj.style.toServerJSONObject();
            }
        }
        return obj;
    }

    /**
     * @function SuperMap.ThemeDotDensity.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·åç¹å¯åº¦ä¸é¢å¾ä¸­ç¹çé£æ ¼ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡ã
     * @returns {SuperMap.ThemeDotDensity} ThemeDotDensity å¯¹è±¡ã
     */
    static fromObj(obj) {
        if (!obj) {
            return;
        }
        var res = new ThemeDotDensity_ThemeDotDensity();
        Util_Util.copy(res, obj);
        res.style = ServerStyle_ServerStyle.fromJson(obj.style);
        return res;
    }


}

SuperMap.ThemeDotDensity = ThemeDotDensity_ThemeDotDensity;


// CONCATENATED MODULE: ./src/common/iServer/ThemeGraduatedSymbolStyle.js




/**
 * @class SuperMap.ThemeGraduatedSymbolStyle
 * @category  iServer Map Theme
 * @classdesc ç­çº§ç¬¦å·ä¸é¢å¾æ­£è´é¶å¼æ¾ç¤ºé£æ ¼ç±»ã
 * @param {Object} options - åæ°ã
 * @param {boolean} [options.negativeDisplayed=false] - æ¯å¦æ¾ç¤ºè´å¼ã
 * @param {SuperMap.ServerStyle} [options.negativeStyle] - è´å¼çç­çº§ç¬¦å·é£æ ¼ã
 * @param {SuperMap.ServerStyle} [options.positiveStyle] - æ­£å¼çç­çº§ç¬¦å·é£æ ¼ã
 * @param {boolean} [options.zeroDisplayed=false] - æ¯å¦æ¾ç¤º 0 å¼ã
 * @param {SuperMap.ServerStyle} [options.zeroStyle] - 0 å¼çç­çº§ç¬¦å·é£æ ¼ã
 */
class ThemeGraduatedSymbolStyle_ThemeGraduatedSymbolStyle {

    constructor(options) {
        /**
         * @member {boolean} [SuperMap.ThemeGraduatedSymbolStyle.prototype.negativeDisplayed=false]
         * @description æ¯å¦æ¾ç¤ºè´å¼ã
         */
        this.negativeDisplayed = false;

        /**
         * @member {SuperMap.ServerStyle} [SuperMap.ThemeGraduatedSymbolStyle.prototype.negativeStyle]
         * @description è´å¼çç­çº§ç¬¦å·é£æ ¼ã
         */
        this.negativeStyle = new ServerStyle_ServerStyle();

        /**
         * @member {SuperMap.ServerStyle} [SuperMap.ThemeGraduatedSymbolStyle.prototype.positiveStyle]
         * @description æ­£å¼çç­çº§ç¬¦å·é£æ ¼ã
         */
        this.positiveStyle = new ServerStyle_ServerStyle();

        /**
         * @member {boolean} [SuperMap.ThemeGraduatedSymbolStyle.prototype.zeroDisplayed=false]
         * @description æ¯å¦æ¾ç¤º 0 å¼ã
         */
        this.zeroDisplayed = false;

        /**
         * @member {SuperMap.ServerStyle} SuperMap.ThemeGraduatedSymbolStyle.prototype.zeroStyle
         * @description 0 å¼çç­çº§ç¬¦å·é£æ ¼ã
         */
        this.zeroStyle = new ServerStyle_ServerStyle();

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.ThemeGraduatedSymbolStyle";
    }

    /**
     * @function SuperMap.ThemeGraduatedSymbolStyle.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.negativeDisplayed = null;
        me.negativeStyle = null;
        me.positiveStyle = null;
        me.zeroDisplayed = null;
        me.zeroStyle = null;
    }

    /**
     * @function SuperMap.ThemeGraduatedSymbolStyle.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·åç­çº§ç¬¦å·ä¸é¢å¾æ­£è´é¶å¼æ¾ç¤ºé£æ ¼ç±»ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡ã
     * @returns {SuperMap.ThemeGraduatedSymbolStyle} ThemeGraduatedSymbolStyle å¯¹è±¡ã
     */
    static fromObj(obj) {
        if (!obj) {
            return;
        }
        var res = new ThemeGraduatedSymbolStyle_ThemeGraduatedSymbolStyle();
        Util_Util.copy(res, obj);
        res.negativeStyle = ServerStyle_ServerStyle.fromJson(obj.negativeStyle);
        res.positiveStyle = ServerStyle_ServerStyle.fromJson(obj.positiveStyle);
        res.zeroStyle = ServerStyle_ServerStyle.fromJson(obj.zeroStyle);
        return res;
    }

}


SuperMap.ThemeGraduatedSymbolStyle = ThemeGraduatedSymbolStyle_ThemeGraduatedSymbolStyle;


// CONCATENATED MODULE: ./src/common/iServer/ThemeGraduatedSymbol.js








/**
 * @class SuperMap.ThemeGraduatedSymbol
 * @category  iServer Map Theme
 * @classdesc ç­çº§ç¬¦å·ä¸é¢å¾ã
 * @extends {SuperMap.Theme}
 * @param {Object} options - åæ°ã
 * @param {SuperMap.ThemeGraduatedSymbolStyle} options.style - ç¨äºè®¾ç½®ç­çº§ç¬¦å·å¾æ­£è´åé¶å¼æ¾ç¤ºé£æ ¼ã
 * @param {string} options.expression - ç­çº§ç¬¦å·ä¸é¢å¾çå­æ®µæå­æ®µè¡¨è¾¾å¼ã
 * @param {number} [options.baseValue=0] - ç­çº§ç¬¦å·ä¸é¢å¾çåºåå¼ï¼åä½åä¸é¢åéçåä½ã
 * @param {SuperMap.ThemeFlow} [options.flow] - ç­çº§ç¬¦å·ä¸é¢å¾ç¬¦å·æµå¨æ¾ç¤ºä¸çµå¼çº¿è®¾ç½®ç±»ã
 * @param {SuperMap.GraduatedMode} [options.graduatedMode=SuperMap.GraduatedMode.CONSTANT] - ç­çº§ç¬¦å·ä¸é¢å¾åçº§æ¨¡å¼ã
 * @param {SuperMap.ThemeOffset} [options.offset] - ç¨äºè®¾ç½®æ ç­¾ä¸é¢å¾ä¸­æ è®°ææ¬ç¸å¯¹äºè¦ç´ åç¹çåç§»éå¯¹è±¡ã
 * @param {SuperMap.ThemeMemoryData} [options.memoryData] - ä¸é¢å¾åå­æ°æ®ã
 */
class ThemeGraduatedSymbol_ThemeGraduatedSymbol extends Theme_Theme {

    constructor(options) {
        super("GRADUATEDSYMBOL", options);
        /**
         * @member {number} [SuperMap.ThemeGraduatedSymbol.prototype.baseValue=0]
         * @description ç­çº§ç¬¦å·ä¸é¢å¾çåºåå¼ï¼åä½åä¸é¢åéçåä½ã<br>
         *              ä¾æ®æ­¤å¼ç³»ç»ä¼èªå¨æ ¹æ®åçº§æ¹å¼è®¡ç®å¶ä½å¼å¯¹åºçç¬¦å·å¤§å°ï¼æ¯ä¸ªç¬¦å·çæ¾ç¤ºå¤§å°ç­äº 
         *              ThemeValueSection.positiveStyleï¼æ zeroStyleï¼negativeStyleï¼.markerSize * value / basevalueï¼ 
         *              å¶ä¸­ value æ¯ expression ææå®å­æ®µå¯¹åºçå¼ç»è¿åçº§è®¡ç®ä¹åçå¼ãé»è®¤å¼ä¸º0ï¼å»ºè®®éè¿å¤æ¬¡å°è¯è®¾ç½®è¯¥å¼æè½è¾¾å°è¾å¥½çæ¾ç¤ºææã
         */
        this.baseValue = 0;

        /**
         * @member {string} SuperMap.ThemeGraduatedSymbol.prototype.expression
         * @description ç¨äºåå»ºç­çº§ç¬¦å·ä¸é¢å¾çå­æ®µæå­æ®µè¡¨è¾¾å¼ï¼å­æ®µæå­æ®µè¡¨è¾¾å¼åºä¸ºæ°å¼åã
         */
        this.expression = null;

        /**
         * @member {SuperMap.ThemeFlow} SuperMap.ThemeGraduatedSymbol.prototype.flow
         * @description ç­çº§ç¬¦å·ä¸é¢å¾ç¬¦å·æµå¨æ¾ç¤ºä¸çµå¼çº¿è®¾ç½®ç±»ã<br>
         *              éè¿è¯¥å­æ®µå¯ä»¥è®¾ç½®ç­çº§ç¬¦å·æ¯å¦æµå¨æ¾ç¤ºåçµå¼çº¿é£æ ¼ã
         */
        this.flow = new ThemeFlow_ThemeFlow();

        /**
         * @member {SuperMap.GraduatedMode} [SuperMap.ThemeGraduatedSymbol.prototype.graduatedMode=SuperMap.GraduatedMode.CONSTANT]
         * @description ç­çº§ç¬¦å·ä¸é¢å¾åçº§æ¨¡å¼ã<br>
         *              åçº§ä¸»è¦æ¯ä¸ºäºåå°å¶ä½ç­çº§ç¬¦å·ä¸é¢å¾ä¸­æ°æ®å¤§å°ä¹é´çå·®å¼ãå¦ææ°æ®ä¹é´å·®è·è¾å¤§ï¼åå¯ä»¥éç¨å¯¹æ°æèå¹³æ¹æ ¹çåçº§æ¹å¼æ¥è¿è¡ï¼
         *              è¿æ ·å°±åå°äºæ°æ®ä¹é´çç»å¯¹å¤§å°çå·®å¼ï¼ä½¿å¾ç­çº§ç¬¦å·å¾çè§è§æææ¯è¾å¥½ï¼åæ¶ä¸åç±»å«ä¹é´çæ¯è¾ä¹æ¯ææä¹çã
         *              æä¸ç§åçº§æ¨¡å¼ï¼å¸¸æ°ãå¯¹æ°åå¹³æ¹æ ¹ï¼å¯¹äºæå¼ä¸ºè´æ°çå­æ®µï¼å¨ç¨å¯¹æ°æå¹³æ¹æ ¹æ¹å¼åçº§æ¶ï¼é»è®¤å¯¹è´æ°åæ­£ã
         *              ä¸åçåçº§æ¨¡å¼ç¨äºç¡®å®ç¬¦å·å¤§å°çæ°å¼æ¯ä¸ç¸åçï¼å¸¸æ°æç§å­æ®µçåå§æ°æ®è¿è¡ï¼å¯¹æ°åæ¯å¯¹æ¯æ¡è®°å½å¯¹åºçä¸é¢åéåèªç¶å¯¹æ°ï¼
         *              å¹³æ¹æ ¹åæ¯å¯¹å¶åå¹³æ¹æ ¹ï¼ç¶åç¨æç»å¾å°çç»ææ¥ç¡®å®å¶ç­çº§ç¬¦å·çå¤§å°ã
         */
        this.graduatedMode = SuperMap.GraduatedMode.CONSTAN;

        /**
         * @member {SuperMap.ThemeOffset} [SuperMap.ThemeGraduatedSymbol.prototype.offset]
         * @description ç¨äºè®¾ç½®ç­çº§ç¬¦å·å¾ç¸å¯¹äºè¦ç´ åç¹çåç§»éã
         */
        this.offset =  new ThemeOffset_ThemeOffset();

        /**
         * @member {SuperMap.ThemeGraduatedSymbolStyle} SuperMap.ThemeGraduatedSymbol.prototype.style
         * @description ç¨äºè®¾ç½®ç­çº§ç¬¦å·å¾æ­£è´åé¶å¼æ¾ç¤ºé£æ ¼ã
         */
        this.style =  new ThemeGraduatedSymbolStyle_ThemeGraduatedSymbolStyle();

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.ThemeGraduatedSymbol";
    }

    /**
     * @function SuperMap.ThemeGraduatedSymbol.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        super.destroy();
        var me = this;
        me.expression = null;
        if (me.flow) {
            me.flow.destroy();
            me.flow = null;
        }
        me.graduatedMode = GraduatedMode.CONSTANT;
        if (me.offset) {
            me.offset.destroy();
            me.offset = null;
        }
        if (me.style) {
            me.style.destroy();
            me.style = null;
        }
    }


    /**
     * @function SuperMap.ThemeGraduatedSymbol.prototype.toJSON
     * @description å° themeLabel å¯¹è±¡è½¬åä¸º JSON å­ç¬¦ä¸²ã
     * @returns {string} è¿åè½¬æ¢åç JSON å­ç¬¦ä¸²ã
     */
    toJSON() {
        return Util_Util.toJSON(this.toServerJSONObject());
    }


    /**
     * @function SuperMap.ThemeGraduatedSymbol.prototype.toServerJSONObject
     * @description è½¬æ¢æå¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     * @returns {Object} å¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     */
    toServerJSONObject() {
        var obj = {};
        obj.type = this.type;
        obj.memoryData = this.memoryData;
        obj.baseValue = this.baseValue;
        obj.expression = this.expression;
        obj.graduatedMode = this.graduatedMode;
        if (this.flow) {
            obj.flowEnabled = this.flow.flowEnabled;
            obj.leaderLineDisplayed = this.flow.leaderLineDisplayed;
            obj.leaderLineStyle = this.flow.leaderLineStyle;
        }
        if (this.offset) {
            obj.offsetFixed = this.offset.offsetFixed;
            obj.offsetX = this.offset.offsetX;
            obj.offsetY = this.offset.offsetY;
        }
        if (this.style) {
            obj.negativeStyle = this.style.negativeStyle;
            obj.negativeDisplayed = this.style.negativeDisplayed;
            obj.positiveStyle = this.style.positiveStyle;
            obj.zeroDisplayed = this.style.zeroDisplayed;
            obj.zeroStyle = this.style.zeroStyle;
        }
        return obj;
    }

    /**
     * @function SuperMap.ThemeGraduatedSymbol.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·åç­çº§ç¬¦å·ä¸é¢å¾ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡ã
     * @returns {SuperMap.ThemeGraduatedSymbol} ç­çº§ç¬¦å·ä¸é¢å¾å¯¹è±¡ã
     */
    static fromObj(obj) {
        if (!obj) {
            return;
        }
        var res = new SuperMap.ThemeGraduatedSymbol();
        Util_Util.copy(res, obj);
        res.flow = ThemeFlow_ThemeFlow.fromObj(obj);
        res.offset = ThemeOffset_ThemeOffset.fromObj(obj);
        res.style = ThemeGraduatedSymbolStyle_ThemeGraduatedSymbolStyle.fromObj(obj);
        return res;
    }

}

SuperMap.ThemeGraduatedSymbol = ThemeGraduatedSymbol_ThemeGraduatedSymbol;

// CONCATENATED MODULE: ./src/common/iServer/ThemeRangeItem.js




/**
 * @class SuperMap.ThemeRangeItem
 * @category  iServer Map Theme
 * @classdesc èå´åæ®µä¸é¢å¾å­é¡¹ç±»ã
 * @description å¨åæ®µä¸é¢å¾ä¸­ï¼å­æ®µå¼æç§æç§åæ®µæ¨¡å¼è¢«åæå¤ä¸ªèå´æ®µï¼æ¯ä¸ªèå´æ®µå³ä¸ºä¸ä¸ªå­é¡¹ï¼åä¸èå´æ®µçè¦ç´ å±äºåä¸ä¸ªåæ®µä¸é¢å¾å­é¡¹ã
 *              æ¯ä¸ªå­é¡¹é½æå¶åæ®µèµ·å§å¼ãç»æ­¢å¼ãåç§°åé£æ ¼ç­ãæ¯ä¸ªåæ®µæè¡¨ç¤ºçèå´ä¸º[start, end)ã
 * @param {Object} options - åæ°ã
 * @param {string} [options.caption] - åæ®µä¸é¢å¾å­é¡¹çæ é¢ã
 * @param {number} [options.end=0] - åæ®µä¸é¢å¾å­é¡¹çç»æ­¢å¼ã
 * @param {number} [options.start=0] - åæ®µä¸é¢å¾å­é¡¹çèµ·å§å¼ã
 * @param {SuperMap.ServerStyle} options.style - åæ®µä¸é¢å¾å­é¡¹çé£æ ¼ã
 * @param {boolean} [options.visible=true] - åæ®µä¸é¢å¾å­é¡¹æ¯å¦å¯è§ã
 */
class ThemeRangeItem_ThemeRangeItem {

    constructor(options) {
        /**
         * @member {string} [SuperMap.ThemeRangeItem.prototype.caption]
         * @description åæ®µä¸é¢å¾å­é¡¹çæ é¢ã
         */
        this.caption = null;

        /**
         * @member {number} [SuperMap.ThemeRangeItem.prototype.end=0]
         * @description åæ®µä¸é¢å¾å­é¡¹çç»æ­¢å¼ï¼å³è¯¥æ®µä¸é¢å¼èå´çæå¤§å¼ã<br>
         *              å¦æè¯¥å­é¡¹æ¯åæ®µä¸­æåä¸ä¸ªå­é¡¹ï¼åè¯¥ç»æ­¢å¼åºå¤§äºåæ®µå­æ®µï¼ThemeRange ç±»ç rangeExpression å±æ§ï¼çæå¤§å¼ï¼è¥è¯¥ç»æ­¢å¼å°äºåæ®µå­æ®µæå¤§å¼ï¼
         *              åå©ä½é¨åç±åé¨éæºå®ä¹å¶é¢è²ï¼å¦æä¸æ¯æåä¸é¡¹ï¼è¯¥ç»æ­¢å¼å¿é¡»ä¸å¶ä¸ä¸å­é¡¹çèµ·å§å¼ç¸åï¼å¦åç³»ç»æåºå¼å¸¸ï¼
         *              å¦æè®¾ç½®äºèå´åæ®µæ¨¡å¼ååæ®µæ°ï¼åä¼èªå¨è®¡ç®æ¯æ®µçèå´ [start, end)ï¼ææ éè®¾ç½® [start, end)ï¼å½ç¶å¯ä»¥è®¾ç½®ï¼é£ä¹ç»æå°±ä¼ææ¨è®¾ç½®çå¼å¯¹åæ®µç»æè¿è¡è°æ´ã
         */
        this.end = 0;

        /**
         * @member {number} [SuperMap.ThemeRangeItem.prototype.start=0]
         * @description åæ®µä¸é¢å¾å­é¡¹çèµ·å§å¼ï¼å³è¯¥æ®µä¸é¢å¼èå´çæå°å¼ã<br>
         *              å¦æè¯¥å­é¡¹æ¯åæ®µä¸­ç¬¬ä¸ä¸ªå­é¡¹ï¼é£ä¹è¯¥èµ·å§å¼å°±æ¯åæ®µçæå°å¼ï¼å¦æå­é¡¹çåºå·å¤§äºç­äº 1 çæ¶åï¼è¯¥èµ·å§å¼å¿é¡»ä¸åä¸å­é¡¹çç»æ­¢å¼ç¸åï¼å¦åç³»ç»ä¼æåºå¼å¸¸ã
         *              å¦æè®¾ç½®äºèå´åæ®µæ¨¡å¼ååæ®µæ°ï¼åä¼èªå¨è®¡ç®æ¯æ®µçèå´ [start, end)ï¼ææ éè®¾ç½® [start, end)ï¼å½ç¶å¯ä»¥è®¾ç½®ï¼é£ä¹ç»æå°±ä¼ææ¨è®¾ç½®çå¼å¯¹åæ®µç»æè¿è¡è°æ´ã
         */
        this.start = 0;

        /**
         * @member {SuperMap.ServerStyle} SuperMap.ThemeRangeItem.prototype.style
         * @description åæ®µä¸é¢å¾å­é¡¹çé£æ ¼ã
         *              æ¯ä¸ä¸ªåæ®µä¸é¢å¾å­é¡¹é½å¯¹åºä¸ç§æ¾ç¤ºé£æ ¼ã
         */
        this.style = new ServerStyle_ServerStyle();

        /**
         * @member {boolean} [SuperMap.ThemeRangeItem.prototype.visible=true]
         * @description åæ®µä¸é¢å¾å­é¡¹æ¯å¦å¯è§ã
         */
        this.visible = true;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.ThemeRangeItem";
    }

    /**
     * @function SuperMap.ThemeRangeItem.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.caption = null;
        me.end = null;
        me.start = null;

        if (me.style) {
            me.style.destroy();
            me.style = null;
        }
        me.visible = null;
    }

    /**
     * @function SuperMap.ThemeRangeItem.prototypetoServerJSONObject
     * @description è½¬æ¢æå¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     * @returns {Object} å¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     */
    toServerJSONObject() {
        var obj = {};
        obj = Util_Util.copyAttributes(obj, this);
        if (obj.style) {
            if (obj.style.toServerJSONObject) {
                obj.style = obj.style.toServerJSONObject();
            }
        }
        return obj;
    }

    /**
     * @function SuperMap.ThemeRangeItem.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·åèå´åæ®µä¸é¢å¾å­é¡¹ç±»ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡ã
     * @returns {SuperMap.ThemeRangeItem} ThemeRangeItem å¯¹è±¡ã
     */
    static fromObj(obj) {
        if (!obj) {
            return;
        }
        var res = new ThemeRangeItem_ThemeRangeItem();
        Util_Util.copy(res, obj);
        res.style = ServerStyle_ServerStyle.fromJson(obj.style);
        return res;
    }
}

SuperMap.ThemeRangeItem = ThemeRangeItem_ThemeRangeItem;

// CONCATENATED MODULE: ./src/common/iServer/ThemeRange.js






/**
 * @class SuperMap.ThemeRange
 * @category  iServer Map Theme
 * @classdesc èå´åæ®µä¸é¢å¾ã
 * @description èå´åæ®µä¸é¢å¾æ¯æç§æå®çåæ®µæ¹æ³ï¼å¦ï¼ç­è·ç¦»åæ®µæ³ï¼å¯¹å­æ®µçå±æ§å¼è¿è¡åæ®µï¼ä½¿ç¨ä¸åçé¢è²æç¬¦å·ï¼çº¿åãå¡«åï¼è¡¨ç¤ºä¸åèå´æ®µè½çå±æ§å¼å¨æ´ä½ä¸çåå¸æåµï¼ä½ç°åºåçå·®å¼ã
 *              å¨åæ®µä¸é¢å¾ä¸­ï¼ä¸é¢å¼æç§æç§åæ®µæ¹å¼è¢«åæå¤ä¸ªèå´æ®µï¼è¦ç´ æ ¹æ®åèªçä¸é¢å¼è¢«åéå°å¶ä¸­ä¸ä¸ªèå´æ®µä¸­ï¼å¨åä¸ä¸ªèå´æ®µä¸­çè¦ç´ ä½¿ç¨ç¸åçé¢è²ï¼å¡«åï¼ç¬¦å·ç­é£æ ¼è¿è¡æ¾ç¤ºã
 *              åæ®µä¸é¢å¾æåºäºçä¸é¢åéå¿é¡»ä¸ºæ°å¼åï¼åæ®µä¸é¢å¾ä¸è¬ç¨æ¥åæ è¿ç»­åå¸ç°è±¡çæ°éæç¨åº¦ç¹å¾ï¼å¦éæ°´éçåå¸ï¼åå£¤ä¾µèå¼ºåº¦çåå¸ç­ã
 * @extends {SuperMap.Theme}
 * @param {Object} options - åæ°ã
 * @param {Array.<SuperMap.ThemeRangeItem>} options.items - åæ®µä¸é¢å¾å­é¡¹æ°ç»ã
 * @param {string} options.rangeExpression - åæ®µå­æ®µè¡¨è¾¾å¼ã
 * @param {number} options.rangeParameter - åæ®µåæ°ã
 * @param {number} options.rangeParameter - åæ®µåæ°ã
 * @param {SuperMap.RangeMode} [options.rangeMode=SuperMap.RangeMode.EQUALINTERVAL] - åæ®µä¸é¢å¾çåæ®µæ¨¡å¼ã
 * @param {SuperMap.ColorGradientType} [options.colorGradientType=SuperMap.ColorGradientType.YELLOW_RED] - æ¸åé¢è²æä¸¾ç±»ã
 * @param {SuperMap.ThemeMemoryData} [options.memoryData] - ä¸é¢å¾åå­æ°æ®ã
 */
class ThemeRange_ThemeRange extends Theme_Theme {

    constructor(options) {
        super("RANGE", options);
        /**
         * @member {string} SuperMap.ThemeRange.prototype.precision
         * @description ç²¾ååº¦
         */
        this.precision = '1.0E-12';

        /**
         * @member {Array.<SuperMap.ThemeRangeItem>} SuperMap.ThemeRange.prototype.items
         * @description åæ®µä¸é¢å¾å­é¡¹æ°ç»ã<br>
         *              å¨åæ®µä¸é¢å¾ä¸­ï¼å­æ®µå¼æç§æç§åæ®µæ¨¡å¼è¢«åæå¤ä¸ªèå´æ®µï¼æ¯ä¸ªèå´æ®µå³ä¸ºä¸ä¸ªå­é¡¹ï¼åä¸èå´æ®µçè¦ç´ å±äºåä¸ä¸ªåæ®µä¸é¢å¾å­é¡¹ã
         *              æ¯ä¸ªå­é¡¹é½æå¶åæ®µèµ·å§å¼ãç»æ­¢å¼ãåç§°åé£æ ¼ç­ãæ¯ä¸ªåæ®µæè¡¨ç¤ºçèå´ä¸º [start, end)ã
         *              å¦æè®¾ç½®äºèå´åæ®µæ¨¡å¼ååæ®µæ°ï¼åä¼èªå¨è®¡ç®æ¯æ®µçèå´ [start, end)ï¼ææ éè®¾ç½® [start, end)ï¼å½ç¶å¯ä»¥è®¾ç½®ï¼é£ä¹ç»æå°±ä¼æç§æ¨è®¾ç½®çå¼å¯¹åæ®µç»æè¿è¡è°æ´ã
         */
        this.items = null;

        /**
         * @member {string} SuperMap.ThemeRange.prototype.rangeExpression
         * @description åæ®µå­æ®µè¡¨è¾¾å¼ã<br>
         *              ç±äºèå´åæ®µä¸é¢å¾åºäºåç§åæ®µæ¹æ³æ ¹æ®ä¸å®çè·ç¦»è¿è¡åæ®µï¼å èèå´åæ®µä¸é¢å¾æåºäºçå­æ®µå¼çæ°æ®ç±»åå¿é¡»ä¸ºæ°å¼åãå¯¹äºå­æ®µè¡¨è¾¾å¼ï¼åªè½ä¸ºæ°å¼åçå­æ®µé´çè¿ç®ã
         */
        this.rangeExpression = null;

        /**
         * @member {SuperMap.RangeMode} [SuperMap.ThemeRange.prototype.rangeMode=SuperMap.RangeMode.EQUALINTERVAL]
         * @description åæ®µä¸é¢å¾çåæ®µæ¨¡å¼ã<br>
         *              å¨åæ®µä¸é¢å¾ä¸­ï¼ä½ä¸ºä¸é¢åéçå­æ®µæè¡¨è¾¾å¼çå¼æç§æç§åæ®µæ¹å¼è¢«åæå¤ä¸ªèå´æ®µã
         *              ç®å SuperMap æä¾çåæ®µæ¹å¼åæ¬ï¼ç­è·ç¦»åæ®µæ³ãå¹³æ¹æ ¹åæ®µæ³ãæ åå·®åæ®µæ³ãå¯¹æ°åæ®µæ³ãç­è®¡æ°åæ®µæ³åèªå®ä¹è·ç¦»æ³ï¼
         *              æ¾ç¶è¿äºåæ®µæ¹æ³æ ¹æ®ä¸å®çè·ç¦»è¿è¡åæ®µï¼å èèå´åæ®µä¸é¢å¾æåºäºçä¸é¢åéå¿é¡»ä¸ºæ°å¼åã
         */
        this.rangeMode = RangeMode.EQUALINTERVAL;

        /**
         * @member {number} SuperMap.ThemeRange.prototype.rangeParameter
         * @description åæ®µåæ°ã
         *              å½åæ®µæ¨¡å¼ä¸ºç­è·ç¦»åæ®µæ³ï¼å¹³æ¹æ ¹åæ®µï¼å¯¹æ°åæ®µæ³ï¼è®¡æ°åæ®µæ³å¶ä¸­ä¸ç§æ¨¡å¼æ¶ï¼è¯¥åæ°ç¨äºè®¾ç½®åæ®µä¸ªæ°ï¼å½åæ®µæ¨¡å¼ä¸ºæ åå·®åæ®µæ³æ¶ï¼
         *              è¯¥åæ°ä¸èµ·ä½ç¨ï¼å½åæ®µæ¨¡å¼ä¸ºèªå®ä¹è·ç¦»æ¶ï¼è¯¥åæ°ç¨äºè®¾ç½®èªå®ä¹è·ç¦»ã
         */
        this.rangeParameter = 0;

        /**
         * @member {SuperMap.ColorGradientType} [SuperMap.ThemeRange.prototype.colorGradientType=SuperMap.ColorGradientType.YELLOW_RED]
         * @description æ¸åé¢è²æä¸¾ç±»ã<br>
         *              æ¸åè²æ¯ç±èµ·å§è²æ ¹æ®ä¸å®ç®æ³éæ¸è¿æ¸¡å°ç»æ­¢è²çä¸ç§æ··ååé¢è²ã
         *              è¯¥ç±»ä½ä¸ºåå¼ä¸é¢å¾åæ°ç±»ãåæ®µä¸é¢å¾åæ°ç±»çå±æ§ï¼è´è´£è®¾ç½®åå¼ä¸é¢å¾ãåæ®µä¸é¢å¾çéè²æ¹æ¡ï¼å¨é»è®¤æåµä¸ä¸é¢å¾ææå­é¡¹ä¼æ ¹æ®è¿ä¸ªéè²
         *              æ¹æ¡å®æå¡«*åãä½å¦æä¸ºæå ä¸ªå­é¡¹çé£æ ¼è¿è¡åç¬è®¾ç½®åï¼è®¾ç½®äº {@link SuperMap.ThemeUniqueItem} æ {@link SuperMap.ThemeRangeItem} ç±»ä¸­Styleå±æ§ï¼ï¼
         *              è¯¥éè²æ¹æ¡å¯¹äºè¿å ä¸ªå­é¡¹å°ä¸èµ·ä½ç¨ã
         */
        this.colorGradientType = ColorGradientType.YELLOW_RED;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.ThemeRange";
    }


    /**
     * @function SuperMap.ThemeRange.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        var me = this;
        if (me.items) {
            if (me.items.length > 0) {
                for (var item in me.items) {
                    me.items[item].destroy();
                    me.items[item] = null;
                }
            }
            me.items = null;
        }
        me.rangeExpression = null;
        me.rangeMode = null;
        me.rangeParameter = null;
        me.colorGradientType = null;
    }

    /**
     * @function SuperMap.ThemeRange.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·åèå´åæ®µä¸é¢å¾ç±»ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡ã
     * @returns {SuperMap.ThemeRange} ThemeRange å¯¹è±¡ã
     */
    static fromObj(obj) {
        if (!obj) {
            return;
        }
        var res = new ThemeRange_ThemeRange();
        Util_Util.copy(res, obj);
        var itemsR = obj.items;
        var len = itemsR ? itemsR.length : 0;
        res.items = [];
        for (var i = 0; i < len; i++) {
            res.items.push(ThemeRangeItem_ThemeRangeItem.fromObj(itemsR[i]));
        }
        return res;
    }

}

SuperMap.ThemeRange = ThemeRange_ThemeRange;

// CONCATENATED MODULE: ./src/common/iServer/UGCLayer.js





/**
 * @class SuperMap.UGCLayer
 * @category  iServer Map Layer
 * @classdesc UGC å¾å±ç±»ã
 * @param {Object} options - åæ°ã 
 * @param {SuperMap.Bounds} options.bounds - å¾å±èå´ã 
 * @param {string} options.name - å¾å±çåç§°ã 
 * @param {SuperMap.UGCLayerType} options.type  - å¾å±ç±»å 
 * @param {string} [options.caption] - å¾å±çæ é¢ã 
 * @param {string} [options.description] - å¾å±çæè¿°ä¿¡æ¯ã 
 * @param {boolean} [options.queryable] - å¾å±ä¸­çå¯¹è±¡æ¯å¦å¯ä»¥æ¥è¯¢ã
 * @param {boolean} [options.subUGCLayers] - æ¯å¦åè®¸å¾å±çç¬¦å·å¤§å°éå¾ç¼©æ¾ã 
 * @param {boolean} [options.visible=false] - å°å¾å¯¹è±¡å¨åä¸èå´åæ¶ï¼æ¯å¦éå æ¾ç¤ºã
 */
class UGCLayer_UGCLayer {

    constructor(options) {
        options =  options || {};
        /**
         * @member {SuperMap.Bounds} SuperMap.UGCLayer.prototype.bounds
         * @description å¾å±èå´ã
         */
        this.bounds = null;

        /**
         * @member {string} [SuperMap.UGCLayer.prototype.caption]
         * @description å¾å±çæ é¢ãé»è®¤æåµä¸å¾å±çæ é¢ä¸å¾å±çåç§°ä¸è´ãå¨å¾ä¾ãå¾å±æ§å¶åè¡¨ä¸­æ¾ç¤ºçå¾å±åç§°å°±æ¯è¯¥å¾å±çæ é¢å¼ã
         */
        this.caption = null;

        /**
         * @member {string} SuperMap.UGCLayer.prototype.description
         * @description å¾å±çæè¿°ä¿¡æ¯ã
         */
        this.description = null;

        /**
         * @member {string} SuperMap.UGCLayer.prototype.name
         * @description å¾å±çåç§°ãå¾å±çåç§°å¨å¾å±æå¨çå°å¾ä¸­å¯ä¸æ è¯æ­¤å¾å±ãè¯¥å±æ§åºåå¤§å°åã
         */
        this.name = null;

        /**
         * @member {boolean} SuperMap.UGCLayer.prototype.queryable
         * @description å¾å±ä¸­çå¯¹è±¡æ¯å¦å¯ä»¥æ¥è¯¢ã
         */
        this.queryable = null;

        /**
         * @member {Array} SuperMap.UGCLayer.prototype.subLayers
         * @description å­å¾å±éã
         */
        this.subLayers = null;

        /**
         * @member {SuperMap.UGCLayerType} SuperMap.UGCLayer.prototype.type
         * @description å¾å±ç±»åã
         */
        this.type = null;

        /**
         * @member {boolean} SuperMap.UGCLayer.prototype.visible
         * @description å°å¾å¯¹è±¡å¨åä¸èå´åæ¶ï¼æ¯å¦éå æ¾ç¤ºã
         */
        this.visible = null;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.UGCLayer";
    }

    /**
     * @function SuperMap.UGCLayer.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        Util_Util.reset(me);
    }

    /**
     * @function SuperMap.UGCLayer.prototype.fromJson
     * @description å°æå¡ç«¯ JSON å¯¹è±¡è½¬æ¢æå½åå®¢æ·ç«¯å¯¹è±¡ã
     * @param {Object} jsonObject - è¦è½¬æ¢ç JSON å¯¹è±¡ã
     */
    fromJson(jsonObject) {
        jsonObject = jsonObject ? jsonObject : {};
        Util_Util.extend(this, jsonObject);
        var b = this.bounds;
        if (b) {
            this.bounds = new Bounds_Bounds(b.leftBottom.x, b.leftBottom.y, b.rightTop.x, b.rightTop.y);
        }
    }


    /**
     * @function SuperMap.UGCLayer.prototype.toServerJSONObject
     * @description è½¬æ¢æå¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     * @returns {Object} å¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     */
    toServerJSONObject() {
        var jsonObject = {};
        jsonObject = Util_Util.copyAttributes(jsonObject, this);
        if (jsonObject.bounds) {
            if (jsonObject.bounds.toServerJSONObject) {
                jsonObject.bounds = jsonObject.bounds.toServerJSONObject();
            }
        }
        return jsonObject;
    }

}

SuperMap.UGCLayer = UGCLayer_UGCLayer;
// CONCATENATED MODULE: ./src/common/iServer/OverlapDisplayedOptions.js




/**
 * @class SuperMap.OverlapDisplayedOptions
 * @category iServer Map Layer
 * @classdesc å°å¾åçè¿æ»¤æ¾ç¤ºéé¡¹ã
 * @description å¨ææ¬æä¸é¢å¾åç´ æ¾ç¤ºè¾å¯éçåºåï¼ææ¬ä¹é´æä¸é¢åç´ ä¹é´ä¼åçç¸äºåççç°è±¡ï¼
 * è¯¥ç±»å¯ä»¥åå«æ§å¶åç§ç±»åçå¯¹è±¡çåçæ¾ç¤ºæåµï¼è¿èå¾å¥½å°å¤çå°å¾ä¸­åç§ç±»åå¯¹è±¡çåçæ¾ç¤ºé®é¢ã
 * @param {Object} options - åæ°ã
 * @param {boolean} [options.allowPointOverlap=true] - ç¹åç¹åçæ¶æ¯å¦æ¾ç¤ºåççç¹å¯¹è±¡ã
 * @param {boolean} [options.allowPointWithTextDisplay=true] - æ ç­¾åç¸åºæ®éå¾å±ä¸çç¹æ¯å¦ä¸èµ·è¿æ»¤æ¾ç¤º,å¦æè¿æ»¤æ¾ç¤ºï¼
 *                                                             åªä»¥å¾å±éåä¸­å¯¹åºæ°æ®éçç´¢å¼æå°çå¾å±çç¹é£æ ¼æ¥ç»å¶ç¹ã
 * @param {boolean} [options.allowTextOverlap=false] - ææ¬åçæ¶æ¯å¦æ¾ç¤ºåççææ¬å¯¹è±¡ã
 * @param {boolean} [options.allowTextAndPointOverlap=true] - ææ¬åç¹åçæ¶æ¯å¦æ¾ç¤ºåççææ¬æç¹å¯¹è±¡ï¼æ­¤å±æ§ä¸å¤çææ¬ä¹é´çåçåç¹ä¹é´çåçï¼ã
 * @param {boolean} [options.allowThemeGraduatedSymbolOverlap=false] - ç­çº§ç¬¦å·åç´ åçæ¶æ¯å¦æ¾ç¤ºåççç­çº§ç¬¦å·åç´ ã
 * @param {boolean} [options.allowThemeGraphOverlap=false] - ç»è®¡ä¸é¢å¾åç´ åçæ¶æ¯å¦æ¾ç¤ºåççç»è®¡ä¸é¢å¾åç´ ã
 * @param {number} [options.horizontalOverlappedSpaceSize=0] - ä¸¤ä¸ªå¯¹è±¡ä¹é´çæ¨ªååçé´è·ï¼åä½ä¸º 0.1 æ¯«ç±³ï¼è· verticalOverlappedSpaceSize ç»åä½¿ç¨ï¼
 *                                                             å½ä¸¤ä¸ªå¯¹è±¡çæ¨ªåé´è·å°äºè¯¥å¼ï¼ä¸çºµåé´è·å°äº verticalOverlappedSpaceSize æ¶è®¤ä¸ºåçã
 * @param {number} [options.verticalOverlappedSpaceSize=0] - ä¸¤ä¸ªå¯¹è±¡ä¹é´ççºµååçé´è·ï¼åä½ä¸º 0.1 æ¯«ç±³ï¼è· horizontalOverlappedSpaceSize ç»åä½¿ç¨ï¼
 *                                                           å½ä¸¤ä¸ªå¯¹è±¡ççºµåé´è·å°äºè¯¥å¼ï¼ä¸æ¨ªåé´è·å°äº horizontalOverlappedSpaceSize æ¶è®¤ä¸ºåçã
 */
class OverlapDisplayedOptions_OverlapDisplayedOptions {

    constructor(options) {
        options = options || {};
        /**
         * @member {boolean} [SuperMap.OverlapDisplayedOptions.prototype.allowPointOverlap=true]
         * @description ç¹åç¹åçæ¶æ¯å¦æ¾ç¤ºåççç¹å¯¹è±¡ã
         */
        this.allowPointOverlap = true;

        /**
         * @member {boolean} [SuperMap.OverlapDisplayedOptions.prototype.allowPointWithTextDisplay=true]
         * @description æ ç­¾åç¸åºæ®éå¾å±ä¸çç¹æ¯å¦ä¸èµ·è¿æ»¤æ¾ç¤ºï¼å¦æè¿æ»¤æ¾ç¤ºï¼
         * åªä»¥å¾å±éåä¸­å¯¹åºæ°æ®éçç´¢å¼æå°çå¾å±çç¹é£æ ¼æ¥ç»å¶ç¹ã
         */
        this.allowPointWithTextDisplay = true;

        /**
         * @member {boolean} [SuperMap.OverlapDisplayedOptions.prototype.allowTextOverlap=false]
         * @description ææ¬åçæ¶æ¯å¦æ¾ç¤ºåççææ¬å¯¹è±¡ã
         */
        this.allowTextOverlap = false;

        /**
         * @member {boolean} [SuperMap.OverlapDisplayedOptions.prototype.allowTextAndPointOverlap=true]
         * @description  ææ¬åç¹åçæ¶æ¯å¦æ¾ç¤ºåççææ¬æç¹å¯¹è±¡ï¼æ­¤å±æ§ä¸å¤çææ¬ä¹é´çåçåç¹ä¹é´çåçï¼ã
         */
        this.allowTextAndPointOverlap = true;

        /**
         * @member {boolean} [SuperMap.OverlapDisplayedOptions.prototype.allowThemeGraduatedSymbolOverlap=false]
         * @description ç­çº§ç¬¦å·åç´ åçæ¶æ¯å¦æ¾ç¤ºåççç­çº§ç¬¦å·åç´ ã
         */
        this.allowThemeGraduatedSymbolOverlap = false;

        /**
         * @member {boolean} [SuperMap.OverlapDisplayedOptions.prototype.allowThemeGraphOverlap=false]
         * @description ç»è®¡ä¸é¢å¾åç´ åçæ¶æ¯å¦æ¾ç¤ºåççç»è®¡ä¸é¢å¾åç´ ã
         */
        this.allowThemeGraphOverlap = false;

        /**
         * @member {number} [SuperMap.OverlapDisplayedOptions.prototype.horizontalOverlappedSpaceSize=0]
         * @description ä¸¤ä¸ªå¯¹è±¡ä¹é´çæ¨ªååçé´è·ï¼åä½ä¸º0.1æ¯«ç±³ï¼è· verticalOverlappedSpaceSize ç»åä½¿ç¨ï¼
         * å½ä¸¤ä¸ªå¯¹è±¡çæ¨ªåé´è·å°äºè¯¥å¼ï¼ä¸çºµåé´è·å°äº verticalOverlappedSpaceSize æ¶è®¤ä¸ºåçã
         */
        this.horizontalOverlappedSpaceSize = 0;

        /**
         * @member {number} [SuperMap.OverlapDisplayedOptions.prototype.verticalOverlappedSpaceSize=0]
         * @description ä¸¤ä¸ªå¯¹è±¡ä¹é´ççºµååçé´è·ï¼åä½ä¸º0.1æ¯«ç±³ï¼è· horizontalOverlappedSpaceSize ç»åä½¿ç¨ï¼
         * å½ä¸¤ä¸ªå¯¹è±¡ççºµåé´è·å°äºè¯¥å¼ï¼ä¸æ¨ªåé´è·å°äº horizontalOverlappedSpaceSize æ¶è®¤ä¸ºåçã
         */
        this.verticalOverlappedSpaceSize = 0;

        Util_Util.extend(this, options);
        this.ugcLayer = new UGCLayer_UGCLayer(options);

        this.CLASS_NAME = "SuperMap.OverlapDisplayedOptions";
    }

    /**
     * @function SuperMap.OverlapDisplayedOptions.prototype.destroy
     * @description éæ¾èµæºï¼å°èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        Util_Util.reset(this);
    }


    /**
     * @function SuperMap.OverlapDisplayedOptions.prototype.fromJson
     * @description å°æå¡ç«¯ JSON å¯¹è±¡è½¬æ¢æå½åå®¢æ·ç«¯å¯¹è±¡ã
     * @param {Object} jsonObject - è¦è½¬æ¢ç JSON å¯¹è±¡ã
     */
    fromJson(jsonObject) {
        this.ugcLayer.fromJson.apply(this, [jsonObject]);
    }


    /**
     * @function SuperMap.OverlapDisplayedOptions.prototype.toServerJSONObject
     * @description è½¬æ¢æå¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     * @returns {Object} å¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     */
    toServerJSONObject() {
        var jsonObject = this.ugcLayer.toServerJSONObject.apply(this, arguments);
        return jsonObject;
    }


    /**
     * @function SuperMap.OverlapDisplayedOptions.prototype.toString
     * @description è½¬æ¢æå¯¹åºç tileLayer è¯·æ±ç¦çæ¶ overlapDisplayedOptions åæ°ã
     * @returns {string} å¯¹åºç tileLayer è¯·æ±ç¦çæ¶ overlapDisplayedOptions åæ°ã
     */

    toString() {
        var jsonObject = this.ugcLayer.toServerJSONObject.apply(this, arguments);
        var str = "{";
        for (var attr in jsonObject) {
            if (jsonObject.hasOwnProperty(attr)) {
                str += "'" + attr + "':" + jsonObject[attr] + ",";
            }
        }
        str = str.substr(0, str.length - 1);
        str += "}";
        return str;
    }

}

SuperMap.OverlapDisplayedOptions = OverlapDisplayedOptions_OverlapDisplayedOptions;
// CONCATENATED MODULE: ./src/common/iServer/UGCMapLayer.js





/**
 * @class SuperMap.UGCMapLayer
 * @category  iServer Map Layer
 * @classdesc UGC å°å¾å¾å±ç±»ã
 * @extends {SuperMap.UGCLayer}
 * @param {Object} options - åæ°ã 
 * @param {boolean} [options.completeLineSymbolDisplayed] - æ¯å¦æ¾ç¤ºå®æ´çº¿åã 
 * @param {number} [options.maxScale] - å°å¾æå¤§æ¯ä¾å°ºã 
 * @param {number} [options.minScale] - å°å¾æå°æ¯ä¾å°ºã 
 * @param {number} [options.minVisibleGeometrySize] - å ä½å¯¹è±¡çæå°å¯è§å¤§å°ï¼ä»¥åç´ ä¸ºåä½ã 
 * @param {number} [options.opaqueRate] - å¾å±çä¸éæåº¦ã 
 * @param {boolean} [options.symbolScalable] - æ¯å¦åè®¸å¾å±çç¬¦å·å¤§å°éå¾ç¼©æ¾ã 
 * @param {number} [options.symbolScale] - å¾å±çç¬¦å·ç¼©æ¾åºåæ¯ä¾å°ºã 
 * @param {boolean} [options.overlapDisplayed=false] - å°å¾å¯¹è±¡å¨åä¸èå´åæ¶ï¼æ¯å¦éå æ¾ç¤ºã 
 * @param {SuperMap.OverlapDisplayedOptions} [options.overlapDisplayedOptions] - å°å¾çåçè¿æ»¤æ¾ç¤ºéé¡¹ï¼å½overlapDisplayed ä¸º false æ¶ææã
 */
class UGCMapLayer_UGCMapLayer extends UGCLayer_UGCLayer {

    constructor(options) {
        options = options || {};
        super(options);
        /**
         * @member {boolean} SuperMap.UGCMapLayer.prototype.completeLineSymbolDisplayed
         * @description æ¯å¦æ¾ç¤ºå®æ´çº¿åã
         */
        this.completeLineSymbolDisplayed = null;

        /**
         * @member {number} SuperMap.UGCMapLayer.prototype.maxScale
         * @description å°å¾æå¤§æ¯ä¾å°ºã
         */
        this.maxScale = null;

        /**
         * @member {number} SuperMap.UGCMapLayer.prototype.minScale
         * @description å°å¾æå°æ¯ä¾å°ºã
         */
        this.minScale = null;

        /**
         * @member {number} SuperMap.UGCMapLayer.prototype.minVisibleGeometrySize
         * @description å ä½å¯¹è±¡çæå°å¯è§å¤§å°ï¼ä»¥åç´ ä¸ºåä½ã
         */
        this.minVisibleGeometrySize = null;

        /**
         * @member {number} SuperMap.UGCMapLayer.prototype.opaqueRate
         * @description å¾å±çä¸éæåº¦ã
         */
        this.opaqueRate = null;
        /**
         * @member {boolean} SuperMap.UGCMapLayer.prototype.symbolScalable
         * @description æ¯å¦åè®¸å¾å±çç¬¦å·å¤§å°éå¾ç¼©æ¾ã
         */
        this.symbolScalable = null;

        /**
         * @member {number} SuperMap.UGCMapLayer.prototype.symbolScale
         * @description å¾å±çç¬¦å·ç¼©æ¾åºåæ¯ä¾å°ºã
         */
        this.symbolScale = null;

        /**
         * @member {boolean} [SuperMap.UGCMapLayer.prototype.overlapDisplayed=false]
         * @description å°å¾å¯¹è±¡å¨åä¸èå´åæ¶ï¼æ¯å¦éå æ¾ç¤ºã
         */
        this.overlapDisplayed = null;

        /**
         * @member {SuperMap.OverlapDisplayedOptions} SuperMap.UGCMapLayer.prototype.overlapDisplayedOptions
         * @description å°å¾çåçè¿æ»¤æ¾ç¤ºéé¡¹ï¼å½ overlapDisplayed ä¸º false æ¶ææã
         */
        this.overlapDisplayedOptions = null;

        this.CLASS_NAME = "SuperMap.UGCMapLayer";
    }

    /**
     * @function SuperMap.UGCMapLayer.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        Util_Util.reset(this);
    }


    /**
     * @function SuperMap.UGCMapLayer.prototype.fromJson
     * @description å°æå¡ç«¯ JSON å¯¹è±¡è½¬æ¢æå½åå®¢æ·ç«¯å¯¹è±¡
     * @param {Object} jsonObject - è¦è½¬æ¢ç JSON å¯¹è±¡ã
     */
    fromJson(jsonObject) {
        super.fromJson(jsonObject);
    }


    /**
     * @function SuperMap.UGCMapLayer.prototype.toServerJSONObject
     * @description è½¬æ¢æå¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     * @returns {Object} å¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     */
    toServerJSONObject() {
        return super.toServerJSONObject();
    }

}

SuperMap.UGCMapLayer = UGCMapLayer_UGCMapLayer;

// CONCATENATED MODULE: ./src/common/iServer/UGCSubLayer.js







/**
 * @class SuperMap.UGCSubLayer
 * @category  iServer Map Layer
 * @classdesc å°å¾æå¡å¾å±å±æ§ä¿¡æ¯ç±»ãå½±åå¾å±ï¼Imageï¼ãä¸é¢å¾å±ï¼ServerThemeï¼ãæ æ ¼å¾å±ï¼Gridï¼ãç¢éå¾å±ï¼Vectorï¼ç­å¾å±åç»§æ¿è¯¥ç±»ã
 * @extends {SuperMap.UGCMapLayer}
 * @param {Object} options - åæ°ã 
 * @param {SuperMap.DatasetInfo} options.datasetInfo - æ°æ®éä¿¡æ¯ã 
 * @param {string} [options.displayFilter] - å¾å±æ¾ç¤ºè¿æ»¤æ¡ä»¶ã 
 * @param {SuperMap.JoinItem} [options.joinItems] - è¿æ¥ä¿¡æ¯ç±»ã 
 * @param {string} [options.representationField] - å­å¨å¶å¾è¡¨è¾¾ä¿¡æ¯çå­æ®µã 
 * @param {SuperMap.LayerType} [options.ugcLayerType] - å¾å±ç±»åã
 */
class UGCSubLayer_UGCSubLayer extends UGCMapLayer_UGCMapLayer {


    constructor(options) {
        options = options || {};
        super(options);
        /**
         * @member {SuperMap.DatasetInfo} SuperMap.UGCSubLayer.prototype.datasetInfo
         * @description æ°æ®éä¿¡æ¯ã
         */
        this.datasetInfo = null;

        /**
         * @member {string} SuperMap.UGCSubLayer.prototype.displayFilter
         * @description å¾å±æ¾ç¤ºè¿æ»¤æ¡ä»¶ã
         */
        this.displayFilter = null;

        /**
         * @member {SuperMap.JoinItem} SuperMap.UGCSubLayer.prototype.joinItems
         * @description è¿æ¥ä¿¡æ¯ç±»ã
         */
        this.joinItems = null;

        /**
         * @member {string} SuperMap.UGCSubLayer.prototype.representationField
         * @description å­å¨å¶å¾è¡¨è¾¾ä¿¡æ¯çå­æ®µã
         */
        this.representationField = null;

        /**
         * @member {SuperMap.LayerType} SuperMap.UGCSubLayer.prototype.ugcLayerType
         * @description å¾å±ç±»åã
         */
        this.ugcLayerType = null;

        this.CLASS_NAME = "SuperMap.UGCSubLayer";
    }


    /**
     * @function SuperMap.UGCSubLayer.prototype.fromJson
     * @description å°æå¡ç«¯ JSON å¯¹è±¡è½¬æ¢æå½åå®¢æ·ç«¯å¯¹è±¡
     * @param {Object} jsonObject - è¦è½¬æ¢ç JSON å¯¹è±¡ã
     */
    fromJson(jsonObject) {
        super.fromJson(jsonObject);
        if (this.datasetInfo) {
            this.datasetInfo = new DatasetInfo_DatasetInfo(this.datasetInfo);
        }
        if (this.joinItems && this.joinItems.length) {
            var newJoinItems = [];
            for (var i = 0; i < this.joinItems.length; i++) {
                newJoinItems[i] = new JoinItem_JoinItem(this.joinItems[i]);
            }
            this.joinItems = newJoinItems;
        }
    }

    /**
     * @function SuperMap.UGCSubLayer.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        Util_Util.reset(this);
    }


    /**
     * @function SuperMap.UGCSubLayer.prototype.toServerJSONObject
     * @description è½¬æ¢æå¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     * @returns {Object} å¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     */
    toServerJSONObject() {
        var jsonObject = super.toServerJSONObject();
        if (jsonObject.joinItems) {
            var joinItems = [];
            for (var i = 0; i < jsonObject.joinItems.length; i++) {
                if (jsonObject.joinItems[i].toServerJSONObject) {
                    joinItems[i] = jsonObject.joinItems[i].toServerJSONObject();
                }

            }
            jsonObject.joinItems = joinItems;
        }
        if (jsonObject.datasetInfo) {
            if (jsonObject.datasetInfo.toServerJSONObject) {
                jsonObject.datasetInfo = jsonObject.datasetInfo.toServerJSONObject();
            }
        }
        return jsonObject;
    }

}

SuperMap.UGCSubLayer = UGCSubLayer_UGCSubLayer;

// CONCATENATED MODULE: ./src/common/iServer/ServerTheme.js











/**
 * @class SuperMap.ServerTheme
 * @category  iServer Map Theme
 * @classdesc UGC ä¸é¢å¾å¾å±ç±»ã
 * @extends {SuperMap.UGCSubLayer}
 * @param {SuperMap.Theme} theme - ä¸é¢å¾å¯¹è±¡ã
 * @param {SuperMap.LonLat} themeElementPosition - ä¸é¢å¾åç´ ä½ç½®ã
 */
class ServerTheme_ServerTheme extends UGCSubLayer_UGCSubLayer {

    constructor(options) {
        options = options || {};
        super(options);

        /**
         * @member {SuperMap.Theme} SuperMap.ServerTheme.prototype.theme
         * @description ä¸é¢å¾å¯¹è±¡ã
         */
        this.theme = null;

        /**
         * @member {SuperMap.LonLat} SuperMap.ServerTheme.prototype.themeElementPosition
         * @description ä¸é¢å¾åç´ ä½ç½®ã
         */
        this.themeElementPosition = null;

        this.CLASS_NAME = "SuperMap.ServerTheme";

    }


    /**
     * @function SuperMap.ServerTheme.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        Util_Util.reset(this);
    }


    /**
     * @function SuperMap.ServerTheme.prototype.fromJson
     * @description å°æå¡ç«¯ JSON å¯¹è±¡è½¬æ¢æå½åå®¢æ·ç«¯å¯¹è±¡
     * @param {Object} jsonObject - è¦è½¬æ¢ç JSON å¯¹è±¡ã
     */
    fromJson(jsonObject) {
        super.fromJson(jsonObject);
        var themeObj = this.theme;
        var themeT = themeObj && themeObj.type;
        switch (themeT) {
            case 'LABEL':
                this.theme = ThemeLabel_ThemeLabel.fromObj(themeObj);
                break;
            case 'UNIQUE':
                this.theme = ThemeUnique_ThemeUnique.fromObj(themeObj);
                break;
            case 'GRAPH':
                this.theme = ThemeGraph_ThemeGraph.fromObj(themeObj);
                break;
            case 'DOTDENSITY':
                this.theme = ThemeDotDensity_ThemeDotDensity.fromObj(themeObj);
                break;
            case 'GRADUATEDSYMBOL':
                this.theme = ThemeGraduatedSymbol_ThemeGraduatedSymbol.fromObj(themeObj);
                break;
            case 'RANGE':
                this.theme = ThemeRange_ThemeRange.fromObj(themeObj);
                break;
            default:
                break;
        }
        if (this.themeElementPosition) {
            //å¾æµè¯
            this.themeElementPosition = new LonLat_LonLat(this.themeElementPosition.x, this.themeElementPosition.y);
        }
    }

    /**
     * @function SuperMap.ServerTheme.prototype.toServerJSONObject
     * @description è½¬æ¢æå¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     */
    toServerJSONObject() {
        //æ®éå±æ§ç´æ¥èµå¼
        var jsonObject = super.toServerJSONObject();

        if (jsonObject.themeElementPosition) {
            if (jsonObject.themeElementPosition.toServerJSONObject) {
                jsonObject.themeElementPosition = jsonObject.themeElementPosition.toServerJSONObject();
            }
        }
        if (jsonObject.theme) {
            if (jsonObject.theme.toServerJSONObject) {
                jsonObject.theme = jsonObject.theme.toServerJSONObject();
            }
        }
        return jsonObject;
    }

}

SuperMap.ServerTheme = ServerTheme_ServerTheme;

// CONCATENATED MODULE: ./src/common/iServer/Grid.js








/**
 * @class SuperMap.Grid
 * @category iServer Map Layer
 * @classdesc UGC æ æ ¼å¾å±ç±»ã
 * @extends {SuperMap.UGCSubLayer}
 * @param {Object} options - åæ°ã 
 * @param {Array.<Object>} [options.colorDictionary] - é¢è²å¯¹ç§è¡¨å¯¹è±¡ã 
 * @param {number} [options.brightness] - Grid å¾å±çäº®åº¦ã 
 * @param {SuperMap.ColorGradientType} [options.colorGradientType] - é¢è²æ¸åæä¸¾ã 
 * @param {SuperMap.ServerColor} [options.colors] - é¢è²è¡¨å¯¹è±¡ã 
 * @param {number} [options.contrast] - Grid å¾å±çå¯¹æ¯åº¦ã 
 * @param {SuperMap.GridType} [options.gridType] - æ ¼ç½ç±»åã 
 * @param {number} [options.horizontalSpacing] - æ ¼ç½æ°´å¹³é´éå¤§å°ã 
 * @param {boolean} [options.sizeFixed] - æ ¼ç½æ¯å¦åºå®å¤§å°ï¼å¦æä¸åºå®å¤§å°ï¼åæ ¼ç½éçå°å¾ç¼©æ¾ã 
 * @param {SuperMap.ServerStyle} [options.solidStyle] - æ ¼ç½å®çº¿çæ ·å¼ã 
 * @param {SuperMap.ServerColor} [options.specialColor] - æ æ ¼æ°æ®éæ å¼æ°æ®çé¢è²ã 
 * @param {number} [options.specialValue] - å¾å±çç¹æ®å¼ã 
 * @param {boolean} [options.specialValueTransparent] - å¾å±çç¹æ®å¼ï¼specialValueï¼æå¤åºåæ¯å¦éæã 
 * @param {number} [options.verticalSpacing] - æ ¼ç½åç´é´éå¤§å°ã
 */
class Grid_Grid extends UGCSubLayer_UGCSubLayer {


    constructor(options) {
        options = options || {};
        super(options);

        /**
         * @member {Array.<SuperMap.ColorDictionary>} SuperMap.Grid.prototype.colorDictionarys
         * @description é¢è²å¯¹ç§è¡¨å¯¹è±¡ã
         */
        this.colorDictionarys = null;

        /**
         * @member {number} SuperMap.Grid.prototype.brightness
         * @description Grid å¾å±çäº®åº¦ã
         */
        this.brightness = null;

        /**
         * @member {SuperMap.ColorGradientType} SuperMap.Grid.prototype.colorGradientType
         * @description æ¸åé¢è²æä¸¾å¼ã
         */
        this.colorGradientType = null;

        /**
         * @member {SuperMap.ServerColor} SuperMap.Grid.prototype.colors
         * @description é¢è²è¡¨å¯¹è±¡ã
         */
        this.colors = null;

        /**
         * @member {number} SuperMap.Grid.prototype.contrast
         * @description Grid å¾å±çå¯¹æ¯åº¦ã
         */
        this.contrast = null;

        /**
         * @member {SuperMap.ServerStyle} SuperMap.Grid.prototype.dashStyle
         * @description æ æ ¼æ°æ®éç¹æ®å¼æ°æ®çé¢è²ã
         */
        this.dashStyle = null;

        /**
         * @member {SuperMap.GridType} SuperMap.Grid.prototype.gridType
         * @description æ ¼ç½ç±»åã
         */
        this.gridType = null;

        /**
         * @member {number} SuperMap.Grid.prototype.horizontalSpacing
         * @description æ ¼ç½æ°´å¹³é´éå¤§å°ã
         */
        this.horizontalSpacing = null;

        /**
         * @member {boolean} SuperMap.Grid.prototype.sizeFixed
         * @description æ ¼ç½æ¯å¦åºå®å¤§å°ï¼å¦æä¸åºå®å¤§å°ï¼åæ ¼ç½éçå°å¾ç¼©æ¾ã
         */
        this.sizeFixed = null;

        /**
         * @member {SuperMap.ServerStyle} SuperMap.Grid.prototype.solidStyle
         * @description æ ¼ç½å®çº¿çæ ·å¼ã
         */
        this.solidStyle = null;

        /**
         * @member {SuperMap.ServerColor} SuperMap.Grid.prototype.specialColor
         * @description æ æ ¼æ°æ®éæ å¼æ°æ®çé¢è²ã
         */
        this.specialColor = null;

        /**
         * @member {number} SuperMap.Grid.prototype.specialValue
         * @description å¾å±çç¹æ®å¼ã
         */
        this.specialValue = null;

        /**
         * @member {boolean} SuperMap.Grid.prototype.specialValueTransparent
         * @description å¾å±çç¹æ®å¼ï¼specialValueï¼æå¤åºåæ¯å¦éæã
         */
        this.specialValueTransparent = null;

        /**
         * @member {number} SuperMap.Grid.prototype.verticalSpacing
         * @description æ ¼ç½åç´é´éå¤§å°ã
         */
        this.verticalSpacing = null;


        this.CLASS_NAME = "SuperMap.Grid";
    }

    /**
     * @function SuperMap.Grid.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        super.destroy();
        Util_Util.reset(this);
    }

    /**
     * @function SuperMap.Grid.prototype.fromJson
     * @description å°æå¡ç«¯ JSON å¯¹è±¡è½¬æ¢æå½åå®¢æ·ç«¯å¯¹è±¡ã
     * @param {Object} jsonObject - è¦è½¬æ¢ç JSON å¯¹è±¡ã
     */
    fromJson(jsonObject) {
        super.fromJson(jsonObject);
        if (this.specialColor) {
            this.specialColor = new ServerColor(this.specialColor.red,
                this.specialColor.green,
                this.specialColor.blue);
        }
        if (this.colors) {
            var colors = [],
                color;
            for (var i in this.colors) {
                color = this.colors[i];
                colors.push(new ServerColor(color.red, color.green, color.blue));
            }
            this.colors = colors;
        }
        if (this.dashStyle) {
            this.dashStyle = new ServerStyle_ServerStyle(this.dashStyle);
        }
        if (this.solidStyle) {
            this.solidStyle = new ServerStyle_ServerStyle(this.solidStyle);
        }
        if (this.colorDictionary) {
            var colorDics = [],
                colorDic;
            for (var key in this.colorDictionary) {
                colorDic = this.colorDictionary[key];
                colorDics.push(new ColorDictionary_ColorDictionary({elevation: key, color: colorDic}));
            }
            this.colorDictionarys = colorDics;
        }
        delete this.colorDictionary;
    }

    /**
     * @function SuperMap.Grid.prototype.toServerJSONObject
     * @description è½¬æ¢æå¯¹åºç JSON å¯¹è±¡ã
     * @returns JSON å¯¹è±¡ã
     */
    toServerJSONObject() {
        var jsonObject = super.toServerJSONObject();

        if (jsonObject.dashStyle) {
            if (jsonObject.dashStyle.toServerJSONObject) {
                jsonObject.dashStyle = jsonObject.dashStyle.toServerJSONObject();
            }
        }
        if (jsonObject.solidStyle) {
            if (jsonObject.solidStyle.toServerJSONObject) {
                jsonObject.solidStyle = jsonObject.solidStyle.toServerJSONObject();
            }
        }
        return jsonObject;
    }

}

SuperMap.Grid = Grid_Grid;

// CONCATENATED MODULE: ./src/common/iServer/Image.js






/**
 * @class SuperMap.Image
 * @category iServer Map Layer
 * @classdesc UGC å½±åå¾å±ç±» 
 * @extends {SuperMap.UGCSubLayer}
 * @param {Object} options - åæ°ã 
 * @param {SuperMap.ColorSpaceType} [options.colorSpaceType] - è¿åå½±åå¾å±çè²å½©æ¾ç¤ºæ¨¡å¼ã
 * @param {number} [options.brightness] - å½±åå¾å±çäº®åº¦ã
 * @param {Array.<number>} [options.displayBandIndexes] - è¿åå½åå½±åå¾å±æ¾ç¤ºçæ³¢æ®µç´¢å¼ã
 * @param {number} [options.contrast] - å½±åå¾å±çå¯¹æ¯åº¦ã
 * @param {boolean} [options.transparent] - æ¯å¦èæ¯éæã
 * @param {SuperMap.ServerColor} [options.transparentColor] - è¿åèæ¯éæè²ã
 * @param {number} [options.transparentColorTolerance] - èæ¯éæè²å®¹éã
 */
class Image_UGCImage extends UGCSubLayer_UGCSubLayer {


    constructor(options) {
        options = options || {};
        super(options);
        /**
         * @member {number} SuperMap.Image.prototype.brightness
         * @description å½±åå¾å±çäº®åº¦ã
         */
        this.brightness = null;

        /**
         * @member {SuperMap.ColorSpaceType} SuperMap.Image.prototype.colorSpaceType
         * @description è¿åå½±åå¾å±çè²å½©æ¾ç¤ºæ¨¡å¼ã
         */
        this.colorSpaceType = null;

        /**
         * @member {number} SuperMap.Image.prototype.contrast
         * @description å½±åå¾å±çå¯¹æ¯åº¦ã
         */
        this.contrast = null;

        /**
         * @member {Array.<number>} SuperMap.Image.prototype.displayBandIndexes
         * @description è¿åå½åå½±åå¾å±æ¾ç¤ºçæ³¢æ®µç´¢å¼ã
         */
        this.displayBandIndexes = null;

        /**
         * @member {boolean} SuperMap.Image.prototype.transparent
         * @description æ¯å¦èæ¯éæã
         */
        this.transparent = null;

        /**
         * @member {SuperMap.ServerColor} SuperMap.Image.prototype.transparentColor
         * @description è¿åèæ¯éæè²ã
         */
        this.transparentColor = null;

        /**
         * @member {number} SuperMap.Image.prototype.transparentColorTolerance
         * @description èæ¯éæè²å®¹éã
         */
        this.transparentColorTolerance = null;

        this.CLASS_NAME = "SuperMap.Image";
    }

    /**
     * @function SuperMap.Image.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        Util_Util.reset(this);
    }

    /**
     * @function SuperMap.Image.prototype.fromJson
     * @description å°æå¡ç«¯ JSON å¯¹è±¡è½¬æ¢æå½åå®¢æ·ç«¯å¯¹è±¡ã
     * @param {Object} jsonObject - è¦è½¬æ¢ç JSON å¯¹è±¡ã
     */
    fromJson(jsonObject) {
        super.fromJson(jsonObject);
        if (this.transparentColor) {
            this.transparentColor = new ServerColor(this.transparentColor.red,
                this.transparentColor.green,
                this.transparentColor.blue);
        }
    }

    /**
     * @function SuperMap.Image.prototype.toServerJSONObject
     * @description è½¬æ¢æå¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     */
    toServerJSONObject() {
        return super.toServerJSONObject();
    }


}

SuperMap.Image = Image_UGCImage;

// CONCATENATED MODULE: ./src/common/iServer/Vector.js





/**
 * @class SuperMap.Vector
 * @category  iServer Map TileFeature
 * @classdesc UGC ç¢éå¾å±ç±»ã
 * @extends {SuperMap.UGCSubLayer}
 * @param {Object} options - åæ°ã
 * @param {SuperMap.ServerStyle} [options.style] - ç¢éå¾å±çé£æ ¼ã
 */

class iServer_Vector_Vector extends UGCSubLayer_UGCSubLayer {

    constructor(options) {
        options = options || {};
        super(options);
        /**
         * @member {SuperMap.ServerStyle} SuperMap.Vector.prototype.style
         * @description ç¢éå¾å±çé£æ ¼ã
         */
        this.style = null;

        this.CLASS_NAME = "SuperMap.Vector";
    }

    /**
     * @function SuperMap.Vector.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        Util_Util.reset(this);
    }

    /**
     * @function SuperMap.Vector.prototype.fromJson
     * @description å°æå¡ç«¯ JSON å¯¹è±¡è½¬æ¢æå½åå®¢æ·ç«¯å¯¹è±¡ã
     * @param {Object} jsonObject - è¦è½¬æ¢ç JSON å¯¹è±¡ã
     */
    fromJson(jsonObject) {
        super.fromJson(jsonObject);
        var sty = this.style;
        if (sty) {
            this.style = new ServerStyle_ServerStyle(sty);
        }
    }

    /**
     * @function SuperMap.Vector.prototype.toServerJSONObject
     * @description è½¬æ¢æå¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     * @returns {Object} å¯¹åºç JSON æ ¼å¼å¯¹è±¡
     */
    toServerJSONObject() {
        var jsonObject = SuperMap.toServerJSONObject();
        if (jsonObject.style) {
            if (jsonObject.style.toServerJSONObject) {
                jsonObject.style = jsonObject.style.toServerJSONObject();
            }
        }
        return jsonObject;
    }
}

SuperMap.Vector = iServer_Vector_Vector;

// CONCATENATED MODULE: ./src/common/iServer/GetLayersInfoService.js








/**
 * @class SuperMap.GetLayersInfoService
 * @category iServer Map Layer
 * @classdesc è·åå¾å±ä¿¡æ¯æå¡ç±»æé å½æ°ã
 * @extends {SuperMap.CommonServiceBase}
 * @param {string} url - ä¸å®¢æ·ç«¯äº¤äºçå°å¾æå¡å°åãè¯·æ±å°å¾æå¡,URL åºä¸ºï¼
 *        http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{å°å¾æå¡å}/rest/maps/{å°å¾å}ï¼
 *        å¦ http://localhost:8090/iserver/services/map-world/rest/maps/World ã
 *        å¦ææ¥è¯¢ä¸´æ¶å¾å±çä¿¡æ¯ï¼è¯·æå®å®æçurlï¼åå«ä¸´æ¶å¾å±IDä¿¡æ¯ï¼å¦ï¼
 *        http://localhost:8090/iserver/services/map-world/rest/maps/World/tempLayersSet/resourceID
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæprocessCompletedå±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailedå±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã
 * @param {SuperMap.ServerType} options.serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã
 * @param {SuperMap.DataFormat} options.format - æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æ iServerJSON å GeoJSON ä¸¤ç§æ ¼å¼ãåæ°æ ¼å¼ä¸º"ISERVER","GEOJSON"ã
 * @param {boolean} options.isTempLayers - å½åurlå¯¹åºçå¾å±æ¯å¦æ¯ä¸´æ¶å¾å±ã
 */
class GetLayersInfoService_GetLayersInfoService extends CommonServiceBase_CommonServiceBase {


    constructor(url, options) {
        super(url, options);
        /**
         * @member {boolean} SuperMap.GetLayersInfoService.prototype.isTempLayers
         * @description å½åurlå¯¹åºçå¾å±æ¯å¦æ¯ä¸´æ¶å¾å±ã
         */
        this.isTempLayers = false;
        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = "SuperMap.GetLayersInfoService";
    }

    /**
     * @function SuperMap.GetLayersInfoService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        Util_Util.reset(this);
    }

    /**
     * @function SuperMap.GetLayersInfoService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ´æ°åæ°ä¼ éå°æå¡ç«¯ã
     */
    processAsync() {
        var me = this,
            method = "GET",
            end = me.url.substr(me.url.length - 1, 1);
        if (!me.isTempLayers) {
            me.url += (end === "/") ? '' : '/';
            me.url += "layers.json?";
        } else {
            me.url += ".json?";
        }
        me.request({
            method: method,
            params: null,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

    /**
     * @function SuperMap.GetLayersInfoService.prototype.serviceProcessCompleted
     * @description ç¼è¾å®æï¼æ§è¡æ­¤æ¹æ³ã
     * @param {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ã
     */
    serviceProcessCompleted(result) {
        var me = this, existRes, layers, len;
        result = Util_Util.transformResult(result);

        existRes = !!result && result.length > 0;
        layers = existRes ? result[0].subLayers.layers : null;
        len = layers ? layers.length : 0;
        me.handleLayers(len, layers);
        me.events.triggerEvent("processCompleted", {result: result[0]});
    }

    /**
     * TODO ä¸é¢å¾æ¶åå¯è½ä¼ç¨å°
     * @function SuperMap.GetLayersInfoService.prototype.handleLayers
     * @description å¤ç iServer æ°å¢å¾å±ç»æ°æ® (subLayers.layers ä¸­å¯è½è¿ä¼å«æ subLayers.layers)
     * @param {number} len - subLayers.layersçé¿åº¦
     * @param {Array.<number>} layers - subLayers.layersçé¿åº¦æ°ç»
     */
    handleLayers(len, layers) {
        var me = this, tempLayer;
        if (len) {
            for (var i = 0; i < len; i++) {
                if (layers[i].subLayers && layers[i].subLayers.layers && layers[i].subLayers.layers.length > 0) {
                    me.handleLayers(layers[i].subLayers.layers.length, layers[i].subLayers.layers);
                } else {
                    var type = layers[i].ugcLayerType;
                    switch (type) {
                        case 'THEME':
                            tempLayer = new ServerTheme_ServerTheme();
                            tempLayer.fromJson(layers[i]);
                            layers[i] = tempLayer;
                            break;
                        case 'GRID':
                            tempLayer = new Grid_Grid();
                            tempLayer.fromJson(layers[i]);
                            layers[i] = tempLayer;
                            break;
                        case 'IMAGE':
                            tempLayer = new Image_UGCImage();
                            tempLayer.fromJson(layers[i]);
                            layers[i] = tempLayer;
                            break;
                        case 'VECTOR':
                            tempLayer = new iServer_Vector_Vector();
                            tempLayer.fromJson(layers[i]);
                            layers[i] = tempLayer;
                            break;
                        default:
                            break;
                    }
                }

            }
        }
    }


}

SuperMap.GetLayersInfoService = GetLayersInfoService_GetLayersInfoService;
// CONCATENATED MODULE: ./src/common/iServer/InterpolationAnalystParameters.js





/**
 * @class SuperMap.InterpolationAnalystParameters
 * @category iServer SpatialAnalyst InterpolationAnalyst
 * @classdesc æå¼åæåæ°ç±»ã
 * @param {Object} options - åæ°ã
 * @param {(SuperMap.Bounds|L.Bounds|ol.extent)} options.bounds - æå¼åæçèå´ï¼ç¨äºç¡®å®ç»ææ æ ¼æ°æ®éçèå´ã 
 * @param {string} options.outputDatasetName - æå¼åæç»ææ°æ®éçåç§°ã 
 * @param {string} options.outputDatasourceName - æå¼åæç»ææ°æ®æºçåç§°ã 
 * @param {string} [options.zValueFieldName] - å­å¨ç¨äºè¿è¡æå¼åæçå­æ®µåç§°ï¼æå¼åæä¸æ¯æææ¬ç±»åçå­æ®µã
 * @param {string} [options.dataset] - ç¨äºåæå¼åæçæ°æ®æºä¸­æ°æ®éçåç§°ãå½æå¼åæç±»åï¼InterpolationAnalystTypeï¼ä¸º dataset æ¶ï¼æ­¤åæ°ä¸ºå¿éã 
 * @param {Array.<SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point>} [options.inputPoints] - ç¨äºåæå¼åæçç¦»æ£ç¹éåãå½æå¼åæç±»åï¼InterpolationAnalystTypeï¼ä¸º geometry æ¶ï¼æ­¤åæ°ä¸ºå¿è®¾åæ°ã 
 * @param {number} [options.searchRadius=0] - æ¥æ¾åå¾ï¼å³åä¸è¿ç®ç¹çæ¥æ¾èå´ï¼ä¸ç¹æ°æ®éåä½ç¸åã 
 * @param {number} [options.zValueScale=1] - ç¨äºè¿è¡æå¼åæå¼çç¼©æ¾æ¯çã 
 * @param {number} [options.resolution] - æå¼ç»ææ æ ¼æ°æ®éçåè¾¨çï¼å³ä¸ä¸ªååæä»£è¡¨çå®å°è·ç¦»ï¼ä¸ç¹æ°æ®éåä½ç¸åã 
 * @param {SuperMap.FilterParameter} [options.filterQueryParameter] - å±æ§è¿æ»¤æ¡ä»¶ã 
 * @param {SuperMap.PixelFormat} [options.pixelFormat='BIT16'] - æå®ç»ææ æ ¼æ°æ®éå­å¨çåç´ æ ¼å¼ã 
 * @param {string} [options.InterpolationAnalystType="dataset"] - æå¼åæç±»åï¼"dataset" æ "geometry"ï¼ã 
 */
class InterpolationAnalystParameters_InterpolationAnalystParameters {

    constructor(options) {
        if (!options) {
            return;
        }
        /**
         * @member {(SuperMap.Bounds|L.Bounds|ol.extent)} SuperMap.InterpolationAnalystParameters.prototype.bounds
         * @description æå¼åæçèå´ï¼ç¨äºç¡®å®ç»ææ æ ¼æ°æ®éçèå´ã
         * å¦æç¼ºçï¼åé»è®¤ä¸ºåæ°æ®éçèå´ãé´äºæ­¤æå¼æ¹æ³ä¸ºåææ¹æ³ï¼åæ°æ®éçèå´åçæå¼ç»ææç¸å¯¹æåèä»·å¼ï¼
         * å æ­¤å»ºè®®æ­¤åæ°ä¸å¤§äºåæ°æ®éèå´ã
         */
        this.bounds = null;

        /**
         * @member {number} [SuperMap.InterpolationAnalystParameters.prototype.searchRadius=0]
         * @description æ¥æ¾åå¾ï¼å³åä¸è¿ç®ç¹çæ¥æ¾èå´ï¼ä¸ç¹æ°æ®éåä½ç¸åã
         * è®¡ç®æä¸ªä½ç½®çZ å¼æ¶ï¼ä¼ä»¥è¯¥ä½ç½®ä¸ºåå¿ï¼ä»¥æ¥æ¾èå´çå¼ä¸ºåå¾ï¼è½å¨è¿ä¸ªèå´åçéæ ·ç¹é½å°åä¸è¿ç®ã
         * è¯¥å¼éè¦æ ¹æ®å¾æå¼ç¹æ°æ®çåå¸ç¶åµåç¹æ°æ®éèå´è¿è¡è®¾ç½®ã
         */
        this.searchRadius = 0;

        /**
         * @member {string} SuperMap.InterpolationAnalystParameters.prototype.zValueFieldName
         * @description æ°æ®éæå¼åæä¸­ï¼ç¨äºæå®è¿è¡æå¼åæçç®æ å­æ®µåï¼æå¼åæä¸æ¯æææ¬ç±»åçå­æ®µã
         * å«ä¹ä¸ºæ¯ä¸ªæå¼ç¹å¨æå¼è¿ç¨ä¸­çæéï¼å¯ä»¥å°ææç¹æ­¤å­æ®µå¼è®¾ç½®ä¸º 1ï¼å³ææç¹å¨æ´ä½æå¼ä¸­æéç¸åã
         * å½æå¼åæç±»åï¼InterpolationAnalystTypeï¼ä¸º dataset æ¶ï¼æ­¤ä¸ºå¿éåæ°ã
         */
        this.zValueFieldName = null;

        /**
         * @member {number} [SuperMap.InterpolationAnalystParameters.prototype.zValueScale=1]
         * @description ç¨äºè¿è¡æå¼åæå¼çç¼©æ¾æ¯çã
         * åå æå¼åæçå¼å°ä¹ä»¥è¯¥åæ°å¼ååè¿è¡æå¼ï¼ä¹å°±æ¯å¯¹è¿è¡æå¼åæçå¼è¿è¡ç»ä¸çæ©å¤§æç¼©å°ã
         */
        this.zValueScale = 1;

        /**
         * @member {number} SuperMap.InterpolationAnalystParameters.prototype.resolution
         * @description æå¼ç»ææ æ ¼æ°æ®éçåè¾¨çï¼å³ä¸ä¸ªååæä»£è¡¨çå®å°è·ç¦»ï¼ä¸ç¹æ°æ®éåä½ç¸åã
         * è¯¥å¼ä¸è½è¶è¿å¾åææ°æ®éçèå´è¾¹é¿ã
         * ä¸è¯¥å¼è®¾ç½®æ¶ï¼åºè¯¥èèç¹æ°æ®éèå´å¤§å°æ¥åå¼ï¼ä¸è¬ä¸ºç»ææ æ ¼è¡åå¼ï¼å³ç»ææ æ ¼æ°æ®éèå´é¤ä»¥åè¾¨çï¼ï¼å¨ 500 ä»¥åå¯ä»¥è¾å¥½å°ä½ç°å¯åº¦èµ°å¿ã
         */
        this.resolution = null;

        /**
         * @member {SuperMap.FilterParameter} [SuperMap.InterpolationAnalystParameters.prototype.filterQueryParameter]
         * @description è¿æ»¤æ¡ä»¶ï¼å¯¹åææ°æ®éä¸­çç¹è¿è¡è¿æ»¤ï¼è®¾ç½®ä¸º null è¡¨ç¤ºå¯¹æ°æ®éä¸­çææç¹è¿è¡åæã
         */
        this.filterQueryParameter = null;

        /**
         * @member {string} SuperMap.InterpolationAnalystParameters.prototype.outputDatasetName
         * @description æå¼åæç»ææ°æ®éçåç§°ã 
         */
        this.outputDatasetName = null;

        /**
         * @member {string} SuperMap.InterpolationAnalystParameters.prototype.outputDatasourceName
         * @description æå¼åæç»ææ°æ®æºçåç§°ã 
         */
        this.outputDatasourceName = null;

        /**
         * @member {SuperMap.PixelFormat} [SuperMap.InterpolationAnalystParameters.prototype.pixelFormat=SuperMap.PixelFormat.BIT16]
         * @description æå®ç»ææ æ ¼æ°æ®éå­å¨çåç´ æ ¼å¼ãæ¯æå­å¨çåç´ æ ¼å¼æ BIT16ãBIT32ãDOUBLEãSINGLEãUBIT1ãUBIT4ãUBIT8ãUBIT24ãUBIT32ã
         */
        this.pixelFormat = PixelFormat.BIT16;

        /**
         * @member {string} [SuperMap.InterpolationAnalystParameters.prototype.dataset]
         * @description ç¨æ¥åæå¼åæçæ°æ®æºä¸­æ°æ®éçåç§°ï¼è¯¥åç§°ç¨å½¢å¦ "æ°æ®éåç§°@æ°æ®æºå«å" å½¢å¼æ¥è¡¨ç¤ºã
         * å½æå¼åæç±»åï¼InterpolationAnalystTypeï¼ä¸º dataset æ¶ï¼æ­¤åæ°ä¸ºå¿éã
         */
        this.dataset = null;

        /**
         * @member {Array.<SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point>} [SuperMap.InterpolationAnalystParameters.prototype.inputPoints]
         * @description ç¨äºåæå¼åæçç¦»æ£ç¹ï¼ç¦»æ£ç¹åæ¬Zå¼ï¼éåã
         * å½æå¼åæç±»åï¼InterpolationAnalystTypeï¼ä¸º geometry æ¶ï¼æ­¤åæ°ä¸ºå¿è®¾åæ°ã
         * éè¿ç¦»æ£ç¹ç´æ¥è¿è¡æå¼åæä¸éè¦æå®è¾å¥æ°æ®éinputDatasourceNameï¼inputDatasetNameä»¥åzValueFieldNameã
         */
        this.inputPoints = null;

        /**
         * @member {string} [SuperMap.InterpolationAnalystParameters.prototype.InterpolationAnalystType="dataset"]
         * @description  æå¼åæç±»åãå·®å¼åæåæ¬æ°æ®éæå¼åæåå ä½æå¼åæä¸¤ç±»ï¼
         *               "dataset" è¡¨ç¤ºå¯¹æ°æ®éè¿è¡æå¼åæï¼"geometry" è¡¨ç¤ºå¯¹ç¦»æ£ç¹æ°ç»è¿è¡æå¼åæã
         */
        this.InterpolationAnalystType = "dataset";

        /**
         * @member {Object} SuperMap.InterpolationAnalystParameters.prototype.clipParam
         * @description å¯¹æå¼åæç»æè¿è¡è£åªçåæ°ã
         */
        this.clipParam = null;

        Util_Util.extend(this, options);
        this.CLASS_NAME = "SuperMap.InterpolationAnalystParameters";
    }

    /**
     * @function SuperMap.InterpolationAnalystParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.bounds = null;
        me.searchRadius = null;
        me.zValueFieldName = null;
        me.zValueScale = null;

        me.resolution = null;
        me.filterQueryParameter = null;
        me.outputDatasetName = null;
        me.pixelFormat = null;
    }

    /**
     * @function SuperMap.InterpolationAnalystParameters.toObject
     * @param {SuperMap.InterpolationAnalystParameters} interpolationAnalystParameters - æå¼åæåæ°ç±»ã
     * @param {SuperMap.InterpolationAnalystParameters} tempObj - æå¼åæåæ°å¯¹è±¡ã
     * @description å°æå¼åæåæ°å¯¹è±¡è½¬æ¢æ JSON å¯¹è±¡ã
     * @returns JSON å¯¹è±¡ã
     */
    static toObject(interpolationAnalystParameters, tempObj) {
        for (var name in interpolationAnalystParameters) {
            if (name === "inputPoints" && interpolationAnalystParameters.InterpolationAnalystType === "geometry") {
                var objs = [];
                for (var i = 0; i < interpolationAnalystParameters.inputPoints.length; i++) {
                    var item = interpolationAnalystParameters.inputPoints[i];
                    var obj = {
                        x: item.x,
                        y: item.y,
                        z: item.tag
                    };
                    objs.push(obj);
                }
                tempObj[name] = objs;
            } else {
                tempObj[name] = interpolationAnalystParameters[name];
            }
        }
    }
}

SuperMap.InterpolationAnalystParameters = InterpolationAnalystParameters_InterpolationAnalystParameters;

// CONCATENATED MODULE: ./src/common/iServer/InterpolationRBFAnalystParameters.js




/**
 * @class SuperMap.InterpolationRBFAnalystParameters
 * @category iServer SpatialAnalyst InterpolationAnalyst
 * @classdesc æ ·æ¡æå¼ï¼å¾ååºå½æ°æå¼æ³ï¼åæåæ°ç±»ã
 * @extends {SuperMap.InterpolationAnalystParameters}
 * @param {Object} options - åæ°ã 
 * @param {(SuperMap.Bounds|L.Bounds|ol.extent)} options.bounds - æå¼åæçèå´ï¼ç¨äºç¡®å®ç»ææ æ ¼æ°æ®éçèå´ã 
 * @param {string} options.searchMode - æå¼è¿ç®æ¶ï¼æ¥æ¾åä¸è¿ç®ç¹çæ¹å¼ï¼æåºå®ç¹æ°æ¥æ¾ãå®é¿æ¥æ¾ãåæ¥æ¾ã  
 * @param {string} options.outputDatasetName - æå¼åæç»ææ°æ®éçåç§°ã  
 * @param {string} options.outputDatasourceName - æå¼åæç»ææ°æ®æºçåç§°ã 
 * @param {string} [options.zValueFieldName] - å­å¨ç¨äºè¿è¡æå¼åæçå­æ®µåç§°ï¼æå¼åæä¸æ¯æææ¬ç±»åçå­æ®µãå½æå¼åæç±»å(SuperMap.InterpolationAnalystType)ä¸º dataset æ¶ï¼æ­¤ä¸ºå¿éåæ°ã 
 * @param {number} [options.smooth=0.1] - åæ»ç³»æ°ï¼è¯¥å¼è¡¨ç¤ºæå¼å½æ°æ²çº¿ä¸ç¹çé¼è¿ç¨åº¦ï¼å¼åä¸º0å°1ã 
 * @param {number} [options.tension=40] - å¼ åç³»æ°ï¼ç¨äºè°æ´ç»ææ æ ¼æ°æ®è¡¨é¢çç¹æ§ã 
 * @param {number} [options.expectedCount=12] - ãåºå®ç¹æ°æ¥æ¾ãæ¹å¼ä¸ï¼è®¾ç½®åä¸å·®å¼è¿ç®çç¹æ°ã 
 * @param {number} [options.searchRadius=0] - ãå®é¿æ¥æ¾ãæ¹å¼ä¸ï¼è®¾ç½®åä¸è¿ç®ç¹çæ¥æ¾èå´ã 
 * @param {number} [options.maxPointCountForInterpolation=200] - ãåæ¥æ¾ãæ¹å¼ä¸ï¼è®¾ç½®æå¤åä¸æå¼çç¹æ°ã 
 * @param {number} [options.maxPointCountInNode=50] - ãåæ¥æ¾ãæ¹å¼ä¸ï¼è®¾ç½®åä¸ªååæå¤åä¸è¿ç®ç¹æ°ã 
 * @param {number} [options.zValueScale=1] - ç¨äºè¿è¡æå¼åæå¼çç¼©æ¾æ¯çã
 * @param {number} [options.resolution] - æå¼ç»ææ æ ¼æ°æ®éçåè¾¨çï¼å³ä¸ä¸ªååæä»£è¡¨çå®å°è·ç¦»ï¼ä¸ç¹æ°æ®éåä½ç¸åã 
 * @param {SuperMap.FilterParameter} [options.filterQueryParameter] - å±æ§è¿æ»¤æ¡ä»¶ã 
 * @param {string} [options.pixelFormat] - æå®ç»ææ æ ¼æ°æ®éå­å¨çåç´ æ ¼å¼ã 
 * @param {string} [options.dataset] - è¦ç¨æ¥åæå¼åæçæ°æ®æºä¸­æ°æ®éçåç§°ãè¯¥åç§°ç¨å½¢å¦âæ°æ®éåç§°@æ°æ®æºå«åâå½¢å¼æ¥è¡¨ç¤ºãå½æå¼åæç±»å(InterpolationAnalystType)ä¸º dataset æ¶ãæ­¤åæ°ä¸ºå¿éã
 * @param {Array.<SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point>} [options.inputPoints] - ç¨äºåæå¼åæçç¦»æ£ç¹éåãå½æå¼åæç±»åï¼InterpolationAnalystTypeï¼ä¸º geometry æ¶ãæ­¤åæ°ä¸ºå¿éã
 * @example
 * var myInterpolationRBFAnalystParameters = new SuperMap.InterpolationRBFAnalystParameters({
 *     dataset:"SamplesP@Interpolation",
 *     smooth: 0.1,
 *     tension: 40,
 *     searchMode: "QUADTREE",
 *     maxPointCountForInterpolation: 20,
 *     maxPointCountInNode: 5,
 *     pixelFormat: "BIT16",
 *     zValueFieldName: "AVG_TMP",
 *     resolution: 3000,
 *     filterQueryParameter: {
 *         attributeFilter: ""
 *     },
 *     outputDatasetName: "myRBF"
 * });
 */
class InterpolationRBFAnalystParameters_InterpolationRBFAnalystParameters extends InterpolationAnalystParameters_InterpolationAnalystParameters {

    constructor(options) {
        super(options);
        /**
         * @member {number} [SuperMap.InterpolationRBFAnalystParameters.prototype.smooth=0.1]
         * @description åæ»ç³»æ°ï¼å¼åä¸º 0 å° 1ï¼å¸¸ç¨åå¼å¦ 0ã0.001ã0.01ã0.1ãå 0.5ã
         * è¯¥å¼è¡¨ç¤ºæå¼å½æ°æ²çº¿ä¸ç¹çé¼è¿ç¨åº¦ï¼æ­¤æ°å¼è¶å¤§ï¼å½æ°æ²çº¿ä¸ç¹çåå·®è¶å¤§ï¼åä¹è¶å°ã
         */
        this.smooth = 0.1;

        /**
         * @member {number} [SuperMap.InterpolationRBFAnalystParameters.prototype.tension=40]
         * @description å¼ åç³»æ°ï¼å¸¸ç¨åå¼å¦ 0ã1ã5 å 10ã
         * ç¨äºè°æ´ç»ææ æ ¼æ°æ®è¡¨é¢çç¹æ§ï¼å¼ åè¶å¤§ï¼æå¼æ¶æ¯ä¸ªç¹å¯¹è®¡ç®ç»æå½±åè¶å°ï¼åä¹è¶å¤§ã
         */
        this.tension = 40;

        /**
         * @member {SuperMap.SearchMode} SuperMap.InterpolationRBFAnalystParameters.prototype.searchMode
         * @description æå¼è¿ç®æ¶ï¼æ¥æ¾åä¸è¿ç®ç¹çæ¹å¼ï¼æåºå®ç¹æ°æ¥æ¾ãå®é¿æ¥æ¾ãåæ¥æ¾ãå¿è®¾åæ°ã
         * å·ä½å¦ä¸ï¼
         * {KDTREE_FIXED_COUNT} ä½¿ç¨ KDTREE çåºå®ç¹æ°æ¹å¼æ¥æ¾åä¸åæåæçç¹ã
         * {KDTREE_FIXED_RADIUS} ä½¿ç¨ KDTREE çå®é¿æ¹å¼æ¥æ¾åä¸åæåæçç¹ã
         * {QUADTREE} ä½¿ç¨ QUADTREE æ¹å¼æ¥æ¾åä¸åæåæçç¹ï¼åæ¥æ¾ï¼ã
         */
        this.searchMode = null;

        /**
         * @member {number} [SuperMap.InterpolationRBFAnalystParameters.prototype.expectedCount=12]
         * @description ãåºå®ç¹æ°æ¥æ¾ãæ¹å¼ä¸ï¼è®¾ç½®å¾æ¥æ¾çç¹æ°ï¼å³åä¸å·®å¼è¿ç®çç¹æ°ã
         */
        this.expectedCount = 12;

        /**
         * @member {number} [SuperMap.InterpolationRBFAnalystParameters.prototype.maxPointCountForInterpolation=200]
         * @description ãåæ¥æ¾ãæ¹å¼ä¸ï¼æå¤åä¸æå¼çç¹æ°ã
         */
        this.maxPointCountForInterpolation = 200;

        /**
         * @member {number} [SuperMap.InterpolationRBFAnalystParameters.prototype.maxPointCountInNode=50]
         * @description ãåæ¥æ¾ãæ¹å¼ä¸ï¼åä¸ªååæå¤åä¸è¿ç®ç¹æ°ã
         */
        this.maxPointCountInNode = 50;

        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = "SuperMap.InterpolationRBFAnalystParameters";

    }


    /**
     * @function SuperMap.InterpolationRBFAnalystParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        super.destroy();
        var me = this;
        me.smooth = null;
        me.tension = null;
        me.searchMode = null;
        me.expectedCount = null;
        me.maxPointCountForInterpolation = null;
        me.maxPointCountInNode = null;
    }

    /**
     * @function SuperMap.InterpolationRBFAnalystParameters.toObject
     * @param {SuperMap.InterpolationRBFAnalystParameters} datasetInterpolationRBFAnalystParameters - æ ·æ¡æå¼ï¼å¾ååºå½æ°æå¼æ³ï¼åæåæ°ç±»
     * @param {SuperMap.InterpolationRBFAnalystParameters} tempObj - æ ·æ¡æå¼ï¼å¾ååºå½æ°æå¼æ³ï¼åæåæ°å¯¹è±¡
     * @description å°æ ·æ¡æå¼ï¼å¾ååºå½æ°æå¼æ³ï¼åæåæ°å¯¹è±¡è½¬æ¢ä¸º JSON å¯¹è±¡ã
     * @returns JSON å¯¹è±¡ã
     */
    static toObject(datasetInterpolationRBFAnalystParameters, tempObj) {
        for (var name in datasetInterpolationRBFAnalystParameters) {
            tempObj[name] = datasetInterpolationRBFAnalystParameters[name];

        }
    }
}

SuperMap.InterpolationRBFAnalystParameters = InterpolationRBFAnalystParameters_InterpolationRBFAnalystParameters;

// CONCATENATED MODULE: ./src/common/iServer/InterpolationDensityAnalystParameters.js




/**
 * @class SuperMap.InterpolationDensityAnalystParameters
 * @category iServer SpatialAnalyst InterpolationAnalyst
 * @classdesc ç¹å¯åº¦å·®å¼åæåæ°ç±»ã
 * @param {Object} options - åæ°ã
 * @param {(SuperMap.Bounds|L.Bounds|ol.extent)} options.bounds - æå¼åæçèå´ï¼ç¨äºç¡®å®ç»ææ æ ¼æ°æ®éçèå´ã
 * @param {string} options.outputDatasourceName - æå¼åæç»ææ°æ®æºçåç§°ã 
 * @param {string} options.outputDatasetName - æå¼åæç»ææ°æ®éçåç§°ã 
 * @param {number} [options.searchRadius=0] - æ¥æ¾åå¾ï¼å³åä¸è¿ç®ç¹çæ¥æ¾èå´ï¼ä¸ç¹æ°æ®éåä½ç¸åã
 * @param {string} [options.zValueFieldName] - å­å¨ç¨äºè¿è¡æå¼åæçå­æ®µåç§°ï¼æå¼åæä¸æ¯æææ¬ç±»åçå­æ®µãå½æå¼åæç±»å( SuperMap.InterpolationAnalystType)ä¸º dataset æ¶ãæ­¤ä¸ºå¿éåæ°ã 
 * @param {number} [options.zValueScale=1] - ç¨äºè¿è¡æå¼åæå¼çç¼©æ¾æ¯çã 
 * @param {number} [options.resolution] - æå¼ç»ææ æ ¼æ°æ®éçåè¾¨çï¼å³ä¸ä¸ªååæä»£è¡¨çå®å°è·ç¦»ï¼ä¸ç¹æ°æ®éåä½ç¸åã
 * @param {SuperMap.FilterParameter} [options.filterQueryParameter] - å±æ§è¿æ»¤æ¡ä»¶ã
 * @param {string} [options.pixelFormat] - æå®ç»ææ æ ¼æ°æ®éå­å¨çåç´ æ ¼å¼ã
 * @param {string} [options.dataset] - ç¨æ¥åæå¼åæçæ°æ®æºä¸­æ°æ®éçåç§°ï¼è¯¥åç§°ç¨å½¢å¦ "æ°æ®éåç§°@æ°æ®æºå«å" å½¢å¼æ¥è¡¨ç¤ºãå½æå¼åæç±»åï¼SuperMap.InterpolationAnalystTypeï¼ä¸º dataset æ¶ï¼å¿è®¾åæ°ã 
 * @param {Array.<SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point>} [options.inputPoints] - ç¨äºåæå¼åæçç¦»æ£ç¹éåãå½æå¼åæç±»åï¼SuperMap.InterpolationAnalystTypeï¼ä¸º geometry æ¶ï¼å¿è®¾åæ°ã
 * @extends {SuperMap.InterpolationAnalystParameters}
 * @example
 * var myInterpolationDensityAnalystParameters = new SuperMap.InterpolationDensityAnalystParameters({
 *      dataset: "SamplesP@Interpolation",
 *      searchRadius: "100000",
 *      pixelFormat: "BIT16",
 *      zValueFieldName: "AVG_TMP",
 *      resolution: 3000,
 *      filterQueryParameter: {
 *          attributeFilter: ""
 *      },
 *      outputDatasetName: "myDensity"
 * });
 */
class InterpolationDensityAnalystParameters_InterpolationDensityAnalystParameters extends InterpolationAnalystParameters_InterpolationAnalystParameters {


    constructor(options) {
        super(options);
        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = "SuperMap.InterpolationDensityAnalystParameters";
    }

    /**
     * @function SuperMap.InterpolationDensityAnalystParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        super.destroy();
    }
}

SuperMap.InterpolationDensityAnalystParameters = InterpolationDensityAnalystParameters_InterpolationDensityAnalystParameters;
// CONCATENATED MODULE: ./src/common/iServer/InterpolationIDWAnalystParameters.js




/**
 * @class SuperMap.InterpolationIDWAnalystParameters
 * @category  iServer SpatialAnalyst InterpolationAnalyst
 * @classdesc åè·ç¦»å ææå¼ï¼IDWï¼åæåæ°ç±»ã
 * @param {Object} options - åæ°ã
 * @param {(SuperMap.Bounds|L.Bounds|ol.extent)} options.bounds - æå¼åæçèå´ï¼ç¨äºç¡®å®ç»ææ æ ¼æ°æ®éçèå´ã 
 * @param {string} options.searchMode - æå¼è¿ç®æ¶ï¼æ¥æ¾åä¸è¿ç®ç¹çæ¹å¼ï¼æ¯æåºå®ç¹æ°æ¥æ¾ãå®é¿æ¥æ¾ã 
 * @param {string} options.outputDatasetName - æå¼åæç»ææ°æ®éçåç§°ã 
 * @param {string} options.outputDatasourceName - æå¼åæç»ææ°æ®æºçåç§°ã 
 * @param {string} [options.zValueFieldName] - å­å¨ç¨äºè¿è¡æå¼åæçå­æ®µåç§°ï¼æå¼åæä¸æ¯æææ¬ç±»åçå­æ®µãå½æå¼åæç±»å(SuperMap.InterpolationAnalystType)ä¸º dataset æ¶ï¼æ­¤ä¸ºå¿éåæ°ã
 * @param {number} [options.expectedCount=12] - ãåºå®ç¹æ°æ¥æ¾ãæ¹å¼ä¸ï¼è®¾ç½®å¾æ¥æ¾çç¹æ°ï¼å³åä¸å·®å¼è¿ç®çç¹æ°ã
 * @param {number} [options.searchRadius=0] - ãå®é¿æ¥æ¾ãæ¹å¼ä¸ï¼è®¾ç½®æ¥æ¾åå¾ï¼å³åä¸è¿ç®ç¹çæ¥æ¾èå´ï¼ä¸ç¹æ°æ®éåä½ç¸åã 
 * @param {number} [options.power=2] - è·ç¦»æéè®¡ç®çå¹æ¬¡ã 
 * @param {number} [options.zValueScale=1] - ç¨äºè¿è¡æå¼åæå¼çç¼©æ¾æ¯çã 
 * @param {number} [options.resolution] - æå¼ç»ææ æ ¼æ°æ®éçåè¾¨çï¼å³ä¸ä¸ªååæä»£è¡¨çå®å°è·ç¦»ï¼ä¸ç¹æ°æ®éåä½ç¸åã 
 * @param {SuperMap.FilterParameter} [options.filterQueryParameter] - å±æ§è¿æ»¤æ¡ä»¶ã 
 * @param {string} [options.pixelFormat] - æå®ç»ææ æ ¼æ°æ®éå­å¨çåç´ æ ¼å¼ã 
 * @param {string} [options.dataset] - è¦ç¨æ¥åæå¼åæçæ°æ®æºä¸­æ°æ®éçåç§°ãè¯¥åç§°ç¨å½¢å¦âæ°æ®éåç§°@æ°æ®æºå«åâå½¢å¼æ¥è¡¨ç¤ºãå½æå¼åæç±»å(SuperMap.InterpolationAnalystType)ä¸º dataset æ¶ï¼å¿è®¾åæ°ã 
 * @param {Array.<SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point>} [options.inputPoints] - ç¨äºåæå¼åæçç¦»æ£ç¹éåãå½æå¼åæç±»åï¼SuperMap.InterpolationAnalystTypeï¼ä¸º geometry æ¶ï¼å¿è®¾åæ°ã 
 * @extends {SuperMap.InterpolationAnalystParameters}
 * @example ä¾å¦ï¼
 * var myInterpolationIDWAnalystParameters = new SuperMap.InterpolationIDWAnalystParameters({
 *      dataset:"SamplesP@Interpolation",
 *      power: 2,
 *      searchMode: "KDTREE_FIXED_COUNT",
 *      expectedCount: 12,
 *      pixelFormat: "BIT16",
 *      zValueFieldName: "AVG_TMP",
 *      resolution: 3000,
 *      filterQueryParameter: {
 *          attributeFilter: ""
 *      },
 *      outputDatasetName: "myIDW"
 * });
 *
 */
class InterpolationIDWAnalystParameters_InterpolationIDWAnalystParameters extends InterpolationAnalystParameters_InterpolationAnalystParameters {



    constructor(options) {
        super(options);
        /**
         * @member {number} [SuperMap.InterpolationIDWAnalystParameters.prototype.power=2]
         * @description è·ç¦»æéè®¡ç®çå¹æ¬¡ã
         * è¯¥å¼å³å®äºæå¼ä¸éçéåº¦ï¼å¹æ¬¡è¶å¤§ï¼éè·ç¦»çå¢å¤§æå¼ä¸éè¶å¿«ï¼è·ç¦»é¢æµç¹è¶è¿çç¹çæå¼ä¹è¶å°ã
         * çè®ºä¸ï¼åæ°å¼å¿é¡»å¤§äº0ï¼ä½æ¯0.5å°3ä¹é´æ¶è¿ç®ç»ææ´åçï¼å æ­¤æ¨èå¼ä¸º0.5~3ã
         */
        this.power = 2;

        /**
         * @member {SuperMap.SearchMode} SuperMap.InterpolationIDWAnalystParameters.prototype.searchMode
         * @description æå¼è¿ç®æ¶ï¼æ¥æ¾åä¸è¿ç®ç¹çæ¹å¼ï¼æ¯æåºå®ç¹æ°æ¥æ¾ãå®é¿æ¥æ¾ã 
         * å·ä½å¦ä¸ï¼
         * {KDTREE_FIXED_COUNT} ä½¿ç¨ KDTREE çåºå®ç¹æ°æ¹å¼æ¥æ¾åä¸åæåæçç¹ã
         * {KDTREE_FIXED_RADIUS} ä½¿ç¨ KDTREE çå®é¿æ¹å¼æ¥æ¾åä¸åæåæçç¹ã
         */
        this.searchMode = null;

        /**
         * @member {number} [SuperMap.InterpolationIDWAnalystParameters.prototype.expectedCount=12]
         * @description ãåºå®ç¹æ°æ¥æ¾ãæ¹å¼ä¸ï¼è®¾ç½®å¾æ¥æ¾çç¹æ°ï¼å³åä¸å·®å¼è¿ç®çç¹æ°ã
         */
        this.expectedCount = 12;
        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = "SuperMap.InterpolationIDWAnalystParameters";
    }

    /**
     * @function SuperMap.InterpolationIDWAnalystParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        super.destroy();
        var me = this;
        me.power = null;
        me.searchMode = null;
        me.expectedCount = null;
    }
}

SuperMap.InterpolationIDWAnalystParameters = InterpolationIDWAnalystParameters_InterpolationIDWAnalystParameters;

// CONCATENATED MODULE: ./src/common/iServer/InterpolationKrigingAnalystParameters.js






/**
 * @class SuperMap.InterpolationKrigingAnalystParameters
 * @category iServer SpatialAnalyst InterpolationAnalyst
 * @classdesc ååéæå¼åæåæ°ç±»ã
 * @description éè¿è¯¥ç±»å¯ä»¥è®¾ç½®ååéæå¼åææéçåæ°ã
 * ååéï¼Krigingï¼æ³ä¸ºå°ç»è®¡å­¦ä¸ä¸ç§ç©ºé´æ°æ®åæå¤çæ¹æ³ï¼ä¸»è¦çç®çæ¯å©ç¨åæ°æ®ç¹é´åå¼æ°ï¼varianceï¼çå¤§å°æ¥æ¨æ±æä¸æªç¥ç¹ä¸åå·²ç¥ç¹çæéå³ç³»ï¼
 * åç±åæ°æ®ç¹çå¼åå¶ä¸æªç¥ç¹çæéå³ç³»æ¨æ±æªç¥ç¹çå¼ãKriging æ³æå¤§çç¹è²ä¸ä»æ¯æä¾ä¸ä¸ªæå°ä¼°è®¡è¯¯å·®çé¢æµå¼ï¼å¹¶ä¸å¯æç¡®çæåºè¯¯å·®å¼çå¤§å°ã
 * ä¸è¬èè¨ï¼è®¸å¤å°è´¨åæ°ï¼å¦å°å½¢é¢ï¼æ¬èº«å³å·æè¿ç»­æ§ï¼æå¨ä¸æ®µè·ç¦»åçä»»ä¸¤ç¹å¿æç©ºé´ä¸çå³ç³»ãåä¹ï¼å¨ä¸ä¸è§åé¢ä¸çä¸¤ç¹è¥ç¸è·çè¿ï¼
 * åå¨ç»è®¡æä¹ä¸å¯è§ä¸ºäºä¸ºç¬ç« (stastically indepedent)ãè¿ç§éè·ç¦»èæ¹åçç©ºé´ä¸è¿ç»­æ§ï¼å¯ç¨ååå¼å¾ (semivariogram) æ¥è¡¨ç°ã
 * å æ­¤ï¼è¥æ³ç±å·²ç¥çæ£ä¹±ç¹æ¥æ¨æ±æä¸æªç¥ç¹çå¼ï¼åå¯å©ç¨ååå¼å¾æ¨æ±åå·²ç¥ç¹ä¸æªç¥ç¹çç©ºé´å³ç³»ï¼å³ä»¥ä¸åä¸ªåæ°ã
 * ç¶åï¼ç±æ­¤ç©ºé´åæ°æ¨æ±ååå¼æ°ï¼ç±åæ°æ®ç¹é´çååå¼æ°å¯æ¨æ±æªç¥ç¹ä¸å·²ç¥ç¹é´çæéå³ç³»ï¼è¿èæ¨æ±åºæªç¥ç¹çå¼ã<br>
 *
 * Â· åéå¼ï¼nuggetï¼ï¼å½éæ ·ç¹é´è·ä¸º0æ¶ï¼çè®ºä¸ååå¼å½æ°å¼ä¸º0ï¼ä½æ¶é´ä¸ä¸¤éæ ·ç¹éå¸¸æ¥è¿æ¶ååå¼å½æ°å¼å¹¶ä¸ä¸º0ï¼å³äº§çäºä¸å¾æç¤ºçåéæåºï¼
 * å¯¹åºçååå¼å½æ°å¼ä¸ºåéå¼ãåéå¼å¯è½ç±äºæµéè¯¯å·®æèç©ºé´åå¼äº§çã<br>
 *
 * Â· åºå°å¼ï¼sillï¼ï¼éçéæ ·ç¹é´è·çä¸æ­å¢å¤§ï¼ååå¼å½æ°çå¼è¶åä¸ä¸ªç¨³å®çå¸¸æ°ï¼è¯¥å¸¸æ°æä¸ºåºå°å¼ãå°è¾¾åºå°å¼åï¼ååå¼å½æ°çå¼ä¸åééæ ·ç¹é´è·èæ¹åï¼
 *   å³å¤§äºæ­¤é´è·çéæ ·ç¹ä¸åå·æç©ºé´ç¸å³æ§ã<br>
 *
 * Â· ååºå°å¼ï¼åºå°å¼ä¸åéå¼çå·®å¼ã<br>
 *
 * Â· èªç¸å³éå¼ï¼rangeï¼ï¼ä¹ç§°åç¨ï¼æ¯ååå¼å½æ°å¼è¾¾å°åºå°å¼æ¶ï¼éæ ·ç¹çé´è·ãè¶è¿èªç¸å³éå¼çéæ ·ç¹ä¸åå·æç©ºé´ç¸å³æ§ï¼å°ä¸å¯¹é¢æµç»æäº§çå½±åã<br>
 *
 * ç±ä¸è¿°å¯ç¥ï¼ååå¼å½æ°æ¯ååéæå¼çå³é®ï¼å æ­¤éæ©åéçååå¼å½æ°æ¨¡åéå¸¸éè¦ï¼SuperMap æä¾äºä»¥ä¸ä¸ç§ååå¼å½æ°æ¨¡åï¼<br>
 *
 * Â· ææ°åï¼EXPONENTIALï¼ï¼éç¨äºç©ºé´ç¸å³å³ç³»éæ ·æ¬é´è·çå¢å æææ°éåçæåµï¼å¶ç©ºé´èªç¸å³å³ç³»å¨æ ·æ¬é´è·çæ ç©·è¿å¤å®å¨æ¶å¤±ã<br>
 *
 * Â· çåï¼SPHERICALï¼ï¼éç¨äºç©ºé´èªç¸å³å³ç³»éæ ·æ¬é´è·çå¢å èéæ¸åå°ï¼ç´å°è¶åºä¸å®çè·ç¦»æ¶ç©ºé´èªç¸å³å³ç³»æ¶å¤±çæåµã<br>
 *
 * Â· é«æ¯åï¼GAUSSIANï¼ï¼éç¨äºååå¼å½æ°å¼æ¸è¿å°é¼è¿åºå°å¼çæåµã<br>
 *
 * ååå¼å½æ°ä¸­ï¼æä¸ä¸ªå³é®åæ°å³æå¼çå­æ®µå¼çææï¼å¹³åå¼ï¼ï¼ç±äºå¯¹äºæ­¤åæ°çä¸åå¤çæ¹æ³èè¡çåºäºä¸åç Kriging æ¹æ³ãSuperMapçå·®å¼åè½åºäºä»¥ä¸ä¸ç§å¸¸ç¨ Kriging ç®æ³ï¼<br>
 *
 * 1. ç®åååéï¼Simple Krigingï¼ï¼è¯¥æ¹æ³åå®ç¨äºæå¼çå­æ®µå¼çææï¼å¹³åå¼ï¼å·²ç¥çæä¸å¸¸æ°ã<br>
 *
 * 2. æ®éååéï¼Krigingï¼ï¼è¯¥æ¹æ³åå®ç¨äºæå¼çå­æ®µå¼çææï¼å¹³åå¼ï¼æªç¥ä¸æå®ãå®å©ç¨ä¸å®çæ°å­¦å½æ°ï¼éè¿å¯¹ç»å®çç©ºé´ç¹è¿è¡æåæ¥ä¼°ç®ååæ ¼çå¼ï¼<br>
 *      çææ ¼ç½æ°æ®éãå®ä¸ä»å¯ä»¥çæä¸ä¸ªè¡¨é¢ï¼è¿å¯ä»¥ç»åºé¢æµç»æçç²¾åº¦æèç¡®å®æ§çåº¦éãå æ­¤ï¼æ­¤æ¹æ³è®¡ç®ç²¾åº¦è¾é«ï¼å¸¸ç¨äºå°å­¦é¢åã
 *
 * 3. æ³ååéï¼Universal Krigingï¼ï¼è¯¥æ¹æ³åå®ç¨äºæå¼çå­æ®µå¼çææï¼å¹³åå¼ï¼æ¯æªç¥çåéãå¨æ ·ç¹æ°æ®ä¸­å­å¨æç§ä¸»å¯¼è¶å¿ä¸è¯¥è¶å¿å¯ä»¥éè¿æä¸ä¸ªç¡®å®<br>
 *      çå½æ°æèå¤é¡¹å¼è¿è¡æåçæåµä¸ï¼éç¨æ³ååéæå¼æ³ã
 *
 * ååéæ³çä¼ç¹æ¯ä»¥ç©ºé´ç»è®¡å­¦ä½ä¸ºå¶åå®ççè®ºåºç¡ï¼ç©çå«ä¹æç¡®ï¼ä¸ä½è½ä¼°è®¡æµå®åæ°çç©ºé´åå¼åå¸ï¼èä¸è¿å¯ä»¥ä¼°ç®åæ°çæ¹å·®åå¸ãååéæ³çç¼ºç¹æ¯è®¡ç®æ­¥éª¤è¾ç¦çï¼
 * è®¡ç®éå¤§ï¼ä¸åå¼å½æ°ææ¶éè¦æ ¹æ®ç»éªäººä¸ºéå®ã
 * @param {Object} options - åæ°ã 
 * @param {string} options.type - ååéæå¼çç±»åã 
 * @param {(SuperMap.Bounds|L.Bounds|ol.extent)} options.bounds - æå¼åæçèå´ï¼ç¨äºç¡®å®ç»ææ æ ¼æ°æ®éçèå´ã 
 * @param {string} options.searchMode - æå¼è¿ç®æ¶ï¼æ¥æ¾åä¸è¿ç®ç¹çæ¹å¼ï¼æåºå®ç¹æ°æ¥æ¾ãå®é¿æ¥æ¾ãåæ¥æ¾ã 
 * @param {string} options.outputDatasetName - æå¼åæç»ææ°æ®éçåç§°ã 
 * @param {string} options.outputDatasourceName - æå¼åæç»ææ°æ®æºçåç§°ã
 * @param {string} [options.zValueFieldName] - å­å¨ç¨äºè¿è¡æå¼åæçå­æ®µåç§°ï¼æå¼åæä¸æ¯æææ¬ç±»åçå­æ®µãå½æå¼åæç±»å(SuperMap.InterpolationAnalystType)ä¸º dataset æ¶ï¼æ­¤ä¸ºå¿éåæ°ã 
 * @param {number} [options.mean] - ãç®åååéãç±»åä¸ï¼æå¼å­æ®µçå¹³åå¼ã 
 * @param {number} [options.angle=0] - ååéç®æ³ä¸­æè½¬è§åº¦å¼ã 
 * @param {number} [options.nugget=0] - ååéç®æ³ä¸­åéæåºå¼ã 
 * @param {number} [options.range=0] - ååéç®æ³ä¸­èªç¸å³éå¼ï¼åä½ä¸åæ°æ®éåä½ç¸åã 
 * @param {number} [options.sill=0] - ååéç®æ³ä¸­åºå°å¼ã 
 * @param {string} [options.variogramMode="SPHERICAL"] - ååéæå¼æ¶çååå½æ°ç±»åã 
 * @param {string} [options.exponent='exp1'] - ãæ³ååéãç±»åä¸ï¼ç¨äºæå¼çæ ·ç¹æ°æ®ä¸­è¶å¿é¢æ¹ç¨çé¶æ°ï¼å¯éå¼ä¸º exp1ãexp2ã
 * @param {number} [options.expectedCount=12] - ãåºå®ç¹æ°æ¥æ¾ãæ¹å¼ä¸ï¼è®¾ç½®å¾æ¥æ¾çç¹æ°ï¼ãå®é¿æ¥æ¾ãæ¹å¼ä¸ï¼è®¾ç½®æ¥æ¾çæå°ç¹æ°ã 
 * @param {number} [options.searchRadius=0] - ãå®é¿æ¥æ¾ãæ¹å¼ä¸ï¼è®¾ç½®åä¸è¿ç®ç¹çæ¥æ¾èå´ã  
 * @param {number} [options.maxPointCountForInterpolation=200] - ãåæ¥æ¾ãæ¹å¼ä¸ï¼è®¾ç½®æå¤åä¸æå¼çç¹æ°ã 
 * @param {number} [options.maxPointCountInNode=50] - ãåæ¥æ¾ãæ¹å¼ä¸ï¼è®¾ç½®åä¸ªååæå¤åä¸è¿ç®ç¹æ°ã 
 * @param {number} [options.zValueScale=1] - ç¨äºè¿è¡æå¼åæå¼çç¼©æ¾æ¯çã 
 * @param {number} [options.resolution] - æå¼ç»ææ æ ¼æ°æ®éçåè¾¨çï¼å³ä¸ä¸ªååæä»£è¡¨çå®å°è·ç¦»ï¼ä¸ç¹æ°æ®éåä½ç¸åã 
 * @param {SuperMap.FilterParameter} [options.filterQueryParameter] - å±æ§è¿æ»¤æ¡ä»¶ã 
 * @param {string} [options.pixelFormat] - æå®ç»ææ æ ¼æ°æ®éå­å¨çåç´ æ ¼å¼ã 
 * @param {string} [options.dataset] - è¦ç¨æ¥åæå¼åæçæ°æ®æºä¸­æ°æ®éçåç§°ãè¯¥åç§°ç¨å½¢å¦ âæ°æ®éåç§°@æ°æ®æºå«åâ å½¢å¼æ¥è¡¨ç¤ºãå½æå¼åæç±»åï¼SuperMap.InterpolationAnalystTypeï¼ä¸º dataset æ¶ã
 * @param {Array.<SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point>} [options.inputPoints] - ç¨äºåæå¼åæçç¦»æ£ç¹éåãå½æå¼åæç±»åï¼InterpolationAnalystTypeï¼ä¸º geometry æ¶ã
 * @extends {SuperMap.InterpolationAnalystParameters}
 * @example ä¾å¦ï¼
 * var myInterpolationKrigingAnalystParameters = new SuperMap.InterpolationKrigingAnalystParameters({
 *     dataset:"SamplesP@Interpolation",
 *     type: "KRIGING",
 *     angle: 0,
 *     mean: 5,
 *     nugget: 30,
 *     range: 50,
 *     sill: 300,
 *     variogramMode: "EXPONENTIAL",
 *     searchMode: "QUADTREE",
 *     maxPointCountForInterpolation: 20,
 *     maxPointCountInNode: 5,
 *     pixelFormat: "BIT16",
 *     zValueFieldName: "AVG_TMP",
 *     resolution: 30000,
 *     filterQueryParameter: {
 *         attributeFilter: ""
 *     },
 *     outputDatasetName: "myKriging"
 * });
 *
 */
class InterpolationKrigingAnalystParameters_InterpolationKrigingAnalystParameters extends InterpolationAnalystParameters_InterpolationAnalystParameters {

    constructor(options) {
        super(options);
        /**
         * @member {SuperMap.InterpolationAlgorithmType} SuperMap.InterpolationKrigingAnalystParameters.prototype.type
         * @description ååéæå¼çç±»åã
         * å·ä½å¦ä¸ï¼<br>
         * {KRIGING} æ®éååéæå¼æ³ã
         * {SimpleKriging} ç®åååéæå¼æ³ã
         * {UniversalKriging} æ³ååéæå¼æ³ã
         */
        this.type = null;

        /**
         * @member {number} SuperMap.InterpolationKrigingAnalystParameters.prototype.mean
         * @description ãç®åååéãæ¹å¼ä¸ï¼æå¼å­æ®µçå¹³åå¼ã
         * å³éæ ·ç¹æå¼å­æ®µå¼æ»åé¤ä»¥éæ ·ç¹æ°ç®ã
         */
        this.mean = null;

        /**
         * @member {number} [SuperMap.InterpolationKrigingAnalystParameters.prototype.angle=0]
         * @description ååéç®æ³ä¸­æè½¬è§åº¦å¼ã
         * æ­¤è§åº¦å¼æç¤ºäºæ¯ä¸ªæ¥æ¾é»åç¸å¯¹äºæ°´å¹³æ¹åéæ¶éæè½¬çè§åº¦ã
         */
        this.angle = 0;

        /**
         * @member {number} [SuperMap.InterpolationKrigingAnalystParameters.prototype.nugget=0]
         * @description ååéç®æ³ä¸­åéæåºå¼ã
         */
        this.nugget = 0;

        /**
         * @member {number} [SuperMap.InterpolationKrigingAnalystParameters.prototype.range=0]
         * @description ååéç®æ³ä¸­èªç¸å³éå¼ï¼åä½ä¸åæ°æ®éåä½ç¸åã
         */
        this.range = 0;

        /**
         * @member {number} [SuperMap.InterpolationKrigingAnalystParameters.prototype.sill=0]
         * @description ååéç®æ³ä¸­åºå°å¼ã
         */
        this.sill = 0;

        /**
         * @member {SuperMap.VariogramMode} [SuperMap.InterpolationKrigingAnalystParameters.prototype.variogramMode=SuperMap.VariogramMode.SPHERICAL]
         * @description ååéæå¼æ¶çååå½æ°ç±»åã
         * ç¨æ·æéæ©çååå½æ°ç±»åä¼å½±åæªç¥ç¹çé¢æµï¼ç¹å«æ¯æ²çº¿å¨åç¹å¤çä¸åå½¢ç¶æéè¦æä¹ã
         * æ²çº¿å¨åç¹å¤è¶é¡ï¼åè¾è¿é¢åå¯¹è¯¥é¢æµå¼çå½±åå°±è¶å¤§ï¼å æ­¤è¾åºè¡¨é¢å°±ä¼è¶ä¸åæ»ã
         */
        this.variogramMode = VariogramMode.SPHERICAL;

        /**
         * @member {SuperMap.Exponent} [SuperMap.InterpolationKrigingAnalystParameters.prototype.exponent=SuperMap.Exponent.EXP1]
         * @description ãæ³ååéãç±»åä¸ï¼ç¨äºæå¼çæ ·ç¹æ°æ®ä¸­è¶å¿é¢æ¹ç¨çé¶æ°ã
         */
        this.exponent = Exponent.EXP1;

        /**
         * @member {SuperMap.SearchMode} SuperMap.InterpolationKrigingAnalystParameters.prototype.searchMode
         * @description æå¼è¿ç®æ¶ï¼æ¥æ¾åä¸è¿ç®ç¹çæ¹å¼ï¼æåºå®ç¹æ°æ¥æ¾ãå®é¿æ¥æ¾ãåæ¥æ¾ãå¿è®¾åæ°ã
         * ç®åååéåæ³ååéä¸æ¯æåæ¥æ¾ã
         * å·ä½å¦ä¸ï¼<br>
         * {KDTREE_FIXED_COUNT} ä½¿ç¨ KDTREE çåºå®ç¹æ°æ¹å¼æ¥æ¾åä¸åæåæçç¹ã<br>
         * {KDTREE_FIXED_RADIUS} ä½¿ç¨ KDTREE çå®é¿æ¹å¼æ¥æ¾åä¸åæåæçç¹ã<br>
         * {QUADTREE} ä½¿ç¨ QUADTREE æ¹å¼æ¥æ¾åä¸åæåæçç¹ï¼åæ¥æ¾ï¼ã
         */
        this.searchMode = null;

        /**
         * @member {number} [SuperMap.InterpolationKrigingAnalystParameters.prototype.expectedCount=12]
         * @description ãåºå®ç¹æ°æ¥æ¾ãæ¹å¼ä¸ï¼è®¾ç½®å¾æ¥æ¾çç¹æ°ï¼å³åä¸å·®å¼è¿ç®çç¹æ°ï¼é»è®¤å¼ä¸º12ã
         * ãå®é¿æ¥æ¾ãæ¹å¼ä¸ï¼è®¾ç½®æ¥æ¾çæå°ç¹æ°ï¼é»è®¤å¼ä¸º12ã
         */
        this.expectedCount = 12;

        /**
         * @member {number} [SuperMap.InterpolationKrigingAnalystParameters.prototype.maxPointCountForInterpolation=200]
         * @description ãåæ¥æ¾ãæ¹å¼ä¸ï¼æå¤åä¸æå¼çç¹æ°ã
         * ä»ç¨äºæ®éååéæå¼ï¼ç®åååéåæ³ååéä¸æ¯æåæ¥æ¾ã
         */
        this.maxPointCountForInterpolation = 200;

        /**
         * @member {number} [SuperMap.InterpolationKrigingAnalystParameters.prototype.maxPointCountForInterpolation=50]
         * @description ãåæ¥æ¾ãæ¹å¼ä¸ï¼è®¾ç½®åä¸ªååæå¤åä¸è¿ç®ç¹æ°ã
         * ä»ç¨äºæ®éååéæå¼ï¼ç®åååéåæ³ååéä¸æ¯æåæ¥æ¾ã
         */
        this.maxPointCountInNode = 50;
        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = "SuperMap.InterpolationKrigingAnalystParameters";
    }

    /**
     * @function SuperMap.InterpolationKrigingAnalystParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        super.destroy();
        var me = this;
        me.type = null;
        me.mean = null;
        me.angle = null;
        me.nugget = null;
        me.range = null;
        me.sill = null;
        me.variogramMode = null;
        me.exponent = null;
        me.searchMode = null;
        me.expectedCount = null;
        me.maxPointCountForInterpolation = null;
        me.maxPointCountInNode = null;
    }
}

SuperMap.InterpolationKrigingAnalystParameters = InterpolationKrigingAnalystParameters_InterpolationKrigingAnalystParameters;
// CONCATENATED MODULE: ./src/common/iServer/InterpolationAnalystService.js









/**
 * @class SuperMap.InterpolationAnalystService
 * @category iServer SpatialAnalyst InterpolationAnalyst
 * @classdesc æå¼åææå¡ç±»ã
 * æå¼åæå¯ä»¥å°æéçéæ ·ç¹æ°æ®ï¼éè¿æå¼ç®æ³å¯¹éæ ·ç¹å¨å´çæ°å¼æåµè¿è¡é¢æµï¼å¯ä»¥ææ¡ç ç©¶åºååæ°æ®çæ»ä½åå¸ç¶åµï¼ä»èä½¿éæ ·çç¦»æ£ç¹ä¸ä»ä»åæ å¶æå¨ä½ç½®çæ°å¼æåµï¼
 * è¿å¯ä»¥åæ åºåçæ°å¼åå¸ãç®åSuperMap iServerçæå¼åè½æä¾ä»ç¹æ°æ®éæå¼å¾å°æ æ ¼æ°æ®éçåè½ï¼æ¯æä»¥ä¸å¸¸ç¨çåææ¹æ³ï¼
 * åæ¬ï¼åè·ç¦»å ææå¼ãååéï¼Krigingï¼æå¼æ³ãæ ·æ¡ï¼å¾ååºå½æ°ï¼Radial Basis Functionï¼æå¼ãç¹å¯åº¦æå¼ã
 * @param {string} url - æå¡çè®¿é®å°åãå¦ http://localhost:8090/iserver/services/spatialanalyst-changchun/restjsr/spatialanalystã
 * @param {Object} options - åæ°ã</br>
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 * @extends {SuperMap.SpatialAnalystBase}
 * @example ä¾å¦ï¼
 * (start code)
 * var myTInterpolationAnalystService = new SuperMap.InterpolationAnalystService(url);
 * myTInterpolationAnalystService.events.on({
     *     "processCompleted": processCompleted,
     *     "processFailed": processFailed
     *     }
 * );
 * (end)
 *
 */
class InterpolationAnalystService_InterpolationAnalystService extends SpatialAnalystBase_SpatialAnalystBase {


    constructor(url, options) {
        super(url, options);
        /**
         * @member {string} SuperMap.InterpolationAnalystService.prototype.mode
         * @description æå¼åæç±»åã
         */

        this.mode = null;
        if (options) {
            Util_Util.extend(this, options);
        }
    }

    /**
     * @function SuperMap.InterpolationAnalystService.prototype.destroy
     * @description éæ¾èµæº,å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        super.destroy();
        this.mode = null;
        this.CLASS_NAME = "SuperMap.InterpolationAnalystService";
    }

    /**
     * @function SuperMap.InterpolationAnalystService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.InterpolationAnalystParameters} parameter - æå¼åæåæ°ç±»ã
     */
    processAsync(parameter) {
        var parameterObject = {};
        var me = this;

        var end = me.url.substr(me.url.length - 1, 1);
        if (end !== '/') {
            me.url += "/";
        }

        if (parameter instanceof InterpolationDensityAnalystParameters_InterpolationDensityAnalystParameters) {
            me.mode = "Density";
            if (parameter.InterpolationAnalystType === "geometry") {
                me.url += 'geometry/interpolation/density';
            } else {
                me.url += 'datasets/' + parameter.dataset + '/interpolation/density';
            }
        } else if (parameter instanceof InterpolationIDWAnalystParameters_InterpolationIDWAnalystParameters) {
            me.mode = "IDW";
            if (parameter.InterpolationAnalystType === "geometry") {
                me.url += 'geometry/interpolation/idw';
            } else {
                me.url += 'datasets/' + parameter.dataset + '/interpolation/idw';
            }
        } else if (parameter instanceof InterpolationRBFAnalystParameters_InterpolationRBFAnalystParameters) {
            me.mode = "RBF";
            if (parameter.InterpolationAnalystType === "geometry") {
                me.url += 'geometry/interpolation/rbf';
            } else {
                me.url += 'datasets/' + parameter.dataset + '/interpolation/rbf';
            }
        } else if (parameter instanceof InterpolationKrigingAnalystParameters_InterpolationKrigingAnalystParameters) {
            me.mode = "Kriging";
            if (parameter.InterpolationAnalystType === "geometry") {
                me.url += 'geometry/interpolation/kriging';
            } else {
                me.url += 'datasets/' + parameter.dataset + '/interpolation/kriging';
            }
        }
        InterpolationAnalystParameters_InterpolationAnalystParameters.toObject(parameter, parameterObject);
        var jsonParameters = Util_Util.toJSON(parameterObject);
        me.url += '.json?returnContent=true';

        me.request({
            method: "POST",
            data: jsonParameters,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }
}

SuperMap.InterpolationAnalystService = InterpolationAnalystService_InterpolationAnalystService;
// CONCATENATED MODULE: ./src/common/iServer/KernelDensityJobParameter.js





/**
 * @class SuperMap.KernelDensityJobParameter
 * @category iServer ProcessingService DensityAnalyst
 * @classdesc å¯åº¦åæä»»å¡åæ°ç±»ã
 * @param {Object} options - åæ°ã 
 * @param {string} options.datasetName - æ°æ®éåã 
 * @param {string} options.fields - æéç´¢å¼ã 
 * @param {(SuperMap.Bounds|L.Bounds|ol.extent)} options.query - åæèå´ã 
 * @param {number} [options.resolution=80] - åè¾¨çã 
 * @param {number} [options.method=0] - åææ¹æ³ã 
 * @param {number} [options.meshType=0] - åæç±»åã 
 * @param {number} [options.radius=300] - åæçå½±ååå¾ã
 * @param {SuperMap.OutputSetting} [options.output] - è¾åºåæ°è®¾ç½®ã
 */
class KernelDensityJobParameter_KernelDensityJobParameter {

    constructor(options) {
        if (!options) {
            return;
        }
        /**
         * @member {string} SuperMap.KernelDensityJobParameter.prototype.datasetName
         * @description æ°æ®éåã
         */
        this.datasetName = "";

        /**
         * @member {SuperMap.Bounds|L.Bounds|ol.extent} SuperMap.KernelDensityJobParameter.prototype.query
         * @description åæèå´ã 
         */
        this.query = "";

        /**
         * @member {number} [SuperMap.KernelDensityJobParameter.prototype.resolution=80]
         * @description ç½æ ¼å¤§å°ã
         */
        this.resolution = 80;

        /**
         * @member {number} [SuperMap.KernelDensityJobParameter.prototype.method=0]
         * @description åææ¹æ³ã
         */
        this.method = 0;

        /**
         * @member {number} [SuperMap.KernelDensityJobParameter.prototype.meshType=0]
         * @description åæç±»åã
         */
        this.meshType = 0;

        /**
         * @member {string} SuperMap.KernelDensityJobParameter.prototype.fields
         * @description æéç´¢å¼ã
         */
        this.fields = "";

        /**
         * @member {number} [SuperMap.KernelDensityJobParameter.prototype.radius=300]
         * @description åæçå½±ååå¾ã
         */
        this.radius = 300;

        /**
         * @member {SuperMap.AnalystSizeUnit} [SuperMap.KernelDensityJobParameter.prototype.meshSizeUnit=SuperMap.AnalystSizeUnit.METER]
         * @description ç½æ ¼å¤§å°åä½ã
         */
        this.meshSizeUnit = AnalystSizeUnit.METER;

        /**
         * @member {SuperMap.AnalystSizeUnit} [SuperMap.KernelDensityJobParameter.prototype.radiusUnit=SuperMap.AnalystSizeUnit.METER]
         * @description æç´¢åå¾åä½ã
         */
        this.radiusUnit = AnalystSizeUnit.METER;

        /**
         * @member {SuperMap.AnalystAreaUnit} [SuperMap.KernelDensityJobParameter.prototype.areaUnit=SuperMap.AnalystAreaUnit.SQUAREMILE]
         * @description é¢ç§¯åä½ã
         */
        this.areaUnit = AnalystAreaUnit.SQUAREMILE;

        /**
         * @member {SuperMap.OutputSetting} SuperMap.KernelDensityJobParameter.prototype.output
         * @description è¾åºåæ°è®¾ç½®ç±»
         */
        this.output = null;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.KernelDensityJobParameter";
    }

    /**
     * @function SuperMap.KernelDensityJobParameter.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        this.datasetName = null;
        this.query = null;
        this.resolution = null;
        this.method = null;
        this.radius = null;
        this.meshType = null;
        this.fields = null;
        this.meshSizeUnit = null;
        this.radiusUnit = null;
        this.areaUnit = null;
        if (this.output instanceof OutputSetting_OutputSetting) {
            this.output.destroy();
            this.output = null;
        }
    }

    /**
     * @function SuperMap.KernelDensityJobParameter.toObject
     * @param {SuperMap.KernelDensityJobParameter} kernelDensityJobParameter - å¯åº¦åæä»»å¡åæ°ç±»ã
     * @param {SuperMap.KernelDensityJobParameter} tempObj - å¯åº¦åæä»»å¡åæ°å¯¹è±¡ã
     * @description å°å¯åº¦åæä»»å¡åæ°å¯¹è±¡è½¬æ¢ä¸º JSON å¯¹è±¡ã
     * @returns JSON å¯¹è±¡ã
     */
    static toObject(kernelDensityJobParameter, tempObj) {
        for (var name in kernelDensityJobParameter) {
            if (name === "datasetName") {
                tempObj['input'] = tempObj['input'] || {};
                tempObj['input'][name] = kernelDensityJobParameter[name];
                continue;
            }
            if (name === "output"){
                tempObj['output'] = tempObj['output'] || {};
                tempObj['output'] = kernelDensityJobParameter[name];
                continue;
            }
            tempObj['analyst'] = tempObj['analyst'] || {};
            if (name === 'query') {
                tempObj['analyst'][name] = kernelDensityJobParameter[name].toBBOX();
            } else {
                tempObj['analyst'][name] = kernelDensityJobParameter[name];
            }
        }
    }
}
SuperMap.KernelDensityJobParameter = KernelDensityJobParameter_KernelDensityJobParameter;

// CONCATENATED MODULE: ./src/common/iServer/KernelDensityJobsService.js




/**
 * @class SuperMap.KernelDensityJobsService
 * @category  iServer ProcessingService DensityAnalyst
 * @classdesc æ ¸å¯åº¦åææå¡ç±»
 * @extends {SuperMap.ProcessingServiceBase}
 * @param {string} url -æ ¸å¯åº¦åææå¡å°åã
 * @param {Object} options - äº¤äºæå¡æ¶æéå¯éåæ°ã
 */
class KernelDensityJobsService_KernelDensityJobsService extends ProcessingServiceBase_ProcessingServiceBase {

    constructor(url, options) {
        super(url, options);
        this.url += "/spatialanalyst/density";
        this.CLASS_NAME = "SuperMap.KernelDensityJobsService";
    }

    /**
     * @function SuperMap.KernelDensityJobsService.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.KernelDensityJobsService.prototype.getKernelDensityJobs
     * @description è·åæ ¸å¯åº¦åæä»»å¡
     */
    getKernelDensityJobs() {
        super.getJobs(this.url);
    }

    /**
     * @function SuperMap.KernelDensityJobsService.prototype.getKernelDensityJobs
     * @description è·åæå®idçæ ¸å¯åº¦åææå¡
     * @param {string} id - æå®è¦è·åæ°æ®çid
     */
    getKernelDensityJob(id) {
        super.getJobs(this.url + '/' + id);
    }

    /**
     * @function SuperMap.KernelDensityJobsService.prototype.addKernelDensityJob
     * @description æ°å»ºæ ¸å¯åº¦åææå¡
     * @param {SuperMap.KernelDensityJobParameter} params - åå»ºä¸ä¸ªç©ºé´åæçè¯·æ±åæ°ã
     * @param {number} seconds - å¼å§åå»ºåï¼è·ååå»ºæåç»æçæ¶é´é´éã
     */
    addKernelDensityJob(params, seconds) {
        super.addJob(this.url, params, KernelDensityJobParameter_KernelDensityJobParameter, seconds);
    }

}

SuperMap.KernelDensityJobsService = KernelDensityJobsService_KernelDensityJobsService;
// CONCATENATED MODULE: ./src/common/iServer/LabelMatrixCell.js


/**
 * @class SuperMap.LabelMatrixCell
 * @category iServer Map Theme
 * @classdesc ç©éµæ ç­¾åç´ æ½è±¡ç±»ã
 * @description è¯¥ç±»å¯ä»¥åå« n*n ä¸ªç©éµæ ç­¾åç´ ï¼ç©éµæ ç­¾åç´ çç±»åå¯ä»¥æ¯å¾çï¼ç¬¦å·ï¼æ ç­¾ä¸é¢å¾ç­ã
 *              ç¬¦å·ç±»åçç©éµæ ç­¾åç´ ç±»ãå¾çç±»åçç©éµæ ç­¾åç´ ç±»åä¸é¢å¾ç±»åçç©éµæ ç­¾åç´ ç±»åç»§æ¿èªè¯¥ç±»ã
 */
class LabelMatrixCell {
    constructor() {
        this.CLASS_NAME = "LabelMatrixCell";
    }

}

SuperMap.LabelMatrixCell = LabelMatrixCell;
// CONCATENATED MODULE: ./src/common/iServer/LabelImageCell.js




/**
 * @class SuperMap.LabelImageCell
 * @category iServer Map Theme
 * @classdesc å¾çç±»åçç©éµæ ç­¾åç´ ç±»ã
 * @description è¯¥ç±»ç»§æ¿èª {@link SuperMap.LabelMatrixCell}ç±»ï¼ä¸»è¦å¯¹ç©éµæ ç­¾ä¸­çä¸é¢å¾ç±»åçç©éµæ ç­¾åç´ è¿è¡è®¾ç½®ã
 * ç©éµæ ç­¾ä¸é¢å¾æ¯æ ç­¾ä¸é¢å¾ï¼ThemeLabelï¼çä¸ç§ï¼å¶ä¸­ç©éµæ ç­¾ä¸­çå¡«ååç´ åå¯åä¸ºå¾çç±»åï¼{@link SuperMap.LabelImageCell}ï¼ã
 * ç¬¦å·ç±»åï¼{@link SuperMap.LabelSymbolCell}ï¼ãä¸é¢å¾ç±»åï¼{@link SuperMap.LabelThemeCell}ï¼ä¸ç§ï¼è¯¥ç±»æ¯è¿ä¸ç§ç±»åçç©éµæ ç­¾åç´ å¶ä¸­çä¸ç§ï¼
 * ç¨äºå®ä¹ç¬¦å·ç±»åçç©éµæ ç­¾ï¼å¦ç¬¦å· ID å­æ®µåç§°ï¼ç¬¦å· ID ä¸ SuperMap æ¡é¢äº§åä¸­ç¹ãçº¿ãé¢ç¬¦å·ç ID å¯¹åºï¼ ãå¤§å°ç­ã
 * ç¨æ·å¨å®ç°ç©éµæ ç­¾ä¸é¢å¾æ¶åªéå°å®ä¹å¥½çç©éµæ ç­¾åç´ èµå¼äº {@link SuperMap.ThemeLabel.matrixCells} å±æ§å³å¯ãmatrixCells æ¯ä¸ä¸ªäºç»´æ°ç»ï¼
 * æ¯ä¸ç»´å¯ä»¥æ¯ä»»æç±»åçç©éµæ ç­¾åç´ ç»æçæ°ç»ï¼ä¹å¯æ¯åä¸ªæ ç­¾åç´ ç»æçæ°ç»ï¼å³æ°ç»ä¸­åªæä¸ä¸ªåç´ ï¼ã
 * @extends {SuperMap.LabelMatrixCell}
 * @param {Object} options - åæ°ã 
 * @param {number} [options.height=0] - è®¾ç½®å¾ççé«åº¦ï¼åä½ä¸ºæ¯«ç±³ã
 * @param {string} [options.pathField] - è®¾ç½®ç©éµæ ç­¾åç´ æä½¿ç¨å¾ççè·¯å¾ã 
 * @param {number} [options.rotation=0.0] - å¾ççæè½¬è§åº¦ãéæ¶éæ¹åä¸ºæ­£æ¹åï¼åä½ä¸ºåº¦ï¼ç²¾ç¡®å°0.1åº¦ã
 * @param {number} [options.width=0] - è®¾ç½®å¾ççå®½åº¦ï¼åä½ä¸ºæ¯«ç±³ã
 * @param {boolean} [options.sizeFixed=false] - æ¯å¦åºå®å¾ççå¤§å°ã
 */
class LabelImageCell_LabelImageCell extends LabelMatrixCell {

    constructor(options) {
        super(options);
        /**
         * @member {number} SuperMap.LabelImageCell.prototype.height
         * @description è®¾ç½®å¾ççé«åº¦ï¼åä½ä¸ºæ¯«ç±³ã
         */
        this.height = 0;

        /**
         * @member {string} SuperMap.LabelImageCell.prototype.pathField
         * @description è®¾ç½®ç©éµæ ç­¾åç´ æä½¿ç¨çå¾çè·¯å¾å¯¹åºçå­æ®µåã
         */
        this.pathField = null;

        /**
         * @member {number} [SuperMap.LabelImageCell.prototype.rotation=0.0]
         * @description å¾ççæè½¬è§åº¦ãéæ¶éæ¹åä¸ºæ­£æ¹åï¼åä½ä¸ºåº¦ï¼ç²¾ç¡®å°0.1åº¦ã
         */
        this.rotation = 0.0;

        /**
         * @member {number} SuperMap.LabelImageCell.prototype.width
         * @description è®¾ç½®å¾ççå®½åº¦ï¼åä½ä¸ºæ¯«ç±³ã
         */
        this.width = 0;

        /**
         * @member {boolean} [SuperMap.LabelImageCell.prototype.sizeFixed=false]
         * @description æ¯å¦åºå®å¾ççå¤§å°ã
         */
        this.sizeFixed = false;

        /**
         * @member {string} SuperMap.LabelImageCell.prototype.type
         * @description å¶ä½ç©éµä¸é¢å¾æ¶æ¯å¿é¡»çã
         */
        this.type = "IMAGE";

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.LabelImageCell";
    }

    /**
     * @function SuperMap.LabelImageCell.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.height = null;
        me.pathField = null;
        me.rotation = null;
        me.width = null;
        me.sizeFixed = null;
    }
}

SuperMap.LabelImageCell = LabelImageCell_LabelImageCell;
// CONCATENATED MODULE: ./src/common/iServer/LabelSymbolCell.js





/**
 * @class SuperMap.LabelSymbolCell
 * @category  iServer Map Theme 
 * @classdesc ç¬¦å·ç±»åçç©éµæ ç­¾åç´ ç±»ã
 * @description è¯¥ç±»ç»§æ¿èª {@link SuperMap.LabelMatrixCell}ç±»ï¼ä¸»è¦å¯¹ç©éµæ ç­¾ä¸­çä¸é¢å¾ç±»åçç©éµæ ç­¾åç´ è¿è¡è®¾ç½®ã
 * ç©éµæ ç­¾ä¸é¢å¾æ¯æ ç­¾ä¸é¢å¾ï¼{@link SuperMap.ThemeLabel}ï¼çä¸ç§ï¼å¶ä¸­ç©éµæ ç­¾ä¸­çå¡«ååç´ åå¯åä¸ºå¾çç±»åï¼{@link SuperMap.LabelImageCell}ï¼ã
 * ç¬¦å·ç±»åï¼{@link SuperMap.LabelSymbolCell}ï¼ãä¸é¢å¾ç±»åï¼{@link SuperMap.LabelThemeCell}ï¼ä¸ç§ï¼è¯¥ç±»æ¯è¿ä¸ç§ç±»åçç©éµæ ç­¾åç´ å¶ä¸­çä¸ç§ï¼
 * ç¨äºå®ä¹ç¬¦å·ç±»åçç©éµæ ç­¾ï¼å¦ç¬¦å· ID å­æ®µåç§°ï¼ç¬¦å· ID ä¸ SuperMap æ¡é¢äº§åä¸­ç¹ãçº¿ãé¢ç¬¦å·ç ID å¯¹åºï¼ ãå¤§å°ç­ã
 * ç¨æ·å¨å®ç°ç©éµæ ç­¾ä¸é¢å¾æ¶åªéå°å®ä¹å¥½çç©éµæ ç­¾åç´ èµå¼äº {@link SuperMap.ThemeLabel.matrixCells} å±æ§å³å¯ãmatrixCells å±æ¯ä¸ä¸ªäºç»´æ°ç»ï¼
 * æ¯ä¸ç»´å¯ä»¥æ¯ä»»æç±»åçç©éµæ ç­¾åç´ ç»æçæ°ç»ï¼ä¹å¯æ¯åä¸ªæ ç­¾åç´ ç»æçæ°ç»ï¼å³æ°ç»ä¸­åªæä¸ä¸ªåç´ ï¼ã
 * @extends {SuperMap.LabelMatrixCell}
 * @param {Object} options - åæ°ã 
 * @param {SuperMap.ServerStyle} options.style - è·åæè®¾ç½®ç¬¦å·æ ·å¼ã 
 * @param {string} options.symbolIDField - ç¬¦å· ID æç¬¦å· ID æå¯¹åºçå­æ®µåç§°ã
 */
class LabelSymbolCell_LabelSymbolCell extends LabelMatrixCell {

    constructor(options) {
        super(options);
        /**
         * @member {SuperMap.ServerStyle} SuperMap.LabelSymbolCell.prototype.style
         * @description è·åæè®¾ç½®ç¬¦å·æ ·å¼ââ {@link SuperMap.ServerStyle} å¯¹è±¡ï¼åæ¬ç¬¦å·å¤§å°ï¼{@link SuperMap.ServerStyle.markerSize}ï¼
         *              åç¬¦å·æè½¬ï¼{@link SuperMap.ServerStyle.markerAngle}ï¼è§åº¦ï¼å¶ä¸­ç¨äºè®¾ç½®ç¬¦å· ID çå±æ§ï¼{@link SuperMap.ServerStyle.markerSymbolID}ï¼å¨æ­¤å¤ä¸èµ·ä½ç¨ã
         */
        this.style = new ServerStyle_ServerStyle();

        /**
         * @member {string} SuperMap.LabelSymbolCell.prototype.symbolIDField
         * @description è·åæè®¾ç½®ç¬¦å· ID æç¬¦å· ID æå¯¹åºçå­æ®µåç§°ã
         */
        this.symbolIDField = null;

        /**
         * @member {string} SuperMap.LabelSymbolCell.prototype.type
         * @description å¶ä½ç©éµä¸é¢å¾æ¶æ¯å¿é¡»çã
         */
        this.type = "SYMBOL";

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.LabelSymbolCell";
    }

    /**
     * @function SuperMap.LabelSymbolCell.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        if (me.style) {
            me.style.destroy();
            me.style = null;
        }
        me.symbolIDField = null;
    }

}

SuperMap.LabelSymbolCell = LabelSymbolCell_LabelSymbolCell;
// CONCATENATED MODULE: ./src/common/iServer/LabelThemeCell.js





/**
 * @class SuperMap.LabelThemeCell
 * @category iServer Map Theme
 * @classdesc ä¸é¢å¾ç±»åçç©éµæ ç­¾åç´ ç±»ã
 * @description è¯¥ç±»ç»§æ¿èª {@link SuperMap.LabelMatrixCell} ç±»ï¼ä¸»è¦å¯¹ç©éµæ ç­¾ä¸­çä¸é¢å¾ç±»åçç©éµæ ç­¾åç´ è¿è¡è®¾ç½®ã
 *              ç©éµæ ç­¾ä¸é¢å¾æ¯æ ç­¾ä¸é¢å¾ï¼{@link SuperMap.ThemeLabel}ï¼çä¸ç§ï¼å¶ä¸­ç©éµæ ç­¾ä¸­çå¡«ååç´ åå¯åä¸ºå¾çç±»åï¼{@link SuperMap.LabelImageCell}ï¼ã
 *              ç¬¦å·ç±»åï¼{@link SuperMap.LabelSymbolCell}ï¼ãä¸é¢å¾ç±»åï¼{@link SuperMap.LabelThemeCell}ï¼ä¸ç§ï¼è¯¥ç±»æ¯è¿ä¸ç§ç±»åçç©éµæ ç­¾åç´ å¶ä¸­çä¸ç§ï¼
 *              ç¨äºå®ä¹ç¬¦å·ç±»åçç©éµæ ç­¾ï¼å¦ç¬¦å· ID å­æ®µåç§°ï¼ç¬¦å· ID ä¸ SuperMap æ¡é¢äº§åä¸­ç¹ãçº¿ãé¢ç¬¦å·ç ID å¯¹åºï¼ ãå¤§å°ç­ã
 *              ç¨æ·å¨å®ç°ç©éµæ ç­¾ä¸é¢å¾æ¶åªéå°å®ä¹å¥½çç©éµæ ç­¾åç´ èµå¼äº {@link SuperMap.ThemeLabel.matrixCells} å±æ§å³å¯ãmatrixCells å±æ¯ä¸ä¸ªäºç»´æ°ç»ï¼
 *              æ¯ä¸ç»´å¯ä»¥æ¯ä»»æç±»åçç©éµæ ç­¾åç´ ç»æçæ°ç»ï¼ä¹å¯æ¯åä¸ªæ ç­¾åç´ ç»æçæ°ç»ï¼å³æ°ç»ä¸­åªæä¸ä¸ªåç´ ï¼ã
 * @extends {SuperMap.LabelMatrixCell}
 * @param {Object} options -åæ°ã 
 * @param {SuperMap.ThemeLabel} options.themeLabel - ä½¿ç¨ä¸é¢å¾å¯¹è±¡ä½ä¸ºç©éµæ ç­¾çä¸ä¸ªåç´ ã
 */
class LabelThemeCell_LabelThemeCell extends LabelMatrixCell {


    constructor(options) {
        super(options);
        /**
         * @member {SuperMap.ThemeLabel} SuperMap.LabelThemeCell.prototype.themeLabel
         * @description ä½¿ç¨ä¸é¢å¾å¯¹è±¡ä½ä¸ºç©éµæ ç­¾çä¸ä¸ªåç´ ã
         */
        this.themeLabel =  new ThemeLabel_ThemeLabel();

        /**
         * @member {string} SuperMap.LabelThemeCell.prototype.type
         * @description å¶ä½ç©éµä¸é¢å¾æ¶æ¯å¿é¡»çã
         */
        this.type = "THEME";

        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = " SuperMap.LabelThemeCell";
    }

    /**
     * @function SuperMap.LabelThemeCell.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        if (me.themeLabel) {
            me.themeLabel.destroy();
            me.themeLabel = null;
        }
    }


}

SuperMap.LabelThemeCell = LabelThemeCell_LabelThemeCell;
// CONCATENATED MODULE: ./src/common/iServer/LayerStatus.js



/**
 * @class SuperMap.LayerStatus
 * @category iServer Map Theme
 * @classdesc å­å¾å±æ¾ç¤ºåæ°ç±»ã
 * @description è¯¥ç±»å­å¨äºåä¸ªå­å¾å±çåå­åæ¯å¦å¯è§çç¶æã
 * @param {Object} options - åæ°ã
 * @param {string} options.layerName - è·åæè®¾ç½®å¾å±åç§°ã
 * @param {boolean} [options.isVisible=true] - è·åæè®¾ç½®å¾å±æ¯å¦å¯è§ï¼true è¡¨ç¤ºå¯è§ã
 * @param {string} [options.displayFilter] - å¾å±æ¾ç¤º SQL è¿æ»¤æ¡ä»¶ã
 */
class LayerStatus_LayerStatus {

    constructor(options) {
        /**
         * @member {string} SuperMap.LayerStatus.prototype.layerName
         * @description è·åæè®¾ç½®å¾å±åç§°ã
         */
        this.layerName = null;

        /**
         * @member {boolean} SuperMap.LayerStatus.prototype.isVisible
         * @description è·åæè®¾ç½®å¾å±æ¯å¦å¯è§ï¼true è¡¨ç¤ºå¯è§ã
         */
        this.isVisible = null;

        /**
         * @member {string} [SuperMap.LayerStatus.prototype.displayFilter]
         * @description å¾å±æ¾ç¤º SQL è¿æ»¤æ¡ä»¶ï¼å¦ layerStatus.displayFilter = "smid < 10"ï¼è¡¨ç¤ºä»æ¾ç¤º smid å¼å°äº 10 çå¯¹è±¡ã
         */
        this.displayFilter = null;

        /**
         * @member {Object} [SuperMap.LayerStatus.prototype.fieldValuesDisplayFilter]
         * @property {Array.<number>} values - è¦è¿æ»¤çå¼ã
         * @property {string} fieldName - è¦è¿æ»¤çå­æ®µåç§°åªæ¯ææ°å­ç±»åçå­æ®µã
         * @property {string} fieldValuesDisplayMode - ç®åæä¸¤ä¸ª DISPLAY/DISABLEãå½ä¸º DISPLAY æ¶ï¼è¡¨ç¤ºåªæ¾ç¤ºä»¥ä¸è®¾ç½®çç¸åºå±æ§å¼çè¦ç´ ï¼å¦åè¡¨ç¤ºä¸æ¾ç¤ºä»¥ä¸è®¾ç½®çç¸åºå±æ§å¼çè¦ç´ ã
         */

        this.fieldValuesDisplayFilter = null;

        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = "SuperMap.LayerStatus";
    }

    /**
     * @function SuperMap.LayerStatus.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.layerName = null;
        me.isVisible = null;
        me.displayFilter = null;
    }


    /**
     * @function SuperMap.LayerStatus.prototype.toJSON
     * @description çæå¯¹åºç JSONã
     * @returns {Object} å¯¹åºç JSONã
     */
    toJSON() {
        var json = '{';
        json += '"type":"UGC",';
        var v = [];
        if (this.layerName) {
            v.push('"name":"' + this.layerName + '"');
            v.push('"visible":' + this.isVisible);
        }

        if (this.displayFilter) {
            v.push('"displayFilter":"' + this.displayFilter + '"');
        }

        if (this.minScale || this.minScale == 0) {
            v.push('"minScale":' + this.minScale);
        }

        if (this.maxScale || this.maxScale == 0) {
            v.push('"maxScale":' + this.maxScale);
        }

        if (this.fieldValuesDisplayFilter) {
            v.push('"fieldValuesDisplayFilter":' + Util_Util.toJSON(this.fieldValuesDisplayFilter));
        }

        json += v;
        json += '}';

        return json;
    }

}

SuperMap.LayerStatus = LayerStatus_LayerStatus;
// CONCATENATED MODULE: ./src/common/iServer/MapService.js




/**
 * @class SuperMap.MapService
 * @category iServer Map
 * @classdesc å°å¾ä¿¡æ¯æå¡ç±»ã
 * @extends {SuperMap.CommonServiceBase}
 * @example
 * var myMapService = new SuperMap.MapService(url, {
 * eventListeners:{
 *     "processCompleted": MapServiceCompleted,
 *       "processFailed": MapServiceFailed
 *       }
 * });
 *
 * @param {string} url - æå¡çè®¿é®å°åãå¦ï¼http://localhost:8090/iserver/services/map-world/rest/maps/World+Map ã
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæ processCompleted å±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailed å±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã
 * @param {SuperMap.ServerType} options.serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã
 * @param {SuperMap.DataFormat} options.format - æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æ iServerJSON åGeoJSON ä¸¤ç§æ ¼å¼ãåæ°æ ¼å¼ä¸º "ISERVER","GEOJSON"ã
 */
class MapService_MapService extends CommonServiceBase_CommonServiceBase {


    constructor(url, options) {
        super(url, options);
        /**
         * @member {string} SuperMap.MapService.prototype.projection
         * @description æ ¹æ®æå½±åæ°è·åå°å¾ç¶æä¿¡æ¯ãå¦"EPSG:4326"
         */
        this.projection = null;

        this.CLASS_NAME = "SuperMap.MapService";
        if (options) {
            Util_Util.extend(this, options);
        }
        var me = this;

        if (me.projection) {
            var arr = me.projection.split(":");
            if (arr instanceof Array) {
                if (arr.length === 2) {
                    me.url += "?prjCoordSys={\"epsgCode\":" + arr[1] + "}";
                }
                if (arr.length === 1) {
                    me.url += "?prjCoordSys={\"epsgCode\":" + arr[0] + "}";
                }
            }
        }
    }

    /**
     * @function  destroy
     * @description éæ¾èµæºï¼å°å¼ç¨çèµæºå±æ§ç½®ç©ºã
     */
    destroy() {
        super.destroy();
        var me = this;
        if (me.events) {
            me.events.un(me.eventListeners);
            me.events.listeners = null;
            me.events.destroy();
            me.events = null;
            me.eventListeners = null;
        }
    }

    /**
     * @function  SuperMap.MapService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çè®¾ç½®çåæ°ä¼ éå°æå¡ç«¯ï¼ä¸æå¡ç«¯å®æå¼æ­¥éè®¯ã
     */
    processAsync() {
        var me = this;
        me.request({
            method: "GET",
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

    /*
     * Method: getMapStatusCompleted
     * è·åå°å¾ç¶æå®æï¼æ§è¡æ­¤æ¹æ³ã
     *
     * Parameters:
     * {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ã
     */
    serviceProcessCompleted(result) {
        var me = this;
        result = Util_Util.transformResult(result);
        var codeStatus = (result.code >= 200 && result.code < 300) || result.code == 0 || result.code === 304;
        var isCodeValid = result.code && codeStatus;
        if (!result.code || isCodeValid) {
            me.events && me.events.triggerEvent("processCompleted", {result: result});
        } else {
            ////å¨æ²¡ætokenæ¯è¿åçæ¯200ï¼ä½æ¯å¶å®æ¯æ²¡ææéï¼æä»¥è¿éä¹åºè¯¥æ¯è§¦åå¤±è´¥äºä»¶
            me.events.triggerEvent("processFailed", {error: result});
        }
    }

}

SuperMap.MapService = MapService_MapService;

// CONCATENATED MODULE: ./src/common/iServer/MathExpressionAnalysisParameters.js



/**
 * @class SuperMap.MathExpressionAnalysisParameters
 * @category iServer SpatialAnalyst GridMathAnalyst
 * @classdesc æ æ ¼ä»£æ°è¿ç®åæ°ç±»ã
 * @param {Object} options - åæ°ã
 * @param {string} options.dataset - è¦ç¨æ¥åæ æ ¼ä»£æ°è¿ç®æ°æ®æºä¸­æ°æ®éçåç§°ãè¯¥åç§°ç¨å½¢å¦"æ°æ®éåç§°@æ°æ®æºå«å"å½¢å¼æ¥è¡¨ç¤ºï¼ä¾å¦ï¼BaseMap_P@Jingjinã
 * @param {string} options.resultGridName - æå®ç»ææ°æ®éåç§°ã
 * @param {string} options.expression - æå®çæ æ ¼è¿ç®è¡¨è¾¾å¼ãå¦ï¼[DatasourceAlias1.Raster1]*2-10ã
 * @param {string} options.targetDatasource - æå®å­å¨ç»ææ°æ®éçæ°æ®æºã
 * @param {(SuperMap.Geometry.Polygon|L.Polygon|ol.geom.Polygon)} [options.extractRegion] - æ æ ¼ä»£æ°è¿ç®çèå´ï¼æå®æ°æ®éä¸­åä¸æ æ ¼ä»£æ°è¿ç®çåºåã
 *                                                                                        å¦æç¼ºçï¼åè®¡ç®å¨é¨åºåï¼å¦æåä¸è¿ç®çæ°æ®éèå´ä¸ä¸è´ï¼å°ä½¿ç¨æææ°æ®éçèå´çäº¤éä½ä¸ºè®¡ç®åºå ã
 * @param {boolean} [options.isZip=false] - æ¯å¦å¯¹ç»ææ°æ®éè¿è¡åç¼©å¤çã
 * @param {boolean} [options.ignoreNoValue=false] - æ¯å¦å¿½ç¥æ å¼æ æ ¼æ°æ®ãtrue è¡¨ç¤ºå¿½ç¥æ å¼æ°æ®ï¼å³æ å¼æ æ ¼ä¸åä¸è¿ç®ã
 * @param {boolean} [options.deleteExistResultDataset=false] - å¦æç¨æ·å½åçç»ææ°æ®éåç§°ä¸å·²æçæ°æ®ééåï¼æ¯å¦å é¤å·²æçæ°æ®éã
 */
class MathExpressionAnalysisParameters_MathExpressionAnalysisParameters {

    constructor(options) {
        if (!options) {
            return;
        }
        /**
         * @member {string} SuperMap.MathExpressionAnalysisParameters.prototype.dataset
         * @description è¦ç¨æ¥åæ æ ¼ä»£æ°è¿ç®æ°æ®æºä¸­æ°æ®éçåç§°ã
         * è¯¥åç§°ç¨å½¢å¦"æ°æ®éåç§°@æ°æ®æºå«å"å½¢å¼æ¥è¡¨ç¤ºï¼ä¾å¦ï¼JingjinTerrain@Jingjinã
         *
         */
        this.dataset = null;

        /**
         * @member {(SuperMap.Geometry.Polygon|L.Polygon|ol.geom.Polygon)} [SuperMap.MathExpressionAnalysisParameters.prototype.extractRegion]
         * @description æ æ ¼ä»£æ°è¿ç®çèå´ï¼æå®æ°æ®éä¸­åä¸æ æ ¼ä»£æ°è¿ç®çåºåã
         * å¦æç¼ºçï¼åè®¡ç®å¨é¨åºåï¼å¦æåä¸è¿ç®çæ°æ®éèå´ä¸ä¸è´ï¼å°ä½¿ç¨æææ°æ®éçèå´çäº¤éä½ä¸ºè®¡ç®åºå ã
         */
        this.extractRegion = null;

        /**
         * @member {string} SuperMap.MathExpressionAnalysisParameters.prototype.expression
         * @description æå®çæ æ ¼è¿ç®è¡¨è¾¾å¼ãå¦ï¼"[DatasourceAlias1.Raster1]*2-10"ã
         */
        this.expression = null;

        /**
         * @member {boolean} [SuperMap.MathExpressionAnalysisParameters.prototype.isZip=false]
         * @description æ¯å¦å¯¹ç»ææ°æ®éè¿è¡åç¼©å¤çã
         */
        this.isZip = false;

        /**
         * @member {boolean} [SuperMap.MathExpressionAnalysisParameters.prototype.ignoreNoValue=false]
         * @description æ¯å¦å¿½ç¥æ å¼æ æ ¼æ°æ®ã
         */
        this.ignoreNoValue = false;

        /**
         * @member {string} SuperMap.MathExpressionAnalysisParameters.prototype.targetDatasource
         * @description æå®å­å¨ç»ææ°æ®éçæ°æ®æºã
         */
        this.targetDatasource = null;

        /**
         * @member {string} SuperMap.MathExpressionAnalysisParameters.prototype.resultGridName
         * @description æå®ç»ææ°æ®éåç§°ã
         */
        this.resultGridName = null;

        /**
         * @member {boolean} [SuperMap.MathExpressionAnalysisParameters.prototype.deleteExistResultDataset=false]
         * @description å¦æç¨æ·å½åçç»ææ°æ®éåç§°ä¸å·²æçæ°æ®ééåï¼æ¯å¦å é¤å·²æçæ°æ®éã
         */
        this.deleteExistResultDataset = false;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.MathExpressionAnalysisParameters"
    }


    /**
     * @function SuperMap.MathExpressionAnalysisParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.dataset = null;
        me.bounds = null;
        me.expression = null;
        me.isZip = true;
        me.ignoreNoValue = true;
        me.targetDatasource = null;
        me.resultGridName = null;
        me.deleteExistResultDataset = null;
    }

    /**
     * @function SuperMap.MathExpressionAnalysisParameters.toObject
     * @param {Object} mathExpressionAnalysisParameters - æ æ ¼ä»£æ°è¿ç®åæ°ã
     * @param {Object} tempObj - ç®æ å¯¹è±¡ã
     * @description çææ æ ¼ä»£æ°è¿ç®å¯¹è±¡ã
     */
    static toObject(mathExpressionAnalysisParameters, tempObj) {
        for (var name in mathExpressionAnalysisParameters) {
            if (name !== "dataset") {
                tempObj[name] = mathExpressionAnalysisParameters[name];
            }

            if (name === "extractRegion") {
                if (mathExpressionAnalysisParameters[name]) {
                    var bs = mathExpressionAnalysisParameters[name].components[0].components;
                    var region = {},
                        points = [],
                        type = "REGION";

                    var len = bs.length;
                    for (var i = 0; i < len - 1; i++) {
                        var poi = {};
                        poi["x"] = bs[i].x;
                        poi["y"] = bs[i].y;
                        points.push(poi);
                    }


                    region["points"] = points;
                    region["type"] = type;

                    tempObj[name] = region;
                }
            }
        }
    }
}

SuperMap.MathExpressionAnalysisParameters = MathExpressionAnalysisParameters_MathExpressionAnalysisParameters;
// CONCATENATED MODULE: ./src/common/iServer/MathExpressionAnalysisService.js





/**
 * @class SuperMap.MathExpressionAnalysisService
 * @category  iServer SpatialAnalyst GridMathAnalyst
 * @classdesc æ æ ¼ä»£æ°è¿ç®æå¡ç±»ã
 * @param {Object} options - åæ°ã</br>
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 * @param {string} url - æå¡çè®¿é®å°åãå¦ http://localhost:8090/iserver/services/spatialanalyst-changchun/restjsr/spatialanalyst
 * @extends {SuperMap.SpatialAnalystBase}
 * @example ä¾å¦ï¼
 * (start code)
 * var myMathExpressionAnalysisService = new SuperMap.MathExpressionAnalysisService(url);
 * myMathExpressionAnalysisService.on({
     *     "processCompleted": processCompleted,
     *     "processFailed": processFailed
     *     }
 * );
 * (end)
 *
 */
class MathExpressionAnalysisService_MathExpressionAnalysisService extends SpatialAnalystBase_SpatialAnalystBase {

    constructor(url, options) {
        super(url, options);

        this.CLASS_NAME = "SuperMap.MathExpressionAnalysisService";
    }

    /**
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.MathExpressionAnalysisService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.MathExpressionAnalysisParameters} parameter - æ æ ¼ä»£æ°è¿ç®åæ°ç±»ã
     */
    processAsync(parameter) {
        var me = this;

        var end = me.url.substr(me.url.length - 1, 1);
        if (end !== '/') {
            me.url += "/";
        }

        var parameterObject = {};

        if (parameter instanceof MathExpressionAnalysisParameters_MathExpressionAnalysisParameters) {
            me.url += 'datasets/' + parameter.dataset + '/mathanalyst';
        }

        MathExpressionAnalysisParameters_MathExpressionAnalysisParameters.toObject(parameter, parameterObject);
        var jsonParameters = Util_Util.toJSON(parameterObject);
        me.url += '.json?returnContent=true';
        me.request({
            method: "POST",
            data: jsonParameters,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

}

SuperMap.MathExpressionAnalysisService = MathExpressionAnalysisService_MathExpressionAnalysisService;
// CONCATENATED MODULE: ./src/common/iServer/MeasureParameters.js




/**
 * @class SuperMap.MeasureParameters
 * @category iServer Map Measure
 * @classdesc éç®åæ°ç±»ã
 * @param {Object} geometry - è¦éç®çå ä½å¯¹è±¡ã
 * @param {Object} options - åæ°ã
 * @param {SuperMap.Unit} [options.unit=SuperMap.Unit.METER] - éç®åä½ã
 * @param {string} [options.prjCoordSys] - ç¨æ¥æå®è¯¥éç®æä½æä½¿ç¨çæå½±ã
 * @param {string} [options.distanceMode="Geodesic"] - ç¨æ¥æå®éç®çæ¹å¼ä¸ºæçé¢é¿åº¦ 'Geodesic' æèå¹³é¢é¿åº¦ 'Planar' æ¥è®¡ç®ã
 */
class MeasureParameters_MeasureParameters {



    constructor(geometry, options) {
        if (!geometry) {
            return;
        }
        /**
         * @member {Object} SuperMap.MeasureParameters.prototype.geometry
         * @description è¦éç®çå ä½å¯¹è±¡ã<br>
         * ç¹ç±»åå¯ä»¥æ¯ï¼{@link SuperMap.Geometry.Point}|{@link L.Point}|{@link L.GeoJSON}|{@link ol.geom.Point}|{@link ol.format.GeoJSON}ã<br>
         * çº¿ç±»åå¯ä»¥æ¯ï¼{@link SuperMap.Geometry.LineString}|{@link SuperMap.Geometry.LinearRing}|{@link L.Polyline}|{@link L.GeoJSON}|{@link ol.geom.LineString}|{@link ol.format.GeoJSON}ã<br>
         * é¢ç±»åå¯ä»¥æ¯ï¼{@link SuperMap.Geometry.Polygon}|{@link L.Polygon}|{@link L.GeoJSON}|{@link ol.geom.Polygon}|{@link ol.format.GeoJSON}ã
         */
        this.geometry = geometry;

        /**
         * @member {SuperMap.Unit} [SuperMap.MeasureParameters.prototype.unit=SuperMap.Unit.METER]
         * @description éç®åä½ãå³éç®ç»æä»¥ç±³ä¸ºåä½ã
         */
        this.unit = Unit.METER;

        /**
         * @member {string} [SuperMap.MeasureParameters.prototype.prjCoordSys]
         * @description ç¨æ¥æå®è¯¥éç®æä½æä½¿ç¨çæå½±ã
         */
        this.prjCoordSys = null;

        /**
         * @member {string} [SuperMap.MeasureParameters.prototype.distanceMode="Geodesic"]
         * @description ç¨æ¥æå®éç®çæ¹å¼ä¸ºæçé¢é¿åº¦ 'Geodesic' æèå¹³é¢é¿åº¦ 'Planar' æ¥è®¡ç®ã
         * @example
         * var param = new SuperMap.MeasureParameters(getmetry,{distanceMode:'Planar'});
         */
        this.distanceMode = null;
        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = "SuperMap.MeasureParameters";
    }

    /**
     * @function SuperMap.MeasureParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.geometry = null;
        me.unit = null;
        me.prjCoordSys = null;
    }
}

SuperMap.MeasureParameters = MeasureParameters_MeasureParameters;
// CONCATENATED MODULE: ./src/common/iServer/MeasureService.js







/**
 * @class SuperMap.MeasureService
 * @category iServer Map Measure
 * @classdesc éç®æå¡ç±»ã
 *            è¯¥ç±»è´è´£å°éç®åæ°ä¼ éå°æå¡ç«¯ï¼å¹¶è·åæå¡ç«¯è¿åçéç®ç»æã
 * @extends {SuperMap.CommonServiceBase}
 * @example
 * var myMeasuerService = new SuperMap.MeasureService(url, {
 *      measureMode: SuperMap.MeasureMode.DISTANCE,
 *      eventListeners:{
 *          "processCompleted": measureCompleted
 *      }
 * });
 * @param {string} url - æå¡è®¿é®çå°åãå¦ï¼http://localhost:8090/iserver/services/map-world/rest/maps/World+Map ã
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæ processCompleted å±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailed å±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã
 * @param {SuperMap.ServerType} options.serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã
 * @param {SuperMap.DataFormat} options.format - æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æ iServerJSON å GeoJSON ä¸¤ç§æ ¼å¼ãåæ°æ ¼å¼ä¸º "ISERVER","GEOJSON"ã
 * @param {MeasureMode} options.measureMode - éç®æ¨¡å¼ï¼åæ¬è·ç¦»éç®æ¨¡å¼åé¢ç§¯éç®æ¨¡å¼ã
 */
class MeasureService_MeasureService extends CommonServiceBase_CommonServiceBase {


    constructor(url, options) {
        super(url, options);
        /**
         * @member {SuperMap.MeasureMode} [SuperMap.MeasureService.prototype.measureMode=MeasureMode.DISTANCE]
         * @description éç®æ¨¡å¼ï¼åæ¬è·ç¦»éç®æ¨¡å¼åé¢ç§¯éç®æ¨¡å¼ã
         */
        this.measureMode = MeasureMode.DISTANCE;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.MeasureService";
    }

    /**
     * @override
     */
    destroy() {
        super.destroy();
        var me = this;
        me.measureMode = null;
    }

    /**
     * @function SuperMap.MeasureService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çéç®åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.MeasureParameters} params - éç®åæ°ã
     */
    processAsync(params) {
        if (!(params instanceof MeasureParameters_MeasureParameters)) {
            return;
        }
        var me = this,
            geometry = params.geometry,
            pointsCount = 0,
            point2ds = null,
            end = null;
        if (!geometry) {
            return;
        }
        end = me.url.substr(me.url.length - 1, 1);
        if (me.measureMode === MeasureMode.AREA) {
            me.url += ((end === "/") ? "area.json?" : "/area.json?");
        } else {
            me.url += ((end === "/") ? "distance.json?" : "/distance.json?");
        }
        var serverGeometry = ServerGeometry_ServerGeometry.fromGeometry(geometry);
        if (!serverGeometry) {
            return;
        }
        pointsCount = serverGeometry.parts[0];
        point2ds = serverGeometry.points.splice(0, pointsCount);

        var prjCoordSysTemp, prjCodeTemp, paramsTemp;
        if (params.prjCoordSys) {
            if (typeof (params.prjCoordSys) === "object") {
                prjCodeTemp = params.prjCoordSys.projCode;
                prjCoordSysTemp = '{"epsgCode"' + prjCodeTemp.substring(prjCodeTemp.indexOf(":"), prjCodeTemp.length) + "}";
            } else if (typeof (params.prjCoordSys) === "string") {
                prjCoordSysTemp = '{"epsgCode"' + params.prjCoordSys.substring(params.prjCoordSys.indexOf(":"), params.prjCoordSys.length) + "}";
            }
            paramsTemp = {
                "point2Ds": Util_Util.toJSON(point2ds),
                "unit": params.unit,
                "prjCoordSys": prjCoordSysTemp
            };
        } else {
            paramsTemp = {"point2Ds": Util_Util.toJSON(point2ds), "unit": params.unit};
        }

        me.request({
            method: "GET",
            params: paramsTemp,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });

    }

}

SuperMap.MeasureService = MeasureService_MeasureService;
// CONCATENATED MODULE: ./src/common/iServer/OverlayAnalystService.js






/**
 * @class SuperMap.OverlayAnalystService
 * @category iServer SpatialAnalyst OverlayAnalyst
 * @classdesc å å åææå¡ç±»ã
 * è¯¥ç±»è´è´£å°å®¢æ·è®¾ç½®çå å åæåæ°ä¼ éç»æå¡ç«¯ï¼å¹¶æ¥æ¶æå¡ç«¯è¿åçå å åæç»ææ°æ®ã
 * å å åæç»æéè¿è¯¥ç±»æ¯æçäºä»¶ççå¬å½æ°åæ°è·å
 * @param {string} url - æå¡çè®¿é®å°åãå¦http://localhost:8090/iserver/services/spatialanalyst-changchun/restjsr/spatialanalystã
 * @param {Object} options - åæ°ã</br>
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 * @extends {SuperMap.CommonServiceBase}
 * @example ä¾å¦ï¼
 * (start code)
 * var myOverlayAnalystService = new SuperMap.OverlayAnalystService(url, {
 *     eventListeners: {
 *	       "processCompleted": OverlayCompleted,
 *		   "processFailed": OverlayFailed
 *		   }
 * });
 * (end)
 */

class OverlayAnalystService_OverlayAnalystService extends SpatialAnalystBase_SpatialAnalystBase {

    constructor(url, options) {
        super(url, options);

        /**
         * @member {string} SuperMap.OverlayAnalystService.prototype.mode
         * @description å å åæç±»å
         */
        this.mode = null;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.OverlayAnalystService";
    }

    /**
     * @override
     */
    destroy() {
        super.destroy();
        this.mode = null;
    }

    /**
     * @function SuperMap.OverlayAnalystService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.OverlayAnalystParameters} parameter - å å åæåæ°ç±»ã
     */
    processAsync(parameter) {
        var parameterObject = {};
        var me = this;

        var end = me.url.substr(me.url.length - 1, 1);
        if (end !== '/') {
            me.url += "/";
        }

        if (parameter instanceof DatasetOverlayAnalystParameters_DatasetOverlayAnalystParameters) {
            me.mode = "datasets";
            me.url += 'datasets/' + parameter.sourceDataset + '/overlay.json?returnContent=true';
            DatasetOverlayAnalystParameters_DatasetOverlayAnalystParameters.toObject(parameter, parameterObject);
        } else if (parameter instanceof GeometryOverlayAnalystParameters_GeometryOverlayAnalystParameters) {
            me.mode = "geometry";
            //æ¯æä¼ å¥å¤ä¸ªå ä½è¦ç´ è¿è¡å å åæ
            if(parameter.operateGeometries && parameter.sourceGeometries){
                me.url += 'geometry/overlay/batch.json?returnContent=true&ignoreAnalystParam=true';
            }else {
                me.url += 'geometry/overlay.json?returnContent=true';
            }
            GeometryOverlayAnalystParameters_GeometryOverlayAnalystParameters.toObject(parameter, parameterObject);
        }

        var jsonParameters = Util_Util.toJSON(parameterObject);
        me.request({
            method: "POST",
            data: jsonParameters,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }
}

SuperMap.OverlayAnalystService = OverlayAnalystService_OverlayAnalystService;
// CONCATENATED MODULE: ./src/common/iServer/OverlayGeoJobParameter.js




/**
 * @class SuperMap.OverlayGeoJobParameter
 * @category iServer ProcessingService OverlayAnalyst
 * @classdesc å å åæä»»å¡åæ°ç±»ã
 * @param {Object} options - åæ°ã
 * @param {string} options.datasetName - æ°æ®éåã
 * @param {string} options.datasetOverlay - å å å¯¹è±¡æå¨çæ°æ®éåç§°ã
 * @param {string} options.srcFields - è¾å¥æ°æ®éè¦ä¿ççå­æ®µã
 * @param {string} [options.overlayFields] - å å æ°æ®éè¦ä¿ççå­æ®µãå¯¹åææ¨¡å¼ä¸º clipãupdateãerase æ¶ï¼æ­¤åæ°æ æã
 * @param {string} [options.mode] - å å åææ¨¡å¼ã
 * @param {SuperMap.OutputSetting} [options.output] - è¾åºåæ°è®¾ç½®ã
 */
class OverlayGeoJobParameter_OverlayGeoJobParameter {

    constructor(options) {
        if (!options) {
            return;
        }
        /**
         * @member {string} SuperMap.OverlayGeoJobParameter.prototype.datasetName
         * @description æ°æ®éåã
         */
        this.datasetName = "";

        /**
         * @member {string} SuperMap.OverlayGeoJobParameter.prototype.datasetOverlay
         * @description å å å¯¹è±¡æå¨çæ°æ®éåç§°ã
         */
        this.datasetOverlay = "";

        /**
         * @member {string} [SuperMap.OverlayGeoJobParameter.prototype.mode]
         * @description å å åææ¨¡å¼ã
         */
        this.mode = "";

        /**
         * @member {string} SuperMap.OverlayGeoJobParameter.prototype.srcFields
         * @description è¾å¥æ°æ®éè¦ä¿ççå­æ®µã
         */
        this.srcFields = "";

        /**
         * @member {string} SuperMap.OverlayGeoJobParameter.prototype.overlayFields
         * @description å å æ°æ®éè¦ä¿ççå­æ®µï¼å¯¹åææ¨¡å¼ä¸º clipãupdateãerase æ¶ï¼æ­¤åæ°æ æã
         */
        this.overlayFields = "";

        /**
         * @member {SuperMap.OutputSetting} SuperMap.OverlayGeoJobParameter.prototype.output
         * @description è¾åºåæ°è®¾ç½®ç±»ã
         */
        this.output = null;

        Util_Util.extend(this, options);
        this.CLASS_NAME = "SuperMap.OverlayGeoJobParameter";
    }

    /**
     * @function SuperMap.OverlayGeoJobParameter.destroy
     * @override
     */
    destroy() {
        this.datasetName = null;
        this.datasetOverlay = null;
        this.mode = null;
        this.srcFields = null;
        this.overlayFields = null;
        if (this.output instanceof OutputSetting_OutputSetting) {
            this.output.destroy();
            this.output = null;
        }
    }

    /**
     * @function SuperMap.OverlayGeoJobParameter.toObject
     * @param {Object} OverlayGeoJobParameter - ç¹èååæä»»å¡åæ°ã
     * @param {Object} tempObj - ç®æ å¯¹è±¡ã
     * @description çæç¹èååæä»»å¡å¯¹è±¡ã
     */
    static toObject(OverlayGeoJobParameter, tempObj) {
        for (var name in OverlayGeoJobParameter) {
            if (name == "datasetName") {
                tempObj['input'] = tempObj['input'] || {};
                tempObj['input'][name] = OverlayGeoJobParameter[name];
                continue;
            }
            if (name === "output"){
                tempObj['output'] = tempObj['output'] || {};
                tempObj['output'] = OverlayGeoJobParameter[name];
                continue;
            }
            tempObj['analyst'] = tempObj['analyst'] || {};
            tempObj['analyst'][name] = OverlayGeoJobParameter[name];
        }
    }

}

SuperMap.OverlayGeoJobParameter = OverlayGeoJobParameter_OverlayGeoJobParameter;
// CONCATENATED MODULE: ./src/common/iServer/OverlayGeoJobsService.js




/**
 * @class SuperMap.OverlayGeoJobsService
 * @category iServer ProcessingService OverlayAnalyst
 * @classdesc å å åæä»»å¡ç±»ã
 * @param {string} url - å å åæä»»å¡å°åã
 * @param {Object} options - åæ°ã
 * @param {SuperMap.Events} options.events - å¤çææäºä»¶çå¯¹è±¡ã
 * @param {Object} options.eventListeners - å¬å¨å¯¹è±¡ã
 * @param {SuperMap.ServerType} options.serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã
 * @param {number} options.index - æå¡è®¿é®å°åå¨æ°ç»ä¸­çä½ç½®ã
 * @param {number} options.length - æå¡è®¿é®å°åæ°ç»é¿åº¦ã
 */
class OverlayGeoJobsService_OverlayGeoJobsService extends ProcessingServiceBase_ProcessingServiceBase {

    constructor(url, options) {
        super(url, options);
        this.url += "/spatialanalyst/overlay";
        this.CLASS_NAME = "SuperMap.OverlayGeoJobsService";
    }

    /**
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.OverlayGeoJobsService.prototype.getOverlayGeoJobs
     * @description è·åå å åæä»»å¡
     */
    getOverlayGeoJobs() {
        super.getJobs(this.url);
    }

    /**
     * @function SuperMap.OverlayGeoJobsService.prototype.getOverlayGeoJob
     * @description è·åæå®idçå å åæä»»å¡
     * @param {string} id - æå®è¦è·åæ°æ®çid
     */
    getOverlayGeoJob(id) {
        super.getJobs(this.url + '/' + id);
    }

    /**
     * @function SuperMap.OverlayGeoJobsService.prototype.addOverlayGeoJob
     * @description æ°å»ºç¹å å ææå¡
     * @param {SuperMap.OverlayGeoJobParameter} params - åå»ºä¸ä¸ªå å åæçè¯·æ±åæ°ã
     * @param {number} seconds - å¼å§åå»ºåï¼è·ååå»ºæåç»æçæ¶é´é´éã
     */
    addOverlayGeoJob(params, seconds) {
        super.addJob(this.url, params, OverlayGeoJobParameter_OverlayGeoJobParameter, seconds);
    }

}
SuperMap.OverlayGeoJobsService = OverlayGeoJobsService_OverlayGeoJobsService;
// CONCATENATED MODULE: ./src/common/iServer/QueryByBoundsParameters.js




/**
 * @class SuperMap.QueryByBoundsParameters
 * @category  iServer Map QueryResults
 * @classdesc Bounds æ¥è¯¢åæ°ç±»ãè¯¥ç±»ç¨äºè®¾ç½® Bounds æ¥è¯¢çç¸å³åæ°ã
 * @extends {SuperMap.QueryParameters}
 * @param {Object} options - åæ°ã
 * @param {(SuperMap.Bounds|L.Bounds|ol.extent)} options.bounds - æå®çæ¥è¯¢èå´ã
 * @param {Array.<SuperMap.FilterParameter>} options.queryParams - æ¥è¯¢è¿æ»¤æ¡ä»¶åæ°æ°ç»ã
 * @param {string} [options.customParams] - èªå®ä¹åæ°ï¼ä¾æ©å±ä½¿ç¨ã
 * @param {Object} [options.prjCoordSys] -èªå®ä¹åæ°ï¼ä¾ SuperMap Online æä¾çå¨ææå½±æ¥è¯¢æ©å±ä½¿ç¨ãå¦ {"epsgCode":3857}ã
 * @param {number} [options.expectCount=100000] - ææè¿åç»æè®°å½ä¸ªæ°ã
 * @param {SuperMap.GeometryType} [options.networkType=SuperMap.GeometryType.LINE] - ç½ç»æ°æ®éå¯¹åºçæ¥è¯¢ç±»åã
 * @param {SuperMap.QueryOption} [options.queryOption=SuperMap.QueryOption.ATTRIBUTEANDGEOMETRY] - æ¥è¯¢ç»æç±»åæä¸¾ç±»ã
 * @param {number} [options.startRecord=0] - æ¥è¯¢èµ·å§è®°å½å·ã
 * @param {number} [options.holdTime=10] - èµæºå¨æå¡ç«¯ä¿å­çæ¶é´ï¼åä½ä¸ºåéã
 * @param {boolean} [options.returnCustomResult=false] - ä»ä¾ä¸ç»´ä½¿ç¨ã
 * @param {boolean} [options.returnContent=true] - æ¯å¦ç«å³è¿åæ°åå»ºèµæºçè¡¨è¿°è¿æ¯è¿åæ°èµæºç URIã
 */
class QueryByBoundsParameters_QueryByBoundsParameters extends QueryParameters_QueryParameters {

    constructor(options) {
        if (!options) {
            return;
        }
        super(options);
        /**
         * @member {boolean} [SuperMap.QueryByBoundsParameters.prototype.returnContent=true]
         * @description æ¯å¦ç«å³è¿åæ°åå»ºèµæºçè¡¨è¿°è¿æ¯è¿åæ°èµæºç URIã
         *              å¦æä¸º trueï¼åç´æ¥è¿åæ°åå»ºèµæºï¼å³æ¥è¯¢ç»æçè¡¨è¿°ã
         *              ä¸º falseï¼åè¿åçæ¯æ¥è¯¢ç»æèµæºç URIã
         */
        this.returnContent = true;

        /**
         * @member {(SuperMap.Bounds|L.Bounds|ol.extent)} SuperMap.QueryByBoundsParameters.prototype.bounds
         * @description æå®çæ¥è¯¢èå´ã
         */
        this.bounds = null;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.QueryByBoundsParameters";
    }

    /**
     * @function SuperMap.QueryByBoundsParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        super.destroy();
        var me = this;
        me.returnContent = null;
        if (me.bounds) {
            me.bounds = null;
        }

    }
}

SuperMap.QueryByBoundsParameters = QueryByBoundsParameters_QueryByBoundsParameters;
// CONCATENATED MODULE: ./src/common/iServer/QueryService.js







/**
 * @class SuperMap.QueryService
 * @category  iServer Map QueryResults
 * @classdesc æ¥è¯¢æå¡åºç±»ã
 * @extends {SuperMap.CommonServiceBase}
 * @param {string} url - æå¡å°åãè¯·æ±å°å¾æ¥è¯¢æå¡ç URL åºä¸ºï¼http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{å°å¾æå¡å}/rest/maps/{å°å¾å}ï¼
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæprocessCompletedå±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailedå±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã
 * @param {SuperMap.ServerType} options.serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã
 * @param {SuperMap.DataFormat} options.format - æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æiServerJSON åGeoJSONä¸¤ç§æ ¼å¼ãåæ°æ ¼å¼ä¸º"ISERVER"ï¼"GEOJSON"ã
 * @example
 * var myService = new SuperMap.QueryService(url, {
 *     eventListeners: {
 *	       "processCompleted": queryCompleted,
 *		   "processFailed": queryError
 *		   }
 * };
 */
class QueryService_QueryService extends CommonServiceBase_CommonServiceBase {

    /**
     * @function SuperMap.QueryService.prototype.constructor
     * @description æ¥è¯¢æå¡åºç±»æé å½æ°ã
     * @param {string} url - æå¡å°åãè¯·æ±å°å¾æ¥è¯¢æå¡ç URL åºä¸ºï¼http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{å°å¾æå¡å}/rest/maps/{å°å¾å}ï¼
     * @param {Object} options -åæ°ã
     * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
     */
    constructor(url, options) {
        super(url, options);
        
        /**
         * @member {boolean} SuperMap.QueryService.prototype.returnContent
         * @description æ¯å¦ç«å³è¿åæ°åå»ºèµæºçè¡¨è¿°è¿æ¯è¿åæ°èµæºçURIã
         */
        this.returnContent = false;

        /**
         * @member {string} SuperMap.QueryService.prototype.format
         * @description æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æiServerJSON åGeoJSONä¸¤ç§æ ¼å¼ãåæ°æ ¼å¼ä¸º"ISERVER","GEOJSON"ã
         */
        this.format = DataFormat.GEOJSON;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.QueryService";
        var me = this, end;
        if (!me.url) {
            return;
        }
        if (options && options.format) {
            me.format = options.format.toUpperCase();
        }

        end = me.url.substr(me.url.length - 1, 1);

        // TODO å¾iServer featureResulèµæºGeoJSONè¡¨è¿°bugä¿®å¤å½ä½¿ç¨ä»¥ä¸æ³¨éæçé»è¾
        // if (this.format==="geojson") {
        //     me.url += (end == "/") ? "featureResults.geojson?" : "/featureResults.geojson?";
        // } else {
        //     me.url += (end == "/") ? "featureResults.json?" : "/featureResults.json?";
        // }
        me.url += (end === "/") ? "queryResults.json?" : "/queryResults.json?";
    }

    /**
     * @function SuperMap.QueryService.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        super.destroy();
        var me = this;
        me.returnContent = null;
        me.format = null;
    }

    /**
     * @function SuperMap.QueryService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.QueryParameters} params - æ¥è¯¢åæ°ã
     */
    processAsync(params) {
        if (!(params instanceof QueryParameters_QueryParameters)) {
            return;
        }
        var me = this,
            returnCustomResult = null,
            jsonParameters = null;
        me.returnContent = params.returnContent;
        jsonParameters = me.getJsonParameters(params);
        if (me.returnContent) {
            me.url += "returnContent=" + me.returnContent;
        } else {
            //ä»ä¾ä¸ç»´ä½¿ç¨ è·åé«äº®å¾ççbounds
            returnCustomResult = params.returnCustomResult;
            if (returnCustomResult) {
                me.url += "returnCustomResult=" + returnCustomResult;
            }
        }
        me.request({
            method: "POST",
            data: jsonParameters,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

    /**
     * @function SuperMap.QueryService.prototype.serviceProcessCompleted
     * @description æ¥è¯¢å®æï¼æ§è¡æ­¤æ¹æ³ã
     * @param {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ã
     */
    serviceProcessCompleted(result) {
        var me = this;
        result = Util_Util.transformResult(result);
        if (result && result.recordsets && me.format === DataFormat.GEOJSON) {
            var geoJSONFormat = new GeoJSON_GeoJSON();
            for (var i = 0, recordsets = result.recordsets, len = recordsets.length; i < len; i++) {
                if (recordsets[i].features) {
                    recordsets[i].features = JSON.parse(geoJSONFormat.write(recordsets[i].features));
                }
            }

        }
        me.events.triggerEvent("processCompleted", {result: result});
    }

    /**
     * @function SuperMap.QueryService.prototype.getQueryParameters
     * @description å° JSON å¯¹è±¡è¡¨ç¤ºçæ¥è¯¢åæ°è½¬åä¸º QueryParameters å¯¹è±¡ã
     * @param {Object} params - JSON å­ç¬¦ä¸²è¡¨ç¤ºçæ¥è¯¢åæ°ã
     * @returns {SuperMap.QueryParameters} è¿åè½¬ååç QueryParameters å¯¹è±¡ã
     */
    getQueryParameters(params) {
        return new QueryParameters_QueryParameters({
            customParams: params.customParams,
            expectCount: params.expectCount,
            networkType: params.networkType,
            queryOption: params.queryOption,
            queryParams: params.queryParams,
            startRecord: params.startRecord,
            prjCoordSys: params.prjCoordSys,
            holdTime: params.holdTime
        });
    }

}

SuperMap.QueryService = QueryService_QueryService;
// CONCATENATED MODULE: ./src/common/iServer/QueryByBoundsService.js





/**
 * @class SuperMap.QueryByBoundsService
 * @category  iServer Map QueryResults
 * @classdesc Bounds æ¥è¯¢æå¡ç±»ã
 * @augments {SuperMap.QueryService}
 * @example
 * (start end)
 * var myQueryByBoundsService = new SuperMap.QueryByBoundsService(url, {
 *     eventListeners: {
 *         "processCompleted": queryCompleted,
 *		   "processFailed": queryError
 *		   }
 * });
 * function queryCompleted(object){//todo};
 * function queryError(object){//todo};
 * (end)
 * @param {string} url - æå¡çè®¿é®å°åãå¦è®¿é®World Mapæå¡ï¼åªéå°urlè®¾ä¸º: http://localhost:8090/iserver/services/map-world/rest/maps/World+Map å³å¯ã
 * @param {Object} options - åæ°ã<br>
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæprocessCompletedå±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailedå±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã<br>
 * @param {SuperMap.ServerType} options.serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã<br>
 * @param {SuperMap.DataFormat} options.format - æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æiServerJSON åGeoJSONä¸¤ç§æ ¼å¼ãåæ°æ ¼å¼ä¸º"ISERVER"ï¼"GEOJSON"ã
 */
class QueryByBoundsService_QueryByBoundsService extends QueryService_QueryService {

    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.QueryByBoundsService";
    }

    /**
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.QueryByBoundsService.prototype.getJsonParameters
     * @description å°æ¥è¯¢åæ°è½¬åä¸º JSON å­ç¬¦ä¸²ã
     *              å¨æ¬ç±»ä¸­éåæ­¤æ¹æ³ï¼å¯ä»¥å®ç°ä¸åç§ç±»çæ¥è¯¢ï¼sql, geometry, distance, bounds ç­ï¼ã
     * @param {SuperMap.QueryByBoundsParameters} params - Bounds æ¥è¯¢åæ°ã
     * @returns {Object} è½¬ååç JSON å­ç¬¦ä¸²ã
     */
    getJsonParameters(params) {
        if (!(params instanceof QueryByBoundsParameters_QueryByBoundsParameters)) {
            return null;
        }
        var me = this,
            jsonParameters = "",
            qp = null,
            bounds = params.bounds;
        qp = me.getQueryParameters(params);
        jsonParameters += "'queryMode':'BoundsQuery','queryParameters':";
        jsonParameters += Util_Util.toJSON(qp);
        jsonParameters += ",'bounds': {'rightTop':{'y':" + bounds.top + ",'x':" +
            bounds.right + "},'leftBottom':{'y':" + bounds.bottom + ",'x':" + bounds.left + "}}";
        jsonParameters = "{" + jsonParameters + "}";
        return jsonParameters;
    }

}

SuperMap.QueryByBoundsService = QueryByBoundsService_QueryByBoundsService;

// CONCATENATED MODULE: ./src/common/iServer/QueryByDistanceParameters.js




/**
 * @class SuperMap.QueryByDistanceParameters
 * @category  iServer Map QueryResults
 * @classdesc Distance æ¥è¯¢åæ°ç±»ã
 *            è¯¥ç±»ç¨äºè®¾ç½® Distance æ¥è¯¢çç¸å³åæ°ã
 * @extends {SuperMap.QueryParameters}
 * @param {Object} options - åæ°ã
 * @param {Object} options.geometry - ç¨äºæ¥è¯¢çå ä½å¯¹è±¡ã
 * @param {Array.<SuperMap.FilterParameter>} options.queryParams - æ¥è¯¢è¿æ»¤æ¡ä»¶åæ°æ°ç»ã
 * @param {string} [options.customParams] - èªå®ä¹åæ°ï¼ä¾æ©å±ä½¿ç¨ã
 * @param {Object} [options.prjCoordSys] -èªå®ä¹åæ°ï¼ä¾ SuperMap Online æä¾çå¨ææå½±æ¥è¯¢æ©å±ä½¿ç¨ãå¦ {"epsgCode":3857}ã
 * @param {number} [options.expectCount=100000] - ææè¿åç»æè®°å½ä¸ªæ°ã
 * @param {SuperMap.GeometryType} [options.networkType=SuperMap.GeometryType.LINE] - ç½ç»æ°æ®éå¯¹åºçæ¥è¯¢ç±»åã
 * @param {SuperMap.QueryOption} [options.queryOption=SuperMap.QueryOption.ATTRIBUTEANDGEOMETRY] - æ¥è¯¢ç»æç±»åæä¸¾ç±»ã
 * @param {number} [options.startRecord=0] - æ¥è¯¢èµ·å§è®°å½å·ã
 * @param {number} [options.holdTime=10] - èµæºå¨æå¡ç«¯ä¿å­çæ¶é´ï¼åä½ä¸ºåéã
 * @param {boolean} [options.returnCustomResult=false] -ä»ä¾ä¸ç»´ä½¿ç¨ã
 * @param {number} [options.distance=0] - æ¥è¯¢è·ç¦»ã
 * @param {boolean} [options.isNearest=false] - æ¯å¦ä¸ºæè¿è·ç¦»æ¥è¯¢ã
 * @param {boolean} [options.returnContent=true] - æ¯å¦ç«å³è¿åæ°åå»ºèµæºçè¡¨è¿°è¿æ¯è¿åæ°èµæºç URIã
 */
class QueryByDistanceParameters_QueryByDistanceParameters extends QueryParameters_QueryParameters {


    constructor(options) {
        if (!options) {
            return;
        }
        super(options);
        /**
         * @member {number} [SuperMap.QueryByDistanceParameters.prototype.distance=0]
         * @description æ¥è¯¢è·ç¦»ï¼åä½ä¸ææ¥è¯¢å¾å±å¯¹åºçæ°æ®éåä½ç¸åã
         *              å½æ¥æ¾æè¿å°ç©æ¶ï¼è¯¥å±æ§æ æã
         */
        this.distance = 0;

        /**
         * @member SuperMap.QueryByDistanceParameters.prototype.geometry
         * @description ç¨äºæ¥è¯¢çå°çå¯¹è±¡ã<br>
         * ç¹ç±»åå¯ä»¥æ¯ï¼{@link SuperMap.Geometry.Point}|{@link L.Point}|{@link L.GeoJSON}|{@link ol.geom.Point}|{@link ol.format.GeoJSON}ã<br>
         * çº¿ç±»åå¯ä»¥æ¯ï¼{@link SuperMap.Geometry.LineString}|{@link SuperMap.Geometry.LinearRing}|{@link L.Polyline}|{@link L.GeoJSON}|{@link ol.geom.LineString}|{@link ol.format.GeoJSON}ã<br>
         * é¢ç±»åå¯ä»¥æ¯ï¼{@link SuperMap.Geometry.Polygon}|{@link L.Polygon}|{@link L.GeoJSON}|{@link ol.geom.Polygon}|{@link ol.format.GeoJSON}ã
         */
        this.geometry = null;

        /**
         * @member {boolean} [SuperMap.QueryByDistanceParameters.prototype.isNearest=false]
         * @description æ¯å¦ä¸ºæè¿è·ç¦»æ¥è¯¢ã<br>
         *               å»ºè®®è¯¥å±æ§ä¸ expectCountï¼ç»§æ¿èª {@link SuperMap.QueryParameters}ï¼å±æ§èåä½¿ç¨ã
         *               å½è¯¥å±æ§ä¸º true æ¶ï¼å³è¡¨ç¤ºæ¥æ¾æè¿å°ç©ï¼å¦ææ¥è¯¢ç»ææ°å¤§äºææè¿åçç»æè®°å½æ°ï¼expectCountï¼ï¼
         *               åæ¥æ¾ç»æä¸ºæ¥è¯¢æ»è®°å½ä¸­è·ç¦»ä¸­å¿æè¿ç expectCount ä¸ªå°ç©ã
         *               å½è¯¥å±æ§ä¸ºä¸ä¸º true æ¶ï¼å¦ææ¥è¯¢ç»ææ°å¤§äºææè¿åçç»æè®°å½æ°ï¼expectCountï¼ï¼
         *               åæ¥æ¾ç»æä¸ºä»æ¥è¯¢æ»è®°å½ä¸­éæºæ½åç expectCount ä¸ªå°ç©ã
         *               ç®åæ¥è¯¢ç»æä¸æ¯ææè¿è¿è·ç¦»æåºã
         */
        this.isNearest = null;

        /**
         * @member {boolean} [SuperMap.QueryByDistanceParameters.prototype.returnContent=true]
         * @description æ¯å¦ç«å³è¿åæ°åå»ºèµæºçè¡¨è¿°è¿æ¯è¿åæ°èµæºç URIã
         *               å¦æä¸º trueï¼åç´æ¥è¿åæ°åå»ºèµæºï¼å³æ¥è¯¢ç»æçè¡¨è¿°ã
         *               ä¸º falseï¼åè¿åçæ¯æ¥è¯¢ç»æèµæºç URIã 
         */
        this.returnContent = true;


        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.QueryByDistanceParameters";
    }

    /**
     * @function SuperMap.QueryByDistanceParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        super.destroy();
        var me = this;
        me.returnContent = null;
        me.distance = null;
        me.isNearest = null;
        if (me.geometry) {
            me.geometry.destroy();
            me.geometry = null;
        }
    }


}

SuperMap.QueryByDistanceParameters = QueryByDistanceParameters_QueryByDistanceParameters;
// CONCATENATED MODULE: ./src/common/iServer/QueryByDistanceService.js






/**
 * @class SuperMap.QueryByDistanceService
 * @category  iServer Map QueryResults
 * @classdesc Distanceæ¥è¯¢æå¡ç±»ã
 * @extends {SuperMap.QueryService}
 * @example
 * var myQueryByDistService = new SuperMap.QueryByDistanceService(url, {
 *     eventListeners: {
 *         "processCompleted": queryCompleted,
 *		   "processFailed": queryError
 *		   }
 * });
 * function queryCompleted(object){//todo};
 * function queryError(object){//todo};
 * @param {string} url - æå¡çè®¿é®å°åãå¦è®¿é®World Mapæå¡ï¼åªéå°urlè®¾ä¸ºï¼http://localhost:8090/iserver/services/map-world/rest/maps/World+Map å³å¯ã
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæprocessCompletedå±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailedå±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã
 * @param {SuperMap.ServerType} options.serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã
 * @param {SuperMap.DataFormat} options.format - æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æiServerJSON åGeoJSONä¸¤ç§æ ¼å¼ãåæ°æ ¼å¼ä¸º"ISERVER"ï¼"GEOJSON"ã
 */
class QueryByDistanceService_QueryByDistanceService extends QueryService_QueryService {

    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.QueryByDistanceService";
    }

    /**
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.QueryByDistanceService.prototype.getJsonParameters
     * @description å°æ¥è¯¢åæ°è½¬åä¸º JSON å­ç¬¦ä¸²ã
     *              å¨æ¬ç±»ä¸­éåæ­¤æ¹æ³ï¼å¯ä»¥å®ç°ä¸åç§ç±»çæ¥è¯¢ï¼sql, geometry, distance, boundsç­ï¼ã
     * @param {SuperMap.QueryByDistanceParameters} params - Distance æ¥è¯¢åæ°ç±»ã
     * @returns {Object} è½¬ååç JSON å­ç¬¦ä¸²ã
     */
    getJsonParameters(params) {
        if (!(params instanceof QueryByDistanceParameters_QueryByDistanceParameters)) {
            return;
        }
        var me = this,
            jsonParameters = "",
            qp = me.getQueryParameters(params);
        var sg = ServerGeometry_ServerGeometry.fromGeometry(params.geometry);

        jsonParameters += params.isNearest ? "'queryMode':'FindNearest','queryParameters':" : "'queryMode':'DistanceQuery','queryParameters':";
        jsonParameters += Util_Util.toJSON(qp);
        jsonParameters += ",'geometry':" + Util_Util.toJSON(sg) + ",'distance':" + params.distance;
        jsonParameters = "{" + jsonParameters + "}";
        return jsonParameters;
    }

}

SuperMap.QueryByDistanceService = QueryByDistanceService_QueryByDistanceService;
// CONCATENATED MODULE: ./src/common/iServer/QueryByGeometryParameters.js





/**
 * @class SuperMap.QueryByGeometryParameters
 * @category  iServer Map QueryResults
 * @classdesc Geometry æ¥è¯¢åæ°ç±»ã
 *            è¯¥ç±»ç¨äºè®¾ç½® Geometryæ¥è¯¢çç¸å³åæ°ã
 * @extends {SuperMap.QueryParameters}
 * @param {Object} options - åæ°ã
 * @param {Array.<SuperMap.FilterParameter>} options.queryParams - æ¥è¯¢è¿æ»¤æ¡ä»¶åæ°æ°ç»ã
 * @param {Object} options.geometry - ç¨äºæ¥è¯¢çå ä½å¯¹è±¡ã 
 * @param {string} [options.customParams] - èªå®ä¹åæ°ï¼ä¾æ©å±ä½¿ç¨ã
 * @param {SuperMap.QueryOption} [options.queryOption=SuperMap.ATTRIBUTEANDGEOMETRY] - æ¥è¯¢ç»æç±»åæä¸¾ç±»ã
 * @param {Object} [options.prjCoordSys] -èªå®ä¹åæ°ï¼ä¾SuperMap Onlineæä¾çå¨ææå½±æ¥è¯¢æ©å±ä½¿ç¨ãå¦ {"epsgCode":3857}ã
 * @param {number} [options.expectCount=10000] - ææè¿åç»æè®°å½ä¸ªæ°ã
 * @param {SuperMap.GeometryType} [options.networkType=SuperMap.GeometryType.LINE] - ç½ç»æ°æ®éå¯¹åºçæ¥è¯¢ç±»åã
 * @param {boolean} [options.returnCustomResult=false] -ä»ä¾ä¸ç»´ä½¿ç¨ã
 * @param {number} [options.startRecord=0] - æ¥è¯¢èµ·å§è®°å½å·ã
 * @param {number} [options.holdTime=10] - èµæºå¨æå¡ç«¯ä¿å­çæ¶é´ï¼åä½ä¸ºåéã
 * @param {boolean} [options.returnContent=true] - æ¯å¦ç«å³è¿åæ°åå»ºèµæºçè¡¨è¿°è¿æ¯è¿åæ°èµæºç URIã
 * @param {SuperMap.SpatialQueryMode} [spatialQueryMode=SuperMap.SpatialQueryMode.INTERSECT] - ç©ºé´æ¥è¯¢æ¨¡å¼ã
 */
class QueryByGeometryParameters_QueryByGeometryParameters extends QueryParameters_QueryParameters {


    constructor(options) {
        if (!options) {
            return;
        }
        super(options);

        /**
         * @member {boolean} [SuperMap.QueryByGeometryParameters.prototype.returnContent=true]
         * @description æ¯å¦ç«å³è¿åæ°åå»ºèµæºçè¡¨è¿°è¿æ¯è¿åæ°èµæºç URIã<br>
         *              å¦æä¸º trueï¼åç´æ¥è¿åæ°åå»ºèµæºï¼å³æ¥è¯¢ç»æçè¡¨è¿°ã<br>
         *              ä¸º falseï¼åè¿åçæ¯æ¥è¯¢ç»æèµæºç URIã
         */
        this.returnContent = true;

        /**
         * @member {Object} SuperMap.QueryByGeometryParameters.prototype.geometry
         * @description ç¨äºæ¥è¯¢çå ä½å¯¹è±¡ã<br>
         * ç¹ç±»åå¯ä»¥æ¯ï¼{@link SuperMap.Geometry.Point}|{@link L.Point}|{@link L.GeoJSON}|{@link ol.geom.Point}|{@link ol.format.GeoJSON}ã<br>
         * çº¿ç±»åå¯ä»¥æ¯ï¼{@link SuperMap.Geometry.LineString}|{@link SuperMap.Geometry.LinearRing}|{@link L.Polyline}|{@link L.GeoJSON}|{@link ol.geom.LineString}|{@link ol.format.GeoJSON}ã<br>
         * é¢ç±»åå¯ä»¥æ¯ï¼{@link SuperMap.Geometry.Polygon}|{@link L.Polygon}|{@link L.GeoJSON}|{@link ol.geom.Polygon}|{@link ol.format.GeoJSON}ã
         */
        this.geometry = null;

        /**
         * @member {SuperMap.SpatialQueryMode} [SuperMap.QueryByGeometryParameters.prototype.spatialQueryMode=SuperMap.SpatialQueryMode.INTERSECT]
         * @description ç©ºé´æ¥è¯¢æ¨¡å¼ã
         */
        this.spatialQueryMode = SpatialQueryMode.INTERSECT;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.QueryByGeometryParameters";
    }

    /**
     * @function SuperMap.QueryByGeometryParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        super.destroy();
        var me = this;
        me.returnContent = null;
        me.geometry = null;
        me.spatialQueryMode = null;
    }


}

SuperMap.QueryByGeometryParameters = QueryByGeometryParameters_QueryByGeometryParameters;
// CONCATENATED MODULE: ./src/common/iServer/QueryByGeometryService.js






/**
 * @class SuperMap.QueryByGeometryService
 * @category  iServer Map QueryResults
 * @classdesc Geometryæ¥è¯¢æå¡ç±»ã
 * @extends {SuperMap.QueryService}
 * @example
 * var myQueryByGeometryService = new SuperMap.QueryByGeometryService(url, {
 *     eventListeners: {
 *	      "processCompleted": queryCompleted,
 *		  "processFailed": queryError
 *		  }
 * });
 * function queryCompleted(object){//todo};
 * function queryError(object){//todo};
 * @param {string} url - æå¡çè®¿é®å°åãå¦è®¿é®World Mapæå¡ï¼åªéå°urlè®¾ä¸º: http://localhost:8090/iserver/services/map-world/rest/maps/World+Map å³å¯ã
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæprocessCompletedå±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailedå±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã
 * @param {SuperMap.ServerType} options.serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã
 * @param {SuperMap.DataFormat} options.format - æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æiServerJSON åGeoJSONä¸¤ç§æ ¼å¼ãåæ°æ ¼å¼ä¸º"ISERVER"ï¼"GEOJSON"ã
 */
class QueryByGeometryService_QueryByGeometryService extends QueryService_QueryService {

    /**
     * @function SuperMap.QueryByGeometryService.prototype.constructor
     * @description Geometry æ¥è¯¢æå¡ç±»æé å½æ°ã
     * @param {string} url - æå¡çè®¿é®å°åãå¦è®¿é®World Mapæå¡ï¼åªéå°urlè®¾ä¸º: http://localhost:8090/iserver/services/map-world/rest/maps/World+Map å³å¯ã
     * @param {Object} options - åæ°ã
     * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
     */
    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.QueryByGeometryService";
    }

    /**
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.QueryByGeometryService.prototype.getJsonParameters
     * @description å°æ¥è¯¢åæ°è½¬åä¸º JSON å­ç¬¦ä¸²ã
     *              å¨æ¬ç±»ä¸­éåæ­¤æ¹æ³ï¼å¯ä»¥å®ç°ä¸åç§ç±»çæ¥è¯¢ï¼sql, geometry, distance, boundsç­ï¼ã
     * @param {SuperMap.QueryByGeometryParameters} params - Geometry æ¥è¯¢åæ°ç±»ã
     * @returns {Object} è½¬ååç JSON å­ç¬¦ä¸²ã
     */
    getJsonParameters(params) {
        if (!(params instanceof QueryByGeometryParameters_QueryByGeometryParameters)) {
            return;
        }
        var me = this,
            jsonParameters = "",
            qp = null,
            geometry = params.geometry,
            sg = ServerGeometry_ServerGeometry.fromGeometry(geometry);
        qp = me.getQueryParameters(params);
        jsonParameters += "'queryMode':'SpatialQuery','queryParameters':";
        jsonParameters += Util_Util.toJSON(qp) + ",'geometry':" + Util_Util.toJSON(sg)
            + ",'spatialQueryMode':" + Util_Util.toJSON(params.spatialQueryMode);
        jsonParameters = "{" + jsonParameters + "}";
        return jsonParameters;
    }

}

SuperMap.QueryByGeometryService = QueryByGeometryService_QueryByGeometryService;

// CONCATENATED MODULE: ./src/common/iServer/QueryBySQLParameters.js




/**
 * @class SuperMap.QueryBySQLParameters
 * @category  iServer Map QueryResults
 * @classdesc SQL æ¥è¯¢åæ°ç±»ã
 *            è¯¥ç±»ç¨äºè®¾ç½® SQL æ¥è¯¢çç¸å³åæ°ã
 * @extends {SuperMap.QueryParameters}
 * @param {Object} options - åæ°ã
 * @param {Array.<SuperMap.FilterParameter>} options.queryParams - æ¥è¯¢è¿æ»¤æ¡ä»¶åæ°æ°ç»ã
 * @param {string} [options.customParams] - èªå®ä¹åæ°ï¼ä¾æ©å±ä½¿ç¨ã
 * @param {Object} [options.prjCoordSys] - èªå®ä¹åæ°ï¼ä¾ SuperMap Online æä¾çå¨ææå½±æ¥è¯¢æ©å±ä½¿ç¨ãå¦ {"epsgCode":3857}ã
 * @param {number} [options.expectCount=10000] - ææè¿åç»æè®°å½ä¸ªæ°ã
 * @param {SuperMap.GeometryType} [options.networkType=SuperMap.GeometryType.LINE] - ç½ç»æ°æ®éå¯¹åºçæ¥è¯¢ç±»åã
 * @param {SuperMap.QueryOption} [options.queryOption=SuperMap.ATTRIBUTEANDGEOMETRY] - æ¥è¯¢ç»æç±»åæä¸¾ç±»ã
 * @param {number} [options.startRecord=0] - æ¥è¯¢èµ·å§è®°å½å·ã
 * @param {number} [options.holdTime=10] - èµæºå¨æå¡ç«¯ä¿å­çæ¶é´ï¼åä½ä¸ºåéã
 * @param {boolean} [options.returnCustomResult=false] - ä»ä¾ä¸ç»´ä½¿ç¨ã
 * @param {boolean} [options.returnContent=true] - æ¯å¦ç«å³è¿åæ°åå»ºèµæºçè¡¨è¿°è¿æ¯è¿åæ°èµæºç URIã
 */
class QueryBySQLParameters_QueryBySQLParameters extends QueryParameters_QueryParameters {

    constructor(options) {
        if (!options) {
            return;
        }
        super(options);
        /**
         * @member {boolean} [SuperMap.QueryBySQLParameters.prototype.returnContent=true]
         * @description æ¯å¦ç«å³è¿åæ°åå»ºèµæºçè¡¨è¿°è¿æ¯è¿åæ°èµæºç URIã
         *              å¦æä¸º trueï¼åç´æ¥è¿åæ°åå»ºèµæºï¼å³æ¥è¯¢ç»æçè¡¨è¿°ã
         *              ä¸º falseï¼åè¿åçæ¯æ¥è¯¢ç»æèµæºç URIã
         */
        this.returnContent = true;
        Util_Util.extend(this, options);
        this.CLASS_NAME = "SuperMap.QueryBySQLParameters";
    }

    /**
     * @function SuperMap.QueryBySQLParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        super.destroy();
        var me = this;
        me.returnContent = null;
    }

}
SuperMap.QueryBySQLParameters = QueryBySQLParameters_QueryBySQLParameters;
// CONCATENATED MODULE: ./src/common/iServer/QueryBySQLService.js





/**
 * @class SuperMap.QueryBySQLService
 * @category  iServer Map QueryResults
 * @classdesc SQL æ¥è¯¢æå¡ç±»ãå¨ä¸ä¸ªæå¤ä¸ªæå®çå¾å±ä¸æ¥è¯¢ç¬¦å SQL æ¡ä»¶çç©ºé´å°ç©ä¿¡æ¯ã
 * @extends {SuperMap.QueryService}
 * @example
 * var queryParam = new SuperMap.FilterParameter({
 *     name: "Countries@World.1",
 *     attributeFilter: "Pop_1994>1000000000 and SmArea>900"
 * });
 * var queryBySQLParams = new SuperMap.QueryBySQLParameters({
 *     queryParams: [queryParam]
 * });
 * var myQueryBySQLService = new SuperMap.QueryBySQLService(url, {eventListeners: {
 *     "processCompleted": queryCompleted,
 *     "processFailed": queryError
 *	   }
 * });
 * queryBySQLService.processAsync(queryBySQLParams);
 * function queryCompleted(object){//todo};
 * function queryError(object){//todo};
 * @param {string} url - æå¡çè®¿é®å°åãå¦è®¿é®World Mapæå¡ï¼åªéå°urlè®¾ä¸º: http://localhost:8090/iserver/services/map-world/rest/maps/World+Map å³å¯ã
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæprocessCompletedå±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailedå±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã
 * @param {SuperMap.ServerType} options.serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã
 * @param {SuperMap.DataFormat} options.format - æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æ iServerJSON å GeoJSON ä¸¤ç§æ ¼å¼ãåæ°æ ¼å¼ä¸º"ISERVER"ï¼"GEOJSON"ã
 */
class QueryBySQLService_QueryBySQLService extends QueryService_QueryService {

    /**
     * @function SuperMap.QueryBySQLService.prototype.constructor
     * @description SQL æ¥è¯¢æå¡ç±»æé å½æ°ã
     * @param {string} url - æå¡çè®¿é®å°åãå¦è®¿é®World Mapæå¡ï¼åªéå°urlè®¾ä¸º: http://localhost:8090/iserver/services/map-world/rest/maps/World+Map å³å¯ã
     * @param {Object} options - åæ°ã
     * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
     */
    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.QueryBySQLService";
    }

    /**
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.QueryBySQLService.prototype.getJsonParameters
     * @description å°æ¥è¯¢åæ°è½¬åä¸º JSON å­ç¬¦ä¸²ã
     *              å¨æ¬ç±»ä¸­éåæ­¤æ¹æ³ï¼å¯ä»¥å®ç°ä¸åç§ç±»çæ¥è¯¢ï¼sql, geometry, distance, boundsç­ï¼ã
     * @param {SuperMap.QueryBySQLParameters} params - SQL æ¥è¯¢åæ°ç±»ã
     * @returns {Object} è½¬ååç JSON å­ç¬¦ä¸²ã
     */
    getJsonParameters(params) {
        if (!(params instanceof QueryBySQLParameters_QueryBySQLParameters)) {
            return;
        }
        var me = this,
            jsonParameters = "",
            qp = null;
        qp = me.getQueryParameters(params);
        jsonParameters += "'queryMode':'SqlQuery','queryParameters':";
        jsonParameters += Util_Util.toJSON(qp);
        jsonParameters = "{" + jsonParameters + "}";
        return jsonParameters;
    }

}

SuperMap.QueryBySQLService = QueryBySQLService_QueryBySQLService;

// CONCATENATED MODULE: ./src/common/iServer/RouteCalculateMeasureParameters.js




/**
 * @class SuperMap.RouteCalculateMeasureParameters
 * @category  iServer SpatialAnalyst RouteCalculateMeasure
 * @classdesc åºäºè·¯ç±å¯¹è±¡è®¡ç®æå®ç¹ M å¼æä½çåæ°ç±»ãéè¿è¯¥ç±»æä¾åæ°ä¿¡æ¯ã
 * @param {Object} options - åæ°ã
 * @param {(SuperMap.Route|L.Polyline|ol.geom.LineString)} options.sourceRoute - è·¯ç±å¯¹è±¡ãè¯¥å¯¹è±¡å¯ä»¥æ¯ç¨æ·èªå·±çææå¨æ°æ®æºä¸­æ¥è¯¢å¾å°çç¬¦åæ åçè·¯ç±å¯¹è±¡ã
 * @param {(SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point)} options.point - äºç»´å°çåæ ç¹å¯¹è±¡ï¼åå« x,y åæ å¼å±æ§çå¯¹è±¡ã
 * @param {float} [options.tolerance] - å®¹éå¼ã
 * @param {boolean} [options.isIgnoreGap=false] - æ¯å¦å¿½ç¥å­å¯¹è±¡ä¹é´çè·ç¦»ã
 */
class RouteCalculateMeasureParameters_RouteCalculateMeasureParameters {

    constructor(options) {
        if (!options) {
            return this;
        }
        /**
         * @member {(SuperMap.Route|L.Polyline|ol.geom.LineString)} SuperMap.RouteCalculateMeasureParameters.prototype.sourceRoute
         * @description è·¯ç±å¯¹è±¡ãè¯¥å¯¹è±¡å¯ä»¥æ¯ç¨æ·èªå·±çææå¨æ°æ®æºä¸­æ¥è¯¢å¾å°çç¬¦åæ åçè·¯ç±å¯¹è±¡ã
         */
        this.sourceRoute = null;

        /**
         * @member {(SuperMap.Geometry.Point|L.LatLng|L.Point|ol.geom.Point)} SuperMap.RouteCalculateMeasureParameters.prototype.point
         * @description äºç»´å°çåæ ç¹å¯¹è±¡ï¼åå« x,y åæ å¼å±æ§çå¯¹è±¡ã
         */
        this.point = null;

        /**
         * @member {float} [SuperMap.RouteCalculateMeasureParameters.prototype.tolerance]
         * @description å®¹éå¼ã
         */
        this.tolerance = null;

        /**
         * @member {boolean} [SuperMap.RouteCalculateMeasureParameters.prototype.isIgnoreGap=false]
         * @description æ¯å¦å¿½ç¥å­å¯¹è±¡ä¹é´çè·ç¦»ã
         */
        this.isIgnoreGap = false;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.RouteCalculateMeasureParameters";
    }

    /**
     * @function SuperMap.RouteCalculateMeasureParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.sourceRoute = null;
        me.point = null;
        if (me.tolerance) {
            me.tolerance = null;
        }
        if (me.isIgnoreGap) {
            me.isIgnoreGap = false;
        }
    }
}

SuperMap.RouteCalculateMeasureParameters = RouteCalculateMeasureParameters_RouteCalculateMeasureParameters;
// CONCATENATED MODULE: ./src/common/iServer/RouteCalculateMeasureService.js





/**
 * @class SuperMap.RouteCalculateMeasureService
 * @category  iServer SpatialAnalyst RouteCalculateMeasure
 * @classdesc åºäºè·¯ç±å¯¹è±¡è®¡ç®æå®ç¹ M å¼æä½çæå¡ç±»ã
 *            è¯¥ç±»è´è´£å°å®¢æ·è®¾ç½®çè®¡ç®æå®ç¹ç M å¼åæ°ä¼ éç»æå¡ç«¯ï¼å¹¶æ¥æ¶æå¡ç«¯è¿åç
 *            æå®ç¹ç M å¼ãéè¿è¯¥ç±»æ¯æçäºä»¶ççå¬å½æ°åæ°è·åã
 * @extends {SuperMap.SpatialAnalystBase}
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 * @param {string} url - æå¡çè®¿é®å°åãå¦ http://localhost:8090/iserver/services/spatialanalyst-changchun/restjsr/spatialanalyst
 * @example å®ä¾åè¯¥ç±»å¦ä¸ä¾æç¤ºï¼
 * (start code)
 * var parameters = new SuperMap.RouteCalculateMeasureParameters({
     *     "sourceRoute":{
     *         "type":"LINEM",
     *        "parts":[4],
     *         "points":[
     *             {
     *                 "measure":0,
     *                 "y":-6674.466867067764,
     *                 "x":3817.3527876130133
     *             },
     *             {
     *                 "measure":199.57954019411724,
     *                 "y":-6670.830929417594,
     *                 "x":3617.806369901496
     *             },
     *             {
     *                 "measure":609.3656478634477,
     *                "y":-6877.837541432356,
     *                 "x":3264.1498746678444
     *             },
     *             {
     *                 "measure":936.0174126282958,
     *                 "y":-7038.687780615184,
     *                 "x":2979.846206068903
     *             }
     *         ]
     *     },
     *     "tolerance":1,
     *     "point":{
     *         "x":3330.7754269417,
     *         "y":-6838.8394457216
     *     },
     *     "isIgnoreGap":false
     * });
 *
 * var routeCalculateMeasureService = new SuperMap.RouteCalculateMeasureService(spatialAnalystURL, {
     *     eventListeners:{
     *         processCompleted:calculateCompleted,
     *         processFailed:calculateFailded
     *     }
     * );
     * routeCalculateMeasureService.processAsync(parameters);
     *
     *  //æ§è¡
     * function calculateCompleted(){todo}
     * function calculateFailded(){todo}
     * (end)
     *
     */
class RouteCalculateMeasureService_RouteCalculateMeasureService extends SpatialAnalystBase_SpatialAnalystBase {

    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.RouteCalculateMeasureService";
    }

    /**
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.RouteCalculateMeasureService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çåºäºè·¯ç±å¯¹è±¡è®¡ç®æå®ç¹ M å¼æä½çåæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.RouteCalculateMeasureParameters} params - åºäºè·¯ç±å¯¹è±¡è®¡ç®æå®ç¹ M å¼æä½çåæ°ç±»ã
     */
    processAsync(params) {
        if (!(params instanceof RouteCalculateMeasureParameters_RouteCalculateMeasureParameters)) {
            return;
        }
        var me = this, jsonParameters;

        jsonParameters = me.getJsonParameters(params);

        me.request({
            method: "POST",
            data: jsonParameters,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

    /**
     * @function SuperMap.RouteCalculateMeasureService.prototype.getJsonParameters
     * @description å°åæ°è½¬åä¸º JSON å­ç¬¦ä¸²ã
     * @param {SuperMap.RouteCalculateMeasureParameters} params - åºäºè·¯ç±å¯¹è±¡è®¡ç®æå®ç¹ M å¼æä½çåæ°ç±»ã
     * @returns {Object} è½¬ååç JSON å­ç¬¦ä¸²ã
     */
    getJsonParameters(params) {
        var jsonParameters, jsonStr = "geometry/calculatemeasure", me = this, end;
        end = me.url.substr(me.url.length - 1, 1);
        me.url += (end === "/") ? jsonStr + ".json" : "/" + jsonStr + ".json";
        me.url += "?returnContent=true";
        jsonParameters = Util_Util.toJSON(params);
        return jsonParameters;
    }

}

SuperMap.RouteCalculateMeasureService = RouteCalculateMeasureService_RouteCalculateMeasureService;

// CONCATENATED MODULE: ./src/common/iServer/RouteLocatorParameters.js





/**
 * @class SuperMap.RouteLocatorParameters
 * @category  iServer SpatialAnalyst RouteLocator
 * @classdesc è·¯ç±å¯¹è±¡å®ä½ç©ºé´å¯¹è±¡çåæ°ç±»ã
 * åæ°æä¸¤ç§æ¹å¼ï¼åå«ä¸º Geometry å Dataset ä¸¤ç§ï¼åèéè¦æå® sourceRoute å¯¹è±¡ä½ä¸ºåæ°ï¼åèéè¦ datasetï¼routeIDFieldï¼routeID ä¸ä¸ªåæ°
 * å¦æç¨æ·ä¸¤ç§åæ°åè®¾ç½®ï¼ä¼åéæ© Dataset æ¹å¼ã
 * @param {Object} options - åæ°ã
 * @param {(SuperMap.Route|L.Polyline|ol.geom.LineString)} options.sourceRoute - è·¯ç±å¯¹è±¡ã
 * @param {float} options.measure - å®ä½ç¹ç M å¼ãåªå½è·¯ç±å¯¹è±¡å®ä½ç¹æ¶ææä¹ã
 * @param {string} [options.type] -  ç±»åï¼ç¹ or çº¿ã
 * @param {float} [options.offset=0] - å®ä½ç¹åç§»éãåªå½è·¯ç±å¯¹è±¡å®ä½ç¹æ¶ææä¹ã
 * @param {boolean} [options.isIgnoreGap=false] - æ¯å¦å¿½ç¥å­å¯¹è±¡ä¹é´çè·ç¦»ãå³ä¸å¿½ç¥å­å¯¹è±¡ä¹é´çè·ç¦»ã
 * @param {float} [options.startMeasure] - å®ä½çº¿çèµ·å§ M å¼ãåªå½è·¯ç±å¯¹è±¡å®ä½çº¿æ¶ææä¹ã
 * @param {float} [options.endMeasure] - å®ä½çº¿çç»æ­¢ M å¼ãåªå½è·¯ç±å¯¹è±¡å®ä½çº¿æ¶ææä¹ã
 */
class RouteLocatorParameters_RouteLocatorParameters {

    constructor(options) {
        if (!options) {
            return this;
        }
        /**
         * @member {(SuperMap.Route|L.Polyline|ol.geom.LineString)} SuperMap.RouteLocatorParameters.prototype.sourceRoute
         * @description è·¯ç±å¯¹è±¡ã
         */
        this.sourceRoute = null;

        /**
         * @member {string} SuperMap.RouteLocatorParameters.prototype.dataset
         * @description è¦ç¨æ¥åç¼å²åºåæçæ°æ®æºä¸­æ°æ®éçåç§°ãè¯¥åç§°ç¨å½¢å¦"æ°æ®éåç§°@æ°æ®æºå«å"å½¢å¼æ¥è¡¨ç¤ºã
         */
        this.dataset = null;

        /**
         * @member {string} SuperMap.RouteLocatorParameters.prototype.routeIDField
         * @description  è·¯ç±å¯¹è±¡æå¨çå­æ®µåç§°ã
         *
         */
        this.routeIDField = null;

        /**
         * @member {number} SuperMap.RouteLocatorParameters.prototype.routeID
         * @description è·¯ç±å¯¹è±¡æ è¯ã
         *
         */
        this.routeID = null;

        /**
         * @member {string} [SuperMap.RouteLocatorParameters.prototype.type]
         * @description ç±»åï¼ç¹ or çº¿ã
         * å¯éå¼ä¸º:
         * LINE :æ ¹æ®èµ·å§ M å¼åç»æ­¢ M å¼å®ä½çº¿å¯¹è±¡ã
         * POINT : æ ¹æ® M å¼å®ä½ç¹å¯¹è±¡ã
         */
        this.type = null;

        /**
         * @member {float} SuperMap.RouteLocatorParameters.prototype.measure
         * @description å®ä½ç¹ç M å¼ãåªå½è·¯ç±å¯¹è±¡å®ä½ç¹æ¶ææä¹ã
         */
        this.measure = null;

        /**
         * @member {float} [SuperMap.RouteLocatorParameters.prototype.offset=0]
         * @description å®ä½ç¹åç§»éãåªå½è·¯ç±å¯¹è±¡å®ä½ç¹æ¶ææä¹ã
         */
        this.offset = 0;

        /**
         * @member {boolean} [SuperMap.RouteLocatorParameters.prototype.isIgnoreGap=false]
         * @description æ¯å¦å¿½ç¥å­å¯¹è±¡ä¹é´çè·ç¦»ã
         */
        this.isIgnoreGap = false;

        /**
         *  @member {float} [SuperMap.RouteLocatorParameters.prototype.startMeasure]
         *  @description å®ä½çº¿çèµ·å§ M å¼ãåªå½è·¯ç±å¯¹è±¡å®ä½çº¿æ¶ææä¹ã
         */
        this.startMeasure = null;

        /**
         *  @member {float} [SuperMap.RouteLocatorParameters.prototype.endMeasure]
         *  @description å®ä½çº¿çç»æ­¢ M å¼ãåªå½è·¯ç±å¯¹è±¡å®ä½çº¿æ¶ææä¹ã
         */
        this.endMeasure = null;

        var routeFromClient = options.sourceRoute;
        var routeHandle = {};
        if (routeFromClient && routeFromClient instanceof Geometry_Geometry && routeFromClient.components) {
            routeHandle.type = routeFromClient.type;
            routeHandle.parts = routeFromClient.parts;
            var parts = [];
            for (var i = 0, len = routeFromClient.components.length; i < len; i++) {
                parts = parts.concat(routeFromClient.components[i].components);
            }
            routeHandle.points = parts;
            options.sourceRoute = routeHandle;
        }
        Util_Util.extend(this, options);
        this.CLASS_NAME = "SuperMap.RouteLocatorParameters";
    }


    /**
     * @function SuperMap.RouteLocatorParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.sourceRoute = null;
        me.type = null;
        me.measure = null;
        me.offset = 0;
        me.isIgnoreGap = false;
        me.startMeasure = null;
        me.endMeasure = null;
        me.dataset = null;
        me.routeID = null;
        me.routeIDField = null;
    }

}

SuperMap.RouteLocatorParameters = RouteLocatorParameters_RouteLocatorParameters;
// CONCATENATED MODULE: ./src/common/iServer/RouteLocatorService.js





/**
 * @class SuperMap.RouteLocatorService
 * @category iServer SpatialAnalyst RouteLocator
 * @classdesc è·¯ç±å¯¹è±¡å®ä½ç©ºé´å¯¹è±¡çæå¡ç±»ã
 * @extends {SuperMap.SpatialAnalystBase}
 * @param {Object} options - åæ°ã</br>
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 * @param {string} url -æå¡çè®¿é®å°åãå¦ http://localhost:8090/iserver/services/spatialanalyst-changchun/restjsr/spatialanalystã
 * @example å®ä¾åè¯¥ç±»å¦ä¸ä¾æç¤ºï¼
 * (start code)
 * var routeLocatorParameters_point = new SuperMap.RouteLocatorParameters({
     *   "sourceRoute":{
     *       "type":"LINEM",
     *       "parts":[4],
     *       "points":[
     *           {
     *               "measure":0,
     *               "y":-6674.466867067764,
     *               "x":3817.3527876130133
     *           },
     *           {
     *               "measure":199.57954019411724,
     *               "y":-6670.830929417594,
     *               "x":3617.806369901496
     *          },
     *           {
     *               "measure":609.3656478634477,
     *               "y":-6877.837541432356,
     *               "x":3264.1498746678444
     *           },
     *           {
     *               "measure":936.0174126282958,
     *               "y":-7038.687780615184,
     *               "x":2979.846206068903
     *           }
     *       ]
     *   },
     *   "type":"POINT",
     *   "measure":10,
     *   "offset":3,
     *   "isIgnoreGap":true
     * });
     * var routeLocatorService = new SuperMap.RouteLocatorService(spatialAnalystURL, {
     *     eventListeners:{
     *         processCompleted:routeLocatorCompleted,
     *         processFailed:routeLocatorFailded
     *     }
     * );
     * routeLocatorService.processAsync(routeLocatorParameters_point);
     *
     *  //æ§è¡
     * function routeLocatorCompleted(){todo}
     * function routeLocatorFailded(){todo}
     * (end)
     *
     */
class RouteLocatorService_RouteLocatorService extends SpatialAnalystBase_SpatialAnalystBase {

    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.RouteLocatorService";
    }

    /**
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.RouteLocatorService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çåºäºè·¯ç±å¯¹è±¡è®¡ç®æå®ç¹ M å¼æä½çåæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.RouteLocatorParameters} params - è·¯ç±å¯¹è±¡å®ä½ç©ºé´å¯¹è±¡çåæ°ç±»ã
     */
    processAsync(params) {
        if (!(params instanceof RouteLocatorParameters_RouteLocatorParameters)) {
            return;
        }
        var me = this, jsonParameters;

        jsonParameters = me.getJsonParameters(params);

        me.request({
            method: "POST",
            data: jsonParameters,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

    /**
     * @function SuperMap.RouteLocatorService.prototype.processAsync
     * @description å°åæ°è½¬åä¸º JSON å­ç¬¦ä¸²ã
     * @param {SuperMap.RouteLocatorParameters} params - è·¯ç±å¯¹è±¡å®ä½ç©ºé´å¯¹è±¡çåæ°ç±»ã
     * @returns {Object} è½¬ååçJSONå­ç¬¦ä¸²ã
     */
    getJsonParameters(params) {
        var jsonParameters, jsonStr = "geometry/routelocator", me = this, end;
        end = me.url.substr(me.url.length - 1, 1);

        if (params.dataset) {
            jsonStr = "datasets/" + params.dataset + "/linearreferencing/routelocator";
            params.sourceRoute = null;
        }
        me.url += (end === "/") ? jsonStr + ".json" : "/" + jsonStr + ".json";
        me.url += "?returnContent=true";
        jsonParameters = Util_Util.toJSON(params);
        return jsonParameters;
    }

}

SuperMap.RouteLocatorService = RouteLocatorService_RouteLocatorService;

// CONCATENATED MODULE: ./src/common/iServer/ServerFeature.js





/**
 * @class SuperMap.ServerFeature
 * @category  iServer  
 * @classdesc æå¡ç«¯ç¢éè¦ç´ ç±»ãè¯¥ç±»æè¿°äºæå¡ç«¯è¿åçç¢éè¦ç´ çç¸å³ä¿¡æ¯ï¼åæ¬å­æ®µåå ä½ä¿¡æ¯ã
 * @param {Object} options - åæ°ã
 * @param {SuperMap.ServerGeometry} geometry - ç¢éè¦ç´ çå ä½ä¿¡æ¯ã
 * @param {Array.<string>} [options.fieldNames] - ç¢éè¦ç´ çå±æ§å­æ®µåéåã
 * @param {Array.<string>} [options.fieldValues] - ç¢éè¦ç´ çå±æ§å­æ®µå¼éåã
 */
class ServerFeature_ServerFeature {

    constructor(options) {

        /**
         * @member {Array.<string>} [SuperMap.ServerFeature.prototype.fieldNames]
         * @description ç¢éè¦ç´ çå±æ§å­æ®µåéåã
         */
        this.fieldNames = null;

        /**
         * @member {Array.<string>} [SuperMap.ServerFeature.prototype.fieldValues]
         * @description ç¢éè¦ç´ çå±æ§å­æ®µå¼éåã
         */
        this.fieldValues = null;

        /**
         * @member {SuperMap.ServerGeometry} SuperMap.ServerFeature.prototype.geometry
         * @description ç¢éè¦ç´ çå ä½ä¿¡æ¯ã
         */
        this.geometry = null;
        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.ServerFeature";
    }

    /**
     * @function SuperMap.ServerFeature.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.fieldNames = null;
        me.fieldValues = null;
        if (me.geometry) {
            me.geometry.destroy();
            me.geometry = null;
        }
    }

    /**
     * @function SuperMap.ServerFeature.prototype.toFeature
     * @description å°æå¡ç«¯ç¢éè¦ç´  ServerFeature è½¬æ¢ä¸ºå®¢æ·ç«¯ç¢éè¦ç´  Featureã
     * @returns {SuperMap.Vector} è½¬æ¢åçå®¢æ·ç«¯ç¢éè¦ç´ ã
     */
    toFeature() {
        var names, values, geo,
            attr = {},
            me = this,
            feature;

        names = me.fieldNames;
        values = me.fieldValues;
        for (var i in names) {
            attr[names[i]] = values[i];
        }
        if (me.geometry) {
            geo = me.geometry.toGeometry();
        }
        feature = new Vector_Vector(geo, attr);
        if (me.geometry && me.geometry.id) {
            feature.fid = me.geometry.id;
        }

        return feature;
    }

    /**
     * @function SuperMap.ServerFeature.prototype.fromJson
     * @description å° JSON å¯¹è±¡è¡¨ç¤ºæå¡ç«¯ç¢éè¦ç´ è½¬æ¢ä¸º ServerFeatureã
     * @param {Object} jsonObject - è¦è½¬æ¢ç JSON å¯¹è±¡ã
     * @returns {SuperMap.ServerFeature} è½¬ååç ServerFeature å¯¹è±¡ã
     */
    static fromJson(jsonObject) {
        var geo = null;
        if (!jsonObject) {
            return;
        }
        geo = jsonObject.geometry;
        if (geo) {
            geo = ServerGeometry_ServerGeometry.fromJson(geo);
        }
        return new ServerFeature_ServerFeature({
            fieldNames: jsonObject.fieldNames,
            fieldValues: jsonObject.fieldValues,
            geometry: geo
        });
    }

}


SuperMap.ServerFeature = ServerFeature_ServerFeature;
// CONCATENATED MODULE: ./src/common/iServer/SetLayerInfoParameters.js



/**
 * @class SuperMap.SetLayerInfoParameters
 * @category  iServer Map TempLayersSet
 * @classdesc è®¾ç½®å¾å±ä¿¡æ¯åæ°ç±».
 * @param {Object} options - åæ°ã
 * @param {string} options.resourceID - ä¸´æ¶å¾å±çèµæº IDã
 * @param {string} options.tempLayerName - ä¸´æ¶å¾å±ä¸çå­å¾å±åã
 * @param {string} options.layerInfo - è¦æ´æ°çå¾å±ä¿¡æ¯ã
 */
class SetLayerInfoParameters_SetLayerInfoParameters {

    constructor(options) {
        options = options || {};
        /**
         * @member {string} SuperMap.SetLayerInfoParameters.prototype.resourceID
         * @description ä¸´æ¶å¾å±çèµæº IDã
         */
        this.resourceID = null;

        /**
         * @member {string} SuperMap.SetLayerInfoParameters.prototype.tempLayerName
         * @description ä¸´æ¶å¾å±ä¸å­å¾å±ï¼æèå¶å­å¾å±ï¼åï¼å¦ï¼Countries@World.3@@Worldã
         */
        this.tempLayerName = null;

        /**
         * @member {Object} SuperMap.SetLayerInfoParameters.prototype.layerInfo
         * @description è¦æ´æ°çå¾å±ä¿¡æ¯ï¼åå«ä¿®æ¹åæªä¿®æ¹çææå­æ®µï¼ãè¯¥åæ°å¯ä»¥éè¿å¾å±ä¿¡æ¯æå¡è·åï¼ç¶åå¯¹è¿åå¼ä¸­ subLayers.layers[i] å¾å±ä¿¡æ¯å±æ§è¿è¡ä¿®æ¹ã
         */
        this.layerInfo = null;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.SetLayerInfoParameters";
    }

    /**
     * @function SuperMap.SetLayerInfoParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.resourceID = null;
        me.tempLayerName = null;
        me.layerInfo = null;
    }

}

SuperMap.SetLayerInfoParameters = SetLayerInfoParameters_SetLayerInfoParameters;

// CONCATENATED MODULE: ./src/common/iServer/SetLayerInfoService.js





/**
 * @class SuperMap.SetLayerInfoService
 * @category  iServer Map TempLayersSet
 * @classdesc è®¾ç½®å¾å±ä¿¡æ¯æå¡ç±»ãå¯ä»¥å®ç°ä¸´æ¶å¾å±ä¸­å­å¾å±çä¿®æ¹
 *            è¯¥ç±»è´è´£å°å¾å±è®¾ç½®åæ°ä¼ éå°æå¡ç«¯ï¼å¹¶è·åæå¡ç«¯è¿åçç»æä¿¡æ¯ã
 * @extends {SuperMap.CommonServiceBase}
 * @param {string} url - ä¸å®¢æ·ç«¯äº¤äºçå°å¾æå¡å°åãè¯·æ±å°å¾æå¡ï¼URL åºä¸ºï¼
 *                 http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{å°å¾æå¡å}/rest/maps/{å°å¾å}/tempLayersSet/{tempLayerID}/Rivers@World@@World"ï¼
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæprocessCompletedå±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailedå±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã
 * @param {SuperMap.ServerType} options.serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã
 * @param {SuperMap.DataFormat} options.format - æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æiServerJSON åGeoJSONä¸¤ç§æ ¼å¼ãåæ°æ ¼å¼ä¸º"ISERVER"ï¼"GEOJSON"ã
 */
class SetLayerInfoService_SetLayerInfoService extends CommonServiceBase_CommonServiceBase {


    constructor(url, options) {
        super(url, options);
        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = "SuperMap.SetLayerInfoService";
    }

    /**
     * @override
     */
    destroy() {
        super.destroy();
        Util_Util.reset(this);
    }

    /**
     * @function SuperMap.SetLayerInfoService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ´æ°åæ°ä¼ éå°æå¡ç«¯ã
     * @param {Object} params - ä¿®æ¹åçå¾å±èµæºä¿¡æ¯ã
     *        è¯¥åæ°å¯ä»¥ä½¿ç¨è·åå¾å±ä¿¡æ¯æå¡<{@link SuperMap.GetLayersInfoService}>è¿åå¾å±ä¿¡æ¯ï¼è§£æç»æresult.subLayers.layers[i]ï¼ç¶åå¯¹å¶å±æ§è¿è¡ä¿®æ¹æ¥è·åã
     */
    processAsync(params) {
        if (!params) {
            return;
        }
        var me = this;
        me.url += ".json";
        var jsonParamsStr = Util_Util.toJSON(params);
        me.request({
            method: "PUT",
            data: jsonParamsStr,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }
}

SuperMap.SetLayerInfoService = SetLayerInfoService_SetLayerInfoService;

// CONCATENATED MODULE: ./src/common/iServer/SetLayersInfoParameters.js



/**
 * @class SuperMap.SetLayersInfoParameters
 * @category  iServer Map TempLayersSet
 * @classdesc è®¾ç½®å¾å±ä¿¡æ¯åæ°ç±»ã
 * @param {Object} options - åæ°ã
 * @param {boolean} [options.isTempLayers=false] - æ¯å¦æ¯ä¸´æ¶å¾å±ã
 * @param {string} options.resourceID - ä¸´æ¶å¾å±èµæº IDã
 * @param {string} options.layersInfo - è¦æ´æ°çå¾å±ä¿¡æ¯ã
 */
class SetLayersInfoParameters_SetLayersInfoParameters {

    constructor(options) {
        options = options || {};
        /**
         * @member {boolean} [SuperMap.SetLayersInfoParameters.prototype.isTempLayers=false]
         * @description æ¯å¦æ¯ä¸´æ¶å¾å±ã
         */
        this.isTempLayers = null;
        /**
         * @member {string} SuperMap.SetLayersInfoParameters.prototype.resourceID
         * @description ä¸´æ¶å¾å±èµæº IDï¼
         */
        this.resourceID = null;

        /**
         * @member {Object} SuperMap.SetLayersInfoParameters.prototype.layersInfo
         * @description è¦æ´æ°çå¾å±ä¿¡æ¯ï¼åå«ä¿®æ¹åæªä¿®æ¹çææå­æ®µï¼ãè¯¥åæ°å¯ä»¥éè¿å¾å±ä¿¡æ¯æå¡è·åï¼ç¶åå¯¹è¿åå¼ä¸­ subLayers.layers[i] å¾å±ä¿¡æ¯å±æ§è¿è¡ä¿®æ¹ã
         */
        this.layersInfo = null;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.SetLayersInfoParameters";
    }


    /**
     * @function SuperMap.SetLayersInfoParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.isTempLayers = null;
        me.resourceID = null;
        me.layersInfo = null;
    }



}

SuperMap.SetLayersInfoParameters = SetLayersInfoParameters_SetLayersInfoParameters;

// CONCATENATED MODULE: ./src/common/iServer/SetLayersInfoService.js





/**
 * @class SuperMap.SetLayersInfoService
 * @category  iServer Map TempLayersSet
 * @classdesc  è®¾ç½®å¾å±ä¿¡æ¯æå¡ç±»ãå¯ä»¥å®ç°åå»ºæ°çä¸´æ¶å¾å±åå¯¹ç°æä¸´æ¶å¾å±çä¿®æ¹ï¼
 *             å½ isTempLayers ä¸º falseçæ¶åæ§è¡åå»ºä¸´æ¶å¾å±ãå½ isTempLayers ä¸º ture å¹¶ä¸ä¸´æ¶å¾å±èµæº resourceID è¢«è®¾ç½®æææ¶æ§è¡å¯¹ä¸´æ¶å¾å±çç¼è¾ã
 *             è¯¥ç±»è´è´£å°å¾å±è®¾ç½®åæ°ä¼ éå°æå¡ç«¯ï¼å¹¶è·åæå¡ç«¯è¿åçç»æä¿¡æ¯ã
 * @extends {SuperMap.CommonServiceBase}
 * @param url - {string} ä¸å®¢æ·ç«¯äº¤äºçå°å¾æå¡å°åãè¯·æ±å°å¾æå¡,URL åºä¸ºï¼
 *              http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{å°å¾æå¡å}/rest/maps/{å°å¾å}ï¼
 * @param {Object} options - åæ°ã
 * @param {string} options.resourceID - å¾å±èµæºIDï¼ä¸´æ¶å¾å±çèµæºIDæ è®°ã
 * @param {boolean} options.isTempLayers - å½åurlå¯¹åºçå¾å±æ¯å¦æ¯ä¸´æ¶å¾å±ã
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæprocessCompletedå±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailedå±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã
 * @param {SuperMap.ServerType} options.serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã
 * @param {SuperMap.DataFormat} options.format - æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æiServerJSON åGeoJSONä¸¤ç§æ ¼å¼ãåæ°æ ¼å¼ä¸º"ISERVER","GEOJSON"ã
 */
class SetLayersInfoService_SetLayersInfoService extends CommonServiceBase_CommonServiceBase {


    constructor(url, options) {
        super(url, options);
        /**
         * @member {string} SuperMap.SetLayersInfoService.prototype.resourceID
         * @description å¾å±èµæºIDï¼ä¸´æ¶å¾å±çèµæºIDæ è®°ã
         */
        this.resourceID = null;

        /**
         * @function {boolean} SuperMap.SetLayersInfoService.prototype.isTempLayers
         * @description å½åurlå¯¹åºçå¾å±æ¯å¦æ¯ä¸´æ¶å¾å±ã
         */
        this.isTempLayers = false;

        if (options) {
            SuperMap.Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.SetLayersInfoService";
    }

    /**
     * @override
     */
    destroy() {
        super.destroy();
        Util_Util.reset(this);
    }

    /**
     * @function SuperMap.SetLayersInfoService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ´æ°åæ°ä¼ éå°æå¡ç«¯ã
     * @param {Object} params - ä¿®æ¹åçå¾å±èµæºä¿¡æ¯ãè¯¥åæ°å¯ä»¥ä½¿ç¨è·åå¾å±ä¿¡æ¯æå¡ <{@link SuperMap.GetLayersInfoService}>è¿åå¾å±ä¿¡æ¯ï¼ç¶åå¯¹å¶å±æ§è¿è¡ä¿®æ¹æ¥è·åã
     */
    processAsync(params) {
        if (!params) {
            return;
        }
        var jsonParams,
            subLayers = [],
            me = this,
            method = "",
            end;


        end = me.url.substr(me.url.length - 1, 1);
        me.url += (end === "/") ? '' : '/';
        //åå»ºä¸´æ¶å¾å±åè®¾ç½®ä¿®æ¹ä¸´æ¶å¾å±ä¿¡æ¯å¯¹åºä¸åçèµæºURL
        if (me.isTempLayers) {
            me.url += "tempLayersSet/" + me.resourceID;
            method = "PUT";
        } else {
            me.url += "tempLayersSet";
            method = "POST";
        }
        me.url += ".json?";
        if (!params.subLayers) {
            params.subLayers = {layers: []}
        }
        if (!params.subLayers.layers) {
            params.subLayers.layers = [];
        }
        var layers = params.subLayers.layers,
            len = layers.length;
        for (let i in layers) {
            if (layers[i].ugcLayerType === "GRID") {
                var colorDictionary = {};
                var colorDics = layers[i].colorDictionarys;
                for (var j in colorDics) {
                    var key = colorDics[j].elevation;
                    colorDictionary[key] = colorDics[j].color;
                }
            }
            layers[i].colorDictionary = colorDictionary;
            delete layers[i].colorDictionarys;
        }

        for (let i = 0; i < len; i++) {
            if (layers[i].toJsonObject) {
                //å°å¾å±ä¿¡æ¯è½¬æ¢ææå¡ç«¯è½è¯å«çç®åjsonå¯¹è±¡
                subLayers.push(layers[i].toJsonObject());
            } else {
                subLayers.push(layers[i]);
            }
        }
        jsonParams = Util_Util.extend(jsonParams, params);
        jsonParams.subLayers = {"layers": subLayers};
        jsonParams.object = null;
        var jsonParamsStr = Util_Util.toJSON([jsonParams]);
        me.request({
            method: method,
            data: jsonParamsStr,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

}

SuperMap.SetLayersInfoService = SetLayersInfoService_SetLayersInfoService;

// CONCATENATED MODULE: ./src/common/iServer/SetLayerStatusParameters.js




/**
 * @class SuperMap.SetLayerStatusParameters
 * @category  iServer Map TempLayersSet
 * @classdesc å­å¾å±æ¾ç¤ºæ§å¶åæ°ç±»,è¯¥ç±»å­å¨äºåå­å¾å±æ¯å¦å¯è§çç¶æã
 *            æ³¨æå¨ SuperMap iClient ç³»åäº§åä¸­æè¯´çå¾å±ä¸ SuperMap Deskpro çå°å¾å¯¹åºï¼å­å¾å±ä¸ SuperMap Deskpro çå¾å±å¯¹åºã
 * @param {Object} options - åæ°ã
 * @param {Array.<SuperMap.LayerStatus>} options.layerStatusList - è·åæè®¾ç½®å¾å±å¯è§ç¶æï¼{@link SuperMap.LayerStatus}ï¼éåï¼
 *                                                                 éåä¸­çæ¯ä¸ª {@link SuperMap.LayerStatus} å¯¹è±¡ä»£è¡¨ä¸ä¸ªå­å¾å±çå¯è§ç¶æã
 * @param {number} [options.holdTime=15] - è·åæè®¾ç½®èµæºå¨æå¡ç«¯ä¿å­çæ¶é´ã
 * @param {string} [options.resourceID] - è·åæè®¾ç½®èµæºæå¡ IDã
 */
class SetLayerStatusParameters_SetLayerStatusParameters {

    constructor(options) {
        /**
         * @member {Array.<SuperMap.LayerStatus>} SuperMap.SetLayerStatusParameters.prototype.layerStatusList
         * @description è·åæè®¾ç½®å¾å±å¯è§ç¶æï¼{@link SuperMap.LayerStatus}ï¼éåï¼éåä¸­çæ¯ä¸ª {@link SuperMap.LayerStatus} å¯¹è±¡ä»£è¡¨ä¸ä¸ªå­å¾å±çå¯è§ç¶æã
         */
        this.layerStatusList = [];

        /**
         * @member {number} [SuperMap.SetLayerStatusParameters.prototype.holdTime=15]
         * @description è·åæè®¾ç½®èµæºå¨æå¡ç«¯ä¿å­çæ¶é´ãåä½ä¸ºåéã
         */
        this.holdTime = 15;

        /**
         * @member {string} SuperMap.SetLayerStatusParameters.prototype.resourceID
         * @description è·åæè®¾ç½®èµæºæå¡IDãå¦æè®¾ç½®è¯¥åæ°åä¼å¨æå®ç TempLayer è¿è¡å¾å±çæ¾ç¤ºæ§å¶ï¼
         *              å¦æä¸è®¾ç½®è¯¥åæ°ï¼åä¼é¦ååå»ºä¸ä¸ª TempLayer ï¼ç¶åå¨æ°åå»ºç TempLayer è¿è¡å¾å±çæ¾ç¤ºæ§å¶ã
         */
        this.resourceID = null;

        if (options) {
            Util_Util.extend(this, options);
        }


    }

    /**
     * @function SuperMap.SetLayerStatusParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.layerStatusList = null;
        me.holdTime = null;
        me.resourceID = null;
    }

    /**
     * @function SuperMap.SetLayerStatusParameters.prototype.toJSON
     * @description çæ JSONã
     * @returns {Object} å¯¹åºç JSON å¯¹è±¡ã
     */
    toJSON() {
        var json = '{';
        json += '"layers":[';
        var v = [];
        for (var i = 0, len = this.layerStatusList.length; i < len; i++) {
            v.push(this.layerStatusList[i].toJSON());
        }

        json += v;
        json += ']';
        json += '}';

        return json;
    }

}

SuperMap.SetLayerStatusParameters = SetLayerStatusParameters_SetLayerStatusParameters;
// CONCATENATED MODULE: ./src/common/iServer/SetLayerStatusService.js





/**
 * @class SuperMap.SetLayerStatusService
 * @category  iServer Map TempLayersSet
 * @classdesc  å­å¾å±æ¾ç¤ºæ§å¶æå¡ç±»ãè¯¥ç±»è´è´£å°å­å¾å±æ¾ç¤ºæ§å¶åæ°ä¼ éå°æå¡ç«¯ï¼å¹¶è·åæå¡ç«¯è¿åçå¾å±æ¾ç¤ºç¶æã
 *             ç¨æ·è·åæå¡ç«¯è¿åçåå­å¾å±æ¾ç¤ºç¶ææä¸¤ç§æ¹å¼ï¼
 *             ä¸ç§æ¯éè¿çå¬ SetLayerEvent.PROCESS_COMPLETE äºä»¶ï¼
 *             ä¸ç§æ¯ä½¿ç¨ AsyncResponder ç±»å®ç°å¼æ­¥å¤çã
 * @extends {SuperMap.CommonServiceBase}
 * @param {string} url - å°å¾æå¡è®¿é®å°åãè¯·æ±å°å¾æå¡ï¼URL åºä¸ºï¼
 *                       http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{å°å¾æå¡å}/rest/maps/{å°å¾å}ï¼
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæprocessCompletedå±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailedå±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã
 * @param {SuperMap.ServerType} options.serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã
 * @param {SuperMap.DataFormat} options.format - æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æiServerJSON åGeoJSONä¸¤ç§æ ¼å¼ãåæ°æ ¼å¼ä¸º"ISERVER","GEOJSON"ã
 */
class SetLayerStatusService_SetLayerStatusService extends CommonServiceBase_CommonServiceBase {



    constructor(url, options) {
        super(url, options);
        this.lastparams = null;

        this.mapUrl = url;
        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = "SuperMap.SetLayerStatusService";
    }

    /**
     * @override
     */
    destroy() {
        super.destroy();
        Util_Util.reset(this);
    }


    /**
     * @function SuperMap.SetLayerStatusService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ´æ°åæ°ä¼ éå°æå¡ç«¯ã
     * @param {Object} params - ä¿®æ¹åçå¾å±èµæºä¿¡æ¯ãè¯¥åæ°å¯ä»¥ä½¿ç¨è·åå¾å±ä¿¡æ¯æå¡{@link SuperMap.SetLayerStatusParameters}
     *                          è¿åå¾å±ä¿¡æ¯ï¼ç¶åå¯¹å¶å±æ§è¿è¡ä¿®æ¹æ¥è·åã
     */
    processAsync(params) {
        if (!(params instanceof SetLayerStatusParameters_SetLayerStatusParameters)) {
            return;
        }
        var me = this,
            method = "POST";
        me.url = me.mapUrl;
        var end = me.url.substr(me.url.length - 1, 1);
        me.url += (end === "/") ? '' : '/';

        if (params.resourceID == null) {
            me.url += "tempLayersSet";
            me.url += ".json?";

            me.lastparams = params;

            me.request({
                method: method,
                scope: me,
                success: me.createTempLayerComplete,
                failure: me.serviceProcessFailed
            });
        } else {
            me.url += "tempLayersSet/" + params.resourceID;
            me.url += ".json?";

            me.url += "elementRemain=true&reference=" + params.resourceID + "&holdTime=" + params.holdTime.toString();

            var jsonParameters = '[{';

            jsonParameters += '"type":"UGC",';
            if (params.layerStatusList != null && params.layerStatusList.length > 0) {
                jsonParameters += '"subLayers":' + params.toJSON();
            }
            jsonParameters += ',"visible":' + true + ',';
            jsonParameters += '"name":"' + this.getMapName(this.mapUrl) + '"';

            jsonParameters += '}]';

            me.request({
                method: "PUT",
                data: jsonParameters,
                scope: me,
                success: me.serviceProcessCompleted,
                failure: me.serviceProcessFailed
            });
        }
    }

    /**
     * @function SuperMap.SetLayerStatusService.prototype.createTempLayerComplete
     * @description è®¾ç½®å®æï¼æ§è¡æ­¤æ¹æ³ã
     * @param {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ï¼è®°å½è®¾ç½®æä½æ¯å¦æåã
     */
    createTempLayerComplete(result) {
        var me = this;
        result = Util_Util.transformResult(result);
        if (result.succeed) {
            me.lastparams.resourceID = result.newResourceID;
        }

        me.processAsync(me.lastparams);
    }

    /**
     * @function SuperMap.SetLayerStatusService.prototype.getMapName
     * @description è·åå°å¾åç§°ã
     * @param {Object} url - æå¡å°åã
     */
    getMapName(url) {
        var mapUrl = url;
        if (mapUrl.charAt(mapUrl.length - 1) === "/") {
            mapUrl = mapUrl.substr(0, mapUrl.length - 1);
        }
        var index = mapUrl.lastIndexOf("/");
        var mapName = mapUrl.substring(index + 1, mapUrl.length);
        return mapName;
    }

    /**
     * @function SuperMap.SetLayerStatusService.prototype.setLayerCompleted
     * @description è®¾ç½®å®æï¼æ§è¡æ­¤æ¹æ³ã
     * @param {Object} result - æå¡å¨è¿åçç»æå¯¹è±¡ï¼è®°å½è®¾ç½®æä½æ¯å¦æåã
     */
    serviceProcessCompleted(result) {
        var me = this;
        result = Util_Util.transformResult(result);
        if (result != null && me.lastparams != null) {
            result.newResourceID = me.lastparams.resourceID;
        }
        me.events.triggerEvent("processCompleted", {result: result});
    }

}

SuperMap.SetLayerStatusService = SetLayerStatusService_SetLayerStatusService;

// CONCATENATED MODULE: ./src/common/iServer/SingleObjectQueryJobsParameter.js





/**
 * @class SuperMap.SingleObjectQueryJobsParameter
 * @category  iServer ProcessingService Query
 * @classdesc åå¯¹è±¡ç©ºé´æ¥è¯¢åæä»»å¡åæ°ç±»ã
 * @param {Object} options - åæ°ã
 * @param {string} options.datasetName - æ°æ®éåã
 * @param {string} options.datasetQuery - æ¥è¯¢å¯¹è±¡æå¨çæ°æ®éåç§°ã
 * @param {SuperMap.SpatialQueryMode} [options.mode=SuperMap.SpatialQueryMode.CONTAIN] - ç©ºé´æ¥è¯¢æ¨¡å¼ã
 * @param {SuperMap.OutputSetting} [options.output] - è¾åºåæ°è®¾ç½®ã
 */
class SingleObjectQueryJobsParameter_SingleObjectQueryJobsParameter {

    constructor(options) {
        if (!options) {
            return;
        }
        /**
         * @member {string} SuperMap.SingleObjectQueryJobsParameter.prototype.datasetName
         * @description æ°æ®éåã
         */
        this.datasetName = "";

        /**
         * @member {string} SuperMap.SingleObjectQueryJobsParameter.prototype.datasetQuery
         * @description æ¥è¯¢å¯¹è±¡æå¨çæ°æ®éåç§°ã
         */
        this.datasetQuery = "";

        /**
         * @member {string} SuperMap.SingleObjectQueryJobsParameter.prototype.geometryQuery
         * @description æ¥è¯¢å¯¹è±¡æå¨çå ä½å¯¹è±¡ã
         */
        this.geometryQuery = "";

        /**
         * @member {SuperMap.SpatialQueryMode} [SuperMap.SingleObjectQueryJobsParameter.prototype.mode=SuperMap.SpatialQueryMode.CONTAIN]
         * @description ç©ºé´æ¥è¯¢æ¨¡å¼ ã
         */
        this.mode = SpatialQueryMode.CONTAIN;

        /**
         * @member {SuperMap.OutputSetting} [SuperMap.SingleObjectQueryJobsParameter.prototype.output]
         * @description è¾åºåæ°è®¾ç½®ç±»ã
         */
        this.output = null;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.SingleObjectQueryJobsParameter";
    }

    /**
     * @function SuperMap.SingleObjectQueryJobsParameter.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        this.datasetName = null;
        this.datasetQuery = null;
        this.geometryQuery = null;
        this.mode = null;
        if (this.output instanceof OutputSetting_OutputSetting) {
            this.output.destroy();
            this.output = null;
        }
    }

    /**
     * @function SuperMap.SingleObjectQueryJobsParameter.toObject
     * @param {Object} singleObjectQueryJobsParameter - åå¯¹è±¡ç©ºé´æ¥è¯¢åæä»»å¡åæ°ã
     * @param {Object} tempObj - ç®æ å¯¹è±¡ã
     * @description çæåå¯¹è±¡ç©ºé´æ¥è¯¢åæä»»å¡å¯¹è±¡ã
     */
    static toObject(singleObjectQueryJobsParameter, tempObj) {
        for (var name in singleObjectQueryJobsParameter) {
            if (name === "datasetName") {
                tempObj['input'] = tempObj['input'] || {};
                tempObj['input'][name] = singleObjectQueryJobsParameter[name];
                continue;
            }
            if (name === "output"){
                tempObj['output'] = tempObj['output'] || {};
                tempObj['output'] = singleObjectQueryJobsParameter[name];
                continue;
            }
            tempObj['analyst'] = tempObj['analyst'] || {};
            tempObj['analyst'][name] = singleObjectQueryJobsParameter[name];
        }
    }

}

SuperMap.SingleObjectQueryJobsParameter = SingleObjectQueryJobsParameter_SingleObjectQueryJobsParameter;

// CONCATENATED MODULE: ./src/common/iServer/SingleObjectQueryJobsService.js




/**
 * @class SuperMap.SingleObjectQueryJobsService
 * @category  iServer ProcessingService Query
 * @classdesc åå¯¹è±¡æ¥è¯¢åææå¡ç±»
 * @extends {SuperMap.ProcessingServiceBase}
 * @param {string} url - åå¯¹è±¡ç©ºé´æ¥è¯¢åææå¡å°åã
 * @param {Object} options - åæ°ã
 */
class SingleObjectQueryJobsService_SingleObjectQueryJobsService extends ProcessingServiceBase_ProcessingServiceBase {

    constructor(url, options) {
        super(url, options);
        this.url += "/spatialanalyst/query";
        this.CLASS_NAME = "SuperMap.SingleObjectQueryJobsService";
    }

    /**
     *@override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.SingleObjectQueryJobsService.protitype.getQueryJobs
     * @description è·ååå¯¹è±¡ç©ºé´æ¥è¯¢åæææä»»å¡
     */
    getQueryJobs() {
        super.getJobs(this.url);
    }

    /**
     * @function SuperMap.KernelDensityJobsService.protitype.getQueryJob
     * @description è·åæå®idçåå¯¹è±¡ç©ºé´æ¥è¯¢åææå¡
     * @param {string} id - æå®è¦è·åæ°æ®çid
     */
    getQueryJob(id) {
        super.getJobs(this.url + '/' + id);
    }

    /**
     * @function SuperMap.SingleObjectQueryJobsService.protitype.addQueryJob
     * @description æ°å»ºåå¯¹è±¡ç©ºé´æ¥è¯¢åææå¡
     * @param {SuperMap.SingleObjectQueryJobsParameter} params - åå»ºä¸ä¸ªç©ºé´åæçè¯·æ±åæ°ã
     * @param {number} seconds - å¼å§åå»ºåï¼è·ååå»ºæåç»æçæ¶é´é´éã
     */
    addQueryJob(params, seconds) {
        super.addJob(this.url, params, SingleObjectQueryJobsParameter_SingleObjectQueryJobsParameter, seconds);
    }

}

SuperMap.SingleObjectQueryJobsService = SingleObjectQueryJobsService_SingleObjectQueryJobsService;
// CONCATENATED MODULE: ./src/common/iServer/StopQueryParameters.js



/**
 * @class SuperMap.StopQueryParameters
 * @category  iServer TrafficTransferAnalyst TransferStops
 * @classdesc ç«ç¹æ¥è¯¢åæ°ç±»ã
 * @param {Object} options - åæ°ã
 * @param {string} options.keyWord - ç«ç¹åç§°å³é®å­ã
 * @param {boolean} [options.returnPosition=false] - æ¯å¦è¿åç«ç¹åæ ä¿¡æ¯ã
 */
class StopQueryParameters_StopQueryParameters {

    constructor(options) {
        options = options || {};
        /**
         *  @member {string} SuperMap.StopQueryParameters.prototype.keyWord
         *  @description ç«ç¹åç§°å³é®å­ã
         */
        this.keyWord = null;

        /**
         * @member {boolean} [SuperMap.StopQueryParameters.prototype.returnPosition=false]
         * @description æ¯å¦è¿åç«ç¹åæ ä¿¡æ¯ã
         */
        this.returnPosition = false;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.StopQueryParameters";
    }

    /**
     * @function SuperMap.StopQueryParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        Util_Util.reset(this);
    }

}

SuperMap.StopQueryParameters = StopQueryParameters_StopQueryParameters;
// CONCATENATED MODULE: ./src/common/iServer/StopQueryService.js





/**
 * @class SuperMap.StopQueryService
 * @category  iServer TrafficTransferAnalyst TransferStops
 * @classdesc ç«ç¹æ¥è¯¢æå¡ç±»ã
 * è¿åç»æéè¿è¯¥ç±»æ¯æçäºä»¶ççå¬å½æ°åæ°è·å
 * @extends {SuperMap.CommonServiceBase}
 * @param {string} url - ä¸å®¢æ·ç«¯äº¤äºçç«ç¹æ¥è¯¢æå¡å°åã
 * ä¾å¦ï¼</br>"http://localhost:8090/iserver/services/traffictransferanalyst-sample/restjsr/traffictransferanalyst/Traffic-Changchun"ã
 * @param {Object} options - åæ°ã</br>
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 * @example ä¾å¦ï¼
 * (start code)
 * var myService = new SuperMap.StopQueryService(url, {eventListeners: {
     *     "processCompleted": StopQueryCompleted,
     *     "processFailed": StopQueryError
     *     }
     * };
 * (end)
 *
 *
 */

class StopQueryService_StopQueryService extends CommonServiceBase_CommonServiceBase {


    constructor(url, options) {
        super(url, options);
        options = options || {};
        Util_Util.extend(this, options);
        this.CLASS_NAME = "SuperMap.StopQueryService";
    }

    /**
     *@override
     */
    destroy() {
        super.destroy();
        Util_Util.reset(this);
    }

    /**
     * @function SuperMap.StopQueryService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ´æ°åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.StopQueryParameters} params - äº¤éæ¢ä¹åæ°ã
     */
    processAsync(params) {
        if (!(params instanceof StopQueryParameters_StopQueryParameters)) {
            return;
        }
        var me = this, end;

        end = me.url.substr(me.url.length - 1, 1);
        me.url += (end === "/") ? '' : '/';
        me.url += "stops/keyword/" + params.keyWord;
        me.url += ".json?";

        me.request({
            method: "GET",
            params: {returnPosition: params.returnPosition},
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

}

SuperMap.StopQueryService = StopQueryService_StopQueryService;
// CONCATENATED MODULE: ./src/common/iServer/SummaryAttributesJobsParameter.js




/**
 * @class SuperMap.SummaryAttributesJobsParameter
 * @category  iServer ProcessingService SummaryAttributes
 * @classdesc å±æ§æ±æ»åæä»»å¡åæ°ç±»
 * @param {Object} options - åæ°ã
 * @param {string} options.datasetName - æ°æ®éåã
 * @param {string} options.groupField - åç»å­æ®µã
 * @param {string} options.attributeField - å±æ§å­æ®µã
 * @param {string} options.statisticModes - ç»è®¡æ¨¡å¼ã
 * @param {SuperMap.OutputSetting} [options.output] -è¾åºåæ°è®¾ç½®ã
 */
class SummaryAttributesJobsParameter_SummaryAttributesJobsParameter {

    constructor(options) {
        if (!options) {
            return;
        }
        /**
         * @member {string} SuperMap.SummaryAttributesJobsParameter.prototype.datasetName
         * @description æ±æ»æ°æ®éåç§°ã
         */
        this.datasetName = "";
        /**
         * @member {string} SuperMap.SummaryAttributesJobsParameter.prototype.groupField
         * @description åç»å­æ®µã
         */
        this.groupField = "";
        /**
         * @member {string} SuperMap.SummaryAttributesJobsParameter.prototype.attributeField
         * @description å±æ§å­æ®µã
         */
        this.attributeField = "";
        /**
         * @member {string} SuperMap.SummaryAttributesJobsParameter.prototype.statisticModes
         * @description å±æ§æ±æ»ç»è®¡æ¨¡å¼ã
         */
        this.statisticModes = "";
        /**
         * @member {SuperMap.OutputSetting} SuperMap.SummaryAttributesJobsParameter.prototype.output
         * @description è¾åºåæ°è®¾ç½®ç±»ã
         */
        this.output = null;

        Util_Util.extend(this, options);
        this.CLASS_NAME = "SuperMap.SummaryAttributesJobsParameter";
    }

    /**
     * @function SuperMap.SummaryAttributesJobsParameter.destroy
     * @override
     */
    destroy() {
        this.datasetName = null;
        this.groupField = null;
        this.attributeField = null;
        this.statisticModes = null;
        if (this.output instanceof OutputSetting_OutputSetting) {
            this.output.destroy();
            this.output = null;
        }
    }

    /**
     * @function SuperMap.SummaryAttributesJobsParameter.toObject
     * @param {Object} SummaryAttributesJobsParameter - å±æ§æ±æ»ä»»å¡åæ°ã
     * @param {Object} tempObj - ç®æ å¯¹è±¡ã
     * @description çæå±æ§æ±æ»åæä»»å¡å¯¹è±¡ã
     */
    static toObject(SummaryAttributesJobsParameter, tempObj) {
        for (var name in SummaryAttributesJobsParameter) {
            if (name === "datasetName") {
                tempObj['input'] = tempObj['input'] || {};
                tempObj['input'][name] = SummaryAttributesJobsParameter[name];
                continue;
            }
            if (name === "output"){
                tempObj['output'] = tempObj['output'] || {};
                tempObj['output'] = SummaryAttributesJobsParameter[name];
                continue;
            }
            tempObj['analyst'] = tempObj['analyst'] || {};
            tempObj['analyst'][name] = SummaryAttributesJobsParameter[name];
        }
    }

}
SuperMap.SummaryAttributesJobsParameter = SummaryAttributesJobsParameter_SummaryAttributesJobsParameter;
// CONCATENATED MODULE: ./src/common/iServer/SummaryAttributesJobsService.js




/**
 * @class SuperMap.SummaryAttributesJobsService
 * @category  iServer ProcessingService SummaryAttributes
 * @classdesc å±æ§æ±æ»åææå¡ç±»
 * @extends {SuperMap.ProcessingServiceBase}
 * @param {string} url - æ±æ»ç»è®¡åææå¡å°åã
 * @param {Object} options - åæ°ã
 */
class SummaryAttributesJobsService_SummaryAttributesJobsService extends ProcessingServiceBase_ProcessingServiceBase {

    constructor(url, options) {
        super(url, options);
        this.url += "/spatialanalyst/summaryattributes";
        this.CLASS_NAME = "SuperMap.SummaryAttributesJobsService";
    }

    /**
     *@override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.SummaryAttributesJobsService.protitype.getSummaryAttributesJobs
     * @description è·åå±æ§æ±æ»åæææä»»å¡
     */
    getSummaryAttributesJobs (){
        super.getJobs(this.url);
    }

    /**
     * @function SuperMap.SummaryAttributesJobsService.protitype.getSummaryAttributesJob
     * @description è·åæå®idçå±æ§æ±æ»åææå¡
     * @param {string} id - æå®è¦è·åæ°æ®çid
     */
    getSummaryAttributesJob(id) {
        super.getJobs(this.url + '/' + id);
    }

    /**
     * @function SuperMap.SummaryAttributesJobsService.protitype.addSummaryAttributesJob
     * @description æ°å»ºå±æ§æ±æ»åææå¡
     * @param {SuperMap.SummaryAttributesJobsParameter} params - åå»ºä¸ä¸ªç©ºé´åæçè¯·æ±åæ°ã
     * @param {number} seconds - å¼å§åå»ºåï¼è·ååå»ºæåç»æçæ¶é´é´éã
     */
    addSummaryAttributesJob(params, seconds) {
        super.addJob(this.url, params, SummaryAttributesJobsParameter_SummaryAttributesJobsParameter, seconds);
    }

}

SuperMap.SummaryAttributesJobsService = SummaryAttributesJobsService_SummaryAttributesJobsService;
// CONCATENATED MODULE: ./src/common/iServer/SummaryMeshJobParameter.js





/**
 * @class SuperMap.SummaryMeshJobParameter
 * @category  iServer ProcessingService AggregatePoints
 * @classdesc ç¹èååæä»»å¡åæ°ç±»ã
 * @param {Object} options - åæ°ã
 * @param {string} options.datasetName - æ°æ®éåã
 * @param {(SuperMap.Bounds|L.Bounds|ol.extent)} options.query - åæèå´ã
 * @param {number} options.fields - æéç´¢å¼ã
 * @param {number} [options.resolution=100] - åè¾¨çã
 * @param {SuperMap.StatisticAnalystMode} [options.statisticModes=SuperMap.StatisticAnalystMode.AVERAGE] - åææ¨¡å¼ã
 * @param {number} [options.meshType=0] - åæç±»åã
 * @param {SuperMap.SummaryType} [options.type=SuperMap.SummaryType.SUMMARYMESH] - èåç±»åã
 * @param {SuperMap.OutputSetting} [options.output] - è¾åºåæ°è®¾ç½®ã
 */
class SummaryMeshJobParameter_SummaryMeshJobParameter {

    constructor(options) {
        if (!options) {
            return;
        }
        /**
         * @member {string} SuperMap.SummaryMeshJobParameter.prototype.datasetName
         * @description æ°æ®éåã
         */
        this.datasetName = "";

        /**
         * @member {string} SuperMap.SummaryMeshJobParameter.prototype.regionDataset
         * @description èåé¢æ°æ®éï¼èåç±»åä¸ºå¤è¾¹å½¢èåæ¶ä½¿ç¨çåæ°ï¼ã
         */
        this.regionDataset = "";

        /**
         * @member {(SuperMap.Bounds|L.Bounds|ol.extent)} SuperMap.SummaryMeshJobParameter.prototype.query
         * @description åæèå´ï¼èåç±»åä¸ºç½æ ¼é¢èåæ¶ä½¿ç¨çåæ°ï¼ã
         */
        this.query = "";

        /**
         * @member {number} [SuperMap.SummaryMeshJobParameter.prototype.resolution=100]
         * @description åè¾¨çï¼èåç±»åä¸ºç½æ ¼é¢èåæ¶ä½¿ç¨çåæ°ï¼ã
         */
        this.resolution = 100;

        /**
         * @member {number} [SuperMap.SummaryMeshJobParameter.prototype.meshType=0]
         * @description  ç½æ ¼é¢ç±»åï¼èåç±»åä¸ºç½æ ¼é¢èåæ¶ä½¿ç¨çåæ°ï¼ï¼åå¼ï¼0 æ 1ã
         */
        this.meshType = 0;

        /**
         * @member {SuperMap.StatisticAnalystMode} [SuperMap.SummaryMeshJobParameter.prototype.statisticModes=SuperMap.StatisticAnalystMode.AVERAGE]
         * @description ç»è®¡æ¨¡å¼ã
         */
        this.statisticModes = StatisticAnalystMode.AVERAGE;

        /**
         * @member {number} SuperMap.SummaryMeshJobParameter.prototype.fields
         * @description æéå­æ®µã
         */
        this.fields = "";

        /**
         * @member {SuperMap.SummaryType} [SuperMap.SummaryMeshJobParameter.prototype.type=SuperMap.SummaryType.SUMMARYMESH]
         * @description èåç±»åã
         */
        this.type = SummaryType.SUMMARYMESH;

        /**
         * @member {SuperMap.OutputSetting} SuperMap.SummaryMeshJobParameter.prototype.output
         * @description è¾åºåæ°è®¾ç½®ç±»ã
         */
        this.output = null;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.SummaryMeshJobParameter";
    }


    /**
     * @function SuperMap.SummaryMeshJobParameter.destroy
     * @override
     */
    destroy() {
        this.datasetName = null;
        this.query = null;
        this.resolution = null;
        this.statisticModes = null;
        this.meshType = null;
        this.fields = null;
        this.regionDataset = null;
        this.type = null;
        if (this.output instanceof OutputSetting_OutputSetting) {
            this.output.destroy();
            this.output = null;
        }
    }

    /**
     * @function SuperMap.SummaryMeshJobParameter.toObject
     * @param {Object} summaryMeshJobParameter - ç¹èååæä»»å¡åæ°ã
     * @param {Object} tempObj - ç®æ å¯¹è±¡ã
     * @description çæç¹èååæä»»å¡å¯¹è±¡ã
     */
    static toObject(summaryMeshJobParameter, tempObj) {
        for (var name in summaryMeshJobParameter) {
            if (name === "datasetName") {
                tempObj['input'] = tempObj['input'] || {};
                tempObj['input'][name] = summaryMeshJobParameter[name];
                continue;
            }
            if (name === "type") {
                tempObj['type'] = summaryMeshJobParameter[name];
                continue;
            }
            if (name === "output"){
                tempObj['output'] = tempObj['output'] || {};
                tempObj['output'] = summaryMeshJobParameter[name];
                continue;
            }
            if (summaryMeshJobParameter.type === 'SUMMARYMESH' && name !== 'regionDataset' || summaryMeshJobParameter.type === 'SUMMARYREGION' && !contains(['meshType', 'resolution', 'query'], name)) {
                tempObj['analyst'] = tempObj['analyst'] || {};
                if (name === 'query') {
                    tempObj['analyst'][name] = summaryMeshJobParameter[name].toBBOX();
                } else {
                    tempObj['analyst'][name] = summaryMeshJobParameter[name];
                }
            }

        }

        function contains(arr, obj) {
            var i = arr.length;
            while (i--) {
                if (arr[i] === obj) {
                    return true;
                }
            }
            return false;
        }
    }

}

SuperMap.SummaryMeshJobParameter = SummaryMeshJobParameter_SummaryMeshJobParameter;

// CONCATENATED MODULE: ./src/common/iServer/SummaryMeshJobsService.js




/**
 * @class SuperMap.SummaryMeshJobsService
 * @category  iServer ProcessingService AggregatePoints
 * @classdesc ç¹èååæä»»å¡ç±»ã
 * @param {string} url -ç¹èååæä»»å¡å°åã
 * @param {Object} options - åæ°ã
 * @param {SuperMap.Events} options.events - å¤çææäºä»¶çå¯¹è±¡ã<br>
 * @param {Object} options.eventListeners - å¬å¨å¯¹è±¡ã<br>
 * @param {SuperMap.ServerType} options.serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã<br>
 * @param {number} options.index - æå¡è®¿é®å°åå¨æ°ç»ä¸­çä½ç½®ã<br>
 * @param {number} options.length - æå¡è®¿é®å°åæ°ç»é¿åº¦ã
 */
class SummaryMeshJobsService_SummaryMeshJobsService extends ProcessingServiceBase_ProcessingServiceBase {

    constructor(url, options) {
        super(url, options);
        this.url += "/spatialanalyst/aggregatepoints";
        this.CLASS_NAME = "SuperMap.SummaryMeshJobsService";
    }

    /**
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.SummaryMeshJobsService.prototype.getSummaryMeshJobs
     * @description è·åç¹èååæä»»å¡
     */
    getSummaryMeshJobs() {
        super.getJobs(this.url);
    }

    /**
     * @function SuperMap.SummaryMeshJobsService.prototype.getSummaryMeshJob
     * @description è·åæå®ipçç¹èååæä»»å¡
     * @param {string} id - æå®è¦è·åæ°æ®çid
     */
    getSummaryMeshJob(id) {
        super.getJobs(this.url + '/' + id);
    }

    /**
     * @function SuperMap.SummaryMeshJobsService.prototype.addSummaryMeshJob
     * @description æ°å»ºç¹èååææå¡
     * @param {SuperMap.SummaryMeshJobParameter} params - åå»ºä¸ä¸ªç©ºé´åæçè¯·æ±åæ°ã
     * @param {number} seconds - å¼å§åå»ºåï¼è·ååå»ºæåç»æçæ¶é´é´éã
     */
    addSummaryMeshJob(params, seconds) {
        super.addJob(this.url, params, SummaryMeshJobParameter_SummaryMeshJobParameter, seconds);
    }

}

SuperMap.SummaryMeshJobsService = SummaryMeshJobsService_SummaryMeshJobsService;
// CONCATENATED MODULE: ./src/common/iServer/SummaryRegionJobParameter.js





/**
 * @class SuperMap.SummaryRegionJobParameter
 * @category  iServer ProcessingService SummaryRegion
 * @classdesc åºåæ±æ»åæä»»å¡åæ°ç±»ã
 * @param {Object} options - åæ°ã
 * @param {string} options.datasetName - æ°æ®éåã
 * @param {(SuperMap.Bounds|L.Bounds|ol.extent)} options.query - åæèå´ã
 * @param {string} [options.standardFields] - æ åå±æ§å­æ®µåç§°ã
 * @param {string} [options.weightedFields] - æéå­æ®µåç§°ã
 * @param {SuperMap.StatisticAnalystMode} [options.standardStatisticModes] - æ åå±æ§å­æ®µçç»è®¡æ¨¡å¼ãstandardSummaryFields ä¸º true æ¶å¿å¡«ã
 * @param {SuperMap.StatisticAnalystMode} [options.weightedStatisticModes] - æéå­æ®µçç»è®¡æ¨¡å¼ãweightedSummaryFields ä¸º true æ¶å¿å¡«ã 
 * @param {boolean} [options.sumShape=true] - æ¯å¦ç»è®¡é¿åº¦æé¢ç§¯ã
 * @param {boolean} [options.standardSummaryFields=false] - æ¯å¦ä»¥æ åå±å­æ®µç»è®¡ã
 * @param {boolean} [options.weightedSummaryFields=false] - æ¯å¦ä»¥æéå­æ®µç»è®¡ã
 * @param {number} [options.resolution=100] - ç½æ ¼å¤§å°ã
 * @param {number} [options.meshType=0] - ç½æ ¼é¢æ±æ»ç±»åã
 * @param {SuperMap.AnalystSizeUnit} [options.meshSizeUnit=SuperMap.AnalystSizeUnit.METER] - ç½æ ¼å¤§å°åä½ã
 * @param {SuperMap.SummaryType} [options.type=SuperMap.SummaryType.SUMMARYMESH] - æ±æ»ç±»åã
 * @param {SuperMap.OutputSetting} [options.output] - è¾åºåæ°è®¾ç½®ã
 */
class SummaryRegionJobParameter_SummaryRegionJobParameter {

    constructor(options) {
        if (!options) {
            return;
        }

        /**
         * @member {string} SuperMap.SummaryRegionJobParameter.prototype.datasetName
         * @description æ°æ®éåã
         */
        this.datasetName = "";

        /**
         * @member {string} SuperMap.SummaryRegionJobParameter.prototype.regionDataset
         * @description æ±æ»æ°æ®æºï¼å¤è¾¹å½¢æ±æ»æ¶ç¨å°çåæ°ï¼ã
         */
        this.regionDataset = "";

        /**
         * @member {boolean} [SuperMap.SummaryRegionJobParameter.prototype.sumShape=true]
         * @description æ¯å¦ç»è®¡é¿åº¦æé¢ç§¯ã
         */
        this.sumShape = true;

        /**
         * @member {(SuperMap.Bounds|L.Bounds|ol.extent)} SuperMap.SummaryRegionJobParameter.prototype.query
         * @description åæèå´ã
         */
        this.query = "";

        /**
         * @member {boolean} [SuperMap.SummaryRegionJobParameter.prototype.standardSummaryFields=false]
         * @description æ¯å¦ä»¥æ åå±å­æ®µç»è®¡ã
         */
        this.standardSummaryFields = false;

        /**
         * @member {string} SuperMap.SummaryRegionJobParameter.prototype.standardFields
         * @description æ åå±æ§å­æ®µåç§°ãä»æ¯æç³»ç»å­æ®µä»¥å¤çæ´å½¢ãé¿æ´å½¢ãæµ®ç¹åçå­æ®µçåç§°ãstandardSummaryFields ä¸º true æ¶å¿å¡«ã 
         */
        this.standardFields = "";

        /**
         * @member {SuperMap.StatisticAnalystMode} SuperMap.SummaryRegionJobParameter.prototype.standardStatisticModes
         * @description æ åå±æ§å­æ®µçç»è®¡æ¨¡å¼ãstandardSummaryFields ä¸º true æ¶å¿å¡«ã
         */
        this.standardStatisticModes = "";

        /**
         * @member {boolean} [SuperMap.SummaryRegionJobParameter.prototype.weightedSummaryFields=false]
         * @description æ¯å¦ä»¥æéå­æ®µç»è®¡ã
         */
        this.weightedSummaryFields = false;

        /**
         * @member {string} SuperMap.SummaryRegionJobParameter.prototype.weightedFields
         * @description æéå­æ®µåç§°ãä»æ¯æç³»ç»å­æ®µä»¥å¤çæ´å½¢ãé¿æ´å½¢ãæµ®ç¹åçå­æ®µçåç§°ãweightedSummaryFields ä¸º true æ¶å¿å¡«ã 
         */
        this.weightedFields = "";

        /**
         * @member {SuperMap.StatisticAnalystMode} SuperMap.SummaryRegionJobParameter.prototype.weightedStatisticModes
         * @description ä»¥æéå­æ®µç»è®¡çç»è®¡æ¨¡å¼ãæéå­æ®µçç»è®¡æ¨¡å¼ãweightedSummaryFields ä¸º true æ¶å¿å¡«ã 
         */
        this.weightedStatisticModes = "";

        /**
         * @member {number} [SuperMap.SummaryRegionJobParameter.prototype.meshType=0]
         * @description ç½æ ¼é¢æ±æ»ç±»åã
         */
        this.meshType = 0;

        /**
         * @member {number} [SuperMap.SummaryRegionJobParameter.prototype.resolution=100]
         * @description ç½æ ¼å¤§å°ã
         */
        this.resolution = 100;

        /**
         * @member {SuperMap.AnalystSizeUnit} [SuperMap.SummaryRegionJobParameter.prototype.meshSizeUnit=SuperMap.AnalystSizeUnit.METER]
         * @description ç½æ ¼å¤§å°åä½ã
         */
        this.meshSizeUnit = AnalystSizeUnit.METER;

        /**
         * @member {SuperMap.SummaryType} [SuperMap.SummaryRegionJobParameter.prototype.type=SuperMap.SummaryType.SUMMARYMESH]
         * @description æ±æ»ç±»åã
         */
        this.type = SummaryType.SUMMARYMESH;

        /**
         * @member {SuperMap.OutputSetting} SuperMap.SummaryRegionJobParameter.prototype.output
         * @description è¾åºåæ°è®¾ç½®ç±»
         */
        this.output = null;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.SummaryRegionJobParameter";
    }

    /**
     * @function SuperMap.SummaryRegionJobParameter.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        this.datasetName = null;
        this.sumShape = null;
        this.regionDataset = null;
        this.query = null;
        this.standardSummaryFields = null;
        this.standardFields = null;
        this.standardStatisticModes = null;
        this.weightedSummaryFields = null;
        this.weightedFields = null;
        this.weightedStatisticModes = null;
        this.meshType = null;
        this.resolution = null;
        this.meshSizeUnit = null;
        this.type = null;
        if (this.output instanceof OutputSetting_OutputSetting) {
            this.output.destroy();
            this.output = null;
        }
    }

    /**
     * @function SuperMap.SummaryRegionJobParameter.toObject
     * @param {Object} summaryRegionJobParameter - ç¢éè£åªåæä»»å¡åæ°ã
     * @param {Object} tempObj - ç®æ å¯¹è±¡ã
     * @description çæåºåæ±æ»åææå¡å¯¹è±¡ã
     */
    static toObject(summaryRegionJobParameter, tempObj) {
        for (var name in summaryRegionJobParameter) {
            if (name === "datasetName") {
                tempObj['input'] = tempObj['input'] || {};
                tempObj['input'][name] = summaryRegionJobParameter[name];
                continue;
            }
            if (name === "type") {
                tempObj['type'] = summaryRegionJobParameter[name];
                continue;
            }
            if (name === "type") {
                tempObj['type'] = summaryRegionJobParameter[name];
                continue;
            }
            if (name === "output"){
                tempObj['output'] = tempObj['output'] || {};
                tempObj['output'] = summaryRegionJobParameter[name];
                continue;
            }
            if (summaryRegionJobParameter.type === "SUMMARYREGION" || summaryRegionJobParameter.type === "SUMMARYMESH" && name !== "regionDataset") {
                tempObj['analyst'] = tempObj['analyst'] || {};
                if (name === 'query') {
                    tempObj['analyst'][name] = summaryRegionJobParameter[name].toBBOX();
                } else {
                    tempObj['analyst'][name] = summaryRegionJobParameter[name];
                }
            }
        }
    }

}

SuperMap.SummaryRegionJobParameter = SummaryRegionJobParameter_SummaryRegionJobParameter;

// CONCATENATED MODULE: ./src/common/iServer/SummaryRegionJobsService.js




/**
 * @class SuperMap.SummaryRegionJobsService
 * @category  iServer ProcessingService SummaryRegion
 * @classdesc åºåæ±æ»åææå¡ç±»
 * @extends {SuperMap.ProcessingServiceBase}
 * @param {string} url - åºåæ±æ»åææå¡å°åã
 * @param {Object} options - åæ°ã
 */
class SummaryRegionJobsService_SummaryRegionJobsService extends ProcessingServiceBase_ProcessingServiceBase {

    constructor(url, options) {
        super(url, options);
        this.url += "/spatialanalyst/summaryregion";
        this.CLASS_NAME = "SuperMap.SummaryRegionJobsService";
    }

    /**
     *@override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.SummaryRegionJobsService.prototype.getSummaryRegionJobs
     * @description è·ååºåæ±æ»åæä»»å¡éåã
     */
    getSummaryRegionJobs() {
        super.getJobs(this.url);
    }

    /**
     * @function SuperMap.SummaryRegionJobsService.prototype.getSummaryRegionJob
     * @description è·åæå®idçåºåæ±æ»åæä»»å¡ã
     * @param {string} id -è¦è·ååºåæ±æ»åæä»»å¡çid
     */
    getSummaryRegionJob(id) {
        super.getJobs(this.url + '/' + id);
    }

    /**
     * @function SuperMap.SummaryRegionJobsService.prototype.addSummaryRegionJob
     * @description æ°å»ºåºåæ±æ»ä»»å¡ã
     * @param {SuperMap.SummaryRegionJobParameter} params - åå»ºä¸ä¸ªåºåæ±æ»ä»»å¡çè¯·æ±åæ°ã
     * @param {number} seconds - å¼å§åå»ºåï¼è·ååå»ºæåç»æçæ¶é´é´éã
     */
    addSummaryRegionJob(params, seconds) {
        super.addJob(this.url, params, SummaryRegionJobParameter_SummaryRegionJobParameter, seconds);
    }

}

SuperMap.SummaryRegionJobsService = SummaryRegionJobsService_SummaryRegionJobsService;
// CONCATENATED MODULE: ./src/common/iServer/SupplyCenter.js



/**
 * @class SuperMap.SupplyCenter
 * @category  iServer NetworkAnalyst Location
 * @classdesc èµæºä¾ç»ä¸­å¿ç±»ãå¨èµæºåéåéåååºåæä¸¤ä¸ªåè½ä¸­ä½¿ç¨ã
 * @param {Object} options - åæ°ã
 * @param {number} options.maxWeight - èµæºä¾ç»ä¸­å¿çæå¤§èè´¹å¼ã
 * @param {number} options.nodeID - èµæºä¾ç»ä¸­å¿ç¹çç»ç¹ ID å·ãèµæºä¾ç»ä¸­å¿å¿é¡»æ¯ç»ç¹ã
 * @param {number} options.resourceValue - èµæºä¾ç»ä¸­å¿è½æä¾çæå¤§æå¡éæååæ°éã
 * @param {SuperMap.SupplyCenterType} [options.type] - èµæºä¾ç»ä¸­å¿ç¹çç±»åå¸¸éã
 */
class SupplyCenter_SupplyCenter {

    constructor(options) {
        /**
         * @member {number} SuperMap.SupplyCenter.prototype.maxWeight
         * @description èµæºä¾ç»ä¸­å¿çæå¤§èè´¹å¼ãä¸­å¿ç¹æå¤§é»å¼è®¾ç½®è¶å°ï¼è¡¨ç¤ºä¸­å¿ç¹ææä¾çèµæºå¯å½±åèå´è¶å¤§ã
         *              æå¤§é»åå¼æ¯ç¨æ¥éå¶éæ±ç¹å°ä¸­å¿ç¹çè±è´¹ã
         *              å¦æéæ±ç¹ï¼å¼§æ®µæç»ç¹ï¼å°æ­¤ä¸­å¿çè±è´¹å¤§äºæå¤§é»åå¼ï¼åè¯¥éæ±ç¹ä¸å±äºè¯¥èµæºä¾ç»ä¸­å¿æä¾èµæºçèå´ã
         */
        this.maxWeight = null;

        /**
         * @member {number} SuperMap.SupplyCenter.prototype.nodeID
         * @description èµæºä¾ç»ä¸­å¿ç¹çç»ç¹ ID å·ï¼èµæºä¾ç»ä¸­å¿å¿é¡»æ¯ç»ç¹ã
         */
        this.nodeID = null;

        /**
         * @member {number} SuperMap.SupplyCenter.prototype.resourceValue
         * @description èµæºä¾ç»ä¸­å¿è½æä¾çæå¤§æå¡éæååæ°éãä¾å¦èµæºä¸­å¿ä¸ºå­¦æ ¡ï¼èµæºä¸­å¿èµæºéè¡¨ç¤ºè¯¥å­¦æ ¡è½å¤æ¥çº³å¤å°å­¦çã
         */
        this.resourceValue = null;

        /**
         * @member {SuperMap.SupplyCenterType} [SuperMap.SupplyCenter.prototype.type]
         * @description èµæºä¾ç»ä¸­å¿ç¹çç±»åå¸¸éãèµæºä¾ç»ä¸­å¿ç¹çç±»ååæ¬éä¸­å¿ï¼åºå®ä¸­å¿åå¯éä¸­å¿ã
         *              åºå®ä¸­å¿ç¨äºèµæºåéåæï¼åºå®ä¸­å¿åå¯éä¸­å¿ç¨äºéååæï¼éä¸­å¿å¨ä¸¤ç§ç½ç»åææ¶é½ä¸äºèèã
         */
        this.type = null;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.SupplyCenter";
    }

    /**
     * @function SuperMap.SupplyCenter.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.maxWeight = null;
        me.nodeID = null;
        me.resourceValue = null;
        me.type = null;
    }

    /**
     * @function SuperMap.SupplyCenter.fromJson
     * @description å°æå¡ç«¯ JSON å¯¹è±¡è½¬æ¢æå½åå®¢æ·ç«¯å¯¹è±¡ã
     * @param {Object} jsonObject - è¦è½¬æ¢ç JSON å¯¹è±¡ã
     * @returns {SuperMap.SupplyCenter} SupplyCenter å¯¹è±¡ã
     */
    static fromJson(jsonObject) {
        if (!jsonObject) {
            return;
        }
        return new SupplyCenter_SupplyCenter({
            maxWeight: jsonObject.maxWeight,
            nodeID: jsonObject.nodeID,
            resourceValue: jsonObject.resourceValue,
            type: jsonObject.type
        });
    }

}

SuperMap.SupplyCenter = SupplyCenter_SupplyCenter;


// CONCATENATED MODULE: ./src/common/iServer/SurfaceAnalystService.js








/**
 * @class SuperMap.SurfaceAnalystService
 * @category  iServer SpatialAnalyst SurfaceAnalyst
 * @classdesc è¡¨é¢åææå¡ç±»ã
 * è¯¥ç±»è´è´£å°å®¢æ·è®¾ç½®çè¡¨é¢åææå¡åæ°ä¼ éç»æå¡ç«¯ï¼å¹¶æ¥æ¶æå¡ç«¯è¿åçè¡¨é¢åææå¡åæç»ææ°æ®ã
 * è¡¨é¢åæç»æéè¿è¯¥ç±»æ¯æçäºä»¶ççå¬å½æ°åæ°è·å
 * @param {Object} options - åæ°ã</br>
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 * @param {string} url - æå¡çè®¿é®å°åãå¦ http://localhost:8090/iserver/services/spatialanalyst-changchun/restjsr/spatialanalyst ãs
 * @extends {SuperMap.SpatialAnalystBase}
 * @example ä¾å¦ï¼
 * (start code)
 * var mySurfaceAnalystService = new SuperMap.SurfaceAnalystService(url, {
     *      eventListeners: {
     *	       "processCompleted": surfaceAnalysCompleted,
     *		   "processFailed": surfaceAnalysFailed
     *		   }
     * });
 * (end)
 *
 */
class SurfaceAnalystService_SurfaceAnalystService extends SpatialAnalystBase_SpatialAnalystBase {

    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.SurfaceAnalystService";
    }

    /**
     * @function SuperMap.SurfaceAnalystService.prototype.destroy
     * @description éæ¾èµæº,å°å¼ç¨çèµæºå±æ§ç½®ç©ºã
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.SurfaceAnalystService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çè¡¨é¢åææå¡åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.SurfaceAnalystParameters} params - è¡¨é¢åææåæä½åæ°ç±»ã
     */
    processAsync(params) {
        if (!(params instanceof SurfaceAnalystParameters_SurfaceAnalystParameters)) {
            return;
        }
        var me = this, jsonParameters;
        jsonParameters = me.getJsonParameters(params);
        me.request({
            method: "POST",
            data: jsonParameters,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

    /**
     * @function SuperMap.SurfaceAnalystService.prototype.getJsonParameters
     * @description å°åæ°è½¬åä¸º JSON å­ç¬¦ä¸²ã
     * @param {SuperMap.SurfaceAnalystParameters} params - è¡¨é¢åææåæä½åæ°ç±»ã
     * @returns {Object} è½¬ååçJSONå­ç¬¦ä¸²ã
     */
    getJsonParameters(params) {
        var jsonParameters = "";
        var parameterObject = {};
        var me = this, end;
        if (params instanceof DatasetSurfaceAnalystParameters_DatasetSurfaceAnalystParameters) {
            end = me.url.substr(me.url.length - 1, 1);
            me.url += (end === "/") ? "datasets/" + params.dataset + "/" + params.surfaceAnalystMethod.toLowerCase() +
                ".json?returnContent=true" : "/datasets/" + params.dataset + "/" +
                params.surfaceAnalystMethod.toLowerCase() + ".json?returnContent=true";
            DatasetSurfaceAnalystParameters_DatasetSurfaceAnalystParameters.toObject(params, parameterObject);
            jsonParameters = Util_Util.toJSON(parameterObject);
        } else if (params instanceof GeometrySurfaceAnalystParameters_GeometrySurfaceAnalystParameters) {
            end = me.url.substr(me.url.length - 1, 1);
            me.url += (end === "/") ? "geometry/" + params.surfaceAnalystMethod.toLowerCase() +
                ".json?returnContent=true" : "/geometry/" + params.surfaceAnalystMethod.toLowerCase() +
                ".json?returnContent=true";
            jsonParameters = Util_Util.toJSON(params);
        } else {
            return;
        }
        return jsonParameters;
    }
}

SuperMap.SurfaceAnalystService = SurfaceAnalystService_SurfaceAnalystService;
// CONCATENATED MODULE: ./src/common/iServer/TerrainCurvatureCalculationParameters.js



/**
 * @class SuperMap.TerrainCurvatureCalculationParameters
 * @category  iServer SpatialAnalyst TerrainCalculation
 * @classdesc å°å½¢æ²çè®¡ç®åæ°ç±»ã
 * @param {Object} options - åæ°ã
 * @param {string} options.dataset - è¦ç¨æ¥åå°å½¢æ²çè®¡ç®æ°æ®æºä¸­æ°æ®éçåç§°ãè¯¥åç§°ç¨å½¢å¦"æ°æ®éåç§°@æ°æ®æºå«å"å½¢å¼æ¥è¡¨ç¤ºï¼ä¾å¦ï¼JingjinTerrain@Jingjinã
 * @param {string} options.averageCurvatureName - ç»ææ°æ®éï¼å¹³åæ²çæ°æ®éçåç§°ã
 * @param {string} options.profileCurvatureName - ç»ææ°æ®éï¼åé¢æ²çæ°æ®éçåç§°ã
 * @param {string} options.planCurvatureName - ç»ææ°æ®éï¼å¹³é¢æ²çæ°æ®éçåç§°ã
 * @param {number} [options.zFactor=1.0] - æå®çé«ç¨ç¼©æ¾ç³»æ°ã1.0 è¡¨ç¤ºä¸ç¼©æ¾ã
 * @param {boolean} [options.deleteExistResultDataset=false] - å¦æç¨æ·å½åçç»ææ°æ®éåç§°ä¸å·²æçæ°æ®ééåï¼æ¯å¦å é¤å·²æçæ°æ®éã
 */
class TerrainCurvatureCalculationParameters_TerrainCurvatureCalculationParameters {

    constructor(options) {
        if (!options) {
            return;
        }
        /**
         * @member {string} SuperMap.TerrainCurvatureCalculationParameters.prototype.dataset
         * @description è¦ç¨æ¥åå°å½¢æ²çè®¡ç®æ°æ®æºä¸­æ°æ®éçåç§°ã
         * è¯¥åç§°ç¨å½¢å¦"æ°æ®éåç§°@æ°æ®æºå«å"å½¢å¼æ¥è¡¨ç¤ºï¼ä¾å¦ï¼JingjinTerrain@Jingjinã
         * æ³¨ï¼å°å½¢æ²çè®¡ç®å¿é¡»ä¸ºæ æ ¼æ°æ®éã
         */
        this.dataset = null;

        /**
         * @member {number} [SuperMap.TerrainCurvatureCalculationParameters.prototype.zFactor=1.0]
         * @description æå®çé«ç¨ç¼©æ¾ç³»æ°ã1.0 è¡¨ç¤ºä¸ç¼©æ¾ã
         * è¯¥å¼æ¯æå¨ DEM æ æ ¼æ°æ®ä¸­ï¼æ æ ¼å¼ï¼ Z åæ ï¼å³é«ç¨å¼ï¼ç¸å¯¹äº X å Y åæ çåä½åæ¢ç³»æ°ã
         * éå¸¸æ Xï¼Yï¼Z é½åå çè®¡ç®ä¸­ï¼éè¦å°é«ç¨å¼ä¹ä»¥ä¸ä¸ªé«ç¨ç¼©æ¾ç³»æ°ï¼ä½¿å¾ä¸èåä½ä¸è´ã
         * ä¾å¦ï¼XãY æ¹åä¸çåä½æ¯ç±³ï¼è Z æ¹åçåä½æ¯è±å°ºï¼ç±äº 1 è±å°ºç­äº 0.3048 ç±³ï¼åéè¦æå®ç¼©æ¾ç³»æ°ä¸º 0.3048ã
         */
        this.zFactor = 1.0;

        /**
         * @member {string} SuperMap.TerrainCurvatureCalculationParameters.prototype.averageCurvatureName
         * @description ç»ææ°æ®éï¼å¹³åæ²çæ°æ®éçåç§°ã
         */
        this.averageCurvatureName = null;

        /**
         * @member {string} SuperMap.TerrainCurvatureCalculationParameters.prototype.profileCurvatureName
         * @description ç»ææ°æ®éï¼åé¢æ²çæ°æ®éçåç§°ã
         */
        this.profileCurvatureName = "";

        /**
         * @member {string} SuperMap.TerrainCurvatureCalculationParameters.prototype.planCurvatureName
         * @description ç»ææ°æ®éï¼å¹³é¢æ²çæ°æ®éçåç§°ã
         */
        this.planCurvatureName = "";

        /**
         * @member {boolean} [SuperMap.TerrainCurvatureCalculationParameters.prototype.deleteExistResultDataset=false]
         * @description å¦æç¨æ·å½åçç»ææ°æ®éåç§°ä¸å·²æçæ°æ®ééåï¼æ¯å¦å é¤å·²æçæ°æ®éã
         */
        this.deleteExistResultDataset = false;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.TerrainCurvatureCalculationParameters";
    }


    /**
     * @function SuperMap.TerrainCurvatureCalculationParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.dataset = null;
        me.zFactor = 1.0;
        me.averageCurvatureName = null;
        me.profileCurvatureName = null;
        me.planCurvatureName = null;
        me.deleteExistResultDataset = true;
    }

    /**
     * @function SuperMap.TerrainCurvatureCalculationParameters.toObject
     * @param {Object} derrainCurvatureCalculationParameters - å°å½¢æ²çè®¡ç®åæ°ã
     * @param {Object} tempObj - ç®æ å¯¹è±¡ã
     * @description çæå°å½¢æ²çè®¡ç®å¯¹è±¡ã
     */
    static toObject(derrainCurvatureCalculationParameters, tempObj) {
        for (var name in derrainCurvatureCalculationParameters) {
            if (name !== "dataset") {
                tempObj[name] = derrainCurvatureCalculationParameters[name];
            }
        }
    }

}

SuperMap.TerrainCurvatureCalculationParameters = TerrainCurvatureCalculationParameters_TerrainCurvatureCalculationParameters;

// CONCATENATED MODULE: ./src/common/iServer/TerrainCurvatureCalculationService.js




/**
 * @class SuperMap.TerrainCurvatureCalculationService
 * @category  iServer SpatialAnalyst TerrainCalculation
 * @classdesc å°å½¢æ²çè®¡ç®æå¡ç±»ã
 * @extends {SuperMap.SpatialAnalystBase}
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 * @param {string} options.url - æå¡çè®¿é®å°åãå¦ http://localhost:8090/iserver/services/spatialanalyst-changchun/restjsr/spatialanalyst ã
 * @example ä¾å¦ï¼
 * (start code)
 * var myTerrainCurvatureCalculationService = new SuperMap.TerrainCurvatureCalculationService(url);
 * myTerrainCurvatureCalculationService.on({
     *     "processCompleted": processCompleted,
     *     "processFailed": processFailed
     *     }
 * );
 * (end)
 *
 */
class TerrainCurvatureCalculationService_TerrainCurvatureCalculationService extends SpatialAnalystBase_SpatialAnalystBase {

    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.TerrainCurvatureCalculationService";
    }

    /**
     *@override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.TerrainCurvatureCalculationService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.TerrainCurvatureCalculationParameters} parameter - å°å½¢æ²çè®¡ç®åæ°ç±»ã
     */
    processAsync(parameter) {
        var me = this;

        var end = me.url.substr(me.url.length - 1, 1);
        if (end !== '/') {
            me.url += "/";
        }

        var parameterObject = {};

        if (parameter instanceof TerrainCurvatureCalculationParameters_TerrainCurvatureCalculationParameters) {
            me.url += 'datasets/' + parameter.dataset + '/terraincalculation/curvature';
        }

        TerrainCurvatureCalculationParameters_TerrainCurvatureCalculationParameters.toObject(parameter, parameterObject);
        var jsonParameters = SuperMap.Util.toJSON(parameterObject);
        me.url += '.json?returnContent=true';
        me.request({
            method: "POST",
            data: jsonParameters,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }
}

SuperMap.TerrainCurvatureCalculationService = TerrainCurvatureCalculationService_TerrainCurvatureCalculationService;

// CONCATENATED MODULE: ./src/common/iServer/ThemeGridRangeItem.js




/**
 * @class SuperMap.ThemeGridRangeItem
 * @category  iServer Map Theme
 * @classdesc æ æ ¼åæ®µä¸é¢å¾å­é¡¹ç±»ã
 * @description å¨æ æ ¼åæ®µä¸é¢å¾ä¸­ï¼å°æ æ ¼å¼æç§æç§åæ®µæ¨¡å¼è¢«åæå¤ä¸ªèå´æ®µã
 *              æ¬ç±»ç¨æ¥è®¾ç½®æ¯ä¸ªèå´æ®µçåæ®µèµ·å§å¼ãç»æ­¢å¼ãåç§°åé¢è²ç­ãæ¯ä¸ªåæ®µæè¡¨ç¤ºçèå´ä¸º [Start,End)ã
 * @param {Object} options - åæ°ã
 * @param {SuperMap.ServerColor} options.color - æ æ ¼åæ®µä¸é¢å¾ä¸­æ¯ä¸ä¸ªåæ®µä¸é¢å¾å­é¡¹çå¯¹åºçé¢è²ã
 * @param {string} [options.caption] - æ æ ¼åæ®µä¸é¢å¾å­é¡¹çæ é¢ã
 * @param {number} [options.end=0] - æ æ ¼åæ®µä¸é¢å¾å­é¡¹çç»æ­¢å¼ã
 * @param {number} [options.start=0] - æ æ ¼åæ®µä¸é¢å¾å­é¡¹çèµ·å§å¼ã
 * @param {boolean} [options.visible=true] - æ æ ¼åæ®µä¸é¢å¾å­é¡¹æ¯å¦å¯è§ã
 */
class ThemeGridRangeItem_ThemeGridRangeItem {

    constructor(options) {
        /**
         * @member {string} [SuperMap.ThemeGridRangeItem.prototype.caption]
         * @description æ æ ¼åæ®µä¸é¢å¾å­é¡¹çæ é¢ã
         */
        this.caption = null;

        /**
         * @member {SuperMap.ServerColor} SuperMap.ThemeGridRangeItem.prototype.color
         * @description æ æ ¼åæ®µä¸é¢å¾ä¸­æ¯ä¸ä¸ªåæ®µä¸é¢å¾å­é¡¹çå¯¹åºçé¢è²ã
         */
        this.color =  new ServerColor();

        /**
         * @member {number} [SuperMap.ThemeGridRangeItem.prototype.end=0]
         * @description æ æ ¼åæ®µä¸é¢å¾å­é¡¹çç»æ­¢å¼ï¼å³è¯¥æ®µä¸é¢å¼èå´çæå¤§å¼ã
         */
        this.end = 0;

        /**
         * @member {number} [SuperMap.ThemeGridRangeItem.prototype.start=0]
         * @description æ æ ¼åæ®µä¸é¢å¾å­é¡¹çèµ·å§å¼ï¼å³è¯¥æ®µä¸é¢å¼èå´çæå°å¼ã
         */
        this.start = 0;


        /**
         * @member {boolean} [SuperMap.ThemeGridRangeItem.prototype.visible=true]
         * @description æ æ ¼åæ®µä¸é¢å¾å­é¡¹æ¯å¦å¯è§ã
         */
        this.visible = true;

        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = "SuperMap.ThemeGridRangeItem";
    }

    /**
     * @function SuperMap.ThemeGridRangeItem.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.caption = null;
        me.end = null;
        me.start = null;
        //éè¦éªè¯æ¯å¤å­å¨destroyæ¹æ³
        if (me.color) {
            me.color.destroy();
            me.color = null;
        }
        me.visible = null;
    }

    /**
     * @function SuperMap.ThemeGridRangeItem.prototype.toServerJSONObject
     * @description è½¬æ¢æå¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     * @returns {Object} å¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     */
    toServerJSONObject() {
        var obj = {};
        obj = Util_Util.copyAttributes(obj, this);
        if (obj.color) {
            if (obj.color.toServerJSONObject) {
                obj.color = obj.color.toServerJSONObject();
            }
        }
        return obj;
    }

    /**
     * @function SuperMap.ThemeGridRangeItem.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·åæ æ ¼åæ®µä¸é¢å¾å­é¡¹ç±»ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡ã
     * @returns {SuperMap.ThemeGridRangeItem} ThemeGridRangeItem å¯¹è±¡ã
     */
    static fromObj(obj) {
        if (!obj) {
            return;
        }
        var res = new ThemeGridRangeItem_ThemeGridRangeItem();
        Util_Util.copy(res, obj);
        res.color = ServerColor.fromJson(obj.color);
        return res;
    }

}

SuperMap.ThemeGridRangeItem = ThemeGridRangeItem_ThemeGridRangeItem;

// CONCATENATED MODULE: ./src/common/iServer/ThemeGridRange.js






/**
 * @class SuperMap.ThemeGridRange
 * @category  iServer Map Theme
 * @classdesc æ æ ¼åæ®µä¸é¢å¾ã
 * @description æ æ ¼åæ®µä¸é¢å¾ï¼æ¯å°ææååæ ¼çå¼æç§æç§åæ®µæ¹å¼åæå¤ä¸ªèå´æ®µï¼å¼å¨åä¸ä¸ªèå´æ®µä¸­çååæ ¼ä½¿ç¨ç¸åçé¢è²è¿è¡æ¾ç¤ºã
 *              æ æ ¼åæ®µä¸é¢å¾ä¸è¬ç¨æ¥åæ è¿ç»­åå¸ç°è±¡çæ°éæç¨åº¦ç¹å¾ãæ¯å¦æå¹´çå¨å½éæ°´éåå¸å¾ï¼å°åæ°è±¡ç«ç¹çè§æµå¼ç»è¿åæä¹åçæçæ æ ¼æ°æ®è¿è¡åæ®µæ¾ç¤ºã
 *              è¯¥ç±»ç±»ä¼¼äºåæ®µä¸é¢å¾ç±»ï¼ä¸åç¹å¨äºåæ®µä¸é¢å¾çæä½å¯¹è±¡æ¯ç¢éæ°æ®ï¼èæ æ ¼åæ®µä¸é¢å¾çæä½å¯¹è±¡æ¯æ æ ¼æ°æ®ã
 * @extends {SuperMap.Theme}
 * @param {Object} options - åæ°ã
 * @param {Array.<SuperMap.ThemeGridRangeItem>} options.items - æ æ ¼åæ®µä¸é¢å¾å­é¡¹æ°ç»ã
 * @param {boolean} [options.reverseColor=false] - æ¯å¦å¯¹æ æ ¼åæ®µä¸é¢å¾ä¸­åæ®µçé¢è²é£æ ¼è¿è¡ååºæ¾ç¤ºã
 * @param {SuperMap.RangeMode} [options.rangeMode=SuperMap.RangeMode.EQUALINTERVAL] - åæ®µä¸é¢å¾çåæ®µæ¨¡å¼ã
 * @param {number} [options.rangeParameter=0] - åæ®µåæ°ã
 * @param {SuperMap.ColorGradientType} [options.colorGradientType=SuperMap.ColorGradientType.YELLOW_RED] - æ¸åé¢è²æä¸¾ç±»ã
 */
class ThemeGridRange_ThemeGridRange extends Theme_Theme {

    constructor(options) {
        super("GRIDRANGE", options);
        /**
         * @member {Array.<SuperMap.ThemeGridRangeItem>} SuperMap.ThemeGridRange.prototype.items
         * @description æ æ ¼åæ®µä¸é¢å¾å­é¡¹æ°ç»ã<br>
         *              å¨æ æ ¼åæ®µä¸é¢å¾ä¸­ï¼å°æ æ ¼å¼æç§æç§åæ®µæ¨¡å¼è¢«åæå¤ä¸ªèå´æ®µã
         *              æ¬ç±»ç¨æ¥è®¾ç½®æ¯ä¸ªæ æ ¼èå´æ®µçåæ®µèµ·å§å¼ãç»æ­¢å¼ãåç§°åé¢è²ç­ãæ¯ä¸ªåæ®µæè¡¨ç¤ºçèå´ä¸º [Start,End)ã
         */
        this.items = null;

        /**
         * @member {SuperMap.RangeMode} [SuperMap.ThemeGridRange.prototype.rangeMode=SuperMap.RangeMode.EQUALINTERVAL]
         * @description åæ®µä¸é¢å¾çåæ®µæ¨¡å¼ã<br>
         *              å¨æ æ ¼åæ®µä¸é¢å¾ä¸­ï¼ä½ä¸ºä¸é¢åéçå­æ®µæè¡¨è¾¾å¼çå¼æç§æç§åæ®µæ¹å¼è¢«åæå¤ä¸ªèå´æ®µã
         *              ç®å SuperMap æä¾çåæ®µæ¹å¼åæ¬ï¼ç­è·ç¦»åæ®µæ³ãå¹³æ¹æ ¹åæ®µæ³ãæ åå·®åæ®µæ³ãå¯¹æ°åæ®µæ³ãç­è®¡æ°åæ®µæ³åèªå®ä¹è·ç¦»æ³ï¼
         *              æ¾ç¶è¿äºåæ®µæ¹æ³æ ¹æ®ä¸å®çè·ç¦»è¿è¡åæ®µï¼å èèå´åæ®µä¸é¢å¾æåºäºçä¸é¢åéå¿é¡»ä¸ºæ°å¼åã
         */
        this.rangeMode = RangeMode.EQUALINTERVAL;

        /**
         * @member {number} [SuperMap.ThemeGridRange.prototype.rangeParameter=0]
         * @description åæ®µåæ°ã<br>
         *              å½åæ®µæ¨¡å¼ä¸ºç­è·ç¦»åæ®µæ³ï¼å¹³æ¹æ ¹åæ®µï¼å¯¹æ°åæ®µæ³ï¼è®¡æ°åæ®µæ³å¶ä¸­ä¸ç§æ¨¡å¼æ¶ï¼è¯¥åæ°ç¨äºè®¾ç½®åæ®µä¸ªæ°ï¼å¿è®¾ï¼å½åæ®µæ¨¡å¼ä¸ºæ åå·®åæ®µæ³æ¶ï¼
         *              è¯¥åæ°ä¸èµ·ä½ç¨ï¼å½åæ®µæ¨¡å¼ä¸ºèªå®ä¹è·ç¦»æ¶ï¼è¯¥åæ°ç¨äºè®¾ç½®èªå®ä¹è·ç¦»ã
         */
        this.rangeParameter = 0;

        /**
         * @member {SuperMap.ColorGradientType} [SuperMap.ThemeGridRange.prototype.colorGradientType=SuperMap.ColorGradientType.YELLOW_RED]
         * @description æ¸åé¢è²æä¸¾ç±»ã
         *
         */
        this.colorGradientType = ColorGradientType.YELLOW_RED;

        /**
         * @member {boolean} SuperMap.ThemeGridRange.prototype.reverseColor
         * @description æ¯å¦å¯¹æ æ ¼åæ®µä¸é¢å¾ä¸­åæ®µçé¢è²é£æ ¼è¿è¡ååºæ¾ç¤ºã
         */
        this.reverseColor = false;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.ThemeGridRange";
    }

    /**
     * @function SuperMap.ThemeGridRange.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        var me = this;
        if (me.items) {
            if (me.items.length > 0) {
                for (var item in me.items) {
                    me.items[item].destroy();
                    me.items[item] = null;
                }
            }
            me.items = null;
        }
        me.reverseColor = null;
        me.rangeMode = null;
        me.rangeParameter = null;
        me.colorGradientType = null;
    }

    /**
     * @function SuperMap.ThemeGridRange.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·åæ æ ¼åæ®µä¸é¢å¾ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡ã
     * @returns {SuperMap.ThemeGridRange} ThemeGridRange å¯¹è±¡ã
     */
    static fromObj(obj) {
        if (!obj) {
            return;
        }
        var res = new ThemeGridRange_ThemeGridRange();
        Util_Util.copy(res, obj);
        var itemsR = obj.items;
        var len = itemsR ? itemsR.length : 0;
        res.items = [];
        for (var i = 0; i < len; i++) {
            res.items.push(ThemeGridRangeItem_ThemeGridRangeItem.fromObj(itemsR[i]));
        }
        return res;
    }

}

SuperMap.ThemeGridRange = ThemeGridRange_ThemeGridRange;


// CONCATENATED MODULE: ./src/common/iServer/ThemeGridUniqueItem.js




/**
 * @class SuperMap.ThemeGridUniqueItem
 * @category  iServer Map Theme
 * @classdesc æ æ ¼åå¼ä¸é¢å¾å­é¡¹ç±»ã
 *            æ æ ¼åå¼ä¸é¢å¾æ¯å°å¼ç¸åçååæ ¼å½ä¸ºä¸ç±»ï¼æ¯ä¸ç±»æ¯ä¸ä¸ªä¸é¢å¾å­é¡¹ã
 * @param {Object} options - åæ°ã
 * @param {string} [options.caption] - æ æ ¼åå¼ä¸é¢å¾å­é¡¹çåç§°ã
 * @param {SuperMap.ServerColor} [options.color] - æ æ ¼åå¼ä¸é¢å¾å­é¡¹çæ¾ç¤ºé¢è²ã
 * @param {number} options.unique - æ æ ¼åå¼ä¸é¢å¾å­é¡¹çä¸é¢å¼ï¼å³ååæ ¼çå¼ï¼å¼ç¸åçååæ ¼ä½äºä¸ä¸ªå­é¡¹åã
 * @param {boolean} [options.visible=true] - æ æ ¼åå¼ä¸é¢å¾å­é¡¹æ¯å¦å¯è§ã
 */
class ThemeGridUniqueItem_ThemeGridUniqueItem {

    constructor(options) {
        /**
         * @member {string} [SuperMap.ThemeGridUniqueItem.prototype.caption]
         * @description æ æ ¼åå¼ä¸é¢å¾å­é¡¹çåç§°ã
         */
        this.caption = null;

        /**
         * @member {SuperMap.ServerColor} [SuperMap.ThemeGridUniqueItem.prototype.color]
         * @description æ æ ¼åå¼ä¸é¢å¾å­é¡¹çæ¾ç¤ºé¢è²ã
         */
        this.color = new ServerColor();

        /**
         * @member {number} SuperMap.ThemeGridUniqueItem.prototype.unique
         * @description æ æ ¼åå¼ä¸é¢å¾å­é¡¹çä¸é¢å¼ï¼å³ååæ ¼çå¼ï¼å¼ç¸åçååæ ¼ä½äºä¸ä¸ªå­é¡¹åã
         */
        this.unique = null;

        /**
         * @member {boolean} [SuperMap.ThemeGridUniqueItem.prototype.visible=true]
         * @description æ æ ¼åå¼ä¸é¢å¾å­é¡¹æ¯å¦å¯è§ã
         */
        this.visible = true;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.ThemeGridUniqueItem";
    }

    /**
     * @function SuperMap.ThemeGridUniqueItem.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.caption = null;
        me.unique = null;

        if (me.color) {
            me.color.destroy();
            me.color = null;
        }
        me.visible = null;
    }

    /**
     * @function SuperMap.ThemeGridUniqueItem.prototype.toServerJSONObject
     * @description è½¬æ¢æå¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     * @returns {Object} å¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     */
    toServerJSONObject() {
        var obj = {};
        obj = Util_Util.copyAttributes(obj, this);
        if (obj.color) {
            if (obj.color.toServerJSONObject) {
                obj.color = obj.color.toServerJSONObject();
            }
        }
        return obj;
    }

    /**
     * @function SuperMap.ThemeGridUniqueItem.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·åæ æ ¼åå¼ä¸é¢å¾å­é¡¹ç±»ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡ã
     * @returns {SuperMap.ThemeGridUniqueItem} ThemeGridUniqueItem å¯¹è±¡ã
     */
    static fromObj(obj) {
        var res = new ThemeGridUniqueItem_ThemeGridUniqueItem();
        Util_Util.copy(res, obj);
        res.color = ServerColor.fromJson(obj.color);
        return res;

    }

}

SuperMap.ThemeGridUniqueItem = ThemeGridUniqueItem_ThemeGridUniqueItem;

// CONCATENATED MODULE: ./src/common/iServer/ThemeGridUnique.js






/**
 * @class SuperMap.ThemeGridUnique
 * @category  iServer Map Theme
 * @classdesc æ æ ¼åå¼ä¸é¢å¾ç±»ã
 * @description æ æ ¼åå¼ä¸é¢å¾ï¼æ¯å°ååæ ¼å¼ç¸åçå½ä¸ºä¸ç±»ï¼ä¸ºæ¯ä¸ç±»è®¾å®ä¸ç§é¢è²ï¼ä»èç¨æ¥åºåä¸åçç±»å«ã<br>
 *              æ æ ¼åå¼ä¸é¢å¾éç¨äºç¦»æ£æ æ ¼æ°æ®åé¨åè¿ç»­æ æ ¼æ°æ®ï¼å¯¹äºååæ ¼å¼åä¸ç¸åçé£äºè¿ç»­æ æ ¼æ°æ®ï¼ä½¿ç¨æ æ ¼åå¼ä¸é¢å¾ä¸å·æä»»ä½æä¹ã
 * @extends {SuperMap.Theme}
 * @param {Object} options - åæ°ã
 * @param {Array.<SuperMap.ThemeGridUniqueItem>} options.items - æ æ ¼åå¼ä¸é¢å¾å­é¡¹æ°ç»ã
 * @param {SuperMap.ServerColor} [options.defaultcolor] - æ æ ¼åå¼ä¸é¢å¾çé»è®¤é¢è²ã
 */
class ThemeGridUnique_ThemeGridUnique extends Theme_Theme {

    constructor(options) {
        super("GRIDUNIQUE", options);
        /**
         * @member {SuperMap.ServerColor} SuperMap.ThemeGridUnique.prototype.defaultcolor
         * @description æ æ ¼åå¼ä¸é¢å¾çé»è®¤é¢è²ã
         *              å¯¹äºé£äºæªå¨æ ¼ç½åå¼ä¸é¢å¾å­é¡¹ä¹åçè¦ç´ ä½¿ç¨è¯¥é¢è²æ¾ç¤ºã
         */
        this.defaultcolor = new ServerColor();

        /**
         * @member {Array.<SuperMap.ThemeGridUniqueItem>} SuperMap.ThemeGridUnique.prototype.items
         * @description æ æ ¼åå¼ä¸é¢å¾å­é¡¹æ°ç»ã
         *              æ æ ¼åå¼ä¸é¢å¾å°å¼ç¸åçååæ ¼å½ä¸ºä¸ç±»ï¼æ¯ä¸ç±»æ¯ä¸ä¸ªä¸é¢å¾å­é¡¹ã
         */
        this.items = null;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.ThemeGridUnique";
    }

    /**
     * @function SuperMap.ThemeGridUnique.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
        var me = this;
        if (me.items) {
            if (me.items.length > 0) {
                for (var item in me.items) {
                    me.items[item].destroy();
                    me.items[item] = null;
                }
            }
            me.items = null;
        }

        if (me.defaultcolor) {
            me.defaultcolor.destroy();
            me.defaultcolor = null;
        }
    }

    /**
     * @function SuperMap.ThemeGridUnique.prototype.toServerJSONObject
     * @description è½¬æ¢æå¯¹åºç JSON æ ¼å¼å¯¹è±¡ã
     * @returns {Object} å¯¹åºç JSON æ ¼å¼å¯¹è±¡
     */
    toServerJSONObject() {
        var obj = {};
        obj = Util_Util.copyAttributes(obj, this);
        if (obj.defaultcolor) {
            if (obj.defaultcolor.toServerJSONObject) {
                obj.defaultcolor = obj.defaultcolor.toServerJSONObject();
            }
        }
        if (obj.items) {
            var items = [],
                len = obj.items.length;
            for (var i = 0; i < len; i++) {
                items.push(obj.items[i].toServerJSONObject());
            }
            obj.items = items;
        }
        return obj;
    }

    /**
     * @function SuperMap.ThemeGridUnique.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·åæ æ ¼åå¼ä¸é¢å¾ç±»ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡
     * @returns {SuperMap.ThemeGridUnique} ThemeGridUnique å¯¹è±¡
     */
    static fromObj(obj) {
        var res = new ThemeGridUnique_ThemeGridUnique();
        var uItems = obj.items;
        var len = uItems ? uItems.length : 0;
        Util_Util.extend(res, obj);
        res.items = [];
        res.defaultcolor = ServerColor.fromJson(obj.defaultcolor);
        for (var i = 0; i < len; i++) {
            res.items.push(ThemeGridUniqueItem_ThemeGridUniqueItem.fromObj(uItems[i]));
        }
        return res;
    }

}

SuperMap.ThemeGridUnique = ThemeGridUnique_ThemeGridUnique;
// CONCATENATED MODULE: ./src/common/iServer/ThemeLabelUniqueItem.js




/**
 * @class SuperMap.ThemeLabelUniqueItem
 * @category  iServer Map Theme
 * @classdesc åå¼æ ç­¾ä¸é¢å¾çå­é¡¹ã
 * @description æ ç­¾ä¸é¢å¾ç¨ä¸é¢å¼å¯¹ç¹ãçº¿ãé¢ç­å¯¹è±¡åæ æ³¨ï¼å¼å¾æ³¨æçæ¯ï¼åå¼æ ç­¾ä¸é¢å¾åè®¸ç¨æ·éè¿ uniqueExpression
 *              å­æ®µæå®ç¨äºåå¼çå­æ®µï¼åä¸å¼çæ ç­¾å·æç¸åçæ¾ç¤ºé£æ ¼ï¼å¶ä¸­æ¯ä¸ä¸ªå¼å°±æ¯ä¸ä¸ªä¸é¢å¾å­é¡¹ï¼
 *              æ¯ä¸ä¸ªå­é¡¹é½å·æå¶åç§°ãé£æ ¼ãæå®çåå¼ãX æ¹ååç§»éå Y æ¹ååç§»éã
 * @param {Object} options - åæ°ã
 * @param {string} options.unique - åå¼ä¸é¢å¾å­é¡¹çå¼ï¼å¯ä»¥ä¸ºæ°å­ãå­ç¬¦ä¸²ç­ã
 * @param {string} [options.caption] - ä¸é¢å¾å­é¡¹çåç§°ã
 * @param {number} [options.offsetX=0] - æ ç­¾å¨ X æ¹ååç§»éã
 * @param {number} [options.offsetY=0] - æ ç­¾å¨ Y æ¹ååç§»éã
 * @param {boolean} [options.visible=true] - æ ç­¾ä¸é¢å¾å­é¡¹æ¯å¦å¯è§ã
 * @param {SuperMap.ServerTextStyle} [options.style] - æ ç­¾ä¸é¢å¾å­é¡¹ææ¬çæ¾ç¤ºé£æ ¼ã
 */
class ThemeLabelUniqueItem_ThemeLabelUniqueItem {

    constructor(options) {
        /**
         * @member {string} [SuperMap.ThemeLabelUniqueItem.prototype.caption]
         * @description æ ç­¾ä¸é¢å­é¡¹çæ é¢ã
         */
        this.caption = null;

        /**
         * @member {string} SuperMap.ThemeLabelUniqueItem.prototype.unique
         * @description åå¼ä¸é¢å¾å­é¡¹çå¼ï¼å¯ä»¥ä¸ºæ°å­ãå­ç¬¦ä¸²ç­ã
         */
        this.unique = null;

        /**
         * @member {number} [SuperMap.ThemeLabelUniqueItem.prototype.offsetX=0]
         * @description æ ç­¾å¨ X æ¹ååç§»éã
         */
        this.offsetX = 0;

        /**
         * @member {number} [SuperMap.ThemeLabelUniqueItem.prototype.offsetY=0]
         * @description æ ç­¾å¨ Y æ¹ååç§»éã
         */
        this.offsetY = 0;

        /**
         * @member {boolean} [SuperMap.ThemeLabelUniqueItem.prototype.visible=true]
         * @description æ ç­¾ä¸é¢å¾å­é¡¹æ¯å¦å¯è§ãå¦ææ ç­¾ä¸é¢å¾å­é¡¹å¯è§ï¼åä¸º trueï¼å¦åä¸º falseã
         */
        this.visible = true;

        /**
         * @member {SuperMap.ServerTextStyle} SuperMap.ThemeLabelUniqueItem.prototype.style
         * @description æ ç­¾ä¸é¢å¾å­é¡¹ææ¬çæ¾ç¤ºé£æ ¼ãåç§é£æ ¼çä¼åçº§ä»é«å°ä½ä¸ºï¼<br>
         *              uniformMixedStyleï¼æ ç­¾ææ¬çå¤åé£æ ¼ï¼ï¼SuperMap.ThemeLabelUniqueItem.styleï¼åå¼å­é¡¹çææ¬é£æ ¼ï¼ï¼uniformStyleï¼ç»ä¸ææ¬é£æ ¼ï¼ã
         */
        this.style = new ServerTextStyle_ServerTextStyle();

        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = "SuperMap.ThemeLabelUniqueItem";
    }

    /**
     * @function SuperMap.ThemeLabelUniqueItem.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.unique = null;
        me.caption = null;
        me.offsetX = null;
        me.offsetY = null;
        if (me.style) {
            me.style.destroy();
            me.style = null;
        }
        me.visible = null;
    }

    /**
     * @function SuperMap.ThemeLabelUniqueItem.fromObj
     * @description ä»ä¼ å¥å¯¹è±¡è·ååå¼æ ç­¾ä¸é¢å¾çå­é¡¹ç±»ã
     * @param {Object} obj - ä¼ å¥å¯¹è±¡ã
     * @returns {SuperMap.ThemeLabelUniqueItem} ThemeLabelUniqueItem å¯¹è±¡ã
     */
    static fromObj(obj) {
        if (!obj) {
            return;
        }
        var t = new ThemeLabelUniqueItem_ThemeLabelUniqueItem();
        Util_Util.copy(t, obj);
        return t;
    }

}

SuperMap.ThemeLabelUniqueItem = ThemeLabelUniqueItem_ThemeLabelUniqueItem;

// CONCATENATED MODULE: ./src/common/iServer/ThemeParameters.js















/**
 * @class SuperMap.ThemeParameters
 * @category  iServer Map Theme
 * @classdesc ä¸é¢å¾åæ°ç±»ã
 *            è¯¥ç±»å­å¨äºå¶ä½ä¸é¢æéçåæ°ï¼åæ¬æ°æ®æºãæ°æ®éåç§°åä¸é¢å¾å¯¹è±¡ã
 * @param {Object} options - åæ°ã
 * @param {Array.<string>} options.datasetNames - è¦å¶ä½ä¸é¢å¾çæ°æ®éæ°ç»ã
 * @param {Array.<string>} options.dataSourceNames - è¦å¶ä½ä¸é¢å¾çæ°æ®éæå¨çæ°æ®æºæ°ç»ã
 * @param {Array.<SuperMap.JoinItem>} [options.joinItems] - ä¸é¢å¾å¤é¨è¡¨çè¿æ¥ä¿¡æ¯ JoinItem æ°ç»ã
 * @param {Array.<SuperMap.Theme>} options.themes - ä¸é¢å¾å¯¹è±¡åè¡¨ã
 * @param {Array.<string>} [options.displayFilters] - ä¸é¢å¾å±æ§è¿æ»¤æ¡ä»¶ã
 * @param {Array.<string>} [options.displayOrderBys] - ä¸é¢å¾å¯¹è±¡çæç¬¦å·å å æ¬¡åºæåºå­æ®µã
 * @param {Object} [options.fieldValuesDisplayFilter] - å¾å±è¦ç´ çæ¾ç¤ºåéèçè¿æ»¤å±æ§ï¼å¶å¸¦æä¸ä¸ªå±æ§ï¼åå«æ¯:valuesãfieldNameãfieldValuesDisplayModeã
 */
class ThemeParameters_ThemeParameters {

    constructor(options) {
        /**
         * @member {Array.<string>} SuperMap.ThemeParameters.prototype.datasetNames
         * @description è¦å¶ä½ä¸é¢å¾çæ°æ®éæ°ç»ã
         */
        this.datasetNames = null;

        /**
         * @member {Array.<string>} SuperMap.ThemeParameters.prototype.dataSourceNames
         * @description è¦å¶ä½ä¸é¢å¾çæ°æ®éæå¨çæ°æ®æºæ°ç»ã
         */
        this.dataSourceNames = null;

        /**
         * @member {Array.<SuperMap.JoinItem>} [SuperMap.ThemeParameters.prototype.joinItems]
         * @description è®¾ç½®ä¸å¤é¨è¡¨çè¿æ¥ä¿¡æ¯ JoinItem æ°ç»ã
         *               ä½¿ç¨æ­¤å±æ§å¯ä»¥å¶ä½ä¸å¤é¨è¡¨è¿æ¥çä¸é¢å¾ã
         */
        this.joinItems = null;

        /**
         * @member {Array.<SuperMap.Theme>} SuperMap.ThemeParameters.prototype.themes
         * @description ä¸é¢å¾å¯¹è±¡åè¡¨ã
         *              è¯¥åæ°ä¸ºå®ä¾åçåç±»ä¸é¢å¾å¯¹è±¡çéåã
         */
        this.themes = null;

        /**
         * @member {Array.<string>} [SuperMap.ThemeParameters.prototype.displayFilters]
         * @description ä¸é¢å¾å±æ§è¿æ»¤æ¡ä»¶ã
         */
        this.displayFilters = null;

        /**
         * @member {Array.<string>}  [SuperMap.ThemeParameters.prototype.displayOrderBys]
         * @description ä¸é¢å¾å¯¹è±¡çæç¬¦å·å å æ¬¡åºæåºå­æ®µã
         */
        this.displayOrderBys = null;

        /**
         * @member {Object} [SuperMap.ThemeParameters.prototype.fieldValuesDisplayFilter]
         * @property {Array.<number>} values - éè¦è¿æ»¤çå¼ã
         * @property {string} fieldName - è¦è¿æ»¤çå­æ®µåç§°åªæ¯ææ°å­ç±»åçå­æ®µã
         * @property {string} fieldValuesDisplayMode - ç®åä¸º DISPLAY/DISABLEãå½ä¸º DISPLAY æ¶ï¼è¡¨ç¤ºåªæ¾ç¤ºä»¥ä¸è®¾ç½®çç¸åºå±æ§å¼çè¦ç´ ï¼å¦åè¡¨ç¤ºä¸æ¾ç¤ºä»¥ä¸è®¾ç½®çç¸åºå±æ§å¼çè¦ç´ ã
         */
        this.fieldValuesDisplayFilter = null;

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.ThemeParameters";
    }


    /**
     * @function SuperMap.ThemeParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        var me = this;
        me.datasetNames = null;
        me.dataSourceNames = null;
        if (me.joinItems) {
            for (let i = 0, joinItems = me.joinItems, len = joinItems.length; i < len; i++) {
                joinItems[i].destroy();
            }
            me.joinItems = null;
        }
        if (me.themes) {
            for (let i = 0, themes = me.themes, len = themes.length; i < len; i++) {
                themes[i].destroy();
            }
            me.themes = null;
        }
    }

}

SuperMap.ThemeParameters = ThemeParameters_ThemeParameters;
// CONCATENATED MODULE: ./src/common/iServer/ThemeService.js





/**
 * @class SuperMap.ThemeService
 * @category  iServer Map Theme
 * @classdesc ä¸é¢å¾æå¡ç±»ã
 * @extends {SuperMap.CommonServiceBase}
 * @example
 * var myThemeService = new SuperMap.ThemeService(url, {
 *     eventListeners: {
 *           "processCompleted": themeCompleted,
 *           "processFailed": themeFailed
 *           }
 * });
 * @param {string} url - æå¡çè®¿é®å°åãå¦ï¼http://localhost:8090/iserver/services/map-world/rest/maps/World+Map ã
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 */
class ThemeService_ThemeService extends CommonServiceBase_CommonServiceBase {

    constructor(url, options) {
        super(url, options);
        if (options) {
            SuperMap.Util.extend(this, options);
        }
        var end,
            me = this;
        end = me.url.substr(me.url.length - 1, 1);
        me.url += (end === "/") ? "tempLayersSet.json?" : "/tempLayersSet.json?";

        this.CLASS_NAME = "SuperMap.ThemeService";
    }

    /**
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.ThemeService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çä¸é¢å¾åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.ThemeParameters} params - ä¸é¢å¾åæ°ç±»ã
     */
    processAsync(params) {
        if (!(params instanceof ThemeParameters_ThemeParameters)) {
            return;
        }
        var me = this,
            jsonParameters = null;
        jsonParameters = me.getJsonParameters(params);
        me.request({
            method: "POST",
            data: jsonParameters,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

    /**
     * @function SuperMap.ThemeService.prototype.getJsonParameters
     * @description å°ä¸é¢å¾åæ°åæ°è½¬åä¸º JSON å­ç¬¦ä¸²ã
     * @param {SuperMap.ThemeParameters} parameter - ä¸é¢å¾åæ°ç±»ã
     * @returns {Object} è½¬ååçJSONå­ç¬¦ä¸²ã
     */
    getJsonParameters(parameter) {
        var jsonParameters = "",
            themeObj = null,
            filters = null,
            orderBys = null,
            fieldValuesDisplayFilter;
        jsonParameters += "[{'type': 'UGC','subLayers': {'layers': [";

        for (var i = 0; i < parameter.themes.length; i++) {
            themeObj = parameter.themes[i];
            var jsonTheme = Util_Util.toJSON(themeObj);
            jsonTheme = jsonTheme.slice(0, -1);

            jsonParameters += "{'theme': " + jsonTheme + "},'type': 'UGC','ugcLayerType': 'THEME',";
            filters = parameter.displayFilters;
            if (filters && filters.length > 0) {
                if (filters.length === 1) {
                    jsonParameters += "'displayFilter':\"" + filters[0] + "\",";
                } else {
                    jsonParameters += "'displayFilter':\"" + filters[i] + "\",";
                }
            }
            orderBys = parameter.displayOrderBy;
            if (orderBys && orderBys.length > 0) {
                if (orderBys.length === 1) {
                    jsonParameters += "'displayOrderBy':'" + orderBys[0] + "',";
                } else {
                    jsonParameters += "'displayOrderBy':'" + orderBys[i] + "',";
                }
            }

            fieldValuesDisplayFilter = parameter.fieldValuesDisplayFilter;
            if (fieldValuesDisplayFilter) {
                jsonParameters += "'fieldValuesDisplayFilter':" + Util_Util.toJSON(fieldValuesDisplayFilter) + ",";
            }

            if (parameter.joinItems && parameter.joinItems.length > 0 && parameter.joinItems[i]) {
                jsonParameters += "'joinItems':[" + Util_Util.toJSON(parameter.joinItems[i]) + "],";
            }
            if (parameter.datasetNames && parameter.dataSourceNames) {
                var datasetID = parameter.datasetNames[i] ? i : (parameter.datasetNames.length - 1);
                var dataSourceID = parameter.dataSourceNames[i] ? i : (parameter.dataSourceNames.length - 1);
                jsonParameters += "'datasetInfo': {'name': '" + parameter.datasetNames[datasetID] +
                    "','dataSourceName': '" + parameter.dataSourceNames[dataSourceID] + "'}},";
            } else {
                jsonParameters += "},";
            }
        }
        //å»é¤å¤ä½çéå·
        if (parameter.themes && parameter.themes.length > 0) {
            jsonParameters = jsonParameters.substring(0, jsonParameters.length - 1);
        }
        jsonParameters += "]},";
        var urlArray = this.url.split("/");
        var jsonMapName = urlArray[urlArray.length - 2];

        jsonParameters += "'name': '" + jsonMapName + "'}]";
        return jsonParameters;
    }

}

SuperMap.ThemeService = ThemeService_ThemeService;
// CONCATENATED MODULE: ./src/common/iServer/ThiessenAnalystService.js






/**
 * @class SuperMap.ThiessenAnalystService
 * @category  iServer SpatialAnalyst ThiessenPolygonAnalyst
 * @classdesc
 * æ³°æ£®å¤è¾¹å½¢åææå¡ç±»
 * è¯¥ç±»è´è´£å°å®¢æ·è®¾ç½®çæ³°æ£®å¤è¾¹å½¢åæåæ°ä¼ éç»æå¡ç«¯ï¼å¹¶æ¥æ¶æå¡ç«¯è¿åçåæç»ææ°æ®ã
 * æ³°æ£®å¤è¾¹å½¢åæç»æéè¿è¯¥ç±»æ¯æçäºä»¶ççå¬å½æ°åæ°è·å
 * æ³°æ£®å¤è¾¹å½¢åæçåæ°æ¯æä¸¤ç§ï¼å½åæ°ä¸º {SuperMap.DatasetThiessenAnalystParameters} ç±»å
 * æ¶ï¼æ§è¡æ°æ®éæ³°æ£®å¤è¾¹å½¢åæï¼å½åæ°ä¸º {SuperMap.GeometryThiessenAnalystParameters} ç±»åæ¶ï¼
 * æ§è¡å ä½å¯¹è±¡æ³°æ£®å¤è¾¹å½¢åæã
 * @param {Object} options - åæ°ã</br>
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 * @param url - {string} æå¡çè®¿é®å°åã
 * å¦ http://localhost:8090/iserver/services/spatialanalyst-changchun/restjsr/spatialanalystã
 * @extends {SuperMap.SpatialAnalystBase}
 * @example ä¾å¦ï¼
 * (start code)
 * var myThiessenAnalystService = new SuperMap.ThiessenAnalystService(url, {
     *     eventListeners: {
     *           "processCompleted": bufferCompleted,
     *           "processFailed": bufferFailed
     *           }
     *    });
 * (end)
 *
 */
class ThiessenAnalystService_ThiessenAnalystService extends SpatialAnalystBase_SpatialAnalystBase {


    constructor(url, options) {
        super(url, options);
        /**
         * @member {string} SuperMap.ThiessenAnalystService.prototype.mode
         * @description ç¼å²åºåæç±»å
         */
        this.mode = null;
        if (options) {
            Util_Util.extend(this, options);
        }
        this.CLASS_NAME = "SuperMap.ThiessenAnalystService";
    }

    /**
     * @override
     */
    destroy() {
        super.destroy();
        this.mode = null;
    }

    /**
     * @function SuperMap.ThiessenAnalystService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @param {(SuperMap.DatasetThiessenAnalystParameters|GeometryThiessenAnalystParameters)} parameter - æ³°æ£®å¤è¾¹å½¢åæåæ°åºç±»ã
     */
    processAsync(parameter) {
        var parameterObject = {};
        var me = this;

        var end = me.url.substr(me.url.length - 1, 1);
        if (end !== '/') {
            me.url += "/";
        }

        if (parameter instanceof DatasetThiessenAnalystParameters_DatasetThiessenAnalystParameters) {
            me.mode = "datasets";
            me.url += 'datasets/' + parameter.dataset + '/thiessenpolygon';
            DatasetThiessenAnalystParameters_DatasetThiessenAnalystParameters.toObject(parameter, parameterObject);
        } else if (parameter instanceof GeometryThiessenAnalystParameters_GeometryThiessenAnalystParameters) {
            me.mode = "geometry";
            me.url += 'geometry/thiessenpolygon';
            GeometryThiessenAnalystParameters_GeometryThiessenAnalystParameters.toObject(parameter, parameterObject);
        }

        var jsonParameters = Util_Util.toJSON(parameterObject);
        me.url += '.json?returnContent=true';
        me.request({
            method: "POST",
            data: jsonParameters,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }
}

SuperMap.ThiessenAnalystService = ThiessenAnalystService_ThiessenAnalystService;
// CONCATENATED MODULE: ./src/common/iServer/GeometryBatchAnalystService.js








/**
 * @class SuperMap.GeometryBatchAnalystService
 * @category iServer SpatialAnalyst BatchAnalyst
 * @classdesc æ¹éç©ºé´åææå¡ç±»
 * @description è¯¥ç±»è´è´£å°å®¢æ·è®¾ç½®çå å åæåæ°ä¼ éç»æå¡ç«¯ï¼å¹¶æ¥æ¶æå¡ç«¯è¿åçå å åæç»ææ°æ®ã
 *              å å åæç»æéè¿è¯¥ç±»æ¯æçäºä»¶ççå¬å½æ°åæ°è·åï¼åæ°ç±»åä¸º {<SuperMap.REST.OverlayAnalystEventArgs>}; è·åçç»ææ°æ®åæ¬ originResult ãresult ä¸¤ç§ï¼
 *              å¶ä¸­ï¼originResult ä¸ºæå¡ç«¯è¿åçç¨ JSON å¯¹è±¡è¡¨ç¤ºçéç®ç»ææ°æ®ï¼result ä¸ºæå¡ç«¯è¿åçéç®ç»ææ°æ®ã
 * @extends {SuperMap.SpatialAnalystBase}
 * @param {string} url - æå¡çè®¿é®å°åãå¦ï¼http://localhost:8090/iserver/services/spatialanalyst-changchun/restjsr/spatialanalystã
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 * @example
 * var myOverlayAnalystService = new SuperMap.REST.GeometryBatchAnalystService(url, {
 *     eventListeners: {
 *	       "processCompleted": OverlayCompleted,
 *		   "processFailed": OverlayFailed
 *		   }
 * });
 */
class GeometryBatchAnalystService_GeometryBatchAnalystService extends SpatialAnalystBase_SpatialAnalystBase {

    constructor(url, options) {
        super(url, options);

        if (options) {
            Util_Util.extend(this, options);
        }

        this.CLASS_NAME = "SuperMap.GeometryBatchAnalystService";
    }

    /**
     * @function SuperMap.GeometryBatchAnalystService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.GeometryBatchOverlayAnalystParameters} parameter - æ¹éå ä½å¯¹è±¡å å åæåæ°ç±»
     *
     */
    processAsync(parameters) {
        var me = this;

        var end = me.url.substr(me.url.length - 1, 1);
        if (end !== '/') {
            me.url += "/";
        }
        me.url += 'geometry/batchanalyst.json?returnContent=true&ignoreAnalystParam=true';

        var parameterObjects = me._processParams(parameters);
        var jsonParameters = Util_Util.toJSON(parameterObjects);

        me.request({
            method: "POST",
            data: jsonParameters,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

    _processParams(parameters) {
        var me = this;
        if (!Util_Util.isArray(parameters)) {
            return;
        }
        var processParams = [];
        parameters.map(function (item) {
            processParams.push(me._toJSON(item));
            return item;
        });

        return processParams;
    }

    _toJSON(parameter) {
        var tempObj = {};
        if(parameter.analystName ==="buffer"){
            tempObj.analystName = "buffer";
            tempObj.param = {};
            //å ä½å¯¹è±¡çæ¹éç©ºé´åæï¼
            GeometryBufferAnalystParameters_GeometryBufferAnalystParameters.toObject(parameter.param, tempObj.param);

        }else if(parameter.analystName ==="overlay"){
            tempObj.analystName = "overlay";
            tempObj.param = {};
            GeometryOverlayAnalystParameters_GeometryOverlayAnalystParameters.toObject(parameter.param, tempObj.param);

        }else if(parameter.analystName ==="interpolationDensity"){
            tempObj.analystName = "interpolationDensity";
            tempObj.param = {};
            InterpolationAnalystParameters_InterpolationAnalystParameters.toObject(parameter.param, tempObj.param);

        }else if(parameter.analystName ==="interpolationidw"){
            tempObj.analystName = "interpolationidw";
            tempObj.param = {};
            InterpolationAnalystParameters_InterpolationAnalystParameters.toObject(parameter.param, tempObj.param);

        }else if(parameter.analystName ==="interpolationRBF"){
            tempObj.analystName = "interpolationRBF";
            tempObj.param = {};
            InterpolationAnalystParameters_InterpolationAnalystParameters.toObject(parameter.param, tempObj.param);

        }else if(parameter.analystName ==="interpolationKriging"){
            tempObj.analystName = "interpolationKriging";
            tempObj.param = {};
            InterpolationAnalystParameters_InterpolationAnalystParameters.toObject(parameter.param, tempObj.param);

        }else if(parameter.analystName ==="thiessenpolygon"){
            tempObj.analystName = "thiessenpolygon";
            tempObj.param = {};
            GeometryThiessenAnalystParameters_GeometryThiessenAnalystParameters.toObject(parameter.param, tempObj.param);

        }else {
            //isoline; isoregion; calculatemeasure; routelocator åç§åæä¸éè¦åå¤çåæ°
            return parameter;
        }
        return tempObj;
    }

    /**
     * @override
     */
    destroy() {
        super.destroy();
    }


}

SuperMap.GeometryBatchAnalystService = GeometryBatchAnalystService_GeometryBatchAnalystService;
// CONCATENATED MODULE: ./src/common/iServer/TilesetsService.js



/**
 * @class SuperMap.TilesetsService
 * @category  iServer Map Tilesets
 * @classdesc åçåè¡¨ä¿¡æ¯æ¥è¯¢æå¡ç±»ï¼å³æ¥è¯¢åçå°å¾æå¡çåçåè¡¨ï¼è¿ååçéåç§°ãå°å¾åçåæ°æ®ä¿¡æ¯ãåççæ¬éä¿¡æ¯ã
 * @extends {SuperMap.CommonServiceBase}
 * @param {string} url - å°å¾æå¡å°åãURL åºä¸ºï¼
 *                       http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{æå¡å}/rest/maps/mapï¼
 *                       ä¾å¦: "http://localhost:8090/iserver/services/test/rest/maps/tianlocal"ã
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - äºä»¶çå¬å¨å¯¹è±¡ãæ processCompleted å±æ§å¯ä¼ å¥å¤çå®æåçåè°å½æ°ãprocessFailed å±æ§ä¼ å¥å¤çå¤±è´¥åçåè°å½æ°ã
 * @param {SuperMap.ServerType} options.serverType - æå¡å¨ç±»åï¼iServer|iPortal|Onlineã
 * @param {SuperMap.DataFormat} options.format - æ¥è¯¢ç»æè¿åæ ¼å¼ï¼ç®åæ¯æ iServerJSON å GeoJSON ä¸¤ç§æ ¼å¼ãåæ°æ ¼å¼ä¸º "ISERVER"ï¼"GEOJSON"ã
 */
class TilesetsService_TilesetsService extends CommonServiceBase_CommonServiceBase {

    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.TilesetsService";
    }

    /**
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.TilesetsService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ¥è¯¢åæ°ä¼ éå°æå¡ç«¯ã
     */
    processAsync() {
        if (!this.url) {
            return;
        }
        var me = this;
        var end = me.url.substr(me.url.length - 1, 1);

        me.url = me.url + ((end === "/") ? "tilesets" : "/tilesets") + ".json?";

        me.request({
            method: "GET",
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }
}

SuperMap.TilesetsService = TilesetsService_TilesetsService;
// CONCATENATED MODULE: ./src/common/iServer/TopologyValidatorJobsParameter.js





/**
 * @class SuperMap.TopologyValidatorJobsParameter
 * @category  iServer ProcessingService TopologyValidator
 * @classdesc æææ£æ¥åæä»»å¡åæ°ç±»ã
 * @param {Object} options - å¿å¡«åæ°ã
 * @param {string} options.datasetName - æ°æ®éåã
 * @param {string} options.datasetTopology -æ£æ¥å¯¹è±¡æå¨çæ°æ®éåç§°ã
 * @param {SuperMap.TopologyValidatorRule} [options.rule=SuperMap.TopologyValidatorRule.REGIONNOOVERLAP] - æææ£æ¥è§åã
 * @param {string} [options.tolerance] - å®¹éã
 * @param {SuperMap.OutputSetting} [options.output] - è¾åºåæ°è®¾ç½®ã
 */
class TopologyValidatorJobsParameter_TopologyValidatorJobsParameter {

    constructor(options) {
        if (!options) {
            return;
        }
        /**
         * @member {string} SuperMap.TopologyValidatorJobsParameter.prototype.datasetName
         * @description æ°æ®éåã
         */
        this.datasetName = "";

        /**
         * @member {string} SuperMap.TopologyValidatorJobsParameter.prototype.datasetTopology
         * @description æææ£æ¥å¯¹è±¡æå¨çæ°æ®éåç§°ã
         */
        this.datasetTopology = "";

        /**
         * @member {string} [SuperMap.TopologyValidatorJobsParameter.prototype.tolerance]
         * @description å®¹éï¼æå®çææéè¯¯æ£æ¥æ¶ä½¿ç¨çå®¹éã
         */
        this.tolerance = "";

        /**
         * @member {SuperMap.TopologyValidatorRule} [SuperMap.TopologyValidatorJobsParameter.prototype.rule=SuperMap.TopologyValidatorRule.REGIONNOOVERLAP]
         * @description æææ£æ¥æ¨¡å¼ã
         */
        this.rule = TopologyValidatorRule.REGIONNOOVERLAP;

        /**
         * @member {SuperMap.OutputSetting} SuperMap.TopologyValidatorJobsParameter.prototype.output
         * @description è¾åºåæ°è®¾ç½®ç±»ã
         */
        this.output = null;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.TopologyValidatorJobsParameter";
    }

    /**
     * @function SuperMap.TopologyValidatorJobsParameter.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        this.datasetName = null;
        this.datasetTopology = null;
        this.tolerance = null;
        this.rule = null;
        if (this.output instanceof OutputSetting_OutputSetting) {
            this.output.destroy();
            this.output = null;
        }
    }

    /**
     * @function SuperMap.TopologyValidatorJobsParameter.toObject
     * @param {Object} TopologyValidatorJobsParameter -æææ£æ¥åæä»»å¡åæ°ã
     * @param {Object} tempObj - ç®æ å¯¹è±¡ã
     * @description çææææ£æ¥åæä»»å¡å¯¹è±¡ã
     */
    static toObject(TopologyValidatorJobsParameter, tempObj) {
        for (var name in TopologyValidatorJobsParameter) {
            if (name === "datasetName") {
                tempObj['input'] = tempObj['input'] || {};
                tempObj['input'][name] = TopologyValidatorJobsParameter[name];
                continue;
            }
            if (name === "output"){
                tempObj['output'] = tempObj['output'] || {};
                tempObj['output'] = TopologyValidatorJobsParameter[name];
                continue;
            }
            tempObj['analyst'] = tempObj['analyst'] || {};
            tempObj['analyst'][name] = TopologyValidatorJobsParameter[name];
        }
    }
}

SuperMap.TopologyValidatorJobsParameter = TopologyValidatorJobsParameter_TopologyValidatorJobsParameter;
// CONCATENATED MODULE: ./src/common/iServer/TopologyValidatorJobsService.js




/**
 * @class SuperMap.TopologyValidatorJobsService
 * @category  iServer ProcessingService TopologyValidator
 * @classdesc æææ£æ¥åææå¡ç±»
 * @extends {SuperMap.ProcessingServiceBase}
 * @param {string} url - æææ£æ¥åææå¡å°åã
 * @param {Object} options - åæ°ã
 */
class TopologyValidatorJobsService_TopologyValidatorJobsService extends ProcessingServiceBase_ProcessingServiceBase {

    constructor(url, options) {
        super(url, options);
        this.url += "/spatialanalyst/topologyvalidator";
        this.CLASS_NAME = "SuperMap.TopologyValidatorJobsService";
    }

    /**
     *@override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.TopologyValidatorJobsService.protitype.getTopologyValidatorJobs
     * @description è·åæææ£æ¥åæææä»»å¡
     */
    getTopologyValidatorJobs() {
        super.getJobs(this.url);
    }

    /**
     * @function SuperMap.TopologyValidatorJobsService.protitype.getTopologyValidatorJob
     * @description è·åæå®idçæææ£æ¥åææå¡
     * @param {string} id - æå®è¦è·åæ°æ®çid
     */
    getTopologyValidatorJob(id) {
        super.getJobs(this.url + '/' + id);
    }

    /**
     * @function SuperMap.TopologyValidatorJobsService.protitype.addTopologyValidatorJob
     * @description æ°å»ºæææ£æ¥åææå¡
     * @param {SuperMap.TopologyValidatorJobsParameter} params - åå»ºä¸ä¸ªç©ºé´åæçè¯·æ±åæ°ã
     * @param {number} seconds - å¼å§åå»ºåï¼è·ååå»ºæåç»æçæ¶é´é´éã
     */
    addTopologyValidatorJob(params, seconds) {
        super.addJob(this.url, params, TopologyValidatorJobsParameter_TopologyValidatorJobsParameter, seconds);
    }

}

SuperMap.TopologyValidatorJobsService = TopologyValidatorJobsService_TopologyValidatorJobsService;
// CONCATENATED MODULE: ./src/common/iServer/TransferLine.js



/**
 * @class SuperMap.TransferLine
 * @category  iServer TrafficTransferAnalyst TransferPath
 * @classdesc æ¢ä¹è·¯çº¿ä¿¡æ¯ç±»ã
 * @param {Object} options - åæ°ã
 * @param {number} options.lineID - ä¹è½¦è·¯çº¿ IDã
 * @param {string} options.lineName - ä¹è½¦è·¯çº¿åç§°ã
 * @param {string} options.lineAliasName - ä¹è½¦è·¯çº¿å«åã
 * @param {number} options.startStopIndex - ä¸è½¦ç«ç¹å¨æ¬å¬äº¤è·¯çº¿ä¸­çç´¢å¼ã
 * @param {string} options.startStopName - ä¸è½¦ç«ç¹åç§°ã
 * @param {string} options.startStopAliasName - ä¸è½¦ç«ç¹å«åã
 * @param {number} options.endStopIndex - ä¸è½¦ç«ç¹å¨æ¬å¬äº¤è·¯çº¿ä¸­çç´¢å¼ã
 * @param {string} options.endStopName - ä¸è½¦ç«ç¹åç§°ã
 * @param {string} options.endStopAliasName - ä¸è½¦ç«ç¹å«åã
 */
class TransferLine_TransferLine {

    constructor(options) {
        options = options || {};
        /**
         * @member {number} SuperMap.TransferLine.prototype.lineID
         * @description ä¹è½¦è·¯çº¿ IDã
         */
        this.lineID = null;

        /**
         * @member {string} SuperMap.TransferLine.prototype.lineName
         * @description ä¹è½¦è·¯çº¿åç§°ã
         */
        this.lineName = null;

        /**
         * @member {string} SuperMap.TransferLine.prototype.lineAliasName
         * @description ä¹è½¦è·¯çº¿å«åã
         */
        this.lineAliasName = null;

        /**
         * @member {number} SuperMap.TransferLine.prototype.startStopIndex
         * @description ä¸è½¦ç«ç¹å¨æ¬å¬äº¤è·¯çº¿ä¸­çç´¢å¼ã
         */
        this.startStopIndex = null;

        /**
         * @member {string} SuperMap.TransferLine.prototype.startStopName
         * @description ä¸è½¦ç«ç¹åç§°ã
         */
        this.startStopName = null;

        /**
         * @member {string} SuperMap.TransferLine.prototype.startStopAliasName
         * @description ä¸è½¦ç«ç¹å«åã
         */
        this.startStopAliasName = null;

        /**
         * @member {number} SuperMap.TransferLine.prototype.endStopIndex
         * @description ä¸è½¦ç«ç¹å¨æ¬å¬äº¤è·¯çº¿ä¸­çç´¢å¼ã
         */
        this.endStopIndex = null;

        /**
         * @member {string} SuperMap.TransferLine.prototype.endStopName
         * @description ä¸è½¦ç«ç¹åç§°ã
         */
        this.endStopName = null;

        /**
         * @member {string} SuperMap.TransferLine.prototype.endStopAliasName
         * @description ä¸è½¦ç«ç¹å«åã
         */
        this.endStopAliasName = null;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.TransferLine";
    }


    /**
     * @function SuperMap.TransferLine.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        Util_Util.reset(this);
    }

    /**
     * @function SuperMap.TransferLine.fromJson
     * @description å°è¿åç»æè½¬åä¸º {@link SuperMap.TransferLine} å¯¹è±¡ã
     * @param {Object} jsonObject - æ°çè¿åç»æã
     * @returns {SuperMap.TransferLine} è½¬ååç {@link SuperMap.TransferLine} å¯¹è±¡ã
     */
    static fromJson(jsonObject) {
        if (!jsonObject) {
            return;
        }
        return new TransferLine_TransferLine({
            lineID: jsonObject['lineID'],
            lineName: jsonObject['lineName'],
            lineAliasName: jsonObject['lineAliasName'],
            startStopIndex: jsonObject['startStopIndex'],
            startStopName: jsonObject['startStopName'],
            startStopAliasName: jsonObject['startStopAliasName'],
            endStopIndex: jsonObject['endStopIndex'],
            endStopName: jsonObject['endStopName'],
            endStopAliasName: jsonObject['endStopAliasName']
        });
    }

}

SuperMap.TransferLine = TransferLine_TransferLine;
// CONCATENATED MODULE: ./src/common/iServer/TransferPathParameters.js




/**
 * @class SuperMap.TransferPathParameters
 * @category  iServer TrafficTransferAnalyst TransferPaths
 * @classdesc äº¤éæ¢ä¹çº¿è·¯æ¥è¯¢åæ°ç±»ã
 * @param {Object} options - åæ°ã
 * @param {Array.<SuperMap.TransferLine>} options.transferLines - æ¬æ¢ä¹åæ®µåå¯ä¹è½¦çè·¯çº¿éåã
 * @param {Array.<(string|SuperMap.Geometry.Point|L.Point|L.LatLng|ol.geom.Point)>} options.points - ä¸¤ç§æ¥è¯¢æ¹å¼ï¼æç§å¬äº¤ç«ç¹çèµ·æ­¢ ID è¿è¡æ¥è¯¢åæç§èµ·æ­¢ç¹çåæ è¿è¡æ¥è¯¢ã
 *
 */
class TransferPathParameters_TransferPathParameters {

    constructor(options) {
        options = options || {};
        /**
         * @member {Array.<SuperMap.TransferLine>} SuperMap.TransferPathParameters.prototype.transferLines
         * @description æ¬æ¢ä¹åæ®µåå¯ä¹è½¦çè·¯çº¿éåï¼éè¿äº¤éæ¢ä¹æ¹æ¡æ¥è¯¢å¾å°ã
         */
        this.transferLines = null;


        /**
         *  @member {Array.<(string|SuperMap.Geometry.Point|L.Point|L.LatLng|ol.geom.Point)>} SuperMap.TransferPathParameters.prototype.points
         *  @description ä¸¤ç§æ¥è¯¢æ¹å¼ï¼<br>
         *           1. æç§å¬äº¤ç«ç¹çèµ·æ­¢IDè¿è¡æ¥è¯¢ï¼å points åæ°çç±»åä¸º int[]ï¼å½¢å¦ï¼[èµ·ç¹IDãç»ç¹ID]ï¼å¬äº¤ç«ç¹ç ID å¯¹åºæå¡æä¾èéç½®ä¸­çç«ç¹ ID å­æ®µï¼
         *           2. æç§èµ·æ­¢ç¹çåæ è¿è¡æ¥è¯¢ï¼å points åæ°çç±»åä¸º Point2D[]ï¼å½¢å¦ï¼[{"x":44,"y":39},{"x":45,"y":40}]ã
         */
        this.points = null;

        Util_Util.extend(this, options);

       this.CLASS_NAME = "SuperMap.TransferPathParameters";
    }

    /**
     * @function SuperMap.TransferPathParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        Util_Util.reset(this);
    }

    /**
     * @function SuperMap.TransferPathParameters.toJson
     * @description å° {@link SuperMap.TransferPathParameters} å¯¹è±¡åæ°è½¬æ¢ä¸º JSON å­ç¬¦ä¸²ã
     * @param {SuperMap.TransferPathParameters} params - äº¤éæ¢ä¹åæ°ã
     * @returns {string} è½¬ååç JSON å­ç¬¦ä¸²ã
     */
    static toJson(params) {
        if (params) {
            return Util_Util.toJSON(params);
        }
    }

}

SuperMap.TransferPathParameters = TransferPathParameters_TransferPathParameters;
// CONCATENATED MODULE: ./src/common/iServer/TransferPathService.js





/**
 * @class SuperMap.TransferPathService
 * @category  iServer TrafficTransferAnalyst TransferPath
 * @classdesc äº¤éæ¢ä¹çº¿è·¯æ¥è¯¢æå¡ç±»ï¼æ ¹æ®äº¤éæ¢ä¹åæç»æ(TransferSolutionResult)ï¼è·åæä¸æ¡ä¹è½¦è·¯çº¿çè¯¦ç»ä¿¡æ¯ã
 *            è¿åç»æéè¿è¯¥ç±»æ¯æçäºä»¶ççå¬å½æ°åæ°è·å
 * @extends {SuperMap.CommonServiceBase}
 * @example ä¾å¦ï¼
 * var myService = new SuperMap.TransferPathService(url, {eventListeners: {
 *     "processCompleted": TrafficTransferCompleted,
 *     "processFailed": TrafficTransferError
 *     }
 * };
 * @param {string} url - ä¸å®¢æ·ç«¯äº¤äºçäº¤éæ¢ä¹çº¿è·¯æ¥è¯¢æå¡å°åã
 * ä¾å¦:</br>"http://localhost:8090/iserver/services/traffictransferanalyst-sample/restjsr/traffictransferanalyst/Traffic-Changchun"ã
 * @param {Object} options - åæ°ã</br>
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 */
class TransferPathService_TransferPathService extends CommonServiceBase_CommonServiceBase {

    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.TransferPathService";
    }

    /**
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.TransferPathService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ´æ°åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.TransferPathParameters} params - äº¤éæ¢ä¹åæ°ã
     */
    processAsync(params) {
        if (!(params instanceof TransferPathParameters_TransferPathParameters)) {
            return;
        }
        var me = this,
            method = "GET",
            jsonParameters,
            end;

        end = me.url.substr(me.url.length - 1, 1);
        me.url += (end === "/") ? '' : '/';
        me.url += "path.json?";

        jsonParameters = {
            points: Util_Util.toJSON(params.points),
            transferLines: Util_Util.toJSON(params['transferLines'])
        };

        me.request({
            method: method,
            params: jsonParameters,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

}

SuperMap.TransferPathService = TransferPathService_TransferPathService;

// CONCATENATED MODULE: ./src/common/iServer/TransferSolutionParameters.js




/**
 * @class SuperMap.TransferSolutionParameters
 * @category  iServer TrafficTransferAnalyst TransferSolutions
 * @classdesc äº¤éæ¢ä¹æ¹æ¡æ¥è¯¢åæ°ç±»ã
 * @param {Object} options - åæ°ã
 * @param {Array.<(SuperMap.Geometry.Point|L.Point|L.LatLng|ol.geom.Point|number)>} options.points - ä¸¤ç§æ¥è¯¢æ¹å¼ï¼æç§å¬äº¤ç«ç¹çèµ·æ­¢IDè¿è¡æ¥è¯¢åæç§èµ·æ­¢ç¹çåæ è¿è¡æ¥è¯¢ã
 * @param {number} [options.solutionCount=6] - ä¹è½¦æ¹æ¡çæ°éã
 * @param {SuperMap.TransferTactic} [options.transferTactic=SuperMap.TransferTactic.LESS_TIME] - äº¤éæ¢ä¹ç­ç¥ç±»åï¼åæ¬æ¶é´æç­ãè·ç¦»æç­ãæå°æ¢ä¹ãæå°æ­¥è¡åç§éæ©ã
 * @param {SuperMap.TransferPreference} [options.transferPreference=SuperMap.TransferPreference.NONE] - ä¹è½¦åå¥½æä¸¾ã
 * @param {number} [options.walkingRatio=10] - æ­¥è¡ä¸å¬äº¤çæ¶èæéæ¯ã
 * @param {Array.<number>} [options.evadeLines] - é¿è®©è·¯çº¿ç IDã
 * @param {Array.<number>} [options.evadeStops] - é¿è®©ç«ç¹ç IDã
 * @param {Array.<number>} [options.priorLines] - ä¼åè·¯çº¿ç IDã
 * @param {Array.<number>} [options.priorStops] - ä¼åç«ç¹ç IDã
 * @param {string} [options.travelTime] - åºè¡çæ¶é´ã
 */
class TransferSolutionParameters_TransferSolutionParameters {

    constructor(options) {
        options = options || {};
        /**
         *  @member {number} [SuperMap.TransferSolutionParameters.prototype.solutionCount=6]
         *  @description ä¹è½¦æ¹æ¡çæ°éã
         */
        this.solutionCount = 6;
        /**
         * @member {SuperMap.TransferPreference} [SuperMap.TransferSolutionParameters.prototype.transferPreference=SuperMap.TransferPreference.NONE]
         *  @description ä¹è½¦åå¥½æä¸¾ã
         */
        this.transferPreference = TransferPreference.NONE;

        /**
         *  @member {SuperMap.TransferTactic} [SuperMap.TransferSolutionParameters.prototype.transferTactic=TransferTactic|SuperMap.TransferTactic.LESS_TIME]
         *  @description äº¤éæ¢ä¹ç­ç¥ç±»åï¼åæ¬æ¶é´æç­ãè·ç¦»æç­ãæå°æ¢ä¹ãæå°æ­¥è¡åç§éæ©ã
         */
        this.transferTactic = TransferTactic.LESS_TIME;

        /**
         *  @member {number} [SuperMap.TransferSolutionParameters.prototype.walkingRatio=10]
         *  @description æ­¥è¡ä¸å¬äº¤çæ¶èæéæ¯ãæ­¤å¼è¶å¤§ï¼åæ­¥è¡å ç´ å¯¹äºæ¹æ¡éæ©çå½±åè¶å¤§ãä¾å¦ï¼</br>
         *  ä¾å¦ç°å¨æä¸¤ç§æ¢ä¹æ¹æ¡ï¼å¨ä»èèæ¶èå ç´ çæåµä¸ï¼ï¼</br>
         *  æ¹æ¡1ï¼åè½¦ 10 å¬éï¼èµ°è·¯ 1 å¬éï¼</br>
         *  æ¹æ¡2ï¼åè½¦ 15 å¬éï¼èµ°è·¯ 0.5 å¬éï¼</br>
         *  1. åè®¾æéæ¯ä¸º 15ï¼</br>
         *     â¢æ¹æ¡ 1 çæ»æ¶èä¸ºï¼10 + 1*15 = 25</br>
         *     â¢æ¹æ¡ 2 çæ»æ¶èä¸ºï¼15 + 0.5*15 = 22.5</br>
         *  æ­¤æ¶æ¹æ¡ 2 æ¶èæ´ä½ã</br>
         *  2. åè®¾æéæ¯ä¸º2ï¼</br>
         *     â¢æ¹æ¡ 1 çæ»æ¶èä¸ºï¼10+1*2 = 12</br>
         *     â¢æ¹æ¡ 2 çæ»æ¶èä¸ºï¼15+0.5*2 = 17</br>
         *  æ­¤æ¶æ¹æ¡ 1 æ¶èæ´ä½ã</br>
         */

        this.walkingRatio = null;

        /**
         *  @member {Array.<(SuperMap.Geometry.Point|L.Point|L.LatLng|ol.geom.Point|string)>} SuperMap.TransferSolutionParameters.prototype.points
         *  @description ä¸¤ç§æ¥è¯¢æ¹å¼ï¼</br>
         *           1. æç§å¬äº¤ç«ç¹çèµ·æ­¢ ID è¿è¡æ¥è¯¢ï¼å points åæ°çç±»åä¸º int[]ï¼å½¢å¦ï¼[èµ·ç¹ IDãç»ç¹ ID]ï¼å¬äº¤ç«ç¹ç ID å¯¹åºæå¡æä¾èéç½®ä¸­çç«ç¹ ID å­æ®µï¼
         *           2. æç§èµ·æ­¢ç¹çåæ è¿è¡æ¥è¯¢ï¼å points åæ°çç±»åä¸º Point2D[]ï¼å½¢å¦ï¼[{"x":44,"y":39},{"x":45,"y":40}]ã
         */
        this.points = false;

        /**
         * @member {Array.<number>} [SuperMap.TransferSolutionParameters.prototype.evadeLinesnull]
         * @description é¿è®©è·¯çº¿ IDã
         * */
        this.evadeLines = null;

        /**
         * @member {Array.<number>} [SuperMap.TransferSolutionParameters.prototype.evadeStops=TransferLine]
         * @description é¿è®©ç«ç¹ IDã
         * */
        this.evadeStops = null;

        /**
         * @member {Array.<number>} [SuperMap.TransferSolutionParameters.prototype.priorLines]
         * @description ä¼åè·¯çº¿ IDã
         * */
        this.priorLines = null;

        /**
         * @member {Array.<number>} [SuperMap.TransferSolutionParameters.prototype.priorStops]
         * @description ä¼åç«ç¹ IDã
         * */
        this.priorStops = null;

        /**
         * @member {string} SuperMap.TransferSolutionParameters.prototype.travelTime
         * @description åºè¡çæ¶é´ï¼ æ ¼å¼æ¯ï¼"å°æ¶:åé"ï¼å¦ï¼"08:30"ãå¦æè®¾ç½®äºè¯¥åæ°ï¼å¨åææ¶ï¼åä¼èèçº¿è·¯çé¦æ«ç­è½¦æ¶é´çéå¶ï¼å³å¨è¿åçç»æä¸­ä¼æç¤ºå¬äº¤çé¦æ«ç­åè½¦æ¶é´ã
         */
        this.travelTime = null;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.TransferSolutionParameters";
    }

    /**
     * @function SuperMap.TransferSolutionParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        Util_Util.reset(this);
    }


    /**
     * @function SuperMap.TransferSolutionParameters.toJsonParameters
     * @description å° {@link SuperMap.TransferSolutionParameters} å¯¹è±¡åæ°è½¬æ¢ä¸º JSON å­ç¬¦ä¸²ã
     * @param {SuperMap.TransferSolutionParameters} params - äº¤éæ¢ä¹åæ°ã
     * @returns {string} è½¬ååç JSON å­ç¬¦ä¸²ã
     */
    static toJson(params) {
        if (params) {
            return Util_Util.toJSON(params);
        }
    }

}

SuperMap.TransferSolutionParameters = TransferSolutionParameters_TransferSolutionParameters;

// CONCATENATED MODULE: ./src/common/iServer/TransferSolutionService.js





/**
 * @class SuperMap.TransferSolutionService
 * @category  iServer TrafficTransferAnalyst TransferSolutions
 * @classdesc äº¤éæ¢ä¹æ¹æ¡æ¥è¯¢æå¡ç±»ã
 * è¿åç»æéè¿è¯¥ç±»æ¯æçäºä»¶ççå¬å½æ°åæ°è·åã
 * @param {string} url - ä¸å®¢æ·ç«¯äº¤äºçäº¤éæ¢ä¹æ¹æ¡æ¥è¯¢æå¡å°åã
 * ä¾å¦:</br>"http://localhost:8090/iserver/services/traffictransferanalyst-sample/restjsr/traffictransferanalyst/Traffic-Changchun"ã
 * @param {Object} options - åæ°ã</br>
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã</br>
 * @extends {SuperMap.CommonServiceBase}
 * @example ä¾å¦ï¼
 * (start code)
 * var myService = new SuperMap.TransferSolutionService(url, {eventListeners: {
     *     "processCompleted": trafficTransferCompleted,
     *     "processFailed": trafficTransferError
     *     }
     * };
 * (end)
 *
 */
class TransferSolutionService_TransferSolutionService extends CommonServiceBase_CommonServiceBase {

    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.TransferSolutionService";
    }

    /**
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.TransferSolutionService.prototype.processAsync
     * @description è´è´£å°å®¢æ·ç«¯çæ´æ°åæ°ä¼ éå°æå¡ç«¯ã
     * @param {SuperMap.TransferSolutionParameters} params - äº¤éæ¢ä¹åæ°ã
     */
    processAsync(params) {
        if (!(params instanceof TransferSolutionParameters_TransferSolutionParameters)) {
            return;
        }
        var me = this,
            method = "GET",
            jsonParameters,
            end;

        end = me.url.substr(me.url.length - 1, 1);
        me.url += (end === "/") ? '' : '/';
        me.url += "solutions.json?";

        jsonParameters = {
            points: Util_Util.toJSON(params.points),
            walkingRatio: params['walkingRatio'],
            transferTactic: params['transferTactic'],
            solutionCount: params['solutionCount'],
            transferPreference: params["transferPreference"]
        };
        if (params.evadeLines) {
            jsonParameters["evadeLines"] = Util_Util.toJSON(params.evadeLines);
        }
        if (params.evadeStops) {
            jsonParameters["evadeStops"] = Util_Util.toJSON(params.evadeStops);
        }
        if (params.priorLines) {
            jsonParameters["priorLines"] = Util_Util.toJSON(params.priorLines);
        }
        if (params.priorStops) {
            jsonParameters["priorStops"] = Util_Util.toJSON(params.priorStops);
        }
        if (params.travelTime) {
            jsonParameters["travelTime"] = params.travelTime;
        }

        me.request({
            method: method,
            params: jsonParameters,
            scope: me,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

}

SuperMap.TransferSolutionService = TransferSolutionService_TransferSolutionService;


// CONCATENATED MODULE: ./src/common/iServer/UpdateEdgeWeightParameters.js



/**
 * @class SuperMap.UpdateEdgeWeightParameters
 * @category  iServer NetworkAnalyst EdgeWeight
 * @classdesc è¾¹çèè´¹æéæ´æ°æå¡åæ°ç±»ã
 * @param {Object} options - åæ°ã 
 * @param {string} options.edgeId - æå¨è¾¹ç IDã 
 * @param {string} options.fromNodeId - èµ·å§è½¬åç¹ç IDã 
 * @param {string} options.toNodeId - ç»æ­¢è½¬åç¹ç IDã 
 * @param {string} options.weightField - è¾¹çèè´¹å­æ®µã 
 * @param {string} options.edgeWeight - èè´¹æéã
 */
class UpdateEdgeWeightParameters_UpdateEdgeWeightParameters {

    constructor(options) {
        if (!options) {
            return;
        }
        /**
         * @member {string} SuperMap.UpdateEdgeWeightParameters.prototype.edgeId
         * @description æå¨è¾¹ç IDã
         */
        this.edgeId = "";

        /**
         * @member {string} SuperMap.UpdateEdgeWeightParameters.prototype.fromNodeId
         * @description èµ·å§è½¬åç¹ç IDã
         */
        this.fromNodeId = "";

        /**
         * @member {string} SuperMap.UpdateEdgeWeightParameters.prototype.toNodeId
         * @description ç»æ­¢è½¬åç¹ç IDã
         */
        this.toNodeId = "";

        /**
         * @member {string} SuperMap.UpdateEdgeWeightParameters.prototype.weightField
         * @description è¾¹çèè´¹å­æ®µã
         */
        this.weightField = "";

        /**
         * @member {string} SuperMap.UpdateEdgeWeightParameters.prototype.edgeWeight
         * @description èè´¹æéã
         */
        this.edgeWeight = "";

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.UpdateEdgeWeightParameters";
    }


    /**
     * @function SuperMap.UpdateEdgeWeightParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        this.edgeId = null;
        this.fromNodeId = null;
        this.toNodeId = null;
        this.weightField = null;
        this.edgeWeight = null;
    }

}

SuperMap.UpdateEdgeWeightParameters = UpdateEdgeWeightParameters_UpdateEdgeWeightParameters;
// CONCATENATED MODULE: ./src/common/iServer/UpdateEdgeWeightService.js




/**
 * @class SuperMap.UpdateEdgeWeightService
 * @category  iServer NetworkAnalyst EdgeWeight
 * @classdesc æ´æ°è¾¹çè¾¹çèè´¹æéæå¡
 * @extends {SuperMap.NetworkAnalystServiceBase}
 * @example
 *(start code)
 * var updateEdgeWeightService = new SuperMap.UpdateEdgeWeightService(url, {
 *     eventListeners: {
 *         "processCompleted": UpdateEdgeWeightCompleted,      //åæ°ä¸ºSuperMap.UpdateEdgeWeightEventArgs
 *		   "processFailed": UpdateEdgeWeightError             //åæ°ä¸ºSuperMap.ServiceFailedEventArgs
 *		   }
 * });
 * (end)
 * @param {string} url - æå¡çè®¿é®å°åãå¦ï¼http://localhost:8090/iserver/services/transportationanalyst-sample/rest/networkanalyst/RoadNet@Changchun ã
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 */
class UpdateEdgeWeightService_UpdateEdgeWeightService extends NetworkAnalystServiceBase_NetworkAnalystServiceBase {

    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.UpdateEdgeWeightService";
    }

    /**
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.UpdateEdgeWeightService.prototype.processAsync
     * @description å¼å§å¼æ­¥æ§è¡è¾¹çè¾¹çèè´¹æéçæ´æ°
     * @param {SuperMap.UpdateEdgeWeightParameters} params - è¾¹çèè´¹æéæ´æ°æå¡åæ°ç±»
     * @example
     * (code)
     *  var updateEdgeWeightParam=new SuperMapUpdateEdgeWeightParameters({
     *          edgeId:"20",
     *          fromNodeId:"26",
     *          toNodeId:"109",
     *          weightField:"time",
     *          edgeWeight:"25"
     *      });
     *  updateEdgeWeightService.processAsync(updateEdgeWeightParam);
     * (end)
     */
    processAsync(params) {
        if (!(params instanceof UpdateEdgeWeightParameters_UpdateEdgeWeightParameters)) {
            return;
        }

        var me = this, end = me.url.substr(me.url.length - 1, 1);
        var paramStr = me.parse(params);
        if (end === "/") {
            me.url.splice(me.url.length - 1, 1);
        }
        me.url = me.url + paramStr + ".json?";
        var data = params.edgeWeight ? params.edgeWeight : null;
        me.request({
            method: "PUT",
            scope: me,
            data: data,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

    /**
    * @function SuperMap.UpdateEdgeWeightService.prototype.parse
    * @description å°æ´æ°æå¡åæ°è§£æä¸ºç¨â/âååéçå­ç¬¦ä¸²
    */
    parse(params) {
        if (!params) {
            return;
        }
        var paramStr = "";
        for (var attr in params) {
            if (params[attr] === "" || params[attr] === "edgeWeight") {
                continue;
            }
            switch (attr) {
                case "edgeId":
                    paramStr += "/edgeweight/" + params[attr];
                    break;
                case "fromNodeId":
                    paramStr += "/fromnode/" + params[attr];
                    break;
                case "toNodeId":
                    paramStr += "/tonode/" + params[attr];
                    break;
                case "weightField":
                    paramStr += "/weightfield/" + params[attr];
                    break;
                default :
                    break;
            }
        }
        return paramStr;
    }

}

SuperMap.UpdateEdgeWeightService = UpdateEdgeWeightService_UpdateEdgeWeightService;
// CONCATENATED MODULE: ./src/common/iServer/UpdateTurnNodeWeightParameters.js



/**
 * @class SuperMap.UpdateTurnNodeWeightParameters
 * @category  iServer NetworkAnalyst TurnNodeWeight
 * @classdesc è½¬åèè´¹æéæ´æ°æå¡åæ°ç±»ã
 * @param {Object} options - åæ°ã 
 * @param {string} options.nodeId - è½¬åç»ç¹ç  IDã 
 * @param {string} options.fromEdgeId - èµ·å§è¾¹ç  IDã 
 * @param {string} options.toEdgeId - ç»æ­¢è¾¹ç  IDã 
 * @param {string} options.weightField - è½¬åç»ç¹çèè´¹å­æ®µã 
 * @param {string} options.turnNodeWeight - èè´¹æéã
 */
class UpdateTurnNodeWeightParameters_UpdateTurnNodeWeightParameters {

    constructor(options) {
        if (!options) {
            return;
        }
        /**
         * @member {string} SuperMap.UpdateTurnNodeWeightParameters.prototype.nodeId
         * @description è½¬åç»ç¹ç  IDã
         */
        this.nodeId = "";

        /**
         * @member {string} SuperMap.UpdateTurnNodeWeightParameters.prototype.fromEdgeId
         * @description èµ·å§è¾¹ç  IDã
         */
        this.fromEdgeId = "";

        /**
         * @member {string} SuperMap.UpdateTurnNodeWeightParameters.prototype.toEdgeId
         * @description ç»æ­¢è¾¹ç  IDã
         */
        this.toEdgeId = "";

        /**
         * @member {string} SuperMap.UpdateTurnNodeWeightParameters.prototype.weightField
         * @description è½¬åç»ç¹çèè´¹å­æ®µã
         */
        this.weightField = "";

        /**
         * @member {string} SuperMap.UpdateTurnNodeWeightParameters.prototype.turnNodeWeight
         * @description èè´¹æéã
         */
        this.turnNodeWeight = "";
        Util_Util.extend(this, options);
        this.CLASS_NAME = "SuperMap.UpdateTurnNodeWeightParameters";
    }

    /**
     * @function SuperMap.UpdateTurnNodeWeightParameters.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        this.nodeId = null;
        this.fromEdgeId = null;
        this.toEdgeId = null;
        this.weightField = null;
        this.turnNodeWeight = null;
    }

}

SuperMap.UpdateTurnNodeWeightParameters = UpdateTurnNodeWeightParameters_UpdateTurnNodeWeightParameters;
// CONCATENATED MODULE: ./src/common/iServer/UpdateTurnNodeWeightService.js




/**
 * @class SuperMap.UpdateTurnNodeWeightService
 * @category  iServer NetworkAnalyst TurnNodeWeight
 * @classdesc è½¬åèè´¹æéæ´æ°æå¡ç±»
 * @extends {SuperMap.NetworkAnalystServiceBase}
 * @example
 * var UpdateTurnNodeWeightService = new SuperMap.UpdateTurnNodeWeightService(url, {
 *     eventListeners: {
 *         "processCompleted": UpdateTurnNodeWeightCompleted,    //åæ°ä¸ºSuperMap.UpdateTurnNodeWeightEventArgs
 *		   "processFailed": UpdateTurnNodeWeightError          //åæ°ä¸ºSuperMap.ServiceFailedEventArgs
 *		   }
 * });
 * @param {string} url - æå¡çè®¿é®å°åãå¦:
 *                       http://localhost:8090/iserver/services/transportationanalyst-sample/rest/networkanalyst/RoadNet@Changchun ã
 * @param {Object} options - åæ°ã
 * @param {Object} options.eventListeners - éè¦è¢«æ³¨åççå¬å¨å¯¹è±¡ã
 */
class UpdateTurnNodeWeightService_UpdateTurnNodeWeightService extends NetworkAnalystServiceBase_NetworkAnalystServiceBase {

    constructor(url, options) {
        super(url, options);
        this.CLASS_NAME = "SuperMap.UpdateTurnNodeWeightService";
    }

    /**
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.UpdateTurnNodeWeightService.prototype.processAsync
     * @description å¼å§å¼æ­¥æ§è¡è½¬åèè´¹æéçæ´æ°
     * @param {SuperMap.UpdateTurnNodeWeightParameters} params - è½¬åèè´¹æéæ´æ°æå¡åæ°ç±»
     * @example
     * (code)
     *  var updateTurnNodeWeightParam=new SuperMap.UpdateTurnNodeWeightParameters({
     *           nodeId:"106",
     *           fromEdgeId:"6508",
     *           toEdgeId:"6504",
     *           weightField:"TurnCost",
     *           turnNodeWeight:"50"
     *       });
     *  updateTurnNodeWeightService.processAsync(updateTurnNodeWeightParam);
     * (end)
     **/
    processAsync(params) {
        if (!(params instanceof UpdateTurnNodeWeightParameters_UpdateTurnNodeWeightParameters)) {
            return;
        }

        var me = this, end = me.url.substr(me.url.length - 1, 1);
        var paramStr = me.parse(params);
        if (end === "/") {
            me.url.splice(me.url.length - 1, 1);
        }
        me.url = me.url + paramStr + ".json?";
        var data = params.turnNodeWeight ? params.turnNodeWeight : null;
        me.request({
            method: "PUT",
            scope: me,
            data: data,
            success: me.serviceProcessCompleted,
            failure: me.serviceProcessFailed
        });
    }

    /**
     * @function SuperMap.UpdateTurnNodeWeightService.prototype.parse
     * @description å°æ´æ°æå¡åæ°è§£æä¸ºç¨â/âååéçå­ç¬¦ä¸²
     */
    parse(params) {
        if (!params) {
            return;
        }
        var paramStr = "";
        for (var attr in params) {
            if (params[attr] === "" || params[attr] === "turnNodeWeight") {
                continue;
            }
            switch (attr) {
                case "nodeId":
                    paramStr += "/turnnodeweight/" + params[attr];
                    break;
                case "fromEdgeId":
                    paramStr += "/fromedge/" + params[attr];
                    break;
                case "toEdgeId":
                    paramStr += "/toedge/" + params[attr];
                    break;
                case "weightField":
                    paramStr += "/weightfield/" + params[attr];
                    break;
                default :
                    break;
            }
        }
        return paramStr;
    }

}

SuperMap.UpdateTurnNodeWeightService = UpdateTurnNodeWeightService_UpdateTurnNodeWeightService;
// CONCATENATED MODULE: ./src/common/iServer/VectorClipJobsParameter.js





/**
 * @class SuperMap.VectorClipJobsParameter
 * @category  iServer ProcessingService VectorClip
 * @classdesc ç¢éè£åªåæä»»å¡åæ°ç±»ã
 * @param {Object} options - åæ°ã 
 * @param {string} options.datasetName - æ°æ®éåã 
 * @param {string} options.datasetOverlay - è£åªå¯¹è±¡æ°æ®éã 
 * @param {SuperMap.ClipAnalystMode} [options.mode=SuperMap.ClipAnalystMode.CLIP] - è£åªåææ¨¡å¼ã 
 * @param {SuperMap.OutputSetting} [options.output] - è¾åºåæ°è®¾ç½®ã 
 */
class VectorClipJobsParameter_VectorClipJobsParameter {

    constructor(options) {
        options = options || {};

        /**
         * @member {string} SuperMap.VectorClipJobsParameter.prototype.datasetName
         * @description æ°æ®éåã
         */
        this.datasetName = "";

        /**
         * @member {string} SuperMap.VectorClipJobsParameter.prototype.datasetOverlay
         * @description è£åªå¯¹è±¡æ°æ®éã
         */
        this.datasetVectorClip = "";

        /**
         * @member {string} SuperMap.VectorClipJobsParameter.prototype.geometryClip
         * @description è£åªå ä½å¯¹è±¡ã
         */
        this.geometryClip = "";

        /**
         * @member {SuperMap.ClipAnalystMode} [SuperMap.VectorClipJobsParameter.prototype.mode=ClipAnalystMode.CLIP]
         * @description è£åªåææ¨¡å¼ ã
         */
        this.mode = ClipAnalystMode.CLIP;

        /**
         * @member {SuperMap.OutputSetting} SuperMap.VectorClipJobsParameter.prototype.output
         * @description è¾åºåæ°è®¾ç½®ç±»ã
         */
        this.output = null;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.VectorClipJobsParameter";
    }

    /**
     * @function SuperMap.VectorClipJobsParameter.prototype.destroy
     * @description éæ¾èµæºï¼å°å¼ç¨èµæºçå±æ§ç½®ç©ºã
     */
    destroy() {
        this.datasetName = null;
        this.datasetVectorClip = null;
        this.geometryClip = null;
        this.mode = null;
        if (this.output instanceof OutputSetting_OutputSetting) {
            this.output.destroy();
            this.output = null;
        }
    }

    /**
     * @function SuperMap.VectorClipJobsParameter.toObject
     * @param {Object} vectorClipJobsParameter - åºåæ±æ»åææå¡åæ°ã
     * @param {Object} tempObj - ç®æ å¯¹è±¡ã
     * @description ç¢éè£åªåæä»»å¡å¯¹è±¡ã
     */
    static toObject(vectorClipJobsParameter, tempObj) {
        for (var name in vectorClipJobsParameter) {
            if (name === "datasetName") {
                tempObj['input'] = tempObj['input'] || {};
                tempObj['input'][name] = vectorClipJobsParameter[name];
                continue;
            }
            if (name === "output"){
                tempObj['output'] = tempObj['output'] || {};
                tempObj['output'] = vectorClipJobsParameter[name];
                continue;
            }
            tempObj['analyst'] = tempObj['analyst'] || {};
            tempObj['analyst'][name] = vectorClipJobsParameter[name];
        }
    }

}

SuperMap.VectorClipJobsParameter = VectorClipJobsParameter_VectorClipJobsParameter;

// CONCATENATED MODULE: ./src/common/iServer/VectorClipJobsService.js




/**
 * @class SuperMap.VectorClipJobsService
 * @category  iServer ProcessingService VectorClip
 * @classdesc ç¢éè£åªåææå¡ç±»
 * @extends {SuperMap.ProcessingServiceBase}
 * @param {string} url -ç¢éè£åªåææå¡å°åã
 * @param {Object} options - äº¤äºæå¡æ¶æéå¯éåæ°ã
 */
class VectorClipJobsService_VectorClipJobsService extends ProcessingServiceBase_ProcessingServiceBase {

    constructor(url, options) {
        super(url, options);
        this.url += "/spatialanalyst/vectorclip";
        this.CLASS_NAME = "SuperMap.VectorClipJobsService";
    }

    /**
     *@override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.VectorClipJobsService.protitype.getVectorClipJobs
     * @description è·åç¢éè£åªåæææä»»å¡
     */
    getVectorClipJobs() {
        super.getJobs(this.url);
    }

    /**
     * @function SuperMap.KernelDensityJobsService.protitype.getVectorClipJob
     * @description è·åæå®idçç¢éè£åªåææå¡
     * @param {string} id - æå®è¦è·åæ°æ®çid
     */
    getVectorClipJob(id) {
        super.getJobs(this.url + '/' + id);
    }

    /**
     * @function SuperMap.VectorClipJobsService.protitype.addVectorClipJob
     * @description æ°å»ºç¢éè£åªåææå¡
     * @param {SuperMap.VectorClipJobsParameter} params - åå»ºä¸ä¸ªç©ºé´åæçè¯·æ±åæ°ã
     * @param {number} seconds - å¼å§åå»ºåï¼è·ååå»ºæåç»æçæ¶é´é´éã
     */
    addVectorClipJob(params, seconds) {
        super.addJob(this.url, params, VectorClipJobsParameter_VectorClipJobsParameter, seconds);
    }

}

SuperMap.VectorClipJobsService = VectorClipJobsService_VectorClipJobsService;
// CONCATENATED MODULE: ./src/common/iServer/index.js
























































































































































































































































































































































































































































// CONCATENATED MODULE: ./src/common/online/OnlineResources.js


/**
 * @enum ServiceStatus
 * @memberOf SuperMap
 * @category iPortal/Online
 * @description æå¡åå¸ç¶æã
 */
var ServiceStatus = SuperMap.ServiceStatus = {
    /** ä¸æ¶åï¼ä¸å¯åå¸ã */
    DOES_NOT_INVOLVE: "DOES_NOT_INVOLVE",
    /** åå¸å¤±è´¥ã */
    PUBLISH_FAILED: "PUBLISH_FAILED",
    /** å·²åå¸ã */
    PUBLISHED: "PUBLISHED",
    /** æ­£å¨åå¸ã */
    PUBLISHING: "PUBLISHING",
    /** æªåå¸ã */
    UNPUBLISHED: "UNPUBLISHED",
    /** åæ¶æå¡å¤±è´¥ã */
    UNPUBLISHED_FAILED: "UNPUBLISHED_FAILED"
};


/**
 * 
 * @enum DataItemType
 * @memberOf SuperMap
 * @category iPortal/Online
 * @description æ°æ®é¡¹ç±»åã
 */
var DataItemType = SuperMap.DataItemType = {
    /** AUDIO */
    AUDIO: "AUDIO",
    /** COLOR */
    COLOR: "COLOR",
    /** COLORSCHEME */
    COLORSCHEME: "COLORSCHEME",
    /** CSV */
    CSV: "CSV",
    /** EXCEL */
    EXCEL: "EXCEL",
    /** FILLSYMBOL */
    FILLSYMBOL: "FILLSYMBOL",
    /** IMAGE */
    IMAGE: "IMAGE",
    /** LAYERTEMPLATE */
    LAYERTEMPLATE: "LAYERTEMPLATE",
    /** LAYOUTTEMPLATE */
    LAYOUTTEMPLATE: "LAYOUTTEMPLATE",
    /** LINESYMBOL */
    LINESYMBOL: "LINESYMBOL",
    /** MAPTEMPLATE */
    MAPTEMPLATE: "MAPTEMPLATE",
    /** MARKERSYMBOL */
    MARKERSYMBOL: "MARKERSYMBOL",
    /** MBTILES */
    MBTILES: "MBTILES",
    /** PHOTOS */
    PHOTOS: "PHOTOS",
    /** SHP */
    SHP: "SHP",
    /** SMTILES */
    SMTILES: "SMTILES",
    /** SVTILES */
    SVTILES: "SVTILES",
    /** THEMETEMPLATE */
    THEMETEMPLATE: "THEMETEMPLATE",
    /** TPK */
    TPK: "TPK",
    /** UDB */
    UDB: "UDB",
    /** UGCV5 */
    UGCV5: "UGCV5",
    /** UNKNOWN */
    UNKNOWN: "UNKNOWN",
    /** VIDEO */
    VIDEO: "VIDEO",
    /** WORKENVIRONMENT */
    WORKENVIRONMENT: "WORKENVIRONMENT",
    /** WORKSPACE */
    WORKSPACE: "WORKSPACE"
};

/**
 * @enum DataItemOrderBy
 * @memberOf SuperMap
 * @category iPortal/Online
 * @description æ°æ®æåºå­æ®µã
 */
var DataItemOrderBy = SuperMap.DataItemOrderBy = {
    /** FILENAME */
    FILENAME: "FILENAME",
    /** ID */
    ID: "ID",
    /** LASTMODIFIEDTIME */
    LASTMODIFIEDTIME: "LASTMODIFIEDTIME",
    /** NICKNAME */
    NICKNAME: "NICKNAME",
    /** SERVICESTATUS */
    SERVICESTATUS: "SERVICESTATUS",
    /** SIZE */
    SIZE: "SIZE",
    /** STATUS */
    STATUS: "STATUS",
    /** TYPE */
    TYPE: "TYPE",
    /** UPDATETIME */
    UPDATETIME: "UPDATETIME",
    /** USERNAME */
    USERNAME: "USERNAME"
};


/**
 * @enum FilterField
 * @memberOf SuperMap
 * @category iPortal/Online
 * @description å³é®å­æ¥è¯¢æ¶çè¿æ»¤å­æ®µã
 */
var FilterField = SuperMap.FilterField = {
    /** LINKPAGE */
    LINKPAGE: "LINKPAGE",
    /** LINKPAGE */
    MAPTITLE: "MAPTITLE",
    /** LINKPAGE */
    NICKNAME: "NICKNAME",
    /** LINKPAGE */
    RESTITLE: "RESTITLE",
    /** LINKPAGE */
    USERNAME: "USERNAME"
};

// CONCATENATED MODULE: ./src/common/online/OnlineServiceBase.js


// import {SecurityManager} from '../security/SecurityManager';



/**
 * @class SuperMap.OnlineServiceBase
 * @classdesc Online æå¡åºç±»ï¼ä½¿ç¨ key ä½ä¸ºæééå¶çç±»éè¦å®ç°æ­¤ç±»ï¼ã
 * @category iPortal/Online
 * @param {Object} options - æå¡åæ°ã
 */
class OnlineServiceBase_OnlineServiceBase {

    constructor(options) {
        options = options || {};
        Util_Util.extend(this, options);
        this.serverType = ServerType.ONLINE;
        this.CLASS_NAME = "SuperMap.OnlineServiceBase";
    }

    /**
     * @function SuperMap.OnlineServiceBase.prototype.request
     * @description è¯·æ± online æå¡
     * @param {string} [method='GET'] - è¯·æ±æ¹å¼, 'GET', 'PUT', 'POST', 'DELETE'ã
     * @param {string} url - æå¡å°åã
     * @param {Object} param - URL æ¥è¯¢åæ°ã
     * @param {Object} [requestOptions] - http è¯·æ±åæ°, æ¯å¦è¯·æ±å¤´ï¼è¶æ¶æ¶é´ç­ã
     * @returns {Promise}  è¿ååå«è¯·æ±ç»æç Promise å¯¹è±¡ã
     */
    request(method, url, param, requestOptions) {
        url = this.createCredentialUrl(url);
        return FetchRequest.commit(method, url, param, requestOptions).then(function (response) {
            return response.json();
        });
    }

    /**
     * @function SuperMap.OnlineServiceBase.prototype.createCredentialUrl
     * @description è¿½å ææä¿¡æ¯ã
     * @param {string} url - å¯¹æ¥ç online æå¡å°åã
     */
    createCredentialUrl(url) {
        var newUrl = url,
            key = this.getCredential();
        if (key) {
            var paramStr = "key=" + key;
            var endStr = newUrl.substring(newUrl.length - 1, newUrl.length);
            if (newUrl.indexOf("?") > -1 && endStr === "?") {
                newUrl += paramStr;
            } else if (newUrl.indexOf("?") > -1 && endStr !== "?") {
                newUrl += "&" + paramStr;
            } else {
                newUrl += "?" + paramStr;
            }
        }
        return newUrl;
    }

    //å¶å­ç±»éè¦éåè¯¥æ¹æ³ï¼ä¿®æ¹å¶ä¸­è·åkeyçå­æ®µ
    //å­å¨keyå¯è½æ¯æå¡idå­æ®µï¼å¯è½æ¯urlï¼æèæ¯WebAPIç±»å
    getCredential() {
        //return SecurityManager.getKey(this.id);
        //æ
        //return SecurityManager.getKey(this.serviceUrl);
    }

}

SuperMap.OnlineServiceBase = OnlineServiceBase_OnlineServiceBase;

// CONCATENATED MODULE: ./src/common/online/OnlineData.js




/**
 * @class SuperMap.OnlineData
 * @classdesc Online myData æå¡ã
 * @category iPortal/Online
 * @param {string} serviceRootUrl - æå¡æ ¹å°åã
 * @param {Object} options - æå¡ç¸å³åæ°ã
 */
class OnlineData_OnlineData extends OnlineServiceBase_OnlineServiceBase {

    //TODO ç®åå¹¶æ²¡æå¯¹æ¥æå¡æ¯æçæææä½ï¼æ¥åéè¦è¡¥åå®æ´
    constructor(serviceRootUrl, options) {
        super(serviceRootUrl);
        options = options || {};
        //MD5
        this.MD5 = null;
        //æä»¶ç±»åã
        this.type = null;
        //æ°æ®ä¸ä¼ èåç§°ã
        this.userName = null;
        //æä»¶åç§°ã
        this.fileName = null;
        //æä»¶å¤§å°ï¼åä½ä¸º B ã
        this.size = null;
        //æå¡åå¸ç¶æã
        this.serviceStatus = null;
        //æå¡ id ã
        this.serviceId = null;
        //æ°æ®é¡¹ id ã
        this.id = null;
        //æåä¿®æ¹æ¶é´ã
        this.lastModfiedTime = null;
        //æä»¶ç¶æã
        this.status = null;
        //æ°æ®æä»¶å­å¨ id ã
        this.storageId = null;
        //æ°æ®çåå¸ä¿¡æ¯ã
        this.publishInfo = null;
        //æ°æ®çæéä¿¡æ¯ã
        this.authorizeSetting = null;
        //ç¨æ·çæµç§°ã
        this.nickname = null;
        //æ°æ®çæ ç­¾ã
        this.tags = [];
        //æ°æ®çæè¿°ä¿¡æ¯ã
        this.description = null;
        //æ°æ®åå¸çæå¡ä¿¡æ¯éåã
        this.dataItemServices = null;
        //æ°æ®åæ ç±»åã
        this.coordType = null;
        //æ°æ®å®¡æ ¸ä¿¡æ¯
        this.dataCheckResult = null;
        //æ°æ®åæ°æ®ä¿¡æ¯
        this.dataMetaInfo = null;
        //æ°æ®çç¼©ç¥å¾è·¯å¾ã
        this.thumbnail = null;

        Util_Util.extend(this, options);
        if (this.id) {
            this.serviceUrl = serviceRootUrl + "/" + this.id;
        }
        this.CLASS_NAME = "SuperMap.OnlineData";
    }

    /**
     * @function SuperMap.OnlineData.prototype.load
     * @description éè¿ URL è¯·æ±è·åè¯¥æå¡å®æ´ä¿¡æ¯ã
     * @returns {Promise} è¿åä¸åå«è¯·æ±ç»æç Promise å¯¹è±¡,è¯·æ±è¿åç»æèªå¨å¡«åå°è¯¥ç±»å±æ§ä¸­ã
     */
    load() {
        if (!this.serviceUrl) {
            return;
        }
        var me = this;
        return me.request("GET", this.serviceUrl).then(function (result) {
            Util_Util.extend(me, result);
        });
    }

    /**
     * @function SuperMap.OnlineData.prototype.getPublishedServices
     * @description è·åæ°æ®åå¸çæææå¡ã
     * @returns {Object} æ°æ®åå¸çæææå¡ã
     */
    getPublishedServices() {
        return this.dataItemServices;
    }

    /**
     * @function SuperMap.OnlineData.prototype.getAuthorizeSetting
     * @description è·åæ°æ®çæéä¿¡æ¯ã
     * @returns {Object} æéä¿¡æ¯ã
     */
    getAuthorizeSetting() {
        return this.authorizeSetting;
    }


}

SuperMap.OnlineData = OnlineData_OnlineData;

// CONCATENATED MODULE: ./src/common/online/Online.js





/**
 * @class SuperMap.Online
 * @classdesc å¯¹æ¥ SuperMap Online ææåºç¡æå¡ã
 * @category iPortal/Online
 * @example
 * var online=new SuperMap.Online();
 * var services = online.queryDatas(param);
 * service.then(function(services){
 *      var service= services[0];
 *      service.updateDataInfo();
 * })
 */
class Online_Online {

    //TODO ç®åå¹¶æ²¡æå¯¹æ¥Onlineçæææä½ï¼éè¦è¡¥åå®æ´
    //æææ¥è¯¢è¿åçæ¯ä¸ä¸ªPromise,å¨å¤é¨ä½¿ç¨çæ¶åéè¿Promiseçthenæ¹æ³è·åå¼æ­¥ç»æ
    constructor() {
        this.rootUrl = "http://www.supermapol.com";
        this.webUrl = this.rootUrl + "/web";

        var mContentUrl = this.webUrl + "/mycontent";
        this.mDatasUrl = mContentUrl + "/datas";

        this.CLASS_NAME = "SuperMap.Online";
    }

    /**
     * @function SuperMap.Online.prototype.load
     * @description å è½½ onlineï¼éªè¯ online æ¯å¦å¯ç¨ã
     * @returns {Promise} è¿ååå«ç½ç»è¯·æ±ç»æç Promise å¯¹è±¡ã
     */
    load() {
        return FetchRequest.get(this.rootUrl).then(function (response) {
            return response;
        });
    }

    /**
     * @function SuperMap.Online.prototype.login
     * @description ç»å½Online
     */
    login() {
        SecurityManager_SecurityManager.loginOnline(this.rootUrl, true);
    }

    /**
     * @function SuperMap.Online.prototype.queryDatas
     * @description æ¥è¯¢ Online âæçåå®¹â ä¸ âæçæ°æ®â æå¡ï¼éè¦ç»å½ç¶æè·åï¼ï¼å¹¶è¿åå¯æä½çæå¡å¯¹è±¡ã
     * @param {SuperMap.OnlineQueryDatasParameter} parameter - myDatas æå¡èµæºæ¥è¯¢åæ°ã
     * @returns {Promise} è¿ååå«æææ°æ®æå¡ä¿¡æ¯ç Promise å¯¹è±¡ã
     */
    queryDatas(parameter) {
        var me = this, url = me.mDatasUrl;
        if (parameter) {
            parameter = parameter.toJSON();
        }
        return FetchRequest.get(url, parameter).then(function (json) {
            if (!json || !json.content || json.content.length < 1) {
                return;
            }
            var services = [], contents = json.content, len = contents.length;
            for (var i = 0; i < len; i++) {
                var content = contents[i];
                var service = new OnlineData_OnlineData(me.mDatasUrl, content);
                services.push(service);
            }
            return services;
        });
    }
}

SuperMap.Online = Online_Online;
// CONCATENATED MODULE: ./src/common/online/OnlineQueryDatasParameter.js




/**
 * @class SuperMap.OnlineQueryDatasParameter
 * @classdesc myDatas æå¡èµæºæ¥è¯¢åæ°ã
 * @category iPortal/Online
 * @param {Object} options - æ¥è¯¢åæ°ã
 */
class OnlineQueryDatasParameter_OnlineQueryDatasParameter {
    constructor(options) {
        options = options || {};

        /**
         * @member {Array.<string>} SuperMap.OnlineQueryDatasParameter.prototype.userNames 
         * @description æ°æ®ä½èåãå¯ä»¥æ ¹æ®æ°æ®ä½èåæ¥è¯¢ï¼é»è®¤æ¥è¯¢å¨é¨ã
         */
        this.userNames = null;
        /**
         * @member {Array.<Object>} SuperMap.OnlineQueryDatasParameter.prototype.types
         * @description  æ°æ®ç±»åã
         */
        this.types = null;
        /**
         * @member {string} SuperMap.OnlineQueryDatasParameter.prototype.fileName  
         * @description  æä»¶åç§°ã
         */
        this.fileName = null;
        /**
         * @member {string} SuperMap.OnlineQueryDatasParameter.prototype.serviceStatuses 
         * @description  æå¡åå¸ç¶æã
         */
        this.serviceStatuses = null;
        /**
         * @member {string} SuperMap.OnlineQueryDatasParameter.prototype.serviceId  
         * @description  æå¡ IDã
         */
        this.serviceId = null;
        /**
         * @member {Array.<integer>} SuperMap.OnlineQueryDatasParameter.prototype.ids 
         * @description  ç±æ°æ®é¡¹ ID ç»æçæ´åæ°ç»ã
         */
        this.ids = null;
        /**
         * @member {Array.<string>} SuperMap.OnlineQueryDatasParameter.prototype.keywords 
         * @description å³é®å­ã
         */
        this.keywords = null;
        /**
         * @member {string} SuperMap.OnlineQueryDatasParameter.prototype.orderBy   
         * @description æåºå­æ®µã
         */
        this.orderBy = null;
        /**
         * @member {Array.<string>} SuperMap.OnlineQueryDatasParameter.prototype.tags  
         * @description æ°æ®çæ ç­¾ã
         */
        this.tags = null;
        /**
         * @member {Array.<string>} SuperMap.OnlineQueryDatasParameter.prototype.filterFields   
         * @description ç¨äºå³é®å­æ¥è¯¢æ¶çè¿æ»¤å­æ®µã
         */
        this.filterFields = null;

        Util_Util.extend(this, options)

        this.CLASS_NAME = "SuperMap.OnlineQueryDatasParameter";
    }


    /**
     * @function SuperMap.OnlineQueryDatasParameter.prototype.toJSON
     * @description è¿åå¯¹åºç JSON å¯¹è±¡ã
     * @returns {Object} å¯¹åºç JSON å¯¹è±¡ã
     */
    toJSON() {
        var me = this;
        var jsonObj = {
            "types": me.types,
            "fileName": me.fileName,
            "serviceStatuses": me.serviceStatuses,
            "serviceId": me.serviceId,
            "ids": me.ids,
            "keywords": me.keywords,
            "orderBy": me.orderBy,
            "tags": me.tags,
            "filterFields": me.filterFields
        };
        for (var key in jsonObj) {
            if (jsonObj[key] == null) {
                delete jsonObj[key]
            }
        }
        return jsonObj;
    }

}

SuperMap.OnlineQueryDatasParameter = OnlineQueryDatasParameter_OnlineQueryDatasParameter;
// CONCATENATED MODULE: ./src/common/online/index.js












// CONCATENATED MODULE: ./src/common/security/KeyServiceParameter.js




/**
 * @class SuperMap.KeyServiceParameter
 * @classdesc keyç³è¯·åæ°
 * @category Security
 * @param {Object} options - åæ°ã
 * @param {string} options.name - ç³è¯·æå¡åç§°ã
 * @param {number} options.serviceIds - æå¡ IDã
 * @param {SuperMap.ClientType} [options.clientType=SuperMap.ClientType.SERVER] - æå¡ç«¯ç±»åã
 * @param {number} options.limitation - æææ
 */
class KeyServiceParameter_KeyServiceParameter {

    constructor(options) {
        this.name = null;
        this.serviceIds = null;
        this.clientType = ClientType.SERVER;
        this.limitation = null;
        Util_Util.extend(this, options);
        this.CLASS_NAME = "SuperMap.KeyServiceParameter";
    }

    /**
     * @function SuperMap.KeyServiceParameter.prototype.toJSON
     * @description è½¬æ¢æ JSON å¯¹è±¡
     * @returns {Object} åæ°ç JSON å¯¹è±¡
     */
    toJSON() {
        return {
            name: this.name,
            serviceIds: this.serviceIds,
            clientType: this.clientType,
            limitation: this.limitation
        }
    }

}

SuperMap.KeyServiceParameter = KeyServiceParameter_KeyServiceParameter;

// CONCATENATED MODULE: ./src/common/security/ServerInfo.js




/**
 * @class SuperMap.ServerInfo
 * @classdesc æå¡å¨ä¿¡æ¯(å®å¨ç¸å³)ï¼åå«æå¡å¨ç±»åï¼æå¡å°åï¼tokenæå¡å°åç­
 * @category Security
 * @param {string} type - æå¡å¨ç±»å
 * @param {Object} options - æå¡å¨ä¿¡æ¯ç¸å³å¯éåæ°ã
 * @param {string} options.server - æå¡å¨å°å,å¦ï¼http://supermapiserver:8090/iserver
 * @param {string} [options.tokenServiceUrl] - å¦ï¼http://supermapiserver:8090/iserver/services/security/tokens.json
 * @param {string} [options.keyServiceUrl] - å¦ï¼http://supermapiserver:8092/web/mycontent/keys/register.json
 */
class ServerInfo_ServerInfo {
    constructor(type, options) {
        /**
         * @member {SuperMap.ServerType} SuperMap.ServerInfo.prototype.type
         * @description æå¡å¨ç±»å
         */
        this.type = type;

        /**
         * @member {string} SuperMap.ServerInfo.prototype.server
         * @description æå¡å¨å°å
         */
        this.server = null;

        /**
         * @member {string} [SuperMap.ServerInfo.prototype.tokenServiceUrl]
         * @description å¦ï¼http://supermapiserver:8090/iserver/services/security/tokens.json
         */
        this.tokenServiceUrl = null;

        /**
         * @member {string} [SuperMap.ServerInfo.prototype.keyServiceUrl]
         * @description å¦ï¼http://supermapiserver:8092/web/mycontent/keys/register.json
         */
        this.keyServiceUrl = null;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.ServerInfo";
        this.type = this.type || ServerType.ISERVER;
        if (!this.server) {
            console.error('server url require is not  undefined')
        }
        // var patten = /http:\/\/([^\/]+)/i;
        //this.server = this.server.match(patten)[0];

        var tokenServiceSuffix = "/services/security/tokens.json";
        if (this.type === ServerType.ISERVER && this.server.indexOf("iserver") < 0) {
            tokenServiceSuffix = "/iserver" + tokenServiceSuffix;
        }

        if (!this.tokenServiceUrl) {
            this.tokenServiceUrl = this.server + tokenServiceSuffix;
        }

        if (!this.keyServiceUrl) {
            if (this.type === ServerType.IPORTAL) {
                this.keyServiceUrl = this.server + "/web/mycontent/keys/register.json";
            } else if (this.type === ServerType.ONLINE) {
                this.keyServiceUrl = this.server + "/web/mycontent/keys.json";
            }
        }
    }

}

SuperMap.ServerInfo = ServerInfo_ServerInfo;

// CONCATENATED MODULE: ./src/common/security/TokenServiceParameter.js




/**
 * @class SuperMap.TokenServiceParameter
 * @classdesc token ç³è¯·åæ°ã
 * @category Security
 * @param {Object} options - token ç³è¯·åæ°ã
 * @param {string} options.username - ç¨æ·åã
 * @param {string} options.password - å¯ç ã
 * @param {SuperMap.ClientType} [options.clientType='SuperMap.ClientType.NONE'] - token ç³è¯·çå®¢æ·ç«¯æ è¯ç±»åã
 * @param {string} [options.ip] - clientType=IP æ¶ï¼å¿éã
 * @param {string} [options.referer] -clientType=Referer æ¶ï¼å¿éãå¦ææç§æå® URL çæ¹å¼ç³è¯·ä»¤çï¼åè®¾ç½®ç¸åºç URLã
 * @param {number} [options.expiration=60] - ç³è¯·ä»¤ççæææ,ä»åå¸ä»¤ççæ¶é´å¼å§è®¡ç®,åä½ä¸ºåéã
 *
 *
 */
class TokenServiceParameter_TokenServiceParameter {
    constructor(options) {
        /**
         * @member {string} SuperMap.TokenServiceParameter.prototype.userName
         * @description ç¨æ·åã
         */
        this.userName = null;

        /**
         * @member {string} SuperMap.TokenServiceParameter.prototype.password
         * @description å¯ç ã
         */
        this.password = null;

        /**
         * @member {SuperMap.ClientType} SuperMap.TokenServiceParameter.prototype.clientType
         * @description token ç³è¯·çå®¢æ·ç«¯æ è¯ç±»åã
         */
        this.clientType = ClientType.NONE;

        /**
         * @member {string} [SuperMap.TokenServiceParameter.prototype.ip]
         * @description clientType=IP æ¶ï¼å¿éã
         */

        this.ip = null;
        /**
         * @member {string} [SuperMap.TokenServiceParameter.prototype.referer]
         * @description clientType=Referer æ¶ï¼å¿éãå¦ææç§æå® URL çæ¹å¼ç³è¯·ä»¤çï¼åè®¾ç½®ç¸åºç URLã
         */
        this.referer = null;

        /**
         * @member {number} SuperMap.TokenServiceParameter.prototype.expiration
         * @description ç³è¯·ä»¤ççæææï¼ä»åå¸ä»¤ççæ¶é´å¼å§è®¡ç®ï¼åä½ä¸ºåéã
         */
        this.expiration = 60;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.TokenServiceParameter";
    }

    /**
     * @function SuperMap.TokenServiceParameter.prototype.toJSON
     * @description å°ææä¿¡æ¯è½¬æ JSON å­ç¬¦ä¸²
     * @return {string} åæ°ç JSON å­ç¬¦ä¸²
     */
    toJSON() {
        return {
            userName: this.userName,
            password: this.password,
            clientType: this.clientType,
            ip: this.ip,
            referer: this.referer,
            expiration: this.expiration
        }
    }

}

SuperMap.TokenServiceParameter = TokenServiceParameter_TokenServiceParameter;

// CONCATENATED MODULE: ./src/common/security/index.js









// EXTERNAL MODULE: external "function(){try{return elasticsearch}catch(e){return {}}}()"
var external_function_try_return_elasticsearch_catch_e_return_ = __webpack_require__(11);
var external_function_try_return_elasticsearch_catch_e_return_default = /*#__PURE__*/__webpack_require__.n(external_function_try_return_elasticsearch_catch_e_return_);

// CONCATENATED MODULE: ./src/common/thirdparty/elasticsearch/ElasticSearch.js





/**
 * @class SuperMap.ElasticSearch
 * @classdesc ElasticSearchæå¡ç±»ã
 * @category ElasticSearch
 * @param {string} url - ElasticSearchæå¡å°åã
 * @param {Object} options - åæ°ã
 * @param {function} [options.change] - æå¡å¨è¿åæ°æ®åæ§è¡çå½æ°ãåºå¼,ä¸å»ºè®®ä½¿ç¨ãä½¿ç¨searchæmsearchæ¹æ³ã
 * @param {boolean} [options.openGeoFence=false] - æ¯å¦å¼å¯å°çå´æ éªè¯ï¼é»è®¤ä¸ºä¸å¼å¯ã
 * @param {function} [options.outOfGeoFence] - æ°æ®è¶åºå°çå´æ åæ§è¡çå½æ°ã
 * @param {Object} [options.geoFence] - å°çå´æ ã
 */

class ElasticSearch_ElasticSearch {

    constructor(url, options) {
        options = options || {};
        /**
         *  @member {string} SuperMap.ElasticSearch.prototype.url 
         *  @description ElasticSearchæå¡å°å
         */
        this.url = url;
        /**
         *  @member {Object} SuperMap.ElasticSearch.prototype.client
         *  @description client ESå®¢æ·ç«¯
         */
        this.client = new external_function_try_return_elasticsearch_catch_e_return_default.a.Client({
            host: this.url
        });
        /**
         *  @deprecated
         *  @member {function} [SuperMap.ElasticSearch.prototype.change]
         *  @description æå¡å¨è¿åæ°æ®åæ§è¡çå½æ°ãåºå¼,ä¸å»ºè®®ä½¿ç¨ãä½¿ç¨searchæmsearchæ¹æ³ã
         */
        this.change = null;
        /**
         *  @member {boolean} [SuperMap.ElasticSearch.prototype.openGeoFence=false]
         *  @description æ¯å¦å¼å¯å°çå´æ éªè¯ï¼é»è®¤ä¸ºä¸å¼å¯ã
         */
        this.openGeoFence = false;
        /**
         *  @member {function} [SuperMap.ElasticSearch.prototype.outOfGeoFence]
         *  @description æ°æ®è¶åºå°çå´æ åæ§è¡çå½æ°
         */
        this.outOfGeoFence = null;

        /**
         * @member {Object} [SuperMap.ElasticSearch.prototype.geoFence]
         * @description å°çå´æ 
         * @example {
     *    radius: 1000,//åä½æ¯m
     *    center: [104.40, 30.43],
     *    unit: 'meter|degree'
     *  }
         */
        this.geoFence = null;

        /*
         * Constant: EVENT_TYPES
         * {Array.<String>}
         * æ­¤ç±»æ¯æçäºä»¶ç±»åã
         *
         */
        this.EVENT_TYPES = ['change', 'error', 'outOfGeoFence'];

        /**
         * @member {SuperMap.Events} SuperMap.ElasticSearch.prototype.events
         * @description äºä»¶
         */
        this.events = new Events_Events(this, null, this.EVENT_TYPES);

        /**
         * @member {Object} SuperMap.ElasticSearch.prototype.eventListeners
         * @description å¬å¨å¯¹è±¡ï¼å¨æé å½æ°ä¸­è®¾ç½®æ­¤åæ°ï¼å¯éï¼ï¼å¯¹ MapService æ¯æçä¸¤ä¸ªäºä»¶ processCompleted ãprocessFailed è¿è¡çå¬ï¼
         * ç¸å½äºè°ç¨ SuperMap.Events.on(eventListeners)ã
         */
        this.eventListeners = null;
        Util_Util.extend(this, options);
        if (this.eventListeners instanceof Object) {
            this.events.on(this.eventListeners);
        }
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.setGeoFence
     * @description è®¾ç½®å°çå´æ ï¼openGeoFenceåæ°ä¸ºtrueçæ¶åï¼è®¾ç½®çå°çå´æ æçæã
     * @param {SuperMap.Geometry} geoFence - å°çå´æ ã
     */

    setGeoFence(geoFence) {
        this.geoFence = geoFence;
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.bulk
     * @description æ¹éæä½APIï¼åè®¸æ§è¡å¤ä¸ªç´¢å¼/å é¤æä½ã
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-bulk}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    bulk(params, callback) {
        return this.client.bulk(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.clearScroll
     * @description éè¿æå®scrollåæ°è¿è¡æ¥è¯¢æ¥æ¸é¤å·²ç»åå»ºçscrollè¯·æ±ã
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-clearscroll}</br>
     *æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-scroll.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    clearScroll(params, callback) {
        return this.client.clearScroll(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.count
     * @description è·åéç¾¤ãç´¢å¼ãç±»åææ¥è¯¢çææ¡£ä¸ªæ°ã
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-count}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/search-count.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    count(params, callback) {
        return this.client.count(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.count
     * @description å¨ç¹å®ç´¢å¼ä¸­æ·»å ä¸ä¸ªç±»ååçJSONææ¡£ï¼ä½¿å¶å¯æç´¢ãå¦æå·æç¸åindexï¼typeä¸idå·²ç»å­å¨çææ¡£å°åçéè¯¯ã</br>
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-create}
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html}
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    create(params, callback) {
        return this.client.create(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.delete
     * @description æ ¹æ®å¶IDä»ç¹å®ç´¢å¼ä¸­å é¤é®å¥çJSONææ¡£ã
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-delete}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-delete.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    delete(params, callback) {
        return this.client.delete(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.delete
     * @description æ ¹æ®å¶IDä»ç¹å®ç´¢å¼ä¸­å é¤é®å¥çJSONææ¡£ã
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-deletebyquery}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-delete-by-query.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    deleteByQuery(params, callback) {
        return this.client.deleteByQuery(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.delete
     * @description æ ¹æ®å¶IDå é¤èæ¬ã</br>
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-deletescript}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-scripting.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    deleteScript(params, callback) {
        return this.client.deleteScript(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.deleteTemplate
     * @description æ ¹æ®å¶IDå é¤æ¨¡æ¿ã</br>
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-deletetemplate}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/search-template.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    deleteTemplate(params, callback) {
        return this.client.deleteTemplate(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.exists
     * @description æ£æ¥ç»å®ææ¡£æ¯å¦å­å¨ã</br>
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-exists}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-get.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    exists(params, callback) {
        return this.client.exists(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.existsSource
     * @description æ£æ¥èµæºæ¯å¦å­å¨ã</br>
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-existssource}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-get.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */

    existsSource(params, callback) {
        return this.client.existsSource(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.explain
     * @description æä¾ä¸ç¹å®æ¥è¯¢ç¸å³çç¹å®ææ¡£åæ°çè¯¦ç»ä¿¡æ¯ãå®è¿ä¼åè¯æ¨ææ¡£æ¯å¦ä¸æå®çæ¥è¯¢å¹éã</br>
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-explain}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/search-explain.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    explain(params, callback) {
        return this.client.explain(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.fieldCaps
     * @description åè®¸æ£ç´¢å¤ä¸ªç´¢å¼ä¹é´çå­æ®µçåè½ã(å®éªæ§APIï¼å¯è½ä¼å¨æªæ¥çæ¬ä¸­å é¤)</br>
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-fieldcaps}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/search-field-caps.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    fieldCaps(params, callback) {
        return this.client.fieldCaps(params, callback);
    }


    /**
     * @function  SuperMap.ElasticSearch.prototype.get
     * @description ä»ç´¢å¼è·åä¸ä¸ªåºäºå¶idçç±»åçJSONææ¡£ã</br>
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-get}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-get.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    get(params, callback) {
        return this.client.get(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.getScript
     * @description è·åèæ¬ã</br>
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-getscript}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-scripting.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    getScript(params, callback) {
        return this.client.getScript(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.getSource
     * @description éè¿ç´¢å¼ï¼ç±»ååIDè·åææ¡£çæºã</br>
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-getsource}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-get.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    getSource(params, callback) {
        return this.client.getSource(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.getTemplate
     * @description è·åæ¨¡æ¿ã</br>
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-gettemplate}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/search-template.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    getTemplate(params, callback) {
        return this.client.getTemplate(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.index
     * @description å¨ç´¢å¼ä¸­å­å¨ä¸ä¸ªé®å¥çJSONææ¡£ï¼ä½¿å¶å¯æç´¢ã</br>
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-index}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    index(params, callback) {
        return this.client.index(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.info
     * @description ä»å½åéç¾¤è·ååºæ¬ä¿¡æ¯ã</br>
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-info}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/index.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    info(params, callback) {
        return this.client.info(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.mget
     * @description æ ¹æ®ç´¢å¼ï¼ç±»åï¼å¯éï¼åidsæ¥è·åå¤ä¸ªææ¡£ãmgetæéçä¸»ä½å¯ä»¥éç¨ä¸¤ç§å½¢å¼ï¼ææ¡£ä½ç½®æ°ç»æææ¡£IDæ°ç»ã</br>
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-mget}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-multi-get.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    mget(params, callback) {
        return this.client.mget(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.msearch
     * @description å¨åä¸è¯·æ±ä¸­æ§è¡å¤ä¸ªæç´¢è¯·æ±ã</br>
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-msearch}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/search-multi-search.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - è¯·æ±è¿åçåè°å½æ°ãä¹å¯ä»¥ä½¿ç¨thenè¡¨è¾¾å¼è·åè¿åç»æã
     *     åè°åæ°ï¼error,responseãç»æå­å¨å¨response.responsesä¸­
     */
    msearch(params, callback) {
        let me = this;

        return me.client.msearch(params)
            .then(function (resp) {
                me._update(resp.responses, callback);
                return resp;
            }, function (err) {
                callback(err);
                me.events.triggerEvent('error', {error: err});
                return err;
            });
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.msearchTemplate
     * @description å¨åä¸è¯·æ±ä¸­æ§è¡å¤ä¸ªæç´¢æ¨¡æ¿è¯·æ±ã</br>
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-msearchtemplate}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/search-template.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    msearchTemplate(params, callback) {
        return this.client.msearchTemplate(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.mtermvectors
     * @description å¤termvectors APIåè®¸ä¸æ¬¡è·å¾å¤ä¸ªtermvectorsã</br>
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-mtermvectors}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-multi-termvectors.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    mtermvectors(params, callback) {
        return this.client.mtermvectors(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.ping
     * @description æµè¯è¿æ¥ã</br>
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-ping}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/index.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    ping(params, callback) {
        return this.client.ping(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.putScript
     * @description æ·»å èæ¬ã</br>
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-putscript}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-scripting.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    putScript(params, callback) {
        return this.client.putScript(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.putTemplate
     * @description æ·»å æ¨¡æ¿ã</br>
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-puttemplate}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/search-template.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    putTemplate(params, callback) {
        return this.client.putTemplate(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.reindex
     * @description éæ°ç´¢å¼ã</br>
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-reindex}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-reindex.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    reindex(params, callback) {
        return this.client.reindex(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.reindexRessrottle
     * @description éæ°ç´¢å¼ã</br>
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-reindexrethrottle}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-reindex.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    reindexRessrottle(params, callback) {
        return this.client.reindexRessrottle(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.renderSearchTemplate
     * @description æç´¢æ¨¡æ¿ã</br>
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-rendersearchtemplate}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/search-template.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    renderSearchTemplate(params, callback) {
        return this.client.renderSearchTemplate(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.scroll
     * @description  å¨search()è°ç¨ä¸­æå®æ»å¨åæ°ä¹åï¼æ»å¨æç´¢è¯·æ±ï¼æ£ç´¢ä¸ä¸ç»ç»æï¼ã</br>
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-scroll}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-scroll.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    scroll(params, callback) {
        return this.client.scroll(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.search
     * @description  å¨search()è°ç¨ä¸­æå®æ»å¨åæ°ä¹åï¼æ»å¨æç´¢è¯·æ±ï¼æ£ç´¢ä¸ä¸ç»ç»æï¼ã
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-search}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/search-search.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - è¯·æ±è¿åçåè°å½æ°ãä¹å¯ä»¥ä½¿ç¨thenè¡¨è¾¾å¼è·åè¿åç»æã
     *     åè°åæ°ï¼error,response,ç»æå­å¨å¨response.responsesä¸­
     */
    search(params, callback) {
        let me = this;
        return me.client.search(params)
            .then(function (resp) {
                me._update(resp.responses, callback);
                return resp;
            }, function (err) {
                callback(err);
                me.events.triggerEvent('error', {error: err});
                return err;
            });
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.searchShards
     * @description  è¿åè¦æ§è¡æç´¢è¯·æ±çç´¢å¼ååçã
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-searchshards}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/search-shards.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    searchShards(params, callback) {
        return this.client.searchShards(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.searchTemplate
     * @description  æç´¢æ¨¡æ¿ã
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-searchtemplate}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/search-suggesters.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    searchTemplate(params, callback) {
        return this.client.searchTemplate(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.suggest
     * @description è¯¥å»ºè®®åè½éè¿ä½¿ç¨ç¹å®çå»ºè®®èï¼åºäºææä¾çææ¬æ¥å»ºè®®ç±»ä¼¼çæ¯è¯­ã
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-suggest}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/search-suggesters.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    suggest(params, callback) {
        return this.client.suggest(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.termvectors
     * @description è¿åæå³ç¹å®ææ¡£å­æ®µä¸­çæ¯è¯­çä¿¡æ¯åç»è®¡ä¿¡æ¯ã
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-termvectors}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-termvectors.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    termvectors(params, callback) {
        return this.client.termvectors(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.update
     * @description æ´æ°ææ¡£çé¨åã
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-update}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-update.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    update(params, callback) {
        return this.client.update(params, callback);
    }

    /**
     * @function  SuperMap.ElasticSearch.prototype.update
     * @description éè¿æ¥è¯¢APIæ¥æ´æ°ææ¡£ã
     * åæ°è®¾ç½®åè {@link https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-updatebyquery}</br>
     * æ´å¤ä¿¡æ¯åè {@link https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-update-by-query.html}</br>
     * @param {Object} params - åæ°ã
     * @param {function} callback - åè°å½æ°ã
     */
    updateByQuery(params, callback) {
        return this.client.updateByQuery(params, callback);
    }

    _update(data, callback) {
        let me = this;
        if (!data) {
            return;
        }
        me.data = data;
        if (me.openGeoFence && me.geoFence) {
            me._validateDatas(data);
        }
        me.events.triggerEvent('change', {data: me.data});
        //changeæ¹æ³å·²åºå¼ï¼ä¸å»ºè®®ä½¿ç¨ãå»ºè®®ä½¿ç¨searchæ¹æ³çç¬¬äºä¸ªåæ°ä¼ å¥è¯·æ±æåçåè°
        if (me.change) {
            me.change && me.change(data);
        } else {
            //å responsesæ¯ä¸ºäºä¿æè·åæ¥esèªèº«çæ°æ®ç»æä¸è´
            callback && callback(undefined, {responses: data});
        }
    }

    _validateDatas(datas) {
        if (!datas) {
            return;
        }
        if (!(datas instanceof Array)) {
            datas = [datas];
        }
        var i, len = datas.length;
        for (i = 0; i < len; i++) {
            this._validateData(datas[i]);
        }
    }

    _validateData(data) {
        let me = this;
        data.hits.hits.map(function (source) {
            let content = source._source;
            let meterUnit = me._getMeterPerMapUnit(me.geoFence.unit);
            let geoFenceCX = me.geoFence.center[0] * meterUnit;
            let geoFenceCY = me.geoFence.center[1] * meterUnit;
            let contentX = content.x * meterUnit;
            let contentY = content.y * meterUnit;
            let distance = me._distance(contentX, contentY, geoFenceCX, geoFenceCY);
            let radius = me.geoFence.radius;
            if (distance > radius) {
                me.outOfGeoFence && me.outOfGeoFence(data);
                me.events.triggerEvent('outOfGeoFence', {data: data});
            }
            return source;
        });
    }

    _distance(x1, y1, x2, y2) {
        return Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));
    }

    _getMeterPerMapUnit(mapUnit) {
        let earchRadiusInMeters = 6378137;
        let meterPerMapUnit;
        if (mapUnit === 'meter') {
            meterPerMapUnit = 1;
        } else if (mapUnit === 'degree') {
            // æ¯åº¦è¡¨ç¤ºå¤å°ç±³ã
            meterPerMapUnit = Math.PI * 2 * earchRadiusInMeters / 360;
        }
        return meterPerMapUnit;
    }

}

SuperMap.ElasticSearch = ElasticSearch_ElasticSearch;

// CONCATENATED MODULE: ./src/common/thirdparty/elasticsearch/index.js



// CONCATENATED MODULE: ./src/common/thirdparty/index.js




// CONCATENATED MODULE: ./src/common/util/index.js



// EXTERNAL MODULE: ./node_modules/lodash.topairs/index.js
var lodash_topairs = __webpack_require__(10);
var lodash_topairs_default = /*#__PURE__*/__webpack_require__.n(lodash_topairs);

// CONCATENATED MODULE: ./src/common/style/CartoCSS.js



/**
 * @class SuperMap.CartoCSS
 * @classdesc CartoCSS è§£æç±»ï¼å¶ä¸»è¦åè½ä¸ºå° CartoCSS å­ç¬¦ä¸²è§£æä¸º CartoCSS ç shader å±æ§é£æ ¼å¯¹è±¡ã
 * @category BaseTypes Style
 * @param {string} cartoStr -  CartoCSS æ ·å¼è¡¨å­ç¬¦ä¸²
 * @example
 * var cartocss = "@provinceLineColor:#ddd;
 *                 #China_Provinces_L___China400{
 *                      line-dasharray:10,10;
 *                      line-color:@provinceLineColor;
 *                      line-width:1;
 *                 }";
 * new SuperMap.CartoCSS(cartocss);
 */
/*eslint no-useless-escape: "off"*/
class CartoCSS_CartoCSS {

    constructor(cartoStr) {
        this.env = null;

        /**
         * @member SuperMap.CartoCSS.prototype.parser
         * @description è§£æå¨
         */
        this.parser = null;

        /**
         * @member SuperMap.CartoCSS.prototype.ruleSet
         * @description CartoCSS è§åå¯¹è±¡
         */
        this.ruleSet = null;

        /**
         * @member SuperMap.CartoCSS.prototype.cartoStr
         * @description CartoCSS æ ·å¼è¡¨å­ç¬¦ä¸²
         */
        this.cartoStr = "";

        /**
         * @member SuperMap.CartoCSS.prototype.shaders
         * @description Carto çè²å¨é
         */
        this.shaders = null;

        if (typeof cartoStr === "string") {
            this.cartoStr = cartoStr;
            this.env = {
                frames: [],
                errors: [],
                error: function (obj) {
                    this.errors.push(obj);
                }
            };
            this.parser = this.getParser(this.env);
            this.parse(cartoStr);
            this.shaders = this.toShaders();
        }
    }

    /**
     * @function SuperMap.CartoCSS.prototype.getParser
     * @description è·å CartoCSS è§£æå¨
     */
    getParser(env) {
        var input,       // LeSS input string
            i,           // current index in `input`
            j,           // current chunk
            temp,        // temporarily holds a chunk's state, for backtracking
            memo,        // temporarily holds `i`, when backtracking
            furthest,    // furthest index the parser has gone to
            chunks,      // chunkified input
            current,     // index of current chunk, in `input`
            parser;

        var that = this;

        // This function is called after all files
        // have been imported through `@import`.
        var finish = function () {//NOSONAR
            //æææä»¶å¯¼å¥å®æä¹åè°ç¨
        };

        function save() {
            temp = chunks[j];
            memo = i;
            current = i;
        }

        function restore() {
            chunks[j] = temp;
            i = memo;
            current = i;
        }

        function sync() {
            if (i > current) {
                chunks[j] = chunks[j].slice(i - current);
                current = i;
            }
        }

        //
        // Parse from a token, regexp or string, and move forward if match
        //
        function $(tok) {
            var match, length, c, endIndex;

            // Non-terminal
            if (tok instanceof Function) {
                return tok.call(parser.parsers);
                // Terminal
                // Either match a single character in the input,
                // or match a regexp in the current chunk (chunk[j]).
            } else if (typeof(tok) === 'string') {
                match = input.charAt(i) === tok ? tok : null;
                length = 1;
                sync();
            } else {
                sync();

                match = tok.exec(chunks[j]);
                if (match) {
                    length = match[0].length;
                } else {
                    return null;
                }
            }

            // The match is confirmed, add the match length to `i`,
            // and consume any extra white-space characters (' ' || '\n')
            // which come after that. The reason for this is that LeSS's
            // grammar is mostly white-space insensitive.
            if (match) {
                var mem = i += length;
                endIndex = i + chunks[j].length - length;

                while (i < endIndex) {
                    c = input.charCodeAt(i);
                    if (!(c === 32 || c === 10 || c === 9)) {
                        break;
                    }
                    i++;
                }
                chunks[j] = chunks[j].slice(length + (i - mem));
                current = i;

                if (chunks[j].length === 0 && j < chunks.length - 1) {
                    j++;
                }

                if (typeof(match) === 'string') {
                    return match;
                } else {
                    return match.length === 1 ? match[0] : match;
                }
            }
        }

        // Same as $(), but don't change the state of the parser,
        // just return the match.
        function peek(tok) {
            if (typeof(tok) === 'string') {
                return input.charAt(i) === tok;
            } else {
                return !!tok.test(chunks[j]);
            }
        }

        // Make an error object from a passed set of properties.
        // Accepted properties:
        // - `message`: Text of the error message.
        // - `filename`: Filename where the error occurred.
        // - `index`: Char. index where the error occurred.
        function makeError(err) {
            var einput;

            var defautls = {
                index: furthest,
                filename: env.filename,
                message: 'Parse error.',
                line: 0,
                column: -1
            };
            if (defautls) {
                for (var prop in defautls) {
                    if (err[prop] === 0) {err[prop] = defautls[prop];}
                }
            }

            if (err.filename && that.env.inputs && that.env.inputs[err.filename]) {
                einput = that.env.inputs[err.filename];
            } else {
                einput = input;
            }

            err.line = (einput.slice(0, err.index).match(/\n/g) || '').length + 1;
            for (var n = err.index; n >= 0 && einput.charAt(n) !== '\n'; n--) {
                err.column++;
            }
            return new Error([err.filename, err.line, err.column, err.message].join(";"));
        }

        this.env = env = env || {};
        this.env.filename = this.env.filename || null;
        this.env.inputs = this.env.inputs || {};

        // The Parser
        parser = {

            // Parse an input string into an abstract syntax tree.
            // Throws an error on parse errors.
            parse: function (str) {
                var root, error = null;

                i = j = current = furthest = 0;
                chunks = [];
                input = str.replace(/\r\n/g, '\n');
                if (env.filename) {
                    that.env.inputs[env.filename] = input;
                }

                // Split the input into chunks.
                chunks = (function (chunks) {
                    var j = 0,
                        skip = /(?:@\{[\w-]+\}|[^"'`\{\}\/\(\)\\])+/g,
                        comment = /\/\*(?:[^*]|\*+[^\/*])*\*+\/|\/\/.*/g,
                        string = /"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'|`((?:[^`]|\\.)*)`/g,
                        level = 0,
                        match,
                        chunk = chunks[0],
                        inParam;

                    for (var i = 0, c, cc; i < input.length;) {
                        skip.lastIndex = i;
                        if (match = skip.exec(input)) {
                            if (match.index === i) {
                                i += match[0].length;
                                chunk.push(match[0]);
                            }
                        }
                        c = input.charAt(i);
                        comment.lastIndex = string.lastIndex = i;

                        if (match = string.exec(input)) {
                            if (match.index === i) {
                                i += match[0].length;
                                chunk.push(match[0]);
                                continue;
                            }
                        }

                        if (!inParam && c === '/') {
                            cc = input.charAt(i + 1);
                            if (cc === '/' || cc === '*') {
                                if (match = comment.exec(input)) {
                                    if (match.index === i) {
                                        i += match[0].length;
                                        chunk.push(match[0]);
                                        continue;
                                    }
                                }
                            }
                        }

                        switch (c) {
                            case '{'://NOSONAR
                                if (!inParam) {
                                    level++;
                                    chunk.push(c);
                                    break;
                                }
                            case '}'://NOSONAR
                                if (!inParam) {
                                    level--;
                                    chunk.push(c);
                                    chunks[++j] = chunk = [];
                                    break;
                                }
                            case '('://NOSONAR
                                if (!inParam) {
                                    inParam = true;
                                    chunk.push(c);
                                    break;
                                }
                            case ')'://NOSONAR
                                if (inParam) {
                                    inParam = false;
                                    chunk.push(c);
                                    break;
                                }
                            default:
                                chunk.push(c);
                                break;
                        }

                        i++;
                    }
                    if (level !== 0) {
                        error = {
                            index: i - 1,
                            type: 'Parse',
                            message: (level > 0) ? "missing closing `}`" : "missing opening `{`"
                        };
                    }

                    return chunks.map(function (c) {
                        return c.join('');
                    });
                })([[]]);

                if (error) {
                    throw makeError(error);
                }

                // Sort rules by specificity: this function expects selectors to be
                // split already.
                //
                // Written to be used as a .sort(Function);
                // argument.
                //
                // [1, 0, 0, 467] > [0, 0, 1, 520]
                var specificitySort = function (a, b) {
                    var as = a.specificity;
                    var bs = b.specificity;

                    if (as[0] != bs[0]) {return bs[0] - as[0];}
                    if (as[1] != bs[1]) {return bs[1] - as[1];}
                    if (as[2] != bs[2]) {return bs[2] - as[2];}
                    return bs[3] - as[3];
                };

                // Start with the primary rule.
                // The whole syntax tree is held under a Ruleset node,
                // with the `root` property set to true, so no `{}` are
                // output.
                root = new SuperMap.CartoCSS.Tree.Ruleset([], $(this.parsers.primary));
                root.root = true;

                // Get an array of Ruleset objects, flattened
                // and sorted according to specificitySort
                root.toList = (function () {
                    return function (env) {
                        env.error = function (e) {
                            if (!env.errors) {env.errors = new Error('');}
                            if (env.errors.message) {
                                env.errors.message += '\n' + makeError(e).message;
                            } else {
                                env.errors.message = makeError(e).message;
                            }
                        };
                        env.frames = env.frames || [];


                        // call populates Invalid-caused errors
                        var definitions = this.flatten([], [], env);
                        definitions.sort(specificitySort);
                        return definitions;
                    };
                })();

                return root;
            },

            // Here in, the parsing rules/functions
            //
            // The basic structure of the syntax tree generated is as follows:
            //
            //   Ruleset ->  Rule -> Value -> Expression -> Entity
            //
            //  In general, most rules will try to parse a token with the `$()` function, and if the return
            //  value is truly, will return a new node, of the relevant type. Sometimes, we need to check
            //  first, before parsing, that's when we use `peek()`.
            parsers: {
                // The `primary` rule is the *entry* and *exit* point of the parser.
                // The rules here can appear at any level of the parse tree.
                //
                // The recursive nature of the grammar is an interplay between the `block`
                // rule, which represents `{ ... }`, the `ruleset` rule, and this `primary` rule,
                // as represented by this simplified grammar:
                //
                //     primary  â  (ruleset | rule)+
                //     ruleset  â  selector+ block
                //     block    â  '{' primary '}'
                //
                // Only at one point is the primary rule not called from the
                // block rule: at the root level.
                primary: function () {
                    var node, root = [];

                    while ((node = $(this.rule) || $(this.ruleset) ||
                        $(this.comment)) ||
                    $(/^[\s\n]+/) || (node = $(this.invalid))) {
                        if (node) {root.push(node);}
                    }
                    return root;
                },

                invalid: function () {
                    var chunk = $(/^[^;\n]*[;\n]/);

                    // To fail gracefully, match everything until a semicolon or linebreak.
                    if (chunk) {
                        return new SuperMap.CartoCSS.Tree.Invalid(chunk, memo);
                    }
                },

                // We create a Comment node for CSS comments `/* */`,
                // but keep the LeSS comments `//` silent, by just skipping
                // over them.
                comment: function () {
                    var comment;

                    if (input.charAt(i) !== '/') {return;}

                    if (input.charAt(i + 1) === '/') {
                        return new SuperMap.CartoCSS.Tree.Comment($(/^\/\/.*/), true);
                    } else if (comment = $(/^\/\*(?:[^*]|\*+[^\/*])*\*+\/\n?/)) {
                        return new SuperMap.CartoCSS.Tree.Comment(comment);
                    }
                },

                // Entities are tokens which can be found inside an Expression
                entities: {

                    // A string, which supports escaping " and ' "milky way" 'he\'s the one!'
                    quoted: function () {
                        if (input.charAt(i) !== '"' && input.charAt(i) !== "'") {return;}
                        var str = $(/^"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'/);
                        if (str) {
                            return new SuperMap.CartoCSS.Tree.Quoted(str[1] || str[2]);
                        }
                    },

                    // A reference to a Mapnik field, like [NAME]
                    // Behind the scenes, this has the same representation, but Carto
                    // needs to be careful to warn when unsupported operations are used.
                    field: function () {
                        var l = '[', r = ']';
                        if (!$(l)) {return;}
                        var field_name = $(/(^[^\]]+)/);
                        if (!$(r)) {return;}
                        if (field_name) {return new SuperMap.CartoCSS.Tree.Field(field_name[1]);}
                    },

                    // This is a comparison operator
                    comparison: function () {
                        var str = $(/^=~|=|!=|<=|>=|<|>/);
                        if (str) {
                            return str;
                        }
                    },

                    // A catch-all word, such as: hard-light
                    // These can start with either a letter or a dash (-),
                    // and then contain numbers, underscores, and letters.
                    keyword: function () {
                        var k = $(/^[A-Za-z\u4e00-\u9fa5-]+[A-Za-z-0-9\u4e00-\u9fa5_]*/);
                        if (k) {
                            return new SuperMap.CartoCSS.Tree.Keyword(k);
                        }
                    },

                    // A function call like rgb(255, 0, 255)
                    // The arguments are parsed with the `entities.arguments` parser.
                    call: function () {
                        var name, args;

                        if (!(name = /^([\w\-]+|%)\(/.exec(chunks[j]))) {return;}

                        name = name[1];

                        if (name === 'url') {
                            // url() is handled by the url parser instead
                            return null;
                        } else {
                            i += name.length;
                        }

                        var l = '(', r = ')';
                        $(l); // Parse the '(' and consume whitespace.

                        args = $(this.entities['arguments']);

                        if (!$(r)) {return;}

                        if (name) {
                            return new SuperMap.CartoCSS.Tree.Call(name, args, i);
                        }
                    },
                    // Arguments are comma-separated expressions
                    'arguments': function () {
                        var args = [], arg;

                        while (arg = $(this.expression)) {
                            args.push(arg);
                            var q = ',';
                            if (!$(q)) {
                                break;
                            }
                        }

                        return args;
                    },
                    literal: function () {
                        return $(this.entities.dimension) ||
                            $(this.entities.keywordcolor) ||
                            $(this.entities.hexcolor) ||
                            $(this.entities.quoted);
                    },

                    // Parse url() tokens
                    //
                    // We use a specific rule for urls, because they don't really behave like
                    // standard function calls. The difference is that the argument doesn't have
                    // to be enclosed within a string, so it can't be parsed as an Expression.
                    url: function () {
                        var value;

                        if (input.charAt(i) !== 'u' || !$(/^url\(/)) {return;}
                        value = $(this.entities.quoted) || $(this.entities.variable) ||
                            $(/^[\-\w%@$\/.&=:;#+?~]+/) || '';
                        var r = ')';
                        if (!$(r)) {
                            return new SuperMap.CartoCSS.Tree.Invalid(value, memo, 'Missing closing ) in URL.');
                        } else {
                            return new SuperMap.CartoCSS.Tree.URL((typeof value.value !== 'undefined' ||
                                value instanceof SuperMap.CartoCSS.Tree.Variable) ?
                                value : new SuperMap.CartoCSS.Tree.Quoted(value));
                        }
                    },

                    // A Variable entity, such as `@fink`, in
                    //
                    //     width: @fink + 2px
                    //
                    // We use a different parser for variable definitions,
                    // see `parsers.variable`.
                    variable: function () {
                        var name, index = i;

                        if (input.charAt(i) === '@' && (name = $(/^@[\w-]+/))) {
                            return new SuperMap.CartoCSS.Tree.Variable(name, index, env.filename);
                        }
                    },

                    hexcolor: function () {
                        var rgb;
                        if (input.charAt(i) === '#' && (rgb = $(/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})/))) {
                            return new SuperMap.CartoCSS.Tree.Color(rgb[1]);
                        }
                    },

                    keywordcolor: function () {
                        var rgb = chunks[j].match(/^[a-z]+/);
                        if (rgb && rgb[0] in SuperMap.CartoCSS.Tree.Reference.data.colors) {
                            return new SuperMap.CartoCSS.Tree.Color(SuperMap.CartoCSS.Tree.Reference.data.colors[$(/^[a-z]+/)]);
                        }
                    },

                    // A Dimension, that is, a number and a unit. The only
                    // unit that has an effect is %
                    dimension: function () {
                        var c = input.charCodeAt(i);
                        if ((c > 57 || c < 45) || c === 47) {return;}
                        var value = $(/^(-?\d*\.?\d+(?:[eE][-+]?\d+)?)(\%|\w+)?/);
                        if (value) {
                            return new SuperMap.CartoCSS.Tree.Dimension(value[1], value[2], memo);
                        }
                    }
                },

                // The variable part of a variable definition.
                // Used in the `rule` parser. Like @fink:
                variable: function () {
                    var name;

                    if (input.charAt(i) === '@' && (name = $(/^(@[\w-]+)\s*:/))) {
                        return name[1];
                    }
                },

                // Entities are the smallest recognized token,
                // and can be found inside a rule's value.
                entity: function () {
                    var property1 = $(this.entities.call) || $(this.entities.literal);
                    var property2 = $(this.entities.field) || $(this.entities.variable);
                    var property3 = $(this.entities.url) || $(this.entities.keyword);
                    return property1 || property2 || property3;
                },

                // A Rule terminator. Note that we use `peek()` to check for '}',
                // because the `block` rule will be expecting it, but we still need to make sure
                // it's there, if ';' was ommitted.
                end: function () {
                    var q = ';';
                    return $(q) || peek('}');
                },

                // Elements are the building blocks for Selectors. They consist of
                // an element name, such as a tag a class, or `*`.
                //å¢å å¯¹ä¸­æçæ¯æï¼[\u4e00-\u9fa5]
                element: function () {
                    var e = $(/^(?:[.#][\w\u4e00-\u9fa5\-]+|\*|Map)/);
                    if (e) {return new SuperMap.CartoCSS.Tree.Element(e);}
                },

                // Attachments allow adding multiple lines, polygons etc. to an
                // object. There can only be one attachment per selector.
                attachment: function () {
                    var s = $(/^::([\w\-]+(?:\/[\w\-]+)*)/);
                    if (s) {return s[1];}
                },

                // Selectors are made out of one or more Elements, see above.
                selector: function () {
                    var a, attachment,
                        e, elements = [],
                        f, filters = new SuperMap.CartoCSS.Tree.Filterset(),
                        z, zooms = [],
                        segments = 0, conditions = 0;

                    while (
                        (e = $(this.element)) ||
                        (z = $(this.zoom)) ||
                        (f = $(this.filter)) ||
                        (a = $(this.attachment))
                        ) {
                        segments++;
                        if (e) {
                            elements.push(e);
                        } else if (z) {
                            zooms.push(z);
                            conditions++;
                        } else if (f) {
                            var err = filters.add(f);
                            if (err) {
                                throw makeError({
                                    message: err,
                                    index: i - 1
                                });
                            }
                            conditions++;
                        } else if (attachment) {
                            throw makeError({
                                message: 'Encountered second attachment name.',
                                index: i - 1
                            });
                        } else {
                            attachment = a;
                        }

                        var c = input.charAt(i);
                        if (c === '{' || c === '}' || c === ';' || c === ',') {
                            break;
                        }
                    }

                    if (segments) {
                        return new SuperMap.CartoCSS.Tree.Selector(filters, zooms, elements, attachment, conditions, memo);
                    }
                },

                filter: function () {
                    save();
                    var key, op, val, l = '[', r = ']';
                    if (!$(l)) {return;}
                    if (key = $(/^[a-zA-Z0-9\-_]+/) ||
                            $(this.entities.quoted) ||
                            $(this.entities.variable) ||
                            $(this.entities.keyword) ||
                            $(this.entities.field)) {
                        if (key instanceof SuperMap.CartoCSS.Tree.Quoted) {
                            key = new SuperMap.CartoCSS.Tree.Field(key.toString());
                        }
                        if ((op = $(this.entities.comparison)) &&
                            (val = $(this.entities.quoted) ||
                                $(this.entities.variable) ||
                                $(this.entities.dimension) ||
                                $(this.entities.keyword) ||
                                $(this.entities.field))) {
                            if (!$(r)) {
                                throw makeError({
                                    message: 'Missing closing ] of filter.',
                                    index: memo - 1
                                });
                            }
                            if (!key.is) {key = new SuperMap.CartoCSS.Tree.Field(key);}
                            return new SuperMap.CartoCSS.Tree.Filter(key, op, val, memo, env.filename);
                        }
                    }
                },

                zoom: function () {
                    save();
                    var op, val, r = ']';
                    if ($(/^\[\s*zoom/g) &&
                        (op = $(this.entities.comparison)) &&
                        (val = $(this.entities.variable) || $(this.entities.dimension)) && $(r)) {
                        return new SuperMap.CartoCSS.Tree.Zoom(op, val, memo);
                    } else {
                        // backtrack
                        restore();
                    }
                },

                // The `block` rule is used by `ruleset`
                // It's a wrapper around the `primary` rule, with added `{}`.
                block: function () {
                    var content, l = '{', r = '}';

                    if ($(l) && (content = $(this.primary)) && $(r)) {
                        return content;
                    }
                },

                // div, .class, body > p {...}
                ruleset: function () {
                    var selectors = [], s, rules, q = ',';
                    save();

                    while (s = $(this.selector)) {
                        selectors.push(s);
                        while ($(this.comment)) {//NOSONAR
                        }
                        if (!$(q)) {
                            break;
                        }
                        while ($(this.comment)) {//NOSONAR
                        }
                    }
                    if (s) {
                        while ($(this.comment)) {//NOSONAR
                        }
                    }

                    if (selectors.length > 0 && (rules = $(this.block))) {
                        if (selectors.length === 1 &&
                            selectors[0].elements.length &&
                            selectors[0].elements[0].value === 'Map') {
                            var rs = new SuperMap.CartoCSS.Tree.Ruleset(selectors, rules);
                            rs.isMap = true;
                            return rs;
                        }
                        return new SuperMap.CartoCSS.Tree.Ruleset(selectors, rules);
                    } else {
                        // Backtrack
                        restore();
                    }
                },

                rule: function () {
                    var name, value, c = input.charAt(i);
                    save();

                    if (c === '.' || c === '#') {
                        return;
                    }

                    if (name = $(this.variable) || $(this.property)) {
                        value = $(this.value);

                        if (value && $(this.end)) {
                            return new SuperMap.CartoCSS.Tree.Rule(name, value, memo, env.filename);
                        } else {
                            furthest = i;
                            restore();
                        }
                    }
                },

                font: function () {
                    var value = [], expression = [], e, q = ',';

                    while (e = $(this.entity)) {
                        expression.push(e);
                    }

                    value.push(new SuperMap.CartoCSS.Tree.Expression(expression));

                    if ($(q)) {
                        while (e = $(this.expression)) {
                            value.push(e);
                            if (!$(q)) {
                                break;
                            }
                        }
                    }
                    return new SuperMap.CartoCSS.Tree.Value(value);
                },

                // A Value is a comma-delimited list of Expressions
                // In a Rule, a Value represents everything after the `:`,
                // and before the `;`.
                value: function () {
                    var e, expressions = [], q = ',';

                    while (e = $(this.expression)) {
                        expressions.push(e);
                        if (!$(q)) {
                            break;
                        }
                    }

                    if (expressions.length > 1) {
                        return new SuperMap.CartoCSS.Tree.Value(expressions.map(function (e) {
                            return e.value[0];
                        }));
                    } else if (expressions.length === 1) {
                        return new SuperMap.CartoCSS.Tree.Value(expressions);
                    }
                },
                // A sub-expression, contained by parenthensis
                sub: function () {
                    var e, l = '(', r = ")";
                    if ($(l) && (e = $(this.expression)) && $(r)) {
                        return e;
                    }
                },
                // This is a misnomer because it actually handles multiplication
                // and division.
                multiplication: function () {
                    var m, a, op, operation, q = '/';
                    if (m = $(this.operand)) {
                        while ((op = ($(q) || $('*') || $('%'))) && (a = $(this.operand))) {
                            operation = new SuperMap.CartoCSS.Tree.Operation(op, [operation || m, a], memo);
                        }
                        return operation || m;
                    }
                },
                addition: function () {
                    var m, a, op, operation, plus = '+';
                    if (m = $(this.multiplication)) {
                        while ((op = $(/^[-+]\s+/) || (input.charAt(i - 1) != ' ' && ($(plus) || $('-')))) &&
                        (a = $(this.multiplication))) {
                            operation = new SuperMap.CartoCSS.Tree.Operation(op, [operation || m, a], memo);
                        }
                        return operation || m;
                    }
                },

                // An operand is anything that can be part of an operation,
                // such as a Color, or a Variable
                operand: function () {
                    return $(this.sub) || $(this.entity);
                },

                // Expressions either represent mathematical operations,
                // or white-space delimited Entities.  @var * 2
                expression: function () {
                    var e, entities = [];

                    while (e = $(this.addition) || $(this.entity)) {
                        entities.push(e);
                    }

                    if (entities.length > 0) {
                        return new SuperMap.CartoCSS.Tree.Expression(entities);
                    }
                },
                property: function () {
                    var name = $(/^(([a-z][-a-z_0-9]*\/)?\*?-?[-a-z_0-9]+)\s*:/);
                    if (name) {return name[1];}
                }
            }
        };
        return parser;
    }


    /**
     * @function SuperMap.CartoCSS.prototype.parse
     * @description å©ç¨CartoCSSè§£æå¨éé¢çparseæ¹æ³ï¼å°CartoCSSæ ·å¼è¡¨å­ç¬¦ä¸²è½¬åä¸ºCartoCSSè§åé
     * @return {Object} CartoCSSè§åé
     */
    parse(str) {
        var parser = this.parser;
        var ruleSet = this.ruleSet = parser.parse(str);
        return ruleSet;
    }


    /**
     * @function SuperMap.CartoCSS.prototype.toShaders
     * @description å°CartoCSSè§åéè½¬åä¸ºçè²å¨
     * @return {Array} CartoCSSçè²å¨é
     */
    toShaders() {
        if (this.ruleSet) {
            var ruleset = this.ruleSet;
            if (ruleset) {
                var defs = ruleset.toList(this.env);
                defs.reverse();

                var shaders = {};
                var keys = [];
                this._toShaders(shaders,keys,defs);

                var ordered_shaders = [];

                var done = {};
                for (var i = 0, len0 = defs.length; i < len0; ++i) {
                    var def = defs[i];
                    var k = def.attachment;
                    var shader = shaders[keys[i]];
                    var shaderArray = [];
                    if (!done[k]) {
                        var j = 0;
                        for (var prop in shader) {
                            if (prop !== 'zoom' && prop !== 'frames' && prop !== "attachment" && prop != "elements") {
                                //å¯¹layer-indexä½ç¹æ®å¤çä»¥å®ç°å¾å±çæ§å¶
                                if (prop === "layer-index") {
                                    /*var getLayerIndex = Function("attributes", "zoom", "var _value = null;" + shader[prop].join('\n') + "; return _value; ");*/
                                    var getLayerIndex = function (attributes, zoom) {//NOSONAR
                                        var _value = null;
                                        shader[prop].join('\n');
                                        return _value;
                                    };
                                    var layerIndex = getLayerIndex();
                                    Object.defineProperty(shaderArray, "layerIndex", {
                                        configurable: true,
                                        enumerable: false,
                                        value: layerIndex
                                    });
                                } else {
                                    shaderArray[j++] = function (ops, shaderArray) {//NOSONAR
                                        if (!Array.isArray(ops)) {
                                            return ops;
                                        }
                                        var body = ops.join('\n');
                                        var myKeyword = 'attributes["FEATUREID"]&&attributes["FEATUREID"]';
                                        var index = body.indexOf(myKeyword);
                                        if (index >= 0) {
                                            //å¯¹featureIDä½ä¸äºç¹æ®å¤çï¼ä»¥å°featureIDæååºæ¥
                                            if (!shaderArray.featureFilter) {
                                                var featureFilterStart = index + myKeyword.length;
                                                var featureFilterEnd = body.indexOf(")", featureFilterStart + 1);
                                                var featureFilterStr = "featureId&&(featureId" + body.substring(featureFilterStart, featureFilterEnd) + ")";
                                                /*var featureFilter = Function("featureId", "if(" + featureFilterStr + "){return true;}return false;");*/
                                                var featureFilter = function (featureId) {
                                                    if (featureFilterStr) {
                                                        return true;
                                                    }
                                                    return false;
                                                }
                                                Object.defineProperty(shaderArray, "featureFilter", {
                                                    configurable: true,
                                                    enumerable: false,
                                                    value: featureFilter
                                                });
                                            }
                                            return {
                                                "property": prop,
                                                "getValue": Function("attributes", "zoom", "seftFilter", "var _value = null; var isExcute=typeof seftFilter=='function'?sefgFilter():seftFilter;if(isExcute){" + body + ";} return _value; ")//NOSONAR
                                            };
                                        } else {
                                            return {
                                                "property": prop,
                                                "getValue": Function("attributes", "zoom", "var _value = null;" + body + "; return _value; ")//NOSONAR
                                            };
                                        }
                                    }(shader[prop], shaderArray);
                                }
                            }
                        }
                        Object.defineProperty(shaderArray, "attachment", {
                            configurable: true,
                            enumerable: false,
                            value: k
                        });
                        Object.defineProperty(shaderArray, "elements", {
                            configurable: true,
                            enumerable: false,
                            value: def.elements
                        });
                        ordered_shaders.push(shaderArray);
                        done[keys[i]] = true;
                    }
                    Object.defineProperty(shaderArray, "zoom", {
                        configurable: true,
                        enumerable: false,
                        value: def.zoom
                    });
                    //shader.frames.push(def.frame_offset);
                }
                return ordered_shaders;
            }
        }
        return null;
    }

    _toShaders(shaders, keys,defs) {
        for (let i = 0, len0 = defs.length; i < len0; ++i) {
            let def = defs[i];
            let element_str = [];
            for (let j = 0, len1 = def.elements.length; j < len1; j++) {
                element_str.push(def.elements[j]);
            }
            let filters = def.filters.filters;
            let filterStr = [];
            for (let attr in filters) {
                filterStr.push(filters[attr].id);
            }
            let key = element_str.join("/") + "::" + def.attachment + "_" + filterStr.join("_");
            keys.push(key);
            let shader = shaders[key] = (shaders[key] || {});
            //shader.frames = [];
            shader.zoom = SuperMap.CartoCSS.Tree.Zoom.all;
            let props = def.toJS(this.env);
            for (let v in props) {
                (shader[v] = (shader[v] || [])).push(props[v].join('\n'))
            }
        }
    }
    /**
     * @function SuperMap.CartoCSS.prototype.getShaders
     * @description è·åCartoCSSçè²å¨
     * @return {Array} çè²å¨é
     * @example
     *   //shadersçç»æå¤§æ¦å¦ä¸ï¼
     *   var shaders=[
     *   {
     *       attachment:"one",
     *       elements:[],
     *       zoom:23,
     *       length:2,
     *       0:{property:"line-color",value:function(attribute,zoom){var _value=null;if(zoom){_value="#123456"}return _vlaue;}},
     *       1:{preoperty:"line-width",value:function(attribute,zoom){var _value=null;if(zoom){_value=3}return _vlaue;}}
     *   },
     *   {
     *       attachment:"two",
     *       elements:[],
     *       zoom:23,
     *       length:2,
     *       0:{property:"polygon-color",value:function(attribute,zoom){var _value=null;if(zoom){_value="#123456"}return _vlaue;}},
     *       1:{property:"line-width",value:function(attribute,zoom){var _value=null;if(zoom){_value=3}return _vlaue;}}
     *   }
     *   ];
     */
    getShaders() {
        return this.shaders;
    }

    /**
     * @function SuperMap.CartoCSS.prototype.destroy
     * @description CartoCSSè§£æå¯¹è±¡çææå½æ°ï¼ç¨äºéæ¯CartoCSSè§£æå¯¹è±¡
     */
    destroy() {
        this.cartoStr = null;
        this.env = null;
        this.ruleSet = null;
        this.parser = null;
        this.shaders = null;
    }

}

SuperMap._mapnik_reference_latest = {
    "version": "2.1.1",
    "style": {
        "filter-mode": {
            "type": [
                "all",
                "first"
            ],
            "doc": "Control the processing behavior of Rule filters within a Style. If 'all' is used then all Rules are processed sequentially independent of whether any previous filters matched. If 'first' is used then it means processing ends after the first match (a positive filter evaluation) and no further Rules in the Style are processed ('first' is usually the default for CSS implementations on top of Mapnik to simplify translation from CSS to Mapnik XML)",
            "default-value": "all",
            "default-meaning": "All Rules in a Style are processed whether they have filters or not and whether or not the filter conditions evaluate to true."
        },
        "image-filters": {
            "css": "image-filters",
            "default-value": "none",
            "default-meaning": "no filters",
            "type": "functions",
            "functions": [
                ["agg-stack-blur", 2],
                ["emboss", 0],
                ["blur", 0],
                ["gray", 0],
                ["sobel", 0],
                ["edge-detect", 0],
                ["x-gradient", 0],
                ["y-gradient", 0],
                ["invert", 0],
                ["sharpen", 0]
            ],
            "doc": "A list of image filters."
        },
        "comp-op": {
            "css": "comp-op",
            "default-value": "src-over",
            "default-meaning": "add the current layer on top of other layers",
            "doc": "Composite operation. This defines how this layer should behave relative to layers atop or below it.",
            "type": ["clear",
                "src",
                "dst",
                "src-over",
                "dst-over",
                "src-in",
                "dst-in",
                "src-out",
                "dst-out",
                "src-atop",
                "dst-atop",
                "xor",
                "plus",
                "minus",
                "multiply",
                "screen",
                "overlay",
                "darken",
                "lighten",
                "color-dodge",
                "color-burn",
                "hard-light",
                "soft-light",
                "difference",
                "exclusion",
                "contrast",
                "invert",
                "invert-rgb",
                "grain-merge",
                "grain-extract",
                "hue",
                "saturation",
                "color",
                "value"
            ]
        },
        "opacity": {
            "css": "opacity",
            "type": "float",
            "doc": "An alpha value for the style (which means an alpha applied to all features in separate buffer and then composited back to main buffer)",
            "default-value": 1,
            "default-meaning": "no separate buffer will be used and no alpha will be applied to the style after rendering"
        }
    },
    "layer": {
        "name": {
            "default-value": "",
            "type": "string",
            "required": true,
            "default-meaning": "No layer name has been provided",
            "doc": "The name of a layer. Can be anything you wish and is not strictly validated, but ideally unique  in the map"
        },
        "srs": {
            "default-value": "",
            "type": "string",
            "default-meaning": "No srs value is provided and the value will be inherited from the Map's srs",
            "doc": "The spatial reference system definition for the layer, aka the projection. Can either be a proj4 literal string like '+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs' or, if the proper proj4 epsg/nad/etc identifier files are installed, a string that uses an id like: '+init=epsg:4326'"
        },
        "status": {
            "default-value": true,
            "type": "boolean",
            "default-meaning": "This layer will be marked as active and available for processing",
            "doc": "A property that can be set to false to disable this layer from being processed"
        },
        "minzoom": {
            "default-value": "0",
            "type": "float",
            "default-meaning": "The layer will be visible at the minimum possible scale",
            "doc": "The minimum scale denominator that this layer will be visible at. A layer's visibility is determined by whether its status is true and if the Map scale >= minzoom - 1e-6 and scale < maxzoom + 1e-6"
        },
        "maxzoom": {
            "default-value": "1.79769e+308",
            "type": "float",
            "default-meaning": "The layer will be visible at the maximum possible scale",
            "doc": "The maximum scale denominator that this layer will be visible at. The default is the numeric limit of the C++ double type, which may vary slightly by system, but is likely a massive number like 1.79769e+308 and ensures that this layer will always be visible unless the value is reduced. A layer's visibility is determined by whether its status is true and if the Map scale >= minzoom - 1e-6 and scale < maxzoom + 1e-6"
        },
        "queryable": {
            "default-value": false,
            "type": "boolean",
            "default-meaning": "The layer will not be available for the direct querying of data values",
            "doc": "This property was added for GetFeatureInfo/WMS compatibility and is rarely used. It is off by default meaning that in a WMS context the layer will not be able to be queried unless the property is explicitly set to true"
        },
        "clear-label-cache": {
            "default-value": false,
            "type": "boolean",
            "default-meaning": "The renderer's collision detector cache (used for avoiding duplicate labels and overlapping markers) will not be cleared immediately before processing this layer",
            "doc": "This property, by default off, can be enabled to allow a user to clear the collision detector cache before a given layer is processed. This may be desirable to ensure that a given layers data shows up on the map even if it normally would not because of collisions with previously rendered labels or markers"
        },
        "group-by": {
            "default-value": "",
            "type": "string",
            "default-meaning": "No special layer grouping will be used during rendering",
            "doc": "https://github.com/mapnik/mapnik/wiki/Grouped-rendering"
        },
        "buffer-size": {
            "default-value": "0",
            "type": "float",
            "default-meaning": "No buffer will be used",
            "doc": "Extra tolerance around the Layer extent (in pixels) used to when querying and (potentially) clipping the layer data during rendering"
        },
        "maximum-extent": {
            "default-value": "none",
            "type": "bbox",
            "default-meaning": "No clipping extent will be used",
            "doc": "An extent to be used to limit the bounds used to query this specific layer data during rendering. Should be minx, miny, maxx, maxy in the coordinates of the Layer."
        }
    },
    "symbolizers": {
        "*": {
            "image-filters": {
                "css": "image-filters",
                "default-value": "none",
                "default-meaning": "no filters",
                "type": "functions",
                "functions": [
                    ["agg-stack-blur", 2],
                    ["emboss", 0],
                    ["blur", 0],
                    ["gray", 0],
                    ["sobel", 0],
                    ["edge-detect", 0],
                    ["x-gradient", 0],
                    ["y-gradient", 0],
                    ["invert", 0],
                    ["sharpen", 0]
                ],
                "doc": "A list of image filters."
            },
            "comp-op": {
                "css": "comp-op",
                "default-value": "src-over",
                "default-meaning": "add the current layer on top of other layers",
                "doc": "Composite operation. This defines how this layer should behave relative to layers atop or below it.",
                "type": ["clear",
                    "src",
                    "dst",
                    "src-over",
                    "dst-over",
                    "src-in",
                    "dst-in",
                    "src-out",
                    "dst-out",
                    "src-atop",
                    "dst-atop",
                    "xor",
                    "plus",
                    "minus",
                    "multiply",
                    "screen",
                    "overlay",
                    "darken",
                    "lighten",
                    "color-dodge",
                    "color-burn",
                    "hard-light",
                    "soft-light",
                    "difference",
                    "exclusion",
                    "contrast",
                    "invert",
                    "invert-rgb",
                    "grain-merge",
                    "grain-extract",
                    "hue",
                    "saturation",
                    "color",
                    "value"
                ]
            },
            "opacity": {
                "css": "opacity",
                "type": "float",
                "doc": "An alpha value for the style (which means an alpha applied to all features in separate buffer and then composited back to main buffer)",
                "default-value": 1,
                "default-meaning": "no separate buffer will be used and no alpha will be applied to the style after rendering"
            }
        },
        "map": {
            "background-color": {
                "css": "background-color",
                "default-value": "none",
                "default-meaning": "transparent",
                "type": "color",
                "doc": "Map Background color"
            },
            "background-image": {
                "css": "background-image",
                "type": "uri",
                "default-value": "",
                "default-meaning": "transparent",
                "doc": "An image that is repeated below all features on a map as a background.",
                "description": "Map Background image"
            },
            "srs": {
                "css": "srs",
                "type": "string",
                "default-value": "+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs",
                "default-meaning": "The proj4 literal of EPSG:4326 is assumed to be the Map's spatial reference and all data from layers within this map will be plotted using this coordinate system. If any layers do not declare an srs value then they will be assumed to be in the same srs as the Map and not transformations will be needed to plot them in the Map's coordinate space",
                "doc": "Map spatial reference (proj4 string)"
            },
            "buffer-size": {
                "css": "buffer-size",
                "default-value": "0",
                "type": "float",
                "default-meaning": "No buffer will be used",
                "doc": "Extra tolerance around the map (in pixels) used to ensure labels crossing tile boundaries are equally rendered in each tile (e.g. cut in each tile). Not intended to be used in combination with \"avoid-edges\"."
            },
            "maximum-extent": {
                "css": "",
                "default-value": "none",
                "type": "bbox",
                "default-meaning": "No clipping extent will be used",
                "doc": "An extent to be used to limit the bounds used to query all layers during rendering. Should be minx, miny, maxx, maxy in the coordinates of the Map."
            },
            "base": {
                "css": "base",
                "default-value": "",
                "default-meaning": "This base path defaults to an empty string meaning that any relative paths to files referenced in styles or layers will be interpreted relative to the application process.",
                "type": "string",
                "doc": "Any relative paths used to reference files will be understood as relative to this directory path if the map is loaded from an in memory object rather than from the filesystem. If the map is loaded from the filesystem and this option is not provided it will be set to the directory of the stylesheet."
            },
            "paths-from-xml": {
                "css": "",
                "default-value": true,
                "default-meaning": "Paths read from XML will be interpreted from the location of the XML",
                "type": "boolean",
                "doc": "value to control whether paths in the XML will be interpreted from the location of the XML or from the working directory of the program that calls load_map()"
            },
            "minimum-version": {
                "css": "",
                "default-value": "none",
                "default-meaning": "Mapnik version will not be detected and no error will be thrown about compatibility",
                "type": "string",
                "doc": "The minumum Mapnik version (e.g. 0.7.2) needed to use certain functionality in the stylesheet"
            },
            "font-directory": {
                "css": "font-directory",
                "type": "uri",
                "default-value": "none",
                "default-meaning": "No map-specific fonts will be registered",
                "doc": "Path to a directory which holds fonts which should be registered when the Map is loaded (in addition to any fonts that may be automatically registered)."
            }
        },
        "polygon": {
            "fill": {
                "css": "polygon-fill",
                "type": "color",
                "default-value": "rgba(128,128,128,1)",
                "default-meaning": "gray and fully opaque (alpha = 1), same as rgb(128,128,128)",
                "doc": "Fill color to assign to a polygon"
            },
            "fill-opacity": {
                "css": "polygon-opacity",
                "type": "float",
                "doc": "The opacity of the polygon",
                "default-value": 1,
                "default-meaning": "opaque"
            },
            "gamma": {
                "css": "polygon-gamma",
                "type": "float",
                "default-value": 1,
                "default-meaning": "fully antialiased",
                "range": "0-1",
                "doc": "Level of antialiasing of polygon edges"
            },
            "gamma-method": {
                "css": "polygon-gamma-method",
                "type": [
                    "power",
                    "linear",
                    "none",
                    "threshold",
                    "multiply"
                ],
                "default-value": "power",
                "default-meaning": "pow(x,gamma) is used to calculate pixel gamma, which produces slightly smoother line and polygon antialiasing than the 'linear' method, while other methods are usually only used to disable AA",
                "doc": "An Antigrain Geometry specific rendering hint to control the quality of antialiasing. Under the hood in Mapnik this method is used in combination with the 'gamma' value (which defaults to 1). The methods are in the AGG source at https://github.com/mapnik/mapnik/blob/master/deps/agg/include/agg_gamma_functions.h"
            },
            "clip": {
                "css": "polygon-clip",
                "type": "boolean",
                "default-value": true,
                "default-meaning": "geometry will be clipped to map bounds before rendering",
                "doc": "geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."
            },
            "smooth": {
                "css": "polygon-smooth",
                "type": "float",
                "default-value": 0,
                "default-meaning": "no smoothing",
                "range": "0-1",
                "doc": "Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."
            },
            "geometry-transform": {
                "css": "polygon-geometry-transform",
                "type": "functions",
                "default-value": "none",
                "default-meaning": "geometry will not be transformed",
                "doc": "Allows transformation functions to be applied to the geometry.",
                "functions": [
                    ["matrix", 6],
                    ["translate", 2],
                    ["scale", 2],
                    ["rotate", 3],
                    ["skewX", 1],
                    ["skewY", 1]
                ]
            },
            "comp-op": {
                "css": "polygon-comp-op",
                "default-value": "src-over",
                "default-meaning": "add the current symbolizer on top of other symbolizer",
                "doc": "Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",
                "type": ["clear",
                    "src",
                    "dst",
                    "src-over",
                    "dst-over",
                    "src-in",
                    "dst-in",
                    "src-out",
                    "dst-out",
                    "src-atop",
                    "dst-atop",
                    "xor",
                    "plus",
                    "minus",
                    "multiply",
                    "screen",
                    "overlay",
                    "darken",
                    "lighten",
                    "color-dodge",
                    "color-burn",
                    "hard-light",
                    "soft-light",
                    "difference",
                    "exclusion",
                    "contrast",
                    "invert",
                    "invert-rgb",
                    "grain-merge",
                    "grain-extract",
                    "hue",
                    "saturation",
                    "color",
                    "value"
                ]
            }
        },
        "line": {
            "stroke": {
                "css": "line-color",
                "default-value": "rgba(0,0,0,1)",
                "type": "color",
                "default-meaning": "black and fully opaque (alpha = 1), same as rgb(0,0,0)",
                "doc": "The color of a drawn line"
            },
            "stroke-width": {
                "css": "line-width",
                "default-value": 1,
                "type": "float",
                "doc": "The width of a line in pixels"
            },
            "stroke-opacity": {
                "css": "line-opacity",
                "default-value": 1,
                "type": "float",
                "default-meaning": "opaque",
                "doc": "The opacity of a line"
            },
            "stroke-linejoin": {
                "css": "line-join",
                "default-value": "miter",
                "type": [
                    "miter",
                    "round",
                    "bevel"
                ],
                "doc": "The behavior of lines when joining"
            },
            "stroke-linecap": {
                "css": "line-cap",
                "default-value": "butt",
                "type": [
                    "butt",
                    "round",
                    "square"
                ],
                "doc": "The display of line endings"
            },
            "stroke-gamma": {
                "css": "line-gamma",
                "type": "float",
                "default-value": 1,
                "default-meaning": "fully antialiased",
                "range": "0-1",
                "doc": "Level of antialiasing of stroke line"
            },
            "stroke-gamma-method": {
                "css": "line-gamma-method",
                "type": [
                    "power",
                    "linear",
                    "none",
                    "threshold",
                    "multiply"
                ],
                "default-value": "power",
                "default-meaning": "pow(x,gamma) is used to calculate pixel gamma, which produces slightly smoother line and polygon antialiasing than the 'linear' method, while other methods are usually only used to disable AA",
                "doc": "An Antigrain Geometry specific rendering hint to control the quality of antialiasing. Under the hood in Mapnik this method is used in combination with the 'gamma' value (which defaults to 1). The methods are in the AGG source at https://github.com/mapnik/mapnik/blob/master/deps/agg/include/agg_gamma_functions.h"
            },
            "stroke-dasharray": {
                "css": "line-dasharray",
                "type": "numbers",
                "doc": "A pair of length values [a,b], where (a) is the dash length and (b) is the gap length respectively. More than two values are supported for more complex patterns.",
                "default-value": "none",
                "default-meaning": "solid line"
            },
            "stroke-dashoffset": {
                "css": "line-dash-offset",
                "type": "numbers",
                "doc": "valid parameter but not currently used in renderers (only exists for experimental svg support in Mapnik which is not yet enabled)",
                "default-value": "none",
                "default-meaning": "solid line"
            },
            "stroke-miterlimit": {
                "css": "line-miterlimit",
                "type": "float",
                "doc": "The limit on the ratio of the miter length to the stroke-width. Used to automatically convert miter joins to bevel joins for sharp angles to avoid the miter extending beyond the thickness of the stroking path. Normally will not need to be set, but a larger value can sometimes help avoid jaggy artifacts.",
                "default-value": 4.0,
                "default-meaning": "Will auto-convert miters to bevel line joins when theta is less than 29 degrees as per the SVG spec: 'miterLength / stroke-width = 1 / sin ( theta / 2 )'"
            },
            "clip": {
                "css": "line-clip",
                "type": "boolean",
                "default-value": true,
                "default-meaning": "geometry will be clipped to map bounds before rendering",
                "doc": "geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."
            },
            "smooth": {
                "css": "line-smooth",
                "type": "float",
                "default-value": 0,
                "default-meaning": "no smoothing",
                "range": "0-1",
                "doc": "Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."
            },
            "offset": {
                "css": "line-offset",
                "type": "float",
                "default-value": 0,
                "default-meaning": "no offset",
                "doc": "Offsets a line a number of pixels parallel to its actual path. Postive values move the line left, negative values move it right (relative to the directionality of the line)."
            },
            "rasterizer": {
                "css": "line-rasterizer",
                "type": [
                    "full",
                    "fast"
                ],
                "default-value": "full",
                "doc": "Exposes an alternate AGG rendering method that sacrifices some accuracy for speed."
            },
            "geometry-transform": {
                "css": "line-geometry-transform",
                "type": "functions",
                "default-value": "none",
                "default-meaning": "geometry will not be transformed",
                "doc": "Allows transformation functions to be applied to the geometry.",
                "functions": [
                    ["matrix", 6],
                    ["translate", 2],
                    ["scale", 2],
                    ["rotate", 3],
                    ["skewX", 1],
                    ["skewY", 1]
                ]
            },
            "comp-op": {
                "css": "line-comp-op",
                "default-value": "src-over",
                "default-meaning": "add the current symbolizer on top of other symbolizer",
                "doc": "Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",
                "type": ["clear",
                    "src",
                    "dst",
                    "src-over",
                    "dst-over",
                    "src-in",
                    "dst-in",
                    "src-out",
                    "dst-out",
                    "src-atop",
                    "dst-atop",
                    "xor",
                    "plus",
                    "minus",
                    "multiply",
                    "screen",
                    "overlay",
                    "darken",
                    "lighten",
                    "color-dodge",
                    "color-burn",
                    "hard-light",
                    "soft-light",
                    "difference",
                    "exclusion",
                    "contrast",
                    "invert",
                    "invert-rgb",
                    "grain-merge",
                    "grain-extract",
                    "hue",
                    "saturation",
                    "color",
                    "value"
                ]
            }
        },
        "markers": {
            "file": {
                "css": "marker-file",
                "doc": "An SVG file that this marker shows at each placement. If no file is given, the marker will show an ellipse.",
                "default-value": "",
                "default-meaning": "An ellipse or circle, if width equals height",
                "type": "uri"
            },
            "opacity": {
                "css": "marker-opacity",
                "doc": "The overall opacity of the marker, if set, overrides both the opacity of both the fill and stroke",
                "default-value": 1,
                "default-meaning": "The stroke-opacity and fill-opacity will be used",
                "type": "float"
            },
            "fill-opacity": {
                "css": "marker-fill-opacity",
                "doc": "The fill opacity of the marker",
                "default-value": 1,
                "default-meaning": "opaque",
                "type": "float"
            },
            "stroke": {
                "css": "marker-line-color",
                "doc": "The color of the stroke around a marker shape.",
                "default-value": "black",
                "type": "color"
            },
            "stroke-width": {
                "css": "marker-line-width",
                "doc": "The width of the stroke around a marker shape, in pixels. This is positioned on the boundary, so high values can cover the area itself.",
                "type": "float"
            },
            "stroke-opacity": {
                "css": "marker-line-opacity",
                "default-value": 1,
                "default-meaning": "opaque",
                "doc": "The opacity of a line",
                "type": "float"
            },
            "placement": {
                "css": "marker-placement",
                "type": [
                    "point",
                    "line",
                    "interior"
                ],
                "default-value": "point",
                "default-meaning": "Place markers at the center point (centroid) of the geometry",
                "doc": "Attempt to place markers on a point, in the center of a polygon, or if markers-placement:line, then multiple times along a line. 'interior' placement can be used to ensure that points placed on polygons are forced to be inside the polygon interior"
            },
            "multi-policy": {
                "css": "marker-multi-policy",
                "type": [
                    "each",
                    "whole",
                    "largest"
                ],
                "default-value": "each",
                "default-meaning": "If a feature contains multiple geometries and the placement type is either point or interior then a marker will be rendered for each",
                "doc": "A special setting to allow the user to control rendering behavior for 'multi-geometries' (when a feature contains multiple geometries). This setting does not apply to markers placed along lines. The 'each' policy is default and means all geometries will get a marker. The 'whole' policy means that the aggregate centroid between all geometries will be used. The 'largest' policy means that only the largest (by bounding box areas) feature will get a rendered marker (this is how text labeling behaves by default)."
            },
            "marker-type": {
                "css": "marker-type",
                "type": [
                    "arrow",
                    "ellipse"
                ],
                "default-value": "ellipse",
                "doc": "The default marker-type. If a SVG file is not given as the marker-file parameter, the renderer provides either an arrow or an ellipse (a circle if height is equal to width)"
            },
            "width": {
                "css": "marker-width",
                "default-value": 10,
                "doc": "The width of the marker, if using one of the default types.",
                "type": "expression"
            },
            "height": {
                "css": "marker-height",
                "default-value": 10,
                "doc": "The height of the marker, if using one of the default types.",
                "type": "expression"
            },
            "fill": {
                "css": "marker-fill",
                "default-value": "blue",
                "doc": "The color of the area of the marker.",
                "type": "color"
            },
            "allow-overlap": {
                "css": "marker-allow-overlap",
                "type": "boolean",
                "default-value": false,
                "doc": "Control whether overlapping markers are shown or hidden.",
                "default-meaning": "Do not allow makers to overlap with each other - overlapping markers will not be shown."
            },
            "ignore-placement": {
                "css": "marker-ignore-placement",
                "type": "boolean",
                "default-value": false,
                "default-meaning": "do not store the bbox of this geometry in the collision detector cache",
                "doc": "value to control whether the placement of the feature will prevent the placement of other features"
            },
            "spacing": {
                "css": "marker-spacing",
                "doc": "Space between repeated labels",
                "default-value": 100,
                "type": "float"
            },
            "max-error": {
                "css": "marker-max-error",
                "type": "float",
                "default-value": 0.2,
                "doc": "The maximum difference between actual marker placement and the marker-spacing parameter. Setting a high value can allow the renderer to try to resolve placement conflicts with other symbolizers."
            },
            "transform": {
                "css": "marker-transform",
                "type": "functions",
                "functions": [
                    ["matrix", 6],
                    ["translate", 2],
                    ["scale", 2],
                    ["rotate", 3],
                    ["skewX", 1],
                    ["skewY", 1]
                ],
                "default-value": "",
                "default-meaning": "No transformation",
                "doc": "SVG transformation definition"
            },
            "clip": {
                "css": "marker-clip",
                "type": "boolean",
                "default-value": true,
                "default-meaning": "geometry will be clipped to map bounds before rendering",
                "doc": "geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."
            },
            "smooth": {
                "css": "marker-smooth",
                "type": "float",
                "default-value": 0,
                "default-meaning": "no smoothing",
                "range": "0-1",
                "doc": "Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."
            },
            "geometry-transform": {
                "css": "marker-geometry-transform",
                "type": "functions",
                "default-value": "none",
                "default-meaning": "geometry will not be transformed",
                "doc": "Allows transformation functions to be applied to the geometry.",
                "functions": [
                    ["matrix", 6],
                    ["translate", 2],
                    ["scale", 2],
                    ["rotate", 3],
                    ["skewX", 1],
                    ["skewY", 1]
                ]
            },
            "comp-op": {
                "css": "marker-comp-op",
                "default-value": "src-over",
                "default-meaning": "add the current symbolizer on top of other symbolizer",
                "doc": "Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",
                "type": ["clear",
                    "src",
                    "dst",
                    "src-over",
                    "dst-over",
                    "src-in",
                    "dst-in",
                    "src-out",
                    "dst-out",
                    "src-atop",
                    "dst-atop",
                    "xor",
                    "plus",
                    "minus",
                    "multiply",
                    "screen",
                    "overlay",
                    "darken",
                    "lighten",
                    "color-dodge",
                    "color-burn",
                    "hard-light",
                    "soft-light",
                    "difference",
                    "exclusion",
                    "contrast",
                    "invert",
                    "invert-rgb",
                    "grain-merge",
                    "grain-extract",
                    "hue",
                    "saturation",
                    "color",
                    "value"
                ]
            }
        },
        "shield": {
            "name": {
                "css": "shield-name",
                "type": "expression",
                "serialization": "content",
                "doc": "Value to use for a shield\"s text label. Data columns are specified using brackets like [column_name]"
            },
            "file": {
                "css": "shield-file",
                "required": true,
                "type": "uri",
                "default-value": "none",
                "doc": "Image file to render behind the shield text"
            },
            "face-name": {
                "css": "shield-face-name",
                "type": "string",
                "validate": "font",
                "doc": "Font name and style to use for the shield text",
                "default-value": "",
                "required": true
            },
            "unlock-image": {
                "css": "shield-unlock-image",
                "type": "boolean",
                "doc": "This parameter should be set to true if you are trying to position text beside rather than on top of the shield image",
                "default-value": false,
                "default-meaning": "text alignment relative to the shield image uses the center of the image as the anchor for text positioning."
            },
            "size": {
                "css": "shield-size",
                "type": "float",
                "doc": "The size of the shield text in pixels"
            },
            "fill": {
                "css": "shield-fill",
                "type": "color",
                "doc": "The color of the shield text"
            },
            "placement": {
                "css": "shield-placement",
                "type": [
                    "point",
                    "line",
                    "vertex",
                    "interior"
                ],
                "default-value": "point",
                "doc": "How this shield should be placed. Point placement attempts to place it on top of points, line places along lines multiple times per feature, vertex places on the vertexes of polygons, and interior attempts to place inside of polygons."
            },
            "avoid-edges": {
                "css": "shield-avoid-edges",
                "doc": "Tell positioning algorithm to avoid labeling near intersection edges.",
                "type": "boolean",
                "default-value": false
            },
            "allow-overlap": {
                "css": "shield-allow-overlap",
                "type": "boolean",
                "default-value": false,
                "doc": "Control whether overlapping shields are shown or hidden.",
                "default-meaning": "Do not allow shields to overlap with other map elements already placed."
            },
            "minimum-distance": {
                "css": "shield-min-distance",
                "type": "float",
                "default-value": 0,
                "doc": "Minimum distance to the next shield symbol, not necessarily the same shield."
            },
            "spacing": {
                "css": "shield-spacing",
                "type": "float",
                "default-value": 0,
                "doc": "The spacing between repeated occurrences of the same shield on a line"
            },
            "minimum-padding": {
                "css": "shield-min-padding",
                "default-value": 0,
                "doc": "Determines the minimum amount of padding that a shield gets relative to other shields",
                "type": "float"
            },
            "wrap-width": {
                "css": "shield-wrap-width",
                "type": "unsigned",
                "default-value": 0,
                "doc": "Length of a chunk of text in characters before wrapping text"
            },
            "wrap-before": {
                "css": "shield-wrap-before",
                "type": "boolean",
                "default-value": false,
                "doc": "Wrap text before wrap-width is reached. If false, wrapped lines will be a bit longer than wrap-width."
            },
            "wrap-character": {
                "css": "shield-wrap-character",
                "type": "string",
                "default-value": " ",
                "doc": "Use this character instead of a space to wrap long names."
            },
            "halo-fill": {
                "css": "shield-halo-fill",
                "type": "color",
                "default-value": "#FFFFFF",
                "default-meaning": "white",
                "doc": "Specifies the color of the halo around the text."
            },
            "halo-radius": {
                "css": "shield-halo-radius",
                "doc": "Specify the radius of the halo in pixels",
                "default-value": 0,
                "default-meaning": "no halo",
                "type": "float"
            },
            "character-spacing": {
                "css": "shield-character-spacing",
                "type": "unsigned",
                "default-value": 0,
                "doc": "Horizontal spacing between characters (in pixels). Currently works for point placement only, not line placement."
            },
            "line-spacing": {
                "css": "shield-line-spacing",
                "doc": "Vertical spacing between lines of multiline labels (in pixels)",
                "type": "unsigned"
            },
            "dx": {
                "css": "shield-text-dx",
                "type": "float",
                "doc": "Displace text within shield by fixed amount, in pixels, +/- along the X axis.  A positive value will shift the text right",
                "default-value": 0
            },
            "dy": {
                "css": "shield-text-dy",
                "type": "float",
                "doc": "Displace text within shield by fixed amount, in pixels, +/- along the Y axis.  A positive value will shift the text down",
                "default-value": 0
            },
            "shield-dx": {
                "css": "shield-dx",
                "type": "float",
                "doc": "Displace shield by fixed amount, in pixels, +/- along the X axis.  A positive value will shift the text right",
                "default-value": 0
            },
            "shield-dy": {
                "css": "shield-dy",
                "type": "float",
                "doc": "Displace shield by fixed amount, in pixels, +/- along the Y axis.  A positive value will shift the text down",
                "default-value": 0
            },
            "opacity": {
                "css": "shield-opacity",
                "type": "float",
                "doc": "(Default 1.0) - opacity of the image used for the shield",
                "default-value": 1
            },
            "text-opacity": {
                "css": "shield-text-opacity",
                "type": "float",
                "doc": "(Default 1.0) - opacity of the text placed on top of the shield",
                "default-value": 1
            },
            "horizontal-alignment": {
                "css": "shield-horizontal-alignment",
                "type": [
                    "left",
                    "middle",
                    "right",
                    "auto"
                ],
                "doc": "The shield's horizontal alignment from its centerpoint",
                "default-value": "auto"
            },
            "vertical-alignment": {
                "css": "shield-vertical-alignment",
                "type": [
                    "top",
                    "middle",
                    "bottom",
                    "auto"
                ],
                "doc": "The shield's vertical alignment from its centerpoint",
                "default-value": "middle"
            },
            "text-transform": {
                "css": "shield-text-transform",
                "type": [
                    "none",
                    "uppercase",
                    "lowercase",
                    "capitalize"
                ],
                "doc": "Transform the case of the characters",
                "default-value": "none"
            },
            "justify-alignment": {
                "css": "shield-justify-alignment",
                "type": [
                    "left",
                    "center",
                    "right",
                    "auto"
                ],
                "doc": "Define how text in a shield's label is justified",
                "default-value": "auto"
            },
            "clip": {
                "css": "shield-clip",
                "type": "boolean",
                "default-value": true,
                "default-meaning": "geometry will be clipped to map bounds before rendering",
                "doc": "geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."
            },
            "comp-op": {
                "css": "shield-comp-op",
                "default-value": "src-over",
                "default-meaning": "add the current symbolizer on top of other symbolizer",
                "doc": "Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",
                "type": ["clear",
                    "src",
                    "dst",
                    "src-over",
                    "dst-over",
                    "src-in",
                    "dst-in",
                    "src-out",
                    "dst-out",
                    "src-atop",
                    "dst-atop",
                    "xor",
                    "plus",
                    "minus",
                    "multiply",
                    "screen",
                    "overlay",
                    "darken",
                    "lighten",
                    "color-dodge",
                    "color-burn",
                    "hard-light",
                    "soft-light",
                    "difference",
                    "exclusion",
                    "contrast",
                    "invert",
                    "invert-rgb",
                    "grain-merge",
                    "grain-extract",
                    "hue",
                    "saturation",
                    "color",
                    "value"
                ]
            }
        },
        "line-pattern": {
            "file": {
                "css": "line-pattern-file",
                "type": "uri",
                "default-value": "none",
                "required": true,
                "doc": "An image file to be repeated and warped along a line"
            },
            "clip": {
                "css": "line-pattern-clip",
                "type": "boolean",
                "default-value": true,
                "default-meaning": "geometry will be clipped to map bounds before rendering",
                "doc": "geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."
            },
            "smooth": {
                "css": "line-pattern-smooth",
                "type": "float",
                "default-value": 0,
                "default-meaning": "no smoothing",
                "range": "0-1",
                "doc": "Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."
            },
            "geometry-transform": {
                "css": "line-pattern-geometry-transform",
                "type": "functions",
                "default-value": "none",
                "default-meaning": "geometry will not be transformed",
                "doc": "Allows transformation functions to be applied to the geometry.",
                "functions": [
                    ["matrix", 6],
                    ["translate", 2],
                    ["scale", 2],
                    ["rotate", 3],
                    ["skewX", 1],
                    ["skewY", 1]
                ]
            },
            "comp-op": {
                "css": "line-pattern-comp-op",
                "default-value": "src-over",
                "default-meaning": "add the current symbolizer on top of other symbolizer",
                "doc": "Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",
                "type": ["clear",
                    "src",
                    "dst",
                    "src-over",
                    "dst-over",
                    "src-in",
                    "dst-in",
                    "src-out",
                    "dst-out",
                    "src-atop",
                    "dst-atop",
                    "xor",
                    "plus",
                    "minus",
                    "multiply",
                    "screen",
                    "overlay",
                    "darken",
                    "lighten",
                    "color-dodge",
                    "color-burn",
                    "hard-light",
                    "soft-light",
                    "difference",
                    "exclusion",
                    "contrast",
                    "invert",
                    "invert-rgb",
                    "grain-merge",
                    "grain-extract",
                    "hue",
                    "saturation",
                    "color",
                    "value"
                ]
            }
        },
        "polygon-pattern": {
            "file": {
                "css": "polygon-pattern-file",
                "type": "uri",
                "default-value": "none",
                "required": true,
                "doc": "Image to use as a repeated pattern fill within a polygon"
            },
            "alignment": {
                "css": "polygon-pattern-alignment",
                "type": [
                    "local",
                    "global"
                ],
                "default-value": "local",
                "doc": "Specify whether to align pattern fills to the layer or to the map."
            },
            "gamma": {
                "css": "polygon-pattern-gamma",
                "type": "float",
                "default-value": 1,
                "default-meaning": "fully antialiased",
                "range": "0-1",
                "doc": "Level of antialiasing of polygon pattern edges"
            },
            "opacity": {
                "css": "polygon-pattern-opacity",
                "type": "float",
                "doc": "(Default 1.0) - Apply an opacity level to the image used for the pattern",
                "default-value": 1,
                "default-meaning": "The image is rendered without modifications"
            },
            "clip": {
                "css": "polygon-pattern-clip",
                "type": "boolean",
                "default-value": true,
                "default-meaning": "geometry will be clipped to map bounds before rendering",
                "doc": "geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."
            },
            "smooth": {
                "css": "polygon-pattern-smooth",
                "type": "float",
                "default-value": 0,
                "default-meaning": "no smoothing",
                "range": "0-1",
                "doc": "Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."
            },
            "geometry-transform": {
                "css": "polygon-pattern-geometry-transform",
                "type": "functions",
                "default-value": "none",
                "default-meaning": "geometry will not be transformed",
                "doc": "Allows transformation functions to be applied to the geometry.",
                "functions": [
                    ["matrix", 6],
                    ["translate", 2],
                    ["scale", 2],
                    ["rotate", 3],
                    ["skewX", 1],
                    ["skewY", 1]
                ]
            },
            "comp-op": {
                "css": "polygon-pattern-comp-op",
                "default-value": "src-over",
                "default-meaning": "add the current symbolizer on top of other symbolizer",
                "doc": "Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",
                "type": ["clear",
                    "src",
                    "dst",
                    "src-over",
                    "dst-over",
                    "src-in",
                    "dst-in",
                    "src-out",
                    "dst-out",
                    "src-atop",
                    "dst-atop",
                    "xor",
                    "plus",
                    "minus",
                    "multiply",
                    "screen",
                    "overlay",
                    "darken",
                    "lighten",
                    "color-dodge",
                    "color-burn",
                    "hard-light",
                    "soft-light",
                    "difference",
                    "exclusion",
                    "contrast",
                    "invert",
                    "invert-rgb",
                    "grain-merge",
                    "grain-extract",
                    "hue",
                    "saturation",
                    "color",
                    "value"
                ]
            }
        },
        "raster": {
            "opacity": {
                "css": "raster-opacity",
                "default-value": 1,
                "default-meaning": "opaque",
                "type": "float",
                "doc": "The opacity of the raster symbolizer on top of other symbolizers."
            },
            "filter-factor": {
                "css": "raster-filter-factor",
                "default-value": -1,
                "default-meaning": "Allow the datasource to choose appropriate downscaling.",
                "type": "float",
                "doc": "This is used by the Raster or Gdal datasources to pre-downscale images using overviews. Higher numbers can sometimes cause much better scaled image output, at the cost of speed."
            },
            "scaling": {
                "css": "raster-scaling",
                "type": [
                    "near",
                    "fast",
                    "bilinear",
                    "bilinear8",
                    "bicubic",
                    "spline16",
                    "spline36",
                    "hanning",
                    "hamming",
                    "hermite",
                    "kaiser",
                    "quadric",
                    "catrom",
                    "gaussian",
                    "bessel",
                    "mitchell",
                    "sinc",
                    "lanczos",
                    "blackman"
                ],
                "default-value": "near",
                "doc": "The scaling algorithm used to making different resolution versions of this raster layer. Bilinear is a good compromise between speed and accuracy, while lanczos gives the highest quality."
            },
            "mesh-size": {
                "css": "raster-mesh-size",
                "default-value": 16,
                "default-meaning": "Reprojection mesh will be 1/16 of the resolution of the source image",
                "type": "unsigned",
                "doc": "A reduced resolution mesh is used for raster reprojection, and the total image size is divided by the mesh-size to determine the quality of that mesh. Values for mesh-size larger than the default will result in faster reprojection but might lead to distortion."
            },
            "comp-op": {
                "css": "raster-comp-op",
                "default-value": "src-over",
                "default-meaning": "add the current symbolizer on top of other symbolizer",
                "doc": "Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",
                "type": ["clear",
                    "src",
                    "dst",
                    "src-over",
                    "dst-over",
                    "src-in",
                    "dst-in",
                    "src-out",
                    "dst-out",
                    "src-atop",
                    "dst-atop",
                    "xor",
                    "plus",
                    "minus",
                    "multiply",
                    "screen",
                    "overlay",
                    "darken",
                    "lighten",
                    "color-dodge",
                    "color-burn",
                    "hard-light",
                    "soft-light",
                    "difference",
                    "exclusion",
                    "contrast",
                    "invert",
                    "invert-rgb",
                    "grain-merge",
                    "grain-extract",
                    "hue",
                    "saturation",
                    "color",
                    "value"
                ]
            }
        },
        "point": {
            "file": {
                "css": "point-file",
                "type": "uri",
                "required": false,
                "default-value": "none",
                "doc": "Image file to represent a point"
            },
            "allow-overlap": {
                "css": "point-allow-overlap",
                "type": "boolean",
                "default-value": false,
                "doc": "Control whether overlapping points are shown or hidden.",
                "default-meaning": "Do not allow points to overlap with each other - overlapping markers will not be shown."
            },
            "ignore-placement": {
                "css": "point-ignore-placement",
                "type": "boolean",
                "default-value": false,
                "default-meaning": "do not store the bbox of this geometry in the collision detector cache",
                "doc": "value to control whether the placement of the feature will prevent the placement of other features"
            },
            "opacity": {
                "css": "point-opacity",
                "type": "float",
                "default-value": 1.0,
                "default-meaning": "Fully opaque",
                "doc": "A value from 0 to 1 to control the opacity of the point"
            },
            "placement": {
                "css": "point-placement",
                "type": [
                    "centroid",
                    "interior"
                ],
                "doc": "How this point should be placed. Centroid calculates the geometric center of a polygon, which can be outside of it, while interior always places inside of a polygon.",
                "default-value": "centroid"
            },
            "transform": {
                "css": "point-transform",
                "type": "functions",
                "functions": [
                    ["matrix", 6],
                    ["translate", 2],
                    ["scale", 2],
                    ["rotate", 3],
                    ["skewX", 1],
                    ["skewY", 1]
                ],
                "default-value": "",
                "default-meaning": "No transformation",
                "doc": "SVG transformation definition"
            },
            "comp-op": {
                "css": "point-comp-op",
                "default-value": "src-over",
                "default-meaning": "add the current symbolizer on top of other symbolizer",
                "doc": "Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",
                "type": ["clear",
                    "src",
                    "dst",
                    "src-over",
                    "dst-over",
                    "src-in",
                    "dst-in",
                    "src-out",
                    "dst-out",
                    "src-atop",
                    "dst-atop",
                    "xor",
                    "plus",
                    "minus",
                    "multiply",
                    "screen",
                    "overlay",
                    "darken",
                    "lighten",
                    "color-dodge",
                    "color-burn",
                    "hard-light",
                    "soft-light",
                    "difference",
                    "exclusion",
                    "contrast",
                    "invert",
                    "invert-rgb",
                    "grain-merge",
                    "grain-extract",
                    "hue",
                    "saturation",
                    "color",
                    "value"
                ]
            }
        },
        "text": {
            "name": {
                "css": "text-name",
                "type": "expression",
                "required": true,
                "default-value": "",
                "serialization": "content",
                "doc": "Value to use for a text label. Data columns are specified using brackets like [column_name]"
            },
            "face-name": {
                "css": "text-face-name",
                "type": "string",
                "validate": "font",
                "doc": "Font name and style to render a label in",
                "required": true
            },
            "size": {
                "css": "text-size",
                "type": "float",
                "default-value": 10,
                "doc": "Text size in pixels"
            },
            "text-ratio": {
                "css": "text-ratio",
                "doc": "Define the amount of text (of the total) present on successive lines when wrapping occurs",
                "default-value": 0,
                "type": "unsigned"
            },
            "wrap-width": {
                "css": "text-wrap-width",
                "doc": "Length of a chunk of text in characters before wrapping text",
                "default-value": 0,
                "type": "unsigned"
            },
            "wrap-before": {
                "css": "text-wrap-before",
                "type": "boolean",
                "default-value": false,
                "doc": "Wrap text before wrap-width is reached. If false, wrapped lines will be a bit longer than wrap-width."
            },
            "wrap-character": {
                "css": "text-wrap-character",
                "type": "string",
                "default-value": " ",
                "doc": "Use this character instead of a space to wrap long text."
            },
            "spacing": {
                "css": "text-spacing",
                "type": "unsigned",
                "doc": "Distance between repeated text labels on a line (aka. label-spacing)"
            },
            "character-spacing": {
                "css": "text-character-spacing",
                "type": "float",
                "default-value": 0,
                "doc": "Horizontal spacing adjustment between characters in pixels"
            },
            "line-spacing": {
                "css": "text-line-spacing",
                "default-value": 0,
                "type": "unsigned",
                "doc": "Vertical spacing adjustment between lines in pixels"
            },
            "label-position-tolerance": {
                "css": "text-label-position-tolerance",
                "default-value": 0,
                "type": "unsigned",
                "doc": "Allows the label to be displaced from its ideal position by a number of pixels (only works with placement:line)"
            },
            "max-char-angle-delta": {
                "css": "text-max-char-angle-delta",
                "type": "float",
                "default-value": "22.5",
                "doc": "The maximum angle change, in degrees, allowed between adjacent characters in a label. This value internally is converted to radians to the default is 22.5*math.pi/180.0. The higher the value the fewer labels will be placed around around sharp corners."
            },
            "fill": {
                "css": "text-fill",
                "doc": "Specifies the color for the text",
                "default-value": "#000000",
                "type": "color"
            },
            "opacity": {
                "css": "text-opacity",
                "doc": "A number from 0 to 1 specifying the opacity for the text",
                "default-value": 1.0,
                "default-meaning": "Fully opaque",
                "type": "float"
            },
            "halo-fill": {
                "css": "text-halo-fill",
                "type": "color",
                "default-value": "#FFFFFF",
                "default-meaning": "white",
                "doc": "Specifies the color of the halo around the text."
            },
            "halo-radius": {
                "css": "text-halo-radius",
                "doc": "Specify the radius of the halo in pixels",
                "default-value": 0,
                "default-meaning": "no halo",
                "type": "float"
            },
            "dx": {
                "css": "text-dx",
                "type": "float",
                "doc": "Displace text by fixed amount, in pixels, +/- along the X axis.  A positive value will shift the text right",
                "default-value": 0
            },
            "dy": {
                "css": "text-dy",
                "type": "float",
                "doc": "Displace text by fixed amount, in pixels, +/- along the Y axis.  A positive value will shift the text down",
                "default-value": 0
            },
            "vertical-alignment": {
                "css": "text-vertical-alignment",
                "type": [
                    "top",
                    "middle",
                    "bottom",
                    "auto"
                ],
                "doc": "Position of label relative to point position.",
                "default-value": "auto",
                "default-meaning": "Default affected by value of dy; \"bottom\" for dy>0, \"top\" for dy<0."
            },
            "avoid-edges": {
                "css": "text-avoid-edges",
                "doc": "Tell positioning algorithm to avoid labeling near intersection edges.",
                "default-value": false,
                "type": "boolean"
            },
            "minimum-distance": {
                "css": "text-min-distance",
                "doc": "Minimum permitted distance to the next text symbolizer.",
                "type": "float"
            },
            "minimum-padding": {
                "css": "text-min-padding",
                "doc": "Determines the minimum amount of padding that a text symbolizer gets relative to other text",
                "type": "float"
            },
            "minimum-path-length": {
                "css": "text-min-path-length",
                "type": "float",
                "default-value": 0,
                "default-meaning": "place labels on all paths",
                "doc": "Place labels only on paths longer than this value."
            },
            "allow-overlap": {
                "css": "text-allow-overlap",
                "type": "boolean",
                "default-value": false,
                "doc": "Control whether overlapping text is shown or hidden.",
                "default-meaning": "Do not allow text to overlap with other text - overlapping markers will not be shown."
            },
            "orientation": {
                "css": "text-orientation",
                "type": "expression",
                "doc": "Rotate the text."
            },
            "placement": {
                "css": "text-placement",
                "type": [
                    "point",
                    "line",
                    "vertex",
                    "interior"
                ],
                "default-value": "point",
                "doc": "Control the style of placement of a point versus the geometry it is attached to."
            },
            "placement-type": {
                "css": "text-placement-type",
                "doc": "Re-position and/or re-size text to avoid overlaps. \"simple\" for basic algorithm (using text-placements string,) \"dummy\" to turn this feature off.",
                "type": [
                    "dummy",
                    "simple"
                ],
                "default-value": "dummy"
            },
            "placements": {
                "css": "text-placements",
                "type": "string",
                "default-value": "",
                "doc": "If \"placement-type\" is set to \"simple\", use this \"POSITIONS,[SIZES]\" string. An example is `text-placements: \"E,NE,SE,W,NW,SW\";` "
            },
            "text-transform": {
                "css": "text-transform",
                "type": [
                    "none",
                    "uppercase",
                    "lowercase",
                    "capitalize"
                ],
                "doc": "Transform the case of the characters",
                "default-value": "none"
            },
            "horizontal-alignment": {
                "css": "text-horizontal-alignment",
                "type": [
                    "left",
                    "middle",
                    "right",
                    "auto"
                ],
                "doc": "The text's horizontal alignment from its centerpoint",
                "default-value": "auto"
            },
            "justify-alignment": {
                "css": "text-align",
                "type": [
                    "left",
                    "right",
                    "center",
                    "auto"
                ],
                "doc": "Define how text is justified",
                "default-value": "auto",
                "default-meaning": "Auto alignment means that text will be centered by default except when using the `placement-type` parameter - in that case either right or left justification will be used automatically depending on where the text could be fit given the `text-placements` directives"
            },
            "clip": {
                "css": "text-clip",
                "type": "boolean",
                "default-value": true,
                "default-meaning": "geometry will be clipped to map bounds before rendering",
                "doc": "geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."
            },
            "comp-op": {
                "css": "text-comp-op",
                "default-value": "src-over",
                "default-meaning": "add the current symbolizer on top of other symbolizer",
                "doc": "Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",
                "type": ["clear",
                    "src",
                    "dst",
                    "src-over",
                    "dst-over",
                    "src-in",
                    "dst-in",
                    "src-out",
                    "dst-out",
                    "src-atop",
                    "dst-atop",
                    "xor",
                    "plus",
                    "minus",
                    "multiply",
                    "screen",
                    "overlay",
                    "darken",
                    "lighten",
                    "color-dodge",
                    "color-burn",
                    "hard-light",
                    "soft-light",
                    "difference",
                    "exclusion",
                    "contrast",
                    "invert",
                    "invert-rgb",
                    "grain-merge",
                    "grain-extract",
                    "hue",
                    "saturation",
                    "color",
                    "value"
                ]
            }
        },
        "building": {
            "fill": {
                "css": "building-fill",
                "default-value": "#FFFFFF",
                "doc": "The color of the buildings walls.",
                "type": "color"
            },
            "fill-opacity": {
                "css": "building-fill-opacity",
                "type": "float",
                "doc": "The opacity of the building as a whole, including all walls.",
                "default-value": 1
            },
            "height": {
                "css": "building-height",
                "doc": "The height of the building in pixels.",
                "type": "expression",
                "default-value": "0"
            }
        }
    },
    "colors": {
        "aliceblue": [240, 248, 255],
        "antiquewhite": [250, 235, 215],
        "aqua": [0, 255, 255],
        "aquamarine": [127, 255, 212],
        "azure": [240, 255, 255],
        "beige": [245, 245, 220],
        "bisque": [255, 228, 196],
        "black": [0, 0, 0],
        "blanchedalmond": [255, 235, 205],
        "blue": [0, 0, 255],
        "blueviolet": [138, 43, 226],
        "brown": [165, 42, 42],
        "burlywood": [222, 184, 135],
        "cadetblue": [95, 158, 160],
        "chartreuse": [127, 255, 0],
        "chocolate": [210, 105, 30],
        "coral": [255, 127, 80],
        "cornflowerblue": [100, 149, 237],
        "cornsilk": [255, 248, 220],
        "crimson": [220, 20, 60],
        "cyan": [0, 255, 255],
        "darkblue": [0, 0, 139],
        "darkcyan": [0, 139, 139],
        "darkgoldenrod": [184, 134, 11],
        "darkgray": [169, 169, 169],
        "darkgreen": [0, 100, 0],
        "darkgrey": [169, 169, 169],
        "darkkhaki": [189, 183, 107],
        "darkmagenta": [139, 0, 139],
        "darkolivegreen": [85, 107, 47],
        "darkorange": [255, 140, 0],
        "darkorchid": [153, 50, 204],
        "darkred": [139, 0, 0],
        "darksalmon": [233, 150, 122],
        "darkseagreen": [143, 188, 143],
        "darkslateblue": [72, 61, 139],
        "darkslategrey": [47, 79, 79],
        "darkturquoise": [0, 206, 209],
        "darkviolet": [148, 0, 211],
        "deeppink": [255, 20, 147],
        "deepskyblue": [0, 191, 255],
        "dimgray": [105, 105, 105],
        "dimgrey": [105, 105, 105],
        "dodgerblue": [30, 144, 255],
        "firebrick": [178, 34, 34],
        "floralwhite": [255, 250, 240],
        "forestgreen": [34, 139, 34],
        "fuchsia": [255, 0, 255],
        "gainsboro": [220, 220, 220],
        "ghostwhite": [248, 248, 255],
        "gold": [255, 215, 0],
        "goldenrod": [218, 165, 32],
        "gray": [128, 128, 128],
        "grey": [128, 128, 128],
        "green": [0, 128, 0],
        "greenyellow": [173, 255, 47],
        "honeydew": [240, 255, 240],
        "hotpink": [255, 105, 180],
        "indianred": [205, 92, 92],
        "indigo": [75, 0, 130],
        "ivory": [255, 255, 240],
        "khaki": [240, 230, 140],
        "lavender": [230, 230, 250],
        "lavenderblush": [255, 240, 245],
        "lawngreen": [124, 252, 0],
        "lemonchiffon": [255, 250, 205],
        "lightblue": [173, 216, 230],
        "lightcoral": [240, 128, 128],
        "lightcyan": [224, 255, 255],
        "lightgoldenrodyellow": [250, 250, 210],
        "lightgray": [211, 211, 211],
        "lightgreen": [144, 238, 144],
        "lightgrey": [211, 211, 211],
        "lightpink": [255, 182, 193],
        "lightsalmon": [255, 160, 122],
        "lightseagreen": [32, 178, 170],
        "lightskyblue": [135, 206, 250],
        "lightslategray": [119, 136, 153],
        "lightslategrey": [119, 136, 153],
        "lightsteelblue": [176, 196, 222],
        "lightyellow": [255, 255, 224],
        "lime": [0, 255, 0],
        "limegreen": [50, 205, 50],
        "linen": [250, 240, 230],
        "magenta": [255, 0, 255],
        "maroon": [128, 0, 0],
        "mediumaquamarine": [102, 205, 170],
        "mediumblue": [0, 0, 205],
        "mediumorchid": [186, 85, 211],
        "mediumpurple": [147, 112, 219],
        "mediumseagreen": [60, 179, 113],
        "mediumslateblue": [123, 104, 238],
        "mediumspringgreen": [0, 250, 154],
        "mediumturquoise": [72, 209, 204],
        "mediumvioletred": [199, 21, 133],
        "midnightblue": [25, 25, 112],
        "mintcream": [245, 255, 250],
        "mistyrose": [255, 228, 225],
        "moccasin": [255, 228, 181],
        "navajowhite": [255, 222, 173],
        "navy": [0, 0, 128],
        "oldlace": [253, 245, 230],
        "olive": [128, 128, 0],
        "olivedrab": [107, 142, 35],
        "orange": [255, 165, 0],
        "orangered": [255, 69, 0],
        "orchid": [218, 112, 214],
        "palegoldenrod": [238, 232, 170],
        "palegreen": [152, 251, 152],
        "paleturquoise": [175, 238, 238],
        "palevioletred": [219, 112, 147],
        "papayawhip": [255, 239, 213],
        "peachpuff": [255, 218, 185],
        "peru": [205, 133, 63],
        "pink": [255, 192, 203],
        "plum": [221, 160, 221],
        "powderblue": [176, 224, 230],
        "purple": [128, 0, 128],
        "red": [255, 0, 0],
        "rosybrown": [188, 143, 143],
        "royalblue": [65, 105, 225],
        "saddlebrown": [139, 69, 19],
        "salmon": [250, 128, 114],
        "sandybrown": [244, 164, 96],
        "seagreen": [46, 139, 87],
        "seashell": [255, 245, 238],
        "sienna": [160, 82, 45],
        "silver": [192, 192, 192],
        "skyblue": [135, 206, 235],
        "slateblue": [106, 90, 205],
        "slategray": [112, 128, 144],
        "slategrey": [112, 128, 144],
        "snow": [255, 250, 250],
        "springgreen": [0, 255, 127],
        "steelblue": [70, 130, 180],
        "tan": [210, 180, 140],
        "teal": [0, 128, 128],
        "thistle": [216, 191, 216],
        "tomato": [255, 99, 71],
        "turquoise": [64, 224, 208],
        "violet": [238, 130, 238],
        "wheat": [245, 222, 179],
        "white": [255, 255, 255],
        "whitesmoke": [245, 245, 245],
        "yellow": [255, 255, 0],
        "yellowgreen": [154, 205, 50],
        "transparent": [0, 0, 0, 0]
    },
    "filter": {
        "value": [
            "true",
            "false",
            "null",
            "point",
            "linestring",
            "polygon",
            "collection"
        ]
    }
};

CartoCSS_CartoCSS['mapnik_reference'] = {
    version: {
        latest: SuperMap._mapnik_reference_latest,
        '2.1.1': SuperMap._mapnik_reference_latest
    }
};

SuperMap.CartoCSS = CartoCSS_CartoCSS;
SuperMap.CartoCSS.Tree = {};
SuperMap.CartoCSS.Tree.operate = function(op, a, b) {
    switch (op) {
        case '+': return a + b;
        case '-': return a - b;
        case '*': return a * b;
        case '%': return a % b;
        case '/': return a / b;
    }
};
SuperMap.CartoCSS.Tree.functions = {
    rgb: function (r, g, b) {
        return this.rgba(r, g, b, 1.0);
    },
    rgba: function (r, g, b, a) {
        var me = this;
        var rgb = [r, g, b].map(function (c) {
            return me.number(c);
        });
        a = me.number(a);
        if (rgb.some(isNaN) || isNaN(a)) {return null;}
        return new SuperMap.CartoCSS.Tree.Color(rgb, a);
    },
    // Only require val
    stop: function (val) {
        var color, mode;
        if (arguments.length > 1) {color = arguments[1];}
        if (arguments.length > 2) {mode = arguments[2];}

        return {
            is: 'tag',
            val: val,
            color: color,
            mode: mode,
            toString(env) {
                return '\n\t<stop value="' + val.ev(env) + '"' +
                    (color ? ' color="' + color.ev(env) + '" ' : '') +
                    (mode ? ' mode="' + mode.ev(env) + '" ' : '') +
                    '/>';
            }
        };
    },
    hsl: function (h, s, l) {
        return this.hsla(h, s, l, 1.0);
    },
    hsla: function (h, s, l, a) {
        h = (this.number(h) % 360) / 360;
        s = this.number(s);
        l = this.number(l);
        a = this.number(a);
        if ([h, s, l, a].some(isNaN)) {return null;}

        var m2 = l <= 0.5 ? l * (s + 1) : l + s - l * s,
            m1 = l * 2 - m2;

        return this.rgba(hue(h + 1 / 3) * 255,
            hue(h) * 255,
            hue(h - 1 / 3) * 255,
            a);

        function hue(h) {
            h = h < 0 ? h + 1 : (h > 1 ? h - 1 : h);
            if (h * 6 < 1) {return m1 + (m2 - m1) * h * 6;} else if (h * 2 < 1) {return m2;} else if (h * 3 < 2) {return m1 + (m2 - m1) * (2 / 3 - h) * 6;} else {return m1;}
        }
    },
    hue: function (color) {
        if (!('toHSL' in color)) {return null;}
        return new SuperMap.CartoCSS.Tree.Dimension(Math.round(color.toHSL().h));
    },
    saturation: function (color) {
        if (!('toHSL' in color)) {return null;}
        return new SuperMap.CartoCSS.Tree.Dimension(Math.round(color.toHSL().s * 100), '%');
    },
    lightness: function (color) {
        if (!('toHSL' in color)) {return null;}
        return new SuperMap.CartoCSS.Tree.Dimension(Math.round(color.toHSL().l * 100), '%');
    },
    alpha: function (color) {
        if (!('toHSL' in color)) {return null;}
        return new SuperMap.CartoCSS.Tree.Dimension(color.toHSL().a);
    },
    saturate: function (color, amount) {
        if (!('toHSL' in color)) {return null;}
        var hsl = color.toHSL();

        hsl.s += amount.value / 100;
        hsl.s = this.clamp(hsl.s);
        return this.hsla_simple(hsl);
    },
    desaturate: function (color, amount) {
        if (!('toHSL' in color)) {return null;}
        var hsl = color.toHSL();

        hsl.s -= amount.value / 100;
        hsl.s = this.clamp(hsl.s);
        return this.hsla_simple(hsl);
    },
    lighten: function (color, amount) {
        if (!('toHSL' in color)) {return null;}
        var hsl = color.toHSL();

        hsl.l += amount.value / 100;
        hsl.l = this.clamp(hsl.l);
        return this.hsla_simple(hsl);
    },
    darken: function (color, amount) {
        if (!('toHSL' in color)) {return null;}
        var hsl = color.toHSL();

        hsl.l -= amount.value / 100;
        hsl.l = this.clamp(hsl.l);
        return this.hsla_simple(hsl);
    },
    fadein: function (color, amount) {
        if (!('toHSL' in color)) {return null;}
        var hsl = color.toHSL();

        hsl.a += amount.value / 100;
        hsl.a = this.clamp(hsl.a);
        return this.hsla_simple(hsl);
    },
    fadeout: function (color, amount) {
        if (!('toHSL' in color)) {return null;}
        var hsl = color.toHSL();

        hsl.a -= amount.value / 100;
        hsl.a = this.clamp(hsl.a);
        return this.hsla_simple(hsl);
    },
    spin: function (color, amount) {
        if (!('toHSL' in color)) {return null;}
        var hsl = color.toHSL();
        var hue = (hsl.h + amount.value) % 360;

        hsl.h = hue < 0 ? 360 + hue : hue;

        return this.hsla_simple(hsl);
    },
    replace: function (entity, a, b) {
        if (entity.is === 'field') {
            return entity.toString + '.replace(' + a.toString() + ', ' + b.toString() + ')';
        } else {
            return entity.replace(a, b);
        }
    },
    //
    // Copyright (c) 2006-2009 Hampton Catlin, Nathan Weizenbaum, and Chris Eppstein
    // http://sass-lang.com
    //
    mix: function (color1, color2, weight) {
        var p = weight.value / 100.0;
        var w = p * 2 - 1;
        var a = color1.toHSL().a - color2.toHSL().a;

        var w1 = (((w * a == -1) ? w : (w + a) / (1 + w * a)) + 1) / 2.0;
        var w2 = 1 - w1;

        var rgb = [color1.rgb[0] * w1 + color2.rgb[0] * w2,
            color1.rgb[1] * w1 + color2.rgb[1] * w2,
            color1.rgb[2] * w1 + color2.rgb[2] * w2];

        var alpha = color1.alpha * p + color2.alpha * (1 - p);

        return new SuperMap.CartoCSS.Tree.Color(rgb, alpha);
    },
    greyscale: function (color) {
        return this.desaturate(color, new SuperMap.CartoCSS.Tree.Dimension(100));
    },
    '%': function (quoted /* arg, arg, ...*/) {
        var args = Array.prototype.slice.call(arguments, 1),
            str = quoted.value;

        for (var i = 0; i < args.length; i++) {
            str = str.replace(/%s/, args[i].value)
                .replace(/%[da]/, args[i].toString());
        }
        str = str.replace(/%%/g, '%');
        return new SuperMap.CartoCSS.Tree.Quoted(str);
    },

    hsla_simple: function (h) {
        return this.hsla(h.h, h.s, h.l, h.a);
    },

    number: function (n) {
        if (n instanceof SuperMap.CartoCSS.Tree.Dimension) {
            return parseFloat(n.unit === '%' ? n.value / 100 : n.value);
        } else if (typeof(n) === 'number') {
            return n;
        } else {
            return NaN;
        }
    },

    clamp: function (val) {
        return Math.min(1, Math.max(0, val));
    }
};

SuperMap.CartoCSS.Tree.Call = class Call {

    constructor(name, args, index) {
        this.is = 'call';
        this.name = name;
        this.args = args;
        this.index = index;
    }

    // When evuating a function call,
    // we either find the function in `tree.functions` [1],
    // in which case we call it, passing the  evaluated arguments,
    // or we simply print it out as it appeared originally [2].
    // The *functions.js* file contains the built-in functions.
    // The reason why we evaluate the arguments, is in the case where
    // we try to pass a variable to a function, like: `saturate(@color)`.
    // The function should receive the value, not the variable.
    'ev'(env) {
        var args = this.args.map(function (a) {
            return a.ev(env);
        });

        for (var i = 0; i < args.length; i++) {
            if (args[i].is === 'undefined') {
                return {
                    is: 'undefined',
                    value: 'undefined'
                };
            }
        }

        if (this.name in SuperMap.CartoCSS.Tree.functions) {
            if (SuperMap.CartoCSS.Tree.functions[this.name].length <= args.length) {
                var val = SuperMap.CartoCSS.Tree.functions[this.name].apply(SuperMap.CartoCSS.Tree.functions, args);
                if (val === null) {
                    env.error({
                        message: 'incorrect arguments given to ' + this.name + '()',
                        index: this.index,
                        type: 'runtime',
                        filename: this.filename
                    });
                    return {is: 'undefined', value: 'undefined'};
                }
                return val;
            } else {
                env.error({
                    message: 'incorrect number of arguments for ' + this.name +
                    '(). ' + SuperMap.CartoCSS.Tree.functions[this.name].length + ' expected.',
                    index: this.index,
                    type: 'runtime',
                    filename: this.filename
                });
                return {
                    is: 'undefined',
                    value: 'undefined'
                };
            }
        } else {
            var fn = SuperMap.CartoCSS.Tree.Reference.mapnikFunctions[this.name];
            if (fn === undefined) {
                var functions = lodash_topairs_default()(SuperMap.CartoCSS.Tree.Reference.mapnikFunctions);
                // cheap closest, needs improvement.
                var name = this.name;
                var mean = functions.map(function (f) {
                    return [f[0], SuperMap.CartoCSS.Tree.Reference.editDistance(name, f[0]), f[1]];
                }).sort(function (a, b) {
                    return a[1] - b[1];
                });
                env.error({
                    message: 'unknown function ' + this.name + '(), did you mean ' +
                    mean[0][0] + '(' + mean[0][2] + ')',
                    index: this.index,
                    type: 'runtime',
                    filename: this.filename
                });
                return {
                    is: 'undefined',
                    value: 'undefined'
                };
            }
            if (fn !== args.length &&
                // support variable-arg functions like `colorize-alpha`
                fn !== -1) {
                env.error({
                    message: 'function ' + this.name + '() takes ' +
                    fn + ' arguments and was given ' + args.length,
                    index: this.index,
                    type: 'runtime',
                    filename: this.filename
                });
                return {
                    is: 'undefined',
                    value: 'undefined'
                };
            } else {
                // Save the evaluated versions of arguments
                this.args = args;
                return this;
            }
        }
    }

    toString(env, format) {
        if (this.args.length) {
            return this.name + '(' + this.args.join(',') + ')';
        } else {
            return this.name;
        }
    }
};

SuperMap.CartoCSS.Tree.Color = class Color {

    constructor(rgb, a) {
        this.is = 'color';
        // The end goal here, is to parse the arguments
        // into an integer triplet, such as `128, 255, 0`
        //
        // This facilitates operations and conversions.
        if (Array.isArray(rgb)) {
            this.rgb = rgb.slice(0, 3);
        } else if (rgb.length == 6) {
            this.rgb = rgb.match(/.{2}/g).map(function (c) {
                return parseInt(c, 16);
            });
        } else {
            this.rgb = rgb.split('').map(function (c) {
                return parseInt(c + c, 16);
            });
        }

        if (typeof(a) === 'number') {
            this.alpha = a;
        } else if (rgb.length === 4) {
            this.alpha = rgb[3];
        } else {
            this.alpha = 1;
        }
    }

    'ev'() {
        return this;
    }

    // If we have some transparency, the only way to represent it
    // is via `rgba`. Otherwise, we use the hex representation,
    // which has better compatibility with older browsers.
    // Values are capped between `0` and `255`, rounded and zero-padded.
    toString() {
        /* if (this.alpha < 1.0) {*/
        return 'rgba(' + this.rgb.map(function (c) {
            return Math.round(c);
        }).concat(this.alpha).join(', ') + ')';
        /*} else {
         return '#' + this.rgb.map(function(i) {
         i = Math.round(i);
         i = (i > 255 ? 255 : (i < 0 ? 0 : i)).toString(16);
         return i.length === 1 ? '0' + i : i;
         }).join('');
         }*/
    }

    // Operations have to be done per-channel, if not,
    // channels will spill onto each other. Once we have
    // our result, in the form of an integer triplet,
    // we create a new Color node to hold the result.
    operate(env, op, other) {
        var result = [];

        if (!(other instanceof SuperMap.CartoCSS.Tree.Color)) {
            other = other.toColor();
        }

        for (var c = 0; c < 3; c++) {
            result[c] = SuperMap.CartoCSS.Tree.operate(op, this.rgb[c], other.rgb[c]);
        }
        return new SuperMap.CartoCSS.Tree.Color(result);
    }

    toHSL() {
        var r = this.rgb[0] / 255,
            g = this.rgb[1] / 255,
            b = this.rgb[2] / 255,
            a = this.alpha;

        var max = Math.max(r, g, b), min = Math.min(r, g, b);
        var h, s, l = (max + min) / 2, d = max - min;

        if (max === min) {
            h = s = 0;
        } else {
            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);

            switch (max) {
                case r:
                    h = (g - b) / d + (g < b ? 6 : 0);
                    break;
                case g:
                    h = (b - r) / d + 2;
                    break;
                case b:
                    h = (r - g) / d + 4;
                    break;
                default:
                    break;
            }
            h /= 6;
        }
        return {h: h * 360, s: s, l: l, a: a};
    }
};

SuperMap.CartoCSS.Tree.Comment = class Comment {
    constructor(value, silent) {
        this.value = value;
        this.silent = !!silent;
    }

    toString(env) {
        return '<!--' + this.value + '-->';
    }

    'ev'() {
        return this;
    }
};

SuperMap.CartoCSS.Tree.Definition = class Definition {
    constructor(selector, rules) {
        this.elements = selector.elements;
        //assert.ok(selector.filters instanceof SuperMap.CartoCSS.Tree.Filterset);
        this.rules = rules;
        this.ruleIndex = {};
        for (var i = 0; i < this.rules.length; i++) {
            if ('zoom' in this.rules[i]) {this.rules[i] = this.rules[i].clone();}
            this.rules[i].zoom = selector.zoom;
            this.ruleIndex[this.rules[i].updateID()] = true;
        }
        this.filters = selector.filters;
        this.zoom = selector.zoom;
        this.attachment = selector.attachment || '__default__';
        this.specificity = selector.specificity();
    }

    toString() {
        var str = this.filters.toString();
        for (var i = 0; i < this.rules.length; i++) {
            str += '\n    ' + this.rules[i];
        }
        return str;
    }

    toJS(env) {
        var shaderAttrs = {};

        // merge conditions from filters with zoom condition of the
        // definition
        var zoom = this.zoom;
        //var frame_offset = this.frame_offset;
        var _if = this.filters.toJS(env);
        var filters = [zoom];
        if (_if) {filters.push(_if);}
        //if(frame_offset) filters.push('ctx["frame-offset"] === ' + frame_offset);
        _if = filters.join(" && ");

        function eachRule(rule) {
            if (rule instanceof SuperMap.CartoCSS.Tree.Rule) {
                shaderAttrs[rule.name] = shaderAttrs[rule.name] || [];
                if (_if) {
                    shaderAttrs[rule.name].push(
                        "if(" + _if + "){" + rule.value.toJS(env) + "}"
                    );
                } else {
                    shaderAttrs[rule.name].push(rule.value.toJS(env));
                }
            } else {
                if (rule instanceof SuperMap.CartoCSS.Tree.Ruleset) {
                    var sh = rule.toJS(env);
                    for (var v in sh) {
                        shaderAttrs[v] = shaderAttrs[v] || [];
                        for (var attr in sh[v]) {
                            shaderAttrs[v].push(sh[v][attr]);
                        }
                    }
                }
            }
        }
        for (var id in this.rules) {
            eachRule(this.rules[id]);
        }
        return shaderAttrs;
    }
};

SuperMap.CartoCSS.Tree.Dimension = class Dimension {


    constructor(value, unit, index) {
        this.is = 'float';
        this.physical_units = ['m', 'cm', 'in', 'mm', 'pt', 'pc'];
        this.screen_units = ['px', '%'];
        this.all_units = ['m', 'cm', 'in', 'mm', 'pt', 'pc', 'px', '%'];
        this.densities = {
            m: 0.0254,
            mm: 25.4,
            cm: 2.54,
            pt: 72,
            pc: 6
        };
        this.value = parseFloat(value);
        this.unit = unit || null;
        this.index = index;
    }

    ev(env) {
        if (this.unit && this.all_units.indexOf(this.unit)<0) {
            env.error({
                message: "Invalid unit: '" + this.unit + "'",
                index: this.index
            });
            return {is: 'undefined', value: 'undefined'};
        }

        // normalize units which are not px or %
        if (this.unit && this.physical_units.indexOf(this.unit)>=0) {
            if (!env.ppi) {
                env.error({
                    message: "ppi is not set, so metric units can't be used",
                    index: this.index
                });
                return {is: 'undefined', value: 'undefined'};
            }
            // convert all units to inch
            // convert inch to px using ppi
            this.value = (this.value / this.densities[this.unit]) * env.ppi;
            this.unit = 'px';
        }

        return this;
    }

    toColor() {
        return new SuperMap.CartoCSS.Tree.Color([this.value, this.value, this.value]);
    }

    round() {
        this.value = Math.round(this.value);
        return this;
    }

    toString() {
        return this.value.toString();
    }

    operate(env, op, other) {
        if (this.unit === '%' && other.unit !== '%') {
            env.error({
                message: 'If two operands differ, the first must not be %',
                index: this.index
            });
            return {
                is: 'undefined',
                value: 'undefined'
            };
        }

        if (this.unit !== '%' && other.unit === '%') {
            if (op === '*' || op === '/' || op === '%') {
                env.error({
                    message: 'Percent values can only be added or subtracted from other values',
                    index: this.index
                });
                return {
                    is: 'undefined',
                    value: 'undefined'
                };
            }

            return new SuperMap.CartoCSS.Tree.Dimension(SuperMap.CartoCSS.Tree.operate(op,
                this.value, this.value * other.value * 0.01),
                this.unit);
        }

        //here the operands are either the same (% or undefined or px), or one is undefined and the other is px
        return new SuperMap.CartoCSS.Tree.Dimension(SuperMap.CartoCSS.Tree.operate(op, this.value, other.value),
            this.unit || other.unit);
    }
};

SuperMap.CartoCSS.Tree.Element = class Element {
    constructor(value) {
        this.value = value.trim();
        if (this.value[0] === '#') {
            this.type = 'id';
            this.clean = this.value.replace(/^#/, '');
        }
        if (this.value[0] === '.') {
            this.type = 'class';
            this.clean = this.value.replace(/^\./, '');
        }
        if (this.value.indexOf('*') !== -1) {
            this.type = 'wildcard';
        }
    }

    specificity() {
        return [
            (this.type === 'id') ? 1 : 0, // a
            (this.type === 'class') ? 1 : 0  // b
        ];
    }

    toString() {
        return this.value;
    }
};

SuperMap.CartoCSS.Tree.Expression = class Expression {


    constructor(value) {
        this.is = 'expression';
        this.value = value;
    }

    ev(env) {
        if (this.value.length > 1) {
            return new SuperMap.CartoCSS.Tree.Expression(this.value.map(function (e) {
                return e.ev(env);
            }));
        } else {
            return this.value[0].ev(env);
        }
    }

    toString(env) {
        return this.value.map(function (e) {
            return e.toString(env);
        }).join(' ');
    }
};

SuperMap.CartoCSS.Tree.Field = class Field {

    constructor(content) {
        this.is = 'field';
        this.value = content || '';
    }

    toString() {
        return '["' + this.value.toUpperCase() + '"]';
    }

    'ev'() {
        return this;
    }
};

SuperMap.CartoCSS.Tree.Filter = class Filter {

    constructor(key, op, val, index, filename) {
        this.ops = {
            '<': [' &lt; ', 'numeric'],
            '>': [' &gt; ', 'numeric'],
            '=': [' = ', 'both'],
            '!=': [' != ', 'both'],
            '<=': [' &lt;= ', 'numeric'],
            '>=': [' &gt;= ', 'numeric'],
            '=~': ['.match(', 'string', ')']
        };

        this.key = key;
        this.op = op;
        this.val = val;
        this.index = index;
        this.filename = filename;

        this.id = this.key + this.op + this.val;
    }

    ev(env) {
        this.key = this.key.ev(env);
        this.val = this.val.ev(env);
        return this;
    }

    toString() {
        return '[' + this.id + ']';
    }
};

SuperMap.CartoCSS.Tree.Filterset = class Filterset {
    constructor() {
        this.filters = {};
    }

    toJS(env) {
        function eachFilter(filter) {
            var op = filter.op;
            if (op === "=") {
                op = "==";
            }
            var val = filter.val;
            if (filter._val !== undefined) {
                val = filter._val.toString(true);
            }

            //å¯¹scaleè¿è¡ç¹æ®å¤çï¼å°å¼è½¬æ¢ææ°å¼
            if (filter.key && filter.key.value === 'scale') {
                val = +val;
            } else if (typeof val === 'string' || typeof val === 'object') {
                val = "'" + val + "'";
            }
            var attrs = "attributes";
            return attrs + "&&" + attrs + filter.key + "&&" + attrs + filter.key + " " + op + val;
        }
        var results = [];
        for (var id in this.filters) {
            results.push(eachFilter(this.filters[id]));
        }
        return results.join(' && ');
    }

    toString() {
        var arr = [];
        for (var id in this.filters) {arr.push(this.filters[id].id);}
        return arr.sort().join('\t');
    }

    ev(env) {
        for (var i in this.filters) {
            this.filters[i].ev(env);
        }
        return this;
    }

    clone() {
        var clone = new SuperMap.CartoCSS.Tree.Filterset();
        for (var id in this.filters) {
            clone.filters[id] = this.filters[id];
        }
        return clone;
    }

    cloneWith(other) {
        var additions = [];
        for (var id in other.filters) {
            var status = this.addable(other.filters[id]);
            // status is true, false or null. if it's null we don't fail this
            // clone nor do we add the filter.
            if (status === false) {
                return false;
            }
            if (status === true) {
                // Adding the filter will override another value.
                additions.push(other.filters[id]);
            }
        }

        // Adding the other filters doesn't make this filterset invalid, but it
        // doesn't add anything to it either.
        if (!additions.length) {
            return null;
        }

        // We can successfully add all filters. Now clone the filterset and add the
        // new rules.
        var clone = new SuperMap.CartoCSS.Tree.Filterset();

        // We can add the rules that are already present without going through the
        // add function as a Filterset is always in it's simplest canonical form.
        for (id in this.filters) {
            clone.filters[id] = this.filters[id];
        }

        // Only add new filters that actually change the filter.
        while (id = additions.shift()) {
            clone.add(id);
        }

        return clone;
    }

    addable(filter) {
        var key = filter.key.toString(),
            value = filter.val.toString();

        if (value.match(/^[0-9]+(\.[0-9]*)?$/)) {value = parseFloat(value);}

        switch (filter.op) {
            case '=':
                // if there is already foo= and we're adding foo=
                if (this.filters[key + '='] !== undefined) {
                    if (this.filters[key + '='].val.toString() != value) {
                        return false;
                    } else {
                        return null;
                    }
                }
                if (this.filters[key + '!=' + value] !== undefined) {return false;}
                if (this.filters[key + '>'] !== undefined && this.filters[key + '>'].val >= value) {return false;}
                if (this.filters[key + '<'] !== undefined && this.filters[key + '<'].val <= value) {return false;}
                if (this.filters[key + '>='] !== undefined && this.filters[key + '>='].val > value) {return false;}
                if (this.filters[key + '<='] !== undefined && this.filters[key + '<='].val < value) {return false;}
                return true;

            case '=~':
                return true;

            case '!=':
                if (this.filters[key + '='] !== undefined) {return (this.filters[key + '='].val === value) ? false : null;}
                if (this.filters[key + '!=' + value] !== undefined) {return null;}
                if (this.filters[key + '>'] !== undefined && this.filters[key + '>'].val >= value) {return null;}
                if (this.filters[key + '<'] !== undefined && this.filters[key + '<'].val <= value) {return null;}
                if (this.filters[key + '>='] !== undefined && this.filters[key + '>='].val > value) {return null;}
                if (this.filters[key + '<='] !== undefined && this.filters[key + '<='].val < value) {return null;}
                return true;

            case '>':
                if (key + '=' in this.filters) {
                    if (this.filters[key + '='].val <= value) {
                        return false;
                    } else {
                        return null;
                    }
                }
                if (this.filters[key + '<'] !== undefined && this.filters[key + '<'].val <= value) {return false;}
                if (this.filters[key + '<='] !== undefined && this.filters[key + '<='].val <= value) {return false;}
                if (this.filters[key + '>'] !== undefined && this.filters[key + '>'].val >= value) {return null;}
                if (this.filters[key + '>='] !== undefined && this.filters[key + '>='].val > value) {return null;}
                return true;

            case '>=':
                if (this.filters[key + '='] !== undefined) {return (this.filters[key + '='].val < value) ? false : null;}
                if (this.filters[key + '<'] !== undefined && this.filters[key + '<'].val <= value) {return false;}
                if (this.filters[key + '<='] !== undefined && this.filters[key + '<='].val < value) {return false;}
                if (this.filters[key + '>'] !== undefined && this.filters[key + '>'].val >= value) {return null;}
                if (this.filters[key + '>='] !== undefined && this.filters[key + '>='].val >= value) {return null;}
                return true;

            case '<':
                if (this.filters[key + '='] !== undefined) {return (this.filters[key + '='].val >= value) ? false : null;}
                if (this.filters[key + '>'] !== undefined && this.filters[key + '>'].val >= value) {return false;}
                if (this.filters[key + '>='] !== undefined && this.filters[key + '>='].val >= value) {return false;}
                if (this.filters[key + '<'] !== undefined && this.filters[key + '<'].val <= value) {return null;}
                if (this.filters[key + '<='] !== undefined && this.filters[key + '<='].val < value) {return null;}
                return true;

            case '<=':
                if (this.filters[key + '='] !== undefined) {return (this.filters[key + '='].val > value) ? false : null;}
                if (this.filters[key + '>'] !== undefined && this.filters[key + '>'].val >= value) {return false;}
                if (this.filters[key + '>='] !== undefined && this.filters[key + '>='].val > value) {return false;}
                if (this.filters[key + '<'] !== undefined && this.filters[key + '<'].val <= value) {return null;}
                if (this.filters[key + '<='] !== undefined && this.filters[key + '<='].val <= value) {return null;}
                return true;

            default:
                break;
        }
    }

    conflict(filter) {
        var key = filter.key.toString(),
            value = filter.val.toString();

        if (!isNaN(parseFloat(value))) {value = parseFloat(value);}

        // if (a=b) && (a=c)
        // if (a=b) && (a!=b)
        // or (a!=b) && (a=b)
        if ((filter.op === '=' && this.filters[key + '='] !== undefined &&
                value != this.filters[key + '='].val.toString()) ||
            (filter.op === '!=' && this.filters[key + '='] !== undefined &&
                value == this.filters[key + '='].val.toString()) ||
            (filter.op === '=' && this.filters[key + '!='] !== undefined &&
                value === this.filters[key + '!='].val.toString())) {
            return filter.toString() + ' added to ' + this.toString() + ' produces an invalid filter';
        }

        return false;
    }

    add(filter, env) {
        var key = filter.key.toString(),
            op = filter.op,
            conflict = this.conflict(filter),
            numval;
        if (conflict) {return conflict;}

        if (op === '=') {
            for (var i in this.filters) {
                if (this.filters[i].key === key) {delete this.filters[i];}
            }
            this.filters[key + '='] = filter;
        } else if (op === '!=') {
            this.filters[key + '!=' + filter.val] = filter;
        } else if (op === '=~') {
            this.filters[key + '=~' + filter.val] = filter;
        } else if (op === '>') {
            // If there are other filters that are also >
            // but are less than this one, they don't matter, so
            // remove them.
            for (var j in this.filters) {
                if (this.filters[j].key === key && this.filters[j].val <= filter.val) {
                    delete this.filters[j];
                }
            }
            this.filters[key + '>'] = filter;
        } else if (op === '>=') {
            for (var k in this.filters) {
                numval = (+this.filters[k].val.toString());
                if (this.filters[k].key === key && numval < filter.val) {
                    delete this.filters[k];
                }
            }
            if (this.filters[key + '!=' + filter.val] !== undefined) {
                delete this.filters[key + '!=' + filter.val];
                filter.op = '>';
                this.filters[key + '>'] = filter;
            } else {
                this.filters[key + '>='] = filter;
            }
        } else if (op === '<') {
            for (var l in this.filters) {
                numval = (+this.filters[l].val.toString());
                if (this.filters[l].key === key && numval >= filter.val) {
                    delete this.filters[l];
                }
            }
            this.filters[key + '<'] = filter;
        } else if (op === '<=') {
            for (var m in this.filters) {
                numval = (+this.filters[m].val.toString());
                if (this.filters[m].key === key && numval > filter.val) {
                    delete this.filters[m];
                }
            }
            if (this.filters[key + '!=' + filter.val] !== undefined) {
                delete this.filters[key + '!=' + filter.val];
                filter.op = '<';
                this.filters[key + '<'] = filter;
            } else {
                this.filters[key + '<='] = filter;
            }
        }
    }
};

SuperMap.CartoCSS.Tree.Fontset = class Fontset {
    constructor(env, fonts) {
        this.fonts = fonts;
        this.name = 'fontset-' + env.effects.length;
    }
};
SuperMap.CartoCSS.Tree.Invalid = class Invalid {

    constructor(chunk, index, message) {
        this.is = 'invalid';
        this.chunk = chunk;
        this.index = index;
        this.type = 'syntax';
        this.message = message || "Invalid code: " + this.chunk;
    }

    ev(env) {
        env.error({
            chunk: this.chunk,
            index: this.index,
            type: 'syntax',
            message: this.message || "Invalid code: " + this.chunk
        });
        return {
            is: 'undefined'
        };
    }
};

SuperMap.CartoCSS.Tree.Keyword = class Keyword {
    ev() {
        return this;
    }

    constructor(value) {
        this.value = value;
        var special = {
            'transparent': 'color',
            'true': 'boolean',
            'false': 'boolean'
        };
        this.is = special[value] ? special[value] : 'keyword';
    }

    toString() {
        return this.value;
    }
};

/*Layer:class Invalid ),*/

SuperMap.CartoCSS.Tree.Literal = class Literal {
    constructor(content) {
        this.value = content || '';
        this.is = 'field';
    }

    toString() {
        return this.value;
    }

    'ev'() {
        return this;
    }
};

SuperMap.CartoCSS.Tree.Operation = class Operation {

    constructor(op, operands, index) {
        this.is = 'operation';
        this.op = op.trim();
        this.operands = operands;
        this.index = index;
    }

    ev(env) {
        var a = this.operands[0].ev(env),
            b = this.operands[1].ev(env),
            temp;

        if (a.is === 'undefined' || b.is === 'undefined') {
            return {
                is: 'undefined',
                value: 'undefined'
            };
        }

        if (a instanceof SuperMap.CartoCSS.Tree.Dimension && b instanceof SuperMap.CartoCSS.Tree.Color) {
            if (this.op === '*' || this.op === '+') {
                temp = b, b = a, a = temp;
            } else {
                env.error({
                    name: "OperationError",
                    message: "Can't substract or divide a color from a number",
                    index: this.index
                });
            }
        }

        // Only concatenate plain strings, because this is easily
        // pre-processed
        if (a instanceof SuperMap.CartoCSS.Tree.Quoted && b instanceof SuperMap.CartoCSS.Tree.Quoted && this.op !== '+') {
            env.error({
                message: "Can't subtract, divide, or multiply strings.",
                index: this.index,
                type: 'runtime',
                filename: this.filename
            });
            return {
                is: 'undefined',
                value: 'undefined'
            };
        }

        // Fields, literals, dimensions, and quoted strings can be combined.
        if (a instanceof SuperMap.CartoCSS.Tree.Field || b instanceof SuperMap.CartoCSS.Tree.Field ||
            a instanceof SuperMap.CartoCSS.Tree.Literal || b instanceof SuperMap.CartoCSS.Tree.Literal) {
            if (a.is === 'color' || b.is === 'color') {
                env.error({
                    message: "Can't subtract, divide, or multiply colors in expressions.",
                    index: this.index,
                    type: 'runtime',
                    filename: this.filename
                });
                return {
                    is: 'undefined',
                    value: 'undefined'
                };
            } else {
                return new SuperMap.CartoCSS.Tree.Literal(a.ev(env).toString(true) + this.op + b.ev(env).toString(true));
            }
        }

        if (a.operate === undefined) {
            env.error({
                message: 'Cannot do math with type ' + a.is + '.',
                index: this.index,
                type: 'runtime',
                filename: this.filename
            });
            return {
                is: 'undefined',
                value: 'undefined'
            };
        }

        return a.operate(env, this.op, b);
    }
};

SuperMap.CartoCSS.Tree.Quoted = class Quoted {

    constructor(content) {
        this.is = 'string';
        this.value = content || '';
    }

    toString(quotes) {
        var escapedValue = this.value
            .replace(/&/g, '&amp;')
        var xmlvalue = escapedValue
            .replace(/\'/g, '\\\'')
            .replace(/\"/g, '&quot;')
            .replace(/</g, '&lt;')
            .replace(/\>/g, '&gt;');
        return (quotes === true) ? "'" + xmlvalue + "'" : escapedValue;
    }

    ev() {
        return this;
    }

    operate(env, op, other) {
        return new SuperMap.CartoCSS.Tree.Quoted(SuperMap.CartoCSS.Tree.operate(op, this.toString(), other.toString(this.contains_field)));
    }
};

SuperMap.CartoCSS.Tree.Reference = {
    _validateValue: {
        'font': function (env, value) {
            if (env.validation_data && env.validation_data.fonts) {
                return env.validation_data.fonts.indexOf(value) != -1;
            } else {
                return true;
            }
        }
    },
    setData: function (data) {
        this.data = data;
        this.selector_cache = generateSelectorCache(data);
        this.mapnikFunctions = generateMapnikFunctions(data);
        this.required_cache = generateRequiredProperties(data);

        function generateSelectorCache(data) {
            var index = {};
            for (var i in data.symbolizers) {
                for (var j in data.symbolizers[i]) {
                    if (data.symbolizers[i][j].hasOwnProperty('css')) {
                        index[data.symbolizers[i][j].css] = [data.symbolizers[i][j], i, j];
                    }
                }
            }
            return index;
        }

        function generateMapnikFunctions(data) {
            var functions = {};
            for (var i in data.symbolizers) {
                for (var j in data.symbolizers[i]) {
                    if (data.symbolizers[i][j].type === 'functions') {
                        for (var k = 0; k < data.symbolizers[i][j].functions.length; k++) {
                            var fn = data.symbolizers[i][j].functions[k];
                            functions[fn[0]] = fn[1];
                        }
                    }
                }
            }
            return functions;
        }

        function generateRequiredProperties(data) {
            var cache = {};
            for (var symbolizer_name in data.symbolizers) {
                cache[symbolizer_name] = [];
                for (var j in data.symbolizers[symbolizer_name]) {
                    if (data.symbolizers[symbolizer_name][j].required) {
                        cache[symbolizer_name].push(data.symbolizers[symbolizer_name][j].css);
                    }
                }
            }
            return cache;
        }
    },
    setVersion: function (version) {
        if (SuperMap.CartoCSS.mapnik_reference.version.hasOwnProperty(version)) {
            this.setData(SuperMap.CartoCSS.mapnik_reference.version[version]);
            return true;
        }
        return false;
    },
    selectorData: function (selector, i) {
        if (this.selector_cache && this.selector_cache[selector]) {return this.selector_cache[selector][i];}
    },
    validSelector: function (selector) {
        return !!this.selector_cache[selector];
    },
    selectorName: function (selector) {
        return this.selectorData(selector, 2);
    },
    selector: function (selector) {
        return this.selectorData(selector, 0);
    },
    symbolizer: function (selector) {
        return this.selectorData(selector, 1);
    },
    requiredProperties: function (symbolizer_name, rules) {
        var req = this.required_cache[symbolizer_name];
        for (var i in req) {
            if (!(req[i] in rules)) {
                return 'Property ' + req[i] + ' required for defining ' +
                    symbolizer_name + ' styles.';
            }
        }
    },
    isFont: function (selector) {
        return this.selector(selector).validate === 'font';
    },
    editDistance: function (a, b) {
        if (a.length === 0) {return b.length;}
        if (b.length === 0) {return a.length;}
        var matrix = [];
        for (var i = 0; i <= b.length; i++) {
            matrix[i] = [i];
        }
        for (var j = 0; j <= a.length; j++) {
            matrix[0][j] = j;
        }
        for (i = 1; i <= b.length; i++) {
            for (j = 1; j <= a.length; j++) {
                if (b.charAt(i - 1) === a.charAt(j - 1)) {
                    matrix[i][j] = matrix[i - 1][j - 1];
                } else {
                    matrix[i][j] = Math.min(matrix[i - 1][j - 1] + 1, // substitution
                        Math.min(matrix[i][j - 1] + 1, // insertion
                            matrix[i - 1][j] + 1)); // deletion
                }
            }
        }
        return matrix[b.length][a.length];
    },
    validValue: function (env, selector, value) {
        function validateFunctions(value, selector) {
            if (value.value[0].is === 'string') {return true;}
            for (var i in value.value) {
                for (var j in value.value[i].value) {
                    if (value.value[i].value[j].is !== 'call') {return false;}
                    var f = find(this.selector(selector).functions, function (x) {//NOSONAR
                        return x[0] === value.value[i].value[j].name;
                    });
                    if (!(f && f[1] === -1)) {
                        // This filter is unknown or given an incorrect number of arguments
                        if (!f || f[1] !== value.value[i].value[j].args.length) {return false;}
                    }
                }
            }
            return true;
        }

        function validateKeyword(value, selector) {
            if (typeof this.selector(selector).type === 'object') {
                return this.selector(selector).type
                    .indexOf(value.value[0].value) !== -1;
            } else {
                // allow unquoted keywords as strings
                return this.selector(selector).type === 'string';
            }
        }

        var i;
        if (!this.selector(selector)) {
            return false;
        } else if (value.value[0].is === 'keyword') {
            return validateKeyword(value, selector);
        } else if (value.value[0].is === 'undefined') {
            // caught earlier in the chain - ignore here so that
            // error is not overridden
            return true;
        } else if (this.selector(selector).type === 'numbers') {
            for (i in value.value) {
                if (value.value[i].is !== 'float') {
                    return false;
                }
            }
            return true;
        } else if (this.selector(selector).type === 'tags') {
            if (!value.value) {return false;}
            if (!value.value[0].value) {
                return value.value[0].is === 'tag';
            }
            for (i = 0; i < value.value[0].value.length; i++) {
                if (value.value[0].value[i].is !== 'tag') {return false;}
            }
            return true;
        } else if (this.selector(selector).type == 'functions') {
            // For backwards compatibility, you can specify a string for `functions`-compatible
            // values, though they will not be validated.
            return validateFunctions(value, selector);
        } else if (this.selector(selector).type === 'expression') {
            return true;
        } else if (this.selector(selector).type === 'unsigned') {
            if (value.value[0].is === 'float') {
                value.value[0].round();
                return true;
            } else {
                return false;
            }
        } else {
            if (this.selector(selector).validate) {
                var valid = false;
                for (i = 0; i < value.value.length; i++) {
                    if (this.selector(selector).type === value.value[i].is &&
                        this._validateValue[this.selector(selector).validate](env, value.value[i].value)) {
                        return true;
                    }
                }
                return valid;
            } else {
                return this.selector(selector).type === value.value[0].is;
            }
        }
    }
};
SuperMap.CartoCSS.Tree.Reference.setVersion("latest");

SuperMap.CartoCSS.Tree.Rule = class Rule {

    constructor(name, value, index, filename) {
        this.is = 'rule';
        var parts = name.split('/');
        this.name = parts.pop();
        this.instance = parts.length ? parts[0] : '__default__';
        this.value = (value instanceof SuperMap.CartoCSS.Tree.Value) ?
            value : new SuperMap.CartoCSS.Tree.Value([value]);
        this.index = index;
        this.symbolizer = SuperMap.CartoCSS.Tree.Reference.symbolizer(this.name);
        this.filename = filename;
        this.variable = (name.charAt(0) === '@');
    }

    clone() {
        var clone = Object.create(SuperMap.CartoCSS.Tree.Rule.prototype);
        clone.name = this.name;
        clone.value = this.value;
        clone.index = this.index;
        clone.instance = this.instance;
        clone.symbolizer = this.symbolizer;
        clone.filename = this.filename;
        clone.variable = this.variable;
        return clone;
    }

    updateID() {
        return this.id = this.zoom + '#' + this.instance + '#' + this.name;
    }

    toString() {
        return '[' + SuperMap.CartoCSS.Tree.Zoom.toString(this.zoom) + '] ' + this.name + ': ' + this.value;
    }
    ev(context) {
        return new SuperMap.CartoCSS.Tree.Rule(this.name,
            this.value.ev(context),
            this.index,
            this.filename);
    }
};

SuperMap.CartoCSS.Tree.Ruleset = class Ruleset {

    constructor(selectors, rules) {
        this.is = 'ruleset';
        this.selectors = selectors;
        this.rules = rules;
        // static cache of find() function
        this._lookups = {};
    }

    ev(env) {
        var i,
            rule,
            ruleset = new SuperMap.CartoCSS.Tree.Ruleset(this.selectors, this.rules.slice(0));
        ruleset.root = this.root;

        // push the current ruleset to the frames stack
        env.frames.unshift(ruleset);

        // Evaluate everything else
        for (i = 0, rule; i < ruleset.rules.length; i++) {
            rule = ruleset.rules[i];
            ruleset.rules[i] = rule.ev ? rule.ev(env) : rule;
        }

        // Pop the stack
        env.frames.shift();

        return ruleset;
    }

    match(args) {
        return !args || args.length === 0;
    }

    variables() {
        if (this._variables) {
            return this._variables;
        } else {
            return this._variables = this.rules.reduce(function (hash, r) {
                if (r instanceof SuperMap.CartoCSS.Tree.Rule && r.variable === true) {
                    hash[r.name] = r;
                }
                return hash;
            }, {});
        }
    }

    variable(name) {
        return this.variables()[name];
    }

    rulesets() {
        if (this._rulesets) {
            return this._rulesets;
        } else {
            return this._rulesets = this.rules.filter(function (r) {
                return (r instanceof SuperMap.CartoCSS.Tree.Ruleset);
            });
        }
    }

    find(selector, self) {
        self = self || this;
        var rules = [], match,
            key = selector.toString();

        if (key in this._lookups) {
            return this._lookups[key];
        }

        this.rulesets().forEach(function (rule) {
            if (rule !== self) {
                for (var j = 0; j < rule.selectors.length; j++) {
                    match = selector.match(rule.selectors[j]);
                    if (match) {
                        if (selector.elements.length > 1) {
                            Array.prototype.push.apply(rules, rule.find(
                                new SuperMap.CartoCSS.Tree.Selector(null, null, selector.elements.slice(1)), self));
                        } else {
                            rules.push(rule);
                        }
                        break;
                    }
                }
            }
        });
        return this._lookups[key] = rules;
    }

    // Zooms can use variables. This replaces SuperMap.CartoCSS.Tree.Zoom objects on selectors
    // with simple bit-arrays that we can compare easily.
    evZooms(env) {
        for (var i = 0; i < this.selectors.length; i++) {
            var zval = SuperMap.CartoCSS.Tree.Zoom.all;
            for (var z = 0; z < this.selectors[i].zoom.length; z++) {
                zval = this.selectors[i].zoom[z].ev(env).zoom;
            }
            this.selectors[i].zoom = zval;
        }
    }

    flatten(result, parents, env) {
        var selectors = [], i, j;
        if (this.selectors.length === 0) {
            env.frames = env.frames.concat(this.rules);
        }
        // evaluate zoom variables on this object.
        this.evZooms(env);
        for (i = 0; i < this.selectors.length; i++) {
            var child = this.selectors[i];

            if (!child.filters) {
                // This is an invalid filterset.
                continue;
            }

            if (parents.length) {
                for (j = 0; j < parents.length; j++) {
                    var parent = parents[j];

                    var mergedFilters = parent.filters.cloneWith(child.filters);
                    if (mergedFilters === null) {
                        // Filters could be added, but they didn't change the
                        // filters. This means that we only have to clone when
                        // the zoom levels or the attachment is different too.
                        if (parent.zoom === child.zoom &&
                            parent.attachment === child.attachment &&
                            parent.elements.join() === child.elements.join()) {
                            selectors.push(parent);
                            continue;
                        } else {
                            mergedFilters = parent.filters;
                        }
                    } else if (!mergedFilters) {
                        // The merged filters are invalid, that means we don't
                        // have to clone.
                        continue;
                    }

                    var clone = Object.create(SuperMap.CartoCSS.Tree.Selector.prototype);
                    clone.filters = mergedFilters;
                    clone.zoom = child.zoom;
                    clone.elements = parent.elements.concat(child.elements);
                    if (parent.attachment && child.attachment) {
                        clone.attachment = parent.attachment + '/' + child.attachment;
                    } else {clone.attachment = child.attachment || parent.attachment;}
                    clone.conditions = parent.conditions + child.conditions;
                    clone.index = child.index;
                    selectors.push(clone);
                }
            } else {
                selectors.push(child);
            }
        }

        var rules = [];
        for (i = 0; i < this.rules.length; i++) {
            var rule = this.rules[i];

            // Recursively flatten any nested rulesets
            if (rule instanceof SuperMap.CartoCSS.Tree.Ruleset) {
                rule.flatten(result, selectors, env);
            } else if (rule instanceof SuperMap.CartoCSS.Tree.Rule) {
                rules.push(rule);
            } else if (rule instanceof SuperMap.CartoCSS.Tree.Invalid) {
                env.error(rule);
            }
        }

        var index = rules.length ? rules[0].index : false;
        for (i = 0; i < selectors.length; i++) {
            // For specificity sort, use the position of the first rule to allow
            // defining attachments that are under current element as a descendant
            // selector.
            if (index !== false) {
                selectors[i].index = index;
            }
            result.push(new SuperMap.CartoCSS.Tree.Definition(selectors[i], rules.slice()));
        }

        return result;
    }
};

SuperMap.CartoCSS.Tree.Selector = class Selector {
    constructor(filters, zoom, elements, attachment, conditions, index) {
        this.elements = elements || [];
        this.attachment = attachment;
        this.filters = filters || {};
        this.zoom = typeof zoom !== 'undefined' ? zoom : SuperMap.CartoCSS.Tree.Zoom.all;
        this.conditions = conditions;
        this.index = index;
    }

    specificity() {
        return this.elements.reduce(function (memo, e) {
            var spec = e.specificity();
            memo[0] += spec[0];
            memo[1] += spec[1];
            return memo;
        }, [0, 0, this.conditions, this.index]);
    }
};

/*style:class Invalid ),*/

SuperMap.CartoCSS.Tree.URL = class URL {

    constructor(val, paths) {
        this.is = 'uri';
        this.value = val;
        this.paths = paths;
    }

    toString() {
        return this.value.toString();
    }

    ev(ctx) {
        return new SuperMap.CartoCSS.Tree.URL(this.value.ev(ctx), this.paths);
    }
};

SuperMap.CartoCSS.Tree.Value = class Value {

    constructor(value) {
        this.is = 'value';
        this.value = value;
    }

    ev(env) {
        if (this.value.length === 1) {
            return this.value[0].ev(env);
        } else {
            return new SuperMap.CartoCSS.Tree.Value(this.value.map(function (v) {
                return v.ev(env);
            }));
        }
    }

    toJS(env) {
        //var v = this.value[0].value[0];
        var val = this.ev(env);
        var v = val.toString();
        if (val.is === "color" || val.is === 'uri' || val.is === 'string' || val.is === 'keyword') {
            v = "'" + v + "'";
        } else if (val.is === 'field') {
            // replace [varuable] by ctx['variable']
            v = v.replace(/\[(.*)\]/g, "attributes['\$1']")
        } else if (val.value && typeof val.value === "object") {
            v = "[" + v + "]";
        }

        return "_value = " + v + ";";
    }

    toString(env, selector, sep, format) {
        return this.value.map(function (e) {
            return e.toString(env, format);
        }).join(sep || ', ');
    }

    clone() {
        var obj = Object.create(SuperMap.CartoCSS.Tree.Value.prototype);
        if (Array.isArray(obj)) {obj.value = this.value.slice();} else {obj.value = this.value;}
        obj.is = this.is;
        return obj;
    }
};

SuperMap.CartoCSS.Tree.Variable = class Variable {
    constructor(name, index, filename) {
        this.is = 'variable';
        this.name = name;
        this.index = index;
        this.filename = filename;
    }

    toString() {
        return this.name;
    }

    ev(env) {
        if (this._css) {return this._css;}

        var thisframe = env.frames.filter(function (f) {
            return f.name === this.name;
        }.bind(this));
        if (thisframe.length) {
            return thisframe[0].value.ev(env);
        } else {
            env.error({
                message: 'variable ' + this.name + ' is undefined',
                index: this.index,
                type: 'runtime',
                filename: this.filename
            });
            return {
                is: 'undefined',
                value: 'undefined'
            };
        }
    }
};

SuperMap.CartoCSS.Tree.Zoom = class Zoom {
    constructor(op, value, index) {
        this.op = op;
        this.value = value;
        this.index = index;
    }

    setZoom(zoom) {
        this.zoom = zoom;
        return this;
    }

    ev(env) {
        var value = parseInt(this.value.ev(env).toString(), 10);


        if (value > SuperMap.CartoCSS.Tree.Zoom.maxZoom || value < 0) {
            env.error({
                message: 'Only zoom levels between 0 and ' +
                SuperMap.CartoCSS.Tree.Zoom.maxZoom + ' supported.',
                index: this.index
            });
        }

        switch (this.op) {
            case '=':
                this.zoom = "zoom && zoom === " + value;
                return this;
            case '>':
                this.zoom = "zoom && zoom > " + value;
                break;
            case '>=':
                this.zoom = "zoom && zoom >= " + value;
                break;
            case '<':
                this.zoom = "zoom && zoom < " + value;
                break;
            case '<=':
                this.zoom = "zoom && zoom <= " + value;
                break;
            default:
                return this;
                break;
        }
        /*
         for (var i = 0; i <= SuperMap.CartoCSS.Tree.Zoom.maxZoom; i++) {
         if (i >= start && i <= end) {
         zoom |= (1 << i);
         }
         }
         this.zoom = zoom;
         this.zoom=value+this.op+"zoom";*/
        return this;
    }

    toString() {
        var str = '';
        for (var i = 0; i <= SuperMap.CartoCSS.Tree.Zoom.maxZoom; i++) {
            str += (this.zoom & (1 << i)) ? 'X' : '.';
        }
        return str;
    }
};

// Covers all zoomlevels from 0 to 22
SuperMap.CartoCSS.Tree.Zoom.all = 23;

SuperMap.CartoCSS.Tree.Zoom.maxZoom = 22;

SuperMap.CartoCSS.Tree.Zoom.ranges = {
    0: 1000000000,
    1: 500000000,
    2: 200000000,
    3: 100000000,
    4: 50000000,
    5: 25000000,
    6: 12500000,
    7: 6500000,
    8: 3000000,
    9: 1500000,
    10: 750000,
    11: 400000,
    12: 200000,
    13: 100000,
    14: 50000,
    15: 25000,
    16: 12500,
    17: 5000,
    18: 2500,
    19: 1500,
    20: 750,
    21: 500,
    22: 250,
    23: 100
};

// CONCATENATED MODULE: ./src/common/style/ThemeStyle.js



/**
 * @class SuperMap.ThemeStyle
 * @classdesc å®¢æ·ç«¯ä¸é¢å¾é£æ ¼ç±»ã
 * @category Visualization Theme
 * @param {Object} options - å¯éåæ°ã
 * @param {boolean} [options.fill=true] - æ¯å¦å¡«åï¼ä¸éè¦å¡«ååè®¾ç½®ä¸º falseãå¦æ fill ä¸ stroke åæ¶ä¸º falseï¼å°æ fill ä¸ stroke çé»è®¤å¼æ¸²æå¾å±ã
 * @param {string} [options.fillColor='#000000'] - åå­è¿å¶å¡«åé¢è²ã
 * @param {number} [options.fillOpacity=1] - å¡«åä¸éæåº¦ãåå¼èå´[0, 1]ã
 * @param {boolean} [options.stroke=false] -  æ¯å¦æè¾¹ï¼ä¸éè¦æè¾¹åè®¾ç½®ä¸ºfalseãå¦æ fill ä¸ stroke åæ¶ä¸º falseï¼å°æ fill ä¸ stroke çé»è®¤å¼æ¸²æå¾å±ã
 * @param {string} [options.strokeColor='#000000'] - åå­è¿å¶æè¾¹é¢è²ã
 * @param {number} [options.strokeOpacity=1] - æè¾¹çä¸éæåº¦ãåå¼èå´[0, 1]ã
 * @param {number} [options.strokeWidth=1] - çº¿å®½åº¦/æè¾¹å®½åº¦ã
 * @param {string} [options.strokeLinecap='butt'] - çº¿å¸½æ ·å¼ãstrokeLinecap æä¸ç§ç±»å âbutt", "round", "square"ã
 * @param {string} [options.strokeLineJoin='iter'] - çº¿æ®µè¿æ¥æ ·å¼ãstrokeLineJoin æä¸ç§ç±»å âmiter", "round", "bevel"ã
 * @param {string} [options.strokeDashstyle='solid'] - èçº¿ç±»åãstrokeDashstyle æå«ç§ç±»å âdot",âdash",âdashdot",âlongdash",âlongdashdot",âsolid", "dashed", "dotted"ãsolid è¡¨ç¤ºå®çº¿ã
 * @param {number} [options.pointRadius=6] - ç¹åå¾,åä½ä¸ºåç´ ã
 * @param {number} [options.shadowBlur=0] - é´å½±æ¨¡ç³åº¦ï¼ï¼å¤§äº 0 ææ;ï¼ãæ³¨ï¼è¯·å° shadowColor å±æ§ä¸ shadowBlur å±æ§ä¸èµ·ä½¿ç¨ï¼æ¥åå»ºé´å½±ã
 * @param {string} [options.shadowColor='#000000'] - é´å½±é¢è²ãæ³¨ï¼è¯·å° shadowColor å±æ§ä¸ shadowBlur å±æ§ä¸èµ·ä½¿ç¨ï¼æ¥åå»ºé´å½±ã
 * @param {number} [options.shadowOffsetX=0] - é´å½± X æ¹ååç§»å¼ã
 * @param {number} [options.shadowOffsetY=0] - é´å½± Y æ¹ååç§»å¼ã
 * @param {string} options.label - ä¸é¢è¦ç´ éå ææ¬æ ç­¾åå®¹ã
 * @param {string} [options.fontColor] - éå ææ¬å­ä½é¢è²ã
 * @param {number} [options.fontSize=12] - éå ææ¬å­ä½å¤§å°,åä½æ¯åç´ ã
 * @param {string} [options.fontStyle='normal'] - éå ææ¬å­ä½æ ·å¼ãå¯è®¾å¼ï¼"normal", "italic", "oblique"ã
 * @param {string} [options.fontVariant='normal'] - éå ææ¬å­ä½åä½ãå¯è®¾å¼ï¼"normal", "small-caps"ã
 * @param {string} [options.fontWeight='normal'] - éå ææ¬å­ä½ç²ç»ãå¯è®¾å¼ï¼"normal", "bold", "bolder", "lighter"ã
 * @param {string} [options.fontFamily='arial,sans-serif'] - éå ææ¬å­ä½ç³»åãfontFamily å¼æ¯å­ä½æåç§°æ/åç±»æåç§°çä¸ä¸ªä¼åè¡¨ï¼æ¯ä¸ªå¼éå·åå²ï¼
 *                             æµè§å¨ä¼ä½¿ç¨å®å¯è¯å«çç¬¬ä¸ä¸ªå¯ä»¥ä½¿ç¨å·ä½çå­ä½åç§°ï¼"times"ã"courier"ã"arial"ï¼æå­ä½ç³»ååç§°
 *                              ï¼"serif"ã"sans-serif"ã"cursive"ã"fantasy"ã"monospace"ï¼ã
 * @param {string} [options.labelPosition='top'] - éå ææ¬ä½ç½®, å¯ä»¥æ¯ 'inside', 'left', 'right', 'top', 'bottom'ã
 * @param {string} [options.labelAlign='center'] - éå ææ¬æ°´å¹³å¯¹é½ãå¯ä»¥æ¯ 'left', 'right', 'center'ã
 * @param {string} [options.labelBaseline='middle'] - éå ææ¬åç´å¯¹é½ã å¯ä»¥æ¯ 'top', 'bottom', 'middle' ã
 * @param {number} [options.labelXOffset=0] - éå ææ¬å¨xè½´æ¹åçåç§»éã
 * @param {number} [options.labelYOffset=0] - éå ææ¬å¨yè½´æ¹åçåç§»éã
 */
class ThemeStyle_ThemeStyle {


    constructor(options) {
        options = options || {};
        /**
         * @member {boolean} - [SuperMap.ThemeStyle.prototype.fill=true]
         * @description æ¯å¦å¡«åï¼ä¸éè¦å¡«ååè®¾ç½®ä¸º falseãå¦æ fill ä¸ stroke åæ¶ä¸º falseï¼å°æ fill ä¸ stroke çé»è®¤å¼æ¸²æå¾å±ã
         */
        this.fill = true;
        /**
         * @member {string} - [SuperMap.ThemeStyle.prototype.fillColor="#000000"]
         * @description åå­è¿å¶å¡«åé¢è²ã
         */
        this.fillColor = "#000000";
        /**
         *  @member {number} - [SuperMap.ThemeStyle.prototype.fillOpacity=1]
         *  @description å¡«åä¸éæåº¦ãåå¼èå´[0, 1]ã
         */
        this.fillOpacity = 1;
        /**
         * @member {boolean} - [SuperMap.ThemeStyle.prototype.stroke=false]
         * @description  æ¯å¦æè¾¹ï¼ä¸éè¦æè¾¹åè®¾ç½®ä¸ºfalseãå¦æ fill ä¸ stroke åæ¶ä¸º falseï¼å°æ fill ä¸ stroke çé»è®¤å¼æ¸²æå¾å±ã
         */
        this.stroke = false;
        /**
         * @member {string} - [SuperMap.ThemeStyle.prototype.strokeColor="#000000"]
         * @description  åå­è¿å¶æè¾¹é¢è²ã
         */
        this.strokeColor = "#000000";
        /**
         * @member {number} - [SuperMap.ThemeStyle.prototype.strokeOpacity=1]
         * @description  æè¾¹çä¸éæåº¦ãåå¼èå´[0, 1]ã
         */
        this.strokeOpacity = 1;
        /**
         * @member {number} - [SuperMap.ThemeStyle.prototype.strokeWidth=1]
         * @description  çº¿å®½åº¦/æè¾¹å®½åº¦ã
         */
        this.strokeWidth = 1;
        /**
         * @member {string} - [SuperMap.ThemeStyle.prototype.strokeLinecap="butt"]
         * @description  çº¿å¸½æ ·å¼ï¼strokeLinecap æä¸ç§ç±»å âbutt", "round", "square" ã
         */
        this.strokeLinecap = "butt";
        /**
         * @member {string} - [SuperMap.ThemeStyle.prototype.strokeLineJoin="miter"]
         * @description  çº¿æ®µè¿æ¥æ ·å¼ï¼strokeLineJoin æä¸ç§ç±»å âmiter", "round", "bevel"ã
         */
        this.strokeLineJoin = "miter";
        /**
         * @member {string} - [SuperMap.ThemeStyle.prototype.strokeDashstyle="solid"]
         * @description   èçº¿ç±»åï¼ strokeDashstyle æå«ç§ç±»å âdot",âdash",âdashdot",âlongdash",âlongdashdot",âsolid", "dashed", "dotted";
         * solid è¡¨ç¤ºå®çº¿ã
         */
        this.strokeDashstyle = "solid";
        /**
         * @member {number} - [SuperMap.ThemeStyle.prototype.pointRadius=6ï¼åç´ ï¼]
         * @description   ç¹åå¾ã
         */
        this.pointRadius = 6;
        /**
         * @member {number} - [SuperMap.ThemeStyle.prototype.shadowBlur=0]
         * @description   é´å½±æ¨¡ç³åº¦ï¼ï¼å¤§äº 0 ææï¼ãæ³¨ï¼è¯·å° shadowColor å±æ§ä¸ shadowBlur å±æ§ä¸èµ·ä½¿ç¨ï¼æ¥åå»ºé´å½±ã
         */
        this.shadowBlur = 0;
        /**
         * @member {string} - [SuperMap.ThemeStyle.prototype.shadowColor='#000000']
         * @description  é´å½±é¢è²ãæ³¨ï¼è¯·å° shadowColor å±æ§ä¸ shadowBlur å±æ§ä¸èµ·ä½¿ç¨ï¼æ¥åå»ºé´å½±ã
         */
        this.shadowColor = "#000000";
        /**
         * @member {number} - [SuperMap.ThemeStyle.prototype.shadowOffsetX=0]
         * @description é´å½± X æ¹ååç§»å¼ã
         */
        this.shadowOffsetX = 0;
        /**
         * @member {number} - SuperMap.ThemeStyle.prototype.shadowOffsetY
         * @description Y æ¹ååç§»å¼ã
         */
        this.shadowOffsetY = 0;
        /**
         * @member {string} - SuperMap.ThemeStyle.prototype.label
         * @description ä¸é¢è¦ç´ éå ææ¬æ ç­¾åå®¹ã
         */
        this.label = "";
        /**
         * @member boolean - SuperMap.ThemeStyle.prototype.labelRect
         * @description æ¯å¦æ¾ç¤ºææ¬æ ç­¾ç©å½¢èæ¯ã
         */
        this.labelRect = false;
        /**
         * @member {string} - [SuperMap.ThemeStyle.prototype.fontColor]
         * @description éå ææ¬å­ä½é¢è²ã
         */
        this.fontColor = "";
        /**
         * @member {number} - [SuperMap.ThemeStyle.prototype.fontSize=12]
         * @description éå ææ¬å­ä½å¤§å°,åä½æ¯åç´ ã
         */
        this.fontSize = 12;
        /**
         * @member {string} - [SuperMap.ThemeStyle.prototype.fontStyle="normal"]
         * @description éå ææ¬å­ä½æ ·å¼ãå¯è®¾å¼ï¼"normal", "italic", "oblique"ã
         */
        this.fontStyle = "normal";
        /**
         * @member {string} - [SuperMap.ThemeStyle.prototype.fontVariant="normal"]
         * @description éå ææ¬å­ä½åä½ãå¯è®¾å¼ï¼"normal", "small-caps"ã
         */
        this.fontVariant = "normal";
        /**
         * @member {string} - [SuperMap.ThemeStyle.prototype.fontWeight="normal"]
         * @description éå ææ¬å­ä½ç²ç»ãå¯è®¾å¼ï¼"normal", "bold", "bolder", "lighter"ã
         */
        this.fontWeight = "normal";
        /**
         * @member {string} - [SuperMap.ThemeStyle.prototype.fontFamily="arial,sans-serif"]
         * @description éå ææ¬å­ä½ç³»åãfontFamily å¼æ¯å­ä½æåç§°æ/åç±»æåç§°çä¸ä¸ªä¼åè¡¨ï¼æ¯ä¸ªå¼éå·åå²ï¼æµè§å¨ä¼ä½¿ç¨å®å¯è¯å«çç¬¬ä¸ä¸ª
         * å¯ä»¥ä½¿ç¨å·ä½çå­ä½åç§°ï¼"times"ã"courier"ã"arial"ï¼æå­ä½ç³»ååç§°ï¼"serif"ã"sans-serif"ã"cursive"ã"fantasy"ã"monospace"ï¼ã
         */
        this.fontFamily = "arial,sans-serif";
        /**
         * @member {string} - [SuperMap.ThemeStyle.prototype.labelPosition='top']
         * @description éå ææ¬ä½ç½®, å¯ä»¥æ¯ 'inside', 'left', 'right', 'top', 'bottom'ã
         */
        this.labelPosition = "top";
        /**
         * @member {string} - [SuperMap.ThemeStyle.prototype.labelAlign='center']
         * @description éå ææ¬æ°´å¹³å¯¹é½ãå¯ä»¥æ¯ 'left', 'right', 'center'ã
         */
        this.labelAlign = "center";
        /**
         * @member {string} - [SuperMap.ThemeStyle.prototype.labelBaseline='middle']
         * @description  éå ææ¬åç´å¯¹é½ã å¯ä»¥æ¯ 'top', 'bottom', 'middle'ã
         */
        this.labelBaseline = "middle";
        /**
         * @member {number} - [SuperMap.ThemeStyle.prototype.labelXOffset=0]
         * @description  éå ææ¬å¨xè½´æ¹åçåç§»éã
         */
        this.labelXOffset = 0;
        /**
         * @member {number} - [SuperMap.ThemeStyle.prototype.labelYOffset=0]
         * @description éå ææ¬å¨yè½´æ¹åçåç§»éã
         */
        this.labelYOffset = 0;

        Util_Util.extend(this, options);
    }
}

SuperMap.ThemeStyle = ThemeStyle_ThemeStyle;

// CONCATENATED MODULE: ./src/common/style/index.js






// CONCATENATED MODULE: ./src/common/overlay/feature/ShapeParameters.js

/**
 * @class  SuperMap.Feature.ShapeParameters
 * @category Visualization Theme
 * @classdesc å¾å½¢åæ°åºç±»ï¼æ­¤ç±»ä¸å¯å®ä¾å
 */
class ShapeParameters {



    /**
     * @function SuperMap.Feature.ShapeParameters.prototype.constructor
     * @description å¾å½¢åæ°å¯¹è±¡ã
     * @returns {SuperMap.Feature.ShapeParameters} å¾å½¢åæ°å¯¹è±¡ã
     */
    constructor() {
        /**
         * @member {Array} [SuperMap.Feature.ShapeParameters.prototype.refOriginalPosition=[0,0]]
         * @description å¾å½¢åèåç¹ä½ç½®ï¼å¾å½¢çåèä¸­å¿ä½ç½®ã
         * refOriginalPosition æ¯é¿åº¦ä¸º 2 çæ°ç»ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤º x åæ ï¼ç¬¬äºä¸ªåç´ è¡¨ç¤º y åæ ã
         * refOriginalPosition è¡¨ç¤ºå¾å½¢çåèä¸­å¿ï¼éå¸¸æåµä¸ï¼å¾å½¢æ¯ä½¿ç¨ canvas çåç¹ä½ç½®ä½ä¸ºä½ç½®åèï¼
         * ä½ refOriginalPosition å¯ä»¥æ¹åå¾å½¢çåèä½ç½®ï¼ä¾å¦ï¼ refOriginalPosition = [80, 80],
         * å¾å½¢åç style.x = 20, style.y = 20ï¼é£ä¹åå¨ canvas ä¸­çå®éä½ç½®æ¯ [100, 100]ã
         * å¾å½¢ï¼Shapeï¼ çææä½ç½®ç¸å³å±æ§é½æ¯ä»¥ refOriginalPosition ä¸ºåèä¸­å¿ï¼
         * ä¹å°±æ¯è¯´å¾å½¢çææä½ç½®ä¿¡æ¯å¨ canvas ä¸­é½æ¯ä»¥ refOriginalPosition ä¸ºåèçç¸å¯¹ä½ç½®ï¼åªæ
         * refOriginalPosition çå¼ä¸º [0, 0] æ¶ï¼å¾å½¢çä½ç½®ä¿¡æ¯ææ¯ canvas ç»å¯¹ä½ç½®ã
         * å¾å½¢çä½ç½®ä¿¡æ¯éå¸¸æï¼style.pointListï¼style.xï¼style.yã
         */
        this.refOriginalPosition = [0, 0];

        /**
         * @member {string} SuperMap.Feature.ShapeParameters.prototype.refDataID
         * @description å¾å½¢æå³èæ°æ®ç IDï¼<{@link SuperMap.Feature.Vector}> ç idï¼ã
         */
        this.refDataID = null;
        
        /**
         * @member {boolean} SuperMap.Feature.ShapeParameters.prototype.isHoverByRefDataID
         * @description æ¯å¦æ ¹æ® refDataID è¿è¡é«äº®ãç¨äºåæ¶é«äº®ææ refDataID ç¸åçå¾å½¢ã
         */
        this.isHoverByRefDataID = false;

        /**
         * @member {string} SuperMap.Feature.ShapeParameters.prototype.refDataHoverGroup
         * @description é«äº®å¾å½¢ç»çç»åãæ­¤å±æ§å¨ refDataID ææä¸ isHoverByRefDataID ä¸º true æ¶çæã
         * ä¸æ¦è®¾ç½®æ­¤å±æ§ï¼ä¸å±æ§å¼ææï¼åªæå³èåä¸ä¸ªæ°æ®çå¾å½¢ä¸æ­¤å±æ§ç¸åçå¾å½¢æä¼é«äº®ã
         */
        this.refDataHoverGroup = null;

        /**
         * @member {Object} SuperMap.Feature.ShapeParameters.prototype.dataInfo
         * @description å¾å½¢æºå¸¦çéå æ°æ®ã
         */
        this.dataInfo = null;

        /**
         * @member {boolean} SuperMap.Feature.ShapeParameters.prototype.clickable
         * @description æ¯å¦å¯ç¹å»ã
         */
        this.clickable = true;

        /**
         * @member {boolean} SuperMap.Feature.ShapeParameters.prototype.hoverable
         * @description æ¯å¦å¯ç¹å»ã
         */
        this.hoverable = true;

        /**
         * @member {Object} SuperMap.Feature.ShapeParameters.prototype.style
         * @description å¾å½¢æ ·å¼å¯¹è±¡ï¼å¯è®¾æ ·å¼å±æ§å¨å­ç±»ä¸­ç¡®å®ã
         */
        this.style = null;
        
        /**
         * @member {Object} SuperMap.Feature.ShapeParameters.prototype.highlightStyle
         * @description é«äº®æ ·å¼å¯¹è±¡ï¼å¯è®¾æ ·å¼å±æ§ä¸ style çå¯è®¾æ ·å¼å±æ§ç¸åã
         */
        this.highlightStyle = {};

        this.CLASS_NAME = "SuperMap.Feature.ShapeParameters";
    }

    
    /**
     * @function SuperMap.Feature.ShapeParameters.prototype.destroy
     * @description éæ¯å¯¹è±¡ã
     */
    destroy() {
        this.refOriginalPosition = null;
        this.refDataID = null;
        this.isHoverByRefDataID = null;
        this.refDataHoverGroup = null;
        this.dataInfo = null;
        this.clickable = null;
        this.hoverable = null;
        this.style = null;
        this.highlightStyle = null;
    }

}
SuperMap.Feature = SuperMap.Feature || {};
SuperMap.Feature.ShapeParameters = ShapeParameters;
// CONCATENATED MODULE: ./src/common/overlay/feature/Point.js



/**
 * @class  SuperMap.Feature.ShapeParameters.Point
 * @category Visualization Theme
 * @classdesc ç¹åæ°å¯¹è±¡ã
 * @extends {SuperMap.Feature.ShapeParameters}
 */

class feature_Point_Point extends ShapeParameters {



    /**
     * @function SuperMap.Feature.ShapeParameters.Point.prototype.constructor
     * @description åå»ºä¸ä¸ªå¾å½¢ç¹åæ°å¯¹è±¡ã
     * @param {number} x - ç¹ x åæ ï¼å¿è®¾åæ°ã
     * @param {number} y - ç¹ y åæ ï¼å¿è®¾åæ°ã
     * @returns {SuperMap.Feature.ShapeParameters.Point} æ ç­¾åæ°å¯¹è±¡ã
     */
    constructor(x, y) {
        super(x, y);
        /**
         * @member {number}  SuperMap.Feature.ShapeParameters.Point.prototype.x
         * @description ç¹ x åæ ã
         */
        this.x = !isNaN(x) ? x : 0;

        /**
         * @member {number}  SuperMap.Feature.ShapeParameters.Point.prototype.y
         * @description ç¹ y åæ ã
         */
        this.y = !isNaN(y) ? y : 0;

        /**
         * @member {number}  SuperMap.Feature.ShapeParameters.Point.prototype.r
         * @description ç¹çåå¾ã
         */
        this.r = 6;


        this.CLASS_NAME = "SuperMap.Feature.ShapeParameters.Point";
    }


    /**
     * @function SuperMap.Feature.ShapeParameters.Point.prototype.destroy
     * @description éæ¯å¯¹è±¡ã
     */
    destroy() {
        this.x = null;
        this.y = null;
        this.r = null;

        super.destroy();
    }

}

/**
 * @typedef {Object} SuperMap.Feature.ShapeParameters.Point.style
 * @property {number} pointRadius - ç¹çåå¾ï¼é»è®¤å¼ï¼6ã
 * @property {boolean} fill - æ¯å¦å¡«åï¼ä¸éè¦å¡«ååè®¾ç½®ä¸ºfalseï¼é»è®¤å¼ä¸º trueãæ­¤å±æ§ä¸ stroke ä¸è½åæ¶ä¸º falseï¼å¦æ fill ä¸ stroke åæ¶ä¸º falseï¼å°æ fill ä¸ stroke çé»è®¤å¼æ¸²æã
 * @property {string} fillColor - åå­è¿å¶å¡«åé¢è²ãé»è®¤å¼ä¸º "#000000"ã
 * @property {number} fillOpacity - å¡«åä¸éæåº¦ãåå¼èå´[0, 1]ï¼é»è®¤å¼ 1ã
 * @property {boolean} stroke - æ¯å¦æè¾¹ï¼ä¸éè¦æè¾¹åè®¾ç½®ä¸º falseï¼é»è®¤å¼ä¸º falseãæ­¤å±æ§ä¸ fill ä¸è½åæ¶ä¸º falseï¼å¦æ fill ä¸ stroke åæ¶ä¸º falseï¼å°æ fill ä¸ stroke çé»è®¤å¼æ¸²æã
 * @property {string} strokeColor - åå­è¿å¶æè¾¹é¢è²ã
 * @property {number} strokeWidth - æè¾¹å®½åº¦ï¼é»è®¤å¼ 1ã
 * @property {number} strokeOpacity - æè¾¹çä¸éæåº¦ãåå¼èå´[0, 1]ï¼é»è®¤å¼ 1ã
 * @property {number} shadowBlur - é´å½±æ¨¡ç³åº¦ï¼ï¼å¤§äº 0 ææ; é»è®¤å¼ 0ï¼ã
 * @property {string} shadowColor - é´å½±é¢è²; é»è®¤å¼ '#000000'ã
 * @property {number} shadowOffsetX - é´å½± X æ¹ååç§»å¼; é»è®¤å¼ 0ã
 * @property {number} shadowOffsetY - é´å½± Y æ¹ååç§»å¼; é»è®¤å¼ 0ã
 */

SuperMap.Feature = SuperMap.Feature || {};
SuperMap.Feature.ShapeParameters.Point = feature_Point_Point;
// CONCATENATED MODULE: ./src/common/overlay/feature/Line.js



/**
 * @class  SuperMap.Feature.ShapeParameters.Line
 * @category Visualization Theme
 * @classdesc çº¿åæ°å¯¹è±¡ã
 * @extends {SuperMap.Feature.ShapeParameters}
 */
class Line_Line extends ShapeParameters {



    /**
     * @function SuperMap.Feature.ShapeParameters.Line.prototype.constructor
     * @description åå»ºä¸ä¸ªå¾å½¢çº¿åæ°å¯¹è±¡ã
     * @param {Array} pointList - çº¿è¦ç´ èç¹æ°ç»ï¼äºç»´æ°ç»ï¼å¿è®¾åæ°ã
     * @returns {SuperMap.Feature.ShapeParameters.Line} åå½¢åæ°å¯¹è±¡ã
     */
    constructor(pointList) {
        super(pointList);
        /**
         * @member {Array} SuperMap.Feature.ShapeParameters.Line.prototype.pointList
         * @description çº¿è¦ç´ èç¹æ°ç»ï¼äºç»´æ°ç»ã
         * æ°ç»å½¢å¦ï¼
         * (start code)
         *  [
         *  [10, 20],         //èç¹
         *  [30, 40],
         *  [25, 30]         //æåä¸ä¸ªèç¹åç¬¬ä¸ä¸ªèç¹ä¸å¿ç¸åï¼ç»å¶æ¶èªå¨å°é­
         *   ]
         * (end)
         */
        this.pointList = pointList;

        this.CLASS_NAME = "SuperMap.Feature.ShapeParameters.Line";

    }

    /**
     * @function SuperMap.Feature.ShapeParameters.Line.prototype.destroy
     * @description éæ¯å¯¹è±¡ã
     */
    destroy() {
        this.pointList = null;
        super.destroy();
    }

}

/**
* @typedef {Object} SuperMap.Feature.ShapeParameters.Line.style
* @property {string} strokeColor - åå­è¿å¶çº¿é¢è²ã
* @property {number}  strokeWidth - çº¿å®½åº¦ï¼é»è®¤å¼ 1ã
* @property {string} strokeLinecap - çº¿å¸½æ ·å¼ï¼strokeLinecap æä¸ç§ç±»å ï¼âbutt", "round", "square"; é»è®¤ä¸º"butt"ã
* @property {string} strokeLineJoin - çº¿æ®µè¿æ¥æ ·å¼ï¼strokeLineJoin æä¸ç§ç±»åï¼ âmiter", "round", "bevel"; é»è®¤ä¸º"miter"ã
* @property {string} strokeDashstyle - èçº¿ç±»åï¼ strokeDashstyle æå«ç§ç±»å ï¼âdot",âdash",âdashdot",âlongdash",âlongdashdot",âsolid", "dashed", "dotted"; é»è®¤å¼ "solid"ãsolid è¡¨ç¤ºå®çº¿ã
* @property {number}  strokeOpacity - çº¿çä¸éæåº¦ãåå¼èå´[0, 1]ï¼é»è®¤å¼ 1ã
* @property {number}  shadowBlur - é´å½±æ¨¡ç³åº¦ï¼ï¼å¤§äº 0 ææ; é»è®¤å¼ 0ï¼ã
* @property {string} shadowColor - é´å½±é¢è²; é»è®¤å¼ '#000000'ã
* @property {number}  shadowOffsetX - é´å½± X æ¹ååç§»å¼; é»è®¤å¼ 0ã
* @property {number}  shadowOffsetY - é´å½± Y æ¹ååç§»å¼; é»è®¤å¼ 0ã
*/
SuperMap.Feature = SuperMap.Feature || {};
SuperMap.Feature.ShapeParameters.Line = Line_Line;
// CONCATENATED MODULE: ./src/common/overlay/feature/Polygon.js



/**
 * @class  SuperMap.Feature.ShapeParameters.Polygon
 * @category Visualization Theme
 * @classdesc é¢åæ°å¯¹è±¡ã
 * @extends {SuperMap.Feature.ShapeParameters}
 */
 
class feature_Polygon_Polygon extends ShapeParameters {
    
  

    /**
     * @function SuperMap.Feature.ShapeParameters.Polygon.prototype.constructor
     * @description åå»ºä¸ä¸ªå¾å½¢é¢åæ°å¯¹è±¡ã
     * @param {Array} pointList - æ¨ªåæ ï¼å¿è®¾åæ°ã
     * @returns {SuperMap.Feature.ShapeParameters.Polygon} æ ç­¾åæ°å¯¹è±¡ã
     */
    constructor(pointList) {
        super(pointList);
        /**
         * @member {Array} SuperMap.Feature.ShapeParameters.Polygon.prototype.pointList
         * @description é¢è¦ç´ èç¹æ°ç»ï¼äºç»´æ°ç»ã
         * æ°ç»å½¢å¦ï¼
         * (start code)
         *  [
         *  [10, 20],         //èç¹
         *  [30, 40],
         *  [25, 30]         //æåä¸ä¸ªèç¹åç¬¬ä¸ä¸ªèç¹ä¸å¿ç¸åï¼ç»å¶æ¶èªå¨å°é­
         *   ]
         * (end)
         */
        this.pointList = pointList;

        /**
         * @member {Array} SuperMap.Feature.ShapeParameters.Polygon.prototype.holePolygonPointLists
         * @description å²æ´é¢å¤è¾¹å½¢é¡¶ç¹æ°ç»ï¼ä¸ç»´æ°ç»ï¼
         */
        this.holePolygonPointLists = null;

        this.CLASS_NAME = "SuperMap.Feature.ShapeParameters.Polygon";
    }
    
    /**
     * @function SuperMap.Feature.ShapeParameters.Polygon.prototype.destroy
     * @description éæ¯å¯¹è±¡ã
     */
    destroy() {
        this.pointList = null;
        this.holePolygonPointLists = null;
        super.destroy();
    }
}

 /**
  * @typedef {Object} SuperMap.Feature.ShapeParameters.Polygon.style
  * @property {boolean} fill - æ¯å¦å¡«åï¼ä¸éè¦å¡«ååè®¾ç½®ä¸ºfalseï¼é»è®¤å¼ä¸º trueãæ­¤å±æ§ä¸ stroke ä¸è½åæ¶ä¸º falseï¼å¦æ fill ä¸ stroke åæ¶ä¸º falseï¼å°æ fill ä¸ stroke çé»è®¤å¼æ¸²æã
  * @property {string} fillColor - åå­è¿å¶å¡«åé¢è²ãé»è®¤å¼ä¸º "#000000"ã
  * @property {number} fillOpacity - å¡«åä¸éæåº¦ãåå¼èå´[0, 1]ï¼é»è®¤å¼ 1ã
  * @property {boolean} stroke - æ¯å¦æè¾¹ï¼ä¸éè¦æè¾¹åè®¾ç½®ä¸º falseï¼é»è®¤å¼ä¸º falseãæ­¤å±æ§ä¸ fill ä¸è½åæ¶ä¸º falseï¼å¦æ fill ä¸ stroke åæ¶ä¸º falseï¼å°æ fill ä¸ stroke çé»è®¤å¼æ¸²æã
  * @property {string} strokeColor - åå­è¿å¶æè¾¹é¢è²ã
  * @property {number} strokeWidth - æè¾¹å®½åº¦ï¼é»è®¤å¼ 1ã
  * @property {number} strokeOpacity - æè¾¹çä¸éæåº¦ãåå¼èå´[0, 1]ï¼é»è®¤å¼ 1ã
  * @property {string} strokeLinecap - çº¿å¸½æ ·å¼ï¼strokeLinecap æä¸ç§ç±»å ï¼âbutt", "round", "square"; é»è®¤ä¸º"butt"ã
  * @property {string} strokeLineJoin - çº¿æ®µè¿æ¥æ ·å¼ï¼strokeLineJoin æä¸ç§ç±»åï¼ âmiter", "round", "bevel"; é»è®¤ä¸º"miter"ã
  * @property {string} strokeDashstyle - èçº¿ç±»åï¼ strokeDashstyle æå«ç§ç±»å ï¼âdot",âdash",âdashdot",âlongdash",âlongdashdot",âsolid", "dashed", "dotted"; é»è®¤å¼ "solid"ãsolid è¡¨ç¤ºå®çº¿ã
  * @property {number} shadowBlur - é´å½±æ¨¡ç³åº¦ï¼ï¼å¤§äº 0 ææ; é»è®¤å¼ 0ï¼ã
  * @property {string} shadowColor - é´å½±é¢è²; é»è®¤å¼ '#000000'ã
  * @property {number} shadowOffsetX - é´å½± X æ¹ååç§»å¼; é»è®¤å¼ 0ã
  * @property {number} shadowOffsetY - é´å½± Y æ¹ååç§»å¼; é»è®¤å¼ 0ã
 */

SuperMap.Feature = SuperMap.Feature || {};
SuperMap.Feature.ShapeParameters.Polygon = feature_Polygon_Polygon;
// CONCATENATED MODULE: ./src/common/overlay/feature/Rectangle.js



/**
 * @class  SuperMap.Feature.ShapeParameters.Rectangle
 * @category Visualization Theme
 * @classdesc ç©å½¢åæ°å¯¹è±¡ã
 * @extends {SuperMap.Feature.ShapeParameters}
 */

class feature_Rectangle_Rectangle extends ShapeParameters {
    
    
    /**
     * @function SuperMap.Feature.ShapeParameters.Rectangle.prototype.constructor
     * @description åå»ºä¸ä¸ªå¾å½¢ç©å½¢åæ°å¯¹è±¡ã
     * @param {number} x - ç©å½¢ x åæ ï¼å¿è®¾åæ°ã
     * @param {number} y - ç©å½¢ y åæ ï¼å¿è®¾åæ°ã
     * @param {number} width - ç©å½¢ width åæ ï¼å¿è®¾åæ°ã
     * @param {number} height - ç©å½¢ height åæ ï¼å¿è®¾åæ°ã
     * @returns {SuperMap.Feature.ShapeParameters.Rectangle} å¾å½¢ç©å½¢åæ°å¯¹è±¡ã
     */
    constructor(x, y, width, height) {
        super(x, y, width, height);
        /**
         * @member {number} SuperMap.Feature.ShapeParameters.Rectangle.prototype.x
         * @description å·¦ä¸è§ x åæ ã
         */
        this.x = !isNaN(x) ? x : 0;

        /**
         * @member {number} SuperMap.Feature.ShapeParameters.Rectangle.prototype.y
         * @description å·¦ä¸è§ y åæ ã
         */
        this.y = !isNaN(x) ? y : 0;

        /**
         * @member {number} SuperMap.Feature.ShapeParameters.Rectangle.prototype.width
         * @description å®½åº¦ã
         */
        this.width = !isNaN(width) ? width : 0;
        
        /**
         * @member {number} SuperMap.Feature.ShapeParameters.Rectangle.prototype.height
         * @description é«åº¦ã
         */
        this.height = !isNaN(height) ? height : 0;

        this.CLASS_NAME = "SuperMap.Feature.ShapeParameters.Rectangle";
    }

    
    /**
     * @function SuperMap.Feature.ShapeParameters.Rectangle.prototype.destroy
     * @description éæ¯å¯¹è±¡ã
     */
    destroy() {
        this.x = null;
        this.y = null;
        this.width = null;
        this.height = null;

        super.destroy();
    }

}

/**
 * @typedef {Object} SuperMap.Feature.ShapeParameters.Rectangle.style
 * @property {boolean} fill - æ¯å¦å¡«åï¼ä¸éè¦å¡«ååè®¾ç½®ä¸ºfalseï¼é»è®¤å¼ä¸º trueãæ­¤å±æ§ä¸ stroke ä¸è½åæ¶ä¸º falseï¼å¦æ fill ä¸ stroke åæ¶ä¸º falseï¼å°æ fill ä¸ stroke çé»è®¤å¼æ¸²æã
 * @property {string}  fillColor - åå­è¿å¶å¡«åé¢è²ãé»è®¤å¼ä¸º "#000000"ã
 * @property {number} fillOpacity - å¡«åä¸éæåº¦ãåå¼èå´[0, 1]ï¼é»è®¤å¼ 1ã
 * @property {boolean} stroke - æ¯å¦æè¾¹ï¼ä¸éè¦æè¾¹åè®¾ç½®ä¸º falseï¼é»è®¤å¼ä¸º falseãæ­¤å±æ§ä¸ fill ä¸è½åæ¶ä¸º falseï¼å¦æ fill ä¸ stroke åæ¶ä¸º falseï¼å°æ fill ä¸ stroke çé»è®¤å¼æ¸²æã
 * @property {string}  strokeColor - åå­è¿å¶æè¾¹é¢è²ã
 * @property {number} strokeWidth - æè¾¹å®½åº¦ï¼é»è®¤å¼ 1ã
 * @property {number} strokeOpacity - æè¾¹çä¸éæåº¦ãåå¼èå´[0, 1]ï¼é»è®¤å¼ 1ã
 * @property {string}  strokeLinecap - çº¿å¸½æ ·å¼ï¼strokeLinecap æä¸ç§ç±»å ï¼âbutt", "round", "square"; é»è®¤ä¸º"butt"ã
 * @property {string}  strokeLineJoin - çº¿æ®µè¿æ¥æ ·å¼ï¼strokeLineJoin æä¸ç§ç±»åï¼ âmiter", "round", "bevel"; é»è®¤ä¸º"miter"ã
 * @property {string}  strokeDashstyle - èçº¿ç±»åï¼ strokeDashstyle æå«ç§ç±»å ï¼âdot",âdash",âdashdot",âlongdash",âlongdashdot",âsolid", "dashed", "dotted"; é»è®¤å¼ "solid"ãsolid è¡¨ç¤ºå®çº¿ã
 * @property {number} shadowBlur - é´å½±æ¨¡ç³åº¦ï¼ï¼å¤§äº 0 ææ; é»è®¤å¼ 0ï¼ã
 * @property {string}  shadowColor - é´å½±é¢è²; é»è®¤å¼ '#000000'ã
 * @property {number} shadowOffsetX - é´å½± X æ¹ååç§»å¼; é»è®¤å¼ 0ã
 * @property {number} shadowOffsetY - é´å½± Y æ¹ååç§»å¼; é»è®¤å¼ 0ã
*/

SuperMap.Feature = SuperMap.Feature || {};
SuperMap.Feature.ShapeParameters.Rectangle = feature_Rectangle_Rectangle;
// CONCATENATED MODULE: ./src/common/overlay/feature/Sector.js



/**
 * @class  SuperMap.Feature.ShapeParameters.Sector
 * @category Visualization Theme
 * @classdesc æå½¢åæ°å¯¹è±¡ã
 * @extends {SuperMap.Feature.ShapeParameters}
 */

class Sector_Sector extends ShapeParameters {

    

    /**
     * @function SuperMap.Feature.ShapeParameters.Sector.prototype.constructor
     * @description åå»ºä¸ä¸ªæå½¢åæ°å¯¹è±¡ã
     * @param {number} x - åå¿ x åæ ï¼å¿è®¾åæ°ã
     * @param {number} y - åå¿ y åæ ï¼å¿è®¾åæ°ã
     * @param {number} r - å¤ååå¾ï¼å¿è®¾åæ°ã
     * @param {number} startAngle - èµ·å§è§åº¦ï¼å¿è®¾åæ°ãåå¼èå´[0, 360)ã
     * @param {number} endAngle - ç»æè§åº¦ï¼å¿è®¾åæ°ãåå¼èå´(0, 360]ã
     * @param {number} [r0=0] - åååå¾ï¼æå®åå°åºç°åå¼§ï¼åæ¶æè¾¹é¿åº¦ä¸º'r - r0'ãåå¼èå´[0, r)ã
     * @returns {SuperMap.Feature.ShapeParameters.Sector} æå½¢åæ°å¯¹è±¡ã
     */
    constructor(x, y, r, startAngle, endAngle, r0, clockWise) {
        super(x, y, r, startAngle, endAngle, r0, clockWise);
        /**
         * @member {number} SuperMap.Feature.ShapeParameters.Sector.prototype.x
         * @description  åå¿ x åæ ã
         */
        this.x = !isNaN(x) ? x : 0;
        
        /**
         * @member {number} SuperMap.Feature.ShapeParameters.Sector.prototype.Y
         * @description  åå¿ Y åæ ã
         */
        this.y = !isNaN(y) ? y : 0;

        /**
         * @member {number} SuperMap.Feature.ShapeParameters.Sector.prototype.r
         * @description  å¤ååå¾ã
         */
        this.r = !isNaN(r) ? r : 0;
        
        /**
         * @member {number} SuperMap.Feature.ShapeParameters.Sector.prototype.startAngle
         * @description  èµ·å§è§åº¦ãåå¼èå´[0, 360)ï¼é»è®¤å¼ï¼nullã
         */
        this.startAngle = !isNaN(startAngle) ? startAngle : 0;
        
        /**
         * @member {number} SuperMap.Feature.ShapeParameters.Sector.prototype.endAngle
         * @description  ç»æè§åº¦ãåå¼èå´(0, 360]ï¼é»è®¤å¼ï¼nullã
         */
        this.endAngle =  !isNaN(endAngle) ? endAngle : 0;
        
        /**
         * @member {number} [SuperMap.Feature.ShapeParameters.Sector.prototype.r0=0]
         * @description åååå¾ï¼æå®åå°åºç°åå¼§ï¼åæ¶æè¾¹é¿åº¦ä¸º r å r0ãåå¼èå´[0, r)ã
         */
        this.r0 = !isNaN(r0) ? r0 : 0;
        
        /**
         * @member {number} [SuperMap.Feature.ShapeParameters.Sector.prototype.clockWise=false]
         * @description æ¯å¦æ¯é¡ºæ¶éãé»è®¤å¼ï¼falseã
         */
        this.clockWise = clockWise;

        this.CLASS_NAME = "SuperMap.Feature.ShapeParameters.Sector";
    }
    
    /**
     * @function SuperMap.Feature.ShapeParameters.Sector.prototype.destroy
     * @description éæ¯å¯¹è±¡ã
     */
    destroy() {
        this.x = null;
        this.y = null;
        this.r = null;
        this.startAngle = null;
        this.endAngle = null;
        this.r0 = null;
        this.clockWise = null;

        super.destroy();
    }

}

/**
 * @typedef {Object} SuperMap.Feature.ShapeParameters.Sector.style
 * @property {boolean} fill - æ¯å¦å¡«åï¼ä¸éè¦å¡«ååè®¾ç½®ä¸ºfalseï¼é»è®¤å¼ä¸º trueãæ­¤å±æ§ä¸ stroke ä¸è½åæ¶ä¸º falseï¼å¦æ fill ä¸ stroke åæ¶ä¸º falseï¼å°æ fill ä¸ stroke çé»è®¤å¼æ¸²æã
 * @property {string} fillColor - åå­è¿å¶å¡«åé¢è²ãé»è®¤å¼ä¸º "#000000"ã
 * @property {number} fillOpacity - å¡«åä¸éæåº¦ãåå¼èå´[0, 1]ï¼é»è®¤å¼ 1ã
 * @property {boolean} stroke - æ¯å¦æè¾¹ï¼ä¸éè¦æè¾¹åè®¾ç½®ä¸º falseï¼é»è®¤å¼ä¸º falseãæ­¤å±æ§ä¸ fill ä¸è½åæ¶ä¸º falseï¼å¦æ fill ä¸ stroke åæ¶ä¸º falseï¼å°æ fill ä¸ stroke çé»è®¤å¼æ¸²æã
 * @property {string} strokeColor - åå­è¿å¶æè¾¹é¢è²ã
 * @property {number} strokeWidth - æè¾¹å®½åº¦ï¼é»è®¤å¼ 1ã
 * @property {number} strokeOpacity - æè¾¹çä¸éæåº¦ãåå¼èå´[0, 1]ï¼é»è®¤å¼ 1ã
 * @property {number} shadowBlur - é´å½±æ¨¡ç³åº¦ï¼ï¼å¤§äº 0 ææ; é»è®¤å¼ 0ï¼ã
 * @property {string} shadowColor - é´å½±é¢è²; é»è®¤å¼ '#000000'ã
 * @property {number} shadowOffsetX - é´å½± X æ¹ååç§»å¼; é»è®¤å¼ 0ã
 * @property {number} shadowOffsetY - é´å½± Y æ¹ååç§»å¼; é»è®¤å¼ 0ã
 */

SuperMap.Feature = SuperMap.Feature || {};
SuperMap.Feature.ShapeParameters.Sector = Sector_Sector;
// CONCATENATED MODULE: ./src/common/overlay/feature/Label.js



/**
 * @class SuperMap.Feature.ShapeParameters.Label
 * @category Visualization Theme
 * @classdesc æ ç­¾åæ°å¯¹è±¡ã
 * @extent {SuperMap.Feature.ShapeParameters}
 */

class Label_Label extends ShapeParameters {


    /**
     * @function SuperMap.Feature.ShapeParameters.Label.prototype.constructor
     * @description åå»ºä¸ä¸ªæ ç­¾åæ°å¯¹è±¡ã
     * @param {number} x - æ¨ªåæ ï¼å¿è®¾åæ°ã
     * @param {number} y - çºµåæ ï¼å¿è®¾åæ°ã
     * @param {string} text - å¾å½¢ä¸­çéå ææ¬ï¼å¿è®¾åæ°ã
     * @returns {SuperMap.Feature.ShapeParameters.Label} æ ç­¾åæ°å¯¹è±¡ã
     */
    constructor(x, y, text) {
        super(x, y, text);
        /**
         * @member {number} SuperMap.Feature.ShapeParameters.Label.prototype.x
         * @description æ ç­¾ x åæ ã
         */
        this.x = x;

        /**
         * @member {number} SuperMap.Feature.ShapeParameters.Label.prototype.y
         * @description æ ç­¾ y åæ ã
         */
        this.y = y;

        /**
         * @member {number} SuperMap.Feature.ShapeParameters.Label.prototype.text
         * @description æ ç­¾çææ¬åå®¹ã
         */
        this.text = text;

        this.CLASS_NAME = "SuperMap.Feature.ShapeParameters.Label";
    }


    /**
     * @function SuperMap.Feature.ShapeParameters.Label.prototype.destroy
     * @description éæ¯å¯¹è±¡ã
     */
    destroy() {
        this.x = null;
        this.y = null;
        this.text = null;

        super.destroy();
    }


}

/**
* @typedef {Object} SuperMap.Feature.ShapeParameters.Label.style
* @property {boolean} fill - æ¯å¦å¡«åï¼ä¸éè¦å¡«ååè®¾ç½®ä¸º falseï¼é»è®¤å¼ä¸º trueãæ­¤å±æ§ä¸ stroke ä¸è½åæ¶ä¸º falseï¼å¦æ fill ä¸ stroke åæ¶ä¸º falseï¼å°æ fill ä¸ stroke çé»è®¤å¼æ¸²æã
* @property {string} fillColor - åå­è¿å¶å¡«åé¢è²ãé»è®¤å¼ä¸º "#000000"ã
* @property {number} fillOpacity - å¡«åä¸éæåº¦ãåå¼èå´[0, 1]ï¼é»è®¤å¼ 1ã
* @property {boolean} stroke - æ¯å¦æè¾¹ï¼ä¸éè¦æè¾¹åè®¾ç½®ä¸ºfalseï¼é»è®¤å¼ä¸º falseãæ­¤å±æ§ä¸ fill ä¸è½åæ¶ä¸º falseï¼å¦æ fill ä¸ stroke åæ¶ä¸º falseï¼å°æ fill ä¸ stroke çé»è®¤å¼æ¸²æã
* @property {string} strokeColor - åå­è¿å¶æè¾¹é¢è²ã
* @property {number} strokeOpacity - æè¾¹çä¸éæåº¦ãåå¼èå´[0, 1]ï¼é»è®¤å¼ 1ã
* @property {number} strokeWidth -æè¾¹å®½åº¦ï¼é»è®¤å¼ 1ã
* @property {number} maxWidth - æå¤§å®½åº¦éå¶ãé»è®¤å¼ï¼nullã
* @property {number} fontSize - æ ç­¾ææ¬å­ä½å¤§å°ãé»è®¤å¼ 12ï¼åä½æ¯åç´ ã
* @property {string} fontStyle - æ ç­¾ææ¬å­ä½æ ·å¼ãå¯è®¾å¼ï¼"normal", "italic", "oblique"; é»è®¤å¼ï¼"normal" ã
* @property {string} fontVariant - æ ç­¾ææ¬å­ä½åä½ãå¯è®¾å¼ï¼"normal", "small-caps"; é»è®¤å¼ï¼"normal" ã
* @property {string} fontWeight - æ ç­¾ææ¬å­ä½ç²ç»ãå¯è®¾å¼ï¼"normal", "bold", "bolder", "lighter"; é»è®¤å¼ï¼"normal" ã
* @property {string} fontFamily - æ ç­¾ææ¬å­ä½ç³»åãfontFamily å¼æ¯å­ä½æåç§°æ/åç±»æåç§°çä¸ä¸ªä¼åè¡¨ï¼æ¯ä¸ªå¼éå·åå²ï¼æµè§å¨ä¼ä½¿ç¨å®å¯è¯å«çç¬¬ä¸ä¸ªå¼ã
* å¯ä»¥ä½¿ç¨å·ä½çå­ä½åç§°ï¼"times"ã"courier"ã"arial"ï¼æå­ä½ç³»ååç§°ï¼"serif"ã"sans-serif"ã"cursive"ã"fantasy"ã"monospace"ï¼ãé»è®¤å¼ï¼"arial,sans-serif".
* @property {string} labelBaseline - æ ç­¾ææ¬åç´å¯¹é½, å¯ä»¥æ¯ 'top', 'bottom', 'middle'ï¼é»è®¤å¼ 'middle'ã
* @property {string} labelAlign - æ ç­¾ææ¬æ°´å¹³å¯¹é½ãå¯ä»¥æ¯ 'left', 'right', 'center'; é»è®¤å¼ 'center'ã
* @property {number} shadowBlur - é´å½±æ¨¡ç³åº¦ï¼å¤§äº 0 ææãé»è®¤å¼ï¼0ã
* @property {number} shadowColor - é´å½±é¢è²ãé»è®¤å¼ï¼"#000000'"ã
* @property {number} shadowOffsetX - é´å½±æ¨ªååç§»ãé»è®¤å¼ï¼0ã
* @property {number} shadowOffsetY - é´å½±çºµååç§»ãé»è®¤å¼ï¼0ã
*/

SuperMap.Feature = SuperMap.Feature || {};
SuperMap.Feature.ShapeParameters.Label = Label_Label;
// CONCATENATED MODULE: ./src/common/overlay/feature/Image.js



/**
 * @class  SuperMap.Feature.ShapeParameters.Image
 * @category Visualization Theme
 * @classdesc å¾çåæ°å¯¹è±¡ã
 * @extends {SuperMap.Feature.ShapeParameters}
 */
class Image_Image extends ShapeParameters {


    /**
     * @function SuperMap.Feature.ShapeParameters.Image.prototype.constructor
     * @description åå»ºä¸ä¸ªå¾çåæ°å¯¹è±¡ã
     * @param {number} x - å·¦ä¸è§æ¨ªåæ ï¼å¿è®¾åæ°ã
     * @param {number} y - å·¦ä¸è§çºµåæ ï¼å¿è®¾åæ°ã
     * @param {(string|Object)} image - å¾çå°åæCavanså¯¹è±¡ï¼å¿è®¾åæ°ã
     * @param {number} width - ç»å¶å°ç»å¸ä¸çå®½åº¦ï¼é»è®¤ä¸ºå¾çé«åº¦ã
     * @param {number} height - ç»å¶å°ç»å¸ä¸çé«åº¦ï¼é»è®¤ä¸ºå¾çé«åº¦ã
     * @param {number} sx - ä»å¾çä¸­è£åªçå·¦ä¸è§æ¨ªåæ ã
     * @param {number} sy - ä»å¾çä¸­è£åªçå·¦ä¸è§çºµåæ ã
     * @param {number} sWidth - ä»å¾çä¸­è£åªçå®½åº¦ï¼é»è®¤ä¸ºå¾çé«åº¦ã
     * @param {number} sHeight - ç»å¶å°ç»å¸ä¸çé«åº¦ï¼é»è®¤ä¸ºå¾çé«åº¦ã
     * @returns {SuperMap.Feature.ShapeParameters.Image} åå½¢åæ°å¯¹è±¡ã
     */
    constructor(x, y, image, width, height, sx, sy, sWidth, sHeight) {
        super(x, y, image, width, height, sx, sy, sWidth, sHeight);
        /**
         * @member {number} SuperMap.Feature.ShapeParameters.Image.prototype.x
         * @description å·¦ä¸è§æ¨ªåæ ï¼å¿è®¾åæ°ã
         */
        this.x = x;
        
        /**
         * @member {number} SuperMap.Feature.ShapeParameters.Image.prototype.y
         * @description å·¦ä¸è§çºµåæ ï¼å¿è®¾åæ°ã
         */
        this.y = y;

        /**
         * @member {(string|Object)} SuperMap.Feature.ShapeParameters.Image.prototype.image
         * @description å¾çå°åã
         */
        this.image = image;

        /**
         * @member {number} SuperMap.Feature.ShapeParameters.Image.prototype.width
         * @description ç»å¶å°ç»å¸ä¸çå®½åº¦ï¼é»è®¤ä¸ºå¾çé«åº¦ã
         */
        this.width = width;
        
        /**
         * @member {number} SuperMap.Feature.ShapeParameters.Image.prototype.height
         * @description ç»å¶å°ç»å¸ä¸çé«åº¦ï¼é»è®¤ä¸ºå¾çé«åº¦ã
         */
        this.height = height;

        /**
         * @member {number} SuperMap.Feature.ShapeParameters.Image.prototype.sx
         * @description ä»å¾çä¸­è£åªçå·¦ä¸è§æ¨ªåæ ã
         */
        this.sx = sx;

        /**
         * @member {number} SuperMap.Feature.ShapeParameters.Image.prototype.sy
         * @description ä»å¾çä¸­è£åªçå·¦ä¸è§çºµåæ ã
         */
        this.sy = sy;

        /**
         * @member {number} SuperMap.Feature.ShapeParameters.Image.prototype.sWidth
         * @description ä»å¾çä¸­è£åªçå®½åº¦ï¼é»è®¤ä¸ºå¾çé«åº¦ã
         */
        this.sWidth = sWidth;

        /**
         * @member {number} SuperMap.Feature.ShapeParameters.Image.prototype.sHeight
         * @description ç»å¶å°ç»å¸ä¸çé«åº¦ï¼é»è®¤ä¸ºå¾çé«åº¦ã
         */
        this.sHeight = sHeight;

        this.CLASS_NAME = "SuperMap.Feature.ShapeParameters.Image";

    }


    /**
     * @function SuperMap.Feature.ShapeParameters.Image.prototype.destroy
     * @description éæ¯å¯¹è±¡ã
     */
    destroy() {
        this.x = null;
        this.y = null;
        this.image = null;
        this.width = null;
        this.height = null;
        this.sx = null;
        this.sy = null;
        this.sWidth = null;
        this.sHeight = null;
        super.destroy();
    }
}
SuperMap.Feature = SuperMap.Feature || {};
SuperMap.Feature.ShapeParameters.Image = Image_Image;
// CONCATENATED MODULE: ./src/common/overlay/feature/Circle.js



/**
 * @class  SuperMap.Feature.ShapeParameters.Circle
 * @classdesc åå½¢åæ°å¯¹è±¡ã
 * @category Visualization Theme
 * @extends {SuperMap.Feature.ShapeParameters}
 */

class Circle_Circle extends ShapeParameters {


    /**
     * @function SuperMap.Feature.ShapeParameters.Circle.prototype.constructor
     * @description åå»ºä¸ä¸ªåå½¢åæ°å¯¹è±¡ã
     * @param {number} x - åå¿ x åæ ï¼å¿è®¾åæ°ã
     * @param {Number} y - åå¿ y åæ ï¼å¿è®¾åæ°ã
     * @param {Number} r - ååå¾ï¼å¿è®¾åæ°ã
     * @returns {SuperMap.Feature.ShapeParameters.Circle} åå½¢åæ°å¯¹è±¡ã
     */
    constructor(x, y, r) {
        super(x, y, r);
        /**
         * @member {number} SuperMap.Feature.ShapeParameters.Circle.prototype.x
         * @description åå¿ x åæ ã
         */
        this.x = !isNaN(x) ? x : 0;

        /**
         * @member {number} SuperMap.Feature.ShapeParameters.Circle.prototype.y
         * @description åå¿ y åæ ã
         */
        this.y =  !isNaN(y) ? y : 0;

        /**
         * @member {number} SuperMap.Feature.ShapeParameters.Circle.prototype.r
         * @description ååå¾ã
         */
        this.r =  !isNaN(r) ? r : 0;

        this.CLASS_NAME = "SuperMap.Feature.ShapeParameters.Circle";

    }


    /**
     * @function SuperMap.Feature.ShapeParameters.Circle.prototype.destroy
     * @description éæ¯å¯¹è±¡ã
     */
    destroy() {
        this.x = null;
        this.y = null;
        this.r = null;
        super.destroy();
    }

}
SuperMap.Feature = SuperMap.Feature || {};
SuperMap.Feature.ShapeParameters.Circle = Circle_Circle;

// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/Eventful.js
/**
 * @class  SuperMap.LevelRenderer.Eventful
 * @category Visualization Theme
 * @classdesc äºä»¶ååå¨è¶ç±»ï¼æææ¯æäºä»¶å¤ççç±»åæ¯æ­¤ç±»çå­ç±»ã
 * æ­¤ç±»ä¸å¯å®ä¾åã
 * @private 
 */
class Eventful {




    /**
     * @function SuperMap.LevelRenderer.Eventful.prototype.constructor
     * @description æé å½æ°ãå¯¹è±¡å¯ä»¥éè¿ onxxxx ç»å®äºä»¶ã
     * æ¯æçäºä»¶ï¼
     * Symbolizer properties:
     * onclick - {function} é»è®¤å¼ï¼nullã
     * onmouseover - {function} é»è®¤å¼ï¼nullã
     * onmouseout - {function} é»è®¤å¼ï¼nullã
     * onmousemove - {function} é»è®¤å¼ï¼nullã
     * onmousewheel - {function} é»è®¤å¼ï¼nullã
     * onmousedown - {function} é»è®¤å¼ï¼nullã
     * onmouseup - {function} é»è®¤å¼ï¼nullã
     * ondragstart - {function} é»è®¤å¼ï¼nullã
     * ondragend - {function} é»è®¤å¼ï¼nullã
     * ondragenter - {function} é»è®¤å¼ï¼nullã
     * ondragleave - {function} é»è®¤å¼ï¼nullã
     * ondragover - {function} é»è®¤å¼ï¼nullã
     * ondrop - {function} é»è®¤å¼ï¼nullã
     */
    constructor() {
        /**
         * @member {Object} SuperMap.LevelRenderer.Eventful.prototype._handlers
         * @description äºä»¶å¤çå¯¹è±¡ï¼äºä»¶ååå¨ï¼ã
         */
        this._handlers = {};

        this.CLASS_NAME = "SuperMap.LevelRenderer.Eventful";
    }


    /**
     * @function {Object} SuperMap.LevelRenderer.Eventful.prototype.destroy
     * @description éæ¯å¯¹è±¡ï¼éæ¾èµæºãè°ç¨æ­¤å½æ°åææå±æ§å°è¢«ç½®ä¸º nullã
     */
    destroy() {
        this._handlers = null;
    }


    /**
     * @function SuperMap.LevelRenderer.Eventful.prototype.one
     * @description åæ¬¡è§¦åç»å®ï¼dispatchåéæ¯ã
     * @param {string} event - äºä»¶åã
     * @param {boolean} handler - ååºå½æ°ã
     * @param {Object} context - contextã
     * @returns {SuperMap.LevelRenderer.Eventful} this
     */
    one(event, handler, context) {
        var _h = this._handlers;

        if (!handler || !event) {
            return this;
        }

        if (!_h[event]) {
            _h[event] = [];
        }

        _h[event].push({
            h: handler,
            one: true,
            ctx: context || this
        });

        return this;
    }


    /**
     * @function SuperMap.LevelRenderer.Eventful.prototype.bind
     * @description ç»å®äºä»¶ã
     * @param {string} event - äºä»¶åã
     * @param {boolean} handler - ååºå½æ°ã
     * @param {Object} context - contextã
     * @returns {SuperMap.LevelRenderer.Eventful} this
     */
    bind(event, handler, context) {
        var _h = this._handlers;

        if (!handler || !event) {
            return this;
        }

        if (!_h[event]) {
            _h[event] = [];
        }

        _h[event].push({
            h: handler,
            one: false,
            ctx: context || this
        });

        return this;
    }


    /**
     * @function SuperMap.LevelRenderer.Eventful.prototype.unbind
     * @description è§£ç»äºä»¶ã
     * @param {string} event - äºä»¶åã
     * @param {boolean} handler - ååºå½æ°ã
     * @returns {SuperMap.LevelRenderer.Eventful} this
     */
    unbind(event, handler) {
        var _h = this._handlers;

        if (!event) {
            this._handlers = {};
            return this;
        }

        if (handler) {
            if (_h[event]) {
                var newList = [];
                for (var i = 0, l = _h[event].length; i < l; i++) {
                    if (_h[event][i]['h'] != handler) {
                        newList.push(_h[event][i]);
                    }
                }
                _h[event] = newList;
            }

            if (_h[event] && _h[event].length === 0) {
                delete _h[event];
            }
        } else {
            delete _h[event];
        }

        return this;
    }


    /**
     * @function SuperMap.LevelRenderer.Eventful.prototype.dispatch
     * @description äºä»¶ååã
     * @param {string} type - äºä»¶ç±»åã
     * @returns {SuperMap.LevelRenderer.Eventful} this
     */
    dispatch(type) {
        if (this._handlers[type]) {
            var args = arguments;
            var argLen = args.length;

            if (argLen > 3) {
                args = Array.prototype.slice.call(args, 1);
            }

            var _h = this._handlers[type];
            var len = _h.length;
            for (var i = 0; i < len;) {
                // Optimize advise from backbone
                switch (argLen) {
                    case 1:
                        _h[i]['h'].call(_h[i]['ctx']);
                        break;
                    case 2:
                        _h[i]['h'].call(_h[i]['ctx'], args[1]);
                        break;
                    case 3:
                        _h[i]['h'].call(_h[i]['ctx'], args[1], args[2]);
                        break;
                    default:
                        // have more than 2 given arguments
                        _h[i]['h'].apply(_h[i]['ctx'], args);
                        break;
                }

                if (_h[i]['one']) {
                    _h.splice(i, 1);
                    len--;
                } else {
                    i++;
                }
            }
        }

        return this;
    }


    /**
     * @function SuperMap.LevelRenderer.Eventful.prototype.dispatchWithContext
     * @description å¸¦æcontextçäºä»¶ååï¼æåä¸ä¸ªåæ°æ¯äºä»¶åè°ç contextã
     * @param {string} type - äºä»¶ç±»åã
     * @returns {SuperMap.LevelRenderer.Eventful} this
     */
    dispatchWithContext(type) {
        if (this._handlers[type]) {
            var args = arguments;
            var argLen = args.length;

            if (argLen > 4) {
                args = Array.prototype.slice.call(args, 1, args.length - 1);
            }
            var ctx = args[args.length - 1];

            var _h = this._handlers[type];
            var len = _h.length;
            for (var i = 0; i < len;) {
                // Optimize advise from backbone
                switch (argLen) {
                    case 1:
                        _h[i]['h'].call(ctx);
                        break;
                    case 2:
                        _h[i]['h'].call(ctx, args[1]);
                        break;
                    case 3:
                        _h[i]['h'].call(ctx, args[1], args[2]);
                        break;
                    default:
                        // have more than 2 given arguments
                        _h[i]['h'].apply(ctx, args);
                        break;
                }

                if (_h[i]['one']) {
                    _h.splice(i, 1);
                    len--;
                } else {
                    i++;
                }
            }
        }

        return this;
    }

}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/Util.js
/**
 * @private
 * @class  SuperMap.LevelRenderer.Tool.Util
 * @category Visualization Theme
 * LevelRenderer åºç¡å·¥å·ç±»
 *
 */
class levelRenderer_Util_Util {


    /**
     * @function SuperMap.LevelRenderer.Tool.Util.constructor
     * @description æé å½æ°ã
     *
     */
    constructor() {
        /**
         * @member {Object} SuperMap.LevelRenderer.Tool.Util.prototype.BUILTIN_OBJECT
         * @description ç¨äºå¤çmergeæ¶æ æ³éåDateç­å¯¹è±¡çé®é¢
         */
        this.BUILTIN_OBJECT = {
            '[object Function]': 1,
            '[object RegExp]': 1,
            '[object Date]': 1,
            '[object Error]': 1,
            '[object CanvasGradient]': 1
        };

        /**
         * @member {Object} SuperMap.LevelRenderer.Tool.Util.prototype._ctx
         */
        this._ctx = null;

        /**
         * Property: _canvas
         * {Object}
         */
        this._canvas = null;

        /**
         * Property: _pixelCtx
         * {Object}
         */
        this._pixelCtx = null;

        /**
         * Property: _width
         * {Object}
         */
        this._width = null;

        /**
         * Property: _height
         * {Object}
         */
        this._height = null;

        /**
         * Property: _offsetX
         * {Object}
         */
        this._offsetX = 0;

        /**
         * Property: _offsetY
         * {Object}
         */
        this._offsetY = 0;

        this.CLASS_NAME = "SuperMap.LevelRenderer.Tool.Util";

    }


    /**
     * @function SuperMap.LevelRenderer.Tool.Util.prototype.clone
     * @description å¯¹ä¸ä¸ªobjectè¿è¡æ·±åº¦æ·è´ã
     * 
     * @param {Object} source - éè¦è¿è¡æ·è´çå¯¹è±¡ã
     * @return {Object} æ·è´åçæ°å¯¹è±¡ã
     */
    clone(source) {
        var BUILTIN_OBJECT = this.BUILTIN_OBJECT;
        if (typeof source == 'object' && source !== null) {
            var result = source;
            if (source instanceof Array) {
                result = [];
                for (var i = 0, len = source.length; i < len; i++) {
                    result[i] = this.clone(source[i]);
                }
            } else if (!BUILTIN_OBJECT[Object.prototype.toString.call(source)]) {
                result = {};
                for (var key in source) {
                    if (source.hasOwnProperty(key)) {
                        result[key] = this.clone(source[key]);
                    }
                }
            }

            return result;
        }

        return source;
    }


    /**
     * @function SuperMap.LevelRenderer.Tool.Util.prototype.mergeItem
     * @description åå¹¶æºå¯¹è±¡çåä¸ªå±æ§å°ç®æ å¯¹è±¡ã
     *
     * @param {Object} target - ç®æ å¯¹è±¡ã
     * @param {Object} source - æºå¯¹è±¡ã
     * @param {String} key - é®ã
     * @param {Boolean} overwrite - æ¯å¦è¦çã
     * @return {Object} ç®æ å¯¹è±¡
     */
    mergeItem(target, source, key, overwrite) {
        var BUILTIN_OBJECT = this.BUILTIN_OBJECT;
        if (source.hasOwnProperty(key)) {
            if (typeof target[key] == 'object'
                && !BUILTIN_OBJECT[Object.prototype.toString.call(target[key])]
            ) {
                // å¦æéè¦éå½è¦çï¼å°±éå½è°ç¨merge
                this.merge(
                    target[key],
                    source[key],
                    overwrite
                );
            } else if (overwrite || !(key in target)) {
                // å¦ååªå¤çoverwriteä¸ºtrueï¼æèå¨ç®æ å¯¹è±¡ä¸­æ²¡ææ­¤å±æ§çæåµ
                target[key] = source[key];
            }
        }
    }


    /**
     * @function SuperMap.LevelRenderer.Tool.Util.prototype.merge
     * @description åå¹¶æºå¯¹è±¡çå±æ§å°ç®æ å¯¹è±¡ã
     * 
     * @param {Object} target - ç®æ å¯¹è±¡ã
     * @param {Object} source - æºå¯¹è±¡ã
     * @param {Boolean} overwrite - æ¯å¦è¦çã
     * @return {Object} ç®æ å¯¹è±¡ã
     */
    merge(target, source, overwrite) {
        for (var i in source) {
            this.mergeItem(target, source, i, overwrite);
        }

        return target;
    }


    /**
     * @function SuperMap.LevelRenderer.Tool.Util.prototype.getContext
     * @description è·å Canvas ä¸ä¸æã
     * @return {Object} ä¸ä¸æã
     */
    getContext() {
        if (!this._ctx) {
            this._ctx = document.createElement('canvas').getContext('2d');
        }
        return this._ctx;
    }


    /**
     * @function SuperMap.LevelRenderer.Tool.Util.prototype.getPixelContext
     * @description è·ååç´ æ¾åä¸ç¨çä¸ä¸æã
     * @return {Object} åç´ æ¾åä¸ç¨çä¸ä¸æã
     */
    getPixelContext() {
        if (!this._pixelCtx) {
            this._canvas = document.createElement('canvas');
            this._width = this._canvas.width;
            this._height = this._canvas.height;
            this._pixelCtx = this._canvas.getContext('2d');
        }
        return this._pixelCtx;
    }


    /**
     * @function SuperMap.LevelRenderer.Tool.Util.prototype.adjustCanvasSize
     * @description å¦æåæ å¤å¨_canvaså¤é¨ï¼æ¹å_canvasçå¤§å°ï¼ä¿®æ¹canvasçå¤§å° éè¦éæ°è®¾ç½®translate
     *
     * @param {number} x - æ¨ªåæ ã
     * @param {number} y - çºµåæ ã
     *
     */
    adjustCanvasSize(x, y) {
        var _canvas = this._canvas;
        var _pixelCtx = this._pixelCtx;
        var _width = this._width;
        var _height = this._height;
        var _offsetX = this._offsetX;
        var _offsetY = this._offsetY;

        // æ¯æ¬¡å çé¿åº¦
        var _v = 100;
        var _flag;

        if (x + _offsetX > _width) {
            _width = x + _offsetX + _v;
            _canvas.width = _width;
            _flag = true;
        }

        if (y + _offsetY > _height) {
            _height = y + _offsetY + _v;
            _canvas.height = _height;
            _flag = true;
        }

        if (x < -_offsetX) {
            _offsetX = Math.ceil(-x / _v) * _v;
            _width += _offsetX;
            _canvas.width = _width;
            _flag = true;
        }

        if (y < -_offsetY) {
            _offsetY = Math.ceil(-y / _v) * _v;
            _height += _offsetY;
            _canvas.height = _height;
            _flag = true;
        }

        if (_flag) {
            _pixelCtx.translate(_offsetX, _offsetY);
        }
    }


    /**
     * @function SuperMap.LevelRenderer.Tool.Util.prototype.getPixelOffset
     * @description è·ååç´ canvasçåç§»éã
     * @return {Object} åç§»éã
     */
    getPixelOffset() {
        return {
            x: this._offsetX,
            y: this._offsetY
        };
    }


    /**
     * @function SuperMap.LevelRenderer.Tool.Util.prototype.indexOf
     * @description æ¥è¯¢æ°ç»ä¸­åç´ çindex
     * @return {Object} åç§»éã
     */
    indexOf(array, value) {
        if (array.indexOf) {
            return array.indexOf(value);
        }
        for (var i = 0, len = array.length; i < len; i++) {
            if (array[i] === value) {
                return i;
            }
        }
        return -1;
    }


    /**
     * @function SuperMap.LevelRenderer.Tool.Util.prototype.inherits
     * @description æé ç±»ç»§æ¿å³ç³»
     * 
     * @param {Function} clazz - æºç±»ã
     * @param {Function} baseClazz - åºç±»ã
     * @return {Object} åç§»éã
     */
    inherits(clazz, baseClazz) {
        var clazzPrototype = clazz.prototype;

        function F() {
        }

        F.prototype = baseClazz.prototype;
        clazz.prototype = new F();

        for (var prop in clazzPrototype) {
            clazz.prototype[prop] = clazzPrototype[prop];
        }
        clazz.constructor = clazz;
    }
}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/Vector.js
/**
 * @private
 * @class  SuperMap.LevelRenderer.Tool.Vector
 * @category Visualization Theme
 * @classdesc LevelRenderer äºç»´åéç±»
 *
 */
class levelRenderer_Vector_Vector {

    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.constructor
     * @description æé å½æ°
     */
    constructor() {
        this.ArrayCtor = typeof Float32Array === 'undefined'
            ? Array
            : Float32Array;

        this.CLASS_NAME = "SuperMap.LevelRenderer.Tool.Vector";
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.prototype.create
     * @description åå»ºä¸ä¸ªåéã
     * 
     * @param {number} x - xåæ 
     * @param {number} y - Yåæ 
     * @return {Vector2} åéã
     */
    create(x, y) {
        var ArrayCtor = this.ArrayCtor;

        var out = new ArrayCtor(2);
        out[0] = x || 0;
        out[1] = y || 0;

        return out;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.prototype.copy
     * @description å¤å¶ä¸ä¸ªåéã
     * 
     * @param {Vector2} out - åºç¡åéã
     * @param {Vector2} v - åéã
     * @return {Vector2} åéåéã
     */
    copy(out, v) {
        out[0] = v[0];
        out[1] = v[1];
        return out;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.prototype.set
     * @description è®¾ç½®åéçä¸¤ä¸ªé¡¹ã
     * 
     * @param {Vector2} out - åºç¡åéã
     * @param {number} a - é¡¹ aã
     * @param {number} b - é¡¹ bã
     * @return {Vector2} ç»æã
     */
    set(out, a, b) {
        out[0] = a;
        out[1] = b;
        return out;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.prototype.add
     * @description åéç¸å ã
     * 
     * @param {Vector2} out - åºç¡åéã
     * @param {Vector2} v1 - åé v1ã
     * @param {Vector2} v2 - åé v2ã
     * @return {Vector2} ç»æã
     */
    add(out, v1, v2) {
        out[0] = v1[0] + v2[0];
        out[1] = v1[1] + v2[1];
        return out;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.prototype.scaleAndAdd
     * @description åéç¼©æ¾åç¸å ã
     * @param {Vector2} out - åºç¡åéã
     * @param {Vector2} v1 - åé v1ã
     * @param {Vector2} v2 - åé v2ï¼ç¼©æ¾åéï¼ã
     * @param {number} a - ç¼©æ¾åæ°ã
     * @return {Vector2} ç»æã
     */
    scaleAndAdd(out, v1, v2, a) {
        out[0] = v1[0] + v2[0] * a;
        out[1] = v1[1] + v2[1] * a;
        return out;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.prototype.sub
     * @description åéç¸åã
     * @param {Vector2} out - åºç¡åéã
     * @param {Vector2} v1 - åé v1ã
     * @param {Vector2} v2 - åé v2ã
     * @return {Vector2} ç»æã
     */
    sub(out, v1, v2) {
        out[0] = v1[0] - v2[0];
        out[1] = v1[1] - v2[1];
        return out;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.prototype.len
     * @description åéé¿åº¦ã
     * @param {Vector2} v - åéã
     * @return {number} åéé¿åº¦ã
     */
    len(v) {
        return Math.sqrt(this.lenSquare(v));
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.prototype.lenSquare
     * @description åéé¿åº¦å¹³æ¹ã
     * @param {Vector2} v - åéã
     * @return {number} åéé¿åº¦å¹³æ¹ã
     */
    lenSquare(v) {
        return v[0] * v[0] + v[1] * v[1];
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.prototype.mul
     * @description åéä¹æ³ã
     * @param {Vector2} out - åºç¡åéã
     * @param {Vector2} v1 - åé v1ã
     * @param {Vector2} v2 - åé v2ã
     * @return {Vector2} ç»æã
     */
    mul(out, v1, v2) {
        out[0] = v1[0] * v2[0];
        out[1] = v1[1] * v2[1];
        return out;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.prototype.div
     * @description åéé¤æ³ã
     * 
     * @param {Vector2} out - åºç¡åéã
     * @param {Vector2} v1 - åé v1ã
     * @param {Vector2} v2 - åé v2ã
     * @return {Vector2} ç»æã
     */
    div(out, v1, v2) {
        out[0] = v1[0] / v2[0];
        out[1] = v1[1] / v2[1];
        return out;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.prototype.dot
     * @description åéç¹ä¹ã
     * 
     * @param  {Vector2} v1 - åé v1ã
     * @param  {Vector2} v2 - åé v2ã
     * @return {number} åéç¹ä¹ã
     */
    dot(v1, v2) {
        return v1[0] * v2[0] + v1[1] * v2[1];
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.prototype.scale
     * @description åéç¼©æ¾ã
     *
     * @param {Vector2} out - åºç¡åéã
     * @param {Vector2} v - åévã
     * @param {number} s -ç¼©æ¾åæ°ã
     * @return {Vector2} ç»æã
     */
    scale(out, v, s) {
        out[0] = v[0] * s;
        out[1] = v[1] * s;
        return out;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.prototype.normalize
     * @description åéå½ä¸åã
     *
     * @param {Vector2} out - åºç¡åéã
     * @param {Vector2} v - åé vã
     * @return {Vector2} ç»æã
     */
    normalize(out, v) {
        var d = this.len(v);
        if (d === 0) {
            out[0] = 0;
            out[1] = 0;
        } else {
            out[0] = v[0] / d;
            out[1] = v[1] / d;
        }
        return out;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.prototype.distance
     * @description è®¡ç®åéé´è·ç¦»ã
     * 
     * @param {Vector2} v1 - åé v1ã
     * @param {Vector2} v2 - åé v2ã
     * @return {number} åéé´è·ç¦»ã
     */
    distance(v1, v2) {
        return Math.sqrt(
            (v1[0] - v2[0]) * (v1[0] - v2[0])
            + (v1[1] - v2[1]) * (v1[1] - v2[1])
        );
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.prototype.distanceSquare
     * @description åéè·ç¦»å¹³æ¹ã
     * 
     * @param {Vector2} v1 - åé v1ã
     * @param {Vector2} v2 - åé v2ã
     * @return {number} åéè·ç¦»å¹³æ¹ã
     */
    distanceSquare(v1, v2) {
        return (v1[0] - v2[0]) * (v1[0] - v2[0])
            + (v1[1] - v2[1]) * (v1[1] - v2[1]);
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.prototype.negate
     * @description æ±è´åéã
     * 
     * @param {Vector2} out - åºç¡åéã
     * @param {Vector2} v - åé vã
     * @return {Vector2} è´åéã
     */
    negate(out, v) {
        out[0] = -v[0];
        out[1] = -v[1];
        return out;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.prototype.lerp
     * @description ä¸¤ç¹ä¹é´çº¿æ§æå¼ã
     *
     * @param {Vector2} out - åºç¡åéã
     * @param {Vector2} v1 - åé v1ã
     * @param {Vector2} v2 - åé v2ã
     * @param {number} t
     * @return {Vector2} ç»æã
     */
    lerp(out, v1, v2, t) {
        out[0] = v1[0] + t * (v2[0] - v1[0]);
        out[1] = v1[1] + t * (v2[1] - v1[1]);
        return out;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.prototype.applyTransform
     * @description ç©éµå·¦ä¹åéã
     * 
     * @param {Vector2} out - åºç¡åéã
     * @param {Vector2} v1 - åé v1ã
     * @param {Vector2} v2 - åé v2ã
     * @return {Vector2} ç»æã
     */
    applyTransform(out, v, m) {
        var x = v[0];
        var y = v[1];
        out[0] = m[0] * x + m[2] * y + m[4];
        out[1] = m[1] * x + m[3] * y + m[5];
        return out;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.prototype.min
     * @description æ±ä¸¤ä¸ªåéæå°å¼ã
     * @param {Vector2} out - åºç¡åéã
     * @param {Vector2} v1 - åé v1ã
     * @param {Vector2} v2 - åé v2ã
     * @return {Vector2} ç»æã
     */
    min(out, v1, v2) {
        out[0] = Math.min(v1[0], v2[0]);
        out[1] = Math.min(v1[1], v2[1]);
        return out;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.prototype.max
     * @description æ±ä¸¤ä¸ªåéæå¤§å¼ã
     *
     * @param {Vector2} out - åºç¡åéã
     * @param {Vector2} v1 - åé v1ã
     * @param {Vector2} v2 - åé v2ã
     * @return {Vector2} ç»æã
     */
    max(out, v1, v2) {
        out[0] = Math.max(v1[0], v2[0]);
        out[1] = Math.max(v1[1], v2[1]);
        return out;
    }


    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.prototype.length
     * @description åéé¿åº¦ã
     * 
     * @param {Vector2} v - åéã
     * @return {number} åéé¿åº¦ã
     */
    length(v) {
        return this.len(v);
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.prototype.lengthSquare
     * @description åéé¿åº¦å¹³æ¹ã
     * 
     * @param {Vector2} v - åéã
     * @return {number} åéé¿åº¦å¹³æ¹ã
     */
    lengthSquare(v) {
        return this.lenSquare(v);
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.prototype.dist
     * @description è®¡ç®åéé´è·ç¦»ã
     *
     * @param {Vector2} v1 - åé v1ã
     * @param {Vector2} v2 - åé v2ã
     * @return {number} åéé´è·ç¦»ã
     */
    dist(v1, v2) {
        return this.distance(v1, v2);
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Vector.prototype.distSquare
     * @description åéè·ç¦»å¹³æ¹ã
     * 
     * @param {Vector2} v1 - åé v1ã
     * @param {Vector2} v2 - åé v2ã
     * @return {number} åéè·ç¦»å¹³æ¹
     */
    distSquare(v1, v2) {
        return this.distanceSquare(v1, v2);
    }

}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/Curve.js


/**
 * @class  SuperMap.LevelRenderer.Tool.Curve
 * @category Visualization Theme
 * @classdesc LevelRenderer å·¥å·-æ²çº¿
 * @private 
 */
class levelRenderer_Curve_Curve {
    
    /**
     * @function SuperMap.LevelRenderer.Tool.Curve.prototype.constructor
     * @description æé å½æ°ã
     */
    constructor() {
        /**
         * @member {SuperMap.LevelRenderer.Tool.Vector} SuperMap.LevelRenderer.Tool.Curve.prototype.vector
         * @description ç¢éå·¥å·ã
         */
        this.vector = new levelRenderer_Vector_Vector();

        /**
         * @member {number} SuperMap.LevelRenderer.Tool.Curve.prototype.EPSILON
         * @description eã
         */
        this.EPSILON = 1e-4;

        /**
         * @member {number} SuperMap.LevelRenderer.Tool.Curve.prototype.THREE_SQRT
         * @description 3 çå¹³æ¹æ ¹ã
         */
        this.THREE_SQRT = Math.sqrt(3);

        /**
         * @member {number} SuperMap.LevelRenderer.Tool.Curve.prototype.ONE_THIRD
         * @description 1/3ã
         */
        this.ONE_THIRD = 1 / 3;

        this.CLASS_NAME = "SuperMap.LevelRenderer.Tool.Curve";
    }


    /*
     * Method: evalCubicCoeff
     *
     * Parameters:
     * a - {Number} å¼ã
     * b - {Number} å¼ã
     * c - {Number} å¼ã
     * d - {Number} å¼ã
     * t - {Number} å¼ã
     *
     * Returns:
     * {Number}
     */

    /*
     evalCubicCoeff: function(a, b, c, d, t){
     return ((a * t + b) * t + c) * t + d;
     },
     */
    
    /**
     * @function SuperMap.LevelRenderer.Tool.Curve.prototype.isAroundZero
     * @description å¤æ­ä¸ä¸ªå¼æ¯å¦è¶äº0ï¼å¤æ­åèå¼ï¼1e-4ã
     * @param {number} val - å¼ã
     * @returns {boolean} å¼æ¯å¦è¶äº0ã
     */
    isAroundZero(val) {
        return val > -this.EPSILON && val < this.EPSILON;
    }


    /**
     * @function SuperMap.LevelRenderer.Tool.Curve.prototype.isNotAroundZero
     * @description å¤æ­ä¸ä¸ªå¼æ¯å¦ä¸è¶äº0ï¼å¤æ­åèå¼ï¼1e-4ã
     * @param {number} val - å¼ã
     * @returns {boolean} å¼æ¯å¦ä¸è¶äº0ã
     */
    isNotAroundZero(val) {
        return val > this.EPSILON || val < -this.EPSILON;
    }


    /**
     * @function SuperMap.LevelRenderer.Tool.Curve.prototype.cubicAt
     * @description è®¡ç®ä¸æ¬¡è´å¡å°å¼
     * @param {number} p0 - ç¹p0ã
     * @param {number} p1 - ç¹p1ã
     * @param {number} p2 - ç¹p2ã
     * @param {number} p3 - ç¹p3ã
     * @param {number} t - tå¼ã
     * @returns {number} ä¸æ¬¡è´å¡å°å¼ã
     */
    cubicAt(p0, p1, p2, p3, t) {
        var onet = 1 - t;
        return onet * onet * (onet * p0 + 3 * t * p1)
            + t * t * (t * p3 + 3 * onet * p2);
    }


    /**
     * @function SuperMap.LevelRenderer.Tool.Curve.prototype.cubicDerivativeAt
     * @description è®¡ç®ä¸æ¬¡è´å¡å°å¯¼æ°å¼
     * @param {number} p0 - ç¹p0ã
     * @param {number} p1 - ç¹p1ã
     * @param {number} p2 - ç¹p2ã
     * @param {number} p3 - ç¹p3ã
     * @param {number} t - tå¼ã
     * @returns {number} ä¸æ¬¡è´å¡å°å¯¼æ°å¼ã
     */
    cubicDerivativeAt(p0, p1, p2, p3, t) {
        var onet = 1 - t;
        return 3 * (
            ((p1 - p0) * onet + 2 * (p2 - p1) * t) * onet
            + (p3 - p2) * t * t
        );
    }

    
    /**
     * @function SuperMap.LevelRenderer.Tool.Curve.prototype.cubicRootAt
     * @description è®¡ç®ä¸æ¬¡è´å¡å°æ¹ç¨æ ¹ï¼ä½¿ç¨çéå¬å¼
     * @param {number} p0 - ç¹p0ã
     * @param {number} p1 - ç¹p1ã
     * @param {number} p2 - ç¹p2ã
     * @param {number} p3 - ç¹p3ã
     * @param {number} val - å¼ã
     * @param {Array.<number>} roots - æææ ¹æ°ç®ã
     * @returns {number} æææ ¹ã
     */
    cubicRootAt(p0, p1, p2, p3, val, roots) {
        // Evaluate roots of cubic functions
        var a = p3 + 3 * (p1 - p2) - p0;
        var b = 3 * (p2 - p1 * 2 + p0);
        var c = 3 * (p1 - p0);
        var d = p0 - val;

        var A = b * b - 3 * a * c;
        var B = b * c - 9 * a * d;
        var C = c * c - 3 * b * d;

        var n = 0;

        if (this.isAroundZero(A) && this.isAroundZero(B)) {
            if (this.isAroundZero(b)) {
                roots[0] = 0;
            } else {
                let t1 = -c / b;  //t1, t2, t3, b is not zero
                if (t1 >= 0 && t1 <= 1) {
                    roots[n++] = t1;
                }
            }
        } else {
            var disc = B * B - 4 * A * C;

            if (this.isAroundZero(disc)) {
                var K = B / A;
                let t1 = -b / a + K;  // t1, a is not zero
                let t2 = -K / 2;  // t2, t3
                if (t1 >= 0 && t1 <= 1) {
                    roots[n++] = t1;
                }
                if (t2 >= 0 && t2 <= 1) {
                    roots[n++] = t2;
                }
            } else if (disc > 0) {
                let discSqrt = Math.sqrt(disc);
                let Y1 = A * b + 1.5 * a * (-B + discSqrt);
                let Y2 = A * b + 1.5 * a * (-B - discSqrt);
                if (Y1 < 0) {
                    Y1 = -Math.pow(-Y1, this.ONE_THIRD);
                } else {
                    Y1 = Math.pow(Y1, this.ONE_THIRD);
                }
                if (Y2 < 0) {
                    Y2 = -Math.pow(-Y2, this.ONE_THIRD);
                } else {
                    Y2 = Math.pow(Y2, this.ONE_THIRD);
                }
                let t1 = (-b - (Y1 + Y2)) / (3 * a);
                if (t1 >= 0 && t1 <= 1) {
                    roots[n++] = t1;
                }
            } else {
                var T = (2 * A * b - 3 * a * B) / (2 * Math.sqrt(A * A * A));
                var theta = Math.acos(T) / 3;
                var ASqrt = Math.sqrt(A);
                var tmp = Math.cos(theta);

                let t1 = (-b - 2 * ASqrt * tmp) / (3 * a);
                let t2 = (-b + ASqrt * (tmp + this.THREE_SQRT * Math.sin(theta))) / (3 * a);
                let t3 = (-b + ASqrt * (tmp - this.THREE_SQRT * Math.sin(theta))) / (3 * a);
                if (t1 >= 0 && t1 <= 1) {
                    roots[n++] = t1;
                }
                if (t2 >= 0 && t2 <= 1) {
                    roots[n++] = t2;
                }
                if (t3 >= 0 && t3 <= 1) {
                    roots[n++] = t3;
                }
            }
        }
        return n;
    }

    
    /**
     * @function SuperMap.LevelRenderer.Tool.Curve.prototype.cubicRootAt
     * @description è®¡ç®ä¸æ¬¡è´å¡å°æ¹ç¨æéå¼çä½ç½®
     * @param {number} p0 - ç¹p0ã
     * @param {number} p1 - ç¹p1ã
     * @param {number} p2 - ç¹p2ã
     * @param {number} p3 - ç¹p3ã
     * @param {Array.<number>} extrema - å¼ã
     * @returns {number} æææ°ç®ã
     */
    cubicExtrema(p0, p1, p2, p3, extrema) {
        var b = 6 * p2 - 12 * p1 + 6 * p0;
        var a = 9 * p1 + 3 * p3 - 3 * p0 - 9 * p2;
        var c = 3 * p1 - 3 * p0;

        var n = 0;
        if (this.isAroundZero(a)) {
            if (this.isNotAroundZero(b)) {
                let t1 = -c / b;
                if (t1 >= 0 && t1 <= 1) {
                    extrema[n++] = t1;
                }
            }
        } else {
            var disc = b * b - 4 * a * c;
            if (this.isAroundZero(disc)) {
                extrema[0] = -b / (2 * a);
            } else if (disc > 0) {
                let discSqrt = Math.sqrt(disc);
                let t1 = (-b + discSqrt) / (2 * a);
                let t2 = (-b - discSqrt) / (2 * a);
                if (t1 >= 0 && t1 <= 1) {
                    extrema[n++] = t1;
                }
                if (t2 >= 0 && t2 <= 1) {
                    extrema[n++] = t2;
                }
            }
        }
        return n;
    }

    
    /**
     * @function SuperMap.LevelRenderer.Tool.Curve.prototype.cubicSubdivide
     * @description ç»åä¸æ¬¡è´å¡å°æ²çº¿
     * @param {number} p0 - ç¹p0ã
     * @param {number} p1 - ç¹p1ã
     * @param {number} p2 - ç¹p2ã
     * @param {number} p3 - ç¹p3ã
     * @param {number} t - tå¼ã
     * @param {Array.<number>} out - æå°ç¹ã
     * @returns {number} æå°ç¹ã
     */
    cubicSubdivide(p0, p1, p2, p3, t, out) {
        var p01 = (p1 - p0) * t + p0;
        var p12 = (p2 - p1) * t + p1;
        var p23 = (p3 - p2) * t + p2;

        var p012 = (p12 - p01) * t + p01;
        var p123 = (p23 - p12) * t + p12;

        var p0123 = (p123 - p012) * t + p012;
        // Seg0
        out[0] = p0;
        out[1] = p01;
        out[2] = p012;
        out[3] = p0123;
        // Seg1
        out[4] = p0123;
        out[5] = p123;
        out[6] = p23;
        out[7] = p3;
    }


    /**
     * @function SuperMap.LevelRenderer.Tool.Curve.prototype.cubicProjectPoint
     * @description æå°ç¹å°ä¸æ¬¡è´å¡å°æ²çº¿ä¸ï¼è¿åæå°è·ç¦»ãæå°ç¹æå¯è½ä¼æä¸ä¸ªæèå¤ä¸ªï¼è¿éåªè¿åå¶ä¸­è·ç¦»æç­çä¸ä¸ªã
     * @param {number} x0 - ç¹p0æ¨ªåæ ã
     * @param {number} y0 - ç¹p0çºµåæ ã
     * @param {number} x1 - ç¹p1æ¨ªåæ ã
     * @param {number} y1 - ç¹p1çºµåæ ã
     * @param {number} x2 - ç¹p2æ¨ªåæ ã
     * @param {number} y2 - ç¹p2çºµåæ ã
     * @param {number} x3 - ç¹p3æ¨ªåæ ã
     * @param {number} y3 - ç¹p3çºµåæ ã
     * @param {number} x - ç¹pæ¨ªåæ ã
     * @param {number} y - ç¹pçºµåæ ã
     * @param {Array.<number>} out - æå°ç¹ã
     * @returns {number} æå°ç¹ã
     */
    cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, out) {
        // ä¸´æ¶åé
        var _v0 = this.vector.create();
        var _v1 = this.vector.create();
        var _v2 = this.vector.create();
        // var _v3 = vector.create();

        // http://pomax.github.io/bezierinfo/#projections
        var t;
        var interval = 0.005;
        var d = Infinity;

        _v0[0] = x;
        _v0[1] = y;

        // åç²ç¥ä¼°è®¡ä¸ä¸å¯è½çæå°è·ç¦»ç t å¼
        // PENDING
        for (let _t = 0; _t < 1; _t += 0.05) {
            _v1[0] = this.cubicAt(x0, x1, x2, x3, _t);
            _v1[1] = this.cubicAt(y0, y1, y2, y3, _t);
            let d1 = this.vector.distSquare(_v0, _v1);
            if (d1 < d) {
                t = _t;
                d = d1;
            }
        }
        d = Infinity;

        // At most 32 iteration
        for (let i = 0; i < 32; i++) {
            if (interval < this.EPSILON) {
                break;
            }
            let prev = t - interval;
            let next = t + interval;
            // t - interval
            _v1[0] = this.cubicAt(x0, x1, x2, x3, prev);
            _v1[1] = this.cubicAt(y0, y1, y2, y3, prev);

            let d1 = this.vector.distSquare(_v1, _v0);

            if (prev >= 0 && d1 < d) {
                t = prev;
                d = d1;
            } else {
                // t + interval
                _v2[0] = this.cubicAt(x0, x1, x2, x3, next);
                _v2[1] = this.cubicAt(y0, y1, y2, y3, next);
                let d2 = this.vector.distSquare(_v2, _v0);

                if (next <= 1 && d2 < d) {
                    t = next;
                    d = d2;
                } else {
                    interval *= 0.5;
                }
            }
        }
        // t
        if (out) {
            out[0] = this.cubicAt(x0, x1, x2, x3, t);
            out[1] = this.cubicAt(y0, y1, y2, y3, t);
        }
        // console.log(interval, i);
        return Math.sqrt(d);
    }


    /**
     * @function SuperMap.LevelRenderer.Tool.Curve.prototype.quadraticAt
     * @description è®¡ç®äºæ¬¡æ¹è´å¡å°å¼ã
     * @param {number} p0 - ç¹p0ã
     * @param {number} p1 - ç¹p1ã
     * @param {number} p2 - ç¹p2ã
     * @param {number} t - tå¼ã
     * @returns {number} äºæ¬¡æ¹è´å¡å°å¼ã
     */
    quadraticAt(p0, p1, p2, t) {
        var onet = 1 - t;
        return onet * (onet * p0 + 2 * t * p1) + t * t * p2;
    }

    
    /**
     * @function SuperMap.LevelRenderer.Tool.Curve.prototype.quadraticAt
     * @description è®¡ç®äºæ¬¡æ¹è´å¡å°å¯¼æ°å¼ã
     * @param {number} p0 - ç¹p0ã
     * @param {number} p1 - ç¹p1ã
     * @param {number} p2 - ç¹p2ã
     * @param {number} t - tå¼ã
     * @returns {number} äºæ¬¡æ¹è´å¡å°å¯¼æ°å¼ã
     */
    quadraticDerivativeAt(p0, p1, p2, t) {
        return 2 * ((1 - t) * (p1 - p0) + t * (p2 - p1));
    }


    /**
     * @function SuperMap.LevelRenderer.Tool.Curve.prototype.quadraticRootAt
     * @description è®¡ç®äºæ¬¡æ¹è´å¡å°æ¹ç¨æ ¹
     * @param {number} p0 - ç¹p0ã
     * @param {number} p1 - ç¹p1ã
     * @param {number} p2 - ç¹p2ã
     * @param {number} val - å¼ã
     * @param {Array.<number>} roots - æææ ¹æ°ç®ã
     * @returns {number} æææ ¹æ°ç®ã
     */
    quadraticRootAt(p0, p1, p2, val, roots) {
        var a = p0 - 2 * p1 + p2;
        var b = 2 * (p1 - p0);
        var c = p0 - val;

        var n = 0;
        if (this.isAroundZero(a)) {
            if (this.isNotAroundZero(b)) {
                var t1 = -c / b;
                if (t1 >= 0 && t1 <= 1) {
                    roots[n++] = t1;
                }
            }
        } else {
            var disc = b * b - 4 * a * c;
            if (this.isAroundZero(disc)) {
                let t1 = -b / (2 * a);
                if (t1 >= 0 && t1 <= 1) {
                    roots[n++] = t1;
                }
            } else if (disc > 0) {
                let discSqrt = Math.sqrt(disc);
                let t1 = (-b + discSqrt) / (2 * a);
                let t2 = (-b - discSqrt) / (2 * a);
                if (t1 >= 0 && t1 <= 1) {
                    roots[n++] = t1;
                }
                if (t2 >= 0 && t2 <= 1) {
                    roots[n++] = t2;
                }
            }
        }
        return n;
    }


    /**
     * @function SuperMap.LevelRenderer.Tool.Curve.prototype.quadraticExtremum
     * @description è®¡ç®äºæ¬¡è´å¡å°æ¹ç¨æéå¼
     * @param {number} p0 - ç¹p0ã
     * @param {number} p1 - ç¹p1ã
     * @param {number} p2 - ç¹p2ã
     * @returns {number} äºæ¬¡è´å¡å°æ¹ç¨æéå¼ã
     */
    quadraticExtremum(p0, p1, p2) {
        var divider = p0 + p2 - 2 * p1;
        if (divider === 0) {
            // p1 is center of p0 and p2
            return 0.5;
        } else {
            return (p0 - p1) / divider;
        }
    }

    
    /**
     * @function SuperMap.LevelRenderer.Tool.Curve.prototype.quadraticProjectPoint
     * @description æå°ç¹å°äºæ¬¡è´å¡å°æ²çº¿ä¸ï¼è¿åæå°è·ç¦»ãæå°ç¹æå¯è½ä¼æä¸ä¸ªæèå¤ä¸ªï¼è¿éåªè¿åå¶ä¸­è·ç¦»æç­çä¸ä¸ªã
     * @param {number} x0 - ç¹p0æ¨ªåæ ã
     * @param {number} y0 - ç¹p0çºµåæ ã
     * @param {number} x1 - ç¹p1æ¨ªåæ ã
     * @param {number} y1 - ç¹p1çºµåæ ã
     * @param {number} x2 - ç¹p2æ¨ªåæ ã
     * @param {number} y2 - ç¹p2çºµåæ ã
     * @param {number} x - ç¹pæ¨ªåæ ã
     * @param {number} y - ç¹pçºµåæ ã
     * @param {Array.<number>} out - æå°ç¹ã
     * @returns {number} æå°è·ç¦»ã
     */
    quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, out) {
        // ä¸´æ¶åé
        var _v0 = this.vector.create();
        var _v1 = this.vector.create();
        var _v2 = this.vector.create();

        // http://pomax.github.io/bezierinfo/#projections
        var t;
        var interval = 0.005;
        var d = Infinity;

        _v0[0] = x;
        _v0[1] = y;

        // åç²ç¥ä¼°è®¡ä¸ä¸å¯è½çæå°è·ç¦»ç t å¼
        // PENDING
        for (let _t = 0; _t < 1; _t += 0.05) {
            _v1[0] = this.quadraticAt(x0, x1, x2, _t);
            _v1[1] = this.quadraticAt(y0, y1, y2, _t);
            let d1 = this.vector.distSquare(_v0, _v1);
            if (d1 < d) {
                t = _t;
                d = d1;
            }
        }
        d = Infinity;

        // At most 32 iteration
        for (let i = 0; i < 32; i++) {
            if (interval < this.EPSILON) {
                break;
            }
            let prev = t - interval;
            let next = t + interval;
            // t - interval
            _v1[0] = this.quadraticAt(x0, x1, x2, prev);
            _v1[1] = this.quadraticAt(y0, y1, y2, prev);

            let d1 = this.vector.distSquare(_v1, _v0);

            if (prev >= 0 && d1 < d) {
                t = prev;
                d = d1;
            } else {
                // t + interval
                _v2[0] = this.quadraticAt(x0, x1, x2, next);
                _v2[1] = this.quadraticAt(y0, y1, y2, next);
                let d2 = this.vector.distSquare(_v2, _v0);
                if (next <= 1 && d2 < d) {
                    t = next;
                    d = d2;
                } else {
                    interval *= 0.5;
                }
            }
        }
        // t
        if (out) {
            out[0] = this.quadraticAt(x0, x1, x2, t);
            out[1] = this.quadraticAt(y0, y1, y2, t);
        }
        // console.log(interval, i);
        return Math.sqrt(d);
    }

}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/Area.js



/**
 * @class  SuperMap.LevelRenderer.Tool.Area
 * @category Visualization Theme
 * @classdesc LevelRenderer å·¥å·-å¾å½¢èå´å¤æ­
 * @private 
 */
class Area_Area {
    
    /**
     * @function SuperMap.LevelRenderer.Tool.Areal.prototype.constructor
     * @description æé å½æ°ã
     */
    constructor() {
        /**
         * @member {SuperMap.LevelRenderer.Tool.Util}  SuperMap.LevelRenderer.Tool.Areal.prototype.util
         * @description åºç¡å·¥å·å¯¹è±¡ã
         */
        this.util = new levelRenderer_Util_Util();

        /**
         * @member {SuperMap.LevelRenderer.Tool.Curve}  SuperMap.LevelRenderer.Tool.Areal.prototype.curve
         * @description æ²çº¿å·¥å·å¯¹è±¡
         */
        this.curve = new levelRenderer_Curve_Curve();

        /**
         * @member {Object} SuperMap.LevelRenderer.Tool.Areal.prototype._ctx
         * @description Cavans2D æ¸²æä¸ä¸æ
         */
        this._ctx = null;

        /**
         * @member {Object} SuperMap.LevelRenderer.Tool.Areal.prototype._textWidthCache
         * @description ææ¬å®½åº¦ç¼å­
         */
        this._textWidthCache = {};

        /**
         * @member {Object} SuperMap.LevelRenderer.Tool.Areal.prototype._textHeightCache
         * @description ææ¬é«åº¦ç¼å­
         */
        this._textHeightCache = {};

        /**
         * @member {number} SuperMap.LevelRenderer.Tool.Areal.prototype._textWidthCacheCounter
         * @description ææ¬å®½åº¦ç¼å­æ°é
         */
        this._textWidthCacheCounter = 0;

        /**
         * @member {number} SuperMap.LevelRenderer.Tool.Areal.prototype._textHeightCacheCounter
         * @description ææ¬é«åº¦ç¼å­æ°é
         */
        this._textHeightCacheCounter = 0;

        /**
         * @member {number} SuperMap.LevelRenderer.Tool.Areal.prototype.TEXT_CACHE_MAX
         * @description ææ¬æå¤§ç¼å­æ°é
         */
        this.TEXT_CACHE_MAX = 5000;

        /**
         * @member {number} SuperMap.LevelRenderer.Tool.Areal.prototype.PI2
         * @description 2*PI çå¼
         */
        this.PI2 = Math.PI * 2;

        /**
         * @member {Array} SuperMap.LevelRenderer.Tool.Areal.prototype.roots
         * @description ä¸´æ¶æ°ç»
         */
        this.roots = [-1, -1, -1];

        /**
         * @member {Array} SuperMap.LevelRenderer.Tool.Areal.prototype.extrema
         * @description ä¸´æ¶æ°ç»
         */
        this.extrema = [-1, -1];

        this.CLASS_NAME = "SuperMap.LevelRenderer.Tool.Area";
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Areal.prototype.normalizeRadian
     * @description å¼§åº¦æ ååå½æ°ã
     * @param {number} angle - å¼§åº¦å¼ã
     * @returns {number} æ åååçå¼§åº¦å¼ã
     */
    normalizeRadian(angle) {
        angle %= this.PI2;
        if (angle < 0) {
            angle += this.PI2;
        }
        return angle;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Areal.prototype.isInside
     * @description åå«å¤æ­ã
     * @param {Object} shape - å¾å½¢ã
     * @param {number} area - ç®æ åºåã
     * @param {number} x - æ¨ªåæ ã
     * @param {number} y - çºµåæ ã
     * @returns {boolean} å¾å½¢æ¯å¦åå«é¼ æ ä½ç½®ã
     */
    isInside(shape, area, x, y) {
        if (!area || !shape) {
            // æ åæ°æä¸æ¯æç±»å
            return false;
        }
        var zoneType = shape.type;

        this._ctx = this._ctx || this.util.getContext();

        // æªå®ç°æä¸å¯ç¨æ¶åæ°å­¦è¿ç®ï¼ä¸»è¦æ¯lineï¼brokenLineï¼ring
        var _mathReturn = this._mathMethod(shape, area, x, y);
        if (typeof _mathReturn != 'undefined') {
            return _mathReturn;
        }

        if (shape.buildPath && this._ctx.isPointInPath) {
            return this._buildPathMethod(shape, this._ctx, area, x, y);
        }

        // ä¸é¢çæ¹æ³é½è¡ä¸éæ¶
        switch (zoneType) {
            case 'ellipse': // Todoï¼ä¸ç²¾ç¡®
            case 'smicellipse': // Todoï¼ä¸ç²¾ç¡®
                return true;
            // æè½®æ²çº¿  ä¸åç¡®
            case 'trochoid':
                var _r = area.location == 'out'
                    ? area.r1 + area.r2 + area.d
                    : area.r1 - area.r2 + area.d;
                return this.isInsideCircle(area, x, y, _r);
            // ç«ç°çº¿ ä¸åç¡®
            case 'rose' :
                return this.isInsideCircle(area, x, y, area.maxr);
            // è·¯å¾ï¼æ¤­åï¼æ²çº¿ç­-----------------13
            default:
                return false;   // Todoï¼æä¸æ¯æ
        }
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Areal.prototype._mathMethod
     * @description åå«å¤æ­ãç¨æ°å­¦æ¹æ³å¤æ­ï¼ä¸ä¸ªæ¹æ³ä¸­æå¿«ï¼ä½æ¯æ¯æçshapeå°ã
     * @param {Object} shape - å¾å½¢ã
     * @param {number} area - ç®æ åºåã
     * @param {number} x - æ¨ªåæ ã
     * @param {number} y - çºµåæ ã
     * @returns {boolean} å¾å½¢æ¯å¦åå«é¼ æ ä½ç½®ï¼trueè¡¨ç¤ºåæ å¤å¨å¾å½¢ä¸­ã
     */
    _mathMethod(shape, area, x, y) {
        var zoneType = shape.type;
        // å¨ç©å½¢ååé¨åå¾å½¢éè¦è¿ä¸æ­¥å¤æ­
        switch (zoneType) {
            // è´å¡å°æ²çº¿
            case 'bezier-curve':
                if (typeof(area.cpX2) === 'undefined') {
                    return this.isInsideQuadraticStroke(
                        area.xStart, area.yStart,
                        area.cpX1, area.cpY1,
                        area.xEnd, area.yEnd,
                        area.lineWidth, x, y
                    );
                }
                return this.isInsideCubicStroke(
                    area.xStart, area.yStart,
                    area.cpX1, area.cpY1,
                    area.cpX2, area.cpY2,
                    area.xEnd, area.yEnd,
                    area.lineWidth, x, y
                );
            // çº¿
            case 'line':
                return this.isInsideLine(
                    area.xStart, area.yStart,
                    area.xEnd, area.yEnd,
                    area.lineWidth, x, y
                );
            // æçº¿
            case 'broken-line':
                return this.isInsideBrokenLine(
                    area.pointList, area.lineWidth, x, y
                );
            // æ©å±æçº¿
            case 'smicbroken-line': {
                // SMIC-ä¿®æ¹ - start
                let icX = x;
                let icY = y;
                if (shape.refOriginalPosition) {
                    icX = x - shape.refOriginalPosition[0];
                    icY = y - shape.refOriginalPosition[1];
                }
                return this.isInsideBrokenLine(
                    area.pointList, area.lineWidth, icX, icY
                );
            }
            //åå§ä»£ç ï¼
            //      return isInsideBrokenLine(
            //          area.pointList, area.lineWidth, x, y
            //      );
            // SMIC-ä¿®æ¹ - end
            // åç¯
            case 'ring':
                return this.isInsideRing(
                    area.x, area.y, area.r0, area.r, x, y
                );
            case 'smicring': {
                let areaX = area.x;
                let areaY = area.y;
                if (shape.refOriginalPosition) {
                    areaX = area.x + shape.refOriginalPosition[0];
                    areaY = area.y + shape.refOriginalPosition[1];
                }
                return this.isInsideRing(
                    areaX, areaY, area.r0, area.r, x, y
                );
            }
            // åå½¢
            case 'circle':
                return this.isInsideCircle(
                    area.x, area.y, area.r, x, y
                );
            // æ©å±-ç¹
            case 'smicpoint': {
                // SMIC-ä¿®æ¹ - start
                let icX = x;
                let icY = y;
                if (shape.refOriginalPosition) {
                    icX = x - shape.refOriginalPosition[0];
                    icY = y - shape.refOriginalPosition[1];
                }
                return this.isInsideCircle(
                    area.x, area.y, area.r, icX, icY
                );
            }
            //åå§ä»£ç ï¼
            //  æ 
            // SMIC-ä¿®æ¹ - end
            // æå½¢
            case 'sector': {
                let startAngle = area.startAngle * Math.PI / 180;
                let endAngle = area.endAngle * Math.PI / 180;
                if (!area.clockWise) {
                    startAngle = -startAngle;
                    endAngle = -endAngle;
                }
                return this.isInsideSector(
                    area.x, area.y, area.r0, area.r,
                    startAngle, endAngle,
                    !area.clockWise,
                    x, y
                );
            }
            //åå§ä»£ç ï¼
            //  æ 
            // SMIC-å¢å  - end
            // æå½¢
            case 'smicsector': {
                let startAngle = area.startAngle * Math.PI / 180;
                let endAngle = area.endAngle * Math.PI / 180;
                if (!area.clockWise) {
                    startAngle = -startAngle;
                    endAngle = -endAngle;
                }

                let areaX = area.x;
                let areaY = area.y;
                if (shape.refOriginalPosition) {
                    areaX = area.x + shape.refOriginalPosition[0];
                    areaY = area.y + shape.refOriginalPosition[1];
                }

                return this.isInsideSector(
                    areaX, areaY, area.r0, area.r,
                    startAngle, endAngle,
                    !area.clockWise,
                    x, y
                );
            }
            // å¤è¾¹å½¢
            case 'path':
                return this.isInsidePath(
                    area.pathArray, Math.max(area.lineWidth, 5),
                    area.brushType, x, y
                );
            case 'polygon':
            case 'star':
            case 'smicstar':
            case 'isogon':
            case 'smicisogon':
                return this.isInsidePolygon(area.pointList, x, y);
            // æ©å±å¤è¾¹å½¢
            case 'smicpolygon': {
                // SMIC-ä¿®æ¹ - start
                let icX = x;
                let icY = y;
                if (shape.refOriginalPosition) {
                    icX = x - shape.refOriginalPosition[0];
                    icY = y - shape.refOriginalPosition[1];
                }

                //å²æ´é¢
                if (shape.holePolygonPointLists && shape.holePolygonPointLists.length > 0) {
                    var isOnBase = this.isInsidePolygon(area.pointList, icX, icY);

                    // éåå²æ´å­é¢
                    var holePLS = shape.holePolygonPointLists;
                    var isOnHole = false;
                    for (var i = 0, holePLSen = holePLS.length; i < holePLSen; i++) {
                        var holePL = holePLS[i];
                        var isOnSubHole = this.isInsidePolygon(holePL, icX, icY);
                        if (isOnSubHole === true) {
                            isOnHole = true;
                        }
                    }

                    // æè·å¤æ­
                    if (isOnBase === true && isOnHole === false) {
                        return true;
                    } else {
                        return false;
                    }
                } else {
                    return this.isInsidePolygon(area.pointList, icX, icY);
                }
            }
            // åå§ä»£ç ï¼
            //  æ 
            // SMIC-ä¿®æ¹ - end
            // ææ¬
            case 'text':
                var rect = area.__rect || shape.getRect(area);
                return this.isInsideRect(
                    rect.x, rect.y, rect.width, rect.height, x, y
                );
            // æ©å±ææ¬
            case 'smictext':
                //ç¨ææ¬èæ¯ç©å½¢å¤æ­
                var textBg = shape.getTextBackground(area);
                return this.isInsidePolygon(textBg, x, y);
            //åå§ä»£ç ï¼
            //  æ 
            // SMIC-ä¿®æ¹ - end
            // ç©å½¢
            case 'rectangle':
            case 'image':
                // å¾ç
                return this.isInsideRect(
                    area.x, area.y, area.width, area.height, x, y
                );
            case 'smicimage': {
                let areaX = area.x;
                let areaY = area.y;
                if (shape.refOriginalPosition) {
                    areaX = area.x + shape.refOriginalPosition[0];
                    areaY = area.y + shape.refOriginalPosition[1];
                }
                return this.isInsideRect(
                    areaX, areaY, area.width, area.height, x, y
                );
            }
            //// æ©å±ç©å½¢
            //case 'smicpolygon':
            //    // SMIC-ä¿®æ¹ - start
            //    var icX = x;
            //    var icY = y;
            //    if(shape.refOriginalPosition) {
            //        icX = x - shape.refOriginalPosition[0];
            //        icY = y - shape.refOriginalPosition[1];
            //    }
            //    return this.isInsideRect(
            //        area.x, area.y, area.width, area.height, icX, icY
            //    );
            //åå§ä»£ç ï¼
            //  æ 
            // SMIC-ä¿®æ¹ - end
        }
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Areal.prototype._buildPathMethod
     * @description åå«å¤æ­ãéè¿buildPathæ¹æ³æ¥å¤æ­ï¼ä¸ä¸ªæ¹æ³ä¸­è¾å¿«ï¼ä½æ¯ä¸æ¯æçº¿æ¡ç±»åç shapeã
     * @param {Object} shape - å¾å½¢ã
     * @param {Object} context - ä¸ä¸æã
     * @param {number} area - ç®æ åºåã
     * @param {number} x - æ¨ªåæ ã
     * @param {number} y - çºµåæ ã
     * @returns {boolean} å¾å½¢æ¯å¦åå«é¼ æ ä½ç½®ï¼trueè¡¨ç¤ºåæ å¤å¨å¾å½¢ä¸­ã
     */
    _buildPathMethod(shape, context, area, x, y) {
        // å¾å½¢ç±»å®ç°è·¯å¾åå»ºäºåç¨ç±»çpath
        context.beginPath();
        shape.buildPath(context, area);
        context.closePath();
        return context.isPointInPath(x, y);
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Areal.prototype.isOutside
     * @description å¾å½¢æ¯å¦ä¸åå«é¼ æ ä½ç½®ã
     * @param {Object} shape - å¾å½¢ã
     * @param {number} area - ç®æ åºåã
     * @param {number} x - æ¨ªåæ ã
     * @param {number} y - çºµåæ ã
     * @returns {boolean} å¾å½¢æ¯å¦ä¸åå«é¼ æ ä½ç½®, trueè¡¨ç¤ºåæ å¤å¨å¾å½¢å¤ã
     */
    isOutside(shape, area, x, y) {
        return !this.isInside(shape, area, x, y);
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Areal.prototype.isInsideLine
     * @description çº¿æ®µåå«å¤æ­ã
     * @param {number} x0 - çº¿èµ·å§ç¹æ¨ªåæ ã
     * @param {number} y0 - çº¿èµ·å§ç¹çºµåæ ã
     * @param {number} x1 - çº¿ç»ç¹æ¨ªåæ ã
     * @param {number} y1 - çº¿ç»ç¹çºµåæ ã
     * @param {number} lineWidth - çº¿å®½ã
     * @param {number} x - é¼ æ ä½ç½®æ¨ªåæ ã
     * @param {number} y - é¼ æ ä½ç½®çºµåæ ã
     * @returns {boolean} å¾å½¢æ¯å¦åå«é¼ æ ä½ç½®ï¼trueè¡¨ç¤ºåæ å¤å¨å¾å½¢åã
     */
    isInsideLine(x0, y0, x1, y1, lineWidth, x, y) {
        if (lineWidth === 0) {
            return false;
        }
        var _l = Math.max(lineWidth, 5);
        var _a = 0;
        var _b = 0;
        // Quick reject
        if (
            (y > y0 + _l && y > y1 + _l)
            || (y < y0 - _l && y < y1 - _l)
            || (x > x0 + _l && x > x1 + _l)
            || (x < x0 - _l && x < x1 - _l)
        ) {
            return false;
        }

        if (x0 !== x1) {
            _a = (y0 - y1) / (x0 - x1);
            _b = (x0 * y1 - x1 * y0) / (x0 - x1);
        } else {
            return Math.abs(x - x0) <= _l / 2;
        }
        var tmp = _a * x - y + _b;
        var _s = tmp * tmp / (_a * _a + 1);
        return _s <= _l / 2 * _l / 2;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Areal.prototype.isInsideCubicStroke
     * @description ä¸æ¬¡è´å¡å°æ²çº¿æè¾¹åå«å¤æ­ã
     * @param {number} x0 - ç¹1æ¨ªåæ ã
     * @param {number} y0 - ç¹1çºµåæ ã
     * @param {number} x1 - ç¹2æ¨ªåæ ã
     * @param {number} y1 - ç¹2çºµåæ ã
     * @param {number} x2 - ç¹3çºµåæ ã
     * @param {number} y2 - ç¹3çºµåæ ã
     * @param {number} lineWidth - çº¿å®½ã
     * @param {number} x - é¼ æ ä½ç½®æ¨ªåæ ã
     * @param {number} y - é¼ æ ä½ç½®çºµåæ ã
     * @returns {boolean} å¾å½¢æ¯å¦åå«é¼ æ ä½ç½®, trueè¡¨ç¤ºåæ å¤å¨å¾å½¢åã
     */
    isInsideCubicStroke(x0, y0, x1, y1, x2, y2, x3, y3, lineWidth, x, y) {
        if (lineWidth === 0) {
            return false;
        }
        var _l = Math.max(lineWidth, 5);
        // Quick reject
        if (
            (y > y0 + _l && y > y1 + _l && y > y2 + _l && y > y3 + _l)
            || (y < y0 - _l && y < y1 - _l && y < y2 - _l && y < y3 - _l)
            || (x > x0 + _l && x > x1 + _l && x > x2 + _l && x > x3 + _l)
            || (x < x0 - _l && x < x1 - _l && x < x2 - _l && x < x3 - _l)
        ) {
            return false;
        }
        var d = this.curve.cubicProjectPoint(
            x0, y0, x1, y1, x2, y2, x3, y3,
            x, y, null
        );
        return d <= _l / 2;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Areal.prototype.isInsideQuadraticStroke
     * @description äºæ¬¡è´å¡å°æ²çº¿æè¾¹åå«å¤æ­ã
     * @param {number} x0 - ç¹1æ¨ªåæ ã
     * @param {number} y0 - ç¹1çºµåæ ã
     * @param {number} x1 - ç¹2æ¨ªåæ ã
     * @param {number} y1 - ç¹2çºµåæ ã
     * @param {number} x2 - ç¹3çºµåæ ã
     * @param {number} y2 - ç¹3çºµåæ ã
     * @param {number} lineWidth - çº¿å®½ã
     * @param {number} x - é¼ æ ä½ç½®æ¨ªåæ ã
     * @param {number} y - é¼ æ ä½ç½®çºµåæ ã
     * @returns {boolean} å¾å½¢æ¯å¦åå«é¼ æ ä½ç½®, trueè¡¨ç¤ºåæ å¤å¨å¾å½¢åã
     */
    isInsideQuadraticStroke(x0, y0, x1, y1, x2, y2, lineWidth, x, y) {
        if (lineWidth === 0) {
            return false;
        }
        var _l = Math.max(lineWidth, 5);
        // Quick reject
        if (
            (y > y0 + _l && y > y1 + _l && y > y2 + _l)
            || (y < y0 - _l && y < y1 - _l && y < y2 - _l)
            || (x > x0 + _l && x > x1 + _l && x > x2 + _l)
            || (x < x0 - _l && x < x1 - _l && x < x2 - _l)
        ) {
            return false;
        }
        var d = this.curve.quadraticProjectPoint(
            x0, y0, x1, y1, x2, y2,
            x, y, null
        );
        return d <= _l / 2;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Areal.prototype.isInsideArcStroke
     * @description åå¼§æè¾¹åå«å¤æ­ã
     * @param {number} cx - åå¿æ¨ªåæ ã
     * @param {number} cy - åå¿çºµåæ ã
     * @param {number} r - ååå¾ã
     * @param {number} startAngle - èµ·å§è§åº¦ã
     * @param {number} endAngle - ç»æ­¢è§åº¦ã
     * @param {number} anticlockwise - é¡ºæ¶éè¿æ¯éæ¶éã
     * @param {number} lineWidth - çº¿å®½ã
     * @param {number} x - é¼ æ ä½ç½®æ¨ªåæ ã
     * @param {number} y - é¼ æ ä½ç½®çºµåæ ã
     * @returns {boolean} å¾å½¢æ¯å¦åå«é¼ æ ä½ç½®, trueè¡¨ç¤ºåæ å¤å¨å¾å½¢åã
     */
    isInsideArcStroke(cx, cy, r, startAngle, endAngle, anticlockwise, lineWidth, x, y) {
        var PI2 = this.PI2;

        if (lineWidth === 0) {
            return false;
        }
        var _l = Math.max(lineWidth, 5);

        x -= cx;
        y -= cy;
        var d = Math.sqrt(x * x + y * y);
        if ((d - _l > r) || (d + _l < r)) {
            return false;
        }
        if (Math.abs(startAngle - endAngle) >= PI2) {
            // Is a circle
            return true;
        }
        if (anticlockwise) {
            var tmp = startAngle;
            startAngle = this.normalizeRadian(endAngle);
            endAngle = this.normalizeRadian(tmp);
        } else {
            startAngle = this.normalizeRadian(startAngle);
            endAngle = this.normalizeRadian(endAngle);
        }
        if (startAngle > endAngle) {
            endAngle += PI2;
        }

        var angle = Math.atan2(y, x);
        if (angle < 0) {
            angle += PI2;
        }
        return (angle >= startAngle && angle <= endAngle)
            || (angle + PI2 >= startAngle && angle + PI2 <= endAngle);
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Areal.prototype.isInsideBrokenLine
     * @description å¾å½¢ BrokenLine æ¯å¦åå«é¼ æ ä½ç½®, trueè¡¨ç¤ºåæ å¤å¨å¾å½¢åã
     * @param {Array} points - æ²çº¿ç¹å¯¹è±¡ã
     * @param {number} lineWidth - çº¿å®½ã
     * @param {number} x - é¼ æ ä½ç½®æ¨ªåæ ã
     * @param {number} y - é¼ æ ä½ç½®çºµåæ ã
     * @returns {boolean} å¾å½¢æ¯å¦åå«é¼ æ ä½ç½®, trueè¡¨ç¤ºåæ å¤å¨å¾å½¢åã
     */
    isInsideBrokenLine(points, lineWidth, x, y) {
        var _lineWidth = Math.max(lineWidth, 10);
        for (var i = 0, l = points.length - 1; i < l; i++) {
            var x0 = points[i][0];
            var y0 = points[i][1];
            var x1 = points[i + 1][0];
            var y1 = points[i + 1][1];

            if (this.isInsideLine(x0, y0, x1, y1, _lineWidth, x, y)) {
                return true;
            }
        }

        return false;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Areal.prototype.isInsideRing
     * @description  å¾å½¢ Ring æ¯å¦åå«é¼ æ ä½ç½®, trueè¡¨ç¤ºåæ å¤å¨å¾å½¢åã
     * @returns {boolean} å¾å½¢æ¯å¦åå«é¼ æ ä½ç½®, trueè¡¨ç¤ºåæ å¤å¨å¾å½¢åã
     */
    isInsideRing(cx, cy, r0, r, x, y) {
        var d = (x - cx) * (x - cx) + (y - cy) * (y - cy);
        return (d < r * r) && (d > r0 * r0);
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Areal.prototype.isInsideRect
     * @description å¾å½¢ Rect æ¯å¦åå«é¼ æ ä½ç½®, trueè¡¨ç¤ºåæ å¤å¨å¾å½¢åã
     * @returns {boolean} å¾å½¢æ¯å¦åå«é¼ æ ä½ç½®, trueè¡¨ç¤ºåæ å¤å¨å¾å½¢åã
     */
    isInsideRect(x0, y0, width, height, x, y) {
        return x >= x0 && x <= (x0 + width) && y >= y0 && y <= (y0 + height);
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Areal.prototype.isInsideCircle
     * @description å¾å½¢ Circle æ¯å¦åå«é¼ æ ä½ç½®, trueè¡¨ç¤ºåæ å¤å¨å¾å½¢åã
     * @returns {boolean} å¾å½¢æ¯å¦åå«é¼ æ ä½ç½®, trueè¡¨ç¤ºåæ å¤å¨å¾å½¢åã
     */
    isInsideCircle(x0, y0, r, x, y) {
        return (x - x0) * (x - x0) + (y - y0) * (y - y0) < r * r;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Areal.prototype.isInsideSector
     * @description å¾å½¢ Sector æ¯å¦åå«é¼ æ ä½ç½®, trueè¡¨ç¤ºåæ å¤å¨å¾å½¢åã
     * @returns {boolean} å¾å½¢æ¯å¦åå«é¼ æ ä½ç½®, trueè¡¨ç¤ºåæ å¤å¨å¾å½¢åã
     */
    isInsideSector(cx, cy, r0, r, startAngle, endAngle, anticlockwise, x, y) {
        return this.isInsideArcStroke(cx, cy, (r0 + r) / 2, startAngle, endAngle, anticlockwise, r - r0, x, y);
    }
    
    /**
     * @function SuperMap.LevelRenderer.Tool.Areal.prototype.isInsidePolygon
     * @description å¾å½¢ Polygon æ¯å¦åå«é¼ æ ä½ç½®, trueè¡¨ç¤ºåæ å¤å¨å¾å½¢åãä¸ canvas ä¸æ ·éç¨ non-zero winding rule
     * @returns {boolean} å¾å½¢æ¯å¦åå«é¼ æ ä½ç½®, trueè¡¨ç¤ºåæ å¤å¨å¾å½¢åã
     */
    isInsidePolygon(points, x, y) {
        var N = points.length;
        var w = 0;

        for (var i = 0, j = N - 1; i < N; i++) {
            var x0 = points[j][0];
            var y0 = points[j][1];
            var x1 = points[i][0];
            var y1 = points[i][1];
            w += this.windingLine(x0, y0, x1, y1, x, y);
            j = i;
        }
        return w !== 0;
    }


    /**
     * @function SuperMap.LevelRenderer.Tool.Areal.prototype.windingLine
     */
    windingLine(x0, y0, x1, y1, x, y) {
        if ((y > y0 && y > y1) || (y < y0 && y < y1)) {
            return 0;
        }
        if (y1 == y0) {
            return 0;
        }
        var dir = y1 < y0 ? 1 : -1;
        var t = (y - y0) / (y1 - y0);
        var x_ = t * (x1 - x0) + x0;

        return x_ > x ? dir : 0;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Areal.prototype.swapExtrema
     */
    swapExtrema() {
        var tmp = this.extrema[0];
        this.extrema[0] = this.extrema[1];
        this.extrema[1] = tmp;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Areal.prototype.windingCubic
     */
    windingCubic(x0, y0, x1, y1, x2, y2, x3, y3, x, y) {
        var curve = this.curve;
        var roots = this.roots;
        var extrema = this.extrema;

        // Quick reject
        if (
            (y > y0 && y > y1 && y > y2 && y > y3)
            || (y < y0 && y < y1 && y < y2 && y < y3)
        ) {
            return 0;
        }
        var nRoots = curve.cubicRootAt(y0, y1, y2, y3, y, roots);
        if (nRoots === 0) {
            return 0;
        } else {
            var w = 0;
            var nExtrema = -1;
            var y0_, y1_;
            for (var i = 0; i < nRoots; i++) {
                var t = roots[i];
                var x_ = curve.cubicAt(x0, x1, x2, x3, t);
                if (x_ < x) { // Quick reject
                    continue;
                }
                if (nExtrema < 0) {
                    nExtrema = curve.cubicExtrema(y0, y1, y2, y3, extrema);
                    if (extrema[1] < extrema[0] && nExtrema > 1) {
                        this.swapExtrema();
                    }
                    y0_ = curve.cubicAt(y0, y1, y2, y3, extrema[0]);
                    if (nExtrema > 1) {
                        y1_ = curve.cubicAt(y0, y1, y2, y3, extrema[1]);
                    }
                }
                if (nExtrema == 2) {
                    // åæä¸æ®µåè°å½æ°
                    if (t < extrema[0]) {
                        w += y0_ < y0 ? 1 : -1;
                    } else if (t < extrema[1]) {
                        w += y1_ < y0_ ? 1 : -1;
                    } else {
                        w += y3 < y1_ ? 1 : -1;
                    }
                } else {
                    // åæä¸¤æ®µåè°å½æ°
                    if (t < extrema[0]) {
                        w += y0_ < y0 ? 1 : -1;
                    } else {
                        w += y3 < y0_ ? 1 : -1;
                    }
                }
            }
            return w;
        }
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Areal.prototype.windingQuadratic
     */
    windingQuadratic(x0, y0, x1, y1, x2, y2, x, y) {
        var curve = this.curve;
        var roots = this.roots;

        // Quick reject
        if (
            (y > y0 && y > y1 && y > y2)
            || (y < y0 && y < y1 && y < y2)
        ) {
            return 0;
        }
        var nRoots = curve.quadraticRootAt(y0, y1, y2, y, roots);
        if (nRoots === 0) {
            return 0;
        } else {
            var t = curve.quadraticExtremum(y0, y1, y2);
            if (t >= 0 && t <= 1) {
                var w = 0;
                var y_ = curve.quadraticAt(y0, y1, y2, t);
                for (let i = 0; i < nRoots; i++) {
                    let x_ = curve.quadraticAt(x0, x1, x2, roots[i]);
                    if (x_ > x) {
                        continue;
                    }
                    if (roots[i] < t) {
                        w += y_ < y0 ? 1 : -1;
                    } else {
                        w += y2 < y_ ? 1 : -1;
                    }
                }
                return w;
            } else {
                let x_ = curve.quadraticAt(x0, x1, x2, roots[0]);
                if (x_ > x) {
                    return 0;
                }
                return y2 < y0 ? 1 : -1;
            }
        }
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Areal.prototype.windingArc
     * // TODO   Arc æè½¬
     */
    windingArc(cx, cy, r, startAngle, endAngle, anticlockwise, x, y) {
        var roots = this.roots;
        var PI2 = this.PI2;

        y -= cy;
        if (y > r || y < -r) {
            return 0;
        }
        let tmp = Math.sqrt(r * r - y * y);
        roots[0] = -tmp;
        roots[1] = tmp;

        if (Math.abs(startAngle - endAngle) >= PI2) {
            // Is a circle
            startAngle = 0;
            endAngle = PI2;
            var dir = anticlockwise ? 1 : -1;
            if (x >= roots[0] + cx && x <= roots[1] + cx) {
                return dir;
            } else {
                return 0;
            }
        }

        if (anticlockwise) {
            let tmp = startAngle;
            startAngle = this.normalizeRadian(endAngle);
            endAngle = this.normalizeRadian(tmp);
        } else {
            startAngle = this.normalizeRadian(startAngle);
            endAngle = this.normalizeRadian(endAngle);
        }
        if (startAngle > endAngle) {
            endAngle += PI2;
        }

        var w = 0;
        for (let i = 0; i < 2; i++) {
            var x_ = roots[i];
            if (x_ + cx > x) {
                let angle = Math.atan2(y, x_);
                let dir = anticlockwise ? 1 : -1;
                if (angle < 0) {
                    angle = PI2 + angle;
                }
                if (
                    (angle >= startAngle && angle <= endAngle)
                    || (angle + PI2 >= startAngle && angle + PI2 <= endAngle)
                ) {
                    if (angle > Math.PI / 2 && angle < Math.PI * 1.5) {
                        dir = -dir;
                    }
                    w += dir;
                }
            }
        }
        return w;
    }


    /**
     * @function SuperMap.LevelRenderer.Tool.Areal.prototype.isInsidePath
     * @description ä¸ canvas ä¸æ ·éç¨ non-zero winding rule
     */
    isInsidePath(pathArray, lineWidth, brushType, x, y) {
        var w = 0;
        var xi = 0;
        var yi = 0;
        var x0 = 0;
        var y0 = 0;
        var beginSubpath = true;
        var firstCmd = true;

        brushType = brushType || 'fill';

        var hasStroke = brushType === 'stroke' || brushType === 'both';
        var hasFill = brushType === 'fill' || brushType === 'both';

        // var roots = [-1, -1, -1];
        for (var i = 0; i < pathArray.length; i++) {
            var seg = pathArray[i];
            var p = seg.points;
            // Begin a new subpath
            if (beginSubpath || seg.command === 'M') {
                if (i > 0) {
                    // Close previous subpath
                    if (hasFill) {
                        w += this.windingLine(xi, yi, x0, y0, x, y);
                    }
                    if (w !== 0) {
                        return true;
                    }
                }
                x0 = p[p.length - 2];
                y0 = p[p.length - 1];
                beginSubpath = false;
                if (firstCmd && seg.command !== 'A') {
                    // å¦æç¬¬ä¸ä¸ªå½ä»¤ä¸æ¯M, æ¯lineTo, bezierCurveTo
                    // ç­ç»å¶å½ä»¤çè¯ï¼æ¯ä¼ä»è¯¥ç»å¶çèµ·ç¹å¼å§ç®ç
                    // Arc ä¼å¨ä¹åååç¬å¤çæä»¥è¿éå¿½ç¥
                    firstCmd = false;
                    xi = x0;
                    yi = y0;
                }
            }
            switch (seg.command) {
                case 'M':
                    xi = p[0];
                    yi = p[1];
                    break;
                case 'L':
                    if (hasStroke) {
                        if (this.isInsideLine(
                                xi, yi, p[0], p[1], lineWidth, x, y
                            )) {
                            return true;
                        }
                    }
                    if (hasFill) {
                        w += this.windingLine(xi, yi, p[0], p[1], x, y);
                    }
                    xi = p[0];
                    yi = p[1];
                    break;
                case 'C':
                    if (hasStroke) {
                        if (this.isInsideCubicStroke(
                                xi, yi, p[0], p[1], p[2], p[3], p[4], p[5],
                                lineWidth, x, y
                            )) {
                            return true;
                        }
                    }
                    if (hasFill) {
                        w += this.windingCubic(
                            xi, yi, p[0], p[1], p[2], p[3], p[4], p[5], x, y
                        );
                    }
                    xi = p[4];
                    yi = p[5];
                    break;
                case 'Q':
                    if (hasStroke) {
                        if (this.isInsideQuadraticStroke(
                                xi, yi, p[0], p[1], p[2], p[3],
                                lineWidth, x, y
                            )) {
                            return true;
                        }
                    }
                    if (hasFill) {
                        w += this.windingQuadratic(
                            xi, yi, p[0], p[1], p[2], p[3], x, y
                        );
                    }
                    xi = p[2];
                    yi = p[3];
                    break;
                case 'A':
                    // TODO Arc æè½¬
                    // TODO Arc å¤æ­çå¼éæ¯è¾å¤§
                    var cx = p[0];
                    var cy = p[1];
                    var rx = p[2];
                    var ry = p[3];
                    var theta = p[4];
                    var dTheta = p[5];
                    var x1 = Math.cos(theta) * rx + cx;
                    var y1 = Math.sin(theta) * ry + cy;
                    // ä¸æ¯ç´æ¥ä½¿ç¨ arc å½ä»¤
                    if (!firstCmd) {
                        w += this.windingLine(xi, yi, x1, y1);
                    } else {
                        firstCmd = false;
                        // ç¬¬ä¸ä¸ªå½ä»¤èµ·ç¹è¿æªå®ä¹
                        x0 = x1;
                        y0 = y1;
                    }
                    // zr ä½¿ç¨scaleæ¥æ¨¡ææ¤­å, è¿éä¹å¯¹xåä¸å®çç¼©æ¾
                    var _x = (x - cx) * ry / rx + cx;
                    if (hasStroke) {
                        if (this.isInsideArcStroke(
                                cx, cy, ry, theta, theta + dTheta, 1 - p[7],
                                lineWidth, _x, y
                            )) {
                            return true;
                        }
                    }
                    if (hasFill) {
                        w += this.windingArc(
                            cx, cy, ry, theta, theta + dTheta, 1 - p[7],
                            _x, y
                        );
                    }
                    xi = Math.cos(theta + dTheta) * rx + cx;
                    yi = Math.sin(theta + dTheta) * ry + cy;
                    break;
                case 'z':
                    if (hasStroke) {
                        if (this.isInsideLine(
                                xi, yi, x0, y0, lineWidth, x, y
                            )) {
                            return true;
                        }
                    }
                    beginSubpath = true;
                    break;
            }
        }
        if (hasFill) {
            w += this.windingLine(xi, yi, x0, y0, x, y);
        }
        return w !== 0;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Areal.prototype.getTextWidth
     * @description æµç®å¤è¡ææ¬å®½åº¦
     */
    getTextWidth(text, textFont) {
        var key = text + ':' + textFont;
        if (this._textWidthCache[key]) {
            return this._textWidthCache[key];
        }
        this._ctx = this._ctx || this.util.getContext();
        this._ctx.save();

        if (textFont) {
            this._ctx.font = textFont;
        }

        text = (text + '').split('\n');
        var width = 0;
        for (var i = 0, l = text.length; i < l; i++) {
            width = Math.max(
                this._ctx.measureText(text[i]).width,
                width
            );
        }
        this._ctx.restore();

        this._textWidthCache[key] = width;
        if (++this._textWidthCacheCounter > this.TEXT_CACHE_MAX) {
            // åå­éæ¾
            this._textWidthCacheCounter = 0;
            this._textWidthCache = {};
        }

        return width;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Areal.prototype.getTextHeight
     * @description æµç®å¤è¡ææ¬é«åº¦
     */
    getTextHeight(text, textFont) {
        var key = text + ':' + textFont;
        if (this._textHeightCache[key]) {
            return this._textHeightCache[key];
        }

        this._ctx = this._ctx || this.util.getContext();

        this._ctx.save();
        if (textFont) {
            this._ctx.font = textFont;
        }

        text = (text + '').split('\n');
        // æ¯è¾ç²æ´
        //var height = (this._ctx.measureText('å½').width + 2) * text.length;  //æåä¸æ¯æä¸­æï¼æ¿æ¢æ
        var height = (this._ctx.measureText('ZH').width + 2) * text.length;

        this._ctx.restore();

        this._textHeightCache[key] = height;
        if (++this._textHeightCacheCounter > this.TEXT_CACHE_MAX) {
            // åå­éæ¾
            this._textHeightCacheCounter = 0;
            this._textHeightCache = {};
        }
        return height;
    }
}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/Color.js


/**
 * @class  SuperMap.LevelRenderer.Tool.Color
 * @category Visualization Theme
 * @classdesc LevelRenderer å·¥å·-é¢è²è¾å©ç±»
 * @private 
 */
class Color_Color {



    constructor() {
        /**
         * @member {SuperMap.LevelRenderer.Tool.Util} SuperMap.LevelRenderer.Tool.Color.prototype.util
         * @description LevelRenderer åºç¡å·¥å·å¯¹è±¡ã
         */
        this.util = new levelRenderer_Util_Util();
        
        /**
         * @member {Object} SuperMap.LevelRenderer.Tool.Color.prototype._ctx
         * @description _ctxã
         */
        this._ctx = null;

        /**
         * @member {Array} SuperMap.LevelRenderer.Tool.Color.prototype.palette
         * @description é»è®¤è²æ¿ãè²æ¿æ¯ä¸ä¸ªåå«å¾è¡¨é»è®¤é¢è²ç³»åçæ°ç»ï¼å½è²æ¿ä¸­ææé¢è²è¢«ä½¿ç¨è¿åï¼åå°ä»æ°åå°è²æ¿ä¸­çç¬¬ä¸ä¸ªé¢è²ã
         */
        this.palette = [
            '#ff9277', ' #dddd00', ' #ffc877', ' #bbe3ff', ' #d5ffbb',
            '#bbbbff', ' #ddb000', ' #b0dd00', ' #e2bbff', ' #ffbbe3',
            '#ff7777', ' #ff9900', ' #83dd00', ' #77e3ff', ' #778fff',
            '#c877ff', ' #ff77ab', ' #ff6600', ' #aa8800', ' #77c7ff',
            '#ad77ff', ' #ff77ff', ' #dd0083', ' #777700', ' #00aa00',
            '#0088aa', ' #8400dd', ' #aa0088', ' #dd0000', ' #772e00'
        ];
        
        /**
         * @member {Array} SuperMap.LevelRenderer.Tool.Color.prototype._palette
         * @description å¤ä½è²æ¿ï¼ç¨äºå¤ä½  palette
         */
        this._palette = this.palette;
        
        /**
         * @member {string} SuperMap.LevelRenderer.Tool.Color.prototype.highlightColor
         * @description é«äº®è²
         */
        this.highlightColor = 'rgba(0,0,255,1)';

        /**
         * @member {string} SuperMap.LevelRenderer.Tool.Color.prototype._highlightColor
         * @description å¤ä½é«äº®è²
         */
        this._highlightColor = this.highlightColor;

        /**
         * @member {string} SuperMap.LevelRenderer.Tool.Color.prototype.colorRegExp
         * @description é¢è²æ ¼å¼ï¼æ­£åè¡¨è¾¾å¼ã
         */
        this.colorRegExp = /^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i;
        
        /**
         * @member {string} SuperMap.LevelRenderer.Tool.Color.prototype._nameColors
         * @description é¢è²åã
         */
        this._nameColors = {
            aliceblue: '#f0f8ff',
            antiquewhite: '#faebd7',
            aqua: '#0ff',
            aquamarine: '#7fffd4',
            azure: '#f0ffff',
            beige: '#f5f5dc',
            bisque: '#ffe4c4',
            black: '#000',
            blanchedalmond: '#ffebcd',
            blue: '#00f',
            blueviolet: '#8a2be2',
            brown: '#a52a2a',
            burlywood: '#deb887',
            cadetblue: '#5f9ea0',
            chartreuse: '#7fff00',
            chocolate: '#d2691e',
            coral: '#ff7f50',
            cornflowerblue: '#6495ed',
            cornsilk: '#fff8dc',
            crimson: '#dc143c',
            cyan: '#0ff',
            darkblue: '#00008b',
            darkcyan: '#008b8b',
            darkgoldenrod: '#b8860b',
            darkgray: '#a9a9a9',
            darkgrey: '#a9a9a9',
            darkgreen: '#006400',
            darkkhaki: '#bdb76b',
            darkmagenta: '#8b008b',
            darkolivegreen: '#556b2f',
            darkorange: '#ff8c00',
            darkorchid: '#9932cc',
            darkred: '#8b0000',
            darksalmon: '#e9967a',
            darkseagreen: '#8fbc8f',
            darkslateblue: '#483d8b',
            darkslategray: '#2f4f4f',
            darkslategrey: '#2f4f4f',
            darkturquoise: '#00ced1',
            darkviolet: '#9400d3',
            deeppink: '#ff1493',
            deepskyblue: '#00bfff',
            dimgray: '#696969',
            dimgrey: '#696969',
            dodgerblue: '#1e90ff',
            firebrick: '#b22222',
            floralwhite: '#fffaf0',
            forestgreen: '#228b22',
            fuchsia: '#f0f',
            gainsboro: '#dcdcdc',
            ghostwhite: '#f8f8ff',
            gold: '#ffd700',
            goldenrod: '#daa520',
            gray: '#808080',
            grey: '#808080',
            green: '#008000',
            greenyellow: '#adff2f',
            honeydew: '#f0fff0',
            hotpink: '#ff69b4',
            indianred: '#cd5c5c',
            indigo: '#4b0082',
            ivory: '#fffff0',
            khaki: '#f0e68c',
            lavender: '#e6e6fa',
            lavenderblush: '#fff0f5',
            lawngreen: '#7cfc00',
            lemonchiffon: '#fffacd',
            lightblue: '#add8e6',
            lightcoral: '#f08080',
            lightcyan: '#e0ffff',
            lightgoldenrodyellow: '#fafad2',
            lightgray: '#d3d3d3',
            lightgrey: '#d3d3d3',
            lightgreen: '#90ee90',
            lightpink: '#ffb6c1',
            lightsalmon: '#ffa07a',
            lightseagreen: '#20b2aa',
            lightskyblue: '#87cefa',
            lightslategray: '#789',
            lightslategrey: '#789',
            lightsteelblue: '#b0c4de',
            lightyellow: '#ffffe0',
            lime: '#0f0',
            limegreen: '#32cd32',
            linen: '#faf0e6',
            magenta: '#f0f',
            maroon: '#800000',
            mediumaquamarine: '#66cdaa',
            mediumblue: '#0000cd',
            mediumorchid: '#ba55d3',
            mediumpurple: '#9370d8',
            mediumseagreen: '#3cb371',
            mediumslateblue: '#7b68ee',
            mediumspringgreen: '#00fa9a',
            mediumturquoise: '#48d1cc',
            mediumvioletred: '#c71585',
            midnightblue: '#191970',
            mintcream: '#f5fffa',
            mistyrose: '#ffe4e1',
            moccasin: '#ffe4b5',
            navajowhite: '#ffdead',
            navy: '#000080',
            oldlace: '#fdf5e6',
            olive: '#808000',
            olivedrab: '#6b8e23',
            orange: '#ffa500',
            orangered: '#ff4500',
            orchid: '#da70d6',
            palegoldenrod: '#eee8aa',
            palegreen: '#98fb98',
            paleturquoise: '#afeeee',
            palevioletred: '#d87093',
            papayawhip: '#ffefd5',
            peachpuff: '#ffdab9',
            peru: '#cd853f',
            pink: '#ffc0cb',
            plum: '#dda0dd',
            powderblue: '#b0e0e6',
            purple: '#800080',
            red: '#f00',
            rosybrown: '#bc8f8f',
            royalblue: '#4169e1',
            saddlebrown: '#8b4513',
            salmon: '#fa8072',
            sandybrown: '#f4a460',
            seagreen: '#2e8b57',
            seashell: '#fff5ee',
            sienna: '#a0522d',
            silver: '#c0c0c0',
            skyblue: '#87ceeb',
            slateblue: '#6a5acd',
            slategray: '#708090',
            slategrey: '#708090',
            snow: '#fffafa',
            springgreen: '#00ff7f',
            steelblue: '#4682b4',
            tan: '#d2b48c',
            teal: '#008080',
            thistle: '#d8bfd8',
            tomato: '#ff6347',
            turquoise: '#40e0d0',
            violet: '#ee82ee',
            wheat: '#f5deb3',
            white: '#fff',
            whitesmoke: '#f5f5f5',
            yellow: '#ff0',
            yellowgreen: '#9acd32'
        };

        this.CLASS_NAME = "SuperMap.LevelRenderer.Tool.Color";
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.customPalette
     * @description èªå®ä¹è°è²æ¿ã
     * @param {Array} userPalete - é¢è²æ¿ã
     */
    customPalette(userPalete) {
        this.palette = userPalete;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.resetPalette
     * @description å¤ä½é»è®¤è²æ¿ã
     */
    resetPalette() {
        this.palette = this._palette;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.getColor
     * @description è·åè²æ¿é¢è²ã
     * @param {number} idx - è²æ¿ä½ç½®ã
     * @param {Array} userPalete - è²æ¿ã
     * @returns {string} é¢è²å¼ã
     */
    getColor(idx, userPalete) {
        idx = idx | 0;
        userPalete = userPalete || this.palette;
        return userPalete[idx % userPalete.length];
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.customHighlight
     * @description èªå®ä¹é»è®¤é«äº®é¢è²ã
     * @param {string} userHighlightColor - èªå®ä¹é«äº®è²ã
     */
    customHighlight(userHighlightColor) {
        this.highlightColor = userHighlightColor;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.resetHighlight
     * @description éç½®é»è®¤é«äº®é¢è²ãå°å½åçé«äº®è²ä½ä¸ºé»è®¤é«äº®é¢è²
     */
    resetHighlight() {
        this.highlightColor = this._highlightColor;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.getHighlightColor
     * @description è·åé»è®¤é«äº®é¢è²
     * @returns {string} é¢è²å¼ã
     */
    getHighlightColor() {
        return this.highlightColor;
    }
    
    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.getRadialGradient
     * @description å¾åæ¸åã
     * @param {number} x0 - æ¸åèµ·ç¹æ¨ªåæ ã
     * @param {number} y0 - æ¸åèµ·ç¹çºµåæ ã
     * @param {number} r0 - åå¾
     * @param {number} x1 - æ¸åç»ç¹æ¨ªåæ ã
     * @param {number} y1 - æ¸åç»ç¹çºµåæ ã
     * @param {number} r1 - åå¾
     * @param {Array} colorList - é¢è²åè¡¨ã
     * @returns {CanvasGradient} Cavans æ¸åé¢è²ã
     */
    getRadialGradient(x0, y0, r0, x1, y1, r1, colorList) {
        var util = this.util;

        if (!this._ctx) {
            this._ctx = util.getContext();
        }
        var gradient = this._ctx.createRadialGradient(x0, y0, r0, x1, y1, r1);
        for (var i = 0, l = colorList.length; i < l; i++) {

            gradient.addColorStop(colorList[i][0], colorList[i][1]);
        }
        gradient.__nonRecursion = true;
        return gradient;
    }

    
    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.getLinearGradient
     * @description çº¿æ§æ¸åã
     * @param {number} x0 - æ¸åèµ·ç¹æ¨ªåæ ã
     * @param {number} y0 - æ¸åèµ·ç¹çºµåæ ã
     * @param {number} x1 - æ¸åç»ç¹æ¨ªåæ ã
     * @param {number} y1 - æ¸åç»ç¹çºµåæ ã
     * @param {Array} colorList - é¢è²åè¡¨ã
     * @returns {CanvasGradient} Cavans æ¸åé¢è²ã
     */
    getLinearGradient(x0, y0, x1, y1, colorList) {
        var util = this.util;

        if (!this._ctx) {
            this._ctx = util.getContext();
        }
        var gradient = this._ctx.createLinearGradient(x0, y0, x1, y1);
        for (var i = 0, l = colorList.length; i < l; i++) {
            gradient.addColorStop(colorList[i][0], colorList[i][1]);
        }
        gradient.__nonRecursion = true;
        return gradient;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.getStepColors
     * @description è·åä¸¤ç§é¢è²ä¹é´æ¸åé¢è²æ°ç»ã
     * @param {Object} start - èµ·å§é¢è²å¯¹è±¡ã
     * @param {Object} end - ç»æé¢è²å¯¹è±¡ã
     * @param {number} step - æ¸åçº§æ°ã
     * @returns {Array} é¢è²æ°ç»ã
     */
    getStepColors(start, end, step) {
        start = this.toRGBA(start);
        end = this.toRGBA(end);
        start = this.getData(start);
        end = this.getData(end);

        var colors = [];
        var stepR = (end[0] - start[0]) / step;
        var stepG = (end[1] - start[1]) / step;
        var stepB = (end[2] - start[2]) / step;
        var stepA = (end[3] - start[3]) / step;
        // çæé¢è²éå
        // fix by linfeng é¢è²å ç§¯
        for (var i = 0, r = start[0], g = start[1], b = start[2], a = start[3]; i < step; i++) {
            colors[i] = this.toColor([
                this.adjust(Math.floor(r), [0, 255]),
                this.adjust(Math.floor(g), [0, 255]),
                this.adjust(Math.floor(b), [0, 255]),
                a.toFixed(4) - 0
            ], 'rgba');
            r += stepR;
            g += stepG;
            b += stepB;
            a += stepA;
        }
        r = end[0];
        g = end[1];
        b = end[2];
        a = end[3];
        colors[i] = this.toColor([r, g, b, a], 'rgba');
        return colors;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.getGradientColors
     * @description è·åæå®çº§æ°çæ¸åé¢è²æ°ç»ã
     * @param {Array.<string>} colors - é¢è²æ°ç»ã
     * @param {number} [step=20] - æ¸åçº§æ°ã
     * @returns {Array.<string>} é¢è²æ°ç»ã
     */
    getGradientColors(colors, step) {
        var ret = [];
        var len = colors.length;
        if (step === undefined) {
            step = 20;
        }
        if (len === 1) {
            ret = this.getStepColors(colors[0], colors[0], step);
        } else if (len > 1) {
            for (var i = 0, n = len - 1; i < n; i++) {
                var steps = this.getStepColors(colors[i], colors[i + 1], step);
                if (i < n - 1) {
                    steps.pop();
                }
                ret = ret.concat(steps);
            }
        }
        return ret;
    }
    
    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.toColor
     * @description é¢è²å¼æ°ç»è½¬ä¸ºæå®æ ¼å¼é¢è²ã
     * @param {Array} data - é¢è²å¼æ°ç»ã
     * @param {string} format - æ ¼å¼ï¼é»è®¤'rgb'
     * @returns {string} é¢è²ã
     */
    toColor(data, format) {
        format = format || 'rgb';
        if (data && (data.length === 3 || data.length === 4)) {
            data = this.map(data,
                function (c) {
                    return c > 1 ? Math.ceil(c) : c;
                }
            );

            if (format.indexOf('hex') > -1) {
                return '#' + ((1 << 24) + (data[0] << 16) + (data[1] << 8) + (+data[2])).toString(16).slice(1);
            } else if (format.indexOf('hs') > -1) {
                var sx = this.map(data.slice(1, 3),
                    function (c) {
                        return c + '%';
                    }
                );
                data[1] = sx[0];
                data[2] = sx[1];
            }

            if (format.indexOf('a') > -1) {
                if (data.length === 3) {
                    data.push(1);
                }
                data[3] = this.adjust(data[3], [0, 1]);
                return format + '(' + data.slice(0, 4).join(',') + ')';
            }

            return format + '(' + data.slice(0, 3).join(',') + ')';
        }
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.toArray
     * @description é¢è²å­ç¬¦ä¸²è½¬æ¢ä¸ºrgbaæ°ç»ã
     * @param {string} color - é¢è²ã
     * @returns {Array.<number>} é¢è²å¼æ°ç»ã
     */
    toArray(color) {
        color = this.trim(color);
        if (color.indexOf('rgba') < 0) {
            color = this.toRGBA(color);
        }

        var data = [];
        var i = 0;
        color.replace(/[\d.]+/g, function (n) {
            if (i < 3) {
                n = n | 0;
            } else {
                // Alpha
                n = +n;
            }
            data[i++] = n;
        });
        return data;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.convert
     * @description é¢è²æ ¼å¼è½¬åã
     * @param {Array} data - é¢è²å¼æ°ç»ã
     * @param {string} format - æ ¼å¼ï¼é»è®¤'rgb'
     * @returns {string} é¢è²ã
     */
    convert(color, format) {
        if (!this.isCalculableColor(color)) {
            return color;
        }
        var data = this.getData(color);
        var alpha = data[3];
        if (typeof alpha === 'undefined') {
            alpha = 1;
        }

        if (color.indexOf('hsb') > -1) {
            data = this._HSV_2_RGB(data);
        } else if (color.indexOf('hsl') > -1) {
            data = this._HSL_2_RGB(data);
        }

        if (format.indexOf('hsb') > -1 || format.indexOf('hsv') > -1) {
            data = this._RGB_2_HSB(data);
        } else if (format.indexOf('hsl') > -1) {
            data = this._RGB_2_HSL(data);
        }

        data[3] = alpha;

        return this.toColor(data, format);
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.toRGBA
     * @description è½¬æ¢ä¸ºrgbaæ ¼å¼çé¢è²ã
     * @param {string} color - é¢è²ã
     * @returns {string} é¢è²ã
     */
    toRGBA(color) {
        return this.convert(color, 'rgba');
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.toRGB
     * @description è½¬æ¢ä¸ºrgbæ°å­æ ¼å¼çé¢è²ã
     * @param {string} color - é¢è²ã
     * @returns {string} é¢è²ã
     */
    toRGB(color) {
        return this.convert(color, 'rgb');
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.toHex
     * @description è½¬æ¢ä¸º16è¿å¶é¢è²ã
     * @param {string} color - é¢è²ã
     * @returns {string} 16è¿å¶é¢è²ï¼#rrggbbæ ¼å¼
     */
    toHex(color) {
        return this.convert(color, 'hex');
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.toHSVA
     * @description è½¬æ¢ä¸ºHSVé¢è²ã
     * @param {string} color - é¢è²ã
     * @returns {string} HSVAé¢è²ï¼hsva(h,s,v,a)
     */
    toHSVA(color) {
        return this.convert(color, 'hsva');
    }
    
    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.toHSV
     * @description è½¬æ¢ä¸ºHSVé¢è²ã
     * @param {string} color - é¢è²ã
     * @returns {string} HSVé¢è²ï¼hsv(h,s,v)
     */
    toHSV(color) {
        return this.convert(color, 'hsv');
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.toHSBA
     * @description è½¬æ¢ä¸ºHSBAé¢è²ã
     * @param {string} color - é¢è²ã
     * @returns {string} HSBAé¢è²ï¼hsba(h,s,b,a)
     */
    toHSBA(color) {
        return this.convert(color, 'hsba');
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.toHSB
     * @description è½¬æ¢ä¸ºHSBé¢è²ã
     * @param {string} color - é¢è²ã
     * @returns {string} HSBé¢è²ï¼hsb(h,s,b)
     */
    toHSB(color) {
        return this.convert(color, 'hsb');
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.toHSLA
     * @description è½¬æ¢ä¸ºHSLAé¢è²ã
     * @param {string} color - é¢è²ã
     * @returns {string} HSLAé¢è²ï¼hsla(h,s,l,a)
     */
    toHSLA(color) {
        return this.convert(color, 'hsla');
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.toHSL
     * @description è½¬æ¢ä¸ºHSLé¢è²ã
     * @param {string} color - é¢è²ã
     * @returns {string}  HSLé¢è²ï¼hsl(h,s,l)
     */
    toHSL(color) {
        return this.convert(color, 'hsl');
    }
    
    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.toName
     * @description è½¬æ¢é¢è²åã
     * @param {string} color - é¢è²ã
     * @returns {string} é¢è²å
     */
    toName(color) {
        for (var key in this._nameColors) {
            if (this.toHex(this._nameColors[key]) === this.toHex(color)) {
                return key;
            }
        }
        return null;
    }
    
    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.trim
     * @description ç§»é¤é¢è²ä¸­å¤ä½ç©ºæ ¼ã
     * @param {string} color - é¢è²ã
     * @returns {string} æ ç©ºæ ¼é¢è²
     */
    trim(color) {
        return String(color).replace(/\s+/g, '');
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.normalize
     * @description é¢è²è§èåã
     * @param {string} color - é¢è²ã
     * @returns {string} è§èååçé¢è²
     */
    normalize(color) {
        // é¢è²å
        if (this._nameColors[color]) {
            color = this._nameColors[color];
        }
        // å»æç©ºæ ¼
        color = this.trim(color);
        // hsvä¸hsbç­ä»·
        color = color.replace(/hsv/i, 'hsb');
        // rgbè½¬ä¸ºrrggbb
        if (/^#[\da-f]{3}$/i.test(color)) {
            color = parseInt(color.slice(1), 16);
            var r = (color & 0xf00) << 8;
            var g = (color & 0xf0) << 4;
            var b = color & 0xf;

            color = '#' + ((1 << 24) + (r << 4) + r + (g << 4) + g + (b << 4) + b).toString(16).slice(1);
        }
        // æèä½¿ç¨ä»¥ä¸æ­£åæ¿æ¢ï¼ä¸è¿ chrome ä¸æ§è½ç¸å¯¹å·®ç¹
        // color = color.replace(/^#([\da-f])([\da-f])([\da-f])$/i, '#$1$1$2$2$3$3');
        return color;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.lift
     * @description é¢è²å æ·±æåæ·¡ï¼å½level>0å æ·±ï¼å½level<0åæ·¡ã
     * @param {string} color - é¢è²ã
     * @param {number} level - åéç¨åº¦ï¼åå¼åºé´[-1,1]ã
     * @returns {string} å æ·±æåæ·¡åé¢è²å¼
     */
    lift(color, level) {
        if (!this.isCalculableColor(color)) {
            return color;
        }
        var direct = level > 0 ? 1 : -1;
        if (typeof level === 'undefined') {
            level = 0;
        }
        level = Math.abs(level) > 1 ? 1 : Math.abs(level);
        color = this.toRGB(color);
        var data = this.getData(color);
        for (var i = 0; i < 3; i++) {
            if (direct === 1) {
                data[i] = data[i] * (1 - level) | 0;
            } else {
                data[i] = ((255 - data[i]) * level + data[i]) | 0;
            }
        }
        return 'rgb(' + data.join(',') + ')';
    }
    
    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.reverse
     * @description é¢è²ç¿»è½¬ã[255-r,255-g,255-b,1-a]
     * @param {string} color - é¢è²ã
     * @returns {string} ç¿»è½¬é¢è²
     */
    reverse(color) {
        if (!this.isCalculableColor(color)) {
            return color;
        }
        var data = this.getData(this.toRGBA(color));
        data = this.map(data,
            function (c) {
                return 255 - c;
            }
        );
        return this.toColor(data, 'rgb');
    }
    
    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.mix
     * @description ç®åä¸¤ç§é¢è²æ··å
     * @param {string} color1 - ç¬¬ä¸ç§é¢è²ã
     * @param {string} color2 - ç¬¬äºç§é¢è²ã
     * @param {number} weight - æ··åæé[0-1]ã
     * @returns {string} ç»æè²ãrgb(r,g,b)ærgba(r,g,b,a)
     */
    mix(color1, color2, weight) {
        if (!this.isCalculableColor(color1) || !this.isCalculableColor(color2)) {
            return color1;
        }

        if (typeof weight === 'undefined') {
            weight = 0.5;
        }
        weight = 1 - this.adjust(weight, [0, 1]);

        var w = weight * 2 - 1;
        var data1 = this.getData(this.toRGBA(color1));
        var data2 = this.getData(this.toRGBA(color2));

        var d = data1[3] - data2[3];

        var weight1 = (((w * d === -1) ? w : (w + d) / (1 + w * d)) + 1) / 2;
        var weight2 = 1 - weight1;

        var data = [];

        for (var i = 0; i < 3; i++) {
            data[i] = data1[i] * weight1 + data2[i] * weight2;
        }

        var alpha = data1[3] * weight + data2[3] * (1 - weight);
        alpha = Math.max(0, Math.min(1, alpha));

        if (data1[3] === 1 && data2[3] === 1) {// ä¸èèéæåº¦
            return this.toColor(data, 'rgb');
        }
        data[3] = alpha;
        return this.toColor(data, 'rgba');
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.random
     * @description éæºé¢è²
     * @returns {string}  é¢è²å¼ï¼#rrggbbæ ¼å¼
     */
    random() {
        return '#' + Math.random().toString(16).slice(2, 8);
    }
    
    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.getData
     * @description è·åé¢è²å¼æ°ç»ï¼è¿åå¼èå´ã
     * RGB èå´[0-255]
     * HSL/HSV/HSB èå´[0-1]
     * Aéæåº¦èå´[0-1]
     * æ¯ææ ¼å¼ï¼
     * #rgb
     * #rrggbb
     * rgb(r,g,b)
     * rgb(r%,g%,b%)
     * rgba(r,g,b,a)
     * hsb(h,s,b) // hsvä¸hsbç­ä»·
     * hsb(h%,s%,b%)
     * hsba(h,s,b,a)
     * hsl(h,s,l)
     * hsl(h%,s%,l%)
     * hsla(h,s,l,a)
     * @param {string} color - é¢è²ã
     * @returns {Array.<number>} é¢è²å¼æ°ç»ænull
     */
    getData(color) {
        color = this.normalize(color);
        var r = color.match(this.colorRegExp);
        if (r === null) {
            throw new Error('The color format error'); // é¢è²æ ¼å¼éè¯¯
        }
        var d;
        var a;
        var data = [];
        var rgb;

        if (r[2]) {
            // #rrggbb
            d = r[2].replace('#', '').split('');
            rgb = [d[0] + d[1], d[2] + d[3], d[4] + d[5]];
            data = this.map(rgb,
                function (c) {
                    return Color_Color.prototype.adjust.call(this, parseInt(c, 16), [0, 255]);
                }
            );

        } else if (r[4]) {
            // rgb rgba
            var rgba = (r[4]).split(',');
            a = rgba[3];
            rgb = rgba.slice(0, 3);
            data = this.map(
                rgb,
                function (c) {
                    c = Math.floor(
                        c.indexOf('%') > 0 ? parseInt(c, 0) * 2.55 : c
                    );
                    return Color_Color.prototype.adjust.call(this, c, [0, 255]);
                }
            );

            if (typeof a !== 'undefined') {
                data.push(this.adjust(parseFloat(a), [0, 1]));
            }
        } else if (r[5] || r[6]) {
            // hsb hsba hsl hsla
            var hsxa = (r[5] || r[6]).split(',');
            var h = parseInt(hsxa[0], 0) / 360;
            var s = hsxa[1];
            var x = hsxa[2];
            a = hsxa[3];
            data = this.map([s, x],
                function (c) {
                    return Color_Color.prototype.adjust.call(this, parseFloat(c) / 100, [0, 1]);
                }
            );
            data.unshift(h);
            if (typeof a !== 'undefined') {
                data.push(this.adjust(parseFloat(a), [0, 1]));
            }
        }
        return data;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.alpha
     * @description è®¾ç½®é¢è²éæåº¦
     * @param {string} color - é¢è²ã
     * @param {number} a - éæåº¦,åºé´[0,1]ã
     * @returns {string} rgbaé¢è²å¼
     */
    alpha(color, a) {
        if (!this.isCalculableColor(color)) {
            return color;
        }
        if (a === null) {
            a = 1;
        }
        var data = this.getData(this.toRGBA(color));
        data[3] = this.adjust(Number(a).toFixed(4), [0, 1]);

        return this.toColor(data, 'rgba');
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.map
     * @description æ°ç»æ å°
     * @param {Array} array - æ°ç»ã
     * @param {function} fun - å½æ°ã
     * @returns {string} æ°ç»æ å°ç»æ
     */
    map(array, fun) {
        if (typeof fun !== 'function') {
            throw new TypeError();
        }
        var len = array ? array.length : 0;
        for (var i = 0; i < len; i++) {
            array[i] = fun(array[i]);
        }
        return array;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.adjust
     * @description è°æ´å¼åºé´
     * @param {Array.<number>} value - æ°ç»ã
     * @param {Array.<number>} region - åºé´ã
     * @returns {number} è°æ´åçå¼
     */
    adjust(value, region) {
        // < to <= & > to >=
        // modify by linzhifeng 2014-05-25 because -0 == 0
        if (value <= region[0]) {
            value = region[0];
        } else if (value >= region[1]) {
            value = region[1];
        }
        return value;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype.isCalculableColor
     * @description å¤æ­æ¯å¦æ¯å¯è®¡ç®çé¢è²
     * @param {string} color - é¢è²ã
     * @returns {boolean} æ¯å¦æ¯å¯è®¡ç®çé¢è²
     */
    isCalculableColor(color) {
        return color instanceof Array || typeof color === 'string';
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype._HSV_2_RGBãåè§{@link http://www.easyrgb.com/index.php?X=MATH}
     */
    _HSV_2_RGB(data) {
        var H = data[0];
        var S = data[1];
        var V = data[2];
        // HSV from 0 to 1
        var R;
        var G;
        var B;
        if (S === 0) {
            R = V * 255;
            G = V * 255;
            B = V * 255;
        } else {
            var h = H * 6;
            if (h === 6) {
                h = 0;
            }
            var i = h | 0;
            var v1 = V * (1 - S);
            var v2 = V * (1 - S * (h - i));
            var v3 = V * (1 - S * (1 - (h - i)));
            var r = 0;
            var g = 0;
            var b = 0;

            if (i === 0) {
                r = V;
                g = v3;
                b = v1;
            } else if (i === 1) {
                r = v2;
                g = V;
                b = v1;
            } else if (i === 2) {
                r = v1;
                g = V;
                b = v3;
            } else if (i === 3) {
                r = v1;
                g = v2;
                b = V;
            } else if (i === 4) {
                r = v3;
                g = v1;
                b = V;
            } else {
                r = V;
                g = v1;
                b = v2;
            }

            // RGB results from 0 to 255
            R = r * 255;
            G = g * 255;
            B = b * 255;
        }
        return [R, G, B];
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype._HSL_2_RGBãåè§{@link http://www.easyrgb.com/index.php?X=MATH}
     */
    _HSL_2_RGB(data) {
        var H = data[0];
        var S = data[1];
        var L = data[2];
        // HSL from 0 to 1
        var R;
        var G;
        var B;
        if (S === 0) {
            R = L * 255;
            G = L * 255;
            B = L * 255;
        } else {
            var v2;
            if (L < 0.5) {
                v2 = L * (1 + S);
            } else {
                v2 = (L + S) - (S * L);
            }

            var v1 = 2 * L - v2;

            R = 255 * this._HUE_2_RGB(v1, v2, H + (1 / 3));
            G = 255 * this._HUE_2_RGB(v1, v2, H);
            B = 255 * this._HUE_2_RGB(v1, v2, H - (1 / 3));
        }
        return [R, G, B];
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype._HUE_2_RGBãåè§{@link http://www.easyrgb.com/index.php?X=MATH}
     */
    _HUE_2_RGB(v1, v2, vH) {
        if (vH < 0) {
            vH += 1;
        }
        if (vH > 1) {
            vH -= 1;
        }
        if ((6 * vH) < 1) {
            return (v1 + (v2 - v1) * 6 * vH);
        }
        if ((2 * vH) < 1) {
            return (v2);
        }
        if ((3 * vH) < 2) {
            return (v1 + (v2 - v1) * ((2 / 3) - vH) * 6);
        }
        return v1;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype._RGB_2_HSBãåè§{@link http://www.easyrgb.com/index.php?X=MATH}
     */
    _RGB_2_HSB(data) {
        // RGB from 0 to 255
        var R = (data[0] / 255);
        var G = (data[1] / 255);
        var B = (data[2] / 255);

        var vMin = Math.min(R, G, B); // Min. value of RGB
        var vMax = Math.max(R, G, B); // Max. value of RGB
        var delta = vMax - vMin; // Delta RGB value
        var V = vMax;
        var H;
        var S;

        // HSV results from 0 to 1
        if (delta === 0) {
            H = 0;
            S = 0;
        } else {
            S = delta / vMax;

            var deltaR = (((vMax - R) / 6) + (delta / 2)) / delta;
            var deltaG = (((vMax - G) / 6) + (delta / 2)) / delta;
            var deltaB = (((vMax - B) / 6) + (delta / 2)) / delta;

            if (R === vMax) {
                H = deltaB - deltaG;
            } else if (G === vMax) {
                H = (1 / 3) + deltaR - deltaB;
            } else if (B === vMax) {
                H = (2 / 3) + deltaG - deltaR;
            }

            if (H < 0) {
                H += 1;
            }
            if (H > 1) {
                H -= 1;
            }
        }
        H = H * 360;
        S = S * 100;
        V = V * 100;
        return [H, S, V];
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Color.prototype._RGB_2_HSLãåè§{@link http://www.easyrgb.com/index.php?X=MATH}
     */
    _RGB_2_HSL(data) {

        // RGB from 0 to 255
        var R = (data[0] / 255);
        var G = (data[1] / 255);
        var B = (data[2] / 255);

        var vMin = Math.min(R, G, B); // Min. value of RGB
        var vMax = Math.max(R, G, B); // Max. value of RGB
        var delta = vMax - vMin; // Delta RGB value

        var L = (vMax + vMin) / 2;
        var H;
        var S;
        // HSL results from 0 to 1
        if (delta === 0) {
            H = 0;
            S = 0;
        } else {
            if (L < 0.5) {
                S = delta / (vMax + vMin);
            } else {
                S = delta / (2 - vMax - vMin);
            }

            var deltaR = (((vMax - R) / 6) + (delta / 2)) / delta;
            var deltaG = (((vMax - G) / 6) + (delta / 2)) / delta;
            var deltaB = (((vMax - B) / 6) + (delta / 2)) / delta;

            if (R === vMax) {
                H = deltaB - deltaG;
            } else if (G === vMax) {
                H = (1 / 3) + deltaR - deltaB;
            } else if (B === vMax) {
                H = (2 / 3) + deltaG - deltaR;
            }

            if (H < 0) {
                H += 1;
            }

            if (H > 1) {
                H -= 1;
            }
        }

        H = H * 360;
        S = S * 100;
        L = L * 100;

        return [H, S, L];
    }

}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/ComputeBoundingBox.js



/**
 * @class  SuperMap.LevelRenderer.Tool.ComputeBoundingBox
 * @category Visualization Theme
 * @classdesc LevelRenderer å·¥å·-å¾å½¢ Bounds è®¡ç®
 * @private 
 */
class ComputeBoundingBox_ComputeBoundingBox {

    /**
     * @function SuperMap.LevelRenderer.Tool.ComputeBoundingBox.prototype.constructor
     * @description æé å½æ°ã
     */
    constructor() {
        if (arguments.length === 3) {
            this.computeBoundingBox(arguments);
        }

        this.CLASS_NAME = "SuperMap.LevelRenderer.Tool.ComputeBoundingBox";
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.ComputeBoundingBox.prototype.computeBoundingBox
     * @description ä»é¡¶ç¹æ°ç»ä¸­è®¡ç®åºæå°åå´çï¼åå¥'min'å'max'ä¸­ã
     * @param {Array.<Object>} points - é¡¶ç¹æ°ç»ã
     * @param {Array} min - æå°
     * @param {Array} max - æå¤§
     */
    computeBoundingBox(points, min, max) {
        if (points.length === 0) {
            return;
        }
        var left = points[0][0];
        var right = points[0][0];
        var top = points[0][1];
        var bottom = points[0][1];

        for (var i = 1; i < points.length; i++) {
            var p = points[i];
            if (p[0] < left) {
                left = p[0];
            }
            if (p[0] > right) {
                right = p[0];
            }
            if (p[1] < top) {
                top = p[1];
            }
            if (p[1] > bottom) {
                bottom = p[1];
            }
        }

        min[0] = left;
        min[1] = top;
        max[0] = right;
        max[1] = bottom;
    }
    
    /**
     * @function SuperMap.LevelRenderer.Tool.ComputeBoundingBox.prototype.cubeBezier
     * @description ä»ä¸é¶è´å¡å°æ²çº¿(p0, p1, p2, p3)ä¸­è®¡ç®åºæå°åå´çï¼åå¥'min'å'max'ä¸­ãåï¼computeCubeBezierBoundingBoxã
     * @param {Array.<number>} p0 - ä¸é¶è´å¡å°æ²çº¿p0ç¹
     * @param {Array.<number>} p1 - ä¸é¶è´å¡å°æ²çº¿p1ç¹
     * @param {Array.<number>} p2 - ä¸é¶è´å¡å°æ²çº¿p2ç¹
     * @param {Array.<number>} p3 - ä¸é¶è´å¡å°æ²çº¿p3ç¹
     * @param {Array.<number>} min - æå°
     * @param {Array.<number>} max - æå¤§
     */
    cubeBezier(p0, p1, p2, p3, min, max) {
        var curve = new levelRenderer_Curve_Curve();

        var xDim = [];
        curve.cubicExtrema(p0[0], p1[0], p2[0], p3[0], xDim);
        for (let i = 0; i < xDim.length; i++) {
            xDim[i] = curve.cubicAt(p0[0], p1[0], p2[0], p3[0], xDim[i]);
        }
        var yDim = [];
        curve.cubicExtrema(p0[1], p1[1], p2[1], p3[1], yDim);
        for (let i = 0; i < yDim.length; i++) {
            yDim[i] = curve.cubicAt(p0[1], p1[1], p2[1], p3[1], yDim[i]);
        }

        xDim.push(p0[0], p3[0]);
        yDim.push(p0[1], p3[1]);

        var left = Math.min.apply(null, xDim);
        var right = Math.max.apply(null, xDim);
        var top = Math.min.apply(null, yDim);
        var bottom = Math.max.apply(null, yDim);

        min[0] = left;
        min[1] = top;
        max[0] = right;
        max[1] = bottom;
    }
    
    /**
     * @function SuperMap.LevelRenderer.Tool.ComputeBoundingBox.prototype.quadraticBezier
     * @description ä»äºé¶è´å¡å°æ²çº¿(p0, p1, p2)ä¸­è®¡ç®åºæå°åå´çï¼åå¥'min'å'max'ä¸­ãåï¼computeQuadraticBezierBoundingBoxã
     * @param {Array.<number>} p0 - äºé¶è´å¡å°æ²çº¿p0ç¹
     * @param {Array.<number>} p1 - äºé¶è´å¡å°æ²çº¿p1ç¹
     * @param {Array.<number>} p2 - äºé¶è´å¡å°æ²çº¿p2ç¹
     * @param {Array.<number>} min - æå°
     * @param {Array.<number>} max - æå¤§
     */
    quadraticBezier(p0, p1, p2, min, max) {
        var curve = new levelRenderer_Curve_Curve();

        // Find extremities, where derivative in x dim or y dim is zero
        var t1 = curve.quadraticExtremum(p0[0], p1[0], p2[0]);
        var t2 = curve.quadraticExtremum(p0[1], p1[1], p2[1]);

        t1 = Math.max(Math.min(t1, 1), 0);
        t2 = Math.max(Math.min(t2, 1), 0);

        var ct1 = 1 - t1;
        var ct2 = 1 - t2;

        var x1 = ct1 * ct1 * p0[0]
            + 2 * ct1 * t1 * p1[0]
            + t1 * t1 * p2[0];
        var y1 = ct1 * ct1 * p0[1]
            + 2 * ct1 * t1 * p1[1]
            + t1 * t1 * p2[1];

        var x2 = ct2 * ct2 * p0[0]
            + 2 * ct2 * t2 * p1[0]
            + t2 * t2 * p2[0];
        var y2 = ct2 * ct2 * p0[1]
            + 2 * ct2 * t2 * p1[1]
            + t2 * t2 * p2[1];
        min[0] = Math.min(p0[0], p2[0], x1, x2);
        min[1] = Math.min(p0[1], p2[1], y1, y2);
        max[0] = Math.max(p0[0], p2[0], x1, x2);
        max[1] = Math.max(p0[1], p2[1], y1, y2);
    }
    
    /**
     * @function SuperMap.LevelRenderer.Tool.ComputeBoundingBox.prototype.arc
     * @description ä»åå¼§ä¸­è®¡ç®åºæå°åå´çï¼åå¥'min'å'max'ä¸­ãåï¼computeArcBoundingBoxã
     * @param {number} x - åå¼§ä¸­å¿ç¹ x
     * @param {number} y - åå¼§ä¸­å¿ç¹ y
     * @param {number} r - åå¼§åå¾
     * @param {number} startAngle - åå¼§å¼å§è§åº¦
     * @param {number} endAngle - åå¼§ç»æè§åº¦
     * @param {number} anticlockwise - æ¯å¦æ¯é¡ºæ¶é
     * @param {number} min - æå°
     * @param {number} max - æå¤§
     */
    arc(x, y, r, startAngle, endAngle, anticlockwise, min, max) {
        var vec2 = new levelRenderer_Vector_Vector();

        var start = vec2.create();
        var end = vec2.create();
        var extremity = vec2.create();

        start[0] = Math.cos(startAngle) * r + x;
        start[1] = Math.sin(startAngle) * r + y;

        end[0] = Math.cos(endAngle) * r + x;
        end[1] = Math.sin(endAngle) * r + y;

        vec2.min(min, start, end);
        vec2.max(max, start, end);

        // Thresh to [0, Math.PI * 2]
        startAngle = startAngle % (Math.PI * 2);
        if (startAngle < 0) {
            startAngle = startAngle + Math.PI * 2;
        }
        endAngle = endAngle % (Math.PI * 2);
        if (endAngle < 0) {
            endAngle = endAngle + Math.PI * 2;
        }

        if (startAngle > endAngle && !anticlockwise) {
            endAngle += Math.PI * 2;
        } else if (startAngle < endAngle && anticlockwise) {
            startAngle += Math.PI * 2;
        }
        if (anticlockwise) {
            var tmp = endAngle;
            endAngle = startAngle;
            startAngle = tmp;
        }

        // var number = 0;
        // var step = (anticlockwise ? -Math.PI : Math.PI) / 2;
        for (var angle = 0; angle < endAngle; angle += Math.PI / 2) {
            if (angle > startAngle) {
                extremity[0] = Math.cos(angle) * r + x;
                extremity[1] = Math.sin(angle) * r + y;

                vec2.min(min, extremity, min);
                vec2.max(max, extremity, max);
            }
        }
    }
}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/Env.js
/**
 * @class  SuperMap.LevelRenderer.Tool.Env
 * @category Visualization Theme
 * @classdesc ç¯å¢è¯å«
 * @private 
 */
class Env {
    constructor() {
        // Zepto.js
        // (c) 2010-2013 Thomas Fuchs
        // Zepto.js may be freely distributed under the MIT license.
        this.CLASS_NAME = "SuperMap.LevelRenderer.Tool.Env";
        var me = this;
        function detect(ua) {
            var os = me.os = {};
            var browser = me.browser = {};
            var webkit = ua.match(/Web[kK]it[\/]{0,1}([\d.]+)/);
            var android = ua.match(/(Android);?[\s\/]+([\d.]+)?/);
            var ipad = ua.match(/(iPad).*OS\s([\d_]+)/);
            var ipod = ua.match(/(iPod)(.*OS\s([\d_]+))?/);
            var iphone = !ipad && ua.match(/(iPhone\sOS)\s([\d_]+)/);
            var webos = ua.match(/(webOS|hpwOS)[\s\/]([\d.]+)/);
            var touchpad = webos && ua.match(/TouchPad/);
            var kindle = ua.match(/Kindle\/([\d.]+)/);
            var silk = ua.match(/Silk\/([\d._]+)/);
            var blackberry = ua.match(/(BlackBerry).*Version\/([\d.]+)/);
            var bb10 = ua.match(/(BB10).*Version\/([\d.]+)/);
            var rimtabletos = ua.match(/(RIM\sTablet\sOS)\s([\d.]+)/);
            var playbook = ua.match(/PlayBook/);
            var chrome = ua.match(/Chrome\/([\d.]+)/) || ua.match(/CriOS\/([\d.]+)/);
            var firefox = ua.match(/Firefox\/([\d.]+)/);
            var ie = ua.match(/MSIE ([\d.]+)/);
            var safari = webkit && ua.match(/Mobile\//) && !chrome;
            var webview = ua.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/) && !chrome;

            // Todo: clean this up with a better OS/browser seperation:
            // - discern (more) between multiple browsers on android
            // - decide if kindle fire in silk mode is android or not
            // - Firefox on Android doesn't specify the Android version
            // - possibly devide in os, device and browser hashes

            /*eslint-disable*/
            if (browser.webkit = !!webkit) {
                browser.version = webkit[1];
            }

            if (android) {
                os.android = true, os.version = android[2];
            }
            if (iphone && !ipod) {
                os.ios = os.iphone = true, os.version = iphone[2].replace(/_/g, '.');
            }
            if (ipad) {
                os.ios = os.ipad = true, os.version = ipad[2].replace(/_/g, '.');
            }
            if (ipod) {
                os.ios = os.ipod = true, os.version = ipod[3] ? ipod[3].replace(/_/g, '.') : null;
            }
            if (webos) {
                os.webos = true, os.version = webos[2];
            }
            if (touchpad) {
                os.touchpad = true;
            }
            if (blackberry) {
                os.blackberry = true, os.version = blackberry[2];
            }
            if (bb10) {
                os.bb10 = true, os.version = bb10[2];
            }
            if (rimtabletos) {
                os.rimtabletos = true, os.version = rimtabletos[2];
            }
            if (playbook) {
                browser.playbook = true;
            }
            if (kindle) {
                os.kindle = true, os.version = kindle[1];
            }
            if (silk) {
                browser.silk = true, browser.version = silk[1];
            }
            if (!silk && os.android && ua.match(/Kindle Fire/)) {
                browser.silk = true;
            }
            if (chrome) {
                browser.chrome = true, browser.version = chrome[1];
            }
            if (firefox) {
                browser.firefox = true, browser.version = firefox[1];
            }
            if (ie) {
                browser.ie = true, browser.version = ie[1];
            }
            if (safari && (ua.match(/Safari/) || !!os.ios)) {
                browser.safari = true;
            }
            if (webview) {
                browser.webview = true;
            }
            if (ie) {
                browser.ie = true, browser.version = ie[1];
            }

            os.tablet = !!(ipad || playbook || (android && !ua.match(/Mobile/)) ||
                (firefox && ua.match(/Tablet/)) || (ie && !ua.match(/Phone/) && ua.match(/Touch/)));
            os.phone = !!(!os.tablet && !os.ipod && (android || iphone || webos || blackberry || bb10 ||
                (chrome && ua.match(/Android/)) || (chrome && ua.match(/CriOS\/([\d.]+)/)) ||
                (firefox && ua.match(/Mobile/)) || (ie && ua.match(/Touch/))));

            return {
                browser: browser,
                os: os,
                // åçcanvasæ¯æ
                canvasSupported: document.createElement('canvas').getContext ? true : false
            };
        }

        return detect(navigator.userAgent);
    }
    destory() {
        return true;
    }
}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/Event.js
/**
 * @class  SuperMap.LevelRenderer.Tool.Event
 * @category Visualization Theme
 * @classdesc LevelRenderer å·¥å·-äºä»¶è¾å©ç±»
 * @private 
 */
class Event_Event {


    /**
     * @function SuperMap.LevelRenderer.Tool.Event.prototype.constructor
     * @description æé å½æ°ã
     */
    constructor() {
        /**
         * @member {function} SuperMap.LevelRenderer.Tool.Event.prototype.stop
         * @description åæ­¢åæ³¡åé»æ­¢é»è®¤è¡ä¸º
         */
        this.stop = typeof window.addEventListener === 'function'
            ? function (e) {
                e.preventDefault();
                e.stopPropagation();
                e.cancelBubble = true;
            }
            : function (e) {
                e.returnValue = false;
                e.cancelBubble = true;
            };

        this.CLASS_NAME = "SuperMap.LevelRenderer.Tool.Event";
    }


    /**
     * @function SuperMap.LevelRenderer.Tool.Event.prototype.getX
     * @description æåé¼ æ ï¼ææï¼xåæ ã
     * @param {Event} e - äºä»¶ã
     * @returns {number} é¼ æ ï¼ææï¼xåæ ã
     */
    getX(e) {
        return typeof e.zrenderX != 'undefined' && e.zrenderX
            || typeof e.offsetX != 'undefined' && e.offsetX
            || typeof e.layerX != 'undefined' && e.layerX
            || typeof e.clientX != 'undefined' && e.clientX;
    }


    /**
     * @function SuperMap.LevelRenderer.Tool.Event.prototype.getY
     * @description æåé¼ æ ï¼ææï¼yåæ ã
     * @param {Event} e - äºä»¶ã
     * @returns {number} é¼ æ ï¼ææï¼yåæ ã
     */
    getY(e) {
        return typeof e.zrenderY != 'undefined' && e.zrenderY
            || typeof e.offsetY != 'undefined' && e.offsetY
            || typeof e.layerY != 'undefined' && e.layerY
            || typeof e.clientY != 'undefined' && e.clientY;
    }


    /**
     * @function SuperMap.LevelRenderer.Tool.Event.prototype.getDelta
     * @description æåé¼ æ æ»è½®ååã
     * @param {Event} e - äºä»¶ã
     * @returns {number} æ»è½®ååï¼æ­£å¼è¯´ææ»è½®æ¯åä¸æ»å¨ï¼å¦ææ¯è´å¼è¯´ææ»è½®æ¯åä¸æ»å¨ã
     */
    getDelta(e) {
        return typeof e.zrenderDelta != 'undefined' && e.zrenderDelta
            || typeof e.wheelDelta != 'undefined' && e.wheelDelta
            || typeof e.detail != 'undefined' && -e.detail;
    }
}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/Http.js
/**
 * @private
 * @class  SuperMap.LevelRenderer.Tool.Http
 * @category Visualization Theme
 * @classdesc LevelRenderer å·¥å·-Http
 */
class Http {

    /**
     * @function SuperMap.LevelRenderer.Tool.Http.constructor
     * @description æé å½æ°ã
     */
    constructor() {
        this.CLASS_NAME = "SuperMap.LevelRenderer.Tool.Http"
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Http.prototype.get
     * @description getè¯·æ±ã
     * @param {(string|IHTTPGetOption)} url - è¯·æ±url
     * @param {function} onsuccess - è¯·æ±æåå½æ°
     * @param {function} onerror - è¯·æ±å¤±è´¥å½æ° 
     * @param {Object} opts - é¢å¤åæ°
     * @returns {number} coså¼
     */
    get(url, onsuccess, onerror) {
        if (typeof(url) === 'object') {
            var obj = url;
            url = obj.url;
            onsuccess = obj.onsuccess;
            onerror = obj.onerror;

        }
        var xhr = window.XMLHttpRequest
            ? new XMLHttpRequest()
            : new window.ActiveXObject('Microsoft.XMLHTTP');
        xhr.open('GET', url, true);
        xhr.onreadystatechange = function () {
            if (xhr.readyState == 4) {
                if (xhr.status >= 200 && xhr.status < 300 || xhr.status === 304) {
                    onsuccess && onsuccess(xhr.responseText);
                } else {
                    onerror && onerror();
                }
                xhr.onreadystatechange = new Function();
                xhr = null;
            }
        };

        xhr.send(null);
    }

}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/Config.js
class Config {

}
/**
 * @enum EVENT
 * @description äºä»¶
 * @type {Object}
 * @private 
 */
Config.EVENT = {
    //çªå£å¤§å°åå
    RESIZE: 'resize',

    //é¼ æ æé®è¢«ï¼ææï¼æä¸ï¼äºä»¶å¯¹è±¡æ¯ï¼ç®æ å¾å½¢åç´ æç©º
    CLICK: 'click',

    //åå»äºä»¶
    DBLCLICK: 'dblclick',

    //é¼ æ æ»è½®ååï¼äºä»¶å¯¹è±¡æ¯ï¼ç®æ å¾å½¢åç´ æç©º
    MOUSEWHEEL: 'mousewheel',

    //é¼ æ ï¼ææï¼è¢«ç§»å¨ï¼äºä»¶å¯¹è±¡æ¯ï¼ç®æ å¾å½¢åç´ æç©º
    MOUSEMOVE: 'mousemove',

    //é¼ æ ç§»å°æå¾å½¢åç´ ä¹ä¸ï¼äºä»¶å¯¹è±¡æ¯ï¼ç®æ å¾å½¢åç´ 
    MOUSEOVER: 'mouseover',

    //é¼ æ ä»æå¾å½¢åç´ ç§»å¼ï¼äºä»¶å¯¹è±¡æ¯ï¼ç®æ å¾å½¢åç´ 
    MOUSEOUT: 'mouseout',

    //é¼ æ æé®ï¼ææï¼è¢«æä¸ï¼äºä»¶å¯¹è±¡æ¯ï¼ç®æ å¾å½¢åç´ æç©º
    MOUSEDOWN: 'mousedown',

    //é¼ æ æé®ï¼ææï¼è¢«æ¾å¼ï¼äºä»¶å¯¹è±¡æ¯ï¼ç®æ å¾å½¢åç´ æç©º
    MOUSEUP: 'mouseup',

    //å¨å±ç¦»å¼ï¼MOUSEOUTè§¦åæ¯è¾é¢ç¹ï¼ä¸æ¬¡ç¦»å¼ä¼åç»å®
    GLOBALOUT: 'globalout',

    // ä¸æ¬¡æååç´ ææ½çè¡ä¸ºäºä»¶è¿ç¨æ¯ï¼
    // dragstart > dragenter > dragover [> dragleave] > drop > dragend

    //å¼å§ææ½æ¶è§¦åï¼äºä»¶å¯¹è±¡æ¯ï¼è¢«ææ½å¾å½¢åç´ 
    DRAGSTART: 'dragstart',

    //ææ½å®æ¯æ¶è§¦åï¼å¨dropä¹åè§¦åï¼ï¼äºä»¶å¯¹è±¡æ¯ï¼è¢«ææ½å¾å½¢åç´ 
    DRAGEND: 'dragend',

    //ææ½å¾å½¢åç´ è¿å¥ç®æ å¾å½¢åç´ æ¶è§¦åï¼äºä»¶å¯¹è±¡æ¯ï¼ç®æ å¾å½¢åç´ 
    DRAGENTER: 'dragenter',

    //ææ½å¾å½¢åç´ å¨ç®æ å¾å½¢åç´ ä¸ç§»å¨æ¶è§¦åï¼äºä»¶å¯¹è±¡æ¯ï¼ç®æ å¾å½¢åç´ 
    DRAGOVER: 'dragover',

    //ææ½å¾å½¢åç´ ç¦»å¼ç®æ å¾å½¢åç´ æ¶è§¦åï¼äºä»¶å¯¹è±¡æ¯ï¼ç®æ å¾å½¢åç´ 
    DRAGLEAVE: 'dragleave',

    //ææ½å¾å½¢åç´ æ¾å¨ç®æ å¾å½¢åç´ åæ¶è§¦åï¼äºä»¶å¯¹è±¡æ¯ï¼ç®æ å¾å½¢åç´ 
    DROP: 'drop',

    //touch end - start < delay is click
    touchClickDelay: 300
};

/**
 * @enum catchBrushException
 * @description æ¯å¦å¼å¸¸æè·
 * @type {boolean}
 * @private 
 */
Config.catchBrushException = false;

/**
 * @enum debugMode
 * @description debug æ¥å¿éé¡¹ï¼catchBrushException ä¸º true ä¸ææã
 * 0 : ä¸çædebugæ°æ®ï¼åå¸ç¨
 * 1 : å¼å¸¸æåºï¼è°è¯ç¨
 * 2 : æ§å¶å°è¾åºï¼è°è¯ç¨
 * @type {boolean}
 * @private 
 */
Config.debugMode = 0;
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/Log.js


/**
 * @private
 * @class  SuperMap.LevelRenderer.Tool.Log
 * @category Visualization Theme
 * @classdesc LevelRenderer å·¥å·-æ¥å¿
 */
class Log_Log {

    /**
     * @function SuperMap.LevelRenderer.Tool.Log.constructor
     * @description æé å½æ°ã
     */
    constructor() {

        this.CLASS_NAME = "SuperMap.LevelRenderer.Tool.Log";
        return function () {
            if (Config.debugMode === 0) {
                return;
            } else if (Config.debugMode == 1) {
                for (let k in arguments) {
                    throw new Error(arguments[k]);
                }
            } else if (Config.debugMode > 1) {
                for (let k in arguments) {
                    console.log(arguments[k]);
                }
            }
        };

        /* for debug
         return function(mes) {
         document.getElementById('wrong-message').innerHTML =
         mes + ' ' + (new Date() - 0)
         + '<br/>'
         + document.getElementById('wrong-message').innerHTML;
         };
         */
    }

    destory() {
        return true;
    }
}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/Math.js
/**
 * @private
 * @class  SuperMap.LevelRenderer.Tool.Math
 * @category Visualization Theme
 * @classdesc LevelRenderer å·¥å·-æ°å­¦è¾å©ç±»
 */
class Math_Math {

     /**
     * @function SuperMap.LevelRenderer.Tool.Math.constructor
     * @description æé å½æ°ã
     */

    constructor() {
       
        /**
         * @member {number} SuperMap.LevelRenderer.Tool.Math._radians
         * @description è§åº¦ä¸å¼§åº¦è½¬ååæ°
         */
        this._radians = window.Math.PI / 180;

        this.CLASS_NAME = "SuperMap.LevelRenderer.Tool.Math";
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Math.prototype.sin
     * @description æ­£å¼¦å½æ°ã
     * @param {number} angle - å¼§åº¦ï¼è§åº¦ï¼åæ°ã
     * @param {boolean} [isDegrees=false] - angleåæ°æ¯å¦ä¸ºè§åº¦è®¡ç®ï¼angleä¸ºä»¥å¼§åº¦è®¡éçè§åº¦ã
     * @returns {number} sin å¼ã
     */
    sin(angle, isDegrees) {
        return window.Math.sin(isDegrees ? angle * this._radians : angle);
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Math.prototype.cos
     * @description ä½å¼¦å½æ°ã
     * @param {number} angle - å¼§åº¦ï¼è§åº¦ï¼åæ°ã
     * @param {boolean} [isDegrees=false] - angleåæ°æ¯å¦ä¸ºè§åº¦è®¡ç®ï¼angleä¸ºä»¥å¼§åº¦è®¡éçè§åº¦ã
     * @returns {number} cos å¼ã
     */
    cos(angle, isDegrees) {
        return window.Math.cos(isDegrees ? angle * this._radians : angle);
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Math.prototype.degreeToRadian
     * @description è§åº¦è½¬å¼§åº¦ã
     * @param {number} angle - å¼§åº¦ï¼è§åº¦ï¼åæ°ã
     * @param {boolean} [isDegrees=false] - angleåæ°æ¯å¦ä¸ºè§åº¦è®¡ç®ï¼angleä¸ºä»¥å¼§åº¦è®¡éçè§åº¦ã
     * @returns {number} å¼§åº¦å¼ã
     */
    degreeToRadian(angle) {
        return angle * this._radians;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Math.prototype.radianToDegree
     * @description å¼§åº¦è½¬è§åº¦ã
     * @param {number} angle - å¼§åº¦ï¼è§åº¦ï¼åæ°ã
     * @param {boolean} [isDegrees=false] - angleåæ°æ¯å¦ä¸ºè§åº¦è®¡ç®ï¼angleä¸ºä»¥å¼§åº¦è®¡éçè§åº¦ã
     * @returns {number} è§åº¦ã
     */
   
    radianToDegree(angle) {
        return angle / this._radians;
    }

}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/Matrix.js
/**
 * @private
 * @class  SuperMap.LevelRenderer.Tool.Matrix
 * @category Visualization Theme
 * @classdesc LevelRenderer å·¥å·-3x2ç©éµæä½ç±»
 */
class Matrix {

    /**
     * @function SuperMap.LevelRenderer.Tool.Matrix.constructor
     * @description æé å½æ°ã
     */
   
    constructor() {
        /**
         * @member {Object} SuperMap.LevelRenderer.Tool.Matrix.prototype.ArrayCtor
         * @description æ°ç»ç±»åæ§å¶
         */
        this.ArrayCtor = typeof Float32Array === 'undefined'
            ? Array
            : Float32Array;

        this.CLASS_NAME = "SuperMap.LevelRenderer.Tool.Matrix";
    }


    /**
     * @function SuperMap.LevelRenderer.Tool.Matrix.prototype.create
     * @description åå»ºä¸ä¸ªåä½ç©éµã
     * @returns {(Float32Array|Array.<number>)} åä½ç©éµã
     */
    create() {
        var ArrayCtor = this.ArrayCtor;

        var out = new ArrayCtor(6);
        this.identity(out);

        return out;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Matrix.prototype.identity
     * @description è®¾ç½®ç©éµä¸ºåä½ç©éµã
     * @param {(Float32Array|Array.<number>)} out - åä½ç©éµã
     * @returns {(Float32Array|Array.<number>)} åä½ç©éµã
     */
    identity(out) {
        out[0] = 1;
        out[1] = 0;
        out[2] = 0;
        out[3] = 1;
        out[4] = 0;
        out[5] = 0;
        return out;
    }


    /**
     * @function SuperMap.LevelRenderer.Tool.Matrix.prototype.copy
     * @description å¤å¶ç©éµã
     * @param {(Float32Array|Array.<number>)} out - åä½ç©éµã
     * @returns {(Float32Array|Array.<number>)} åéç©éµã
     */
    copy(out, m) {
        out[0] = m[0];
        out[1] = m[1];
        out[2] = m[2];
        out[3] = m[3];
        out[4] = m[4];
        out[5] = m[5];
        return out;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Matrix.prototype.mul
     * @description ç©éµç¸ä¹ã
     * @param {(Float32Array|Array.<number>)} out - åä½ç©éµã
     * @param {(Float32Array|Array.<number>)} m1 - ç©éµm1ã
     * @param {(Float32Array|Array.<number>)} m2- ç©éµm2ã
     * @returns {(Float32Array|Array.<number>)} ç»æç©éµã
     */
    mul(out, m1, m2) {
        out[0] = m1[0] * m2[0] + m1[2] * m2[1];
        out[1] = m1[1] * m2[0] + m1[3] * m2[1];
        out[2] = m1[0] * m2[2] + m1[2] * m2[3];
        out[3] = m1[1] * m2[2] + m1[3] * m2[3];
        out[4] = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];
        out[5] = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];
        return out;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Matrix.prototype.mul
     * @description å¹³ç§»åæ¢ã
     * @param {(Float32Array|Array.<number>)} out - åä½ç©éµã
     * @param {(Float32Array|Array.<number>)} a - ç©éµã
     * @param {(Float32Array|Array.<number>)} v- å¹³ç§»åæ°ã
     * @returns {(Float32Array|Array.<number>)} ç»æç©éµã
     */
    translate(out, a, v) {
        out[0] = a[0];
        out[1] = a[1];
        out[2] = a[2];
        out[3] = a[3];
        out[4] = a[4] + v[0];
        out[5] = a[5] + v[1];
        return out;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Matrix.prototype.rotate
     * @description å¹³ç§»åæ¢ã
     * @param {(Float32Array|Array.<number>)} out - åä½ç©éµã
     * @param {(Float32Array|Array.<number>)} a - ç©éµã
     * @param {(Float32Array|Array.<number>)} rad - æè½¬åæ°ã
     * @returns {(Float32Array|Array.<number>)} ç»æç©éµã
     */
    rotate(out, a, rad) {
        var aa = a[0];
        var ac = a[2];
        var atx = a[4];
        var ab = a[1];
        var ad = a[3];
        var aty = a[5];
        var st = Math.sin(rad);
        var ct = Math.cos(rad);

        out[0] = aa * ct + ab * st;
        out[1] = -aa * st + ab * ct;
        out[2] = ac * ct + ad * st;
        out[3] = -ac * st + ct * ad;
        out[4] = ct * atx + st * aty;
        out[5] = ct * aty - st * atx;
        return out;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Matrix.prototype.scale
     * @description ç¼©æ¾åæ¢ã
     * @param {(Float32Array|Array.<number>)} out - åä½ç©éµã
     * @param {(Float32Array|Array.<number>)} a - ç©éµã
     * @param {(Float32Array|Array.<number>)} v - ç¼©æ¾åæ°ã
     * @returns {(Float32Array|Array.<number>)} ç»æç©éµã
     */
    scale(out, a, v) {
        var vx = v[0];
        var vy = v[1];
        out[0] = a[0] * vx;
        out[1] = a[1] * vy;
        out[2] = a[2] * vx;
        out[3] = a[3] * vy;
        out[4] = a[4] * vx;
        out[5] = a[5] * vy;
        return out;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Matrix.prototype.invert
     * @description æ±éç©éµã
     * @param {(Float32Array|Array.<number>)} out - åä½ç©éµã
     * @param {(Float32Array|Array.<number>)} a - ç©éµã
     * @returns {(Float32Array|Array.<number>)} ç»æç©éµã
     */
    invert(out, a) {
        var aa = a[0];
        var ac = a[2];
        var atx = a[4];
        var ab = a[1];
        var ad = a[3];
        var aty = a[5];

        var det = aa * ad - ab * ac;
        if (!det) {
            return null;
        }
        det = 1.0 / det;

        out[0] = ad * det;
        out[1] = -ab * det;
        out[2] = -ac * det;
        out[3] = aa * det;
        out[4] = (ac * aty - ad * atx) * det;
        out[5] = (ab * atx - aa * aty) * det;
        return out;
    }

    /**
     * @function SuperMap.LevelRenderer.Tool.Matrix.prototype.mulVector
     * @description ç©éµå·¦ä¹åéã
     * @param {(Float32Array|Array.<number>)} out - åä½ç©éµã
     * @param {(Float32Array|Array.<number>)} a - ç©éµã
     * @param {(Float32Array|Array.<number>)} v - ç¼©æ¾åæ°ã
     * @returns {(Float32Array|Array.<number>)} ç»æç©éµã
     */
    mulVector(out, a, v) {
        var aa = a[0];
        var ac = a[2];
        var atx = a[4];
        var ab = a[1];
        var ad = a[3];
        var aty = a[5];

        out[0] = v[0] * aa + v[1] * ac + atx;
        out[1] = v[0] * ab + v[1] * ad + aty;

        return out;
    }

}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/SUtil.js













class SUtil {
    /**
     * @function SuperMap.LevelRenderer.SUtil.SUtil_smoothBezier
     * @description è´å¡å°å¹³æ»æ²çº¿ã
     * @private 
     * @param {Array} points - çº¿æ®µé¡¶ç¹æ°ç»ã
     * @param {number} smooth - å¹³æ»ç­çº§, 0-1ã
     * @param {boolean} isLoop - isLoopã
     * @param {Array} constraint - å°è®¡ç®åºæ¥çæ§å¶ç¹çº¦æå¨ä¸ä¸ªåå´çåï¼æ¯å¦ [[0, 0], [100, 100]], è¿ä¸ªåå´çä¼ä¸æ´ä¸ªæçº¿çåå´çåä¸ä¸ªå¹¶éç¨æ¥çº¦ææ§å¶ç¹ã
     * @param {Array} [originalPosition=[0, 0]] - åèåç¹ã
     * @return {Array} çæçå¹³æ»èç¹æ°ç»ã
     */
    static SUtil_smoothBezier(points, smooth, isLoop, constraint, originalPosition) {
        if (!originalPosition || originalPosition !== 2) {
            originalPosition = [0, 0];
        }
        var __OP = originalPosition;

        var cps = [];

        var v = [];
        var v1 = [];
        var v2 = [];

        var hasConstraint = !!constraint;
        var min, max;
        if (hasConstraint) {
            min = [Infinity, Infinity];
            max = [-Infinity, -Infinity];
            let len = points.length;
            for (let i = 0; i < len; i++) {
                SUtil.Util_vector.min(min, min, [points[i][0] + __OP[0], points[i][1] + __OP[1]]);
                SUtil.Util_vector.max(max, max, [points[i][0] + __OP[0], points[i][1] + __OP[1]]);
            }
            // ä¸æå®çåå´çåå¹¶é
            SUtil.Util_vector.min(min, min, constraint[0]);
            SUtil.Util_vector.max(max, max, constraint[1]);
        }

        let len = points.length;
        for (let i = 0; i < len; i++) {
            let point = [points[i][0] + __OP[0], points[i][1] + __OP[1]];
            let prevPoint;
            let nextPoint;

            if (isLoop) {
                prevPoint = [points[i ? i - 1 : len - 1][0] + __OP[0], points[i ? i - 1 : len - 1][1] + __OP[1]];
                nextPoint = [points[(i + 1) % len][0] + __OP[0], points[(i + 1) % len][1] + __OP[1]];
            } else {
                if (i === 0 || i === len - 1) {
                    cps.push([points[i][0] + __OP[0], points[i][1] + __OP[1]]);
                    continue;
                } else {
                    prevPoint = [points[i - 1][0] + __OP[0], points[i - 1][1] + __OP[1]];
                    nextPoint = [points[i + 1][0] + __OP[0], points[i + 1][1] + __OP[1]];
                }
            }

            SUtil.Util_vector.sub(v, nextPoint, prevPoint);

            // use degree to scale the handle length
            SUtil.Util_vector.scale(v, v, smooth);

            let d0 = SUtil.Util_vector.distance(point, prevPoint);
            let d1 = SUtil.Util_vector.distance(point, nextPoint);
            let sum = d0 + d1;
            if (sum !== 0) {
                d0 /= sum;
                d1 /= sum;
            }

            SUtil.Util_vector.scale(v1, v, -d0);
            SUtil.Util_vector.scale(v2, v, d1);
            let cp0 = SUtil.Util_vector.add([], point, v1);
            let cp1 = SUtil.Util_vector.add([], point, v2);
            if (hasConstraint) {
                SUtil.Util_vector.max(cp0, cp0, min);
                SUtil.Util_vector.min(cp0, cp0, max);
                SUtil.Util_vector.max(cp1, cp1, min);
                SUtil.Util_vector.min(cp1, cp1, max);
            }
            cps.push(cp0);
            cps.push(cp1);
        }

        if (isLoop) {
            cps.push(cps.shift());
        }

        return cps;
    }

    /**
     * @function SuperMap.LevelRenderer.SUtil.SUtil_smoothSpline
     * @description æå¼æçº¿ã
     * @private 
     * @param {Array} points - çº¿æ®µé¡¶ç¹æ°ç»ã
     * @param {boolean} isLoop - isLoopã
     * @param {Array} constraint - å°è®¡ç®åºæ¥çæ§å¶ç¹çº¦æå¨ä¸ä¸ªåå´çåï¼æ¯å¦ [[0, 0], [100, 100]], è¿ä¸ªåå´çä¼ä¸æ´ä¸ªæçº¿çåå´çåä¸ä¸ªå¹¶éç¨æ¥çº¦ææ§å¶ç¹ã
     * @param {Array} originalPosition - åèåç¹ãé»è®¤å¼ï¼[0, 0]ã
     * @return {Array} çæçå¹³æ»èç¹æ°ç»ã
     */
    static SUtil_smoothSpline(points, isLoop, constraint, originalPosition) {
        if (!originalPosition || originalPosition !== 2) {
            originalPosition = [0, 0];
        }
        var __OP = originalPosition;

        var len = points.length;
        var ret = [];

        var distance = 0;
        for (let i = 1; i < len; i++) {
            distance += SUtil.Util_vector.distance([points[i - 1][0] + __OP[0], points[i - 1][1] + __OP[1]], [points[i][0] + __OP[0], points[i][1] + __OP[1]]);
        }

        var segs = distance / 5;
        segs = segs < len ? len : segs;
        for (let i = 0; i < segs; i++) {
            let pos = i / (segs - 1) * (isLoop ? len : len - 1);
            let idx = Math.floor(pos);

            let w = pos - idx;

            let p0;
            let p1 = [points[idx % len][0] + __OP[0], points[idx % len][1] + __OP[1]];
            let p2;
            let p3;
            if (!isLoop) {
                p0 = [points[idx === 0 ? idx : idx - 1][0] + __OP[0], points[idx === 0 ? idx : idx - 1][1] + __OP[1]];
                p2 = [points[idx > len - 2 ? len - 1 : idx + 1][0] + __OP[0], points[idx > len - 2 ? len - 1 : idx + 1][1] + __OP[1]];
                p3 = [points[idx > len - 3 ? len - 1 : idx + 2][0] + __OP[0], points[idx > len - 3 ? len - 1 : idx + 2][1] + __OP[1]];
            } else {

                p0 = [points[(idx - 1 + len) % len][0] + __OP[0], points[(idx - 1 + len) % len][1] + __OP[1]];
                p2 = [points[(idx + 1) % len][0] + __OP[0], points[(idx + 1) % len][1] + __OP[1]];
                p3 = [points[(idx + 2) % len][0] + __OP[0], points[(idx + 2) % len][1] + __OP[1]];
            }

            let w2 = w * w;
            let w3 = w * w2;

            ret.push([
                interpolate(p0[0], p1[0], p2[0], p3[0], w, w2, w3),
                interpolate(p0[1], p1[1], p2[1], p3[1], w, w2, w3)
            ]);
        }
        return ret;

        // inner Function
        function interpolate(p0, p1, p2, p3, t, t2, t3) {
            var v0 = (p2 - p0) * 0.5;
            var v1 = (p3 - p1) * 0.5;
            return (2 * (p1 - p2) + v0 + v1) * t3
                + (-3 * (p1 - p2) - 2 * v0 - v1) * t2
                + v0 * t + p1;
        }
    }

    /**
     * @function SuperMap.LevelRenderer.SUtil.SUtil_dashedLineTo
     * @description èçº¿ lineToã
     */
    static SUtil_dashedLineTo(ctx, x1, y1, x2, y2, dashLength, customDashPattern) {
        // http://msdn.microsoft.com/en-us/library/ie/dn265063(v=vs.85).aspx
        var dashPattern = [5, 5];
        dashLength = typeof dashLength != 'number'
            ? 5
            : dashLength;

        if (ctx.setLineDash) {
            dashPattern[0] = dashLength;
            dashPattern[1] = dashLength;

            if (customDashPattern && (customDashPattern instanceof Array)) {
                ctx.setLineDash(customDashPattern);
            } else {
                ctx.setLineDash(dashPattern);
            }
            // ctx.setLineDash(dashPattern);

            ctx.moveTo(x1, y1);
            ctx.lineTo(x2, y2);
            return;
        }

        var dx = x2 - x1;
        var dy = y2 - y1;
        var numDashes = Math.floor(
            Math.sqrt(dx * dx + dy * dy) / dashLength
        );
        dx = dx / numDashes;
        dy = dy / numDashes;
        var flag = true;
        for (var i = 0; i < numDashes; ++i) {
            if (flag) {
                ctx.moveTo(x1, y1);
            } else {
                ctx.lineTo(x1, y1);
            }
            flag = !flag;
            x1 += dx;
            y1 += dy;
        }
        ctx.lineTo(x2, y2);
    }
}
// æææå·¥å·å¯¹è±¡æ¾å°å¨å±éæåéä¸ï¼ä»¥ä¾¿ç´æ¥è°ç¨å·¥å·æ¹æ³ï¼
// é¿åä½¿ç¨å·¥å·æ¶é¢ç¹çåå»ºå·¥å·å¯¹è±¡å¸¦æ¥çæ§è½æ¶èã
SUtil.Util_area = new Area_Area();
SUtil.Util_color = new Color_Color();
SUtil.Util_computeBoundingBox = new ComputeBoundingBox_ComputeBoundingBox();
SUtil.Util_curve = new levelRenderer_Curve_Curve();
SUtil.Util_env = new Env();
SUtil.Util_event = new Event_Event();
SUtil.Util_http = new Http();
SUtil.Util_log = new Log_Log();
SUtil.Util_math = new Math_Math();
SUtil.Util_matrix = new Matrix();
SUtil.Util = new levelRenderer_Util_Util();
SUtil.Util_vector = new levelRenderer_Vector_Vector();

// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/Transformable.js


/**
 * @private
 * @class  SuperMap.LevelRenderer.Transformable
 * @category Visualization Theme
 * @classdesc å¯åæ¢è¶ç±»ï¼æææ¯æ Canvas Transform åæ¢æä½çç±»åæ¯æ­¤ç±»çå­ç±»ãæ­¤ç±»ä¸å¯å®ä¾åã
 */
class Transformable_Transformable {

    /**
     * @function SuperMap.LevelRenderer.Transformable.constructor
     * @description æé å½æ°ã
     */
    constructor() {
        /**
         * @member {Array.<number>} SuperMap.LevelRenderer.Transformable.prototype.position 
         * @description å¹³ç§»ï¼ é»è®¤å¼ï¼[0, 0]ã
         */
        this.position = [0, 0];

        /**
         * @member {Array.<number>} SuperMap.LevelRenderer.Transformable.prototype.rotation
         * @description æè½¬ï¼å¯ä»¥éè¿æ°ç»äºä¸é¡¹æå®æè½¬çåç¹ï¼ é»è®¤å¼ï¼[0, 0, 0]ã
         */
        this.rotation = [0, 0, 0];

        /**
         * @member {Array.<number>} SuperMap.LevelRenderer.Transformable.prototype.scale
         * @description ç¼©æ¾ï¼å¯ä»¥éè¿æ°ç»ä¸åé¡¹æå®ç¼©æ¾çåç¹ï¼ é»è®¤å¼ï¼[1, 1, 0, 0]ã
         */
        this.scale = [1, 1, 0, 0];

        /**
         * @member {boolean} SuperMap.LevelRenderer.Transformable.prototype.needLocalTransform
         * @description æ¯å¦åæ¢ãé»è®¤å¼ï¼falseã
         */
        this.needLocalTransform = false;

        /**
         * @member {boolean} SuperMap.LevelRenderer.Transformable.prototype.needTransform
         * @description æ¯å¦æåæ åæ¢ãé»è®¤å¼ï¼falseã
         */
        this.needTransform = false;

        this.CLASS_NAME = "SuperMap.LevelRenderer.Transformable";
        /**
         * @function SuperMap.LevelRenderer.Transformable.prototype.lookAt
         * @description è®¾ç½®å¾å½¢çæåã
         */
        this.lookAt = (function () {
            var v = SUtil.Util_vector.create();
            // {Array.<Number>|Float32Array} target
            return function (target) {
                if (!this.transform) {
                    this.transform = SUtil.Util_matrix.create();
                }
                var m = this.transform;
                SUtil.Util_vector.sub(v, target, this.position);
                if (isAroundZero(v[0]) && isAroundZero(v[1])) {
                    return;
                }
                SUtil.Util_vector.normalize(v, v);
                // Y Axis
                // TODO Scale origin ?
                m[2] = v[0] * this.scale[1];
                m[3] = v[1] * this.scale[1];
                // X Axis
                m[0] = v[1] * this.scale[0];
                m[1] = -v[0] * this.scale[0];
                // Position
                m[4] = this.position[0];
                m[5] = this.position[1];

                this.decomposeTransform();

                function isAroundZero(val) {
                    var EPSILON = 5e-5;
                    return val > -EPSILON && val < EPSILON;
                }
            };
        })();
    }

    /**
     * @function SuperMap.LevelRenderer.Transformable.prototype.destroy
     * @description éæ¯å¯¹è±¡ï¼éæ¾èµæºãè°ç¨æ­¤å½æ°åææå±æ§å°è¢«ç½®ä¸º nullã
     */
    destroy() {
        this.position = null;
        this.rotation = null;
        this.scale = null;
        this.needLocalTransform = null;
        this.needTransform = null;
    }


    /**
     * @function SuperMap.LevelRenderer.Transformable.prototype.updateNeedTransform
     * @description æ´æ° needLocalTransform
     */
    updateNeedTransform() {
        this.needLocalTransform = isNotAroundZero(this.rotation[0])
            || isNotAroundZero(this.position[0])
            || isNotAroundZero(this.position[1])
            || isNotAroundZero(this.scale[0] - 1)
            || isNotAroundZero(this.scale[1] - 1);

        function isNotAroundZero(val) {
            var EPSILON = 5e-5;
            return val > EPSILON || val < -EPSILON;
        }
    }


    /**
     * @function SuperMap.LevelRenderer.Transformable.prototype.updateTransform
     * @description å¤æ­æ¯å¦éè¦æåæ åæ¢ï¼æ´æ° needTransform å±æ§ãå¦ææåæ åæ¢, åä» position, rotation, scale ä»¥åç¶èç¹ç transform è®¡ç®åºèªèº«ç transform ç©éµ
     */
    updateTransform() {
        this.updateNeedTransform();

        if (this.parent) {
            this.needTransform = this.needLocalTransform || this.parent.needTransform;
        } else {
            this.needTransform = this.needLocalTransform;
        }

        if (!this.needTransform) {
            return;
        }

        var origin = [0, 0];

        var m = this.transform || SUtil.Util_matrix.create();
        SUtil.Util_matrix.identity(m);

        if (this.needLocalTransform) {
            if (
                isNotAroundZero(this.scale[0])
                || isNotAroundZero(this.scale[1])
            ) {
                origin[0] = -this.scale[2] || 0;
                origin[1] = -this.scale[3] || 0;
                let haveOrigin = isNotAroundZero(origin[0])
                    || isNotAroundZero(origin[1]);
                if (haveOrigin) {
                    SUtil.Util_matrix.translate(
                        m, m, origin
                    );
                }
                SUtil.Util_matrix.scale(m, m, this.scale);
                if (haveOrigin) {
                    origin[0] = -origin[0];
                    origin[1] = -origin[1];
                    SUtil.Util_matrix.translate(
                        m, m, origin
                    );
                }
            }

            if (this.rotation instanceof Array) {
                if (this.rotation[0] !== 0) {
                    origin[0] = -this.rotation[1] || 0;
                    origin[1] = -this.rotation[2] || 0;
                    let haveOrigin = isNotAroundZero(origin[0])
                        || isNotAroundZero(origin[1]);
                    if (haveOrigin) {
                        SUtil.Util_matrix.translate(
                            m, m, origin
                        );
                    }
                    SUtil.Util_matrix.rotate(m, m, this.rotation[0]);
                    if (haveOrigin) {
                        origin[0] = -origin[0];
                        origin[1] = -origin[1];
                        SUtil.Util_matrix.translate(
                            m, m, origin
                        );
                    }
                }
            } else {
                if (this.rotation !== 0) {
                    SUtil.Util_matrix.rotate(m, m, this.rotation);
                }
            }

            if (
                isNotAroundZero(this.position[0]) || isNotAroundZero(this.position[1])
            ) {
                SUtil.Util_matrix.translate(m, m, this.position);
            }
        }

        // ä¿å­è¿ä¸ªåæ¢ç©éµ
        this.transform = m;

        // åºç¨ç¶èç¹åæ¢
        if (this.parent && this.parent.needTransform) {
            if (this.needLocalTransform) {
                SUtil.Util_matrix.mul(this.transform, this.parent.transform, this.transform);
            } else {
                SUtil.Util_matrix.copy(this.transform, this.parent.transform);
            }
        }

        function isNotAroundZero(val) {
            var EPSILON = 5e-5;
            return val > EPSILON || val < -EPSILON;
        }
    }


    /**
     * @function SuperMap.LevelRenderer.Transformable.prototype.setTransform
     * @description å°èªå·±ç transform åºç¨å° context ä¸ã
     * 
     * @param {Context2D} ctx - Context2D ä¸ä¸æã
     */
    setTransform(ctx) {
        if (this.needTransform) {
            var m = this.transform;
            ctx.transform(
                m[0], m[1],
                m[2], m[3],
                m[4], m[5]
            );
        }
    }



    /**
     * @function SuperMap.LevelRenderer.Transformable.prototype.decomposeTransform
     * @description åè§£`transform`ç©éµå°`position`, `rotation`, `scale` ã
     */
    decomposeTransform() {
        if (!this.transform) {
            return;
        }
        var m = this.transform;
        var sx = m[0] * m[0] + m[1] * m[1];
        var position = this.position;
        var scale = this.scale;
        var rotation = this.rotation;
        if (isNotAroundZero(sx - 1)) {
            sx = Math.sqrt(sx);
        }
        var sy = m[2] * m[2] + m[3] * m[3];
        if (isNotAroundZero(sy - 1)) {
            sy = Math.sqrt(sy);
        }
        position[0] = m[4];
        position[1] = m[5];
        scale[0] = sx;
        scale[1] = sy;
        scale[2] = scale[3] = 0;
        rotation[0] = Math.atan2(-m[1] / sy, m[0] / sx);
        rotation[1] = rotation[2] = 0;

        function isNotAroundZero(val) {
            var EPSILON = 5e-5;
            return val > EPSILON || val < -EPSILON;
        }
    }

}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/Shape.js






/**
 * @private
 * @class  SuperMap.LevelRenderer.Shape
 * @category Visualization Theme
 * @classdesc å¾å½¢ï¼shapeï¼åºç±»ã
 * @extends SuperMap.LevelRenderer.Eventful
 * @extends SuperMap.LevelRenderer.Transformable
 */
class Shape_Shape extends SuperMap.mixin(Eventful, Transformable_Transformable) {

    /**
     * @function SuperMap.LevelRenderer.Shape.constructor
     * @description æé å½æ°ã
     *
     * @param {Array} options - shape çéç½®ï¼optionsï¼é¡¹ï¼å¯ä»¥æ¯ shape çèªæå±æ§ï¼ä¹å¯ä»¥æ¯èªå®ä¹çå±æ§ã
     *
     */
    constructor(options) {
        super(options);

        options = options || {};
        /**
         * @member {string} SuperMap.LevelRenderer.Shape.prototype.id
         * @description å¯ä¸æ è¯ã
         */
        this.id = null;

        /**
         * @member {Object} SuperMap.LevelRenderer.Shape.prototype.style
         * @description åºç¡ç»å¶æ ·å¼ã
         * @param {string} style.brushType - ç»ç¬ç±»åãå¯è®¾å¼ï¼"fill", "stroke", "both"ãé»è®¤å¼ï¼"fill"ã
         * @param {string} style.color - å¡«åé¢è²ãé»è®¤å¼ï¼"#000000'"ã
         * @param {string} style.strokeColor - æè¾¹é¢è²ãé»è®¤å¼ï¼"#000000'"ã
         * @param {string} style.lineCape - çº¿å¸½æ ·å¼ãå¯è®¾å¼ï¼"butt", "round", "square"ãé»è®¤å¼ï¼"butt"ã
         * @param {number} style.lineWidth - æè¾¹å®½åº¦ãé»è®¤å¼ï¼1ã
         * @param {number} style.opacity - ç»å¶éæåº¦ãé»è®¤å¼ï¼1ã
         * @param {number} style.shadowBlur - é´å½±æ¨¡ç³åº¦ï¼å¤§äº0ææãé»è®¤å¼ï¼0ã
         * @param {number} style.shadowColor - é´å½±é¢è²ãé»è®¤å¼ï¼"#000000'"ã
         * @param {number} style.shadowOffsetX - é´å½±æ¨ªååç§»ãé»è®¤å¼ï¼0ã
         * @param {number} style.shadowOffsetY -  é´å½±çºµååç§»ãé»è®¤å¼ï¼0ã
         * @param {string} style.text -  å¾å½¢ä¸­çéå ææ¬ãé»è®¤å¼ï¼""ã
         * @param {string} style.textColor -  ææ¬é¢è²ãé»è®¤å¼ï¼"#000000'"ã
         * @param {string} style.textFont -  éå ææ¬æ ·å¼ãç¤ºä¾:'bold 18px verdana'ã
         * @param {string} style.textPosition -  éå ææ¬ä½ç½®ãå¯è®¾å¼ï¼"inside", "left", "right", top", "bottom", "end"ãé»è®¤å¼ï¼"end"ã
         * @param {string} style.textAlign -  éå ææ¬æ°´å¹³å¯¹é½ãå¯è®¾å¼ï¼"start", "end", "left", "right", "center"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
         * @param {string} style.textBaseline - éå ææ¬åç´å¯¹é½ãå¯è®¾å¼ï¼"top", "bottom", "middle", "alphabetic", "hanging", "ideographic"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
         *
         */
        this.style = {};

        /**
         * @member {Object} SuperMap.LevelRenderer.Shape.prototype.style.__rect
         * @description åå´å¾å½¢çæå°ç©å½¢çå­ã
         *
         * @param {number} x - å·¦ä¸è§é¡¶ç¹xè½´åæ ã
         * @param {number} y - å·¦ä¸è§é¡¶ç¹yè½´åæ ã
         * @param {number} width - åå´çç©å½¢å®½åº¦ã
         * @param {number} height - åå´çç©å½¢é«åº¦ã
         */

        /**
         * @member {Object} SuperMap.LevelRenderer.Shape.prototype.highlightStyle
         * @description é«äº®æ ·å¼ã
         *
         * @param {string} highlightStyle.brushType - ç»ç¬ç±»åãå¯è®¾å¼ï¼"fill", "stroke", "both"ãé»è®¤å¼ï¼"fill"ã
         * @param {string} highlightStyle.color -  å¡«åé¢è²ãé»è®¤å¼ï¼"#000000'"ã
         * @param {string} highlightStyle.strokeColor - æè¾¹é¢è²ãé»è®¤å¼ï¼"#000000'"ã
         * @param {string} highlightStyle.lineCape - çº¿å¸½æ ·å¼ãå¯è®¾å¼ï¼"butt", "round", "square"ãé»è®¤å¼ï¼"butt"ã
         * @param {number} highlightStyle.lineWidth - æè¾¹å®½åº¦ãé»è®¤å¼ï¼1ã
         * @param {number} highlightStyle.opacity -  ç»å¶éæåº¦ãé»è®¤å¼ï¼1ã
         * @param {number} highlightStyle.shadowBlur - é´å½±æ¨¡ç³åº¦ï¼å¤§äº0ææãé»è®¤å¼ï¼0ã
         * @param {number} highlightStyle.shadowColor - é´å½±é¢è²ãé»è®¤å¼ï¼"#000000'"ã
         * @param {number} highlightStyle.shadowOffsetX - é´å½±æ¨ªååç§»ãé»è®¤å¼ï¼0ã
         * @param {number} highlightStyle.shadowOffsetY - é´å½±çºµååç§»ãé»è®¤å¼ï¼0ã
         * @param {string} highlightStyle.text - å¾å½¢ä¸­çéå ææ¬ãé»è®¤å¼ï¼""ã
         * @param {string} highlightStyle.textColor - ææ¬é¢è²ãé»è®¤å¼ï¼"#000000'"ã
         * @param {string} highlightStyle.textFont - éå ææ¬æ ·å¼ãç¤ºä¾:'bold 18px verdana'ã
         * @param {string} highlightStyle.textPosition - éå ææ¬ä½ç½®ãå¯è®¾å¼ï¼"inside", "left", "right", top", "bottom", "end"ãé»è®¤å¼ï¼"end"ã
         * @param {string} highlightStyle.textAlign -  éå ææ¬æ°´å¹³å¯¹é½ãå¯è®¾å¼ï¼"start", "end", "left", "right", "center"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
         * @param {string} highlightStyle.textBaseline - éå ææ¬åç´å¯¹é½ãå¯è®¾å¼ï¼"top", "bottom", "middle", "alphabetic", "hanging", "ideographic"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
         */
        this.highlightStyle = null;

        /**
         * @member {Object} SuperMap.LevelRenderer.Shape.prototype.parent
         * @description ç¶èç¹ï¼åªè¯»å±æ§ã<SuperMap.LevelRenderer.Group>
         */
        this.parent = null;

        /**
         * @member {boolean} SuperMap.LevelRenderer.Shape.prototype.__dirty
         * @description {Boolean}
         */
        this.__dirty = true;

        /**
         * @member {Array} SuperMap.LevelRenderer.Shape.prototype.__clipShapes
         * @description {Array}
         * 
         */
        this.__clipShapes = [];

        /**
         * @member {boolean} SuperMap.LevelRenderer.Shape.prototype.invisible
         * @description å¾å½¢æ¯å¦å¯è§ï¼ä¸º true æ¶ä¸ç»å¶å¾å½¢ï¼ä½æ¯ä»è½è§¦åé¼ æ äºä»¶ãé»è®¤å¼ï¼falseã
         */
        this.invisible = false;

        /**
         * @member {boolean} SuperMap.LevelRenderer.Shape.prototype.ignore
         * @description å¾å½¢æ¯å¦å¿½ç¥ï¼ä¸º true æ¶å¿½ç¥å¾å½¢çç»å¶ä»¥åäºä»¶è§¦åãé»è®¤å¼ï¼falseã
         */
        this.ignore = false;

        /**
         * @member {boolean} SuperMap.LevelRenderer.Shape.prototype.zlevel
         * @description z å± levelï¼å³å®ç»ç»å¨åªå± canvas ä¸­ãé»è®¤å¼ï¼0ã
         */
        this.zlevel = 0;

        /**
         * @member {boolean} SuperMap.LevelRenderer.Shape.prototype.draggable
         * @description æ¯å¦å¯ææ½ãé»è®¤å¼ï¼falseã
         */
        this.draggable = false;

        /**
         * @member {boolean} SuperMap.LevelRenderer.Shape.prototype.clickable
         * @description æ¯å¦å¯ç¹å»ãé»è®¤å¼ï¼falseã
         */
        this.clickable = false;

        /**
         * @member {boolean} SuperMap.LevelRenderer.Shape.prototype.hoverable
         * @description æ¯å¦å¯ä»¥ hoverãé»è®¤å¼ï¼trueã
         */
        this.hoverable = true;

        /**
         * @member {number} SuperMap.LevelRenderer.Shape.prototype.z
         * @description zå¼ï¼è·zlevelä¸æ ·å½±åshapeç»å¶çååé¡ºåºï¼zå¼å¤§çshapeä¼è¦çå¨zå¼å°çä¸é¢ï¼ä½æ¯å¹¶ä¸ä¼åå»ºæ°çcanvasï¼æä»¥ä¼åçº§ä½äºzlevelï¼èä¸é¢ç¹æ¹å¨çå¼éæ¯zlevelå°å¾å¤ãé»è®¤å¼ï¼0ã
         */
        this.z = 0;

        //å°çæ©å±
        /**
         * @member {Array} SuperMap.LevelRenderer.Shape.prototype.refOriginalPosition
         * @description å¾å½¢åèåç¹ä½ç½®ï¼å¾å½¢çåèä¸­å¿ä½ç½®ã
         * refOriginalPosition æ¯é¿åº¦ä¸º 2 çæ°ç»ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤º x åæ ï¼ç¬¬äºä¸ªåç´ è¡¨ç¤º y åæ ã
         *
         * refOriginalPosition è¡¨ç¤ºå¾å½¢çåèä¸­å¿ï¼éå¸¸æåµä¸ï¼å¾å½¢æ¯ä½¿ç¨ canvas çåç¹ä½ç½®ä½ä¸ºä½ç½®åèï¼
         * ä½ refOriginalPosition å¯ä»¥æ¹åå¾å½¢çåèä½ç½®ï¼ä¾å¦ï¼ refOriginalPosition = [80, 80],
         * å¾å½¢åç style.x = 20, style.y = 20ï¼é£ä¹åå¨ canvas ä¸­çå®éä½ç½®æ¯ [100, 100]ã
         *
         * å¾å½¢ï¼Shapeï¼ çææä½ç½®ç¸å³å±æ§é½æ¯ä»¥ refOriginalPosition ä¸ºåèä¸­å¿ï¼
         * ä¹å°±æ¯è¯´å¾å½¢çææä½ç½®ä¿¡æ¯å¨ canvas ä¸­é½æ¯ä»¥ refOriginalPosition ä¸ºåèçç¸å¯¹ä½ç½®ï¼åªæ
         * refOriginalPosition çå¼ä¸º [0, 0] æ¶ï¼å½¢çä½ç½®ä¿¡æ¯ææ¯ canvas ç»å¯¹ä½ç½®ã
         *
         * å¾å½¢çä½ç½®ä¿¡æ¯éå¸¸æï¼style.pointListï¼style.xï¼style.yã
         *
         * refOriginalPositionãé»è®¤å¼æ¯ï¼ [0, 0]ã
         */
        this.refOriginalPosition = [0, 0];

        /**
         * @member {string} SuperMap.LevelRenderer.Shape.prototype.refDataID
         * @description å¾å½¢æå³èæ°æ®ç IDã
         *
         */
        this.refDataID = null;

        /**
         * @member {boolean} SuperMap.LevelRenderer.Shape.prototype.isHoverByRefDataID
         * @description æ¯å¦æ ¹æ® refDataID è¿è¡é«äº®ãç¨äºåæ¶é«äº®ææ refDataID ç¸åçå¾å½¢ã
         *
         */
        this.isHoverByRefDataID = false;

        /**
         *  @member {string} SuperMap.LevelRenderer.Shape.prototype.refDataHoverGroup 
         *  @description é«äº®å¾å½¢ç»çç»åãæ­¤å±æ§å¨ refDataID ææä¸ isHoverByRefDataID ä¸º true æ¶çæã
         * ä¸æ¦è®¾ç½®æ­¤å±æ§ï¼ä¸å±æ§å¼ææï¼åªæå³èåä¸ä¸ªæ°æ®çå¾å½¢ä¸æ­¤å±æ§ç¸åçå¾å½¢æä¼é«äº®ã
         *
         */
        this.refDataHoverGroup = null;

        /**
         * @member {Object} SuperMap.LevelRenderer.Shape.prototype.dataInfo
         * @description å¾å½¢çæ°æ®ä¿¡æ¯ã
         *
         */
        this.dataInfo = null;
        Util_Util.extend(this, options);
        this.id = this.id  || Util_Util.createUniqueID("smShape_");
        this.CLASS_NAME = "SuperMap.LevelRenderer.Shape";
        /**
         * @function SuperMap.LevelRenderer.Shape.prototype.getTansform
         * @description åæ¢é¼ æ ä½ç½®å° shape çå±é¨åæ ç©ºé´
         *
         */
        this.getTansform = (function () {
            var invTransform = [];

            return function (x, y) {
                var originPos = [x, y];
                // å¯¹é¼ æ çåæ ä¹åç¸åçåæ¢
                if (this.needTransform && this.transform) {
                    SUtil.Util_matrix.invert(invTransform, this.transform);

                    SUtil.Util_matrix.mulVector(originPos, invTransform, [x, y, 1]);

                    if (x == originPos[0] && y == originPos[1]) {
                        // é¿åå¤é¨ä¿®æ¹å¯¼è´ç needTransform ä¸åç¡®
                        this.updateNeedTransform();
                    }
                }
                return originPos;
            };
        })();

    }


    /**
     * @function SuperMap.LevelRenderer.Shape.prototype.destroy
     * @description éæ¯å¯¹è±¡ï¼éæ¾èµæºãè°ç¨æ­¤å½æ°åææå±æ§å°è¢«ç½®ä¸º nullã
     */
    destroy() {
        this.id = null;
        this.style = null;
        this.highlightStyle = null;
        this.parent = null;
        this.__dirty = null;
        this.__clipShapes = null;
        this.invisible = null;
        this.ignore = null;
        this.zlevel = null;
        this.draggable = null;
        this.clickable = null;
        this.hoverable = null;
        this.z = null;

        this.refOriginalPosition = null;
        this.refDataID = null;
        this.refDataHoverGroup = null;
        this.isHoverByRefDataID = null;
        this.dataInfo = null;
        super.destroy();
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.prototype.brush
     * @description ç»å¶å¾å½¢ã
     *
     * @param {CanvasRenderingContext2D} ctx - Context2D ä¸ä¸æã
     * @param {Boolean} isHighlight - æ¯å¦ä½¿ç¨é«äº®å±æ§ã
     * @param {Function} updateCallback - éè¦å¼æ­¥å è½½èµæºç shape å¯ä»¥éè¿è¿ä¸ª callback(e),è®©painteræ´æ°è§å¾ï¼base.brush æ²¡ç¨ï¼éè¦çè¯éè½½ brushã
     */
    brush(ctx, isHighlight) {

        var style = this.beforeBrush(ctx, isHighlight);

        ctx.beginPath();
        this.buildPath(ctx, style);

        switch (style.brushType) {
            /* jshint ignore:start */
            case 'both':
                this.setCtxGlobalAlpha(ctx, "fill", style);
                ctx.fill();
                if (style.lineWidth > 0) {
                    this.setCtxGlobalAlpha(ctx, "stroke", style);
                    ctx.stroke();
                }
                this.setCtxGlobalAlpha(ctx, "reset", style);
                break;
            case 'stroke':
                this.setCtxGlobalAlpha(ctx, "stroke", style);
                style.lineWidth > 0 && ctx.stroke();
                this.setCtxGlobalAlpha(ctx, "reset", style);
                break;
            /* jshint ignore:end */
            default:
                this.setCtxGlobalAlpha(ctx, "fill", style);
                ctx.fill();
                this.setCtxGlobalAlpha(ctx, "reset", style);
                break;
        }

        this.drawText(ctx, style, this.style);

        this.afterBrush(ctx);
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.prototype.beforeBrush
     * @description å·ä½ç»å¶æä½åçä¸äºå¬å±æä½ã
     *
     * @param {CanvasRenderingContext2D} ctx - Context2D ä¸ä¸æã
     * @param {boolean} isHighlight - æ¯å¦ä½¿ç¨é«äº®å±æ§ã
     * @return {Object} å¤çåçæ ·å¼ã
     */
    beforeBrush(ctx, isHighlight) {
        var style = this.style;

        if (this.brushTypeOnly) {
            style.brushType = this.brushTypeOnly;
        }

        if (isHighlight) {
            // æ ¹æ®styleæ©å±é»è®¤é«äº®æ ·å¼
            style = this.getHighlightStyle(
                style,
                this.highlightStyle || {},
                this.brushTypeOnly
            );
        }

        if (this.brushTypeOnly == 'stroke') {
            style.strokeColor = style.strokeColor || style.color;
        }

        ctx.save();

        this.doClip(ctx);

        this.setContext(ctx, style);

        // è®¾ç½®transform
        this.setTransform(ctx);

        return style;
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.prototype.afterBrush
     * @description ç»å¶åçå¤çã
     *
     * @param {CanvasRenderingContext2D} ctx - Context2D ä¸ä¸æã
     *
     */
    afterBrush(ctx) {
        ctx.restore();
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.prototype.setContext
     * @description è®¾ç½® fillStyle, strokeStyle, shadow ç­éç¨ç»å¶æ ·å¼ã
     *
     * @param {CanvasRenderingContext2D} ctx - Context2D ä¸ä¸æã
     * @param {Object} style - æ ·å¼ã
     *
     */
    setContext(ctx, style) {
        var STYLE_CTX_MAP = [
            ['color', 'fillStyle'],
            ['strokeColor', 'strokeStyle'],
            ['opacity', 'globalAlpha'],
            ['lineCap', 'lineCap'],
            ['lineJoin', 'lineJoin'],
            ['miterLimit', 'miterLimit'],
            ['lineWidth', 'lineWidth'],
            ['shadowBlur', 'shadowBlur'],
            ['shadowColor', 'shadowColor'],
            ['shadowOffsetX', 'shadowOffsetX'],
            ['shadowOffsetY', 'shadowOffsetY']
        ];

        for (var i = 0, len = STYLE_CTX_MAP.length; i < len; i++) {
            var styleProp = STYLE_CTX_MAP[i][0];
            var styleValue = style[styleProp];
            var ctxProp = STYLE_CTX_MAP[i][1];

            if (typeof styleValue != 'undefined') {
                ctx[ctxProp] = styleValue;
            }
        }
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.prototype.doClip
     *
     */
    doClip(ctx) {
        var clipShapeInvTransform = SUtil.Util_matrix.create();

        if (this.__clipShapes) {
            for (var i = 0; i < this.__clipShapes.length; i++) {
                var clipShape = this.__clipShapes[i];
                if (clipShape.needTransform) {
                    let m = clipShape.transform;
                    SUtil.Util_matrix.invert(clipShapeInvTransform, m);
                    ctx.transform(
                        m[0], m[1],
                        m[2], m[3],
                        m[4], m[5]
                    );
                }
                ctx.beginPath();
                clipShape.buildPath(ctx, clipShape.style);
                ctx.clip();
                // Transform back
                if (clipShape.needTransform) {
                    let m = clipShapeInvTransform;
                    ctx.transform(
                        m[0], m[1],
                        m[2], m[3],
                        m[4], m[5]
                    );
                }
            }
        }
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.prototype.getHighlightStyle
     * @description æ ¹æ®é»è®¤æ ·å¼æ©å±é«äº®æ ·å¼
     * 
     * @param {Object} style - æ ·å¼ã
     * @param {Object} highlightStyle - é«äº®æ ·å¼ã
     * @param {string} brushTypeOnly - brushTypeOnlyã
     *
     */
    getHighlightStyle(style, highlightStyle, brushTypeOnly) {
        var newStyle = {};
        for (let k in style) {
            newStyle[k] = style[k];
        }

        var highlightColor = SUtil.Util_color.getHighlightColor();
        // æ ¹æ®highlightStyleæ©å±
        if (style.brushType != 'stroke') {
            // å¸¦å¡«ååç¨é«äº®è²å ç²è¾¹çº¿
            newStyle.strokeColor = highlightColor;
            // SMIC-æ¹æ³ä¿®æ¹ - start
            newStyle.lineWidth = (style.lineWidth || 1);
            // åå§ä»£ç 
            //      newStyle.lineWidth = (style.lineWidth || 1)
            //          + this.getHighlightZoom();
            // ä¿®æ¹ä»£ç 1
            // if(!style.lineType || style.lineType === "solid"){
            //     newStyle.lineWidth = (style.lineWidth || 1)
            //         + this.getHighlightZoom();
            // }
            // else{
            //     newStyle.lineWidth = (style.lineWidth || 1);
            // }
            // SMIC-æ¹æ³ä¿®æ¹ - end
            newStyle.brushType = 'both';
        } else {
            if (brushTypeOnly != 'stroke') {
                // æè¾¹åçåç¨åè²å å·¥é«äº®
                newStyle.strokeColor = highlightColor;
                // SMIC-æ¹æ³ä¿®æ¹ - start
                newStyle.lineWidth = (style.lineWidth || 1);
                // åå§ä»£ç 
                //      newStyle.lineWidth = (style.lineWidth || 1)
                //          + this.getHighlightZoom();
                // ä¿®æ¹ä»£ç 1
                // if(!style.lineType || style.lineType === "solid"){
                //     newStyle.lineWidth = (style.lineWidth || 1)
                //         + this.getHighlightZoom();
                // }
                // else{
                //     newStyle.lineWidth = (style.lineWidth || 1);
                // }
                // SMIC-æ¹æ³ä¿®æ¹ - end
            } else {
                // çº¿åçåç¨åè²å å·¥é«äº®
                newStyle.strokeColor = highlightStyle.strokeColor
                    || SUtil.Util_color.mix(
                        style.strokeColor,
                        SUtil.Util_color.toRGB(highlightColor)
                    );
            }
        }

        // å¯èªå®ä¹è¦çé»è®¤å¼
        for (let k in highlightStyle) {
            if (typeof highlightStyle[k] != 'undefined') {
                newStyle[k] = highlightStyle[k];
            }
        }

        return newStyle;
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.prototype.getHighlightZoom
     * @description é«äº®æ¾å¤§ææåæ°ï¼å½åç»ä¸è®¾ç½®ä¸º6ï¼å¦æéè¦å·®å¼è®¾ç½®ï¼éè¿ this.type å¤æ­å®ä¾ç±»å
     *
     */
    getHighlightZoom() {
        return this.type != 'text' ? 6 : 2;
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.prototype.drift
     * @description ç§»å¨ä½ç½®
     *
     * @param {Object} dx - æ¨ªåæ ååã
     * @param {Object} dy - çºµåæ ååã
     *
     */
    drift(dx, dy) {
        this.position[0] += dx;
        this.position[1] += dy;
    }




    /**
     * @function SuperMap.LevelRenderer.Shape.prototype.buildPath
     * @description æå»ºç»å¶çPathãå­ç±»å¿é¡»éæ°å®ç°æ­¤æ¹æ³ã
     *
     * @param {CanvasRenderingContext2D} ctx - Context2D ä¸ä¸æã
     * @param {Object} style - æ ·å¼ã
     */
    buildPath(ctx, style) { // eslint-disable-line no-unused-vars
        SUtil.Util_log('buildPath not implemented in ' + this.type);
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.prototype.getRect
     * @description è®¡ç®è¿ååå´çç©å½¢ãå­ç±»å¿é¡»éæ°å®ç°æ­¤æ¹æ³ã
     *
     * @param {Object} style - æ ·å¼ã
     */
    getRect(style) { // eslint-disable-line no-unused-vars
        SUtil.Util_log('getRect not implemented in ' + this.type);
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.prototype.isCover
     * @description å¤æ­é¼ æ ä½ç½®æ¯å¦å¨å¾å½¢åã
     *
     * @param {number} x - xã
     * @param {number} y - yã
     */
    isCover(x, y) {
        var originPos = this.getTansform(x, y);
        x = originPos[0];
        y = originPos[1];

        // å¿«éé¢å¤å¹¶ä¿çå¤æ­ç©å½¢
        var rect = this.style.__rect;
        if (!rect) {
            rect = this.style.__rect = this.getRect(this.style);
        }

        if (x >= rect.x
            && x <= (rect.x + rect.width)
            && y >= rect.y
            && y <= (rect.y + rect.height)
        ) {
            // ç©å½¢å
            return SUtil.Util_area.isInside(this, this.style, x, y);
        }

        return false;
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.prototype.drawText
     * @description ç»å¶éå ææ¬ã
     *
     * @param {CanvasRenderingContext2D} ctx - Context2D ä¸ä¸æã
     * @param {string} style - æ ·å¼ã
     * @param {string} normalStyle - normalStyle é»è®¤æ ·å¼ï¼ç¨äºå®ä½æå­æ¾ç¤ºã
     */
    drawText(ctx, style, normalStyle) {
        if (typeof(style.text) == 'undefined' || style.text === false) {
            return;
        }
        // å­ä½é¢è²ç­ç¥
        var textColor = style.textColor || style.color || style.strokeColor;
        ctx.fillStyle = textColor;

        // ææ¬ä¸å¾å½¢é´ç©ºç½é´é
        var dd = 10;
        var al;         // ææ¬æ°´å¹³å¯¹é½
        var bl;         // ææ¬åç´å¯¹é½
        var tx;         // ææ¬æ¨ªåæ 
        var ty;         // ææ¬çºµåæ 

        var textPosition = style.textPosition       // ç¨æ·å®ä¹
            || this.textPosition     // shapeé»è®¤
            || 'top';                // å¨å±é»è®¤

        // Smic æ¹æ³ä¿®æ¹ -start
        var __OP = [];
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            __OP = [0, 0];
        } else {
            __OP = this.refOriginalPosition;
        }
        //åä»£ç ï¼
        // Smic æ¹æ³ä¿®æ¹ -end

        switch (textPosition) {
            case 'inside':
            case 'top':
            case 'bottom':
            case 'left':
            case 'right':
                if (this.getRect) {
                    var rect = (normalStyle || style).__rect
                        || this.getRect(normalStyle || style);

                    switch (textPosition) {
                        case 'inside':
                            tx = rect.x + rect.width / 2;
                            ty = rect.y + rect.height / 2;
                            al = 'center';
                            bl = 'middle';
                            if (style.brushType != 'stroke'
                                && textColor == style.color
                            ) {
                                ctx.fillStyle = '#fff';
                            }
                            break;
                        case 'left':
                            tx = rect.x - dd;
                            ty = rect.y + rect.height / 2;
                            al = 'end';
                            bl = 'middle';
                            break;
                        case 'right':
                            tx = rect.x + rect.width + dd;
                            ty = rect.y + rect.height / 2;
                            al = 'start';
                            bl = 'middle';
                            break;
                        case 'top':
                            tx = rect.x + rect.width / 2;
                            ty = rect.y - dd;
                            al = 'center';
                            bl = 'bottom';
                            break;
                        case 'bottom':
                            tx = rect.x + rect.width / 2;
                            ty = rect.y + rect.height + dd;
                            al = 'center';
                            bl = 'top';
                            break;
                    }
                }
                break;
            case 'start':
            case 'end':
                var xStart = 0;
                var xEnd = 0;
                var yStart = 0;
                var yEnd = 0;
                if (typeof style.pointList != 'undefined') {
                    var pointList = style.pointList;
                    if (pointList.length < 2) {
                        // å°äº2ä¸ªç¹å°±ä¸ç»äº~
                        return;
                    }
                    var length = pointList.length;
                    switch (textPosition) {
                        // Smic æ¹æ³ä¿®æ¹ -start
                        case 'start':
                            xStart = pointList[0][0] + __OP[0];
                            xEnd = pointList[1][0] + __OP[0];
                            yStart = pointList[0][1] + __OP[1];
                            yEnd = pointList[1][1] + __OP[1];
                            break;
                        case 'end':
                            xStart = pointList[length - 2][0] + __OP[0];
                            xEnd = pointList[length - 1][0] + __OP[0];
                            yStart = pointList[length - 2][1] + __OP[1];
                            yEnd = pointList[length - 1][1] + __OP[1];
                            break;
                        //åä»£ç ï¼
                        /*
                         case 'start':
                         xStart = pointList[0][0];
                         xEnd = pointList[1][0];
                         yStart = pointList[0][1];
                         yEnd = pointList[1][1];
                         break;
                         case 'end':
                         xStart = pointList[length - 2][0];
                         xEnd = pointList[length - 1][0];
                         yStart = pointList[length - 2][1];
                         yEnd = pointList[length - 1][1];
                         break;
                         */
                        // Smic æ¹æ³ä¿®æ¹ -end
                    }
                } else {
                    // Smic æ¹æ³ä¿®æ¹ -start
                    xStart = (style.xStart + __OP[0]) || 0;
                    xEnd = (style.xEnd + __OP[0]) || 0;
                    yStart = (style.yStart + __OP[1]) || 0;
                    yEnd = (style.yEnd + __OP[1]) || 0;
                    //åä»£ç ï¼
                    /*
                     xStart = style.xStart || 0;
                     xEnd = style.xEnd || 0;
                     yStart = style.yStart || 0;
                     yEnd = style.yEnd || 0;
                     */
                    // Smic æ¹æ³ä¿®æ¹ -end
                }

                switch (textPosition) {
                    case 'start':
                        al = xStart < xEnd ? 'end' : 'start';
                        bl = yStart < yEnd ? 'bottom' : 'top';
                        tx = xStart;
                        ty = yStart;
                        break;
                    case 'end':
                        al = xStart < xEnd ? 'start' : 'end';
                        bl = yStart < yEnd ? 'top' : 'bottom';
                        tx = xEnd;
                        ty = yEnd;
                        break;
                }
                dd -= 4;
                if (xStart && xEnd && xStart != xEnd) {
                    tx -= (al == 'end' ? dd : -dd);
                } else {
                    al = 'center';
                }

                if (yStart != yEnd) {
                    ty -= (bl == 'bottom' ? dd : -dd);
                } else {
                    bl = 'middle';
                }
                break;
            case 'specific':
                tx = style.textX || 0;
                ty = style.textY || 0;
                al = 'start';
                bl = 'middle';
                break;
        }

        // Smic æ¹æ³ä¿®æ¹ -start
        if (style.labelXOffset && !isNaN(style.labelXOffset)) {
            tx += style.labelXOffset;
        }
        if (style.labelYOffset && !isNaN(style.labelYOffset)) {
            ty += style.labelYOffset;
        }
        //åä»£ç ï¼
        // Smic æ¹æ³ä¿®æ¹ -end

        if (tx != null && ty != null) {
            Shape_Shape._fillText(
                ctx,
                style.text,
                tx, ty,
                style.textFont,
                style.textAlign || al,
                style.textBaseline || bl
            );
        }
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.prototype.modSelf
     * @description å¾å½¢åçæ¹å
     */
    modSelf() {
        this.__dirty = true;
        if (this.style) {
            this.style.__rect = null;
        }
        if (this.highlightStyle) {
            this.highlightStyle.__rect = null;
        }
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.prototype.isSilent
     * @description å¾å½¢æ¯å¦ä¼è§¦åäºä»¶ï¼éè¿ bind ç»å®çäºä»¶
     */
    isSilent() {
        return !(
            this.hoverable || this.draggable || this.clickable
            || this.onmousemove || this.onmouseover || this.onmouseout
            || this.onmousedown || this.onmouseup || this.onclick
            || this.ondragenter || this.ondragover || this.ondragleave
            || this.ondrop
        );
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.prototype.setCtxGlobalAlpha
     * @description è®¾ç½® Cavans ä¸ä¸æå¨å±éæåº¦
     *
     * @param {Object} _ctx - Cavans ä¸ä¸æ
     * @param {string} type - one of 'stroke', 'fill', or 'reset'
     * @param {Object} style - Symbolizer hash
     */
    setCtxGlobalAlpha(_ctx, type, style) {
        if (type === "fill") {
            _ctx.globalAlpha = typeof(style["fillOpacity"]) === "undefined" ? (typeof(style["opacity"]) === "undefined" ? 1 : style['opacity']) : style['fillOpacity'];
        } else if (type === "stroke") {
            _ctx.globalAlpha = typeof(style["strokeOpacity"]) === "undefined" ? (typeof(style["opacity"]) === "undefined" ? 1 : style['opacity']) : style['strokeOpacity'];
        } else {
            _ctx.globalAlpha = typeof(style["opacity"]) === "undefined" ? 1 : style['opacity'];
        }
    }

    /**
     * @function SuperMap.LevelRenderer.Shape.prototype._fillText
     * @description å¡«åææ¬
     */
    static _fillText(ctx, text, x, y, textFont, textAlign, textBaseline) {
        if (textFont) {
            ctx.font = textFont;
        }
        ctx.textAlign = textAlign;
        ctx.textBaseline = textBaseline;
        var rect = Shape_Shape._getTextRect(
            text, x, y, textFont, textAlign, textBaseline
        );

        text = (text + '').split('\n');

        var lineHeight = SUtil.Util_area.getTextHeight('ZH', textFont);

        switch (textBaseline) {
            case 'top':
                y = rect.y;
                break;
            case 'bottom':
                y = rect.y + lineHeight;
                break;
            default:
                y = rect.y + lineHeight / 2;
        }

        for (var i = 0, l = text.length; i < l; i++) {
            ctx.fillText(text[i], x, y);
            y += lineHeight;
        }
    }

    /**
     * @function SuperMap.LevelRenderer.Shape._getTextRect
     * @description è¿åç©å½¢åºåï¼ç¨äºå±é¨å·æ°åæå­å®ä½
     *
     * @param {string} text - textã
     * @param {number} x - xã
     * @param {number} y - yã
     * @param {string} textFont -  textFontã
     * @param {string} textAlign - textAlignã
     * @param {string} textBaseline - textBaselineã
     * @return {Object} ç©å½¢åºåã
     */
    static _getTextRect(text, x, y, textFont, textAlign, textBaseline) {
        var width = SUtil.Util_area.getTextWidth(text, textFont);
        var lineHeight = SUtil.Util_area.getTextHeight('ZH', textFont);

        text = (text + '').split('\n');

        switch (textAlign) {
            case 'end':
            case 'right':
                x -= width;
                break;
            case 'center':
                x -= (width / 2);
                break;
        }

        switch (textBaseline) {
            case 'top':
                break;
            case 'bottom':
                y -= lineHeight * text.length;
                break;
            default:
                y -= lineHeight * text.length / 2;
        }

        return {
            x: x,
            y: y,
            width: width,
            height: lineHeight * text.length
        };
    }

}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/SmicPoint.js


/**
 * @private
 * @class  SuperMap.LevelRenderer.Shape.SmicPoint
 * @category Visualization Theme
 * @classdesc ç¹ã
 * @extends SuperMap.LevelRenderer.Shape
 * @example
 *   var shape = new SuperMap.LevelRenderer.Shape.SmicPoint({
 *       style: {
 *           x: 100,
 *           y: 100,
 *           r: 40,
 *           brushType: 'both',
 *           color: 'blue',
 *           strokeColor: 'red',
 *           lineWidth: 3,
 *           text: 'point'
 *       }
 *   });
 *   levelRenderer.addShape(shape);
 *
 *
 */
class SmicPoint_SmicPoint extends Shape_Shape {

    /**
     * @member {Object} SuperMap.LevelRenderer.Shape.SmicPoint.prototype.style
     * @description ç»å¶æ ·å¼ã
     *
     * @param {number} style.x - åå¿xåæ ï¼å¿è®¾åæ°ã
     * @param {number} style.y - åå¿yåæ ï¼å¿è®¾åæ°ã
     * @param {number} style.r - åå¾ï¼å¿è®¾åæ°ã
     * @param {string} style.brushType - ç»ç¬ç±»åãå¯è®¾å¼ï¼"fill", "stroke", "both"ãé»è®¤å¼ï¼"fill"ã
     * @param {string} style.color - å¡«åé¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} style.strokeColor - æè¾¹é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} style.lineCape - çº¿å¸½æ ·å¼ãå¯è®¾å¼ï¼"butt", "round", "square"ãé»è®¤å¼ï¼"butt"ã
     * @param {number} style.lineWidth - æè¾¹å®½åº¦ãé»è®¤å¼ï¼1ã
     * @param {number} style.opacity - ç»å¶éæåº¦ãé»è®¤å¼ï¼1ã
     * @param {number} style.shadowBlur - é´å½±æ¨¡ç³åº¦ï¼å¤§äº0ææãé»è®¤å¼ï¼0ã
     * @param {number} style.shadowColor - é´å½±é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {number} style.shadowOffsetX - é´å½±æ¨ªååç§»ãé»è®¤å¼ï¼0ã
     * @param {number} style.shadowOffsetY -  é´å½±çºµååç§»ãé»è®¤å¼ï¼0ã
     * @param {string} style.text -  å¾å½¢ä¸­çéå ææ¬ãé»è®¤å¼ï¼""ã
     * @param {string} style.textColor - ææ¬é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} style.textFont - éå ææ¬æ ·å¼ãç¤ºä¾:'bold 18px verdana'ã
     * @param {string} style.textPosition - éå ææ¬ä½ç½®ãå¯è®¾å¼ï¼"inside", "left", "right", top", "bottom", "end"ãé»è®¤å¼ï¼"end"ã
     * @param {string} style.textAlign - éå ææ¬æ°´å¹³å¯¹é½ãå¯è®¾å¼ï¼"start", "end", "left", "right", "center"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
     * @param {string} style.textBaseline - éå ææ¬åç´å¯¹é½ãå¯è®¾å¼ï¼"top", "bottom", "middle", "alphabetic", "hanging", "ideographic"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
     */
    //æå¼æ¥å£ style


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicPoint.constructor
     * @description æé å½æ°ã
     *
     * @param {Array} options - shape çéç½®ï¼optionsï¼é¡¹ï¼å¯ä»¥æ¯ shape çèªæå±æ§ï¼ä¹å¯ä»¥æ¯èªå®ä¹çå±æ§ã
     *
     */
    constructor(options) {
        super(options);
        /**
         * @member {string} SuperMap.LevelRenderer.Shape.SmicPoint.prototype.type
         * @description å¾å½¢ç±»åã
         */
        this.type = 'smicpoint';
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }

        this.CLASS_NAME = "SuperMap.LevelRenderer.Shape.SmicPoint";
    }


    /**
     * @function cdestroy
     * @description éæ¯å¯¹è±¡ï¼éæ¾èµæºãè°ç¨æ­¤å½æ°åææå±æ§å°è¢«ç½®ä¸º nullã
     */
    destroy() {
        this.type = null;
        super.destroy();
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicPoint.prototype.buildPath
     * @description åå»ºç¹è§¦ã
     *
     * @param {CanvasRenderingContext2D} ctx - Context2D ä¸ä¸æã
     * @param {Object} style - styleã
     *
     */
    buildPath(ctx, style) {
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        var __OP = this.refOriginalPosition;

        ctx.arc(style.x + __OP[0], style.y + __OP[1], style.r, 0, Math.PI * 2, true);
        return;
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicPoint.prototype.getRect
     * @description è®¡ç®è¿åç¹çåå´çç©å½¢ãè¯¥åå´çæ¯ç´æ¥ä»åä¸ªæ§å¶ç¹è®¡ç®ï¼å¹¶éæå°åå´çã
     *
     * @param {Object} style - style
     * @return {Object} è¾¹æ¡å¯¹è±¡ãåå«å±æ§ï¼xï¼yï¼widthï¼heightã
     */
    getRect(style) {
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        var __OP = this.refOriginalPosition;

        if (style.__rect) {
            return style.__rect;
        }

        var lineWidth;
        if (style.brushType == 'stroke' || style.brushType == 'fill') {
            lineWidth = style.lineWidth || 1;
        } else {
            lineWidth = 0;
        }
        style.__rect = {
            x: Math.round((style.x + __OP[0]) - style.r - lineWidth / 2),
            y: Math.round((style.y + __OP[1]) - style.r - lineWidth / 2),
            width: style.r * 2 + lineWidth,
            height: style.r * 2 + lineWidth
        };

        return style.__rect;
    }

}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/SmicText.js



/**
 * @private
 * @class  SuperMap.LevelRenderer.Shape.SmicText
 * @category Visualization Theme
 * @extends {SuperMap.LevelRenderer.Shape}
 * @example
 *   var shape = new SuperMap.LevelRenderer.Shape.SmicText({
 *         style: {
 *             text: 'Label',
 *             x: 100,
 *             y: 100,
 *             textFont: '14px Arial'
 *         }
 *     });
 *   levelRenderer.addShape(shape);
 *
 */
class SmicText_SmicText extends Shape_Shape {

    /**
     * @member {Object} SuperMap.LevelRenderer.Shape.SmicText.prototype.style
     * @description ç»å¶æ ·å¼ã
     *
     * @param {number} style.x - æ¨ªåæ ï¼å¿è®¾åæ°ã
     * @param {number} style.y - çºµåæ ï¼å¿è®¾åæ°ã
     * @param {string} style.text - å¾å½¢ä¸­çéå ææ¬ãé»è®¤å¼ï¼""ã
     * @param {number} style.maxWidth - æå¤§å®½åº¦éå¶ãé»è®¤å¼ï¼nullã
     * @param {string} style.textFont - éå ææ¬æ ·å¼ãç¤ºä¾:'bold 18px verdana'ã
     * @param {string} style.textAlign - éå ææ¬æ°´å¹³å¯¹é½ãå¯è®¾å¼ï¼"start", "end", "left", "right", "center"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
     * @param {string} style.textBaseline - éå ææ¬åç´å¯¹é½ãå¯è®¾å¼ï¼"top", "bottom", "middle", "alphabetic", "hanging", "ideographic"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
     * @param {string} style.brushType -ç»ç¬ç±»åãå¯è®¾å¼ï¼"fill", "stroke", "both"ãé»è®¤å¼ï¼"fill"ã
     * @param {string} style.color - å¡«åé¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} style.strokeColor - æè¾¹é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {number} style.lineWidth - æè¾¹å®½åº¦ãé»è®¤å¼ï¼1ã
     * @param {number} style.opacity - ç»å¶éæåº¦ãé»è®¤å¼ï¼1ã
     * @param {number} style.shadowBlur - é´å½±æ¨¡ç³åº¦ï¼å¤§äº0ææãé»è®¤å¼ï¼0ã
     * @param {number} style.shadowColor - é´å½±é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {number} style.shadowOffsetX - é´å½±æ¨ªååç§»ãé»è®¤å¼ï¼0ã
     * @param {number} style.shadowOffsetY - é´å½±çºµååç§»ãé»è®¤å¼ï¼0ã
     */
    //æå¼æ¥å£ style


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicText.constructor
     * @description æé å½æ°ã
     *
     * @param {Array} options - shape çéç½®ï¼optionsï¼é¡¹ï¼å¯ä»¥æ¯ shape çèªæå±æ§ï¼ä¹å¯ä»¥æ¯èªå®ä¹çå±æ§ã
     *
     */
    constructor(options) {
        super(options);
        /**
         * @member {string} SuperMap.LevelRenderer.Shape.SmicText.prototype.type
         * @description å¾å½¢ç±»å.
         */
        this.type = 'smictext';
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        this.CLASS_NAME = "SuperMap.LevelRenderer.Shape.SmicText";
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicText.prototype.destroy
     * @description éæ¯å¯¹è±¡ï¼éæ¾èµæºãè°ç¨æ­¤å½æ°åææå±æ§å°è¢«ç½®ä¸º nullã
     */
    destroy() {
        this.type = null;

        super.destroy();
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicText.prototype.brush
     * @description ç¬è§¦ã
     *
     * @param {CanvasRenderingContext2D} ctx - Context2D ä¸ä¸æã
     * @param {boolean} isHighlight - æ¯å¦ä½¿ç¨é«äº®å±æ§ã
     *
     */
    brush(ctx, isHighlight) {
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        var __OP = this.refOriginalPosition;

        var style = this.style;
        if (isHighlight) {
            // æ ¹æ®styleæ©å±é»è®¤é«äº®æ ·å¼
            style = this.getHighlightStyle(
                style, this.highlightStyle || {}
            );
        }

        if (typeof(style.text) == 'undefined' || style.text === false) {
            return;
        }

        ctx.save();
        this.doClip(ctx);

        this.setContext(ctx, style);

        // è®¾ç½®transform
        this.setTransform(ctx);

        if (style.textFont) {
            ctx.font = style.textFont;
        }
        ctx.textAlign = style.textAlign || 'start';
        ctx.textBaseline = style.textBaseline || 'middle';

        var text = (style.text + '').split('\n');
        var lineHeight = SUtil.Util_area.getTextHeight('ZH', style.textFont);
        var rect = this.getRectNoRotation(style);
        // var x = style.x;
        var x = style.x + __OP[0];
        var y;
        if (style.textBaseline == 'top') {
            y = rect.y;
        } else if (style.textBaseline == 'bottom') {
            y = rect.y + lineHeight;
        } else {
            y = rect.y + lineHeight / 2;
        }
        var ox = style.x + __OP[0];
        var oy = style.y + __OP[1];

        //ææ¬ç»å¶
        for (var i = 0, l = text.length; i < l; i++) {
            //æ¯å¦æ¸²æç©å½¢èæ¯åé¢è²
            if (style.labelRect) {
                //+4,-2æ¯ä¸ºäºè®©æå­è·è¾¹æ¡å·¦å³è¾¹ç¼æç¹é´é
                ctx.fillRect(rect.x - 2, rect.y, rect.width + 4, rect.height);
                ctx.fillStyle = style.strokeColor;
                ctx.strokeRect(rect.x - 2, rect.y, rect.width + 4, rect.height);
                ctx.fillStyle = style.textColor;
            }

            switch (style.brushType) {
                case 'stroke':
                    this.setCtxGlobalAlpha(ctx, "stroke", style);
                    if (style.textRotation && style.textRotation !== 0) {
                        ctx.save();
                        ctx.translate(ox, oy);
                        ctx.rotate(style.textRotation * Math.PI / 180);
                        if (style.textBaseline == 'top') {
                            if (style.maxWidth) {
                                ctx.strokeText(text[i], 0, lineHeight * i, style.maxWidth);
                            } else {
                                ctx.strokeText(text[i], 0, lineHeight * i);
                            }
                        } else if (style.textBaseline == 'bottom') {
                            if (style.maxWidth) {
                                ctx.strokeText(text[i], 0, lineHeight * (i + 1) - rect.height, style.maxWidth);
                            } else {
                                ctx.strokeText(text[i], 0, lineHeight * (i + 1) - rect.height);
                            }
                        } else {
                            if (style.maxWidth) {
                                ctx.strokeText(text[i], 0, lineHeight * (i + 1) - rect.height / 2 - lineHeight / 2, style.maxWidth);
                            } else {
                                ctx.strokeText(text[i], 0, lineHeight * (i + 1) - rect.height / 2 - lineHeight / 2);
                            }
                        }
                        ctx.restore();
                    } else {
                        if (style.maxWidth) {
                            ctx.strokeText(text[i], x, y, style.maxWidth);
                        } else {
                            ctx.strokeText(text[i], x, y);
                        }
                    }
                    this.setCtxGlobalAlpha(ctx, "reset", style);
                    break;
                case 'both':
                    if (style.textRotation && style.textRotation !== 0) {
                        ctx.save();
                        ctx.translate(ox, oy);
                        ctx.rotate(style.textRotation * Math.PI / 180);
                        if (style.textBaseline == 'top') {
                            if (style.maxWidth) {
                                this.setCtxGlobalAlpha(ctx, "fill", style);
                                ctx.fillText(text[i], 0, lineHeight * i, style.maxWidth);
                                this.setCtxGlobalAlpha(ctx, "reset", style);

                                this.setCtxGlobalAlpha(ctx, "stroke", style);
                                ctx.strokeText(text[i], 0, lineHeight * i, style.maxWidth);
                                this.setCtxGlobalAlpha(ctx, "reset", style);
                            } else {
                                this.setCtxGlobalAlpha(ctx, "fill", style);
                                ctx.fillText(text[i], 0, lineHeight * i);
                                this.setCtxGlobalAlpha(ctx, "reset", style);

                                this.setCtxGlobalAlpha(ctx, "stroke", style);
                                ctx.strokeText(text[i], 0, lineHeight * i);
                                this.setCtxGlobalAlpha(ctx, "reset", style);
                            }
                        } else if (style.textBaseline == 'bottom') {
                            if (style.maxWidth) {
                                this.setCtxGlobalAlpha(ctx, "fill", style);
                                ctx.fillText(text[i], 0, lineHeight * (i + 1) - rect.height, style.maxWidth);
                                this.setCtxGlobalAlpha(ctx, "reset", style);

                                this.setCtxGlobalAlpha(ctx, "stroke", style);
                                ctx.strokeText(text[i], 0, lineHeight * (i + 1) - rect.height, style.maxWidth);
                                this.setCtxGlobalAlpha(ctx, "reset", style);
                            } else {
                                this.setCtxGlobalAlpha(ctx, "fill", style);
                                ctx.fillText(text[i], 0, lineHeight * (i + 1) - rect.height);
                                this.setCtxGlobalAlpha(ctx, "reset", style);

                                this.setCtxGlobalAlpha(ctx, "stroke", style);
                                ctx.strokeText(text[i], 0, lineHeight * (i + 1) - rect.height);
                                this.setCtxGlobalAlpha(ctx, "reset", style);
                            }
                        } else {
                            if (style.maxWidth) {
                                this.setCtxGlobalAlpha(ctx, "fill", style);
                                ctx.fillText(text[i], 0, lineHeight * (i + 1) - rect.height / 2 - lineHeight / 2, style.maxWidth);
                                this.setCtxGlobalAlpha(ctx, "reset", style);

                                this.setCtxGlobalAlpha(ctx, "stroke", style);
                                ctx.strokeText(text[i], 0, lineHeight * (i + 1) - rect.height / 2 - lineHeight / 2, style.maxWidth);
                                this.setCtxGlobalAlpha(ctx, "reset", style);
                            } else {
                                this.setCtxGlobalAlpha(ctx, "fill", style);
                                ctx.fillText(text[i], 0, lineHeight * (i + 1) - rect.height / 2 - lineHeight / 2);
                                this.setCtxGlobalAlpha(ctx, "reset", style);

                                this.setCtxGlobalAlpha(ctx, "stroke", style);
                                ctx.strokeText(text[i], 0, lineHeight * (i + 1) - rect.height / 2 - lineHeight / 2);
                                this.setCtxGlobalAlpha(ctx, "reset", style);
                            }
                        }
                        ctx.restore();
                    } else {
                        if (style.maxWidth) {
                            this.setCtxGlobalAlpha(ctx, "fill", style);
                            ctx.fillText(text[i], x, y, style.maxWidth);
                            this.setCtxGlobalAlpha(ctx, "reset", style);

                            this.setCtxGlobalAlpha(ctx, "stroke", style);
                            ctx.strokeText(text[i], x, y, style.maxWidth);
                            this.setCtxGlobalAlpha(ctx, "reset", style);
                        } else {
                            this.setCtxGlobalAlpha(ctx, "fill", style);
                            ctx.fillText(text[i], x, y);
                            this.setCtxGlobalAlpha(ctx, "reset", style);

                            this.setCtxGlobalAlpha(ctx, "stroke", style);
                            ctx.strokeText(text[i], x, y);
                            this.setCtxGlobalAlpha(ctx, "reset", style);
                        }
                    }
                    break;
                default:
                    //fill or others
                    this.setCtxGlobalAlpha(ctx, "fill", style);
                    if (style.textRotation && style.textRotation !== 0) {
                        ctx.save();
                        ctx.translate(ox, oy);
                        ctx.rotate(style.textRotation * Math.PI / 180);
                        if (style.textBaseline == 'top') {
                            if (style.maxWidth) {
                                ctx.fillText(text[i], 0, lineHeight * i, style.maxWidth);
                            } else {
                                ctx.fillText(text[i], 0, lineHeight * i);
                            }
                        } else if (style.textBaseline == 'bottom') {
                            if (style.maxWidth) {
                                ctx.fillText(text[i], 0, lineHeight * (i + 1) - rect.height, style.maxWidth);
                            } else {
                                ctx.fillText(text[i], 0, lineHeight * (i + 1) - rect.height);
                            }
                        } else {
                            if (style.maxWidth) {
                                ctx.fillText(text[i], 0, lineHeight * (i + 1) - rect.height / 2 - lineHeight / 2, style.maxWidth);
                            } else {
                                ctx.fillText(text[i], 0, lineHeight * (i + 1) - rect.height / 2 - lineHeight / 2);
                            }
                        }
                        ctx.restore();
                    } else {
                        if (style.maxWidth) {
                            ctx.fillText(text[i], x, y, style.maxWidth);
                        } else {
                            ctx.fillText(text[i], x, y);
                        }
                    }
                    this.setCtxGlobalAlpha(ctx, "reset", style);
            }
            y += lineHeight;
        }

        ctx.restore();
        return;
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicText.prototype.getRect
     * @description è¿åæå­åå´çç©å½¢
     */
    getRect(style) {
        if (style.__rect) {
            return style.__rect;
        }

        var left, top, right, bottom
        var tbg = this.getTextBackground(style, true);
        for (var i = 0, len = tbg.length; i < len; i++) {
            var poi = tbg[i];

            //ç¨ç¬¬ä¸ä¸ªç¹åå§å
            if (i == 0) {
                left = poi[0];
                right = poi[0];
                top = poi[1];
                bottom = poi[1];
            } else {
                if (poi[0] < left) {
                    left = poi[0]
                }
                if (poi[0] > right) {
                    right = poi[0]
                }
                if (poi[1] < top) {
                    top = poi[1]
                }
                if (poi[1] > bottom) {
                    bottom = poi[1]
                }
            }
        }

        style.__rect = {
            x: left,
            y: top,
            width: right - left,
            height: bottom - top
        };

        return style.__rect;
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicText.prototype.getRectNoRotation
     * @description è¿åå¿½ç¥æè½¬åmaxWidthæ¶æå­åå´çç©å½¢
     */
    getRectNoRotation(style) {

        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        var __OP = this.refOriginalPosition;

        var lineHeight = SUtil.Util_area.getTextHeight('ZH', style.textFont);

        var width = SUtil.Util_area.getTextWidth(style.text, style.textFont);
        var height = SUtil.Util_area.getTextHeight(style.text, style.textFont);

        //å¤çæå­ä½ç½®ï¼æ³¨ï¼ææ¬çç»å¶æ¯ç±æ­¤ rect å³å®
        var textX = style.x + __OP[0];                 // é»è®¤start == left
        if (style.textAlign == 'end' || style.textAlign == 'right') {
            textX -= width;
        } else if (style.textAlign == 'center') {
            textX -= (width / 2);
        }

        var textY;
        if (style.textBaseline == 'top') {
            // textY = style.y;
            textY = style.y + __OP[1];
        } else if (style.textBaseline == 'bottom') {
            textY = (style.y + __OP[1]) - height;
        } else {
            // middle
            textY = (style.y + __OP[1]) - height / 2;
        }

        var isWidthChangeByMaxWidth = false;
        var widthBeforeChangeByMaxWidth;

        //å¤ç maxWidth
        if (style.maxWidth) {
            var maxWidth = parseInt(style.maxWidth);
            if (maxWidth < width) {
                widthBeforeChangeByMaxWidth = width;
                isWidthChangeByMaxWidth = true;
                width = maxWidth;
            }

            textX = style.x + __OP[0];
            if (style.textAlign == 'end' || style.textAlign == 'right') {
                textX -= width;
            } else if (style.textAlign == 'center') {
                textX -= (width / 2);
            }
        }

        //å¤çæä½å­
        if (style.textFont) {
            var textFont = style.textFont;
            var textFontStr = textFont.toLowerCase()
            if (textFontStr.indexOf("italic") > -1) {
                if (widthBeforeChangeByMaxWidth && isWidthChangeByMaxWidth === true) {
                    width += (lineHeight / 3) * (width / widthBeforeChangeByMaxWidth);
                } else {
                    width += lineHeight / 3;
                }
            }
        }

        var rect = {
            x: textX,
            y: textY,
            width: width,
            height: height
        };

        return rect;
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicText.prototype.getTextBackground
     * @description è·åææ¬èæ¯æ¡èå´
     * 
     * @param {Object} style - æ ·å¼ã
     * @param {boolean} redo - æ¯å¦å¼ºå¶éæ°è®¡ç® textBackgroundã
     */
    getTextBackground(style, redo) {
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        var __OP = this.refOriginalPosition;

        if ((!redo || redo === false) && style.__textBackground) {
            return style.__textBackground;
        }

        //ä¸æè½¬æ¶ç©å½¢æ¡
        var rect = this.getRectNoRotation(style);

        //æè½¬ä¸­å¿ç¹
        var ox = style.x + __OP[0];
        var oy = style.y + __OP[1];

        //èæ¯æ¡
        var background = [];

        if (style.textRotation && style.textRotation !== 0) {
            let textRotation = style.textRotation;
            let ltPoi = this.getRotatedLocation(rect.x, rect.y, ox, oy, textRotation);
            let rtPoi = this.getRotatedLocation(rect.x + rect.width, rect.y, ox, oy, textRotation);
            let rbPoi = this.getRotatedLocation(rect.x + rect.width, rect.y + rect.height, ox, oy, textRotation);
            let lbPoi = this.getRotatedLocation(rect.x, rect.y + rect.height, ox, oy, textRotation);

            background.push(ltPoi);
            background.push(rtPoi);
            background.push(rbPoi);
            background.push(lbPoi);
        } else {
            let ltPoi = [rect.x, rect.y];
            let rtPoi = [rect.x + rect.width, rect.y];
            let rbPoi = [rect.x + rect.width, rect.y + rect.height];
            let lbPoi = [rect.x, rect.y + rect.height];

            background.push(ltPoi);
            background.push(rtPoi);
            background.push(rbPoi);
            background.push(lbPoi);
        }

        style.__textBackground = background;

        return style.__textBackground;
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicText.prototype.getRotatedLocation
     * @description è·åä¸ä¸ªç¹ç»æè½¬ä¸­å¿é¡ºæ¶éæè½¬åçä½ç½®ãï¼æ­¤æ¹æ³ç¨äºå±å¹åæ ï¼
     * 
     * @param {number} x - æè½¬ç¹æ¨ªåæ ã
     * @param {number} y - æè½¬ç¹çºµåæ ã
     * @param {number} rx - æè½¬ä¸­å¿ç¹æ¨ªåæ ã
     * @param {number} ry - æè½¬ä¸­å¿ç¹çºµåæ ã
     * @param {number} angle - æè½¬è§åº¦ï¼åº¦ï¼ã
     * @return {Array} æè½¬åçåæ ä½ç½®ï¼é¿åº¦ä¸º 2 çä¸ç»´æ°ç»ï¼æ°ç»ç¬¬ä¸ä¸ªåç´ è¡¨ç¤º x åæ ï¼ç¬¬äºä¸ªåç´ è¡¨ç¤º y åæ ã
     */
    getRotatedLocation(x, y, rx, ry, angle) {
        var loc = new Array(), x0, y0;

        y = -y;
        ry = -ry;
        angle = -angle;//é¡ºæ¶éæè½¬
        x0 = (x - rx) * Math.cos((angle / 180) * Math.PI) - (y - ry) * Math.sin((angle / 180) * Math.PI) + rx;
        y0 = (x - rx) * Math.sin((angle / 180) * Math.PI) + (y - ry) * Math.cos((angle / 180) * Math.PI) + ry;

        loc[0] = x0;
        loc[1] = -y0;
        return loc;
    }

}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/SmicCircle.js


/**
 * @private
 * @class  SuperMap.LevelRenderer.Shape.SmicCircle
 * @category Visualization Theme
 * @classdesc åå½¢
 * @extends SuperMap.LevelRenderer.Shape
 * @example 
 *   var shape = new SuperMap.LevelRenderer.Shape.SmicCircle({
 *         style: {
 *             x: 100,
 *             y: 100,
 *             r: 60,
 *             brushType: "both",
 *             color: "blue",
 *             strokeColor: "red",
 *             lineWidth: 3,
 *             text: "Circle"
 *         }
 *   });
 *   levelRenderer.addShape(shape);
 * 
 *
 */
class SmicCircle_SmicCircle extends Shape_Shape {

    /**
     * @member {Object} SuperMap.LevelRenderer.Shape.SmicCircle.prototype.style
     * @description ç»å¶æ ·å¼ã
     *
     * @param {number} x - åå¿xåæ ,å¿è®¾åæ°
     * @param {number} y - åå¿yåæ ï¼å¿è®¾åæ°
     * @param {number} r - åå¾ï¼å¿è®¾åæ°
     * @param {string} brushType - ç»ç¬ç±»åãå¯è®¾å¼ï¼"fill", "stroke", "both"ãé»è®¤å¼ï¼"fill"ã
     * @param {string} color - å¡«åé¢è²,é»è®¤å¼"#000000"
     * @param {string} strokeColor - æè¾¹é¢è²,é»è®¤å¼ä¸º'#000000'
     * @param {string} lineCape â çº¿å¸½æ ·å¼ï¼å¯ä»¥æ¯ butt, round, squareï¼é»è®¤æ¯butt
     * @param {number} lineWidth - æè¾¹å®½åº¦ãé»è®¤æ¯1
     * @param {number} opacity - ç»å¶éæåº¦ãé»è®¤æ¯1ï¼ä¸éæ
     * @param {number} shadowBlur - é´å½±æ¨¡ç³åº¦ï¼å¤§äº0ææï¼é»è®¤æ¯0
     * @param {string} shadowColor - é´å½±é¢è²ï¼é»è®¤æ¯'#000000'
     * @param {number} shadowOffsetX - é´å½±æ¨ªååç§»ï¼é»è®¤æ¯0
     * @param {number} shadowOffsetY - é´å½±çºµååç§»ï¼é»è®¤æ¯0
     * @param {string} text - å¾å½¢ä¸­çéå ææ¬ï¼é»è®¤æ¯0
     * @param {string} textColor - ææ¬é¢è²ï¼é»è®¤æ¯'#000000'
     * @param {string} textFont - éå ææ¬æ ·å¼ï¼eg:'bold 18px verdana'
     * @param {string} textPosition - éå ææ¬ä½ç½®, å¯ä»¥æ¯ inside, left, right, top, bottom
     * @param {string} textAlign - é»è®¤æ ¹æ®textPositionèªå¨è®¾ç½®ï¼éå ææ¬æ°´å¹³å¯¹é½ãå¯ä»¥æ¯start, end, left, right, center
     * @param {string} textBaseline é»è®¤æ ¹æ®textPositionèªå¨è®¾ç½®ï¼éå ææ¬åç´å¯¹é½ãå¯ä»¥æ¯top, bottom, middle, alphabetic, hanging, ideographic
     */
    //æå¼æ¥å£ style


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicCircle.constructor
     * @description æé å½æ°ã
     *
     * @param {Array} options - shape çéç½®ï¼optionsï¼é¡¹ï¼å¯ä»¥æ¯ shape çèªæå±æ§ï¼ä¹å¯ä»¥æ¯èªå®ä¹çå±æ§ã
     *
     */
    constructor(options) {
        super(options);
        /**
         * @member {string} SuperMap.LevelRenderer.Shape.SmicCircle.prototype.type
         * @description å¾å½¢ç±»åã
         */
        this.type = 'smiccircle';

        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        this.CLASS_NAME = "SuperMap.LevelRenderer.Shape.SmicCircle";
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicCircle.prototype.destroy
     * @description éæ¯å¯¹è±¡ï¼éæ¾èµæºãè°ç¨æ­¤å½æ°åææå±æ§å°è¢«ç½®ä¸º nullã
     */
    destroy() {
        this.type = null;
        super.destroy();
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicCircle.prototype.buildPath
     * @description åå»ºå¾å½¢è·¯å¾ã
     * 
     * @param {CanvasRenderingContext2D} ctx - Context2D ä¸ä¸æã
     * @param {Object} style - styleã
     *
     */
    buildPath(ctx, style) {
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        var __OP = this.refOriginalPosition;

        var x = style.x + __OP[0];   // åå¿x
        var y = style.y + __OP[1];   // åå¿y

        ctx.moveTo(x + style.r, y);
        ctx.arc(x, y, style.r, 0, Math.PI * 2, true);

        return true;
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicCircle.prototype.getRect
     * @description è¿ååå½¢åå´çç©å½¢
     * 
     * @param {Object} style - style
     * @return {Object} è¾¹æ¡å¯¹è±¡ãåå«å±æ§ï¼xï¼yï¼widthï¼heightã
     * 
     */
    getRect(style) {
        if (style.__rect) {
            return style.__rect;
        }

        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        var __OP = this.refOriginalPosition;

        var x = style.x + __OP[0];   // åå¿x
        var y = style.y + __OP[1];   // åå¿y
        var r = style.r;             // år

        var lineWidth;
        if (style.brushType == 'stroke' || style.brushType == 'fill') {
            lineWidth = style.lineWidth || 1;
        } else {
            lineWidth = 0;
        }
        style.__rect = {
            x: Math.round(x - r - lineWidth / 2),
            y: Math.round(y - r - lineWidth / 2),
            width: r * 2 + lineWidth,
            height: r * 2 + lineWidth
        };

        return style.__rect;
    }
}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/SmicPolygon.js




/**
 * @private
 * @class  SuperMap.LevelRenderer.Shape.SmicPolygon
 * @category Visualization Theme
 * @classdesc å¤è¾¹å½¢ã
 * @extends SuperMap.LevelRenderer.Shape
 * @example
 *   var shape = new SuperMap.LevelRenderer.Shape.SmicPolygon({
 *         style: {
 *             // 100x100 çæ­£æ¹å½¢
 *             pointList: [[0, 0], [100, 0], [100, 100], [0, 100]],
 *             color: 'blue'
 *         }
 *   });
 *   levelRenderer.addShape(shape);
 *
 */
class SmicPolygon_SmicPolygon extends Shape_Shape {

    /**
     * @member {Object} SuperMap.LevelRenderer.Shape.SmicPolygon.prototype.style
     * @description ç»å¶æ ·å¼ã
     *
     * @param {Array} pointList - èç¹æ°ç»ï¼äºç»´æ°ç»ãé»è®¤å¼ï¼nullï¼å¿è®¾åæ°ãå¶å½¢å¼å¦ä¸ï¼
     * (code)
     * (start code)
     *  [
     *  [10, 20],         //åä¸ªèç¹
     *  [30, 40],
     *  [25, 30]
     *   ]
     * (end)
     * @param {string} style.smooth - æ¯å¦åå¹³æ»æå¼, å¹³æ»ç®æ³å¯ä»¥éæ© "bezier", "spline"ãé»è®¤å¼ï¼"";
     * @param {number} style.smoothConstraint - å¹³æ»çº¦æã
     * @param {string} style.brushType - ç»ç¬ç±»åãå¯è®¾å¼ï¼"fill", "stroke", "both"ãé»è®¤å¼ï¼"fill"ã
     * @param {string} style.color - å¡«åé¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} style.strokeColor - æè¾¹é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} style.lineCape - çº¿å¸½æ ·å¼ãå¯è®¾å¼ï¼"butt", "round", "square"ãé»è®¤å¼ï¼"butt"ã
     * @param {number} style.lineWidth - æè¾¹å®½åº¦ãé»è®¤å¼ï¼1ã
     * @param {number} style.opacity - ç»å¶éæåº¦ãé»è®¤å¼ï¼1ã
     * @param {number} style.shadowBlur - é´å½±æ¨¡ç³åº¦ï¼å¤§äº0ææãé»è®¤å¼ï¼0ã
     * @param {number} style.shadowColor - é´å½±é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {number} style.shadowOffsetX - é´å½±æ¨ªååç§»ãé»è®¤å¼ï¼0ã
     * @param {number} style.shadowOffsetY - é´å½±çºµååç§»ãé»è®¤å¼ï¼0ã
     * @param {string} style.text - å¾å½¢ä¸­çéå ææ¬ãé»è®¤å¼ï¼""ã
     * @param {string} style.textColor - ææ¬é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} style.textFont - éå ææ¬æ ·å¼ãç¤ºä¾:'bold 18px verdana'ã
     * @param {string} style.textPosition - éå ææ¬ä½ç½®ãå¯è®¾å¼ï¼"inside", "left", "right", top", "bottom", "end"ãé»è®¤å¼ï¼"end"ã
     * @param {string} style.textAlign - éå ææ¬æ°´å¹³å¯¹é½ãå¯è®¾å¼ï¼"start", "end", "left", "right", "center"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
     * @param {string} style.textBaseline - éå ææ¬åç´å¯¹é½ãå¯è®¾å¼ï¼"top", "bottom", "middle", "alphabetic", "hanging", "ideographic"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
     */
    //æå¼æ¥å£ style

    /**
     * @function SuperMap.LevelRenderer.Shape.SmicPolygon.constructor
     * @description æé å½æ°ã
     *
     * @param {Array} options - shape çéç½®ï¼optionsï¼é¡¹ï¼å¯ä»¥æ¯ shape çèªæå±æ§ï¼ä¹å¯ä»¥æ¯èªå®ä¹çå±æ§ã
     *
     */
    constructor(options) {
        super(options);
        /**
         * @member {string} SuperMap.LevelRenderer.Shape.SmicPolygon.prototype.type
         * @description å¾å½¢ç±»å.
         */
        this.type = 'smicpolygon';

        /**
         * @member {Array} SuperMap.LevelRenderer.Shape.SmicPolygon.prototype._holePolygonPointList
         * @description å²æ´é¢å¤è¾¹å½¢é¡¶ç¹æ°ç»ï¼ä¸ç»´æ°ç»ï¼
         *
         */
        this.holePolygonPointLists = null;

        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        this.CLASS_NAME = "SuperMap.LevelRenderer.Shape.SmicPolygon";
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicPolygon.prototype.destroy
     * @description éæ¯å¯¹è±¡ï¼éæ¾èµæºãè°ç¨æ­¤å½æ°åææå±æ§å°è¢«ç½®ä¸º nullã
     */
    destroy() {
        this.type = null;
        this.holePolygonPointLists = null;
        super.destroy();
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicPolygon.prototype.brush
     * @description ç¬è§¦ã
     *
     * @param {CanvasRenderingContext2D} ctx - Context2D ä¸ä¸æã
     * @param {boolean} isHighlight - æ¯å¦ä½¿ç¨é«äº®å±æ§ã
     *
     */
    brush(ctx, isHighlight) {
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }

        var style = this.style;
        if (isHighlight) {
            // æ ¹æ®styleæ©å±é»è®¤é«äº®æ ·å¼
            style = this.getHighlightStyle(
                style,
                this.highlightStyle || {}
            );
        }

        ctx.save();
        this.setContext(ctx, style);

        // è®¾ç½® transform
        this.setTransform(ctx);

        // å fill åstroke
        var hasPath = false;
        if (style.brushType == 'fill' || style.brushType == 'both' || typeof style.brushType == 'undefined') {    // é»è®¤ä¸ºfill
            ctx.beginPath();
            if (style.lineType == 'dashed'
                || style.lineType == 'dotted'
                || style.lineType == 'dot'
                || style.lineType == 'dash'
                || style.lineType == 'dashdot'
                || style.lineType == 'longdash'
                || style.lineType == 'longdashdot'
            ) {
                // ç¹æ®å¤çï¼èçº¿å´ä¸æpathï¼å®çº¿åbuildä¸æ¬¡
                this.buildPath(ctx, {
                        lineType: 'solid',
                        lineWidth: style.lineWidth,
                        pointList: style.pointList
                    }
                );
            } else {
                this.buildPath(ctx, style);
                hasPath = true; // è¿ä¸ªpathè½ç¨
            }
            ctx.closePath();
            this.setCtxGlobalAlpha(ctx, "fill", style);
            ctx.fill();
            this.setCtxGlobalAlpha(ctx, "reset", style);
        }

        if (style.lineWidth > 0 && (style.brushType == 'stroke' || style.brushType == 'both')) {
            if (!hasPath) {
                ctx.beginPath();
                this.buildPath(ctx, style);
            }
            this.setCtxGlobalAlpha(ctx, "stroke", style);
            ctx.stroke();
            this.setCtxGlobalAlpha(ctx, "reset", style);
        }

        this.drawText(ctx, style, this.style);

        //å²æ´
        var hpStyle = Util_Util.cloneObject(style);

        if (hpStyle.pointList) {
            if (this.holePolygonPointLists && this.holePolygonPointLists.length > 0) {
                var holePLS = this.holePolygonPointLists;
                var holePLSen = holePLS.length;
                for (var i = 0; i < holePLSen; i++) {
                    var holePL = holePLS[i];
                    //å²æ´é¢
                    hpStyle.pointList = holePL;

                    ctx.globalCompositeOperation = "destination-out";
                    // å fill åstroke
                    hasPath = false;
                    if (hpStyle.brushType == 'fill' || hpStyle.brushType == 'both' || typeof hpStyle.brushType == 'undefined') {    // é»è®¤ä¸ºfill
                        ctx.beginPath();
                        if (hpStyle.lineType == 'dashed'
                            || hpStyle.lineType == 'dotted'
                            || hpStyle.lineType == 'dot'
                            || hpStyle.lineType == 'dash'
                            || hpStyle.lineType == 'dashdot'
                            || hpStyle.lineType == 'longdash'
                            || hpStyle.lineType == 'longdashdot'
                        ) {
                            // ç¹æ®å¤çï¼èçº¿å´ä¸æpathï¼å®çº¿åbuildä¸æ¬¡
                            this.buildPath(ctx, {
                                    lineType: 'solid',
                                    lineWidth: hpStyle.lineWidth,
                                    pointList: hpStyle.pointList
                                }
                            );
                        } else {
                            this.buildPath(ctx, hpStyle);
                            hasPath = true; // è¿ä¸ªpathè½ç¨
                        }
                        ctx.closePath();
                        this.setCtxGlobalAlpha(ctx, "fill", hpStyle);
                        ctx.fill();
                        this.setCtxGlobalAlpha(ctx, "reset", hpStyle);
                    }

                    if (hpStyle.lineWidth > 0 && (hpStyle.brushType == 'stroke' || hpStyle.brushType == 'both')) {
                        if (!hasPath) {
                            ctx.beginPath();
                            this.buildPath(ctx, hpStyle);
                        }
                        //å¦ææè¾¹ï¼ååå¤ globalCompositeOperation é»è®¤å¼åæè¾¹ã
                        ctx.globalCompositeOperation = "source-over";
                        this.setCtxGlobalAlpha(ctx, "stroke", hpStyle);
                        ctx.stroke();
                        this.setCtxGlobalAlpha(ctx, "reset", hpStyle);
                    } else {
                        ctx.globalCompositeOperation = "source-over";
                    }
                }
            }

        }
        ctx.restore();
        return;
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicPolygon.prototype.buildPath
     * @description åå»ºå¤è¾¹å½¢è·¯å¾ã
     *
     * @param {CanvasRenderingContext2D} ctx - Context2D ä¸ä¸æã
     * @param {Object} style - styleã
     *
     */
    buildPath(ctx, style) {
        if (style.showShadow) {
            ctx.shadowBlur = style.shadowBlur;
            ctx.shadowColor = style.shadowColor;
            ctx.shadowOffsetX = style.shadowOffsetX;
            ctx.shadowOffsetY = style.shadowOffsetY;
        }
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        var __OP = this.refOriginalPosition;

        // è½ç¶è½éç¨ brokenLineï¼ä½åºå±å¾å½¢åºäºæ§è½èèï¼éå¤ä»£ç åå°è°ç¨å§
        var pointList = style.pointList;

        if (pointList.length < 2) {
            // å°äº2ä¸ªç¹å°±ä¸ç»äº~
            return;
        }

        if (style.smooth && style.smooth !== 'spline') {
            var controlPoints = SUtil.SUtil_smoothBezier(pointList, style.smooth, true, style.smoothConstraint, __OP);

            ctx.moveTo(pointList[0][0] + __OP[0], pointList[0][1] + __OP[1]);
            var cp1;
            var cp2;
            var p;
            var len = pointList.length;
            for (var i = 0; i < len; i++) {
                cp1 = controlPoints[i * 2];
                cp2 = controlPoints[i * 2 + 1];
                p = [pointList[(i + 1) % len][0] + __OP[0], pointList[(i + 1) % len][1] + __OP[1]];
                ctx.bezierCurveTo(
                    cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]
                );
            }
        } else {
            if (style.smooth === 'spline') {
                pointList = SUtil.SUtil_smoothSpline(pointList, true, null, __OP);
            }

            if (!style.lineType || style.lineType == 'solid') {
                // é»è®¤ä¸ºå®çº¿
                ctx.moveTo(pointList[0][0] + __OP[0], pointList[0][1] + __OP[1]);
                for (let i = 1; i < pointList.length; i++) {
                    ctx.lineTo(pointList[i][0] + __OP[0], pointList[i][1] + __OP[1]);
                }
                ctx.lineTo(pointList[0][0] + __OP[0], pointList[0][1] + __OP[1]);
            } else if (style.lineType === 'dashed'
                || style.lineType === 'dotted'
                || style.lineType === 'dot'
                || style.lineType === 'dash'
                || style.lineType === 'longdash'
            ) {
                // SMIC-æ¹æ³ä¿®æ¹ - start
                let dashLengthForStyle = style._dashLength || (style.lineWidth || 1) * (style.lineType == 'dashed' ? 5 : 1);
                style._dashLength = dashLengthForStyle;

                let dashLength = (style.lineWidth || 1);
                let pattern1 = dashLength;
                let pattern2 = dashLength;

                //dashed
                if (style.lineType === 'dashed') {
                    pattern1 *= 5;
                    pattern2 *= 5;
                    if (style.lineCap && style.lineCap !== "butt") {
                        pattern1 -= dashLength;
                        pattern2 += dashLength;
                    }
                }

                //dotted
                if (style.lineType === 'dotted') {
                    if (style.lineCap && style.lineCap !== "butt") {
                        pattern1 = 1;
                        pattern2 += dashLength;
                    }
                }

                //dot
                if (style.lineType === 'dot') {
                    pattern2 *= 4;
                    if (style.lineCap && style.lineCap !== "butt") {
                        pattern1 = 1;
                        pattern2 += dashLength;
                    }
                }

                //dash
                if (style.lineType === 'dash') {
                    pattern1 *= 4;
                    pattern2 *= 4;
                    if (style.lineCap && style.lineCap !== "butt") {
                        pattern1 -= dashLength;
                        pattern2 += dashLength;
                    }
                }

                //longdash
                if (style.lineType === 'longdash') {
                    pattern1 *= 8;
                    pattern2 *= 4;
                    if (style.lineCap && style.lineCap !== "butt") {
                        pattern1 -= dashLength;
                        pattern2 += dashLength;
                    }
                }


                ctx.moveTo(pointList[0][0] + __OP[0], pointList[0][1] + __OP[1]);
                for (let i = 1; i < pointList.length; i++) {
                    SUtil.SUtil_dashedLineTo(
                        ctx,
                        pointList[i - 1][0] + __OP[0],
                        pointList[i - 1][1] + __OP[1],
                        pointList[i][0] + __OP[0],
                        pointList[i][1] + __OP[1],
                        dashLength,
                        [pattern1, pattern2]
                    );
                }
                SUtil.SUtil_dashedLineTo(
                    ctx,
                    pointList[pointList.length - 1][0] + __OP[0],
                    pointList[pointList.length - 1][1] + __OP[1],
                    pointList[0][0] + __OP[0],
                    pointList[0][1] + __OP[1],
                    dashLength,
                    [pattern1, pattern2]
                );
            } else if (style.lineType === 'dashdot'
                || style.lineType === 'longdashdot'
            ) {
                let dashLengthForStyle = style._dashLength || (style.lineWidth || 1) * (style.lineType == 'dashed' ? 5 : 1);
                style._dashLength = dashLengthForStyle;

                let dashLength = (style.lineWidth || 1);
                let pattern1 = dashLength;
                let pattern2 = dashLength;
                let pattern3 = dashLength;
                let pattern4 = dashLength;

                //dashdot
                if (style.lineType === 'dashdot') {
                    pattern1 *= 4;
                    pattern2 *= 4;
                    pattern4 *= 4;
                    if (style.lineCap && style.lineCap !== "butt") {
                        pattern1 -= dashLength;
                        pattern2 += dashLength;
                        pattern3 = 1;
                        pattern4 += dashLength;
                    }
                }

                //longdashdot
                if (style.lineType === 'longdashdot') {
                    pattern1 *= 8;
                    pattern2 *= 4;
                    pattern4 *= 4;
                    if (style.lineCap && style.lineCap !== "butt") {
                        pattern1 -= dashLength;
                        pattern2 += dashLength;
                        pattern3 = 1;
                        pattern4 += dashLength;
                    }
                }


                ctx.moveTo(pointList[0][0] + __OP[0], pointList[0][1] + __OP[1]);
                for (let i = 1; i < pointList.length; i++) {
                    SUtil.SUtil_dashedLineTo(
                        ctx,
                        pointList[i - 1][0] + __OP[0],
                        pointList[i - 1][1] + __OP[1],
                        pointList[i][0] + __OP[0],
                        pointList[i][1] + __OP[1],
                        dashLength,
                        [pattern1, pattern2, pattern3, pattern4]
                    );
                }
                SUtil.SUtil_dashedLineTo(
                    ctx,
                    pointList[pointList.length - 1][0] + __OP[0],
                    pointList[pointList.length - 1][1] + __OP[1],
                    pointList[0][0] + __OP[0],
                    pointList[0][1] + __OP[1],
                    dashLength,
                    [pattern1, pattern2, pattern3, pattern4]
                );
            }

        }
        return;
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicPolygon.prototype.getRect
     * @description è®¡ç®è¿åå¤è¾¹å½¢åå´çç©éµãè¯¥åå´çæ¯ç´æ¥ä»åä¸ªæ§å¶ç¹è®¡ç®ï¼å¹¶éæå°åå´çã
     * 
     * @param {Object} style - style
     * @return {Object} è¾¹æ¡å¯¹è±¡ãåå«å±æ§ï¼xï¼yï¼widthï¼heightã
     * 
     */
    getRect(style, refOriginalPosition) {
        var __OP;
        if (!refOriginalPosition) {
            if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
                this.refOriginalPosition = [0, 0];
            }
            __OP = this.refOriginalPosition;
        } else {
            __OP = refOriginalPosition;
        }

        if (style.__rect) {
            return style.__rect;
        }

        var minX = Number.MAX_VALUE;
        var maxX = Number.MIN_VALUE;
        var minY = Number.MAX_VALUE;
        var maxY = Number.MIN_VALUE;

        var pointList = style.pointList;
        for (var i = 0, l = pointList.length; i < l; i++) {
            if (pointList[i][0] + __OP[0] < minX) {
                minX = pointList[i][0] + __OP[0];
            }
            if (pointList[i][0] + __OP[0] > maxX) {
                maxX = pointList[i][0] + __OP[0];
            }
            if (pointList[i][1] + __OP[1] < minY) {
                minY = pointList[i][1] + __OP[1];
            }
            if (pointList[i][1] + __OP[1] > maxY) {
                maxY = pointList[i][1] + __OP[1];
            }
        }

        var lineWidth;
        if (style.brushType == 'stroke' || style.brushType == 'fill') {
            lineWidth = style.lineWidth || 1;
        } else {
            lineWidth = 0;
        }

        style.__rect = {
            x: Math.round(minX - lineWidth / 2),
            y: Math.round(minY - lineWidth / 2),
            width: maxX - minX + lineWidth,
            height: maxY - minY + lineWidth
        };
        return style.__rect;
    }

}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/SmicBrokenLine.js




/**
 * @private
 * @class  SuperMap.LevelRenderer.Shape.SmicBrokenLine
 * @category Visualization Theme
 * @classdesc æçº¿(ic)ã
 * @extends SuperMap.LevelRenderer.Shape
 * @example
 *   var shape = new SuperMap.LevelRenderer.Shape.SmicBrokenLine({
 *         style: {
 *             pointList: [[0, 0], [100, 100], [100, 0]],
 *             smooth: 'bezier',
 *             strokeColor: 'purple'
 *         }
 *   });
 *   levelRenderer.addShape(shape);
 * 
 *
 */
class SmicBrokenLine_SmicBrokenLine extends Shape_Shape {

    /**
     * @member {Object} SuperMap.LevelRenderer.Shape.SmicBrokenLine.prototype.style
     * @description ç»å¶æ ·å¼ã
     *
     * @param {Array} pointList - èç¹æ°ç»ï¼äºç»´æ°ç»ãé»è®¤å¼ï¼nullï¼å¿è®¾åæ°ãå¶å½¢å¼å¦ä¸ï¼
     * (code)
     * (start code)
     *  [
     *  [10, 20],         //åä¸ªèç¹
     *  [30, 40],
     *  [25, 30]
     *   ]
     * (end)
     * @param {string} smooth - æ¯å¦åå¹³æ»æå¼, å¹³æ»ç®æ³å¯ä»¥éæ© "bezier", "spline"ãé»è®¤å¼ï¼"";
     * @param {number} smoothConstraint - å¹³æ»çº¦æã
     * @param {string} strokeColor - æè¾¹é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} lineCape - çº¿å¸½æ ·å¼ãå¯è®¾å¼ï¼"butt", "round", "square"ãé»è®¤å¼ï¼"butt"ã
     * @param {number} lineWidth - æè¾¹å®½åº¦ãé»è®¤å¼ï¼1ã
     * @param {number} opacity - ç»å¶éæåº¦ãé»è®¤å¼ï¼1ã
     * @param {number} shadowBlur - é´å½±æ¨¡ç³åº¦ï¼å¤§äº0ææãé»è®¤å¼ï¼0ã
     * @param {number} shadowColor - é´å½±é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {number} shadowOffsetX - é´å½±æ¨ªååç§»ãé»è®¤å¼ï¼0ã
     * @param {number} shadowOffsetY - é´å½±çºµååç§»ãé»è®¤å¼ï¼0ã
     * @param {string} text - å¾å½¢ä¸­çéå ææ¬ãé»è®¤å¼ï¼""ã
     * @param {string} textColor - ææ¬é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} textFont - éå ææ¬æ ·å¼ãç¤ºä¾:'bold 18px verdana'ã
     * @param {string} textPosition - éå ææ¬ä½ç½®ãå¯è®¾å¼ï¼"inside", "left", "right", top", "bottom", "end"ãé»è®¤å¼ï¼"end"ã
     * @param {string} textAlign - éå ææ¬æ°´å¹³å¯¹é½ãå¯è®¾å¼ï¼"start", "end", "left", "right", "center"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
     * @param {string} textBaseline - éå ææ¬åç´å¯¹é½ãå¯è®¾å¼ï¼"top", "bottom", "middle", "alphabetic", "hanging", "ideographic"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
     */
    //æå¼æ¥å£ style

    /**
     * @function SuperMap.LevelRenderer.Shape.SmicBrokenLine.constructor
     * @description æé å½æ°ã
     *
     * @param {Array} options - shape çéç½®ï¼optionsï¼é¡¹ï¼å¯ä»¥æ¯ shape çèªæå±æ§ï¼ä¹å¯ä»¥æ¯èªå®ä¹çå±æ§ã
     *
     */
    constructor(options) {
        super(options);
        /**
         * @member {string}  SuperMap.LevelRenderer.Shape.SmicBrokenLine.prototype.brushTypeOnly
         * @description çº¿æ¡åªè½æè¾¹ã
         */
        this.brushTypeOnly = 'stroke';

        /**
         * @member {string} SuperMap.LevelRenderer.Shape.SmicBrokenLine.prototype.textPosition
         * @description ææ¬ä½ç½®ã
         */
        this.textPosition = 'end';

        /**
         * @member {string} SuperMap.LevelRenderer.Shape.SmicBrokenLine.prototype.type
         * @description å¾å½¢ç±»å.
         */
        this.type = 'smicbroken-line';
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }

        this.CLASS_NAME = "SuperMap.LevelRenderer.Shape.SmicBrokenLine";
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicBrokenLine.prototype.destroy
     * @description éæ¯å¯¹è±¡ï¼éæ¾èµæºãè°ç¨æ­¤å½æ°åææå±æ§å°è¢«ç½®ä¸º nullã
     */
    destroy() {
        this.brushTypeOnly = null;
        this.textPosition = null;
        this.type = null;

        super.destroy();
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicBrokenLine.prototype.buildPath
     * @description åå»ºæçº¿è·¯å¾ã
     *
     * @param {CanvasRenderingContext2D} ctx - Context2D ä¸ä¸æã
     * @param {Object} style - styleã
     *
     */
    buildPath(ctx, style) {
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }

        var __OP = this.refOriginalPosition;

        var pointList = style.pointList;
        if (pointList.length < 2) {
            // å°äº2ä¸ªç¹å°±ä¸ç»äº~
            return;
        }

        var len = Math.min(style.pointList.length, Math.round(style.pointListLength || style.pointList.length));

        if (style.smooth && style.smooth !== 'spline') {
            var controlPoints = SUtil.SUtil_smoothBezier(pointList, style.smooth, false, style.smoothConstraint, __OP);

            ctx.moveTo(pointList[0][0] + __OP[0], pointList[0][1] + __OP[1]);
            var cp1;
            var cp2;
            var p;
            for (let i = 0; i < len - 1; i++) {
                cp1 = controlPoints[i * 2];
                cp2 = controlPoints[i * 2 + 1];
                p = [pointList[i + 1][0] + __OP[0], pointList[i + 1][1] + __OP[1]];
                ctx.bezierCurveTo(
                    cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]
                );
            }
        } else {
            if (style.smooth === 'spline') {
                pointList = SUtil.SUtil_smoothSpline(pointList, null, null, __OP);
                len = pointList.length;
            }
            if (!style.lineType || style.lineType === 'solid') {
                // é»è®¤ä¸ºå®çº¿
                ctx.moveTo(pointList[0][0] + __OP[0], pointList[0][1] + __OP[1]);
                for (let i = 1; i < len; i++) {
                    ctx.lineTo(pointList[i][0] + __OP[0], pointList[i][1] + __OP[1]);
                }
            } else if (style.lineType === 'dashed'
                || style.lineType === 'dotted'
                || style.lineType === 'dot'
                || style.lineType === 'dash'
                || style.lineType === 'longdash'
            ) {
                let dashLength = (style.lineWidth || 1);
                let pattern1 = dashLength;
                let pattern2 = dashLength;

                //dashed
                if (style.lineType === 'dashed') {
                    pattern1 *= 5;
                    pattern2 *= 5;
                    if (style.lineCap && style.lineCap !== "butt") {
                        pattern1 -= dashLength;
                        pattern2 += dashLength;
                    }
                }

                //dotted
                if (style.lineType === 'dotted') {
                    if (style.lineCap && style.lineCap !== "butt") {
                        pattern1 = 1;
                        pattern2 += dashLength;
                    }
                }

                //dot
                if (style.lineType === 'dot') {
                    pattern2 *= 4;
                    if (style.lineCap && style.lineCap !== "butt") {
                        pattern1 = 1;
                        pattern2 += dashLength;
                    }
                }

                //dash
                if (style.lineType === 'dash') {
                    pattern1 *= 4;
                    pattern2 *= 4;
                    if (style.lineCap && style.lineCap !== "butt") {
                        pattern1 -= dashLength;
                        pattern2 += dashLength;
                    }
                }

                //longdash
                if (style.lineType === 'longdash') {
                    pattern1 *= 8;
                    pattern2 *= 4;
                    if (style.lineCap && style.lineCap !== "butt") {
                        pattern1 -= dashLength;
                        pattern2 += dashLength;
                    }
                }

                ctx.moveTo(pointList[0][0] + __OP[0], pointList[0][1] + __OP[1]);
                for (var i = 1; i < len; i++) {
                    SUtil.SUtil_dashedLineTo(
                        ctx,
                        pointList[i - 1][0] + __OP[0], pointList[i - 1][1] + __OP[1],
                        pointList[i][0] + __OP[0], pointList[i][1] + __OP[1],
                        dashLength,
                        [pattern1, pattern2]
                    );
                }
            } else if (style.lineType === 'dashdot'
                || style.lineType === 'longdashdot'
            ) {
                let dashLength = (style.lineWidth || 1);
                let pattern1 = dashLength;
                let pattern2 = dashLength;
                let pattern3 = dashLength;
                let pattern4 = dashLength;

                //dashdot
                if (style.lineType === 'dashdot') {
                    pattern1 *= 4;
                    pattern2 *= 4;
                    pattern4 *= 4;
                    if (style.lineCap && style.lineCap !== "butt") {
                        pattern1 -= dashLength;
                        pattern2 += dashLength;
                        pattern3 = 1;
                        pattern4 += dashLength;
                    }
                }

                //longdashdot
                if (style.lineType === 'longdashdot') {
                    pattern1 *= 8;
                    pattern2 *= 4;
                    pattern4 *= 4;
                    if (style.lineCap && style.lineCap !== "butt") {
                        pattern1 -= dashLength;
                        pattern2 += dashLength;
                        pattern3 = 1;
                        pattern4 += dashLength;
                    }
                }

                dashLength = (style.lineWidth || 1)
                    * (style.lineType === 'dashed' ? 5 : 1);
                ctx.moveTo(pointList[0][0] + __OP[0], pointList[0][1] + __OP[1]);
                for (let i = 1; i < len; i++) {
                    SUtil.SUtil_dashedLineTo(
                        ctx,
                        pointList[i - 1][0] + __OP[0], pointList[i - 1][1] + __OP[1],
                        pointList[i][0] + __OP[0], pointList[i][1] + __OP[1],
                        dashLength,
                        [pattern1, pattern2, pattern3, pattern4]
                    );
                }
            }

        }
        return;
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicBrokenLine.prototype.getRect
     * @description è®¡ç®è¿åæçº¿åå´çç©å½¢ãè¯¥åå´çæ¯ç´æ¥ä»åä¸ªæ§å¶ç¹è®¡ç®ï¼å¹¶éæå°åå´çã
     *
     * @param {Object} style - style
     * @return {Object} è¾¹æ¡å¯¹è±¡ãåå«å±æ§ï¼xï¼yï¼widthï¼heightã
     */
    getRect(style) {
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        var __OP = this.refOriginalPosition;
        return SmicPolygon_SmicPolygon.prototype.getRect.apply(this, [style, __OP]);
    }

}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/SmicImage.js


/**
 * @private
 * @class  SuperMap.LevelRenderer.Shape.SmicImage
 * @category Visualization Theme
 * @classdesc å¾çç»å¶ã
 * @extends SuperMap.LevelRenderer.Shape
 * @example
 *   var shape = new SuperMap.LevelRenderer.Shape.SmicImage({
 *         style: {
 *             image: 'test.jpg',
 *             x: 100,
 *             y: 100
 *         }
 *   });
 *   levelRenderer.addShape(shape);
 *
 *
 */
class SmicImage_SmicImage extends Shape_Shape {

    /**
     * @member {Object} SuperMap.LevelRenderer.Shape.SmicImage.prototype.style
     * @description ç»å¶æ ·å¼ã
     *
     * @param {number} style.x - å·¦ä¸è§æ¨ªåæ ï¼å¿è®¾åæ°ã
     * @param {number} style.y - å·¦ä¸è§çºµåæ ï¼å¿è®¾åæ°ã
     * @param {(string/Cavans)} style.image - å¾çå°åæcavanså¯¹è±¡ï¼å¿è®¾åæ°ã
     * @param {number} style.width - ç»å¶å°ç»å¸ä¸çå®½åº¦ï¼é»è®¤ä¸ºå¾çé«åº¦ã
     * @param {number} style.height - ç»å¶å°ç»å¸ä¸çé«åº¦ï¼é»è®¤ä¸ºå¾çé«åº¦ã
     * @param {number} style.sx - ä»å¾çä¸­è£åªçå·¦ä¸è§æ¨ªåæ ã
     * @param {number} style.sy - ä»å¾çä¸­è£åªçå·¦ä¸è§çºµåæ ã
     * @param {number} style.sWidth - ä»å¾çä¸­è£åªçå®½åº¦ï¼é»è®¤ä¸ºå¾çé«åº¦ã
     * @param {number} style.sHeight - ç»å¶å°ç»å¸ä¸çé«åº¦ï¼é»è®¤ä¸ºå¾çé«åº¦ã
     * @param {number} style.opacity - ç»å¶éæåº¦ãé»è®¤å¼ï¼1ã
     * @param {number} style.shadowBlur - é´å½±æ¨¡ç³åº¦ï¼å¤§äº0ææãé»è®¤å¼ï¼0ã
     * @param {number} style.shadowColor - é´å½±é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {number} style.shadowOffsetX - é´å½±æ¨ªååç§»ãé»è®¤å¼ï¼0ã
     * @param {number} style.shadowOffsetY - é´å½±çºµååç§»ãé»è®¤å¼ï¼0ã
     * @param {string} style.text - å¾å½¢ä¸­çéå ææ¬ãé»è®¤å¼ï¼""ã
     * @param {string} style.textColor - ææ¬é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} style.textFont - éå ææ¬æ ·å¼ãç¤ºä¾:'bold 18px verdana'ã
     * @param {string} style.textPosition - éå ææ¬ä½ç½®ãå¯è®¾å¼ï¼"inside", "left", "right", top", "bottom", "end"ãé»è®¤å¼ï¼"end"ã
     * @param {string} style.textAlign - éå ææ¬æ°´å¹³å¯¹é½ãå¯è®¾å¼ï¼"start", "end", "left", "right", "center"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
     * @param {string} style.textBaseline - éå ææ¬åç´å¯¹é½ãå¯è®¾å¼ï¼"top", "bottom", "middle", "alphabetic", "hanging", "ideographic"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
     */
    //æå¼æ¥å£ style

    /**
     * @function SuperMap.LevelRenderer.Shape.SmicImage.constructor
     * @description æé å½æ°ã
     *
     * @param {Array} options - shape çéç½®ï¼optionsï¼é¡¹ï¼å¯ä»¥æ¯ shape çèªæå±æ§ï¼ä¹å¯ä»¥æ¯èªå®ä¹çå±æ§ã
     *
     */
    constructor(options) {
        super(options);
        /**
         * @member {string} SuperMap.LevelRenderer.Shape.SmicImage.prototype.type
         * @description  å¾å½¢ç±»åã
         */
        this.type = 'smicimage';

        /**
         * @member {string} SuperMap.LevelRenderer.Shape.SmicImage.prototype._imageCache
         * @description å¾çç¼å­ã
         */
        this._imageCache = {};
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        this.CLASS_NAME = "SuperMap.LevelRenderer.Shape.SmicImage";
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicImage.prototype.destroy
     * @description éæ¯å¯¹è±¡ï¼éæ¾èµæºãè°ç¨æ­¤å½æ°åææå±æ§å°è¢«ç½®ä¸º nullã
     */
    destroy() {
        this.type = null;
        this._imageCache = null;
        super.destroy();
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicImage.prototype.buildPath
     * @description åå»ºå¾çã
     * 
     * @param {CanvasRenderingContext2D} ctx - Context2D ä¸ä¸æã
     * @param {Object} style - styleã
     *
     */
    brush(ctx, isHighlight, refresh) {
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        var __OP = this.refOriginalPosition;

        var style = this.style || {};

        if (isHighlight) {
            // æ ¹æ®styleæ©å±é»è®¤é«äº®æ ·å¼
            style = this.getHighlightStyle(
                style, this.highlightStyle || {}
            );
        }

        var image = style.image;
        var me = this;

        if (typeof(image) === 'string') {
            var src = image;
            if (this._imageCache[src]) {
                image = this._imageCache[src];
            } else {
                image = new Image();
                image.onload = function () {
                    image.onload = null;
                    clearTimeout(SmicImage_SmicImage._refreshTimeout);
                    SmicImage_SmicImage._needsRefresh.push(me);
                    // é²æ­¢å ä¸ºç¼å­ç­æ¶é´åè§¦åå¤æ¬¡onloadäºä»¶
                    SmicImage_SmicImage._refreshTimeout = setTimeout(function () {
                        refresh && refresh(SmicImage_SmicImage._needsRefresh);
                        // æ¸ç©º needsRefresh
                        SmicImage_SmicImage._needsRefresh = [];
                    }, 10);
                };

                image.src = src;
                this._imageCache[src] = image;
            }
        }
        if (image) {
            // å¾çå·²ç»å è½½å®æ
            if (image.nodeName.toUpperCase() == 'IMG') {
                if (window.ActiveXObject) {
                    if (image.readyState != 'complete') {
                        return;
                    }
                } else {
                    if (!image.complete) {
                        return;
                    }
                }
            }
            // Else is canvas
            var width = style.width || image.width;
            var height = style.height || image.height;
            var x = style.x + __OP[0];
            var y = style.y + __OP[1];

            // å¾çå è½½å¤±è´¥
            if (!image.width || !image.height) {
                return;
            }

            ctx.save();

            this.doClip(ctx);

            this.setContext(ctx, style);

            // è®¾ç½®transform
            this.setTransform(ctx);

            if (style.sWidth && style.sHeight) {
                let sx = (style.sx + __OP[0]) || 0;
                let sy = (style.sy + __OP[1]) || 0;
                ctx.drawImage(
                    image,
                    sx, sy, style.sWidth, style.sHeight,
                    x, y, width, height
                );
            } else if (style.sx && style.sy) {
                let sx = style.sx + __OP[0];
                let sy = style.sy + __OP[1];
                var sWidth = width - sx;
                var sHeight = height - sy;
                ctx.drawImage(
                    image,
                    sx, sy, sWidth, sHeight,
                    x, y, width, height
                );
            } else {
                ctx.drawImage(image, x, y, width, height);
            }
            // å¦ææ²¡è®¾ç½®å®½åé«çè¯èªå¨æ ¹æ®å¾çå®½é«è®¾ç½®
            if (!style.width) {
                style.width = width;
            }
            if (!style.height) {
                style.height = height;
            }
            if (!this.style.width) {
                this.style.width = width;
            }
            if (!this.style.height) {
                this.style.height = height;
            }

            this.drawText(ctx, style, this.style);

            ctx.restore();
        }
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicImage.prototype.getRect
     * @description è®¡ç®è¿åå¾ççåå´çç©å½¢ã
     *
     * @param {Object} style - style
     * @return {Object} è¾¹æ¡å¯¹è±¡ãåå«å±æ§ï¼xï¼yï¼widthï¼heightã
     */
    getRect(style) {
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        var __OP = this.refOriginalPosition;

        return {
            x: style.x + __OP[0],
            y: style.y + __OP[1],
            width: style.width,
            height: style.height
        };
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicImage.prototype.clearCache
     * @description æ¸é¤å¾çç¼å­ã
     *
     * @param {Object} style - style
     * @return {Object} è¾¹æ¡å¯¹è±¡ãåå«å±æ§ï¼xï¼yï¼widthï¼heightã
     * 
     */
    clearCache() {
        this._imageCache = {};
    }

}
SmicImage_SmicImage._needsRefresh = [];
SmicImage_SmicImage._refreshTimeout = null;
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/SmicRectangle.js


/**
 * @private
 * @class  SuperMap.LevelRenderer.Shape.SmicRectangle
 * @category Visualization Theme
 * @classdesc ç©å½¢ã
 * @extends SuperMap.LevelRenderer.Shape
 * @example
 *   var shape = new SuperMap.LevelRenderer.Shape.SmicRectangle({
 *         style: {
 *             x: 0,
 *             y: 0,
 *             width: 100,
 *             height: 100,
 *             radius: 20
 *         }
 *     });
 *   levelRenderer.addShape(shape);
 * 
 */
class SmicRectangle_SmicRectangle extends Shape_Shape {

    /**
     * @member {Object} SuperMap.LevelRenderer.Shape.SmicRectangle.prototype.style
     * @description ç»å¶æ ·å¼ã
     *
     * @param {number} style.x - å·¦ä¸è§ x åæ ï¼å¿è®¾åæ°ã
     * @param {number} style.y - å·¦ä¸è§ y åæ ï¼å¿è®¾åæ°ã
     * @param {number} style.width - å®½åº¦ï¼å¿è®¾åæ°ã
     * @param {number} style.height - é«åº¦ï¼å¿è®¾åæ°ã
     * @param {Array} style.radius - ç©å½¢åè§ï¼å¯ä»¥ç¨æ°ç»åå«æå®åä¸ªè§çåè§ï¼è®¾ï¼å·¦ä¸ãå³ä¸ãå³ä¸ãå·¦ä¸è§çåå¾ä¾æ¬¡ä¸º r1ãr2ãr3ãr4 å radiusä¸º [r1ãr2ãr3ãr4 ]ã
     * @param {string} style.brushType - ç»ç¬ç±»åãå¯è®¾å¼ï¼"fill", "stroke", "both"ãé»è®¤å¼ï¼"fill"ã
     * @param {string} style.color - å¡«åé¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} style.strokeColor - æè¾¹é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} style.lineCape - çº¿å¸½æ ·å¼ãå¯è®¾å¼ï¼"butt", "round", "square"ãé»è®¤å¼ï¼"butt"ã
     * @param {number} style.lineWidth - æè¾¹å®½åº¦ãé»è®¤å¼ï¼1ã
     * @param {number} style.opacity - ç»å¶éæåº¦ãé»è®¤å¼ï¼1ã
     * @param {number} style.shadowBlur - é´å½±æ¨¡ç³åº¦ï¼å¤§äº0ææãé»è®¤å¼ï¼0ã
     * @param {number} style.shadowColor - é´å½±é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {number} style.shadowOffsetX - é´å½±æ¨ªååç§»ãé»è®¤å¼ï¼0ã
     * @param {number} style.shadowOffsetY - é´å½±çºµååç§»ãé»è®¤å¼ï¼0ã
     * @param {string} style.text - å¾å½¢ä¸­çéå ææ¬ãé»è®¤å¼ï¼""ã
     * @param {string} style.textColor - ææ¬é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} style.textFont - éå ææ¬æ ·å¼ãç¤ºä¾:'bold 18px verdana'ã
     * @param {string} style.textPosition - éå ææ¬ä½ç½®ãå¯è®¾å¼ï¼"inside", "left", "right", top", "bottom", "end"ãé»è®¤å¼ï¼"end"ã
     * @param {string} style.textAlign - éå ææ¬æ°´å¹³å¯¹é½ãå¯è®¾å¼ï¼"start", "end", "left", "right", "center"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
     * @param {string} style.textBaseline - éå ææ¬åç´å¯¹é½ãå¯è®¾å¼ï¼"top", "bottom", "middle", "alphabetic", "hanging", "ideographic"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
     */
    //æå¼æ¥å£ style

    /**
     * @function SuperMap.LevelRenderer.Shape.SmicRectangle.constructor
     * @description æé å½æ°ã
     *
     * @param {Array} options - shape çéç½®ï¼optionsï¼é¡¹ï¼å¯ä»¥æ¯ shape çèªæå±æ§ï¼ä¹å¯ä»¥æ¯èªå®ä¹çå±æ§ã
     *
     */
    constructor(options) {
        super(options);
        /**
         * @member {string} SuperMap.LevelRenderer.Shape.SmicRectangle.prototype.type
         * @description å¾å½¢ç±»å.
         */
        this.type = 'smicrectangle';
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        this.CLASS_NAME = "SuperMap.LevelRenderer.Shape.SmicRectangle";
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicRectangle.prototype.destroy
     * @description éæ¯å¯¹è±¡ï¼éæ¾èµæºãè°ç¨æ­¤å½æ°åææå±æ§å°è¢«ç½®ä¸º nullã
     */
    destroy() {
        this.type = null;
        super.destroy();
    }


    /**
     * APIMethod: _buildRadiusPath
     * åå»ºç©å½¢çåè§è·¯å¾ã
     *
     * Parameters:
     * ctx - {CanvasRenderingContext2D} Context2D ä¸ä¸æã
     * style - {Object} styleã
     *
     */
    _buildRadiusPath(ctx, style) {
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        var __OP = this.refOriginalPosition;

        // å·¦ä¸ãå³ä¸ãå³ä¸ãå·¦ä¸è§çåå¾ä¾æ¬¡ä¸ºr1ãr2ãr3ãr4
        // rç¼©åä¸º1         ç¸å½äº [1, 1, 1, 1]
        // rç¼©åä¸º[1]       ç¸å½äº [1, 1, 1, 1]
        // rç¼©åä¸º[1, 2]    ç¸å½äº [1, 2, 1, 2]
        // rç¼©åä¸º[1, 2, 3] ç¸å½äº [1, 2, 3, 2]
        var x = style.x + __OP[0];
        var y = style.y + __OP[1];
        var width = style.width;
        var height = style.height;
        var r = style.radius;
        var r1;
        var r2;
        var r3;
        var r4;

        if (typeof r === 'number') {
            r1 = r2 = r3 = r4 = r;
        } else if (r instanceof Array) {
            if (r.length === 1) {
                r1 = r2 = r3 = r4 = r[0];
            } else if (r.length === 2) {
                r1 = r3 = r[0];
                r2 = r4 = r[1];
            } else if (r.length === 3) {
                r1 = r[0];
                r2 = r4 = r[1];
                r3 = r[2];
            } else {
                r1 = r[0];
                r2 = r[1];
                r3 = r[2];
                r4 = r[3];
            }
        } else {
            r1 = r2 = r3 = r4 = 0;
        }

        var total;
        if (r1 + r2 > width) {
            total = r1 + r2;
            r1 *= width / total;
            r2 *= width / total;
        }
        if (r3 + r4 > width) {
            total = r3 + r4;
            r3 *= width / total;
            r4 *= width / total;
        }
        if (r2 + r3 > height) {
            total = r2 + r3;
            r2 *= height / total;
            r3 *= height / total;
        }
        if (r1 + r4 > height) {
            total = r1 + r4;
            r1 *= height / total;
            r4 *= height / total;
        }
        ctx.moveTo(x + r1, y);
        ctx.lineTo(x + width - r2, y);
        r2 !== 0 && ctx.quadraticCurveTo(
            x + width, y, x + width, y + r2
        );
        ctx.lineTo(x + width, y + height - r3);
        r3 !== 0 && ctx.quadraticCurveTo(
            x + width, y + height, x + width - r3, y + height
        );
        ctx.lineTo(x + r4, y + height);
        r4 !== 0 && ctx.quadraticCurveTo(
            x, y + height, x, y + height - r4
        );
        ctx.lineTo(x, y + r1);
        r1 !== 0 && ctx.quadraticCurveTo(x, y, x + r1, y);
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicRectangle.prototype.buildPath
     * @description åå»ºç©å½¢è·¯å¾ã
     *
     * @param {CanvasRenderingContext2D} ctx - Context2D ä¸ä¸æã
     * @param {Object} style - styleã
     *
     */
    buildPath(ctx, style) {
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        var __OP = this.refOriginalPosition;

        if (!style.radius) {
            ctx.moveTo(style.x + __OP[0], style.y + __OP[1]);
            ctx.lineTo((style.x + __OP[0]) + style.width, (style.y + __OP[1]));
            ctx.lineTo((style.x + __OP[0]) + style.width, (style.y + __OP[1]) + style.height);
            ctx.lineTo((style.x + __OP[0]), (style.y + __OP[1]) + style.height);
            ctx.lineTo(style.x + __OP[0], style.y + __OP[1]);
            // ctx.rect(style.x, style.y, style.width, style.height);
        } else {
            this._buildRadiusPath(ctx, style);
        }
        ctx.closePath();
        return;
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicRectangle.prototype.getRect
     * @description è®¡ç®è¿åç©å½¢åå´çç©éµãè¯¥åå´çæ¯ç´æ¥ä»åä¸ªæ§å¶ç¹è®¡ç®ï¼å¹¶éæå°åå´çã
     * 
     * @param {Object} style - style
     * @return {Object} è¾¹æ¡å¯¹è±¡ãåå«å±æ§ï¼xï¼yï¼widthï¼heightã
     */
    getRect(style) {
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        var __OP = this.refOriginalPosition;

        if (style.__rect) {
            return style.__rect;
        }

        var lineWidth;
        if (style.brushType == 'stroke' || style.brushType == 'fill') {
            lineWidth = style.lineWidth || 1;
        } else {
            lineWidth = 0;
        }
        style.__rect = {
            x: Math.round((style.x + __OP[0]) - lineWidth / 2),
            y: Math.round((style.y + __OP[1]) - lineWidth / 2),
            width: style.width + lineWidth,
            height: style.height + lineWidth
        };

        return style.__rect;
    }

}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/SmicSector.js



/**
 * @private
 * @class  SuperMap.LevelRenderer.Shape.SmicSector
 * @category Visualization Theme
 * @classdesc æå½¢ã
 * @extends SuperMap.LevelRenderer.Shape
 * @example
 *   var shape = new SuperMap.LevelRenderer.Shape.SmicSector({
 *         style: {
 *             x: 100,
 *             y: 100,
 *             r: 60,
 *             r0: 30,
 *             startAngle: 0,
 *             endEngle: 180
 *         }
 *   });
 *   levelRenderer.addShape(shape);
 *
 *
 */
class SmicSector_SmicSector extends Shape_Shape {

    /**
     * @member {Object} SuperMap.LevelRenderer.Shape.SmicSector.prototype.style
     * @description ç»å¶æ ·å¼ã
     *
     * @param {number} style.x - åå¿ x åæ ï¼å¿è®¾åæ°ã
     * @param {number} style.y - åå¿ y åæ ï¼å¿è®¾åæ°ã
     * @param {number} style.r - å¤ååå¾ï¼å¿è®¾åæ°ã
     * @param {number} style.r0 - åååå¾ï¼æå®åå°åºç°åå¼§ï¼åæ¶æè¾¹é¿åº¦ä¸º`r - r0`ãåå¼èå´[0, r)ï¼é»è®¤å¼ï¼0ã
     * @param {number} style.startAngle - èµ·å§è§åº¦ï¼å¿è®¾åæ°ãåå¼èå´[0, 360)ã
     * @param {number} style.endAngle - ç»æè§åº¦ï¼å¿è®¾åæ°ãåå¼èå´(0, 360ã
     * @param {boolean} style.clockWise - æ¯å¦æ¯é¡ºæ¶éãé»è®¤å¼ï¼falseã
     * @param {string} style.brushType - ç»ç¬ç±»åãå¯è®¾å¼ï¼"fill", "stroke", "both"ãé»è®¤å¼ï¼"fill"ã
     * @param {string} style.color - å¡«åé¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} style.strokeColor - æè¾¹é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} style.lineCape - çº¿å¸½æ ·å¼ãå¯è®¾å¼ï¼"butt", "round", "square"ãé»è®¤å¼ï¼"butt"ã
     * @param {number} style.lineWidth - æè¾¹å®½åº¦ãé»è®¤å¼ï¼1ã
     * @param {number} style.opacity - ç»å¶éæåº¦ãé»è®¤å¼ï¼1ã
     * @param {number} style.shadowBlur - é´å½±æ¨¡ç³åº¦ï¼å¤§äº0ææãé»è®¤å¼ï¼0ã
     * @param {number} style.shadowColor - é´å½±é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {number} style.shadowOffsetX - é´å½±æ¨ªååç§»ãé»è®¤å¼ï¼0ã
     * @param {number} style.shadowOffsetY - é´å½±çºµååç§»ãé»è®¤å¼ï¼0ã
     * @param {string} style.text - å¾å½¢ä¸­çéå ææ¬ãé»è®¤å¼ï¼""ã
     * @param {string} style.textColor - ææ¬é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} style.textFont - éå ææ¬æ ·å¼ãç¤ºä¾:'bold 18px verdana'ã
     * @param {string} style.textPosition - éå ææ¬ä½ç½®ãå¯è®¾å¼ï¼"inside", "left", "right", top", "bottom", "end"ãé»è®¤å¼ï¼"end"ã
     * @param {string} style.textAlign - éå ææ¬æ°´å¹³å¯¹é½ãå¯è®¾å¼ï¼"start", "end", "left", "right", "center"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
     * @param {string} style.textBaseline - éå ææ¬åç´å¯¹é½ãå¯è®¾å¼ï¼"top", "bottom", "middle", "alphabetic", "hanging", "ideographic"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
     */
    //æå¼æ¥å£ style


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicSector.constructor
     * @description æé å½æ°ã
     * 
     * @param {Array} options - shape çéç½®ï¼optionsï¼é¡¹ï¼å¯ä»¥æ¯ shape çèªæå±æ§ï¼ä¹å¯ä»¥æ¯èªå®ä¹çå±æ§ã
     *
     */
    constructor(options) {
        super(options);
        /**
         * @member {string} SuperMap.LevelRenderer.Shape.SmicSector.protptype.type
         * @description å¾å½¢ç±»åã
         */
        this.type = 'smicsector';
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        this.CLASS_NAME = "SuperMap.LevelRenderer.Shape.SmicSector";
    }

    /**
     * @function SuperMap.LevelRenderer.Shape.SmicSector.prototype.destroy
     * @description éæ¯å¯¹è±¡ï¼éæ¾èµæºãè°ç¨æ­¤å½æ°åææå±æ§å°è¢«ç½®ä¸º nullã
     */
    destroy() {
        this.type = null;
        super.destroy();
    }

    /**
     * @function SuperMap.LevelRenderer.Shape.SmicSector.prototype.buildPath
     * @description åå»ºæå½¢è·¯å¾ã
     * 
     * @param {CanvasRenderingContext2D} ctx - Context2D ä¸ä¸æã
     * @param {Object} style - styleã
     *
     */
    buildPath(ctx, style) {
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        var __OP = this.refOriginalPosition;

        var x = style.x + __OP[0];   // åå¿x
        var y = style.y + __OP[1];   // åå¿y
        var r0 = style.r0 || 0;     // å½¢ååå¾[0,r)
        var r = style.r;            // æå½¢å¤åå¾(0,r]
        var startAngle = style.startAngle;          // èµ·å§è§åº¦[0,360)
        var endAngle = style.endAngle;              // ç»æè§åº¦(0,360]
        var clockWise = style.clockWise || false;

        startAngle = SUtil.Util_math.degreeToRadian(startAngle);
        endAngle = SUtil.Util_math.degreeToRadian(endAngle);

        if (!clockWise) {
            // æå½¢é»è®¤æ¯éæ¶éæ¹åï¼Yè½´åä¸
            // è¿ä¸ªè·arcçæ åä¸ä¸æ ·ï¼ä¸ºäºå¼å®¹echarts
            startAngle = -startAngle;
            endAngle = -endAngle;
        }

        var unitX = SUtil.Util_math.cos(startAngle);
        var unitY = SUtil.Util_math.sin(startAngle);
        ctx.moveTo(
            unitX * r0 + x,
            unitY * r0 + y
        );

        ctx.lineTo(
            unitX * r + x,
            unitY * r + y
        );

        ctx.arc(x, y, r, startAngle, endAngle, !clockWise);

        ctx.lineTo(
            SUtil.Util_math.cos(endAngle) * r0 + x,
            SUtil.Util_math.sin(endAngle) * r0 + y
        );

        if (r0 !== 0) {
            ctx.arc(x, y, r0, endAngle, startAngle, clockWise);
        }

        ctx.closePath();

        return;
    }

    /**
     * @function SuperMap.LevelRenderer.Shape.SmicSector.prototype.getRect
     * @description è¿åæå½¢åå´çç©å½¢
     *
     * @param {Object} style - style
     * @return {Object} è¾¹æ¡å¯¹è±¡ãåå«å±æ§ï¼xï¼yï¼widthï¼heightã
     * 
     */
    getRect(style) {
        if (style.__rect) {
            return style.__rect;
        }

        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        var __OP = this.refOriginalPosition;

        var min0 = SUtil.Util_vector.create();
        var min1 = SUtil.Util_vector.create();
        var max0 = SUtil.Util_vector.create();
        var max1 = SUtil.Util_vector.create();

        var x = style.x + __OP[0];   // åå¿x
        var y = style.y + __OP[1];   // åå¿y
        var r0 = style.r0 || 0;     // å½¢ååå¾[0,r)
        var r = style.r;            // æå½¢å¤åå¾(0,r]
        var startAngle = SUtil.Util_math.degreeToRadian(style.startAngle);
        var endAngle = SUtil.Util_math.degreeToRadian(style.endAngle);
        var clockWise = style.clockWise;

        if (!clockWise) {
            startAngle = -startAngle;
            endAngle = -endAngle;
        }

        if (r0 > 1) {
            SUtil.Util_computeBoundingBox.arc(
                x, y, r0, startAngle, endAngle, !clockWise, min0, max0
            );
        } else {
            min0[0] = max0[0] = x;
            min0[1] = max0[1] = y;
        }
        SUtil.Util_computeBoundingBox.arc(
            x, y, r, startAngle, endAngle, !clockWise, min1, max1
        );

        SUtil.Util_vector.min(min0, min0, min1);
        SUtil.Util_vector.max(max0, max0, max1);
        style.__rect = {
            x: min0[0],
            y: min0[1],
            width: max0[0] - min0[0],
            height: max0[1] - min0[1]
        };
        return style.__rect;
    }

}
// CONCATENATED MODULE: ./src/common/overlay/feature/ShapeFactory.js



















/**
 * @class  SuperMap.Feature.ShapeFactory
 * @category Visualization Theme
 * @classdesc å¾å½¢å·¥åç±»ã
 * ç®åæ¯æåå»ºçå¾å½¢æï¼<br>
 * ç¨äºç»è®¡ä¸é¢å¾ï¼<br>
 * ç¹ - åæ°å¯¹è±¡ <{@link SuperMap.Feature.ShapeParameters.Point}> <br>
 * çº¿ - åæ°å¯¹è±¡ <{@link SuperMap.Feature.ShapeParameters.Line}> <br>
 * é¢ - åæ°å¯¹è±¡ <{@link SuperMap.Feature.ShapeParameters.Polygon}> <br>
 * ç©å½¢ - åæ°å¯¹è±¡ <{@link SuperMap.Feature.ShapeParameters.Rectangle}> <br>
 * æå½¢ - åæ°å¯¹è±¡ <{@link SuperMap.Feature.ShapeParameters.Sector}> <br>
 * æ ç­¾ - åæ°å¯¹è±¡ <{@link SuperMap.Feature.ShapeParameters.Label}> <br>
 * å¾ç - åæ°å¯¹è±¡ <{@link SuperMap.Feature.ShapeParameters.Image}> <br>
 * ç¨äºç¬¦å·ä¸é¢å¾ï¼<br>
 * åå½¢ -  åæ°å¯¹è±¡ï¼<{@link SuperMap.Feature.ShapeParameters.Cilcle}>
 */
class ShapeFactory_ShapeFactory {



    /**
     * @function SuperMap.Feature.ShapeFactory.prototype.constructor
     * @description æå»ºå¾å½¢å·¥åå¯¹è±¡ã
     * @param {Object} shapeParameters - å¾å½¢åæ°å¯¹è±¡ï¼<{@link SuperMap.Feature.ShapeParameters}> å­ç±»å¯¹è±¡ï¼å¯éåæ°ã
     * @returns {SuperMap.Feature.ShapeFactory} è¿åå¾å½¢å·¥åç±»å¯¹è±¡ã
     */
    constructor(shapeParameters) {
        /**
         * @member {Object} SuperMap.Feature.ShapeParameters.prototype.shapeParameters
         * @description  å¾å½¢åæ°å¯¹è±¡ï¼<{@link SuperMap.Feature.ShapeParameters}> å­ç±»å¯¹è±¡ãå¿è®¾åæ°ï¼é»è®¤å¼ nullã
         */
        this.shapeParameters = shapeParameters;

        this.CLASS_NAME = "SuperMap.Feature.ShapeFactory";
    }

    
    /**
     * @function  SuperMap.Feature.ShapeParameters.prototype.destroy
     * @description éæ¯å¾å½¢å·¥åç±»å¯¹è±¡ã
     */
    destroy() {
        this.shapeParameters = null;
    }

    
    /**
     * @function  SuperMap.Feature.ShapeParameters.prototype.createShape
     * @description åå»ºä¸ä¸ªå¾å½¢ãå·ä½å¾å½¢ç± shapeParameters å³å®ã
     * @param {Object} shapeParameters - å¾å½¢åæ°å¯¹è±¡ï¼<{@link SuperMap.Feature.ShapeParameters}> å­ç±»å¯¹è±¡ã
     * æ­¤åæ°å¯éï¼å¦æä½¿ç¨æ­¤åæ°ï¼ä¸ä¸º nullï¼ï¼shapeParameters å±æ§å¼å°è¢«ä¿®æ¹ä¸ºåæ°çå¼ï¼ç¶ååä½¿ç¨ shapeParameters å±æ§å¼åå»ºå¾å½¢ï¼
     * å¦æä¸ä½¿ç¨æ­¤åæ°ï¼createShape æ¹æ³å°ç´æ¥ä½¿ç¨ shapeParameters å±æ§åå»ºå¾å½¢ã
     * @returns {Object} å¾å½¢å¯¹è±¡ï¼æ null - å¾å½¢åå»ºå¤±è´¥ï¼ã
     */
    createShape(shapeParameters) {
        if (shapeParameters) {
            this.shapeParameters = shapeParameters;
        }

        if (!this.shapeParameters) {
            return null;
        }

        var sps = this.shapeParameters;


        if (sps instanceof feature_Point_Point) {        // ç¹
            //è®¾ç½®style
            let style = new Object();
            style["x"] = sps.x;
            style["y"] = sps.y;
            style["r"] = sps.r;

            style = Util_Util.copyAttributesWithClip(style, sps.style, ['x', 'y']);

            //åå»ºå¾å½¢
            let shape = new SmicPoint_SmicPoint();
            shape.style = ShapeFactory_ShapeFactory.transformStyle(style);
            shape.highlightStyle = ShapeFactory_ShapeFactory.transformStyle(sps.highlightStyle);
            Util_Util.copyAttributesWithClip(shape, sps, ['x', 'y', 'style', 'highlightStyle']);

            return shape;
        } else if (sps instanceof Line_Line) {        // çº¿
            //æ£æ¥åæ° pointList æ¯å¦å­å¨
            if (!sps.pointList) {
                return null;
            }

            // è®¾ç½®style
            let style = new Object();
            style["pointList"] = sps.pointList;
            style = Util_Util.copyAttributesWithClip(style, sps.style, ['pointList']);

            // åå»ºå¾å½¢
            let shape = new SmicBrokenLine_SmicBrokenLine();
            shape.style = ShapeFactory_ShapeFactory.transformStyle(style);
            shape.highlightStyle = ShapeFactory_ShapeFactory.transformStyle(sps.highlightStyle);
            Util_Util.copyAttributesWithClip(shape, sps, ['pointList', 'style', 'highlightStyle']);

            return shape;
        } else if (sps instanceof feature_Polygon_Polygon) {        // é¢
            //æ£æ¥åæ° pointList æ¯å¦å­å¨
            if (!sps.pointList) {
                return null;
            }

            //è®¾ç½®style
            let style = new Object();
            style["pointList"] = sps.pointList;
            style = Util_Util.copyAttributesWithClip(style, sps.style, ['pointList']);

            //åå»ºå¾å½¢
            let shape = new SmicPolygon_SmicPolygon();
            shape.style = ShapeFactory_ShapeFactory.transformStyle(style);
            shape.highlightStyle = ShapeFactory_ShapeFactory.transformStyle(sps.highlightStyle);
            Util_Util.copyAttributesWithClip(shape, sps, ['pointList', 'style', "highlightStyle"]);

            return shape;
        } else if (sps instanceof feature_Rectangle_Rectangle) {        // ç©å½¢
            //æ£æ¥åæ° pointList æ¯å¦å­å¨
            if (!sps.x && !sps.y & !sps.width & !sps.height) {
                return null;
            }

            //è®¾ç½®style
            let style = new Object();
            style["x"] = sps.x;
            style["y"] = sps.y;
            style["width"] = sps.width;
            style["height"] = sps.height;

            style = Util_Util.copyAttributesWithClip(style, sps.style, ['x', 'y', 'width', 'height']);

            //åå»ºå¾å½¢
            let shape = new SmicRectangle_SmicRectangle();
            shape.style = ShapeFactory_ShapeFactory.transformStyle(style);
            shape.highlightStyle = ShapeFactory_ShapeFactory.transformStyle(sps.highlightStyle);
            Util_Util.copyAttributesWithClip(shape, sps, ['x', 'y', 'width', 'height', 'style', 'highlightStyle']);

            return shape;
        } else if (sps instanceof Sector_Sector) {        // æå½¢
            //è®¾ç½®style
            let style = new Object();
            style["x"] = sps.x;
            style["y"] = sps.y;
            style["r"] = sps.r;
            style["startAngle"] = sps.startAngle;
            style["endAngle"] = sps.endAngle;
            if (sps["r0"]) {
                style["r0"] = sps.r0
            }

            if (sps["clockWise"]) {
                style["clockWise"] = sps.clockWise
            }


            style = Util_Util.copyAttributesWithClip(style, sps.style, ['x', 'y', 'r', 'startAngle', 'endAngle', 'r0', 'endAngle']);

            //åå»ºå¾å½¢
            let shape = new SmicSector_SmicSector();
            shape.style = ShapeFactory_ShapeFactory.transformStyle(style);
            shape.highlightStyle = ShapeFactory_ShapeFactory.transformStyle(sps.highlightStyle);
            Util_Util.copyAttributesWithClip(shape, sps, ['x', 'y', 'r', 'startAngle', 'endAngle', 'r0', 'endAngle', 'style', 'highlightStyle']);

            return shape;
        } else if (sps instanceof Label_Label) {        // æ ç­¾
            //è®¾ç½®style
            let style = new Object();
            style["x"] = sps.x;
            style["y"] = sps.y;
            style["text"] = sps.text;

            style = Util_Util.copyAttributesWithClip(style, sps.style, ['x', 'y', 'text']);

            //åå»ºå¾å½¢
            let shape = new SmicText_SmicText();
            shape.style = ShapeFactory_ShapeFactory.transformStyle(style);
            shape.highlightStyle = ShapeFactory_ShapeFactory.transformStyle(sps.highlightStyle);
            Util_Util.copyAttributesWithClip(shape, sps, ['x', 'y', 'text', 'style', 'highlightStyle']);

            return shape;
        } else if (sps instanceof Image_Image) {        // å¾ç
            //è®¾ç½®style
            let style = new Object();
            style["x"] = sps.x;
            style["y"] = sps.y;
            if (sps["image"]) {
                style["image"] = sps.image;
            }
            if (sps["width"]) {
                style["width"] = sps.width;
            }
            if (sps["height"]) {
                style["height"] = sps.height;
            }
            if (sps["sx"]) {
                style["sx"] = sps.sx;
            }
            if (sps["sy"]) {
                style["sy"] = sps.sy;
            }
            if (sps["sWidth"]) {
                style["sWidth"] = sps.sWidth
            }
            if (sps["sHeight"]) {
                style["sHeight"] = sps.sHeight
            }

            style = Util_Util.copyAttributesWithClip(style, sps.style, ['x', 'y', 'image', 'width', 'height', 'sx', 'sy', 'sWidth', 'sHeight']);

            //åå»ºå¾å½¢
            let shape = new SmicImage_SmicImage();
            shape.style = ShapeFactory_ShapeFactory.transformStyle(style);
            shape.highlightStyle = ShapeFactory_ShapeFactory.transformStyle(sps.highlightStyle);
            Util_Util.copyAttributesWithClip(shape, sps, ['x', 'y', 'image', 'width', 'height', 'style', 'highlightStyle']);

            return shape;
        } else if (sps instanceof Circle_Circle) {       //åå½¢ ç¨äºç¬¦å·ä¸é¢å¾
            //è®¾ç½®stytle
            let style = new Object();
            style["x"] = sps.x;
            style["r"] = sps.r;
            style["y"] = sps.y;

            style = Util_Util.copyAttributesWithClip(style, sps.style, ['x', 'y', 'r']);

            //åå»ºå¾å½¢
            let shape = new SmicCircle_SmicCircle();
            shape.style = ShapeFactory_ShapeFactory.transformStyle(style);
            shape.highlightStyle = ShapeFactory_ShapeFactory.transformStyle(sps.highlightStyle);
            Util_Util.copyAttributesWithClip(shape, sps, ['x', 'y', 'r', 'style', 'highlightStyle', 'lineWidth', 'text', 'textPosition']);

            return shape;
        }

        return null
    }

    
    /**
     * @function  SuperMap.Feature.ShapeParameters.prototype.transformStyle
     * @description å°ç¨æ· feature.style (ç±» Svg style æ å) çæ ·å¼ï¼è½¬æ¢ä¸º levelRenderer çæ ·å¼æ åï¼ç±» CSS-Canvas æ ·å¼ï¼
     * @param {Object} style - ç¨æ· styleã
     * @returns {Object} ç¬¦å levelRenderer ç styleã
     */
    static transformStyle(style) {
        var newStyle = {};

        //å­ä½ ["font-style", "font-variant", "font-weight", "font-size / line-height", "font-family"];
        var fontStr = ["normal", "normal", "normal", "12", "arial,sans-serif"];

        //ç»ç¬ç±»å ["fill", "stroke"];
        var brushType = [true, false];

        for (var ss in style) {
            switch (ss) {
                case "fill":
                    brushType[0] = style[ss];
                    break;
                case "fillColor":
                    newStyle["color"] = style[ss];
                    break;
                case "stroke":
                    brushType[1] = style[ss];
                    break;
                case "strokeWidth":
                    newStyle["lineWidth"] = style[ss];
                    break;
                case "strokeLinecap":
                    newStyle["lineCap"] = style[ss];
                    break;
                case "strokeLineJoin":
                    newStyle["lineJoin"] = style[ss];
                    break;
                case "strokeDashstyle":
                    newStyle["lineType"] = style[ss];
                    break;
                case "pointRadius":
                    newStyle["r"] = style[ss];
                    break;
                case "label":
                    newStyle["text"] = style[ss];
                    break;
                case "labelRect":
                    newStyle["labelRect"] = style[ss];
                    break;
                case "fontColor":
                    newStyle["textColor"] = style[ss];
                    break;
                case "fontStyle":
                    fontStr[0] = style[ss];
                    break;
                case "fontVariant":
                    fontStr[1] = style[ss];
                    break;
                case "fontWeight":
                    fontStr[2] = style[ss];
                    break;
                case "fontSize":
                    var unit = "";
                    if (style[ss] && style[ss].toString().indexOf("px") < 0) {
                        unit = "px";
                    }
                    fontStr[3] = style[ss] + unit;
                    break;
                case "fontFamily":
                    fontStr[4] = style[ss];
                    break;
                case "fontOpacity":
                    newStyle["opacity"] = style[ss];
                    break;
                case "labelPosition":
                    newStyle["textPosition"] = style[ss];
                    break;
                case "labelAlign":
                    newStyle["textAlign"] = style[ss];
                    break;
                case "labelBaseline":
                    newStyle["textBaseline"] = style[ss];
                    break;
                case "labelRotation":
                    newStyle["textRotation"] = style[ss];
                    break;

                default:
                    newStyle[ss] = style[ss];
                    break;
            }
        }

        //æ¼æ¥å­ä½å­ç¬¦ä¸²
        newStyle["textFont"] = fontStr.join(" ");

        //ç»ç¬ç±»å
        if (brushType[0] === true && brushType[1] === false) {
            newStyle["brushType"] = "fill";
        } else if (brushType[0] === false && brushType[1] === true) {
            newStyle["brushType"] = "stroke";
        } else if (brushType[0] === true && brushType[1] === true) {
            newStyle["brushType"] = "both";
        } else {
            newStyle["brushType"] = "fill";
        }

        //é»è®¤çº¿å®½ 1
        if (newStyle["lineWidth"] == null) {
            newStyle["lineWidth"] = 1;
        }

        return newStyle;
    }

    /**
     * @function  SuperMap.Feature.ShapeParameters.prototype.Background
     * @description åå»ºä¸ä¸ªç©å½¢èæ¯æ¡å¾å½¢å¯¹è±¡ã
     * @param {SuperMap.Feature.ShapeFactory} shapeFactory - å¾å½¢å·¥åå¯¹è±¡ï¼å¿è®¾åæ°ã
     * @param {Array.<number>} box - æ¡åºåï¼é¿åº¦ä¸º 4 çä¸ç»´æ°ç»ï¼åç´ åæ ï¼[left, bottom, right, top]ï¼å¿è®¾åæ°ã
     * @param {Object} setting - å¾è¡¨éç½®åæ°ï¼å¿è®¾åæ°ãæ¬å½æ°ä¸­å¾å½¢éç½®å¯¹è±¡ setting å¯è®¾å±æ§ï¼
     * @param {Object} setting.backgroundStyle - èæ¯æ ·å¼ï¼æ­¤æ ·å¼å¯¹è±¡å¯¹è±¡å¯è®¾å±æ§ï¼<SuperMap.Feature.ShapeParameters.Rectangle#style>ã
     * @param {Array} [setting.backgroundRadius=[0,0,0,0]] - èæ¯æ¡ç©å½¢åè§åå¾ï¼å¯ä»¥ç¨æ°ç»åå«æå®åä¸ªè§çåè§åå¾ï¼è®¾ï¼å·¦ä¸ãå³ä¸ãå³ä¸ãå·¦ä¸è§çåå¾ä¾æ¬¡ä¸º r1ãr2ãr3ãr4ï¼å backgroundRadius ä¸º [r1ãr2ãr3ãr4 ]ã
     * @returns {Object} èæ¯æ¡å¾å½¢ï¼ä¸ä¸ªå¯è§åå¾å½¢ï¼ç©å½¢ï¼å¯¹è±¡ã
     */
    static Background(shapeFactory, box, setting) {
        var sets = setting ? setting : {};

        // èæ¯æ¡å¾å½¢åæ°å¯¹è±¡
        var bgSP = new feature_Rectangle_Rectangle(box[0], box[3], Math.abs(box[2] - box[0]), Math.abs(box[3] - box[1]));

        // é»è®¤æ ·å¼
        bgSP.style = {
            fillColor: "#f3f3f3"
        };

        // è®¾ç½®ç¨æ· style
        if (sets.backgroundStyle) {
            Util_Util.copyAttributesWithClip(bgSP.style, sets.backgroundStyle);
        }

        // è®¾ç½®èæ¯æ¡åè§åæ°
        if (sets.backgroundRadius) {
            bgSP.style["radius"] = sets.backgroundRadius;
        }

        // ç¦æ­¢èæ¯æ¡ååºäºä»¶
        bgSP.clickable = false;
        bgSP.hoverable = false;

        return shapeFactory.createShape(bgSP);
    }

    /**
     * @function  SuperMap.Feature.ShapeParameters.prototype.GraphAxis
     * @description åå»ºä¸ä¸ªç»è®¡å¾è¡¨åæ è½´å¾å½¢å¯¹è±¡ç»ã
     * @param {SuperMap.Feature.ShapeFactory} shapeFactory - å¾å½¢å·¥åå¯¹è±¡ï¼å¿è®¾åæ°ã
     * @param {Array.<number>} dataViewBox - ç»è®¡å¾è¡¨æ¨¡åçæ°æ®è§å¾æ¡ï¼é¿åº¦ä¸º 4 çä¸ç»´æ°ç»ï¼åç´ åæ ï¼[left, bottom, right, top]ï¼å¿è®¾åæ°ã
     * @param {Object} setting - å¾è¡¨éç½®åæ°ï¼å¿è®¾åæ°ã
     * @param {Object} setting.axisStyle - åæ è½´æ ·å¼ï¼æ­¤æ ·å¼å¯¹è±¡å¯¹è±¡å¯è®¾å±æ§ï¼<SuperMap.Feature.ShapeParameters.Line#style>ã
     * @param {boolean} [setting.axisUseArrow=false] - åæ è½´æ¯å¦ä½¿ç¨ç®­å¤´ã
     * @param {number} [setting.axisYTick=0] - y è½´å»åº¦æ°éï¼0è¡¨ç¤ºä¸ä½¿ç¨ç®­å¤´ã
     * @param {Array.<string>} setting.axisYLabels - y è½´ä¸çæ ç­¾ç»åå®¹ï¼æ ç­¾é¡ºåºæ²¿çæ°æ®è§å¾æ¡å·¦é¢æ¡è¾¹èªä¸èä¸ï¼ç­è·æå¸ãä¾å¦ï¼["1000", "750", "500", "250", "0"]ã
     * @param {Object} setting.axisYLabelsStyle - y è½´ä¸çæ ç­¾ç»æ ·å¼ï¼æ­¤æ ·å¼å¯¹è±¡å¯¹è±¡å¯è®¾å±æ§ï¼<SuperMap.Feature.ShapeParameters.Label#style>ã
     * @param {Array.<number>} [setting.axisYLabelsOffset=[0,0]] - y è½´ä¸çæ ç­¾ç»åç§»éãé¿åº¦ä¸º 2 çæ°ç»ï¼æ°ç»ç¬¬ä¸é¡¹è¡¨ç¤º y è½´æ ç­¾ç»æ¨ªåä¸çåç§»éï¼åå·¦ä¸ºæ­£ï¼é»è®¤å¼ï¼0ï¼æ°ç»ç¬¬äºé¡¹è¡¨ç¤º y è½´æ ç­¾ç»çºµåä¸çåç§»éï¼åä¸ä¸ºæ­£ï¼é»è®¤å¼ï¼0ã
     * @param {Array.<string>} setting.axisXLabels - x è½´ä¸çæ ç­¾ç»åå®¹ï¼æ ç­¾é¡ºåºæ²¿çæ°æ®è§å¾æ¡ä¸é¢æ¡è¾¹èªå·¦åå³æå¸ï¼ä¾å¦ï¼["92å¹´", "95å¹´", "99å¹´"]ã
     * æ ç­¾æå¸è§åï¼å½æ ç­¾æ°éä¸ xShapeInfo ä¸­çå±æ§ xPositions æ°éç¸åï¼å³æ ç­¾ä¸ªæ°ä¸æ°æ®ä¸ªæ°ç¸ç­æ¶ï¼, æç§ xPositions æä¾çä½ç½®å¨æ°´å¹³æ¹åä¸æå¸æ ç­¾ï¼å¦åæ²¿æ°æ®è§å¾æ¡ä¸é¢æ¡è¾¹ç­è·æå¸æ ç­¾ã
     * @param {Object} setting.axisXLabelsStyle - x è½´ä¸çæ ç­¾ç»æ ·å¼ï¼æ­¤æ ·å¼å¯¹è±¡å¯¹è±¡å¯è®¾å±æ§ï¼<SuperMap.Feature.ShapeParameters.Label#style>ã
     * @param {Array.<number>} [setting.axisXLabelsOffset=[0,0]] - x è½´ä¸çæ ç­¾ç»åç§»éãé¿åº¦ä¸º 2 çæ°ç»ï¼æ°ç»ç¬¬ä¸é¡¹è¡¨ç¤º x è½´æ ç­¾ç»æ¨ªåä¸çåç§»éï¼åå·¦ä¸ºæ­£ï¼é»è®¤å¼ï¼0ï¼æ°ç»ç¬¬äºé¡¹è¡¨ç¤º x è½´æ ç­¾ç»çºµåä¸çåç§»éï¼åä¸ä¸ºæ­£ï¼é»è®¤å¼ï¼0ã
     * @param {boolean} setting.useXReferenceLine - æ¯å¦ä½¿ç¨æ°´å¹³åèçº¿ï¼å¦æä¸º trueï¼å¨ axisYTick å¤§äº 0 æ¶ææï¼æ°´å¹³åèçº¿æ¯ y è½´å»åº¦å¨æ°æ®è§å¾æ¡éçå»¶ä¼¸ã
     * @param {Object} setting.xReferenceLineStyle - æ°´å¹³åèçº¿æ ·å¼ï¼æ­¤æ ·å¼å¯¹è±¡å¯¹è±¡å¯è®¾å±æ§ï¼<SuperMap.Feature.ShapeParameters.Line#style>ã
     * @param {number} [setting.axis3DParameter=0] - 3D åæ è½´åæ°ï¼æ­¤å±æ§å¼å¨å¤§äºç­äº 15 æ¶ææã
     * @param {Object} xShapeInfo - X æ¹åä¸çå¾å½¢ä¿¡æ¯å¯¹è±¡ï¼åå«ä¸¤ä¸ªå±æ§ã
     * @param {Array.<number>} xShapeInfo.xPositions - å¾å½¢å¨ x è½´æ¹åä¸çåç´ åæ å¼ï¼æ¯ä¸ä¸ªä¸ç»´æ°ç»ï¼å¦æå¾å½¢å¨ x æ¹åä¸æä¸å®å®½åº¦ï¼éå¸¸åå¾å½¢å¨ x æ¹åä¸çä¸­å¿ç¹ä¸ºå¾å½¢å¨ x æ¹åä¸çåæ å¼ã
     * @param {number} xShapeInfo.width - å¾å½¢çå®½åº¦ï¼ç¹å«æ³¨æï¼ç¹çå®½åº¦å§ç»ä¸º 0ï¼èä¸æ¯å¶ç´å¾ï¼ã
     * @returns {Array.<Object>} ç»è®¡å¾è¡¨åæ è½´å¾å½¢å¯¹è±¡æ°ç»ã
     */
    static GraphAxis(shapeFactory, dataViewBox, setting, xShapeInfo) {
        var dvb = dataViewBox;
        var sets = setting ? setting : {};

        // åèçº¿å¾å½¢å¯¹è±¡ç»
        var refLines = [];
        //åæ è½´ç®­å¤´å¯¹è±¡ç»
        var arrows = [];
        // æ¯å¦ä½¿ç¨åæ°´å¹³èçº¿ï¼é»è®¤ä¸ä½¿ç¨
        var isAddRefLine = sets.useXReferenceLine ? sets.useXReferenceLine : false;
        // y è½´ä¸çå»åº¦
        var axisytick = (sets.axisYTick && !isNaN(sets.axisYTick)) ? sets.axisYTick : 0;
        // åæ è½´èç¹æ°ç»
        var pois = [];
        //z è½´ç®­å¤´æ°ç»
        var zArrowPois = [];
        // x,y è½´ä¸»å¹²èç¹æ°ç»
        var xMainPois = [];
        if (axisytick == 0) {
            xMainPois.push([dvb[0], dvb[3] - 5]);
            xMainPois.push([dvb[0], dvb[1]]);

            // 3D åæ è½´  ç¬¬ä¸è±¡éå¹³åçº¿
            if (sets.axis3DParameter && !isNaN(sets.axis3DParameter) && sets.axis3DParameter >= 15) {
                let axis3DParameter = parseInt(sets.axis3DParameter);
                let axis3DPoi = [dvb[0] - axis3DParameter, dvb[1] + axis3DParameter];

                // æ·»å  3D è½´èç¹
                if (sets.axisUseArrow) {      // æ·»å  3D è½´ç®­å¤´èç¹åæ 
                    //ç®­å¤´åæ 
                    zArrowPois.push([axis3DPoi[0] + 1.5, axis3DPoi[1] - 7.5]);
                    zArrowPois.push([axis3DPoi[0] - 1, axis3DPoi[1] + 1]);
                    zArrowPois.push([axis3DPoi[0] + 7.5, axis3DPoi[1] - 1.5]);
                    //3Dè½´
                    xMainPois.push([axis3DPoi[0], axis3DPoi[1]]);
                } else {
                    xMainPois.push([axis3DPoi[0], axis3DPoi[1]]);
                }

                xMainPois.push([dvb[0], dvb[1]]);
            }
            xMainPois.push([dvb[2] + 5, dvb[1]]);
        } else {
            // åä½å»åº¦é¿åº¦
            var unitTick = Math.abs(dvb[1] - dvb[3]) / axisytick;
            // å»åº¦ y åæ 
            var thckY = dvb[3];

            xMainPois.push([dvb[0], thckY - 5]);

            for (var i = 0; i < axisytick; i++) {
                xMainPois.push([dvb[0], thckY]);
                xMainPois.push([dvb[0] - 5, thckY]);
                xMainPois.push([dvb[0], thckY]);

                // åèçº¿
                if (isAddRefLine) {
                    // åèçº¿åæ°å¯¹è±¡
                    var refLineSP = new Line_Line([
                        [dvb[0], thckY],
                        [dvb[2], thckY]
                    ]);
                    // åèçº¿é»è®¤æ ·å¼å¯¹è±¡
                    refLineSP.style = {
                        strokeColor: "#cfcfcf",
                        strokeLinecap: "butt",
                        strokeLineJoin: "round",
                        strokeWidth: 1
                    };
                    // ç¦æ­¢äºä»¶
                    refLineSP.clickable = false;
                    refLineSP.hoverable = false;
                    // ç¨æ·style
                    if (sets.xReferenceLineStyle) {
                        Util_Util.copyAttributesWithClip(refLineSP.style, sets.xReferenceLineStyle);
                    }
                    // çæåèçº¿å¾å½¢å¯¹è±¡
                    refLines.push(shapeFactory.createShape(refLineSP))
                }

                // y å»åº¦å¢é
                thckY += unitTick;
            }

            xMainPois.push([dvb[0], dvb[1]]);

            // 3D åæ è½´  ç¬¬ä¸è±¡éå¹³åçº¿
            if (sets.axis3DParameter && !isNaN(sets.axis3DParameter) && sets.axis3DParameter >= 15) {
                let axis3DParameter = parseInt(sets.axis3DParameter);
                let axis3DPoi = [dvb[0] - axis3DParameter, dvb[1] + axis3DParameter];

                /*
                 // ç®­å¤´è®¡ç®è¿ç¨
                 var axis3DPoiRef = [axis3DPoi[0] + 7, axis3DPoi[1] - 7];  // 7 æ¯ 10 ä¸ºæè¾¹ cosï¼45åº¦ï¼æ¶é»è¾¹çå¼
                 var axis3DPoiLT = [axis3DPoiRef[0] - 4, axis3DPoiRef[1] - 4];
                 var axis3DPoiRB = [axis3DPoiRef[0] + 4, axis3DPoiRef[1] + 4];
                 if(sets.axisUseArrow){
                 xMainPois.push([axis3DPoi[0], axis3DPoi[1]]);
                 xMainPois.push([axis3DPoiLT[0], axis3DPoiLT[1]]);
                 xMainPois.push([axis3DPoi[0], axis3DPoi[1]]);
                 xMainPois.push([axis3DPoiRB[0], axis3DPoiRB[1]]);
                 xMainPois.push([axis3DPoi[0], axis3DPoi[1]]);
                 }
                 else{
                 xMainPois.push([axis3DPoi[0], axis3DPoi[1]]);
                 }
                 */

                // æ·»å  3D è½´èç¹
                if (sets.axisUseArrow) {      // æ·»å  3D è½´åç®­å¤´åæ 
                    //ç®­å¤´åæ 
                    zArrowPois.push([axis3DPoi[0] + 1.5, axis3DPoi[1] - 7.5]);
                    zArrowPois.push([axis3DPoi[0] - 1, axis3DPoi[1] + 1]);
                    zArrowPois.push([axis3DPoi[0] + 7.5, axis3DPoi[1] - 1.5]);
                    //3Dè½´
                    xMainPois.push([axis3DPoi[0], axis3DPoi[1]]);
                } else {
                    xMainPois.push([axis3DPoi[0], axis3DPoi[1]]);
                }

                xMainPois.push([dvb[0], dvb[1]]);
            }

            xMainPois.push([dvb[2] + 5, dvb[1]]);
        }
        // åæ è½´ç®­å¤´
        if (sets.axisUseArrow) {
            // x è½´ç®­å¤´èç¹æ°ç»
            var xArrowPois = [
                [dvb[2] + 5, dvb[1] + 4],
                [dvb[2] + 13, dvb[1]],
                [dvb[2] + 5, dvb[1] - 4]
            ];

            // y è½´ç®­å¤´èç¹æ°ç»
            var yArrowPois = [
                [dvb[0] - 4, dvb[3] - 5],
                [dvb[0], dvb[3] - 13],
                [dvb[0] + 4, dvb[3] - 5]
            ];

            //xè½´ç®­å¤´
            var xSP = new feature_Polygon_Polygon(xArrowPois);
            xSP.style = {fillColor: "#008acd"};
            Util_Util.copyAttributesWithClip(xSP.style, sets.axisStyle);
            arrows.push(shapeFactory.createShape(xSP));

            //yè½´ç®­å¤´
            var ySP = new feature_Polygon_Polygon(yArrowPois);
            ySP.style = {fillColor: "#008acd"};
            Util_Util.copyAttributesWithClip(ySP.style, sets.axisStyle);
            arrows.push(shapeFactory.createShape(ySP));

            // zè½´ç®­å¤´ åæ è½´ç®­å¤´æ¯å¦è¦ä½¿ç¨
            if (sets.axis3DParameter && !isNaN(sets.axis3DParameter) && sets.axis3DParameter >= 15) {
                var zSP = new feature_Polygon_Polygon(zArrowPois);
                zSP.style = {fillColor: "#008acd"};
                Util_Util.copyAttributesWithClip(zSP.style, sets.axisStyle);
                arrows.push(shapeFactory.createShape(zSP));
            }

        }
        //ä¸å¸¦ç®­å¤´çåæ è½´
        pois = xMainPois;

        // åæ è½´åæ°å¯¹è±¡
        var axisSP = new Line_Line(pois);
        // åæ è½´é»è®¤style
        axisSP.style = {
            strokeLinecap: "butt",
            strokeLineJoin: "round",
            strokeColor: "#008acd",
            strokeWidth: 1
        };
        // ç¨æ· style
        if (sets.axisStyle) {
            Util_Util.copyAttributesWithClip(axisSP.style, sets.axisStyle);
        }
        // ç¦æ­¢äºä»¶
        axisSP.clickable = false;
        axisSP.hoverable = false;
        // åå»ºåæ è½´å¾å½¢å¯¹è±¡
        var axisMain = [shapeFactory.createShape(axisSP)];

        // Y è½´æ ç­¾
        var yLabels = [];
        if (sets.axisYLabels && sets.axisYLabels.length && sets.axisYLabels.length > 0) {
            var axisYLabels = sets.axisYLabels;
            let len = axisYLabels.length;

            // æ ç­¾åç§»é
            var ylOffset = [0, 0];
            if (sets.axisYLabelsOffset && sets.axisYLabelsOffset.length) {
                ylOffset = sets.axisYLabelsOffset;
            }

            if (len == 1) {
                // æ ç­¾åæ°å¯¹è±¡
                let labelYSP = new Label_Label(dvb[0] - 5 + ylOffset[0], dvb[3] + ylOffset[1], axisYLabels[0]);
                labelYSP.style = {
                    labelAlign: "right"
                };
                // ç¨æ· style
                if (sets.axisYLabelsStyle) {
                    Util_Util.copyAttributesWithClip(labelYSP.style, sets.axisYLabelsStyle);
                }
                // ç¦æ­¢äºä»¶
                labelYSP.clickable = false;
                labelYSP.hoverable = false;
                // å¶ä½æ ç­¾
                yLabels.push(shapeFactory.createShape(labelYSP));
            } else {
                var labelY = dvb[3];
                // y è½´æ ç­¾åä½è·ç¦»
                var yUnit = Math.abs(dvb[1] - dvb[3]) / (len - 1);

                for (var j = 0; j < len; j++) {
                    // æ ç­¾åæ°å¯¹è±¡
                    let labelYSP = new Label_Label(dvb[0] - 5 + ylOffset[0], labelY + ylOffset[1], axisYLabels[j]);
                    labelYSP.style = {
                        labelAlign: "right"
                    };
                    // ç¨æ· style
                    if (sets.axisYLabelsStyle) {
                        Util_Util.copyAttributesWithClip(labelYSP.style, sets.axisYLabelsStyle);
                    }
                    // ç¦æ­¢äºä»¶
                    labelYSP.clickable = false;
                    labelYSP.hoverable = false;
                    // å¶ä½æ ç­¾
                    yLabels.push(shapeFactory.createShape(labelYSP));
                    // y è½´æ ç­¾ y æ¹åå¢é
                    labelY += yUnit;
                }
            }
        }

        // X è½´æ ç­¾
        var xLabels = [];
        if (sets.axisXLabels && sets.axisXLabels.length && sets.axisXLabels.length > 0) {
            let axisXLabels = sets.axisXLabels;
            let len = axisXLabels.length;

            // æ ç­¾åç§»é
            let xlOffset = [0, 0];
            if (sets.axisXLabelsOffset && sets.axisXLabelsOffset.length) {
                xlOffset = sets.axisXLabelsOffset;
            }

            // æ ç­¾ä¸ªæ°ä¸æ°æ®å­æ®µä¸ªæ°ç¸ç­ç­æ¶ï¼æ ç­¾å¨ x è½´ååæå
            if (xShapeInfo && xShapeInfo.xPositions && xShapeInfo.xPositions.length && xShapeInfo.xPositions.length == len) {
                let xsCenter = xShapeInfo.xPositions;
                for (let K = 0; K < len; K++) {
                    // æ ç­¾åæ°å¯¹è±¡
                    let labelXSP = new Label_Label(xsCenter[K] + xlOffset[0], dvb[1] + xlOffset[1], axisXLabels[K]);
                    // é»è®¤ style
                    labelXSP.style = {
                        labelAlign: "center",
                        labelBaseline: "top"
                    };
                    // ç¨æ· style
                    if (sets.axisXLabelsStyle) {
                        Util_Util.copyAttributesWithClip(labelXSP.style, sets.axisXLabelsStyle);
                    }
                    // ç¦æ­¢äºä»¶
                    labelXSP.clickable = false;
                    labelXSP.hoverable = false;
                    // åå»ºæ ç­¾å¯¹è±¡
                    xLabels.push(shapeFactory.createShape(labelXSP));
                }
            } else {
                if (len == 1) {
                    // æ ç­¾åæ°å¯¹è±¡
                    let labelXSP = new Label_Label(dvb[0] - 5 + xlOffset[0], dvb[1] + xlOffset[0], axisXLabels[0]);
                    // é»è®¤ style
                    labelXSP.style = {
                        labelAlign: "center",
                        labelBaseline: "top"
                    };
                    // ç¨æ· style
                    if (sets.axisXLabelsStyle) {
                        Util_Util.copyAttributesWithClip(labelXSP.style, sets.axisXLabelsStyle);
                    }
                    // ç¦æ­¢äºä»¶
                    labelXSP.clickable = false;
                    labelXSP.hoverable = false;
                    // åå»ºæ ç­¾å¯¹è±¡
                    xLabels.push(shapeFactory.createShape(labelXSP));
                } else {
                    let labelX = dvb[0];
                    // x è½´æ ç­¾åä½è·ç¦»
                    let xUnit = Math.abs(dvb[2] - dvb[0]) / (len - 1);

                    for (let m = 0; m < len; m++) {
                        // æ ç­¾åæ°å¯¹è±¡
                        let labelXSP = new Label_Label(labelX + xlOffset[0], dvb[1] + xlOffset[1], axisXLabels[m]);
                        // é»è®¤ style
                        labelXSP.style = {
                            labelAlign: "center",
                            labelBaseline: "top"
                        };
                        // ç¨æ· style
                        if (sets.axisXLabelsStyle) {
                            Util_Util.copyAttributesWithClip(labelXSP.style, sets.axisXLabelsStyle);
                        }
                        // ç¦æ­¢äºä»¶
                        labelXSP.clickable = false;
                        labelXSP.hoverable = false;
                        // åå»ºæ ç­¾å¯¹è±¡
                        xLabels.push(shapeFactory.createShape(labelXSP));
                        // x è½´æ ç­¾ x æ¹åå¢é
                        labelX += xUnit;
                    }
                }
            }
        }

        // ç»è£å¹¶è¿åææåæ è½´çå¾å½¢
        return ((refLines.concat(axisMain)).concat(yLabels)).concat(xLabels).concat(arrows);
    }
    
    /**
     * @function  SuperMap.Feature.ShapeParameters.prototype.ShapeStyleTool
     * @description ä¸ä¸ªå¾å½¢ style å¤çå·¥å·ãæ­¤å·¥å·å°æå®çé»è®¤ styleï¼éç¨ styleï¼æ styleGroup åå¾ç style åææ°æ®å¼ value èå´åå¾ç style è¿è¡åå¹¶ï¼å¾å°å¾å½¢æç»ç styleã
     * @param {Object} defaultStyle - é»è®¤styleï¼æ­¤æ ·å¼å¯¹è±¡å¯è®¾å±æ§æ ¹æ®å¾å½¢ç±»ååè <{@link SuperMap.Feature.ShapeParameters}> å­ç±»å¯¹è±¡ç style å±æ§ã
     * @param {Object} style - å¾å½¢å¯¹è±¡åºç¡ styleï¼æ­¤åæ°æ§å¶å¾å½¢çåºç¡æ ·å¼ï¼å¯è®¾å±æ§æ ¹æ®å¾å½¢ç±»ååè <{@link SuperMap.Feature.ShapeParameters}> å­ç±»å¯¹è±¡ç style å±æ§ãä¼åçº§ä½äº styleGroupï¼styleByCodomainã
     * @param {Array.<Object>} styleGroup - ä¸ä¸ª style æ°ç»ï¼ä¼åçº§ä½äº styleByCodomainï¼é«äº styleãæ­¤æ°ç»æ¯ä¸ªåç´ æ¯æ ·å¼å¯¹è±¡ï¼
     * å¶å¯è®¾å±æ§æ ¹æ®å¾å½¢ç±»ååè <{@link SuperMap.Feature.ShapeParameters}> å­ç±»å¯¹è±¡ç style å±æ§ãéè¿ index åæ°ä» styleGroup ä¸­å styleã
     * @param {Array.<Object>} styleByCodomain - ææ°æ®ï¼åæ° valueï¼æå¨å¼åèå´æ§å¶æ°æ®çå¯è§åå¯¹è±¡æ ·å¼ã
     * (start code)
     * // styleByCodomain çæ¯ä¸ªåç´ æ¯ä¸ªåå«å¼åä¿¡æ¯åä¸å¼åå¯¹åºæ ·å¼ä¿¡æ¯çå¯¹è±¡ï¼è¯¥å¯¹è±¡ï¼å¿é¡»ï¼æä¸ä¸ªå±æ§ï¼
     * // start: å¼åå¼ä¸éï¼åå«ï¼;
     * // end: å¼åå¼ä¸éï¼ä¸åå«ï¼;
     * // style: æ°æ®å¯è§åå¾å½¢ç styleï¼å¶å¯è®¾å±æ§æ ¹æ®å¾å½¢ç±»ååè <SuperMap.Feature.ShapeParameters> å­ç±»å¯¹è±¡ç style å±æ§ãã
     * // dataStyleByCodomain æ°ç»å½¢å¦ï¼
     * [
     *   {
 *     start:0,
 *     end:250,
 *     style:{
 *          fillColor:"#00CD00"
 *      }
 *  },
     *   {
 *     start:250,
 *     end:500,
 *     style:{
 *          fillColor:"#00EE00"
 *      }
 *  },
     *   {
 *     start:500,
 *     end:750,
 *     style:{
 *          fillColor:"#00FF7F"
 *      }
 *  },
     *   {
 *     start:750,
 *     end:1500,
 *     style:{
 *          fillColor:"#00FF00"
 *      }
 *  }
     * ]
     * (end)
     * @param {number} index - styleGroup çç´¢å¼å¼ï¼ç¨äºååº styleGroup æå®ç styleã
     * @param {number} value - æ°æ®å¼ï¼ç¨äºååº styleByCodomain æå®ç styleã
     * @returns {Object} åå¹¶åçæ ·å¼ ï¼styleï¼ å¯¹è±¡ã
     */
    static ShapeStyleTool(defaultStyle, style, styleGroup, styleByCodomain, index, value) {
        // ç¨ defaultStyle åå§å style å¯¹è±¡
        var finalStyle = defaultStyle ? defaultStyle : {};

        // åºç¡ style
        if (style) {
            Util_Util.copyAttributesWithClip(finalStyle, style);
        }

        // æç´¢å¼èµ style
        if (styleGroup && styleGroup.length && typeof(index) !== "undefined" && !isNaN(index) && index >= 0) {
            if (styleGroup[index]) {
                Util_Util.copyAttributesWithClip(finalStyle, styleGroup[index]);
            }
        }

        // æå¼åèµ style
        if (styleByCodomain && styleByCodomain.length && typeof(value) !== "undefined") {
            var dsc = styleByCodomain;
            var dscLen = dsc.length;
            var v = parseFloat(value);
            for (var i = 0; i < dscLen; i++) {
                if (dsc[i].start <= v && v < dsc[i].end) {
                    Util_Util.copyAttributesWithClip(finalStyle, dsc[i].style);
                    break;
                }
            }
        }

        return finalStyle;
    }

}
SuperMap.Feature = SuperMap.Feature || {};
SuperMap.Feature.ShapeFactory = ShapeFactory_ShapeFactory;
// CONCATENATED MODULE: ./src/common/overlay/feature/Theme.js






/**
 * @class  SuperMap.Feature.Theme
 * @category Visualization Theme
 * @classdesc ä¸é¢è¦ç´ åºç±»ï¼æ­¤ç±»ä¸å¯å®ä¾åã
 */
class feature_Theme_Theme {

    /**
     * @function SuperMap.Feature.Theme.prototype.constructor
     * @description æé å½æ°ã
     * @param {Object} data - ç¨æ·æ°æ®ï¼ç¨äºçæå¯è§å shapeï¼å¿è®¾åæ°ã
     * @param {SuperMap.Layer.Theme} layer - æ­¤ä¸é¢è¦ç´ æå¨å¾å±ï¼å¿è®¾åæ°ã
     * @returns {SuperMap.Feature.Theme} è¿åä¸ä¸ªä¸é¢è¦ç´ ã
     */
    constructor(data, layer) {

        if (!data) {
            return;
        }
        // layer å¿é¡»å·²ç»æ·»å å°å°å¾, ä¸å·²åå§åæ¸²æå¨
        if (!layer || !layer.map || !layer.renderer) {
            return;
        }

        /**
         * @member {string} SuperMap.Feature.Theme.prototype.id
         * @description ä¸é¢è¦ç´ å¯ä¸æ è¯ã
         */
        this.id = Util_Util.createUniqueID(this.CLASS_NAME + "_");

        /**
         * @member {SuperMap.LonLat} SuperMap.Feature.Theme.prototype.lonlat
         * @description ä¸é¢è¦ç´ å°çåèä½ç½®ãå­ç±»ä¸­å¿é¡»æ ¹æ®ç¨æ·æ°æ®ï¼æå°çä½ç½®åæ°ï¼å¯¹å¶èµå¼ã
         */
        this.lonlat = null;

        /**
         * @member {Array} SuperMap.Feature.Theme.prototype.location
         * @description ä¸é¢è¦ç´ åç´ åèä½ç½®ãéå¸¸ç±å°çåèä½ç½®å³å®ãé¿åº¦ä¸º 2 çæ°ç»ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤º x åæ ï¼ç¬¬äºä¸ªåç´ è¡¨ç¤º y åæ ã
         */
        this.location = [];

        /**
         * @readonly
         * @member {Object} SuperMap.Feature.Theme.prototype.data
         * @description ç¨æ·æ°æ®ï¼ç¨äºçæå¯è§å shapeï¼å¯å¨å­ç±»ä¸­è§å®æ°æ®æ ¼å¼æç±»åï¼å¦ï¼<SuperMap.Feature.Vector>ã
         */
        this.data = data;

        /**
         * @readonly
         * @member {Array} SuperMap.Feature.Theme.prototype.shapes
         * @description æææ­¤ä¸é¢è¦ç´ çå¯è§åå¾å½¢å¯¹è±¡æ°ç»ï¼æ°ç»é¡ºåºæ§å¶æ¸²æã
         */
        this.shapes = [];

        /**
         * @readonly
         * @member {SuperMap.Layer.Theme} SuperMap.Feature.Theme.prototype.layer
         * @description æ­¤ä¸é¢è¦ç´ æå¨ä¸é¢å¾å±ã
         */
        this.layer = layer;

        this.CLASS_NAME = "SuperMap.Feature.Theme";

    }


    /**
     * @function SuperMap.Feature.Theme.prototype.destroy
     * @description éæ¯ä¸é¢è¦ç´ ã
     */
    destroy() {
        this.data = null;
        this.id = null;
        this.lonlat = null;
        this.location = null;
        this.shapes = null;
        this.layer = null;
    }

    
    /**
     * @function SuperMap.Feature.Theme.prototype.getLocalXY
     * @description å°çåæ è½¬ä¸ºåç´ åæ ã
     * @param {(SuperMap.Geometry.Point|SuperMap.Geometry.GeoText|SuperMap.LonLat)} coordinate - å°çåæ ç¹ã
     * @returns {Array} é¿åº¦ä¸º 2 çæ°ç»ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤º x åæ ï¼ç¬¬äºä¸ªåç´ è¡¨ç¤º y åæ ã
     */
    getLocalXY(coordinate) {
        var resolution = this.layer.map.getResolution();
        var extent = this.layer.map.getExtent();

        if (coordinate instanceof Point_Point || coordinate instanceof GeoText_GeoText) {
            let x = (coordinate.x / resolution + (-extent.left / resolution));
            let y = ((extent.top / resolution) - coordinate.y / resolution);
            return [x, y];
        } else if (coordinate instanceof LonLat_LonLat) {
            let x = (coordinate.lon / resolution + (-extent.left / resolution));
            let y = ((extent.top / resolution) - coordinate.lat / resolution);
            return [x, y];
        } else {
            return null;
        }
    }

}
SuperMap.Feature = SuperMap.Feature || {};
SuperMap.Feature.Theme = feature_Theme_Theme;
// CONCATENATED MODULE: ./src/common/overlay/Graph.js





/**
 * @class SuperMap.Feature.Theme.Graph
 * @classdesc ç»è®¡ä¸é¢è¦ç´ åºç±»ã
 * @category Visualization Theme
 * @description æ­¤ç±»å®ä¹äºç»è®¡ä¸é¢è¦ç´ åºç¡æ¨¡åï¼å·ä½çå¾è¡¨æ¨¡åéè¿ç»§æ¿æ­¤ç±»ï¼å¨å­ç±»ä¸­å®ç° assembleShapes æ¹æ³ã
 *              ç»è®¡ä¸é¢è¦ç´ æ¨¡åéç¨äºå¯è§åå¾å½¢å¤§å°èªéåºç­ç¥ï¼ç¨è¾å°çåæ°æ§å¶çå¾è¡¨è¯¸å¤å¾å½¢ï¼å¾è¡¨éç½®å¯¹è±¡ <SuperMap.Feature.Theme.Graph.setting> çåºç¡å±æ§åªæ 7 ä¸ªï¼
 *              å®ä»¬æ§å¶çå¾è¡¨ç»æãå¼åèå´ãæ°æ®å°æ°ä½ç­åºç¡å¾è¡¨å½¢æãææå¾è¡¨çå¾å½¢å¿é¡»å¨å¾è¡¨ç»æéèªéåºå¤§å°ã
 *              æ­¤ç±»ä¸å¯å®ä¾åï¼æ­¤ç±»çå¯å®ä¾åå­ç±»å¿é¡»å®ç° assembleShapes() æ¹æ³ã
 * @extends SuperMap.Feature.Theme
 * @param {SuperMap.Feature.Vector} data - ç¨æ·æ°æ®ã
 * @param {SuperMap.Layer.Theme} layer - æ­¤ä¸é¢è¦ç´ æå¨å¾å±ã
 * @param {Array.<string>} fields - data ä¸­çåä¸æ­¤å¾è¡¨çæçå­æ®µåç§°ã
 * @param {Object} setting - å¾è¡¨éç½®å¯¹è±¡ã
 * @param {SuperMap.LonLat} [lonlat] - ä¸é¢è¦ç´ å°çä½ç½®ãé»è®¤ä¸º data æä»£çå°çè¦ç´  Bounds ä¸­å¿ã
 */
class Graph_Graph extends feature_Theme_Theme {


    constructor(data, layer, fields, setting, lonlat, options) {
        super(data, layer, fields, setting, lonlat, options);

        /**
         * @member {SuperMap.Feature.ShapeFactory} SuperMap.Feature.Theme.Graph.prototype.shapeFactory
         * @description åç½®çå¾å½¢å·¥åå¯¹è±¡ï¼è°ç¨å¶ createShape æ¹æ³åå»ºå¾å½¢ã
         */
        this.shapeFactory = new ShapeFactory_ShapeFactory();

        /**
         * @member {Object} SuperMap.Feature.Theme.Graph.prototype.shapeParameters
         * @description å½åå¾å½¢åæ°å¯¹è±¡ï¼<SuperMap.Feature.ShapeParameters> çå­ç±»å¯¹è±¡ã
         */
        this.shapeParameters = null;

        /**
         * @member {boolean} [SuperMap.Feature.Theme.Graph.prototype.RelativeCoordinate]
         * @description å¾å½¢æ¯å¦å·²ç»è®¡ç®äºç¸å¯¹åæ ã
         */
        this.RelativeCoordinate = false;

        /**
         * @member {Object} SuperMap.Feature.Theme.Graph.prototype.setting
         * @description å¾è¡¨éç½®å¯¹è±¡ï¼è¯¥å¯¹è±¡æ§å¶çå¾è¡¨çå¯è§åæ¾ç¤ºã
         * @param {number} width - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å®½åº¦ã
         * @param {number} height - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼é«åº¦ã
         * @param {Array.<number>} codomain - å¼åï¼é¿åº¦ä¸º 2 çä¸ç»´æ°ç»ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤ºå¼åä¸éï¼ç¬¬äºä¸ªåç´ è¡¨ç¤ºå¼åä¸éã
         * @param {number} [XOffset] - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å¨ X æ¹åä¸çåç§»å¼ï¼åä½åç´ ã
         * @param {number} [YOffset] - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å¨ Y æ¹åä¸çåç§»å¼ï¼åä½åç´ ã
         * @param {Array.<number>} [dataViewBoxParameter] - æ°æ®è§å¾æ¡ dataViewBox åæ°ï¼å®æ¯æå¾è¡¨æ¡ chartBox
         *                                                    ï¼ç±å¾è¡¨ä½ç½®ãå¾è¡¨å®½åº¦ãå¾è¡¨é«åº¦ææçå¾è¡¨èå´æ¡ï¼å¨å·¦ãä¸ï¼å³ï¼ä¸åä¸ªæ¹åä¸çååè·å¼ã
         * @param {number} [decimalNumber] - æ°æ®å¼æ°ç» dataValues åç´ å¼å°æ°ä½æ°ï¼æ°æ®çå°æ°ä½å¤çåæ°ï¼åå¼èå´ï¼[0, 16]ã
         *                                       å¦æä¸è®¾ç½®æ­¤åæ°ï¼å¨åæ°æ®å¼æ¶ä¸å¯¹æ°æ®åå°æ°ä½å¤çã
         *             
         */
        this.setting = null;

        /**
         * @readonly
         * @member {Array.<number>} SuperMap.Feature.Theme.Graph.prototype.origonPoint 
         * @description ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼åç¹ï¼å¾è¡¨å·¦ä¸è§ç¹åç´ åæ ï¼æ¯é¿åº¦ä¸º 2 çä¸ç»´æ°ç»ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤º x åæ ï¼ç¬¬äºä¸ªåç´ è¡¨ç¤º y åæ ã
         */
        this.origonPoint = null;

        /**
         * @readonly
         * @member {Array.<number>} SuperMap.Feature.Theme.Graph.prototype.chartBox
         * @description ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼åºåï¼å³å¾è¡¨æ¡ï¼é¿åº¦ä¸º 4 çä¸ç»´æ°ç»ï¼æ°ç»ç 4 ä¸ªåç´ ä¾æ¬¡è¡¨ç¤ºå¾è¡¨æ¡å·¦ç«¯ x åæ å¼ã
         *              ä¸ç«¯ yåæ å¼ã å³ç«¯ xåæ å¼ã ä¸ç«¯ y åæ å¼ï¼[left, bottom, right, top]ã
         */
        this.chartBox = null;

        /**
         * @readonly
         * @member {SuperMap.Bounds} SuperMap.Feature.Theme.Graph.prototype.chartBounds
         * @description å¾è¡¨ Bounds éç lonlatãXOffsetãYOffset æ´æ°ï¼æ³¨æ chartBounds æ¯å¾è¡¨åç´ èå´ï¼ä¸æ¯å°çèå´ã
         */
        this.chartBounds = null;

        /**
         * @readonly
         * @member {number} SuperMap.Feature.Theme.Graph.prototype.width 
         * @description ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å®½åº¦ ã
         */
        this.width = null;

        /**
         * @readonly
         * @member {number} SuperMap.Feature.Theme.Graph.prototype.height
         * @description ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼é«åº¦ ã
         */
        this.height = null;

        /**
         * @readonly
         * @member {number} SuperMap.Feature.Theme.Graph.prototype.XOffset
         * @description ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å¨ X æ¹åä¸çåç§»å¼ï¼åä½åç´ ã
         */
        this.XOffset = 0;

        /**
         * @readonly
         * @member {number} SuperMap.Feature.Theme.Graph.prototype.YOffset
         * @description ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å¨ Y æ¹åä¸çåç§»å¼ï¼åä½åç´ ã
         */
        this.YOffset = 0;

        /**
         * @readonly
         * @member {Array.<number>} SuperMap.Feature.Theme.Graph.prototype.DVBParameter
         * @description æ°æ®è§å¾æ¡åæ°ï¼é¿åº¦ä¸º 4 çä¸ç»´æ°ç»ï¼æ°ç»åç´ å¼ >= 0ï¼ï¼[leftOffset, bottomOffset, rightOffset, topOffset]ï¼chartBox ååè·å¼ã
         *               æ­¤å±æ§ç¨äºæå®æ°æ®è§å¾æ¡ dataViewBox çèå´ã
         */
        this.DVBParameter = null;

        /**
         * @readonly
         * @member {Array.<number>} SuperMap.Feature.Theme.Graph.prototype.dataViewBox 
         * @description æ°æ®è§å¾æ¡ï¼é¿åº¦ä¸º 4 çä¸ç»´æ°ç»ï¼[left, bottom, right, top]ã
         *              dataViewBox æ¯ç»è®¡ä¸é¢è¦ç´ ææ ¸å¿çåå®¹ï¼å®è´è´£è§£éæ°æ®å¨ä¸ä¸ªåç´ åºåéçæ°æ®å¯è§åå«ä¹ï¼
         *              è¿ç§å«ä¹ç¨å¯è§åå¾å½¢è¡¨è¾¾åºæ¥ï¼è¿äºè¡¨ç¤ºæ°æ®çå¾å½¢åä¸äºè¾å©å¾å½¢ç»åå¨ä¸èµ·ææç»è®¡ä¸é¢å¾è¡¨ã
         */
        this.dataViewBox = null;

        /**
         * @readonly
         * @member {Array.<number>} SuperMap.Feature.Theme.Graph.prototype.DVBCodomain 
         * @description æ°æ®è§å¾æ¡çååè®¸å±ç¤ºçæ°æ®å¼åï¼é¿åº¦ä¸º 2 çä¸ç»´æ°ç»ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤ºå¼åä¸éï¼ç¬¬äºä¸ªåç´ è¡¨ç¤ºå¼åä¸éã
         *              dataViewBox ä¸­åè®¸çæ°æ®èå´ï¼å¯¹æ°æ®æº¢åºå¼åèå´æåµçå¤çéè¦å¨ assembleShapes ä¸­è¿è¡ã
         */
        this.DVBCodomain = null;

        /**
         * @readonly
         * @member {Array.<number>} SuperMap.Feature.Theme.Graph.prototype.DVBCenterPoint 
         * @description æ°æ®è§å¾æ¡ä¸­å¿ç¹ï¼é¿åº¦ä¸º 2 çä¸ç»´æ°ç»ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤º x åæ ï¼ç¬¬äºä¸ªåç´ è¡¨ç¤º y åæ ã
         */
        this.DVBCenterPoint = null;

        /**
         * @readonly
         * @member {string} SuperMap.Feature.Theme.Graph.prototype.DVBUnitValue 
         * @description åä½å¼ãå¨ assembleShapes() ä¸­åå§åå¶å·ä½æä¹ï¼ä¾å¦ï¼é¥¼å¾ç DVBUnitValue å¯ä»¥å®ä¹ä¸º"360/æ°æ®æ»å"ï¼
         *              æçº¿å¾ç DVBUnitValue å¯ä»¥å®ä¹ä¸º "DVBCodomain/DVBHeight"ã
         */
        this.DVBUnitValue = null;

        /**
         * @readonly
         * @member {Array.<number>} SuperMap.Feature.Theme.Graph.prototype.DVBOrigonPoint 
         * @description æ°æ®è§å¾æ¡åç¹ï¼æ°æ®è§å¾æ¡å·¦ä¸è§ç¹ï¼é¿åº¦ä¸º 2 çä¸ç»´æ°ç»ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤º x åæ ï¼ç¬¬äºä¸ªåç´ è¡¨ç¤º y åæ ã
         */
        this.DVBOrigonPoint = null;

        /**
         * @readonly
         * @member {number} SuperMap.Feature.Theme.Graph.prototype.DVBWidth 
         * @description æ°æ®è§å¾æ¡å®½åº¦ã
         */
        this.DVBWidth = null;

        /**
         * @readonly
         * @member {number} SuperMap.Feature.Theme.Graph.prototype.DVBHeight 
         * @description æ°æ®è§å¾æ¡é«åº¦ã
         */
        this.DVBHeight = null;

        /**
         * @readonly
         * @member {Array.<number>} SuperMap.Feature.Theme.Graph.prototype.origonPointOffset
         * @description æ°æ®è§å¾æ¡åç¹ç¸å¯¹äºå¾è¡¨æ¡çåç¹åç§»éï¼é¿åº¦ä¸º 2 çä¸ç»´æ°ç»ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤º x åç§»éï¼ç¬¬äºä¸ªåç´ è¡¨ç¤º y åç§»éã
         */
        this.origonPointOffset = null;

        /**
         * @readonly
         * @member {Array.<string>} SuperMap.Feature.Theme.Graph.prototype.fields 
         * @description æ°æ®{SuperMap.Feature.Vector}å±æ§å­æ®µã
         */
        this.fields = fields || [];

        /**
         * @readonly
         * @member {Array.<number>} SuperMap.Feature.Theme.Graph.prototype.dataValues
         * @description å¾è¡¨å±ç¤ºçæ°æ®å¼ï¼éè¿ fields ä»æ°æ® feature å±æ§ä¸­è·å¾ã
         */
        this.dataValues = null;
        // å¾è¡¨ä½ç½®
        if (lonlat) {
            this.lonlat = lonlat;
        } else {
            // é»è®¤ä½¿ç¨ bounds ä¸­å¿
            this.lonlat = this.data.geometry.getBounds().getCenterLonLat();
        }

        // éç½®é¡¹æ£æµä¸èµå¼
        if (setting && setting.width && setting.height && setting.codomain) {
            this.setting = setting;
        }
        this.CLASS_NAME = "SuperMap.Feature.Theme.Graph";

    }

    /**
     * @function SuperMap.Feature.Theme.Graph.prototype.destroy
     * @description éæ¯ä¸é¢è¦ç´ ã
     */
    destroy() {
        this.shapeFactory = null;
        this.shapeParameters = null;
        this.width = null;
        this.height = null;
        this.origonPoint = null;
        this.chartBox = null;
        this.dataViewBox = null;
        this.chartBounds = null;
        this.DVBParameter = null;
        this.DVBOrigonPoint = null;
        this.DVBCenterPoint = null;
        this.DVBWidth = null;
        this.DVBHeight = null;
        this.DVBCodomain = null;
        this.DVBUnitValue = null;
        this.origonPointOffset = null;
        this.XOffset = null;
        this.YOffset = null;
        this.fields = null;
        this.dataValues = null;
        this.setting = null;
        super.destroy();
    }


    /**
     * @function SuperMap.Feature.Theme.Graph.prototype.initBaseParameter
     * @description åå§åä¸é¢è¦ç´ ï¼å¾è¡¨ï¼åºç¡åæ°ãå¨è°ç¨æ­¤æ¹æ³åï¼æ­¤ç±»çå¾è¡¨æ¨¡åç¸å³å±æ§é½æ¯ä¸å¯ç¨ç ï¼æ­¤æ¹æ³å¨ assembleShapes å½æ°ä¸­è°ç¨ã
     *              è°ç¨æ­¤å½æ°å³ç³»å° setting å¯¹è±¡çä»¥ä¸å±æ§ã
     * @param {number} width - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å®½åº¦ã
     * @param {number} height - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼é«åº¦ã
     * @param {Array.<number>} codomain - å¼åï¼é¿åº¦ä¸º 2 çä¸ç»´æ°ç»ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤ºå¼åä¸éï¼ç¬¬äºä¸ªåç´ è¡¨ç¤ºå¼åä¸éã
     * @param {number} [XOffset] - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å¨ X æ¹åä¸çåç§»å¼ï¼åä½åç´ ã
     * @param {number} [YOffset] - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å¨ Y æ¹åä¸çåç§»å¼ï¼åä½åç´ ã
     * @param {Array.<number>} [dataViewBoxParameter] - æ°æ®è§å¾æ¡ dataViewBox åæ°ï¼å®æ¯æå¾è¡¨æ¡ chartBoxã
     *                                     ï¼ç±å¾è¡¨ä½ç½®ãå¾è¡¨å®½åº¦ãå¾è¡¨é«åº¦ææçå¾è¡¨èå´æ¡ï¼å¨å·¦ãä¸ï¼å³ï¼ä¸åä¸ªæ¹åä¸çååè·å¼ã
     * @param {number} [decimalNumber] - æ°æ®å¼æ°ç» dataValues åç´ å¼å°æ°ä½æ°ï¼æ°æ®çå°æ°ä½å¤çåæ°ï¼åå¼èå´ï¼[0, 16]ãå¦æä¸è®¾ç½®æ­¤åæ°ï¼å¨åæ°æ®å¼æ¶ä¸å¯¹æ°æ®åå°æ°ä½å¤çã
     * @return {Boolean} åå§ååæ°æ¯å¦æåã
     */
    initBaseParameter() {
        // åæ°åå§åæ¯å¦æå
        var isSuccess = true;

        // setting å±æ§æ¯å¦å·²æåèµå¼
        if (!this.setting) {
            return false;
        }
        var sets = this.setting;
        // æ£æµ setting çå¿è®¾åæ°
        if (!(sets.width && sets.height && sets.codomain)) {
            return false;
        }

        // æ°æ®
        var decimalNumber = (typeof(sets.decimalNumber) !== "undefined" && !isNaN(sets.decimalNumber)) ? sets.decimalNumber : -1;
        var dataEffective = feature_Theme_Theme.getDataValues(this.data, this.fields, decimalNumber);
        this.dataValues = dataEffective ? dataEffective : [];

        // åºç¡åæ°  width, height, codomain
        this.width = parseFloat(sets.width);
        this.height = parseFloat(sets.height);
        this.DVBCodomain = sets.codomain;

        // å¾è¡¨åç§»
        // if(sets.XOffset) {this.XOffset = sets.XOffset};
        // if(sets.YOffset) {this.YOffset = sets.YOffset};
        this.XOffset = sets.XOffset ? sets.XOffset : 0;
        this.YOffset = sets.YOffset ? sets.YOffset : 0;

        // å¶ä»é»è®¤å¼
        this.origonPoint = [];
        this.chartBox = [];
        this.dataViewBox = [];

        this.DVBParameter = sets.dataViewBoxParameter ? sets.dataViewBoxParameter : [0, 0, 0, 0];

        this.DVBOrigonPoint = [];
        this.DVBCenterPoint = [];
        this.origonPointOffset = [];

        // å¾è¡¨ä½ç½®
        this.resetLocation();

        // ä¸é¢è¦ç´ å®½åº¦ w
        var w = this.width;
        // ä¸é¢è¦ç´ é«åº¦ h
        var h = this.height;
        // ä¸é¢è¦ç´ åç´ ä½ç½® loc
        var loc = this.location;

        // ä¸é¢è¦ç´ åç´ ä½ç½® loc
        this.origonPoint = [loc[0] - w / 2, loc[1] - h / 2];
        // ä¸é¢è¦ç´ åç¹ï¼å·¦ä¸è§ï¼
        var op = this.origonPoint;

        // å¾è¡¨æ¡ï¼[left, bottom, right, top]ï¼
        this.chartBox = [op[0], op[1] + h, op[0] + w, op[1]];
        // å¾è¡¨æ¡
        var cb = this.chartBox;

        // æ°æ®è§å¾æ¡åæ°ï¼å®æ¯å¾è¡¨æ¡åæ¹åå¯¹åºçååè·
        var dbbP = this.DVBParameter;
        // æ°æ®è§å¾æ¡ ï¼[left, bottom, right, top]ï¼
        this.dataViewBox = [cb[0] + dbbP[0], cb[1] - dbbP[1], cb[2] - dbbP[2], cb[3] + dbbP[3]];
        // æ°æ®è§å¾æ¡
        var dvb = this.dataViewBox;
        //æ£æ¥æ°æ®è§å¾æ¡æ¯å¦åæ³
        if (dvb[0] >= dvb[2] || dvb[1] <= dvb[3]) {
            return false;
        }

        // æ°æ®è§å¾æ¡åç¹
        this.DVBOrigonPoint = [dvb[0], dvb[3]];
        // æ°æ®è§å¾æ¡å®½åº¦
        this.DVBWidth = Math.abs(dvb[2] - dvb[0]);
        // æ°æ®è§å¾æ¡é«åº¦
        this.DVBHeight = Math.abs(dvb[1] - dvb[3]);
        // æ°æ®è§å¾æ¡ä¸­å¿ç¹
        this.DVBCenterPoint = [this.DVBOrigonPoint[0] + this.DVBWidth / 2, this.DVBOrigonPoint[1] + this.DVBHeight / 2]

        // æ°æ®è§å¾æ¡åç¹ä¸å¾è¡¨æ¡çåç¹åç§»é
        this.origonPointOffset = [this.DVBOrigonPoint[0] - op[0], this.DVBOrigonPoint[1] - op[1]];

        return isSuccess;
    }

    /**
     * @function SuperMap.Feature.Theme.Graph.prototype.resetLocation
     * @description æ ¹æ®å°çä½ç½® lonlat éç½®ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼ä½ç½®ã
     * @param {SuperMap.LonLat} lonlat - ä¸é¢è¦ç´ æ°çåç´ ä¸­å¿ä½ç½®ã
     * @return {Array.<number>} - æ°ä¸é¢è¦ç´ åç´ åèä½ç½®ãé¿åº¦ä¸º 2 çæ°ç»ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤º x åæ ï¼ç¬¬äºä¸ªåç´ è¡¨ç¤º y åæ ã
     */
    resetLocation(lonlat) {
        if (lonlat) {
            this.lonlat = lonlat;
        }

        // è·åå°çä½ç½®å¯¹åºçåç´ åæ  newLocalLX
        var newLocalLX = this.getLocalXY(this.lonlat);
        // å¤çåç§»é XOffset, YOffset
        newLocalLX[0] += this.XOffset;
        newLocalLX[1] += this.YOffset;
        // å°å¾å½¢ä½ç½®èµäº  location å±æ§ï¼æ³¨æ location å±æ§è¡¨ç¤ºçæ¯ä¸é¢è¦ç´ ä¸­å¿ä½ç½®ï¼
        this.location = newLocalLX;

        // æ´æ°å¾è¡¨åç´  Bounds
        var w = this.width;
        var h = this.height;
        var loc = this.location;
        this.chartBounds = new Bounds_Bounds(loc[0] - w / 2, loc[1] + h / 2, loc[0] + w / 2, loc[1] - h / 2);

        //éæ°è®¡ç®å½åæ¸åè²
        this.resetLinearGradient();

        return loc;
    }

    /**
     * @function SuperMap.Feature.Theme.Graph.prototype.resetLinearGradient
     * @description resetLocation ä¸­è°ç¨ å¾è¡¨çç¸å¯¹åæ å­å¨çæ¶åï¼éæ°è®¡ç®æ¸åçé¢è²ï¼ç®åç¨äºäºç»´æ±ç¶å¾æ¸åè² æä»¥å­ç±»å®ç°æ­¤æ¹æ³ï¼ã
     */
    resetLinearGradient() {
        //å­ç±»å®ç°æ­¤æ¹æ³
    }

    /**
     * @function SuperMap.Feature.Theme.Graph.prototype.shapesConvertToRelativeCoordinate
     * @description å°ï¼ææå¾è¡¨ï¼å¾å½¢çèç¹è½¬ä¸ºç¸å¯¹åæ è¡¨ç¤ºï¼æ­¤å½æ°å¿é¡»ä¸åªè½å¨ assembleShapes() ç»ææ¶è°ç¨ã
     */
    shapesConvertToRelativeCoordinate() {
        var shapes = this.shapes;
        var shapeROP = this.location;
        for (var i = 0, len = shapes.length; i < len; i++) {
            shapes[i].refOriginalPosition = shapeROP;

            var style = shapes[i].style;

            for (var sty in style) {
                switch (sty) {
                    case "pointList":
                        var pl = style[sty];
                        for (var j = 0, len2 = pl.length; j < len2; j++) {
                            pl[j][0] -= shapeROP[0];
                            pl[j][1] -= shapeROP[1];
                        }
                        break;
                    case "x":
                        style[sty] -= shapeROP[0];
                        break;
                    case "y":
                        style[sty] -= shapeROP[1];
                        break;
                    default:
                        break;
                }
            }
        }
        this.RelativeCoordinate = true;
    }


    /**
     * @function SuperMap.Feature.Theme.Graph.prototype.assembleShapes
     * @description å¾å½¢è£éå½æ°ãæ½è±¡æ¹æ³ï¼å¯è§åå­ç±»å¿é¡»å®ç°æ­¤æ¹æ³ã<br>
     *              éåæ­¤æ¹æ³çæ­¥éª¤ï¼<br>
     *              1. å¾è¡¨çæäºç¹æ®éç½®é¡¹ï¼settingï¼å¤çï¼ä¾å¦å¤æ°å¾è¡¨æ¨¡åéè¦éæ°æå® dataViewBoxParameter çé»è®¤å¼ã<br>
     *              2. è°ç¨ initBaseParameter() æ¹æ³åå§åæ¨¡åå±æ§å¼ï¼æ­¤æ­¥éª¤å¿é¡»æ§è¡ï¼åªæå½ initBaseParameter è¿å true æ¶æå¯ä»¥åè®¸è¿è¡åç»­æ­¥éª¤ã<br>
     *              3. è®¡ç®å¾å½¢åæ°ï¼å¶ä½å¾å½¢ï¼å¾å½¢ç»åãå¨ç»è£å¾è¡¨è¿ç¨ä¸­ï¼åºè¯¥ç¹å«æ³¨ææ°æ®è§å¾æ¡åä½å¼çå®ä¹ãæ°æ®å¼æº¢åºå¼åèå´çå¤çåå¾å½¢å¤§å°èªéåºã<br>
     *              4. è°ç¨ shapesConvertToRelativeCoordinate() æ¹æ³ï¼å°å¾å½¢çåæ å¼è½¬ä¸ºç¸å¯¹åæ ï¼æ­¤æ­¥éª¤å¿é¡»æ§è¡ã
     * @example
     *  //å­ç±»å®ç° assembleShapes() æ¥å£çæ­¥éª¤ç¤ºä¾ï¼
     *  assembleShapes: function(){
     *    // ç¬¬ä¸æ­¥ï¼å¾è¡¨çæäºç¹æ®éç½®é¡¹ï¼settingï¼å¤çï¼ä¾å¦å¤æ°å¾è¡¨æ¨¡åéè¦éæ°æå® dataViewBoxParameter çé»è®¤å¼ãæ­¤æ­¥éª¤æ¯éå¿é¡»è¿ç¨ã
     *
     *    // å¾è¡¨éç½®å¯¹è±¡
     *    var sets = this.setting;
     *    // é»è®¤æ°æ®è§å¾æ¡ï¼è¿éå±ç¤ºå¨ä½¿ç¨åæ è½´åä¸ä½¿ç¨åæ è½´æåµä¸å¯¹æ°æ®è§å¾æ¡åæ°èµäºä¸åçé»è®¤å¼
     *    if(!sets.dataViewBoxParameter){
     *          if(typeof(sets.useAxis) === "undefined" || sets.useAxis){
     *              sets.dataViewBoxParameter = [45, 15, 15, 15];
     *          }
     *          else{
     *                  sets.dataViewBoxParameter = [5, 5, 5, 5];
     *          }
     *    }
     *
     *    // ç¬¬äºæ­¥ï¼åå§åå¾è¡¨æ¨¡ååºæ¬åæ°ï¼åªæå¨å¾è¡¨æ¨¡ååºæ¬åæ°åå§åæåæ¶æå¯æ¨¡åç¸å³å±æ§ï¼å¦ this.dataViewBoxã this.DVBCodomainç­ãæ­¤æ­¥éª¤æ¯å¿é¡»è¿ç¨ã
     *    if(!this.initBaseParameter()) return;
     *
     *    // ç¬¬ä¸æ­¥ï¼ç¨å¾å½¢ç»è£å¾è¡¨ï¼å¨ç»è£å¾è¡¨è¿ç¨ä¸­ï¼åºè¯¥ç¹å«æ³¨ææ°æ®è§å¾æ¡åä½å¼çå®ä¹ãæ°æ®å¼æº¢åºå¼åèå´çå¤çåå¾å½¢å¤§å°èªéåºã
     *    // å®ä¹å¾è¡¨æ°æ®è§å¾æ¡ä¸­åä½å¼çå«ä¹ï¼ä¸é¢è¡ä»£ç è¡¨ç¤ºå°æ°æ®è§å¾æ¡åä½å¼å®ä¹ä¸ºæ°æ®è§å¾æ¡é«åº¦ä¸æ¯åç´ ä»£è¡¨çæ°æ®å¼
     *    this.DVBUnitValue =  (this.codomain[1] - this.codomain[0])/this.DVBHeight;
     *    var uv = this.DVBUnitValue;
     *
     *    // å¾å½¢åæ°è®¡ç®ä»£ç ......
     *
     *    // å³äºå¾å½¢è£éï¼å®éä¸å°±æ¯å©ç¨å¾å½¢å·¥ç¨å¯¹è±¡ this.shapeFactory ç createShape() æ¹æ³éè¿å¾å½¢åæ°å¯¹è±¡åå»ºå¯è§åçå¾å½¢å¯¹è±¡ï¼å¹¶æè¿äºå¾å½¢å¯¹è±¡æåºæ·»å å°æ¨¡åçå¾å½¢åºï¼his.shapesï¼ä¸­ãä¸é¢çä»£ç æ¼ç¤ºåå»ºä¸ä¸ªé¢å¾å½¢åæ°å¯¹è±¡ï¼å¹¶åè®¸éè¿å¾å½¢éç½®å¯¹è±¡è®¾ç½®å¾å½¢ç style å highlightStyleï¼
     *    var barParams = new SuperMap.Feature.ShapeParameters.Polygon(poiLists);
     *    barParams.style = sets.barStyle? sets.barStyle:{fillColor: "lightblue"};
     *    barParams.highlightStyle = sets.barHoverStyle? sets.barHoverStyle:{fillColor: "blue"};
     *    // å¾å½¢æºå¸¦æ°æ®IDä¿¡æ¯
     *    barParams.refDataID = this.data.id;
     *    // åå»ºå¾å½¢å¹¶æ·»å å°å¾è¡¨å¾å½¢æ°ç»ä¸­
     *    this.shapes.push(this.shapeFactory.createShape(barParams));
     *
     *    // ç¬¬åæ­¥ï¼è°ç¨ shapesConvertToRelativeCoordinate() æ¹æ³ï¼å°å¾å½¢åºï¼his.shapesï¼ä¸­çå¾å½¢è½¬ä¸ºç±ç¸å¯¹åæ è¡¨ç¤ºçå¾å½¢ï¼å®¢æ·ç«¯ç»è®¡ä¸é¢å¾æ¨¡åä»ç»æä¸è¦æ±å¯è§åå¾å½¢ä½¿ç¨ç¸å¯¹åæ ï¼assembleShapes() å½æ°å¿é¡»å¨å¾å½¢è£éå®æåè°ç¨ shapesConvertToRelativeCoordinate() å½æ°ãæ­¤æ­¥éª¤æ¯å¿é¡»è¿ç¨ã
     *    this.shapesConvertToRelativeCoordinate();
     * },
     */
    assembleShapes() {
        //å­ç±»å¿é¡»å®ç°æ­¤æ¹æ³
    }

    /**
     * @function SuperMap.Feature.Theme.Graph.prototype.getLocalXY
     * @description å°çåæ è½¬ä¸ºåç´ åæ ã
     * @param {SuperMap.Lonlat} lonlat - å¸¦è½¬æ¢çå°çåæ ã
     * @return å±å¹åç´ åæ ã
     */
    getLocalXY(lonlat) {
        return this.layer.getLocalXY(lonlat);
    }

}

/**
 * @function SuperMap.Feature.Theme.getDataValues
 * @description æ ¹æ®å­æ®µåæ°ç»è·åæå®æ°æ®ï¼featureï¼çå±æ§å¼æ°ç»ãå±æ§å¼ç±»åå¿é¡»ä¸º Numberã
 * @param {SuperMap.Feature.Vector} data - æ°æ®ã
 * @param {Array.<string>} [fields] - å­æ®µåæ°ç»ã
 * @param {number} [decimalNumber] - å°æ°ä½å¤çåæ°ï¼å¯¹è·åå°çå±æ§æ°æ®å¼è¿è¡å°æ°ä½å¤çã
 * @return {Array.<string>} å­æ®µåæ°ç»å¯¹åºçå±æ§æ°æ®å¼æ°ç»ã
 */
feature_Theme_Theme.getDataValues = function (data, fields, decimalNumber) {
    if (!data.attributes) {
        return false;
    }

    var fieldsValue = [];

    var attrs = data.attributes;
    for (var i = 0; i < fields.length; i++) {
        for (var field in attrs) {
            if (field !== fields[i]) {
                continue
            }
            // æ°å­è½¬æ¢å¤æ­
            try {
                if (!isNaN(decimalNumber) && decimalNumber >= 0) {
                    fieldsValue.push(parseFloat(attrs[field].toString()).toFixed(decimalNumber));
                } else {
                    fieldsValue.push(parseFloat(attrs[field].toString()));
                }
            } catch (e) {
                throw new Error("not a number")
            }
        }
    }

    if (fieldsValue.length === fields.length) {
        return fieldsValue;
    } else {
        return false;
    }
};

SuperMap.Feature.Theme.Graph = Graph_Graph;
// CONCATENATED MODULE: ./src/common/overlay/Bar.js











 

/**
 * @class SuperMap.Feature.Theme.Bar
 * @classdesc æ±ç¶å¾ ã
 * @category Visualization Theme
 * @example
 * // barStyleByCodomainåæ°ç¨æ³å¦ä¸ï¼
 * // barStyleByCodomain çæ¯ä¸ªåç´ æ¯ä¸ªåå«å¼åä¿¡æ¯åä¸å¼åå¯¹åºæ ·å¼ä¿¡æ¯çå¯¹è±¡ï¼è¯¥å¯¹è±¡ï¼å¿é¡»ï¼æä¸ä¸ªå±æ§ï¼
 * // start: å¼åå¼ä¸éï¼åå«ï¼;
 * // end: å¼åå¼ä¸éï¼ä¸åå«ï¼;
 * // style: æ°æ®å¯è§åå¾å½¢ç styleï¼è¿ä¸ªæ ·å¼å¯¹è±¡çå¯è®¾å±æ§ï¼ <SuperMap.Feature.ShapeParameters.Polygon.style> ã
 * // barStyleByCodomain æ°ç»å½¢å¦ï¼
 * [
 *   {
 *     start:0,
 *     end:250,
 *     style:{
 *          fillColor:"#00CD00"
 *      }
 *  },
 *   {
 *     start:250,
 *     end:500,
 *     style:{
 *          fillColor:"#00EE00"
 *      }
 *  },
 *   {
 *     start:500,
 *     end:750,
 *     style:{
 *          fillColor:"#00FF7F"
 *      }
 *  },
 *   {
 *     start:750,
 *     end:1500,
 *     style:{
 *          fillColor:"#00FF00"
 *      }
 *  }
 * ]
 * @extends SuperMap.Feature.Theme.Graph
 * @param {SuperMap.Feature.Vector} data - ç¨æ·æ°æ®ã
 * @param {SuperMap.Layer.Graph} layer - æ­¤ä¸é¢è¦ç´ æå¨å¾å±ã
 * @param {Array.<string>} fields - data å±æ§ä¸­çåä¸æ­¤å¾è¡¨çæçå±æ§å­æ®µåç§°ã
 * @param {SuperMap.Feature.Theme.Bar.setting} setting - å¾è¡¨éç½®å¯¹è±¡ã
 * @param {SuperMap.LonLat} [lonlat] - ä¸é¢è¦ç´ å°çä½ç½®ãé»è®¤ä¸º data æä»£çå°çè¦ç´  Bounds ä¸­å¿ã
 */
class Bar_Bar extends Graph_Graph {

    constructor(data, layer, fields, setting, lonlat) {
        super(data, layer, fields, setting, lonlat);
        this.CLASS_NAME = "SuperMap.Feature.Theme.Bar";
    }

    /**
     * @function SuperMap.Feature.Theme.Bar.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.Feature.Theme.Bar.prototype.assembleShapes
     * @description å¾è¡¨å¾å½¢è£éå½æ°ã
     */
    assembleShapes() {
        //é»è®¤æ¸åé¢è²æ°ç»
        var deafaultColors = [["#00FF00", "#00CD00"], ["#00CCFF", "#5E87A2"], ["#00FF66", "#669985"], ["#CCFF00", "#94A25E"], ["#FF9900", "#A2945E"]];

        //é»è®¤é´å½±
        var deafaultShawdow = {
            showShadow: true,
            shadowBlur: 8,
            shadowColor: "rgba(100,100,100,0.8)",
            shadowOffsetX: 2,
            shadowOffsetY: 2
        };

        // å¾è¡¨éç½®å¯¹è±¡
        var sets = this.setting;

        if (typeof (sets.barLinearGradient) !== "undefined") {
            sets.barLinearGradient = deafaultColors;
        }

        // é»è®¤æ°æ®è§å¾æ¡
        if (!sets.dataViewBoxParameter) {
            if (typeof(sets.useAxis) === "undefined" || sets.useAxis) {
                sets.dataViewBoxParameter = [45, 15, 15, 15];
            } else {
                sets.dataViewBoxParameter = [5, 5, 5, 5];
            }
        }

        // éè¦æ­¥éª¤ï¼åå§ååæ°
        if (!this.initBaseParameter()) {
            return;
        }
        // å¼å
        var codomain = this.DVBCodomain;
        // éè¦æ­¥éª¤ï¼å®ä¹å¾è¡¨ Bar æ°æ®è§å¾æ¡ä¸­åä½å¼çå«ä¹
        this.DVBUnitValue = (codomain[1] - codomain[0]) / this.DVBHeight;

        // æ°æ®è§å¾å
        var dvb = this.dataViewBox;
        // ç¨æ·æ°æ®å¼
        var fv = this.dataValues;
        if (fv.length < 1) {
            return;
        }       // æ²¡ææ°æ®

        // æ°æ®æº¢åºå¼åèå´å¤ç
        for (let i = 0, fvLen = fv.length; i < fvLen; i++) {
            if (fv[i] < codomain[0] || fv[i] > codomain[1]) {
                return;
            }
        }

        // è·å x è½´ä¸çå¾å½¢ä¿¡æ¯
        var xShapeInfo = this.calculateXShapeInfo();
        if (!xShapeInfo) {
            return;
        }
        // æ¯ä¸ªæ±æ¡ x ä½ç½®
        var xsLoc = xShapeInfo.xPositions;
        // æ±æ¡å®½åº¦
        var xsWdith = xShapeInfo.width;

        // èæ¯æ¡ï¼é»è®¤å¯ç¨
        if (typeof(sets.useBackground) === "undefined" || sets.useBackground) {
            // å°èæ¯æ¡å¾å½¢æ·»å å°æ¨¡åç shapes æ°ç»ï¼æ³¨ææ·»å é¡ºåºï¼åæ·»å çå¾å½¢å¨åæ·»å çå¾å½¢ä¹ä¸ã
            this.shapes.push(ShapeFactory_ShapeFactory.Background(this.shapeFactory, this.chartBox, sets));
        }

        // åæ è½´, é»è®¤å¯ç¨
        if (typeof(sets.useAxis) === "undefined" || sets.useAxis) {
            // æ·»å åæ è½´å¾å½¢æ°ç»
            this.shapes = this.shapes.concat(ShapeFactory_ShapeFactory.GraphAxis(this.shapeFactory, dvb, sets, xShapeInfo));
        }

        for (var i = 0; i < fv.length; i++) {
            // è®¡ç®æ±æ¡ top è¾¹ç y è½´åæ å¼
            var yPx = dvb[1] - (fv[i] - codomain[0]) / this.DVBUnitValue;

            // æ±æ¡èç¹æ°ç»
            var poiLists = [
                [xsLoc[i] - xsWdith / 2, dvb[1] - 1],
                [xsLoc[i] + xsWdith / 2, dvb[1] - 1],
                [xsLoc[i] + xsWdith / 2, yPx],
                [xsLoc[i] - xsWdith / 2, yPx]
            ];

            // æ±æ¡åæ°å¯¹è±¡ï¼ä¸ä¸ªé¢åæ°å¯¹è±¡ï¼
            var barParams = new feature_Polygon_Polygon(poiLists);

            // æ±æ¡ é´å½± style
            if (typeof(sets.showShadow) === "undefined" || sets.showShadow) {
                if (sets.barShadowStyle) {
                    var sss = sets.barShadowStyle;
                    if (sss.shadowBlur) {
                        deafaultShawdow.shadowBlur = sss.shadowBlur;
                    }
                    if (sss.shadowColor) {
                        deafaultShawdow.shadowColor = sss.shadowColor;
                    }
                    if (sss.shadowOffsetX) {
                        deafaultShawdow.shadowOffsetX = sss.shadowOffsetX;
                    }
                    if (sss.shadowOffsetY) {
                        deafaultShawdow.shadowOffsetY = sss.shadowOffsetY;
                    }
                }
                barParams.style = {};
                Util_Util.copyAttributesWithClip(barParams.style, deafaultShawdow);
            }

            // å¾å½¢æºå¸¦çæ°æ®ä¿¡æ¯
            barParams.refDataID = this.data.id;
            barParams.dataInfo = {
                field: this.fields[i],
                value: fv[i]
            };

            // æ±æ¡ hover click
            if (typeof(sets.barHoverAble) !== "undefined") {
                barParams.hoverable = sets.barHoverAble;
            }
            if (typeof(sets.barClickAble) !== "undefined") {
                barParams.clickable = sets.barClickAble;
            }

            // åå»ºæ±æ¡å¹¶æ·»å å°å¾è¡¨å¾å½¢æ°ç»ä¸­
            this.shapes.push(this.shapeFactory.createShape(barParams));
        }

        // éè¦æ­¥éª¤ï¼å°å¾å½¢è½¬ä¸ºç±ç¸å¯¹åæ è¡¨ç¤ºçå¾å½¢ï¼ä»¥ä¾¿å¨å°å¾å¹³ç§»ç¼©æ¾è¿ç¨ä¸­å¿«ééç»å¾å½¢
        // ï¼ç»è®¡ä¸é¢å¾æ¨¡åä»ç»æä¸è¦æ±ä½¿ç¨ç¸å¯¹åæ ï¼assembleShapes() å½æ°å¿é¡»å¨å¾å½¢è£éå®æåè°ç¨ shapesConvertToRelativeCoordinate() å½æ°ï¼
        this.shapesConvertToRelativeCoordinate();
    }

    /**
     * @function SuperMap.Feature.Theme.Bar.prototype.calculateXShapeInfo
     * @description è®¡ç® X è½´æ¹åä¸çå¾å½¢ä¿¡æ¯ï¼æ­¤ä¿¡æ¯æ¯ä¸ä¸ªå¯¹è±¡ï¼åå«ä¸¤ä¸ªå±æ§ï¼
     *              å±æ§ xPositions æ¯ä¸ä¸ªä¸ç»´æ°ç»ï¼è¯¥æ°ç»åç´ è¡¨ç¤ºå¾å½¢å¨ x è½´æ¹åä¸çåç´ åæ å¼ï¼
     *              å¦æå¾å½¢å¨ x æ¹åä¸æä¸å®å®½åº¦ï¼éå¸¸åå¾å½¢å¨ x æ¹åä¸çä¸­å¿ç¹ä¸ºå¾å½¢å¨ x æ¹åä¸çåæ å¼ã
     *              width è¡¨ç¤ºå¾å½¢çå®½åº¦ï¼ç¹å«æ³¨æï¼ç¹çå®½åº¦å§ç»ä¸º 0ï¼èä¸æ¯å¶ç´å¾ï¼ã
     *              æ¬å½æ°ä¸­å¾å½¢éç½®å¯¹è±¡ setting å¯è®¾å±æ§ï¼
     *              xShapeBlank - {Array.<number>} æ°´å¹³æ¹åä¸çå¾å½¢ç©ºç½é´éåæ°ã
     *              é¿åº¦ä¸º 3 çæ°ç»ï¼ç¬¬ä¸åç´ è¡¨ç¤ºç¬¬ä¸ä¸ªå¾å½¢å·¦ç«¯ä¸æ°æ®è§å¾æ¡å·¦ç«¯çç©ºç½é´è·ï¼ç¬¬äºä¸ªåç´ è¡¨ç¤ºå¾å½¢é´ç©ºç½é´è·ï¼
     *              ç¬¬ä¸ä¸ªåç´ è¡¨ç¤ºæåä¸ä¸ªå¾å½¢å³ç«¯ä¸æ°æ®è§å¾æ¡å³ç«¯ç«¯çç©ºç½é´è· ã
     * @return {Object} å¦æè®¡ç®å¤±è´¥ï¼è¿å nullï¼å¦æè®¡ç®æåï¼è¿å X è½´æ¹åä¸çå¾å½¢ä¿¡æ¯ï¼æ­¤ä¿¡æ¯æ¯ä¸ä¸ªå¯¹è±¡ï¼åå«ä»¥ä¸ä¸¤ä¸ªå±æ§ï¼
     *         xPositions - {Array.<number>} è¡¨ç¤ºå¾å½¢å¨ x è½´æ¹åä¸çåç´ åæ å¼ï¼å¦æå¾å½¢å¨ x æ¹åä¸æä¸å®å®½åº¦ï¼éå¸¸åå¾å½¢å¨ x æ¹åä¸çä¸­å¿ç¹ä¸ºå¾å½¢å¨ x æ¹åä¸çåæ å¼ã
     *         width - {number} è¡¨ç¤ºå¾å½¢çå®½åº¦ï¼ç¹å«æ³¨æï¼ç¹çå®½åº¦å§ç»ä¸º 0ï¼èä¸æ¯å¶ç´å¾ï¼ã
     *
     */
    calculateXShapeInfo() {
        var dvb = this.dataViewBox;     // æ°æ®è§å¾æ¡
        var sets = this.setting;     // å¾è¡¨éç½®å¯¹è±¡
        var fvc = this.dataValues.length;      // æ°ç»å¼ä¸ªæ°

        if (fvc < 1) {
            return null;
        }

        var xBlank;        // x è½´ç©ºç½é´éåæ°
        var xShapePositions = [];         // x è½´ä¸å¾å½¢çä½ç½®
        var xShapeWidth = 0;          // x è½´ä¸å¾å½¢å®½åº¦(èªéåº)
        var dvbWidth = this.DVBWidth;            // æ°æ®è§å¾æ¡å®½åº¦

        //  x è½´ç©ºç½é´éåæ°å¤ç
        if (sets.xShapeBlank && sets.xShapeBlank.length && sets.xShapeBlank.length == 3) {
            xBlank = sets.xShapeBlank;
            var xsLen = dvbWidth - (xBlank[0] + xBlank[2] + (fvc - 1) * xBlank[1]);
            if (xsLen <= fvc) {
                return null;
            }
            xShapeWidth = xsLen / fvc
        } else {
            // é»è®¤ä½¿ç¨ç­è·ç¦»ç©ºç½é´éï¼ç©ºç½é´éä¸ºå¾å½¢å®½åº¦
            xShapeWidth = dvbWidth / (2 * fvc + 1);
            xBlank = [xShapeWidth, xShapeWidth, xShapeWidth];
        }

        // å¾å½¢ x è½´ä¸çä½ç½®è®¡ç®
        var xOffset = 0
        for (var i = 0; i < fvc; i++) {
            if (i == 0) {
                xOffset = xBlank[0] + xShapeWidth / 2;
            } else {
                xOffset += (xShapeWidth + xBlank[1]);
            }

            xShapePositions.push(dvb[0] + xOffset);
        }

        return {
            "xPositions": xShapePositions,
            "width": xShapeWidth
        };
    }

    /**
     * @function SuperMap.Feature.Theme.Bar.prototype.resetLinearGradient
     * @description å¾è¡¨çç¸å¯¹åæ å­å¨çæ¶åï¼éæ°è®¡ç®æ¸åçé¢è²(ç®åç¨äºäºç»´æ±ç¶å¾ æä»¥å­ç±»å®ç°æ­¤æ¹æ³)ã
     */
    resetLinearGradient() {
        if (this.RelativeCoordinate) {
            var shpelength = this.shapes.length;
            var barLinearGradient = this.setting.barLinearGradient;
            var index = -1;
            for (var i = 0; i < shpelength; i++) {
                var shape = this.shapes[i];
                if (shape.CLASS_NAME === "SuperMap.LevelRenderer.Shape.SmicPolygon") {
                    var style = shape.style;
                    //è®¡ç®åºå½åçç»å¯¹ x y
                    var x1 = this.location[0] + style.pointList[0][0];
                    var x2 = this.location[0] + style.pointList[1][0];

                    //æ¸åé¢è²
                    index++;
                    //ä»¥é²å®ä¹çé¢è²æ°ç»ä¸å¤ç¨
                    if (index >= barLinearGradient.length) {
                        index = index % barLinearGradient.length;
                    }
                    var color1 = barLinearGradient[index][0];
                    var color2 = barLinearGradient[index][1];

                    //é¢è²
                    var zcolor = new Color_Color();
                    var linearGradient = zcolor.getLinearGradient(x1, 0, x2, 0,
                        [[0, color1], [1, color2]]);

                    //èµå¼
                    shape.style.color = linearGradient;
                }
            }
        }
    }

}

/**
* @typedef {Object} SuperMap.Feature.Theme.Bar.setting
* @property {number} width - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å®½åº¦ã
* @property {number} height - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼é«åº¦ã
* @property {Array.<number>} codomain - å¾è¡¨åè®¸å±ç¤ºçæ°æ®å¼åï¼é¿åº¦ä¸º 2 çä¸ç»´æ°ç»ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤ºå¼åä¸éï¼ç¬¬äºä¸ªåç´ è¡¨ç¤ºå¼åä¸éã
* @property {number} [XOffset] - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å¨ X æ¹åä¸çåç§»å¼ï¼åä½åç´ ã
* @property {number} [YOffset] - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å¨ Y æ¹åä¸çåç§»å¼ï¼åä½åç´ ã
* @property {Array.<number>} [dataViewBoxParameter] - æ°æ®è§å¾æ¡ dataViewBox åæ°ï¼å®æ¯æå¾è¡¨æ¡ chartBox ï¼ç±å¾è¡¨ä½ç½®ãå¾è¡¨å®½åº¦ãå¾è¡¨é«åº¦ææçå¾è¡¨èå´æ¡ï¼
*                                                     å¨å·¦ãä¸ï¼å³ï¼ä¸åä¸ªæ¹åä¸çååè·å¼ãå½ä½¿ç¨åæ è½´æ¶ dataViewBoxParameter çé»è®¤å¼ä¸ºï¼[45, 15, 15, 15]ï¼
*                                                     ä¸ä½¿ç¨åæ è½´æ¶ dataViewBoxParameter çé»è®¤å¼ä¸ºï¼[5, 5, 5, 5]ã
* @property {number} [decimalNumber] - æ°æ®å¼æ°ç» dataValues åç´ å¼å°æ°ä½æ°ï¼æ°æ®çå°æ°ä½å¤çåæ°ï¼åå¼èå´ï¼[0, 16]ãå¦æä¸è®¾ç½®æ­¤åæ°ï¼å¨åæ°æ®å¼æ¶ä¸å¯¹æ°æ®åå°æ°ä½å¤çã
* @property {boolean} [useBackground=true] - æ¯å¦ä½¿ç¨å¾è¡¨èæ¯æ¡ã
* @property {SuperMap.Feature.ShapeParameters.Rectangle.style} [backgroundStyle] - èæ¯æ ·å¼ã
* @property {Array.<number>} [backgroundRadius=[0, 0, 0, 0]] - èæ¯æ¡ç©å½¢åè§åå¾ï¼å¯ä»¥ç¨æ°ç»åå«æå®åä¸ªè§çåè§åå¾ï¼è®¾ï¼å·¦ä¸ãå³ä¸ãå³ä¸ãå·¦ä¸è§çåå¾ä¾æ¬¡ä¸º r1ãr2ãr3ãr4 ,
*                                         å backgroundRadius ä¸º [r1ãr2ãr3ãr4]ã
* @property {Array.<number>} xShapeBlank - æ°´å¹³æ¹åä¸çå¾å½¢ç©ºç½é´éåæ°ãé¿åº¦ä¸º 3 çæ°ç»ï¼ç¬¬ä¸åç´ è¡¨ç¤ºç¬¬ä¸ä¸ªå¾å½¢å·¦ç«¯ä¸æ°æ®è§å¾æ¡å·¦ç«¯çç©ºç½é´è·ï¼ç¬¬äºä¸ªåç´ è¡¨ç¤ºå¾å½¢é´ç©ºç½é´è·ï¼
*                                            ç¬¬ä¸ä¸ªåç´ è¡¨ç¤ºæåä¸ä¸ªå¾å½¢å³ç«¯ä¸æ°æ®è§å¾æ¡å³ç«¯ç«¯çç©ºç½é´è· ã
* @property {boolean} [showShadow=true] - é´å½±å¼å³ã
* @property {Object} [barShadowStyle] - é´å½±æ ·å¼,å¦ï¼{shadowBlur : 8, shadowOffsetX: 2 , shadowOffsetY : 2,shadowColor : "rgba(100,100,100,0.8)"}
* @property {Array.<string>} [barLinearGradient] - æå­æ®µè®¾ç½®æ±æ¡æ ·å¼[æ¸åå¼å§é¢è²,æ¸åç»æ­¢é¢è²]  ä¸ themeLayer.themeFields ä¸­çå­æ®µä¸ä¸å¯¹åºï¼ï¼
*                                                  å¦ï¼[["#00FF00","#00CD00"],["#00CCFF","#5E87A2"],["#00FF66","#669985"],["#CCFF00","#94A25E"],["#FF9900","#A2945E"]]
* @property {boolean} [useAxis=true] - æ¯å¦ä½¿ç¨åæ è½´ã</br>
* @property {SuperMap.Feature.ShapeParameters.Line.style} [axisStyle] - åæ è½´æ ·å¼ã
* @property {boolean} [axisUseArrow=false] - åæ è½´æ¯å¦ä½¿ç¨ç®­å¤´ã
* @property {number} [axisYTick=0] - y è½´å»åº¦æ°éã
* @property {Array.<string>}  [axisYLabels] - y è½´ä¸çæ ç­¾ç»åå®¹ï¼æ ç­¾é¡ºåºæ²¿çæ°æ®è§å¾æ¡å·¦é¢æ¡è¾¹èªä¸èä¸ï¼ç­è·æå¸ãä¾å¦ï¼["1000", "750", "500", "250", "0"]ã
* @property {SuperMap.Feature.ShapeParameters.Label.style} [axisYLabelsStyle] - y è½´ä¸çæ ç­¾ç»æ ·å¼ã
* @property {Array.<number>} [axisYLabelsOffset=[0,0]] - y è½´ä¸çæ ç­¾ç»åç§»éãé¿åº¦ä¸º 2 çæ°ç»ï¼æ°ç»ç¬¬ä¸é¡¹è¡¨ç¤º y è½´æ ç­¾ç»æ¨ªåä¸çåç§»éï¼åå·¦ä¸ºæ­£ï¼æ°ç»ç¬¬äºé¡¹è¡¨ç¤º y è½´æ ç­¾ç»çºµåä¸çåç§»éï¼åä¸ä¸ºæ­£ã
* @property {Array.<string>}  [axisXLabels] - x è½´ä¸çæ ç­¾ç»åå®¹ï¼æ ç­¾é¡ºåºæ²¿çæ°æ®è§å¾æ¡ä¸é¢æ¡è¾¹èªå·¦åå³æå¸ï¼ä¾å¦ï¼["92å¹´", "95å¹´", "99å¹´"]ãæ ç­¾æå¸è§åï¼å½æ ç­¾æ°éä¸ xShapeInfo ä¸­çå±æ§ xShapeCenter æ°éç¸åï¼å³æ ç­¾ä¸ªæ°ä¸æ°æ®ä¸ªæ°ç¸ç­æ¶ï¼, æç§ xShapeCenter æä¾çä½ç½®æå¸æ ç­¾,å¦åæ²¿æ°æ®è§å¾æ¡ä¸é¢æ¡è¾¹ç­è·æå¸æ ç­¾ã
* @property {SuperMap.Feature.ShapeParameters.Label.style} [axisXLabelsStyle] - x è½´ä¸çæ ç­¾ç»æ ·å¼ã
* @property {Array.<number>} [axisXLabelsOffset=[0,0]] - x è½´ä¸çæ ç­¾ç»åç§»éãé¿åº¦ä¸º 2 çæ°ç»ï¼æ°ç»ç¬¬ä¸é¡¹è¡¨ç¤º x è½´æ ç­¾ç»æ¨ªåä¸çåç§»éï¼åå·¦ä¸ºæ­£ï¼æ°ç»ç¬¬äºé¡¹è¡¨ç¤º x è½´æ ç­¾ç»çºµåä¸çåç§»éï¼åä¸ä¸ºæ­£ã
* @property {boolean} [useXReferenceLine] - æ¯å¦ä½¿ç¨æ°´å¹³åèçº¿ï¼å¦æä¸º trueï¼å¨ axisYTick å¤§äº 0 æ¶ææï¼æ°´å¹³åèçº¿æ¯ y è½´å»åº¦å¨æ°æ®è§å¾æ¡éçå»¶ä¼¸ã
* @property {SuperMap.Feature.ShapeParameters.Line.style} xReferenceLineStyle - æ°´å¹³åèçº¿æ ·å¼ã
* @property {Object} barStyle - æ±ç¶å¾æ±æ¡åºç¡ styleï¼æ­¤åæ°æ§å¶æ±æ¡åºç¡æ ·å¼ï¼ä¼åçº§ä½äº barStyleByFields å barStyleByCodomainã
* @property {Array.<SuperMap.Feature.ShapeParameters.Polygon.style>} barStyleByFields - æä¸é¢å­æ®µ themeFieldsï¼<SuperMap.Layer.Graph.themeFields|L.supermap.graphThemeLayer.themeFields|ol.source.Graph.themeFields|mapboxgl.supermap.GraphThemeLayer.themeFields>ï¼ä¸ºæ±æ¡èµ styleï¼æ­¤åæ°æå­æ®µæ§å¶æ±æ¡æ ·å¼ï¼ä¼åçº§ä½äº barStyleByCodomainï¼é«äº barStyleãæ­¤æ°ç»ä¸­çåç´ æ¯æ ·å¼å¯¹è±¡ãæ­¤åæ°ä¸­ç style ä¸ themeFields ä¸­çå­æ®µä¸ä¸å¯¹åº ãä¾å¦ï¼ themeFieldsï¼<SuperMap.Layer.Graph.themeFields>ï¼ ä¸º ["POP_1992", "POP_1995", "POP_1999"],barStyleByFields ä¸º[style1, style2, style3]ï¼åå¨å¾è¡¨ä¸­ï¼å­æ®µ POP_1992 å¯¹åºçæ±æ¡ä½¿ç¨ style1ï¼å­æ®µ POP_1995 å¯¹åºçæ±æ¡ä½¿ç¨ style2 ï¼å­æ®µ POP_1999 å¯¹åºçæ±æ¡ä½¿ç¨ style3ã
* @property {Array.<SuperMap.Feature.ShapeParameters.Polygon.style>} barStyleByCodomain - ææ±æ¡ä»£è¡¨çæ°æ®å¼æå¨å¼åèå´æ§å¶æ±æ¡æ ·å¼ï¼ä¼åçº§é«äº barStyle å barStyleByFieldsã
* @property {Object} [barHoverStyle] - æ±æ¡ hover ç¶ææ¶çæ ·å¼ï¼barHoverAble ä¸º true æ¶ææã
* @property {Object} [barHoverAble] - æ¯å¦åè®¸æ±æ¡ä½¿ç¨ hover ç¶æï¼é»è®¤åè®¸ãåæ¶è®¾ç½® barHoverAble å barClickAble ä¸º falseï¼å¯ä»¥ç´æ¥å±è½æ±æ¡å¯¹ä¸é¢å¾å±äºä»¶çååºã
* @property {Object} [barClickAble] - æ¯å¦åè®¸æ±æ¡è¢«ç¹å»ï¼é»è®¤åè®¸ãåæ¶è®¾ç½® barHoverAble å barClickAble ä¸º falseï¼å¯ä»¥ç´æ¥å±è½æ±æ¡å¯¹ä¸é¢å¾å±äºä»¶çååºã
*/

SuperMap.Feature.Theme.Bar = Bar_Bar;
// CONCATENATED MODULE: ./src/common/overlay/Bar3D.js






/**
 * @class SuperMap.Feature.Theme.Bar3D
 * @classdesc ä¸ç»´æ±ç¶å¾ ã
 * @category Visualization Theme
 * @extends SuperMap.Feature.Theme.Graph
 * @param {SuperMap.Feature.Vector} data - ç¨æ·æ°æ®ã
 * @param {SuperMap.Layer.Graph} layer - æ­¤ä¸é¢è¦ç´ æå¨å¾å±ã
 * @param {Array.<string>} fields - data ä¸­çåä¸æ­¤å¾è¡¨çæçå­æ®µåç§°ã
 * @param {SuperMap.Feature.Theme.Bar3D.setting} setting - å¾è¡¨éç½®å¯¹è±¡ã
 * @param {SuperMap.LonLat} [lonlat] - ä¸é¢è¦ç´ å°çä½ç½®ï¼é»è®¤ä¸º data æä»£çå°çè¦ç´  Bounds ä¸­å¿ã
 *
 
 *
 * @example
 * // barFaceStyleByCodomain ç¨æ³ç¤ºä¾å¦ä¸ï¼
 * // barFaceStyleByCodomain çæ¯ä¸ªåç´ æ¯ä¸ªåå«å¼åä¿¡æ¯åä¸å¼åå¯¹åºæ ·å¼ä¿¡æ¯çå¯¹è±¡ï¼è¯¥å¯¹è±¡ï¼å¿é¡»ï¼æä¸ä¸ªå±æ§ï¼
 * // start: å¼åå¼ä¸éï¼åå«ï¼;
 * // end: å¼åå¼ä¸éï¼ä¸åå«ï¼;
 * // style: æ°æ®å¯è§åå¾å½¢ç styleï¼è¿ä¸ªæ ·å¼å¯¹è±¡çå¯è®¾å±æ§ï¼ <SuperMap.Feature.ShapeParameters.Polygon.style> ã
 * // barFaceStyleByCodomain æ°ç»å½¢å¦ï¼
 * [
 *   {
 *     start:0,
 *     end:250,
 *     style:{
 *          fillColor:"#00CD00"
 *      }
 *  },
 *   {
 *     start:250,
 *     end:500,
 *     style:{
 *          fillColor:"#00EE00"
 *      }
 *  },
 *   {
 *     start:500,
 *     end:750,
 *     style:{
 *          fillColor:"#00FF7F"
 *      }
 *  },
 *   {
 *     start:750,
 *     end:1500,
 *     style:{
 *          fillColor:"#00FF00"
 *      }
 *  }
 * ]
 *
 * @example
 * // barSideStyleByCodomain ç¨æ³ç¤ºä¾å¦ä¸ï¼
 * // barSideStyleByCodomain çæ¯ä¸ªåç´ æ¯ä¸ªåå«å¼åä¿¡æ¯åä¸å¼åå¯¹åºæ ·å¼ä¿¡æ¯çå¯¹è±¡ï¼è¯¥å¯¹è±¡ï¼å¿é¡»ï¼æä¸ä¸ªå±æ§ï¼
 * // start: å¼åå¼ä¸éï¼åå«ï¼;
 * // end: å¼åå¼ä¸éï¼ä¸åå«ï¼;
 * // style: æ°æ®å¯è§åå¾å½¢ç styleï¼è¿ä¸ªæ ·å¼å¯¹è±¡çå¯è®¾å±æ§ï¼ <SuperMap.Feature.ShapeParameters.Polygon.style> ã
 * // barSideStyleByCodomain æ°ç»å½¢å¦ï¼
 * [
 *   {
 *     start:0,
 *     end:250,
 *     style:{
 *          fillColor:"#00CD00"
 *      }
 *  },
 *   {
 *     start:250,
 *     end:500,
 *     style:{
 *          fillColor:"#00EE00"
 *      }
 *  },
 *   {
 *     start:500,
 *     end:750,
 *     style:{
 *          fillColor:"#00FF7F"
 *      }
 *  },
 *   {
 *     start:750,
 *     end:1500,
 *     style:{
 *          fillColor:"#00FF00"
 *      }
 *  }
 * ]
 *
 * @example
 * // barTopStyleByCodomain ç¨æ³ç¤ºä¾å¦ä¸ï¼
 * // barTopStyleByCodomain çæ¯ä¸ªåç´ æ¯ä¸ªåå«å¼åä¿¡æ¯åä¸å¼åå¯¹åºæ ·å¼ä¿¡æ¯çå¯¹è±¡ï¼è¯¥å¯¹è±¡ï¼å¿é¡»ï¼æä¸ä¸ªå±æ§ï¼
 * // start: å¼åå¼ä¸éï¼åå«ï¼;
 * // end: å¼åå¼ä¸éï¼ä¸åå«ï¼;
 * // style: æ°æ®å¯è§åå¾å½¢ç styleï¼è¿ä¸ªæ ·å¼å¯¹è±¡çå¯è®¾å±æ§ï¼<SuperMap.Feature.ShapeParameters.Polygon.style> ã
 * // barTopStyleByCodomain æ°ç»å½¢å¦ï¼
 * [
 *   {
 *     start:0,
 *     end:250,
 *     style:{
 *          fillColor:"#00CD00"
 *      }
 *  },
 *   {
 *     start:250,
 *     end:500,
 *     style:{
 *          fillColor:"#00EE00"
 *      }
 *  },
 *   {
 *     start:500,
 *     end:750,
 *     style:{
 *          fillColor:"#00FF7F"
 *      }
 *  },
 *   {
 *     start:750,
 *     end:1500,
 *     style:{
 *          fillColor:"#00FF00"
 *      }
 *  }
 * ]
 */

class Bar3D_Bar3D extends Graph_Graph {

    constructor(data, layer, fields, setting, lonlat) {
        super(data, layer, fields, setting, lonlat);
        this.CLASS_NAME = "SuperMap.Feature.Theme.Bar3D";
    }

    /**
     * @function SuperMap.Feature.Theme.Bar3D.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.Feature.Theme.Bar3D.prototype.assembleShapes
     * @description å¾å½¢è£éå®ç°ï¼æ©å±æ¥å£ï¼ã
     */
    assembleShapes() {
        // å¾è¡¨éç½®å¯¹è±¡
        var sets = this.setting;

        // é»è®¤æ°æ®è§å¾æ¡
        if (!sets.dataViewBoxParameter) {
            if (typeof(sets.useAxis) === "undefined" || sets.useAxis) {
                sets.dataViewBoxParameter = [45, 25, 20, 20];
            } else {
                sets.dataViewBoxParameter = [5, 5, 5, 5];
            }
        }

        // 3d æ±å¾çåæ è½´é»è®¤ä½¿ç¨åæ è½´ç®­å¤´
        sets.axisUseArrow = (typeof(sets.axisUseArrow) !== "undefined") ? sets.axisUseArrow : true;
        sets.axisXLabelsOffset = (typeof(sets.axisXLabelsOffset) !== "undefined") ? sets.axisXLabelsOffset : [-10, 10];

        // éè¦æ­¥éª¤ï¼åå§ååæ°
        if (!this.initBaseParameter()) {
            return;
        }

        // å¼å
        var codomain = this.DVBCodomain;
        // éè¦æ­¥éª¤ï¼å®ä¹å¾è¡¨ Bar æ°æ®è§å¾æ¡ä¸­åä½å¼çå«ä¹
        this.DVBUnitValue = (codomain[1] - codomain[0]) / this.DVBHeight;
        // æ°æ®è§å¾å
        var dvb = this.dataViewBox;
        // ç¨æ·æ°æ®å¼
        var fv = this.dataValues;
        if (fv.length < 1) {
            return;
        }       // æ²¡ææ°æ®

        // æ°æ®æº¢åºå¼åèå´å¤ç
        for (let i = 0, fvLen = fv.length; i < fvLen; i++) {
            if (fv[i] < codomain[0] || fv[i] > codomain[1]) {
                return;
            }
        }

        // è·å x è½´ä¸çå¾å½¢ä¿¡æ¯
        var xShapeInfo = this.calculateXShapeInfo();
        if (!xShapeInfo) {
            return;
        }
        // æ¯ä¸ªæ±æ¡ x ä½ç½®
        var xsLoc = xShapeInfo.xPositions;
        // æ±æ¡å®½åº¦
        var xsWdith = xShapeInfo.width;

        // åæ è½´, é»è®¤å¯ç¨
        if (typeof(sets.useBackground) === "undefined" || sets.useBackground) {
            this.shapes.push(ShapeFactory_ShapeFactory.Background(this.shapeFactory, this.chartBox, sets));
        }

        // åæ è½´
        if (!sets.axis3DParameter || isNaN(sets.axis3DParameter) || sets.axis3DParameter < 15) {
            sets.axis3DParameter = 20;
        }
        if (typeof(sets.useAxis) === "undefined" || sets.useAxis) {
            this.shapes = this.shapes.concat(ShapeFactory_ShapeFactory.GraphAxis(this.shapeFactory, dvb, sets, xShapeInfo));
        }

        // 3d åç§»é, é»è®¤å¼ 10;
        var offset3d = (sets.bar3DParameter && !isNaN(sets.bar3DParameter)) ? sets.bar3DParameter : 10;

        for (let i = 0; i < fv.length; i++) {
            // æ  3d åç§»éæ¶çæ±é¢é¡¶é¨ y åæ 
            var yPx = dvb[1] - (fv[i] - codomain[0]) / this.DVBUnitValue;
            // æ  3d åç§»éæ¶çæ±é¢çå·¦ãå³ç«¯ x åæ 
            var iPoiL = xsLoc[i] - xsWdith / 2;
            var iPoiR = xsLoc[i] + xsWdith / 2;

            // 3d æ±é¡¶é¢èç¹
            var bar3DTopPois = [
                [iPoiL, yPx],
                [iPoiR, yPx],
                [iPoiR - offset3d, yPx + offset3d],
                [iPoiL - offset3d, yPx + offset3d]
            ];

            // 3d æ±ä¾§é¢èç¹
            var bar3DSidePois = [
                [iPoiR, yPx],
                [iPoiR - offset3d, yPx + offset3d],
                [iPoiR - offset3d, dvb[1] + offset3d],
                [iPoiR, dvb[1]]
            ];

            // 3d æ±æ­£é¢èç¹
            var bar3DFacePois = [
                [iPoiL - offset3d, dvb[1] + offset3d],
                [iPoiR - offset3d, dvb[1] + offset3d],
                [iPoiR - offset3d, yPx + offset3d],
                [iPoiL - offset3d, yPx + offset3d]
            ];
            if (offset3d <= 0) {  // offset3d <= 0 æ¶æ­£é¢ä¸åç§»
                bar3DFacePois = [
                    [iPoiL, dvb[1]],
                    [iPoiR, dvb[1]],
                    [iPoiR, yPx],
                    [iPoiL, yPx]
                ];
            }

            // æ°å»º 3d æ±é¢é¡¶é¢ãä¾§é¢ãæ­£é¢å¾å½¢åæ°å¯¹è±¡
            var polyTopSP = new feature_Polygon_Polygon(bar3DTopPois);
            var polySideSP = new feature_Polygon_Polygon(bar3DSidePois);
            var polyFaceSP = new feature_Polygon_Polygon(bar3DFacePois);


            // ä¾§é¢ãæ­£é¢å¾å½¢ style é»è®¤å¼
            sets.barSideStyle = sets.barSideStyle ? sets.barSideStyle : sets.barFaceStyle;
            sets.barSideStyleByFields = sets.barSideStyleByFields ? sets.barSideStyleByFields : sets.barFaceStyleByFields;
            sets.barSideStyleByCodomain = sets.barSideStyleByCodomain ? sets.barSideStyleByCodomain : sets.barFaceStyleByCodomain;
            sets.barTopStyle = sets.barTopStyle ? sets.barTopStyle : sets.barFaceStyle;
            sets.barTopStyleByFields = sets.barTopStyleByFields ? sets.barTopStyleByFields : sets.barFaceStyleByFields;
            sets.barTopStyleByCodomain = sets.barTopStyleByCodomain ? sets.barTopStyleByCodomain : sets.barFaceStyleByCodomain;
            // é¡¶é¢ãä¾§é¢ãæ­£é¢å¾å½¢ style
            polyFaceSP.style = ShapeFactory_ShapeFactory.ShapeStyleTool({
                    stroke: true,
                    strokeColor: "#ffffff",
                    fillColor: "#ee9900"
                },
                sets.barFaceStyle, sets.barFaceStyleByFields, sets.barFaceStyleByCodomain, i, fv[i]);
            polySideSP.style = ShapeFactory_ShapeFactory.ShapeStyleTool({
                    stroke: true,
                    strokeColor: "#ffffff",
                    fillColor: "#ee9900"
                },
                sets.barSideStyle, sets.barSideStyleByFields, sets.barSideStyleByCodomain, i, fv[i]);
            polyTopSP.style = ShapeFactory_ShapeFactory.ShapeStyleTool({
                    stroke: true,
                    strokeColor: "#ffffff",
                    fillColor: "#ee9900"
                },
                sets.barTopStyle, sets.barTopStyleByFields, sets.barTopStyleByCodomain, i, fv[i]);

            // 3d æ±æ¡é«äº®æ ·å¼
            sets.barSideHoverStyle = sets.barSideHoverStyle ? sets.barSideHoverStyle : sets.barFaceHoverStyle;
            sets.barTopHoverStyle = sets.barTopHoverStyle ? sets.barTopHoverStyle : sets.barFaceHoverStyle;
            polyFaceSP.highlightStyle = ShapeFactory_ShapeFactory.ShapeStyleTool({stroke: true}, sets.barFaceHoverStyle);
            polySideSP.highlightStyle = ShapeFactory_ShapeFactory.ShapeStyleTool({stroke: true}, sets.barSideHoverStyle);
            polyTopSP.highlightStyle = ShapeFactory_ShapeFactory.ShapeStyleTool({stroke: true}, sets.barTopHoverStyle);

            // å¾å½¢æºå¸¦çæ°æ® id ä¿¡æ¯ & é«äº®æ¨¡å¼
            polyTopSP.refDataID = polySideSP.refDataID = polyFaceSP.refDataID = this.data.id;
            // hover æ¨¡å¼ï¼ç»åï¼
            polyTopSP.isHoverByRefDataID = polySideSP.isHoverByRefDataID = polyFaceSP.isHoverByRefDataID = true;
            // é«äº®ç»(å½é¼ æ  hover å°ç»åä»»ä½ä¸ä¸ªå¾å½¢ï¼æ´ä¸ªç»çå¾å½¢é½ä¼é«äº®ãrefDataHoverGroup å¨ isHoverByRefDataID ä¸º true æ¶ææ)
            polyTopSP.refDataHoverGroup = polySideSP.refDataHoverGroup = polyFaceSP.refDataHoverGroup = Util_Util.createUniqueID("lr_shg");
            // å¾å½¢æºå¸¦çæ°æ®ä¿¡æ¯
            polyTopSP.dataInfo = polySideSP.dataInfo = polyFaceSP.dataInfo = {
                field: this.fields[i],
                value: fv[i]
            };

            // 3d æ±æ¡é¡¶é¢ãä¾§é¢ãæ­£é¢å¾å½¢ hover click è®¾ç½®
            if (typeof(sets.barHoverAble) !== "undefined") {
                polyTopSP.hoverable = polySideSP.hoverable = polyFaceSP.hoverable = sets.barHoverAble;
            }
            if (typeof(sets.barClickAble) !== "undefined") {
                polyTopSP.clickable = polySideSP.clickable = polyFaceSP.clickable = sets.barClickAble;
            }

            // åå»º3d æ±æ¡çé¡¶é¢ãä¾§é¢ãæ­£é¢å¾å½¢å¹¶æ·»å å°å¾è¡¨çå¾å½¢åè¡¨æ°ç»
            this.shapes.push(this.shapeFactory.createShape(polySideSP));
            this.shapes.push(this.shapeFactory.createShape(polyTopSP));
            this.shapes.push(this.shapeFactory.createShape(polyFaceSP));
        }

        // éè¦æ­¥éª¤ï¼å°å¾å½¢è½¬ä¸ºç±ç¸å¯¹åæ è¡¨ç¤ºçå¾å½¢ï¼ä»¥ä¾¿å¨å°å¾å¹³ç§»ç¼©æ¾è¿ç¨ä¸­å¿«ééç»å¾å½¢
        // ï¼ç»è®¡ä¸é¢å¾æ¨¡åä»ç»æä¸è¦æ±ä½¿ç¨ç¸å¯¹åæ ï¼assembleShapes() å½æ°å¿é¡»å¨å¾å½¢è£éå®æåè°ç¨ shapesConvertToRelativeCoordinate() å½æ°ï¼
        this.shapesConvertToRelativeCoordinate();
    }

    /**
     * @function SuperMap.Feature.Theme.Bar3D.prototype.calculateXShapeInfo
     * @description è®¡ç® X è½´æ¹åä¸çå¾å½¢ä¿¡æ¯ï¼æ­¤ä¿¡æ¯æ¯ä¸ä¸ªå¯¹è±¡ï¼åå«ä¸¤ä¸ªå±æ§ï¼
     *              å±æ§ xPositions æ¯ä¸ä¸ªä¸ç»´æ°ç»ï¼è¯¥æ°ç»åç´ è¡¨ç¤ºå¾å½¢å¨ x è½´æ¹åä¸çåç´ åæ å¼ï¼
     *              å¦æå¾å½¢å¨ x æ¹åä¸æä¸å®å®½åº¦ï¼éå¸¸åå¾å½¢å¨ x æ¹åä¸çä¸­å¿ç¹ä¸ºå¾å½¢å¨ x æ¹åä¸çåæ å¼ã
     *              width è¡¨ç¤ºå¾å½¢çå®½åº¦ï¼ç¹å«æ³¨æï¼ç¹çå®½åº¦å§ç»ä¸º 0ï¼èä¸æ¯å¶ç´å¾ï¼ã
     *              æ¬å½æ°ä¸­å¾å½¢éç½®å¯¹è±¡ setting å¯è®¾å±æ§:
     *              xShapeBlank - {Array.<number>} æ°´å¹³æ¹åä¸çå¾å½¢ç©ºç½é´éåæ°ã
     *              é¿åº¦ä¸º 3 çæ°ç»ï¼ç¬¬ä¸åç´ è¡¨ç¤ºç¬¬ä¸ä¸ªå¾å½¢å·¦ç«¯ä¸æ°æ®è§å¾æ¡å·¦ç«¯çç©ºç½é´è·ï¼ç¬¬äºä¸ªåç´ è¡¨ç¤ºå¾å½¢é´ç©ºç½é´è·ï¼
     *              ç¬¬ä¸ä¸ªåç´ è¡¨ç¤ºæåä¸ä¸ªå¾å½¢å³ç«¯ä¸æ°æ®è§å¾æ¡å³ç«¯ç«¯çç©ºç½é´è· ã
     * @return {Object} å¦æè®¡ç®å¤±è´¥ï¼è¿å nullï¼å¦æè®¡ç®æåï¼è¿å X è½´æ¹åä¸çå¾å½¢ä¿¡æ¯ï¼æ­¤ä¿¡æ¯æ¯ä¸ä¸ªå¯¹è±¡ï¼åå«ä»¥ä¸ä¸¤ä¸ªå±æ§:
     *                  xPositions - {Array.<number>} è¡¨ç¤ºå¾å½¢å¨ x è½´æ¹åä¸çåç´ åæ å¼ï¼å¦æå¾å½¢å¨ x æ¹åä¸æä¸å®å®½åº¦ï¼éå¸¸åå¾å½¢å¨ x æ¹åä¸çä¸­å¿ç¹ä¸ºå¾å½¢å¨ x æ¹åä¸çåæ å¼ã
     *                  width - {number} è¡¨ç¤ºå¾å½¢çå®½åº¦ï¼ç¹å«æ³¨æï¼ç¹çå®½åº¦å§ç»ä¸º 0ï¼èä¸æ¯å¶ç´å¾ï¼ã
     */
    calculateXShapeInfo() {
        var dvb = this.dataViewBox;     // æ°æ®è§å¾æ¡
        var sets = this.setting;     // å¾è¡¨éç½®å¯¹è±¡
        var fvc = this.dataValues.length;      // æ°ç»å¼ä¸ªæ°

        if (fvc < 1) {
            return null;
        }

        var xBlank;        // x è½´ç©ºç½é´éåæ°
        var xShapePositions = [];         // x è½´ä¸å¾å½¢çä½ç½®
        var xShapeWidth = 0;          // x è½´ä¸å¾å½¢å®½åº¦(èªéåº)
        var dvbWidth = this.DVBWidth;            // æ°æ®è§å¾æ¡å®½åº¦

        //  x è½´ç©ºç½é´éåæ°å¤ç
        if (sets.xShapeBlank && sets.xShapeBlank.length && sets.xShapeBlank.length == 3) {
            xBlank = sets.xShapeBlank;
            var xsLen = dvbWidth - (xBlank[0] + xBlank[2] + (fvc - 1) * xBlank[1])
            if (xsLen <= fvc) {
                return null;
            }
            xShapeWidth = xsLen / fvc
        } else {
            // é»è®¤ä½¿ç¨ç­è·ç¦»ç©ºç½é´éï¼ç©ºç½é´éä¸ºå¾å½¢å®½åº¦
            xShapeWidth = dvbWidth / (2 * fvc + 1);
            xBlank = [xShapeWidth, xShapeWidth, xShapeWidth];
        }

        // å¾å½¢ x è½´ä¸çä½ç½®è®¡ç®
        var xOffset = 0
        for (var i = 0; i < fvc; i++) {
            if (i == 0) {
                xOffset = xBlank[0] + xShapeWidth / 2;
            } else {
                xOffset += (xShapeWidth + xBlank[1]);
            }

            xShapePositions.push(dvb[0] + xOffset);
        }

        return {
            "xPositions": xShapePositions,
            "width": xShapeWidth
        };
    }
}
/**
 * @typedef {Object} SuperMap.Feature.Theme.Bar3D.setting
 * @property {number} width - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å®½åº¦ã
 * @property {number} height - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼é«åº¦ã
 * @property {Array.<number>} codomain - å¾è¡¨åè®¸å±ç¤ºçæ°æ®å¼åï¼é¿åº¦ä¸º 2 çä¸ç»´æ°ç»ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤ºå¼åä¸éï¼ç¬¬äºä¸ªåç´ è¡¨ç¤ºå¼åä¸éã
 * @property {number} [XOffset] - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å¨ X æ¹åä¸çåç§»å¼ï¼åä½åç´ ã
 * @property {number} [YOffset] - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å¨ Y æ¹åä¸çåç§»å¼ï¼åä½åç´ ã
 * @property {Array.<number>} [dataViewBoxParameter] - æ°æ®è§å¾æ¡ dataViewBox åæ°ï¼å®æ¯æå¾è¡¨æ¡ chartBox ï¼ç±å¾è¡¨ä½ç½®ãå¾è¡¨å®½åº¦ãå¾è¡¨é«åº¦ææçå¾è¡¨èå´æ¡ï¼å¨å·¦ãä¸ï¼å³ï¼ä¸åä¸ªæ¹åä¸çååè·å¼ãå½ä½¿ç¨åæ è½´æ¶ dataViewBoxParameter çé»è®¤å¼ä¸ºï¼[45, 25, 20, 20]ï¼ä¸ä½¿ç¨åæ è½´æ¶ dataViewBoxParameter çé»è®¤å¼ä¸ºï¼[5, 5, 5, 5]ã
 * @property {number} [decimalNumber] - æ°æ®å¼æ°ç» dataValues åç´ å¼å°æ°ä½æ°ï¼æ°æ®çå°æ°ä½å¤çåæ°ï¼åå¼èå´ï¼[0, 16]ãå¦æä¸è®¾ç½®æ­¤åæ°ï¼å¨åæ°æ®å¼æ¶ä¸å¯¹æ°æ®åå°æ°ä½å¤çã
 * @property {boolean} [useBackground=true] - æ¯å¦ä½¿ç¨å¾è¡¨èæ¯æ¡ã
 * @property {SuperMap.Feature.ShapeParameters.Rectangle.style} [backgroundStyle] - èæ¯æ ·å¼ã
 * @property {Array.<number>} [backgroundRadius=[0, 0, 0, 0]] - èæ¯æ¡ç©å½¢åè§åå¾ï¼å¯ä»¥ç¨æ°ç»åå«æå®åä¸ªè§çåè§åå¾ï¼è®¾ï¼å·¦ä¸ãå³ä¸ãå³ä¸ãå·¦ä¸è§çåå¾ä¾æ¬¡ä¸º r1ãr2ãr3ãr4 ,å backgroundRadius ä¸º [r1ãr2ãr3ãr4 ]ã
 * @property {Array.<number>} [xShapeBlank] - æ°´å¹³æ¹åä¸çå¾å½¢ç©ºç½é´éåæ°ãé¿åº¦ä¸º 3 çæ°ç»ï¼ç¬¬ä¸åç´ è¡¨ç¤ºç¬¬ä¸ä¸ªå¾å½¢å·¦ç«¯ä¸æ°æ®è§å¾æ¡å·¦ç«¯çç©ºç½é´è·ï¼ç¬¬äºä¸ªåç´ è¡¨ç¤ºå¾å½¢é´ç©ºç½é´è·ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤ºæåä¸ä¸ªå¾å½¢å³ç«¯ä¸æ°æ®è§å¾æ¡å³ç«¯ç«¯çç©ºç½é´è· ã
 * @property {number} [bar3DParameter=10] - 3D æ±ç¶åæ°ï¼3dæ±å½¢æ­£é¢ç¸å¯¹äºèé¢å x è½´å y è½´è´æ¹ååç§»çç»å¯¹å¼ã
 * @property {boolean} [useAxis=true] - æ¯å¦ä½¿ç¨åæ è½´ã
 * @property {SuperMap.Feature.ShapeParameters.Line.style} [axisStyle] - åæ è½´æ ·å¼ã
 * @property {boolean} [axisUseArrow=true] -åæ è½´æ¯å¦ä½¿ç¨ç®­å¤´ã
 * @property {number} [axisYTick=0] - y è½´å»åº¦æ°éã
 * @property {Array.<string>}  [axisYLabels] - y è½´ä¸çæ ç­¾ç»åå®¹ï¼æ ç­¾é¡ºåºæ²¿çæ°æ®è§å¾æ¡å·¦é¢æ¡è¾¹èªä¸èä¸ï¼ç­è·æå¸ãä¾å¦ï¼["1000", "750", "500", "250", "0"]ã
 * @property {SuperMap.Feature.ShapeParameters.Label.style} [axisYLabelsStyle] - y è½´ä¸çæ ç­¾ç»æ ·å¼ã
 * @property {Array.<number>} [axisYLabelsOffset=0] - y è½´ä¸çæ ç­¾ç»åç§»éãé¿åº¦ä¸º 2 çæ°ç»ï¼æ°ç»ç¬¬ä¸é¡¹è¡¨ç¤º y è½´æ ç­¾ç»æ¨ªåä¸çåç§»éï¼åå·¦ä¸ºæ­£ï¼é»è®¤å¼ï¼0ï¼æ°ç»ç¬¬äºé¡¹è¡¨ç¤º y è½´æ ç­¾ç»çºµåä¸çåç§»éï¼åä¸ä¸ºæ­£ã
 * @property {Array.<string>}  [axisXLabels] - x è½´ä¸çæ ç­¾ç»åå®¹ï¼æ ç­¾é¡ºåºæ²¿çæ°æ®è§å¾æ¡ä¸é¢æ¡è¾¹èªå·¦åå³æå¸ï¼ä¾å¦ï¼["92å¹´", "95å¹´", "99å¹´"]ãæ ç­¾æå¸è§åï¼å½æ ç­¾æ°éä¸ xShapeInfo ä¸­çå±æ§ xShapeCenter æ°éç¸åï¼å³æ ç­¾ä¸ªæ°ä¸æ°æ®ä¸ªæ°ç¸ç­æ¶ï¼, æç§ xShapeCenter æä¾çä½ç½®æå¸æ ç­¾ï¼å¦åæ²¿æ°æ®è§å¾æ¡ä¸é¢æ¡è¾¹ç­è·æå¸æ ç­¾ã
 * @property {SuperMap.Feature.ShapeParameters.Label.style} axisXLabelsStyle - x è½´ä¸çæ ç­¾ç»æ ·å¼ã
 * @property {Array.<number>} axisXLabelsOffset - x è½´ä¸çæ ç­¾ç»åç§»éãé¿åº¦ä¸º 2 çæ°ç»ï¼æ°ç»ç¬¬ä¸é¡¹è¡¨ç¤º x è½´æ ç­¾ç»æ¨ªåä¸çåç§»éï¼åå·¦ä¸ºæ­£ï¼é»è®¤å¼ï¼-10ï¼æ°ç»ç¬¬äºé¡¹è¡¨ç¤º x è½´æ ç­¾ç»çºµåä¸çåç§»éï¼åä¸ä¸ºæ­£ï¼é»è®¤å¼ï¼10ã
 * @property {boolean} [useXReferenceLine] - æ¯å¦ä½¿ç¨æ°´å¹³åèçº¿ï¼å¦æä¸º trueï¼å¨ axisYTick å¤§äº 0 æ¶ææï¼æ°´å¹³åèçº¿æ¯ y è½´å»åº¦å¨æ°æ®è§å¾æ¡éçå»¶ä¼¸ã
 * @property {SuperMap.Feature.ShapeParameters.Line.style} [xReferenceLineStyle] - æ°´å¹³åèçº¿æ ·å¼ã
 * @property {number} [axis3DParameter=20] - 3D åæ è½´åæ°ï¼æ­¤å±æ§å¼å¨å¤§äºç­äº 15 æ¶ææã
 * @property {SuperMap.Feature.ShapeParameters.Polygon.style} barFaceStyle - 3d æ±ç¶å¾æ±æ¡æ­£é¢åºç¡ styleï¼æ­¤åæ°æ§å¶æ±æ¡æ­£é¢åºç¡æ ·å¼ï¼ä¼åçº§ä½äº barFaceStyleByFields å barFaceStyleByCodomainã
 * @property {Array.<SuperMap.Feature.ShapeParameters.Polygon.style>} [barFaceStyleByFields] - æä¸é¢å­æ®µ themeFieldsï¼<SuperMap.Layer.Graph.themeFields>ï¼ä¸ºæ±æ¡æ­£é¢èµ styleï¼æ­¤åæ°æå­æ®µæ§å¶æ±æ¡æ­£é¢æ ·å¼ï¼ä¼åçº§ä½äº barFaceStyleByCodomainï¼é«äº barFaceStyleãæ­¤æ°ç»ä¸­çåç´ æ¯æ ·å¼å¯¹è±¡ãæ­¤åæ°ä¸­ç style ä¸ themeFields ä¸­çå­æ®µä¸ä¸å¯¹åº ãä¾å¦ï¼ themeFieldsï¼<SuperMap.Layer.Graph.themeFields>ï¼ ä¸º ["POP_1992", "POP_1995", "POP_1999"],barFaceStyleByFields ä¸º[style1, style2, style3]ï¼åå¨å¾è¡¨ä¸­ï¼å­æ®µ POP_1992 å¯¹åºçæ±æ¡æ­£é¢ä½¿ç¨ style1ï¼å­æ®µ POP_1995 å¯¹åºçæ±æ¡æ­£é¢ä½¿ç¨ style2 ï¼å­æ®µ POP_1999 å¯¹åºçæ±æ¡æ­£é¢ä½¿ç¨ style3ã
 * @property {Array.<Object>} [barFaceStyleByCodomain] - ææ±æ¡æ­£é¢ä»£è¡¨çæ°æ®å¼æå¨å¼åèå´æ§å¶æ±æ¡æ­£é¢æ ·å¼ï¼ä¼åçº§é«äº barFaceStyle å barFaceStyleByFieldsã
 * @property {SuperMap.Feature.ShapeParameters.Polygon.style} [barSideStyle=barFaceStyle] - 3d æ±ç¶å¾æ±æ¡ä¾§é¢åºç¡ styleï¼æ­¤åæ°æ§å¶æ±æ¡ä¾§é¢åºç¡æ ·å¼ï¼ä¼åçº§ä½äº barSideStyleByFields å barSideStyleByCodomainã
 * @property {Array.<SuperMap.Feature.ShapeParameters.Polygon.style>} [barSideStyleByFields] - æä¸é¢å­æ®µ themeFieldsï¼<SuperMap.Layer.Graph.themeFields>ï¼ä¸ºæ±æ¡ä¾§é¢èµstyleï¼æ­¤æ°æå­æ®µæ§å¶æ±æ¡ä¾§é¢æ ·å¼ï¼ä¼åçº§ä½äº barSideStyleByCodomainï¼é«äº barSideStyleãæ­¤æ°ç»ä¸­çåç´ æ¯æ ·å¼å¯¹è±¡ãæ­¤åæ°ä¸­ç style ä¸ themeFields ä¸­çå­æ®µä¸ä¸å¯¹åº ãä¾å¦ï¼ themeFieldsï¼<SuperMap.Layer.Graph.themeFields>ï¼ ä¸º ["POP_1992", "POP_1995", "POP_1999"],barSideStyleByFields ä¸º[style1, style2, style3]ï¼åå¨å¾è¡¨ä¸­ï¼å­æ®µ POP_1992 å¯¹åºçæ±æ¡ä¾§é¢ä½¿ç¨ style1ï¼å­æ®µ POP_1995å¯¹åºçæ±æ¡ä¾§é¢ä½¿ç¨style2ï¼å­æ®µPOP_1999å¯¹åºçæ±æ¡ä¾§é¢ä½¿ç¨style3ãé»è®¤å¼ï¼barFaceStyleByFieldsã
 * @property {Array.<Object>} [barSideStyleByCodomain=barFaceStyleByCodomain] - ææ±æ¡ä¾§é¢ä»£è¡¨çæ°æ®å¼æå¨å¼åèå´æ§å¶æ±æ¡ä¾§é¢æ ·å¼ï¼ä¼åçº§é«äº barSideStyle å barSideStyleByFieldsã
 * @property {Object} [barFaceHoverStyle] - 3d æ±æ¡æ­£é¢ hover ç¶ææ¶çæ ·å¼ï¼barHoverAble ä¸º true æ¶ææã
 * @property {Object} [barSideHoverStyle=barFaceHoverStyle] - 3d æ±æ¡ä¾§é¢ hover ç¶ææ¶çæ ·å¼ï¼barHoverAble ä¸º true æ¶ææã
 * @property {Object}  [barTopHoverStyle=barFaceHoverStyle] - 3d æ±æ¡é¡¶é¢ hover ç¶ææ¶çæ ·å¼ï¼barHoverAble ä¸º true æ¶ææã
 * @property {boolean} [barHoverAble=true] - æ¯å¦åè®¸æ±æ¡ä½¿ç¨ hover ç¶æãåæ¶è®¾ç½® barHoverAble å barClickAble ä¸º falseï¼å¯ä»¥ç´æ¥å±è½æ±æ¡å¯¹ä¸é¢å¾å±äºä»¶çååºã
 * @property {boolean} [barClickAble=true] - æ¯å¦åè®¸æ±æ¡è¢«ç¹å»ãåæ¶è®¾ç½® barHoverAble å barClickAble ä¸º falseï¼å¯ä»¥ç´æ¥å±è½æ±æ¡å¯¹ä¸é¢å¾å±äºä»¶çååºã
 * @property {SuperMap.Feature.ShapeParameters.Polygon.style} [barTopStyle=barFaceStyle] - 3d æ±ç¶å¾æ±æ¡é¡¶é¢åºç¡ styleï¼æ­¤åæ°æ§å¶æ±æ¡é¡¶é¢åºç¡æ ·å¼ï¼ä¼åçº§ä½äº barTopStyleByFields å barTopStyleByCodomainã
 * @property {Array.<SuperMap.Feature.ShapeParameters.Polygon.style>} [barTopStyleByFields=barFaceStyleByFields] - æä¸é¢å­æ®µ themeFieldsï¼<SuperMap.Layer.Graph.themeFields>ï¼ä¸ºæ±æ¡é¡¶é¢èµ styleï¼æ­¤åæ°æå­æ®µæ§å¶æ±æ¡é¡¶é¢æ ·å¼ï¼ä¼åçº§ä½äº barTopStyleByCodomainï¼é«äº barTopStyleãæ­¤æ°ç»ä¸­çåç´ æ¯æ ·å¼å¯¹è±¡ãæ­¤åæ°ä¸­ç style ä¸ themeFields ä¸­çå­æ®µä¸ä¸å¯¹åº ãä¾å¦ï¼ themeFieldsï¼<SuperMap.Layer.Graph.themeFields>ï¼ ä¸º ["POP_1992", "POP_1995", "POP_1999"],barTopStyleByFields ä¸º[style1, style2, style3]ï¼åå¨å¾è¡¨ä¸­ï¼å­æ®µ POP_1992 å¯¹åºçæ±æ¡é¡¶é¢ä½¿ç¨ style1ï¼å­æ®µ POP_1995 å¯¹åºçæ±æ¡é¡¶é¢ä½¿ç¨ style2 ï¼å­æ®µ POP_1999 å¯¹åºçæ±æ¡é¡¶é¢ä½¿ç¨ style3ã
 * @property {Array.<Object>} [barTopStyleByCodomain=barFaceStyleByCodomain] - ææ±æ¡é¡¶é¢ä»£è¡¨çæ°æ®å¼æå¨å¼åèå´æ§å¶æ±æ¡é¡¶é¢æ ·å¼ï¼ä¼åçº§é«äº barTopStyle å barTopStyleByFieldsã
 */

SuperMap.Feature.Theme.Bar3D = Bar3D_Bar3D;
// CONCATENATED MODULE: ./src/common/overlay/RankSymbol.js



/**
 * @class SuperMap.Feature.Theme.RankSymbol
 * @classdesc ç¬¦å·ä¸é¢è¦ç´ åºç±»ã
 * @category Visualization Theme
 * @description æ­¤ç±»å®ä¹äºç¬¦å·ä¸é¢è¦ç´ åºç¡æ¨¡åï¼å·ä½çå¾è¡¨æ¨¡åéè¿ç»§æ¿æ­¤ç±»ï¼å¨å­ç±»ä¸­å®ç° assembleShapes æ¹æ³ã
 * ç¬¦å·ä¸é¢è¦ç´ æ¨¡åéç¨äºå¯è§åå¾å½¢å¤§å°èªéåºç­ç¥ï¼ç¨è¾å°çåæ°æ§å¶çå¾è¡¨è¯¸å¤å¾å½¢ï¼å¾è¡¨éç½®å¯¹è±¡ <SuperMap.Feature.Theme.RankSymbol.setting> çåºç¡å±æ§åªæ 5 ä¸ªï¼
 * å®ä»¬æ§å¶çå¾è¡¨ç»æãå¼åèå´ãæ°æ®å°æ°ä½ç­åºç¡å¾è¡¨å½¢æãææå¾è¡¨çå¾å½¢å¿é¡»å¨å¾è¡¨ç»æéèªéåºå¤§å°ã
 * æ­¤ç±»ä¸å¯å®ä¾åï¼æ­¤ç±»çå¯å®ä¾åå­ç±»å¿é¡»å®ç° assembleShapes() æ¹æ³ã
 * @param {SuperMap.Feature.Vector} data - ç¨æ·æ°æ®ã
 * @param {SuperMap.Layer.RankSymbol} layer - æ­¤ä¸é¢è¦ç´ æå¨å¾å±ã
 * @param {Array.<string>} fields - data ä¸­çåä¸æ­¤å¾è¡¨çæçå­æ®µåç§°ã
 * @param {Object} setting - å¾è¡¨éç½®å¯¹è±¡ã
 * @param {SuperMap.LonLat} [lonlat] - ä¸é¢è¦ç´ å°çä½ç½®ãé»è®¤ä¸º data æä»£çå°çè¦ç´  Bounds ä¸­å¿ã
 *
 * @extends SuperMap.Feature.Theme.Graph
 *
 */
class RankSymbol_RankSymbol extends Graph_Graph {

    constructor(data, layer, fields, setting, lonlat, options) {
        super(data, layer, fields, setting, lonlat, options);
        /**
         * @member SuperMap.Feature.Theme.RankSymbol.prototype.setting -{Object}
         * @description ç¬¦å·éç½®å¯¹è±¡ï¼è¯¥å¯¹è±¡æ§å¶çå¾è¡¨çå¯è§åæ¾ç¤ºã
         * ä¸é¢æ¯æ­¤éç½®å¯¹è±¡ç 5 ä¸ªåºç¡å¯è®¾å±æ§ï¼<br>
         * @param {Array.<number>} codomain - å¼åï¼é¿åº¦ä¸º 2 çä¸ç»´æ°ç»ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤ºå¼åä¸éï¼ç¬¬äºä¸ªåç´ è¡¨ç¤ºå¼åä¸éã
         * @param {number} [XOffset] - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å¨ X æ¹åä¸çåç§»å¼ï¼åä½åç´ ã
         * @param {number} [YOffset] - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å¨ Y æ¹åä¸çåç§»å¼ï¼åä½åç´ ã
         * @param {Array.<number>} [dataViewBoxParameter] - æ°æ®è§å¾æ¡ dataViewBox åæ°ï¼å®æ¯æå¾è¡¨æ¡ chartBox ï¼ç±å¾è¡¨ä½ç½®ãå¾è¡¨å®½åº¦ãå¾è¡¨é«åº¦ææçå¾è¡¨èå´æ¡ï¼å¨å·¦ãä¸ï¼å³ï¼ä¸åä¸ªæ¹åä¸çååè·å¼ã
         * @param {number} [decimalNumber] - æ°æ®å¼æ°ç» dataValues åç´ å¼å°æ°ä½æ°ï¼æ°æ®çå°æ°ä½å¤çåæ°ï¼åå¼èå´ï¼[0, 16]ãå¦æä¸è®¾ç½®æ­¤åæ°ï¼å¨åæ°æ®å¼æ¶ä¸å¯¹æ°æ®åå°æ°ä½å¤çã
         * é¤äºä»¥ä¸ 5 ä¸ªåºç¡å±æ§ï¼æ­¤å¯¹è±¡çå¯è®¾å±æ§å¨ä¸åå­ç±»ä¸­æè¾å¤§å·®å¼ï¼ä¸åå­ç±»ä¸­å¯¹åä¸å±æ§çè§£éä¹å¯è½ä¸åã
         * è¯·å¨æ­¤ç±»çå­ç±»ä¸­æ¥ç setting å¯¹è±¡çå¯è®¾å±æ§åå±æ§å«ä¹ã
         */
        this.setting = null;
        // éç½®é¡¹æ£æµä¸èµå¼
        if (setting && setting.codomain) {
            this.setting = setting;
            this.DVBCodomain = this.setting.codomain;
        }
        this.CLASS_NAME = "SuperMap.Feature.Theme.RankSymbol";
    }

    /**
     * @function SuperMap.Feature.Theme.RankSymbol.prototype.destroy
     * @description éæ¯ä¸é¢è¦ç´ ã
     */
    destroy() {
        this.setting = null;
        super.destroy();
    }


    /**
     * @function SuperMap.Feature.Theme.RankSymbol.prototype.initBaseParameter
     * @description åå§åä¸é¢è¦ç´ ï¼å¾å½¢ï¼åºç¡åæ°ã
     * å¨è°ç¨æ­¤æ¹æ³åï¼æ­¤ç±»çå¾è¡¨æ¨¡åç¸å³å±æ§é½æ¯ä¸å¯ç¨ç ï¼æ­¤æ¹æ³å¨ assembleShapes å½æ°ä¸­è°ç¨ã
     * è°ç¨æ­¤å½æ°å³ç³»å° setting å¯¹è±¡çä»¥ä¸å±æ§ã
     * @param {Array.<number>} codomain - å¼åï¼é¿åº¦ä¸º 2 çä¸ç»´æ°ç»ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤ºå¼åä¸éï¼ç¬¬äºä¸ªåç´ è¡¨ç¤ºå¼åä¸éã
     * @param {number} [XOffset] - ä¸é¢è¦ç´ ï¼å¾å½¢ï¼å¨ X æ¹åä¸çåç§»å¼ï¼åä½åç´ ã
     * @param {number} [YOffset] - ä¸é¢è¦ç´ ï¼å¾å½¢ï¼å¨ Y æ¹åä¸çåç§»å¼ï¼åä½åç´ ã
     * @param {Array.<number>} [dataViewBoxParameter] - æ°æ®è§å¾æ¡ dataViewBox åæ°ï¼å®æ¯æå¾å½¢æ¡ chartBox ï¼ç±å¾è¡¨ä½ç½®ãå¾è¡¨å®½åº¦ãå¾è¡¨é«åº¦ææçå¾è¡¨èå´æ¡ï¼å¨å·¦ãä¸ï¼å³ï¼ä¸åä¸ªæ¹åä¸çååè·å¼ã
     * @param {number} [decimalNumber] - æ°æ®å¼æ°ç» dataValues åç´ å¼å°æ°ä½æ°ï¼æ°æ®çå°æ°ä½å¤çåæ°ï¼åå¼èå´ï¼[0, 16]ãå¦æä¸è®¾ç½®æ­¤åæ°ï¼å¨åæ°æ®å¼æ¶ä¸å¯¹æ°æ®åå°æ°ä½å¤çã
     * @returns {boolean} åå§ååæ°æ¯å¦æåã
     */
    initBaseParameter() {
        // åæ°åå§åæ¯å¦æå
        var isSuccess = true;

        // setting å±æ§æ¯å¦å·²æåèµå¼
        if (!this.setting) {
            return false;
        }
        var sets = this.setting;

        // å¾è¡¨åç§»
        if (sets.XOffset) {
            this.XOffset = sets.XOffset;
        }
        if (sets.YOffset) {
            this.YOffset = sets.YOffset;
        }
        this.XOffset = sets.XOffset ? sets.XOffset : 0;
        this.YOffset = sets.YOffset ? sets.YOffset : 0;

        // å¶ä»é»è®¤å¼
        this.origonPoint = [];
        this.chartBox = [];
        this.dataViewBox = [];

        this.DVBParameter = sets.dataViewBoxParameter ? sets.dataViewBoxParameter : [0, 0, 0, 0];

        this.DVBOrigonPoint = [];
        this.DVBCenterPoint = [];
        this.origonPointOffset = [];

        // å¾è¡¨ä½ç½®
        this.resetLocation();

        // ä¸é¢è¦ç´ å®½åº¦ w
        var w = this.width;
        // ä¸é¢è¦ç´ é«åº¦ h
        var h = this.height;
        // ä¸é¢è¦ç´ åç´ ä½ç½® loc
        var loc = this.location;

        // ä¸é¢è¦ç´ åç´ ä½ç½® loc
        this.origonPoint = [loc[0] - w / 2, loc[1] - h / 2];
        // ä¸é¢è¦ç´ åç¹ï¼å·¦ä¸è§ï¼
        var op = this.origonPoint;

        // å¾è¡¨æ¡ï¼[left, bottom, right, top]ï¼
        this.chartBox = [op[0], op[1] + h, op[0] + w, op[1]];
        // å¾è¡¨æ¡
        var cb = this.chartBox;

        // æ°æ®è§å¾æ¡åæ°ï¼å®æ¯å¾è¡¨æ¡åæ¹åå¯¹åºçååè·
        var dbbP = this.DVBParameter;
        // æ°æ®è§å¾æ¡ ï¼[left, bottom, right, top]ï¼
        this.dataViewBox = [cb[0] + dbbP[0], cb[1] - dbbP[1], cb[2] - dbbP[2], cb[3] + dbbP[3]];
        // æ°æ®è§å¾æ¡
        var dvb = this.dataViewBox;
        //æ£æ¥æ°æ®è§å¾æ¡æ¯å¦åæ³
        if (dvb[0] >= dvb[2] || dvb[1] <= dvb[3]) {
            return false;
        }

        // æ°æ®è§å¾æ¡åç¹
        this.DVBOrigonPoint = [dvb[0], dvb[3]];
        // æ°æ®è§å¾æ¡å®½åº¦
        this.DVBWidth = Math.abs(dvb[2] - dvb[0]);
        // æ°æ®è§å¾æ¡é«åº¦
        this.DVBHeight = Math.abs(dvb[1] - dvb[3]);
        // æ°æ®è§å¾æ¡ä¸­å¿ç¹
        this.DVBCenterPoint = [this.DVBOrigonPoint[0] + this.DVBWidth / 2, this.DVBOrigonPoint[1] + this.DVBHeight / 2];

        // æ°æ®è§å¾æ¡åç¹ä¸å¾è¡¨æ¡çåç¹åç§»é
        this.origonPointOffset = [this.DVBOrigonPoint[0] - op[0], this.DVBOrigonPoint[1] - op[1]];

        return isSuccess;
    }
}

SuperMap.Feature.Theme.RankSymbol = RankSymbol_RankSymbol;
// CONCATENATED MODULE: ./src/common/overlay/Circle.js






/**
 * @class SuperMap.Feature.Theme.Circle
 * @classdesc åç±»ã
 * @category Visualization Theme
 * @extends SuperMap.Feature.Theme.RankSymbol
 * @param {SuperMap.Feature.Vector} data - ç¨æ·æ°æ®ã
 * @param {SuperMap.Layer.RankSymbol} layer - æ­¤ä¸é¢è¦ç´ æå¨å¾å±ã
 * @param {Array.<string>} fields - data ä¸­çåä¸æ­¤å¾è¡¨çæçå­æ®µåç§°ã
 * @param {SuperMap.Feature.Theme.Circle.setting} setting - å¾è¡¨éç½®å¯¹è±¡ã
 * @param {SuperMap.LonLat} [lonlat] - ä¸é¢è¦ç´ å°çä½ç½®ï¼é»è®¤ä¸º data æä»£çå°çè¦ç´  Bounds ä¸­å¿ã
 */
class overlay_Circle_Circle extends RankSymbol_RankSymbol {

    constructor(data, layer, fields, setting, lonlat) {
        super(data, layer, fields, setting, lonlat);
        this.CLASS_NAME = "SuperMap.Feature.Theme.Circle";
    }

    /**
     * @function SuperMap.Feature.Theme.Circle.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.Feature.Theme.Circle.prototype.assembleShapes
     * @description è£éå¾å½¢ï¼æ©å±æ¥å£ï¼ã
     */
    assembleShapes() {
        //é»è®¤å¡«åé¢è²
        var defaultFillColor = "#ff9277";

        // setting å±æ§æ¯å¦å·²æåèµå¼
        if (!this.setting) {
            return false;
        }
        var sets = this.setting;
        // æ£æµ setting çå¿è®¾åæ°
        if (!(sets.codomain)) {
            return false;
        }

        // æ°æ®
        var decimalNumber = (typeof(sets.decimalNumber) !== "undefined" && !isNaN(sets.decimalNumber)) ? sets.decimalNumber : -1;
        var dataEffective = feature_Theme_Theme.getDataValues(this.data, this.fields, decimalNumber);
        this.dataValues = dataEffective ? dataEffective : [];

        // æ°æ®å¼æ°ç»
        var fv = this.dataValues;
        //if(fv.length != 1) return;       // æ²¡ææ°æ® æèæ°æ®ä¸å¯ä¸
        //if(fv[0] < 0) return;            //æ°æ®ä¸ºè´å¼

        //ç¨æ·åºè¯¥å®ä¹æå¤§ æå°åå¾  é»è®¤æå¤§åå¾MaxR:100 æå°åå¾MinR:0;
        if (!sets.maxR) {
            sets.maxR = 100;
        }
        if (!sets.minR) {
            sets.minR = 0;
        }

        // å¼åèå´
        var codomain = this.DVBCodomain;

        // éè¦æ­¥éª¤ï¼å®ä¹Circleæ°æ®è§å¾æ¡ä¸­åä½å¼çå«ä¹ï¼åä½å¼ï¼1æä»£è¡¨çé¿åº¦
        // ç¨æ·å®ä¹äºå¼åèå´
        if (codomain && codomain[1] - codomain[0] > 0) {
            this.DVBUnitValue = sets.maxR / (codomain[1] - codomain[0]);
        } else {
            //this.DVBUnitValue = sets.maxR / maxValue;
            this.DVBUnitValue = sets.maxR;
        }

        var uv = this.DVBUnitValue;
        //ååå¾
        var r = fv[0] * uv + sets.minR;
        this.width = 2 * r;
        this.height = 2 * r;

        // éè¦æ­¥éª¤ï¼åå§ååæ°
        if (!this.initBaseParameter()) {
            return;
        }

        //åå¦ç¨æ·è®¾ç½®äºå¼åèå´ æ²¡æå¨å¼åèå´ç´æ¥è¿å
        if (codomain) {
            if (fv[0] < codomain[0] || fv[0] > codomain[1]) {
                return;
            }
        }

        var dvbCenter = this.DVBCenterPoint;        // æ°æ®è§å¾æ¡ä¸­å¿ä½ä¸ºåå¿

        //åå½¢å¯¹è±¡åæ°
        var circleSP = new Circle_Circle(dvbCenter[0], dvbCenter[1], r);

        //circleSP.sytle åå§å
        circleSP.style = ShapeFactory_ShapeFactory.ShapeStyleTool(null, sets.circleStyle, null, null, 0);
        //å¾å½¢çå¡«åé¢è²
        if (typeof (sets.fillColor) !== "undefined") {
            //ç¨æ·èªå®ä¹
            circleSP.style.fillColor = sets.fillColor;
        } else {
            //å½åé»è®¤
            circleSP.style.fillColor = defaultFillColor;
        }
        //åå½¢ Hoveræ ·å¼
        circleSP.highlightStyle = ShapeFactory_ShapeFactory.ShapeStyleTool(null, sets.circleHoverStyle);
        //åå½¢ Hover ä¸ click è®¾ç½®
        if (typeof(sets.circleHoverAble) !== "undefined") {
            circleSP.hoverable = sets.circleHoverAble;
        }
        if (typeof(sets.circleClickAble) !== "undefined") {
            circleSP.clickable = sets.circleClickAble;
        }

        //å¾å½¢æºå¸¦çæ°æ®ä¿¡æ¯
        circleSP.refDataID = this.data.id;
        circleSP.dataInfo = {
            field: this.fields[0],
            r: r,
            value: fv[0]
        };

        // åå»ºæå½¢å¹¶ææ­¤æå½¢æ·»å å°å¾è¡¨å¾å½¢æ°ç»
        this.shapes.push(this.shapeFactory.createShape(circleSP));

        // éè¦æ­¥éª¤ï¼å°å¾å½¢è½¬ä¸ºç±ç¸å¯¹åæ è¡¨ç¤ºçå¾å½¢ï¼ä»¥ä¾¿å¨å°å¾å¹³ç§»ç¼©æ¾è¿ç¨ä¸­å¿«ééç»å¾å½¢
        // ï¼ç»è®¡ä¸é¢å¾æ¨¡åä»ç»æä¸è¦æ±ä½¿ç¨ç¸å¯¹åæ ï¼assembleShapes() å½æ°å¿é¡»å¨å¾å½¢è£éå®æåè°ç¨ shapesConvertToRelativeCoordinate() å½æ°ï¼
        this.shapesConvertToRelativeCoordinate();
    }

}

/**
 * @typedef {Object} SuperMap.Feature.Theme.Circle.setting
 * @property {Array.<number>} codomain - å¾è¡¨åè®¸å±ç¤ºçæ°æ®å¼åï¼é¿åº¦ä¸º 2 çä¸ç»´æ°ç»ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤ºå¼åä¸éï¼ç¬¬äºä¸ªåç´ è¡¨ç¤ºå¼åä¸éã
 * @property {number} [maxR] - åå½¢çæå¤§åå¾ã
 * @property {number} [minR] - åå½¢çæå°åå¾ã
 * @property {string} [fillColor] - åå½¢çå¡«åè²ï¼å¦ï¼fillColor: "#FFB980"ã
 * @property {Object} [circleStyle] - åå½¢çåºç¡ styleï¼æ­¤åæ°æ§å¶åå½¢åºç¡æ ·å¼ï¼ä¼åçº§ä½äº circleStyleByFields å circleStyleByCodomainã
 * @property {number} [decimalNumber] - æ°æ®å¼æ°ç» dataValues åç´ å¼å°æ°ä½æ°ï¼æ°æ®çå°æ°ä½å¤çåæ°ï¼åå¼èå´ï¼[0, 16]ãå¦æä¸è®¾ç½®æ­¤åæ°ï¼å¨åæ°æ®å¼æ¶ä¸å¯¹æ°æ®åå°æ°ä½å¤çã
 * @property {Object} [circleHoverStyle] - åå½¢ hover ç¶ææ¶çæ ·å¼ï¼circleHoverAble ä¸º true æ¶ææã
 * @property {boolean} [circleHoverAble=true] - æ¯å¦åè®¸åå½¢ä½¿ç¨ hover ç¶æãåæ¶è®¾ç½® circleHoverAble å circleClickAble ä¸º falseï¼å¯ä»¥ç´æ¥å±è½å¾å½¢å¯¹ä¸é¢å¾å±äºä»¶çååºã
 * @property {boolean} [circleClickAble=true] - æ¯å¦åè®¸åå½¢è¢«ç¹å»ãåæ¶è®¾ç½® circleHoverAble å circleClickAble ä¸º falseï¼å¯ä»¥ç´æ¥å±è½å¾å½¢å¯¹ä¸é¢å¾å±äºä»¶çååºã
 * 
 */

SuperMap.Feature.Theme.Circle = overlay_Circle_Circle;
// CONCATENATED MODULE: ./src/common/overlay/Line.js






/**
 * @class SuperMap.Feature.Theme.Line
 * @classdesc æçº¿å¾ã
 * @category Visualization Theme
 * @example
 * // pointStyleByCodomain åæ°ç¨æ³ç¤ºä¾
 * // pointStyleByCodomain çæ¯ä¸ªåç´ æ¯ä¸ªåå«å¼åä¿¡æ¯åä¸å¼åå¯¹åºæ ·å¼ä¿¡æ¯çå¯¹è±¡ï¼è¯¥å¯¹è±¡ï¼å¿é¡»ï¼æä¸ä¸ªå±æ§ï¼
 * // start: å¼åå¼ä¸éï¼åå«ï¼;
 * // end: å¼åå¼ä¸éï¼ä¸åå«ï¼;
 * // style: æ°æ®å¯è§åå¾å½¢ç styleï¼è¿ä¸ªæ ·å¼å¯¹è±¡çå¯è®¾å±æ§ï¼ <SuperMap.Feature.ShapeParameters.Point.style> ã
 * // pointStyleByCodomain æ°ç»å½¢å¦ï¼
 * [
 *   {
 *     start:0,
 *     end:250,
 *     style:{
 *          fillColor:"#00CD00"
 *      }
 *  },
 *   {
 *     start:250,
 *     end:500,
 *     style:{
 *          fillColor:"#00EE00"
 *      }
 *  },
 *   {
 *     start:500,
 *     end:750,
 *     style:{
 *          fillColor:"#00FF7F"
 *      }
 *  },
 *   {
 *     start:750,
 *     end:1500,
 *     style:{
 *          fillColor:"#00FF00"
 *      }
 *  }
 * ]
 *
 * @extends SuperMap.Feature.Theme.Graph
 * @param {SuperMap.Feature.Vector} data - ç¨æ·æ°æ®ã
 * @param {SuperMap.Layer.Graph} layer - æ­¤ä¸é¢è¦ç´ æå¨å¾å±ã
 * @param {Array.<string>} fields - data ä¸­çåä¸æ­¤å¾è¡¨çæçå­æ®µåç§°ã
 * @param {SuperMap.Feature.Theme.Line.setting} setting - å¾è¡¨éç½®å¯¹è±¡ã
 * @param {SuperMap.LonLat} [lonlat] - ä¸é¢è¦ç´ å°çä½ç½®ãé»è®¤ä¸º data æä»£çå°çè¦ç´  Bounds ä¸­å¿ã
 */
class overlay_Line_Line extends Graph_Graph {

    constructor(data, layer, fields, setting, lonlat, options) {
        super(data, layer, fields, setting, lonlat, options);
        this.CLASS_NAME = "SuperMap.Feature.Theme.Line";
    }

    /**
     * @function SuperMap.Feature.Theme.Line.prototype.destroy
     * @override
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.Feature.Theme.Line.prototype.assembleShapes
     * @description è£éå¾å½¢ï¼æ©å±æ¥å£ï¼ã
     */
    assembleShapes() {
        // å¾è¡¨éç½®å¯¹è±¡
        var sets = this.setting;

        // é»è®¤æ°æ®è§å¾æ¡
        if (!sets.dataViewBoxParameter) {
            if (typeof(sets.useAxis) === "undefined" || sets.useAxis) {
                sets.dataViewBoxParameter = [45, 15, 15, 15];
            } else {
                sets.dataViewBoxParameter = [5, 5, 5, 5];
            }
        }

        // éè¦æ­¥éª¤ï¼åå§ååæ°
        if (!this.initBaseParameter()) {
            return;
        }

        var dvb = this.dataViewBox;

        // å¼å
        var codomain = this.DVBCodomain;
        // éè¦æ­¥éª¤ï¼å®ä¹å¾è¡¨ Bar æ°æ®è§å¾æ¡ä¸­åä½å¼çå«ä¹
        this.DVBUnitValue = (codomain[1] - codomain[0]) / this.DVBHeight;
        var uv = this.DVBUnitValue;
        // æ°æ®å¼æ°ç»
        var fv = this.dataValues;
        if (fv.length < 1) {
            return;
        }       // æ²¡ææ°æ®

        // è·å x è½´ä¸çå¾å½¢ä¿¡æ¯
        var xShapeInfo = this.calculateXShapeInfo();
        if (!xShapeInfo) {
            return;
        }
        // æçº¿æ¯ä¸ªèç¹ç x ä½ç½®
        var xsLoc = xShapeInfo.xPositions;

        // èæ¯æ¡ï¼é»è®¤å¯ç¨
        if (typeof(sets.useBackground) === "undefined" || sets.useBackground) {
            // å°èæ¯æ¡å¾å½¢æ·»å å°æ¨¡åç shapes æ°ç»ï¼æ³¨ææ·»å é¡ºåºï¼åæ·»å çå¾å½¢å¨åæ·»å çå¾å½¢ä¹ä¸ã
            this.shapes.push(ShapeFactory_ShapeFactory.Background(this.shapeFactory, this.chartBox, sets));
        }

        // æçº¿å¾å¿é¡»ä½¿ç¨åæ è½´
        this.shapes = this.shapes.concat(ShapeFactory_ShapeFactory.GraphAxis(this.shapeFactory, dvb, sets, xShapeInfo));

        // var isDataEffective = true;

        var xPx;        // æçº¿èç¹ x åæ 
        var yPx;        // æçº¿èç¹ y åæ 
        var poiLists = [];        // æçº¿èç¹æ°ç»

        var shapePois = [];     // æçº¿èç¹å¾å½¢æ°ç»
        for (var i = 0, len = fv.length; i < len; i++) {
            // æ°æ®æº¢åºå¼åæ£æ¥
            if (fv[i] < codomain[0] || fv[i] > codomain[1]) {
                // isDataEffective = false;
                return null;
            }

            xPx = xsLoc[i];
            yPx = dvb[1] - (fv[i] - codomain[0]) / uv;

            // æçº¿èç¹åæ°å¯¹è±¡
            var poiSP = new feature_Point_Point(xPx, yPx);
            // æçº¿èç¹ style
            poiSP.style = ShapeFactory_ShapeFactory.ShapeStyleTool({fillColor: "#ee9900"}, sets.pointStyle, sets.pointStyleByFields, sets.pointStyleByCodomain, i, fv[i]);
            // æçº¿èç¹ hover æ ·å¼
            poiSP.highlightStyle = ShapeFactory_ShapeFactory.ShapeStyleTool(null, sets.pointHoverStyle);

            // æçº¿èç¹ hover click
            if (typeof(sets.pointHoverAble) !== "undefined") {
                poiSP.hoverable = sets.pointHoverAble;
            }
            if (typeof(sets.pointClickAble) !== "undefined") {
                poiSP.clickable = sets.pointClickAble;
            }

            // å¾å½¢æºå¸¦çæ°æ®ä¿¡æ¯
            poiSP.refDataID = this.data.id;
            poiSP.dataInfo = {
                field: this.fields[i],
                value: fv[i]
            };

            // åå»ºå¾å½¢å¹¶ææ­¤å¾å½¢æ·»å å°æçº¿èç¹å¾å½¢æ°ç»
            shapePois.push(this.shapeFactory.createShape(poiSP));

            // æ·»å æçº¿èç¹å°æçº¿èç¹æ°ç»
            var poi = [xPx, yPx];
            poiLists.push(poi);
        }

        // æçº¿åæ°å¯¹è±¡
        var lineSP = new Line_Line(poiLists);
        lineSP.style = ShapeFactory_ShapeFactory.ShapeStyleTool({strokeColor: "#ee9900"}, sets.lineStyle);
        // ç¦æ­¢äºä»¶ååº
        lineSP.clickable = false;
        lineSP.hoverable = false;
        var shapeLine = this.shapeFactory.createShape(lineSP);
        this.shapes.push(shapeLine);

        // æ·»å èç¹å°å¾è¡¨å¾å½¢æ°ç»
        this.shapes = this.shapes.concat(shapePois);

        // // æ°æ®èå´æ£æµæªéè¿ï¼æ¸ç©ºå¾å½¢
        // if (isDataEffective === false) {
        //     this.shapes = [];
        // }

        // éè¦æ­¥éª¤ï¼å°å¾å½¢è½¬ä¸ºç±ç¸å¯¹åæ è¡¨ç¤ºçå¾å½¢ï¼ä»¥ä¾¿å¨å°å¾å¹³ç§»ç¼©æ¾è¿ç¨ä¸­å¿«ééç»å¾å½¢
        // ï¼ç»è®¡ä¸é¢å¾æ¨¡åä»ç»æä¸è¦æ±ä½¿ç¨ç¸å¯¹åæ ï¼assembleShapes() å½æ°å¿é¡»å¨å¾å½¢è£éå®æåè°ç¨ shapesConvertToRelativeCoordinate() å½æ°ï¼
        this.shapesConvertToRelativeCoordinate();
    }

    /**
     * @function SuperMap.Feature.Theme.Line.prototype.calculateXShapeInfo
     * @description è®¡ç® X è½´æ¹åä¸çå¾å½¢ä¿¡æ¯ï¼æ­¤ä¿¡æ¯æ¯ä¸ä¸ªå¯¹è±¡ï¼åå«ä¸¤ä¸ªå±æ§ï¼
     *              å±æ§ xPositions æ¯ä¸ä¸ªä¸ç»´æ°ç»ï¼è¯¥æ°ç»åç´ è¡¨ç¤ºå¾å½¢å¨ x è½´æ¹åä¸çåç´ åæ å¼ï¼
     *              å¦æå¾å½¢å¨ x æ¹åä¸æä¸å®å®½åº¦ï¼éå¸¸åå¾å½¢å¨ x æ¹åä¸çä¸­å¿ç¹ä¸ºå¾å½¢å¨ x æ¹åä¸çåæ å¼ã
     *              width è¡¨ç¤ºå¾å½¢çå®½åº¦ï¼ç¹å«æ³¨æï¼ç¹çå®½åº¦å§ç»ä¸º 0ï¼èä¸æ¯å¶ç´å¾ï¼ã
     *              æ¬å½æ°ä¸­å¾å½¢éç½®å¯¹è±¡ setting å¯è®¾å±æ§ï¼<br>
     *              xShapeBlank - {Array.<number>} æ°´å¹³æ¹åä¸çå¾å½¢ç©ºç½é´éåæ°ã
     *              é¿åº¦ä¸º 2 çæ°ç»ï¼ç¬¬ä¸åç´ è¡¨ç¤ºç¬¬æçº¿å·¦ç«¯ç¹ä¸æ°æ®è§å¾æ¡å·¦ç«¯çç©ºç½é´è·ï¼ç¬¬äºä¸ªåç´ è¡¨ç¤ºæçº¿å³ç«¯ç¹å³ç«¯ä¸æ°æ®è§å¾æ¡å³ç«¯ç«¯çç©ºç½é´è· ã
     * @return {Object} å¦æè®¡ç®å¤±è´¥ï¼è¿å nullï¼å¦æè®¡ç®æåï¼è¿å X è½´æ¹åä¸çå¾å½¢ä¿¡æ¯ï¼æ­¤ä¿¡æ¯æ¯ä¸ä¸ªå¯¹è±¡ï¼åå«ä»¥ä¸ä¸¤ä¸ªå±æ§ï¼<br>
     *         xPositions - {Array.<number>} è¡¨ç¤ºå¾å½¢å¨ x è½´æ¹åä¸çåç´ åæ å¼ï¼å¦æå¾å½¢å¨ x æ¹åä¸æä¸å®å®½åº¦ï¼éå¸¸åå¾å½¢å¨ x æ¹åä¸çä¸­å¿ç¹ä¸ºå¾å½¢å¨ x æ¹åä¸çåæ å¼ã<br>
     *         width - {number} è¡¨ç¤ºå¾å½¢çå®½åº¦ï¼ç¹å«æ³¨æï¼ç¹çå®½åº¦å§ç»ä¸º 0ï¼èä¸æ¯å¶ç´å¾ï¼ã
     */
    calculateXShapeInfo() {
        var dvb = this.dataViewBox;     // æ°æ®è§å¾æ¡
        var sets = this.setting;     // å¾è¡¨éç½®å¯¹è±¡
        var fvc = this.dataValues.length;      // æ°ç»å¼ä¸ªæ°

        if (fvc < 1) {
            return null;
        }

        var xBlank;        // x è½´ç©ºç½é´éåæ°
        var xShapePositions = [];         // x è½´ä¸å¾å½¢çä½ç½®
        var xShapeWidth = 0;          // x è½´ä¸å¾å½¢å®½åº¦(èªéåº)
        var dvbWidth = this.DVBWidth;            // æ°æ®è§å¾æ¡å®½åº¦
        var unitOffset = 0;               // åä½åç§»é

        //  x è½´ç©ºç½é´éåæ°å¤ç
        if (sets.xShapeBlank && sets.xShapeBlank.length && sets.xShapeBlank.length == 2) {
            xBlank = sets.xShapeBlank;
            var xsLen = dvbWidth - (xBlank[0] + xBlank[1]);
            if (xsLen <= fvc) {
                return null;
            }
            unitOffset = xsLen / (fvc - 1);
        } else {
            // é»è®¤ä½¿ç¨ç­è·ç¦»ç©ºç½é´éï¼ç©ºç½é´éä¸ºå¾å½¢å®½åº¦
            unitOffset = dvbWidth / (fvc + 1);
            xBlank = [unitOffset, unitOffset, unitOffset];
        }

        // å¾å½¢ x è½´ä¸çä½ç½®è®¡ç®
        var xOffset = 0
        for (var i = 0; i < fvc; i++) {
            if (i == 0) {
                xOffset = xBlank[0];
            } else {
                xOffset += unitOffset;
            }

            xShapePositions.push(dvb[0] + xOffset);
        }

        return {
            "xPositions": xShapePositions,
            "width": xShapeWidth
        };
    }

}

/**
 * @typedef {Object} SuperMap.Feature.Theme.Line.setting
 * @property {number} width - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å®½åº¦ã
 * @property {number} height - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼é«åº¦ã
 * @property {Array.<number>} codomain - å¾è¡¨åè®¸å±ç¤ºçæ°æ®å¼åï¼é¿åº¦ä¸º 2 çä¸ç»´æ°ç»ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤ºå¼åä¸éï¼ç¬¬äºä¸ªåç´ è¡¨ç¤ºå¼åä¸éã
 * @property {number} [XOffset] - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å¨ X æ¹åä¸çåç§»å¼ï¼åä½åç´ ã
 * @property {number} [YOffset] - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å¨ Y æ¹åä¸çåç§»å¼ï¼åä½åç´ ã
 * @property {Array.<number>} [dataViewBoxParameter] - {Array.<number>} æ°æ®è§å¾æ¡ dataViewBox åæ°ï¼
 *                      å®æ¯æå¾è¡¨æ¡ chartBox ï¼ç±å¾è¡¨ä½ç½®ãå¾è¡¨å®½åº¦ãå¾è¡¨é«åº¦ææçå¾è¡¨èå´æ¡ï¼å¨å·¦ãä¸ï¼å³ï¼ä¸åä¸ªæ¹åä¸çååè·å¼ã
 *                      å½ä½¿ç¨åæ è½´æ¶ dataViewBoxParameter çé»è®¤å¼ä¸ºï¼[45, 15, 15, 15]ï¼ä¸ä½¿ç¨åæ è½´æ¶ dataViewBoxParameter çé»è®¤å¼ä¸ºï¼[5, 5, 5, 5]ã
 * @property {number} [decimalNumber] - æ°æ®å¼æ°ç» dataValues åç´ å¼å°æ°ä½æ°ï¼æ°æ®çå°æ°ä½å¤çåæ°ï¼åå¼èå´ï¼[0, 16]ãå¦æä¸è®¾ç½®æ­¤åæ°ï¼å¨åæ°æ®å¼æ¶ä¸å¯¹æ°æ®åå°æ°ä½å¤çã
 * @property {boolean} [useBackground] - æ¯å¦ä½¿ç¨å¾è¡¨èæ¯æ¡ã
 * @property {SuperMap.Feature.ShapeParameters.Rectangle.style} backgroundStyle - èæ¯æ ·å¼ã
 * @property {Array.<number>} [backgroundRadius=[0, 0, 0, 0]] - èæ¯æ¡ç©å½¢åè§åå¾ï¼å¯ä»¥ç¨æ°ç»åå«æå®åä¸ªè§çåè§åå¾ï¼è®¾ï¼å·¦ä¸ãå³ä¸ãå³ä¸ãå·¦ä¸è§çåå¾ä¾æ¬¡ä¸º r1ãr2ãr3ãr4 ,
 *                      å backgroundRadius ä¸º [r1ãr2ãr3ãr4 ]ã
 * @property {Array.<number>} xShapeBlank - æ°´å¹³æ¹åä¸çå¾å½¢ç©ºç½é´éåæ°ãé¿åº¦ä¸º 2 çæ°ç»ï¼ç¬¬ä¸åç´ è¡¨ç¤ºæçº¿å·¦ç«¯ç¹ä¸æ°æ®è§å¾æ¡å·¦ç«¯çç©ºç½é´è·ï¼
 *                       ç¬¬äºä¸ªåç´ è¡¨ç¤ºæçº¿å³ç«¯ç¹å³ç«¯ä¸æ°æ®è§å¾æ¡å³ç«¯ç«¯çç©ºç½é´è·ã
 * @property {SuperMap.Feature.ShapeParameters.Line.style} [axisStyle] - åæ è½´æ ·å¼ã
 * @property {boolean} [axisUseArrow=false] - åæ è½´æ¯å¦ä½¿ç¨ç®­å¤´ã
 * @property {number} [axisYTick=0] - y è½´å»åº¦æ°éã
 * @property {Array.<string>}  [axisYLabels] - y è½´ä¸çæ ç­¾ç»åå®¹ï¼æ ç­¾é¡ºåºæ²¿çæ°æ®è§å¾æ¡å·¦é¢æ¡è¾¹èªä¸èä¸ï¼ç­è·æå¸ãä¾å¦ï¼["1000", "750", "500", "250", "0"]ã
 * @property {SuperMap.Feature.ShapeParameters.Label.style} [axisYLabelsStyle] - y è½´ä¸çæ ç­¾ç»æ ·å¼ã
 * @property {Array.<number>} [axisYLabelsOffset=0] - y è½´ä¸çæ ç­¾ç»åç§»éãé¿åº¦ä¸º 2 çæ°ç»ï¼æ°ç»ç¬¬ä¸é¡¹è¡¨ç¤º y è½´æ ç­¾ç»æ¨ªåä¸çåç§»éï¼åå·¦ä¸ºæ­£ã
 *                       æ°ç»ç¬¬äºé¡¹è¡¨ç¤º y è½´æ ç­¾ç»çºµåä¸çåç§»éï¼åä¸ä¸ºæ­£ã
 * @property {Array.<string>} [axisXLabels] - x è½´ä¸çæ ç­¾ç»åå®¹ï¼æ ç­¾é¡ºåºæ²¿çæ°æ®è§å¾æ¡ä¸é¢æ¡è¾¹èªå·¦åå³æå¸ï¼ä¾å¦ï¼["92å¹´", "95å¹´", "99å¹´"]ã
 *                       æ ç­¾æå¸è§åï¼å½æ ç­¾æ°éä¸ xShapeInfo ä¸­çå±æ§ xShapeCenter æ°éç¸åï¼å³æ ç­¾ä¸ªæ°ä¸æ°æ®ä¸ªæ°ç¸ç­æ¶ï¼, æç§ xShapeCenter æä¾çä½ç½®æå¸æ ç­¾ï¼
 *                       å¦åæ²¿æ°æ®è§å¾æ¡ä¸é¢æ¡è¾¹ç­è·æå¸æ ç­¾ã
 * @property {SuperMap.Feature.ShapeParameters.Label.style} [axisXLabelsStyle] - x è½´ä¸çæ ç­¾ç»æ ·å¼ã
 * @property {Array.<number>} [axisXLabelsOffset=0] - x è½´ä¸çæ ç­¾ç»åç§»éãé¿åº¦ä¸º 2 çæ°ç»ï¼æ°ç»ç¬¬ä¸é¡¹è¡¨ç¤º x è½´æ ç­¾ç»æ¨ªåä¸çåç§»éï¼åå·¦ä¸ºæ­£;
 *                       æ°ç»ç¬¬äºé¡¹è¡¨ç¤º x è½´æ ç­¾ç»çºµåä¸çåç§»éï¼åä¸ä¸ºæ­£;
 * @property {boolean} [useXReferenceLine=true] - æ¯å¦ä½¿ç¨æ°´å¹³åèçº¿ï¼å¦æä¸º trueï¼å¨ axisYTick å¤§äº 0 æ¶ææï¼æ°´å¹³åèçº¿æ¯ y è½´å»åº¦å¨æ°æ®è§å¾æ¡éçå»¶ä¼¸ã
 * @property {SuperMap.Feature.ShapeParameters.Line.style} ]xReferenceLineStyle] - æ°´å¹³åèçº¿æ ·å¼ã
 * @property {SuperMap.Feature.ShapeParameters.Line.style} [lineStyle] - æçº¿å¾ä¸­æçº¿ styleã
 * @property {SuperMap.Feature.ShapeParameters.Point.style} [pointStyle] - æçº¿å¾ä¸­æçº¿èç¹åºç¡ styleï¼æ­¤åæ°æ§å¶æçº¿èç¹åºç¡æ ·å¼ï¼ä¼åçº§ä½äº pointStyleByFields å pointStyleByCodomainã
 * @property {SuperMap.Feature.ShapeParameters.Point.style} [pointStyleByFields] - æä¸é¢å­æ®µ themeFieldsï¼<SuperMap.Layer.Graph.themeFields>ï¼ä¸ºæçº¿èç¹èµ styleï¼æ­¤åæ°æå­æ®µæ§å¶æçº¿èç¹æ ·å¼ï¼
 *                       ä¼åçº§ä½äº pointStyleByCodomainï¼é«äº pointStyleãæ­¤æ°ç»ä¸­çåç´ æ¯æ ·å¼å¯¹è±¡ã
 *                       æ­¤åæ°ä¸­ç style ä¸ themeFields ä¸­çå­æ®µä¸ä¸å¯¹åº ãä¾å¦ï¼ themeFieldsï¼<SuperMap.Layer.Graph.themeFields|L.supermap.graphThemeLayer.themeFields|ol.source.Graph.themeFields|mapboxgl.supermap.GraphThemeLayer.themeFields>ï¼ ä¸º ["POP_1992", "POP_1995", "POP_1999"],
 *                       pointStyleByFields ä¸º[style1, style2, style3]ï¼åå¨å¾è¡¨ä¸­ï¼å­æ®µ POP_1992 å¯¹åºçæçº¿èç¹ä½¿ç¨ style1ï¼å­æ®µ POP_1995 å¯¹åºçæçº¿èç¹ä½¿ç¨ style2 ï¼å­æ®µ POP_1999 å¯¹åºçæçº¿èç¹ä½¿ç¨ style3ã
 * @property {Array.<Object>} pointStyleByCodomain - ææçº¿èç¹ä»£è¡¨çæ°æ®å¼æå¨å¼åèå´æ§å¶æçº¿èç¹æ ·å¼ï¼ä¼åçº§é«äº pointStyle å pointStyleByFieldsã
 * @property {Object} [pointHoverStyle=true] - æçº¿èç¹ hover ç¶ææ¶çæ ·å¼ï¼pointHoverAble ä¸º true æ¶ææã
 * @property {boolean} [pointHoverAble=true] - æ¯å¦åè®¸æçº¿èç¹ä½¿ç¨ hover ç¶æãåæ¶è®¾ç½® pointHoverAble å pointClickAble ä¸º falseï¼å¯ä»¥ç´æ¥å±è½æçº¿èç¹å¯¹ä¸é¢å¾å±äºä»¶çååºã
 * @property {boolean} [pointClickAble=true] - æ¯å¦åè®¸æçº¿èç¹è¢«ç¹å»ãåæ¶è®¾ç½® pointHoverAble å pointClickAble ä¸º falseï¼å¯ä»¥ç´æ¥å±è½æçº¿èç¹å¯¹ä¸é¢å¾å±äºä»¶çååºã
 
 */

SuperMap.Feature.Theme.Line = overlay_Line_Line;
// CONCATENATED MODULE: ./src/common/overlay/Pie.js





/**
 * @class SuperMap.Feature.Theme.Pie
 * @classdesc é¥¼å¾ã
 * @category Visualization Theme
 * @param {SuperMap.Feature.Vector} data - ç¨æ·æ°æ®ã
 * @param {SuperMap.Layer.Graph} layer - æ­¤ä¸é¢è¦ç´ æå¨å¾å±ã
 * @param {Array.<string>} fields - data ä¸­çåä¸æ­¤å¾è¡¨çæçå­æ®µåç§°ã
 * @param {SuperMap.Feature.Theme.Point.setting} setting - å¾è¡¨éç½®å¯¹è±¡ã
 * @param {SuperMap.LonLat} [lonlat] - ä¸é¢è¦ç´ å°çä½ç½®ãé»è®¤ä¸º data æä»£çå°çè¦ç´  Bounds ä¸­å¿ã
 * @extends SuperMap.Feature.Theme.Graph
 * @example
 * // sectorStyleByCodomain çæ¯ä¸ªåç´ æ¯ä¸ªåå«å¼åä¿¡æ¯åä¸å¼åå¯¹åºæ ·å¼ä¿¡æ¯çå¯¹è±¡ï¼è¯¥å¯¹è±¡ï¼å¿é¡»ï¼æä¸ä¸ªå±æ§ï¼
 * // start: å¼åå¼ä¸éï¼åå«ï¼;
 * // end: å¼åå¼ä¸éï¼ä¸åå«ï¼;
 * // style: æ°æ®å¯è§åå¾å½¢ç styleï¼è¿ä¸ªæ ·å¼å¯¹è±¡çå¯è®¾å±æ§ï¼ <SuperMap.Feature.ShapeParameters.Sector.style> ã
 * // sectorStyleByCodomain æ°ç»å½¢å¦ï¼
 * [
 *   {
 *     start:0,
 *     end:250,
 *     style:{
 *          fillColor:"#00CD00"
 *      }
 *  },
 *   {
 *     start:250,
 *     end:500,
 *     style:{
 *          fillColor:"#00EE00"
 *      }
 *  },
 *   {
 *     start:500,
 *     end:750,
 *     style:{
 *          fillColor:"#00FF7F"
 *      }
 *  },
 *   {
 *     start:750,
 *     end:1500,
 *     style:{
 *          fillColor:"#00FF00"
 *      }
 *  }
 * ]
 * @extends {SuperMap.Feature.Theme.Graph}
 */
class Pie_Pie extends Graph_Graph {

    constructor(data, layer, fields, setting, lonlat) {
        super(data, layer, fields, setting, lonlat);
        this.CLASS_NAME = "SuperMap.Feature.Theme.Pie";
    }

    /**
     * @function SuperMap.Feature.Theme.Pie.prototype.destroy
     * @description éæ¯æ­¤ä¸é¢è¦ç´ ãè°ç¨ destroy åæ­¤å¯¹è±¡æä»¥å±æ§ç½®ä¸º nullã
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.Feature.Theme.Pie.prototype.assembleShapes
     * @description è£éå¾å½¢ï¼æ©å±æ¥å£ï¼ã
     */
    assembleShapes() {
        // å¾è¡¨éç½®å¯¹è±¡
        var sets = this.setting;

        // ä¸ä¸ªé»è®¤ style ç»
        var defaultStyleGroup = [
            {fillColor: "#ff9277"}, {fillColor: "#dddd00"}, {fillColor: "#ffc877"}, {fillColor: "#bbe3ff"}, {fillColor: "#d5ffbb"},
            {fillColor: "#bbbbff"}, {fillColor: "#ddb000"}, {fillColor: "#b0dd00"}, {fillColor: "#e2bbff"}, {fillColor: "#ffbbe3"},
            {fillColor: "#ff7777"}, {fillColor: "#ff9900"}, {fillColor: "#83dd00"}, {fillColor: "#77e3ff"}, {fillColor: "#778fff"},
            {fillColor: "#c877ff"}, {fillColor: "#ff77ab"}, {fillColor: "#ff6600"}, {fillColor: "#aa8800"}, {fillColor: "#77c7ff"},
            {fillColor: "#ad77ff"}, {fillColor: "#ff77ff"}, {fillColor: "#dd0083"}, {fillColor: "#777700"}, {fillColor: "#00aa00"},
            {fillColor: "#0088aa"}, {fillColor: "#8400dd"}, {fillColor: "#aa0088"}, {fillColor: "#dd0000"}, {fillColor: "#772e00"}
        ];

        // éè¦æ­¥éª¤ï¼åå§ååæ°
        if (!this.initBaseParameter()) {
            return;
        }

        // èæ¯æ¡ï¼é»è®¤ä¸å¯ç¨
        if (sets.useBackground) {
            this.shapes.push(ShapeFactory_ShapeFactory.Background(this.shapeFactory, this.chartBox, sets));
        }

        // æ°æ®å¼æ°ç»
        var fv = this.dataValues;
        if (fv.length < 1) {
            return;
        }       // æ²¡ææ°æ®

        // å¼åèå´
        var codomain = this.DVBCodomain;
        // å¼åèå´æ£æµ
        for (let i = 0; i < fv.length; i++) {
            if (fv[i] < codomain[0] || fv[i] > codomain[1]) {
                return;
            }
        }

        // å¼çç»å¯¹å¼æ»å
        var valueSum = 0;
        for (let i = 0; i < fv.length; i++) {
            valueSum += Math.abs(fv[i]);
        }

        // éè¦æ­¥éª¤ï¼å®ä¹å¾è¡¨ Pie æ°æ®è§å¾æ¡ä¸­åä½å¼çå«ä¹ï¼åä½å¼ï¼æ¯åº¦ä»£è¡¨çæ°å¼
        this.DVBUnitValue = 360 / valueSum;
        var uv = this.DVBUnitValue;

        var dvbCenter = this.DVBCenterPoint;        // æ°æ®è§å¾æ¡ä¸­å¿ä½ä¸ºæå¿

        var startAngle = 0;         // æå½¢èµ·å§è¾¹è§åº¦
        var endAngle = 0;          // æå½¢ç»æ­¢è¾¹è§åº¦
        var startAngleTmp = startAngle;           // æå½¢ä¸´æ¶èµ·å§è¾¹è§åº¦
        // æå½¢ï¼èªéåºï¼åå¾
        var r = this.DVBHeight < this.DVBWidth ? this.DVBHeight / 2 : this.DVBWidth / 2;

        for (var i = 0; i < fv.length; i++) {
            var fvi = Math.abs(fv[i]);
            //è®¡ç®ç»æ­¢è§
            if (i === 0) {
                endAngle = startAngle + fvi * uv;
            } else if (i === fvi.length - 1) {
                endAngle = startAngleTmp;
            } else {
                endAngle = startAngle + fvi * uv;
            }
            //ç«æ­£è¯¯å·®è®¡ç®
            if ((endAngle - startAngle) >= 360) {
                endAngle = 359.9999999;
            }

            // æå½¢åæ°å¯¹è±¡
            var sectorSP = new Sector_Sector(dvbCenter[0], dvbCenter[1], r, startAngle, endAngle);
            // æå½¢æ ·å¼
            if (typeof(sets.sectorStyleByFields) === "undefined") {
                // ä½¿ç¨é»è®¤ style ç»
                var colorIndex = i % defaultStyleGroup.length;
                sectorSP.style = ShapeFactory_ShapeFactory.ShapeStyleTool(null, sets.sectorStyle, defaultStyleGroup, null, colorIndex);
            } else {
                sectorSP.style = ShapeFactory_ShapeFactory.ShapeStyleTool(null, sets.sectorStyle, sets.sectorStyleByFields, sets.sectorStyleByCodomain, i, fv[i]);
            }

            // æå½¢ hover æ ·å¼
            sectorSP.highlightStyle = ShapeFactory_ShapeFactory.ShapeStyleTool(null, sets.sectorHoverStyle);
            // æå½¢ hover ä¸ click è®¾ç½®
            if (typeof(sets.sectorHoverAble) !== "undefined") {
                sectorSP.hoverable = sets.sectorHoverAble;
            }
            if (typeof(sets.sectorClickAble) !== "undefined") {
                sectorSP.clickable = sets.sectorClickAble;
            }
            // å¾å½¢æºå¸¦çæ°æ®ä¿¡æ¯
            sectorSP.refDataID = this.data.id;
            sectorSP.dataInfo = {
                field: this.fields[i],
                value: fv[i]
            };

            // åå»ºæå½¢å¹¶ææ­¤æå½¢æ·»å å°å¾è¡¨å¾å½¢æ°ç»
            this.shapes.push(this.shapeFactory.createShape(sectorSP));

            // æä¸ä¸æ¬¡çç»æè§åº¦ä½ä¸ºä¸ä¸æ¬¡çèµ·å§è§åº¦
            startAngle = endAngle;
        }

        // éè¦æ­¥éª¤ï¼å°å¾å½¢è½¬ä¸ºç±ç¸å¯¹åæ è¡¨ç¤ºçå¾å½¢ï¼ä»¥ä¾¿å¨å°å¾å¹³ç§»ç¼©æ¾è¿ç¨ä¸­å¿«ééç»å¾å½¢
        // ï¼ç»è®¡ä¸é¢å¾æ¨¡åä»ç»æä¸è¦æ±ä½¿ç¨ç¸å¯¹åæ ï¼assembleShapes() å½æ°å¿é¡»å¨å¾å½¢è£éå®æåè°ç¨ shapesConvertToRelativeCoordinate() å½æ°ï¼
        this.shapesConvertToRelativeCoordinate();
    }

}

/**
 * @typedef {Object} SuperMap.Feature.Theme.Pie.setting
 * @property {number} width - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å®½åº¦ã
 * @property {number} height - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼é«åº¦ã
 * @property {Array.<number>} codomain - å¾è¡¨åè®¸å±ç¤ºçæ°æ®å¼åï¼é¿åº¦ä¸º 2 çä¸ç»´æ°ç»ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤ºå¼åä¸éï¼ç¬¬äºä¸ªåç´ è¡¨ç¤ºå¼åä¸éã
 * @property {number} [XOffset] - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å¨ X æ¹åä¸çåç§»å¼ï¼åä½åç´ ã
 * @property {number} [YOffset] - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å¨ Y æ¹åä¸çåç§»å¼ï¼åä½åç´ ã
 * @property {Array.<number>} [dataViewBoxParameter=[0, 0, 0, 0]] - æ°æ®è§å¾æ¡ dataViewBox åæ°ï¼
 * å®æ¯æå¾è¡¨æ¡ chartBox ï¼ç±å¾è¡¨ä½ç½®ãå¾è¡¨å®½åº¦ãå¾è¡¨é«åº¦ææçå¾è¡¨èå´æ¡ï¼å¨å·¦ãä¸ï¼å³ï¼ä¸åä¸ªæ¹åä¸çååè·å¼ã
 * @property {Array.<number>} decimalNumber - æ°æ®å¼æ°ç» dataValues åç´ å¼å°æ°ä½æ°ï¼æ°æ®çå°æ°ä½å¤çåæ°ï¼åå¼èå´ï¼[0, 16]ãå¦æä¸è®¾ç½®æ­¤åæ°ï¼å¨åæ°æ®å¼æ¶ä¸å¯¹æ°æ®åå°æ°ä½å¤çã
 * @property {boolean} [useBackground=false] - æ¯å¦ä½¿ç¨å¾è¡¨èæ¯æ¡ã
 * @property {SuperMap.Feature.ShapeParameters.Rectangle.style} backgroundStyle - èæ¯æ ·å¼ã
 * @property {Array.<number>} [backgroundRadius=[0, 0, 0, 0]] - èæ¯æ¡ç©å½¢åè§åå¾ï¼å¯ä»¥ç¨æ°ç»åå«æå®åä¸ªè§çåè§åå¾ï¼è®¾ï¼å·¦ä¸ãå³ä¸ãå³ä¸ãå·¦ä¸è§çåå¾ä¾æ¬¡ä¸º r1ãr2ãr3ãr4 ï¼å backgroundRadius ä¸º [r1ãr2ãr3ãr4 ]ã
 * @property {SuperMap.Feature.ShapeParameters.Sector.style} sectorStyle - é¥¼å¾ä¸­æå½¢çåºç¡ styleï¼æ­¤åæ°æ§å¶é¥¼å¾æå½¢åºç¡æ ·å¼ï¼ä¼åçº§ä½äº sectorStyleByFields å sectorStyleByCodomainã
 * @property {Array.<SuperMap.Feature.ShapeParameters.Sector.style>} sectorStyleByFields - æä¸é¢å­æ®µ themeFieldsï¼<SuperMap.Layer.Graph.themeFields>ï¼ä¸ºé¥¼å¾æå½¢èµ styleï¼æ­¤åæ°æå­æ®µæ§å¶é¥¼å¾æå½¢æ ·å¼ï¼ä¼åçº§ä½äº sectorStyleByCodomainï¼é«äº sectorStyleãæ­¤åæ°ä¸­ç style ä¸ themeFields ä¸­çå­æ®µä¸ä¸å¯¹åº ãä¾å¦ï¼ themeFieldsï¼<SuperMap.Layer.Graph.themeFields>ï¼ ä¸º ["POP_1992", "POP_1995", "POP_1999"],
 * sectorStyleByFields ä¸º[style1, style2, style3]ï¼åå¨å¾è¡¨ä¸­ï¼å­æ®µ POP_1992 å¯¹åºçé¥¼å¾æå½¢ä½¿ç¨ style1ï¼å­æ®µ POP_1995 å¯¹åºçé¥¼å¾æå½¢ä½¿ç¨ style2 ï¼å­æ®µ POP_1999 å¯¹åºçé¥¼å¾æå½¢ä½¿ç¨ style3ã
 * @property {Array.<Object>} sectorStyleByCodomain - æé¥¼å¾æå½¢ä»£è¡¨çæ°æ®å¼æå¨å¼åèå´æ§å¶é¥¼å¾æå½¢æ ·å¼ï¼ä¼åçº§é«äº sectorStyle å sectorStyleByFieldsã
 * @property {Object} [sectorHoverStyle] é¥¼å¾æå½¢ hover ç¶ææ¶çæ ·å¼ï¼sectorHoverAble ä¸º true æ¶ææã
 * @property {boolean} [sectorHoverAble=true] æ¯å¦åè®¸é¥¼å¾æå½¢ä½¿ç¨ hover ç¶æãåæ¶è®¾ç½® sectorHoverAble å sectorClickAble ä¸º falseï¼å¯ä»¥ç´æ¥å±è½é¥¼å¾æå½¢å¯¹ä¸é¢å¾å±äºä»¶çååºã
 * @property {boolean} [sectorClickAble=true] æ¯å¦åè®¸é¥¼å¾æå½¢è¢«ç¹å»ãåæ¶è®¾ç½® sectorHoverAble å sectorClickAble ä¸º falseï¼å¯ä»¥ç´æ¥å±è½é¥¼å¾æå½¢å¯¹ä¸é¢å¾å±äºä»¶çååºã
 */

SuperMap.Feature.Theme.Pie = Pie_Pie;
// CONCATENATED MODULE: ./src/common/overlay/Point.js





/**
 * @class SuperMap.Feature.Theme.Point
 * @classdesc ç¹ç¶å¾ã
 * @category Visualization Theme
 * @param {SuperMap.Feature.Vector} data - ç¨æ·æ°æ®ã
 * @param {SuperMap.Layer.Graph} layer - æ­¤ä¸é¢è¦ç´ æå¨å¾å±ã
 * @param {Array.<string>} fields - data ä¸­çåä¸æ­¤å¾è¡¨çæçå­æ®µåç§°ã
 * @param {SuperMap.Feature.Theme.Point.setting} setting - å¾è¡¨éç½®å¯¹è±¡ã
 * @param {SuperMap.LonLat} [lonlat] - ä¸é¢è¦ç´ å°çä½ç½®ãé»è®¤ä¸º data æä»£çå°çè¦ç´  Bounds ä¸­å¿ã
 * @example
 * // pointStyleByCodomain çæ¯ä¸ªåç´ æ¯ä¸ªåå«å¼åä¿¡æ¯åä¸å¼åå¯¹åºæ ·å¼ä¿¡æ¯çå¯¹è±¡ï¼è¯¥å¯¹è±¡ï¼å¿é¡»ï¼æä¸ä¸ªå±æ§ï¼
 * // start: å¼åå¼ä¸éï¼åå«ï¼;
 * // end: å¼åå¼ä¸éï¼ä¸åå«ï¼;
 * // style: æ°æ®å¯è§åå¾å½¢ç styleï¼è¿ä¸ªæ ·å¼å¯¹è±¡çå¯è®¾å±æ§ï¼ <SuperMap.Feature.ShapeParameters.Point.style> ã
 * // pointStyleByCodomain æ°ç»å½¢å¦ï¼
 * [
 *   {
 *     start:0,
 *     end:250,
 *     style:{
 *          fillColor:"#00CD00"
 *      }
 *  },
 *   {
 *     start:250,
 *     end:500,
 *     style:{
 *          fillColor:"#00EE00"
 *      }
 *  },
 *   {
 *     start:500,
 *     end:750,
 *     style:{
 *          fillColor:"#00FF7F"
 *      }
 *  },
 *   {
 *     start:750,
 *     end:1500,
 *     style:{
 *          fillColor:"#00FF00"
 *      }
 *  }
 * ]
 *@extends {SuperMap.Feature.Theme.Graph}

 */
class overlay_Point_Point extends Graph_Graph {

    constructor(data, layer, fields, setting, lonlat, options) {
        super(data, layer, fields, setting, lonlat, options);
        this.CLASS_NAME = "SuperMap.Feature.Theme.Point";
    }

    /**
     * @function SuperMap.Feature.Theme.Point.prototype.destroy
     * @description éæ¯æ­¤ä¸é¢è¦ç´ ãè°ç¨ destroy åæ­¤å¯¹è±¡æä»¥å±æ§ç½®ä¸º nullã
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.Feature.Theme.prototype.Point.assembleShapes
     * @description è£éå¾å½¢ï¼æ©å±æ¥å£ï¼ã
     */
    assembleShapes() {
        // å¾è¡¨éç½®å¯¹è±¡
        var sets = this.setting;

        // é»è®¤æ°æ®è§å¾æ¡
        if (!sets.dataViewBoxParameter) {
            if (typeof(sets.useAxis) === "undefined" || sets.useAxis) {
                sets.dataViewBoxParameter = [45, 15, 15, 15];
            } else {
                sets.dataViewBoxParameter = [5, 5, 5, 5];
            }
        }

        // éè¦æ­¥éª¤ï¼åå§ååæ°
        if (!this.initBaseParameter()) {
            return;
        }

        var dvb = this.dataViewBox;

        // å¼å
        var codomain = this.DVBCodomain;
        // éè¦æ­¥éª¤ï¼å®ä¹å¾è¡¨ Bar æ°æ®è§å¾æ¡ä¸­åä½å¼çå«ä¹
        this.DVBUnitValue = (codomain[1] - codomain[0]) / this.DVBHeight;
        var uv = this.DVBUnitValue;
        var fv = this.dataValues;

        // è·å x è½´ä¸çå¾å½¢ä¿¡æ¯
        var xShapeInfo = this.calculateXShapeInfo();
        if (!xShapeInfo) {
            return;
        }
        // æçº¿æ¯ä¸ªèç¹ç x ä½ç½®
        var xsLoc = xShapeInfo.xPositions;

        // èæ¯æ¡ï¼é»è®¤å¯ç¨
        if (typeof(sets.useBackground) === "undefined" || sets.useBackground) {
            // å°èæ¯æ¡å¾å½¢æ·»å å°æ¨¡åç shapes æ°ç»ï¼æ³¨ææ·»å é¡ºåºï¼åæ·»å çå¾å½¢å¨åæ·»å çå¾å½¢ä¹ä¸ã
            this.shapes.push(ShapeFactory_ShapeFactory.Background(this.shapeFactory, this.chartBox, sets));
        }

        // ç¹ç¶å¾å¿é¡»ä½¿ç¨åæ è½´
        this.shapes = this.shapes.concat(ShapeFactory_ShapeFactory.GraphAxis(this.shapeFactory, dvb, sets, xShapeInfo));

        var xPx;        // å¾å½¢ç¹ x åæ 
        var yPx;        // å¾å½¢ç¹ y åæ 
        for (var i = 0, len = fv.length; i < len; i++) {
            // æ°æ®æº¢åºå¼åæ£æ¥
            if (fv[i] < codomain[0] || fv[i] > codomain[1]) {
                //isDataEffective = false;
                return null;
            }

            xPx = xsLoc[i];
            yPx = dvb[1] - (fv[i] - codomain[0]) / uv;

            // å¾å½¢ç¹åæ°å¯¹è±¡
            var poiSP = new feature_Point_Point(xPx, yPx);
            // å¾å½¢ç¹ style
            poiSP.style = ShapeFactory_ShapeFactory.ShapeStyleTool({fillColor: "#ee9900"}, sets.pointStyle, sets.pointStyleByFields, sets.pointStyleByCodomain, i, fv[i]);
            // å¾å½¢ç¹ hover æ ·å¼
            poiSP.highlightStyle = ShapeFactory_ShapeFactory.ShapeStyleTool(null, sets.pointHoverStyle);

            // å¾å½¢ç¹ hover click
            if (typeof(sets.pointHoverAble) !== "undefined") {
                poiSP.hoverable = sets.pointHoverAble;
            }
            if (typeof(sets.pointClickAble) !== "undefined") {
                poiSP.clickable = sets.pointClickAble;
            }

            // å¾å½¢æºå¸¦çæ°æ®ä¿¡æ¯
            poiSP.refDataID = this.data.id;
            poiSP.dataInfo = {
                field: this.fields[i],
                value: fv[i]
            };

            // åå»ºå¾å½¢ç¹å¹¶ææ­¤å¾å½¢æ·»å å°å¾è¡¨å¾å½¢æ°ç»
            this.shapes.push(this.shapeFactory.createShape(poiSP));
        }

        // æ°æ®èå´æ£æµæªéè¿ï¼æ¸ç©ºå¾å½¢
        // if (isDataEffective === false) {
        //     this.shapes = [];
        // }

        // éè¦æ­¥éª¤ï¼å°å¾å½¢è½¬ä¸ºç±ç¸å¯¹åæ è¡¨ç¤ºçå¾å½¢ï¼ä»¥ä¾¿å¨å°å¾å¹³ç§»ç¼©æ¾è¿ç¨ä¸­å¿«ééç»å¾å½¢
        // ï¼ç»è®¡ä¸é¢å¾æ¨¡åä»ç»æä¸è¦æ±ä½¿ç¨ç¸å¯¹åæ ï¼assembleShapes() å½æ°å¿é¡»å¨å¾å½¢è£éå®æåè°ç¨ shapesConvertToRelativeCoordinate() å½æ°ï¼
        this.shapesConvertToRelativeCoordinate();
    }

    /**
     * @function SuperMap.Feature.Theme.Point.prototype.calculateXShapeInfo
     * @description è®¡ç® X è½´æ¹åä¸çå¾å½¢ä¿¡æ¯ï¼æ­¤ä¿¡æ¯æ¯ä¸ä¸ªå¯¹è±¡ï¼åå«ä¸¤ä¸ªå±æ§ï¼
     *              å±æ§ xPositions æ¯ä¸ä¸ªä¸ç»´æ°ç»ï¼è¯¥æ°ç»åç´ è¡¨ç¤ºå¾å½¢å¨ x è½´æ¹åä¸çåç´ åæ å¼ï¼
     *              å¦æå¾å½¢å¨ x æ¹åä¸æä¸å®å®½åº¦ï¼éå¸¸åå¾å½¢å¨ x æ¹åä¸çä¸­å¿ç¹ä¸ºå¾å½¢å¨ x æ¹åä¸çåæ å¼ã
     *              width è¡¨ç¤ºå¾å½¢çå®½åº¦ï¼ç¹å«æ³¨æï¼ç¹çå®½åº¦å§ç»ä¸º 0ï¼èä¸æ¯å¶ç´å¾ï¼ã
     *              æ¬å½æ°ä¸­å¾å½¢éç½®å¯¹è±¡ setting å¯è®¾å±æ§ï¼<br>
     *              xShapeBlank - {Array.<number>} æ°´å¹³æ¹åä¸çå¾å½¢ç©ºç½é´éåæ°ã
     *              é¿åº¦ä¸º 2 çæ°ç»ï¼ç¬¬ä¸åç´ è¡¨ç¤ºç¬¬æçº¿å·¦ç«¯ç¹ä¸æ°æ®è§å¾æ¡å·¦ç«¯çç©ºç½é´è·ï¼ç¬¬äºä¸ªåç´ è¡¨ç¤ºæçº¿å³ç«¯ç¹å³ç«¯ä¸æ°æ®è§å¾æ¡å³ç«¯ç«¯çç©ºç½é´è· ã
     * @return {Object} å¦æè®¡ç®å¤±è´¥ï¼è¿å nullï¼å¦æè®¡ç®æåï¼è¿å X è½´æ¹åä¸çå¾å½¢ä¿¡æ¯ï¼æ­¤ä¿¡æ¯æ¯ä¸ä¸ªå¯¹è±¡ï¼åå«ä»¥ä¸ä¸¤ä¸ªå±æ§ï¼<br>
     *         xPositions - {Array.<number>} è¡¨ç¤ºå¾å½¢å¨ x è½´æ¹åä¸çåç´ åæ å¼ï¼å¦æå¾å½¢å¨ x æ¹åä¸æä¸å®å®½åº¦ï¼éå¸¸åå¾å½¢å¨ x æ¹åä¸çä¸­å¿ç¹ä¸ºå¾å½¢å¨ x æ¹åä¸çåæ å¼ã
     *         width - {number}è¡¨ç¤ºå¾å½¢çå®½åº¦ï¼ç¹å«æ³¨æï¼ç¹çå®½åº¦å§ç»ä¸º 0ï¼èä¸æ¯å¶ç´å¾ï¼ã
     */
    calculateXShapeInfo() {
        var dvb = this.dataViewBox;     // æ°æ®è§å¾æ¡
        var sets = this.setting;     // å¾è¡¨éç½®å¯¹è±¡
        var fvc = this.dataValues.length;      // æ°ç»å¼ä¸ªæ°

        if (fvc < 1) {
            return null;
        }

        var xBlank;        // x è½´ç©ºç½é´éåæ°
        var xShapePositions = [];         // x è½´ä¸å¾å½¢çä½ç½®
        var xShapeWidth = 0;          // x è½´ä¸å¾å½¢å®½åº¦(èªéåº)
        var dvbWidth = this.DVBWidth;            // æ°æ®è§å¾æ¡å®½åº¦
        var unitOffset = 0;               // åä½åç§»é

        //  x è½´ç©ºç½é´éåæ°å¤ç
        if (sets.xShapeBlank && sets.xShapeBlank.length && sets.xShapeBlank.length == 2) {
            xBlank = sets.xShapeBlank;
            var xsLen = dvbWidth - (xBlank[0] + xBlank[1]);
            if (xsLen <= fvc) {
                return null;
            }
            unitOffset = xsLen / (fvc - 1);
        } else {
            // é»è®¤ä½¿ç¨ç­è·ç¦»ç©ºç½é´éï¼ç©ºç½é´éä¸ºå¾å½¢å®½åº¦
            unitOffset = dvbWidth / (fvc + 1);
            xBlank = [unitOffset, unitOffset, unitOffset];
        }

        // å¾å½¢ x è½´ä¸çä½ç½®è®¡ç®
        var xOffset = 0
        for (var i = 0; i < fvc; i++) {
            if (i == 0) {
                xOffset = xBlank[0];
            } else {
                xOffset += unitOffset;
            }

            xShapePositions.push(dvb[0] + xOffset);
        }

        return {
            "xPositions": xShapePositions,
            "width": xShapeWidth
        };
    }

}

/**
 * @typedef {Object} SuperMap.Feature.Theme.Point.setting
 * @property {number} width - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å®½åº¦ã
 * @property {number} height - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼é«åº¦ã
 * @property {Array.<number>} codomain - å¾è¡¨åè®¸å±ç¤ºçæ°æ®å¼åï¼é¿åº¦ä¸º 2 çä¸ç»´æ°ç»ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤ºå¼åä¸éï¼ç¬¬äºä¸ªåç´ è¡¨ç¤ºå¼åä¸éã
 * @property {number} [XOffset] - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å¨ X æ¹åä¸çåç§»å¼ï¼åä½åç´ ã
 * @property {number} [YOffset] - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å¨ Y æ¹åä¸çåç§»å¼ï¼åä½åç´ ã
 * @property {Array.<number>} [dataViewBoxParameter] - æ°æ®è§å¾æ¡ dataViewBox åæ°ï¼
 *                     å®æ¯æå¾è¡¨æ¡ chartBox ï¼ç±å¾è¡¨ä½ç½®ãå¾è¡¨å®½åº¦ãå¾è¡¨é«åº¦ææçå¾è¡¨èå´æ¡ï¼å¨å·¦ãä¸ï¼å³ï¼ä¸åä¸ªæ¹åä¸çååè·å¼ã
 *                     å½ä½¿ç¨åæ è½´æ¶ dataViewBoxParameter çé»è®¤å¼ä¸ºï¼[45, 15, 15, 15]ï¼ä¸ä½¿ç¨åæ è½´æ¶ dataViewBoxParameter çé»è®¤å¼ä¸ºï¼[5, 5, 5, 5]ã
 * @property {number} [decimalNumber] - æ°æ®å¼æ°ç» dataValues åç´ å¼å°æ°ä½æ°ï¼æ°æ®çå°æ°ä½å¤çåæ°ï¼åå¼èå´ï¼[0, 16]ãå¦æä¸è®¾ç½®æ­¤åæ°ï¼å¨åæ°æ®å¼æ¶ä¸å¯¹æ°æ®åå°æ°ä½å¤çã
 * @property {boolean} [useBackground] - æ¯å¦ä½¿ç¨å¾è¡¨èæ¯æ¡ã
 * @property {SuperMap.Feature.ShapeParameters.Rectangle.style} backgroundStyle - èæ¯æ ·å¼ã
 * @property {Array.<number>} [backgroundRadius=[0, 0, 0, 0]] - èæ¯æ¡ç©å½¢åè§åå¾ï¼å¯ä»¥ç¨æ°ç»åå«æå®åä¸ªè§çåè§åå¾ï¼è®¾ï¼å·¦ä¸ãå³ä¸ãå³ä¸ãå·¦ä¸è§çåå¾ä¾æ¬¡ä¸º r1ãr2ãr3ãr4 ,
 *                 å backgroundRadius ä¸º [r1ãr2ãr3ãr4 ]ã
 * @property {Array.<number>} xShapeBlank - æ°´å¹³æ¹åä¸çå¾å½¢ç©ºç½é´éåæ°ã
 *                 é¿åº¦ä¸º 2 çæ°ç»ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤ºç¬¬ä¸ä¸ªï¼æ²¿ x è½´æ¹åï¼å¾å½¢ç¹ä¸æ°æ®è§å¾æ¡å·¦ç«¯çç©ºç½é´è·ï¼ç¬¬äºä¸ªåç´ è¡¨ç¤ºæåä¸ä¸ªï¼æ²¿ x è½´æ¹åï¼å¾å½¢ç¹ä¸æ°æ®è§å¾æ¡å³ç«¯ç«¯çç©ºç½é´è· ã
 * @property {Object} axisStyle - åæ è½´æ ·å¼ã
 * @property {boolean} [axisUseArrow=false] - åæ è½´æ¯å¦ä½¿ç¨ç®­å¤´ã
 * @property {number} [axisYTick=0] - y è½´å»åº¦æ°éã
 * @property {Array.<string>} [axisYLabels] - y è½´ä¸çæ ç­¾ç»åå®¹ï¼æ ç­¾é¡ºåºæ²¿çæ°æ®è§å¾æ¡å·¦é¢æ¡è¾¹èªä¸èä¸ï¼ç­è·æå¸ãä¾å¦ï¼["1000", "750", "500", "250", "0"]ã
 * @property {SuperMap.Feature.ShapeParameters.Label.style} [axisYLabelsStyle] - y è½´ä¸çæ ç­¾ç»æ ·å¼ã
 * @property {Array.<number>} [axisYLabelsOffset=0] - y è½´ä¸çæ ç­¾ç»åç§»éãé¿åº¦ä¸º 2 çæ°ç»ï¼æ°ç»ç¬¬ä¸é¡¹è¡¨ç¤º y è½´æ ç­¾ç»æ¨ªåä¸çåç§»éï¼åå·¦ä¸ºæ­£ï¼
 *                 æ°ç»ç¬¬äºé¡¹è¡¨ç¤º y è½´æ ç­¾ç»çºµåä¸çåç§»éï¼åä¸ä¸ºæ­£ã
 * @property {Array.<string>} [axisXLabels] - x è½´ä¸çæ ç­¾ç»åå®¹ï¼æ ç­¾é¡ºåºæ²¿çæ°æ®è§å¾æ¡ä¸é¢æ¡è¾¹èªå·¦åå³æå¸ï¼ä¾å¦ï¼["92å¹´", "95å¹´", "99å¹´"]ã
 *                 æ ç­¾æå¸è§åï¼å½æ ç­¾æ°éä¸ xShapeInfo ä¸­çå±æ§ xShapeCenter æ°éç¸åï¼å³æ ç­¾ä¸ªæ°ä¸æ°æ®ä¸ªæ°ç¸ç­æ¶ï¼, æç§ xShapeCenter æä¾çä½ç½®æå¸æ ç­¾ï¼
 *                 å¦åæ²¿æ°æ®è§å¾æ¡ä¸é¢æ¡è¾¹ç­è·æå¸æ ç­¾ã
 * @property {SuperMap.Feature.ShapeParameters.Label.style} [axisXLabelsStyle] - x è½´ä¸çæ ç­¾ç»æ ·å¼ã
 * @property {Array.<number>} [axisXLabelsOffset=0] - x è½´ä¸çæ ç­¾ç»åç§»éãé¿åº¦ä¸º 2 çæ°ç»ï¼æ°ç»ç¬¬ä¸é¡¹è¡¨ç¤º x è½´æ ç­¾ç»æ¨ªåä¸çåç§»éï¼åå·¦ä¸ºæ­£ï¼
 *                 æ°ç»ç¬¬äºé¡¹è¡¨ç¤º x è½´æ ç­¾ç»çºµåä¸çåç§»éï¼åä¸ä¸ºæ­£ã
 * @property {boolean} [useXReferenceLine=true] - æ¯å¦ä½¿ç¨æ°´å¹³åèçº¿ï¼å¦æä¸º trueï¼å¨ axisYTick å¤§äº 0 æ¶ææï¼æ°´å¹³åèçº¿æ¯ y è½´å»åº¦å¨æ°æ®è§å¾æ¡éçå»¶ä¼¸ã
 * @property {SuperMap.Feature.ShapeParameters.Line.style} [xReferenceLineStyle] - æ°´å¹³åèçº¿æ ·å¼ã
 * @property {SuperMap.Feature.ShapeParameters.Point.style} [pointStyle] - ç¹ç¶å¾ä¸­å¾å½¢ç¹åºç¡ styleï¼æ­¤åæ°æ§å¶å¾å½¢ç¹åºç¡æ ·å¼ï¼ä¼åçº§ä½äº pointStyleByFields å pointStyleByCodomainã
 * @property {Array.<SuperMap.Feature.ShapeParameters.Point.style>} [pointStyleByFields] - æä¸é¢å­æ®µ themeFieldsï¼<SuperMap.Layer.Graph.themeFields>ï¼ä¸ºå¾å½¢ç¹èµ styleï¼æ­¤åæ°æå­æ®µæ§å¶å¾å½¢ç¹æ ·å¼ï¼
 *               ä¼åçº§ä½äº pointStyleByCodomainï¼é«äº pointStyleãæ­¤æ°ç»ä¸­çåç´ æ¯æ ·å¼å¯¹è±¡ã
 *               æ­¤åæ°ä¸­ç style ä¸ themeFields ä¸­çå­æ®µä¸ä¸å¯¹åº ãä¾å¦ï¼ themeFieldsï¼<SuperMap.Layer.Graph.themeFields>ï¼ ä¸º ["POP_1992", "POP_1995", "POP_1999"],
 * pointStyleByFields ä¸º[style1, style2, style3]ï¼åå¨å¾è¡¨ä¸­ï¼å­æ®µ POP_1992 å¯¹åºçå¾å½¢ç¹ä½¿ç¨ style1ï¼å­æ®µ POP_1995 å¯¹åºçå¾å½¢ç¹ä½¿ç¨ style2 ï¼å­æ®µ POP_1999 å¯¹åºçå¾å½¢ç¹ä½¿ç¨ style3ã
 * @property {Array.<Object>} pointStyleByCodomain - æå¾å½¢ç¹ä»£è¡¨çæ°æ®å¼æå¨å¼åèå´æ§å¶å¾å½¢ç¹æ ·å¼ï¼ä¼åçº§é«äº pointStyle å pointStyleByFieldsã
 * @property {Object} [pointHoverStyle] - å¾å½¢ç¹ hover ç¶ææ¶çæ ·å¼ï¼pointHoverAble ä¸º true æ¶ææã
 * @property {Object} [pointHoverAble=true] - æ¯å¦åè®¸å¾å½¢ç¹ä½¿ç¨ hover ç¶æãåæ¶è®¾ç½® pointHoverAble å pointClickAble ä¸º falseï¼å¯ä»¥ç´æ¥å±è½å¾å½¢ç¹å¯¹ä¸é¢å¾å±äºä»¶çååºã
 * @property {Object} [pointClickAble=true] - æ¯å¦åè®¸å¾å½¢ç¹è¢«ç¹å»ãåæ¶è®¾ç½® pointHoverAble å pointClickAble ä¸º falseï¼å¯ä»¥ç´æ¥å±è½å¾å½¢ç¹å¯¹ä¸é¢å¾å±äºä»¶çååºã
 */
SuperMap.Feature.Theme.Point = overlay_Point_Point;
// CONCATENATED MODULE: ./src/common/overlay/Ring.js





/**
 * @class SuperMap.Feature.Theme.Ring
 * @classdesc ç¯ç¶å¾ã
 * @category Visualization Theme
 * @description åºäºè·¯ç±å¯¹è±¡è®¡ç®æå®ç¹ M å¼æä½çåæ°ç±»ãéè¿è¯¥ç±»æä¾åæ°ä¿¡æ¯ã
 
 * @param {SuperMap.Feature.Vector} data - ç¨æ·æ°æ®ã
 * @param {SuperMap.Layer.Graph} layer - æ­¤ä¸é¢è¦ç´ æå¨å¾å±ã
 * @param {Array.<string>} fields - data ä¸­çåä¸æ­¤å¾è¡¨çæçå­æ®µåç§°ã
 * @param {SuperMap.Feature.Theme.Ring.setting} setting - å¾è¡¨éç½®å¯¹è±¡ã
 * @param {SuperMap.LonLat} [lonlat] - ä¸é¢è¦ç´ å°çä½ç½®ãé»è®¤ä¸º data æä»£çå°çè¦ç´  Bounds ä¸­å¿ã
 * @example
 * // sectorStyleByCodomain çæ¯ä¸ªåç´ æ¯ä¸ªåå«å¼åä¿¡æ¯åä¸å¼åå¯¹åºæ ·å¼ä¿¡æ¯çå¯¹è±¡ï¼è¯¥å¯¹è±¡ï¼å¿é¡»ï¼æä¸ä¸ªå±æ§ï¼
 * // start: å¼åå¼ä¸éï¼åå«ï¼;
 * // end: å¼åå¼ä¸éï¼ä¸åå«ï¼;
 * // style: æ°æ®å¯è§åå¾å½¢ç styleï¼è¿ä¸ªæ ·å¼å¯¹è±¡çå¯è®¾å±æ§ï¼ <SuperMap.Feature.ShapeParameters.Sector.style> ã
 * // sectorStyleByCodomain æ°ç»å½¢å¦ï¼
 * [
 *   {
 *     start:0,
 *     end:250,
 *     style:{
 *          fillColor:"#00CD00"
 *      }
 *  },
 *   {
 *     start:250,
 *     end:500,
 *     style:{
 *          fillColor:"#00EE00"
 *      }
 *  },
 *   {
 *     start:500,
 *     end:750,
 *     style:{
 *          fillColor:"#00FF7F"
 *      }
 *  },
 *   {
 *     start:750,
 *     end:1500,
 *     style:{
 *          fillColor:"#00FF00"
 *      }
 *  }
 * ]
 * @param {Object} [sectorHoverStyle=true] - ç¯ç¶å¾æå½¢ hover ç¶ææ¶çæ ·å¼ï¼sectorHoverAble ä¸º true æ¶ææã
 * @param {boolean} [sectorHoverAble=true] - æ¯å¦åè®¸ç¯ç¶å¾æå½¢ä½¿ç¨ hover ç¶æãåæ¶è®¾ç½® sectorHoverAble å sectorClickAble ä¸º falseï¼å¯ä»¥ç´æ¥å±è½ç¯ç¶å¾æå½¢å¯¹ä¸é¢å¾å±äºä»¶çååºã
 * @param {boolean} [sectorClickAble=true] - æ¯å¦åè®¸ç¯ç¶å¾æå½¢è¢«ç¹å»ãåæ¶è®¾ç½® sectorHoverAble å sectorClickAble ä¸º falseï¼å¯ä»¥ç´æ¥å±è½ç¯ç¶å¾æå½¢å¯¹ä¸é¢å¾å±äºä»¶çååºã
 *
 * @extends {SuperMap.Feature.Theme.Graph}
 */
class Ring_Ring extends Graph_Graph {

    constructor(data, layer, fields, setting, lonlat) {
        super(data, layer, fields, setting, lonlat);
        this.CLASS_NAME = "SuperMap.Feature.Theme.Ring";
    }

    /**
     * @function SuperMap.Feature.Theme.Ring.prototype.destroy
     * @description éæ¯æ­¤ä¸é¢è¦ç´ ãè°ç¨ destroy åæ­¤å¯¹è±¡æä»¥å±æ§ç½®ä¸º nullã
     */
    destroy() {
        super.destroy();
    }

    /**
     * @function SuperMap.Feature.Theme.Ring.prototype.assembleShapes
     * @description è£éå¾å½¢ï¼æ©å±æ¥å£ï¼ã
     */
    assembleShapes() {
        // éè¦æ­¥éª¤ï¼åå§ååæ°
        if (!this.initBaseParameter()) {
            return;
        }

        // ä¸ä¸ªé»è®¤ style ç»
        var defaultStyleGroup = [
            {fillColor: "#ff9277"}, {fillColor: "#dddd00"}, {fillColor: "#ffc877"}, {fillColor: "#bbe3ff"}, {fillColor: "#d5ffbb"},
            {fillColor: "#bbbbff"}, {fillColor: "#ddb000"}, {fillColor: "#b0dd00"}, {fillColor: "#e2bbff"}, {fillColor: "#ffbbe3"},
            {fillColor: "#ff7777"}, {fillColor: "#ff9900"}, {fillColor: "#83dd00"}, {fillColor: "#77e3ff"}, {fillColor: "#778fff"},
            {fillColor: "#c877ff"}, {fillColor: "#ff77ab"}, {fillColor: "#ff6600"}, {fillColor: "#aa8800"}, {fillColor: "#77c7ff"},
            {fillColor: "#ad77ff"}, {fillColor: "#ff77ff"}, {fillColor: "#dd0083"}, {fillColor: "#777700"}, {fillColor: "#00aa00"},
            {fillColor: "#0088aa"}, {fillColor: "#8400dd"}, {fillColor: "#aa0088"}, {fillColor: "#dd0000"}, {fillColor: "#772e00"}
        ];

        // å¾è¡¨éç½®å¯¹è±¡
        var sets = this.setting;

        // èæ¯æ¡ï¼é»è®¤ä¸å¯ç¨
        if (sets.useBackground) {
            this.shapes.push(ShapeFactory_ShapeFactory.Background(this.shapeFactory, this.chartBox, sets));
        }

        // æ°æ®å¼æ°ç»
        var fv = this.dataValues;
        if (fv.length < 1) {
            return;
        }       // æ²¡ææ°æ®

        // å¼åèå´
        var codomain = this.DVBCodomain;
        // å¼åèå´æ£æµ
        for (let i = 0; i < fv.length; i++) {
            if (fv[i] < codomain[0] || fv[i] > codomain[1]) {
                return;
            }
        }

        // å¼çç»å¯¹å¼æ»å
        var valueSum = 0;
        for (let i = 0; i < fv.length; i++) {
            valueSum += Math.abs(fv[i]);
        }

        // éè¦æ­¥éª¤ï¼å®ä¹å¾è¡¨ Ring æ°æ®è§å¾æ¡ä¸­åä½å¼çå«ä¹ï¼åä½å¼ï¼æ¯åº¦ä»£è¡¨çæ°å¼
        this.DVBUnitValue = 360 / valueSum;
        var uv = this.DVBUnitValue;

        var dvbCenter = this.DVBCenterPoint;        // æ°æ®è§å¾æ¡ä¸­å¿ä½ä¸ºæå¿

        var startAngle = 0;         // æå½¢èµ·å§è¾¹è§åº¦
        var endAngle = 0;          // æå½¢ç»æ­¢è¾¹è§åº¦
        var startAngleTmp = startAngle;           // æå½¢ä¸´æ¶èµ·å§è¾¹è§åº¦
        // æå½¢å¤ç¯ï¼èªéåºï¼åå¾
        var r = this.DVBHeight < this.DVBWidth ? this.DVBHeight / 2 : this.DVBWidth / 2;

        // æå½¢åç¯ï¼èªéåºï¼åå¾
        var isInRange = sets.innerRingRadius >= 0 && sets.innerRingRadius < r;
        var r0 = (
            typeof(sets.innerRingRadius) !== "undefined"
            && !isNaN(sets.innerRingRadius)
            && isInRange
        ) ? sets.innerRingRadius : 0;

        for (var i = 0; i < fv.length; i++) {
            var fvi = Math.abs(fv[i]);

            // è®¡ç®ç»æè§åº¦
            if (i === 0) {
                endAngle = startAngle + fvi * uv;
            } else if (i === fvi.length - 1) {
                endAngle = startAngleTmp;
            } else {
                endAngle = startAngle + fvi * uv;
            }

            // æå½¢åæ°å¯¹è±¡
            var sectorSP = new Sector_Sector(dvbCenter[0], dvbCenter[1], r, startAngle, endAngle, r0);
            // æå½¢æ ·å¼
            if (typeof(sets.sectorStyleByFields) === "undefined") {
                // ä½¿ç¨é»è®¤ style ç»
                var colorIndex = i % defaultStyleGroup.length;
                sectorSP.style = ShapeFactory_ShapeFactory.ShapeStyleTool(null, sets.sectorStyle, defaultStyleGroup, null, colorIndex);
            } else {
                sectorSP.style = ShapeFactory_ShapeFactory.ShapeStyleTool(null, sets.sectorStyle, sets.sectorStyleByFields, sets.sectorStyleByCodomain, i, fv[i]);
            }
            // æå½¢ hover æ ·å¼
            sectorSP.highlightStyle = ShapeFactory_ShapeFactory.ShapeStyleTool(null, sets.sectorHoverStyle);
            // æå½¢ hover ä¸ click è®¾ç½®
            if (typeof(sets.sectorHoverAble) !== "undefined") {
                sectorSP.hoverable = sets.sectorHoverAble;
            }
            if (typeof(sets.sectorClickAble) !== "undefined") {
                sectorSP.clickable = sets.sectorClickAble;
            }
            // å¾å½¢æºå¸¦çæ°æ®ä¿¡æ¯
            sectorSP.refDataID = this.data.id;
            sectorSP.dataInfo = {
                field: this.fields[i],
                value: fv[i]
            };

            // åå»ºæå½¢å¹¶ææ­¤æå½¢æ·»å å°å¾è¡¨å¾å½¢æ°ç»
            this.shapes.push(this.shapeFactory.createShape(sectorSP));

            // æä¸ä¸æ¬¡çç»æè§åº¦ä½ä¸ºä¸ä¸æ¬¡çèµ·å§è§åº¦
            startAngle = endAngle;
        }

        // éè¦æ­¥éª¤ï¼å°å¾å½¢è½¬ä¸ºç±ç¸å¯¹åæ è¡¨ç¤ºçå¾å½¢ï¼ä»¥ä¾¿å¨å°å¾å¹³ç§»ç¼©æ¾è¿ç¨ä¸­å¿«ééç»å¾å½¢
        // ï¼ç»è®¡ä¸é¢å¾æ¨¡åä»ç»æä¸è¦æ±ä½¿ç¨ç¸å¯¹åæ ï¼assembleShapes() å½æ°å¿é¡»å¨å¾å½¢è£éå®æåè°ç¨ shapesConvertToRelativeCoordinate() å½æ°ï¼
        this.shapesConvertToRelativeCoordinate();
    }

}

/**
 * @typedef {Object} SuperMap.Feature.Theme.Ring.setting
 * @property {number} width - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å®½åº¦ã
 * @property {number} height - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼é«åº¦ã
 * @property {Array.<number>} codomain - å¾è¡¨åè®¸å±ç¤ºçæ°æ®å¼åï¼é¿åº¦ä¸º 2 çä¸ç»´æ°ç»ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤ºå¼åä¸éï¼ç¬¬äºä¸ªåç´ è¡¨ç¤ºå¼åä¸éã
 * @property {number} [XOffset] - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å¨ X æ¹åä¸çåç§»å¼ï¼åä½åç´ ã
 * @property {number} [YOffset] - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å¨ Y æ¹åä¸çåç§»å¼ï¼åä½åç´ ã
 * @property {Array.<number>} [dataViewBoxParameter=[0, 0, 0, 0]] - æ°æ®è§å¾æ¡ dataViewBox åæ°ï¼å®æ¯æå¾è¡¨æ¡ chartBox ï¼ç±å¾è¡¨ä½ç½®ãå¾è¡¨å®½åº¦ãå¾è¡¨é«åº¦ææçå¾è¡¨èå´æ¡ï¼å¨å·¦ãä¸ï¼å³ï¼ä¸åä¸ªæ¹åä¸çååè·å¼ã
 * @property {number} [decimalNumber] - æ°æ®å¼æ°ç» dataValues åç´ å¼å°æ°ä½æ°ï¼æ°æ®çå°æ°ä½å¤çåæ°ï¼åå¼èå´ï¼[0, 16]ãå¦æä¸è®¾ç½®æ­¤åæ°ï¼å¨åæ°æ®å¼æ¶ä¸å¯¹æ°æ®åå°æ°ä½å¤çã
 * @property {boolean} [useBackground=false] - æ¯å¦ä½¿ç¨å¾è¡¨èæ¯æ¡ã
 * @property {SuperMap.Feature.ShapeParameters.Rectangle.style} [backgroundStyle] - èæ¯æ ·å¼ï¼æ­¤æ ·å¼å¯¹è±¡å¯¹è±¡å¯è®¾å±æ§ã
 * @property {Array.<number>} [backgroundRadius=[0, 0, 0, 0]] - èæ¯æ¡ç©å½¢åè§åå¾ï¼å¯ä»¥ç¨æ°ç»åå«æå®åä¸ªè§çåè§åå¾ï¼è®¾ï¼å·¦ä¸ãå³ä¸ãå³ä¸ãå·¦ä¸è§çåå¾ä¾æ¬¡ä¸º r1ãr2ãr3ãr4 ,å backgroundRadius ä¸º [r1ãr2ãr3ãr4 ]ã
 * @property {number} [innerRingRadius=0] - ç¯ç¶å¾åç¯åå¾ï¼åå¼èå´å¤§äº 0ï¼å°äºå¤ç¯åå¾ï¼å¤ç¯åå¾ï¼æ°æ®è§å¾æ¡é¿åå®½ä¸­è¾å°å¼çäºåä¹ä¸ï¼ã
 * @property {SuperMap.Feature.ShapeParameters.Sector.style} [sectorStyle] - ç¯ç¶å¾ä¸­æå½¢çåºç¡ styleï¼æ­¤åæ°æ§å¶ç¯ç¶å¾æå½¢åºç¡æ ·å¼ï¼ä¼åçº§ä½äº sectorStyleByFields å sectorStyleByCodomainã
 * @property {Array.<SuperMap.Feature.ShapeParameters.Sector.style>} [sectorStyleByFields] - æä¸é¢å­æ®µ themeFieldsï¼{@link SuperMap.Layer.Graph.themeFields}|{@link L.supermap.graphThemeLayer.themeFields}|{@link ol.source.Graph.themeFields}|{@link mapboxgl.supermap.GraphThemeLayer.themeFields}ï¼ä¸ºç¯ç¶å¾æå½¢èµ styleï¼æ­¤åæ°æå­æ®µæ§å¶ç¯ç¶å¾æå½¢æ ·å¼ï¼ä¼åçº§ä½äº sectorStyleByCodomainï¼é«äº sectorStyleãæ­¤æ°ç»ä¸­çåç´ æ¯æ ·å¼å¯¹è±¡ãæ­¤åæ°ä¸­ç style ä¸ themeFields ä¸­çå­æ®µä¸ä¸å¯¹åº ãä¾å¦ï¼ themeFieldsï¼<SuperMap.Layer.Graph.themeFields>ï¼ ä¸º ["POP_1992", "POP_1995", "POP_1999"],sectorStyleByFields ä¸º[style1, style2, style3]ï¼åå¨å¾è¡¨ä¸­ï¼å­æ®µ POP_1992 å¯¹åºçç¯ç¶å¾æå½¢ä½¿ç¨ style1ï¼å­æ®µ POP_1995 å¯¹åºçç¯ç¶å¾æå½¢ä½¿ç¨ style2 ï¼å­æ®µ POP_1999 å¯¹åºçç¯ç¶å¾æå½¢ä½¿ç¨ style3ã
 * @property {Array.<SuperMap.Feature.ShapeParameters.Sector.style>} [sectorStyleByCodomain] - æç¯ç¶å¾æå½¢ä»£è¡¨çæ°æ®å¼æå¨å¼åèå´æ§å¶ç¯ç¶å¾æå½¢æ ·å¼ï¼ä¼åçº§é«äº sectorStyle å sectorStyleByFieldsã
 
 */

SuperMap.Feature.Theme.Ring = Ring_Ring;
// CONCATENATED MODULE: ./src/common/overlay/ThemeVector.js























/**
 * @class SuperMap.Feature.Theme.Vector
 * @classdesc ç¢éä¸é¢è¦ç´ ç±»ã
 * @category Visualization Theme
 * @extends SuperMap.Feature.Theme
 * @param {SuperMap.Feature.Vector} data - ç¨æ·æ°æ®ï¼çç±»åä¸ºç¢éæ°æ® featureã
 * @param {SuperMap.Layer} layer - æ­¤ä¸é¢è¦ç´ æå¨å¾å±ã
 * @param {Object} style - æ ·å¼ã
 * @param {Object} options - åå»ºä¸é¢è¦ç´ æ¶çå¯éåæ°ã
 * @param {number} [options.nodesClipPixel=2] - èç¹æ½ç¨åç´ è·ç¦», åä½ï¼åç´ ã
 * @param {boolean} [options.isHoverAble=true] - å¾å½¢æ¯å¦å¯ hoverã
 * @param {boolean} [options.isMultiHover=true] - æ¯å¦ä½¿ç¨å¤å¾å½¢é«äº®ï¼isHoverAble ä¸º true æ¶çæã
 * @param {boolean} [options.isClickAble=true] - å¾å½¢æ¯å¦å¯ç¹å»ã
 * @param {Object} [options.highlightStyle] - é«äº®æ ·å¼ã
 */
class ThemeVector_ThemeVector extends feature_Theme_Theme {

    constructor(data, layer, style, options, shapeOptions) {
        super(data, layer);
        //æ°æ®ç geometry å±æ§å¿é¡»å­å¨ä¸ç±»åæ¯ SuperMap.Geometry æå¶å­ç±»çç±»å
        if (!data.geometry) {
            return;
        }
        if (!(data.geometry instanceof Geometry_Geometry)) {
            return;
        }

        /**
         * @member {SuperMap.Bounds} - SuperMap.Feature.Theme.Vector.prototype.dataBounds
         * @description ç¨æ·æ°æ®çï¼feature.geometryï¼å°çèå´ã
         */
        this.dataBounds = data.geometry.getBounds();

        /**
         * @member {number} - [SuperMap.Feature.Theme.Vector.prototype.nodesClipPixel=2]
         * @description èç¹æ½ç¨åç´ è·ç¦»ã
         */
        this.nodesClipPixel = 2;

        /**
         * @member {boolean} -  [SuperMap.Feature.Theme.Vector.prototype.isHoverAble=true]
         * @description å¾å½¢æ¯å¦å¯ hoverã
         */
        this.isHoverAble = true;

        /**
         * @member {boolean} - [SuperMap.Feature.Theme.Vector.prototype.isMultiHover=true]
         * @description æ¯å¦ä½¿ç¨å¤å¾å½¢é«äº®ï¼isHoverAble ä¸º true æ¶çæã
         */
        this.isMultiHover = true;

        /**
         * @member {boolean} - [SuperMap.Feature.Theme.Vector.prototype.isClickAble=true]
         * @description å¾å½¢æ¯å¦å¯ç¹å»ã
         */
        this.isClickAble = true;

        /**
         * @member {Object} - [SuperMap.Feature.Theme.Vector.prototype.highlightStyle]
         * @description é«äº®æ ·å¼ã
         */
        this.highlightStyle = null;

        /**
         * @member {Object} - SuperMap.Feature.Theme.Vector.prototype.shapeOptions
         * @description æ·»å å°æ¸²æå¨åä¿®æ¹ shape çä¸äºå±æ§ï¼éç¹æ®æåµéå¸¸ä¸åè®¸è¿ä¹åã
         */
        this.shapeOptions = {};

        /**
         * @member {Object} - SuperMap.Feature.Theme.Vector.prototype.style
         * @description å¯è§åå¾å½¢ç styleãå¨å­ç±»ä¸­è§å®å¶å¯¹è±¡ç»æåé»è®¤å±æ§å¼ã
         */
        this.style = style || {};


        this.CLASS_NAME = "SuperMap.Feature.Theme.Vector";
        this.style = style ? style : {};
        if (options) {
            Util_Util.copyAttributesWithClip(this, options, ["shapeOptions", "dataBounds"])
        }
        if (shapeOptions) {
            Util_Util.copyAttributesWithClip(this.shapeOptions, shapeOptions);
        }

        //è®¾ç½®åºç¡åæ° dataBoundsãlonlatãlocation
        var geometry = data.geometry;
        this.lonlat = this.dataBounds.getCenterLonLat();
        this.location = this.getLocalXY(this.lonlat);

        //å°å°çè¦ç´ è½¬ä¸ºä¸é¢è¦ç´ 
        if (geometry instanceof LinearRing_LinearRing) {
            this.lineToTF(geometry);
        } else if (geometry instanceof LineString_LineString) {
            this.lineToTF(geometry);
        } else if (geometry instanceof Curve_Curve) {
            //ç¬ç«å ä½ä½
        } else if (geometry instanceof MultiPoint_MultiPoint) {
            this.multiPointToTF(geometry);
        } else if (geometry instanceof MultiLineString_MultiLineString) {

            this.multiLineStringToTF(geometry);
        } else if (geometry instanceof MultiPolygon_MultiPolygon) {
            this.multiPolygonToTF(geometry);
        } else if (geometry instanceof Polygon_Polygon) {
            this.polygonToTF(geometry);
        } else if (geometry instanceof Collection_Collection) {
            //ç¬ç«å ä½ä½
        } else if (geometry instanceof Point_Point) {
            this.pointToTF(geometry);
        } else if (geometry instanceof Rectangle_Rectangle) {
            this.rectangleToTF(geometry);
        } else if (geometry instanceof GeoText_GeoText) {
            this.geoTextToTF(geometry);
        }

    }

    /**
     * @function SuperMap.Feature.Theme.Vector.prototype.destroy
     * @override
     */
    destroy() {
        this.style = null;
        this.dataBounds = null;
        this.nodesClipPixel = null;
        this.isHoverAble = null;
        this.isMultiHover = null;
        this.isClickAble = null;
        this.highlightStyle = null;
        this.shapeOptions = null;
        super.destroy();
    }


    /**
     * @function SuperMap.Feature.Theme.Vector.prototype.lineToTF
     * @description è½¬æ¢çº¿åçº¿ç¯è¦ç´ ã
     * @param {SuperMap.Geometry} geometry - ç¨æ·æ°æ®å ä½å°çä¿¡æ¯ï¼è¿éå¿é¡»æ¯ LineString æ LineRingã
     */
    lineToTF(geometry) {
        var components = geometry.components;

        //èç¹åç´ åæ 
        var localLX = [];
        //åèä½ç½®ï¼åèä¸­å¿ä¸º
        var refLocal = [];
        var location = this.location;
        var pointList = [];

        //èç¹æ½ç¨è·ç¦»
        var nCPx = this.nodesClipPixel;

        for (var i = 0; i < components.length; i++) {
            var components_i = components[i];
            refLocal = [];
            localLX = this.getLocalXY(components_i);

            refLocal[0] = localLX[0] - location[0];
            refLocal[1] = localLX[1] - location[1];

            //æ½ç¨ - 2 px
            if (pointList.length > 0) {
                var lastLocalXY = pointList[pointList.length - 1];
                if ((Math.abs(lastLocalXY[0] - refLocal[0]) <= nCPx) && (Math.abs(lastLocalXY[1] - refLocal[1]) <= nCPx)) {
                    continue;
                }
            }

            //ä½¿ç¨åèç¹
            pointList.push(refLocal);
        }

        if (pointList.length < 2) {
            return null;
        }

        //èµ style
        var style = new Object();
        style = Util_Util.copyAttributesWithClip(style, this.style, ['pointList']);
        style.pointList = pointList;

        //åå»ºå¾å½¢
        var shape = new SmicBrokenLine_SmicBrokenLine({
            style: style,
            clickable: this.isClickAble,
            hoverable: this.isHoverAble
        });

        //è®¾ç½®é«äº®æ ·å¼
        if (this.highlightStyle) {
            shape.highlightStyle = this.highlightStyle;
        }

        //è®¾ç½®åèä¸­å¿ï¼æå®å¾å½¢ä½ç½®
        shape.refOriginalPosition = this.location;

        //å¨å­æ°æ® id å±æ§ï¼ç¨äºäºä»¶
        shape.refDataID = this.data.id;

        //å¨å­æ°æ® id å±æ§ï¼ç¨äºäºä»¶-å¤å¾å½¢åæ¶é«äº®
        shape.isHoverByRefDataID = this.isMultiHover;

        //æ·»å å°æ¸²æå¨åä¿®æ¹ shape çä¸äºå±æ§ï¼éç¹æ®æåµéå¸¸ä¸åè®¸è¿ä¹å
        if (this.shapeOptions) {
            Util_Util.copyAttributesWithClip(shape, this.shapeOptions);
        }

        this.shapes.push(shape);
    }


    /**
     * @function SuperMap.Feature.Theme.Vector.prototype.multiPointToTF
     * @description è½¬å¤ç¹è¦ç´ ã
     * @param {SuperMap.Geometry} geometry - ç¨æ·æ°æ®å ä½å°çä¿¡æ¯ï¼è¿éå¿é¡»æ¯ MultiPointã
     */
    multiPointToTF(geometry) {
        /*   //-- ä¸æ½ç¨
         var components = geometry.components;

         for(var i = 0; i < components.length; i++){
         var components_i = components[i];
         this.pointToTF(components_i);
         }
         */

        var components = geometry.components;

        //èç¹åç´ åæ 
        var localLX = [];
        //åèä½ç½®ï¼åèä¸­å¿ä¸º
        var refLocal = [];
        var location = this.location;
        var pointList = [];

        //èç¹æ½ç¨è·ç¦»
        var nCPx = this.nodesClipPixel;

        for (var i = 0; i < components.length; i++) {
            var components_i = components[i];
            refLocal = [];
            localLX = this.getLocalXY(components_i);

            refLocal[0] = localLX[0] - location[0];
            refLocal[1] = localLX[1] - location[1];

            //æ½ç¨
            if (pointList.length > 0) {
                var lastLocalXY = pointList[pointList.length - 1];
                if ((Math.abs(lastLocalXY[0] - refLocal[0]) <= nCPx) && (Math.abs(lastLocalXY[1] - refLocal[1]) <= nCPx)) {
                    continue;
                }
            }

            //ä½¿ç¨åèç¹
            pointList.push(refLocal);

            //èµ style
            var style = new Object();
            style.r = 6; //é²æ­¢æ¼è®¾æ­¤åæ°ï¼é»è®¤ 6 åç´ 
            style = Util_Util.copyAttributesWithClip(style, this.style);
            style.x = refLocal[0];
            style.y = refLocal[1];

            //åå»ºå¾å½¢
            var shape = new SmicPoint_SmicPoint({
                style: style,
                clickable: this.isClickAble,
                hoverable: this.isHoverAble
            });

            //è®¾ç½®é«äº®æ ·å¼
            if (this.highlightStyle) {
                shape.highlightStyle = this.highlightStyle;
            }

            //è®¾ç½®åèä¸­å¿ï¼æå®å¾å½¢ä½ç½®
            shape.refOriginalPosition = location;

            //å¨å­æ°æ® id å±æ§ï¼ç¨äºäºä»¶
            shape.refDataID = this.data.id;

            //å¨å­æ°æ® id å±æ§ï¼ç¨äºäºä»¶-å¤å¾å½¢åæ¶é«äº®
            shape.isHoverByRefDataID = this.isMultiHover;

            //ä¿®æ¹ä¸äº shape å¯éå±æ§ï¼éå¸¸ä¸éè¦è¿ä¹å
            if (this.shapeOptions) {
                Util_Util.copyAttributesWithClip(shape, this.shapeOptions);
            }

            this.shapes.push(shape);
        }
    }


    /**
     * @function SuperMap.Feature.Theme.Vector.prototype.multiLineStringToTF
     * @description è½¬æ¢å¤çº¿è¦ç´ ã
     * @param {SuperMap.Geometry} geometry - ç¨æ·æ°æ®å ä½å°çä¿¡æ¯ï¼è¿éå¿é¡»æ¯ MultiLineStringã
     */
    multiLineStringToTF(geometry) {
        var components = geometry.components;

        for (var i = 0; i < components.length; i++) {
            var components_i = components[i];
            this.lineToTF(components_i);
        }
    }


    /**
     * @function SuperMap.Feature.Theme.Vector.prototype.multiPolygonToTF
     * @description è½¬æ¢å¤é¢è¦ç´ ã
     * @param {SuperMap.Geometry} geometry - ç¨æ·æ°æ®å ä½å°çä¿¡æ¯ï¼è¿éå¿é¡»æ¯ MultiPolygonã
     */
    multiPolygonToTF(geometry) {
        var components = geometry.components;

        for (var i = 0; i < components.length; i++) {
            var components_i = components[i];
            this.polygonToTF(components_i);
        }
    }


    /**
     * @function SuperMap.Feature.Theme.Vector.prototype.pointToTF
     * @description è½¬æ¢ç¹è¦ç´ ã
     * @param {SuperMap.Geometry} geometry - ç¨æ·æ°æ®å ä½å°çä¿¡æ¯ï¼è¿éå¿é¡»æ¯ Pointã
     */
    pointToTF(geometry) {
        //åèä½ç½®ï¼åèä¸­å¿ä¸º
        var location = this.location;
        //geometry åç´ åæ 
        var localLX = this.getLocalXY(geometry);

        //èµ style
        var style = new Object();
        style.r = 6; //é²æ­¢æ¼è®¾æ­¤åæ°ï¼é»è®¤ 6 åç´ 
        style = Util_Util.copyAttributesWithClip(style, this.style);
        style.x = localLX[0] - location[0];
        style.y = localLX[1] - location[1];

        //åå»ºå¾å½¢
        var shape = new SmicPoint_SmicPoint({
            style: style,
            clickable: this.isClickAble,
            hoverable: this.isHoverAble
        });

        //è®¾ç½®é«äº®æ ·å¼
        if (this.highlightStyle) {
            shape.highlightStyle = this.highlightStyle;
        }

        //è®¾ç½®åèä¸­å¿ï¼æå®å¾å½¢ä½ç½®
        shape.refOriginalPosition = location;

        //å¨å­æ°æ® id å±æ§ï¼ç¨äºäºä»¶
        shape.refDataID = this.data.id;

        //å¨å­æ°æ® id å±æ§ï¼ç¨äºäºä»¶-å¤å¾å½¢åæ¶é«äº®
        shape.isHoverByRefDataID = this.isMultiHover;

        //ä¿®æ¹ä¸äº shape å¯éå±æ§ï¼éå¸¸ä¸éè¦è¿ä¹å
        if (this.shapeOptions) {
            Util_Util.copyAttributesWithClip(shape, this.shapeOptions);
        }

        this.shapes.push(shape);
    }


    /**
     * @function SuperMap.Feature.Theme.Vector.prototype.polygonToThemeFeature
     * @description è½¬æ¢é¢è¦ç´ ã
     * @param {SuperMap.Geometry} geometry - ç¨æ·æ°æ®å ä½å°çä¿¡æ¯ï¼è¿éå¿é¡»æ¯ Polygonã
     */
    polygonToTF(geometry) {
        var components = geometry.components;


        //èç¹åç´ åæ 
        var localLX = [];
        //åèä½ç½®ï¼åèä¸­å¿ä¸º
        var refLocal = [];
        var location = this.location;
        var pointList = [];
        //å²æ´
        var holePolygonPointList = [];
        var holePolygonPointLists = [];

        //èç¹æ½ç¨è·ç¦»
        var nCPx = this.nodesClipPixel;

        for (var i = 0; i < components.length; i++) {
            var components_i = components[i].components;


            if (i === 0) {
                // ç¬¬ä¸ä¸ª component æ­£å¸¸ç»å¶
                pointList = [];

                for (var j = 0; j < components_i.length; j++) {
                    refLocal = [];
                    localLX = this.getLocalXY(components_i[j]);

                    refLocal[0] = localLX[0] - location[0];
                    refLocal[1] = localLX[1] - location[1];

                    //æ½ç¨ - 2 px
                    if (pointList.length > 0) {
                        var lastLocalXY = pointList[pointList.length - 1];
                        if ((Math.abs(lastLocalXY[0] - refLocal[0]) <= nCPx) && (Math.abs(lastLocalXY[1] - refLocal[1]) <= nCPx)) {
                            continue;
                        }
                    }

                    //ä½¿ç¨åèç¹
                    pointList.push(refLocal);
                }
            } else {
                // å¶å® component ä½ä¸ºå²æ´
                holePolygonPointList = [];

                for (var k = 0; k < components_i.length; k++) {
                    refLocal = [];
                    localLX = this.getLocalXY(components_i[k]);

                    refLocal[0] = localLX[0] - location[0];
                    refLocal[1] = localLX[1] - location[1];

                    //æ½ç¨ - 2 px
                    if (holePolygonPointList.length > 0) {
                        var lastXY = holePolygonPointList[holePolygonPointList.length - 1];
                        if ((Math.abs(lastXY[0] - refLocal[0]) <= nCPx) && (Math.abs(lastXY[1] - refLocal[1]) <= nCPx)) {
                            continue;
                        }
                    }

                    //ä½¿ç¨åèç¹
                    holePolygonPointList.push(refLocal);
                }
            }

            if (holePolygonPointList.length < 2) {
                continue;
            }

            holePolygonPointLists.push(holePolygonPointList);
        }

        if (pointList.length < 2) {
            return;
        }

        //èµ style
        var style = {};
        style = Util_Util.copyAttributesWithClip(style, this.style, ['pointList']);
        style.pointList = pointList;

        //åå»ºå¾å½¢
        var shape = new SmicPolygon_SmicPolygon({
            style: style,
            clickable: this.isClickAble,
            hoverable: this.isHoverAble
        });

        //è®¾ç½®é«äº®æ ·å¼
        if (this.highlightStyle) {
            shape.highlightStyle = this.highlightStyle;
        }

        //è®¾ç½®åèä¸­å¿ï¼æå®å¾å½¢ä½ç½®
        shape.refOriginalPosition = this.location;

        //å¨å­æ°æ® id å±æ§ï¼ç¨äºäºä»¶
        shape.refDataID = this.data.id;

        //å¨å­æ°æ® id å±æ§ï¼ç¨äºäºä»¶-å¤å¾å½¢åæ¶é«äº®
        shape.isHoverByRefDataID = this.isMultiHover;

        //å²æ´é¢
        if (holePolygonPointLists.length > 0) {
            shape.holePolygonPointLists = holePolygonPointLists;
        }

        //ä¿®æ¹ä¸äº shape å¯éå±æ§ï¼éå¸¸ä¸éè¦è¿ä¹å
        if (this.shapeOptions) {
            Util_Util.copyAttributesWithClip(shape, this.shapeOptions);
        }

        this.shapes.push(shape);
    }


    /**
     * @function SuperMap.Feature.Theme.Vector.prototype.rectangleToTF
     * @description è½¬æ¢ç©å½¢è¦ç´ ã
     * @param {SuperMap.Geometry} geometry - ç¨æ·æ°æ®å ä½å°çä¿¡æ¯ï¼è¿éå¿é¡»æ¯ Rectangleã
     */
    rectangleToTF(geometry) {
        //åèä½ç½®ï¼åèä¸­å¿ä¸º
        var location = this.location;
        var ll = new LonLat_LonLat(geometry.x, geometry.y);

        //å°å¾åè¾¨ç
        var res = this.layer.map.getResolution();

        //geometry åç´ åæ 
        var localLX = this.getLocalXY(ll);

        //èµ style
        var style = new Object();
        style.r = 6; //é²æ­¢æ¼è®¾æ­¤åæ°ï¼é»è®¤ 6 åç´ 
        style = Util_Util.copyAttributesWithClip(style, this.style);
        style.x = localLX[0] - location[0];
        // SuperMap.Geometry.Rectangle ä½¿ç¨å·¦ä¸è§å®ä½ï¼ SmicRectangle ä½¿ç¨å·¦ä¸è§å®ä½ï¼éè¦è½¬æ¢
        style.y = (localLX[1] - location[1]) - 2 * geometry.width / res;
        style.width = geometry.width / res;
        style.height = geometry.height / res;

        //åå»ºå¾å½¢
        var shape = new SmicRectangle_SmicRectangle({
            style: style,
            clickable: this.isClickAble,
            hoverable: this.isHoverAble
        });

        //è®¾ç½®é«äº®æ ·å¼
        if (this.highlightStyle) {
            shape.highlightStyle = this.highlightStyle;
        }

        //è®¾ç½®åèä¸­å¿ï¼æå®å¾å½¢ä½ç½®
        shape.refOriginalPosition = location;

        //å¨å­æ°æ® id å±æ§ï¼ç¨äºäºä»¶
        shape.refDataID = this.data.id;

        //å¨å­æ°æ® id å±æ§ï¼ç¨äºäºä»¶-å¤å¾å½¢åæ¶é«äº®
        shape.isHoverByRefDataID = this.isMultiHover;

        //ä¿®æ¹ä¸äº shape å¯éå±æ§ï¼éå¸¸ä¸éè¦è¿ä¹å
        if (this.shapeOptions) {
            Util_Util.copyAttributesWithClip(shape, this.shapeOptions);
        }

        this.shapes.push(shape);
    }


    /**
     * @function SuperMap.Feature.Theme.Vector.prototype.geoTextToTF
     * @description è½¬æ¢ææ¬è¦ç´ ã
     * @param {SuperMap.Geometry} geometry - ç¨æ·æ°æ®å ä½å°çä¿¡æ¯ï¼è¿éå¿é¡»æ¯ GeoTextã
     */
    geoTextToTF(geometry) {
        //åèä½ç½®ï¼åèä¸­å¿ä¸º
        var location = this.location;
        //geometry åç´ åæ 
        var localLX = this.getLocalXY(geometry);

        //èµ style
        var style = new Object();
        style.r = 6; //é²æ­¢æ¼è®¾æ­¤åæ°ï¼é»è®¤ 6 åç´ 
        style = Util_Util.copyAttributesWithClip(style, this.style, ["x", "y", "text"]);
        style.x = localLX[0] - location[0];
        style.y = localLX[1] - location[1];
        style.text = geometry.text;

        //åå»ºå¾å½¢
        var shape = new SmicText_SmicText({
            style: style,
            clickable: this.isClickAble,
            hoverable: this.isHoverAble
        });

        //è®¾ç½®é«äº®æ ·å¼
        if (this.highlightStyle) {
            shape.highlightStyle = this.highlightStyle;
        }

        //è®¾ç½®åèä¸­å¿ï¼æå®å¾å½¢ä½ç½®
        shape.refOriginalPosition = location;

        //å¨å­æ°æ® id å±æ§ï¼ç¨äºäºä»¶
        shape.refDataID = this.data.id;

        //å¨å­æ°æ® id å±æ§ï¼ç¨äºäºä»¶-å¤å¾å½¢åæ¶é«äº®
        shape.isHoverByRefDataID = this.isMultiHover;

        //ä¿®æ¹ä¸äº shape å¯éå±æ§ï¼éå¸¸ä¸éè¦è¿ä¹å
        if (this.shapeOptions) {
            Util_Util.copyAttributesWithClip(shape, this.shapeOptions);
        }

        this.shapes.push(shape);
    }


    /**
     * @function SuperMap.Feature.Theme.Vector.prototype.updateAndAddShapes
     * @description ä¿®æ¹ä½ç½®ï¼éå¯¹å°å¾å¹³ç§»æä½ï¼å°å¾æ¼«æ¸¸æä½åè°ç¨æ­¤å½æ°ã
     */
    updateAndAddShapes() {
        var newLocalLX = this.getLocalXY(this.lonlat);
        this.location = newLocalLX;

        var render = this.layer.renderer;
        for (var i = 0, len = this.shapes.length; i < len; i++) {
            var shape = this.shapes[i];
            //è®¾ç½®åèä¸­å¿ï¼æå®å¾å½¢ä½ç½®
            shape.refOriginalPosition = newLocalLX;
            render.addShape(shape);
        }
    }


    /**
     * @function SuperMap.Feature.Theme.Vector.prototype.getShapesCount
     * @description è·å¾ä¸é¢è¦ç´ ä¸­å¯è§åå¾å½¢çæ°éã
     * @return {number} å¯è§åå¾å½¢çæ°éã
     */
    getShapesCount() {
        return this.shapes.length;
    }


    /**
     * @function SuperMap.Feature.Theme.Vector.prototype.getLocalXY
     * @description å°çåæ è½¬ä¸ºåç´ åæ ã
     * @param {SuperMap.LonLat} lonlat - ä¸é¢è¦ç´ å°çä½ç½®ã
     */
    getLocalXY(lonlat) {
        return this.layer.getLocalXY(lonlat);
    }

}

SuperMap.Feature.Theme.ThemeVector = ThemeVector_ThemeVector;
// CONCATENATED MODULE: ./src/common/overlay/feature/index.js

































// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/Group.js





/**
 * @class  SuperMap.LevelRenderer.Group
 * @category Visualization Theme
 * @private 
 * @classdesc Group æ¯ä¸ä¸ªå®¹å¨ï¼å¯ä»¥æå¥å­èç¹ï¼Group çåæ¢ä¹ä¼è¢«åºç¨å°å­èç¹ä¸ã
 * @extends {SuperMap.LevelRenderer.Transformable}
 * (code)
 *     var g = new SuperMap.LevelRenderer.Group();
 *     var Circle = new SuperMap.LevelRenderer.Shape.Circle();
 *     g.position[0] = 100;
 *     g.position[1] = 100;
 *     g.addChild(new Circle({
 *         style: {
 *             x: 100,
 *             y: 100,
 *             r: 20,
 *             brushType: 'fill'
 *         }
 *     }));
 *     LR.addGroup(g);
 * (end)
 */

class Group_Group extends SuperMap.mixin(Eventful, Transformable_Transformable) {

    /**
     * @function SuperMap.LevelRenderer.Group.prototype.constructor
     * @description æé å½æ°ã
     * @param {Array} options - Group çéç½®ï¼optionsï¼é¡¹ï¼å¯ä»¥æ¯ Group çèªæå±æ§ï¼ä¹å¯ä»¥æ¯èªå®ä¹çå±æ§ã
     */
    constructor(options) {
        super(options)
        options = options || {};
        /**
         * @member {string} SuperMap.LevelRenderer.Group.prototype.id
         * @description Group çå¯ä¸æ è¯ã
         */
        this.id = null;

        /**
         * @readonly
         * @member {string} [SuperMap.LevelRenderer.Group.prototype.type='group']
         * @description ç±»åã
         */
        this.type = 'group';

        //http://www.w3.org/TR/2dcontext/#clipping-region
        /**
         * @member {string} SuperMap.LevelRenderer.Group.prototype.clipShape
         * @description ç¨äºè£åªçå¾å½¢(shape)ï¼ææ Group åçå¾å½¢å¨ç»å¶æ¶é½ä¼è¢«è¿ä¸ªå¾å½¢è£åªï¼è¯¥å¾å½¢ä¼ç»§æ¿ Group çåæ¢ã
         */
        this.clipShape = null;

        /**
         * @member {Array} SuperMap.LevelRenderer.Group.prototype._children
         * @description _childrenã
         */
        this._children = [];

        /**
         * @member {Array} SuperMap.LevelRenderer.Group.prototype._storage
         * @description _storageã
         */
        this._storage = null;

        /**
         * @member {boolean} [SuperMap.LevelRenderer.Group.prototype.__dirty=true]
         * @description __dirtyã
         */
        this.__dirty = true;

        /**
         * @member {boolean} [SuperMap.LevelRenderer.Group.prototype.ignore=false]
         * @description æ¯å¦å¿½ç¥è¯¥ Group åå¶ææå­èç¹ã
         */
        this.ignore = false;
        Util_Util.extend(this, options);
        this.id = this.id || Util_Util.createUniqueID("smShapeGroup_");
        this.CLASS_NAME = "SuperMap.LevelRenderer.Group";
    }


    /**
     * @function SuperMap.LevelRenderer.Group.prototype.destroy
     * @description éæ¯å¯¹è±¡ï¼éæ¾èµæºãè°ç¨æ­¤å½æ°åææå±æ§å°è¢«ç½®ä¸º nullã
     */
    destroy() {
        this.id = null;
        this.type = null;
        this.clipShape = null;
        this._children = null;
        this._storage = null;
        this.__dirty = null;
        this.ignore = null;

        super.destroy();
    }


    /**
     * @function SuperMap.LevelRenderer.Group.prototype.children
     * @description å¤å¶å¹¶è¿åä¸ä»½æ°çåå«ææå¿å­èç¹çæ°ç»ã
     * @returns {Array.<SuperMap.LevelRenderer.Shape>} å¾å½¢æ°ç»ã
     */
    children() {
        return this._children.slice();
    }


    /**
     * @function SuperMap.LevelRenderer.Group.prototype.childAt
     * @description è·åæå® index çå¿å­èç¹
     * @param {number} idx - èç¹ç´¢å¼ã
     * @returns {SuperMap.LevelRenderer.Shape} å¾å½¢ã
     */
    childAt(idx) {
        return this._children[idx];
    }


    /**
     * @function SuperMap.LevelRenderer.Group.prototype.addChild
     * @description æ·»å å­èç¹ï¼å¯ä»¥æ¯ Shape æè Groupã
     * @param {(SuperMap.LevelRenderer.Shape|SuperMap.LevelRenderer.Group)} child - èç¹å¾å½¢ã
     */
    // TODO Type Check
    addChild(child) {
        if (child == this) {
            return;
        }

        if (child.parent == this) {
            return;
        }
        if (child.parent) {
            child.parent.removeChild(child);
        }

        this._children.push(child);
        child.parent = this;

        if (this._storage && this._storage !== child._storage) {

            this._storage.addToMap(child);

            if (child instanceof Group_Group) {
                child.addChildrenToStorage(this._storage);
            }
        }
    }


    /**
     * @function SuperMap.LevelRenderer.Group.prototype.removeChild
     * @description ç§»é¤å­èç¹ã
     * @param {SuperMap.LevelRenderer.Shape} child - éè¦ç§»é¤çå­èç¹å¾å½¢ã
     */
    removeChild(child) {
        var idx = Util_Util.indexOf(this._children, child);

        this._children.splice(idx, 1);
        child.parent = null;

        if (this._storage) {

            this._storage.delFromMap(child.id);

            if (child instanceof Group_Group) {
                child.delChildrenFromStorage(this._storage);
            }
        }
    }


    /**
     * @function SuperMap.LevelRenderer.Group.prototype.eachChild
     * @description éåææå­èç¹ã
     * @param {function} cb - åè°å½æ°ã
     * @param {Object} context - ä¸ä¸æã
     */
    eachChild(cb, context) {
        var haveContext = !!context;
        for (var i = 0; i < this._children.length; i++) {
            var child = this._children[i];
            if (haveContext) {
                cb.call(context, child);
            } else {
                cb(child);
            }
        }
    }


    /**
     * @function SuperMap.LevelRenderer.Group.prototype.traverse
     * @description æ·±åº¦ä¼åéåææå­å­èç¹ã
     * @param {function} cb - åè°å½æ°ã
     * @param {Object} context - ä¸ä¸æã
     */
    traverse(cb, context) {
        var haveContext = !!context;
        for (var i = 0; i < this._children.length; i++) {
            var child = this._children[i];
            if (haveContext) {
                cb.call(context, child);
            } else {
                cb(child);
            }

            if (child.type === 'group') {
                child.traverse(cb, context);
            }
        }
    }


    /**
     * @function SuperMap.LevelRenderer.Group.prototype.addChildrenToStorage
     * @description æå­å¾å½¢æ·»å å°ä»åºã
     * @param {SuperMap.LevelRenderer.Storage} storage - å¾å½¢ä»åºã
     */
    addChildrenToStorage(storage) {
        for (var i = 0; i < this._children.length; i++) {
            var child = this._children[i];
            storage.addToMap(child);
            if (child.type === 'group') {
                child.addChildrenToStorage(storage);
            }
        }
    }


    /**
     * @function SuperMap.LevelRenderer.Group.prototype.delChildrenFromStorage
     * @description ä»ä»åºæå­å¾å½¢å é¤ã
     * @param {SuperMap.LevelRenderer.Storage} storage - å¾å½¢ä»åºã
     */
    delChildrenFromStorage(storage) {
        for (var i = 0; i < this._children.length; i++) {
            var child = this._children[i];
            storage.delFromMap(child.id);
            if (child.type === 'group') {
                child.delChildrenFromStorage(storage);
            }
        }
    }

    
    /**
     * @function SuperMap.LevelRenderer.Group.prototype.modSelf
     * @description æ¯å¦ä¿®æ¹ã
     */
    modSelf() {
        this.__dirty = true;
    }

}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/Storage.js



/**
 * @private
 * @class  SuperMap.LevelRenderer.Storage
 * @category Visualization Theme
 * @classdesc åå®¹ï¼å¾åï¼ä»åº (M) ã
 */
class Storage_Storage {


    /**
     * @function SuperMap.LevelRenderer.Storage.constructor
     * @description æé å½æ°ã
     */
    constructor() {
        /**
         * @member {Object} SuperMap.LevelRenderer.Storage.prototype._elements
         * @description ææå¸¸è§å½¢ç¶ï¼id ç´¢å¼ç mapã
         */
        this._elements = {};

        /**
         * @member {Array} SuperMap.LevelRenderer.Storage.prototype._hoverElements
         * @description é«äº®å±å½¢ç¶ï¼ä¸ç¨³å®ï¼å¨æå¢å ï¼æ°ç»ä½ç½®ä¹æ¯ z è½´æ¹åï¼é åæ¾ç¤ºå¨ä¸æ¹ã
         *
         */
        this._hoverElements = [];

        /**
         * @member {Array} SuperMap.LevelRenderer.Storage.prototype._roots
         * @description _rootsã
         *
         */
        this._roots = [];

        /**
         * @member {Array} SuperMap.LevelRenderer.Storage.prototype._shapeList
         * @description _shapeListã
         *
         */
        this._shapeList = [];

        /**
         * @member {number} SuperMap.LevelRenderer.Storage.prototype._shapeListOffset
         * @description _shapeListOffsetãé»è®¤å¼ï¼0ã
         *
         */
        this._shapeListOffset = 0;

        this.CLASS_NAME = "SuperMap.LevelRenderer.Storage";
    }

    /**
     * @function SuperMap.LevelRenderer.Storage.prototype.destroy
     * @description éæ¯å¯¹è±¡ï¼éæ¾èµæºãè°ç¨æ­¤å½æ°åææå±æ§å°è¢«ç½®ä¸º nullã
     */
    destroy() {
        this.dispose();
        this._shapeList = null;
        this._shapeListOffset = null;
    }

    /**
     * @function SuperMap.LevelRenderer.Storage.prototype.iterShape
     * @description éåè¿­ä»£å¨ã
     * 
     * @param {Function} fun - è¿­ä»£åè°å½æ°ï¼return trueç»æ­¢è¿­ä»£ã
     * @param {Object} option - è¿­ä»£åæ°ï¼ç¼ºçä¸ºä»éåºéåæ®éå±å¾å½¢ã
     * @param {boolean} [hover=true] - æ¯å¦æ¯é«äº®å±å¾å½¢ã
     * @param {string} [normal='down'] - æ¯å¦æ¯æ®éå±å¾å½¢ï¼è¿­ä»£æ¶æ¯å¦æå®åzè½´é¡ºåºãå¯è®¾å¼ï¼'down' ï¼'up'ã
     * @param {boolean} [update=false] - æ¯å¦å¨è¿­ä»£åæ´æ°å½¢ç¶åè¡¨ã
     * @return {SuperMap.LevelRenderer.Storage} thisã
     */
    iterShape(fun, option) {
        if (!option) {
            var defaultIterateOption = {
                hover: false,
                normal: 'down',
                update: false
            };
            option = defaultIterateOption;
        }

        if (option.hover) {
            // é«äº®å±æ°æ®éå
            for (var i = 0, l = this._hoverElements.length; i < l; i++) {
                var el = this._hoverElements[i];
                el.updateTransform();
                if (fun(el)) {
                    return this;
                }
            }
        }

        if (option.update) {
            this.updateShapeList();
        }

        // éå: 'down' | 'up'
        switch (option.normal) {
            case 'down':
            {
                // éåºéåï¼é«å±ä¼å
                let l = this._shapeList.length;
                while (l--) {
                    if (fun(this._shapeList[l])) {
                        return this;
                    }
                }
                break;
            }
            // case 'up':
            default:
            {
                // ååºéåï¼åºå±ä¼å
                for (let i = 0, l = this._shapeList.length; i < l; i++) {
                    if (fun(this._shapeList[i])) {
                        return this;
                    }
                }
                break;
            }
        }

        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Storage.prototype.getHoverShapes
     * @param {boolean} [update=false] - æ¯å¦å¨è¿ååæ´æ°å¾å½¢çåæ¢ã
     * @return {Array.<SuperMap.LevelRenderer.Shape>} å¾å½¢æ°ç»ã
     */
    getHoverShapes(update) {
        // hoverConnect
        var hoverElements = [], len = this._hoverElements.length;
        for (let i = 0; i < len; i++) {
            hoverElements.push(this._hoverElements[i]);
            var target = this._hoverElements[i].hoverConnect;
            if (target) {
                var shape;
                target = target instanceof Array ? target : [target];
                for (var j = 0, k = target.length; j < k; j++) {
                    shape = target[j].id ? target[j] : this.get(target[j]);
                    if (shape) {
                        hoverElements.push(shape);
                    }
                }
            }
        }
        hoverElements.sort(Storage_Storage.shapeCompareFunc);
        if (update) {
            for (let i = 0, l = hoverElements.length; i < l; i++) {
                hoverElements[i].updateTransform();
            }
        }
        return hoverElements;
    }

    /**
     * @function SuperMap.LevelRenderer.Storage.prototype.getShapeList
     * @description è¿åææå¾å½¢çç»å¶éåã
     *
     * @param {boolean} [update=false] - æ¯å¦å¨è¿ååæ´æ°è¯¥æ°ç»ã  è¯¦è§ï¼<SuperMap.LevelRenderer.Shape> updateShapeListã
     * @return {SuperMap.LevelRenderer.Shape} å¾å½¢ã
     */
    getShapeList(update) {
        if (update) {
            this.updateShapeList();
        }
        return this._shapeList;
    }

    /**
     * @function SuperMap.LevelRenderer.Storage.prototype.updateShapeList
     * @description æ´æ°å¾å½¢çç»å¶éåãæ¯æ¬¡ç»å¶åé½ä¼è°ç¨ï¼è¯¥æ¹æ³ä¼åæ·±åº¦ä¼åéåæ´ä¸ªæ ï¼æ´æ°ææGroupåShapeçåæ¢å¹¶ä¸æææå¯è§çShapeä¿å­å°æ°ç»ä¸­ï¼æåæ ¹æ®ç»å¶çä¼åçº§ï¼zlevel > z > æå¥é¡ºåºï¼æåºå¾å°ç»å¶éåã 
     */
    updateShapeList() {
        this._shapeListOffset = 0;
        var rootsLen = this._roots.length;
        for (let i = 0; i < rootsLen; i++) {
            let root = this._roots[i];
            this._updateAndAddShape(root);
        }
        this._shapeList.length = this._shapeListOffset;

        var shapeListLen = this._shapeList.length;
        for (let i = 0; i < shapeListLen; i++) {
            this._shapeList[i].__renderidx = i;
        }

        this._shapeList.sort(Storage_Storage.shapeCompareFunc);
    }

    /**
     * @function SuperMap.LevelRenderer.Storage.prototype._updateAndAddShape
     * @description æ´æ°å¹¶æ·»å å¾å½¢ã
     * 
     */
    _updateAndAddShape(el, clipShapes) {
        if (el.ignore) {
            return;
        }

        el.updateTransform();

        if (el.type == 'group') {

            if (el.clipShape) {
                // clipShape çåæ¢æ¯åºäº group çåæ¢
                el.clipShape.parent = el;
                el.clipShape.updateTransform();

                // PENDING æçå½±å
                if (clipShapes) {
                    clipShapes = clipShapes.slice();
                    clipShapes.push(el.clipShape);
                } else {
                    clipShapes = [el.clipShape];
                }
            }

            for (var i = 0; i < el._children.length; i++) {
                var child = el._children[i];

                // Force to mark as dirty if group is dirty
                child.__dirty = el.__dirty || child.__dirty;

                this._updateAndAddShape(child, clipShapes);
            }

            // Mark group clean here
            el.__dirty = false;

        } else {
            el.__clipShapes = clipShapes;

            this._shapeList[this._shapeListOffset++] = el;
        }
    }

    /**
     * @function SuperMap.LevelRenderer.Storage.prototype.mod
     * @description ä¿®æ¹å¾å½¢(Shape)æèç»(Group)ã
     * 
     * @param {String} elId - å¯ä¸æ è¯ã
     * @param {Object} params - åæ°ã
     * @return {SuperMap.LevelRenderer.Storage} thisã
     */
    mod(elId, params) {
        var el = this._elements[elId];
        if (el) {

            el.modSelf();

            if (params) {
                // å¦æç¬¬äºä¸ªåæ°ç´æ¥ä½¿ç¨ shape
                // parent, _storage, __startClip ä¸ä¸ªå±æ§ä¼æå¾ªç¯å¼ç¨
                // ä¸»è¦ä¸ºäºå 1.x çæ¬å¼å®¹ï¼2.x çæ¬ä¸å»ºè®®ä½¿ç¨ç¬¬äºä¸ªåæ°
                if (params.parent || params._storage || params.__startClip) {
                    var target = {};
                    for (var name in params) {
                        if (
                            name == 'parent'
                            || name == '_storage'
                            || name == '__startClip'
                        ) {
                            continue;
                        }
                        if (params.hasOwnProperty(name)) {
                            target[name] = params[name];
                        }
                    }
                    new levelRenderer_Util_Util().merge(el, target, true);
                } else {
                    new levelRenderer_Util_Util().merge(el, params, true);
                }
            }
        }

        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Storage.prototype.drift
     * @description ç§»å¨æå®çå¾å½¢(Shape)çä½ç½®ã
     * @param {string} shapeId - å¯ä¸æ è¯ã
     * @param {number} dx 
     * @param {number} dy 
     * @return {SuperMap.LevelRenderer.Storage} thisã
     */
    drift(shapeId, dx, dy) {
        var shape = this._elements[shapeId];
        if (shape) {
            shape.needTransform = true;
            if (shape.draggable === 'horizontal') {
                dy = 0;
            } else if (shape.draggable === 'vertical') {
                dx = 0;
            }
            if (!shape.ondrift // ondrift
                // æonbrushå¹¶ä¸è°ç¨æ§è¡è¿åfalseæundefinedåç»§ç»­
                || (shape.ondrift && !shape.ondrift(dx, dy))
            ) {
                shape.drift(dx, dy);
            }
        }

        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Storage.prototype.addHover
     * @description æ·»å é«äº®å±æ°æ®ã
     * @param {SuperMap.LevelRenderer.Shape} shape - å¾å½¢ã
     * @return {SuperMap.LevelRenderer.Storage} thisã
     */
    addHover(shape) {
        shape.updateNeedTransform();
        this._hoverElements.push(shape);
        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Storage.prototype.delHover
     * @description æ¸ç©ºé«äº®å±æ°æ®ã
     * @return {SuperMap.LevelRenderer.Storage} thisã 
     */
    delHover() {
        this._hoverElements = [];
        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Storage.prototype.hasHoverShape
     * @description æ¯å¦æå¾å½¢å¨é«äº®å±éã
     * @return {boolean} æ¯å¦æå¾å½¢å¨é«äº®å±éã
     */
    hasHoverShape() {
        return this._hoverElements.length > 0;
    }

    /**
     * @function SuperMap.LevelRenderer.Storage.prototype.addRoot
     * @description æ·»å å¾å½¢(Shape)æèç»(Group)å°æ ¹èç¹ã
     * 
     * @param {(SuperMap.LevelRenderer.Shape/SuperMap.LevelRenderer.Group)} el - å¾å½¢ã
     *
     */
    addRoot(el) {
        if (el instanceof Group_Group) {
            el.addChildrenToStorage(this);
        }

        this.addToMap(el);
        this._roots.push(el);
    }

    /**
     * @function SuperMap.LevelRenderer.Storage.prototype.delRoot
     * @description å é¤æå®çå¾å½¢(Shape)æèç»(Group)ã
     *
     * @param {Array.<string>} elId - å é¤å¾å½¢(Shape)æèç»(Group)ç id æ°ç»ãå¦æä¸ºç©ºæ¸ç©ºæ´ä¸ªStorageã
     *
     */
    delRoot(elId) {
        if (typeof(elId) == 'undefined') {
            // ä¸æå®elIdæ¸ç©º
            for (var i = 0; i < this._roots.length; i++) {
                var root = this._roots[i];

                if (root instanceof Group_Group) {
                    root.delChildrenFromStorage(this);
                }
            }

            this._elements = {};
            this._hoverElements = [];
            this._roots = [];

            return;
        }

        if (elId instanceof Array) {
            var elIdLen = elId.length;
            for (let i = 0; i < elIdLen; i++) {
                this.delRoot(elId[i]);
            }
            return;
        }

        var el;
        if (typeof(elId) == 'string') {
            el = this._elements[elId];
        } else {
            el = elId;
        }

        var idx = new levelRenderer_Util_Util().indexOf(this._roots, el);
        if (idx >= 0) {
            this.delFromMap(el.id);
            this._roots.splice(idx, 1);
            if (el instanceof Group_Group) {
                el.delChildrenFromStorage(this);
            }
        }
    }

    /**
     * @function SuperMap.LevelRenderer.Storage.prototype.addToMap
     * @description æ·»å å¾å½¢å° mapã
     *
     * @param {SuperMap.LevelRenderer.Shape} el - å¾å½¢ã
     * @return {SuperMap.LevelRenderer.Storage} thisã
     */
    addToMap(el) {
        if (el instanceof Group_Group) {
            el._storage = this;
        }
        el.modSelf();

        this._elements[el.id] = el;

        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Storage.prototype.get
     * @description è·åæå®å¾å½¢ã
     *
     * @param {string} elId - å¾å½¢ idã
     * @return {SuperMap.LevelRenderer.Shape} å¾å½¢ã
     */
    get(elId) {
        return this._elements[elId];
    }

    /**
     * @function SuperMap.LevelRenderer.Storage.prototype.delFromMap
     * @description ä» map ä¸­å é¤æå®å¾å½¢ã
     * 
     * @param {string} elId - å¾å½¢idã
     * @return {SuperMap.LevelRenderer.Storage} thisã
     */
    delFromMap(elId) {
        var el = this._elements[elId];
        if (el) {
            delete this._elements[elId];

            if (el instanceof Group_Group) {
                el._storage = null;
            }
        }

        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Storage.prototype.dispose
     * @description æ¸ç©ºå¹¶ä¸éæ¾ Storageã
     */
    dispose() {
        this._elements = null;
        // this._renderList = null;
        this._roots = null;
        this._hoverElements = null;
    }

    static shapeCompareFunc(a, b) {
        if (a.zlevel == b.zlevel) {
            if (a.z == b.z) {
                return a.__renderidx - b.__renderidx;
            }
            return a.z - b.z;
        }
        return a.zlevel - b.zlevel;
    }

}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/Painter.js







/**
 * @private
 * @class  SuperMap.LevelRenderer.Painter
 * @category Visualization Theme
 * @classdesc Painter ç»å¾æ¨¡åã
 */
class Painter_Painter {

    /**
     * @function SuperMap.LevelRenderer.Painter.constructor
     * @description æé å½æ°ã
     *
     * @param {HTMLElement} root - ç»å¾åºåï¼DIVï¼ã
     * @param {SuperMap.LevelRenderer.Storage} storage - Storage å®ä¾ã
     *
     */
    constructor(root, storage) {
        /**
         * @member {HTMLElement} SuperMap.LevelRenderer.Painter.prototype.root
         * @description  ç»å¾å®¹å¨ã
         *
         */
        this.root = root;

        /**
         * @member {Array} SuperMap.LevelRenderer.Painter.prototype.storage
         * @description å¾å½¢ä»åºã
         *
         */
        this.storage = storage;

        /**
         * @member {HTMLElement} SuperMap.LevelRenderer.Painter.prototype._domRoot
         * @description å®¹å¨æ ¹ dom å¯¹è±¡ã
         *
         */
        this._domRoot = null;

        /**
         * @member {Object} SuperMap.LevelRenderer.Painter.prototype._layers
         * @description ç»å¶å±å¯¹è±¡ã
         *
         */
        this._layers = {};

        /**
         * @member {Array} SuperMap.LevelRenderer.Painter.prototype._zlevelList
         * @description  å±åè¡¨ã
         *
         */
        this._zlevelList = [];

        /**
         * @member {Object} SuperMap.LevelRenderer.Painter.prototype._layerConfig
         * @description ç»å¶å±éç½®å¯¹è±¡ã
         *
         */
        this._layerConfig = {};

        /**
         * @member {Object} SuperMap.LevelRenderer.Painter.prototype._bgDom
         * @description èæ¯å± Canvas ï¼Domï¼ã
         *
         */
        this._bgDom = null;

        /**
         * @member {Function} SuperMap.LevelRenderer.Painter.prototype.shapeToImage
         * @description å½¢ç¶è½¬å¾åå½æ°ã
         *
         */
        this.shapeToImage = null;
        // retina å±å¹ä¼å
        Painter_Painter.devicePixelRatio = Math.max((window.devicePixelRatio || 1), 1);

        this.CLASS_NAME = "SuperMap.LevelRenderer.Painter";
        this.root.innerHTML = '';
        this._width = this._getWidth(); // å®½ï¼ç¼å­è®°å½
        this._height = this._getHeight(); // é«ï¼ç¼å­è®°å½

        var domRoot = document.createElement('div');
        this._domRoot = domRoot;

        // domRoot.onselectstart = returnFalse; // é¿åé¡µé¢éä¸­çå°´å°¬
        domRoot.style.position = 'relative';
        domRoot.style.overflow = 'hidden';
        domRoot.style.width = this._width + 'px';
        domRoot.style.height = this._height + 'px';
        this.root.appendChild(domRoot);

        this.shapeToImage = this._createShapeToImageProcessor();

        // åå»ºåå±canvas
        // èæ¯
        //this._bgDom = Painter.createDom('bg', 'div', this);
        this._bgDom = Painter_Painter.createDom(Util_Util.createUniqueID("SuperMap.Theme_background_"), 'div', this);
        domRoot.appendChild(this._bgDom);
        this._bgDom.onselectstart = returnFalse;
        this._bgDom.style['-webkit-user-select'] = 'none';
        this._bgDom.style['user-select'] = 'none';
        this._bgDom.style['-webkit-touch-callout'] = 'none';

        // é«äº®
        //var hoverLayer = new PaintLayer('_hoverLayer_', this);
        var hoverLayer = new Painter_PaintLayer(Util_Util.createUniqueID("_highLightLayer_"), this);
        this._layers['hover'] = hoverLayer;
        domRoot.appendChild(hoverLayer.dom);
        hoverLayer.initContext();

        hoverLayer.dom.onselectstart = returnFalse;
        hoverLayer.dom.style['-webkit-user-select'] = 'none';
        hoverLayer.dom.style['user-select'] = 'none';
        hoverLayer.dom.style['-webkit-touch-callout'] = 'none';

        var me = this;
        this.updatePainter = function (shapeList, callback) {
            me.refreshShapes(shapeList, callback);
        };

        // è¿åfalseçæ¹æ³ï¼ç¨äºé¿åé¡µé¢è¢«éä¸­
        function returnFalse() {
            return false;
        }

        /* eslint-disable */
        // ä»ä¹é½ä¸å¹²çç©ºæ¹æ³
        function doNothing() {  //NOSONAR
        }
        /* eslint-enable */
    }


    /**
     * @function SuperMap.LevelRenderer.Painter.prototype.destroy
     * @description éæ¯å¯¹è±¡ï¼éæ¾èµæºãè°ç¨æ­¤å½æ°åææå±æ§å°è¢«ç½®ä¸º nullã
     */
    destroy() {
        this.dispose();
        this._zlevelList = null;
        this._layerConfig = null;
        this._bgDom = null;
        this.shapeToImage = null;
    }


    /**
     * @function SuperMap.LevelRenderer.Painter.prototype.render
     * @description æ¸²æãé¦æ¬¡ç»å¾ï¼åå»ºåç§ dom å contextã
     *
     * @param {Function} callback - ç»ç»ç»æåçåè°å½æ°ã
     * @return {SuperMap.LevelRenderer.Painter} thisã
     */
    render(callback) {
        // TODO
        this.refresh(callback, true);

        return this;
    }


    /**
     * @function SuperMap.LevelRenderer.Painter.prototype.refresh
     * @description å·æ°ã
     *
     * @param {Function} callback - å·æ°ç»æåçåè°å½æ°ã
     * @param {boolean} paintAll - å¼ºå¶ç»å¶ææ shapeã
     * @return {SuperMap.LevelRenderer.Painter} thisã
     */
    refresh(callback, paintAll) {
        var list = this.storage.getShapeList(true);
        this._paintList(list, paintAll);

        if (typeof callback == 'function') {
            callback();
        }

        return this;
    }


    /**
     * Method: _paintList
     * æåè¡¨ç»å¶å¾å½¢ã
     */
    _paintList(list, paintAll) {
        if (typeof(paintAll) == 'undefined') {
            paintAll = false;
        }

        this._updateLayerStatus(list);

        var currentLayer;
        var currentZLevel;
        var ctx;

        for (var id in this._layers) {
            if (id !== 'hover') {
                this._layers[id].unusedCount++;
                this._layers[id].updateTransform();
            }
        }

        var invTransform = [];

        for (var i = 0, l = list.length; i < l; i++) {
            var shape = list[i];

            if (currentZLevel !== shape.zlevel) {
                if (currentLayer && currentLayer.needTransform) {
                    ctx.restore();
                }

                currentLayer = this.getLayer(shape.zlevel);
                ctx = currentLayer.ctx;
                currentZLevel = shape.zlevel;

                // Reset the count
                currentLayer.unusedCount = 0;

                if (currentLayer.dirty || paintAll) {
                    currentLayer.clear();
                }

                if (currentLayer.needTransform) {
                    ctx.save();
                    currentLayer.setTransform(ctx);
                }
            }

            // Start group clipping
            if (ctx && shape.__startClip) {
                var clipShape = shape.__startClip;
                ctx.save();
                // Set transform
                if (clipShape.needTransform) {
                    let m = clipShape.transform;
                    SUtil.Util_matrix.invert(invTransform, m);
                    ctx.transform(
                        m[0], m[1],
                        m[2], m[3],
                        m[4], m[5]
                    );
                }

                ctx.beginPath();
                clipShape.buildPath(ctx, clipShape.style);
                ctx.clip();

                // Transform back
                if (clipShape.needTransform) {
                    let m = invTransform;
                    ctx.transform(
                        m[0], m[1],
                        m[2], m[3],
                        m[4], m[5]
                    );
                }
            }

            if (((currentLayer && currentLayer.dirty) || paintAll) && !shape.invisible) {
                if (
                    !shape.onbrush
                    || (shape.onbrush && !shape.onbrush(ctx, false))
                ) {
                    if (Config.catchBrushException) {
                        try {
                            shape.brush(ctx, false, this.updatePainter);
                        } catch (error) {
                            SUtil.Util_log(
                                error,
                                'brush error of ' + shape.type,
                                shape
                            );
                        }
                    } else {
                        shape.brush(ctx, false, this.updatePainter);
                    }
                }
            }

            // Stop group clipping
            if (ctx && shape.__stopClip) {
                ctx.restore();
            }

            shape.__dirty = false;
        }

        if (ctx && currentLayer && currentLayer.needTransform) {
            ctx.restore();
        }

        for (let id in this._layers) {
            if (id !== 'hover') {
                var layer = this._layers[id];
                layer.dirty = false;
                // å é¤è¿æçå±
                // PENDING
                // if (layer.unusedCount >= 500) {
                //     this.delLayer(id);
                // }
                if (layer.unusedCount == 1) {
                    layer.clear();
                }
            }
        }

    }


    /**
     * @function SuperMap.LevelRenderer.Painter.prototype.getLayer
     * @description è·å zlevel æå¨å±ï¼å¦æä¸å­å¨åä¼åå»ºä¸ä¸ªæ°çå±ã
     *
     * @param {number} zlevel - zlevelã
     * @return {SuperMap.LevelRenderer.Painter} thisã
     */
    getLayer(zlevel) {
        // Change draw layer
        var currentLayer = this._layers[zlevel];
        if (!currentLayer) {
            var len = this._zlevelList.length;
            var prevLayer = null;
            var i = -1;
            if (len > 0 && zlevel > this._zlevelList[0]) {
                for (i = 0; i < len - 1; i++) {
                    if (
                        this._zlevelList[i] < zlevel
                        && this._zlevelList[i + 1] > zlevel
                    ) {
                        break;
                    }
                }
                prevLayer = this._layers[this._zlevelList[i]];
            }
            this._zlevelList.splice(i + 1, 0, zlevel);

            // Create a new layer
            //currentLayer = new PaintLayer(zlevel, this);
            currentLayer = new Painter_PaintLayer(Util_Util.createUniqueID("_levelLayer_" + zlevel), this);
            var prevDom = prevLayer ? prevLayer.dom : this._bgDom;
            if (prevDom.nextSibling) {
                prevDom.parentNode.insertBefore(
                    currentLayer.dom,
                    prevDom.nextSibling
                );
            } else {
                prevDom.parentNode.appendChild(
                    currentLayer.dom
                );
            }
            currentLayer.initContext();

            this._layers[zlevel] = currentLayer;

            if (this._layerConfig[zlevel]) {
                new levelRenderer_Util_Util().merge(currentLayer, this._layerConfig[zlevel], true);
            }

            currentLayer.updateTransform();
        }

        return currentLayer;
    }


    /**
     * @function SuperMap.LevelRenderer.Painter.prototype.getLayers
     * @description è·åææå·²åå»ºçå±ã
     * @return {Array.<Painter.Layer>} å·²åå»ºçå±
     */
    getLayers() {
        return this._layers;
    }


    /**
     * Method: _updateLayerStatus
     * æ´æ°ç»å¶å±ç¶æã
     */
    _updateLayerStatus(list) {
        var layers = this._layers;

        var elCounts = {};
        for (let z in layers) {
            if (z !== 'hover') {
                elCounts[z] = layers[z].elCount;
                layers[z].elCount = 0;
            }
        }

        for (let i = 0; i < list.length; i++) {
            var shape = list[i];
            var zlevel = shape.zlevel;
            var layer = layers[zlevel];
            if (layer) {
                layer.elCount++;
                // å·²ç»è¢«æ è®°ä¸ºéè¦å·æ°
                if (layer.dirty) {
                    continue;
                }
                layer.dirty = shape.__dirty;
            }
        }

        // å±ä¸­çåç´ æ°éæåçåå
        for (let z in layers) {
            if (z !== 'hover') {
                if (elCounts[z] !== layers[z].elCount) {
                    layers[z].dirty = true;
                }
            }
        }
    }


    /**
     * @function SuperMap.LevelRenderer.Painter.prototype.refreshShapes
     * @description æ´æ°çå¾å½¢åç´ åè¡¨ã
     *
     * @param {number} shapeList - éè¦æ´æ°çå¾å½¢åç´ åè¡¨ã
     * @param {number} callback - è§å¾æ´æ°ååè°å½æ°ã
     * @return {SuperMap.LevelRenderer.Painter} thisã
     */
    refreshShapes(shapeList, callback) {
        for (var i = 0, l = shapeList.length; i < l; i++) {
            var shape = shapeList[i];
            this.storage.mod(shape.id);
        }

        this.refresh(callback);
        return this;
    }


    /**
     * @function SuperMap.LevelRenderer.Painter.prototype.clear
     * @description æ¸é¤ hover å±å¤ææåå®¹ã
     * @return {SuperMap.LevelRenderer.Painter} thisã
     */
    clear() {
        for (var k in this._layers) {
            if (k == 'hover') {
                continue;
            }
            this._layers[k].clear();
        }

        return this;
    }


    /**
     * @function SuperMap.LevelRenderer.Painter.prototype.modLayer
     * @description ä¿®æ¹æå® zlevel çç»å¶åæ°ã
     *
     * @param {string} zlevel - zlevelã
     * @param {Object} config - éç½®å¯¹è±¡ã
     * @param {string} [config.clearColor=0] - æ¯æ¬¡æ¸ç©ºç»å¸çé¢è²ã
     * @param {boolean} [config.motionBlur=false] - æ¯å¦å¼å¯å¨ææ¨¡ç³ã
     * @param {number} [config.lastFrameAlpha=0.7] - å¨å¼å¯å¨ææ¨¡ç³çæ¶åä½¿ç¨ï¼ä¸ä¸ä¸å¸§æ··åçalphaå¼ï¼å¼è¶å¤§å°¾è¿¹è¶ææ¾ãé»è®¤å¼ï¼0.7ã
     * @param {Array.<number>} config.position - å±çå¹³ç§»ã
     * @param {Array.<number>} config.rotation - å±çæè½¬ã
     * @param {Array.<number>} config.scale - å±çç¼©æ¾ã
     * @param {boolean} config.zoomable - å±æ¯å¦æ¯æé¼ æ ç¼©æ¾æä½ãé»è®¤å¼ï¼falseã
     * @param {boolean} config.panable - å±æ¯å¦æ¯æé¼ æ å¹³ç§»æä½ãé»è®¤å¼ï¼falseã
     *
     */
    modLayer(zlevel, config) {
        if (config) {
            if (!this._layerConfig[zlevel]) {
                this._layerConfig[zlevel] = config;
            } else {
                new levelRenderer_Util_Util().merge(this._layerConfig[zlevel], config, true);
            }

            var layer = this._layers[zlevel];

            if (layer) {
                new levelRenderer_Util_Util().merge(layer, this._layerConfig[zlevel], true);
            }
        }
    }


    /**
     * @function SuperMap.LevelRenderer.Painter.prototype.delLayer
     * @description å é¤æå®å±ã
     *
     * @param {string} zlevel - å±æå¨ç zlevelã
     */
    delLayer(zlevel) {
        var layer = this._layers[zlevel];
        if (!layer) {
            return;
        }
        // Save config
        this.modLayer(zlevel, {
            position: layer.position,
            rotation: layer.rotation,
            scale: layer.scale
        });
        layer.dom.parentNode.removeChild(layer.dom);
        delete this._layers[zlevel];

        this._zlevelList.splice(new levelRenderer_Util_Util().indexOf(this._zlevelList, zlevel), 1);
    }


    /**
     * @function SuperMap.LevelRenderer.Painter.prototype.refreshHover
     * @description å·æ° hover å±ã
     * @return {SuperMap.LevelRenderer.Painter} thisã
     */
    refreshHover() {
        this.clearHover();
        var list = this.storage.getHoverShapes(true);
        for (var i = 0, l = list.length; i < l; i++) {
            this._brushHover(list[i]);
        }
        this.storage.delHover();

        return this;
    }


    /**
     * @function SuperMap.LevelRenderer.Painter.prototype.clearHover
     * @description æ¸é¤ hover å±ææåå®¹ã
     * @return {SuperMap.LevelRenderer.Painter} thisã
     */
    clearHover() {
        var hover = this._layers.hover;
        hover && hover.clear();

        return this;
    }


    /**
     * @function SuperMap.LevelRenderer.Painter.prototype.resize
     * @description åºåå¤§å°åååéç»ã
     * @return {SuperMap.LevelRenderer.Painter} thisã
     */
    resize() {
        var domRoot = this._domRoot;
        domRoot.style.display = 'none';

        var width = this._getWidth();
        var height = this._getHeight();

        domRoot.style.display = '';

        // ä¼åæ²¡æå®éæ¹åçresize
        if (this._width != width || height != this._height) {
            this._width = width;
            this._height = height;

            domRoot.style.width = width + 'px';
            domRoot.style.height = height + 'px';

            for (var id in this._layers) {

                this._layers[id].resize(width, height);
            }

            this.refresh(null, true);
        }

        return this;
    }


    /**
     * @function SuperMap.LevelRenderer.Painter.prototype.clearLayer
     * @description æ¸é¤æå®çä¸ä¸ªå±ã
     * @param {number} zLevel - å±ã
     */
    clearLayer(zLevel) {
        var layer = this._layers[zLevel];
        if (layer) {
            layer.clear();
        }
    }


    /**
     * @function SuperMap.LevelRenderer.Painter.prototype.dispose
     * @description éæ¾ã
     *
     */
    dispose() {
        this.root.innerHTML = '';

        this.root = null;
        this.storage = null;
        this._domRoot = null;
        this._layers = null;
    }


    /**
     * @function SuperMap.LevelRenderer.Painter.prototype.getDomHover
     * @description è·å Hover å±ç Domã
     */
    getDomHover() {
        return this._layers.hover.dom;
    }


    /**
     * @function SuperMap.LevelRenderer.Painter.prototype.toDataURL
     * @description å¾åå¯¼åºã
     * @param {string} type - å¾çç±»åã
     * @param {string} backgroundColor - èæ¯è²ãé»è®¤å¼ï¼'#fff'ã
     * @param {Object} args
     * @return {string} å¾ççBase64 urlã
     */
    toDataURL(type, backgroundColor, args) {
        //var imageDom = Painter.createDom('image', 'canvas', this);
        var imageDom = Painter_Painter.createDom(Util_Util.createUniqueID("SuperMap.Theme.image_"), 'canvas', this);
        this._bgDom.appendChild(imageDom);
        var ctx = imageDom.getContext('2d');
        Painter_Painter.devicePixelRatio != 1
        && ctx.scale(Painter_Painter.devicePixelRatio, Painter_Painter.devicePixelRatio);

        ctx.fillStyle = backgroundColor || '#fff';
        ctx.rect(
            0, 0,
            this._width * Painter_Painter.devicePixelRatio,
            this._height * Painter_Painter.devicePixelRatio
        );
        ctx.fill();

        var self = this;
        // ååºéåï¼shapeä¸çzlevelæå®ç»ç»å¾å±çzè½´å±å 

        this.storage.iterShape(
            function (shape) {
                if (!shape.invisible) {
                    if (!shape.onbrush // æ²¡æonbrush
                        // æonbrushå¹¶ä¸è°ç¨æ§è¡è¿åfalseæundefinedåç»§ç»­ç²å·
                        || (shape.onbrush && !shape.onbrush(ctx, false))
                    ) {
                        if (Config.catchBrushException) {
                            try {
                                shape.brush(ctx, false, self.updatePainter);
                            } catch (error) {
                                SUtil.Util_log(
                                    error,
                                    'brush error of ' + shape.type,
                                    shape
                                );
                            }
                        } else {
                            shape.brush(ctx, false, self.updatePainter);
                        }
                    }
                }
            },
            {normal: 'up', update: true}
        );
        var image = imageDom.toDataURL(type, args);
        ctx = null;
        this._bgDom.removeChild(imageDom);
        return image;
    }


    /**
     * @function SuperMap.LevelRenderer.Painter.prototype.getWidth
     * @description  è·åç»å¾åºåå®½åº¦ã
     * @return {number} ç»å¾åºåå®½åº¦ã
     */
    getWidth() {
        return this._width;
    }


    /**
     * @function SuperMap.LevelRenderer.Painter.prototype.getHeight
     * @description è·åç»å¾åºåé«åº¦ã
     * @return {number} ç»å¾åºåé«åº¦ã
     */
    getHeight() {
        return this._height;
    }


    /**
     * Method: _getWidth
     *
     */
    _getWidth() {
        var root = this.root;
        var stl = root.currentStyle
            || document.defaultView.getComputedStyle(root);

        return ((root.clientWidth || parseInt(stl.width, 10))
            - parseInt(stl.paddingLeft, 10) // è¯·åè°æè¿æ¯è¾ç²æ´
            - parseInt(stl.paddingRight, 10)).toFixed(0) - 0;
    }


    /**
     * Method: _getHeight
     *
     */
    _getHeight() {
        var root = this.root;
        var stl = root.currentStyle
            || document.defaultView.getComputedStyle(root);

        return ((root.clientHeight || parseInt(stl.height, 10))
            - parseInt(stl.paddingTop, 10) // è¯·åè°æè¿æ¯è¾ç²æ´
            - parseInt(stl.paddingBottom, 10)).toFixed(0) - 0;
    }


    /**
     * Method: _brushHover
     *
     */
    _brushHover(shape) {
        var ctx = this._layers.hover.ctx;

        if (!shape.onbrush // æ²¡æonbrush
            // æonbrushå¹¶ä¸è°ç¨æ§è¡è¿åfalseæundefinedåç»§ç»­ç²å·
            || (shape.onbrush && !shape.onbrush(ctx, true))
        ) {
            var layer = this.getLayer(shape.zlevel);
            if (layer.needTransform) {
                ctx.save();
                layer.setTransform(ctx);
            }
            // Retina ä¼å
            if (Config.catchBrushException) {
                try {
                    shape.brush(ctx, true, this.updatePainter);
                } catch (error) {
                    SUtil.Util_log(
                        error, 'hoverBrush error of ' + shape.type, shape
                    );
                }
            } else {
                shape.brush(ctx, true, this.updatePainter);
            }
            if (layer.needTransform) {
                ctx.restore();
            }
        }

    }


    /**
     * Method: _shapeToImage
     *
     */
    _shapeToImage(id, shape, width, height, devicePixelRatio) {
        var canvas = document.createElement('canvas');
        var ctx = canvas.getContext('2d');
        var _devicePixelRatio = devicePixelRatio || window.devicePixelRatio || 1;

        canvas.style.width = width + 'px';
        canvas.style.height = height + 'px';
        canvas.setAttribute('width', width * _devicePixelRatio);
        canvas.setAttribute('height', height * _devicePixelRatio);

        ctx.clearRect(0, 0, width * _devicePixelRatio, height * _devicePixelRatio);

        var shapeTransform = {
            position: shape.position,
            rotation: shape.rotation,
            scale: shape.scale
        };
        shape.position = [0, 0, 0];
        shape.rotation = 0;
        shape.scale = [1, 1];
        if (shape) {
            shape.brush(ctx, false);
        }

        var imgShape = new SmicImage_SmicImage({
            id: id,
            style: {
                x: 0,
                y: 0,
                image: canvas
            }
        });

        if (shapeTransform.position != null) {
            imgShape.position = shape.position = shapeTransform.position;
        }

        if (shapeTransform.rotation != null) {
            imgShape.rotation = shape.rotation = shapeTransform.rotation;
        }

        if (shapeTransform.scale != null) {
            imgShape.scale = shape.scale = shapeTransform.scale;
        }

        return imgShape;
    }


    /**
     * Method: _createShapeToImageProcessor
     *
     */
    _createShapeToImageProcessor() {
        var me = this;

        return function (id, e, width, height) {
            return me._shapeToImage(
                id, e, width, height, Painter_Painter.devicePixelRatio
            );
        };
    }


    // SMIC-æ¹æ³æ©å± - start
    /**
     * @function SuperMap.LevelRenderer.Painter.prototype.updateHoverLayer
     * @description æ´æ°è®¾ç½®æ¾ç¤ºé«äº®å¾å±ã
     * @param {Array} shapes - å¾å½¢æ°ç»ã
     */
    updateHoverLayer(shapes) {
        if (!(shapes instanceof Array)) {
            return this;
        }

        //æ¸é¤é«äº®
        this.clearHover();
        this.storage.delHover();

        for (var i = 0; i < shapes.length; i++) {
            this.storage.addHover(shapes[i]);
            this._brushHover(shapes[i]);
        }
    }


    /**
     * @function SuperMap.LevelRenderer.Painter.prototype.createDom
     * @description åå»º Domã
     *
     * @param {string} id - Dom id
     * @param {string} type - Dom type
     * @param {SuperMap.LevelRenderer.Painter} painter - Painter å®ä¾ã
     * @return {Object} Dom
     */
    static createDom(id, type, painter) {
        var newDom = document.createElement(type);
        var width = painter._width;
        var height = painter._height;

        // æ²¡appendå¢ï¼è¯·åè°æè¿æ ·åï¼æ¸æ°~
        newDom.style.position = 'absolute';
        newDom.style.left = 0;
        newDom.style.top = 0;
        newDom.style.width = width + 'px';
        newDom.style.height = height + 'px';
        newDom.setAttribute('width', width * Painter_Painter.devicePixelRatio);
        newDom.setAttribute('height', height * Painter_Painter.devicePixelRatio);

        // idä¸ä½ä¸ºç´¢å¼ç¨ï¼é¿åå¯è½é æçéåï¼å®ä¹ä¸ºç§æå±æ§
        //newDom.setAttribute('data-zr-dom-id', id);
        newDom.setAttribute('id', id);
        return newDom;
    }
}

/**
 * @private
 * @class Painter.Layer
 * @classdesc ç»å¶å±ç±»ã
 * @extends SuperMap.LevelRenderer.Transformable
 */
class Painter_PaintLayer extends Transformable_Transformable {

    /**
     * @function Painter.Layer.constructor
     * @description æé å½æ°ã
     *
     * @param {string} id - idã
     * @param {SuperMap.LevelRenderer.Painter} painter - Painter å®ä¾ã
     *
     */
    constructor(id, painter) {
        super(id, painter);
        /**
         * @member {Object} Painter.Layer.prototype.dom
         * @description  domã
         */
        this.dom = null;

        /**
         * @member {Object} Painter.Layer.prototype.domBack
         * @description domBackã
         */
        this.domBack = null;

        /**
         * @member {Object} Painter.Layer.prototype.ctxBack
         * @description ctxBackã
         */
        this.ctxBack = null;

        /**
         * @member {SuperMap.LevelRenderer.Painter} Painter.Layer.prototype.painter
         * @description painterã
         */
        this.painter = painter;

        /**
         * @member {number} Painter.Layer.prototype.unusedCount
         * @description unusedCountã
         */
        this.unusedCount = 0;

        /**
         * @member {Object} Painter.Layer.prototype.config
         * @description  configã
         */
        this.config = null;

        /**
         * @member {boolean} Painter.Layer.prototype.dirty
         * @description dirtyã
         */
        this.dirty = true;

        /**
         * @member {number} Painter.Layer.prototype.elCount
         * @description elCountã
         */
        this.elCount = 0;

        // Configs
        /**
         * @member {string} Painter.Layer.prototype.clearColor
         * @description æ¯æ¬¡æ¸ç©ºç»å¸çé¢è²ãé»è®¤å¼ï¼0ï¼
         */
        this.clearColor = 0;

        /**
         * @member {boolean} Painter.Layer.prototype.motionBlur
         * @description æ¯å¦å¼å¯å¨ææ¨¡ç³ãé»è®¤å¼ï¼falseï¼
         */
        this.motionBlur = false;

        /**
         * @member {number} Painter.Layer.prototype.lastFrameAlpha
         * @description å¨å¼å¯å¨ææ¨¡ç³çæ¶åä½¿ç¨ï¼ä¸ä¸ä¸å¸§æ··åçalphaå¼ï¼å¼è¶å¤§å°¾è¿¹è¶ææ¾
         */
        this.lastFrameAlpha = 0.7;

        /**
         * @member {boolean} Painter.Layer.prototype.zoomable
         * @description å±æ¯å¦æ¯æé¼ æ å¹³ç§»æä½ãé»è®¤å¼ï¼falseï¼
         */
        this.zoomable = false;

        /**
         * @member {boolean} Painter.Layer.prototype.panable
         * @description å±æ¯å¦æ¯æé¼ æ ç¼©æ¾æä½ãé»è®¤å¼ï¼falseï¼
         */
        this.panable = false;

        /**
         * @member {number} Painter.Layer.prototype.maxZoom
         * @description maxZoomãé»è®¤å¼ï¼Infinityã
         */
        this.maxZoom = Infinity;

        /**
         * @member {number} Painter.Layer.prototype.minZoom
         * @description minZoomãé»è®¤å¼ï¼0ã
         */
        this.minZoom = 0;

        /**
         * @member {number} Painter.Layer.prototype.ctx
         * @description Canvas ä¸ä¸æã
         */
        this.ctx = null;
        this.dom = Painter_Painter.createDom(Util_Util.createUniqueID("SuperMap.Theme" + id), 'canvas', painter);
        this.dom.onselectstart = returnFalse; // é¿åé¡µé¢éä¸­çå°´å°¬
        this.dom.style['-webkit-user-select'] = 'none';
        this.dom.style['user-select'] = 'none';
        this.dom.style['-webkit-touch-callout'] = 'none';
        // Function
        // è¿åfalseçæ¹æ³ï¼ç¨äºé¿åé¡µé¢è¢«éä¸­
        function returnFalse() {
            return false;
        }
        this.CLASS_NAME = "SuperMap.LevelRenderer.Painter.Layer";
    }

    /**
     * @function Painter.Layer.prototype.destroy
     * @description éæ¯å¯¹è±¡ï¼éæ¾èµæºãè°ç¨æ­¤å½æ°åææå±æ§å°è¢«ç½®ä¸º nullã
     */
    destroy() {
        this.dom = null;
        this.domBack = null;
        this.ctxBack = null;
        this.painter = null;
        this.unusedCount = null;
        this.config = null;
        this.dirty = null;
        this.elCount = null;
        this.clearColor = null;
        this.motionBlur = null;
        this.lastFrameAlpha = null;
        this.zoomable = null;
        this.panable = null;
        this.maxZoom = null;
        this.minZoom = null;
        this.ctx = null;

        Transformable_Transformable.destroy.apply(this, arguments);
    }

    /**
     * @function Painter.Layer.prototype.initContext
     * @description åå§å Canvan 2D ä¸ä¸æã
     */
    initContext() {
        this.ctx = this.dom.getContext('2d');
        if (Painter_Painter.devicePixelRatio != 1) {
            this.ctx.scale(Painter_Painter.devicePixelRatio, Painter_Painter.devicePixelRatio);
        }
    }

    /**
     * @function Painter.Layer.prototype.createBackBuffer
     * @description  åå»ºå¤ä»½ç¼å²ã
     */
    createBackBuffer() {
        this.domBack = Painter_Painter.createDom(Util_Util.createUniqueID("SuperMap.Theme.back-" + this.id), 'canvas', this.painter);
        this.ctxBack = this.domBack.getContext('2d');

        if (Painter_Painter.devicePixelRatio != 1) {
            this.ctxBack.scale(Painter_Painter.devicePixelRatio, Painter_Painter.devicePixelRatio);
        }
    }

    /**
     * @function Painter.Layer.prototype.resize
     * @description æ¹åå¤§å°ã
     *
     * @param {number} width - å®½ã
     * @param {number} height - é«ã
     */
    resize(width, height) {
        this.dom.style.width = width + 'px';
        this.dom.style.height = height + 'px';

        this.dom.setAttribute('width', width * Painter_Painter.devicePixelRatio);
        this.dom.setAttribute('height', height * Painter_Painter.devicePixelRatio);

        if (Painter_Painter.devicePixelRatio != 1) {
            this.ctx.scale(Painter_Painter.devicePixelRatio, Painter_Painter.devicePixelRatio);
        }

        if (this.domBack) {
            this.domBack.setAttribute('width', width * Painter_Painter.devicePixelRatio);
            this.domBack.setAttribute('height', height * Painter_Painter.devicePixelRatio);

            if (Painter_Painter.devicePixelRatio != 1) {
                this.ctxBack.scale(Painter_Painter.devicePixelRatio, Painter_Painter.devicePixelRatio);
            }
        }
    }

    /**
     * @function Painter.Layer.prototype.clear
     * @description æ¸ç©ºè¯¥å±ç»å¸ã
     */
    clear() {
        var dom = this.dom;
        var ctx = this.ctx;
        var width = dom.width;
        var height = dom.height;

        var haveClearColor = this.clearColor;
        var haveMotionBLur = this.motionBlur;
        var lastFrameAlpha = this.lastFrameAlpha;

        if (haveMotionBLur) {
            if (!this.domBack) {
                this.createBackBuffer();
            }

            this.ctxBack.globalCompositeOperation = 'copy';
            this.ctxBack.drawImage(
                dom, 0, 0,
                width / Painter_Painter.devicePixelRatio,
                height / Painter_Painter.devicePixelRatio
            );
        }

        if (haveClearColor) {
            ctx.save();
            ctx.fillStyle = this.config.clearColor;
            ctx.fillRect(
                0, 0,
                width / Painter_Painter.devicePixelRatio,
                height / Painter_Painter.devicePixelRatio
            );
            ctx.restore();
        } else {
            ctx.clearRect(
                0, 0,
                width / Painter_Painter.devicePixelRatio,
                height / Painter_Painter.devicePixelRatio
            );
        }

        if (haveMotionBLur) {
            var domBack = this.domBack;
            ctx.save();
            ctx.globalAlpha = lastFrameAlpha;
            ctx.drawImage(
                domBack, 0, 0,
                width / Painter_Painter.devicePixelRatio,
                height / Painter_Painter.devicePixelRatio
            );
            ctx.restore();
        }
    }

}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/Handler.js




/**
 * @private
 * @class  SuperMap.LevelRenderer.Handler
 * @category Visualization Theme
 * @classdesc Handleræ§å¶æ¨¡åã
 * @extends {SuperMap.LevelRenderer.Eventful}
 */
class Handler_Handler extends Eventful {

    /**
     * @function SuperMap.LevelRenderer.Handler.constructor
     * @description æé å½æ°ã
     * @param {HTMLElement} root - ç»å¾åºåã
     * @param {SuperMap.LevelRenderer.Storage} storage - Storage å®ä¾ã
     * @param {SuperMap.LevelRenderer.Painter} painter - Painter å®ä¾ã
     */
    constructor(root, storage, painter) {
        super(root, storage, painter);
        /**
         * @member {HTMLElement} SuperMap.LevelRenderer.Handler.prototype.root
         * @description ç»å¾åºå
         */
        this.root = root;
        /**
         * @member {SuperMap.LevelRenderer.Storage} SuperMap.LevelRenderer.Handler.prototype.storage
         * @description Storage å®ä¾
         */
        this.storage = storage;
        /**
         * @member {SuperMap.LevelRenderer.Painter} SuperMap.LevelRenderer.Handler.prototype.Painter
         * @description Painter å®ä¾
         */
        this.painter = painter;
        /**
         * @member {number} [SuperMap.LevelRenderer.Handler.prototype._lastX=0]
         * @description ä¸ä¸æ¬¡é¼ æ ä½ç½®xåæ å¼
         */
        this._lastX = 0;
        /**
         * @member {number} [SuperMap.LevelRenderer.Handler.prototype._lastY=0]
         * @description ä¸ä¸æ¬¡é¼ æ ä½ç½®yåæ å¼
         */
        this._lastY = 0;
        /**
         * @member {number} [SuperMap.LevelRenderer.Handler.prototype._mouseX=0]
         * @description å½åé¼ æ ä½ç½®xåæ å¼
         */
        this._mouseX = 0;
        /**
         * @member {number} [SuperMap.LevelRenderer.Handler.prototype._mouseY=0]
         * @description å½åé¼ æ ä½ç½®yåæ å¼
         */
        this._mouseY = 0;
        /**
         * @member {Function} SuperMap.LevelRenderer.Handler.prototype._findHover
         * @description æ¥æ¾ Hover å¾å½¢
         */
        this._findHover = null;
        /**
         * @member {Object} SuperMap.LevelRenderer.Handler.prototype._domHover
         * @description é«äº® DOM
         */
        this._domHover = null;

        // åç§äºä»¶æ è¯çç§æåé
        // this._hasfound = false;              // æ¯å¦æ¾å° hover å¾å½¢åç´ 
        // this._lastHover = null;              // æåä¸ä¸ª hover å¾å½¢åç´ 
        // this._mouseDownTarget = null;
        // this._draggingTarget = null;         // å½åè¢«ææ½çå¾å½¢åç´ 
        // this._isMouseDown = false;
        // this._isDragging = false;
        // this._lastMouseDownMoment;
        // this._lastTouchMoment;
        // this._lastDownButton;

        this._findHover = bind3Arg(findHover, this);
        this._domHover = painter.getDomHover();

        this.CLASS_NAME = "SuperMap.LevelRenderer.Handler";
        var domHandlers = {
            /**
             * Method: resize
             * çªå£å¤§å°æ¹åååºå½æ°ã
             *
             * Parameters:
             * event - {Event} eventã
             *
             */
            resize: function (event) {
                event = event || window.event;
                this._lastHover = null;
                this._isMouseDown = 0;

                // ååSuperMap.LevelRenderer.Config.EVENT.RESIZEäºä»¶ï¼global
                this.dispatch(Config.EVENT.RESIZE, event);
            },

            /**
             * Method: click
             * ç¹å»ååºå½æ°ã
             *
             * Parameters:
             * event - {Event} eventã
             *
             */
            click: function (event) {
                event = this._zrenderEventFixed(event);

                // ååSuperMap.LevelRenderer.Config.EVENT.CLICKäºä»¶
                var _lastHover = this._lastHover;
                if ((_lastHover && _lastHover.clickable)
                    || !_lastHover
                ) {

                    // å¤æ­æ²¡æåçææ½æè§¦åclickäºä»¶
                    if (this._clickThreshold < 10) {
                        this._dispatchAgency(_lastHover, Config.EVENT.CLICK, event);
                    }
                }

                this._mousemoveHandler(event);
            },

            /**
             * Method: dblclick
             * åå»ååºå½æ°ã
             *
             * Parameters:
             * event - {Event} eventã
             *
             */
            dblclick: function (event) {
                event = event || window.event;
                event = this._zrenderEventFixed(event);

                // ååSuperMap.LevelRenderer.Config.EVENT.DBLCLICKäºä»¶
                var _lastHover = this._lastHover;
                if ((_lastHover && _lastHover.clickable)
                    || !_lastHover
                ) {

                    // å¤æ­æ²¡æåçææ½æè§¦ådblclickäºä»¶
                    if (this._clickThreshold < 5) {
                        this._dispatchAgency(_lastHover, Config.EVENT.DBLCLICK, event);
                    }
                }

                this._mousemoveHandler(event);
            },

            /**
             * Method: mousewheel
             * é¼ æ æ»è½®ååºå½æ°ã
             *
             * Parameters:
             * event - {Event} eventã
             *
             */
            mousewheel: function (event) {
                event = this._zrenderEventFixed(event);

                // http://www.sitepoint.com/html5-javascript-mouse-wheel/
                // https://developer.mozilla.org/en-US/docs/DOM/DOM_event_reference/mousewheel
                var delta = event.wheelDelta // Webkit
                    || -event.detail; // Firefox
                var scale = delta > 0 ? 1.1 : 1 / 1.1;

                var layers = this.painter.getLayers();

                var needsRefresh = false;
                for (var z in layers) {
                    if (z !== 'hover') {
                        var layer = layers[z];
                        var pos = layer.position;
                        if (layer.zoomable) {
                            layer.__zoom = layer.__zoom || 1;
                            var newZoom = layer.__zoom;
                            newZoom *= scale;
                            newZoom = Math.max(
                                Math.min(layer.maxZoom, newZoom),
                                layer.minZoom
                            );
                            scale = newZoom / layer.__zoom;
                            layer.__zoom = newZoom;
                            // Keep the mouse center when scaling
                            pos[0] -= (this._mouseX - pos[0]) * (scale - 1);
                            pos[1] -= (this._mouseY - pos[1]) * (scale - 1);
                            layer.scale[0] *= scale;
                            layer.scale[1] *= scale;
                            layer.dirty = true;
                            needsRefresh = true;
                        }
                    }
                }
                if (needsRefresh) {
                    this.painter.refresh();
                }

                // ååSuperMap.LevelRenderer.Config.EVENT.MOUSEWHEELäºä»¶
                this._dispatchAgency(this._lastHover, Config.EVENT.MOUSEWHEEL, event);
                this._mousemoveHandler(event);
            },

            /**
             * Method: mousemove
             * é¼ æ ï¼ææï¼ç§»å¨ååºå½æ°ã
             *
             * Parameters:
             * event - {Event} eventã
             *
             */
            mousemove: function (event) {
                // ææ½ä¸è§¦åclickäºä»¶
                this._clickThreshold++;

                event = this._zrenderEventFixed(event);
                this._lastX = this._mouseX;
                this._lastY = this._mouseY;
                this._mouseX = SUtil.Util_event.getX(event);
                this._mouseY = SUtil.Util_event.getY(event);
                var dx = this._mouseX - this._lastX;
                var dy = this._mouseY - this._lastY;

                // å¯è½åºç°SuperMap.LevelRenderer.Config.EVENT.DRAGSTARTäºä»¶
                // é¿åææç¹å»è¯¯è®¤ä¸ºææ½
                // if (this._mouseX - this._lastX > 1 || this._mouseY - this._lastY > 1) {
                this._processDragStart(event);
                // }
                this._hasfound = 0;
                this._event = event;

                this._iterateAndFindHover();

                // æ¾å°çå¨è¿­ä»£å½æ°éåäºå¤çï¼æ²¡æ¾å°å¾å¨è¿­ä»£å®åå¤ç
                if (!this._hasfound) {
                    // è¿æ»¤é¦æ¬¡ææ½äº§ççmouseoutådragLeave
                    if (!this._draggingTarget
                        || (this._lastHover && this._lastHover != this._draggingTarget)
                    ) {
                        // å¯è½åºç°SuperMap.LevelRenderer.Config.EVENT.MOUSEOUTäºä»¶
                        this._processOutShape(event);

                        // å¯è½åºç°SuperMap.LevelRenderer.Config.EVENT.DRAGLEAVEäºä»¶
                        this._processDragLeave(event);
                    }

                    this._lastHover = null;
                    this.storage.delHover();
                    this.painter.clearHover();
                }

                // set cursor for root element
                var cursor = '';

                // å¦æå­å¨ææ½ä¸­åç´ ï¼è¢«ææ½çå¾å½¢åç´ æåaddHover
                if (this._draggingTarget) {
                    this.storage.drift(this._draggingTarget.id, dx, dy);
                    this._draggingTarget.modSelf();
                    this.storage.addHover(this._draggingTarget);
                } else if (this._isMouseDown) {
                    // Layer dragging
                    var layers = this.painter.getLayers();

                    var needsRefresh = false;
                    for (var z in layers) {
                        if (z !== 'hover') {
                            var layer = layers[z];
                            if (layer.panable) {
                                // PENDING
                                cursor = 'move';
                                // Keep the mouse center when scaling
                                layer.position[0] += dx;
                                layer.position[1] += dy;
                                needsRefresh = true;
                                layer.dirty = true;
                            }
                        }
                    }
                    if (needsRefresh) {
                        this.painter.refresh();
                    }
                }

                if (this._draggingTarget || (this._hasfound && this._lastHover.draggable)) {
                    cursor = 'move';
                } else if (this._hasfound && this._lastHover.clickable) {
                    cursor = 'pointer';
                }
                this.root.style.cursor = cursor;

                // ååSuperMap.LevelRenderer.Config.EVENT.MOUSEMOVEäºä»¶
                this._dispatchAgency(this._lastHover, Config.EVENT.MOUSEMOVE, event);

                if (this._draggingTarget || this._hasfound || this.storage.hasHoverShape()) {
                    this.painter.refreshHover();
                }
            },

            /**
             * Method: mouseout
             * é¼ æ ï¼ææï¼ç¦»å¼ååºå½æ°ã
             *
             * Parameters:
             * event - {Event} eventã
             *
             */
            mouseout: function (event) {
                event = this._zrenderEventFixed(event);

                var element = event.toElement || event.relatedTarget;
                if (element != this.root) {
                    while (element && element.nodeType != 9) {
                        // å¿½ç¥åå«å¨rootä¸­çdomå¼èµ·çmouseOut
                        if (element == this.root) {
                            this._mousemoveHandler(event);
                            return;
                        }

                        element = element.parentNode;
                    }
                }

                event.zrenderX = this._lastX;
                event.zrenderY = this._lastY;
                this.root.style.cursor = '';
                this._isMouseDown = 0;

                this._processOutShape(event);
                this._processDrop(event);
                this._processDragEnd(event);

                this.painter.refreshHover();

                this.dispatch(Config.EVENT.GLOBALOUT, event);
            },

            /**
             * Method: mousedown
             * é¼ æ ï¼ææï¼æä¸ååºå½æ°ã
             *
             * Parameters:
             * event - {Event} eventã
             *
             */
            mousedown: function (event) {
                // éç½® clickThreshold
                this._clickThreshold = 0;

                if (this._lastDownButton == 2) {
                    this._lastDownButton = event.button;
                    this._mouseDownTarget = null;
                    // ä»ä½ä¸ºå³é­å³é®èåä½¿ç¨
                    return;
                }

                this._lastMouseDownMoment = new Date();
                event = this._zrenderEventFixed(event);
                this._isMouseDown = 1;

                // ååSuperMap.LevelRenderer.Config.EVENT.MOUSEDOWNäºä»¶
                this._mouseDownTarget = this._lastHover;
                this._dispatchAgency(this._lastHover, Config.EVENT.MOUSEDOWN, event);
                this._lastDownButton = event.button;
            },

            /**
             * Method: mouseup
             * é¼ æ ï¼ææï¼æ¬èµ·ååºå½æ°ã
             *
             * Parameters:
             * event - {Event} eventã
             *
             */
            mouseup: function (event) {
                event = this._zrenderEventFixed(event);
                this.root.style.cursor = '';
                this._isMouseDown = 0;
                this._mouseDownTarget = null;

                // ååSuperMap.LevelRenderer.Config.EVENT.MOUSEUPäºä»¶
                this._dispatchAgency(this._lastHover, Config.EVENT.MOUSEUP, event);
                this._processDrop(event);
                this._processDragEnd(event);
            },

            /**
             * Method: touchstart
             * Touch å¼å§ååºå½æ°ã
             *
             * Parameters:
             * event - {Event} eventã
             *
             */
            touchstart: function (event) {
                // SUtil.Util_event.stop(event);// é»æ­¢æµè§å¨é»è®¤äºä»¶ï¼éè¦
                event = this._zrenderEventFixed(event, true);
                this._lastTouchMoment = new Date();

                // å¹³æ¿è¡¥åä¸æ¬¡findHover
                this._mobildFindFixed(event);
                this._mousedownHandler(event);
            },

            /**
             * Method: touchmove
             * Touch ç§»å¨ååºå½æ°ã
             *
             * Parameters:
             * event - {Event} eventã
             *
             */
            touchmove: function (event) {
                event = this._zrenderEventFixed(event, true);
                this._mousemoveHandler(event);
                if (this._isDragging) {
                    SUtil.Util_event.stop(event);// é»æ­¢æµè§å¨é»è®¤äºä»¶ï¼éè¦
                }
            },

            /**
             * Method: touchend
             * Touch ç»æååºå½æ°ã
             *
             * Parameters:
             * event - {Event} eventã
             *
             */
            touchend: function (event) {
                // SUtil.Util_event.stop(event);// é»æ­¢æµè§å¨é»è®¤äºä»¶ï¼éè¦
                event = this._zrenderEventFixed(event, true);
                this._mouseupHandler(event);

                var now = new Date();
                if (now - this._lastTouchMoment < Config.EVENT.touchClickDelay) {
                    this._mobildFindFixed(event);
                    this._clickHandler(event);
                    if (now - this._lastClickMoment < Config.EVENT.touchClickDelay / 2) {
                        this._dblclickHandler(event);
                        if (this._lastHover && this._lastHover.clickable) {
                            SUtil.Util_event.stop(event);// é»æ­¢æµè§å¨é»è®¤äºä»¶ï¼éè¦
                        }
                    }
                    this._lastClickMoment = now;
                }
                this.painter.clearHover();
            }
        };

        initDomHandler(this);

        // åå§åï¼äºä»¶ç»å®ï¼æ¯æçææäºä»¶é½ç±å¦ä¸åçäºä»¶è®¡ç®å¾æ¥
        if (window.addEventListener) {
            window.addEventListener('resize', this._resizeHandler);

            if (SUtil.Util_env.os.tablet || SUtil.Util_env.os.phone) {
                // mobileæ¯æ
                root.addEventListener('touchstart', this._touchstartHandler);
                root.addEventListener('touchmove', this._touchmoveHandler);
                root.addEventListener('touchend', this._touchendHandler);
            } else {
                // mobileçclick/move/up/downèªå·±æ¨¡æ
                root.addEventListener('click', this._clickHandler);
                root.addEventListener('dblclick', this._dblclickHandler);
                root.addEventListener('mousewheel', this._mousewheelHandler);
                root.addEventListener('mousemove', this._mousemoveHandler);
                root.addEventListener('mousedown', this._mousedownHandler);
                root.addEventListener('mouseup', this._mouseupHandler);
            }
            root.addEventListener('DOMMouseScroll', this._mousewheelHandler);
            root.addEventListener('mouseout', this._mouseoutHandler);
        } else {
            window.attachEvent('onresize', this._resizeHandler);

            root.attachEvent('onclick', this._clickHandler);
            //root.attachEvent('ondblclick ', this._dblclickHandler);
            root.ondblclick = this._dblclickHandler;
            root.attachEvent('onmousewheel', this._mousewheelHandler);
            root.attachEvent('onmousemove', this._mousemoveHandler);
            root.attachEvent('onmouseout', this._mouseoutHandler);
            root.attachEvent('onmousedown', this._mousedownHandler);
            root.attachEvent('onmouseup', this._mouseupHandler);
        }

        // è¾å©å½æ° start
        /**
         * Method: bind1Arg
         * bind ä¸ä¸ªåæ°ç functionã
         *
         * Parameters:
         * handler - {Function} è¦ bind ç functionã
         * context - {Object} è¿è¡æ¶ this ç¯å¢ã
         *
         * Returns:
         * {Function}
         */
        function bind1Arg(handler, context) {
            return function (e) {
                return handler.call(context, e);
            };
        }

        /*
         // bind ä¸¤ä¸ªåæ°ç function
         function bind2Arg(handler, context) {
         return function (arg1, arg2) {
         return handler.call(context, arg1, arg2);
         };
         }
         */

        // bind ä¸ä¸ªåæ°ç function
        function bind3Arg(handler, context) {
            return function (arg1, arg2, arg3) {
                return handler.call(context, arg1, arg2, arg3);
            };
        }

        /**
         * Method: initDomHandler
         * ä¸ºæ§å¶ç±»å®ä¾åå§å dom äºä»¶å¤çå½æ°ã
         *
         * Parameters:
         * instance - {<SuperMap.LevelRenderer.Handler>} æ§å¶ç±»å®ä¾ ã
         *
         * Returns:
         * {Function}
         */
        function initDomHandler(instance) {
            var domHandlerNames = [
                'resize', 'click', 'dblclick',
                'mousewheel', 'mousemove', 'mouseout', 'mouseup', 'mousedown',
                'touchstart', 'touchend', 'touchmove'
            ];

            var len = domHandlerNames.length;
            while (len--) {
                var name = domHandlerNames[len];
                instance['_' + name + 'Handler'] = bind1Arg(domHandlers[name], instance);
            }
        }

        /**
         * Method: findHover
         * è¿­ä»£å½æ°ï¼æ¥æ¾ hover å°çå¾å½¢åç´ å¹¶å³æ¶åäºäºä»¶ååã
         *
         * Parameters:
         * shape - {Object} å¾å½¢ã
         * x - {number} é¼ æ  xã
         * y - {number} é¼ æ  yã
         *
         * Returns:
         * {Boolean} æ¯å¦æ¾å°å¾å½¢ã
         *
         */
        function findHover(shape, x, y) {
            var me = this;
            if (
                (me._draggingTarget && me._draggingTarget.id == shape.id) // è¿­ä»£å°å½åææ½çå¾å½¢ä¸
                || shape.isSilent() // æé±æ²¹çè·¯è¿ï¼å¥é½ä¸ååºçshape~
            ) {
                return false;
            }

            var event = me._event;
            if (shape.isCover(x, y)) {
                if (shape.hoverable) {
                    // SMIC-ä¿®æ¹ - start
                    if (shape.isHoverByRefDataID && shape.isHoverByRefDataID === true) {
                        if (shape.refDataID) {
                            var fid = shape.refDataID;
                            //me.painter.clearHover();
                            //me.storage.delHover();

                            var hoverGroup = null;
                            if (shape.refDataHoverGroup) {
                                hoverGroup = shape.refDataHoverGroup;
                            }

                            //æ¥æ¾åä¸ä¸ªç¨æ·æ°æ® feature çææå¾å½¢
                            var shapeList = me.storage._shapeList;
                            for (var i = 0, len = shapeList.length; i < len; i++) {
                                var si = shapeList[i];
                                if (si.refDataID && fid === si.refDataID) {
                                    if (hoverGroup) {
                                        if (si.refDataHoverGroup && hoverGroup === si.refDataHoverGroup) {
                                            me.storage.addHover(si);
                                        }
                                    } else {
                                        me.storage.addHover(si);
                                    }
                                }
                            }
                        }
                    } else {
                        me.storage.addHover(shape);
                    }
                    //åå§ä»£ç ï¼
                    //  me.storage.addHover(shape);
                    // SMIC-ä¿®æ¹ - end
                }
                // æ¥æ¾æ¯å¦å¨ clipShape ä¸­
                var p = shape.parent;
                while (p) {
                    if (p.clipShape && !p.clipShape.isCover(me._mouseX, me._mouseY)) {
                        // å·²ç»è¢«ç¥å clip æäº
                        return false;
                    }
                    p = p.parent;
                }

                if (me._lastHover != shape) {
                    me._processOutShape(event);

                    // å¯è½åºç°SuperMap.LevelRenderer.Config.EVENT.DRAGLEAVEäºä»¶
                    me._processDragLeave(event);

                    me._lastHover = shape;

                    // å¯è½åºç°SuperMap.LevelRenderer.Config.EVENT.DRAGENTERäºä»¶
                    me._processDragEnter(event);
                }

                me._processOverShape(event);

                // å¯è½åºç°SuperMap.LevelRenderer.Config.EVENT.DRAGOVER
                me._processDragOver(event);

                me._hasfound = 1;

                return true;    // æ¾å°åä¸­æ­è¿­ä»£æ¥æ¾
            }

            return false;
        }

        // è¾å©å½æ° end
    }

    /**
     * @function SuperMap.LevelRenderer.Handler.prototype.destroy
     * @description éæ¯å¯¹è±¡ï¼éæ¾èµæºãè°ç¨æ­¤å½æ°åææå±æ§å°è¢«ç½®ä¸ºnullã
     */
    destroy() {
        this.dispose();
        this._lastX = null;
        this._lastY = null;
        this._mouseX = null;
        this._mouseY = null;
        this._findHover = null;

        Eventful.prototype.destroy.apply(this, arguments);
    }


    /**
     * @function SuperMap.LevelRenderer.Handler.prototype.on
     * @description èªå®ä¹äºä»¶ç»å®ã
     * @param {string} eventName - äºä»¶åç§°ï¼resizeãhoverãdragç­ã
     * @param {function} handler - ååºå½æ°ã
     * @returns {SuperMap.LevelRenderer.Handler} thisã
     */
    on(eventName, handler) {
        this.bind(eventName, handler);
        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Handler.prototype.un
     * @description èªå®ä¹äºä»¶è§£é¤ç»å®ã
     * @param {string} eventName - äºä»¶åç§°ï¼resizeãhoverãdragç­ã
     * @param {function} handler - ååºå½æ°ã
     * @returns {SuperMap.LevelRenderer.Handler} thisã
     */
    un(eventName, handler) {
        this.unbind(eventName, handler);
        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Handler.prototype.trigger
     * @description äºä»¶è§¦åã
     * @param {string} eventName - äºä»¶åç§°ï¼resizeãhoverãdragç­ã
     * @param {event} eventArgs - domäºä»¶å¯¹è±¡ã
     */
    trigger(eventName, eventArgs) {
        var EVENT = Config.EVENT;
        switch (eventName) {
            case EVENT.RESIZE:
            case EVENT.CLICK:
            case EVENT.DBLCLICK:
            case EVENT.MOUSEWHEEL:
            case EVENT.MOUSEMOVE:
            case EVENT.MOUSEDOWN:
            case EVENT.MOUSEUP:
            case EVENT.MOUSEOUT:
                this['_' + eventName + 'Handler'](eventArgs);
                break;
        }
    }

    /**
     * @function SuperMap.LevelRenderer.Handler.prototype.dispose
     * @description éæ¾ï¼è§£ç»ææäºä»¶ã
     */
    dispose() {
        var root = this.root;

        if (window.removeEventListener) {
            window.removeEventListener('resize', this._resizeHandler);

            if (SUtil.Util_env.os.tablet || SUtil.Util_env.os.phone) {
                // mobileæ¯æ
                root.removeEventListener('touchstart', this._touchstartHandler);
                root.removeEventListener('touchmove', this._touchmoveHandler);
                root.removeEventListener('touchend', this._touchendHandler);
            } else {
                // mobileçclickèªå·±æ¨¡æ
                root.removeEventListener('click', this._clickHandler);
                root.removeEventListener('dblclick', this._dblclickHandler);
                root.removeEventListener('mousewheel', this._mousewheelHandler);
                root.removeEventListener('mousemove', this._mousemoveHandler);
                root.removeEventListener('mousedown', this._mousedownHandler);
                root.removeEventListener('mouseup', this._mouseupHandler);
            }
            root.removeEventListener('DOMMouseScroll', this._mousewheelHandler);
            root.removeEventListener('mouseout', this._mouseoutHandler);
        } else {
            window.detachEvent('onresize', this._resizeHandler);

            root.detachEvent('onclick', this._clickHandler);
            root.detachEvent('dblclick', this._dblclickHandler);
            root.detachEvent('onmousewheel', this._mousewheelHandler);
            root.detachEvent('onmousemove', this._mousemoveHandler);
            root.detachEvent('onmouseout', this._mouseoutHandler);
            root.detachEvent('onmousedown', this._mousedownHandler);
            root.detachEvent('onmouseup', this._mouseupHandler);
        }

        this.root = null;
        this._domHover = null;
        this.storage = null;
        this.painter = null;

        this.un();
    }


    /**
     * Method: _processDragStart
     * ææ½å¼å§ã
     *
     * Parameters:
     * event - {Object} äºä»¶å¯¹è±¡ã
     *
     */
    _processDragStart(event) {
        var _lastHover = this._lastHover;

        if (this._isMouseDown
            && _lastHover
            && _lastHover.draggable
            && !this._draggingTarget
            && this._mouseDownTarget == _lastHover
        ) {
            // ææ½ç¹å»çææ¶é¿éé¨ï¼æäºåºæ¯éè¦éä½ææ½ææåº¦
            if (_lastHover.dragEnableTime &&
                new Date() - this._lastMouseDownMoment < _lastHover.dragEnableTime
            ) {
                return;
            }

            var _draggingTarget = _lastHover;
            this._draggingTarget = _draggingTarget;
            this._isDragging = 1;

            _draggingTarget.invisible = true;
            this.storage.mod(_draggingTarget.id);

            // åå Config.EVENT.DRAGSTARTäºä»¶
            this._dispatchAgency(
                _draggingTarget,
                Config.EVENT.DRAGSTART,
                event
            );
            this.painter.refresh();
        }
    }


    /**
     * Method: _processDragEnter
     * ææ½è¿å¥ç®æ åç´ ã
     *
     * Parameters:
     * event - {Object} äºä»¶å¯¹è±¡ã
     *
     */
    _processDragEnter(event) {
        if (this._draggingTarget) {
            // ååSuperMap.LevelRenderer.Config.EVENT.DRAGENTERäºä»¶
            this._dispatchAgency(
                this._lastHover,
                Config.EVENT.DRAGENTER,
                event,
                this._draggingTarget
            );
        }
    }


    /**
     * Method: _processDragOver
     * ææ½å¨ç®æ åç´ ä¸ç§»å¨ã
     *
     * Parameters:
     * event - {Object} äºä»¶å¯¹è±¡ã
     *
     */
    _processDragOver(event) {
        if (this._draggingTarget) {
            // ååSuperMap.LevelRenderer.Config.EVENT.DRAGOVERäºä»¶
            this._dispatchAgency(
                this._lastHover,
                Config.EVENT.DRAGOVER,
                event,
                this._draggingTarget
            );
        }
    }


    /**
     * Method: _processDragLeave
     * ææ½ç¦»å¼ç®æ åç´ ã
     *
     * Parameters:
     * event - {Object} äºä»¶å¯¹è±¡ã
     *
     */
    _processDragLeave(event) {
        if (this._draggingTarget) {
            // ååSuperMap.LevelRenderer.Config.EVENT.DRAGLEAVEäºä»¶
            this._dispatchAgency(
                this._lastHover,
                Config.EVENT.DRAGLEAVE,
                event,
                this._draggingTarget
            );
        }
    }


    /**
     * Method: _processDrop
     * ææ½å¨ç®æ åç´ ä¸å®æã
     *
     * Parameters:
     * event - {Object} äºä»¶å¯¹è±¡ã
     *
     */
    _processDrop(event) {
        if (this._draggingTarget) {
            this._draggingTarget.invisible = false;
            this.storage.mod(this._draggingTarget.id);
            this.painter.refresh();

            // ååSuperMap.LevelRenderer.Config.EVENT.DROPäºä»¶
            this._dispatchAgency(
                this._lastHover,
                Config.EVENT.DROP,
                event,
                this._draggingTarget
            );
        }
    }


    /**
     * Method: _processDragEnd
     * ææ½ç»æã
     *
     * Parameters:
     * event - {Object} äºä»¶å¯¹è±¡ã
     *
     */
    _processDragEnd(event) {
        if (this._draggingTarget) {
            // ååSuperMap.LevelRenderer.Config.EVENT.DRAGENDäºä»¶
            this._dispatchAgency(
                this._draggingTarget,
                Config.EVENT.DRAGEND,
                event
            );

            this._lastHover = null;
        }

        this._isDragging = 0;
        this._draggingTarget = null;
    }


    /**
     * Method: _processOverShape
     * é¼ æ å¨æä¸ªå¾å½¢åç´ ä¸ç§»å¨ã
     *
     * Parameters:
     * event - {Object} äºä»¶å¯¹è±¡ã
     *
     */
    _processOverShape(event) {
        // ååSuperMap.LevelRenderer.Config.EVENT.MOUSEOVERäºä»¶
        this._dispatchAgency(this._lastHover, Config.EVENT.MOUSEOVER, event);
    }


    /**
     * Method: _processOutShape
     * é¼ æ ç¦»å¼æä¸ªå¾å½¢åç´ ã
     *
     * Parameters:
     * event - {Object} äºä»¶å¯¹è±¡ã
     *
     */
    _processOutShape(event) {
        // ååSuperMap.LevelRenderer.Config.EVENT.MOUSEOUTäºä»¶
        this._dispatchAgency(this._lastHover, Config.EVENT.MOUSEOUT, event);
    }


    /**
     * Method: _dispatchAgency
     * é¼ æ ç¦»å¼æä¸ªå¾å½¢åç´ ã
     *
     * Parameters:
     * targetShape - {Object} ç®æ å¾å½¢åç´ ã
     * eventName - {Object} äºä»¶åç§°ã
     * event - {Object} äºä»¶å¯¹è±¡ã
     * draggedShape - {Object} ææ½äºä»¶ç¹æï¼å½åè¢«ææ½å¾å½¢åç´ ã
     *
     */
    _dispatchAgency(targetShape, eventName, event, draggedShape) {
        var eventHandler = 'on' + eventName;
        var eventPacket = {
            type: eventName,
            event: event,
            target: targetShape,
            cancelBubble: false
        };

        var el = targetShape;

        if (draggedShape) {
            eventPacket.dragged = draggedShape;
        }

        while (el) {
            el[eventHandler]
            && (eventPacket.cancelBubble = el[eventHandler](eventPacket));
            el.dispatch(eventName, eventPacket);

            el = el.parent;

            if (eventPacket.cancelBubble) {
                break;
            }
        }

        if (targetShape) {
            // åæ³¡å°é¡¶çº§ zrender å¯¹è±¡
            if (!eventPacket.cancelBubble) {
                this.dispatch(eventName, eventPacket);
            }
        } else if (!draggedShape) {
            // æ hoverç®æ ï¼æ ææ½å¯¹è±¡ï¼åçäºä»¶åå
            this.dispatch(eventName, {
                type: eventName,
                event: event
            });
        }
    }


    /**
     * Method: _iterateAndFindHover
     * è¿­ä»£å¯»æ¾ hover shapeã
     *
     */
    _iterateAndFindHover() {
        var invTransform = SUtil.Util_matrix.create();

        var list = this.storage.getShapeList();
        var currentZLevel;
        var currentLayer;
        var tmp = [0, 0];
        for (var i = list.length - 1; i >= 0; i--) {
            var shape = list[i];

            if (currentZLevel !== shape.zlevel) {
                currentLayer = this.painter.getLayer(shape.zlevel, currentLayer);
                tmp[0] = this._mouseX;
                tmp[1] = this._mouseY;

                if (currentLayer.needTransform) {
                    SUtil.Util_matrix.invert(invTransform, currentLayer.transform);
                    SUtil.Util_vector.applyTransform(tmp, tmp, invTransform);
                }
            }

            if (this._findHover(shape, tmp[0], tmp[1])) {
                break;
            }
        }
    }


    /**
     * Method: _mobildFindFixed
     * touch ææå°éè§ï¼ååå°è¯ï¼è®©touchä¸çç¹å»æ´å¥½è§¦åäºä»¶ã
     *
     * Parameters:
     * event - {Object} äºä»¶å¯¹è±¡ã
     *
     */
    _mobildFindFixed(event) {
        // touchæå°éè§çå°è¯åç§»ééç½®
        var MOBILE_TOUCH_OFFSETS = [
            {x: 10},
            {x: -20},
            {x: 10, y: 10},
            {y: -20}
        ];

        this._lastHover = null;
        this._mouseX = event.zrenderX;
        this._mouseY = event.zrenderY;

        this._event = event;

        this._iterateAndFindHover();

        for (var i = 0; !this._lastHover && i < MOBILE_TOUCH_OFFSETS.length; i++) {
            var offset = MOBILE_TOUCH_OFFSETS[i];
            offset.x && (this._mouseX += offset.x);
            offset.y && (this._mouseX += offset.y);

            this._iterateAndFindHover();
        }

        if (this._lastHover) {
            event.zrenderX = this._mouseX;
            event.zrenderY = this._mouseY;
        }
    }


    /**
     * Method: _zrenderEventFixed
     * å¦æå­å¨ç¬¬ä¸æ¹åµå¥çä¸äºdomè§¦åçäºä»¶ï¼ætouchäºä»¶ï¼éè¦è½¬æ¢ä¸ä¸äºä»¶åæ  ã
     *
     * Parameters:
     * event - {Object} äºä»¶ã
     * isTouch - {Boolean} æ¯å¦è§¦æ¸ã
     *
     */
    _zrenderEventFixed(event, isTouch) {
        if (event.zrenderFixed) {
            return event;
        }

        if (!isTouch) {
            event = event || window.event;
            // è¿å¥å¯¹è±¡ä¼å~
            var target = event.toElement
                || event.relatedTarget
                || event.srcElement
                || event.target;

            if (target && target != this._domHover) {
                event.zrenderX = (typeof event.offsetX != 'undefined'
                    ? event.offsetX
                    : event.layerX)
                    + target.offsetLeft;
                event.zrenderY = (typeof event.offsetY != 'undefined'
                    ? event.offsetY
                    : event.layerY)
                    + target.offsetTop;
            }
        } else {
            var touch = event.type != 'touchend'
                ? event.targetTouches[0]
                : event.changedTouches[0];
            if (touch) {
                var rBounding = this.root.getBoundingClientRect();
                // touchäºä»¶åæ æ¯å¨å±ç~
                event.zrenderX = touch.clientX - rBounding.left;
                event.zrenderY = touch.clientY - rBounding.top;
            }
        }

        event.zrenderFixed = 1;
        return event;
    }


    // SMIC-æ¹æ³æ©å± - start
  
    /**
     * @function SuperMap.LevelRenderer.Handler.prototype.getLastHoverOne
     * @description è·ååä¸ªé«äº®å¾å½¢
     */
    getLastHoverOne() {
        if (this._lastHover) {
            return this._lastHover;
        }
        return null;
    }

    // SMIC-æ¹æ³æ©å± - end

}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/Easing.js
/**
 * @class  SuperMap.LevelRenderer.Animation.easing
 * @category Visualization Theme
 * @classdesc ç¼å¨
 * @private 
 */
// ç¼å¨ä»£ç æ¥èª https://github.com/sole/tween.js/blob/master/src/Tween.js
// http://sole.github.io/tween.js/examples/03_graphs.html
class Easing {

    /**
     * @function SuperMap.LevelRenderer.Animation.easing.constructor
     * @description æé å½æ°ã
     */
    constructor() {
        this.CLASS_NAME = "SuperMap.LevelRenderer.Animation.easing";
    }


    /**
     * @function SuperMap.LevelRenderer.Animation.easing.destroy
     * @description éæ¯å¯¹è±¡ï¼éæ¾èµæºãè°ç¨æ­¤å½æ°åææå±æ§å°è¢«ç½®ä¸º nullã
     */
    destroy() {

    }


    /**
     * @function SuperMap.LevelRenderer.Animation.easing.Linear
     * @description çº¿æ§ç¼å¨
     * @param {number} k - åæ°
     * @return {number} è¾å¥å¼
     */
    Linear(k) {
        return k;
    }


    /**
     * @function SuperMap.LevelRenderer.Animation.easing.QuadraticIn
     * @description äºæ¬¡æ¹çç¼å¨ï¼t^2ï¼
     * @param {number} k - åæ°
     * @return {number} äºæ¬¡æ¹çç¼å¨çå¼
     */
    QuadraticIn(k) {
        return k * k;
    }

    /**
     * @function SuperMap.LevelRenderer.Animation.easing.QuadraticOut
     * @description è¿åæäºæ¬¡æ¹ç¼å¨éåºçå¼
     * @param {number} k - åæ°
     * @return {number} æäºæ¬¡æ¹ç¼å¨éåºçå¼
     */
    QuadraticOut(k) {
        return k * (2 - k);
    }

    /**
     * @function SuperMap.LevelRenderer.Animation.easing.QuadraticInOut
     * @description è¿åæäºæ¬¡æ¹ç¼å¨è¿å¥åéåºçå¼
     * @param {number} k - åæ°
     * @return {number} æäºæ¬¡æ¹ç¼å¨è¿å¥åéåºçå¼
     */
    QuadraticInOut(k) {
        if ((k *= 2) < 1) {
            return 0.5 * k * k;
        }
        return -0.5 * (--k * (k - 2) - 1);
    }


    /**
     * @function SuperMap.LevelRenderer.Animation.easing.CubicIn
     * @description ä¸æ¬¡æ¹çç¼å¨ï¼t^3ï¼
     * @param {number} k - åæ°
     * @return {number} æä¸æ¬¡æ¹ç¼å¨çå¼
     */
    CubicIn(k) {
        return k * k * k;
    }

    /**
     * @function SuperMap.LevelRenderer.Animation.easing.CubicOut
     * @description è¿åæä¸æ¬¡æ¹ç¼å¨éåºçå¼
     * @param {number} k - åæ°
     * @return {number} æä¸æ¬¡æ¹ç¼å¨éåºçå¼
     */
    CubicOut(k) {
        return --k * k * k + 1;
    }

    /**
     * @function SuperMap.LevelRenderer.Animation.easing.CubicInOut
     * @description è¿åæä¸æ¬¡æ¹ç¼å¨è¿å¥éåºçå¼
     * @param {number} k - åæ°
     * @return {number} æä¸æ¬¡æ¹ç¼å¨è¿å¥éåºçå¼
     */
    CubicInOut(k) {
        if ((k *= 2) < 1) {
            return 0.5 * k * k * k;
        }
        return 0.5 * ((k -= 2) * k * k + 2);
    }


    /**
     * @function SuperMap.LevelRenderer.Animation.easing.QuarticIn
     * @description  è¿åæåæ¬¡æ¹ç¼å¨è¿å¥çå¼
     * @param {number} k - åæ°
     * @return {number}  æåæ¬¡æ¹ç¼å¨è¿å¥çå¼
     */
    QuarticIn(k) {
        return k * k * k * k;
    }
    
    /**
     * @function SuperMap.LevelRenderer.Animation.easing.QuarticOut
     * @description  è¿åæåæ¬¡æ¹ç¼å¨éåºçå¼
     * @param {number} k - åæ°
     * @return {number}  æåæ¬¡æ¹ç¼å¨éåºçå¼
     */
    QuarticOut(k) {
        return 1 - (--k * k * k * k);
    }

    /**
     * @function SuperMap.LevelRenderer.Animation.easing.QuarticInOut
     * @description  è¿åæåæ¬¡æ¹ç¼å¨è¿å¥éåºçå¼
     * @param {number} k - åæ°
     * @return {number}  æåæ¬¡æ¹ç¼å¨è¿å¥éåºçå¼
     */
    QuarticInOut(k) {
        if ((k *= 2) < 1) {
            return 0.5 * k * k * k * k;
        }
        return -0.5 * ((k -= 2) * k * k * k - 2);
    }


    // äºæ¬¡æ¹çç¼å¨ï¼t^5ï¼
    /**
     * @function SuperMap.LevelRenderer.Animation.easing.QuinticIn
     * @description  è¿åæäºæ¬¡æ¹ç¼å¨çå¼
     * @param {number} k - åæ°
     * @return {number}  æäºæ¬¡æ¹ç¼å¨çå¼
     */
    QuinticIn(k) {
        return k * k * k * k * k;
    }

    /**
     * @function SuperMap.LevelRenderer.Animation.easing.QuinticOut
     * @description  è¿åæäºæ¬¡æ¹ç¼å¨éåºçå¼
     * @param {number} k - åæ°
     * @return {number}  æäºæ¬¡æ¹ç¼å¨éåºçå¼
     */
    QuinticOut(k) {
        return --k * k * k * k * k + 1;
    }

    /**
     * @function SuperMap.LevelRenderer.Animation.easing.QuinticInOut
     * @description è¿åæäºæ¬¡æ¹ç¼å¨è¿å¥éåºçå¼
     * @param {number} k - åæ°
     * @return {number} æäºæ¬¡æ¹ç¼å¨è¿å¥éåºçå¼
     */
    QuinticInOut(k) {
        if ((k *= 2) < 1) {
            return 0.5 * k * k * k * k * k;
        }
        return 0.5 * ((k -= 2) * k * k * k * k + 2);
    }


    // æ­£å¼¦æ²çº¿çç¼å¨ï¼sin(t)ï¼
    /**
     * @function SuperMap.LevelRenderer.Animation.easing.SinusoidalIn
     * @description è¿åææ­£å¼¦æ²çº¿çç¼å¨è¿å¥çå¼
     * @param {number} k - åæ°
     * @return {number} ææ­£å¼¦æ²çº¿çç¼å¨è¿å¥çå¼
     */
    SinusoidalIn(k) {
        return 1 - Math.cos(k * Math.PI / 2);
    }

    /**
     * @function SuperMap.LevelRenderer.Animation.easing.SinusoidalOut
     * @description è¿åææ­£å¼¦æ²çº¿çç¼å¨éåºçå¼
     * @param {number} k - åæ°
     * @return {number} ææ­£å¼¦æ²çº¿çç¼å¨éåºçå¼
     */
    SinusoidalOut(k) {
        return Math.sin(k * Math.PI / 2);
    }

    /**
     * @function SuperMap.LevelRenderer.Animation.easing.SinusoidalInOut
     * @description è¿åææ­£å¼¦æ²çº¿çç¼å¨è¿å¥éåºçå¼
     * @param {number} k - åæ°
     * @return {number} ææ­£å¼¦æ²çº¿çç¼å¨è¿å¥éåºçå¼
     */
    SinusoidalInOut(k) {
        return 0.5 * (1 - Math.cos(Math.PI * k));
    }


    // ææ°æ²çº¿çç¼å¨ï¼2^tï¼
    /**
     * @function SuperMap.LevelRenderer.Animation.easing.ExponentialIn
     * @description è¿åæææ°æ²çº¿çç¼å¨è¿å¥çå¼
     * @param {number} k - åæ°
     * @return {number} æææ°æ²çº¿çç¼å¨è¿å¥çå¼
     */
    ExponentialIn(k) {
        return k === 0 ? 0 : Math.pow(1024, k - 1);
    }

    /**
     * @function SuperMap.LevelRenderer.Animation.easing.ExponentialOut
     * @description è¿åæææ°æ²çº¿çç¼å¨éåºçå¼
     * @param {number} k - åæ°
     * @return {number} æææ°æ²çº¿çç¼å¨éåºçå¼
     */
    ExponentialOut(k) {
        return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);
    }

    /**
     * @function SuperMap.LevelRenderer.Animation.easing.ExponentialInOut
     * @description è¿åæææ°æ²çº¿çç¼å¨è¿å¥éåºçå¼
     * @param {number} k - åæ°
     * @return {number} æææ°æ²çº¿çç¼å¨è¿å¥éåºçå¼
     */
    ExponentialInOut(k) {
        if (k === 0) {
            return 0;
        }
        if (k === 1) {
            return 1;
        }
        if ((k *= 2) < 1) {
            return 0.5 * Math.pow(1024, k - 1);
        }
        return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);
    }


    // åå½¢æ²çº¿çç¼å¨ï¼sqrt(1-t^2)ï¼
    /**
     * @function SuperMap.LevelRenderer.Animation.easing.CircularIn
     * @description è¿åæåå½¢æ²çº¿çç¼å¨è¿å¥çå¼
     * @param {number} k - åæ°
     * @return {number} æåå½¢æ²çº¿çç¼å¨è¿å¥çå¼
     */
    CircularIn(k) {
        return 1 - Math.sqrt(1 - k * k);
    }

    /**
     * @function SuperMap.LevelRenderer.Animation.easing.CircularOut
     * @description è¿åæåå½¢æ²çº¿çç¼å¨éåºçå¼
     * @param {number} k - åæ°
     * @return {number} æåå½¢æ²çº¿çç¼å¨éåºçå¼
     */
    CircularOut(k) {
        return Math.sqrt(1 - (--k * k));
    }

    /**
     * @function SuperMap.LevelRenderer.Animation.easing.CircularInOut
     * @description è¿åæåå½¢æ²çº¿çç¼å¨è¿å¥éåºçå¼
     * @param {number} k - åæ°
     * @return {number} æåå½¢æ²çº¿çç¼å¨è¿å¥éåºçå¼
     */
    CircularInOut(k) {
        if ((k *= 2) < 1) {
            return -0.5 * (Math.sqrt(1 - k * k) - 1);
        }
        return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);
    }


    // åå»ºç±»ä¼¼äºå¼¹ç°§å¨åæ­¢åæ¥åæ¯è¡çå¨ç»
    /**
     * @function SuperMap.LevelRenderer.Animation.easing.ElasticIn
     * @description è¿åæç±»ä¼¼äºå¼¹ç°§å¨åæ­¢åæ¥åæ¯è¡çå¨ç»çç¼å¨è¿å¥çå¼
     * @param {number} k - åæ°
     * @return {number} æç±»ä¼¼äºå¼¹ç°§å¨åæ­¢åæ¥åæ¯è¡çå¨ç»çç¼å¨è¿å¥çå¼
     */
    ElasticIn(k) {
        var s;
        var a = 0.1;
        var p = 0.4;
        if (k === 0) {
            return 0;
        }
        if (k === 1) {
            return 1;
        }
        if (!a || a < 1) {
            a = 1;
            s = p / 4;
        } else {
            s = p * Math.asin(1 / a) / (2 * Math.PI);
        }
        return -(a * Math.pow(2, 10 * (k -= 1)) *
            Math.sin((k - s) * (2 * Math.PI) / p));
    }

    /**
     * @function SuperMap.LevelRenderer.Animation.easing.ElasticOut
     * @description è¿åæç±»ä¼¼äºå¼¹ç°§å¨åæ­¢åæ¥åæ¯è¡çå¨ç»çç¼å¨éåºçå¼
     * @param {number} k - åæ°
     * @return {number} æç±»ä¼¼äºå¼¹ç°§å¨åæ­¢åæ¥åæ¯è¡çå¨ç»çç¼å¨éåºçå¼
     */
    ElasticOut(k) {
        var s;
        var a = 0.1;
        var p = 0.4;
        if (k === 0) {
            return 0;
        }
        if (k === 1) {
            return 1;
        }
        if (!a || a < 1) {
            a = 1;
            s = p / 4;
        } else {
            s = p * Math.asin(1 / a) / (2 * Math.PI);
        }
        return (a * Math.pow(2, -10 * k) *
            Math.sin((k - s) * (2 * Math.PI) / p) + 1);
    }

    /**
     * @function SuperMap.LevelRenderer.Animation.easing.ElasticInOut
     * @description è¿åæç±»ä¼¼äºå¼¹ç°§å¨åæ­¢åæ¥åæ¯è¡çå¨ç»çç¼å¨è¿å¥éåºçå¼
     * @param {number} k - åæ°
     * @return {number} æç±»ä¼¼äºå¼¹ç°§å¨åæ­¢åæ¥åæ¯è¡çå¨ç»çç¼å¨è¿å¥éåºçå¼
     */
    ElasticInOut(k) {
        var s;
        var a = 0.1;
        var p = 0.4;
        if (k === 0) {
            return 0;
        }
        if (k === 1) {
            return 1;
        }
        if (!a || a < 1) {
            a = 1;
            s = p / 4;
        } else {
            s = p * Math.asin(1 / a) / (2 * Math.PI);
        }
        if ((k *= 2) < 1) {
            return -0.5 * (a * Math.pow(2, 10 * (k -= 1))
                * Math.sin((k - s) * (2 * Math.PI) / p));
        }
        return a * Math.pow(2, -10 * (k -= 1))
            * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;

    }


    // å¨æä¸å¨ç»å¼å§æ²¿æç¤ºçè·¯å¾è¿è¡å¨ç»å¤çåç¨ç¨æ¶åè¯¥å¨ç»çç§»å¨
    /**
     * @function SuperMap.LevelRenderer.Animation.easing.BackIn
     * @description è¿åæå¨æä¸å¨ç»å¼å§æ²¿æç¤ºçè·¯å¾è¿è¡å¨ç»å¤çåç¨ç¨æ¶åè¯¥å¨ç»çç§»å¨çç¼å¨è¿å¥çå¼
     * @param {number} k - åæ°
     * @return {number} æå¨æä¸å¨ç»å¼å§æ²¿æç¤ºçè·¯å¾è¿è¡å¨ç»å¤çåç¨ç¨æ¶åè¯¥å¨ç»çç§»å¨çç¼å¨è¿å¥çå¼
     */
    BackIn(k) {
        var s = 1.70158;
        return k * k * ((s + 1) * k - s);
    }

    /**
     * @function SuperMap.LevelRenderer.Animation.easing.BackOut
     * @description è¿åæå¨æä¸å¨ç»å¼å§æ²¿æç¤ºçè·¯å¾è¿è¡å¨ç»å¤çåç¨ç¨æ¶åè¯¥å¨ç»çç§»å¨çç¼å¨éåºçå¼
     * @param {number} k - åæ°
     * @return {number} æå¨æä¸å¨ç»å¼å§æ²¿æç¤ºçè·¯å¾è¿è¡å¨ç»å¤çåç¨ç¨æ¶åè¯¥å¨ç»çç§»å¨çç¼å¨éåºçå¼
     */
    BackOut(k) {
        var s = 1.70158;
        return --k * k * ((s + 1) * k + s) + 1;
    }

    /**
     * @function SuperMap.LevelRenderer.Animation.easing.BackInOut
     * @description è¿åæå¨æä¸å¨ç»å¼å§æ²¿æç¤ºçè·¯å¾è¿è¡å¨ç»å¤çåç¨ç¨æ¶åè¯¥å¨ç»çç§»å¨çç¼å¨è¿å¥éåºçå¼
     * @param {number} k - åæ°
     * @return {number} æå¨æä¸å¨ç»å¼å§æ²¿æç¤ºçè·¯å¾è¿è¡å¨ç»å¤çåç¨ç¨æ¶åè¯¥å¨ç»çç§»å¨çç¼å¨è¿å¥éåºçå¼
     */
    BackInOut(k) {
        var s = 1.70158 * 1.525;
        if ((k *= 2) < 1) {
            return 0.5 * (k * k * ((s + 1) * k - s));
        }
        return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);
    }


    // åå»ºå¼¹è·³ææ
    /**
     * @function SuperMap.LevelRenderer.Animation.easing.BounceIn
     * @description è¿åæå¼¹è·³ææçç¼å¨è¿å¥çå¼
     * @param {number} k - åæ°
     * @return {number} æå¼¹è·³ææçç¼å¨è¿å¥çå¼
     */
    BounceIn(k) {
        return 1 - this.BounceOut(1 - k);
    }

    /**
     * @function SuperMap.LevelRenderer.Animation.easing.BounceOut
     * @description è¿åæå¼¹è·³ææçç¼å¨éåºçå¼
     * @param {number} k - åæ°
     * @return {number} æå¼¹è·³ææçç¼å¨éåºçå¼
     */
    BounceOut(k) {
        if (k < (1 / 2.75)) {
            return 7.5625 * k * k;
        } else if (k < (2 / 2.75)) {
            return 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;
        } else if (k < (2.5 / 2.75)) {
            return 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;
        } else {
            return 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;
        }
    }
    
    /**
     * @function SuperMap.LevelRenderer.Animation.easing.BounceInOut
     * @description è¿åæå¼¹è·³ææçç¼å¨è¿å¥éåºçå¼
     * @param {number} k - åæ°
     * @return {number} æå¼¹è·³ææçç¼å¨è¿å¥éåºçå¼
     */
    BounceInOut(k) {
        if (k < 0.5) {
            return this.BounceIn(k * 2) * 0.5;
        }
        return this.BounceOut(k * 2 - 1) * 0.5 + 0.5;
    }

}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/Clip.js


/**
 * @class  SuperMap.LevelRenderer.Animation.Clip
 * @category Visualization Theme
 * @classdec å¨ç»çæ®µ
 * @private 
 */
class Clip_Clip {
    
    /**
     * @function SuperMap.LevelRenderer.Animation.Clip.prototype.constructor
     * @description æé å½æ°ã
     * @param {Object} options - åæ°ã
     * @param {Object} options.target - å¨ç»å¯¹è±¡ï¼å¯ä»¥æ¯æ°ç»ï¼å¦ææ¯æ°ç»çè¯ä¼æ¹éåå onframe ç­äºä»¶ã
     * @param {number} [options.life=1000] - å¨ç»æ¶é¿ã
     * @param {number} [options.delay=0] - å¨ç»å»¶è¿æ¶é´ã
     * @param {boolean} [options.loop=true] - æ¯å¦å¾ªç¯ã
     * @param {number} [options.gap=0] - å¾ªç¯çé´éæ¶é´ã
     * @param {Object} options.onframe -  å¸§ã
     * @param {boolean} options.easing - æ¯å¦æ¶é¤ã
     * @param {boolean} options.ondestroy - æ¯å¦éæ¯ã
     * @param {boolean} options.onrestart - æ¯å¦éæ­ã
     */
    constructor(options) {
        this._targetPool = options.target || {};
        if (!(this._targetPool instanceof Array)) {
            this._targetPool = [this._targetPool];
        }

        // çå½å¨æ
        this._life = options.life || 1000;
        // å»¶æ¶
        this._delay = options.delay || 0;
        // å¼å§æ¶é´
        this._startTime = new Date().getTime() + this._delay;// åä½æ¯«ç§

        // ç»ææ¶é´
        this._endTime = this._startTime + this._life * 1000;

        // æ¯å¦å¾ªç¯
        this.loop = typeof options.loop == 'undefined'
            ? false : options.loop;

        this.gap = options.gap || 0;

        this.easing = options.easing || 'Linear';

        this.onframe = options.onframe;
        this.ondestroy = options.ondestroy;
        this.onrestart = options.onrestart;
        this.CLASS_NAME = "SuperMap.LevelRenderer.Animation.Clip";
    }

    /**
     * @function SuperMap.LevelRenderer.Animation.Clip.prototype.destroy
     * @description éæ¯å¯¹è±¡ï¼éæ¾èµæºãè°ç¨æ­¤å½æ°åææå±æ§å°è¢«ç½®ä¸º nullã
     */
    destroy() {

    }

    step(time) {
        var easing = new Easing();
        var percent = (time - this._startTime) / this._life;

        // è¿æ²¡å¼å§
        if (percent < 0) {
            return;
        }

        percent = Math.min(percent, 1);

        var easingFunc = typeof this.easing == 'string'
            ? easing[this.easing]
            : this.easing;
        var schedule = typeof easingFunc === 'function'
            ? easingFunc(percent)
            : percent;

        this.fire('frame', schedule);

        // ç»æ
        if (percent == 1) {
            if (this.loop) {
                this.restart();
                // éæ°å¼å§å¨æ
                // æåºèä¸æ¯ç´æ¥è°ç¨äºä»¶ç´å° stage.update ååç»ä¸è°ç¨è¿äºäºä»¶
                return 'restart';

            }

            // å¨ç»å®æå°è¿ä¸ªæ§å¶å¨æ è¯ä¸ºå¾å é¤
            // å¨Animation.updateä¸­è¿è¡æ¹éå é¤
            this._needsRemove = true;
            return 'destroy';
        }

        return null;
    }

    restart() {
        var time = new Date().getTime();
        var remainder = (time - this._startTime) % this._life;
        this._startTime = new Date().getTime() - remainder + this.gap;
    }

    fire(eventType, arg) {
        for (var i = 0, len = this._targetPool.length; i < len; i++) {
            if (this['on' + eventType]) {
                this['on' + eventType](this._targetPool[i], arg);
            }
        }
    }

}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/Animation.js






/**
 * @class SuperMap.LevelRenderer.Animation
 * @classdesc å¨ç»ä¸»ç±», è°åº¦åç®¡çææå¨ç»æ§å¶å¨
 * @category Visualization Theme
 * @extends {SuperMap.LevelRenderer.Eventful}
 * @private 
 */
class Animation_Animation extends Eventful {


    /**
     * @function SuperMap.LevelRenderer.Animation.prototype.constructor
     * @description æé å½æ°ã
     * @param {Object} options - å¨ç»åæ°ã
     * @param {Object} options.onframe - onframeã
     * @param {Object} options.stage - stageã
     * (start code)
     *     var animation = new SuperMap.LevelRenderer.Animation();
     *     var obj = {
     *         x: 100,
     *         y: 100
     *     };
     *     animation.animate(node.position)
     *         .when(1000, {
     *             x: 500,
     *             y: 500
     *         })
     *         .when(2000, {
     *             x: 100,
     *             y: 100
     *         })
     *         .start('spline');
     * (end)
     */
    constructor(options) {
        super(options);

        options = options || {};
        /**
         * @member {Object} SuperMap.LevelRenderer.Animation.prototype.stage
         * @description stageã
         */
        this.stage = {};

        /**
         * @member {Object} SuperMap.LevelRenderer.Animation.prototype.onframe
         * @description onframeã
         */
        this.onframe = function () {
        };

        /**
         * @member {Array} SuperMap.LevelRenderer.Animation.prototype._clips
         * @description _clipsã
         */
        this._clips = [];
        
        /**
         * @member {boolean} SuperMap.LevelRenderer.Animation.prototype._running
         * @description _runningã
         */
        this._running = false;

        /**
         * @member {number} SuperMap.LevelRenderer.Animation.prototype._time
         * @description _timeã
         */
        this._time = 0;

        Util_Util.extend(this, options);

        this.CLASS_NAME = "SuperMap.LevelRenderer.Animation";

    }


    /**
     * @function SuperMap.LevelRenderer.Animation.prototype.add
     * @description æ·»å å¨ç»çæ®µã
     * @param {SuperMap.LevelRenderer.Animation.Clip} clip - å¨ç»çæ®µã
     */
    add(clip) {
        this._clips.push(clip);
    }


    /**
     * @function SuperMap.LevelRenderer.Animation.prototype.remove
     * @description å é¤å¨ç»çæ®µã
     * @param {SuperMap.LevelRenderer.Animation.Clip} clip - å¨ç»çæ®µã
     */
    remove(clip) {
        var idx = new levelRenderer_Util_Util().indexOf(this._clips, clip);
        if (idx >= 0) {
            this._clips.splice(idx, 1);
        }
    }


    /**
     * @function SuperMap.LevelRenderer.Animation.prototype.update
     * @description æ´æ°å¨ç»çæ®µã
     */
    _update() {
        var time = new Date().getTime();
        var delta = time - this._time;
        var clips = this._clips;
        var len = clips.length;

        var deferredEvents = [];
        var deferredClips = [];
        for (let i = 0; i < len; i++) {
            var clip = clips[i];
            var e = clip.step(time);
            // Throw out the events need to be called after
            // stage.update, like destroy
            if (e) {
                deferredEvents.push(e);
                deferredClips.push(clip);
            }
        }
        if (this.stage.update) {
            this.stage.update();
        }

        // Remove the finished clip
        for (let i = 0; i < len;) {
            if (clips[i]._needsRemove) {
                clips[i] = clips[len - 1];
                clips.pop();
                len--;
            } else {
                i++;
            }
        }

        len = deferredEvents.length;
        for (let i = 0; i < len; i++) {
            deferredClips[i].fire(deferredEvents[i]);
        }

        this._time = time;

        this.onframe(delta);

        this.dispatch('frame', delta);
    }


    /**
     * @function SuperMap.LevelRenderer.Animation.prototype.start
     * @description å¼å§è¿è¡å¨ç»ã
     */
    start() {
        var requestAnimationFrame = window.requestAnimationFrame
            || window.msRequestAnimationFrame
            || window.mozRequestAnimationFrame
            || window.webkitRequestAnimationFrame
            || function (func) {
                setTimeout(func, 16);
            };

        var self = this;

        this._running = true;

        function step() {
            if (self._running) {
                self._update();
                requestAnimationFrame(step);
            }
        }

        this._time = new Date().getTime();
        requestAnimationFrame(step);
    }


    /**
     * @function SuperMap.LevelRenderer.Animation.prototype.stop
     * @description åæ­¢è¿è¡å¨ç»ã
     */
    stop() {
        this._running = false;
    }


    /**
     * @function SuperMap.LevelRenderer.Animation.prototype.clear
     * @description æ¸é¤ææå¨ç»çæ®µã
     */
    clear() {
        this._clips = [];
    }


    /**
     * @function SuperMap.LevelRenderer.Animation.prototype.animate
     * @description å¯¹ä¸ä¸ªç®æ åå»ºä¸ä¸ªanimatorå¯¹è±¡ï¼å¯ä»¥æå®ç®æ ä¸­çå±æ§ä½¿ç¨å¨ç»ã
     * @param {Object} target - ç®æ å¯¹è±¡ã
     * @param {Object} options - å¨ç»åæ°éé¡¹ã
     * @param {boolean} [options.loop=false] - æ¯å¦å¾ªç¯æ­æ¾å¨ç»ã
     * @param {function} [options.getter] - å¦ææå®getterå½æ°ï¼ä¼éè¿getterå½æ°åå±æ§å¼ã
     * @param {function} [options.setter] - å¦ææå®setterå½æ°ï¼ä¼éè¿setterå½æ°è®¾ç½®å±æ§å¼ã
     * @returns {SuperMap.LevelRenderer.Animation.Animator} Animatorã
     */
    animate(target, options) {
        options = options || {};
        var deferred = new Animation_Animator(
            target,
            options.loop,
            options.getter,
            options.setter
        );
        deferred.animation = this;
        return deferred;
    }

    static _interpolateNumber(p0, p1, percent) {
        return (p1 - p0) * percent + p0;
    }

    static _interpolateArray(p0, p1, percent, out, arrDim) {
        var len = p0.length;
        if (arrDim == 1) {
            for (let i = 0; i < len; i++) {
                out[i] = Animation_Animation._interpolateNumber(p0[i], p1[i], percent);
            }
        } else {
            var len2 = p0[0].length;
            for (let i = 0; i < len; i++) {
                for (let j = 0; j < len2; j++) {
                    out[i][j] = Animation_Animation._interpolateNumber(
                        p0[i][j], p1[i][j], percent
                    );
                }
            }
        }
    }

    static _isArrayLike(data) {
        switch (typeof data) {
            case 'undefined':
            case 'string':
                return false;
        }

        return typeof data.length !== 'undefined';
    }

    static _catmullRomInterpolateArray(p0, p1, p2, p3, t, t2, t3, out, arrDim) {
        var len = p0.length;
        if (arrDim == 1) {
            for (let i = 0; i < len; i++) {
                out[i] = Animation_Animation._catmullRomInterpolate(
                    p0[i], p1[i], p2[i], p3[i], t, t2, t3
                );
            }
        } else {
            var len2 = p0[0].length;
            for (let i = 0; i < len; i++) {
                for (var j = 0; j < len2; j++) {
                    out[i][j] = Animation_Animation._catmullRomInterpolate(
                        p0[i][j], p1[i][j], p2[i][j], p3[i][j],
                        t, t2, t3
                    );
                }
            }
        }
    }

    static _catmullRomInterpolate(p0, p1, p2, p3, t, t2, t3) {
        var v0 = (p2 - p0) * 0.5;
        var v1 = (p3 - p1) * 0.5;
        return (2 * (p1 - p2) + v0 + v1) * t3
            + (-3 * (p1 - p2) - 2 * v0 - v1) * t2
            + v0 * t + p1;
    }

    static _cloneValue(value) {
        var arraySlice = Array.prototype.slice;

        if (Animation_Animation._isArrayLike(value)) {
            var len = value.length;
            if (Animation_Animation._isArrayLike(value[0])) {
                var ret = [];
                for (var i = 0; i < len; i++) {
                    ret.push(arraySlice.call(value[i]));
                }
                return ret;
            } else {
                return arraySlice.call(value);
            }
        } else {
            return value;
        }
    }

    static rgba2String(rgba) {
        rgba[0] = Math.floor(rgba[0]);
        rgba[1] = Math.floor(rgba[1]);
        rgba[2] = Math.floor(rgba[2]);

        return 'rgba(' + rgba.join(',') + ')';
    }
}

/**
 * @class SuperMap.LevelRenderer.Animation.Animator
 */
class Animation_Animator {

    /**
     * @function SuperMap.LevelRenderer.Animation.Animator.prototype.animate
     * @description æé å½æ°
     * @param {Object} target - ç®æ å¯¹è±¡ã
     * @param {Object} options - å¨ç»åæ°éé¡¹ã
     * @param {boolean} [loop=false] - æ¯å¦å¾ªç¯æ­æ¾å¨ç»ã
     * @param {function} [getterl] - å¦ææå®getterå½æ°ï¼ä¼éè¿getterå½æ°åå±æ§å¼ã
     * @param {function} [setter] - å¦ææå®setterå½æ°ï¼ä¼éè¿setterå½æ°è®¾ç½®å±æ§å¼ã
     */
    constructor(target, loop, getter, setter) {
        /**
         * @member {Object} SuperMap.LevelRenderer.Animation.Animator.prototype._tracks
         * @description _tracksã
         */
        this._tracks = {};

        /**
         * @member {Object} SuperMap.LevelRenderer.Animation.Animator.prototype._target
         * @description _targetã
         */
        this._target = target;
        
        /**
         * @member {boolean} SuperMap.LevelRenderer.Animation.Animator.prototype._loop
         * @description _loopã
         */
        this._loop = loop || false;

        /**
         * @member {function} SuperMap.LevelRenderer.Animation.Animator.prototype._getter
         * @description _getterã
         */
        this._getter = getter || _defaultGetter;

        /**
         * @member {function} SuperMap.LevelRenderer.Animation.Animator.prototype._setter
         * @description _setterã
         */
        this._setter = setter || _defaultSetter;

        /**
         * @member {number} SuperMap.LevelRenderer.Animation.Animator.prototype._clipCount
         * @description _clipCountã
         */
        this._clipCount = 0;

        /**
         * @member {number} SuperMap.LevelRenderer.Animation.Animator.prototype._delay
         * @description _delayã
         */
        this._delay = 0;

        /**
         * @member {Array} SuperMap.LevelRenderer.Animation.Animator.prototype._doneList
         * @description _doneListã
         */
        this._doneList = [];

        /**
         * @member {Array} SuperMap.LevelRenderer.Animation.Animator.prototype._onframeList
         * @description _onframeListã
         */
        this._onframeList = [];

        /**
         * @member {Array} SuperMap.LevelRenderer.Animation.Animator.prototype._clipList
         * @description _clipListã
         */
        this._clipList = [];
        this.CLASS_NAME = "SuperMap.LevelRenderer.Animation.Animator";
        //Function
        function _defaultGetter(target, key) {
            return target[key];
        }

        function _defaultSetter(target, key, value) {
            target[key] = value;
        }
    }


    /**
     * @function SuperMap.LevelRenderer.Animation.Animator.prototype.when
     * @description è®¾ç½®å¨ç»å³é®å¸§
     * @param {number} time - å³é®å¸§æ¶é´ï¼åä½æ¯ms
     * @param {Object} props - å³é®å¸§çå±æ§å¼ï¼key-valueè¡¨ç¤º
     * @returns {SuperMap.LevelRenderer.Animation.Animator} Animator
     */
    when(time /* ms */, props) {
        for (var propName in props) {
            if (!this._tracks[propName]) {
                this._tracks[propName] = [];
                // If time is 0
                //  Then props is given initialize value
                // Else
                //  Initialize value from current prop value
                if (time !== 0) {
                    this._tracks[propName].push({
                        time: 0,
                        value: Animation_Animation._cloneValue(
                            this._getter(this._target, propName)
                        )
                    });
                }
            }
            this._tracks[propName].push({
                time: parseInt(time, 10),
                value: props[propName]
            });
        }
        return this;
    }


    /**
     * @function SuperMap.LevelRenderer.Animation.Animator.prototype.during
     * @description æ·»å å¨ç»æ¯ä¸å¸§çåè°å½æ°
     * @param {RequestCallback} callback - åè°å½æ°
     * @returns {SuperMap.LevelRenderer.Animation.Animator} Animator
     */
    during(callback) {
        this._onframeList.push(callback);
        return this;
    }


    /**
     * @function SuperMap.LevelRenderer.Animation.Animator.prototype.start
     * @description å¼å§æ§è¡å¨ç»
     * @param {(string|function)} easing - å¨ç»ç¼å¨å½æ°ãè¯¦è§ï¼<{@link SuperMap.LevelRenderer.Animation.easing}>ã
     * @returns {SuperMap.LevelRenderer.Animation.Animator} Animator
     */
    start(easing) {
        var self = this;
        var setter = this._setter;
        var getter = this._getter;
        var onFrameListLen = self._onframeList.length;
        var useSpline = easing === 'spline';

        var ondestroy = function () {
            self._clipCount--;
            if (self._clipCount === 0) {
                // Clear all tracks
                self._tracks = {};

                var len = self._doneList.length;
                for (var i = 0; i < len; i++) {
                    self._doneList[i].call(self);
                }
            }
        };

        var createTrackClip = function (keyframes, propName) {
            var trackLen = keyframes.length;
            if (!trackLen) {
                return;
            }
            // Guess data type
            var firstVal = keyframes[0].value;
            var isValueArray = Animation_Animation._isArrayLike(firstVal);
            var isValueColor = false;

            // For vertices morphing
            var arrDim = (
                isValueArray
                && Animation_Animation._isArrayLike(firstVal[0])
            )
                ? 2 : 1;
            // Sort keyframe as ascending
            keyframes.sort(function (a, b) {
                return a.time - b.time;
            });
            var trackMaxTime = keyframes[trackLen - 1].time;
            // Percents of each keyframe
            var kfPercents = [];
            // Value of each keyframe
            var kfValues = [];
            for (let i = 0; i < trackLen; i++) {
                kfPercents.push(keyframes[i].time / trackMaxTime);
                // Assume value is a color when it is a string
                var value = keyframes[i].value;
                if (typeof(value) == 'string') {
                    value = SUtil.Util_color.toArray(value);
                    if (value.length === 0) {    // Invalid color
                        value[0] = value[1] = value[2] = 0;
                        value[3] = 1;
                    }
                    isValueColor = true;
                }
                kfValues.push(value);
            }

            // Cache the key of last frame to speed up when
            // animation playback is sequency
            var cacheKey = 0;
            var cachePercent = 0;
            var start;
            var i;
            var w;
            var p0;
            var p1;
            var p2;
            var p3;


            if (isValueColor) {
                var rgba = [0, 0, 0, 0];
            }

            var onframe = function (target, percent) {
                // Find the range keyframes
                // kf1-----kf2---------current--------kf3
                // find kf2 and kf3 and do interpolation
                if (percent < cachePercent) {
                    // Start from next key
                    start = Math.min(cacheKey + 1, trackLen - 1);
                    for (i = start; i >= 0; i--) {
                        if (kfPercents[i] <= percent) {
                            break;
                        }
                    }
                    i = Math.min(i, trackLen - 2);
                } else {
                    for (i = cacheKey; i < trackLen; i++) {
                        if (kfPercents[i] > percent) {
                            break;
                        }
                    }
                    i = Math.min(i - 1, trackLen - 2);
                }
                cacheKey = i;
                cachePercent = percent;

                var range = (kfPercents[i + 1] - kfPercents[i]);
                if (range === 0) {
                    return;
                } else {
                    w = (percent - kfPercents[i]) / range;
                }
                if (useSpline) {
                    p1 = kfValues[i];
                    p0 = kfValues[i === 0 ? i : i - 1];
                    p2 = kfValues[i > trackLen - 2 ? trackLen - 1 : i + 1];
                    p3 = kfValues[i > trackLen - 3 ? trackLen - 1 : i + 2];
                    if (isValueArray) {
                        Animation_Animation._catmullRomInterpolateArray(
                            p0, p1, p2, p3, w, w * w, w * w * w,
                            getter(target, propName),
                            arrDim
                        );
                    } else {
                        let value;
                        if (isValueColor) {
                            // value = SuperMap.LevelRenderer.Animation._catmullRomInterpolateArray(
                            //     p0, p1, p2, p3, w, w * w, w * w * w,
                            //     rgba, 1
                            // );
                            value = Animation_Animation.rgba2String(rgba);
                        } else {
                            value = Animation_Animation._catmullRomInterpolate(
                                p0, p1, p2, p3, w, w * w, w * w * w
                            );
                        }
                        setter(
                            target,
                            propName,
                            value
                        );
                    }
                } else {
                    if (isValueArray) {
                        Animation_Animation._interpolateArray(
                            kfValues[i], kfValues[i + 1], w,
                            getter(target, propName),
                            arrDim
                        );
                    } else {
                        let value;
                        if (isValueColor) {
                            Animation_Animation._interpolateArray(
                                kfValues[i], kfValues[i + 1], w,
                                rgba, 1
                            );
                            value = Animation_Animation.rgba2String(rgba);
                        } else {
                            value = Animation_Animation._interpolateNumber(kfValues[i], kfValues[i + 1], w);
                        }
                        setter(
                            target,
                            propName,
                            value
                        );
                    }
                }

                for (i = 0; i < onFrameListLen; i++) {
                    self._onframeList[i](target, percent);
                }
            };

            var clip = new Clip_Clip({
                target: self._target,
                life: trackMaxTime,
                loop: self._loop,
                delay: self._delay,
                onframe: onframe,
                ondestroy: ondestroy
            });

            if (easing && easing !== 'spline') {
                clip.easing = easing;
            }
            self._clipList.push(clip);
            self._clipCount++;
            self.animation.add(clip);
        };

        for (var propName in this._tracks) {
            createTrackClip(this._tracks[propName], propName);
        }
        return this;
    }


    /**
     * @function SuperMap.LevelRenderer.Animation.Animator.prototype.stop
     * @description åæ­¢å¨ç»
     */
    stop() {
        for (var i = 0; i < this._clipList.length; i++) {
            var clip = this._clipList[i];
            this.animation.remove(clip);
        }
        this._clipList = [];
    }


    /**
     * @function SuperMap.LevelRenderer.Animation.Animator.prototype.delay
     * @description è®¾ç½®å¨ç»å»¶è¿å¼å§çæ¶é´
     * @param {number} time - æ¶é´ï¼åä½ms
     * @returns {SuperMap.LevelRenderer.Animation.Animator} Animator
     */
    delay(time) {
        this._delay = time;
        return this;
    }

    
    /**
     * @function SuperMap.LevelRenderer.Animation.Animator.prototype.done
     * @description æ·»å å¨ç»ç»æçåè°
     * @param {function} cb - Function
     * @returns {SuperMap.LevelRenderer.Animation.Animator} Animator
     */
    done(cb) {
        if (cb) {
            this._doneList.push(cb);
        }
        return this;
    }

}



// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/Render.js
/**
 * @private
 * @class SuperMap.LevelRenderer.Render
 * @category Visualization Theme
 * @classdesc Render æ¥å£ç±»ï¼å¯¹å¤å¯ç¨çæææ¥å£é½å¨è¿éãåé¨ä½¿ç¨é get æ¥å£ç»ä¸è¿å this å¯¹è±¡ï¼æ¯æé¾å¼è°ç¨ã
 */








class Render_Render {


    /**
     * @function SuperMap.LevelRenderer.Render.constructor
     * @description æé å½æ°ã
     *
     * @param {string} id - å¯ä¸æ è¯ã
     * @param {HTMLElement} dom - Dom å¯¹è±¡ã
     */
    constructor(id, dom) {
        /**
         * @member {string} SuperMap.LevelRenderer.Render.prototype.id
         * @description å¯ä¸æ è¯ã
         */
        this.id = id;

        /**
         * @member {SuperMap.LevelRenderer.Storage} SuperMap.LevelRenderer.Render.prototype.storage
         * @description å¾å½¢ä»åºå¯¹è±¡ã
         */
        this.storage = new Storage_Storage();

        /**
         * @member {SuperMap.LevelRenderer.Painter} SuperMap.LevelRenderer.Render.prototype.painter
         * @description ç»å¶å¨å¯¹è±¡ã
         *
         */
        this.painter = new Painter_Painter(dom, this.storage);

        /**
         * @member {SuperMap.LevelRenderer.Handler} SuperMap.LevelRenderer.Render.prototype.handler
         * @description äºä»¶å¤çå¯¹è±¡ã
         *
         */
        this.handler = new Handler_Handler(dom, this.storage, this.painter);

        /**
         * @member {Array} SuperMap.LevelRenderer.Render.prototype.animatingElements
         * @description å¨ç»æ§å¶æ°ç»ã
         *
         */
        this.animatingElements = [];

        /**
         * @member {SuperMap.LevelRenderer.animation.Animation} SuperMap.LevelRenderer.Render.prototype.animation
         * @description å¨ç»å¯¹è±¡ã
         *
         */
        this.animation = new Animation_Animation({
            stage: {
                update: Render_Render.getFrameCallback(this)
            }
        });

        /**
         * @member {boolean} SuperMap.LevelRenderer.Render.prototype._needsRefreshNextFrame
         * @description æ¯å¦éè¦å·æ°ä¸ä¸å¸§ã
         *
         */
        this._needsRefreshNextFrame = false;
        this.animation.start();
        this.CLASS_NAME = "SuperMap.LevelRenderer.Render";

    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.destory
     * @description éæ¯å¯¹è±¡ï¼éæ¾èµæºãè°ç¨æ­¤å½æ°åææå±æ§å°è¢«ç½®ä¸º nullã
     */
    destroy() {
        this.id = null;
        this.storage = null;
        this.painter = null;
        this.handler = null;
        this.animatingElements = null;
        this.animation = null;
        this._needsRefreshNextFrame = null;
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.getId
     * @description è·åå®ä¾å¯ä¸æ è¯ã
     * @return {string} å®ä¾å¯ä¸æ è¯ã
     */
    getId() {
        return this.id;
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.addShape
     * @description æ·»å å¾å½¢å½¢ç¶å°æ ¹èç¹ã
     *
     * @param {SuperMap.LevelRenderer.Shape} shape - å¾å½¢å¯¹è±¡ï¼å¯ç¨å±æ§å¨éï¼è¯¦è§å shapeã
     * @return {SuperMap.LevelRenderer.Render} thisã
     */
    addShape(shape) {
        this.storage.addRoot(shape);
        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.addGroup
     * @description æ·»å ç»å°æ ¹èç¹ã
     *
     * (code)
     * //æ·»å ç»å°æ ¹èç¹ä¾å­
     * var render = new SuperMap.LevelRenderer.Render("Render",document.getElementById('lRendertest'));
     * render.clear();
     * var g = new SuperMap.LevelRenderer.Group();
     * g.addChild(new SuperMap.LevelRenderer.Shape.Circle({
     *     style: {
     *         x: 100,
     *         y: 100,
     *         r: 20,
     *         brushType: 'fill'
     *     }
     * }));
     * render.addGroup(g);
     * render.render();
     * (end)
     *
     * @param {SuperMap.LevelRenderer.Group} group - ç»å¯¹è±¡ã
     * @return {SuperMap.LevelRenderer.Render} thisã
     */
    addGroup(group) {
        this.storage.addRoot(group);
        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.delShape
     * @description ä»æ ¹èç¹å é¤å¾å½¢å½¢ç¶ã
     *
     * @param {string} shapeId - å¾å½¢å¯¹è±¡å¯ä¸æ è¯ã
     * @return {SuperMap.LevelRenderer.Render} thisã
     */
    delShape(shapeId) {
        this.storage.delRoot(shapeId);
        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.delGroup
     * @description ä»æ ¹èç¹å é¤ç»ã
     *
     * @param {string} groupId - ç»å¯¹è±¡å¯ä¸æ è¯ã
     * @return {SuperMap.LevelRenderer.Render} thisã
     */
    delGroup(groupId) {
        this.storage.delRoot(groupId);
        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.modShape
     * @description ä¿®æ¹å¾å½¢å½¢ç¶ã
     *
     * @param {string} shapeId - å¾å½¢å¯¹è±¡å¯ä¸æ è¯ã
     * @param {SuperMap.LevelRenderer.Shape} shape - å¾å½¢å¯¹è±¡ã
     * @return {SuperMap.LevelRenderer.Render} thisã
     */
    modShape(shapeId, shape) {
        this.storage.mod(shapeId, shape);
        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.modGroup
     * @description ä¿®æ¹ç»ã
     *
     * @param {string} groupId - ç»å¯¹è±¡å¯ä¸æ è¯ã
     * @param {SuperMap.LevelRenderer.Group} group - ç»å¯¹è±¡ã
     * @return {SuperMap.LevelRenderer.Render} thisã
     */
    modGroup(groupId, group) {
        this.storage.mod(groupId, group);
        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.modLayer
     * @description ä¿®æ¹æå® zlevel çç»å¶éç½®é¡¹ã
     *
     * @param {string} zLevel - ç»å¯¹è±¡å¯ä¸æ è¯ã
     * @param {Object} config - éç½®å¯¹è±¡ã
     * @param {string} clearColor - æ¯æ¬¡æ¸ç©ºç»å¸çé¢è²ãé»è®¤å¼ï¼0ã
     * @param {noolean} motionBlur - æ¯å¦å¼å¯å¨ææ¨¡ç³ãé»è®¤å¼ï¼falseã
     * @param {number}  lastFrameAlpha - å¨å¼å¯å¨ææ¨¡ç³çæ¶åä½¿ç¨ï¼ä¸ä¸ä¸å¸§æ··åçalphaå¼ï¼å¼è¶å¤§å°¾è¿¹è¶ææ¾ãé»è®¤å¼ï¼0.7ã
     * @param {Array.<number>} position - å±çå¹³ç§»ã
     * @param {Array.<number>} rotation - å±çæè½¬ã
     * @param {Array.<number>} scale - å±çç¼©æ¾ã
     * @param {boolean} zoomable - å±æ¯å¦æ¯æé¼ æ ç¼©æ¾æä½ãé»è®¤å¼ï¼falseã
     * @param {boolean} panable - å±æ¯å¦æ¯æé¼ æ å¹³ç§»æä½ãé»è®¤å¼ï¼falseã
     * @return {SuperMap.LevelRenderer.Render} thisã
     */
    modLayer(zLevel, config) {
        this.painter.modLayer(zLevel, config);
        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.addHoverShape
     * @description æ·»å é¢å¤é«äº®å±æ¾ç¤ºï¼ä»æä¾æ·»å æ¹æ³ï¼æ¯æ¬¡å·æ°åé«äº®å±å¾å½¢åè¢«æ¸ç©ºã
     *
     * @param {SuperMap.LevelRenderer.Shape} shape - å¾å½¢å¯¹è±¡ã
     * @return {SuperMap.LevelRenderer.Render} thisã
     */
    addHoverShape(shape) {
        this.storage.addHover(shape);
        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.render
     * @description æ¸²æã
     *
     * @callback {Function} callback - æ¸²æç»æååè°å½æ°ã
     * @return {SuperMap.LevelRenderer.Render} thisã
     */
    render(callback) {
        this.painter.render(callback);
        this._needsRefreshNextFrame = false;
        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.refresh
     * @description è§å¾æ´æ°ã
     *
     * @callback {Function} callback - è§å¾æ´æ°ååè°å½æ°ã
     * @return {SuperMap.LevelRenderer.Render} thisã
     */
    refresh(callback) {
        this.painter.refresh(callback);
        this._needsRefreshNextFrame = false;
        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.refreshNextFrame
     * @description æ è®°è§å¾å¨æµè§å¨ä¸ä¸å¸§éè¦ç»å¶ã
     * @return {SuperMap.LevelRenderer.Render} thisã
     */
    refreshNextFrame() {
        this._needsRefreshNextFrame = true;
        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.refreshHover
     * @description ç»å¶ï¼è§å¾æ´æ°ï¼é«äº®å±ã
     * @callback {Function} callback - è§å¾æ´æ°ååè°å½æ°ã
     * @return {SuperMap.LevelRenderer.Render} thisã
     */
    refreshHover(callback) {
        this.painter.refreshHover(callback);
        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.refreshShapes
     * @description è§å¾æ´æ°ã
     *
     * @param {Array.<SuperMap.LevelRenderer.Shape>} shapeList - éè¦æ´æ°çå¾å½¢åè¡¨ã
     * @callback {Function} callback - è§å¾æ´æ°ååè°å½æ°ã
     * @return {SuperMap.LevelRenderer.Render} thisã
     */
    refreshShapes(shapeList, callback) {
        this.painter.refreshShapes(shapeList, callback);
        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.resize
     * @description è°æ´è§å¾å¤§å°ã
     * @return {SuperMap.LevelRenderer.Render} thisã
     */
    resize() {
        this.painter.resize();
        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.animate
     * @description å¨ç»ã
     *
     * @example
     *     zr.animate(circle.id, 'style', false)
     *         .when(1000, {x: 10} )
     *         .done(function(){ // Animation done })
     *         .start()
     * 
     *
     * @param {Array.<(SuperMap.LevelRenderer.Shape/SuperMap.LevelRenderer.Group)>} el - å¨ç»å¯¹è±¡ã
     * @param {string} path - éè¦æ·»å å¨ç»çå±æ§è·åè·¯å¾ï¼å¯ä»¥éè¿ a.b.c æ¥è·åæ·±å±çå±æ§ãè¥ä¼ å¥å¯¹è±¡ä¸º<SuperMap.LevelRenderer.Group>,pathéä¸ºç©ºå­ç¬¦ä¸²ã
     * @param {Function} loop - å¨ç»æ¯å¦å¾ªç¯ã
     * @return {SuperMap.LevelRenderer.animation.Animator} Animatorã
     */
    animate(el, path, loop) {
        if (typeof(el) === 'string') {
            el = this.storage.get(el);
        }
        if (el) {
            var target;
            if (path) {
                var pathSplitted = path.split('.');
                var prop = el;
                for (var i = 0, l = pathSplitted.length; i < l; i++) {
                    if (!prop) {
                        continue;
                    }
                    prop = prop[pathSplitted[i]];
                }
                if (prop) {
                    target = prop;
                }
            } else {
                target = el;
            }

            if (!target) {
                SUtil.Util_log(
                    'Property "'
                    + path
                    + '" is not existed in element '
                    + el.id
                );
                return;
            }

            var animatingElements = this.animatingElements;
            if (typeof el.__aniCount === 'undefined') {
                // æ­£å¨è¿è¡çå¨ç»è®°æ°
                el.__aniCount = 0;
            }
            if (el.__aniCount === 0) {
                animatingElements.push(el);
            }
            el.__aniCount++;

            return this.animation.animate(target, {loop: loop})
                .done(function () {
                    el.__aniCount--;
                    if (el.__aniCount === 0) {
                        // ä»animatingElementséç§»é¤
                        var idx = new levelRenderer_Util_Util().indexOf(animatingElements, el);
                        animatingElements.splice(idx, 1);
                    }
                });
        } else {
            SUtil.Util_log('Element not existed');
        }
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.clearAnimation
     * @description åæ­¢ææå¨ç»ã
     *
     */
    clearAnimation() {
        this.animation.clear();
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.getWidth
     * @description è·åè§å¾å®½åº¦ã
     * @return {number} è§å¾å®½åº¦ã
     */
    getWidth() {
        return this.painter.getWidth();
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.getHeight
     * @description è·åè§å¾é«åº¦ã
     * @return {number} è§å¾é«åº¦ã
     */
    getHeight() {
        return this.painter.getHeight();
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.toDataURL
     * @description å¾åå¯¼åºã
     *
     * @param {string} type - ç±»åã
     * @param {string} backgroundColor - èæ¯è²ï¼é»è®¤å¼ï¼"#FFFFFF"ã
     * @param {string} args - åæ°ã
     * @return {string} å¾çç Base64 urlã
     */
    toDataURL(type, backgroundColor, args) {
        return this.painter.toDataURL(type, backgroundColor, args);
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.shapeToImage
     * @description å°å¸¸è§ shape è½¬æ image shapeã
     *
     * @param {SuperMap.LevelRenderer.Shape} e - å¾å½¢ã
     * @param {number} width - å®½åº¦ã
     * @param {number} height - é«åº¦ã
     * @return {Object} image shapeã
     */
    shapeToImage(e, width, height) {
        var id = Util_Util.createUniqueID("SuperMap.LevelRenderer.ToImage_");
        return this.painter.shapeToImage(id, e, width, height);
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.on
     * @description äºä»¶ç»å®ã
     *
     * @param {string} eventName - äºä»¶åç§°ã
     * @param {Function} eventHandler - ååºå½æ°ã
     * @return {SuperMap.LevelRenderer.Render} thisã
     */
    on(eventName, eventHandler) {
        this.handler.on(eventName, eventHandler);
        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.un
     * @description äºä»¶è§£ç»å®ï¼åæ°ä¸ºç©ºåè§£ç»ææèªå®ä¹äºä»¶ã
     *
     * @param {string} eventName - äºä»¶åç§°ã
     * @param {Function} eventHandler - ååºå½æ°ã
     * @return {SuperMap.LevelRenderer.Render} thisã
     */
    un(eventName, eventHandler) {
        this.handler.un(eventName, eventHandler);
        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.trigger
     * @description  äºä»¶è§¦åã
     *
     * @param {string} eventName - äºä»¶åç§°ï¼resizeï¼hoverï¼dragï¼etcã
     * @param {event} event - event domäºä»¶å¯¹è±¡ã
     * @return {SuperMap.LevelRenderer.Render} thisã
     */
    trigger(eventName, event) {
        this.handler.trigger(eventName, event);
        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.clear
     * @description æ¸é¤å½å Render ä¸ææç±»å¾çæ°æ®åæ¾ç¤ºï¼clear å MVC åå·²ç»å®äºä»¶åè¿å­å¨å¨ï¼Render å¯ç¨ã
     * @return {SuperMap.LevelRenderer.Render} thisã
     */
    clear() {
        this.storage.delRoot();
        this.painter.clear();
        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.dispose
     * @description éæ¾å½å Render å®ä¾ï¼å é¤åæ¬ domï¼æ°æ®ãæ¾ç¤ºåäºä»¶ç»å®ï¼ï¼disposeå Render ä¸å¯ç¨ã
     */
    dispose() {
        this.animation.stop();

        this.clear();
        this.storage.dispose();
        this.painter.dispose();
        this.handler.dispose();

        this.animation = null;
        this.animatingElements = null;
        this.storage = null;
        this.painter = null;
        this.handler = null;

        // éæ¾ååè¯å¨å±å é¤å¯¹èªå·±çç´¢å¼ï¼æ²¡æ³å°å¥å¥½æ¹æ³
        // zrender.delInstance(this.id);

    }

    // SMIC-æ¹æ³æ©å± - start
    /**
     * @function SuperMap.LevelRenderer.Render.prototype.updateHoverShapes
     * @description æ´æ°è®¾ç½®æ¾ç¤ºé«äº®å¾å±ã
     *
     * @param {Array.<SuperMap.LevelRenderer.Shape>} shapes - å¾å½¢æ°ç»ã
     * @return {SuperMap.LevelRenderer.Render} thisã
     */
    updateHoverShapes(shapes) {
        this.painter.updateHoverLayer(shapes);
        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.getAllShapes
     * @description è·åææå¾å½¢ã
     * @return {Array.<SuperMap.LevelRenderer.Shape>} å¾å½¢æ°ç»ã
     */
    getAllShapes() {
        return this.storage._shapeList;
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.clearAll
     * @description æ¸é¤é«äº®åå¾å½¢å¾å±ã
     * @return {SuperMap.LevelRenderer.Render} thisã
     */
    clearAll() {
        this.clear();
        this.painter.clearHover();
        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.Render.prototype.getHoverOne
     * @description è·ååä¸ªé«äº®å¾å½¢ï¼å½åé¼ æ å¯¹åºã
     * @return {SuperMap.LevelRenderer.Shape} é«äº®å¾å½¢ã
     */
    getHoverOne() {
        return this.handler.getLastHoverOne();
    }

    static getFrameCallback(renderInstance) {
        return function () {
            var animatingElements = renderInstance.animatingElements;

            //animatingElements instanceof Array ä¸´æ¶è§£å³ destory æ¥é
            if (animatingElements instanceof Array) {
                for (var i = 0, l = animatingElements.length; i < l; i++) {
                    renderInstance.storage.mod(animatingElements[i].id);
                }

                if (animatingElements.length || renderInstance._needsRefreshNextFrame) {
                    renderInstance.refresh();
                }
            }
        };
    }

    // SMIC-æ¹æ³æ©å± - end


}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/LevelRenderer.js




/**
 * @class  SuperMap.LevelRenderer
 * @category Visualization Theme
 * @classdesc LevelRenderer æ¸²æå¨
 * @private 
 */
class LevelRenderer_LevelRenderer {

    /**
     * @function SuperMap.LevelRenderer.constructor
     * @description æé å½æ°ã
     * @example 
     * //å¨æ¸²æå¨ä¸å ä¸å¾å½¢
     * var levelRenderer = new SuperMap.LevelRenderer();
     * var zr = levelRenderer.init(document.getElementById('lRendertest'));
     * zr.clear();
     * zr.addShape(new SuperMap.LevelRenderer.Shape.Circle({
     *     style:{
     *         x : 100,
     *         y : 100,
     *         r : 50,
     *         brushType: 'fill'
     *     }
     * }));
     * zr.render();
     */
    constructor() {
        /**
         * @member {Object} SuperMap.LevelRenderer.prototype._instances
         * @description LevelRenderer å®ä¾ map ç´¢å¼
         */
        LevelRenderer_LevelRenderer._instances = {};

        // å·¥å·
        LevelRenderer_LevelRenderer.Tool = {};

        /**
         * @member {string} SuperMap.LevelRenderer.prototype.version
         * @description çæ¬ãzRenderï¼Baiduï¼ççæ¬å·
         *              è®°å½å½å LevelRenderer æ¯å¨ zRender çé£ä¸ªçæ¬ä¸æå»ºèæ¥ã
         *              å¨æ¯æ¬¡å®æ´è¯å¤åå®æ½ç± zRenderï¼Baiduï¼åçº§å¸¦æ¥ç LevelRenderer åçº§åä¿®æ¹ã
         */
        this.version = '2.0.4';

        this.CLASS_NAME = "SuperMap.LevelRenderer";

    }

    /**
     * @function SuperMap.LevelRenderer.prototype.destroy
     * @description éæ¯å¯¹è±¡ï¼éæ¾èµæºãè°ç¨æ­¤å½æ°åææå±æ§å°è¢«ç½®ä¸ºnullã
     */
    destroy() {
        this.dispose();
        this.version = null;
    }

    /**
     * @function SuperMap.LevelRenderer.prototype.init
     * @description åå»º LevelRenderer å®ä¾ã
     * @param {HTMLElement} dom - ç»å¾å®¹å¨ã
     * @returns {SuperMap.LevelRenderer} LevelRenderer å®ä¾ã
     */
    init(dom) {
        var zr = new Render_Render(Util_Util.createUniqueID("LRenderer_"), dom);
        LevelRenderer_LevelRenderer._instances[zr.id] = zr;
        return zr;
    }

    /**
     * @function SuperMap.LevelRenderer.prototype.dispose
     * @description LevelRenderer å®ä¾éæ¯ã
     *              å¯ä»¥éè¿ zrender.dispose(zr) éæ¯æå® SuperMap.LevelRenderer.Render å®ä¾ã
     *              ä¹å¯ä»¥éè¿ zr.dispose() ç´æ¥éæ¯
     * @param {SuperMap.LevelRenderer.Render} zr - ZRenderå¯¹è±¡ï¼ä¸ä¼ æ­¤åæ°åéæ¯å¨é¨ã
     * @returns {SuperMap.LevelRenderer} thisã
     */
    dispose(zr) {
        if (zr) {
            zr.dispose();
            this.delInstance(zr.id);
        } else {
            for (var key in LevelRenderer_LevelRenderer._instances) {
                LevelRenderer_LevelRenderer._instances[key].dispose();
            }
            LevelRenderer_LevelRenderer._instances = {};
        }

        return this;
    }

    /**
     * @function SuperMap.LevelRenderer.prototype.getInstance
     * @description è·å SuperMap.LevelRenderer.Render å®ä¾ã
     * @param {string} id - ZRenderå¯¹è±¡ç´¢å¼ã
     * @returns {SuperMap.LevelRenderer.Render} SuperMap.LevelRenderer.Render å®ä¾ã
     */
    getInstance(id) {
        return LevelRenderer_LevelRenderer._instances[id];
    }

    /**
     * @function SuperMap.LevelRenderer.prototype.delInstance
     * @description å é¤ zrender å®ä¾ï¼SuperMap.LevelRenderer.Render å®ä¾ dispose æ¶ä¼è°ç¨ï¼å é¤å getInstance åè¿å undefined
     * @param {string} id - ZRenderå¯¹è±¡ç´¢å¼ã
     * @param {string} id - SuperMap.LevelRenderer.Render å¯¹è±¡ç´¢å¼ã
     * @returns {SuperMap.LevelRenderer} thisã
     */
    delInstance(id) {
        delete LevelRenderer_LevelRenderer._instances[id];
        return this;
    }

}

SuperMap.LevelRenderer = LevelRenderer_LevelRenderer;
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/SmicEllipse.js


/**
 * @private
 * @class  SuperMap.LevelRenderer.Shape.SmicEllipse
 * @category Visualization Theme
 * @classdesc æ¤­åã
 * @extends SuperMap.LevelRenderer.Shape
 * @example  
 *   var shape = new SuperMap.LevelRenderer.Shape.SmicEllipse({
 *       style: {
 *           x: 100,
 *           y: 100,
 *           a: 40,
 *           b: 20,
 *           brushType: 'both',
 *           color: 'blue',
 *           strokeColor: 'red',
 *           lineWidth: 3,
 *           text: 'SmicEllipse'
 *       }
 *   });
 *   levelRenderer.addShape(shape);
 * 
 *
 */
class SmicEllipse_SmicEllipse extends Shape_Shape {

    /**
     * @member {Object} SuperMap.LevelRenderer.Shape.SmicEllipse.style
     * @description ç»å¶æ ·å¼ã
     *
     * @param {number} style.x - åå¿ x åæ ï¼å¿è®¾åæ°ã
     * @param {number} style.y - åå¿ y åæ ï¼å¿è®¾åæ°ã
     * @param {number} style.a - æ¨ªè½´åå¾ï¼å¿è®¾åæ°ã
     * @param {number} style.b - çºµè½´åå¾ï¼å¿è®¾åæ°ã
     * @param {string} style.brushType - ç»ç¬ç±»åãå¯è®¾å¼ï¼"fill", "stroke", "both"ãé»è®¤å¼ï¼"fill"ã
     * @param {string} style.color - å¡«åé¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} style.strokeColor - æè¾¹é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} style.lineCape - çº¿å¸½æ ·å¼ãå¯è®¾å¼ï¼"butt", "round", "square"ãé»è®¤å¼ï¼"butt"ã
     * @param {number} style.lineWidth - æè¾¹å®½åº¦ãé»è®¤å¼ï¼1ã
     * @param {number} style.opacity - ç»å¶éæåº¦ãé»è®¤å¼ï¼1ã
     * @param {number} style.shadowBlur - é´å½±æ¨¡ç³åº¦ï¼å¤§äº0ææãé»è®¤å¼ï¼0ã
     * @param {number} style.shadowColor - é´å½±é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {number} style.shadowOffsetX - é´å½±æ¨ªååç§»ãé»è®¤å¼ï¼0ã
     * @param {number} style.shadowOffsetY - é´å½±çºµååç§»ãé»è®¤å¼ï¼0ã
     * @param {string} style.text - å¾å½¢ä¸­çéå ææ¬ãé»è®¤å¼ï¼""ã
     * @param {string} style.textColor - ææ¬é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} style.textFont - éå ææ¬æ ·å¼ãç¤ºä¾:'bold 18px verdana'ã
     * @param {string} style.textPosition - éå ææ¬ä½ç½®ãå¯è®¾å¼ï¼"inside", "left", "right", top", "bottom", "end"ãé»è®¤å¼ï¼"end"ã
     * @param {string} style.textAlign - éå ææ¬æ°´å¹³å¯¹é½ãå¯è®¾å¼ï¼"start", "end", "left", "right", "center"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
     * @param {string} style.textBaseline - éå ææ¬åç´å¯¹é½ãå¯è®¾å¼ï¼"top", "bottom", "middle", "alphabetic", "hanging", "ideographic"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
     */
    //æå¼æ¥å£ style
    /**
     * @function SuperMap.LevelRenderer.Shape.SmicEllipse.constructor
     * @description æé å½æ°ã
     *
     * @param {Array} options - shape çéç½®ï¼optionsï¼é¡¹ï¼å¯ä»¥æ¯ shape çèªæå±æ§ï¼ä¹å¯ä»¥æ¯èªå®ä¹çå±æ§ã
     *
     */
    constructor(options) {
        super(options);

        /**
         * @member {string} SuperMap.LevelRenderer.Shape.SmicEllipse.prototype.type
         * @description å¾å½¢ç±»åã
         */
        this.type = 'smicellipse';

        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }

        this.CLASS_NAME = "SuperMap.LevelRenderer.Shape.SmicEllipse";
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicEllipse.prototype.destroy
     * @description éæ¯å¯¹è±¡ï¼éæ¾èµæºãè°ç¨æ­¤å½æ°åææå±æ§å°è¢«ç½®ä¸º nullã
     */
    destroy() {
        this.type = null;
        super.destroy();
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicEllipse.prototype.buildPath
     * @description æå»ºæ¤­åç Pathã
     *
     * @param {CanvasRenderingContext2D} ctx - Context2D ä¸ä¸æã
     * @param {Object} style - styleã
     *
     */
    buildPath(ctx, style) {
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        var __OP = this.refOriginalPosition;

        var k = 0.5522848;
        var x = style.x + __OP[0];
        var y = style.y + __OP[1];
        var a = style.a;
        var b = style.b;
        var ox = a * k; // æ°´å¹³æ§å¶ç¹åç§»é
        var oy = b * k; // åç´æ§å¶ç¹åç§»é
        // ä»æ¤­åçå·¦ç«¯ç¹å¼å§é¡ºæ¶éç»å¶åæ¡ä¸æ¬¡è´å¡å°æ²çº¿
        ctx.moveTo(x - a, y);
        ctx.bezierCurveTo(x - a, y - oy, x - ox, y - b, x, y - b);
        ctx.bezierCurveTo(x + ox, y - b, x + a, y - oy, x + a, y);
        ctx.bezierCurveTo(x + a, y + oy, x + ox, y + b, x, y + b);
        ctx.bezierCurveTo(x - ox, y + b, x - a, y + oy, x - a, y);
        ctx.closePath();
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicEllipse.prototype.getRect
     * @description è®¡ç®è¿åæ¤­ååå´çç©å½¢
     *
     * @param {Object} style - style
     * @return {Object} è¾¹æ¡å¯¹è±¡ãåå«å±æ§ï¼xï¼yï¼widthï¼heightã
     * 
     */
    getRect(style) {
        if (style.__rect) {
            return style.__rect;
        }

        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        var __OP = this.refOriginalPosition;

        var lineWidth;
        if (style.brushType == 'stroke' || style.brushType == 'fill') {
            lineWidth = style.lineWidth || 1;
        } else {
            lineWidth = 0;
        }
        style.__rect = {
            x: Math.round((style.x + __OP[0]) - style.a - lineWidth / 2),
            y: Math.round((style.x + __OP[1]) - style.b - lineWidth / 2),
            width: style.a * 2 + lineWidth,
            height: style.b * 2 + lineWidth
        };

        return style.__rect;
    }

}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/SmicIsogon.js



/**
 * @private
 * @class  SuperMap.LevelRenderer.Shape.SmicIsogon
 * @category Visualization Theme
 * @classdesc æ­£å¤è¾¹å½¢ã
 * @extends SuperMap.LevelRenderer.Shape
 */
class SmicIsogon_SmicIsogon extends Shape_Shape {

    /**
     * @member {Object} SuperMap.LevelRenderer.Shape.SmicIsogon.prototype.style
     * @description ç»å¶æ ·å¼ã
     *
     * @param {number} x - æ­£ n è¾¹å½¢å¤æ¥åå¿ x åæ ï¼å¿è®¾åæ°ã
     * @param {number} y - æ­£ n è¾¹å½¢å¤æ¥åå¿ y åæ ï¼å¿è®¾åæ°ã
     * @param {number} r - æ­£nè¾¹å½¢å¤æ¥ååå¾ï¼å¿è®¾åæ°ã
     * @param {number} ï½ - æææ­£å è¾¹å½¢ï¼å¿è®¾åæ°ï¼n>=3ï¼ã
     * @param {string} brushType - ç»ç¬ç±»åãå¯è®¾å¼ï¼"fill", "stroke", "both"ãé»è®¤å¼ï¼"fill"ã
     * @param {string} color -  å¡«åé¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} strokeColor - æè¾¹é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} lineCape - çº¿å¸½æ ·å¼ãå¯è®¾å¼ï¼"butt", "round", "square"ãé»è®¤å¼ï¼"butt"ã
     * @param {number} lineWidth - æè¾¹å®½åº¦ãé»è®¤å¼ï¼1ã
     * @param {number} opacity - ç»å¶éæåº¦ãé»è®¤å¼ï¼1ã
     * @param {number} shadowBlur - é´å½±æ¨¡ç³åº¦ï¼å¤§äº0ææãé»è®¤å¼ï¼0ã
     * @param {number} shadowColor - é´å½±é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {number} shadowOffsetX - é´å½±æ¨ªååç§»ãé»è®¤å¼ï¼0ã
     * @param {number} shadowOffsetY - é´å½±çºµååç§»ãé»è®¤å¼ï¼0ã
     * @param {string} text - å¾å½¢ä¸­çéå ææ¬ãé»è®¤å¼ï¼""ã
     * @param {string} textColor -ææ¬é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} textFont - éå ææ¬æ ·å¼ãç¤ºä¾:'bold 18px verdana'ã
     * @param {string} textPosition - éå ææ¬ä½ç½®ãå¯è®¾å¼ï¼"inside", "left", "right", top", "bottom", "end"ãé»è®¤å¼ï¼"end"ã
     * @param {string} textAlign - éå ææ¬æ°´å¹³å¯¹é½ãå¯è®¾å¼ï¼"start", "end", "left", "right", "center"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
     * @param {string} textBaseline - éå ææ¬åç´å¯¹é½ãå¯è®¾å¼ï¼"top", "bottom", "middle", "alphabetic", "hanging", "ideographic"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
     */
    //æå¼æ¥å£ style



    /**
     * @function SuperMap.LevelRenderer.Shape.SmicIsogon.constructor
     * @description æé å½æ°ã
     *
     * @param {Array} options - shape çéç½®ï¼optionsï¼é¡¹ï¼å¯ä»¥æ¯ shape çèªæå±æ§ï¼ä¹å¯ä»¥æ¯èªå®ä¹çå±æ§ã
     *
     */
    constructor(options) {
        super(options);
        /**
         * @member {string} SuperMap.LevelRenderer.Shape.SmicIsogon.prototype.type
         * @description å¾å½¢ç±»åã
         */
        this.type = 'smicisogon';
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        this.CLASS_NAME = "SuperMap.LevelRenderer.Shape.SmicIsogon";
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicIsogon.prototype.destroy
     * @description éæ¯å¯¹è±¡ï¼éæ¾èµæºãè°ç¨æ­¤å½æ°åææå±æ§å°è¢«ç½®ä¸º nullã
     */
    destroy() {
        this.type = null;
        super.destroy();
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicIsogon.prototype.buildPath
     * @description åå»ºnè§æï¼n>=3ï¼è·¯å¾ã
     *
     * @param {CanvasRenderingContext2D} ctx - Context2D ä¸ä¸æã
     * @param {Object} style - styleã
     *
     */
    buildPath(ctx, style) {
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        var __OP = this.refOriginalPosition;

        var sin = SUtil.Util_math.sin;
        var cos = SUtil.Util_math.cos;
        var PI = Math.PI;

        var n = style.n;
        if (!n || n < 2) {
            return;
        }

        var x = style.x + __OP[0];
        var y = style.y + __OP[1];
        var r = style.r;

        var dStep = 2 * PI / n;
        var deg = -PI / 2;
        var xStart = x + r * cos(deg);
        var yStart = y + r * sin(deg);
        deg += dStep;

        // è®°å½è¾¹çç¹ï¼ç¨äºå¤æ­insight
        var pointList = style.pointList = [];
        pointList.push([xStart, yStart]);
        for (let i = 0, end = n - 1; i < end; i++) {
            pointList.push([x + r * cos(deg), y + r * sin(deg)]);
            deg += dStep;
        }
        pointList.push([xStart, yStart]);

        // ç»å¶
        ctx.moveTo(pointList[0][0], pointList[0][1]);
        for (let i = 0; i < pointList.length; i++) {
            ctx.lineTo(pointList[i][0], pointList[i][1]);
        }
        ctx.closePath();

        return;
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicIsogon.prototype.getRect
     * @description è®¡ç®è¿åæ­£å¤è¾¹å½¢çåå´çç©å½¢ã
     *
     * @param {Object} style - style
     * @return {Object} è¾¹æ¡å¯¹è±¡ãåå«å±æ§ï¼xï¼yï¼widthï¼heightã
     */
    getRect(style) {
        if (style.__rect) {
            return style.__rect;
        }

        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        var __OP = this.refOriginalPosition;

        var lineWidth;
        if (style.brushType == 'stroke' || style.brushType == 'fill') {
            lineWidth = style.lineWidth || 1;
        } else {
            lineWidth = 0;
        }
        style.__rect = {
            x: Math.round((style.x + __OP[0]) - style.r - lineWidth / 2),
            y: Math.round((style.y + __OP[1]) - style.r - lineWidth / 2),
            width: style.r * 2 + lineWidth,
            height: style.r * 2 + lineWidth
        };

        return style.__rect;
    }

}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/SmicRing.js


/**
 * @private
 * @class  SuperMap.LevelRenderer.Shape.SmicRing
 * @category Visualization Theme
 * @classdesc åç¯ã
 * @extends SuperMap.LevelRenderer.Shape
 * @example
 *   var shape = new SuperMap.LevelRenderer.Shape.SmicRing({
 *         style: {
 *             x: 100,
 *             y: 100,
 *             r0: 30,
 *             r: 50
 *         }
 *     });
 *   levelRenderer.addShape(shape);
 *
 */
class SmicRing_SmicRing extends Shape_Shape {

    /**
     * @member {Object} SuperMap.LevelRenderer.Shape.SmicRing.prototype.style
     * @description ç»å¶æ ·å¼ã
     *
     * @param {number} x - åå¿ x åæ ï¼å¿è®¾åæ°ã
     * @param {number} y - åå¿ y åæ ï¼å¿è®¾åæ°ã
     * @param {number} r - å¤ååå¾ï¼å¿è®¾åæ°ã
     * @param {number} r0 - åååå¾ï¼å¿è®¾åæ°ã
     * @param {string} brushType - ç»ç¬ç±»åãå¯è®¾å¼ï¼"fill", "stroke", "both"ãé»è®¤å¼ï¼"fill"ã
     * @param {string} color - å¡«åé¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} strokeColor - æè¾¹é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} lineCape - çº¿å¸½æ ·å¼ãå¯è®¾å¼ï¼"butt", "round", "square"ãé»è®¤å¼ï¼"butt"ã
     * @param {number} lineWidth -æè¾¹å®½åº¦ãé»è®¤å¼ï¼1ã
     * @param {number} opacity - ç»å¶éæåº¦ãé»è®¤å¼ï¼1ã
     * @param {number} shadowBlur - é´å½±æ¨¡ç³åº¦ï¼å¤§äº0ææãé»è®¤å¼ï¼0ã
     * @param {number} shadowColor - é´å½±é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {number} shadowOffsetX - é´å½±æ¨ªååç§»ãé»è®¤å¼ï¼0ã
     * @param {number} shadowOffsetY - é´å½±çºµååç§»ãé»è®¤å¼ï¼0ã
     * @param {string} text -å¾å½¢ä¸­çéå ææ¬ãé»è®¤å¼ï¼""ã
     * @param {string} textColor - ææ¬é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} textFont - éå ææ¬æ ·å¼ãç¤ºä¾:'bold 18px verdana'ã
     * @param {string} textPosition - éå ææ¬ä½ç½®ãå¯è®¾å¼ï¼"inside", "left", "right", top", "bottom", "end"ãé»è®¤å¼ï¼"end"ã
     * @param {string} textAlign - éå ææ¬æ°´å¹³å¯¹é½ãå¯è®¾å¼ï¼"start", "end", "left", "right", "center"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
     * @param {string} textBaseline - éå ææ¬åç´å¯¹é½ãå¯è®¾å¼ï¼"top", "bottom", "middle", "alphabetic", "hanging", "ideographic"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
     */
    //æå¼æ¥å£ style

    /**
     * @function SuperMap.LevelRenderer.Shape.SmicRing.constructor
     * @description æé å½æ°ã
     *
     * @param {Array} options - shape çéç½®ï¼optionsï¼é¡¹ï¼å¯ä»¥æ¯ shape çèªæå±æ§ï¼ä¹å¯ä»¥æ¯èªå®ä¹çå±æ§ã
     */
    constructor(options) {
        super(options);
        /**
         * @member {string} SuperMap.LevelRenderer.Shape.SmicRing.prototype.type
         * @description å¾å½¢ç±»åã
         */
        this.type = 'smicring';
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        this.CLASS_NAME = "SuperMap.LevelRenderer.Shape.SmicRing";

    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicRing.prototype.destroy
     * @description éæ¯å¯¹è±¡ï¼éæ¾èµæºãè°ç¨æ­¤å½æ°åææå±æ§å°è¢«ç½®ä¸º nullã
     */
    destroy() {
        this.type = null;
        super.destroy();
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicRing.prototype.buildPath
     * @description åå»ºåç¯è·¯å¾ã
     *
     * @param {CanvasRenderingContext2D} ctx - Context2D ä¸ä¸æã
     * @param {Object} style - styleã
     *
     */
    buildPath(ctx, style) {
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        var __OP = this.refOriginalPosition;

        // éé¶ç¯ç»å¡«åä¼å
        ctx.arc(style.x + __OP[0], style.y + __OP[1], style.r, 0, Math.PI * 2, false);
        ctx.moveTo((style.x + __OP[0]) + style.r0, style.y + __OP[1]);
        ctx.arc(style.x + __OP[0], style.y + __OP[1], style.r0, 0, Math.PI * 2, true);
        return;
    }


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicRing.prototype.getRect
     * @description è®¡ç®è¿ååç¯åå´çç©éµ
     *
     * @param {Object} style - style
     * @return {Object} è¾¹æ¡å¯¹è±¡ãåå«å±æ§ï¼xï¼yï¼widthï¼heightã
     */
    getRect(style) {
        if (style.__rect) {
            return style.__rect;
        }

        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        var __OP = this.refOriginalPosition;

        var lineWidth;
        if (style.brushType == 'stroke' || style.brushType == 'fill') {
            lineWidth = style.lineWidth || 1;
        } else {
            lineWidth = 0;
        }
        style.__rect = {
            x: Math.round((style.x + __OP[0]) - style.r - lineWidth / 2),
            y: Math.round((style.y + __OP[1]) - style.r - lineWidth / 2),
            width: style.r * 2 + lineWidth,
            height: style.r * 2 + lineWidth
        };

        return style.__rect;
    }

}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/SmicStar.js



/**
 * @private
 * @class  SuperMap.LevelRenderer.Shape.SmicStar
 * @category Visualization Theme
 * @classdesc n è§æï¼n>3ï¼ã
 * @extends SuperMap.LevelRenderer.Shape
 * @example 
 *   var shape = new SuperMap.LevelRenderer.Shape.SmicStar({
 *         style: {
 *             x: 200,
 *             y: 100,
 *             r: 150,
 *             n: 5,
 *             text: 'äºè§æ'
 *         }
 *   });
 *   levelRenderer.addShape(shape);
 * 
 *
 */
class SmicStar_SmicStar extends Shape_Shape {

    /**
     * @member {Object} SuperMap.LevelRenderer.Shape.SmicStar.prototype.style
     * @description ç»å¶æ ·å¼ã
     *
     * @param {number} style.x - n è§æå¤æ¥åå¿ x åæ ï¼å¿è®¾åæ°ã
     * @param {number} style.y - n è§æå¤æ¥åå¿ y åæ ï¼å¿è®¾åæ°ã
     * @param {number} style.r - n è§æå¤æ¥ååå¾ï¼å¿è®¾åæ°ã
     * @param {number} style.r0 - n è§æåé¨é¡¶ç¹ï¼å¹ç¹ï¼çå¤æ¥ååå¾ãå¦æä¸æå®æ­¤åæ°ï¼åèªå¨è®¡ç®ï¼åç¸éå¤é¨é¡¶ç¹è¿çº¿çäº¤ç¹ä½åé¨é¡¶ç¹ã
     * @param {number} style.n -ææå è§æï¼å¿è®¾åæ°ã
     * @param {string} style.brushType - ç»ç¬ç±»åãå¯è®¾å¼ï¼"fill", "stroke", "both"ãé»è®¤å¼ï¼"fill"ã
     * @param {string} style.color - å¡«åé¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} style.strokeColor - æè¾¹é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} style.lineCape - çº¿å¸½æ ·å¼ãå¯è®¾å¼ï¼"butt", "round", "square"ãé»è®¤å¼ï¼"butt"ã
     * @param {number} style.lineWidth - æè¾¹å®½åº¦ãé»è®¤å¼ï¼1ã
     * @param {number} style.opacity - ç»å¶éæåº¦ãé»è®¤å¼ï¼1ã
     * @param {number} style.shadowBlur - é´å½±æ¨¡ç³åº¦ï¼å¤§äº0ææãé»è®¤å¼ï¼0ã
     * @param {number} style.shadowColor - é´å½±é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {number} style.shadowOffsetX - é´å½±æ¨ªååç§»ãé»è®¤å¼ï¼0ã
     * @param {number} style.shadowOffsetY - é´å½±çºµååç§»ãé»è®¤å¼ï¼0ã
     * @param {string} style.text - å¾å½¢ä¸­çéå ææ¬ãé»è®¤å¼ï¼""ã
     * @param {string} style.textColor - ææ¬é¢è²ãé»è®¤å¼ï¼"#000000'"ã
     * @param {string} style.textFont - éå ææ¬æ ·å¼ãç¤ºä¾:'bold 18px verdana'ã
     * @param {string} style.textPosition - éå ææ¬ä½ç½®ãå¯è®¾å¼ï¼"inside", "left", "right", top", "bottom", "end"ãé»è®¤å¼ï¼"end"ã
     * @param {string} style.textAlign - éå ææ¬æ°´å¹³å¯¹é½ãå¯è®¾å¼ï¼"start", "end", "left", "right", "center"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
     * @param {string} style.textBaseline - éå ææ¬åç´å¯¹é½ãå¯è®¾å¼ï¼"top", "bottom", "middle", "alphabetic", "hanging", "ideographic"ãé»è®¤æ ¹æ® textPosition èªå¨è®¾ç½®ã
     */
    //æå¼æ¥å£ style


    /**
     * @function SuperMap.LevelRenderer.Shape.SmicStar.constructor
     * @description æé å½æ°ã
     * 
     * @param {Array} options - shape çéç½®ï¼optionsï¼é¡¹ï¼å¯ä»¥æ¯ shape çèªæå±æ§ï¼ä¹å¯ä»¥æ¯èªå®ä¹çå±æ§ã
     *
     */
    constructor(options) {
        super(options);
        /**
         * @member {string} SuperMap.LevelRenderer.Shape.SmicStar.prototype.type
         * @description å¾å½¢ç±»åã  
         */
        this.type = 'smicstar';

        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }

        this.CLASS_NAME = "SuperMap.LevelRenderer.Shape.SmicStar";
    }

    /**
     * @function SuperMap.LevelRenderer.Shape.SmicStar.prototype.destroy
     * @description éæ¯å¯¹è±¡ï¼éæ¾èµæºãè°ç¨æ­¤å½æ°åææå±æ§å°è¢«ç½®ä¸º nullã
     */
    destroy() {
        this.type = null;
        super.destroy();
    }

    /**
     * @function SuperMap.LevelRenderer.Shape.SmicStar.prototype.buildPath
     * @description åå»ºn  è§æï¼n>3ï¼è·¯å¾ã
     *
     * @param {CanvasRenderingContext2D} ctx - Context2D ä¸ä¸æã
     * @param {Object} style - styleã
     *
     */
    buildPath(ctx, style) {
        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        var __OP = this.refOriginalPosition;

        var n = style.n;
        if (!n || n < 2) {
            return;
        }

        var sin = SUtil.Util_math.sin;
        var cos = SUtil.Util_math.cos;
        var PI = Math.PI;

        var x = style.x + __OP[0];
        var y = style.y + __OP[1];
        var r = style.r;
        var r0 = style.r0;

        // å¦ææªæå®åé¨é¡¶ç¹å¤æ¥ååå¾ï¼åèªå¨è®¡ç®
        if (r0 == null) {
            r0 = n > 4
                // ç¸éçå¤é¨é¡¶ç¹çè¿çº¿çäº¤ç¹ï¼
                // è¢«åä¸ºåé¨äº¤ç¹ï¼ä»¥æ­¤è®¡ç®r0
                ? r * cos(2 * PI / n) / cos(PI / n)
                // äºä¸åè§æçç¹æ®å¤ç
                : r / 3;
        }

        var dStep = PI / n;
        var deg = -PI / 2;
        var xStart = x + r * cos(deg);
        var yStart = y + r * sin(deg);
        deg += dStep;

        // è®°å½è¾¹çç¹ï¼ç¨äºå¤æ­inside
        var pointList = style.pointList = [];
        pointList.push([xStart, yStart]);
        for (var i = 0, end = n * 2 - 1, ri; i < end; i++) {
            ri = i % 2 === 0 ? r0 : r;
            pointList.push([x + ri * cos(deg), y + ri * sin(deg)]);
            deg += dStep;
        }
        pointList.push([xStart, yStart]);

        // ç»å¶
        ctx.moveTo(pointList[0][0], pointList[0][1]);
        for (let i = 0; i < pointList.length; i++) {
            ctx.lineTo(pointList[i][0], pointList[i][1]);
        }

        ctx.closePath();

        return;
    }

    /**
     * @function SuperMap.LevelRenderer.Shape.SmicStar.prototype.getRect
     * @description è¿å n è§æåå´çç©å½¢ã
     *
     * @param {Object} style - style
     * @return {Object} è¾¹æ¡å¯¹è±¡ãåå«å±æ§ï¼xï¼yï¼widthï¼heightã
     */
    getRect(style) {
        if (style.__rect) {
            return style.__rect;
        }

        if (!this.refOriginalPosition || this.refOriginalPosition.length !== 2) {
            this.refOriginalPosition = [0, 0];
        }
        var __OP = this.refOriginalPosition;

        var lineWidth;
        if (style.brushType == 'stroke' || style.brushType == 'fill') {
            lineWidth = style.lineWidth || 1;
        } else {
            lineWidth = 0;
        }
        style.__rect = {
            x: Math.round((style.x + __OP[0]) - style.r - lineWidth / 2),
            y: Math.round((style.y + __OP[1]) - style.r - lineWidth / 2),
            width: style.r * 2 + lineWidth,
            height: style.r * 2 + lineWidth
        };

        return style.__rect;
    }

}
// CONCATENATED MODULE: ./src/common/overlay/levelRenderer/index.js













































































// CONCATENATED MODULE: ./src/common/overlay/index.js


























// CONCATENATED MODULE: ./src/common/widgets/CommonTypes.js
/**
 * è¯¥æä»¶ç¨äºå­å¨ä¸äºå¬ç¨å¸¸é
 *
 */
const FileTypes = {
    EXCEL: "EXCEL",
    CSV: "CSV",
    ISERVER: "ISERVER",
    GEOJSON: "GEOJSON",
    JSON: 'JSON'
};
const FileConfig = {
    fileMaxSize: 10 * 1024 * 1024
};
// CONCATENATED MODULE: ./src/common/widgets/openFile/fileModel.js


/**
 * @description æä»¶æ°æ®å¾®ä»¶æ°æ®æ¨¡åï¼ç¨äºå­å¨ä¸äºæ°æ®æç¶æï¼todo ç»æå¾å®å
 */
class fileModel_FileModel {
    constructor(options) {
        this.FileTypes = FileTypes;
        this.FileConfig = FileConfig;
        this.map = options && options.map ? options.map : null;
        this.loadFileObject = [];
    }

    set(key, value) {
        this[key] = value;
    }

    get(key) {
        return this[key];
    }

}
// CONCATENATED MODULE: ./src/common/widgets/util/util.js


let widgetsUtil = {
    /**
     * è·åä¸ä¼ æä»¶ç±»å
     * @param fileName
     */
    getFileType(fileName) {
        let regCSV = /^.*\.(?:csv)$/i;
        let regExcel = /^.*\.(?:xls|xlsx)$/i; //æä»¶åå¯ä»¥å¸¦ç©ºæ ¼
        let regGeojson = /^.*\.(?:geojson|json)$/i;
        if (regExcel.test(fileName)) { //æ ¡éªä¸éè¿
            return FileTypes.EXCEL;
        } else if (regCSV.test(fileName)) {
            return FileTypes.CSV;
        } else if (regGeojson.test(fileName)) {
            return FileTypes.GEOJSON;
        }
        return null;
    },

    /**
     * å¤æ­æ¯å¦å°çXåæ 
     *
     * @param data
     */
    isXField(data) {
        var lowerdata = data.toLowerCase();
        return (lowerdata === "x" || lowerdata === "smx" ||
            lowerdata === "jd" || lowerdata === "ç»åº¦" || lowerdata === "ä¸ç»" || lowerdata === "longitude" ||
            lowerdata === "lot" || lowerdata === "lon" || lowerdata === "lng");
    },

    /**
     * å¤æ­æ¯å¦å°çYåæ 
     *
     * @param data
     */
    isYField(data) {
        var lowerdata = data.toLowerCase();
        return (lowerdata === "y" || lowerdata === "smy" ||
            lowerdata === "wd" || lowerdata === "çº¬åº¦" || lowerdata === "åçº¬" ||
            lowerdata === "latitude" || lowerdata === "lat");
    },
    /**
     * å­ç¬¦ä¸²è½¬ä¸ºdataEditor æ¯æçcsvæ ¼å¼æ°æ®
     * @param string
     * @param withoutTitle
     */
    string2Csv(string, withoutTitle) {
        // let rows = string.split('\r\n');
        let rows = string.split('\n');
        let result = {};
        if (!withoutTitle) {
            result["colTitles"] = rows[0].split(',');
        } else {
            result["colTitles"] = [];
        }
        result['rows'] = [];
        for (let i = (withoutTitle) ? 0 : 1; i < rows.length; i++) {
            rows[i] && result['rows'].push(rows[i].split(','));
        }
        return result;
    }

};
// EXTERNAL MODULE: ./node_modules/xlsx/xlsx.js
var xlsx = __webpack_require__(5);
var xlsx_default = /*#__PURE__*/__webpack_require__.n(xlsx);

// CONCATENATED MODULE: ./src/common/widgets/util/FileReaderUtil.js



let FileReaderUtil = {

    rABS: typeof FileReader !== 'undefined' && FileReader.prototype && FileReader.prototype.readAsBinaryString,
    rABF: typeof FileReader !== 'undefined' && FileReader.prototype && FileReader.prototype.readAsArrayBuffer,
    rAT: typeof FileReader !== 'undefined' && FileReader.prototype && FileReader.prototype.readAsText,
    /**
     * è¯»åæä»¶
     * @param fileType
     * @param file
     * @param success
     * @param failed
     * @param context
     */
    readFile(fileType, file, success, failed, context) {
        if (FileTypes.JSON === fileType || FileTypes.GEOJSON === fileType) {
            this.readTextFile(file, success, failed, context)
        } else if (FileTypes.EXCEL === fileType || FileTypes.CSV === fileType) {
            this.readXLSXFile(file, success, failed, context)
        }

    },

    /**
     * è¯»åææ¬æä»¶
     * @param file
     * @param success
     * @param failed
     * @param context
     */
    readTextFile(file, success, failed, context) {
        let reader = new FileReader();
        reader.onloadend = function (evt) {
            success && success.call(context, evt.target.result);
        };
        reader.onerror = function (error) {
            failed && failed.call(context, error)
        };
        this.rAT ? reader.readAsText(file.file, 'utf-8') : reader.readAsBinaryString(file.file);
    },

    /**
     * è¯»åexcelæcsvæä»¶
     * @param file
     * @param success
     * @param failed
     * @param context
     */
    readXLSXFile(file, success, failed, context) {
        let reader = new FileReader();
        reader.onloadend = function (evt) {
            let xLSXData = new Uint8Array(evt.target.result);
            let workbook = xlsx_default.a.read(xLSXData, {type: "array"});
            try {
                if (workbook && workbook.SheetNames && workbook.SheetNames.length > 0) {
                    //ææ¶åªè¯»åç¬¬ä¸ä¸ªsheetsçåå®¹
                    let sheetName = workbook.SheetNames[0];
                    let xLSXCSVString = xlsx_default.a.utils.sheet_to_csv(workbook.Sheets[sheetName]);
                    success && success.call(context, xLSXCSVString);
                }
            } catch (error) {
                failed && failed.call(context, error);
            }
        };
        reader.onerror = function (error) {
            failed && failed.call(context, error)
        };
        this.rABF && reader.readAsArrayBuffer(file.file);
    }

};
// CONCATENATED MODULE: ./src/common/widgets/util/index.js





// CONCATENATED MODULE: ./src/common/widgets/index.js
//æ°æ®

//ç»ä»¶

//å·¥å·ç±»





// CONCATENATED MODULE: ./src/common/index.js

































// EXTERNAL MODULE: external "mapboxgl"
var external_mapboxgl_ = __webpack_require__(0);
var external_mapboxgl_default = /*#__PURE__*/__webpack_require__.n(external_mapboxgl_);

// CONCATENATED MODULE: ./src/mapboxgl/core/MapExtend.js



/**
 * @function mapboxgl.supermap.MapExtend
 * @description  æ©å±äº mapboxgl.Map å¯¹å¾å±ç¸å³çæä½ã
 * @private
 */
var MapExtend = function () {

    external_mapboxgl_default.a.Map.prototype.overlayLayersManager = {};

    external_mapboxgl_default.a.Map.prototype.addLayer = function (layer, before) {
        if (layer.source) {
            this.style.addLayer(layer, before);
            this._update(true);
            return this;
        }
        if (this.overlayLayersManager[layer.id] || this.style._layers[layer.id]) {
            this.fire('error', {error: new Error('A layer with this id already exists.')});
            return;
        }
        addLayer(layer, this);
        this.overlayLayersManager[layer.id] = layer;
        return this;
    };
    external_mapboxgl_default.a.Map.prototype.getLayer = function (id) {
        if (this.overlayLayersManager[id]) {
            return this.overlayLayersManager[id];
        }
        return this.style.getLayer(id);
    };

    external_mapboxgl_default.a.Map.prototype.moveLayer = function (id, beforeId) {
        if (this.overlayLayersManager[id]) {
            moveLayer(id, beforeId);
            return this;
        }
        if (this.style._layers[id]) {
            this.style.moveLayer(id, beforeId);
            this._update(true);
            return this;
        }
    };

    external_mapboxgl_default.a.Map.prototype.removeLayer = function (id) {
        if (this.overlayLayersManager[id]) {
            removeLayer(this.overlayLayersManager[id]);
            delete this.overlayLayersManager[id];
            return this;
        }
        this.style.removeLayer(id);
        this._update(true);
        return this;
    };

    //ç®åæ©å±çoverlayerï¼åªæ¯ææ¾ç¤ºæéèå¾å±æä½
    external_mapboxgl_default.a.Map.prototype.setLayoutProperty = function (layerID, name, value) {
        if (this.overlayLayersManager[layerID]) {
            if (name === "visibility") {
                if (value === "block") {
                    value = true;
                } else {
                    value = false;
                }
                setVisibility(this.overlayLayersManager[layerID], value);
            }
            return this;
        }
        this.style.setLayoutProperty(layerID, name, value);
        this._update(true);
        return this;
    };

    function addLayer(layer, map) {
        layer.onAdd(map);
    }

    /**
     * @function mapboxgl.supermap.MapExtend.prototype.removeFromMap
     * @description  ç§»é¤äºä»¶ã
     */
    function removeLayer(layer) {
        layer.removeFromMap();
    }

    /**
     * @function mapboxgl.supermap.MapExtend.prototype.setVisibility
     * @description  è®¾ç½®å¾å±å¯è§æ§ï¼è®¾ç½®å¾å±çéèï¼æ¾ç¤ºï¼éç»çç¸åºçå¯è§æ è®°ã
     * @param {boolean} [visibility] - æ¯å¦æ¾ç¤ºå¾å±ï¼å½åå°å¾ç resolution å¨æå¤§æå° resolution ä¹é´ï¼ã
     */
    function setVisibility(layer, visibility) {
        layer.setVisibility(visibility);
    }

    /**
     * @function mapboxgl.supermap.MapExtend.prototype.moveTo
     * @description å°å¾å±ç§»å¨å°æä¸ªå¾å±ä¹åã
     * @param {string} layerID -å¾æå¥çå¾å± IDã
     * @param {boolean} [beforeLayerID] - æ¯å¦å°æ¬å¾å±æå¥å°å¾å± id ä¸º layerID çå¾å±ä¹å(å¦æä¸º false åå°æ¬å¾å±æå¥å°å¾å± id ä¸º layerID çå¾å±ä¹å)ã
     */
    function moveLayer(layerID, beforeLayerID) {
        var layer = document.getElementById(layerID);
        // var beforeLayer;
        if (beforeLayerID) {
            var beforeLayer = document.getElementById(beforeLayerID);
            if (!beforeLayer) {
                external_mapboxgl_default.a.Evented.prototype.fire("error", {error: new Error(`Layer with id "${beforeLayerID}" does not exist on this document.`)});
            }
        }
        if (layer && beforeLayer) {
            beforeLayer.parentNode.insertBefore(layer, beforeLayer);
        } else {
            //å½æ²¡æä¼ å¥beforeLayerID ï¼åé»è®¤å°å¾å±ç§»å¨å°æä¸é¢
            layer.parentNode.appendChild(layer);
        }
    }

}();
// CONCATENATED MODULE: ./src/mapboxgl/core/Base.js
/**
 * SuperMap mapboxglåºç±»
 * å®ä¹å½åç©ºé´
 */
/**
 * @namespace mapboxgl
 * @category BaseTypes Namespace
 */
/**
 * @namespace mapboxgl.supermap
 * @category BaseTypes Namespace
 */



external_mapboxgl_default.a.supermap = external_mapboxgl_default.a.supermap || {};
// CONCATENATED MODULE: ./src/mapboxgl/control/Logo.js




/**
 * @class mapboxgl.supermap.LogoControl
 * @category  Control
 * @classdesc Logo æ§ä»¶ãé»è®¤ä¸æ¾ç¤ºã
 *
 * @example
 * (start code)
 *  map.addControl(new mapboxgl.supermap.LogoControl(),'bottom-right');
 * (end)
 * @param {Object} options - logo æ§ä»¶éç½®é¡¹ã
 * @param {string} [options.imageUrl] - logo å¾çå°åã
 * @param {string} [options.width] - logo å¾çå®½ã
 * @param {string} [options.height] - logo å¾çé«ã
 * @param {string} [options.link] - logo å¾çè·³è½¬é¾æ¥ã
 * @param {string} [options.alt='SuperMap iClient'] - logo å¾çå¤±ææ¶æ¾ç¤ºææ¬ã
 */
class Logo_Logo {
    constructor(options) {
        //logoå¾çå°å
        this.imageUrl = null;
        //è·³è½¬é¾æ¥
        this.link = null;
        //logoå¾çå®½
        this.width = null;
        //logoå¾çé«
        this.height = null;
        //logoå¾çå¤±ææ¶æ¾ç¤ºææ¬
        this.alt = "SuperMap iClient";
        this._extend(this, options)
    }

    /**
     * @function mapboxgl.supermap.LogoControl.prototype.onAdd
     * @description æ·»å ä¸ä¸ª logoã
     * @returns {div} è¿ååå»ºç logo åç´ ã
     */
    onAdd(map) {
        this._map = map;
        this._container = document.createElement('div');
        this._container.className = 'mapboxgl-ctrl iclient-logo';
        this._container.style.marginTop = 0;
        this._container.style.marginBottom = 0;
        this._container.style.marginLeft = 0;
        this._container.style.marginRight = 0;

        var imgSrc = LogoBase64;
        if (this.imageUrl) {
            imgSrc = this.imageUrl;
        }
        var alt = this.alt;

        var imageWidth = "94px";
        var imageHeight = "29px";
        var styleSize = "width:" + imageWidth + ";height:" + imageHeight + ";";
        if (this.imageUrl) {
            imageWidth = this.width;
            imageHeight = this.height;
            styleSize = "width:" + imageWidth + ";height:" + imageHeight + ";";
            if (!imageWidth || !imageHeight) {
                styleSize = "";
            }
        }
        var link = this.link || "http://iclient.supermap.io";
        this._container.innerHTML = "<a href='" + link + "' target='_blank'>" +
            "<img src=" + imgSrc + " alt='" + alt + "' style='" + styleSize + "margin-bottom: 2px'></a>";
        this._createStyleSheet();
        return this._container;
    }

    _createStyleSheet() {
        var style = document.createElement('style');
        style.type = 'text/css';
        style.innerHTML = ".iclient-logo{" +
            "margin:0 !important;" +
            "}" +
            ".iclient-logo a{" +
            "border: none;" +
            "display: block;" +
            "height:31px;" +
            "}" +
            ".iclient-logo img{" +
            "border: none;" +
            "white-space: nowrap" +
            "}";
        document.getElementsByTagName('head')[0].appendChild(style);
    }

    _extend(dest) {
        for (var index = 0; index < Object.getOwnPropertyNames(arguments).length; index++) {
            var arg = Object.getOwnPropertyNames(arguments)[index];
            if (arg == "caller" || arg == "callee" || arg == "length" || arg == "arguments") {
                continue;
            }
            var obj = arguments[arg];
            if (obj) {
                for (var j = 0; j < Object.getOwnPropertyNames(obj).length; j++) {
                    var key = Object.getOwnPropertyNames(obj)[j];
                    if (arg == "caller" || arg == "callee" || arg == "length" || arg == "arguments") {
                        continue;
                    }
                    dest[key] = obj[key];
                }
            }
        }
        return dest;
    }
}

external_mapboxgl_default.a.supermap.LogoControl = Logo_Logo;
// CONCATENATED MODULE: ./src/mapboxgl/control/index.js

// CONCATENATED MODULE: ./src/mapboxgl/core/Util.js




/**
 * @class mapboxgl.supermap.Util
 * @category BaseTypes Util
 * @classdesc å·¥å·ç±»ã
 */
class core_Util_Util {

    /**
     * @function mapboxgl.supermap.Util.toSuperMapGeometry
     * @description å° geoJSON å¯¹è±¡è½¬ä¸º SuperMap å ä½å¾å½¢ã
     * @param {Object} geoJSON - geoJSON å¯¹è±¡ã
     */
    static toSuperMapGeometry(geoJSON) {
        if (geoJSON && geoJSON.type) {
            var format = new GeoJSON_GeoJSON();
            var result = format.read(geoJSON, "FeatureCollection");
            return result[0].geometry;
        }
    }

    static toSuperMapBounds(bounds) {
        if (this.isArray(bounds)) {
            //å·¦ä¸å³ä¸
            return new Bounds_Bounds(
                bounds[0],
                bounds[1],
                bounds[2],
                bounds[3]
            );
        }
        return new Bounds_Bounds(
            bounds.getWest(),
            bounds.getSouth(),
            bounds.getEast(),
            bounds.getNorth()
        );
    }

    static toSuperMapPoint(lnglat) {
        //å®¢æ·ç«¯å¯ä¼ å¥ geojson å¯¹è±¡ æè mapboxgl lnglat ç¹å¯¹è±¡,æèæ¯ç¹æ°ç»
        if (this.isArray(lnglat)) {
            return new Point_Point(lnglat[0], lnglat[1]);
        } else if (lnglat.lng && lnglat.lat) {
            return new Point_Point(lnglat.lng, lnglat.lat);
        }
        return new Point_Point(lnglat.geometry.coordinates[0], lnglat.geometry.coordinates[1]);
    }

    /**
     * @function mapboxgl.supermap.Util.isArray
     * @description å¤æ­æ¯å¦ä¸ºæ°ç»æ ¼å¼ã
     * @param {Object} obj - å¾å¤æ­å¯¹è±¡ã
     * @returns {boolean} æ¯å¦æ¯æ°ç»ã
     */
    static isArray(obj) {
        return Object.prototype.toString.call(obj) == '[object Array]'
    }


    /**
     * @function mapboxgl.supermap.Util.toGeoJSON
     * @description å°ä¼ å¥å¯¹è±¡è½¬ä¸º GeoJSON æ ¼å¼ã
     * @param {Object} smObj - å¾è½¬åæ°ã
     */
    static toGeoJSON(smObj) {
        if (smObj) {
            var format = new GeoJSON_GeoJSON();
            return JSON.parse(format.write(smObj));
        }
    }

    /**
     * @function mapboxgl.supermap.Util.toProcessingParam
     * @description å° Region èç¹æ°ç»è½¬ä¸º Processing æå¡éè¦çåæåæ°ã
     * @param {Array} points - Region åä¸ªèç¹æ°ç»ã
     * @returns {Object} processing æå¡è£åªãæ¥è¯¢åæçåæåæ°ã
     */
    static toProcessingParam(points) {
        var geometryParam = {};
        if (points.length < 1) {
            geometryParam = "";
        } else {
            var results = [];
            for (var i = 0; i < points.length; i++) {
                var point = {};
                point.x = points[i][0];
                point.y = points[i][1];
                results.push(point);
            }
            geometryParam.type = "REGION";
            geometryParam.points = results;
        }
        return geometryParam;
    }

    /**
     * @function mapboxgl.supermap.Util.extend
     * @description å¯¹è±¡æ·è´èµå¼ã
     * @param {Object} dest - ç®æ å¯¹è±¡ã
     * @param {Object} arguments - å¾æ·è´çå¯¹è±¡ã
     * @returns {Object} èµå¼åçç®æ å¯¹è±¡ã
     */
    static extend(dest) {
        for (var index = 0; index < Object.getOwnPropertyNames(arguments).length; index++) {
            var arg = Object.getOwnPropertyNames(arguments)[index];
            if (arg == "caller" || arg == "callee" || arg == "length" || arg == "arguments") {
                continue;
            }
            var obj = arguments[arg];
            if (obj) {
                for (var j = 0; j < Object.getOwnPropertyNames(obj).length; j++) {
                    var key = Object.getOwnPropertyNames(obj)[j];
                    if (arg == "caller" || arg == "callee" || arg == "length" || arg == "arguments") {
                        continue;
                    }
                    dest[key] = obj[key];
                }
            }
        }
        return dest;
    }
}

external_mapboxgl_default.a.supermap.Util = core_Util_Util;
// CONCATENATED MODULE: ./src/mapboxgl/core/index.js


// CONCATENATED MODULE: ./src/mapboxgl/overlay/theme/ThemeFeature.js





/**
 * @class mapboxgl.supermap.ThemeFeature
 * @category  Visualization Theme
 * @classdesc ä¸é¢å¾è¦ç´ ç±»ã
 * @param {Object} geometry - ä¸é¢å¾è¦ç´ å ä½å¯¹è±¡ï¼GeoJSON æ ¼å¼ã
 * @param {Object} [attributes] - å ä½å¯¹è±¡å±æ§ã
 */
class ThemeFeature_ThemeFeature {

    constructor(geometry, attributes) {
        this.geometry = geometry;
        this.attributes = attributes;
    }

    /**
     * @function mapboxgl.supermap.ThemeFeature.prototype.toFeature
     * @description è½¬ä¸ºç¢éè¦ç´ ã
     */
    toFeature() {
        var geometry = core_Util_Util.toSuperMapGeometry(this.geometry);
        var points = [];
        if (this.geometry instanceof external_mapboxgl_default.a.LngLat) {
            points = [this.geometry.lng, this.geometry.lat];
        } else if (this.geometry instanceof external_mapboxgl_default.a.Point) {
            points = [this.geometry.x, this.geometry.y];
        } else if (this.geometry.length === 3) {
            geometry = new GeoText_GeoText(this.geometry[0], this.geometry[1], this.geometry[2]);
        }
        if (points.length > 1) {
            geometry = new Point_Point(points[0], points[1]);
        }
        return new Vector_Vector(geometry, this.attributes);
    }
}

external_mapboxgl_default.a.supermap.ThemeFeature = ThemeFeature_ThemeFeature;
// CONCATENATED MODULE: ./src/mapboxgl/overlay/theme/ThemeLayer.js





/**
 * @class mapboxgl.supermap.ThemeLayer
 * @category Visualization Theme
 * @classdesc ä¸é¢å¾åºç±»ã
 * @param {string} name - ä¸é¢å¾å¾å±åã
 * @param {Object} options -å¯éåæ°ã
 * @param {mapboxgl.Map} options.map - å½å mapboxgl map å¯¹è±¡ï¼å°å¨ä¸ä¸ªçæ¬å¼ç¨ï¼è¯·ç¨ map.addLayer()æ¹æ³æ·»å å¾å±ã
 * @param {string} [options.id] - ä¸é¢å¾å± IDãé»è®¤ä½¿ç¨ CommonUtil.createUniqueID("themeLayer_") åå»ºä¸é¢å¾å± IDã
 * @param {boolean} [options.loadWhileAnimating=true] - æ¯å¦å®æ¶éç»ã
 * @param {boolean} [options.visibility=true] - å¾å±æ¯å¦å¯è§ã
 * @param {number} [options.opacity=1] - å¾å±éæåº¦ã
 */
class ThemeLayer_Theme {

    constructor(name, opt_options) {
        var options = opt_options ? opt_options : {};
        /**
         * @member {string} mapboxgl.supermap.ThemeLayer.prototype.name
         * @description ä¸é¢å¾å¾å±åç§°ã
         */
        this.name = name;

        /**
         * @member {string} [mapboxgl.supermap.ThemeLayer.prototype.id]
         * @description ä¸é¢å¾å¾å± idã
         */
        this.id = options.id ? options.id : Util_Util.createUniqueID("themeLayer_");
        /**
         * @member {float} [mapboxgl.supermap.ThemeLayer.prototype.opacity=1]
         * @description å¾å±éæåº¦ã
         */
        this.opacity = options.opacity ? options.opacity : 1;

        /**
         * @member {boolean} [mapboxgl.supermap.ThemeLayer.prototype.visibility=true]
         * @description å¾å±æ¯å¦å¯è§ã
         */
        this.visibility = true;

        /**
         * @member {boolean} [mapboxgl.supermap.ThemeLayer.prototype.loadWhileAnimating=true]
         * @description æ¯å¦å®æ¶éç»ã(å½ç»å¶å¤§æ°æ®éè¦ç´ çæåµä¸ä¼åºç°å¡é¡¿ï¼å»ºè®®æè¯¥åæ°è®¾ä¸º false)ã
         */
        this.loadWhileAnimating = options.loadWhileAnimating === undefined ? true : options.loadWhileAnimating;

        /**
         * @member {mapboxgl.Map} mapboxgl.supermap.ThemeLayer.prototype.map
         * @description map å¯¹è±¡ã
         */
        this.map = options.map ? options.map : null;

        this.features = [];
        this.TFEvents = [];

        //todo ä¿çä¹ååå»ºå¾å±åæ¶æ·»å å°å¾å±çç¨æ³ï¼å¨ä¸ä¸ªçæ¬éå¼
        if (this.map) {
            this.map.addLayer(this);
        }

    }

    /**
     * @function mapboxgl.supermap.ThemeLayer.prototype.onAdd
     * @description ååºå¾æ·»å è¯¥å¾å±ã
     */
    onAdd(map) {
        this.map = map;
        this._createCanvasContainer();

        //å¤çç¨æ·é¢åï¼å¨å¾å±æ·»å å° map åï¼çå¬çäºä»¶
        this.addTFEvents();
        this.map.on('resize', this.resizeEvent.bind(this));
        this.map.on('zoomstart', this.zoomStartEvent.bind(this));
        this.map.on('zoomend', this.zoomEndEvent.bind(this));
        this.map.on('rotatestart', this.rotateStartEvent.bind(this));
        this.map.on('rotate', this.rotateEvent.bind(this));
        this.map.on('rotateend', this.rotateEndEvent.bind(this));
        this.map.on('dragend', this.dragEndEvent.bind(this));
        this.map.on('movestart', this.moveStartEvent.bind(this));
        this.map.on('move', this.moveEvent.bind(this));
        this.map.on('moveend', this.moveEndEvent.bind(this));
        this.map.on('remove', this.removeFromMap.bind(this));

        this.refresh();
    }

    /**
     * @function mapboxgl.supermap.HeatMapLayer.prototype.refresh
     * @description å¼ºå¶å·æ°å½åç­ç¹æ¾ç¤ºï¼å¨å¾å±ç­ç¹æ°ç»åçåååè°ç¨ï¼æ´æ°æ¾ç¤ºã
     */
    refresh() {
        if (this.features.length === 0) {
            return;
        }
        if (this.map) {
            this.redrawThematicFeatures(this.map.getBounds());
        }
    }

    _createCanvasContainer() {
        this.movingOffset = [0, 0];
        this.mapContainer = this.map.getCanvasContainer();
        this.div = document.createElement('div');
        this.div.id = this.id;
        this.div.style.position = 'absolute';
        var container = this.map.getCanvasContainer();
        var canvas = this.map.getCanvas();
        this.mapContainer.style.perspective = this.map.transform.cameraToCenterDistance + 'px';
        this.div.style.width = canvas.style.width;
        this.div.style.height = canvas.style.height;
        this.div.className = "themeLayer";
        this.div.width = parseInt(canvas.width);
        this.div.height = parseInt(canvas.height);
        container.appendChild(this.div);
        this.setOpacity(this.opacity);
        this.levelRenderer = new LevelRenderer_LevelRenderer();
        this.renderer = this.levelRenderer.init(this.div);
        this.renderer.clear();
    }

    /**
     * @function mapboxgl.supermap.ThemeLayer.prototype.destroyFeatures
     * @description éæ¯æä¸ªè¦ç´ ã
     * @param {Object} features - å°è¢«éæ¯çè¦ç´ ã
     */
    destroyFeatures(features) {
        var all = (features == undefined);
        if (all) {
            features = this.features;
        }
        if (features) {
            this.removeFeatures(features);
            for (var i = features.length - 1; i >= 0; i--) {
                features[i].destroy();
            }
        }
    }

    /**
     * @function mapboxgl.supermap.ThemeLayer.prototype.setVisibility
     * @description è®¾ç½®å¾å±å¯è§æ§ï¼è®¾ç½®å¾å±çéèï¼æ¾ç¤ºï¼éç»çç¸åºçå¯è§æ è®°ã
     * @param {boolean} [visibility] - æ¯å¦æ¾ç¤ºå¾å±ï¼å½åå°å¾ç resolution å¨æå¤§æå° resolution ä¹é´ï¼ã
     */
    setVisibility(visibility) {
        if (visibility !== this.visibility) {
            this.visibility = visibility;
            this.display(visibility);
            this.redrawThematicFeatures(this.map.getBounds());
        }
    }

    /**
     * @function mapboxgl.supermap.ThemeLayer.prototype.display
     * @description ä¸´æ¶éèæèæ¾ç¤ºå¾å±ãéè¿å¯¹ CSS æ§å¶äº§çå³æ¶ææï¼éæ°æ¸²æå¤±æãä¸è¬ç¨ setVisibility æ¹æ³æ¥å¨ææ§å¶å¾å±çæ¾ç¤ºåéèã
     * @param {boolean} [display] - æ¯å¦æ¾ç¤ºå¾å±ã
     */
    display(display) {
        this.div.style.display = display ? "block" : "none";
    }

    /**
     * @function mapboxgl.supermap.ThemeLayer.prototype.setOpacity
     * @description è®¾ç½®å¾å±çä¸éæåº¦,åå¼[0-1]ä¹é´ã
     * @param {number} [opacity] - ä¸éæåº¦ã
     */
    setOpacity(opacity) {
        if (opacity !== this.opacity) {
            this.opacity = opacity;
            var element = this.div;
            Util_Util.modifyDOMElement(element, null, null, null,
                null, null, null, opacity);

            if (this.map !== null) {
                external_mapboxgl_default.a.Evented.prototype.fire('changelayer', {layer: this, property: "opacity"});
            }
        }
    }

    /**
     * @function mapboxgl.supermap.ThemeLayer.prototype.addFeatures
     * @param {mapboxgl.supermap.ThemeFeature|Object} features - å¾è½¬è¦ç´ åæ¬ mapboxgl.supermap.ThemeFeature ç±»åå GeoJOSN è§èæ°æ®ç±»å
     * @description æ½è±¡æ¹æ³ï¼å¯å®ä¾åå­ç±»å¿é¡»å®ç°æ­¤æ¹æ³ãåä¸é¢å¾å¾å±ä¸­æ·»å æ°æ® ,
     *              ä¸é¢å¾ä»æ¥æ¶ SuperMap.Feature.Vector ç±»åæ°æ®ï¼
     *              feature å°å¨å­äº features å±æ§ä¸­ï¼å¶å­å¨å½¢å¼ä¸ºæ°ç»ã
     */
    addFeatures(features) { // eslint-disable-line no-unused-vars

    }

    /**
     * @function mapboxgl.supermap.ThemeLayer.prototype.removeFeatures
     * @param {Array.<SuperMap.Feature.Vector>} features - è¦å é¤ feature çæ°ç»ã
     * @description ä»ä¸é¢å¾ä¸­å é¤ featureãè¿ä¸ªå½æ°å é¤ææä¼ éè¿æ¥çç¢éè¦ç´ ã
     *              åæ°ä¸­ç features æ°ç»ä¸­çæ¯ä¸é¡¹ï¼å¿é¡»æ¯å·²ç»æ·»å å°å½åå¾å±ä¸­ç featureï¼
     *              å¦ææ æ³ç¡®å® feature æ°ç»ï¼åå¯ä»¥è°ç¨ removeAllFeatures æ¥å é¤ææ featureã
     *              å¦æè¦å é¤ç feature æ°ç»ä¸­çåç´ ç¹å«å¤ï¼æ¨èä½¿ç¨ removeAllFeaturesï¼
     *              å é¤ææ feature ååéæ°æ·»å ãè¿æ ·æçä¼æ´é«ã
     */
    removeFeatures(features) {
        if (!features || features.length === 0) {
            return;
        }
        if (features === this.features) {
            return this.removeAllFeatures();
        }
        if (!(Util_Util.isArray(features))) {
            features = [features];
        }
        var featuresFailRemoved = [];
        for (var i = features.length - 1; i >= 0; i--) {
            var feature = features[i];
            //å¦ææä»¬ä¼ å¥çfeatureå¨featuresæ°ç»ä¸­æ²¡æçè¯ï¼åä¸è¿è¡å é¤ï¼
            //å¹¶å°å¶æ¾å¥æªå é¤çæ°ç»ä¸­ã
            var findex = Util_Util.indexOf(this.features, feature);
            if (findex === -1) {
                featuresFailRemoved.push(feature);
                continue;
            }
            this.features.splice(findex, 1);
        }
        var drawFeatures = [];
        for (var hex = 0, len = this.features.length; hex < len; hex++) {
            feature = this.features[hex];
            drawFeatures.push(feature);
        }
        this.features = [];
        this.addFeatures(drawFeatures);
        //ç»å¶ä¸é¢è¦ç´ 
        if (this.renderer) {
            this.redrawThematicFeatures(this.map.getBounds());
        }
        var succeed = featuresFailRemoved.length == 0 ? true : false;
        external_mapboxgl_default.a.Evented.prototype.fire("featuresremoved", {features: featuresFailRemoved, succeed: succeed});
    }

    /**
     * @function mapboxgl.supermap.ThemeLayer.prototype.removeAllFeatures
     * @description æ¸é¤å½åå¾å±ææçç¢éè¦ç´ ã
     */
    removeAllFeatures() {
        if (this.renderer) {
            this.renderer.clear();
        }
        this.features = [];
        external_mapboxgl_default.a.Evented.prototype.fire('featuresremoved', {features: [], succeed: true});
    }

    /**
     * @function mapboxgl.supermap.ThemeLayer.prototype.getFeatures
     * @description æ¥çå½åå¾å±ä¸­çæææ°æ®ã
     * @returns {SuperMap.Feature.Vector} ç¨æ·å å¥å¾å±çæææ°æ®ã
     */
    getFeatures() {
        var len = this.features.length;
        var clonedFeatures = new Array(len);
        for (var i = 0; i < len; ++i) {
            clonedFeatures[i] = this.features[i];
        }
        return clonedFeatures;
    }

    /**
     * @function mapboxgl.supermap.ThemeLayer.prototype.getFeatureBy
     * @description å¨ä¸é¢å¾çè¦ç´ æ°ç» features éé¢éåæ¯ä¸ä¸ª featureï¼å½ feature[property] === value æ¶ï¼
     *              è¿åæ­¤ featureï¼å¹¶ä¸åªè¿åç¬¬ä¸ä¸ªï¼ã
     * @param {string} property - feature çæä¸ªå±æ§åç§°ã
     * @param {string} value - property æå¯¹åºçå¼ã
     * @returns {SuperMap.Feature.Vector} ç¬¬ä¸ä¸ªå¹éå±æ§åå¼çç¢éè¦ç´ ã
     */
    getFeatureBy(property, value) {
        var feature = null;
        for (var id in this.features) {
            if (this.features[id][property] === value) {
                feature = this.features[id];
                break;
            }
        }
        return feature;
    }

    /**
     * @function mapboxgl.supermap.ThemeLayer.prototype.getFeatureById
     * @description éè¿ç»å®ä¸ä¸ª idï¼è¿åå¯¹åºçç¢éè¦ç´ ã
     * @param {string} featureId - ç¢éè¦ç´ çå±æ§ idã
     * @returns {SuperMap.Feature.Vector} å¯¹åº id ç featureï¼å¦æä¸å­å¨åè¿å nullã
     */
    getFeatureById(featureId) {
        return this.getFeatureBy('id', featureId);
    }

    /**
     * @function mapboxgl.supermap.ThemeLayer.prototype.getFeaturesByAttribute
     * @description éè¿ç»å®ä¸ä¸ªå±æ§ç key å¼å value å¼ï¼è¿åææå¹éçè¦ç´ æ°ç»ã
     * @param {string} attrName - å±æ§ç keyã
     * @param {string} attrValue - ç¢éè¦ç´ çå±æ§ idã
     * @returns {Array.<SuperMap.Feature.Vector>} ä¸ä¸ªå¹éç feature æ°ç»ã
     */
    getFeaturesByAttribute(attrName, attrValue) {
        var feature,
            foundFeatures = [];
        for (var id in this.features) {
            feature = this.features[id];
            if (feature && feature.attributes) {
                if (feature.attributes[attrName] === attrValue) {
                    foundFeatures.push(feature);
                }
            }
        }
        return foundFeatures;
    }

    /**
     * @function mapboxgl.supermap.ThemeLayer.prototype.redrawThematicFeatures
     * @description æ½è±¡æ¹æ³ï¼å¯å®ä¾åå­ç±»å¿é¡»å®ç°æ­¤æ¹æ³ãéç»ä¸é¢è¦ç´ ã
     * @param {mapboxgl.LngLatBounds} extent - éç»çèå´ã
     */
    redrawThematicFeatures(extent) { // eslint-disable-line no-unused-vars
    }

    /**
     * @function mapboxgl.supermap.ThemeLayer.prototype.on
     * @description æ·»å ä¸é¢è¦ç´ äºä»¶çå¬ãæ·»å ä¸é¢è¦ç´ äºä»¶çå¬ã
     * @param {Event} event - çå¬äºä»¶ã
     * @param {function} callback - åè°å½æ°ã
     * @param {string} context - ä¿¡æ¯ã
     */
    on(event, callback, context) { // eslint-disable-line no-unused-vars
        if (this.renderer) {
            this.renderer.on(event, callback);
        } else {
            this.map.on(event, callback);
        }
        return this;
    }

    /**
     * @function mapboxgl.supermap.ThemeLayer.prototype.off
     * @description ç§»é¤ä¸é¢è¦ç´ äºä»¶çå¬ã
     * @param {Event} event - çå¬äºä»¶ã
     * @param {function} callback - åè°å½æ°ã
     * @param {string} context - ä¿¡æ¯ã
     */
    off(event, callback, context) { // eslint-disable-line no-unused-vars
        var me = this;
        if (me.renderer) {
            me.renderer.off(event, callback);
        } else {
            this.map.off(event, callback);
        }
        return this;
    }

    /**
     * @function mapboxgl.supermap.ThemeLayer.prototype.addTFEvents
     * @description å°å¾å±æ·»å å°å°å¾ä¸ä¹åç¨æ·è¦æ±æ·»å çäºä»¶çå¬æ·»å å°å¾å±ã
     */
    addTFEvents() {
        var tfEs = this.TFEvents;
        var len = tfEs.length;
        for (var i = 0; i < len; i++) {
            this.renderer.on(tfEs[i][0], tfEs[i][1]);
        }

    }

    /**
     * @function mapboxgl.supermap.ThemeLayer.prototype.getLocalXY
     * @description å°çåæ è½¬ä¸ºåç´ åæ ã
     * @param {Object} [coordinate] - åæ ä½ç½®ã
     */
    getLocalXY(coordinate) {
        var pixelP, map = this.map;
        if (coordinate instanceof Point_Point || coordinate instanceof GeoText_GeoText) {
            let tempPoint = map.project(new external_mapboxgl_default.a.LngLat(coordinate.x, coordinate.y));
            pixelP = [tempPoint.x, tempPoint.y];
        }
        if (coordinate instanceof LonLat_LonLat) {
            let tempPoint = map.project(new external_mapboxgl_default.a.LngLat(coordinate.lon, coordinate.lat));
            pixelP = [tempPoint.x, tempPoint.y];
        }
        return pixelP;
    }

    /**
     * @function mapboxgl.supermap.ThemeLayer.prototype.toFeature
     * @description è½¬ä¸º iClient è¦ç´ ã
     * @param {mapboxgl.supermap.ThemeFeature|Object} features - å¾è½¬è¦ç´ åæ¬ mapboxgl.supermap.ThemeFeature ç±»åå GeoJOSN è§èæ°æ®ç±»åã
     * @returns {SuperMap.Feature.Vector} è½¬æ¢åç iClient è¦ç´ ã
     */
    toiClientFeature(features) {
        if (!Util_Util.isArray(features)) {
            features = [features];
        }

        let featuresTemp = [];
        for (let i = 0; i < features.length; i++) {
            //mapboxgl.supermap.ThemeFeature ç±»å
            if (features[i] instanceof ThemeFeature_ThemeFeature) {
                featuresTemp.push(features[i].toFeature());
            } else if (features[i] instanceof Vector_Vector) {
                // è¥æ¯ GeometryVector ç´æ¥è¿å
                featuresTemp.push(features[i]);
            } else if (["FeatureCollection", "Feature", "Geometry"].indexOf(features[i].type) != -1) {
                //GeoJOSN è§èæ°æ®ç±»å
                let format = new GeoJSON_GeoJSON();
                featuresTemp = featuresTemp.concat(format.read(features[i]));
            } else if (features[i].geometry && features[i].geometry.parts) {
                //iServeræå¡å¨è¿åæ°æ®æ ¼å¼
                featuresTemp.push(ServerFeature_ServerFeature.fromJson(features[i]).toFeature());
            } else {
                throw new Error(`features's type is not be supported.`);
            }

        }
        return featuresTemp;
    }

    /**
     * @function mapboxgl.supermap.ThemeLayer.prototype.toFeature
     * @deprecated
     * @description è½¬ä¸º iClient è¦ç´ ï¼è¯¥æ¹æ³å°è¢«å¼ç¨ï¼ç± {@link mapboxgl.supermap.ThemeLayer#toiClientFeature} ä»£æ¿ã
     * @param {mapboxgl.supermap.ThemeFeature|Object} features - å¾è½¬è¦ç´ åæ¬ mapboxgl.supermap.ThemeFeature ç±»åå GeoJOSN è§èæ°æ®ç±»åã
     * @returns {SuperMap.Feature.Vector} è½¬æ¢åç iClient è¦ç´ ã
     */
    toFeature(features) {
        return this.toiClientFeature(features);
    }

    moveEndEvent() {
        if (this.loadWhileAnimating || !this.visibility) {
            return;
        }
        this.div.style.transform = '';
        this.redrawThematicFeatures(this.map.getBounds());
        this._show();
    }

    moveStartEvent() {
        if (this.loadWhileAnimating || !this.visibility) {
            return;
        }
        this.startPitch = this.map.getPitch();
        this.startBearing = this.map.getBearing();
        var startMovePoint = this.map.project(new external_mapboxgl_default.a.LngLat(0, 0));
        this.startMoveX = startMovePoint.x;
        this.startMoveY = startMovePoint.y;
    }

    moveEvent() {
        if (this.loadWhileAnimating || !this.visibility) {
            this.redrawThematicFeatures(this.map.getBounds());
            return;
        }
        if (this.rotating || this.zooming) {
            return;
        }
        if (this.map.getPitch() !== 0) {
            this._hide();
        }
        this.mapContainer.style.perspective = this.map.transform.cameraToCenterDistance + 'px';
        var tPitch = this.map.getPitch() - this.startPitch;
        var tBearing = -this.map.getBearing() + this.startBearing;
        var endMovePoint = this.map.project(new external_mapboxgl_default.a.LngLat(0, 0));
        var tMoveX = endMovePoint.x - this.startMoveX;
        var tMoveY = endMovePoint.y - this.startMoveY;
        this.div.style.transform = 'rotateX(' + tPitch + 'deg)' + ' rotateZ(' + tBearing + 'deg)' + ' translate3d(' + tMoveX + 'px, ' + tMoveY + 'px, 0px)';
    }

    zoomStartEvent() {
        if (this.loadWhileAnimating || !this.visibility) {
            return;
        }
        this.zooming = true;
        this._hide();
    }

    zoomEndEvent() {
        if (this.loadWhileAnimating || !this.visibility) {
            return;
        }
        this.zooming = false;
        this._show();
    }

    rotateStartEvent() {
        if (this.loadWhileAnimating || !this.visibility) {
            return;
        }
        this.rotating = true;
    }

    rotateEvent() {
        if (this.loadWhileAnimating || !this.visibility) {
            return;
        }
        if (this.map.getPitch() !== 0) {
            this._hide();
        }
        this.mapContainer.style.perspective = this.map.transform.cameraToCenterDistance + 'px';
        var tPitch = this.map.getPitch() - this.startPitch;
        var tBearing = -this.map.getBearing() + this.startBearing;
        this.div.style.transform = 'rotateX(' + tPitch + 'deg)' + ' rotateZ(' + tBearing + 'deg)'
    }

    rotateEndEvent() {
        if (this.loadWhileAnimating || !this.visibility) {
            return;
        }
        this.rotating = false;
        this._show();
    }

    dragEndEvent() {
        if (this.loadWhileAnimating || !this.visibility) {
            return;
        }
        this._hide();
    }

    resizeEvent() {
        this.mapContainer.style.perspective = this.map.transform.cameraToCenterDistance + 'px';
        var canvas = this.map.getCanvas();
        this.div.style.width = canvas.style.width;
        this.div.style.height = canvas.style.height;
        this.div.width = parseInt(canvas.width);
        this.div.height = parseInt(canvas.height);
        this.renderer.resize();
    }

    /**
     * @function mapboxgl.supermap.ThemeLayer.prototype.removeFromMap
     * @description ç§»é¤å¾å±ã
     */
    removeFromMap() {
        this.mapContainer.removeChild(this.div);
        this.removeAllFeatures();
    }

    /**
     * @function mapboxgl.supermap.ThemeLayer.prototype.moveTo
     * @description å°å¾å±ç§»å¨å°æä¸ªå¾å±ä¹åã
     * @param {string} layerID - å¾æå¥çå¾å± IDã
     * @param {boolean} [before=true] - æ¯å¦å°æ¬å¾å±æå¥å°å¾å± id ä¸º layerID çå¾å±ä¹å(å¦æä¸º false åå°æ¬å¾å±æå¥å°å¾å± id ä¸º layerID çå¾å±ä¹å)ã
     */
    moveTo(layerID, before) {
        const layer = document.getElementById(this.div.id);
        before = before !== undefined ? before : true;
        if (before) {
            const beforeLayer = document.getElementById(layerID);
            if (layer && beforeLayer) {
                beforeLayer.parentNode.insertBefore(layer, beforeLayer);
            }
            return;
        }
        const nextLayer = document.getElementById(layerID);
        if (layer) {
            if (nextLayer.nextSibling) {
                nextLayer.parentNode.insertBefore(layer, nextLayer.nextSibling);
                return;
            }
            nextLayer.parentNode.appendChild(layer);
        }
    }

    _hide() {
        this.renderer.painter.root.style.display = 'none';
    }

    _show() {
        this.renderer.painter.root.style.display = 'block';
    }
}

external_mapboxgl_default.a.supermap.ThemeLayer = ThemeLayer_Theme;
// CONCATENATED MODULE: ./src/mapboxgl/overlay/GraphThemeLayer.js






/**
 * @class mapboxgl.supermap.GraphThemeLayer
 * @category  Visualization Theme
 * @classdesc ç»è®¡ä¸é¢å¾å±ã
 * @param {string} name - å¾å±åã
 * @param {string} chartsType - å¾è¡¨ç±»å«ã
 * @param {Object} opt_options - åæ°ã
 * @param {string} [opt_options.id] - ä¸é¢å¾å± IDãé»è®¤ä½¿ç¨ CommonUtil.createUniqueID("themeLayer_") åå»ºä¸é¢å¾å± IDã
 * @param {boolean} [opt_options.loadWhileAnimating=true] - æ¯å¦å®æ¶éç»ã
 * @param {mapboxgl.Map} opt_options.map - å½åmapboxgl mapå¯¹è±¡ã
 * @param {number} [opt_options.opacity=1] - å¾å±éæåº¦ã
 * @param {string} opt_options.themeFields - æå®åå»ºä¸é¢å¾å­æ®µã
 * @param {boolean} [opt_options.isOverLay=true] - æ¯å¦è¿è¡åçå¤çï¼å¦æè®¾ä¸º trueï¼å¾è¡¨ç»å¶è¿ç¨ä¸­å°éèå¯¹å·²å¨å¾å±ä¸­ç»å¶çå¾è¡¨äº§çåççå¾è¡¨ã
 * @param {string} [opt_options.chartsType] - å¾è¡¨ç±»åãç®åå¯ç¨ï¼"Bar", "Line", "Pie"ã
 * @param {Object} opt_options.chartsSetting - ç¬¦å· Circle éç½®å¯¹è±¡ã
 * @param {Array.<number>} opt_options.chartsSetting.codomain - å¾è¡¨åè®¸å±ç¤ºçæ°æ®å¼åï¼é¿åº¦ä¸º 2 çä¸ç»´æ°ç»ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤ºå¼åä¸éï¼ç¬¬äºä¸ªåç´ è¡¨ç¤ºå¼åä¸éã
 * @param {number} [opt_options.chartsSetting.maxR] - åå½¢çæå¤§åå¾ã
 * @param {number} [opt_options.chartsSetting.minR] - åå½¢çæå°åå¾ã
 * @param {String} opt_options.chartsSetting.fillColor - åå½¢çå¡«åè²ï¼å¦ï¼fillColor: "#FFB980"ã
 * @param {Object} opt_options.chartsSetting.circleStyle - åå½¢çåºç¡ styleï¼æ­¤åæ°æ§å¶åå½¢åºç¡æ ·å¼ï¼ä¼åçº§ä½äº circleStyleByFields å circleStyleByCodomainã
 * @param {number} opt_options.chartsSetting.decimalNumber - æ°æ®å¼æ°ç» dataValues åç´ å¼å°æ°ä½æ°ï¼æ°æ®çå°æ°ä½å¤çåæ°ï¼åå¼èå´ï¼[0, 16]ãå¦æä¸è®¾ç½®æ­¤åæ°ï¼å¨åæ°æ®å¼æ¶ä¸å¯¹æ°æ®åå°æ°ä½å¤çã
 * @param {Object} opt_options.chartsSetting.circleHoverStyle - åå½¢ hover ç¶ææ¶çæ ·å¼ï¼circleHoverAble ä¸º true æ¶ææã
 * @param {boolean} [opt_options.chartsSetting.circleHoverAble=true] - æ¯å¦åè®¸åå½¢ä½¿ç¨ hover ç¶æãåæ¶è®¾ç½® circleHoverAble å circleClickAble ä¸º falseï¼å¯ä»¥ç´æ¥å±è½å¾å½¢å¯¹ä¸é¢å¾å±äºä»¶çååºã
 * @param {boolean} [opt_options.chartsSetting.circleClickAble=true] - æ¯å¦åè®¸åå½¢è¢«ç¹å»ãåæ¶è®¾ç½® circleHoverAble å circleClickAble ä¸º falseï¼å¯ä»¥ç´æ¥å±è½å¾å½¢å¯¹ä¸é¢å¾å±äºä»¶çååºã
 * @extends {mapboxgl.supermap.ThemeLayer}
 */
class GraphThemeLayer_Graph extends ThemeLayer_Theme {

    constructor(name, chartsType, opt_options) {
        super(name, opt_options);
        this.chartsSetting = opt_options.chartsSetting || {};
        this.themeFields = opt_options.themeFields || null;
        this.overlayWeightField = opt_options.overlayWeightField || null;
        this.isOverLay = opt_options.isOverLay === undefined ? true : opt_options.isOverLay;
        this.charts = opt_options.charts || [];
        this.cache = opt_options.cache || {};
        this.chartsType = chartsType;
    }

    /**
     * @function mapboxgl.supermap.GraphThemeLayer.prototype.setChartsType
     * @description è®¾ç½®å¾è¡¨ç±»åï¼æ­¤å½æ°å¯å¨ææ¹åå¾è¡¨ç±»åãå¨è°ç¨æ­¤å½æ°åè¯·éè¿ chartsSetting ä¸ºæ°ç±»åçå¾è¡¨åç¸å³éç½®ã
     * @param {string} [chartsType] - å¾è¡¨ç±»åãç®åå¯ç¨ï¼"Bar", "Line", "Pie"ã
     */
    setChartsType(chartsType) {
        this.chartsType = chartsType;
        this.redraw();
    }

    /**
     * @function mapboxgl.supermap.GraphThemeLayer.prototype.addFeatures
     * @description åä¸é¢å¾å¾å±ä¸­æ·»å æ°æ®, æ¯æçfeatureç±»åä¸º:iServerè¿åçfeature jsonå¯¹è±¡ã
     * @param {Array.<mapboxgl.supermap.ThemeFeature>} features - å¾æ·»å çè¦ç´ ã
     */
    addFeatures(features) {
        var ret = external_mapboxgl_default.a.Evented.prototype.fire('beforefeaturesadded', {features: features});
        if (ret === false) {
            return;
        }
        //è½¬æ¢ features å½¢å¼
        this.features = this.toiClientFeature(features);
        //ç»å¶ä¸é¢è¦ç´ 
        if (this.renderer) {
            this.redrawThematicFeatures(this.map.getBounds());
        }
    }

    /**
     * @function mapboxgl.supermap.GraphThemeLayer.prototype.redrawThematicFeatures
     * @description éç»ææä¸é¢è¦ç´ ã
     *              æ­¤æ¹æ³åå«ç»å¶ä¸é¢è¦ç´ çæææ­¥éª¤ï¼åå«ç¨æ·æ°æ®å°ä¸é¢è¦ç´ çè½¬æ¢ï¼æ½ç¨ï¼ç¼å­ç­æ­¥éª¤ã
     *              å°å¾æ¼«æ¸¸æ¶è°ç¨æ­¤æ¹æ³è¿è¡å¾å±å·æ°ã
     * @param {mapboxgl.LngLatBounds} extent - éç»çèå´ã
     */
    redrawThematicFeatures(extent) { // eslint-disable-line no-unused-vars
        this.clearCache();
        //æ¸é¤å½åææå¯è§åç´ 
        this.renderer.clearAll();
        var features = this.features;
        for (var i = 0, len = features.length; i < len; i++) {
            var feature = features[i];
            // // è¦ç´ èå´å¤æ­
            // var feaBounds = feature.geometry.getBounds();
            // //åé¤å½åè§å¾ï¼å°çï¼èå´ä»¥å¤çæ°æ®
            // if (extent) {
            //     var bounds = new SuperMap.Bounds(extent.getWest(), extent.getSouth(), extent.getEast(), extent.getNorth());
            //     // if (!bounds.intersectsBounds(feaBounds)) continue;
            // }
            var cache = this.cache;
            // ç¨ feature id åç¼å­æ è¯
            var cacheField = feature.id;
            // æ°æ®å¯¹åºçå¾è¡¨æ¯å¦å·²ç¼å­ï¼æ²¡ç¼å­åéæ°åå»ºå¾è¡¨
            if (cache[cacheField]) {
                continue;
            }
            cache[cacheField] = cacheField;
            var chart = this.createThematicFeature(feature);
            // åçå¤çæéå¼
            if (chart && this.overlayWeightField) {
                if (feature.attributes[this.overlayWeightField] && !isNaN(feature.attributes[this.overlayWeightField])) {
                    chart["__overlayWeight"] = feature.attributes[this.overlayWeightField];
                }
            }
            if (chart) {
                this.charts.push(chart);
            }
        }
        this.drawCharts();
    }

    /**
     * @function mapboxgl.supermap.GraphThemeLayer.prototype.createThematicFeature
     * @description  åä¸é¢å¾å¾å±ä¸­æ·»å æ°æ®, æ¯æç feature ç±»åä¸º:iServer è¿åç feature json å¯¹è±¡ã
     * @param {Object} feature - å¾æ·»å çè¦ç´ ã
     *
     */
    createThematicFeature(feature) {
        var thematicFeature;
        // æ£æ¥å¾è¡¨åå»ºæ¡ä»¶å¹¶åå»ºå¾å½¢
        if (feature_Theme_Theme[this.chartsType] && this.themeFields && this.chartsSetting) {
            thematicFeature = new feature_Theme_Theme[this.chartsType](feature, this, this.themeFields, this.chartsSetting);
        }
        // thematicFeature æ¯å¦åå»ºæå
        if (!thematicFeature) {
            return false;
        }
        // å¯¹ä¸é¢è¦ç´ æ§è¡å¾å½¢è£è½½
        thematicFeature.assembleShapes();
        return thematicFeature;
    }

    /**
     * @function mapboxgl.supermap.GraphThemeLayer.prototype.drawCharts
     * @description ç»å¶å¾è¡¨ãåå«åçå¤çã
     *
     */
    drawCharts() {
        // å¤æ­ rendere rå°±ç»ª
        if (!this.renderer) {
            return;
        }
        var charts = this.charts;
        // å¾è¡¨æéå¼å¤çdes
        if (this.overlayWeightField) {
            charts.sort(function (cs, ce) {
                if (typeof(cs["__overlayWeight"]) == "undefined" && typeof(ce["__overlayWeight"]) == "undefined") {
                    return 0;
                } else if (typeof(cs["__overlayWeight"]) != "undefined" && typeof(ce["__overlayWeight"]) == "undefined") {
                    return -1;
                } else if (typeof(cs["__overlayWeight"]) == "undefined" && typeof(ce["__overlayWeight"]) != "undefined") {
                    return 1;
                } else if (typeof(cs["__overlayWeight"]) != "undefined" && typeof(ce["__overlayWeight"]) != "undefined") {
                    if (parseFloat(cs["__overlayWeight"]) < parseFloat(ce["__overlayWeight"])) {
                        return 1;
                    } else {
                        return -1;
                    }
                }
                return 0;
            });
        }
        // ä¸è¿è¡é¿è®©
        if (!this.isOverLay) {
            for (var m = 0, len_m = charts.length; m < len_m; m++) {
                var chart_m = charts[m];
                // å¾å½¢åèä½ç½®  (reSetLocation ä¼æ´æ° chartBounds)
                var shapeROP_m = chart_m.resetLocation();
                // æ·»å å¾å½¢
                var shapes_m = chart_m.shapes;
                for (var n = 0, slen_n = shapes_m.length; n < slen_n; n++) {
                    shapes_m[n].refOriginalPosition = shapeROP_m;
                    this.renderer.addShape(shapes_m[n]);
                }
            }
        } else {
            // åçå¤æ­æé chartsBounds éå
            var chartsBounds = [];
            var extent = this.map.getBounds();
            var mapBounds = new Bounds_Bounds(extent.getWest(), extent.getSouth(), extent.getEast(), extent.getNorth());
            if (mapBounds) {
                // è·åå°å¾åç´  bounds
                var mapPxLT = this.getLocalXY(new LonLat_LonLat(mapBounds.left, mapBounds.top));
                var mapPxRB = this.getLocalXY(new LonLat_LonLat(mapBounds.right, mapBounds.bottom));
                var mBounds = new Bounds_Bounds(mapPxLT[0], mapPxRB[1], mapPxRB[0], mapPxLT[1]);
                // åçå¤ç & æ·»å å¾å½¢
                for (let i = 0, len = charts.length; i < len; i++) {
                    var chart = charts[i];
                    // å¾å½¢åèä½ç½®  (reSetLocation ä¼æ´æ° chartBounds)
                    var shapeROP = chart.resetLocation();
                    // å¾è¡¨æ¡
                    var cbs = chart.chartBounds;
                    var cBounds = [{"x": cbs.left, "y": cbs.top}, {"x": cbs.left, "y": cbs.bottom}, {
                        "x": cbs.right,
                        "y": cbs.bottom
                    }, {"x": cbs.right, "y": cbs.top}, {"x": cbs.left, "y": cbs.top}];
                    // å°å¾èå´å¤ä¸ç»å¶
                    if (mBounds) {
                        // if (!this.isChartInMap(mBounds, cBounds)) continue;
                    }
                    // æ¯å¦åç
                    var isOL = false;
                    if (i !== 0) {
                        for (let j = 0; j < chartsBounds.length; j++) {
                            //åçå¤æ­
                            if (this.isQuadrilateralOverLap(cBounds, chartsBounds[j])) {
                                isOL = true;
                                break;
                            }
                        }
                    }
                    if (isOL) {
                        continue;
                    } else {
                        chartsBounds.push(cBounds);
                    }
                    // æ·»å å¾å½¢
                    var shapes = chart.shapes;
                    for (let j = 0, slen = shapes.length; j < slen; j++) {
                        shapes[j].refOriginalPosition = shapeROP;
                        this.renderer.addShape(shapes[j]);
                    }
                }
            }
        }
        // ç»å¶å¾å½¢
        this.renderer.render();
    }

    /**
     * @function mapboxgl.supermap.GraphThemeLayer.prototype.getShapesByFeatureID
     * @description  éè¿ FeatureID è·å feature å³èçææå¾å½¢ãå¦æä¸ä¼ å¥æ­¤åæ°ï¼å½æ°å°è¿åææå¾å½¢ã
     * @param {number} featureID - è¦ç´  IDã
     */
    getShapesByFeatureID(featureID) {
        var list = [];
        var shapeList = this.renderer.getAllShapes();
        if (!featureID) {
            return shapeList
        }
        for (var i = 0, len = shapeList.length; i < len; i++) {
            var si = shapeList[i];
            if (si.refDataID && featureID === si.refDataID) {
                list.push(si);
            }
        }
        return list;
    }

    /**
     * @function mapboxgl.supermap.GraphThemeLayer.prototype.isQuadrilateralOverLap
     * @description  å¤æ­ä¸¤ä¸ªåè¾¹å½¢æ¯å¦æåçã
     * @param {Array.<Object>} quadrilateral - åè¾¹å½¢èç¹æ°ç»ã
     * @param {Array.<Object>} quadrilateral2 - ç¬¬äºä¸ªåè¾¹å½¢èç¹æ°ç»ã
     */
    isQuadrilateralOverLap(quadrilateral, quadrilateral2) {
        var quadLen = quadrilateral.length,
            quad2Len = quadrilateral2.length;
        if (quadLen !== 5 || quad2Len !== 5) {
            return null;
        }//ä¸æ¯åè¾¹å½¢

        var OverLap = false;
        //å¦æä¸¤åè¾¹å½¢äºä¸åå«å¯¹æ¹çèç¹ï¼åä¸¤ä¸ªåè¾¹å½¢ä¸ç¸äº¤
        for (let i = 0; i < quadLen; i++) {
            if (this.isPointInPoly(quadrilateral[i], quadrilateral2)) {
                OverLap = true;
                break;
            }
        }
        for (let i = 0; i < quad2Len; i++) {
            if (this.isPointInPoly(quadrilateral2[i], quadrilateral)) {
                OverLap = true;
                break;
            }
        }
        //å ä¸ä¸¤ç©å½¢åå­ç¸äº¤çæåµ
        for (let i = 0; i < quadLen - 1; i++) {
            if (OverLap) {
                break;
            }
            for (let j = 0; j < quad2Len - 1; j++) {
                var isLineIn = Util_Util.lineIntersection(quadrilateral[i], quadrilateral[i + 1], quadrilateral2[j], quadrilateral2[j + 1]);
                if (isLineIn.CLASS_NAME === "SuperMap.Geometry.Point") {
                    OverLap = true;
                    break;
                }
            }
        }
        return OverLap;
    }

    /**
     * @function mapboxgl.supermap.GraphThemeLayer.prototype.isPointInPoly
     * @description  å¤æ­ä¸ä¸ªç¹æ¯å¦å¨å¤è¾¹å½¢éé¢ã(å°çº¿æ³)
     * @param {Object} pt - éè¦å¤å®çç¹å¯¹è±¡ï¼è¯¥å¯¹è±¡å«æå±æ§ x (æ¨ªåæ )ï¼å±æ§ y (çºµåæ )ã
     * @param {Array.<Object>} poly - å¤è¾¹å½¢èç¹æ°ç»ã
     */
    isPointInPoly(pt, poly) {
        for (var isIn = false, i = -1, l = poly.length, j = l - 1; ++i < l; j = i) {
            ((poly[i].y <= pt.y && pt.y < poly[j].y) || (poly[j].y <= pt.y && pt.y < poly[i].y))
            && (pt.x < (poly[j].x - poly[i].x) * (pt.y - poly[i].y) / (poly[j].y - poly[i].y) + poly[i].x)
            && (isIn = !isIn);
        }
        return isIn;
    }

    /**
     * @function mapboxgl.supermap.GraphThemeLayer.prototype.isChartInMap
     * @description  å¤æ­å¾è¡¨æ¯å¦å¨å°å¾éã
     * @param {SuperMap.Bounds} mapPxBounds - å°å¾åç´ èå´ã
     * @param {Array.<Object>} chartPxBounds - å¾è¡¨èå´çåè¾¹å½¢èç¹æ°ç»ã
     */
    isChartInMap(mapPxBounds, chartPxBounds) {
        var mb = mapPxBounds;
        var isIn = false;
        for (var i = 0, len = chartPxBounds.length; i < len; i++) {
            var cb = chartPxBounds[i];

            if (cb.x >= mb.left && cb.x <= mb.right && cb.y >= mb.top && cb.y <= mb.bottom) {
                isIn = true;
                break;
            }
        }
        return isIn;
    }

    /**
     * @function mapboxgl.supermap.GraphThemeLayer.prototype.clearCache
     * @description  æ¸é¤ç¼å­
     */
    clearCache() {
        this.cache = {};
        this.charts = [];
    }

    /**
     * @function mapboxgl.supermap.GraphThemeLayer.prototype.removeFeatures
     * @description  ä»ä¸é¢å¾ä¸­å é¤ featureãè¿ä¸ªå½æ°å é¤ææä¼ éè¿æ¥çç¢éè¦ç´ ãåæ°ä¸­ç features æ°ç»ä¸­çæ¯ä¸é¡¹ï¼å¿é¡»æ¯å·²ç»æ·»å å°å½åå¾å±ä¸­ç featureã
     * @param {Object} features - è¦å é¤çè¦ç´ ã
     */
    removeFeatures(features) {
        this.clearCache();
        super.removeFeatures(features);
    }

    /**
     * @function mapboxgl.supermap.GraphThemeLayer.prototype.removeAllFeatures
     * @description  ç§»é¤ææçè¦ç´ ã
     */
    removeAllFeatures() {
        this.clearCache();
        super.removeAllFeatures();
    }

    /**
     * @function mapboxgl.supermap.GraphThemeLayer.prototype.redraw
     * @description  éç»è¯¥å¾å±ã
     */
    redraw() {
        this.clearCache();
        if (this.renderer) {
            this.redrawThematicFeatures(this.map.getBounds());
            return true;
        }
        return false
    }

    /**
     * @function mapboxgl.supermap.GraphThemeLayer.prototype.clear
     * @description  æ¸é¤çåå®¹åæ¬æ°æ®ï¼featuresï¼ ãä¸é¢è¦ç´ ãç¼å­ã
     */
    clear() {
        if (this.renderer) {
            this.renderer.clearAll();
            this.renderer.refresh();
        }
        this.removeAllFeatures();
        this.clearCache();
    }
}

external_mapboxgl_default.a.supermap.GraphThemeLayer = GraphThemeLayer_Graph;
// CONCATENATED MODULE: ./src/mapboxgl/overlay/theme/GeoFeatureThemeLayer.js





/**
 * @class mapboxgl.supermap.GeoFeatureThemeLayer
 * @category Visualization Theme
 * @classdesc å°çå ä½ä¸é¢è¦ç´ åä¸é¢å¾å±ã
 * @param {string} name - å¾å±åã
 * @param {Object} opt_options - åæ°ã
 * @param {mapboxgl.Map} opt_options.map - å½å mapboxgl map å¯¹è±¡ã
 * @param {string} [opt_options.id] - ä¸é¢å¾å± IDãé»è®¤ä½¿ç¨ CommonUtil.createUniqueID("themeLayer_") åå»ºä¸é¢å¾å± IDã
 * @param {boolean} [opt_options.loadWhileAnimating=true] - æ¯å¦å®æ¶éç»ã
 * @param {number} [opt_options.nodesClipPixel=2] - èç¹æ½ç¨åç´ è·ç¦»ã
 * @param {boolean} [opt_options.isHoverAble=false] - å¾å½¢æ¯å¦å¨ hover æ¶é«äº®ã
 * @param {boolean} [opt_options.isMultiHover=false] - æ¯å¦å¤å¾å½¢åæ¶é«äº®ï¼ç¨äºé«äº®åä¸ä¸ªæ°æ®å¯¹åºçææå¾å½¢ï¼å¦ï¼å¤é¢ï¼ã
 * @param {boolean} [opt_options.isClickAble=true] - å¾å½¢æ¯å¦å¯ç¹å»ã
 * @param {boolean} [opt_options.isAllowFeatureStyle=false] -  æ¯å¦åè®¸ feature æ ·å¼ï¼styleï¼ ä¸­çææå±æ§åºç¨å°ä¸é¢å¾å±ã
 *                                        ç¦æ­¢å¯¹ä¸é¢è¦ç´ ä½¿ç¨æ°æ®ï¼featureï¼ç styleã
 *                                        æ­¤å±æ§å¯å¼ºå¶å°æ°æ® feature ç style ä¸­ææå±æ§åºç¨å°ä¸é¢è¦ç´ ä¸ï¼ä¸æ¥ææ¯å¾å± style å styleGroups æ´é«çä¼åçº§ï¼ä½¿ä¸é¢è¦ç´ 
 *                                        çæ ·å¼è±ç¦»ä¸é¢å¾å±çæ§å¶ãå¯ä»¥éè¿æ­¤æ¹å¼å®ç°å¯¹ç¹æ®æ°æ®ï¼featureï¼ å¯¹åºä¸é¢è¦ç´ èµäºç¬ç« styleã
 * @param {number} [opt_options.opacity=1] - å¾å±éæåº¦ã
 * @extends {mapboxgl.supermap.ThemeLayer}
 */

class GeoFeatureThemeLayer_GeoFeature extends ThemeLayer_Theme {

    constructor(name, opt_options) {
        super(name, opt_options);
        /**
         * @member {string} mapboxgl.supermap.GeoFeatureThemeLayer.prototype.name 
         * @description ä¸é¢å¾å¾å±åç§°ã
         */
        this.name = null;
        /**
         * @member {SuperMap.ThemeStyle} mapboxgl.supermap.GeoFeatureThemeLayer.prototype.style 
         * @description ä¸é¢å¾å¾å±å¨å±æ ·å¼ã
         */
        this.style = null;

        /**
         * @member {SuperMap.ThemeStyle} mapboxgl.supermap.GeoFeatureThemeLayer.prototype.highlightStyle 
         * @description ä¸é¢å¾å¾å±é«äº®æ ·å¼ã
         */
        this.highlightStyle = null;

        /**
         * @member {number} [mapboxgl.supermap.GeoFeatureThemeLayer.prototype.nodesClipPixel=2]
         * @description èç¹æ½ç¨åç´ è·ç¦»ã
         */
        this.nodesClipPixel = 2;

        /**
         * @member {boolean} [mapboxgl.supermap.GeoFeatureThemeLayer.prototype.isHoverAble=false]
         * @description å¾å½¢æ¯å¦å¨ hover æ¶é«äº®ã
         */
        this.isHoverAble = false;
        /**
         * @member {boolean} [mapboxgl.supermap.GeoFeatureThemeLayer.prototype.isMultiHover=false]
         * @description æ¯å¦å¤å¾å½¢åæ¶é«äº®ï¼ç¨äºé«äº®åä¸ä¸ªæ°æ®å¯¹åºçææå¾å½¢ï¼å¦ï¼å¤é¢ï¼ã
         */
        this.isMultiHover = false;
        /**
         * @member {boolean} [mapboxgl.supermap.GeoFeatureThemeLayer.prototype.isClickAble=true] 
         * @description  å¾å½¢æ¯å¦å¯ç¹å»ã
         */
        this.isClickAble = true;

        /**
         * @member {boolean} [mapboxgl.supermap.GeoFeatureThemeLayer.prototype.isAllowFeatureStyle=false]
         * @description  æ¯å¦åè®¸ feature æ ·å¼ï¼styleï¼ ä¸­çææå±æ§åºç¨å°ä¸é¢å¾å±ã</br>
         *               ç¦æ­¢å¯¹ä¸é¢è¦ç´ ä½¿ç¨æ°æ®ï¼featureï¼ç styleãæ­¤å±æ§å¯å¼ºå¶å°æ°æ® feature ç style ä¸­ææå±æ§åºç¨å°ä¸é¢è¦ç´ ä¸ï¼ä¸æ¥ææ¯å¾å± style å styleGroups æ´é«çä¼åçº§ï¼ä½¿ä¸é¢è¦ç´ 
         *               çæ ·å¼è±ç¦»ä¸é¢å¾å±çæ§å¶ãå¯ä»¥éè¿æ­¤æ¹å¼å®ç°å¯¹ç¹æ®æ°æ®ï¼featureï¼ å¯¹åºä¸é¢è¦ç´ èµäºç¬ç« styleã
         */
        this.isAllowFeatureStyle = false;
        Util_Util.extend(this, opt_options);
        this.cache = opt_options.cache || {};
        this.cacheFields = opt_options.cacheFields || [];
        this.maxCacheCount = opt_options.maxCacheCount || 0;
        this.isCustomSetMaxCacheCount = opt_options.isCustomSetMaxCacheCount === undefined ? false : opt_options.isCustomSetMaxCacheCount;

    }

    /**
     * @function mapboxgl.supermap.GeoFeatureThemeLayer.prototype.addFeatures
     * @description æ·»å è¦ç´ 
     * @param {mapboxgl.supermap.ThemeFeature|SuperMap.ServerFeature} features - è¦ç´ å¯¹è±¡
     */
    addFeatures(features) {
        external_mapboxgl_default.a.Evented.prototype.fire('beforefeaturesadded', {features: features});
        //è½¬æ¢ features å½¢å¼
        this.features = this.toiClientFeature(features);

        if (!this.isCustomSetMaxCacheCount) {
            this.maxCacheCount = this.features.length * 5;
        }
        //ç»å¶ä¸é¢è¦ç´ 
        if (this.renderer) {
            this.redrawThematicFeatures(this.map.getBounds());
        }
    }

    /**
     * @function mapboxgl.supermap.GeoFeatureThemeLayer.prototype.removeFeatures
     * @description ä»ä¸é¢å¾ä¸­å é¤ featureãè¿ä¸ªå½æ°å é¤ææä¼ éè¿æ¥çç¢éè¦ç´ ã
     * @param {Object} features - è¦å é¤çè¦ç´ å¯¹è±¡ã
     */
    removeFeatures(features) { // eslint-disable-line no-unused-vars
        this.clearCache();
        ThemeLayer_Theme.prototype.removeFeatures.apply(this, arguments);
    }

    /**
     * @function mapboxgl.supermap.GeoFeatureThemeLayer.prototype.removeAllFeatures
     * @description æ¸é¤å½åå¾å±ææçç¢éè¦ç´ ã
     */
    removeAllFeatures() {
        this.clearCache();
        ThemeLayer_Theme.prototype.removeAllFeatures.apply(this, arguments);
    }

    /**
     * @function mapboxgl.supermap.GeoFeatureThemeLayer.prototype.redrawThematicFeatures
     * @description éç»ææä¸é¢è¦ç´ ã
     * @param {mapboxgl.LngLatBounds} extent - éç»çèå´ã
     */
    redrawThematicFeatures(extent) { // eslint-disable-line no-unused-vars
        this.clearCache();
        //è·åé«äº®ä¸é¢è¦ç´ å¯¹åºçç¨æ· id
        var hoverone = this.renderer.getHoverOne();
        var hoverFid = null;
        if (hoverone && hoverone.refDataID) {
            hoverFid = hoverone.refDataID;
        }
        //æ¸é¤å½åææå¯è§åç´ 
        this.renderer.clearAll();

        var features = this.features;
        var cache = this.cache;
        var cacheFields = this.cacheFields;
        var cmZoom = this.map.getZoom();

        var maxCC = this.maxCacheCount;

        for (var i = 0, len = features.length; i < len; i++) {
            var feature = features[i];
            // var feaBounds = feature.geometry.getBounds();
            //
            // //åé¤å½åè§å¾ï¼å°çï¼èå´ä»¥å¤çæ°æ®
            // if (extent) {
            //     var bounds = new SuperMap.Bounds(extent.getWest(), extent.getSouth(), extent.getEast(), extent.getNorth());
            //     // if (!bounds.intersectsBounds(feaBounds)) continue;
            // }

            //ç¼å­å­æ®µ
            var fields = feature.id + "_zoom_" + cmZoom.toString();

            var thematicFeature;

            //å¤æ­ä¸é¢è¦ç´ ç¼å­æ¯å¦å­å¨
            if (cache[fields]) {
                cache[fields].updateAndAddShapes();
            } else {
                //å¦æä¸é¢è¦ç´ ç¼å­ä¸å­å¨ï¼åå»ºä¸é¢è¦ç´ 
                thematicFeature = this.createThematicFeature(features[i]);

                //æ£æ¥ thematicFeature æ¯å¦æå¯è§åå¾å½¢
                if (thematicFeature.getShapesCount() < 1) {
                    continue;
                }

                //å å¥ç¼å­
                cache[fields] = thematicFeature;
                cacheFields.push(fields);

                //ç¼å­æ°ééå¶
                if (cacheFields.length > maxCC) {
                    var fieldsTemp = cacheFields[0];
                    cacheFields.splice(0, 1);
                    delete cache[fieldsTemp];
                }
            }

        }
        this.renderer.render();

        //å°å¾æ¼«æ¸¸åï¼éæ°é«äº®å¾å½¢
        if (hoverFid && this.isHoverAble && this.isMultiHover) {
            var hShapes = this.getShapesByFeatureID(hoverFid);
            this.renderer.updateHoverShapes(hShapes);
        }
    }

    /**
     * @function mapboxgl.supermap.GeoFeatureThemeLayer.prototype.createThematicFeature
     * @description åå»ºä¸é¢è¦ç´ ã
     * @param {SuperMap.Feature.Vector} feature - è¦ç´ å¯¹è±¡ã
     */
    createThematicFeature(feature) {
        var style = Util_Util.copyAttributesWithClip(this.style);
        if (feature.style && this.isAllowFeatureStyle === true) {
            style = Util_Util.copyAttributesWithClip(feature.style);
        }
        //åå»ºä¸é¢è¦ç´ æ¶çå¯éåæ°
        var options = {};
        options.nodesClipPixel = this.nodesClipPixel;
        options.isHoverAble = this.isHoverAble;
        options.isMultiHover = this.isMultiHover;
        options.isClickAble = this.isClickAble;
        options.highlightStyle = ShapeFactory_ShapeFactory.transformStyle(this.highlightStyle);
        //å°æ°æ®è½¬ä¸ºä¸é¢è¦ç´ ï¼Vectorï¼
        var thematicFeature = new ThemeVector_ThemeVector(feature, this, ShapeFactory_ShapeFactory.transformStyle(style), options);
        //ç´æ¥æ·»å å¾å½¢å°æ¸²æå¨
        for (var m = 0; m < thematicFeature.shapes.length; m++) {
            this.renderer.addShape(thematicFeature.shapes[m]);
        }
        return thematicFeature;
    }

    /**
     * @function mapboxgl.supermap.GeoFeatureThemeLayer.prototype.clearCache
     * @description æ¸é¤ç¼å­ã
     */
    clearCache() {
        this.cache = {};
        this.cacheFields = [];
    }

    /**
     * @function mapboxgl.supermap.GeoFeatureThemeLayer.prototype.clear
     * @description  æ¸é¤çåå®¹åæ¬æ°æ®ï¼featuresï¼ãä¸é¢è¦ç´ åç¼å­ã
     */
    clear() {
        this.renderer.clearAll();
        this.renderer.refresh();
        this.removeAllFeatures();
        this.clearCache();
    }

    /**
     * @function mapboxgl.supermap.GeoFeatureThemeLayer.prototype.getCacheCount
     * @description è·åå½åç¼å­æ°éã
     * @returns {number} å½åç¼å­æ°éã
     */
    getCacheCount() {
        return this.cacheFields.length;
    }

    /**
     * @function mapboxgl.supermap.GeoFeatureThemeLayer.prototype.setMaxCacheCount
     * @param {number} [cacheCount] - ç¼å­æ»æ°ã
     * @description è®¾ç½®æå¤§ç¼å­æ¡æ°ã
     */
    setMaxCacheCount(cacheCount) {
        if (!isNaN(cacheCount)) {
            this.maxCacheCount = cacheCount;
            this.isCustomSetMaxCacheCount = true;
        }
    }

    /**
     * @function mapboxgl.supermap.GeoFeatureThemeLayer.prototype.setMaxCacheCount
     * @param {number} [featureID=si.refDataID] - è¦ç´  IDã
     * @description éè¿ FeatureID è·å feature å³èçææå¾å½¢ãå¦æä¸ä¼ å¥æ­¤åæ°ï¼å½æ°å°è¿åææå¾å½¢ã
     */
    getShapesByFeatureID(featureID) {
        var list = [];
        var shapeList = this.renderer.getAllShapes();
        if (!featureID) {
            return shapeList
        }
        for (var i = 0, len = shapeList.length; i < len; i++) {
            var si = shapeList[i];
            if (si.refDataID && featureID === si.refDataID) {
                list.push(si);
            }
        }
        return list;
    }

}

external_mapboxgl_default.a.supermap.GeoFeatureThemeLayer = GeoFeatureThemeLayer_GeoFeature;
// CONCATENATED MODULE: ./src/mapboxgl/overlay/LabelThemeLayer.js





/**
 * @class mapboxgl.supermap.LabelThemeLayer
 * @category  Visualization Theme
 * @classdesc  æ ç­¾ä¸é¢å¾å±ã
 * @param {string} name - å¾å±åã
 * @param {Object} opt_options - åæ°ã
 * @param {mapboxgl.Map} opt_options.map - å½åmapboxgl map å¯¹è±¡ã
 * @param {string} opt_options.themeField - æå®åå»ºä¸é¢å¾å­æ®µã
 * @param {Object} opt_options.style - ä¸é¢å¾æ ·å¼ã
 * @param {Object} opt_options.styleGroups - åä¸é¢ç±»åæ ·å¼ç»ã
 * @param {Object} [opt_options.highlightStyle] - å¼å¯ hover äºä»¶åï¼è§¦åçæ ·å¼é£æ ¼ã
 * @param {string} [opt_options.id] - ä¸é¢å¾å± IDãä¸é¢å¾å± IDãé»è®¤ä½¿ç¨ CommonUtil.createUniqueID("themeLayer_") åå»ºä¸é¢å¾å± IDã
 * @param {boolean} [opt_options.loadWhileAnimating=true] - æ¯å¦å®æ¶éç»ã
 * @param {number} [opt_options.opacity=1] - å¾å±éæåº¦ã
 * @param {boolean} [options.isAvoid=true] - æ¯å¦è¿è¡å°å¾è¾¹ç¼çé¿è®©å¤çã
 * @param {boolean} [options.isOverLay=true] - æ¯å¦è¿è¡åçå¤çï¼å¦æè®¾ä¸º trueï¼å¾è¡¨ç»å¶è¿ç¨ä¸­å°éèå¯¹å·²å¨å¾å±ä¸­ç»å¶çå¾è¡¨äº§çåççå¾è¡¨ã
 * @param {boolean} [opt_options.isHoverAble] - æ¯å¦å¼å¯ hover äºä»¶ã
 * @extends {mapboxgl.supermap.GeoFeatureThemeLayer}
 */
class LabelThemeLayer_Label extends GeoFeatureThemeLayer_GeoFeature {

    constructor(name, opt_options) {
        super(name, opt_options);
        /**
         * @member {boolean} [mapboxgl.supermap.LabelThemeLayer.prototype.isOverLay=true] 
         * @description æ¯å¦è¿è¡åçå¤çï¼å¦æè®¾ä¸º trueï¼å°éèè¢«åççæ ç­¾ã
         */
        this.isOverLay = true;
        /**
         * @member {boolean} [mapboxgl.supermap.LabelThemeLayer.prototype.isAvoid=true] 
         * @description æ¯å¦è¿è¡å°å¾è¾¹ç¼çé¿è®©å¤çï¼å¦æè®¾ä¸º trueï¼å°æä¸å°å¾è¾¹ç¼ç¸äº¤çæ ç­¾ç§»å°å°å¾èå´åï¼å¨å°å¾è¾¹ç¼å¤åé¿è®©å¤çã
         */
        this.isAvoid = true;

        /**
         * @member {string} mapboxgl.supermap.LabelThemeLayer.prototype.themeField 
         * @description  ç¨äºæå®ä¸é¢è¦ç´ æ ·å¼çå±æ§å­æ®µåç§°ã</br>
         *               æ­¤å±æ§å­æ®µæ¯è¦ç¨æ·æ°æ®ï¼featureï¼ attributes ä¸­åå«çå­æ®µï¼ä¸å­æ®µå¯¹åºçå¼çç±»åå¿é¡»æ¯æ°å¼åã</br>
         *               ä½¿ç¨æ ç­¾åç»æ¾ç¤ºè¿éè¦è®¾ç½® styleGroups å±æ§ã
         */
        this.themeField = null;

        /**
         * @member {Array.<Object>} mapboxgl.supermap.LabelThemeLayer.prototype.styleGroups 
         * @description åç»æ ·å¼ãä½¿ç¨æ­¤å±æ§éè¦è®¾ç½® themeField å±æ§ã</br>
         *              1.æ²¡æåæ¶è®¾ç½® themeField å styleGroupsï¼åææä¸é¢è¦ç´ é½ä½¿ç¨æ¬å¾å±ç style è¿è¡æ¸²æï¼</br>
         *              2.åæ¶è®¾ç½® themeField å styleGroupsï¼åæç§ themeField æå®çå­æ®µåç§°è·åç¨æ·æ°æ®ï¼featureï¼attributes ä¸­å¯¹åºçå±æ§å¼ï¼</br>
         *               &nbsp;&nbsp;a.å¦æå±æ§å¼ç­äº styleGroups æ°ç»éæä¸ªåç´ å®ä¹ç value å¼ï¼åæ­¤ä¸é¢è¦ç´ å styleGroups æ°ç»ä¸­è¯¥åç´ å®ä¹ç style è¿è¡æ¸²æã</br>
         *               &nbsp;&nbsp;b.å¦æå±æ§å¼ä¸ç­äº styleGroups æ°ç»éä»»ä½åç´ å®ä¹ç value å¼ï¼åæ­¤ä¸é¢è¦ç´ æç§æ¬å¾å±ç style è¿è¡æ¸²æã</br>
         *              æ­¤æ°ç»æ¯ä¸ªåç´ å¯¹è±¡å¿é¡»æä¸¤ä¸ªå±æ§ï¼value : ä¸å­æ®µ themeField ç¸å¯¹åºçå±æ§å¼ï¼styleï¼ä¸é¢è¦ç´  styleã
         */
        this.styleGroups = null;

        Util_Util.extend(this, opt_options);
        this.defaultStyle = {
            //é»è®¤ææ¬æ ·å¼
            fontColor: "#000000",
            fontOpacity: 1,
            fontSize: "12px",
            fontStyle: "normal",
            fontWeight: "normal",
            labelAlign: "cm",
            labelXOffset: 0,
            labelYOffset: 0,
            labelRotation: 0,

            //é»è®¤æ ·å¼
            fill: false,
            fillColor: "#ee9900",
            fillOpacity: 0.4,
            stroke: false,
            strokeColor: "#ee9900",
            strokeOpacity: 1,
            strokeWidth: 1,
            strokeLinecap: "round",
            strokeDashstyle: "solid",

            //é»è®¤æ¾ç¤ºèæ¯æ¡
            labelRect: true,
            //å¯¹ç¨æ·éèä½å¿é¡»ä¿ææ­¤å¼çå±æ§
            //cursor: "pointer",
            labelSelect: true,

            //ç¨  _isGeoTextStrategyStyle æ è®°æ­¤styleï¼æºå¸¦æ­¤ç±»styleçè¦ç´ ç¹æGeoTextç­ç¥ä¸­çæ ç­¾è¦ç´ 
            _isGeoTextStrategyStyle: true
        };
        //è·åæ ç­¾åç´  bounds çæ¹å¼ã0 - è¡¨ç¤ºéè¿ææ¬ç±»å®¹åææ¬é£æ ¼è®¡ç®è·ååç´ èå´ï¼ç°å¨æ¯æä¸­æãè±æ; 1 - è¡¨ç¤ºéè¿ç»å¶çææ¬æ ç­¾è·ååç´ èå´ï¼æ¯æåä¸ªè¯­ç§çæå­èå´è·åï¼ä½æ§è½æ¶èè¾å¤§ï¼å°¤å¶æ¯éç¨SVGæ¸²æï¼ãé»è®¤å¼ä¸º0ã
        this.getPxBoundsMode = 0;
    }


    /**
     * @function mapboxgl.supermap.LabelThemeLayer.prototype.redrawThematicFeatures
     * @description éç»ææä¸é¢è¦ç´ ã</br>
     *              æ­¤æ¹æ³åå«ç»å¶ä¸é¢è¦ç´ çæææ­¥éª¤ï¼åå«ç¨æ·æ°æ®å°ä¸é¢è¦ç´ çè½¬æ¢ï¼æ½ç¨ï¼ç¼å­ç­æ­¥éª¤ã</br>
     *              å°å¾æ¼«æ¸¸æ¶è°ç¨æ­¤æ¹æ³è¿è¡å¾å±å·æ°ã
     * @param {mapboxgl.LngLatBounds} bounds - éç»èå´ã
     */
    redrawThematicFeatures(bounds) {
        if (!this.labelFeatures || this.labelFeatures.length == 0) {
            var feats = this.setLabelsStyle(this.features);
            this.labelFeatures = [];
            for (var i = 0, len = feats.length; i < len; i++) {
                this.labelFeatures.push(feats[i]);
            }

        }
        this.features = this.getDrawnLabels(this.labelFeatures);
        super.redrawThematicFeatures.call(this, bounds);
    }


    /**
     * @function mapboxgl.supermap.LabelThemeLayer.prototype.createThematicFeature
     * @description åå»ºä¸é¢å¾è¦ç´ ã
     * @param {Object} feature - è¦åå»ºçä¸é¢å¾å½¢è¦ç´ ã
     */
    createThematicFeature(feature) {
        //èµ style
        var style = this.getStyleByData(feature);
        //åå»ºä¸é¢è¦ç´ æ¶çå¯éåæ°
        var options = {};
        options.nodesClipPixel = this.nodesClipPixel;
        options.isHoverAble = this.isHoverAble;
        options.isMultiHover = this.isMultiHover;
        options.isClickAble = this.isClickAble;
        options.highlightStyle = ShapeFactory_ShapeFactory.transformStyle(this.highlightStyle);

        //å°æ°æ®è½¬ä¸ºä¸é¢è¦ç´ ï¼Vectorï¼
        var thematicFeature = new ThemeVector_ThemeVector(feature, this, ShapeFactory_ShapeFactory.transformStyle(style), options);

        //ç´æ¥æ·»å å¾å½¢å°æ¸²æå¨
        for (var m = 0; m < thematicFeature.shapes.length; m++) {
            this.renderer.addShape(thematicFeature.shapes[m]);
        }

        return thematicFeature;
    }


    /**
     * @function mapboxgl.supermap.LabelThemeLayer.prototype.getDrawnLabels
     * @description è·åç»ï¼åçï¼å¤çåå°è¦ç»å¶å¨å¾å±ä¸çæ ç­¾è¦ç´ ã
     * @param {Array.<SuperMap.Feature.Vector>} labelFeatures - æææ ç­¾è¦ç´ çæ°ç»ã
     * @returns {Array.<SuperMap.Feature.Vector>} æç»è¦ç»å¶çæ ç­¾è¦ç´ æ°ç»ã
     */
    getDrawnLabels(labelFeatures) {
        var feas = [], //æç»è¦ç»å¶çæ ç­¾è¦ç´ é
            fea,    //æç»è¦ç»å¶çæ ç­¾è¦ç´ 
            fi, //ä¸´æ¶æ ç­¾è¦ç´ ï¼ç¨æ·çç¬¬iä¸ªæ ç­¾
            labelsB = [], //ä¸äº§çåççæ ç­¾è¦ç´ èå´é
            styTmp, //ç¨äºä¸´æ¶å­å¨è¦ç´ styleçåé
            feaSty,  //æ ç­¾è¦ç´ æç»çstyle
            // styleTempç¨äºå±è½ææ¬styleä¸­å¸¦æåç§»æ§è´¨styleå±æ§ï¼åç§»å·²ç»å¨è®¡ç®boundsçè¿ç¨ä¸­åä¸äºè¿ç®ï¼
            // æä»¥å¨æç»æç§boundsæ¥ç»å¶æ ç­¾æ¶ï¼éå±è½styleä¸­å¸¦æåç§»æ§è´¨å±æ§ï¼å¦åææ¬çåç§»éå°æ©å¤§ä¸åã
            styleTemp = {
                labelAlign: "cm",
                labelXOffset: 0,
                labelYOffset: 0
            };

        var map = this.map;
        var zoom = map.getZoom();
        var canvas = map.getCanvas();
        var mapSize = {
            x: parseFloat(canvas.style.width),
            y: parseFloat(canvas.style.height)
        };
        //å¯¹ç¨æ·çæ¯ä¸ªæ ç­¾è¦ç´ è¿è¡å¤çä¸å¤æ­
        for (var i = 0, len = labelFeatures.length; i < len; i++) {
            fi = labelFeatures[i];
            //æ£æ¥fiçstyleå¨é¿è®©ä¸­æ¯å¦è¢«æ¹åï¼å¦ææ¹åï¼éæ°è®¾ç½®è¦ç´ çstyle
            if (fi.isStyleChange || fi.isStyleChange === undefined) {
                fi = this.setStyle(fi);
            }

            //æ ç­¾æç»çä¸­å¿ç¹åç´ ä½ç½® ï¼åç§»åï¼
            var loc = this.getLabelPxLocation(fi);

            //è¿æ»¤æå°å¾èå´å¤çæ ç­¾ ï¼åç§»åï¼
            if ((loc.x >= 0 && loc.x <= mapSize.x ) && (loc.y >= 0 && loc.y <= mapSize.y)) {
                //æ ¹æ®å½åå°å¾ç¼©æ¾çº§å«è¿æ»¤æ ç­¾
                if (fi.style.minZoomLevel > -1) {
                    if (zoom <= fi.style.minZoomLevel) {
                        continue;
                    }
                }
                if (fi.style.maxZoomLevel > -1) {
                    if (zoom > fi.style.maxZoomLevel) {
                        continue;
                    }
                }

                //è®¡ç®æ ç­¾bounds
                var boundsQuad = null;
                if (fi.isStyleChange) {
                    fi.isStyleChange = null;
                    boundsQuad = this.calculateLabelBounds(fi, loc);
                } else {
                    if (fi.geometry.bsInfo.w && fi.geometry.bsInfo.h) {
                        //ä½¿ç¨calculateLabelBounds2å¯ä»¥æé«boundsçè®¡ç®æçï¼å°¤å¶æ¯å¨getPxBoundsMode = 1æ¶
                        boundsQuad = this.calculateLabelBounds2(fi, loc);
                    } else {
                        boundsQuad = this.calculateLabelBounds(fi, loc);
                    }
                }

                //é¿è®©å¤ç -start
                var mapViewBounds = new Bounds_Bounds(0, mapSize.y, mapSize.x, 0),        //å°å¾åç´ èå´
                    quadlen = boundsQuad.length;

                if (this.isAvoid) {
                    var avoidInfo = this.getAvoidInfo(mapViewBounds, boundsQuad);       //é¿è®©ä¿¡æ¯

                    if (avoidInfo) {
                        //æ¨ªåï¼xæ¹åï¼ä¸çé¿è®©
                        if (avoidInfo.aspectW === "left") {
                            fi.style.labelXOffset += avoidInfo.offsetX;

                            for (let j = 0; j < quadlen; j++) {
                                boundsQuad[j].x += avoidInfo.offsetX;
                            }
                        } else if (avoidInfo.aspectW === "right") {
                            fi.style.labelXOffset += (-avoidInfo.offsetX);

                            for (let j = 0; j < quadlen; j++) {
                                boundsQuad[j].x += (-avoidInfo.offsetX);
                            }
                        }

                        //çºµåï¼yæ¹åï¼ä¸çé¿è®©
                        if (avoidInfo.aspectH === "top") {
                            fi.style.labelYOffset += avoidInfo.offsetY;

                            for (let j = 0; j < quadlen; j++) {
                                boundsQuad[j].y += avoidInfo.offsetY;
                            }
                        } else if (avoidInfo.aspectH === "bottom") {
                            fi.style.labelYOffset += (-avoidInfo.offsetY);

                            for (let j = 0; j < quadlen; j++) {
                                boundsQuad[j].y += (-avoidInfo.offsetY);
                            }
                        }

                        //å¦æstyleåçååï¼è®°å½ä¸æ¥
                        fi.isStyleChange = true;
                    }
                }
                //é¿è®©å¤ç -end

                //åçå¤ç -start
                if (this.isOverLay) {
                    //æ¯å¦åç
                    var isOL = false;

                    if (i != 0) {
                        for (let j = 0; j < labelsB.length; j++) {
                            //åçå¤æ­
                            if (this.isQuadrilateralOverLap(boundsQuad, labelsB[j])) {
                                isOL = true;
                                break;
                            }
                        }
                    }

                    if (isOL) {
                        continue;
                    } else {
                        labelsB.push(boundsQuad);
                    }
                }
                //åçå¤ç -end

                //èæ¯ï¼äºä»¶ï¼-start

                //å°æ ç­¾åç´ èå´è½¬ä¸ºå°çèå´
                var geoBs = [];
                for (let j = 0; j < quadlen - 1; j++) {
                    geoBs.push(map.unproject(boundsQuad[j]));
                }

                //å±è½æåç§»æ§è´¨çstyleå±æ§,åç§»éå¨ç®boundsæ¶å·²ç»å å¥è®¡ç®
                var leftBottom = geoBs[3];
                var rightTop = geoBs[1];
                var bounds = new Bounds_Bounds(leftBottom.lng, leftBottom.lat, rightTop.lng, rightTop.lat);
                var center = bounds.getCenterLonLat();
                var label = new GeoText_GeoText(center.lon, center.lat, fi.attributes[this.themeField]);
                label.calculateBounds();
                styTmp = Util_Util.cloneObject(fi.style);
                feaSty = Util_Util.cloneObject(Util_Util.copyAttributes(styTmp, styleTemp));
                fea = new Vector_Vector(label, fi.attributes, feaSty);
                //èµäºid
                fea.id = fi.id;
                fea.fid = fi.fid;
                feas.push(fea);
            }
        }

        //è¿åæç»è¦ç»å¶çæ ç­¾è¦ç´ 
        return feas;
    }


    /**
     * @function mapboxgl.supermap.LabelThemeLayer.prototype.getStyleByData
     * @description æ ¹æ®ç¨æ·æ°æ®ï¼featureï¼è®¾ç½®ä¸é¢è¦ç´ ç Styleã
     * @param {SuperMap.Feature.Vector} feat - ç¢éè¦ç´ å¯¹è±¡ã
     * @returns {Array.<SuperMap.ThemeStyle>} ä¸é¢è¦ç´ ç Styleã
     */
    getStyleByData(feat) {
        var feature = feat;
        feature.style = Util_Util.copyAttributes(feature.style, this.defaultStyle);
        //å°styleèµç»æ ç­¾
        if (this.style && this.style.fontSize && parseFloat(this.style.fontSize) < 12) {
            this.style.fontSize = "12px";
        }
        feature.style = Util_Util.copyAttributes(feature.style, this.style);

        if (this.themeField && this.styleGroups && feature.attributes) {
            var Sf = this.themeField;
            var attributes = feature.attributes;
            var groups = this.styleGroups;
            var isSfInAttrs = false; //æå®ç groupField æ¯å¦æ¯geotextçå±æ§å­æ®µä¹ä¸
            var attr = null; //å±æ§å¼

            for (var property in attributes) {
                if (Sf === property) {
                    isSfInAttrs = true;
                    attr = attributes[property];
                    break;
                }
            }

            //å¤æ­å±æ§å¼æ¯å¦å±äºstyleGroupsçæä¸ä¸ªèå´ï¼ä»¥ä¾¿å¯¹æ ç­¾åç»
            if (isSfInAttrs) {
                for (var i = 0, len = groups.length; i < len; i++) {
                    if ((attr >= groups[i].start) && (attr < groups[i].end)) {
                        var sty1 = groups[i].style;
                        if (sty1 && sty1.fontSize && parseFloat(sty1.fontSize) < 12) {
                            sty1.fontSize = "12px";
                        }
                        feature.style = Util_Util.copyAttributes(feature.style, sty1);
                    }
                }
            }
            feature.style.label = feature.attributes[this.themeField]
        }


        return feature.style;
    }

    /**
     * @function mapboxgl.supermap.LabelThemeLayer.prototype.setLabelsStyle
     * @description è®¾ç½®æ ç­¾è¦ç´ çStyleã
     * @param {Array.<SuperMap.Feature.Vector>} labelFeatures - éè¦è®¾ç½® Style çæ ç­¾è¦ç´ æ°ç»ã
     * @returns {Array.<SuperMap.Feature.Vector>} èµäº Style åçæ ç­¾è¦ç´ æ°ç»ã
     */
    setLabelsStyle(labelFeatures) {
        var fea, labelFeas = [];
        for (var i = 0, len = labelFeatures.length; i < len; i++) {
            var feature = labelFeatures[i];
            if (feature.geometry.CLASS_NAME === "SuperMap.Geometry.GeoText") {
                //è®¾ç½®æ ç­¾çStyle
                if (feature.geometry.bsInfo.w || feature.geometry.bsInfo.h) {
                    feature.geometry.bsInfo.w = null;
                    feature.geometry.bsInfo.h = null;
                    feature.geometry.labelWTmp = null;
                }
                fea = this.setStyle(feature);
                //ä¸ºæ ç­¾è¦ç´ æå®å¾å±
                fea.layer = this.layer;
                labelFeas.push(fea);
            } else {
                return labelFeatures;
            }
        }
        return labelFeas;
    }

    /**
     * @function mapboxgl.supermap.LabelThemeLayer.prototype.setStyle
     * @description è®¾ç½®æ ç­¾è¦ç´ çStyleã
     * @param {SuperMap.Feature.Vector} feat - éè¦èµäº style çè¦ç´ ã
     */
    setStyle(feat) {
        var feature = feat;
        feature.style = Util_Util.copyAttributes(feature.style, this.defaultStyle);
        //å°styleèµç»æ ç­¾
        if (this.style && this.style.fontSize && parseFloat(this.style.fontSize) < 12) {
            this.style.fontSize = "12px";
        }
        feature.style = Util_Util.copyAttributes(feature.style, this.style);

        if (this.groupField && this.styleGroups && feature.attributes) {
            var Sf = this.groupField;
            var Attrs = feature.attributes;
            var Gro = this.styleGroups;
            var isSfInAttrs = false; //æå®ç groupField æ¯å¦æ¯geotextçå±æ§å­æ®µä¹ä¸
            var attr = null; //å±æ§å¼

            for (var property in Attrs) {
                if (Sf === property) {
                    isSfInAttrs = true;
                    attr = Attrs[property];
                    break;
                }
            }

            //å¤æ­å±æ§å¼æ¯å¦å±äºstyleGroupsçæä¸ä¸ªèå´ï¼ä»¥ä¾¿å¯¹æ ç­¾åç»
            if (isSfInAttrs) {
                for (var i = 0, len = Gro.length; i < len; i++) {
                    if ((attr >= Gro[i].start) && (attr < Gro[i].end)) {
                        //feature.style = Util.copyAttributes(feature.style, this.defaultStyle);
                        var sty1 = Gro[i].style;
                        if (sty1 && sty1.fontSize && parseFloat(sty1.fontSize) < 12) {
                            sty1.fontSize = "12px";
                        }
                        feature.style = Util_Util.copyAttributes(feature.style, sty1);
                    }
                }
            }
        }

        //å°ææ¬åå®¹èµå°æ ç­¾è¦ç´ çstyleä¸
        feature.style.label = feature.geometry.text;

        return feature;
    }

    /**
     * @function mapboxgl.supermap.LabelThemeLayer.prototype.getLabelPxLocation
     * @description è·åæ ç­¾è¦ç´ çåç´ åæ ã
     * @param {SuperMap.Feature.Vector} feature - æ ç­¾è¦ç´ ã
     * @returns {mapboxgl.Point} æ ç­¾ä½ç½®ã
     */
    getLabelPxLocation(feature) {
        var geoText = feature.geometry;
        var styleTmp = feature.style;

        //å°æ ç­¾çå°çä½ç½®è½¬ä¸ºåç´ ä½ç½®
        var locationTmp = geoText.getCentroid();
        var locTmp = this.map.project(new external_mapboxgl_default.a.LngLat(locationTmp.x, locationTmp.y));
        var loc = new external_mapboxgl_default.a.Point(locTmp.x, locTmp.y);

        //åç§»å¤ç
        if (styleTmp.labelXOffset || styleTmp.labelYOffset) {
            var xOffset = isNaN(styleTmp.labelXOffset) ? 0 : styleTmp.labelXOffset;
            var yOffset = isNaN(styleTmp.labelYOffset) ? 0 : styleTmp.labelYOffset;
            var point = loc.add(new external_mapboxgl_default.a.Point(xOffset, -yOffset));
            return new external_mapboxgl_default.a.Point(point.x, point.y);
        } else {
            return new external_mapboxgl_default.a.Point(loc.x, loc.y);
        }
    }


    /**
     * @function mapboxgl.supermap.LabelThemeLayer.prototype.calculateLabelBounds
     * @description è·å¾æ ç­¾è¦ç´ çæç»èå´ã
     *
     * @param {SuperMap.Feature.Vector} feature - éè¦è®¡ç®boundsçæ ç­¾è¦ç´ æ°ã</br>
     * @param {mapboxgl.Point} loc - æ ç­¾ä½ç½®ã
     *
     * @returns {Array.<Object>}  åè¾¹å½¢èç¹æ°ç»ãä¾å¦ï¼[{"x":1,"y":1},{"x":3,"y":1},{"x":6,"y":4},{"x":2,"y":10},{"x":1,"y":1}]ã
     */
    calculateLabelBounds(feature, loc) {
        var geoText = feature.geometry;

        //æ ç­¾èå´ï¼æªæè½¬åï¼
        var labB = null;
        var labelInfo = null;
        //è·åboundsçæ¹å¼
        if (this.getPxBoundsMode == 0) {
            labB = geoText.getLabelPxBoundsByText(loc, feature.style);
        } else if (this.getPxBoundsMode === 1) {
            //canvas
            labelInfo = this.getLabelInfo(feature.geometry.getCentroid(), feature.style);
            labB = geoText.getLabelPxBoundsByLabel(loc, labelInfo.w, labelInfo.h, feature.style);
        } else {
            return null;
        }

        //æè½¬Bounds
        var boundsQuad = [];
        if ((feature.style.labelRotation % 180) == 0) {
            boundsQuad = [
                {"x": labB.left, "y": labB.top},
                {"x": labB.right, "y": labB.top},
                {"x": labB.right, "y": labB.bottom},
                {"x": labB.left, "y": labB.bottom},
                {"x": labB.left, "y": labB.top}
            ];
        } else {
            boundsQuad = this.rotationBounds(labB, loc, feature.style.labelRotation);
        }

        //éç½®GeoTextçbounds
        geoText.bounds = new Bounds_Bounds(boundsQuad[1].x, boundsQuad[3].y, boundsQuad[2].x, boundsQuad[4].y);
        return boundsQuad;
    }

    /**
     * @function mapboxgl.supermap.LabelThemeLayer.prototype.calculateLabelBounds2
     * @description è·å¾æ ç­¾è¦ç´ çæç»èå´çå¦ä¸ç§ç®æ³ï¼éè¿è®°å½ä¸çæ ç­¾å®½é«ï¼ï¼æé«è®¡ç®boundsçæçã
     *
     * @param {SuperMap.Feature.Vector} feature - éè¦è®¡ç®boundsçæ ç­¾è¦ç´ æ°ã</br>
     * @param {mapboxgl.Point} loc - æ ç­¾ä½ç½®ã
     *
     * @returns {Array.<Object>}  åè¾¹å½¢èç¹æ°ç»ãä¾å¦ï¼[{"x":1,"y":1},{"x":3,"y":1},{"x":6,"y":4},{"x":2,"y":10},{"x":1,"y":1}]ã
     */
    calculateLabelBounds2(feature, loc) {
        var labB, left, bottom, top, right;
        var labelSize = feature.geometry.bsInfo;
        var style = feature.style;
        var locationPx = Util_Util.cloneObject(loc);

        //å¤çæå­å¯¹é½
        if (style.labelAlign && style.labelAlign !== "cm") {
            switch (style.labelAlign) {
                case "lt":
                    locationPx.x += labelSize.w / 2;
                    locationPx.y += labelSize.h / 2;
                    break;
                case "lm":
                    locationPx.x += labelSize.w / 2;
                    break;
                case "lb":
                    locationPx.x += labelSize.w / 2;
                    locationPx.y -= labelSize.h / 2;
                    break;
                case "ct":
                    locationPx.y += labelSize.h / 2;
                    break;
                case "cb":
                    locationPx.y -= labelSize.h / 2;
                    break;
                case "rt":
                    locationPx.x -= labelSize.w / 2;
                    locationPx.y += labelSize.h / 2;
                    break;
                case "rm":
                    locationPx.x -= labelSize.w / 2;
                    break;
                case "rb":
                    locationPx.x -= labelSize.w / 2;
                    locationPx.y -= labelSize.h / 2;
                    break;
                default:
                    break;
            }
        }

        left = locationPx.x - labelSize.w / 2;
        bottom = locationPx.y + labelSize.h / 2;
        //å¤çæä½å­
        if (style.fontStyle && style.fontStyle === "italic") {
            right = locationPx.x + labelSize.w / 2 + parseInt(parseFloat(style.fontSize) / 2);
        } else {
            right = locationPx.x + labelSize.w / 2;
        }
        top = locationPx.y - labelSize.h / 2;

        labB = new Bounds_Bounds(left, bottom, right, top);

        //æè½¬Bounds
        var boundsQuad = [];
        if ((style.labelRotation % 180) == 0) {
            boundsQuad = [
                {"x": labB.left, "y": labB.top},
                {"x": labB.right, "y": labB.top},
                {"x": labB.right, "y": labB.bottom},
                {"x": labB.left, "y": labB.bottom},
                {"x": labB.left, "y": labB.top}
            ];
        } else {
            boundsQuad = this.rotationBounds(labB, loc, style.labelRotation);
        }

        //éç½®GeoTextçbounds
        feature.geometry.bounds = new Bounds_Bounds(boundsQuad[1].x, boundsQuad[3].y, boundsQuad[2].x, boundsQuad[4].y);
        return boundsQuad;
    }

    /**
     * @function mapboxgl.supermap.LabelThemeLayer.prototype.getLabelInfo
     * @description æ ¹æ®å½åä½ç½®è·åç»å¶åçæ ç­¾ä¿¡æ¯ï¼åæ¬æ ç­¾çå®½ï¼é«åè¡æ°ç­ã
     * @returns {Object} ç»å¶åçæ ç­¾ä¿¡æ¯ã
     */
    getLabelInfo(location, style) {
        var LABEL_ALIGN = {
                "l": "left",
                "r": "right",
                "t": "top",
                "b": "bottom"
            },
            LABEL_FACTOR = {
                "l": 0,
                "r": -1,
                "t": 0,
                "b": -1
            };

        style = Util_Util.extend({
            fontColor: "#000000",
            labelAlign: "cm"
        }, style);
        var pt = this.getLocalXY(location);
        var labelWidth = 0;

        if (style.labelXOffset || style.labelYOffset) {
            var xOffset = isNaN(style.labelXOffset) ? 0 : style.labelXOffset;
            var yOffset = isNaN(style.labelYOffset) ? 0 : style.labelYOffset;
            pt[0] += xOffset;
            pt[1] -= yOffset;
        }

        var canvas = document.createElement('canvas');
        canvas.globalAlpha = 0;
        canvas.lineWidth = 1;

        var ctx = canvas.getContext("2d");

        ctx.fillStyle = style.fontColor;
        ctx.globalAlpha = style.fontOpacity || 1.0;
        var fontStyle = [style.fontStyle ? style.fontStyle : "normal",
            "normal",
            style.fontWeight ? style.fontWeight : "normal",
            style.fontSize ? style.fontSize : "1em",
            style.fontFamily ? style.fontFamily : "sans-serif"].join(" ");
        var labelRows = style.label.split('\n');
        var numRows = labelRows.length;
        var vfactor, lineHeight, labelWidthTmp;
        if (ctx.fillText) {
            // HTML5
            ctx.font = fontStyle;
            ctx.textAlign = LABEL_ALIGN[style.labelAlign[0]] ||
                "center";
            ctx.textBaseline = LABEL_ALIGN[style.labelAlign[1]] ||
                "middle";
            vfactor = LABEL_FACTOR[style.labelAlign[1]];
            if (vfactor == null) {
                vfactor = -.5;
            }
            lineHeight = ctx.measureText('Mg').height ||
                ctx.measureText('xx').width;
            pt[1] += lineHeight * vfactor * (numRows - 1);
            for (let i = 0; i < numRows; i++) {
                labelWidthTmp = ctx.measureText(labelRows[i]).width;
                if (labelWidth < labelWidthTmp) {
                    labelWidth = labelWidthTmp;
                }
            }
        } else if (ctx.mozDrawText) {
            // Mozilla pre-Gecko1.9.1 (<FF3.1)
            ctx.mozTextStyle = fontStyle;
            vfactor = LABEL_FACTOR[style.labelAlign[1]];
            if (vfactor == null) {
                vfactor = -.5;
            }
            lineHeight = ctx.mozMeasureText('xx');
            pt[1] += lineHeight * (1 + (vfactor * numRows));
            for (let i = 0; i < numRows; i++) {
                labelWidthTmp = ctx.measureText(labelRows[i]).width;
                if (labelWidth < labelWidthTmp) {
                    labelWidth = labelWidthTmp;
                }
            }
        }
        var labelInfo = {};//æ ç­¾ä¿¡æ¯
        if (labelWidth) {
            labelInfo.w = labelWidth;//æ ç­¾çå®½
        } else {
            return null;
        }

        labelInfo.h = style.fontSize;//ä¸è¡æ ç­¾çé«
        labelInfo.rows = labelRows.length;//æ ç­¾çè¡æ°

        return labelInfo;
    }

    /**
     * @function mapboxgl.supermap.LabelThemeLayer.prototype.rotationBounds
     * @description æè½¬boundsã
     *
     * @param {SuperMap.Bounds} bounds - è¦æè½¬çboundsã
     * @param {Object} rotationCenterPoi - æè½¬ä¸­å¿ç¹å¯¹è±¡ï¼æ­¤å¯¹è±¡å«æå±æ§x(æ¨ªåæ )ï¼å±æ§ y (çºµåæ )ã
     * @param {number} angle - æè½¬è§åº¦ï¼é¡ºæ¶éï¼ã
     *
     * @returns {Array.<Object>} bounds æè½¬åå½¢æçå¤è¾¹å½¢èç¹æ°ç»ãæ¯ä¸ä¸ªåè¾¹å½¢ï¼å½¢å¦ï¼[{"x":1,"y":1},{"x":3,"y":1},{"x":6,"y":4},{"x":2,"y":10},{"x":1,"y":1}]
     */
    rotationBounds(bounds, rotationCenterPoi, angle) {
        var ltPoi = new external_mapboxgl_default.a.Point(bounds.left, bounds.top);
        var rtPoi = new external_mapboxgl_default.a.Point(bounds.right, bounds.top);
        var rbPoi = new external_mapboxgl_default.a.Point(bounds.right, bounds.bottom);
        var lbPoi = new external_mapboxgl_default.a.Point(bounds.left, bounds.bottom);

        var ver = [];
        ver.push(this.getRotatedLocation(ltPoi.x, ltPoi.y, rotationCenterPoi.x, rotationCenterPoi.y, angle));
        ver.push(this.getRotatedLocation(rtPoi.x, rtPoi.y, rotationCenterPoi.x, rotationCenterPoi.y, angle));
        ver.push(this.getRotatedLocation(rbPoi.x, rbPoi.y, rotationCenterPoi.x, rotationCenterPoi.y, angle));
        ver.push(this.getRotatedLocation(lbPoi.x, lbPoi.y, rotationCenterPoi.x, rotationCenterPoi.y, angle));

        //boundsæè½¬åå½¢æçå¤è¾¹å½¢èç¹æ°ç»
        var quad = [];

        for (var i = 0; i < ver.length; i++) {
            quad.push({"x": ver[i].x, "y": ver[i].y});
        }
        quad.push({"x": ver[0].x, "y": ver[0].y});
        return quad;
    }

    /**
     * @function mapboxgl.supermap.LabelThemeLayer.prototype.getRotatedLocation
     * @description è·åä¸ä¸ªç¹ç»æè½¬ä¸­å¿é¡ºæ¶éæè½¬åçä½ç½®ãï¼æ­¤æ¹æ³ç¨äºå±å¹åæ ï¼
     *
     * @param {number} x - æè½¬ç¹æ¨ªåæ ã
     * @param {number} y - æè½¬ç¹çºµåæ ã
     * @param {number} rx - æè½¬ä¸­å¿ç¹æ¨ªåæ ã
     * @param {number} ry - æè½¬ä¸­å¿ç¹çºµåæ ã
     * @param {number} angle - æè½¬è§åº¦ã
     *
     * @returns {Object} æè½¬åçåæ ä½ç½®å¯¹è±¡ï¼è¯¥å¯¹è±¡å«æå±æ§x(æ¨ªåæ )ï¼å±æ§y(çºµåæ )ã
     */
    getRotatedLocation(x, y, rx, ry, angle) {
        var loc = {}, x0, y0;

        y = -y;
        ry = -ry;
        angle = -angle;//é¡ºæ¶éæè½¬
        x0 = (x - rx) * Math.cos((angle / 180) * Math.PI) - (y - ry) * Math.sin((angle / 180) * Math.PI) + rx;
        y0 = (x - rx) * Math.sin((angle / 180) * Math.PI) + (y - ry) * Math.cos((angle / 180) * Math.PI) + ry;

        loc.x = x0;
        loc.y = -y0;

        return loc;
    }

    /**
     * @function mapboxgl.supermap.LabelThemeLayer.prototype.getAvoidInfo
     * @description è·åé¿è®©çä¿¡æ¯ã
     *
     * @param {SuperMap.Bounds} bounds - å°å¾åç´ èå´ã
     * @param {Array.<Object>} quadrilateral - åè¾¹å½¢èç¹æ°ç»ãä¾å¦ï¼[{"x":1,"y":1},{"x":3,"y":1},{"x":6,"y":4},{"x":2,"y":10},{"x":1,"y":1}]ã
     *
     * @returns {Object} é¿è®©çä¿¡æ¯ã
     */
    getAvoidInfo(bounds, quadrilateral) {
        if (quadrilateral.length !== 5) {
            return null;
        }//ä¸æ¯åè¾¹å½¢

        //å°boundåºååä¸ºç¹æ°ç»å½¢å¼
        var bounddQuad = [
            {"x": bounds.left, "y": bounds.top},
            {"x": bounds.right, "y": bounds.top},
            {"x": bounds.right, "y": bounds.bottom},
            {"x": bounds.left, "y": bounds.bottom},
            {"x": bounds.left, "y": bounds.top}
        ];

        var isIntersection = false, bqLen = bounddQuad.length, quadLen = quadrilateral.length;

        var offsetX = 0, offsetY = 0, aspectH = "", aspectW = "";
        for (var i = 0; i < bqLen - 1; i++) {
            for (var j = 0; j < quadLen - 1; j++) {
                var isLineIn = Util_Util.lineIntersection(bounddQuad[i], bounddQuad[i + 1], quadrilateral[j], quadrilateral[j + 1]);
                if (isLineIn.CLASS_NAME === "SuperMap.Geometry.Point") {
                    //è®¾ç½®é¿è®©ä¿¡æ¯
                    setInfo(quadrilateral[j]);
                    setInfo(quadrilateral[j + 1]);
                    isIntersection = true;
                }
            }
        }

        if (isIntersection) {
            //ç»ç»é¿è®©æä½æéçä¿¡æ¯
            return {
                "aspectW": aspectW,
                "aspectH": aspectH,
                "offsetX": offsetX,
                "offsetY": offsetY
            };
        } else {
            return null;
        }

        //åé¨å½æ°ï¼è®¾ç½®é¿è®©ä¿¡æ¯
        //åæ°ï¼{Object} vec- quadrilateralåè¾¹å½¢åä¸ªèç¹ãå¦ï¼{"x":1,"y":1}ã
        function setInfo(vec) {
            //åè¾¹å½¢ä¸å¨boundsåçèç¹
            if (!bounds.contains(vec.x, vec.y)) {
                //boundsçTopè¾¹
                if (vec.y < bounds.top) {
                    let oY = Math.abs(bounds.top - vec.y);
                    if (oY > offsetY) {
                        offsetY = oY;
                        aspectH = "top";
                    }
                }

                //boundsçBottomè¾¹
                if (vec.y > bounds.bottom) {
                    let oY = Math.abs(vec.y - bounds.bottom);
                    if (oY > offsetY) {
                        offsetY = oY;
                        aspectH = "bottom";
                    }
                }

                //boundsçleftè¾¹
                if (vec.x < bounds.left) {
                    let oX = Math.abs(bounds.left - vec.x);
                    if (oX > offsetX) {
                        offsetX = oX;
                        aspectW = "left";
                    }
                }

                //boundsçrightè¾¹
                if (vec.x > bounds.right) {
                    let oX = Math.abs(vec.x - bounds.right);
                    if (oX > offsetX) {
                        offsetX = oX;
                        aspectW = "right";
                    }
                }
            }
        }

    }


    /**
     * @function mapboxgl.supermap.LabelThemeLayer.prototype.isQuadrilateralOverLap
     * @description å¤æ­ä¸¤ä¸ªåè¾¹å½¢æ¯å¦æåçã
     *
     * @param {Array.<Object>} quadrilateral - åè¾¹å½¢èç¹æ°ç»ãä¾å¦ï¼[{"x":1,"y":1},{"x":3,"y":1},{"x":6,"y":4},{"x":2,"y":10},{"x":1,"y":1}]ã</br>
     * @param {Array.<Object>} quadrilateral2 - ç¬¬äºä¸ªåè¾¹å½¢èç¹æ°ç»ã
     *
     * @returns {boolean} æ¯å¦åçï¼trueè¡¨ç¤ºåçã
     */
    isQuadrilateralOverLap(quadrilateral, quadrilateral2) {
        var quadLen = quadrilateral.length,
            quad2Len = quadrilateral2.length;
        if (quadLen !== 5 || quad2Len !== 5) {
            return null;
        }//ä¸æ¯åè¾¹å½¢

        var OverLap = false;
        //å¦æä¸¤åè¾¹å½¢äºä¸åå«å¯¹æ¹çèç¹ï¼åä¸¤ä¸ªåè¾¹å½¢ä¸ç¸äº¤
        for (let i = 0; i < quadLen; i++) {
            if (this.isPointInPoly(quadrilateral[i], quadrilateral2)) {
                OverLap = true;
                break;
            }
        }
        for (let i = 0; i < quad2Len; i++) {
            if (this.isPointInPoly(quadrilateral2[i], quadrilateral)) {
                OverLap = true;
                break;
            }
        }
        //å ä¸ä¸¤ç©å½¢åå­ç¸äº¤çæåµ
        for (let i = 0; i < quadLen - 1; i++) {
            if (OverLap) {
                break;
            }
            for (var j = 0; j < quad2Len - 1; j++) {
                var isLineIn = Util_Util.lineIntersection(quadrilateral[i], quadrilateral[i + 1], quadrilateral2[j], quadrilateral2[j + 1]);
                if (isLineIn.CLASS_NAME === "SuperMap.Geometry.Point") {
                    OverLap = true;
                    break;
                }
            }
        }

        return OverLap;
    }

    /**
     * @function mapboxgl.supermap.LabelThemeLayer.prototype.isPointInPoly
     * @description å¤æ­ä¸ä¸ªç¹æ¯å¦å¨å¤è¾¹å½¢éé¢ã(å°çº¿æ³)
     *
     * @param {Object} pt - éè¦å¤å®çç¹å¯¹è±¡ï¼è¯¥å¯¹è±¡å«æå±æ§x(æ¨ªåæ )ï¼å±æ§y(çºµåæ )ã
     * @param {Array.<Object>} poly - å¤è¾¹å½¢èç¹æ°ç»ãä¾å¦ä¸ä¸ªåè¾¹å½¢ï¼[{"x":1,"y":1},{"x":3,"y":1},{"x":6,"y":4},{"x":2,"y":10},{"x":1,"y":1}]
     * @returns {boolean} ç¹æ¯å¦å¨å¤è¾¹å½¢åã
     */
    isPointInPoly(pt, poly) {
        for (var isIn = false, i = -1, l = poly.length, j = l - 1; ++i < l; j = i) {
            ((poly[i].y <= pt.y && pt.y < poly[j].y) || (poly[j].y <= pt.y && pt.y < poly[i].y))
            && (pt.x < (poly[j].x - poly[i].x) * (pt.y - poly[i].y) / (poly[j].y - poly[i].y) + poly[i].x)
            && (isIn = !isIn);
        }
        return isIn;
    }

}

external_mapboxgl_default.a.supermap.LabelThemeLayer = LabelThemeLayer_Label;
// EXTERNAL MODULE: external "function(){try{return mapv}catch(e){return {}}}()"
var external_function_try_return_mapv_catch_e_return_ = __webpack_require__(1);

// CONCATENATED MODULE: ./src/mapboxgl/overlay/mapv/MapvRenderer.js



var BaseLayer = external_function_try_return_mapv_catch_e_return_["baiduMapLayer"] ? external_function_try_return_mapv_catch_e_return_["baiduMapLayer"].__proto__ : Function;

/**
 * @private
 * @class MapvRenderer
 * @classdesc MapVå¾å±æ¸²æã
 * @param {Object} map - å°å¾ã
 * @param {Object} layer - å¾å±ã
 * @param {MapV.DataSet} dataSet - æ°æ®éã
 * @param {Object} options - äº¤äºæ¶æéå¯éåæ°ã
 * @extends {MapV.BaseLayer}
 *
 */
class MapvRenderer_MapvRenderer extends BaseLayer {
    constructor(map, layer, dataSet, options) {
        super(map, dataSet, options);
        if (!BaseLayer) {
            return;
        }
        this.map = map;
        var self = this;
        options = options || {};

        self.init(options);
        self.argCheck(options);
        this.canvasLayer = layer;
        this.stopAniamation = false;
        this.animation = options.animation;
        this.clickEvent = this.clickEvent.bind(this);
        this.mousemoveEvent = this.mousemoveEvent.bind(this);
        this.map.on('resize', this.resizeEvent.bind(this));
        this.map.on('zoomstart', this.zoomStartEvent.bind(this));
        this.map.on('zoomend', this.zoomEndEvent.bind(this));
        this.map.on('rotatestart', this.rotateStartEvent.bind(this));
        this.map.on('rotate', this.rotateEvent.bind(this));
        this.map.on('rotateend', this.rotateEndEvent.bind(this));
        // this.map.on('dragend', this.dragEndEvent.bind(this));
        this.map.on('movestart', this.moveStartEvent.bind(this));
        this.map.on('move', this.moveEvent.bind(this));
        this.map.on('moveend', this.moveEndEvent.bind(this));
        this.map.on('remove', this.removeEvent.bind(this));
        this.bindEvent();
    }

    /**
     * @function MapvRenderer.prototype.clickEvent
     * @description  ç¹å»ç»å®äºä»¶ã
     * @param {Object} e - äºä»¶ã
     */
    clickEvent(e) {
        var pixel = e.point;
        super.clickEvent(pixel, e);
    }

    /**
     * @function MapvRenderer.prototype.mousemoveEvent
     * @description  é¼ æ ç§»å¨äºä»¶ã
     * @param {Object} e - äºä»¶ã
     */
    mousemoveEvent(e) {
        var pixel = e.point;
        super.mousemoveEvent(pixel, e);
    }

    /**
     * @function MapvRenderer.prototype.bindEvent
     * @description ç»å®äºä»¶ã
     */
    bindEvent() {
        var map = this.map;
        if (this.options.methods) {
            if (this.options.methods.click) {
                map.on('click', this.clickEvent);
            }
            if (this.options.methods.mousemove) {
                map.on('mousemove', this.mousemoveEvent);
            }
        }
    }

    /**
     * @function MapvRenderer.prototype.unbindEvent
     * @description è§£ç»äºä»¶ã
     */
    unbindEvent() {
        var map = this.map;

        if (this.options.methods) {
            if (this.options.methods.click) {
                map.off('click', this.clickEvent);
            }
            if (this.options.methods.mousemove) {
                map.off('mousemove', this.mousemoveEvent);
            }
        }
    }

    /**
     * @function MapvRenderer.prototype.getContext
     * @description è·åä¿¡æ¯ã
     */
    getContext() {
        return this.canvasLayer.canvas.getContext(this.context);
    }

    /**
     * @function MapvRenderer.prototype.addData
     * @description æ·»å æ°æ®ã
     * @param {oject} data - å¾æ·»å çæ°æ®ã
     * @param {oject} options - å¾æ·»å çæ°æ®ä¿¡æ¯ã
     */
    addData(data, options) {
        var _data = data;
        if (data && data.get) {
            _data = data.get();
        }
        this.dataSet.add(_data);
        this.update({
            options: options
        });
    }

    /**
     * @function MapvRenderer.prototype.update
     * @description æ´æ°å¾å±ã
     * @param {Object} opt - å¾æ´æ°çæ°æ®ã
     * @param {Object} opt.data - mapv æ°æ®éã
     * @param {Object} opt.options - mapv ç»å¶åæ°ã
     */
    update(opt) {
        var update = opt || {};
        var _data = update.data;
        if (_data && _data.get) {
            _data = _data.get();
        }
        if (_data != undefined) {
            this.dataSet.set(_data);
        }
        super.update({
            options: update.options
        });
    }

    /**
     * @function MapvRenderer.prototype.getData
     * @description è·åæ°æ®ã
     */
    getData() {
        return this.dataSet;
    }

    /**
     * @function MapvRenderer.prototype.removeData
     * @description å é¤ç¬¦åè¿æ»¤æ¡ä»¶çæ°æ®ã
     * @param {function} [filter] - è¿æ»¤æ¡ä»¶ãæ¡ä»¶åæ°ä¸ºæ°æ®é¡¹ï¼è¿åå¼ä¸ºtrue,è¡¨ç¤ºå é¤è¯¥åç´ ï¼å¦åè¡¨ç¤ºä¸å é¤ã
     */
    removeData(filter) {
        if (!this.dataSet) {
            return;
        }
        var newData = this.dataSet.get({
            filter: function (data) {
                return (filter != null && typeof filter === "function") ? !filter(data) : true;
            }
        });
        this.dataSet.set(newData);
        this.update({
            options: null
        });
    }

    /**
     * @function MapVRenderer.prototype.clearData
     * @description æ¸é¤æ°æ®ã
     */
    clearData() {
        this.dataSet && this.dataSet.clear();
        this.update({
            options: null
        });
    }

    /**
     * @function MapVRenderer.prototype.updateData
     * @param {Object} dataSet - æ°æ®éã
     * @param {Object} options - æ°æ®é¡¹éç½®ã
     * @description  æ´æ°æ°æ®ã
     */
    updateData(dataSet, options) {
        if (dataSet && dataSet.get) {
            this.dataSet.set(dataSet.get());
        }
        this.update({
            options: options
        });
    }

    _canvasUpdate(time) {
        var map = this.map;
        if (!this.canvasLayer || this.stopAniamation) {
            return;
        }
        var self = this;

        var animationOptions = self.options.animation;

        var context = this.getContext();

        if (self.isEnabledTime()) {
            if (time === undefined) {
                this.clear(context);
                return;
            }
            if (this.context === '2d') {
                context.save();
                context.globalCompositeOperation = 'destination-out';
                context.fillStyle = 'rgba(0, 0, 0, .1)';
                context.fillRect(0, 0, context.canvas.width, context.canvas.height);
                context.restore();
            }
        } else {
            this.clear(context);
        }

        if (this.context === '2d') {
            for (var key in self.options) {
                context[key] = self.options[key];
            }
        } else {
            context.clear(context.COLOR_BUFFER_BIT);
        }

        if (self.options.minZoom && map.getZoom() < self.options.minZoom || self.options.maxZoom && map.getZoom() > self.options.maxZoom) {
            return;
        }

        var bounds = map.getBounds(),
            dw = bounds.getEast() - bounds.getWest(),
            dh = bounds.getNorth() - bounds.getSouth();
        var resolutionX = dw / this.canvasLayer.canvas.width,
            resolutionY = dh / this.canvasLayer.canvas.height;

        var center = map.getCenter();
        var centerPx = map.project(center);
        var dataGetOptions = {
            transferCoordinate: function (coordinate) {
                if (map.transform.rotationMatrix || self.context === '2d') {
                    var worldPoint = map.project((new external_mapboxgl_default.a.LngLat(coordinate[0], coordinate[1])));
                    return [worldPoint.x, worldPoint.y];
                }
                var pixel = [(coordinate[0] - center.lng) / resolutionX, (center.lat - coordinate[1]) / resolutionY];
                return [pixel[0] + centerPx.x, pixel[1] + centerPx.y];
            }
        };

        if (time !== undefined) {
            dataGetOptions.filter = function (item) {
                var trails = animationOptions.trails || 10;
                return (time && item.time > (time - trails) && item.time < time);
            }
        }

        var data = self.dataSet.get(dataGetOptions);

        this.processData(data);

        self.options._size = self.options.size;

        var worldPoint = map.project(new external_mapboxgl_default.a.LngLat(0, 0));
        this.drawContext(context, data, self.options, worldPoint);

        self.options.updateCallback && self.options.updateCallback(time);
    }

    init(options) {

        var self = this;

        self.options = options;

        this.initDataRange(options);

        this.context = self.options.context || '2d';

        if (self.options.zIndex) {
            this.canvasLayer && this.canvasLayer.setZIndex(self.options.zIndex);
        }

        this.initAnimator();
    }

    /**
     * @function MapvRenderer.prototype.addAnimatorEvent
     * @description æ·»å å¨ç»äºä»¶ã
     */
    addAnimatorEvent() {

    }

    /**
     * @function MapvRenderer.prototype.removeEvent
     * @description ç§»é¤äºä»¶ã
     */
    removeEvent() {
        this.canvasLayer.mapContainer.removeChild(this.canvasLayer.canvas);
    }

    /**
     * @function MapvRenderer.prototype.resizeEvent
     * @description è°æ´äºä»¶ã
     */
    resizeEvent() {
        this.canvasLayer.mapContainer.style.perspective = this.map.transform.cameraToCenterDistance + 'px';
        var canvas = this.canvasLayer.canvas;
        canvas.style.position = 'absolute';
        canvas.style.top = 0 + "px";
        canvas.style.left = 0 + "px";
        var global$2 = typeof window === 'undefined' ? {} : window;
        var devicePixelRatio = this.canvasLayer.devicePixelRatio = global$2.devicePixelRatio;
        canvas.width = parseInt(this.map.getCanvas().style.width) * devicePixelRatio;
        canvas.height = parseInt(this.map.getCanvas().style.height) * devicePixelRatio;
        if (this.canvasLayer.mapVOptions.context == '2d') {
            canvas.getContext('2d').scale(devicePixelRatio, devicePixelRatio);
        }
        canvas.style.width = this.map.getCanvas().style.width;
        canvas.style.height = this.map.getCanvas().style.height;
    }

    moveEndEvent() {
        this.stopAniamation = false;
        var canvas = this.getContext().canvas;
        canvas.style.transform = '';
        this._canvasUpdate();
        this._show();
    }

    moveStartEvent() {
        this.startPitch = this.map.getPitch();
        this.startBearing = this.map.getBearing();
        var startMovePoint = this.map.project(new external_mapboxgl_default.a.LngLat(0, 0));
        this.startMoveX = startMovePoint.x;
        this.startMoveY = startMovePoint.y;
        if (this.animation) {
            this.stopAniamation = true;
        }
    }

    moveEvent() {
        if (this.rotating || this.zooming) {
            return;
        }
        if (this.map.getPitch() !== 0) {
            this._hide();
        }
        this.canvasLayer.mapContainer.style.perspective = this.map.transform.cameraToCenterDistance + 'px';
        var tPitch = this.map.getPitch() - this.startPitch;
        var tBearing = -this.map.getBearing() + this.startBearing;
        var endMovePoint = this.map.project(new external_mapboxgl_default.a.LngLat(0, 0));
        var tMoveX = endMovePoint.x - this.startMoveX;
        var tMoveY = endMovePoint.y - this.startMoveY;
        var canvas = this.getContext().canvas;
        canvas.style.transform = 'rotateX(' + tPitch + 'deg)' + ' rotateZ(' + tBearing + 'deg)' + ' translate3d(' + tMoveX + 'px, ' + tMoveY + 'px, 0px)';
    }

    zoomStartEvent() {
        this.zooming = true;
        this._hide();
    }

    zoomEndEvent() {
        this.zooming = false;
        this._show();
    }


    rotateStartEvent() {
        this.rotating = true;
    }

    rotateEvent() {
        if (this.map.getPitch() !== 0) {
            this._hide();
        }
        this.canvasLayer.mapContainer.style.perspective = this.map.transform.cameraToCenterDistance + 'px';
        var tPitch = this.map.getPitch() - this.startPitch;
        var tBearing = -this.map.getBearing() + this.startBearing;
        var canvas = this.getContext().canvas;
        canvas.style.transform = 'rotateX(' + tPitch + 'deg)' + ' rotateZ(' + tBearing + 'deg)'
    }

    rotateEndEvent() {
        this.rotating = false;
        this._show();
    }

    dragEndEvent() {
        this._hide();
    }

    /**
     * @function MapvRenderer.prototype.clear
     * @param {object} context - å½åç¯å¢ã
     * @description æ¸é¤ç¯å¢ã
     */
    clear(context) {
        context && context.clearRect && context.clearRect(0, 0, parseInt(this.map.getCanvas().style.width), parseInt(this.map.getCanvas().style.height));
    }

    /**
     * @function MapvRenderer.prototype.draw
     * @description æ¸²æç»å¶ã
     */
    draw() {
        this._canvasUpdate();
    }

    _hide() {
        this.canvasLayer.canvas.style.display = 'none';
    }

    _show() {
        this.canvasLayer.canvas.style.display = 'block';
    }


}
// CONCATENATED MODULE: ./src/mapboxgl/overlay/MapvLayer.js





/**
 * @class mapboxgl.supermap.MapvLayer
 * @category  Visualization MapV
 * @classdesc Mapv å¾å±ã
 * @param {mapboxgl.Map} map - mapboxgl å°å¾å¯¹è±¡ï¼å°å¨ä¸ä¸ªçæ¬å¼ç¨ï¼è¯·ç¨ map.addLayer() æ¹æ³æ·»å å¾å±ã
 * @param {Mapv.DataSet} dataSet - MapV å¾å±æ°æ®éã
 * @param {Object} mapVOptions - Mapv åæ°ã
 * @param {string} [mapVOptions.layerID] - å¾å± IDãé»è®¤ä½¿ç¨ CommonUtil.createUniqueID("mapvLayer_") åå»ºä¸é¢å¾å± IDã
 */
class MapvLayer_MapvLayer {

    constructor(map, dataSet, mapVOptions) {
        this.map = map;
        this.id = mapVOptions.layerID ? mapVOptions.layerID : Util_Util.createUniqueID("mapvLayer_");
        delete mapVOptions["layerID"];

        this.mapVOptions = mapVOptions;
        this.dataSet = dataSet;
        this.visibility = true;

        //ä¿çä¹åçç¨æ³
        if (this.map) {
            this.map.addLayer(this);
        }

    }

    onAdd(map) {
        this.map = map;
        this.renderer = new MapvRenderer_MapvRenderer(this.map, this, this.dataSet, this.mapVOptions);
        this.canvas = this._createCanvas();
        this.renderer._canvasUpdate();
        this.mapContainer = map.getCanvasContainer();
        this.mapContainer.appendChild(this.canvas);
        this.mapContainer.style.perspective = this.map.transform.cameraToCenterDistance + 'px';
    }

    /**
     * @function mapboxgl.supermap.MapvLayer.prototype.removeFromMap
     * @description ç§»é¤å¾å±ã
     */
    removeFromMap() {
        this.mapContainer.removeChild(this.canvas);
        this.clearData();
    }

    /**
     * @function mapboxgl.supermap.MapvLayer.prototype.setVisibility
     * @description è®¾ç½®å¾å±å¯è§æ§ï¼è®¾ç½®å¾å±çéèï¼æ¾ç¤ºï¼éç»çç¸åºçå¯è§æ è®°ã
     * @param {boolean} [visibility] - æ¯å¦æ¾ç¤ºå¾å±ï¼å½åå°å¾ç resolution å¨æå¤§æå° resolution ä¹é´ï¼ã
     */
    setVisibility(visibility) {
        if (visibility !== this.visibility) {
            this.visibility = visibility;
            if (visibility) {
                this.show();
            } else {
                this.hide();
            }
        }
    }

    /**
     * @function mapboxgl.supermap.MapvLayer.prototype.moveTo
     * @description å°å¾å±ç§»å¨å°æä¸ªå¾å±ä¹åã
     * @param {string} layerID - å¾æå¥çå¾å± IDã
     * @param {boolean} [before=true] - æ¯å¦å°æ¬å¾å±æå¥å°å¾å± id ä¸º layerID çå¾å±ä¹å(å¦æä¸º false åå°æ¬å¾å±æå¥å°å¾å± id ä¸º layerID çå¾å±ä¹å)ã
     */
    moveTo(layerID, before) {
        const layer = document.getElementById(this.canvas.id);
        before = before !== undefined ? before : true;
        if (before) {
            const beforeLayer = document.getElementById(layerID);
            if (layer && beforeLayer) {
                beforeLayer.parentNode.insertBefore(layer, beforeLayer);
            }
            return;
        }
        const nextLayer = document.getElementById(layerID);
        if (layer) {
            if (nextLayer.nextSibling) {
                nextLayer.parentNode.insertBefore(layer, nextLayer.nextSibling);
                return;
            }
            nextLayer.parentNode.appendChild(layer);
        }
    }


    /**
     * @function mapboxgl.supermap.MapvLayer.prototype.getTopLeft
     * @description è·åå·¦ä¸çè·ç¦»ã
     */
    getTopLeft() {
        var map = this.map;
        var topLeft;
        if (map) {
            var bounds = map.getBounds();
            topLeft = bounds.getNorthWest();
        }
        return topLeft;
    }

    /**
     * @function mapboxgl.supermap.MapvLayer.prototype.addData
     * @description è¿½å æ°æ®ã
     * @param {Object} data - è¦è¿½å çæ°æ®ã
     * @param {Object} options - è¦è¿½å çå¼ã
     */
    addData(data, options) {
        this.renderer.addData(data, options);
    }

    /**
     * @function mapboxgl.supermap.MapvLayer.prototype.update
     * @description æ´æ°å¾å±ã
     * @param {Object} opt - å¾æ´æ°çæ°æ®ã
     * @param {Object} opt.data - mapv æ°æ®éã
     * @param {Object} opt.options - mapv ç»å¶åæ°ã
     */
    update(opt) {
        this.renderer.update(opt);
    }

    /**
     * @function mapboxgl.supermap.MapvLayer.prototype.getData
     * @description è·åæ°æ®ã
     * @returns {mapv.DataSet} mapv æ°æ®éã
     */
    getData() {
        if (this.renderer) {
            this.dataSet = this.renderer.getData();
        }
        return this.dataSet;
    }

    /**
     * @function mapboxgl.supermap.MapvLayer.prototype.removeData
     * @description å é¤ç¬¦åè¿æ»¤æ¡ä»¶çæ°æ®ã
     * @param {function} [filter] - è¿æ»¤æ¡ä»¶ãæ¡ä»¶åæ°ä¸ºæ°æ®é¡¹ï¼è¿åå¼ä¸º true,è¡¨ç¤ºå é¤è¯¥åç´ ï¼å¦åè¡¨ç¤ºä¸å é¤ã
     * @example
     * filter=function(data){
     *    if(data.id=="1"){
     *      return true
     *    }
     *    return false;
     * }
     */
    removeData(filter) {
        this.renderer && this.renderer.removeData(filter);
    }

    /**
     * @function mapboxgl.supermap.MapvLayer.prototype.clearData
     * @description æ¸é¤æ°æ®ã
     */
    clearData() {
        this.renderer.clearData();
    }

    show() {
        if (this.renderer) {
            this.renderer._show();
        }
        return this;
    }

    hide() {
        if (this.renderer) {
            this.renderer._hide();
        }
        return this;
    }

    _createCanvas() {
        var canvas = document.createElement('canvas');
        canvas.id = this.id;
        canvas.style.position = 'absolute';
        canvas.style.top = 0 + "px";
        canvas.style.left = 0 + "px";
        var global$2 = typeof window === 'undefined' ? {} : window;
        var devicePixelRatio = this.devicePixelRatio = global$2.devicePixelRatio;
        canvas.width = parseInt(this.map.getCanvas().style.width) * devicePixelRatio;
        canvas.height = parseInt(this.map.getCanvas().style.height) * devicePixelRatio;
        if (this.mapVOptions.context == '2d') {
            canvas.getContext(this.mapVOptions.context).scale(devicePixelRatio, devicePixelRatio);
        }
        canvas.style.width = this.map.getCanvas().style.width;
        canvas.style.height = this.map.getCanvas().style.height;
        return canvas;
    }

    /**
     * @function mapboxgl.supermap.MapvLayer.prototype.setZIndex
     * @description è®¾ç½® canvas å±çº§ã
     * @param {number} zIndex - canvas å±çº§ã
     */
    setZIndex(z) {
        this.canvas.style.zIndex = z;
    }

}

external_mapboxgl_default.a.supermap.MapvLayer = MapvLayer_MapvLayer;
// CONCATENATED MODULE: ./src/mapboxgl/overlay/theme/Theme3DLayer.js



/**
 * @class mapboxgl.supermap.Theme3DLayer
 * @category  Visualization Theme
 * @classdesc ä¸ç»´ä¸é¢å¾åºç±»,ä¸è½ç´æ¥å®ä¾åã
 * @param  {string} [id] - ä¸é¢å¾å¾å± idãé»è®¤ä½¿ç¨ CommonUtil.createUniqueID("theme3DLayer") åå»ºä¸é¢å¾å± IDã
 * @param  {Object} layerOptions -ä¸é¢å¾å¾å±éç½®é¡¹ã
 * @param  {number} [layerOptions.opacity=1] - å¾å±éæåº¦ã
 * @param  {boolean} [layerOptions.parseNumber=fasle] - æ¯å¦é¢å¤çæ°æ®ï¼å°æ°æ®è½¬æ¢ä¸º numberã
 * @param  {boolean} [layerOptions.enableHighlight=false] - æ¯å¦å¼å¯é«äº®ã
 * @param  {string} [layerOptions.highlight="#ADA91E"] - é«äº®é¢è²ã
 * @param  {string} [layerOptions.baseHeightField] - æ°æ®ä¸­è¡¨ç¤ºåºç¡é«åº¦çå­æ®µã
 * @param  {number} [layerOptions.height] - é«åº¦ãå¦ææ°æ®æå®ç heightField (ä¸ºheight)æ²¡æå¯ä»¥è¡¨ç¤ºé«åº¦çå­æ®µï¼å¯ä»¥ä¸ºæææ°æ®ç»ä¸è®¾ç½®ä¸ä¸ªé«åº¦ã
 * @param  {string} [layerOptions.heightField] - æ°æ®ä¸­è¡¨ç¤ºé«åº¦çå­æ®µã
 * @param  {string} [layerOptions.themeField] - ä¸é¢å±ç¤ºçå­æ®µã
 * @param  {boolean} [playerOptions.showLegend=true] - æ¯å¦æ¾ç¤ºå¾ä¾ã
 * @param  {string} [layerOptions.legendTitle] - å¾ä¾æ é¢ã
 * @param  {string} [layerOptions.legendTheme='light'] - å¾ä¾ä¸»é¢ï¼åå¼ï¼'light','dark'ã
 * @param  {string} [layerOptions.legendOrientation='horizontal'] - å¾ä¾æ¹åï¼åå¼ï¼'horizontal','vertical'ã
 * @param  {string} [layerOptions.legendPosition] - å¾ä¾ä½ç½®ï¼åå¼ï¼'top-right'|'top-left'|'bottom-left'|'bottom-right'ã
 */
class Theme3DLayer {


    constructor(id, layerOptions) {
        /**
         * @member {string} mapboxgl.supermap.Theme3DLayer.prototype.id 
         * @description Mapbox GL å¾å± idã
         */
        this.id = id;

        /**
         * @member {Object} mapboxgl.supermap.Theme3DLayer.prototype.map 
         * @description Mapbox GL å°å¾å¯¹è±¡ã
         */
        this.map = null;
        /**
         * @member {number} [mapboxgl.supermap.Theme3DLayer.prototype.opacity=1] 
         * @description å¾å±éæåº¦ã
         */
        this.opacity = 1;
        /**
         * @member {boolean} [mapboxgl.supermap.Theme3DLayer.prototype.parseNumber=false]
         * @description æ¯å¦è¿è¡æ°æ®é¢å¤ç,æäºå­æ®µæ¯ string ç±»åï¼éè¦è½¬æ¢ä¸º numberã
         */
        this.parseNumber = false;
        /**
         * @member {boolean} [mapboxgl.supermap.Theme3DLayer.prototype.enableHighlight=false]
         * @description æ¯å¦å¼å¯é«äº®ã
         */
        this.enableHighlight = false;

        /**
         * @member {Object} [mapboxgl.supermap.Theme3DLayer.prototype.highlight={color: "#ADA91E"}]
         * @description é«äº®ç¸å³éç½®ã
         */
        this.highlight = {color: "#ADA91E"};

        /**
         * @member {string} mapboxgl.supermap.Theme3DLayer.prototype.baseHeightField 
         * @description æ°æ®ä¸­è¡¨ç¤ºåºç¡é«åº¦çå­æ®µã
         */
        this.baseHeightField = null;

        /**
         * @member {number} mapboxgl.supermap.Theme3DLayer.prototype.height 
         * @description é«åº¦ãå¦ææ°æ®æå®ç heightField (é»è®¤ height) æ²¡æå¯ä»¥è¡¨ç¤ºé«åº¦çå­æ®µï¼å¯ä»¥ä¸ºæææ°æ®ç»ä¸è®¾ç½®ä¸ä¸ªé«åº¦ã
         */
        this.height = null;

        /**
         * @member {string} mapboxgl.supermap.Theme3DLayer.prototype.heightField 
         * @description æ°æ®ä¸­è¡¨ç¤ºé«åº¦çå­æ®µã
         */
        this.heightField = 'height';

        /**
         * @member {string} [mapboxgl.supermap.Theme3DLayer.prototype.themeField]
         * @description ä¸é¢å±ç¤ºçå­æ®µã
         */
        this.themeField = this.heightField;

        /**
         * @member {boolean} [mapboxgl.supermap.Theme3DLayer.prototype.showLegend=true]
         * @description æ¯å¦æ¾ç¤ºå¾ä¾ã
         */
        this.showLegend = true;

        /**
         * @member {string} [mapboxgl.supermap.Theme3DLayer.prototype.legendTitle]
         * @description å¾ä¾æ é¢ã
         */
        this.legendTitle = null;

        /**
         * @member {string} [mapboxgl.supermap.Theme3DLayer.prototype.legendTheme='light']
         * @description å¾ä¾ä¸»é¢ï¼åå¼ï¼'light','dark'ã
         * @default 'light'
         */
        this.legendTheme = 'light';

        /**
         * @member {string} [mapboxgl.supermap.Theme3DLayer.prototype.legendOrientation='horizontal']
         * @description å¾ä¾æ¹åï¼åå¼ï¼'horizontal','vertical'ã
         * @default 'horizontal'
         */
        this.legendOrientation = 'horizontal';
        /**
         * @member {string} mapboxgl.supermap.Theme3DLayer.prototype.legendPosition 
         * @description å¾ä¾ä½ç½®ï¼åå¼ï¼'top-right'|'top-left'|'bottom-left'|'bottom-right'ã
         * @default 'bottom-right'
         */
        this.legendPosition = 'bottom-right';
        this._extend(this, layerOptions);
    }

    /**
     * @function mapboxgl.supermap.Theme3DLayer.prototype.setLayerOptions
     * @description è®¾ç½®å¾å±ç¸å³åæ°ã
     * @param {Object} layerOptions - è¯¥ä¸é¢å¾å¾å±ç¸å³åæ°ã
     * @param {number} [layerOptions.opacity=1] - å¾å±éæåº¦ã
     * @param {boolean} [layerOptions.parseNumber=false] - æ¯å¦é¢å¤çæ°æ®ï¼å°æ°æ®è½¬æ¢ä¸º numberã
     * @param {string} [layerOptions.baseHeightField] - æ°æ®ä¸­è¡¨ç¤ºåºç¡é«åº¦çå­æ®µ
     * @param {number} [layerOptions.height] - é«åº¦ãå¦ææ°æ®æå®çheightField(é»è®¤height)æ²¡æå¯ä»¥è¡¨ç¤ºé«åº¦çå­æ®µï¼å¯ä»¥ä¸ºæææ°æ®ç»ä¸è®¾ç½®ä¸ä¸ªé«åº¦ã
     * @param {string} [layerOptions.heightField] - æ°æ®ä¸­è¡¨ç¤ºé«åº¦çå­æ®µã
     * @param {string} [layerOptions.themeField] - ä¸é¢å±ç¤ºçå­æ®µã
     * @param {boolean} [layerOptions.showLegend=true] - æ¯å¦æ¾ç¤ºå¾ä¾ã
     * @param {string} layerOptions.legendTitle - å¾ä¾æ é¢ã
     * @param {string} [layerOptions.legendTheme='light'] - å¾ä¾ä¸»é¢ï¼åå¼ï¼'light','dark'ã
     * @param {string} [layerOptions.legendOrientation='horizontal'] - å¾ä¾æ¹åï¼åå¼ï¼'horizontal','vertical'ã
     * @param {string} [layerOptions.legendPosition] - å¾ä¾ä½ç½®ï¼åå¼ï¼'top-right'|'top-left'|'bottom-left'|'bottom-right'ã
     * @returns {this}
     */
    setLayerOptions(layerOptions) {
        this._extend(this, layerOptions);
        return this;
    }

    /**
     * @function mapboxgl.supermap.Theme3DLayer.prototype.setHighlightStyleOptions
     * @description è®¾ç½®å¾å±é«äº®ç¸å³åæ°ã
     * @param {Object} highlightOptions - è¯¥ä¸é¢å¾å¾å±é«äº®ç¸å³åæ°ã
     * @param {string} [highlightOptions.color] - é¢è²ã
     * @param {function} highlightOptions.callback - åè°,è¿åæ°æ®åæ°ï¼data,eventï¼ã
     * @returns {this}
     */
    setHighlightStyleOptions(highlightOptions) {
        this._extend(this.highlight, highlightOptions);
        return this;
    }

    /**
     * @function mapboxgl.supermap.Theme3DLayer.prototype.setData
     * @description è®¾ç½®æ°æ®ï¼æ°æ®æ ¼å¼å¿é¡»ä¸º geojson æ ¼å¼ã
     * @param {Object} data - geojson æ ¼å¼æ°æ®ã
     * @param {boolean} [parseNumber=false] - æ¯å¦è¿è¡æ°æ®é¢å¤ç,æäºå­æ®µæ¯ string ç±»åï¼éè¦è½¬æ¢ä¸º numberã
     */
    setData(data, parseNumber) {
        var me = this;
        me.data = data;
        if (parseNumber != null) {
            me.parseNumber = parseNumber;
        }
        me.parseNumber && me.data && me.data.features && me.data.features.map(function (val) {
            if (me.baseHeightField && val.properties[me.baseHeightField]) {
                val.properties[me.baseHeightField] = parseFloat(val.properties[me.baseHeightField]);
            }
            if (me.heightField && val.properties[me.heightField]) {
                val.properties[me.heightField] = parseFloat(val.properties[me.heightField]);
            }
            return val;
        });
        return this;
    }

    /**
     * @function mapboxgl.supermap.Theme3DLayer.prototype.getData
     * @description è·åæ°æ®ï¼è¿åçæ°æ®æ ¼å¼ä¸º geojsonã
     * @returns {Object} è·åçæ°æ®ã
     */
    getData() {
        return this.data;
    }

    /**
     * @function mapboxgl.supermap.Theme3DLayer.prototype.addTo
     * @description æ·»å å¾å±å°å°å¾ä¸ã
     * @param {Object} map - Mapbox GL å°å¾å¯¹è±¡ã
     * @returns {this} this å¯¹è±¡ã
     */
    addTo(map) {
        this.map = map;
        if (!this.map) {
            return this;
        }

        this.show();
        return this;
    }

    /**
     * @function mapboxgl.supermap.Theme3DLayer.prototype.show
     * @description æ¾ç¤ºå¾å±ã
     * @param {Object} options - å¾å±éç½®é¡¹ã
     * @returns {this} this å¯¹è±¡ã
     */
    show(options) {
        this._extend(this, options);
        this._addLayer();
        if (this.enableHighlight) {
            this._addHighLightLayer();
        }
        if (this.showLegend) {
            if (!this.legend) {
                this.legend = this._createLegendControl();
            }
            this.map.addControl(this.legend, this.legendPosition);
        }
        return this;
    }

    /**
     * @function mapboxgl.supermap.Theme3DLayer.prototype.remove
     * @description ä»å°å¾ä¸ç§»é¤å¾å±ã
     * @returns {this} this å¯¹è±¡ã
     */
    remove() {
        if (!this.map) {
            return this;
        }
        //ç§»é¤å¾å±
        var layerId = this.id ? this.id : "theme3DLayer";
        if (this.map.getLayer(layerId)) {
            this.map.off('mousemove', layerId, this._onMouseMove.bind(this));
            this.map.on('mouseout', layerId, this._onMouseMove.bind(this));
            this.map.removeLayer(layerId);
        }
        //ç§»é¤é«äº®å¾å±
        var highlightLayerId = "highlightLayer";
        if (this.map.getLayer(highlightLayerId)) {
            this._selectFeatureId = null;
            this.map.removeLayer(highlightLayerId);
        }

        //ç§»é¤å¾ä¾
        if (this.legend) {
            this.map.removeControl(this.legend);
        }
        return this;
    }

    /**
     * @function  mapboxgl.supermap.Theme3DLayer.prototype.getLayerStyleOptions
     * @description è·åå¾å±æ ·å¼ã
     * @returns {Object} Mapbox GL æ ·å¼å¯¹è±¡ã
     */
    getLayerStyleOptions() {
        //å­ç±»éåå®ç°
    }

    /**
     * @function mapboxgl.supermap.Theme3DLayer.prototype.getHighlightStyleOptions
     * @description è·åé«äº®æ ·å¼,å­ç±»éåå®ç°ã
     * @returns {Object} Mapbox GL æ ·å¼å¯¹è±¡ã
     */
    getHighlightStyleOptions() {
        //å­ç±»éåå®ç°
    }

    _createLegendControl(html) {
        var me = this;

        function LegendControl() {
        }

        LegendControl.prototype.onAdd = function (map) {
            this._map = map;
            this._container = document.createElement('div');
            var className = 'mapboxgl-ctrl legend ';
            var theme = 'legend-light';
            if (me.legendTheme === 'dark') {
                theme = 'legend-dark';
            }
            var orientation = ' legend-horizontal';
            if (me.legendOrientation === 'vertical') {
                orientation = ' legend-vertical';
            }
            this._container.className = className + theme + orientation;

            if (html) {
                this._container.innerHTML = html;
            } else {
                var legendTitle = me.legendTitle || "";
                var titleElement = " <div class='legend-title'>" + legendTitle + "</div>";
                var content = me._createLegendElement.call(me) || "";
                var contentElement = "<div class='legend-content'>" + content + "</div>";
                this._container.innerHTML = titleElement + contentElement;
            }
            me._appendLegendCSSStyle();
            return this._container;
        };

        LegendControl.prototype.onRemove = function () {
            this._container.parentNode.removeChild(this._container);
            this._map = undefined;
        };

        return new LegendControl();
    }

    _createLegendElement() {
        //å­ç±»å®ç°
    }

    _addLayer() {
        var paintOptions = this.getLayerStyleOptions();
        var id = this.id ? this.id : "theme3DLayer";
        var sourceId = this.sourceId = id + 'Source';
        if (!this.map.getSource(sourceId)) {
            this.map.addSource(sourceId, {
                'type': 'geojson',
                'data': this.data
            });
        } else {
            this.map.removeSource(sourceId);
            this.map.addSource(sourceId, {
                'type': 'geojson',
                'data': this.data
            });
        }
        this.map.addLayer({
            'id': id,
            'type': 'fill-extrusion',
            'source': sourceId,
            'paint': paintOptions
        });
        this.map.moveLayer(id);
    }

    //æ·»å é«äº®å¾å±
    _addHighLightLayer() {
        if (!this.map) {
            return;
        }
        var map = this.map;
        map.addLayer({
            'id': 'highlightLayer',
            'type': 'fill-extrusion',
            'source': this.sourceId,
            'paint': this.getHighlightStyleOptions(),
            "filter": ["in", "$id", ""]
        });

        this._selectFeatureId = null;
        map.on('mousemove', this.id, this._onMouseMove.bind(this));
        map.on('mouseout', this.id, this._onMouseMove.bind(this));
    }

    _onMouseMove(e) {
        var me = this, map = this.map;
        var features = map.queryRenderedFeatures(e.point, {layers: [me.id]});

        if (me.highlight && me.highlight.callback) {
            me.highlight.callback(features, e);
        }

        if (!features || features.length < 1) {
            me._clearHighlight.call(me);
            me._selectFeatureId = null;
            return;
        }
        var id = features[0].id;
        if (me._selectFeatureId === id) {
            return;
        }
        me._selectFeatureId = id;
        map.setFilter("highlightLayer", ['==', '$id', me._selectFeatureId]);
    }

    _clearHighlight() {
        if (this.map) {
            this.map.setFilter("highlightLayer", ["in", "$id", ""]);
        }
    }

    _appendLegendCSSStyle() {
        var legendStyle = document.createElement('style');
        legendStyle.type = 'text/css';
        var baseStyle = `
        .legend {
            display: inline-block;
            border-radius: 2px;
            -moz-border-radius: 2px;
            -webkit-border-radius: 2px;
            font-size: 12px;
            color: rgba(0, 0, 0, 0.8);
            background-color: rgb(255, 255, 255);
        }
        .legend-light {
            color: rgba(0, 0, 0, 0.8);
            background-color: rgb(255, 255, 255);
            box-shadow: 0px 0px 6px #bbbbbb;
            -moz-box-shadow: 0px 6px 10px #bbbbbb;
            -webkit-box-shadow: 0px 0px 6px #bbbbbb;
        }
        .legend-dark {
            color: rgba(255, 255, 255, 0.8);
            background-color: rgb(64, 64, 64);
        }
        .legend .legend-title {
            min-height: 14px;
            max-width: 500px;
            padding:6px 10px;
        }
        .legend-light .legend-title {
            color: rgba(0, 0, 0, 0.8);
        }
        .legend-dark .legend-title {
            color: rgba(255, 255, 255, 0.8);
        }
        .legend-content{
            padding:6px 10px;
        }
        `;
        legendStyle.innerHTML = baseStyle + this._legendCSSStyle();
        document.getElementsByTagName('head')[0].appendChild(legendStyle);
    }

    //åç§å¾å±å¯¹åºçèªå·±çå¾ä¾çæ ·å¼
    _legendCSSStyle() {
        //å­ç±»å¯éåå®ç°
        return `
        .legend ul {
            padding: 0;
            margin: 0 16px;
            height: 100%;
            display: block;
            list-style: none;
        }

        .legend li {
            vertical-align: middle;
        }

        .legend li span:first-child {
            vertical-align: middle;
        }

        .legend li span:last-child {
            line-height: 28px;
            max-width: 200px;
            vertical-align: middle;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            -ms-text-overflow: ellipsis;
        }

        .legend-vertical li {
            height: 28px;
        }

        .legend-vertical li span:first-child {
            display: inline-block;
            width: 60px;
            height: 100%;
        }

        .legend-vertical li span:last-child {
            display: inline-block;
            margin-left: 16px;
            height: 100%;
        }

        .legend-horizontal li {
            height: 56px;
            float: left;
        }

        .legend-horizontal li span:first-child {
            display: block;
            width: 100%;
            height: 50%;
        }

        .legend-horizontal li span:last-child {
            display: block;
            vertical-align: middle;
            width: 60px;
            height: 50%;
            text-align: center;
        }
        `;
    }

    _extend(dest) {
        for (var index = 0; index < Object.getOwnPropertyNames(arguments).length; index++) {
            var arg = Object.getOwnPropertyNames(arguments)[index];
            if (arg == "caller" || arg == "callee" || arg == "length" || arg == "arguments") {
                continue;
            }
            var obj = arguments[arg];
            if (obj) {
                for (var j = 0; j < Object.getOwnPropertyNames(obj).length; j++) {
                    var key = Object.getOwnPropertyNames(obj)[j];
                    if (arg == "caller" || arg == "callee" || arg == "length" || arg == "arguments") {
                        continue;
                    }
                    dest[key] = obj[key];
                }
            }
        }
        return dest;
    }
}

external_mapboxgl_default.a.supermap.Theme3DLayer = Theme3DLayer;
// CONCATENATED MODULE: ./src/mapboxgl/overlay/RangeTheme3DLayer.js




/**
 * @class mapboxgl.supermap.RangeTheme3DLayer
 * @category  Visualization Theme
 * @classdesc ä¸ç»´åæ®µä¸é¢å¾ã
 * @param  {string} [id] - ä¸é¢å¾å¾å± idãé»è®¤ä½¿ç¨ CommonUtil.createUniqueID("theme3DLayer") åå»ºä¸é¢å¾å± IDã
 * @param  {Object} layerOptions - ä¸é¢å¾å¾å±éç½®é¡¹,åæ°ç»§æ¿èª Theme3DLayerã
 * @param  {Array} [layerOptions.heightStops] - æ°å¢åæ°ï¼æ°æ®é«åº¦åæ®µæ°ç»ã
 * @param  {Array} layerOptions.colorStops - æ°å¢åæ°ï¼æ°æ®é¢è²åæ®µæ°ç»ã
 * @param  {number} [layerOptions.base] - æ°å¢åæ°ï¼æ°æ®åæ®µçº¿æ§å¢éã
 * @param  {number} [layerOptions.legendRatio=1] - æ°å¢åæ°ï¼å¾ä¾æ°å¼æ©å¤§ç³»æ°ã
 * @example
 * new mapboxgl.supermap.RangeTheme3DLayer(layerId, map, {
 *      enableHighlight:true,
 *      // è®¾ç½®åæ®µ
 *      heightField: "floor",
 *      heightStops: [[1, 10], [10, 100]],
 *      colorStops: [[0, 'rgba(33, 41, 52, 0.8)'], [20, 'rgba(69,117,180, 0.7)'], [50, 'rgba(116,173,209, 0.7)'], [100, 'rgba(171,217,233, 0.7)']],
 *      // æ¾ç¤ºå¾ä¾
 *      showLegend: true,
 *      legendTheme: 'dark',
 *      legendTitle: "å¾ä¾"
 * });
 */
class RangeTheme3DLayer_RangeTheme3DLayer extends Theme3DLayer {

    constructor(id, layerOptions) {
        super(id, layerOptions);
        /**
         * @member  {Array} mapboxgl.supermap.RangeTheme3DLayer.prototype.heightStops 
         * @description æ°æ®é«åº¦åæ®µæ°ç»ã
         */
        this.heightStops = null;

        /**
         * @member  {Array} mapboxgl.supermap.RangeTheme3DLayer.prototype.colorStops 
         * @description æ°æ®é¢è²åæ®µæ°ç»ã
         */
        this.colorStops = null;
        /**
         * @member  {number} mapboxgl.supermap.RangeTheme3DLayer.prototype.base 
         * @description æ°æ®åæ®µçº¿æ§å¢éã
         */
        this.base = null;

        /**
         * @member  {number} [mapboxgl.supermap.RangeTheme3DLayer.prototype.legendRatio=1]
         * @description å¾ä¾æ°å¼æ©å¤§ç³»æ°ã
         */
        this.legendRatio = 1;

        this._extend(this, layerOptions);
    }

    /**
     * @function  mapboxgl.supermap.RangeTheme3DLayer.prototype.getLayerStyleOptions
     * @description è·åå¾å±æ ·å¼ã
     * @returns {Object} Mapbox GL æ ·å¼å¯¹è±¡ã
     */
    getLayerStyleOptions() {
        var opacity = this.opacity == null ? 1 : this.opacity;
        opacity = isNaN(parseFloat(opacity)) ? 1 : parseFloat(opacity);
        var reg = /^[0-9]+.?[0-9]*$/;
        var options = {
            'fill-extrusion-color': {
                'stops': this.colorStops,
                'property': this.themeField || this.heightField,
                'type': 'interval',
                'base': reg.test(this.base) ? this.base : 1
            },
            'fill-extrusion-opacity': opacity
        };
        if (this.heightStops) {
            options['fill-extrusion-height'] = {
                'stops': this.heightStops,
                'property': this.heightField || 'height',
                'base': reg.test(this.base) ? this.base : 1
            }
        } else if (this.height) {
            options['fill-extrusion-height'] = this.height;
        } else {
            options['fill-extrusion-height'] = {
                'property': this.heightField || 'height',
                'type': 'identity'
            }
        }

        if (this.baseHeightField) {
            options['fill-extrusion-base'] = {
                'property': this.baseHeightField,
                'type': 'identity'
            }
        }
        return options;
    }

    /**
     * @function mapboxgl.supermap.RangeTheme3DLayer.prototype.getHighlightStyleOptions
     * @description è·åé«äº®æ ·å¼ã
     * @returns {Object} mapboxgl æ ·å¼å¯¹è±¡ã
     */
    getHighlightStyleOptions() {
        var color = (this.highlight && this.highlight.color != null) ? this.highlight.color : '#ADA91E';
        return {
            'fill-extrusion-color': color,
            'fill-extrusion-height': {
                "stops": this.heightStops,
                "property": this.heightField
            },
            'fill-extrusion-opacity': this.highlight && this.highlight.opacity || 0.6
        }
    }

    _createLegendElement() {
        var len = this.colorStops && this.colorStops.length || 0;
        //é¢è²åæ®µå¯¹åºæ è¯
        var legendListElement = "<ul>";
        var i;
        for (i = 0; i < len; i++) {
            var value = this.colorStops[i][0];
            var text = this._getWrapperText(value);
            if (i === len - 1) {
                text = "> " + text;
            } else {
                var next = this._getWrapperText(this.colorStops[i + 1][0]);
                text = text + "-" + next;
            }

            var color = this.colorStops[i][1];

            legendListElement += "<li><span style='background-color:" + color + ";'></span><span>" + text + "</span></li>";
        }
        legendListElement += "</ul>";
        return legendListElement;
    }

    _getWrapperText(number) {
        var value = number * ((this.legendRatio == null) ? 1 : parseFloat(this.legendRatio));

        //åä¸ªé¢è²å¼å®½åº¦ä¸º60px,æå¤§åªè½å®å¨æ¾ç¤º1000000ï¼å¦åå°±è¶åºå®½åº¦ï¼åæ¾ç¤ºä»¥ä¸ºkè®¡æ°åä½çå¼
        var num = parseFloat(value);
        if (num % 1000000 <= 1000000) {
            return num.toString();
        }
        return parseInt(num / 1000) + 'k'
    }

}

external_mapboxgl_default.a.supermap.RangeTheme3DLayer = RangeTheme3DLayer_RangeTheme3DLayer;
// CONCATENATED MODULE: ./src/mapboxgl/overlay/RangeThemeLayer.js





/**
 * @class mapboxgl.supermap.RangeThemeLayer
 * @category  Visualization Theme
 * @classdesc åæ®µä¸é¢å¾å±ã
 * @param {string} name - å¾å±åã
 * @param {Object} options - åæ°ã
 * @param {string} [options.id] - ä¸é¢å¾å± IDãé»è®¤ä½¿ç¨ CommonUtil.createUniqueID("themeLayer_") åå»ºä¸é¢å¾å± IDã
 * @param {boolean} [options.loadWhileAnimating=true] - æ¯å¦å®æ¶éç»ã
 * @param {mapboxgl.Map} options.map - å½å Mapbox GL map å¯¹è±¡ã
 * @param {number} [options.opacity=1] - å¾å±éæåº¦ã
 * @param {string} options.themeField - æå®åå»ºä¸é¢å¾å­æ®µã
 * @param {Object} options.style - ä¸é¢å¾æ ·å¼ã
 * @param {Object} options.styleGroups - åä¸é¢ç±»åæ ·å¼ç»ã
 * @param {boolean} [options.isHoverAble=false] - æ¯å¦å¼å¯ hover äºä»¶ã
 * @param {Object} [options.highlightStyle] - å¼å¯ hover äºä»¶åï¼è§¦åçæ ·å¼é£æ ¼ã
 * @extends {mapboxgl.supermap.GeoFeatureThemeLayer}
 */
class RangeThemeLayer_Range extends GeoFeatureThemeLayer_GeoFeature {

    constructor(name, opt_options) {
        super(name, opt_options);
        this.style = opt_options.style;
        this.isHoverAble = opt_options.isHoverAble;
        this.highlightStyle = opt_options.highlightStyle;
        this.themeField = opt_options.themeField;
        this.styleGroups = opt_options.styleGroups;
    }

    /**
     * @function mapboxgl.supermap.RangeThemeLayer.prototype.createThematicFeature
     * @description åå»ºä¸é¢å¾è¦ç´ ã
     * @param {Object} feature - è¦åå»ºçä¸é¢å¾å½¢è¦ç´ ã
     */
    createThematicFeature(feature) {
        //èµ style
        var style = this.getStyleByData(feature);
        //åå»ºä¸é¢è¦ç´ æ¶çå¯éåæ°
        var options = {};
        options.nodesClipPixel = this.nodesClipPixel;
        options.isHoverAble = this.isHoverAble;
        options.isMultiHover = this.isMultiHover;
        options.isClickAble = this.isClickAble;
        options.highlightStyle = ShapeFactory_ShapeFactory.transformStyle(this.highlightStyle);

        //å°æ°æ®è½¬ä¸ºä¸é¢è¦ç´ ï¼Vectorï¼
        var thematicFeature = new ThemeVector_ThemeVector(feature, this, ShapeFactory_ShapeFactory.transformStyle(style), options);

        //ç´æ¥æ·»å å¾å½¢å°æ¸²æå¨
        for (var m = 0; m < thematicFeature.shapes.length; m++) {
            this.renderer.addShape(thematicFeature.shapes[m]);
        }

        return thematicFeature;
    }

    /**
     * @private
     * @function mapboxgl.supermap.RangeThemeLayer.prototype.getStyleByData
     * @description éè¿æ°æ®è·å styleã
     * @param {Object} fea - è¦ç´ æ°æ®ã
     */
    getStyleByData(fea) {
        var style = {};
        var feature = fea;
        style = Util_Util.copyAttributesWithClip(style, this.style);
        if (this.themeField && this.styleGroups && this.styleGroups.length > 0 && feature.attributes) {
            var Sf = this.themeField;
            var Attrs = feature.attributes;
            var Gro = this.styleGroups;
            var isSfInAttrs = false; //æå®ç themeField æ¯å¦æ¯ feature çå±æ§å­æ®µä¹ä¸
            var attr = null; //å±æ§å¼

            for (var property in Attrs) {
                if (Sf === property) {
                    isSfInAttrs = true;
                    attr = Attrs[property];
                    break;
                }
            }
            //å¤æ­å±æ§å¼æ¯å¦å±äºstyleGroupsçæä¸ä¸ªèå´ï¼ä»¥ä¾¿å¯¹è·ååç» style
            if (isSfInAttrs) {
                for (var i = 0, len = Gro.length; i < len; i++) {
                    if ((attr >= Gro[i].start) && (attr < Gro[i].end)) {
                        //feature.style = CommonUtil.copyAttributes(feature.style, this.defaultStyle);
                        var sty1 = Gro[i].style;
                        style = Util_Util.copyAttributesWithClip(style, sty1);
                    }
                }
            }
        }
        if (feature.style && this.isAllowFeatureStyle === true) {
            style = Util_Util.copyAttributesWithClip(feature.style);
        }
        return style;
    }

}

external_mapboxgl_default.a.supermap.RangeThemeLayer = RangeThemeLayer_Range;
// CONCATENATED MODULE: ./src/mapboxgl/overlay/RankSymbolThemeLayer.js





/**
 * @class mapboxgl.supermap.RankSymbolThemeLayer
 * @category  Visualization Theme
 * @classdesc ç­çº§ç¬¦å·ä¸é¢å¾å±ã
 * @param {string} name - å¾å±åã
 * @param {string} symbolType - ç¬¦å·ç±»åã
 * @param {Object} opt_options - åæ°ã
 * @param {string} [opt_options.id] - ä¸é¢å¾å± IDãé»è®¤ä½¿ç¨ CommonUtil.createUniqueID("themeLayer_") åå»ºä¸é¢å¾å± IDã
 * @param {boolean} [opt_options.loadWhileAnimating=true] - æ¯å¦å®æ¶éç»ã
 * @param {mapboxgl.Map} opt_options.map - å½åmapboxgl map å¯¹è±¡ã
 * @param {number} [opt_options.opacity=1] - å¾å±éæåº¦ã
 * @param {string} opt_options.themeFields - æå®åå»ºä¸é¢å¾å­æ®µã
 * @param {boolean} [opt_options.isOverLay=true] - æ¯å¦è¿è¡åçå¤çï¼å¦æè®¾ä¸º trueï¼å¾è¡¨ç»å¶è¿ç¨ä¸­å°éèå¯¹å·²å¨å¾å±ä¸­ç»å¶çå¾è¡¨äº§çåççå¾è¡¨ã
 * @param {string} [opt_options.chartsType] - å¾è¡¨ç±»åãç®åå¯ç¨ï¼"Bar", "Line", "Pie"ã
 * @param {Object} [opt_options.symbolSetting] - åç±»åå¾è¡¨ç symbolSetting å¯¹è±¡å¯è®¾å±æ§è¯·åèå·ä½å¾è¡¨æ¨¡åç±»çæ³¨éä¸­å¯¹ symbolSetting å¯¹è±¡å¯è®¾å±æ§çæè¿°ãsymbolSetting å¯¹è±¡éå¸¸é½å·æä»¥ä¸ 5 ä¸ªåºç¡å¯è®¾å±æ§:
 * @param {number} [opt_options.symbolSetting.width] - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å®½åº¦ã
 * @param {number} [opt_options.symbolSetting.height] - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼é«åº¦ã
 * @param {Array.<number>} opt_options.symbolSetting.codomain - å¼åï¼é¿åº¦ä¸º 2 çä¸ç»´æ°ç»ï¼ç¬¬ä¸ä¸ªåç´ è¡¨ç¤ºå¼åä¸éï¼ç¬¬äºä¸ªåç´ è¡¨ç¤ºå¼åä¸éã
 * @param {number} [opt_options.symbolSetting.XOffset] - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å¨ X æ¹åä¸çåç§»å¼ï¼åä½åç´ ã
 * @param {number} [opt_options.symbolSetting.YOffset] - ä¸é¢è¦ç´ ï¼å¾è¡¨ï¼å¨ Y æ¹åä¸çåç§»å¼ï¼åä½åç´ ã
 * @param {Array.<number>} opt_options.symbolSetting.dataViewBoxParameter - æ°æ®è§å¾æ¡ dataViewBox åæ°ï¼å®æ¯æå¾è¡¨æ¡ chartBox ï¼ç±å¾è¡¨ä½ç½®ãå¾è¡¨å®½åº¦ãå¾è¡¨é«åº¦ææçå¾è¡¨èå´æ¡ï¼å¨å·¦ãä¸ï¼å³ï¼ä¸åä¸ªæ¹åä¸çååè·å¼ï¼é¿åº¦ä¸º 4 çä¸ç»´æ°ç»ã
 * @param {number} opt_options.symbolSetting.decimalNumber - æ°æ®å¼æ°ç» dataValues åç´ å¼å°æ°ä½æ°ï¼æ°æ®çå°æ°ä½å¤çåæ°ï¼åå¼èå´ï¼[0, 16]ãå¦æä¸è®¾ç½®æ­¤åæ°ï¼å¨åæ°æ®å¼æ¶ä¸å¯¹æ°æ®åå°æ°ä½å¤çã
 * @extends {mapboxgl.supermap.GraphThemeLayer}
 */
class RankSymbolThemeLayer_RankSymbol extends GraphThemeLayer_Graph {

    constructor(name, symbolType, opt_options) {
        super(name, symbolType, opt_options);
        this.symbolType = symbolType;
        this.symbolSetting = opt_options.symbolSetting;
        this.themeField = opt_options.themeField;
    }

    /**
     * @function mapboxgl.supermap.RankSymbolThemeLayer.prototype.setSymbolType
     * @description è®¾ç½®æ å¿ç¬¦å·ã
     * @param {string} [symbolType] - ç¬¦å·ç±»åã
     */
    setSymbolType(symbolType) {
        this.symbolType = symbolType;
        this.redraw();
    }

    /**
     * @function mapboxgl.supermap.RankSymbolThemeLayer.prototype.createThematicFeature
     * @description åå»ºä¸é¢å¾å½¢è¦ç´ ã
     * @param {Object} feature - è¦åå»ºçä¸é¢å¾å½¢è¦ç´ ã
     */
    createThematicFeature(feature) {
        var thematicFeature;
        // æ£æ¥å¾å½¢åå»ºæ¡ä»¶å¹¶åå»ºå¾å½¢
        if (feature_Theme_Theme[this.symbolType] && this.themeField && this.symbolSetting) {
            thematicFeature = new feature_Theme_Theme[this.symbolType](feature, this, [this.themeField], this.symbolSetting);
        }
        // thematicFeature æ¯å¦åå»ºæå
        if (!thematicFeature) {
            return false;
        }
        // å¯¹ä¸é¢è¦ç´ æ§è¡å¾å½¢è£è½½
        thematicFeature.assembleShapes();
        return thematicFeature;
    }

}

external_mapboxgl_default.a.supermap.RankSymbolThemeLayer = RankSymbolThemeLayer_RankSymbol;
// CONCATENATED MODULE: ./src/mapboxgl/overlay/UniqueTheme3DLayer.js




/**
 * @class mapboxgl.supermap.UniqueTheme3DLayer
 * @category  Visualization Theme
 * @classdesc ä¸ç»´åå¼ä¸é¢å¾ã
 * @param {string} [id] - ä¸é¢å¾å¾å± idãé»è®¤ä½¿ç¨ CommonUtil.createUniqueID("theme3DLayer") åå»ºä¸é¢å¾å± IDã
 * @param {Object} layerOptions - ä¸é¢å¾å¾å±éç½®é¡¹,åæ°ç»§æ¿èª Theme3DLayerã
 * @param {number} [layerOptions.height] - æ°å¢åæ°ï¼å¦ææ°æ®æå®ç heightField (é»è®¤ä¸º height )æ²¡æå¯ä»¥è¡¨ç¤ºé«åº¦çå­æ®µï¼å¯ä»¥ä¸ºæææ°æ®ç»ä¸è®¾ç½®ä¸ä¸ªé«åº¦ã
 * @param {Array} layerOptions.colorStops - æ°å¢åæ°ï¼æ°æ®é¢è²åæ®µæ°ç»ã
 */
class UniqueTheme3DLayer_UniqueTheme3DLayer extends Theme3DLayer {


    constructor(id, layerOptions) {
        super(id, layerOptions);
        /**
         * @member  mapboxgl.supermap.UniqueTheme3DLayer.prototype.colorStops -{Array}
         * @description æ°æ®é¢è²æ°ç»ï¼å¦[["ç»¿å°","#CD7054"],["éè·¯","#AD1283"]]ã
         */
        this.colorStops = null;
        this._extend(this, layerOptions);
    }

    /**
     * @function  mapboxgl.supermap.UniqueTheme3DLayer.prototype.getLayerStyleOptions
     * @description è·åå¾å±æ ·å¼ã
     * @returns {Object} Mapbox GL æ ·å¼å¯¹è±¡ã
     */
    getLayerStyleOptions() {
        var opacity = this.opacity == null ? 1 : this.opacity;
        opacity = isNaN(parseFloat(opacity)) ? 1 : parseFloat(opacity);
        var options = {
            'fill-extrusion-color': {
                'stops': this.colorStops,
                'property': this.themeField,
                'type': 'categorical'
            },
            'fill-extrusion-opacity': opacity
        };

        if (this.height != null) {
            options['fill-extrusion-height'] = this.height;
        } else {
            options['fill-extrusion-height'] = {
                'property': this.heightField || 'height',
                'type': 'categorical'
            };
        }

        if (this.baseHeightField) {
            options['fill-extrusion-base'] = {
                'property': this.baseHeightField,
                'type': 'identity'
            }
        }
        return options;
    }

    /**
     * @function mapboxgl.supermap.UniqueTheme3DLayer.prototype.getHighlightStyleOptions
     * @description è·åé«äº®æ ·å¼ã
     * @returns {Object} Mapbox GL æ ·å¼å¯¹è±¡ã
     */
    getHighlightStyleOptions() {
        var color = (this.highlight && this.highlight.color != null) ? this.highlight.color : '#ADA91E';
        var paint = {
            'fill-extrusion-color': color,
            'fill-extrusion-height': {
                "stops": this.heightStops,
                "property": this.heightField,
                'type': 'categorical'
            },
            'fill-extrusion-opacity': this.highlight && this.highlight.opacity || 0.6
        };
        if (this.height != null) {
            paint['fill-extrusion-height'] = this.height || 0;
        }
        return paint;
    }

    _createLegendElement() {
        var legendListElement = "<ul>";
        var len = this.colorStops && this.colorStops.length || 0;
        for (var i = 0; i < len; i++) {
            var text = this.colorStops[i][0];
            var color = this.colorStops[i][1];
            legendListElement += "<li><span style='background-color:" + color + ";'></span><span>" + text + "</span></li>";
        }
        legendListElement += "</ul>";
        return legendListElement;
    }
}

external_mapboxgl_default.a.supermap.UniqueTheme3DLayer = UniqueTheme3DLayer_UniqueTheme3DLayer;
// CONCATENATED MODULE: ./src/mapboxgl/overlay/UniqueThemeLayer.js





/**
 * @class mapboxgl.supermap.UniqueThemeLayer
 * @category  Visualization Theme
 * @classdesc  åå¼ä¸é¢å¾å±ã
 * @param {string} name - å¾å±åã
 * @param {Object} opt_options - åæ°ã
 * @param {string} [opt_options.id] - ä¸é¢å¾å± IDãé»è®¤ä½¿ç¨ CommonUtil.createUniqueID("themeLayer_") åå»ºä¸é¢å¾å± IDã
 * @param {boolean} [opt_options.loadWhileAnimating=true] - æ¯å¦å®æ¶éç»ã
 * @param {mapboxgl.Map} opt_options.map - å½å mapboxgl map å¯¹è±¡ã
 * @param {number} [opt_options.opacity=1] - å¾å±éæåº¦ã
 * @param {string} opt_options.themeField - æå®åå»ºä¸é¢å¾å­æ®µã
 * @param {Object} opt_options.style - ä¸é¢å¾æ ·å¼ã
 * @param {Object} opt_options.styleGroups - åä¸é¢ç±»åæ ·å¼ç»ã
 * @param {boolean} [opt_options.isHoverAble=false] - æ¯å¦å¼å¯ hover äºä»¶ã
 * @param {Object} [opt_options.highlightStyle] - å¼å¯ hover äºä»¶åï¼è§¦åçæ ·å¼é£æ ¼ã
 * @extends {mapboxgl.supermap.GeoFeatureThemeLayer}
 */
class UniqueThemeLayer_Unique extends GeoFeatureThemeLayer_GeoFeature {

    constructor(name, opt_options) {
        super(name, opt_options);
        this.themeField = opt_options.themeField;
        this.style = opt_options.style;
        this.styleGroups = opt_options.styleGroups;
        this.isHoverAble = opt_options.isHoverAble;
        this.highlightStyle = opt_options.highlightStyle;
    }

    /**
     * @private
     * @function mapboxgl.supermap.UniqueThemeLayer.prototype.createThematicFeature
     * @description åå»ºä¸é¢å¾è¦ç´ ã
     * @param {Object} feature - è¦åå»ºçä¸é¢å¾å½¢è¦ç´ ã
     */
    createThematicFeature(feature) {
        //èµ style
        var style = this.getStyleByData(feature);
        //åå»ºä¸é¢è¦ç´ æ¶çå¯éåæ°
        var options = {};
        options.nodesClipPixel = this.nodesClipPixel;
        options.isHoverAble = this.isHoverAble;
        options.isMultiHover = this.isMultiHover;
        options.isClickAble = this.isClickAble;
        options.highlightStyle = ShapeFactory_ShapeFactory.transformStyle(this.highlightStyle);

        //å°æ°æ®è½¬ä¸ºä¸é¢è¦ç´ ï¼Vectorï¼
        var thematicFeature = new ThemeVector_ThemeVector(feature, this, ShapeFactory_ShapeFactory.transformStyle(style), options);

        //ç´æ¥æ·»å å¾å½¢å°æ¸²æå¨
        for (var m = 0; m < thematicFeature.shapes.length; m++) {
            this.renderer.addShape(thematicFeature.shapes[m]);
        }

        return thematicFeature;
    }

    /**
     * @private
     * @function mapboxgl.supermap.UniqueThemeLayer.prototype.getStyleByData
     * @description éè¿æ°æ®è·å styleã
     * @param {Object} fea - è¦ç´ æ°æ®ã
     */
    getStyleByData(fea) {
        var style = {};
        var feature = fea;
        style = Util_Util.copyAttributesWithClip(style, this.style);
        if (this.themeField && this.styleGroups && this.styleGroups.length > 0 && feature.attributes) {
            var tf = this.themeField;
            var Attrs = feature.attributes;
            var Gro = this.styleGroups;
            var isSfInAttrs = false; //æå®ç themeField æ¯å¦æ¯ feature çå±æ§å­æ®µä¹ä¸
            var attr = null; //å±æ§å¼
            for (var property in Attrs) {
                if (tf === property) {
                    isSfInAttrs = true;
                    attr = Attrs[property];
                    break;
                }
            }
            //å¤æ­å±æ§å¼æ¯å¦å±äºstyleGroupsçæä¸ä¸ªèå´ï¼ä»¥ä¾¿å¯¹è·ååç» style
            if (isSfInAttrs) {
                for (var i = 0, len = Gro.length; i < len; i++) {
                    if ((attr).toString() === ( Gro[i].value).toString()) {
                        //feature.style = CommonUtil.copyAttributes(feature.style, this.defaultStyle);
                        var sty1 = Gro[i].style;
                        style = Util_Util.copyAttributesWithClip(style, sty1);
                    }
                }
            }
        }
        if (feature.style && this.isAllowFeatureStyle === true) {
            style = Util_Util.copyAttributesWithClip(feature.style);
        }
        return style;
    }

}

external_mapboxgl_default.a.supermap.UniqueThemeLayer = UniqueThemeLayer_Unique;
// CONCATENATED MODULE: ./src/mapboxgl/overlay/graphic/Graphic.js





/**
 * @class mapboxgl.supermap.Graphic
 * @classdesc é«æçç¹å¾å±ç¹è¦ç´ ç±»ã
 * @category  Visualization Graphic
 * @param {(Object|Array.<number>)} lngLat - åæ ãæ ¼å¼ï¼ç»çº¬åº¦æ°ç»æåå«{lng,lat}æ ¼å¼å¯¹è±¡ã
 * @param {Object} style - å¾å½¢åæ°ã
 * @param {Array.<number>} [style.color] - ç¹é¢è²ãç®ååªæ¯æ rgba æ°ç»ã
 * @param {Object} [style.radius] - ç¹åå¾ã
 * @param {Object} [attributes] - å±æ§ä¿¡æ¯ã
 * @example
 * var graphic = new mapboxgl.supermap.Graphic(
 *    {
 *         lng:116,
 *         lat:39
 *    },{
 *         color:[255,0,0],
 *         radius:30
 *    }
 * });
 */
class Graphic_Graphic {
    constructor(lngLat, style, attributes) {

        this.lngLat = core_Util_Util.isArray(lngLat) ? {lng: lngLat[0], lat: lngLat[1]} : lngLat;
        this.style = core_Util_Util.extend({}, style);
        this.attributes = attributes;
    }

    /**
     * @function mapboxgl.supermap.Graphic.prototype.getLngLat
     * @description è·åç»çº¬åº¦åæ ã
     * @returns {Object} ç»çº¬åº¦åæ ,æ°æ®æ ¼å¼{lng,lat}ã
     */
    getLngLat() {
        return this.lngLat;
    }

    /**
     * @function mapboxgl.supermap.Graphic.prototype.setLngLat
     * @description è®¾ç½®ç»çº¬åº¦åæ ã
     * @param {Object} lngLat - ç»çº¬åº¦åæ ,æ°æ®æ ¼å¼{lng,lat}ã
     */
    setLngLat(lngLat) {
        this.lngLat = core_Util_Util.isArray(lngLat) ? {lng: lngLat[0], lat: lngLat[1]} : lngLat;
    }

    /**
     * @function mapboxgl.supermap.Graphic.prototype.setStyle
     * @description è®¾ç½®ç¹æ ·å¼ã
     * @param {Object} style -æ ·å¼éé¡¹ã
     * @param {Array} [style.color] - é¢è²ã
     * @param {number} [style.radius] - åå¾ã
     */
    setStyle(style) {
        this.style = core_Util_Util.extend(this.style, style);
    }

    /**
     * @function mapboxgl.supermap.Graphic.prototype.getStyle
     * @description è·åæ ·å¼ã
     * @returns {Object} ç¹æ ·å¼ã
     */
    getStyle() {
        return this.style;
    }

    /**
     * @function mapboxgl.supermap.Graphic.prototype.setAttributes
     * @description è®¾ç½®å±æ§ä¿¡æ¯ã
     * @param {Object} [attributes] - å±æ§ä¿¡æ¯ã
     */
    setAttributes(attributes) {
        this.attributes = core_Util_Util.extend({}, this.attributes, attributes);
    }

    /**
     * @function mapboxgl.supermap.Graphic.prototype.getAttributes
     * @description è·åå±æ§ä¿¡æ¯ã
     * @returns {Object} å±æ§ä¿¡æ¯ã
     */
    getAttributes() {
        return this.attributes;
    }
}

external_mapboxgl_default.a.supermap.Graphic = Graphic_Graphic;

// CONCATENATED MODULE: ./src/mapboxgl/overlay/graphic/index.js

// CONCATENATED MODULE: ./src/mapboxgl/overlay/GraphicLayer.js






const defaultProps = {
    color: [0, 0, 0, 255],
    opacity: 0.8,
    radius: 10,
    radiusScale: 1,
    radiusMinPixels: 0,
    radiusMaxPixels: Number.MAX_SAFE_INTEGER,
    strokeWidth: 1,
    outline: false
};

/**
 * @class mapboxgl.supermap.GraphicLayer
 * @category  Visualization Graphic
 * @classdesc é«æçç¹å¾å±ã
 * @param {string} [id] - å¾å±idãé»è®¤ä½¿ç¨ CommonUtil.createUniqueID("graphicLayer_") åå»ºä¸é¢å¾å± IDã
 * @param {Object} options -  å¾å±éç½®é¡¹ã
 * @param {Array.<mapboxgl.supermap.Graphic>} options.graphics - ç¹è¦ç´ å¯¹è±¡æ°ç» ã
 * @param {Array.<number>} [options.color=[0, 0, 0, 255]] - é¢è²,ç®ååªæ¯æ rgba æ°ç»ã
 * @param {number} [options.radius=10] - åå¾ã
 * @param {number} [options.opacity=0.8] - ä¸éæåº¦ã
 * @param {Array.<number>} [options.highlightColor=[0, 0, 128, 128]] - é«äº®é¢è²ï¼ç®ååªæ¯æ rgba æ°ç»ã
 * @param {number} [options.radiusScale=1] - ç¹æ¾å¤§åæ°ã
 * @param {number} [options.radiusMinPixels=0] - åå¾æå°å¼(åç´ )ã
 * @param {number} [options.radiusMaxPixels=Number.MAX_SAFE_INTEGER] - åå¾æå¤§å¼(åç´ )ã
 * @param {number} [options.strokeWidth=1] - è¾¹æ¡å¤§å°ã
 * @param {boolean} [options.outline=false] - æ¯å¦æ¾ç¤ºè¾¹æ¡ã
 */
class GraphicLayer_GraphicLayer {

    constructor(id, options) {
        let opt = core_Util_Util.extend(this, defaultProps, options);
        /**
         * @member {string} mapboxgl.supermap.GraphicLayer.prototype.id
         * @description é«æçç¹å¾å± idã
         */
        this.id = id || Util_Util.createUniqueID("graphicLayer_");
        /**
         * @member {Array.<mapboxgl.supermap.Graphic>} mapboxgl.supermap.GraphicLayer.prototype.graphics
         * @description ç¹è¦ç´ å¯¹è±¡æ°ç»ã
         */
        this.graphics = [].concat(opt.graphics);

        /**
         * @member {boolean} [mapboxgl.supermap.GraphicLayer.prototype.visibility=true]
         * @description å¾å±æ¾ç¤ºç¶æå±æ§ã
         */
        this.visibility = true;
    }

    /**
     * @function mapboxgl.supermap.GraphicLayer.prototype.addTo
     * @description å¾å±æ·»å å°å°å¾ï¼å°å¨ä¸ä¸ªçæ¬åºå¼ï¼è¯·ä½¿ç¨ onAdd() ä»£æ¿ã
     * @param {mapboxgl.Map} map - Mapbox GL å°å¾å¯¹è±¡ã
     * @returns this
     */
    addTo(map) {
        this.onAdd(map);
    }

    /**
     * @function mapboxgl.supermap.GraphicLayer.prototype.onAdd
     * @description å¾å±æ·»å å°å°å¾ã
     * @param {mapboxgl.Map} map - Mapbox GL å°å¾å¯¹è±¡ã
     * @return {mapboxgl.supermap.GraphicLayer}
     */
    onAdd(map) {
        this.map = map;
        if (this.canvas) {
            this.mapContainer = this.map.getCanvasContainer();
            this.mapContainer.appendChild(this.canvas);
            return this;
        }
        this._initContainer();
        let mapState = this.getState();
        let {
            data,
            color,
            radius,
            opacity,
            highlightColor,
            radiusScale,
            radiusMinPixels,
            radiusMaxPixels,
            strokeWidth,
            outline
        } = mapState;
        let me = this;
        let layerOptions = {
            id: 'scatter-plot',
            data,
            pickable: Boolean(this.onClick) || Boolean(this.onHover),
            autoHighlight: true,
            color: color,
            opacity: opacity,
            radius: radius,
            radiusScale: radiusScale,
            highlightColor: highlightColor,
            radiusMinPixels: radiusMinPixels,
            radiusMaxPixels: radiusMaxPixels,
            strokeWidth: strokeWidth,
            outline: outline,
            getPosition: function (point) {
                if (!point) {
                    return [0, 0, 0];
                }
                let lngLat = point && point.getLngLat();
                return lngLat && [lngLat.lng, lngLat.lat, 0];
            },
            getColor: function (point) {
                let style = point && point.getStyle();
                return style && style.color || me.color
            },
            getRadius: function (point) {
                let style = point && point.getStyle();
                return style && style.radius || me.radius
            },
            updateTriggers: {
                getColor: [color],
                getRadius: [radius]
            }
        };
        if (this.onClick) {
            layerOptions.onClick = this.onClick;
        }
        if (this.onHover) {
            layerOptions.onHover = this.onHover;
        }

        this.layer = new window.DeckGL.ScatterplotLayer(layerOptions);
        let deckOptions = {};
        for (let key in mapState) {
            deckOptions[key] = mapState[key];
        }
        deckOptions.layers = [this.layer];
        deckOptions.canvas = this.canvas;
        this.deckGL = new window.DeckGL.experimental.DeckGLJS(deckOptions);
        this.map.on('render', this._moveEvent.bind(this));
        this.map.on('resize', this._resizeEvent.bind(this));
        this.draw();
        return this;
    }

    /**
     * @function mapboxgl.supermap.GraphicLayer.prototype.setStyle
     * @description è®¾ç½®å¾å±æ´ä½æ ·å¼ã
     * @param {Object} styleOptions - æ ·å¼å¯¹è±¡ã
     * @param {Array.<number>} [styleOptions.color=[0, 0, 0, 255]] - ç¹é¢è²ã
     * @param {number} [styleOptions.radius=10] - ç¹åå¾ã
     * @param {number} [styleOptions.opacity=0.8] - ä¸éæåº¦ã
     * @param {Array}  [styleOptions.highlightColor=[0, 0, 128, 128]] - é«äº®é¢è²ï¼ç®ååªæ¯æ rgba æ°ç»ã
     * @param {number} [styleOptions.radiusScale=1] - ç¹æ¾å¤§åæ°ã
     * @param {number} [styleOptions.radiusMinPixels=0] - åå¾æå°å¼(åç´ )ã
     * @param {number} [styleOptions.radiusMaxPixels=Number.MAX_SAFE_INTEGER] - åå¾æå¤§å¼(åç´ )ã
     * @param {number} [styleOptions.strokeWidth=1] - è¾¹æ¡å¤§å°ã
     * @param {boolean} [styleOptions.outline=false] - æ¯å¦æ¾ç¤ºè¾¹æ¡ã
     */
    setStyle(styleOptions) {
        let styleOpt = {
            color: this.color,
            radius: this.radius,
            opacity: this.opacity,
            highlightColor: this.highlightColor,
            radiusScale: this.radiusScale,
            radiusMinPixels: this.radiusMinPixels,
            radiusMaxPixels: this.radiusMaxPixels,
            strokeWidth: this.strokeWidth,
            outline: this.outline
        };

        core_Util_Util.extend(this, styleOpt, styleOptions);
        this.update();
    }

    /**
     * @function mapboxgl.supermap.GraphicLayer.prototype.setGraphics
     * @description è®¾ç½®ç»å¶çç¹è¦ç´ æ°æ®ï¼ä¼è¦çä¹åçææè¦ç´ ã
     * @param {Array.<mapboxgl.supermap.Graphic>} graphics - ç¹è¦ç´ å¯¹è±¡æ°ç»ã
     */
    setGraphics(graphics) {
        this.graphics = this.graphics || [];
        this.graphics.length = 0;
        let sGraphics = !core_Util_Util.isArray(graphics) ? [graphics] : [].concat(graphics);
        //this.layer.props.dataä¸è½è¢«éæ°èµå¼ï¼åªè½å¨åæ°ç»ä¸è¿è¡æä½
        if (!this.layer.props.data) {
            this.layer.props.data = [];
        }
        this.layer.props.data.length = 0;
        for (let i = 0; i < sGraphics.length; i++) {
            this.layer.props.data.push(sGraphics[i]);
        }
        this.update();
    }

    /**
     * @function mapboxgl.supermap.GraphicLayer.prototype.addGraphics
     * @description æ·»å ç¹è¦ç´ ï¼ä¸ä¼è¦çä¹åçè¦ç´ ã
     * @param {Array.<mapboxgl.supermap.Graphic>} graphics - ç¹è¦ç´ å¯¹è±¡æ°ç»ã
     */
    addGraphics(graphics) {
        this.graphics = this.graphics || [];
        let sGraphics = !core_Util_Util.isArray(graphics) ? [graphics] : [].concat(graphics);
        //this.layer.props.dataä¸è½è¢«éæ°èµå¼ï¼åªè½å¨åæ°ç»ä¸è¿è¡æä½
        if (!this.layer.props.data) {
            this.layer.props.data = [];
        }
        for (let i = 0; i < sGraphics.length; i++) {
            this.layer.props.data.push(sGraphics[i]);
        }
        this.update();
    }

    /**
     * @function mapboxgl.supermap.GraphicLayer.prototype.update
     * @description æ´æ°å¾å±ã
     */
    update() {
        this.layer.setChangeFlags({
            dataChanged: true,
            propsChanged: true,
            viewportChanged: true,
            updateTriggersChanged: true
        });
        let state = this.getState();
        this.layer.setState(state);
    }

    /**
     * @function mapboxgl.supermap.GraphicLayer.prototype.clear
     * @description éæ¾å¾å±èµæºã
     */
    clear() {
        this.removeGraphics();
        this.deckGL.finalize();
    }

    /**
     * @function mapboxgl.supermap.GraphicLayer.prototype.removeGraphics
     * @description ç§»é¤ææè¦ç´ ã
     */
    removeGraphics() {
        this.graphics.length = 0;

        if (this.layer.props.data) {
            this.layer.props.data.length = 0;
        }
        this.update();
    }

    /**
     * @function mapboxgl.supermap.GraphicLayer.prototype.remove
     * @description å é¤è¯¥å¾å±ã
     */
    remove() {
        this.map.off('render', this._moveEvent.bind(this));
        this.map.off('resize', this._resizeEvent.bind(this));
        this.map.getCanvasContainer().removeChild(this.canvas);
    }

    /**
     * @function mapboxgl.supermap.GraphicLayer.prototype.removeFromMap
     * @deprecated
     * @description å é¤è¯¥å¾å±ã
     */
    removeFromMap() {
        this.remove();
        this.clear();
    }

    /**
     * @function mapboxgl.supermap.GraphicLayer.prototype.moveTo
     * @description å°å¾å±ç§»å¨å°æä¸ªå¾å±ä¹åã
     * @param {string} layerID - å¾æå¥çå¾å± IDã
     * @param {boolean} [before=true] - æ¯å¦å°æ¬å¾å±æå¥å°å¾å± id ä¸º layerID çå¾å±ä¹å(å¦æä¸º false åå°æ¬å¾å±æå¥å°å¾å± id ä¸º layerID çå¾å±ä¹å)ã
     */
    moveTo(layerID, before) {
        var layer = document.getElementById(this.id);
        before = before !== undefined ? before : true;
        if (before) {
            var beforeLayer = document.getElementById(layerID);
            if (layer && beforeLayer) {
                beforeLayer.parentNode.insertBefore(layer, beforeLayer);
            }
            return;
        }
        var nextLayer = document.getElementById(layerID);
        if (layer) {
            if (nextLayer.nextSibling) {
                nextLayer.parentNode.insertBefore(layer, nextLayer.nextSibling);
                return;
            }
            nextLayer.parentNode.appendChild(layer);
        }
    }

    /**
     * @function mapboxgl.supermap.GraphicLayer.prototype.setVisibility
     * @description è®¾ç½®å¾å±å¯è§æ§ï¼è®¾ç½®å¾å±çéèï¼æ¾ç¤ºï¼éç»çç¸åºçå¯è§æ è®°ã
     * @param {boolean} [visibility] - æ¯å¦æ¾ç¤ºå¾å±ï¼å½åå°å¾ç resolution å¨æå¤§æå° resolution ä¹é´ï¼ã
     */
    setVisibility(visibility) {
        if (this.canvas && visibility !== this.visibility) {
            this.visibility = visibility;
            this.canvas.style.display = visibility ? "block" : "none";
        }
    }


    /**
     * @function mapboxgl.supermap.GraphicLayer.prototype.getState
     * @description è·åå½åå°å¾åå¾å±ç¶æã
     * @returns {Object} å°å¾åå¾å±ç¶æï¼åå«å°å¾ç¶æä¿¡æ¯åæ¬å¾å±ç¸å³ç¶æã
     */
    getState() {
        let map = this.map;
        let width = parseInt(this.canvas.style.width);
        let height = parseInt(this.canvas.style.height);
        let center = map.getCenter();
        let longitude = center.lng;
        let latitude = center.lat;
        let zoom = map.getZoom();
        let maxZoom = map.getMaxZoom();
        let pitch = map.getPitch();
        let bearing = map.getBearing();

        let mapViewport = {
            longitude: longitude,
            latitude: latitude,
            zoom: zoom,
            maxZoom: maxZoom,
            pitch: pitch,
            bearing: bearing
        };
        let state = {};
        for (let key in mapViewport) {
            state[key] = mapViewport[key];
        }
        state.width = width;
        state.height = height;
        state.data = this.graphics;
        state.color = this.color;
        state.radius = this.radius;
        state.opacity = this.opacity;
        state.highlightColor = this.highlightColor;
        state.radiusScale = this.radiusScale;
        state.radiusMinPixels = this.radiusMinPixels;
        state.radiusMaxPixels = this.radiusMaxPixels;
        state.strokeWidth = this.strokeWidth;
        state.outline = this.outline;
        return state;
    }

    /**
     * @function mapboxgl.supermap.GraphicLayer.prototype.draw
     * @description ç»å¶å¾å±ã
     */
    draw() {
        let mapState = this.getState();
        let deckOptions = {};

        for (let key in mapState) {
            deckOptions[key] = mapState[key];
        }
        deckOptions.layers = [this.layer];
        deckOptions.canvas = this.canvas;
        this.deckGL.setProps(deckOptions);
    }

    _moveEvent() {
        this.draw();
    }

    _resizeEvent() {
        let canvas = this.canvas;
        let map = this.map;
        canvas.width = parseInt(map.getCanvas().style.width);
        canvas.height = parseInt(map.getCanvas().style.height);
        canvas.style.width = map.getCanvas().style.width;
        canvas.style.height = map.getCanvas().style.height;
        this.draw();
    }

    _initContainer() {
        this.canvas = this._createCanvas();
        this.mapContainer = this.map.getCanvasContainer();
        this.mapContainer.appendChild(this.canvas);
    }

    _createCanvas() {
        let canvas = document.createElement('canvas');
        if (this.id) {
            canvas.id = this.id;
        }
        canvas.style.position = 'absolute';
        canvas.style.top = 0 + "px";
        canvas.style.left = 0 + "px";
        canvas.style.cursor = "";
        let map = this.map;
        canvas.width = parseInt(map.getCanvas().style.width);
        canvas.height = parseInt(map.getCanvas().style.height);
        canvas.style.width = map.getCanvas().style.width;
        canvas.style.height = map.getCanvas().style.height;
        return canvas;
    }

}

external_mapboxgl_default.a.supermap.GraphicLayer = GraphicLayer_GraphicLayer;
// EXTERNAL MODULE: external "function(){try{return THREE}catch(e){return {}}}()"
var external_function_try_return_THREE_catch_e_return_ = __webpack_require__(2);

// CONCATENATED MODULE: ./src/mapboxgl/overlay/threejs/Transform.js




function wrap(source, min, max) {
    if (source === max || source === min) {
        return source;
    }
    let len = max - min;
    return ((source - min) % len + len) % len + min
}

function rad(angle) {
    return angle * Math.PI / 180;
}


var Projection = {

    R: 6378137,
    minZoom: 0,
    maxZoom: 22,
    nativeMaxZoom: 19,

    RAD: Math.PI / 180,
    METERS_PER_DEGREE: 6378137 * Math.PI / 180,
    MAX_LATITUDE: 85.0511287798,

    project: function (lngLat) {
        const rad = this.RAD,
            metersPerDegree = this.METERS_PER_DEGREE,
            max = this.MAX_LATITUDE;

        let ll = (lngLat instanceof Array)
            ? {lng: lngLat[0], lat: lngLat[1]}
            : {lng: lngLat.lng, lat: lngLat.lat};

        let lng = ll.lng, lat = Math.max(Math.min(max, ll.lat), -max);
        let c;
        if (lat === 0) {
            c = 0;
        } else {
            c = Math.log(Math.tan((90 + lat) * rad / 2)) / rad;
        }
        return {x: lng * metersPerDegree, y: c * metersPerDegree};

    },

    unproject: function (point) {
        const x = point.x,
            y = point.y;
        const rad = this.RAD,
            metersPerDegree = this.METERS_PER_DEGREE;
        let c;
        if (y === 0) {
            c = 0;
        } else {
            c = y / metersPerDegree;
            c = (2 * Math.atan(Math.exp(c * rad)) - Math.PI / 2) / rad;
        }
        return {lng: wrap(x / metersPerDegree, -180, 180), lat: wrap(c, -this.MAX_LATITUDE, this.MAX_LATITUDE)};
    },

    locate: function (lngLat, dx, dy) {
        if (!lngLat) {
            return null;
        }
        dx = !dx ? 0 : dx;
        dy = !dy ? 0 : dy;

        if (!dx && !dy) {
            return lngLat;
        }


        let lng = lngLat.lng;
        if (dx !== 0) {
            let ndx = Math.abs(dx), radLng = rad(lngLat.lng);
            let sLng = 2 * Math.sqrt(Math.pow(Math.sin(ndx / (2 * this.R)), 2) / Math.pow(Math.cos(radLng), 2));
            radLng = radLng + sLng * (ndx > 0 ? 1 : -1);
            lng = wrap(radLng * 180 / Math.PI, -180, 180);
        }

        let lat = lngLat.lat;
        if (dy !== 0) {
            let ndy = Math.abs(dy), radLat = rad(lngLat.lat);
            let sLat = Math.sin(ndy / (2 * this.R)) * 2;
            radLat = radLat + sLat * (ndy > 0 ? 1 : -1);
            lat = wrap(radLat * 180 / Math.PI, -90, 90);
        }
        return {lng, lat};
    },

    getResolution: function (zoom) {
        if (!this.resolutions) {
            var resolutions = [];
            var d = 2 * 6378137 * Math.PI;
            for (var i = 0; i <= this.maxZoom; i++) {
                resolutions[i] = d / (256 * Math.pow(2, i));
            }
            this.resolutions = resolutions;
        }
        let z = (zoom | 0), length = this.resolutions.length;
        z = z < 0 ? 0 : z > length - 1 ? length - 1 : z;
        const res = this.resolutions[z];
        if ((zoom | 0) !== zoom && z !== length - 1) {
            const next = this.resolutions[z + 1];
            return res + (next - res) * (zoom - z);
        }
        return res;
    }
};

var Transform = {
    matrix: [1, -1, 0, 0],
    projection: Projection,

    project: function (lngLat) {
        return this.projection.project(lngLat);
    },

    unproject: function (point) {
        return this.projection.unproject(point);
    },

    lngLatToPoint: function (lngLat, zoom) {
        var pt = this.project(lngLat);
        return this.transform(pt, this.projection.getResolution(zoom));
    },

    locate: function (lngLat, dx, dy) {
        return this.projection.locate(lngLat, dx, dy);
    },

    transform: function (point, scale) {
        return {
            x: this.matrix[0] * (point.x - this.matrix[2]) / scale,
            y: this.matrix[1] * (point.y - this.matrix[3]) / scale
        };
    }
};

external_mapboxgl_default.a.supermap.Transform = Transform;


// CONCATENATED MODULE: ./src/mapboxgl/overlay/threejs/ThreeLayerRenderer.js
/**
 * reference and modification
 * maptalks.three
 * (https://github.com/maptalks/maptalks.three)
 * Apache Licene 2.0
 * thanks maptalks
 */





const projection = Transform.projection;
const {
    Color: ThreeLayerRenderer_Color,
    Scene,
    WebGLRenderer,
    CanvasRenderer,
    PerspectiveCamera
} = external_function_try_return_THREE_catch_e_return_;

const RADIAN = Math.PI / 180;


const ThreeLayerRenderer_frame = window.requestAnimationFrame ||
    window.mozRequestAnimationFrame ||
    window.webkitRequestAnimationFrame ||
    window.msRequestAnimationFrame;

const cancel = window.cancelAnimationFrame ||
    window.mozCancelAnimationFrame ||
    window.webkitCancelAnimationFrame ||
    window.msCancelAnimationFrame;

/**
 * @private
 * @class ThreeLayerRenderer
 * @category  Visualization Three
 * @classdesc Threeå¾å±æ¸²æå¨
 * @param {mapboxgl.supermap.ThreeLayer} layer - ThreeJså¾å±ã</br>
 * @param {string} [renderer="gl"] - å¾å±æ¸²ææ¹å¼(canvasæWebGL)ãåå¼ï¼"gl","canvas"ã</br>
 * @param {object} options - threejsæ¸²æå¨åå§ååæ°å¯¹è±¡ãåæ°åå®¹è¯¦è§:
 *          [WebGLRenderer]{@link https://threejs.org/docs/index.html#api/renderers/WebGLRenderer}/
 *          [CanvasRenderer]{@link https://threejs.org/docs/index.html#examples/renderers/CanvasRenderer}
 *
 * @extends {mapboxgl.Evented}
 */
class ThreeLayerRenderer_ThreeLayerRenderer {

    constructor(layer, renderer, options) {
        this._layer = layer;
        this.renderer = renderer || "gl";
        this.options = options;
    }

    setMap(map) {
        this.map = map;
    }

    //å¼å§æ¸²æ
    render() {
        if (!this._layer) {
            return;
        }
        this.prepare();
        /**
         * initializedäºä»¶, åå§åå¥½threeåè§¦å
         * @event mapboxgl.supermap.ThreeLayer#prepare
         * @type {Object}
         * @property {string} type  - prepare
         * @property {Object} target  - layer
         */
        this._layer.fire("initialized");
        this._layer && this._layer.draw(this.context, this.scene, this.camera);
        /**
         * drawç»å¶äºä»¶, è°ç¨æä¾ç»å¤é¨ç»å¶çæ¥å£åè§¦å
         * @event mapboxgl.supermap.ThreeLayer#draw
         * @type {Object}
         * @property {string} type  - draw
         * @property {Object} target  - layer
         */
        this._layer.fire("draw");
        this.renderScene();
    }

    update() {
        this.remove();
        this.render();
    }

    //æ¸²æåºæ¯ï¼æ¨¡åå·²ç»æ·»å å°å¾å±ï¼
    renderScene() {
        this.locationCamera();
        this.animationFrame = this.renderFrame((function () {
            this.animationFrame = null;
            this.context && this.context.render(this.scene, this.camera);
        }).bind(this));
    }

    renderFrame(fn) {
        var render = function () {
            fn && typeof fn === "function" && fn();
        };
        return ThreeLayerRenderer_frame(render);
    }

    resize() {
        this._resetElementSize(this.container);
        this._resetElementSize(this.canvas);

        let width = this.canvas.width,
            height = this.canvas.height;

        let size = this.getMapSize();
        this.camera.aspect = width / height;
        this.camera.updateProjectionMatrix();
        this.context.setSize(size.width, size.height);
        this.renderScene();
    }

    //åå»ºç»å¸ãåå§åæ¸²æå¨ãåå§åç¸æºç­
    prepare() {
        if (!this.map) {
            return new Error("map object is necessary");
        }
        if (!this.canvas) {
            this._initContainer();
            this._initThreeRenderer();
            /**
             * rendererinitializedäºä»¶ï¼åå§åthreeæ¸²æå¨åè§¦å
             * @event mapboxgl.supermap.ThreeLayer#rendererinitialized
             * @type {Object}
             * @property {string} type  - rendererinitialized
             * @property {Object} target  - layer
             */
            this._layer.fire("rendererinitialized");
        } else {
            this.clear(this.context);
        }
    }

    getMapSize() {
        let container = this.map.getContainer();
        return {width: container.clientWidth, height: container.clientHeight};
    }

    cancelFrame() {
        if (this.animationFrame != null) {
            cancel(this.animationFrame);
        }
    }

    remove() {
        if (this.animationFrame != null) {
            cancel(this.animationFrame);
        }
        this.container.removeChild(this.canvas);
        this.container.parentNode.removeChild(this.container);

        this.context = null;
        this.canvas = null;
        this.container = null;
    }

    //æ¸çç»å¸åå®¹
    clear(context) {
        context && context.clear && context.clear();
        context && context.clearRect && context.clearRect(0, 0, context.canvas.width, context.canvas.height);
    }

    //è®¡ç®ç¼©æ¾æ¯ä¾
    getScale(zoom) {
        let map = this.map;
        let z = zoom == null ? map.getZoom() : zoom;
        let max = projection.getResolution(projection.nativeMaxZoom),
            res = projection.getResolution(z);
        return res / max;
    }

    getCanvasContainer() {
        return this.container;
    }

    getCanvas() {
        return this.canvas;
    }


    //éæ°è®¾ç½®ç¸æºä½ç½®
    locationCamera() {
        let map = this.map;

        let size = this.getMapSize();
        let scale = map.transform.zoomScale(projection.nativeMaxZoom - map.getZoom() - 1);
        let fovRatio = Math.tan(map.transform.fov / 2 * RADIAN);

        let camera = this.camera;

        //å¾ææ¶ï¼ç¸æºä½ç½®ä½äºZè½´
        let pitch = map.getPitch() * RADIAN;
        let pZ = -scale * size.height / 2 / fovRatio;
        camera.position.z = pZ * Math.cos(pitch);

        let centerPoint = Transform.lngLatToPoint(map.getCenter(), projection.nativeMaxZoom);
        let distance = Math.sin(pitch) * pZ;
        let bearing = map.getBearing() * RADIAN;
        camera.position.x = centerPoint.x + distance * Math.sin(bearing);
        camera.position.y = centerPoint.y - distance * Math.cos(bearing);

        camera.up.set(Math.sin(bearing), -Math.cos(bearing), 0);
        camera.lookAt(new external_function_try_return_THREE_catch_e_return_["Vector3"](centerPoint.x, centerPoint.y, 0));

        camera.updateProjectionMatrix();
    }

    _initContainer() {
        var canvas = this._createCanvas();

        var container = this.container = document.createElement("div");
        if (this._layer._layerId) {
            container.id = this._layer._layerId;
        }
        container.className = "threejs-wrapper";
        container.style.position = "absolute";
        container.style.left = "0px";
        container.style.top = "0px";
        container.style.overflow = "hidden";
        this._resetElementSize(container);
        container.appendChild(canvas);

        var mapContainer = this.map.getCanvasContainer();
        mapContainer.appendChild(container)
    }

    _createCanvas() {
        if (this.canvas) {
            return;
        }

        const canvas = this.canvas = document.createElement('canvas');
        canvas.className = "threejs-overlay";
        canvas.style.outline = "none";
        this._resetElementSize(canvas);
        return canvas;
    }

    _resetElementSize(element) {
        if (!element) {
            return;
        }
        const size = this.getMapSize();
        const dpr = window.devicePixelRatio ? window.devicePixelRatio : 1;
        const width = dpr * size.width;
        const height = dpr * size.height;

        element.width = width;
        element.height = height;
        element.style.width = size.width + 'px';
        element.style.height = size.height + 'px';
    }

    _initThreeRenderer() {
        let map = this.map;
        let size = this.getMapSize();

        let renderer = this.renderer || 'gl';
        let context;

        if (renderer === 'gl') {
            context = new WebGLRenderer({
                'canvas': this.canvas,
                'alpha': true,
                'antialias': true,
                'preserveDrawingBuffer': true
            }, this.options);
            context.autoClear = true;
            context.clear();
        } else {
            context = new CanvasRenderer(Util_Util.extend({
                'canvas': this.canvas,
                'alpha': true
            }, this.options));
        }
        context.setClearColor(new ThreeLayerRenderer_Color(1, 1, 1), 0);
        context.canvas = this.canvas;
        this.context = context;

        let fov = map.transform.fov;
        let fovRatio = Math.tan(fov / 2 * RADIAN);
        let maxScale = this.getScale(projection.minZoom) / this.getScale(projection.nativeMaxZoom);
        let far = maxScale * size.height / 2 / fovRatio;

        this.camera = new PerspectiveCamera(fov, size.width / size.height, 1, far);
        this.scene = new Scene();
        this.scene.add(this.camera);
    }
}

// CONCATENATED MODULE: ./src/mapboxgl/overlay/threejs/index.js


// CONCATENATED MODULE: ./src/mapboxgl/overlay/ThreeLayer.js
/**
 * reference and modification
 * maptalks.three
 * (https://github.com/maptalks/maptalks.three)
 * Apache Licene 2.0
 * thanks maptalks
 */




const {
    Vector3,
    Shape: ThreeLayer_Shape,
    Mesh,
    BufferGeometry,
    ExtrudeGeometry
} = external_function_try_return_THREE_catch_e_return_;


/**
 * @class mapboxgl.supermap.ThreeLayer
 * @category  Visualization Three
 * @classdesc Three å¾å±ã
 * @param {string} id - å¾å± IDã
 * @param {string} [renderer="gl"] - å¾å±æ¸²ææ¹å¼( canvas æ WebGL )ãåå¼ï¼"gl","canvas"ã
 * @param {object} options - åå§ååæ°ã
 * @param {object} options.threeOptions - threejs æ¸²æå¨åå§ååæ°å¯¹è±¡ãåæ°åå®¹è¯¦è§:
 *          [WebGLRenderer]{@link https://threejs.org/docs/index.html#api/renderers/WebGLRenderer}
 *          [CanvasRenderer]{@link https://threejs.org/docs/index.html#examples/renderers/CanvasRenderer}
 *
 * @extends {mapboxgl.Evented}
 * @example
 * var threeLayer = new mapboxgl.supermap.ThreeLayer('three');
 * //æ¨¡åç»å¶
 * threeLayer.on("initialized", draw);
 * threeLayer.addTo(map);
 *
 * function draw() {
 *    var scene=threeLayer.getScene();
 *    camera=threeLayer.getCamera();
 *    var light = new THREE.PointLight(0xffffff);
 *    camera.add(light);
 *    var material = new THREE.MeshPhongMaterial({color: 0xff0000});
 *    //æ ¹æ®åæ ç¹è½¬æ¢ææ¨¡å
 *    var mesh = this.toThreeMesh(feature.geometry.coordinates, 10, material, true);
 *    //æ¨¡åæ·»å å°3Dåºæ¯
 *    scene.add(mesh);
 * }
 *
 * å å æ¨¡åå¯ä»¥éè¿ä¸¤ç§æ¹å¼ï¼</br>
 *     1.è°ç¨ threeLayer.toThreeMesh ç´æ¥å°å°çåæ è½¬æ¢æ threejs 3D æ¨¡åï¼éç¨äºæ¤åæ¨¡åï¼å¦åå¸å»ºç­ï¼ï¼ç¶åæ·»å å° 3D åºæ¯
 *     2.ä½¿ç¨ ThreeJS çæ¥å£åå»ºå¥½ Mesh,ç¶åè°ç¨ threeLayer.setPosition è®¾ç½®å°çä½ç½®ï¼ç¶åæ·»å å° 3D åºæ¯
 *
 */
class ThreeLayer_ThreeLayer extends external_mapboxgl_default.a.Evented {

    //options.threeOptionsæ¯åå§åthreejs rendererçåæ°å¯¹è±¡
    constructor(id, renderer, options) {
        super();
        this._layerId = id;
        this.options = options;
        let threeOptions = options && options.threeOptions;
        this.renderer = new ThreeLayerRenderer_ThreeLayerRenderer(this, renderer, threeOptions);
    }

    /**
     * @function mapboxgl.supermap.ThreeLayer.prototype.toThreeShape
     * @description  åå»º threejs shape å¯¹è±¡ã
     * @param {Array} coordinates - åæ ç¹æ°ç»ã
     * @returns THREE.Shape{@link https://threejs.org/docs/index.html#api/extras/core/Shape} threejs shape å¯¹è±¡ã
     */
    toThreeShape(coordinates) {
        if (!coordinates) {
            return null;
        }
        let center = this.getCoordinatesCenter(coordinates);
        let centerPoint = this.lngLatToPosition(center);
        let outer = coordinates.map(coords => this.lngLatToPosition({
            lng: coords[0],
            lat: coords[1]
        }).sub(centerPoint));

        return new ThreeLayer_Shape(outer);
    }

    /**
     * @function mapboxgl.supermap.ThreeLayer.prototype.toThreeMesh
     * @description åå»º threejs Mesh å¯¹è±¡ãå°å°çåæ è½¬æ¢æ threejs 3D æ¨¡åï¼éç¨äºæ¤åæ¨¡åï¼å¦åå¸å»ºç­ï¼ã
     * @param {Array.<Object>} coordinates - åæ ç¹æ°ç»ã
     * @param {number} amount - é«åº¦ã
     * @param {THREE.Material} material - Threejs æè´¨å¯¹è±¡ãåèï¼[THREE.Material]{@link https://threejs.org/docs/index.html#api/extras/core/Material}
     * @param {boolean} [removeDuplicated] - æ¯å¦ç§»é¤éå¤çåæ ç¹ã
     * @returns {THREE.Mesh} threejs Mesh å¯¹è±¡ãåèï¼[THREE.Mesh]{@link https://threejs.org/docs/index.html#api/objects/Mesh}
     */
    toThreeMesh(coordinates, amount, material, removeDuplicated) {
        if (!coordinates) {
            return null;
        }
        let coords = coordinates;
        if (removeDuplicated) {
            coords = this.removeDuplicatedCoordinates(coordinates)
        }

        let targetAmount = this.distanceToThreeVector3(amount, amount).x;
        let shape = this.toThreeShape(coords);
        let geometry = new ExtrudeGeometry(shape, {
            'amount': targetAmount,
            'bevelEnabled': true
        });
        let bufferGeometry = new BufferGeometry().fromGeometry(geometry);
        let mesh = new Mesh(bufferGeometry, material);
        let center = this.lngLatToPosition(this.getCoordinatesCenter(coords));
        mesh.position.set(center.x, center.y, -targetAmount);
        return mesh;
    }

    /**
     * @function mapboxgl.supermap.ThreeLayer.prototype.addObject
     * @description è®¾ç½®threejs 3D å¯¹è±¡çåæ ï¼ç»çº¬åº¦ï¼ã
     * @param {THREE.Object3D} object3D - threejs 3D å¯¹è±¡ãåèï¼[THREE.Object3D]{@link https://threejs.org/docs/index.html#api/core/Object3D}åå­ç±»å¯¹è±¡ã
     * @param {(Array.<number>|Object)} coordinate - æ·»å ç three å¯¹è±¡åæ ï¼ç»çº¬åº¦ï¼ã
     * @returns {this} this
     */
    addObject(object3D, coordinate) {
        if (coordinate && object3D) {
            this.setPosition(object3D, coordinate);
        }
        this.renderer && this.renderer.scene.add(object3D);
    }

    /**
     * @function mapboxgl.supermap.ThreeLayer.prototype.getScene
     * @description è·åthreejs åºæ¯å¯¹è±¡
     * @returns {THREE.Scene} threejs åºæ¯å¯¹è±¡,åèï¼[THREE.Scene]{@link https://threejs.org/docs/index.html#api/scenes/Scene}
     */
    getScene() {
        return this.renderer.scene;
    }

    /**
     * @function mapboxgl.supermap.ThreeLayer.prototype.getCamera
     * @description è·åthreejs ç¸æºã
     * @returns {THREE.Camera} threejs ç¸æºãåèï¼[THREE.Camera]{@link https://threejs.org/docs/index.html#api/cameras/Camera}
     */
    getCamera() {
        return this.renderer.camera;
    }

    /**
     * @function mapboxgl.supermap.ThreeLayer.prototype.getThreeRenderer
     * @description è·å threejs rendererã
     * @returns {THREE.WebGLRenderer|THREE.CanvasRenderer} threejs rendererãåèï¼
     *                      [THREE.WebGLRenderer]{@link https://threejs.org/docs/index.html#api/renderers/WebGLRenderer}/
     *                      [THREE.CanvasRenderer]{@link https://threejs.org/docs/index.html#examples/renderers/CanvasRenderer}
     */
    getThreeRenderer() {
        return this.renderer.context;
    }

    // /**
    //  * @function mapboxgl.supermap.ThreeLayer.prototype.getObject
    //  * @description æ ¹æ®æ¡ä»¶è·åæ·»å å°åºæ¯ä¸­çå¯¹è±¡
    //  * @return {THREE.Object3D} threejs 3Då¯¹è±¡ãåèï¼[THREE.Object3D]{@link https://threejs.org/docs/index.html#api/core/Object3D}åå­ç±»å¯¹è±¡
    //  */
    // getObject(conditions) {
    //     if(!conditions){
    //         return;
    //     }
    //     var scene = this.getScene();
    //     var objects = scene.children;
    //     for(let obj of objects ){
    //         for(let condition of conditions ){
    //                 obj[condition]
    //         }
    //     }
    // }


    /**
     * @function mapboxgl.supermap.ThreeLayer.prototype.clearMesh
     * @description æ¸é¤ææ threejs mesh å¯¹è±¡ã
     * @returns {this} this å¯¹è±¡ã
     */
    clearMesh() {
        let scene = this.renderer.scene;
        if (!scene) {
            return this;
        }
        for (let i = scene.children.length - 1; i >= 0; i--) {
            if (scene.children[i] instanceof external_function_try_return_THREE_catch_e_return_["Mesh"]) {
                scene.remove(scene.children[i]);
            }
        }
        return this;
    }

    /**
     * @function mapboxgl.supermap.ThreeLayer.prototype.clearAll
     * @description æ¸é¤ææ threejs å¯¹è±¡ã
     * @param {boolean} clearCamera - æ¯å¦åæ¶æ¸é¤ç¸æºã
     * @returns {this} this å¯¹è±¡ã
     */
    clearAll(clearCamera) {
        let scene = this.renderer.scene;
        if (!scene) {
            return this;
        }
        for (let i = scene.children.length - 1; i >= 0; i--) {
            if (!clearCamera && scene.children[i] instanceof external_function_try_return_THREE_catch_e_return_["Camera"]) {
                continue;
            }
            scene.remove(scene.children[i]);
        }
        return this;
    }

    /**
     * @function mapboxgl.supermap.ThreeLayer.prototype.setPosition
     * @description è®¾ç½® threejs 3D å¯¹è±¡çåæ ï¼ç»çº¬åº¦ï¼ã
     * @param {THREE.Object3D} object3D - threejs 3D å¯¹è±¡ï¼åèï¼[THREE.Object3D]{@link https://threejs.org/docs/index.html#api/core/Object3D}åå­ç±»å¯¹è±¡ã
     * @param {(Array.<number>|Object)} coordinate - æ·»å ç three å¯¹è±¡åæ ï¼ç»çº¬åº¦ï¼ã
     * @returns {this} this å¯¹è±¡ã
     */
    setPosition(object3D, coordinate) {
        if (!object3D || !coordinate) {
            return this;
        }

        var pos = this.lngLatToPosition(coordinate);
        object3D.position.set(pos.x, pos.y, pos.z);
        return this;
    }


    /**
     * @function mapboxgl.supermap.ThreeLayer.prototype.lngLatToPosition
     * @description ç»çº¬åº¦è½¬threejs 3D å¤±éå¯¹è±¡ã
     * @param {(Array.<number>|Object)} lngLat - ç»çº¬åº¦åæ ã
     * @returns {THREE.Vector3} threejs 3D å¤±éå¯¹è±¡ãåèï¼[THREE.Vector3]{@link https://threejs.org/docs/index.html#api/math/Vector3}
     */
    lngLatToPosition(lngLat) {
        let zoom = Transform.projection.nativeMaxZoom;
        let point = Transform.lngLatToPoint(lngLat, zoom);
        return new Vector3(point.x, point.y, -0);
    }

    /**
     * @function mapboxgl.supermap.ThreeLayer.prototype.distanceToThreeVector3
     * @description è®¡ç®è·ç¦»æå®åæ ç»å®è·ç¦»çæ°åæ ç threejs 3D å¤±éå¯¹è±¡ã
     * @param {number} x - x è½´è·ç¦»,åä½ç±³ã
     * @param {number} y - y è½´è·ç¦»,åä½ç±³ã
     * @param {(Array.<number>|Object)} lngLat - æºåæ ã
     * @returns {THREE.Vector3} ç®æ ç¹ç threejs 3D å¤±éå¯¹è±¡ãåèï¼[THREE.Vector3]{@link https://threejs.org/docs/index.html#api/math/Vector3}
     */
    distanceToThreeVector3(x, y, lngLat) {
        let map = this._map;

        let center = lngLat || map.getCenter(),
            maxZoom = Transform.projection.nativeMaxZoom,
            targetLngLat = Transform.locate(center, x, y);

        let point1 = Transform.lngLatToPoint(center, maxZoom),
            point2 = Transform.lngLatToPoint(targetLngLat, maxZoom);

        let targetX = Math.abs(point2.x - point1.x) * Math.sign(x);
        let targetY = Math.abs(point2.y - point1.y) * Math.sign(y);
        return new Vector3(targetX, targetY, 0);
    }

    /**
     * @function mapboxgl.supermap.ThreeLayer.prototype.removeDuplicatedCoordinates
     * @description ç§»é¤æ°ç»ä¸­çéå¤åæ ã
     * @param {(Array.<Array.<number>>)} coordinates - åæ æ°ç»ã
     * @returns {(Array.<Array.<number>>)} æ°çåæ æ°ç»ã
     */
    removeDuplicatedCoordinates(coordinates) {
        function equals(point1, point2) {
            return point1[0] === point2[0] && point1[1] === point2[1]
        }

        let coords = [].concat(coordinates);
        let length = coords.length;
        for (let i = length - 1; i >= 1; i--) {
            if (equals(coords[i], coords[i - 1])) {
                coords.splice(i, 1);
            }
        }

        let isClose = equals(coords[0], coords[coords.length - 1]);
        isClose && coords.splice(coords.length - 1, 1);
        return coords;
    }

    /**
     * @function mapboxgl.supermap.ThreeLayer.prototype.getCoordinatesCenter
     * @description è·åç»å®åæ æ°ç»çä¸­å¿åæ ã
     * @param {(Array.<Array.<number>>)} coordinates - åæ æ°ç»ã
     * @returns {Object} åå«ç»çº¬åº¦çåæ å¯¹è±¡ã
     */
    getCoordinatesCenter(coordinates) {
        let sumX = 0, sumY = 0, count = 0;
        let i = 0, len = coordinates.length;
        for (; i < len; i++) {
            if (coordinates[i]) {
                sumX += coordinates[i][0];
                sumY += coordinates[i][1];
                count++;
            }
        }
        return {
            lng: sumX / count,
            lat: sumY / count
        };
    }

    /**
     * @function mapboxgl.supermap.ThreeLayer.prototype.addTo
     * @description æ·»å å¾å±å°å°å¾ã
     * @param {Object} map - å°å¾å¯¹è±¡ã
     * @returns {this} this å¯¹è±¡ã
     */
    addTo(map) {
        var me = this;
        me._map = map;
        me.renderer.setMap(map);
        me.renderer.render();
        //three mbgl èå¨(ä»èå¨ç¸æº,ä¸æ§è¡éç»æä½)
        me._map.on('render', this._update.bind(me));
        me._map.on('resize', this._resize.bind(me));

        me.on('render', (function () {
            this.context && this.context.render(this.scene, this.camera);
        }).bind(me.renderer));

        return this;
    }

    /**
     * @function mapboxgl.supermap.ThreeLayer.prototype.getCanvasContainer
     * @description è·å three å¾å±å®¹å¨ã
     * @returns {HTMLElement} three å¾å±çå®¹å¨ã
     */
    getCanvasContainer() {
        return this.renderer.getCanvasContainer();
    }

    /**
     * @function mapboxgl.supermap.ThreeLayer.prototype.getCanvas
     * @description è·å three å¾å±ç»å¸ã
     * @returns {HTMLCanvasElement} three å¾å±ç»å¸ã
     */
    getCanvas() {
        return this.renderer.getCanvas();
    }

    /**
     * @function mapboxgl.supermap.ThreeLayer.prototype.remove
     * @description ç§»é¤å¾å±ã
     */
    remove() {
        let map = this._map, me = this;
        map.off('render', me._update.bind(me));
        map.off('resize', me._resize.bind(me));
        me.renderer.remove();
        me._map = null;
    }

    /**
     * @function mapboxgl.supermap.ThreeLayer.prototype.draw
     * @description æä¾ç»å¤é¨ç threejs æ¨¡åç»å¶æ¥å£ã
     * @param {THREE.WebGLRenderer|THREE.CanvasRenderer} gl - threejs æ¸²æå¨ä¸ä¸æ ãè¯¦æè¯·åèï¼</br>
     *          [WebGLRenderer]{@link https://threejs.org/docs/index.html#api/renderers/WebGLRenderer}/
     *          [CanvasRenderer]{@link https://threejs.org/docs/index.html#examples/renderers/CanvasRenderer}
     * @param {THREE.Scene} scene - threejs åºæ¯å¯¹è±¡ãè¯¦æè¯·åèï¼[THREE.Scene]{@link https://threejs.org/docs/index.html#api/scenes/Scene}
     * @param {THREE.Camera} camera - threejs ç¸æºå¯¹è±¡ãè¯¦æè¯·åèï¼[THREE.Camera]{@link https://threejs.org/docs/index.html#api/cameras/Camera}
     * @returns {this} thiså¯¹è±¡ã
     * @example
     * var threeLayer = new mapboxgl.supermap.ThreeLayer('three');
     * //å¯ä»¥éè¿éå draw å®ç°æ¨¡åç»å¶
     * threeLayer.draw = function (gl, scene, camera) {
     *     //TODO ç»å¶æä½
     * }
     * threeLayer.addTo(map);
     */
    draw(gl, scene, camera) {// eslint-disable-line no-unused-vars
        return this;
    }


    /**
     * @function mapboxgl.supermap.ThreeLayer.prototype.renderScene
     * @description æ¸²æåºæ¯ã
     * @returns {this} this
     */
    renderScene() {
        this.renderer.renderScene();
        /**
         * renderScene äºä»¶ï¼åºæ¯æ¸²æåè§¦åã
         * @event mapboxgl.supermap.ThreeLayer#renderscene
         * @type {Object}
         * @property {string} type  - renderscene
         * @property {Object} target  - layer
         */
        this.fire("renderscene");
        return this;
    }

    _resize() {
        this.renderer.resize();
    }

    _update() {
        /**
         * render äºä»¶ï¼å°å¾æ¸²ææ¶(å°å¾ç¶ææ¹åæ¶)è§¦åã
         * @event mapboxgl.supermap.ThreeLayer#render
         * @type {Object}
         * @property {string} type  - render
         * @property {Object} target  - layer
         */
        this.renderScene();
        this.fire('render');
        return this;
    }
}


external_mapboxgl_default.a.supermap.ThreeLayer = ThreeLayer_ThreeLayer;
// CONCATENATED MODULE: ./src/mapboxgl/overlay/HeatMapLayer.js




/**
 * @class mapboxgl.supermap.HeatMapLayer
 * @classdesc ç­åå¾å±ç±»ã
 * @category  Visualization HeatMap
 * @param {string} name - å¾å±åç§°ã
 * @param {Object} options - æé åæ°ã
 * @param {mapboxgl.Map} options.map - mapboxgl map å¯¹è±¡ã
 * @param {string} options.featureWeight - å¯¹åº feature å±æ§ä¸­çç­ç¹æéå­æ®µåç§°ï¼æéå¼ç±»åä¸º floatã
 * @param {string} [options.id] - ä¸é¢å¾å±IDãé»è®¤ä½¿ç¨ CommonUtil.createUniqueID("HeatMapLayer_") åå»ºä¸é¢å¾å± IDã
 * @param {number} [options.radius=50] - ç­ç¹æ¸²æçæå¤§åå¾ï¼ç­ç¹åç´ åå¾ï¼ï¼åä½ä¸º px,å½ useGeoUnitåæ° ä¸º true æ¶ï¼åä½ä½¿ç¨å½åå¾å±å°çåæ åä½ãç­ç¹æ¾ç¤ºçæ¶åä»¥ç²¾ç¡®ç¹ä¸ºä¸­å¿ç¹å¼å§å¾åå¨è¾å°è¡°åï¼å¶è¡°ååå¾åæéå¼ææ¯åã
 * @param {boolean} [options.loadWhileAnimating=true] - æ¯å¦å®æ¶éç»ã(å½ç»å¶å¤§æ°æ®éè¦ç´ çæåµä¸ä¼åºç°å¡é¡¿ï¼å»ºè®®æè¯¥åæ°è®¾ä¸ºfalse)ã
 * @param {number} [options.opacity=1] - å¾å±éæåº¦ã
 * @param {Array.<string>} [options.colors=['blue','cyan','lime','yellow','red']] - é¢è²çº¿æ§æ¸åæ°ç»,é¢è²å¼å¿é¡»ä¸ºcanvasææ¯ã
 * @param {boolean} [options.useGeoUnit=false] - ä½¿ç¨å°çåä½ï¼å³é»è®¤ç­ç¹åå¾é»è®¤ä½¿ç¨åç´ åä½ã å½è®¾ç½®ä¸º true æ¶ï¼ç­ç¹åå¾åå¾å±å°çåæ ä¿æä¸è´ã
 * @extends {mapboxgl.Evented}
 */
class HeatMapLayer_HeatMapLayer extends external_mapboxgl_default.a.Evented {

    constructor(name, options) {
        super();

        var _options = options ? options : {};
        /**
         * @member {string} mapboxgl.supermap.HeatMapLayer.prototype.name
         * @description å¾å±åå­ã
         */
        this.name = name;

        /**
         * @member {string} mapboxgl.supermap.HeatMapLayer.prototype.id
         * @description ç­åå¾å¾å± idã
         */
        this.id = _options.id ? _options.id : Util_Util.createUniqueID("HeatMapLayer_");

        /**
         * @member {mapboxgl.Map} mapboxgl.supermap.HeatMapLayer.prototype.map
         * @description ç­åå¾å¾å± mapã
         */
        this.map = _options.map ? _options.map : null;

        /**
         * @member {boolean} [mapboxgl.supermap.HeatMapLayer.prototype.loadWhileAnimating=true]
         * @description æ¯å¦å®æ¶éç»ã(å½ç»å¶å¤§æ°æ®éè¦ç´ çæåµä¸ä¼åºç°å¡é¡¿ï¼å»ºè®®æè¯¥åæ°è®¾ä¸ºfalse)ã
         */
        this.loadWhileAnimating = _options.loadWhileAnimating === undefined ? true : _options.loadWhileAnimating;

        /**
         * @member {boolean} [mapboxgl.supermap.HeatMapLayer.prototype.visibility=true]
         * @description å¾å±æ¾ç¤ºç¶æå±æ§ã
         */
        this.visibility = true;
        /**
         * @member {number} [mapboxgl.supermap.HeatMapLayer.prototype.opacity=1]
         * @description å¾å±éæåº¦ï¼åå¼èå´[0,1]ã
         */
        this.opacity = _options.opacity ? _options.opacity : 1;

        /**
         * @member {Array.<string>} [mapboxgl.supermap.HeatMapLayer.prototype.colors=['blue','cyan','lime','yellow','red']]
         * @description é¢è²çº¿æ§æ¸åæ°ç»,é¢è²å¼å¿é¡»ä¸º canvas ææ¯ã
         */
        this.colors = _options.colors ? _options.colors : ['blue', 'cyan', 'lime', 'yellow', 'red'];

        /**
         * @member {boolean} [mapboxgl.supermap.HeatMapLayer.prototype.useGeoUnit=false]
         * @description ä½¿ç¨å°çåä½ï¼å³é»è®¤ç­ç¹åå¾é»è®¤ä½¿ç¨åç´ åä½ã å½è®¾ç½®ä¸º true æ¶ï¼ç­ç¹åå¾åå¾å±å°çåæ ä¿æä¸è´ã
         */
        this.useGeoUnit = _options.useGeoUnit ? _options.useGeoUnit : false;

        /**
         * @member {number} [mapboxgl.supermap.HeatMapLayer.prototype.radius=50]
         * @description ç­ç¹æ¸²æçæå¤§åå¾ï¼ç­ç¹åç´ åå¾ï¼,
         *              ç­ç¹æ¾ç¤ºçæ¶åä»¥ç²¾ç¡®ç¹ä¸ºä¸­å¿ç¹å¼å§å¾åå¨è¾å°è¡°åï¼
         *              å¶è¡°ååå¾åæéå¼ææ¯åã
         */
        this.radius = _options.radius ? _options.radius : 50;

        /**
         * @member {string} mapboxgl.supermap.HeatMapLayer.prototype.featureWeight
         * @description å¯¹åº feature å±æ§ä¸­çç­ç¹æéå­æ®µåç§°ï¼æéå¼ç±»åä¸º floatã
         * @example
         * //feature.attributesä¸­è¡¨ç¤ºæéçå­æ®µä¸º height,åå¨ HeatMapLayer ç featureWeight åæ°èµå¼ä¸º "height"ã
         * feature1.attributes.height = 7.0;
         * feature2.attributes.height = 6.0;
         * var heatMapLayer = new mapboxgl.supermap.HeatMapLayer("heatmaplayer",{"featureWeight":"height"});
         * heatMapLayer.addFeatures([feature1,feature2]);
         */
        this.featureWeight = _options.featureWeight ? _options.featureWeight : null;

        /**
         * @member {Array.<SuperMap.Feature.Vector>} mapboxgl.supermap.HeatMapLayer.prototype.features
         * @description ç­ç¹ä¿¡æ¯æ°ç»ï¼è®°å½å­å¨å¾å±ä¸æ·»å çææç­ç¹ä¿¡æ¯ã
         */
        this.features = [];

        /**
         * @member {number} mapboxgl.supermap.HeatMapLayer.prototype.maxWeight
         * @description è®¾ç½®æéæå¤§å¼ãå¦æä¸è®¾ç½®æ­¤å±æ§ï¼å°æç§å½åå±å¹èå´åç­ç¹ææ¥æçæéæå¤§å¼ç»å¶ç­ç¹å¾ã
         */
        this.maxWeight = null;

        /**
         * @member {number} mapboxgl.supermap.HeatMapLayer.prototype.minWeight
         * @description è®¾ç½®æéæå°å¼ãå¦æä¸è®¾ç½®æ­¤å±æ§ï¼å°æç§å½åå±å¹èå´åç­ç¹ææ¥æçæéæå°å¼ç»å¶ç­ç¹å¾ã
         */
        this.minWeight = null;

        /**
         * @member mapboxgl.supermap.HeatMapLayer.prototype.EVENT_TYPES
         * @description çå¬ä¸ä¸ªèªå®ä¹äºä»¶å¯ç¨å¦ä¸æ¹å¼:
         *              ç­ç¹å¾èªå®ä¹äºä»¶ä¿¡æ¯ï¼äºä»¶è°ç¨æ¶çå±æ§ä¸å·ä½äºä»¶ç±»åç¸å¯¹åºã
         *
         * All event objects have at least the following properties:
         * {Object} object - A reference to layer.events.object.
         * {DOMElement} element - A reference to layer.events.element.
         *
         * æ¯æçäºä»¶å¦ä¸ (å¦å¤åå« <SuperMap.Layer ä¸­å®ä¹çå¶ä»äºä»¶>):
         * featuresadded - ç­ç¹æ·»å å®ææ¶è§¦åãä¼ éåæ°ä¸ºæ·»å çç­ç¹ä¿¡æ¯æ°ç»åæä½æåä¸å¦ä¿¡æ¯ã
         * åæ°ç±»åï¼{features: features, succeed: succeed}
         * featuresremoved - ç­ç¹è¢«å é¤æ¶è§¦åãä¼ éåæ°ä¸ºå é¤çç­ç¹ä¿¡æ¯æ°ç»åæä½æåä¸å¦ä¿¡æ¯ã
         * åæ°ç±»åï¼{features: features, succeed: succeed}
         * featuresdrawcompleted - ç­ç¹å¾æ¸²æå®ææ¶è§¦åï¼æ²¡æé¢å¤å±æ§ã
         */
        this.EVENT_TYPES = ["featuresadded", "featuresremoved", "featuresdrawcompleted"];

        /**
         * @member {boolean} [mapboxgl.supermap.HeatMapLayer.prototype.supported=false]
         * @description å½åæµè§å¨æ¯å¦æ¯æ canvas ç»å¶ï¼
         *              å³å®äºç­ç¹å¾æ¯å¦å¯ç¨ï¼åé¨å¤æ­ä½¿ç¨ã
         */
        this.supported = false;

        /**
         * @member {Object} mapboxgl.supermap.HeatMapLayer.prototype.rootCanvas
         * @description ç­ç¹å¾ä¸»ç»å¶é¢æ¿ã
         */
        this.rootCanvas = null;

        /**
         * @member {Object} mapboxgl.supermap.HeatMapLayer.prototype.canvasContext
         * @description ç­ç¹å¾ä¸»ç»å¶å¯¹è±¡ã
         */
        this.canvasContext = null;

        /**
         * @member {number} mapboxgl.supermap.HeatMapLayer.prototype.maxWidth
         * @description å½åç»å¶é¢æ¿å®½åº¦ãåå½å map çªå£å®½åº¦ä¸è´ã
         */
        this.maxWidth = null;

        /**
         * @member {number} mapboxgl.supermap.HeatMapLayer.prototype.maxHeight
         * @description å½åç»å¶é¢æ¿å®½åº¦ãåå½å map çªå£é«åº¦ä¸è´ã
         */
        this.maxHeight = null;

    }

    /**
     * @function mapboxgl.supermap.HeatMapLayer.prototype.onAdd
     * @description ååºå¾æ·»å è¯¥å¾å±
     */
    onAdd(map) {
        this.map = map;
        if (this.features.length === 0) {
            return;
        }
        //åå»ºç­åå¾ç»å¶å®¹å¨
        this._createCanvasContainer();

        //ç»å®å¾å±äºä»¶ä¸Mapåæ­¥
        this.map.on('resize', this._resizeEvent.bind(this));
        this.map.on('zoomstart', this._zoomStartEvent.bind(this));
        this.map.on('zoomend', this._zoomEndEvent.bind(this));
        this.map.on('rotatestart', this._rotateStartEvent.bind(this));
        this.map.on('rotate', this._rotateEvent.bind(this));
        this.map.on('rotateend', this._rotateEndEvent.bind(this));
        this.map.on('dragend', this._dragEndEvent.bind(this));
        this.map.on('movestart', this._moveStartEvent.bind(this));
        this.map.on('move', this._moveEvent.bind(this));
        this.map.on('moveend', this._moveEndEvent.bind(this));
        this.map.on('remove', this.removeFromMap.bind(this));
        this.refresh();
    }

    /**
     * @function mapboxgl.supermap.HeatMapLayer.prototype.removeFromMap
     * @description ä»åºå¾å é¤è¯¥å¾å±ã
     */
    removeFromMap() {
        this.removeAllFeatures();
        this.map.getCanvasContainer().removeChild(this.rootCanvas);
    }

    /**
     * @function mapboxgl.supermap.HeatMapLayer.prototype._createCanvasContainer
     * @description åå»ºç­åå¾ç»å¶å®¹å¨ã
     * @private
     */
    _createCanvasContainer() {
        this.supported = true;
        //æå»ºç»å¾é¢æ¿
        this.mapContainer = this.map.getCanvasContainer();
        //ç­ç¹å¾è¦æ±ä½¿ç¨canvasç»å¶ï¼å¤æ­æ¯å¦æ¯æ
        this.rootCanvas = document.createElement("canvas");
        this.rootCanvas.id = this.id;
        var mapCanvas = this.map.getCanvas();
        this.rootCanvas.width = this.maxWidth = parseInt(mapCanvas.width);
        this.rootCanvas.height = this.maxHeight = parseInt(mapCanvas.height);
        Util_Util.modifyDOMElement(this.rootCanvas, null, null, null,
            "absolute", null, null, this.opacity);
        this.canvasContext = this.rootCanvas.getContext('2d');

        this.mapContainer.appendChild(this.rootCanvas);
    }

    /**
     * @function mapboxgl.supermap.HeatMapLayer.prototype.addFeatures
     * @description æ·»å ç­ç¹ä¿¡æ¯ã
     * @param {Object} features - å¾æ·»å çè¦ç´ æ°ç»ï¼æ¯æ GeoJOSN è§èæ°æ®ç±»åã
     *
     * @example
     * var geojson = {
     *      "type": "FeatureCollection",
     *      "features": [
     *          {
     *              "type": "feature",
     *              "geometry": {
     *                  "type": "Point",  //åªæ¯æpointç±»å
     *                  "coordinates": [0, 0]
     *              },
     *              "properties": {
     *                  "height": Math.random()*9,
     *                  "geoRadius": useGeoRadius?radius:null
     *              }
     *          }
     *      ]
     *   };
     * var heatMapLayer = new mapboxgl.supermap.HeatMapLayer("heatmaplayer",{"featureWeight":"height"});                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   pLayer = new mapboxgl.supermap.HeatMapLayer("heatmaplayer",{"featureWeight":"height"});
     * heatMapLayer.addFeatures(geojson);
     * map.addLayer(heatMapLayer);
     */
    addFeatures(features) {
        this.features = this.toiClientFeature(features);
        this.fire(this.EVENT_TYPES[0], {features: features, succeed: true});
        //æ¯ææ´æ°featuresï¼å·æ°åºå¾
        this.refresh();
    }

    /**
     * @function mapboxgl.supermap.HeatMapLayer.prototype.refresh
     * @description å¼ºå¶å·æ°å½åç­ç¹æ¾ç¤ºï¼å¨å¾å±ç­ç¹æ°ç»åçåååè°ç¨ï¼æ´æ°æ¾ç¤ºã
     */
    refresh() {
        if (this.features.length === 0) {
            return;
        }
        if (this.map) {
            var extent = this.map.getBounds();
            this.updateHeatPoints(extent);
        }
    }

    /**
     * @function mapboxgl.supermap.HeatMapLayer.prototype.setOpacity
     * @description è®¾ç½®å¾å±çä¸éæåº¦ï¼åå¼[0-1]ä¹é´ã
     * @param {number} [opacity] - éæåº¦ã
     */
    setOpacity(opacity) {
        if (opacity !== this.opacity) {
            this.opacity = opacity;
            Util_Util.modifyDOMElement(this.rootCanvas, null, null, null,
                null, null, null, opacity);

            if (this.map !== null) {
                this.fire('changelayer', {layer: this, property: "opacity"});
            }
        }
    }

    /**
     * @function mapboxgl.supermap.HeatMapLayer.prototype.updateHeatPoints
     * @description å·æ°ç­ç¹å¾æ¾ç¤ºã
     * @param {mapboxgl.LngLatBounds} bounds - å½åæ¾ç¤ºèå´ã
     */
    updateHeatPoints(bounds) {
        if (this.features && this.features.length > 0) {
            this.convertFastToPixelPoints(bounds);
        } else {
            this.canvasContext.clearRect(0, 0, this.maxWidth, this.maxWidth);
        }
    }

    /**
     * @function mapboxgl.supermap.HeatMapLayer.prototype.convertFastToPixelPoints
     * @description è¿æ»¤ä½äºå½åæ¾ç¤ºèå´åçç­ç¹ï¼å¹¶è½¬æ¢å¶ä¸ºå½ååè¾¨çä¸çåç´ åæ ã
     * @param {mapboxgl.LngLatBounds} bounds - å½åæ¾ç¤ºèå´ã
     * @private
     */
    convertFastToPixelPoints(bounds) {
        var data = [], x, y, k, resolution, maxTemp, minTemp, maxWeightTemp;
        //è·åå½ååç´ ä¸çå°çèå´
        var dw = bounds.getEast() - bounds.getWest();
        var dh = bounds.getNorth() - bounds.getSouth();
        var mapCanvas = this.map.getCanvas();

        if (dw / mapCanvas.width > dh / mapCanvas.height) {
            resolution = dw / mapCanvas.width;
        } else {
            resolution = dh / mapCanvas.height;
        }

        //ç­ç¹åå¾
        this.useRadius = this.useGeoUnit ? parseInt(this.radius / resolution) : this.radius;

        for (var i = 0; i < this.features.length; i++) {
            var feature = this.features[i];
            var point = feature.geometry;

            //å¯éè¿boundsè¿æ»¤éç»å¶çfeaturesä»¥ä¼åæ§è½ï¼ä½mapboxglæè½¬è·åå¾boundsä¸é

            var pixelPoint = this.getPixelXY(new LonLat_LonLat(point.x, point.y));
            if (this.featureWeight) {
                pixelPoint.weight = feature.attributes[this.featureWeight];//point.value;
                if (!this.maxWeight) {
                    //æ¾åºæå¤§æå°æéå¼
                    maxTemp = maxTemp ? maxTemp : pixelPoint.weight;
                    minTemp = minTemp ? minTemp : pixelPoint.weight;
                    maxTemp = Math.max(maxTemp, pixelPoint.weight);
                    minTemp = Math.min(minTemp, pixelPoint.weight);
                }
            } else {
                pixelPoint.weight = 1;
            }

            x = Math.floor(pixelPoint.x);
            y = Math.floor(pixelPoint.y);
            k = pixelPoint.weight;

            data.push([x, y, k]);
        }

        //æ æå¤§æéè®¾ç½®
        if (!this.maxWeight) {
            if (maxTemp && minTemp) {
                maxWeightTemp = (maxTemp + minTemp) / 2;
            } else {
                maxWeightTemp = 1;
            }
            this.draw(data, maxWeightTemp);
        } else {
            this.draw(data, this.maxWeight);
        }

    }

    /**
     * @function mapboxgl.supermap.HeatMapLayer.prototype.draw
     * @description ç»å¶ç­ç¹å¾ã
     * @param {Array} data - convertToPixelPointsæ¹æ³è®¡ç®åºçç¹ã
     * @private
     */
    draw(data, maxWeight) {
        if (this.maxHeight > 0 && this.maxWidth > 0) {
            //æ¸ç©º
            var ctx = this.canvasContext;
            this.canvasContext.clearRect(0, 0, this.maxWidth, this.maxHeight);
            this.drawCircle(this.useRadius);
            this.createGradient();

            for (var i = 0; i < data.length; i++) {
                var p = data[i];
                this.canvasContext.globalAlpha = Math.max(p[2] / maxWeight, 0.05);
                this.canvasContext.drawImage(this.circle, p[0] - this.useRadius, p[1] - this.useRadius);
            }

            var colored = ctx.getImageData(0, 0, this.maxWidth, this.maxHeight);
            this.colorize(colored.data, this.grad);
            ctx.putImageData(colored, 0, 0);
        } else {
            return false;
        }

    }

    /**
     * @function mapboxgl.supermap.HeatMapLayer.prototype.colorize
     * @description æ ¹æ®æ¸åè²éç½®ç­ç¹å¾rgbå¼ã
     * @param {Array} pixels - åç´  RGBA å¼ã
     * @param {Array} gradient - æ¸å canvas.getImageData.dataã
     * @private
     */
    colorize(pixels, gradient) {
        for (var i = 0, j; i < pixels.length; i += 4) {
            j = pixels[i + 3] * 4;
            if (j) {
                pixels[i] = gradient[j];
                pixels[i + 1] = gradient[j + 1];
                pixels[i + 2] = gradient[j + 2];
            }
        }
    }

    /**
     * @function mapboxgl.supermap.HeatMapLayer.drawCircle
     * @description ç»å¶ç­ç¹åå¾åã
     * @param {number} r - ç­ç¹åå¾ã
     * @private
     */
    drawCircle(r) {
        var blur = r / 2;

        var circle = this.circle = document.createElement('canvas'),
            ctx = circle.getContext("2d");

        circle.height = 2 * r;
        circle.width = 2 * r;
        ctx.shadowOffsetX = ctx.shadowOffsetY = 2 * r;
        ctx.shadowBlur = blur;
        ctx.shadowColor = "#000000";

        ctx.beginPath();
        ctx.arc(-r, -r, r / 2, 0, Math.PI * 2, true);
        ctx.closePath();
        ctx.fill();
    }

    /**
     * @function mapboxgl.supermap.HeatMapLayer.createGradient
     * @description æ ¹æ® this.colors è®¾ç½®æ¸åå¹¶ getImageDataã
     * @private
     */
    createGradient() {
        var colors = this.colors;
        var canvas = document.createElement('canvas'),
            ctx = canvas.getContext("2d"),
            gradient = ctx.createLinearGradient(0, 0, 0, 256);
        canvas.height = 256;
        canvas.width = 1;

        var index = 1;
        for (var i = 0, len = colors.length; i < len; i++) {
            gradient.addColorStop(index / len, colors[i]);
            index++;
        }

        ctx.fillStyle = gradient;
        ctx.fillRect(0, 0, 1, 256);

        this.grad = ctx.getImageData(0, 0, 1, 256).data;
    }


    /**
     * @function mapboxgl.supermap.HeatMapLayer.prototype.getPixelXY
     * @description è½¬æ¢å°çåæ ä¸ºç¸å¯¹äºå½åçªå£å·¦ä¸è§çåç´ åæ ã
     * @param {number} x - ç­ç¹çåç´  x åæ ã
     * @param {number} y - ç­ç¹çåç´  y åæ ã
     */
    getPixelXY(coordinate) {
        var pixelP, map = this.map;
        if (coordinate instanceof Point_Point || coordinate instanceof GeoText_GeoText) {
            let tempPoint = map.project(new external_mapboxgl_default.a.LngLat(coordinate.x, coordinate.y));
            pixelP = {x: parseInt(tempPoint.x), y: parseInt(tempPoint.y)};
        }
        if (coordinate instanceof LonLat_LonLat) {
            let tempPoint = map.project(new external_mapboxgl_default.a.LngLat(coordinate.lon, coordinate.lat));
            pixelP = {x: parseInt(tempPoint.x), y: parseInt(tempPoint.y)};
        }
        return pixelP;
    }

    /**
     * @function mapboxgl.supermap.HeatMapLayer.prototype.toiClientFeature
     * @description è½¬ä¸º iClient è¦ç´ ã
     * @param {Object} features - å¾æ·»å çè¦ç´ æ°ç»ï¼æ¯æ GeoJOSN è§èæ°æ®ç±»åã
     */
    toiClientFeature(features) {
        if (!Util_Util.isArray(features)) {
            features = [features];
        }
        let featuresTemp = [];
        for (let i = 0; i < features.length; i++) {
            if (features[i] instanceof Vector_Vector) {
                // è¥æ¯ GeometryVector ç´æ¥è¿å
                featuresTemp.push(features[i]);
            } else if (["FeatureCollection", "Feature", "Geometry"].indexOf(features[i].type) != -1) {
                //GeoJOSN è§èæ°æ®ç±»å
                let format = new GeoJSON_GeoJSON();
                featuresTemp = featuresTemp.concat(format.read(features[i]));
            } else if (features[i].geometry && features[i].geometry.parts) {
                //iServeræå¡å¨è¿åæ°æ®æ ¼å¼
                featuresTemp.push(ServerFeature_ServerFeature.fromJson(features[i]).toFeature());
            } else {
                throw new Error(`Features[${i}]'s type does not match, please check.`);
            }
        }
        return featuresTemp;
    }

    /**
     * @function mapboxgl.supermap.HeatMapLayer.prototype.removeFeatures
     * @description ç§»é¤æå®çç­ç¹ä¿¡æ¯ã
     * @param {Array.<SuperMap.Feature.Vector>} features - ç­ç¹ä¿¡æ¯æ°ç»ã
     */
    removeFeatures(features) {
        if (!features || features.length === 0 || !this.features || this.features.length === 0) {
            return;
        }
        if (features === this.features) {
            return this.removeAllFeatures();
        }
        if (!(Util_Util.isArray(features))) {
            features = [features];
        }
        var heatPoint, index, heatPointsFailedRemoved = [];
        for (var i = 0, len = features.length; i < len; i++) {
            heatPoint = features[i];
            index = Util_Util.indexOf(this.features, heatPoint);
            //æ¾ä¸å°è§ä¸ºå é¤å¤±è´¥
            if (index === -1) {
                heatPointsFailedRemoved.push(heatPoint);
                continue;
            }
            //å é¤ç­ç¹
            this.features.splice(index, 1);
        }
        var succeed = heatPointsFailedRemoved.length == 0 ? true : false;
        //æ´¾åå é¤featuresæåçäºä»¶
        this.fire(this.EVENT_TYPES[1], {features: heatPointsFailedRemoved, succeed: succeed});
        this.refresh();
    }

    /**
     * @function mapboxgl.supermap.HeatMapLayer.prototype.removeAllFeatures
     * @description ç§»é¤å¨é¨çç­ç¹ä¿¡æ¯ã
     */
    removeAllFeatures() {
        this.features = [];
        this.refresh();
    }

    /**
     * @function mapboxgl.supermap.HeatMapLayer.prototype.moveTo
     * @description å°å¾å±ç§»å¨å°æä¸ªå¾å±ä¹åã
     * @param {string} layerID - å¾æå¥çå¾å±IDã
     * @param {boolean} [before=true] - æ¯å¦å°æ¬å¾å±æå¥å°å¾å± id ä¸º layerID çå¾å±ä¹å(å¦æä¸º false åå°æ¬å¾å±æå¥å°å¾å± id ä¸º layerID çå¾å±ä¹å)ã
     */
    moveTo(layerID, before) {
        var layer = document.getElementById(this.rootCanvas.id);
        before = before !== undefined ? before : true;
        if (before) {
            var beforeLayer = document.getElementById(layerID);
            if (layer && beforeLayer) {
                beforeLayer.parentNode.insertBefore(layer, beforeLayer);
            }
            return;
        }
        var nextLayer = document.getElementById(layerID);
        if (layer) {
            if (nextLayer.nextSibling) {
                nextLayer.parentNode.insertBefore(layer, nextLayer.nextSibling);
                return;
            }
            nextLayer.parentNode.appendChild(layer);
        }
    }

    /**
     * @function mapboxgl.supermap.HeatMapLayer.prototype.setVisibility
     * @description è®¾ç½®å¾å±å¯è§æ§ï¼è®¾ç½®å¾å±çéèï¼æ¾ç¤ºï¼éç»çç¸åºçå¯è§æ è®°ã
     * @param {boolean} [visibility] - æ¯å¦æ¾ç¤ºå¾å±ï¼å½åå°å¾çresolutionå¨æå¤§æå°resolutionä¹é´ï¼ã
     */
    setVisibility(visibility) {
        if (this.rootCanvas && visibility !== this.visibility) {
            this.visibility = visibility;
            this.rootCanvas.style.display = visibility ? "block" : "none";
        }
    }

    //äºä»¶ç»å®
    _resizeEvent() {
        this.mapContainer.style.perspective = this.map.transform.cameraToCenterDistance + 'px';
        var canvas = this.map.getCanvas();
        this.rootCanvas.style.width = canvas.style.width;
        this.rootCanvas.style.height = canvas.style.height;
        this.rootCanvas.width = this.maxWidth = parseInt(canvas.width);
        this.rootCanvas.height = this.maxHeight = parseInt(canvas.height);
        this.refresh();
    }

    _zoomStartEvent() {
        if (this.loadWhileAnimating || !this.visibility) {
            return;
        }
        this.zooming = true;
        this._hide();
    }

    _zoomEndEvent() {
        if (this.loadWhileAnimating || !this.visibility) {
            return;
        }
        this.zooming = false;
        this._show();
    }

    _rotateStartEvent() {
        if (this.loadWhileAnimating || !this.visibility) {
            return;
        }
        this.rotating = true;
    }

    _rotateEvent() {
        if (this.loadWhileAnimating || !this.visibility) {
            return;
        }
        if (this.map.getPitch() !== 0) {
            this._hide();
        }
        this.mapContainer.style.perspective = this.map.transform.cameraToCenterDistance + 'px';
        var tPitch = this.map.getPitch() - this.startPitch;
        var tBearing = -this.map.getBearing() + this.startBearing;
        this.rootCanvas.style.transform = 'rotateX(' + tPitch + 'deg)' + ' rotateZ(' + tBearing + 'deg)'
    }

    _rotateEndEvent() {
        if (this.loadWhileAnimating || !this.visibility) {
            return;
        }
        this.rotating = false;
        this._show();
    }

    _dragEndEvent() {
        if (this.loadWhileAnimating || !this.visibility) {
            return;
        }
        this._hide();
    }

    _moveEndEvent() {
        if (this.loadWhileAnimating || !this.visibility) {
            return;
        }
        this.rootCanvas.style.transform = '';
        this.refresh();
        this._show();
    }

    _moveStartEvent() {
        if (this.loadWhileAnimating || !this.visibility) {
            return;
        }
        this.startPitch = this.map.getPitch();
        this.startBearing = this.map.getBearing();
        var startMovePoint = this.map.project(new external_mapboxgl_default.a.LngLat(0, 0));
        this.startMoveX = startMovePoint.x;
        this.startMoveY = startMovePoint.y;
    }

    _moveEvent() {
        if (this.loadWhileAnimating || !this.visibility) {
            this.refresh();
            return;
        }
        if (this.rotating || this.zooming) {
            return;
        }
        if (this.map.getPitch() !== 0) {
            this._hide();
        }
        this.mapContainer.style.perspective = this.map.transform.cameraToCenterDistance + 'px';
        var tPitch = this.map.getPitch() - this.startPitch;
        var tBearing = -this.map.getBearing() + this.startBearing;
        var endMovePoint = this.map.project(new external_mapboxgl_default.a.LngLat(0, 0));
        var tMoveX = endMovePoint.x - this.startMoveX;
        var tMoveY = endMovePoint.y - this.startMoveY;
        this.rootCanvas.style.transform = 'rotateX(' + tPitch + 'deg)' + ' rotateZ(' + tBearing + 'deg)' + ' translate3d(' + tMoveX + 'px, ' + tMoveY + 'px, 0px)';
    }

    _hide() {
        this.rootCanvas.style.display = 'none';
    }

    _show() {
        this.rootCanvas.style.display = 'block';
    }

}

external_mapboxgl_default.a.supermap.HeatMapLayer = HeatMapLayer_HeatMapLayer;
// CONCATENATED MODULE: ./src/mapboxgl/overlay/DeckglLayer.js






/**
 * @class mapboxgl.supermap.DeckglLayer
 * @category  Visualization DeckGL
 * @classdesc Deckgl é«æçå¾å±ï¼è¯¥å¾å¾å±ä¸ºç»¼åå¾å±ï¼éè¿è¯¥å¾å±å¯åå»º é«æçç¹å¾å±ãè·¯å¾å¾å±ï¼çº¿å¾å±ï¼ãé«æçé¢å¾å±ãæ²çº¿å¾å±ã
 *            æ­£å­è¾¹å½¢å¾å±ï¼èå·¢å¾å±ï¼ãç½æ ¼å¾å±ï¼åªéç»å®ç¸ä¾éç½®ï¼å æ­¤ï¼å¨åå»ºå¾å±ä¹åï¼è¯·ä»ç»éè¯»åæ°éç½®ã
 * @param {string} layerTypeID - é«æçå¾å±ç±»å IDï¼åæ¬ "scatter-plot" é«æçç¹å¾å±ã"path-layer" è·¯å¾å¾å±ï¼çº¿å¾å±ï¼ã
 *                 "polygon-layer" é«æçé¢å¾å±ã "arc-layer" æ²çº¿å¾å±ã"hexagon-layer" æ­£å­è¾¹å½¢å¾å±ï¼èå·¢å¾å±ï¼ã"screen-grid-layer" ç½æ ¼å¾å±ã
 * @param {Object} options -  å¾å±éç½®é¡¹ï¼åæ¬ä»¥ä¸åæ°ï¼
 * @param {Array.<Object>} options.data - å¾å±æ°æ®,æ¯æ GeoJOSN è§èæ°æ®ç±»åã
 * @param {Object} options.callback - deckgl å¾å±åè°å½æ°éç½®é¡¹ã
 * @param {Object} [options.layerId] - DeckglLayer å¾å± Dom åç´  IDãé»è®¤ä½¿ç¨ CommonUtil.createUniqueID("graphicLayer_" + this.layerTypeID + "_") åå»ºä¸é¢å¾å± IDã
 * @param {Object} options.props - deckgl å¾å±éç½®é¡¹, å¨è¯¥åæ°ä¸éç½®å¾å±éç½®é¡¹ï¼
 * @param {number} [options.props.opacity=1] - å¬å±éç½®é¡¹ï¼å¾å±éæåº¦ã
 * @param {boolean} [options.props.pickable=false] - å¬å±éç½®é¡¹ï¼æ¯å¦ååºé¼ æ äºä»¶ï¼é¼ æ ç¹å»ï¼é¼ æ æ»å¨)ã
 * @param {function} [options.props.autoHighlight=false] - å¬å±éç½®é¡¹ï¼é¼ æ æ»å¨é«äº®è¦ç´ ã
 * @param {function} [options.props.highlightColor=[0, 0, 128, 128]] - å¬å±éç½®é¡¹ï¼é¼ æ æ»å¨é«äº®é¢è²ã
 * @param {function} [options.props.onClick] - å¬å±éç½®é¡¹ï¼é¼ æ ç¹å»äºä»¶ã
 * @param {function} [options.props.onHover] - å¬å±éç½®é¡¹ï¼é¼ æ æ»å¨äºä»¶ã
 * @param {number} [options.props.radiusScale=1] - "scatter-plot" éç½®é¡¹ï¼æ£ç¹åå¾æ¯ä¾ã
 * @param {boolean} [options.props.outline=false] - "scatter-plot" éç½®é¡¹ï¼æ¯å¦è¾¹çº¿æ¾ç¤ºã
 * @param {number} [options.props.strokeWidth=1]  - "scatter-plot" éç½®é¡¹ï¼è¾¹çº¿å®½åº¦ã
 * @param {number} [options.props.radiusMinPixels=0] - "scatter-plot" éç½®é¡¹ï¼åå¾æå°åç´ å¼ã
 * @param {number} [options.props.radiusMaxPixels=Number.MAX_SAFE_INTEGER]  - "scatter-plot" éç½®é¡¹ï¼åå¾æå¤§åç´ å¼ã
 * @param {boolean} [options.props.fp64=false] - "scatter-plot" éç½®é¡¹ï¼å¦åºä»¥é«ç²¾åº¦64ä½æ¨¡å¼åç°å¾å±ã
 * @param {boolean} options.props.lightSettings - å¬å±éç½®é¡¹ï¼åç§ï¼åå«ä»¥ä¸å ä¸ªéç½®ï¼
 * @param {number} [options.props.lightSettings.numberOfLights=1]  - åç§éç½®é¡¹ï¼åç§å¼,æå¤§å¼ä¸º `5`ã
*  @param {Array} options.props.lightSettings.lightsPosition - åç§éç½®é¡¹ï¼æå®ä¸º`[xï¼yï¼z]`çåå¨å¹³é¢éµåä¸­çä½ç½®`, å¨ä¸ä¸ªå¹³é¢éµåã é¿åº¦åºè¯¥æ¯ `3 x numberOfLights`ã
*  @param {Array} options.props.lightSettings.lightsStrength - åç§éç½®é¡¹ï¼å¹³é¢éµåä¸­æå®ä¸ºâ[xï¼y]`çç¯çå¼ºåº¦ã é¿åº¦åºè¯¥æ¯`2 x numberOfLights`ã
*  @param {number} [options.props.lightSettings.coordinateSystem=COORDINATE_SYSTEM.LNGLAT]  - åç§éç½®é¡¹ï¼æå®ç¯ä½ç½®çåæ ç³»ã
*  @param {number} [options.props.lightSettings.coordinateOrigin=[0, 0, 0]] - åç§éç½®é¡¹ï¼æå®ç¯ä½ç½®çåæ åç¹ã
*  @param {number} [options.props.lightSettings.modelMatrix] - åç§éç½®é¡¹ï¼åä½ç½®çåæ¢ç©éµã
*  @param {number} [options.props.lightSettings.ambientRatio=0.4] - åç§éç½®é¡¹ï¼åç§çç¯å¢æ¯ä¾ã
*  @param {number} [options.props.lightSettings.diffuseRatio=0.6] - åç§éç½®é¡¹ï¼åçæ¼«åå°çã
*  @param {number} [options.props.lightSettings.specularRatio=0.8] - åç§éç½®é¡¹ï¼åçéé¢åå°çã
 * @param {number} [options.props.widthScale=1] - "path-layer" éç½®é¡¹ï¼çº¿å®½æ¯ä¾ã
 * @param {number} [options.props.widthMinPixels=0] - "path-layer" éç½®é¡¹ï¼çº¿å®½æå°åç´ å¼ã
 * @param {number} [options.props.widthMaxPixels=Number.MAX_SAFE_INTEGER] - "path-layer" éç½®é¡¹ï¼çº¿å®½æå¤§åç´ å¼ã
 * @param {boolean} [options.props.rounded=false] - "path-layer" éç½®é¡¹ï¼èç¹æ¯å¦ç»å¶ä¸ºå¼§å½¢ã
 * @param {number} [options.props.miterLimit=4] - "path-layer" éç½®é¡¹ï¼èç¹ç¸å¯¹äºçº¿å®½çæå¤§èå´,ä»å¨ rounded ä¸º false æ¶ææï¼
 * @param {boolean} [options.props.fp64=false] - "path-layer" éç½®é¡¹ï¼å¦åºä»¥é«ç²¾åº¦64ä½æ¨¡å¼åç°å¾å±ã
 * @param {boolean} [options.props.dashJustified=false] - "path-layer" éç½®é¡¹ï¼æ¯å¦èçº¿å½¢å¼æ¾ç¤ºï¼ä»å¨ getDashArray() åè°å½æ°è¢«æå®æ¶ææã
 * @param {boolean} [options.props.filled=true] - "polygon-layer" éç½®é¡¹ï¼æ¯å¦å¡«åé¢ã
 * @param {boolean} [options.props.stroked=true] - "polygon-layer" éç½®é¡¹ï¼æ¯å¦ç»å¶è¾¹çº¿ã
 * @param {boolean} [options.props.extruded=false] - "polygon-layer" éç½®é¡¹ï¼æ¯å¦æä¼¸å»ºç­ã
 * @param {boolean} [options.props.wireframe=false] - "polygon-layer" éç½®é¡¹ï¼å½é¢è¢«æä¼¸ä¸ºå»ºç­æ¶ï¼æ¯å¦æç»å»ºç­ç©è¾¹çº¿ã
 * @param {boolean} [options.props.elevationScale=1] - "polygon-layer" éç½®é¡¹ï¼æµ·ææ¯ä¾ã
 * @param {boolean} [options.props.lineWidthScale=1] - "polygon-layer" éç½®é¡¹ï¼çº¿å®½æ¯ä¾ã
 * @param {boolean} [options.props.lineWidthMinPixels=0] - "polygon-layer" éç½®é¡¹ï¼çº¿å®½æå°åç´ å¼ã
 * @param {boolean} [options.props.lineWidthMaxPixels=Number.MAX_SAFE_INTEGER] - "polygon-layer" éç½®é¡¹ï¼çº¿å®½æå¤§åç´ å¼ã
 * @param {boolean} [options.props.lineJointRounded=false] - "polygon-layer" éç½®é¡¹ï¼èç¹æ¯å¦ç»å¶ä¸ºå¼§å½¢ã
 * @param {boolean} [options.props.lineMiterLimit=4] - "polygon-layer" éç½®é¡¹ï¼èç¹ç¸å¯¹äºçº¿å®½çæå¤§èå´ï¼ä»å¨ lineJointRounded ä¸º false æ¶ææã
 * @param {boolean} [options.props.lineDashJustified=false] - "polygon-layer" éç½®é¡¹ï¼æ¯å¦èçº¿å½¢å¼æ¾ç¤ºï¼ä»å¨ getLineDashArray() åè°å½æ°è¢«æå®æ¶ææã
 * @param {boolean} [options.props.fp64=false] - "polygon-layer" éç½®é¡¹ï¼å¦åºä»¥é«ç²¾åº¦64ä½æ¨¡å¼åç°å¾å±ã
 * @param {boolean} [options.props.fp64=false] - "arc-layer" éç½®é¡¹ï¼å¦åºä»¥é«ç²¾åº¦64ä½æ¨¡å¼åç°å¾å±ã
 * @param {boolean} [options.props.strokeWidth=1] - "arc-layer" éç½®é¡¹ï¼çº¿å®½ã
 * @param {boolean} [options.props.radius=1000] - "hexagon-layer" éç½®é¡¹ï¼å­è¾¹å½¢åå¾å¼ã
 * @param {boolean} [options.props.extruded=false] - "hexagon-layer" éç½®é¡¹ï¼æ¯å¦æä¼¸è¦ç´ ã
 * @param {boolean} options.props.coverage - "hexagon-layer" éç½®é¡¹ï¼å­è¾¹å½¢åå¾ä¹æ°ï¼ä»äº0 - 1ä¹é´ãå­è¾¹å½¢çæç»åå¾éè¿è¦çåå¾è®¡ç®ã æ³¨æï¼è¦çèå´ä¸ä¼å½±ååæ°çåéæ¹å¼ã åéæ¹å¼çåå¾ä»ç±åå¾å±æ§ç¡®å®ï¼
 * @param {boolean} [options.props.upperPercentile=100] - "hexagon-layer" éç½®é¡¹ï¼ç­éç®±å¹¶éè¿upperPercentileéæ°è®¡ç®é¢è²ã é¢è²å¼å¤§äºupperPercentileçå­è¾¹å½¢å°è¢«éèã
 * @param {boolean} [options.props.elevationScale=1] - "hexagon-layer" éç½®é¡¹ï¼é«ç¨ä¹æ°ï¼å®éæµ·æé«åº¦ç± elevationScale * getElevationï¼dï¼è®¡ç®ã elevationScaleæ¯ä¸ä¸ªæ¹ä¾¿çå±æ§ï¼å¯ä»¥å¨ä¸æ´æ°æ°æ®çæåµä¸ç¼©æ¾ææå­è¾¹å½¢ã
 * @param {boolean} options.props.hexagonAggregator  - "hexagon-layer" éç½®é¡¹ï¼
 * @param {boolean} [options.props.colorDomain=false]  - "hexagon-layer" éç½®é¡¹ï¼è²é¶ã
 * @param {boolean} [options.props.colorRange=[[255,255,178,255],[254,217,118,255],[254,178,76,255],[253,141,60,255],[240,59,32,255],[189,0,38,255]]]   - "hexagon-layer" éç½®é¡¹ï¼è²å¸¦ã
 */
class DeckglLayer_DeckglLayer {

    constructor(layerTypeID, options) {
        // Util.extend(defaultProps, options);
        /**
         * @member mapboxgl.supermap.DeckglLayer.prototype.id - {string}
         * @description é«æçç¹å¾å± idã
         */
        this.layerTypeID = layerTypeID;
        /**
         * @member mapboxgl.supermap.DeckglLayer.prototype.graphics - {Array.<mapboxgl.supermap.Graphic>}
         * @description ç¹è¦ç´ å¯¹è±¡æ°ç»ã
         */
        this.data = [].concat(options.data);

        this.props = options.props ? options.props : {};
        this.callback = options.callback ? options.callback : {};

        this.id = options.layerId ? options.layerId : Util_Util.createUniqueID("graphicLayer_" + this.layerTypeID + "_");

        /**
         * @member {boolean} [mapboxgl.supermap.DeckglLayer.prototype.visibility=true]
         * @description å¾å±æ¾ç¤ºç¶æå±æ§ã
         */
        this.visibility = true;

    }

    /**
     * @function mapboxgl.supermap.DeckglLayer.prototype.onAdd
     * @param {mapboxgl.Map} map - Mapbox GL å°å¾å¯¹è±¡ã
     * @return {mapboxgl.supermap.DeckglLayer}
     */
    onAdd(map) {
        this.map = map;
        if (this.canvas) {
            this.mapContainer = this.map.getCanvasContainer();
            this.mapContainer.appendChild(this.canvas);
            return this;
        }
        //åå»ºå¾å±å®¹å¨
        this._initContainer();

        //åå»º deckgl å¾å±
        this._createLayerByLayerTypeID();

        var mapState = this._getState();
        let deckOptions = {};
        for (let key in mapState) {
            deckOptions[key] = mapState[key];
        }
        deckOptions.layers = [this.layer];
        deckOptions.canvas = this.canvas;
        this.deckGL = new window.DeckGL.experimental.DeckGLJS(deckOptions);
        this.map.on('render', this._moveEvent.bind(this));
        this.map.on('resize', this._resizeEvent.bind(this));

        this._draw();
        return this;
    }

    /**
     * @function mapboxgl.supermap.DeckglLayer.prototype.remove
     * @description å é¤è¯¥å¾å±ã
     */
    remove() {
        this.map.off('render', this._moveEvent.bind(this));
        this.map.off('resize', this._resizeEvent.bind(this));
        this.map.getCanvasContainer().removeChild(this.canvas);
    }

    /**
     * @function mapboxgl.supermap.DeckglLayer.prototype.removeFromMap
     * @deprecated
     * @description å é¤è¯¥å¾å±ã
     */
    removeFromMap() {
        this.remove();
        this.clear();
    }

    /**
     * @function mapboxgl.supermap.DeckglLayer.prototype.moveTo
     * @description å°å¾å±ç§»å¨å°æä¸ªå¾å±ä¹åã
     * @param {string} layerID - å¾æå¥çå¾å± IDã
     * @param {boolean} [before=true] - æ¯å¦å°æ¬å¾å±æå¥å°å¾å± id ä¸º layerID çå¾å±ä¹å(å¦æä¸º false åå°æ¬å¾å±æå¥å°å¾å± id ä¸º layerID çå¾å±ä¹å)ã
     */
    moveTo(layerID, before) {
        var layer = document.getElementById(this.id);
        before = before !== undefined ? before : true;
        if (before) {
            var beforeLayer = document.getElementById(layerID);
            if (layer && beforeLayer) {
                beforeLayer.parentNode.insertBefore(layer, beforeLayer);
            }
            return;
        }
        var nextLayer = document.getElementById(layerID);
        if (layer) {
            if (nextLayer.nextSibling) {
                nextLayer.parentNode.insertBefore(layer, nextLayer.nextSibling);
                return;
            }
            nextLayer.parentNode.appendChild(layer);
        }
    }

    /**
     * @function mapboxgl.supermap.DeckglLayer.prototype.setVisibility
     * @description è®¾ç½®å¾å±å¯è§æ§ï¼è®¾ç½®å¾å±çéèï¼æ¾ç¤ºï¼éç»çç¸åºçå¯è§æ è®°ã
     * @param {boolean} [visibility] - æ¯å¦æ¾ç¤ºå¾å±ï¼å½åå°å¾ç resolution å¨æå¤§æå° resolution ä¹é´ï¼ã
     */
    setVisibility(visibility) {
        if (this.canvas && visibility !== this.visibility) {
            this.visibility = visibility;
            this.canvas.style.display = visibility ? "block" : "none";
        }


    }

    /**
     * @function mapboxgl.supermap.DeckglLayer.prototype.setStyle
     * @description è®¾ç½®å¾å±æ´ä½æ ·å¼ã
     * @param {Object} styleOptions - æ ·å¼å¯¹è±¡ã
     * @param {Array.<number>} [styleOptions.color=[0, 0, 0, 255]] - ç¹é¢è²ã
     * @param {number} [styleOptions.radius=10] - ç¹åå¾ã
     * @param {number} [styleOptions.opacity=0.8] - ä¸éæåº¦ã
     * @param {Array}  [styleOptions.highlightColor] - é«äº®é¢è²ï¼ç®ååªæ¯æ rgba æ°ç»ã
     * @param {number} [styleOptions.radiusScale=1] - ç¹æ¾å¤§åæ°ã
     * @param {number} [styleOptions.radiusMinPixels=0] - åå¾æå°å¼(åç´ )ã
     * @param {number} [styleOptions.radiusMaxPixels=Number.MAX_SAFE_INTEGER] - åå¾æå¤§å¼(åç´ )ã
     * @param {number} [styleOptions.strokeWidth=12] - è¾¹æ¡å¤§å°ã
     * @param {boolean} [styleOptions.outline=false] - æ¯å¦æ¾ç¤ºè¾¹æ¡ã
     */
    setStyle(styleOptions) {
        core_Util_Util.extend(this.props, styleOptions);
        this.update();
    }

    /**
     * @function mapboxgl.supermap.DeckglLayer.prototype.setData
     * @description è®¾ç½®ç»å¶çç¹è¦ç´ æ°æ®ï¼ä¼è¦çä¹åçææè¦ç´ ã
     * @param {Array.<Object>}  data - ç¹è¦ç´ å¯¹è±¡æ°ç»ã
     */
    setData(data) {
        this.data = this.data || [];
        this.data.length = 0;
        let dataTemp = !core_Util_Util.isArray(data) ? [data] : [].concat(data);
        //this.layer.props.dataä¸è½è¢«éæ°èµå¼ï¼åªè½å¨åæ°ç»ä¸è¿è¡æä½
        if (!this.layer.props.data) {
            this.layer.props.data = [];
        }
        this.layer.props.data.length = 0;
        for (let i = 0; i < dataTemp.length; i++) {
            this.layer.props.data.push(dataTemp[i]);
        }
        this.data = this.layer.props.data;
        this.update();
    }


    /**
     * @function mapboxgl.supermap.DeckglLayer.prototype.addData
     * @description æ·»å ç¹è¦ç´ ï¼ä¸ä¼è¦çä¹åçè¦ç´ ã
     * @param {Array.<Object>}  data - ç¹è¦ç´ å¯¹è±¡æ°ç»ã
     */
    addData(data) {
        this.data = this.data || [];
        let dataTemp = !core_Util_Util.isArray(data) ? [data] : [].concat(data);
        //this.layer.props.dataä¸è½è¢«éæ°èµå¼ï¼åªè½å¨åæ°ç»ä¸è¿è¡æä½
        if (!this.layer.props.data) {
            this.layer.props.data = [];
        }
        for (let i = 0; i < dataTemp.length; i++) {
            this.layer.props.data.push(dataTemp[i]);
        }
        this.update();
    }

    /**
     * @function mapboxgl.supermap.DeckglLayer.prototype.update
     * @description æ´æ°å¾å±ã
     */
    update() {
        let changeFlags = {
                dataChanged: true,
                propsChanged: true,
                viewportChanged: true,
                updateTriggersChanged: true
            },
            state = this._getState();
        if (this.layerTypeID === "polygon-layer") {
            const subLayers = this.layer.getSubLayers();
            for (let i = 0; i < subLayers.length; i++) {
                subLayers[i].setChangeFlags(changeFlags);
                subLayers[i].setState(state);
            }
            //todo æ æ³è§£éä¸ºä»ä¹ this.layer.setState(state);è¿æ ·ä¸è¡
            this._draw();
            return;
        }
        this.layer.setChangeFlags(changeFlags);
        this.layer.setState(state);
    }

    /**
     * @function mapboxgl.supermap.DeckglLayer.prototype.clear
     * @description éæ¾å¾å±èµæºã
     */
    // todo è¿æåªäºèµæºåºè¯¥è¢«éæ¾ï¼
    clear() {
        this.removeData();
        this.deckGL.finalize();
    }

    /**
     * @function mapboxgl.supermap.DeckglLayer.prototype.removeData
     * @description ç§»é¤ææè¦ç´ ã
     */
    removeData() {
        this.data.length = 0;

        if (this.layer.props.data) {
            this.layer.props.data.length = 0;
        }
        this.update();
    }

    _draw() {
        let deckOptions = this._getState();
        deckOptions.layers = [this.layer];
        deckOptions.canvas = this.canvas;
        this.deckGL.setProps(deckOptions);
    }

    _getState() {
        //è·åå°å¾ä¿¡æ¯æå»ºstate
        let map = this.map;
        let width = parseInt(this.canvas.style.width);
        let height = parseInt(this.canvas.style.height);
        let center = map.getCenter();
        let longitude = center.lng;
        let latitude = center.lat;
        let zoom = map.getZoom();
        let maxZoom = map.getMaxZoom();
        let pitch = map.getPitch();
        let bearing = map.getBearing();

        let mapViewport = {
            width: width,
            height: height,
            longitude: longitude,
            latitude: latitude,
            zoom: zoom,
            maxZoom: maxZoom,
            pitch: pitch,
            bearing: bearing
        };

        let state = {};

        //åé mapViewport
        for (let key in mapViewport) {
            state[key] = mapViewport[key];
        }
        //åé props
        for (let key in this.props) {
            state[key] = this.props[key];
        }
        //æ´è¡æ°æ®
        state.data = this.data;

        return state;
    }

    /**
     * @function mapboxgl.supermap.DeckglLayer.prototype._createLayerByLayerTypeID
     * @description å¤å«å½ååå»ºå¾å±ç±»åã
     * @private
     */
    _createLayerByLayerTypeID() {
        //ç»ä¸å¤çå¬å±å±æ§ï¼
        this.props.data = this.data;
        //æ·»å äºä»¶çå¬
        this.props.pickable = Boolean(this.props.onClick) || Boolean(this.props.onHover);

        //åç±»ååèªä» defaultProps ååºç¸å½¢çåæ°ï¼
        if (this.layerTypeID === "scatter-plot") {
            this.props.id = 'scatter-plot';
            this._createScatterPlotLayer();
        } else if (this.layerTypeID === "path-layer") {
            this.props.id = 'path-layer';
            this._createPathLayer();
        } else if (this.layerTypeID === "polygon-layer") {
            this.props.id = 'polygon-layer';
            this._createPolygonLayer();
        } else if (this.layerTypeID === "arc-layer") {
            this.props.id = 'arc-layer';
            this._createArcLineLayer();
        } else if (this.layerTypeID === "hexagon-layer") {
            this.props.id = 'hexagon-layer';
            this._createHexagonLayer();
        } else {
            throw new Error(this.layerTypeID + " does not support");
        }

    }

    /**
     * @description scatter-plot
     * @private
     */
    _createScatterPlotLayer() {
        //å¤çåè°
        /*  this.props.getPosition = this.callback.getPosition ? this.callback.getPosition : function (point) {
              if (!point) {
                  return [0, 0, 0];
              }
              return point.geometry.coordinates;
          };*/
        var me = this;
        this.props.getPosition = this.callback.getPosition ? this.callback.getPosition : function (point) {
            if (!point) {
                return [0, 0, 0];
            }
            let lngLat = point && point.getLngLat();
            return lngLat && [lngLat.lng, lngLat.lat, 0];
        };
        if (this.callback.getColor) {
            this.props.getColor = this.callback.getColor ? this.callback.getColor : function (point) {
                let style = point && point.getStyle();
                return style && style.color || me.props.color
            };
        }

        if (this.callback.getRadius) {
            this.props.getRadius = this.callback.getRadius ? this.callback.getRadius : function (point) {
                let style = point && point.getStyle();
                return style && style.radius || me.props.radius
            };
        }

        if (this.props.color || this.props.radius) {
            this.props.updateTriggers = {};
            if (this.props.radius) {
                this.props.updateTriggers.getRadius = [this.props.radius];
            }
            if (this.props.color) {
                this.props.updateTriggers.getColor = [this.props.color]
            }

        }

        this.layer = new window.DeckGL.ScatterplotLayer(this.props);
    }

    /**
     * @description path-layer
     * @private
     */
    _createPathLayer() {
        this.props.getPath = this.callback.getPath ? this.callback.getPath : function (feature) {
            return feature.geometry.coordinates;
        };
        //ä»¥ä¸å ä¸ªå½æ°ä¹å¯èµ°é»è®¤å¼
        if (this.callback.getColor) {
            this.props.getColor = this.callback.getColor;
        }
        if (this.callback.getWidth) {
            this.props.getWidth = this.callback.getWidth;
        }
        if (this.callback.getDashArray) {
            this.props.getDashArray = this.callback.getDashArray;
        }

        this.layer = new window.DeckGL.PathLayer(this.props);
    }

    /**
     * @description polygon-layer
     * @private
     */
    _createPolygonLayer() {
        this.props.getPolygon = this.callback.getPolygon ? this.callback.getPolygon : function (feature) {
            return feature.geometry.coordinates;
        };

        //todo æèä¸ççè®©ç¨æ·éè¿ä¹å¤åè°ä¹ï¼æèåå¤æ­ä¸æ°æ®å±æ§éé¢ææ²¡æéç½®çå±æ§å¼ï¼

        if (this.callback.getElevation) {
            this.props.getElevation = this.callback.getElevation;
        }
        if (this.callback.getFillColor) {
            this.props.getFillColor = this.callback.getFillColor;
        }
        if (this.callback.getLineColor) {
            this.props.getLineColor = this.callback.getLineColor;
        }
        if (this.callback.getLineWidth) {
            this.props.getLineWidth = this.callback.getLineWidth;
        }
        this.props.updateTriggers = {};
        this.props.updateTriggers.getColor = this.props.color ? this.props.color : [0, 0, 128, 128];
        this.layer = new window.DeckGL.PolygonLayer(this.props);
    }

    /**
     * @description arc-layer
     * @private
     */
    _createArcLineLayer() {
        //todo ArcLineLayer geojson coordinatesæ°ç»ä¸­åªè½æä¸ä¸ªçº¿æ®µ
        this.props.getSourcePosition = this.callback.getSourcePosition ? this.callback.getSourcePosition : function (feature) {
            if (!feature) {
                return [0, 0, 0];
            }

            return feature.geometry.coordinates[0];
        };
        this.props.getTargetPosition = this.callback.getTargetPosition ? this.callback.getTargetPosition : function (feature) {
            if (!feature) {
                return [0, 0, 0];
            }

            return feature.geometry.coordinates[1];
        };

        if (this.callback.getStrokeWidth) {
            this.props.getStrokeWidth = this.callback.getStrokeWidth;
        }
        if (this.callback.getSourceColor) {
            this.props.getSourceColor = this.callback.getSourceColor;
        }
        if (this.callback.getTargetColor) {
            this.props.getTargetColor = this.callback.getTargetColor;
        }

        this.layer = new window.DeckGL.ArcLayer(this.props);
    }

    /**
     * @description hexagon-layer
     * @private
     */
    _createHexagonLayer() {
        this.props.getPosition = this.callback.getPosition ? this.callback.getPosition : function (feature) {
            if (!feature) {
                return [0, 0, 0];
            }

            return feature.geometry.coordinates;
        };

        if (this.callback.getColorValue) {
            this.props.getColorValue = this.callback.getColorValue;
        }
        if (this.callback.getElevationValue) {
            this.props.getElevationValue = this.callback.getElevationValue;
        }

        this.layer = new window.DeckGL.HexagonLayer(this.props);

    }

    _initContainer() {
        this.canvas = this._createCanvas();
        this.mapContainer = this.map.getCanvasContainer();
        this.mapContainer.appendChild(this.canvas);
    }

    _createCanvas() {
        let canvas = document.createElement('canvas');
        canvas.id = this.id;
        canvas.style.position = 'absolute';
        canvas.style.top = 0 + "px";
        canvas.style.left = 0 + "px";
        canvas.style.cursor = "";
        let map = this.map;
        canvas.width = parseInt(map.getCanvas().style.width);
        canvas.height = parseInt(map.getCanvas().style.height);
        canvas.style.width = map.getCanvas().style.width;
        canvas.style.height = map.getCanvas().style.height;
        return canvas;
    }

    _moveEvent() {
        this._draw();
    }

    _resizeEvent() {
        let canvas = this.canvas;
        let map = this.map;
        canvas.width = parseInt(map.getCanvas().style.width);
        canvas.height = parseInt(map.getCanvas().style.height);
        canvas.style.width = map.getCanvas().style.width;
        canvas.style.height = map.getCanvas().style.height;
        this._draw();
    }

}

external_mapboxgl_default.a.supermap.DeckglLayer = DeckglLayer_DeckglLayer;
// CONCATENATED MODULE: ./src/mapboxgl/overlay/mapv/MapvDataSet.js




var MapvDataSet = {

    /**
     * è¿åmapvç¹æ°æ®é
     */
    getPoint: function (center) {
        if (center && (center instanceof Array)) {
            return new external_function_try_return_mapv_catch_e_return_["DataSet"]([{
                geometry: {
                    type: 'Point',
                    coordinates: center
                }
            }]);
        }
    },

    /**
     * è¿åmapvå¤ç¹æ°æ®é
     */
    getPoints: function (points) {
        if (points && (points instanceof Array)) {
            var mPoints = [];
            points.map(function (data) {
                mPoints.push({
                    geometry: {
                        type: 'Point',
                        coordinates: data.geometry.coordinates
                    }
                });
                return data;
            });
            return new external_function_try_return_mapv_catch_e_return_["DataSet"](mPoints);
        }
    },

    /**
     * è¿åmapvå¼§å½¢çº¿æ°æ®é
     */
    getCurveLines: function (startPoint, LinePoints) {
        if (startPoint && (startPoint instanceof Array) && LinePoints && (LinePoints instanceof Array)) {
            var lineData = [];
            LinePoints.map(function (data) {
                var coords = data.geometry && data.geometry.coordinates;
                var toCenter = {lng: coords[0], lat: coords[1]};
                var fromCenter = {lng: startPoint[0], lat: startPoint[1]};
                var cv = external_function_try_return_mapv_catch_e_return_["utilCurve"].getPoints([fromCenter, toCenter]);
                lineData.push({
                    geometry: {
                        type: 'LineString',
                        coordinates: cv
                    }
                });
                return data;
            });
            return new external_function_try_return_mapv_catch_e_return_["DataSet"](lineData);
        }
    },

    /**
     * è¿åmapvå¼§å½¢å¨æç¹æ°æ®é
     */
    getCurveDynamicPoints: function (center, endPoints) {
        if (center && (center instanceof Array) && endPoints && (endPoints instanceof Array)) {
            var timeData = [];
            endPoints.map(function (data) {
                var coords = data.geometry && data.geometry.coordinates;
                var toCenter = {lng: coords[0], lat: coords[1]};
                var fromCenter = {lng: center[0], lat: center[1]};
                var cv = external_function_try_return_mapv_catch_e_return_["utilCurve"].getPoints([fromCenter, toCenter]);
                for (var j = 0; j < cv.length; j++) {
                    timeData.push({
                        geometry: {
                            type: 'Point',
                            coordinates: cv[j]
                        },
                        time: j
                    });
                }
                return data
            });
            return new external_function_try_return_mapv_catch_e_return_["DataSet"](timeData);
        }
    }
};

external_mapboxgl_default.a.supermap.MapvDataSet = MapvDataSet;
// CONCATENATED MODULE: ./src/mapboxgl/overlay/mapv/MapExtend.js


external_mapboxgl_default.a.supermap = external_mapboxgl_default.a.supermap || {};
external_mapboxgl_default.a.supermap.map = external_mapboxgl_default.a.supermap.map || {};

var getDefaultVectorTileStyle = function (urlTemplate, options) {
    options = options || {};
    var defaultOptions = {};
    defaultOptions.version = options.version || 8;
    defaultOptions.layers = options.layers || [];
    defaultOptions.light = options.light || {
        "anchor": "viewport",
        "color": "#fcf6ef",
        "intensity": 0.5,
        "position": [1.15, 201, 20]
    };

    var style = {
        "version": defaultOptions.version,
        "sources": {
            "vector-tiles": {
                "type": "vector",
                "tiles": [urlTemplate]
            }
        },
        "layers": defaultOptions.layers,
        "light": defaultOptions.light
    };
    if (options.sprite != null) {
        style.sprite = options.sprite;
    }
    if (options.glyphs != null) {
        style.glyphs = options.glyphs;
    }
    return style;
};
var setBackground = function (map, color) {
    if (color && map) {
        map.addLayer({
            "id": "background",
            "type": "background",
            "paint": {
                "background-color": color
            }
        }, "background");
    }
};

var setPaintProperty = function (map, layerIds, type, paint, source, sourceLayers) {
    if (layerIds && map) {
        if (Object.prototype.toString.call(layerIds) !== '[object Array]') {
            layerIds = [layerIds];
        }
        for (var i = 0; i < layerIds.length; i++) {
            var sourceLayer = sourceLayers ? sourceLayers[i] : null;
            var layer = getLayer(layerIds[i], type, source, sourceLayer, paint);
            map.addLayer(layer, layerIds[i]);
            map.moveLayer(layerIds[i]);
        }
    }
};

function getLayer(id, type, source, sourceLayer, paint) {
    var sourceType = source || "vector-tiles";
    var sLayer = sourceLayer || id;
    var layer = {
        "id": id,
        "type": type,
        "source": sourceType,
        "source-layer": sLayer,
        "paint": paint
    };
    return layer;
}


external_mapboxgl_default.a.supermap.map.getDefaultVectorTileStyle = getDefaultVectorTileStyle;
external_mapboxgl_default.a.supermap.map.setBackground = setBackground;
external_mapboxgl_default.a.supermap.map.setPaintProperty = setPaintProperty;
// CONCATENATED MODULE: ./src/mapboxgl/overlay/mapv/index.js



// CONCATENATED MODULE: ./src/mapboxgl/overlay/theme/index.js




// CONCATENATED MODULE: ./src/mapboxgl/overlay/index.js


















// CONCATENATED MODULE: ./src/mapboxgl/services/ServiceBase.js



/**
 * @class mapboxgl.supermap.ServiceBase
 * @category  iServer
 * @description mapboxgl.supermap æå¡åºç±»ã
 * @param {string} url - ä¸å®¢æ·ç«¯äº¤äºçæå¡å°åã 
 * @param {Object} options - å¯éåæ°ã
 * @param {string} [options.proxy] - æå¡ä»£çå°åã
 * @param {SuperMap.ServerType} [options.serverType=SuperMap.ServerType.ISERVER] - æå¡æ¥æº iServer|iPortal|onlineã
 * @param {boolean} [options.withCredentials=false] - è¯·æ±æ¯å¦æºå¸¦ cookieã
 */
class ServiceBase_ServiceBase extends external_mapboxgl_default.a.Evented {

    constructor(url, options) {
        super();
        this.options = options || {};
        this.url = url;
        this.fire('initialized', this);
    }
}

external_mapboxgl_default.a.supermap.ServiceBase = ServiceBase_ServiceBase;
// CONCATENATED MODULE: ./src/mapboxgl/services/AddressMatchService.js





/**
 * @class mapboxgl.supermap.AddressMatchService
 * @category  iServer AddressMatch
 * @classdesc å°åå¹éæå¡ã
 * @example
 * new mapboxgl.supermap.AddressMatchService(url,options)
 * .code(function(result){
 *     //doSomething
 * })
 * @param {string} url - ä¸å®¢æ·ç«¯äº¤äºçæå¡å°åã
 * @param {Object} options - äº¤äºæ¶æéå¯éåæ°ã
 * @param {string} [options.proxy] - æå¡ä»£çå°åã
 * @param {boolean} [options.withCredentials=false] - è¯·æ±æ¯å¦æºå¸¦ cookieã
 * @param {SuperMap.ServerType} [options.serverType=SuperMap.ServerType.ISERVER] - æå¡æ¥æº iServer|iPortal|onlineã
 * @extends {mapboxgl.supermap.ServiceBase}
 */
class services_AddressMatchService_AddressMatchService extends ServiceBase_ServiceBase {
    constructor(url, options) {
        super(url, options);
    }

    /**
     * @function mapboxgl.supermap.AddressMatchService.prototype.code
     * @description è·åæ­£åå°åå¹éç»æã
     * @param {Object} params - æ­£åå¹éåæ°ã
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã
     */
    code(params, callback) {
        var me = this;
        var addressMatchService = new AddressMatchService_AddressMatchService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            }
        });
        addressMatchService.code(me.url + '/geocoding', params);
    }

    /**
     * @function mapboxgl.supermap.AddressMatchService.prototype.decode
     * @description è·åååå°åå¹éç»æã
     * @param {Object} params -ååå¹éåæ°ã
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã
     */
    decode(params, callback) {
        var me = this;
        var addressMatchService = new AddressMatchService_AddressMatchService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            }
        });
        addressMatchService.decode(me.url + '/geodecoding', params);
    }

}

external_mapboxgl_default.a.supermap.AddressMatchService = services_AddressMatchService_AddressMatchService;
// CONCATENATED MODULE: ./src/mapboxgl/services/ChartService.js






/**
 * @class mapboxgl.supermap.ChartService
 * @category  iServer Map Chart
 * @classdesc æµ·å¾æå¡ã
 * @extends {mapboxgl.supermap.ServiceBase}
 * @example
 * new mapboxgl.supermap.ChartService(url)
 *  .queryChart(param,function(result){
 *     //doSomething
 * })
 * @param {string} url - ä¸å®¢æ·ç«¯äº¤äºçæµ·å¾æå¡å°åã
 * @param {Object} options - äº¤äºæ¶æéå¯éåæ°ã
 * @param {string} [options.proxy] - æå¡ä»£çå°åã
 * @param {boolean} [options.withCredentials=false] - è¯·æ±æ¯å¦æºå¸¦ cookieã
 * @param {SuperMap.ServerType} [options.serverType=SuperMap.ServerType.ISERVER] - æå¡æ¥æº iServer|iPortal|onlineã
 */
class ChartService_ChartService extends ServiceBase_ServiceBase {
    constructor(url, options) {
        super(url, options);
    }

    /**
     * @function mapboxgl.supermap.ChartService.prototype.queryChart
     * @description æ¥è¯¢æµ·å¾æå¡ã
     * @param {SuperMap.ChartQueryParameters} params - æµ·å¾æ¥è¯¢æéåæ°ç±»ã
     * @param {RequestCallback} callback åè°å½æ°ã
     * @param {SuperMap.DataFormat} [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»ææ ¼å¼ç±»åã
     */
    queryChart(params, callback, resultFormat) {
        var me = this,
            param = me._processParams(params),
            format = me._processFormat(resultFormat);
        var chartQueryService = new ChartQueryService_ChartQueryService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: format
        });

        chartQueryService.processAsync(param);
    }

    /**
     * @function mapboxgl.supermap.ChartService.prototype.getChartFeatureInfo
     * @description è·åæµ·å¾ç©æ ä¿¡æ¯æå¡ã
     * @param {RequestCallback} callback åè°å½æ°ã
     */
    getChartFeatureInfo(callback) {
        var me = this, url = me.url.concat();
        url += "/chartFeatureInfoSpecs";
        var chartFeatureInfoSpecsService = new ChartFeatureInfoSpecsService_ChartFeatureInfoSpecsService(url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            }
        });
        chartFeatureInfoSpecsService.processAsync();
    }

    _processParams(params) {

        if (!params) {
            return {};
        }
        params.returnContent = (params.returnContent == null) ? true : params.returnContent;
        if (params.filter) {
            params.chartQueryFilterParameters = core_Util_Util.isArray(params.filter) ? params.filter : [params.filter];
        }

        if (params.bounds) {
            if (params.bounds instanceof Array) {
                params.bounds = new Bounds_Bounds(
                    params.bounds[0],
                    params.bounds[1],
                    params.bounds[2],
                    params.bounds[3]
                );
            }
            if (params.bounds instanceof external_mapboxgl_default.a.LngLatBounds) {
                params.bounds = new Bounds_Bounds(
                    params.bounds.getSouthWest().lng,
                    params.bounds.getSouthWest().lat,
                    params.bounds.getNorthEast().lng,
                    params.bounds.getNorthEast().lat
                );
            }

        }

    }

    _processFormat(resultFormat) {
        return (resultFormat) ? resultFormat : DataFormat.GEOJSON;
    }
}

external_mapboxgl_default.a.supermap.ChartService = ChartService_ChartService;
// CONCATENATED MODULE: ./src/mapboxgl/services/DataFlowService.js





/**
 * @class mapboxgl.supermap.DataFlowService
 * @category  iServer DataFlow
 * @classdesc æ°æ®æµæå¡ã
 * @extends {mapboxgl.supermap.ServiceBase}
 * @example
 * new mapboxgl.supermap.DataFlowService(url)
 *  .queryChart(param,function(result){
 *     //doSomething
 * })
 * @param {string} url - ä¸å®¢æ·ç«¯äº¤äºçå®æ¶æ°æ®æå¡å°åã
 * @param {Object} options - å è½½å®æ¶æ°æ®å¯éåæ°ã
 * @param {Array.<Object>} [options.geometry] - è®¾ç½®å¢æ·»çå ä½è¦ç´ å¯¹è±¡æ°ç»ã
 * @param {Object} [options.excludeField] - æé¤å­æ®µã
 */
class services_DataFlowService_DataFlowService extends ServiceBase_ServiceBase {


    constructor(url, options) {
        options = options || {};
        if (options.projection) {
            options.prjCoordSys = options.projection;
        }
        super(url, options);
        this.dataFlow = new DataFlowService_DataFlowService(url, options);
        this.dataFlow.events.on({
            "broadcastSocketConnected": this._defaultEvent,
            "broadcastSocketError": this._defaultEvent,
            "broadcastFailed": this._defaultEvent,
            "broadcastSuccessed": this._defaultEvent,
            "subscribeSocketConnected": this._defaultEvent,
            "subscribeSocketError": this._defaultEvent,
            "messageSuccessed": this._defaultEvent,
            "setFilterParamSuccessed": this._defaultEvent,
            scope: this
        });
        var me = this;
        me.on('subscribeSocketConnected', function (e) {
            me.fire('subscribeSuccessed', e);
        })

    }


    /**
     * @function mapboxgl.supermap.DataFlowService.prototype.initBroadcast
     * @description åå§åå¹¿æ­ã
     * @returns {mapboxgl.supermap.DataFlowService}
     */
    initBroadcast() {
        this.dataFlow.initBroadcast();
        return this;
    }

    /**
     * @function mapboxgl.supermap.DataFlowService.prototype.broadcast
     * @description å è½½å¹¿æ­æ°æ®ã
     * @param {JSON} obj - JSON æ ¼å¼çè¦ç´ æ°æ®ã
     */
    broadcast(obj) {
        this.dataFlow.broadcast(obj);
    }

    /**
     * @function mapboxgl.supermap.DataFlowService.prototype.initSubscribe
     * @description åå§åè®¢éæ°æ®ã
     */
    initSubscribe() {
        this.dataFlow.initSubscribe();
        return this;
    }


    /**
     * @function mapboxgl.supermap.DataFlowService.prototype.setExcludeField
     * @description è®¾ç½®æé¤å­æ®µã
     * @param {Object} excludeField - æé¤å­æ®µã
     */
    setExcludeField(excludeField) {
        this.dataFlow.setExcludeField(excludeField);
        this.options.excludeField = excludeField;
        return this;
    }

    /**
     * @function mapboxgl.supermap.DataFlowService.prototype.setGeometry
     * @description è®¾ç½®æ·»å çå ä½è¦ç´ æ°æ®ã
     * @param {Array.<Object>} geometry - è®¾ç½®å¢æ·»çå ä½è¦ç´ å¯¹è±¡æ°ç»ã
     */
    setGeometry(geometry) {
        this.dataFlow.setGeometry(geometry);
        this.options.geometry = geometry;
        return this;
    }

    /**
     * @function mapboxgl.supermap.DataFlowService.prototype.unSubscribe
     * @description ç»æè®¢éæ°æ®ã
     */
    unSubscribe() {
        this.dataFlow.unSubscribe();
    }

    /**
     * @function mapboxgl.supermap.DataFlowService.prototype.unBroadcast
     * @description ç»æå è½½å¹¿æ­ã
     */
    unBroadcast() {
        this.dataFlow.unBroadcast();
    }

    _defaultEvent(e) {
        this.fire(e.eventType || e.type, e);
    }
}

external_mapboxgl_default.a.supermap.DataFlowService = services_DataFlowService_DataFlowService;
// CONCATENATED MODULE: ./src/mapboxgl/services/FeatureService.js






/**
 * @class mapboxgl.supermap.FeatureService
 * @category  iServer Data Feature
 * @classdesc è¦ç´ æ°æ®éç±»ãæä¾ï¼ID æ¥è¯¢ï¼èå´æ¥è¯¢ï¼SQL æ¥è¯¢ï¼å ä½æ¥è¯¢ï¼bounds æ¥è¯¢ï¼ç¼å²åºæ¥è¯¢ï¼å°ç©ç¼è¾ã
 * @example
 * new mapboxgl.supermap.FeatureService(url)
 *  .getFeaturesByIDs(param,function(result){
 *     //doSomething
 * })
 * @extends {mapboxgl.supermap.ServiceBase}
 * @param {string} url - è¦ç´ æ°æ®éæå¡å°åã
 * @param {Object} options - åå»ºè¦ç´ æ°æ®éæå¡ç±»å¯éåæ°ã
 * @param {string} [options.proxy] - æå¡ä»£çå°åã
 * @param {boolean} [options.withCredentials=false] - è¯·æ±æ¯å¦æºå¸¦ cookieã
 * @param {SuperMap.ServerType} [options.serverType=SuperMap.ServerType.ISERVER] - æå¡æ¥æº iServer|iPortal|onlineã
 */
class FeatureService_FeatureService extends ServiceBase_ServiceBase {
    constructor(url, options) {
        super(url, options);
    }

    /**
     * @function mapboxgl.supermap.FeatureService.prototype.getFeaturesByIDs
     * @description æ°æ®é ID æ¥è¯¢æå¡ã
     * @param {SuperMap.GetFeaturesByIDsParameters} params - æ¥è¯¢æéåæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @param {SuperMap.DataFormat} [resultFormat=DataFormat.GEOJSON] - è¿åçæ°æ®æ ¼å¼ã
     */
    getFeaturesByIDs(params, callback, resultFormat) {
        var me = this;
        var getFeaturesByIDsService = new GetFeaturesByIDsService_GetFeaturesByIDsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });
        getFeaturesByIDsService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.FeatureService.prototype.getFeaturesByBounds
     * @description æ°æ®é Bounds æ¥è¯¢æå¡ã
     * @param {SuperMap.GetFeaturesByBoundsParameters} params - æ¥è¯¢æéåæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @param {SuperMap.DataFormat} [resultFormat=DataFormat.GEOJSON] - è¿åçæ°æ®æ ¼å¼ã
     */
    getFeaturesByBounds(params, callback, resultFormat) {
        var me = this;
        var getFeaturesByBoundsService = new GetFeaturesByBoundsService_GetFeaturesByBoundsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });
        getFeaturesByBoundsService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.FeatureService.prototype.getFeaturesByBuffer
     * @description æ°æ®é Buffer æ¥è¯¢æå¡ã
     * @param {SuperMap.GetFeaturesByBufferParameters} params - æ¥è¯¢æéåæ°ç±»ã
     * @param {RequestCallback} callback åè°å½æ°ã
     * @param {SuperMap.DataFormat} [resultFormat=DataFormat.GEOJSON] - è¿åçæ°æ®æ ¼å¼ã
     */
    getFeaturesByBuffer(params, callback, resultFormat) {
        var me = this;
        var getFeatureService = new GetFeaturesByBufferService_GetFeaturesByBufferService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });
        getFeatureService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.FeatureService.prototype.getFeaturesBySQL
     * @description æ°æ®é SQL æ¥è¯¢æå¡ã
     * @param {SuperMap.GetFeaturesBySQLParameters} params - æ¥è¯¢æéåæ°ç±»ã
     * @param {RequestCallback} callback åè°å½æ°ã
     * @param {SuperMap.DataFormat} [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçæ°æ®æ ¼å¼ã
     */
    getFeaturesBySQL(params, callback, resultFormat) {
        var me = this;
        var getFeatureBySQLService = new GetFeaturesBySQLService_GetFeaturesBySQLService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });

        getFeatureBySQLService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.FeatureService.prototype.getFeaturesByGeometry
     * @description æ°æ®éå ä½æ¥è¯¢æå¡ç±»ã
     * @param {SuperMap.GetFeaturesByGeometryParameters} params - æ¥è¯¢æéåæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @param {SuperMap.DataFormat} [resultFormat=DataFormat.GEOJSON] - è¿åçæ°æ®æ ¼å¼ã
     */
    getFeaturesByGeometry(params, callback, resultFormat) {
        var me = this;
        var getFeaturesByGeometryService = new GetFeaturesByGeometryService_GetFeaturesByGeometryService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });
        getFeaturesByGeometryService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.FeatureService.prototype.editFeatures
     * @description å°ç©ç¼è¾æå¡ã
     * @param {SuperMap.EditFeaturesParameters} params - æ¥è¯¢æéåæ°ç±»ã
     * @param {RequestCallback} callback åè°å½æ°ã
     */
    editFeatures(params, callback) {
        if (!params || !params.dataSourceName || !params.dataSetName) {
            return;
        }
        var me = this,
            url = me.url,
            dataSourceName = params.dataSourceName,
            dataSetName = params.dataSetName;

        url += "/datasources/" + dataSourceName + "/datasets/" + dataSetName;
        var editFeatureService = new EditFeaturesService_EditFeaturesService(url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                processCompleted: callback,
                processFailed: callback
            }
        });
        editFeatureService.processAsync(me._processParams(params));
    }

    /**
     * @private
     * @description åæ°ç±»åè½¬æ¢ã
     * @param {object} params - æå¡åæ° ã
     * @returns {object} params - è½¬æ¢åçå¯¹æ¥ SuperMap æå¡çåæ°ã
     */
    _processParams(params) {
        if (!params) {
            return {};
        }
        var me = this;
        params.returnContent = (params.returnContent == null) ? true : params.returnContent;
        params.fromIndex = params.fromIndex ? params.fromIndex : 0;
        params.toIndex = params.toIndex ? params.toIndex : -1;
        if (params.bounds) {
            params.bounds = core_Util_Util.toSuperMapBounds(params.bounds);
        }
        if (params.editType) {
            params.editType = params.editType.toLowerCase();
        }

        //mapboxgl geojsonè¦ç´ å¯¹è±¡è½¬ SuperMap Geometry å¯¹è±¡
        if (params.geometry) {
            params.geometry = core_Util_Util.toSuperMapGeometry(params.geometry);
        }
        //editFeatureæå¡åæ°è½¬æ¢,ä¼ å¥åç¬å¾å¯¹è±¡æå¯¹è±¡æ°ç»
        if (params.features) {
            var features = [];
            if (core_Util_Util.isArray(params.features)) {
                params.features.map(function (feature) {
                    features.push(me._createServerFeature(feature));
                    return features;
                });
            } else {
                features.push(me._createServerFeature(params.features));
            }
            params.features = features;
        }
        return params;
    }

    //geoFeatureä¸¥æ ¼æç§ mapboxgl geojsonçç»æ
    _createServerFeature(geoFeature) {
        var feature = {}, fieldNames = [], fieldValues = [];
        var properties = geoFeature.properties;
        for (var key in properties) {
            fieldNames.push(key);
            fieldValues.push(properties[key]);
        }
        feature.fieldNames = fieldNames;
        feature.fieldValues = fieldValues;
        if (geoFeature.id) {
            feature.id = geoFeature.id;
        }
        feature.geometry = core_Util_Util.toSuperMapGeometry(geoFeature);
        return feature;
    }

    _processFormat(resultFormat) {
        return (resultFormat) ? resultFormat : DataFormat.GEOJSON;
    }
}

external_mapboxgl_default.a.supermap.FeatureService = FeatureService_FeatureService;
// CONCATENATED MODULE: ./src/mapboxgl/services/FieldService.js






/**
 * @class mapboxgl.supermap.FieldService
 * @category  iServer Data Field
 * @classdesc å­æ®µæå¡ç±»ã
 * @example
 * new mapboxgl.supermap.FieldService(url).getFields(function(result){
 *     //doSomething
 * });
 * @param {string} url - ä¸å®¢æ·ç«¯äº¤äºçæå¡å°åã
 * @param {Object} options - åæ°ã
 * @param {string} [options.proxy] - æå¡ä»£çå°åã
 * @param {boolean} [options.withCredentials=false] - è¯·æ±æ¯å¦æºå¸¦ cookieã
 * @param {SuperMap.ServerType} [options.serverType=SuperMap.ServerType.ISERVER] - æå¡æ¥æº iServer|iPortal|onlineã
 * @extends {mapboxgl.supermap.ServiceBase}
 */
class FieldService_FieldService extends ServiceBase_ServiceBase {
    constructor(url, options) {
        super(url, options);
    }

    /**
     * @function mapboxgl.supermap.FieldService.prototype.getFields
     * @description å­æ®µæ¥è¯¢æå¡ã
     * @param {SuperMap.FieldParameters} params - å­æ®µä¿¡æ¯æ¥è¯¢åæ°ç±»ã
     * @param {RequestCallback} callback åè°å½æ°ã
     */
    getFields(params, callback) {
        var me = this;
        var getFieldsService = new GetFieldsService_GetFieldsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            datasource: params.datasource,
            dataset: params.dataset
        });
        getFieldsService.processAsync();
    }

    /**
     * @function mapboxgl.supermap.FieldService.prototype.getFieldStatisticsInfo
     * @description å­æ®µç»è®¡æå¡ã
     * @param {SuperMap.FieldStatisticsParameters} params - æ¥è¯¢æéåæ°ç±»ã
     * @param {RequestCallback} callback åè°å½æ°ã
     */
    getFieldStatisticsInfo(params, callback) {
        var me = this,
            fieldName = params.fieldName,
            modes = params.statisticMode;
        if (modes && !core_Util_Util.isArray(modes)) {
            modes = [modes];
        }
        me.currentStatisticResult = {fieldName: fieldName};
        me._statisticsCallback = callback;
        //éå¯¹æ¯ç§ç»è®¡æ¹å¼åå«è¿è¡è¯·æ±
        for (var mode in modes) {
            me.currentStatisticResult[modes[mode]] = null;
            me._fieldStatisticRequest(params.datasource, params.dataset, fieldName, modes[mode]);
        }
    }

    _fieldStatisticRequest(datasource, dataset, fieldName, statisticMode) {
        var me = this;
        var statisticService = new FieldStatisticService_FieldStatisticService(me.url, {
            eventListeners: {
                scope: me,
                processCompleted: me._processCompleted,
                processFailed: me._statisticsCallback
            },
            datasource: datasource,
            dataset: dataset,
            field: fieldName,
            statisticMode: statisticMode
        });
        statisticService.processAsync();
    }

    _processCompleted(fieldStatisticResult) {
        var me = this;
        var getAll = true,
            result = fieldStatisticResult.result;
        if (this.currentStatisticResult) {
            if (null == me.currentStatisticResult[result.mode]) {
                this.currentStatisticResult[result.mode] = result.result;
            }
        }
        for (var mode in me.currentStatisticResult) {
            if (null == me.currentStatisticResult[mode]) {
                getAll = false;
                break;
            }
        }
        if (getAll) {
            me._statisticsCallback({result: me.currentStatisticResult});
        }
    }

}

external_mapboxgl_default.a.supermap.FieldService = FieldService_FieldService;
// CONCATENATED MODULE: ./src/mapboxgl/services/GridCellInfosService.js





/**
 * @class mapboxgl.supermap.GridCellInfosService
 * @category  iServer Data Grid
 * @classdesc æ°æ®æ æ ¼æ¥è¯¢æå¡ã
 * @extends {mapboxgl.supermap.ServiceBase}
 * @example
 * new mapboxgl.supermap.GridCellInfosService(url)
 *  .getGridCellInfos(param,function(result){
 *     //doSomething
 * })
 * @param {string} url - ä¸å®¢æ·ç«¯äº¤äºçå°å¾æå¡å°åãè¯·æ±å°å¾æå¡ï¼URL åºä¸ºï¼</br>
 *                       http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{å°å¾æå¡å}/rest/maps/{å°å¾å}/tempLayersSet/{tempLayerID}/Rivers@World@@World"ã
 * @param {Object} options - æå¡æéå¯éåæ°ã
 * @param {string} [options.proxy] - æå¡ä»£çå°åã
 * @param {boolean} [options.withCredentials=false] - è¯·æ±æ¯å¦æºå¸¦ cookieã
 * @param {SuperMap.ServerType} [options.serverType=SuperMap.ServerType.ISERVER] - æå¡æ¥æº iServer|iPortal|onlineã
 */
class GridCellInfosService_GridCellInfosService extends ServiceBase_ServiceBase {

    constructor(url, options) {
        super(url, options);
    }

    /**
     * @function mapboxgl.supermap.GridCellInfosService.prototype.getGridCellInfos
     * @param {SuperMap.GetGridCellInfosParameters} params - æ¥è¯¢æéåæ°ç±»ã
     * @param {RequestCallback} callback åè°å½æ°ã
     */
    getGridCellInfos(params, callback) {
        if (!params) {
            return null;
        }
        var me = this;
        var gridCellQueryService = new GetGridCellInfosService_GetGridCellInfosService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            }
        });
        gridCellQueryService.processAsync(params);
    }
}

external_mapboxgl_default.a.supermap.GridCellInfosService = GridCellInfosService_GridCellInfosService;
// CONCATENATED MODULE: ./src/mapboxgl/services/LayerInfoService.js





/**
 * @class mapboxgl.supermap.LayerInfoService
 * @category  iServer Map Layer
 * @classdesc å¾å±ä¿¡æ¯æå¡ç±» ã
 * @extends {mapboxgl.supermap.ServiceBase}
 * @example
 * new mapboxgl.supermap.LayerInfoService(url).getLayersInfo(function(result){
 *     //doSomething
 * })
 * @param {string} url - ä¸å®¢æ·ç«¯äº¤äºçå°å¾æå¡å°åãè¯·æ±å°å¾æå¡,URL åºä¸ºï¼</br>
 *                       http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{å°å¾æå¡å}/rest/maps/{å°å¾å}/tempLayersSet/{tempLayerID}/Rivers@World@@World"ã
 * @param {Object} options - æå¡æéå¯éåæ°ã
 * @param {string} [options.proxy] - æå¡ä»£çå°åã
 * @param {boolean} [options.withCredentials=false] - è¯·æ±æ¯å¦æºå¸¦ cookieã
 * @param {SuperMap.ServerType} [options.serverType=SuperMap.ServerType.ISERVER] - æå¡æ¥æº iServer|iPortal|onlineã
 */
class LayerInfoService_LayerInfoService extends ServiceBase_ServiceBase {

    constructor(url, options) {
        super(url, options);
    }

    /**
     * @function mapboxgl.supermap.LayerInfoService.prototype.getLayersInfo
     * @description è·åå¾å±ä¿¡æ¯æå¡ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @returns {mapboxgl.supermap.LayerInfoService} è¿åå¾å±ä¿¡æ¯ç±»ã
     */
    getLayersInfo(callback) {
        var me = this;
        var getLayersInfoService = new GetLayersInfoService_GetLayersInfoService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                processCompleted: callback,
                processFailed: callback
            }
        });
        getLayersInfoService.processAsync();
    }

    /**
     * @function mapboxgl.supermap.LayerInfoService.prototype.setLayerInfo
     * @description è®¾ç½®å¾å±ä¿¡æ¯æå¡ãå¯ä»¥å®ç°ä¸´æ¶å¾å±ä¸­å­å¾å±çä¿®æ¹ã
     * @param {SuperMap.SetLayerInfoParameters} params - è®¾ç½®å¾å±ä¿¡æ¯åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     */
    setLayerInfo(params, callback) {
        if (!params) {
            return;
        }
        var me = this,
            resourceID = params.resourceID,
            tempLayerName = params.tempLayerName,
            layerInfoParams = params.layerInfo;
        if (!resourceID || !tempLayerName) {
            return;
        }
        var url = me.url.concat();
        url += "/tempLayersSet/" + resourceID + "/" + tempLayerName;
        var setLayerInfoService = new SetLayerInfoService_SetLayerInfoService(url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                processCompleted: callback,
                processFailed: callback
            }
        });
        setLayerInfoService.processAsync(layerInfoParams);
    }

    /**
     * @function mapboxgl.supermap.LayerInfoService.prototype.setLayersInfo
     * @description è®¾ç½®å¾å±ä¿¡æ¯æå¡ãå¯ä»¥å®ç°åå»ºæ°çä¸´æ¶å¾å±åå¯¹ç°æä¸´æ¶å¾å±çä¿®æ¹ã
     * @param {SuperMap.SetLayersInfoParameters} params - è®¾ç½®å¾å±ä¿¡æ¯åæ°ç±»,åæ¬ä¸´æ¶å¾å±ã 
     * @param {RequestCallback} callback - åè°å½æ°ã
     */
    setLayersInfo(params, callback) {
        if (!params) {
            return;
        }
        var me = this,
            resourceID = params.resourceID,
            isTempLayers = params.isTempLayers ? params.isTempLayers : false,
            layersInfo = params.layersInfo;
        if ((isTempLayers && !resourceID) || !layersInfo) {
            return;
        }
        var setLayersInfoService = new SetLayersInfoService_SetLayersInfoService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                processCompleted: callback,
                processFailed: callback
            },
            resourceID: resourceID,
            isTempLayers: isTempLayers
        });
        setLayersInfoService.processAsync(layersInfo);
    }

    /**
     * @function mapboxgl.supermap.LayerInfoService.prototype.setLayerStatus
     * @description å­å¾å±æ¾ç¤ºæ§å¶æå¡ãè´è´£å°å­å¾å±æ¾ç¤ºæ§å¶åæ°ä¼ éå°æå¡ç«¯ï¼å¹¶è·åæå¡ç«¯è¿åçå¾å±æ¾ç¤ºç¶æã
     * @param {SuperMap.SetLayerStatusParameters} params - å­å¾å±æ¾ç¤ºæ§å¶åæ°ç±»ã
     * @param {RequestCallback} callback åè°å½æ°ã
     */
    setLayerStatus(params, callback) {
        if (!params) {
            return;
        }
        var me = this;
        var setLayerStatusService = new SetLayerStatusService_SetLayerStatusService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                processCompleted: callback,
                processFailed: callback
            }
        });
        setLayerStatusService.processAsync(params);
    }
}

external_mapboxgl_default.a.supermap.LayerInfoService = LayerInfoService_LayerInfoService;
// CONCATENATED MODULE: ./src/mapboxgl/services/MapService.js





/**
 * @class mapboxgl.supermap.MapService
 * @category  iServer Map
 * @classdesc å°å¾ä¿¡æ¯æå¡ç±»ã
 * @extends {mapboxgl.supermap.ServiceBase}
 * @param {string} url - å°å¾æå¡å°åã
 * @param {Object} options - å°å¾æå¡ä¿¡æ¯ç¸å³åæ°ã 
 * @param {string} [options.proxy] - æå¡ä»£çå°åã
 * @param {boolean} [options.withCredentials=false] - è¯·æ±æ¯å¦æºå¸¦ cookieã
 * @param {SuperMap.ServerType} [options.serverType=SuperMap.ServerType.ISERVER] - æå¡æ¥æº iServer|iPortal|onlineã
 * @example
 * new mapboxgl.supermap.MapService(url)
 *  .getMapInfo(function(result){
 *     //doSomething
 * })
 */
class services_MapService_MapService extends ServiceBase_ServiceBase {

    constructor(url, options) {
        super(url, options);
    }

    /**
     * @function mapboxgl.supermap.MapService.prototype.getMapInfo
     * @description å°å¾ä¿¡æ¯æ¥è¯¢æå¡ã
     * @param {RequestCallback} callback åè°å½æ°ã
     * @returns {mapboxgl.supermap.MapService} è·åæå¡ä¿¡æ¯ã
     */
    getMapInfo(callback) {
        var me = this;
        var getMapStatusService = new MapService_MapService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            }, projection: me.options.projection
        });
        getMapStatusService.processAsync();
    }

    /**
     * @function mapboxgl.supermap.MapService.prototype.getTilesets
     * @description åçåè¡¨ä¿¡æ¯æ¥è¯¢æå¡ã
     * @param {RequestCallback} callback - åè°å½æ° ã
     * @returns {mapboxgl.supermap.MapService} è·åæå¡ä¿¡æ¯ã
     */
    getTilesets(callback) {
        var me = this;
        var tilesetsService = new TilesetsService_TilesetsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            }
        });
        tilesetsService.processAsync();
    }
}

external_mapboxgl_default.a.supermap.MapService = services_MapService_MapService;
// CONCATENATED MODULE: ./src/mapboxgl/services/MeasureService.js





/**
 * @class mapboxgl.supermap.MeasureService
 * @category  iServer Map Measure
 * @classdesc æµéæå¡ã
 * @extends {mapboxgl.supermap.ServiceBase}
 * @param {string} url - æå¡è®¿é®çå°åãå¦ï¼http://localhost:8090/iserver/services/map-world/rest/maps/World+Mapã
 * @param {Object} options - äº¤äºæå¡æ¶æéå¯éåæ°ã 
 * @param {string} [options.proxy] - æå¡ä»£çå°åã
 * @param {boolean} [options.withCredentials=false] - è¯·æ±æ¯å¦æºå¸¦ cookieã
 * @param {SuperMap.ServerType} [options.serverType=SuperMap.ServerType.ISERVER] - æå¡æ¥æº iServer|iPortal|onlineã
 * @param {SuperMap.MeasureMode} [options.measureMode=SuperMap.MeasureMode.DISTANCE] - éç®æ¨¡å¼ï¼åæ¬è·ç¦»éç®æ¨¡å¼åé¢ç§¯éç®æ¨¡å¼ã
 */
class services_MeasureService_MeasureService extends ServiceBase_ServiceBase {

    constructor(url, options) {
        super(url, options);
    }

    /**
     * @function mapboxgl.supermap.MeasureService.prototype.measureDistance
     * @description è·ç¦»æµéã
     * @param {SuperMap.MeasureParameters} params - æµéç¸å³åæ°ç±»ã
     * @param {RequestCallback} callback åè°å½æ°ã
     */
    measureDistance(params, callback) {
        this.measure(params, 'DISTANCE', callback);
    }

    /**
     * @function mapboxgl.supermap.MeasureService.prototype.measureArea
     * @description é¢ç§¯æµéã
     * @param {SuperMap.MeasureParameters} params - æµéç¸å³åæ°ç±»ã
     * @param {RequestCallback} callback åè°å½æ°ã
     */
    measureArea(params, callback) {
        this.measure(params, 'AREA', callback);
    }

    /**
     * @function mapboxgl.supermap.MeasureService.prototype.measure
     * @description æµéã
     * @param {SuperMap.MeasureParameters} params - æµéç¸å³åæ°ç±»ã
     * @param {string} type - æµéç±»åã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @returns {mapboxgl.supermap.MeasureService} æµéæå¡ã
     */
    measure(params, type, callback) {
        var me = this;
        var measureService = new MeasureService_MeasureService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            measureMode: type,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            }
        });
        measureService.processAsync(me._processParam(params));
    }

    _processParam(params) {
        if (params && !(params.geometry instanceof Geometry_Geometry)) {

            params.geometry = core_Util_Util.toSuperMapGeometry(params.geometry);
        }
        return params;

    }

}

external_mapboxgl_default.a.supermap.MeasureService = services_MeasureService_MeasureService;
// CONCATENATED MODULE: ./src/mapboxgl/services/NetworkAnalystService.js






/**
 * @class mapboxgl.supermap.NetworkAnalystService
 * @category  iServer NetworkAnalyst
 * @classdesc ç½ç»åææå¡ç±»ã
 * @extends {mapboxgl.supermap.ServiceBase}
 * @example
 * new mapboxgl.supermap.NetworkAnalystService(url)
 *  .findPath(params,function(result){
 *     //doSomething
 * })
 * @param {string} url - ç½ç»åææå¡å°åãè¯·æ±ç½ç»åææå¡ï¼URLåºä¸ºï¼</br>
 *                       http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{ç½ç»åææå¡å}/rest/networkanalyst/{ç½ç»æ°æ®é@æ°æ®æº}ã
 *                       ä¾å¦: "http://localhost:8090/iserver/services/test/rest/networkanalyst/WaterNet@FacilityNet"ã
 * @param {Object} options - æå¡æéå¯éåæ°ã 
 * @param {string} [options.proxy] - æå¡ä»£çå°åã
 * @param {boolean} [options.withCredentials=false] - è¯·æ±æ¯å¦æºå¸¦ cookieã
 * @param {SuperMap.ServerType} [options.serverType=SuperMap.ServerType.ISERVER] - æå¡æ¥æº iServer|iPortal|onlineã
 */
class NetworkAnalystService_NetworkAnalystService extends ServiceBase_ServiceBase {

    constructor(url, options) {
        super(url, options);
    }

    /**
     * @function mapboxgl.supermap.NetworkAnalystService.prototype.burstPipelineAnalyst
     * @description çç®¡åææå¡:å³å°ç»å®å¼§æ®µæèç¹ä½ä¸ºçç®¡ç¹æ¥è¿è¡åæï¼è¿åå³é®ç»ç¹ ID æ°ç»ï¼æ®éç»ç¹ ID æ°ç»åå¶ä¸ä¸æ¸¸å¼§æ®µ ID æ°ç»ã
     * @param {SuperMap.BurstPipelineAnalystParameters} params - çç®¡åææå¡åæ°ç±»ã
     * @param {RequestCallback} callback åè°å½æ°ã
     */
    burstPipelineAnalyst(params, callback) {
        var me = this;
        var burstPipelineAnalystService = new BurstPipelineAnalystService_BurstPipelineAnalystService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            }
        });
        burstPipelineAnalystService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.NetworkAnalystService.prototype.computeWeightMatrix
     * @description èè´¹ç©éµåææå¡:æ ¹æ®äº¤éç½ç»åæåæ°ä¸­çèè´¹å­æ®µè¿åä¸ä¸ªèè´¹ç©éµãè¯¥ç©éµæ¯ä¸ä¸ªäºç»´æ°ç»ï¼ç¨æ¥å­å¨ä»»æä¸¤ç¹é´çèµæºæ¶èã
     * @param {SuperMap.ComputeWeightMatrixParameters} params - èè´¹ç©éµåææå¡åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     */
    computeWeightMatrix(params, callback) {
        var me = this;
        var computeWeightMatrixService = new ComputeWeightMatrixService_ComputeWeightMatrixService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            }
        });
        computeWeightMatrixService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.NetworkAnalystService.prototype.findClosestFacilities
     * @description æè¿è®¾æ½åææå¡:æå¨ç½ç»ä¸ç»å®ä¸ä¸ªäºä»¶ç¹åä¸ç»è®¾æ½ç¹ï¼æ¥æ¾ä»äºä»¶ç¹å°è®¾æ½ç¹(æä»è®¾æ½ç¹å°äºä»¶ç¹)ä»¥æå°èè´¹è½å°è¾¾çæä½³è·¯å¾ã
     * @param {SuperMap.FindClosestFacilitiesParameters} params - æè¿è®¾æ½åææå¡åæ°ç±»ã
     * @param {RequestCallback} callback åè°å½æ°ã
     * @param {SuperMap.DataFormat} [resultFormat=DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    findClosestFacilities(params, callback, resultFormat) {
        var me = this;
        var findClosestFacilitiesService = new FindClosestFacilitiesService_FindClosestFacilitiesService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });
        findClosestFacilitiesService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.NetworkAnalystService.prototype.streamFacilityAnalyst
     * @description ä¸æ¸¸/ä¸æ¸¸ å³é®è®¾æ½æ¥æ¾èµæºæå¡:æ¥æ¾ç»å®å¼§æ®µæèç¹çä¸æ¸¸/ä¸æ¸¸ä¸­çå³é®è®¾æ½ç»ç¹ï¼è¿åå³é®ç»ç¹ ID æ°ç»åå¶ä¸æ¸¸å¼§æ®µ ID æ°ç»ã
     * @param {SuperMap.FacilityAnalystStreamParameters} params - ä¸æ¸¸/ä¸æ¸¸ å³é®è®¾æ½æ¥æ¾èµæºæå¡åæ°ç±»ã
     * @param {RequestCallback} callback åè°å½æ°ã
     * @param {SuperMap.DataFormat} [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    streamFacilityAnalyst(params, callback, resultFormat) {
        var me = this;
        var facilityAnalystStreamService = new FacilityAnalystStreamService_FacilityAnalystStreamService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });
        facilityAnalystStreamService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.NetworkAnalystService.prototype.findLocation
     * @description éåååºåææå¡ï¼ç¡®å®ä¸ä¸ªæå¤ä¸ªå¾å»ºè®¾æ½çæä½³ææä¼ä½ç½®ã
     * @param {SuperMap.FindLocationParameters} params - éåååºåææå¡åæ°ç±»ã
     * @param {RequestCallback} callback åè°å½æ°ã
     * @param {SuperMap.DataFormat} [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    findLocation(params, callback, resultFormat) {
        var me = this;
        var findLocationService = new FindLocationService_FindLocationService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });
        findLocationService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.NetworkAnalystService.prototype.findPath
     * @description æä½³è·¯å¾åææå¡:å¨ç½ç»æ°æ®éä¸­æå®ä¸äºèç¹ï¼æç§èç¹çéæ©é¡ºåºï¼é¡ºåºè®¿é®è¿äºèç¹ä»èæ±è§£èµ·æ­¢ç¹ä¹é´é»ææå°çè·¯ç»ã
     * @param {SuperMap.FindPathParameters} params - æä½³è·¯å¾åææå¡åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @param {SuperMap.DataFormat} [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    findPath(params, callback, resultFormat) {
        var me = this;
        var findPathService = new FindPathService_FindPathService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });
        findPathService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.NetworkAnalystService.prototype.findTSPPaths
     * @description æè¡ååææå¡:è·¯å¾åæçä¸ç§ï¼å®ä»èµ·ç¹å¼å§ï¼é»è®¤ä¸ºç¨æ·æå®çç¬¬ä¸ç¹ï¼æ¥æ¾è½å¤éåææéç»ç¹ä¸è±è´¹æå°çè·¯å¾ã
     * @param {SuperMap.SuperMap.FindTSPPathsParameters} params - æè¡ååææå¡åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @param {SuperMap.DataFormat} [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    findTSPPaths(params, callback, resultFormat) {
        var me = this;
        var findTSPPathsService = new FindTSPPathsService_FindTSPPathsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });
        findTSPPathsService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.NetworkAnalystService.prototype.findMTSPPaths
     * @description å¤æè¡ååææå¡:ä¹ç§°ä¸ºç©æµééï¼æ¯æå¨ç½ç»æ°æ®éä¸­ï¼ç»å® M ä¸ªééä¸­å¿ç¹å N ä¸ªééç®çå°ï¼Mï¼N ä¸ºå¤§äºé¶çæ´æ°ï¼ãæ¥æ¾ç»æµææçééè·¯å¾ï¼å¹¶ç»åºç¸åºçè¡èµ°è·¯çº¿ã
     * @param {SuperMap.FindMTSPPathsParameters} params - å¤æè¡ååææå¡åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @param {SuperMap.DataFormat} [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    findMTSPPaths(params, callback, resultFormat) {
        var me = this;
        var findMTSPPathsService = new FindMTSPPathsService_FindMTSPPathsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });
        findMTSPPathsService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.NetworkAnalystService.prototype.findServiceAreas
     * @description æå¡åºåææå¡ï¼ä»¥æå®æå¡ç«ç¹ä¸ºä¸­å¿ï¼å¨ä¸å®æå¡èå´åæ¥æ¾ç½ç»ä¸æå¡ç«ç¹è½å¤æä¾æå¡çåºåèå´ã
     * @param {SuperMap.FindServiceAreasParameters} params - æå¡åºåææå¡åæ°ç±»ã
     * @param {RequestCallback} callback åè°å½æ°ã
     * @param {SuperMap.DataFormat} [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    findServiceAreas(params, callback, resultFormat) {
        var me = this;
        var findServiceAreasService = new FindServiceAreasService_FindServiceAreasService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });
        findServiceAreasService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.NetworkAnalystService.prototype.updateEdgeWeight
     * @description æ´æ°è¾¹çèè´¹æéæå¡ã
     * @param {SuperMap.UpdateEdgeWeightParameters} params - æ´æ°è¾¹çèè´¹æéæå¡åæ°ç±»ã
     * @param {RequestCallback} callback åè°å½æ°ã
     */
    updateEdgeWeight(params, callback) {
        var me = this;
        var updateEdgeWeightService = new UpdateEdgeWeightService_UpdateEdgeWeightService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            }
        });
        updateEdgeWeightService.processAsync(params);
    }

    /**
     * @function mapboxgl.supermap.NetworkAnalystService.prototype.updateTurnNodeWeight
     * @description è½¬åèè´¹æéæ´æ°æå¡ã
     * @param {SuperMap.UpdateTurnNodeWeightParameters} params - è½¬åèè´¹æéæ´æ°æå¡åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     */
    updateTurnNodeWeight(params, callback) {
        var me = this;
        var updateTurnNodeWeightService = new UpdateTurnNodeWeightService_UpdateTurnNodeWeightService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            }
        });
        updateTurnNodeWeightService.processAsync(params);
    }

    /**
     * @description ææ Point èè mapboxgl.lnglatãmapboxgl.Pointã[]ä¸ç§å½¢å¼ã
     * @param {Object} params - å¾è½¬æ¢åæ°ã
     * @returns {Object}  
     * @private
     */
    _processParams(params) {
        if (!params) {
            return {};
        }
        var me = this;
        if (params.centers && core_Util_Util.isArray(params.centers)) {
            params.centers.map(function (point, key) {
                params.centers[key] = me._toPointObject(point);
                return params.centers[key];
            });
        }

        if (params.nodes && core_Util_Util.isArray(params.nodes)) {
            params.nodes.map(function (point, key) {
                params.nodes[key] = me._toPointObject(point);
                return params.nodes[key];
            });
        }

        if (params.event) {
            return params.event = me._toPointObject(params.event);
        }

        if (params.facilities && core_Util_Util.isArray(params.facilities)) {
            params.facilities.map(function (point, key) {
                params.facilities[key] = me._toPointObject(point);
                return params.facilities[key];
            });
        }
        if (params.parameter && params.parameter.barrierPoints) {
            var barrierPoints = params.parameter.barrierPoints;
            if (core_Util_Util.isArray(barrierPoints)) {
                barrierPoints.map(function (point, key) {
                    params.parameter[key] = me._toPointObject(point);
                    return params.parameter.barrierPoints[key];
                });
            } else {
                params.parameter.barrierPoints = [(barrierPoints instanceof external_mapboxgl_default.a.LngLat) ? {
                    x: barrierPoints.lng,
                    y: barrierPoints.lat
                } : barrierPoints];
            }
        }
        return params;

    }

    _toPointObject(point) {
        if (core_Util_Util.isArray(point)) {
            return {
                x: point[0],
                y: point[1]
            };
        }
        if (point instanceof external_mapboxgl_default.a.LngLat) {
            return {
                x: point.lng,
                y: point.lat
            };
        }
        return (point instanceof external_mapboxgl_default.a.Point) ? {
            x: point.x,
            y: point.y
        } : point;

    }

    _processFormat(resultFormat) {
        return (resultFormat) ? resultFormat : DataFormat.GEOJSON;
    }
}

external_mapboxgl_default.a.supermap.NetworkAnalystService = NetworkAnalystService_NetworkAnalystService;
// CONCATENATED MODULE: ./src/mapboxgl/services/NetworkAnalyst3DService.js





/**
 * @class mapboxgl.supermap.NetworkAnalyst3DService
 * @category  iServer FacilityAnalyst3D
 * @classdesc 3D ç½ç»åææå¡ç±»ã
 * @extends {mapboxgl.supermap.ServiceBase}
 * @example
 * new mapboxgl.supermap.NetworkAnalyst3DService(url)
 *  .sinksFacilityAnalyst(params,function(result){
 *     //doSomething
 * })
 * @param {string} url - ç½ç»åææå¡å°åãè¯·æ±ç½ç»åææå¡ï¼URLåºä¸ºï¼</br>
 *                        http://{æå¡å¨å°å}:{æå¡ç«¯å£å·}/iserver/services/{ç½ç»åææå¡å}/rest/networkanalyst/{ç½ç»æ°æ®é@æ°æ®æº}ã
 *                        ä¾å¦:"http://localhost:8090/iserver/services/components-rest/rest/networkanalyst/RoadNet@Changchun"ã
 * @param {Object} options - æå¡æéå¯éåæ°ã
 * @param {string} [options.proxy] - æå¡ä»£çå°åã
 * @param {boolean} [options.withCredentials=false] - è¯·æ±æ¯å¦æºå¸¦ cookieã
 * @param {SuperMap.ServerType} [options.serverType=SuperMap.ServerType.ISERVER] - æå¡æ¥æº iServer|iPortal|onlineã
 */
class NetworkAnalyst3DService_NetworkAnalyst3DService extends ServiceBase_ServiceBase {

    constructor(url, options) {
        super(url, options);
    }

    /**
     * @function mapboxgl.supermap.NetworkAnalyst3DService.prototype.sinksFacilityAnalyst
     * @description æ±æ¥æ¾æå¡ã
     * @param {SuperMap.FacilityAnalystSinks3DParameters} params - æè¿è®¾æ½åæåæ°ç±»ï¼æ±æ¥æ¾èµæºï¼ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @returns {mapboxgl.supermap.NetworkAnalyst3DService} 3D ç½ç»åææå¡ã
     */
    sinksFacilityAnalyst(params, callback) {
        var me = this;
        var facilityAnalystSinks3DService = new FacilityAnalystSinks3DService_FacilityAnalystSinks3DService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            }
        });
        facilityAnalystSinks3DService.processAsync(params);
    }

    /**
     * @function mapboxgl.supermap.NetworkAnalyst3DService.prototype.sourcesFacilityAnalyst
     * @description æºæ¥æ¾æå¡ã
     * @param {SuperMap.FacilityAnalystSources3DParameters} params - æè¿è®¾æ½åæåæ°ç±»ï¼æºæ¥æ¾æå¡ï¼ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @returns {mapboxgl.supermap.NetworkAnalyst3DService} 3D ç½ç»åææå¡ã
     */
    sourcesFacilityAnalyst(params, callback) {
        var me = this;
        var facilityAnalystSources3DService = new FacilityAnalystSources3DService_FacilityAnalystSources3DService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            }
        });
        facilityAnalystSources3DService.processAsync(params);
    }

    /**
     * @function mapboxgl.supermap.NetworkAnalyst3DService.prototype.traceUpFacilityAnalyst
     * @description ä¸æ¸¸è¿½è¸ªèµæºæå¡ã
     * @param {SuperMap.FacilityAnalystTraceup3DParameters} params - ä¸æ¸¸è¿½è¸ªèµæºåæ°ç±»ã
     * @param {RequestCallback} callback åè°å½æ°ã
     * @returns {mapboxgl.supermap.NetworkAnalyst3DService} 3D ç½ç»åææå¡ã
     */

    traceUpFacilityAnalyst(params, callback) {
        var me = this;
        var facilityAnalystTraceup3DService = new FacilityAnalystTraceup3DService_FacilityAnalystTraceup3DService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            }
        });
        facilityAnalystTraceup3DService.processAsync(params);
    }

    /**
     * @function mapboxgl.supermap.NetworkAnalyst3DService.prototype.traceDownFacilityAnalyst
     * @description ä¸æ¸¸è¿½è¸ªèµæºæå¡ã
     * @param {SuperMap.FacilityAnalystTracedown3DParameters} params - ä¸æ¸¸è¿½è¸ªèµæºæå¡åæ°ç±»ã
     * @param {RequestCallback} callback åè°å½æ°ã
     * @returns {mapboxgl.supermap.NetworkAnalyst3DService} 3D ç½ç»åææå¡ã
     */
    traceDownFacilityAnalyst(params, callback) {
        var me = this;
        var facilityAnalystTracedown3DService = new FacilityAnalystTracedown3DService_FacilityAnalystTracedown3DService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            }
        });
        facilityAnalystTracedown3DService.processAsync(params);
    }

    /**
     * @function mapboxgl.supermap.NetworkAnalyst3DService.prototype.upstreamFacilityAnalyst
     * @description ä¸æ¸¸å³é®è®¾æ½æ¥æ¾æå¡ã
     * @param {SuperMap.FacilityAnalystUpstream3DParameters} params - ä¸æ¸¸å³é®è®¾æ½æ¥æ¾æå¡åæ°ç±»ã
     * @param {RequestCallback} callback åè°å½æ°ã
     * @returns {mapboxgl.supermap.NetworkAnalyst3DService} 3D ç½ç»åææå¡ã
     */
    upstreamFacilityAnalyst(params, callback) {
        var me = this;
        var facilityAnalystUpstream3DService = new FacilityAnalystUpstream3DService_FacilityAnalystUpstream3DService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            }
        });
        facilityAnalystUpstream3DService.processAsync(params);
    }
}

external_mapboxgl_default.a.supermap.NetworkAnalyst3DService = NetworkAnalyst3DService_NetworkAnalyst3DService;
// CONCATENATED MODULE: ./src/mapboxgl/services/ProcessingService.js






/**
 * @class mapboxgl.supermap.ProcessingService
 * @category  iServer ProcessingService
 * @classdesc åå¸å¼åæç¸å³æå¡ç±»ã
 * @extends {mapboxgl.supermap.ServiceBase}
 * @example
 * new mapboxgl.supermap.ProcessingService(url,options)
 *  .getKernelDensityJobs(function(result){
 *     //doSomething
 * })
 * @param {string} url - åå¸å¼åææå¡å°åã 
 * @param {Object} options - äº¤äºæå¡æ¶æéå¯éåæ°ã
 * @param {string} [options.proxy] - æå¡ä»£çå°åã
 * @param {boolean} [options.withCredentials=false] - è¯·æ±æ¯å¦æºå¸¦cookieã
 * @param {SuperMap.ServerType} [options.serverType=SuperMap.ServerType.ISERVER] - æå¡æ¥æº iServer|iPortal|onlineã
 */
class ProcessingService_ProcessingService extends ServiceBase_ServiceBase {

    constructor(url, options) {
        super(url, options);
        this.kernelDensityJobs = {};
        this.summaryMeshJobs = {};
        this.queryJobs = {};
        this.summaryRegionJobs = {};
        this.vectorClipJobs = {};
        this.overlayGeoJobs = {};
        this.buffersJobs = {};
        this.topologyValidatorJobs = {};
        this.summaryAttributesJobs = {};
    }

    /**
     * @function mapboxgl.supermap.ProcessingService.prototype.getKernelDensityJobs
     * @description è·åå¯åº¦åæçåè¡¨ã
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã 
     * @param {SuperMap.DataFormat} [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    getKernelDensityJobs(callback, resultFormat) {
        var me = this,
            format = me._processFormat(resultFormat);
        var kernelDensityJobsService = new KernelDensityJobsService_KernelDensityJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: format
        });
        kernelDensityJobsService.getKernelDensityJobs();
    }

    /**
     * @function mapboxgl.supermap.ProcessingService.prototype.getKernelDensityJob
     * @description è·åæä¸ä¸ªå¯åº¦åæã
     * @param {string} id - ç©ºé´åæçidã 
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã 
     * @param {SuperMap.DataFormat} [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    getKernelDensityJob(id, callback, resultFormat) {
        var me = this,
            format = me._processFormat(resultFormat);
        var kernelDensityJobsService = new KernelDensityJobsService_KernelDensityJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: format
        });
        kernelDensityJobsService.getKernelDensityJob(id);
    }

    /**
     * @function mapboxgl.supermap.ProcessingService.prototype.addKernelDensityJob
     * @description æ°å»ºä¸ä¸ªå¯åº¦åæã
     * @param {SuperMap.KernelDensityJobParameter} params -åå»ºä¸ä¸ªç©ºé´åæçè¯·æ±åæ°ã 
     * @param {RequestCallback} callback è¯·æ±ç»æçåè°å½æ°ã 
     * @param {number} [seconds=1000] - å¼å§åå»ºåï¼è·ååå»ºæåç»æçæ¶é´é´éã 
     * @param {SuperMap.DataFormat} [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    addKernelDensityJob(params, callback, seconds, resultFormat) {
        var me = this,
            param = me._processParams(params),
            format = me._processFormat(resultFormat);
        var kernelDensityJobsService = new KernelDensityJobsService_KernelDensityJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback,
                processRunning: function (job) {
                    me.kernelDensityJobs[job.id] = job.state;
                }
            },
            format: format
        });
        kernelDensityJobsService.addKernelDensityJob(param, seconds);
    }

    /**
     * @function mapboxgl.supermap.ProcessingService.prototype.getKernelDensityJobState
     * @description è·åå¯åº¦åæçç¶æã
     * @param {string} id - å¯åº¦åæçidã
     * @returns {Object} å¯åº¦åæçç¶æã
     */
    getKernelDensityJobState(id) {
        return this.kernelDensityJobs[id];
    }

    /**
     * @function mapboxgl.supermap.ProcessingService.prototype.getSummaryMeshJobs
     * @description è·åç¹èååæçåè¡¨ã
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã 
     * @param {SuperMap.DataFormat} [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    getSummaryMeshJobs(callback, resultFormat) {
        var me = this,
            format = me._processFormat(resultFormat);
        var summaryMeshJobsService = new SummaryMeshJobsService_SummaryMeshJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: format
        });
        summaryMeshJobsService.getSummaryMeshJobs();
    }

    /**
     * @function mapboxgl.supermap.ProcessingService.prototype.getSummaryMeshJob
     * @description è·åæä¸ä¸ªç¹èååæã
     * @param {string} id - ç©ºé´åæç idã 
     * @param {function} callback - è¯·æ±ç»æçåè°å½æ°ã 
     * @param {SuperMap.DataFormat} [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    getSummaryMeshJob(id, callback, resultFormat) {
        var me = this,
            format = me._processFormat(resultFormat);
        var summaryMeshJobsService = new SummaryMeshJobsService_SummaryMeshJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: format
        });
        summaryMeshJobsService.getSummaryMeshJob(id);
    }

    /**
     * @function mapboxgl.supermap.ProcessingService.prototype.addSummaryMeshJob
     * @description æ°å»ºä¸ä¸ªç¹èååæã
     * @param {SuperMap.SummaryMeshJobParameter} params - ç¹èååæä»»å¡åæ°ç±»ã 
     * @param {RequestCallback} callback è¯·æ±ç»æçåè°å½æ°ã 
     * @param {number} [seconds=1000] - å¼å§åå»ºåï¼è·ååå»ºæåç»æçæ¶é´é´éã
     * @param {SuperMap.DataFormat} [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    addSummaryMeshJob(params, callback, seconds, resultFormat) {
        var me = this,
            param = me._processParams(params),
            format = me._processFormat(resultFormat);
        var summaryMeshJobsService = new SummaryMeshJobsService_SummaryMeshJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback,
                processRunning: function (job) {
                    me.summaryMeshJobs[job.id] = job.state;
                }
            },
            format: format
        });
        summaryMeshJobsService.addSummaryMeshJob(param, seconds);
    }

    /**
     * @function mapboxgl.supermap.ProcessingService.prototype.getSummaryMeshJobState
     * @description è·åç¹èååæçç¶æã
     * @param {string} id - ç¹èååæç IDã
     * @returns {Object} ç¹èååæçç¶æã
     */
    getSummaryMeshJobState(id) {
        return this.summaryMeshJobs[id];
    }

    /**
     * @function mapboxgl.supermap.ProcessingService.prototype.getQueryJobs
     * @description è·ååå¯¹è±¡æ¥è¯¢åæçåè¡¨ã
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã 
     * @param {SuperMap.DataFormat} [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    getQueryJobs(callback, resultFormat) {
        var me = this,
            format = me._processFormat(resultFormat);
        var singleObjectQueryJobsService = new SingleObjectQueryJobsService_SingleObjectQueryJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: format
        });
        singleObjectQueryJobsService.getQueryJobs();
    }

    /**
     * @function mapboxgl.supermap.ProcessingService.prototype.getQueryJob
     * @description è·åæä¸ä¸ªåå¯¹è±¡æ¥è¯¢åæã
     * @param {string} id - ç©ºé´åæç idã 
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã 
     * @param {SuperMap.DataFormat} [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    getQueryJob(id, callback, resultFormat) {
        var me = this,
            format = me._processFormat(resultFormat);
        var singleObjectQueryJobsService = new SingleObjectQueryJobsService_SingleObjectQueryJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: format
        });
        singleObjectQueryJobsService.getQueryJob(id);
    }

    /**
     * @function mapboxgl.supermap.ProcessingService.prototype.addQueryJob
     * @description æ°å»ºä¸ä¸ªåå¯¹è±¡æ¥è¯¢åæã
     * @param {SuperMap.SingleObjectQueryJobsParameter} params -åå»ºä¸ä¸ªç©ºé´åæçè¯·æ±åæ°ã 
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã
     * @param {number} [seconds=1000] - å¼å§åå»ºåï¼è·ååå»ºæåç»æçæ¶é´é´éã 
     * @param {SuperMap.DataFormat} [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    addQueryJob(params, callback, seconds, resultFormat) {
        var me = this,
            param = me._processParams(params),
            format = me._processFormat(resultFormat);
        var singleObjectQueryJobsService = new SingleObjectQueryJobsService_SingleObjectQueryJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback,
                processRunning: function (job) {
                    me.queryJobs[job.id] = job.state;
                }
            },
            format: format
        });
        singleObjectQueryJobsService.addQueryJob(param, seconds);
    }

    /**
     * @function mapboxgl.supermap.ProcessingService.prototype.getQueryJobState
     * @description è·ååå¯¹è±¡æ¥è¯¢åæçç¶æã
     * @param {string} id - åå¯¹è±¡æ¥è¯¢åæç IDã
     * @returns {Object} åå¯¹è±¡æ¥è¯¢åæçç¶æã
     */
    getQueryJobState(id) {
        return this.queryJobs[id];
    }

    /**
     * @function mapboxgl.supermap.ProcessingService.prototype.getSummaryRegionJobs
     * @description è·ååºåæ±æ»åæçåè¡¨ã
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã 
     * @param {SuperMap.DataFormat} [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    getSummaryRegionJobs(callback, resultFormat) {
        var me = this,
            format = me._processFormat(resultFormat);
        var summaryRegionJobsService = new SummaryRegionJobsService_SummaryRegionJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: format
        });
        summaryRegionJobsService.getSummaryRegionJobs();
    }

    /**
     * @function mapboxgl.supermap.ProcessingService.prototype.getSummaryRegionJob
     * @description è·åæä¸ä¸ªåºåæ±æ»åæã
     * @param {string} id - åºåæ±æ»åæç idã 
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã 
     * @param {SuperMap.DataFormat} [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    getSummaryRegionJob(id, callback, resultFormat) {
        var me = this,
            format = me._processFormat(resultFormat);
        var summaryRegionJobsService = new SummaryRegionJobsService_SummaryRegionJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: format
        });
        summaryRegionJobsService.getSummaryRegionJob(id);
    }

    /**
     * @function mapboxgl.supermap.ProcessingService.prototype.addSummaryRegionJob
     * @description æ°å»ºä¸ä¸ªåºåæ±æ»åæã
     * @param {SuperMap.SummaryRegionJobParameter} params - åºåæ±æ»åæåæ°ç±»ã
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã
     * @param {number} [seconds=1000] - å¼å§åå»ºåï¼è·ååå»ºæåç»æçæ¶é´é´éã
     * @param {SuperMap.DataFormat} [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    addSummaryRegionJob(params, callback, seconds, resultFormat) {
        var me = this,
            param = me._processParams(params),
            format = me._processFormat(resultFormat);
        var summaryRegionJobsService = new SummaryRegionJobsService_SummaryRegionJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback,
                processRunning: function (job) {
                    me.summaryRegionJobs[job.id] = job.state;
                }
            },
            format: format
        });
        summaryRegionJobsService.addSummaryRegionJob(param, seconds);
    }

    /**
     * @function mapboxgl.supermap.ProcessingService.prototype.getSummaryRegionJobState
     * @description è·ååºåæ±æ»åæçç¶æã
     * @param {string} id - çæåºåæ±æ»åæç idã
     * @returns {Object} åºåæ±æ»åæçç¶æã
     */
    getSummaryRegionJobState(id) {
        return this.summaryRegionJobs[id];
    }

    /**
     * @function mapboxgl.supermap.ProcessingService.prototype.getVectorClipJobs
     * @description è·åç¢éè£åªåæçåè¡¨ã
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã 
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    getVectorClipJobs(callback, resultFormat) {
        var me = this,
            format = me._processFormat(resultFormat);
        var vectorClipJobsService = new VectorClipJobsService_VectorClipJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: format
        });
        vectorClipJobsService.getVectorClipJobs();
    }

    /**
     * @function mapboxgl.supermap.ProcessingService.prototype.getVectorClipJob
     * @description è·åæä¸ä¸ªç¢éè£åªåæã
     * @param {string} id - ç©ºé´åæç idã 
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã 
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    getVectorClipJob(id, callback, resultFormat) {
        var me = this,
            format = me._processFormat(resultFormat);
        var vectorClipJobsService = new VectorClipJobsService_VectorClipJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: format
        });
        vectorClipJobsService.getVectorClipJob(id);
    }

    /**
     * @function mapboxgl.supermap.ProcessingService.prototype.addVectorClipJob
     * @description æ°å»ºä¸ä¸ªç¢éè£åªåæã
     * @param {SuperMap.VectorClipJobsParameter} params - åå»ºä¸ä¸ªç©ºé´åæçè¯·æ±åæ°ã 
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã 
     * @param {number} [seconds=1000] - å¼å§åå»ºåï¼è·ååå»ºæåç»æçæ¶é´é´éã 
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    addVectorClipJob(params, callback, seconds, resultFormat) {
        var me = this,
            param = me._processParams(params),
            format = me._processFormat(resultFormat);
        var vectorClipJobsService = new VectorClipJobsService_VectorClipJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback,
                processRunning: function (job) {
                    me.vectorClipJobs[job.id] = job.state;
                }
            },
            format: format
        });
        vectorClipJobsService.addVectorClipJob(param, seconds);
    }

    /**
     * @function mapboxgl.supermap.ProcessingService.prototype.getVectorClipJobState
     * @description è·åç¢éè£åªåæçç¶æã
     * @param {number} id - ç¢éè£åªåæçidã
     * @returns {Object} ç¢éè£åªåæçç¶æã
     */
    getVectorClipJobState(id) {
        return this.vectorClipJobs[id];
    }

    /**
     * @function mapboxgl.supermap.processingService.prototype.getOverlayGeoJobs
     * @description è·åå å åæçåè¡¨ã
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã 
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    getOverlayGeoJobs(callback, resultFormat) {
        var me = this,
            format = me._processFormat(resultFormat);
        var overlayGeoJobsService = new OverlayGeoJobsService_OverlayGeoJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: format
        });
        overlayGeoJobsService.getOverlayGeoJobs();
    }

    /**
     * @function mapboxgl.supermap.processingService.prototype.getOverlayGeoJob
     * @description è·åæä¸ä¸ªå å åæã
     * @param {string} id - ç©ºé´åæç IDã
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã 
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    getOverlayGeoJob(id, callback, resultFormat) {
        var me = this,
            format = me._processFormat(resultFormat);
        var overlayGeoJobsService = new OverlayGeoJobsService_OverlayGeoJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: format
        });
        overlayGeoJobsService.getOverlayGeoJob(id);
    }

    /**
     * @function mapboxgl.supermap.processingService.prototype.addOverlayGeoJob
     * @description æ°å»ºä¸ä¸ªå å åæã
     * @param {SuperMap.OverlayGeoJobParameter} params - åå»ºä¸ä¸ªç©ºé´åæçè¯·æ±åæ°ã 
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã 
     * @param {number} [seconds=1000] - å¼å§åå»ºåï¼è·ååå»ºæåç»æçæ¶é´é´éã 
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    addOverlayGeoJob(params, callback, seconds, resultFormat) {
        var me = this,
            param = me._processParams(params),
            format = me._processFormat(resultFormat);
        var overlayGeoJobsService = new OverlayGeoJobsService_OverlayGeoJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback,
                processRunning: function (job) {
                    me.overlayGeoJobs[job.id] = job.state;
                }
            },
            format: format
        });
        overlayGeoJobsService.addOverlayGeoJob(param, seconds);
    }

    /**
     * @function mapboxgl.supermap.processingService.prototype.getoverlayGeoJobState
     * @description è·åå å åæçç¶æã
     * @param {string} id - å å åæçidã
     * @returns {Object} å å åæçç¶æ
     */
    getoverlayGeoJobState(id) {
        return this.overlayGeoJobs[id];
    }

    /**
     * @function mapboxgl.supermap.processingService.prototype.getBuffersJobs
     * @description è·åç¼å²åºåæçåè¡¨ã
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã 
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    getBuffersJobs(callback, resultFormat) {
        var me = this,
            format = me._processFormat(resultFormat);
        var buffersAnalystJobsService = new BuffersAnalystJobsService_BuffersAnalystJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: format
        });
        buffersAnalystJobsService.getBuffersJobs();
    }

    /**
     * @function mapboxgl.supermap.processingService.prototype.getBuffersJob
     * @description è·åæä¸ä¸ªç¼å²åºåæã
     * @param {string} id - ç©ºé´åæç IDã 
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã 
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    getBuffersJob(id, callback, resultFormat) {
        var me = this,
            format = me._processFormat(resultFormat);
        var buffersAnalystJobsService = new BuffersAnalystJobsService_BuffersAnalystJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: format
        });
        buffersAnalystJobsService.getBuffersJob(id);
    }

    /**
     * @function mapboxgl.supermap.processingService.prototype.addBuffersJob
     * @description æ°å»ºä¸ä¸ªç¼å²åºåæã
     * @param {SuperMap.BuffersAnalystJobsParameter} params - åå»ºä¸ä¸ªç©ºé´åæçè¯·æ±åæ°ã 
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã 
     * @param {number} seconds - å¼å§åå»ºåï¼è·ååå»ºæåç»æçæ¶é´é´éã 
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    addBuffersJob(params, callback, seconds, resultFormat) {
        var me = this,
            param = me._processParams(params),
            format = me._processFormat(resultFormat);
        var buffersAnalystJobsService = new BuffersAnalystJobsService_BuffersAnalystJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback,
                processRunning: function (job) {
                    me.buffersJobs[job.id] = job.state;
                }
            },
            format: format
        });
        buffersAnalystJobsService.addBuffersJob(param, seconds);
    }

    /**
     * @function mapboxgl.supermap.processingService.prototype.getBuffersJobState
     * @description è·åç¼å²åºåæçç¶æã
     * @param {string} id - ç¼å²åºåæç IDã
     * @returns {Object} ç¼å²åºåæçç¶æã
     */
    getBuffersJobState(id) {
        return this.buffersJobs[id];
    }

    /**
     * @function mapboxgl.supermap.processingService.prototype.getTopologyValidatorJobs
     * @description è·åæææ£æ¥åæçåè¡¨ã
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã 
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    getTopologyValidatorJobs(callback, resultFormat) {
        var me = this,
            format = me._processFormat(resultFormat);
        var topologyValidatorJobsService = new TopologyValidatorJobsService_TopologyValidatorJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: format
        });
        topologyValidatorJobsService.getTopologyValidatorJobs();
    }

    /**
     * @function mapboxgl.supermap.processingService.prototype.getTopologyValidatorJob
     * @description è·åæä¸ä¸ªæææ£æ¥åæã
     * @param {string} id - ç©ºé´åæç IDã 
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã 
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    getTopologyValidatorJob(id, callback, resultFormat) {
        var me = this,
            format = me._processFormat(resultFormat);
        var topologyValidatorJobsService = new TopologyValidatorJobsService_TopologyValidatorJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: format
        });
        topologyValidatorJobsService.getTopologyValidatorJob(id);
    }

    /**
     * @function mapboxgl.supermap.processingService.prototype.addTopologyValidatorJob
     * @description æ°å»ºä¸ä¸ªæææ£æ¥åæã
     * @param {SuperMap.TopologyValidatorJobsParameter} params - åå»ºä¸ä¸ªç©ºé´åæçè¯·æ±åæ°ã 
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã 
     * @param {number} [seconds=1000] - å¼å§åå»ºåï¼è·ååå»ºæåç»æçæ¶é´é´éã 
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    addTopologyValidatorJob(params, callback, seconds, resultFormat) {
        var me = this,
            param = me._processParams(params),
            format = me._processFormat(resultFormat);
        var topologyValidatorJobsService = new TopologyValidatorJobsService_TopologyValidatorJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback,
                processRunning: function (job) {
                    me.topologyValidatorJobs[job.id] = job.state;
                }
            },
            format: format
        });
        topologyValidatorJobsService.addTopologyValidatorJob(param, seconds);
    }

    /**
     * @function mapboxgl.supermap.processingService.prototype.getTopologyValidatorJobState
     * @description è·åæææ£æ¥åæçç¶æã
     * @param {string} id - æææ£æ¥åæç IDã
     * @returns {Object} æææ£æ¥åæçç¶æã
     */
    getTopologyValidatorJobState(id) {
        return this.topologyValidatorJobs[id];
    }

    /**
     * @function mapboxgl.supermap.processingService.prototype.getSummaryAttributesJobs
     * @description è·åå±æ§æ±æ»åæçåè¡¨ã
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    getSummaryAttributesJobs(callback, resultFormat) {
        var me = this,
            format = me._processFormat(resultFormat);
        var summaryAttributesJobsService = new SummaryAttributesJobsService_SummaryAttributesJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: format
        });
        summaryAttributesJobsService.getSummaryAttributesJobs();
    }

    /**
     * @function mapboxgl.supermap.processingService.prototype.getSummaryAttributesJob
     * @description è·åæä¸ä¸ªå±æ§æ±æ»åæã
     * @param {string} id - ç©ºé´åæç IDã
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    getSummaryAttributesJob(id, callback, resultFormat) {
        var me = this,
            format = me._processFormat(resultFormat);
        var summaryAttributesJobsService = new SummaryAttributesJobsService_SummaryAttributesJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: format
        });
        summaryAttributesJobsService.getSummaryAttributesJob(id);
    }

    /**
     * @function mapboxgl.supermap.processingService.prototype.addSummaryAttributesJob
     * @description æ°å»ºä¸ä¸ªå±æ§æ±æ»åæã
     * @param {SuperMap.SummaryAttributesJobsParameter} params - åå»ºä¸ä¸ªç©ºé´åæçè¯·æ±åæ°ã 
     * @param {RequestCallback} callback - è¯·æ±ç»æçåè°å½æ°ã
     * @param {number} [seconds=1000] - å¼å§åå»ºåï¼è·ååå»ºæåç»æçæ¶é´é´éã
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åçç»æç±»åã
     */
    addSummaryAttributesJob(params, callback, seconds, resultFormat) {
        var me = this,
            param = me._processParams(params),
            format = me._processFormat(resultFormat);
        var summaryAttributesJobsService = new SummaryAttributesJobsService_SummaryAttributesJobsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback,
                processRunning: function (job) {
                    me.summaryAttributesJobs[job.id] = job.state;
                }
            },
            format: format
        });
        summaryAttributesJobsService.addSummaryAttributesJob(param, seconds);
    }

    /**
     * @function mapboxgl.supermap.processingService.prototype.getSummaryAttributesJobState
     * @description è·åå±æ§æ±æ»åæçç¶æã
     * @param {string} id - å±æ§æ±æ»åæç IDã 
     * @returns {Object} å±æ§æ±æ»åæçç¶æ
     */
    getSummaryAttributesJobState(id) {
        return this.summaryAttributesJobs[id];
    }

    _processFormat(resultFormat) {
        return (resultFormat) ? resultFormat : DataFormat.GEOJSON;
    }

    _processParams(params) {
        if (!params) {
            return {};
        }
        if (params.bounds) {
            params.bounds = core_Util_Util.toSuperMapBounds(params.bounds);
        }
        //è¿éåªåè®¸ä¼ ç«¯çbounds
        if (params.query) {
            params.query = core_Util_Util.toSuperMapBounds(params.query);
        }
        if (params.geometryQuery) {
            params.geometryQuery = core_Util_Util.toProcessingParam(params.geometryQuery);
        }
        if (params.geometryClip) {
            params.geometryClip = core_Util_Util.toProcessingParam(params.geometryClip);
        }
        return params;
    }
}

external_mapboxgl_default.a.supermap.ProcessingService = ProcessingService_ProcessingService;
// CONCATENATED MODULE: ./src/mapboxgl/services/QueryService.js






/**
 * @class mapboxgl.supermap.QueryService
 * @category  iServer Map QueryResults
 * @classdesc å°å¾æ¥è¯¢æå¡ç±»ã
 *            æä¾ï¼èå´æ¥è¯¢ï¼SQL æ¥è¯¢ï¼å ä½æ¥è¯¢ï¼è·ç¦»æ¥è¯¢ã
 * @extends {mapboxgl.supermap.ServiceBase}
 * @param {string} url - å°å¾æ¥è¯¢æå¡è®¿é®å°åã 
 * @param {Object} options - æå¡äº¤äºæ¶æéçå¯éåæ°ã 
 * @param {string} [options.proxy] - æå¡ä»£çå°åã
 * @param {boolean} [options.withCredentials=false] - è¯·æ±æ¯å¦æºå¸¦ cookieã
 * @param {SuperMap.ServerType} [options.serverType=SuperMap.ServerType.ISERVER] - æå¡æ¥æº iServer|iPortal|onlineã
 * @example
 * new mapboxgl.supermap.QueryService(url)
 * .queryByBounds(param,function(result){
 *     //doSomething
 * })
 */
class services_QueryService_QueryService extends ServiceBase_ServiceBase {

    constructor(url, options) {
        super(url, options);
    }

    /**
     * @function mapboxgl.supermap.QueryService.prototype.queryByBounds
     * @description Bounds æ¥è¯¢å°å¾æå¡ã
     * @param {SuperMap.QueryByBoundsParameters} params - éè¿ Bounds æ¥è¯¢çç¸å³åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @param {SuperMap.DataFormat} [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åç»æç±»åã
     */
    queryByBounds(params, callback, resultFormat) {
        var me = this;
        var queryService = new QueryByBoundsService_QueryByBoundsService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },

            format: me._processFormat(resultFormat)
        });

        queryService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.QueryService.prototype.queryByDistance
     * @description å°å¾è·ç¦»æ¥è¯¢æå¡ã
     * @param {SuperMap.QueryByDistanceParameters} params - Distance æ¥è¯¢ç¸å³åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @param {SuperMap.DataFormat} [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åç»æç±»å
     */
    queryByDistance(params, callback, resultFormat) {
        var me = this;
        var queryByDistanceService = new QueryByDistanceService_QueryByDistanceService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });

        queryByDistanceService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.QueryService.prototype.queryBySQL
     * @description å°å¾ SQL æ¥è¯¢æå¡ã
     * @param {SuperMap.QueryBySQLParameters} params - SQL æ¥è¯¢ç¸å³åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @param {SuperMap.DataFormat} [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åç»æç±»åã
     */
    queryBySQL(params, callback, resultFormat) {
        var me = this;
        var queryBySQLService = new QueryBySQLService_QueryBySQLService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });

        queryBySQLService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.QueryService.prototype.queryByGeometry
     * @description å°å¾å ä½æ¥è¯¢æå¡ã
     * @param {SuperMap.QueryByGeometryParameters} params - Geometry æ¥è¯¢ç¸å³åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @param {SuperMap.DataFormat} [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åç»æç±»åã
     */
    queryByGeometry(params, callback, resultFormat) {
        var me = this;
        var queryByGeometryService = new QueryByGeometryService_QueryByGeometryService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });

        queryByGeometryService.processAsync(me._processParams(params));
    }


    _processParams(params) {

        if (!params) {
            return {};
        }
        params.returnContent = (params.returnContent == null) ? true : params.returnContent;
        if (params.queryParams && !core_Util_Util.isArray(params.queryParams)) {
            params.queryParams = [params.queryParams];
        }
        if (params.bounds) {
            if (params.bounds instanceof Array) {
                params.bounds = new Bounds_Bounds(
                    params.bounds[0],
                    params.bounds[1],
                    params.bounds[2],
                    params.bounds[3]
                );
            }
            if (params.bounds instanceof external_mapboxgl_default.a.LngLatBounds) {
                params.bounds = new Bounds_Bounds(
                    params.bounds.getSouthWest().lng,
                    params.bounds.getSouthWest().lat,
                    params.bounds.getNorthEast().lng,
                    params.bounds.getNorthEast().lat
                );
            }

        }

        if (params.geometry) {

            if (params.geometry instanceof external_mapboxgl_default.a.LngLat) {
                params.geometry = new Point_Point(params.geometry.lng, params.geometry.lat);
            }

            if (params.geometry instanceof external_mapboxgl_default.a.Point) {
                params.geometry = new Point_Point(params.geometry.x, params.geometry.y);
            }

            if (params && !(params.geometry instanceof Geometry_Geometry)) {

                params.geometry = core_Util_Util.toSuperMapGeometry(params.geometry);
            }
        }
        return params;
    }

    _processFormat(resultFormat) {
        return (resultFormat) ? resultFormat : DataFormat.GEOJSON;
    }
}

external_mapboxgl_default.a.supermap.QueryService = services_QueryService_QueryService;
// CONCATENATED MODULE: ./src/mapboxgl/services/SpatialAnalystService.js






/**
 * @class mapboxgl.supermap.SpatialAnalystService
 * @extends {mapboxgl.supermap.ServiceBase}
 * @category  iServer SpatialAnalyst
 * @classdesc ç©ºé´åææå¡ç±»ãæä¾ï¼å°åºå¤ªé³è¾å°ãç¼å²åºåæãç¹å¯åº¦åæãå¨æåæ®µåæãç©ºé´å³ç³»åæãæå¼åæãæ æ ¼ä»£æ°è¿ç®ãå å åæãè·¯ç±å®ä½ãè·¯ç±æµéè®¡ç®ãè¡¨é¢åæãå°å½¢æ²çè®¡ç®ãæ³°æ£®å¤è¾¹å½¢åæã
 * @example
 * new mapboxgl.supermap.SpatialAnalystService(url)
 *  .bufferAnalysis(params,function(result){
 *    //doSomething
 * })
 * @param {string} url - æå¡çè®¿é®å°åã
 * @param {Object} options - äº¤äºæå¡æ¶æéå¯éåæ°ã
 * @param {string} [options.proxy] - æå¡ä»£çå°åã
 * @param {boolean} [options.withCredentials=false] - è¯·æ±æ¯å¦æºå¸¦ cookieã
 * @param {SuperMap.ServerType} [options.serverType=SuperMap.ServerType.ISERVER] - æå¡æ¥æº iServer|iPortal|onlineã
 */
class SpatialAnalystService_SpatialAnalystService extends ServiceBase_ServiceBase {

    constructor(url, options) {
        super(url, options);
    }

    /**
     * @function mapboxgl.supermap.SpatialAnalystService.prototype.getAreaSolarRadiationResult
     * @description å°åºå¤ªé³è¾å°ã
     * @param {SuperMap.mapboxgl} params -æ¥è¯¢ç¸å³åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åç»æç±»åã
     */
    getAreaSolarRadiationResult(params, callback, resultFormat) {
        var me = this;
        var areaSolarRadiationService = new AreaSolarRadiationService_AreaSolarRadiationService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });
        areaSolarRadiationService.processAsync(params);
    }

    /**
     * @function mapboxgl.supermap.SpatialAnalystService.prototype.bufferAnalysis
     * @description ç¼å²åºåæã
     * @param {SuperMap.DatasetBufferAnalystParameters} params - æ¥è¯¢ç¸å³åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åç»æç±»åã
     */
    bufferAnalysis(params, callback, resultFormat) {
        var me = this;
        var bufferAnalystService = new BufferAnalystService_BufferAnalystService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });
        bufferAnalystService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.SpatialAnalystService.prototype.densityAnalysis
     * @description ç¹å¯åº¦åæã
     * @param {SuperMap.DensityKernelAnalystParameters} params - æ¥è¯¢ç¸å³åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åç»æç±»åã
     */
    densityAnalysis(params, callback, resultFormat) {
        var me = this;
        var densityAnalystService = new DensityAnalystService_DensityAnalystService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });
        densityAnalystService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.SpatialAnalystService.prototype.generateSpatialData
     * @description å¨æåæ®µåæã
     * @param {SuperMap.GenerateSpatialDataParameters} params - æ¥è¯¢ç¸å³åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åç»æç±»åã
     */
    generateSpatialData(params, callback, resultFormat) {
        var me = this;
        var generateSpatialDataService = new GenerateSpatialDataService_GenerateSpatialDataService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });
        generateSpatialDataService.processAsync(params);
    }

    /**
     * @function mapboxgl.supermap.SpatialAnalystService.prototype.geoRelationAnalysis
     * @description ç©ºé´å³ç³»åæã
     * @param {SuperMap.GeoRelationAnalystParameters} params - æ¥è¯¢ç¸å³åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åç»æç±»åã
     */
    geoRelationAnalysis(params, callback, resultFormat) {
        var me = this;
        var geoRelationAnalystService = new GeoRelationAnalystService_GeoRelationAnalystService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });
        geoRelationAnalystService.processAsync(params);
    }

    /**
     * @function mapboxgl.supermap.SpatialAnalystService.prototype.interpolationAnalysis
     * @description æå¼åæã
     * @param {SuperMap.InterpolationRBFAnalystParameters} params - æ¥è¯¢ç¸å³åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åç»æç±»åã
     */
    interpolationAnalysis(params, callback, resultFormat) {
        var me = this;
        var interpolationAnalystService = new InterpolationAnalystService_InterpolationAnalystService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });
        interpolationAnalystService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.SpatialAnalystService.prototype.mathExpressionAnalysis
     * @description æ æ ¼ä»£æ°è¿ç®ã
     * @param {SuperMap.MathExpressionAnalysisParameters} params - æ¥è¯¢ç¸å³åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åç»æç±»åã
     */
    mathExpressionAnalysis(params, callback, resultFormat) {
        var me = this;
        var mathExpressionAnalysisService = new MathExpressionAnalysisService_MathExpressionAnalysisService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });
        mathExpressionAnalysisService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.SpatialAnalystService.prototype.overlayAnalysis
     * @description å å åæã
     * @param {(SuperMap.DatasetOverlayAnalystParameters|SuperMap.GeometryOverlayAnalystParameters)} params - å å åæåæ°ç±»ï¼æ¯ææ¹éå ä½è¦ç´ å å åæã 
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åç»æç±»åã
     */
    overlayAnalysis(params, callback, resultFormat) {
        var me = this;
        var overlayAnalystService = new OverlayAnalystService_OverlayAnalystService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });
        overlayAnalystService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.SpatialAnalystService.prototype.routeCalculateMeasure
     * @description è·¯ç±æµéè®¡ç®ã
     * @param {SuperMap.RouteCalculateMeasureParameters} params - æ¥è¯¢ç¸å³åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åç»æç±»åã
     */
    routeCalculateMeasure(params, callback, resultFormat) {
        var me = this;
        var routeCalculateMeasureService = new RouteCalculateMeasureService_RouteCalculateMeasureService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });
        routeCalculateMeasureService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.SpatialAnalystService.prototype.routeLocate
     * @description è·¯ç±å®ä½ã
     * @param {SuperMap.RouteLocatorParameters} params - æ¥è¯¢ç¸å³åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åç»æç±»åã
     */
    routeLocate(params, callback, resultFormat) {
        var me = this;
        var routeLocatorService = new RouteLocatorService_RouteLocatorService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });
        routeLocatorService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.SpatialAnalystService.prototype.surfaceAnalysis
     * @description è¡¨é¢åæã
     * @param {SuperMap.SurfaceAnalystParameters} params - è¡¨é¢åæåæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åç»æç±»åã
     */
    surfaceAnalysis(params, callback, resultFormat) {
        var me = this;
        var surfaceAnalystService = new SurfaceAnalystService_SurfaceAnalystService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });
        surfaceAnalystService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.SpatialAnalystService.prototype.terrainCurvatureCalculate
     * @description å°å½¢æ²çè®¡ç®ã
     * @param {SuperMap.TerrainCurvatureCalculationParameters} params - æ¥è¯¢ç¸å³åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åç»æç±»åã
     */
    terrainCurvatureCalculate(params, callback, resultFormat) {
        var me = this;
        var terrainCurvatureCalculationService = new TerrainCurvatureCalculationService_TerrainCurvatureCalculationService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });
        terrainCurvatureCalculationService.processAsync(params);
    }

    /**
     * @function mapboxgl.supermap.SpatialAnalystService.prototype.thiessenAnalysis
     * @description æ³°æ£®å¤è¾¹å½¢åæã
     * @param {SuperMap.DatasetThiessenAnalystParameters} params - æ¥è¯¢ç¸å³åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åç»æç±»åã
     */
    thiessenAnalysis(params, callback, resultFormat) {
        var me = this;
        var thiessenAnalystService = new ThiessenAnalystService_ThiessenAnalystService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });
        thiessenAnalystService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.SpatialAnalystService.prototype.geometrybatchAnalysis
     * @description æ¹éç©ºé´åæã
     * @param {Array} params - æ¹éåæåæ°å¯¹è±¡æ°ç»ï¼åæ¬ï¼
     * @param {string} params.analystName - ç©ºé´åææ¹æ³çåç§°ãåæ¬ï¼</br>
     *                                      "buffer"ï¼"overlay"ï¼"interpolationDensity"ï¼"interpolationidw"ï¼"interpolationRBF"ï¼"interpolationKriging"ï¼"isoregion"ï¼"isoline"ã
     * @param {Object} params.param - ç©ºé´åæç±»åå¯¹åºçè¯·æ±åæ°ï¼åæ¬ï¼</br>
     *                                {SuperMap.GeometryBufferAnalystParameters} ç¼å²åºåæåæ°ç±»ã</br>
     *                                {SuperMap.GeometryOverlayAnalystParameters} å å åæåæ°ç±»ã</br>
     *                                {SuperMap.InterpolationAnalystParameters} æå¼åæåæ°ç±»ã</br>
     *                                {SuperMap.SurfaceAnalystParameters} è¡¨é¢åæåæ°ç±»ã</br>
     * @param {RequestCallback} callback - åè°å½æ°ã
     * @param {SuperMap.DataFormat}  [resultFormat=SuperMap.DataFormat.GEOJSON] - è¿åç»æç±»åã
     */
    geometrybatchAnalysis(params, callback, resultFormat) {
        var me = this;
        var geometryBatchAnalystService = new GeometryBatchAnalystService_GeometryBatchAnalystService(me.url, {
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            },
            format: me._processFormat(resultFormat)
        });

        //å¤çæ¹éåæä¸­åä¸ªåç±»ç±»åçåæ°ï¼
        var analystParameters = [];
        for (var i = 0; i < params.length; i++) {
            var tempParameter = params[i];
            analystParameters.push({
                analystName: tempParameter.analystName,
                param: me._processParams(tempParameter.param)
            })
        }

        geometryBatchAnalystService.processAsync(analystParameters);
    }


    _processParams(params) {
        if (!params) {
            return {};
        }
        if (params.bounds) {
            params.bounds = core_Util_Util.toSuperMapBounds(params.bounds);
        }
        //æå¼åæç¹æ°ç»è½¬æ¢
        if (params.inputPoints) {
            for (var i = 0; i < params.inputPoints.length; i++) {
                var inputPoint = params.inputPoints[i];
                if (core_Util_Util.isArray(inputPoint)) {
                    params.inputPoints[i] = {x: inputPoint[0], y: inputPoint[1], tag: inputPoint[2]};
                }
            }
        }
        //ç¹æ°ç»è½¬æ¢
        if (params.points) {
            for (let i = 0; i < params.points.length; i++) {
                var point = params.points[i];
                params.points[i] = core_Util_Util.toSuperMapPoint(point);
            }
        }
        //mapboxglç¹å¯¹è±¡è½¬SuperMapç¹å¯¹è±¡
        if (params.point) {
            params.point = core_Util_Util.toSuperMapPoint(params.point);
        }

        //åæ­¥å¤æ­mapboxæ°æ®å°±ä¸ºgeojsonæ ¼å¼ ï¼è¿è¡è½¬jsonæ ¼å¼å³å¯

        //æ æ ¼ä»£æ°è¿ç®çèå´
        if (params.extractRegion) {
            params.extractRegion = core_Util_Util.toSuperMapGeometry(params.extractRegion);
        }

        //è·åæè®¾ç½®è¡¨é¢åæåæ°
        if (params.extractParameter && params.extractParameter.clipRegion) {
            params.extractParameter.clipRegion = core_Util_Util.toSuperMapGeometry(params.extractParameter.clipRegion);
        }

        //sourceRoute è·¯ç±å¯¹è±¡ãç¨äºéç¨åæï¼è¯¥å¯¹è±¡å¯ä»¥æ¯ç¨æ·èªå·±ç ææå¨æ°æ®æºä¸­æ¥è¯¢å¾å°çç¬¦åæ åçè·¯ç±å¯¹è±¡ï¼geojsonæ ¼å¼
        if (params.sourceRoute) {
            if (params.sourceRoute) {
                var target = {};
                target.type = "LINEM";
                target.parts = [params.sourceRoute.geometry.coordinates.length];
                target.points = [];
                for (let i = 0; i < params.sourceRoute.geometry.coordinates.length; i++) {
                    var lnglat = params.sourceRoute.geometry.coordinates[i];
                    //measure åºè¯¥å¨ä¼ å¼æ¶è®¾ç½®,
                    target.points = target.points.concat({x: lnglat[0], y: lnglat[1], measure: lnglat[2]})
                }
                params.sourceRoute = target;
            }

        }
        //operateRegions æä½é¢å¯¹è±¡éåï¼æ°æ®éå å åæ,è¡¨ç¤ºä¸è¿äºé¢å¯¹è±¡è¿è¡å å åæ
        if (params.operateRegions && core_Util_Util.isArray(params.operateRegions)) {
            params.operateRegions.map(function (geometry, key) {
                params.operateRegions[key] = core_Util_Util.toSuperMapGeometry(geometry);
                return params.operateRegions[key];
            });
        }

        //å å åæï¼å ä½æ°æ®æº æ¯ææ ¼å¼:GeoJson
        if (params.sourceGeometry) {
            var SRID = null;
            if (params.sourceGeometrySRID) {
                SRID = params.sourceGeometrySRID;
            }
            params.sourceGeometry = core_Util_Util.toSuperMapGeometry(params.sourceGeometry);
            if (SRID) {
                params.sourceGeometry.SRID = SRID;
            }
            delete params.sourceGeometry.sourceGeometrySRID;
        }
        if (params.operateGeometry) {
            params.operateGeometry = core_Util_Util.toSuperMapGeometry(params.operateGeometry);
        }
        //æ¯æä¼ å¥å¤ä¸ªå ä½è¦ç´ è¿è¡å å åæï¼
        if (params.sourceGeometries) {
            var sourceGeometries = [];
            for (var k = 0; k < params.sourceGeometries.length; k++) {
                sourceGeometries.push(core_Util_Util.toSuperMapGeometry(params.sourceGeometries[k]));
            }
            params.sourceGeometries = sourceGeometries;
        }
        //æ¯æä¼ å¥å¤ä¸ªå ä½è¦ç´ è¿è¡å å åæï¼
        if (params.operateGeometries) {
            var operateGeometries = [];
            for (var j = 0; j < params.operateGeometries.length; j++) {
                operateGeometries.push(core_Util_Util.toSuperMapGeometry(params.operateGeometries[j]));
            }
            params.operateGeometries = operateGeometries;
        }
        //components å ä½å¯¹è±¡æ°ç»
        if (params.sourceRoute && params.sourceRoute.components && core_Util_Util.isArray(params.sourceRoute.components)) {
            params.sourceRoute.components.map(function (geometry, key) {
                params.sourceRoute.components[key] = core_Util_Util.toSuperMapGeometry(geometry);
                return params.sourceRoute.components[key];
            });
        }
        return params;
    }

    _processFormat(resultFormat) {
        return (resultFormat) ? resultFormat : DataFormat.GEOJSON;
    }
}

external_mapboxgl_default.a.supermap.SpatialAnalystService = SpatialAnalystService_SpatialAnalystService;
// CONCATENATED MODULE: ./src/mapboxgl/services/ThemeService.js





/**
 * @class mapboxgl.supermap.ThemeService
 * @category  iServer Map Theme
 * @classdesc ä¸é¢å¾æå¡ç±»ã
 * @extends {mapboxgl.supermap.ServiceBase}
 * @example
 * new mapboxgl.supermap.ThemeService(url,{
 *      projection:projection
 * }).getThemeInfo(params,function(result){
 *      //doSomething
 * });
 * @param {string} url - æå¡çè®¿é®å°åã 
 * @param {Object} options - äº¤äºæå¡æ¶æéå¯éåæ°ã
 * @param {string} [options.proxy] - æå¡ä»£çå°åã
 * @param {boolean} [options.withCredentials=false] - è¯·æ±æ¯å¦æºå¸¦ cookieã
 * @param {SuperMap.ServerType} [options.serverType=SuperMap.ServerType.ISERVER] - æå¡æ¥æº iServer|iPortal|onlineã
 */
class services_ThemeService_ThemeService extends ServiceBase_ServiceBase {

    constructor(url, options) {
        super(url, options);
    }

    /**
     * @function mapboxgl.supermap.ThemeService.prototype.getThemeInfo
     * @description è·åä¸é¢å¾ä¿¡æ¯ã
     * @param {SuperMap.ThemeParameters} params - ä¸é¢å¾åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     */
    getThemeInfo(params, callback) {
        var me = this;
        var themeService = new ThemeService_ThemeService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            }
        });
        themeService.processAsync(params);
    }
}

external_mapboxgl_default.a.supermap.ThemeService = services_ThemeService_ThemeService;
// CONCATENATED MODULE: ./src/mapboxgl/services/TrafficTransferAnalystService.js






/**
 * @class mapboxgl.supermap.TrafficTransferAnalystService
 * @extends mapboxgl.supermap.ServiceBase
 * @category  iServer TrafficTransferAnalyst
 * @classdesc äº¤éæ¢ä¹åææå¡ç±»ã
 * @example
 * new mapboxgl.supermap.TrafficTransferAnalystService(url)
 *  .queryStop(params,function(result){
 *      //doSomething
 * })
 * @param {String} url - æå¡å°åã
 * @param {Object} option - åæ°ã
 * @param {string} [options.proxy] - æå¡ä»£çå°åã
 * @param {boolean} [options.withCredentials=false] - è¯·æ±æ¯å¦æºå¸¦ cookieã
 * @param {SuperMap.ServerType} [options.serverType=SuperMap.ServerType.ISERVER] - æå¡æ¥æº iServer|iPortal|onlineã
 */
class TrafficTransferAnalystService_TrafficTransferAnalystService extends ServiceBase_ServiceBase {

    constructor(url, options) {
        super(url, options);
    }

    /**
     * @function mapboxgl.supermap.TrafficTransferAnalystService.prototype.queryStop
     * @description ç«ç¹æ¥è¯¢æå¡ã
     * @param {SuperMap.StopQueryParameters} params - æ¥è¯¢ç¸å³åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     */
    queryStop(params, callback) {
        var me = this;
        var stopQueryService = new StopQueryService_StopQueryService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            }
        });
        stopQueryService.processAsync(params);
    }

    /**
     * @function mapboxgl.supermap.TrafficTransferAnalystService.prototype.analysisTransferPath
     * @description äº¤éæ¢ä¹çº¿è·¯æ¥è¯¢æå¡ã
     * @param {SuperMap.TransferPathParameters} params - æ¥è¯¢ç¸å³åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     */
    analysisTransferPath(params, callback) {
        var me = this;
        var transferPathService = new TransferPathService_TransferPathService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            }
        });
        transferPathService.processAsync(me._processParams(params));
    }

    /**
     * @function mapboxgl.supermap.TrafficTransferAnalystService.prototype.analysisTransferSolution
     * @description äº¤éæ¢ä¹æ¹æ¡æ¥è¯¢æå¡ã
     * @param {SuperMap.TransferSolutionParameters} params - æ¥è¯¢ç¸å³åæ°ç±»ã
     * @param {RequestCallback} callback - åè°å½æ°ã
     */
    analysisTransferSolution(params, callback) {
        var me = this;
        var transferSolutionService = new TransferSolutionService_TransferSolutionService(me.url, {
            proxy: me.options.proxy,
            withCredentials: me.options.withCredentials,
            serverType: me.options.serverType,
            eventListeners: {
                scope: me,
                processCompleted: callback,
                processFailed: callback
            }
        });
        transferSolutionService.processAsync(me._processParams(params));
    }

    _processParams(params) {
        if (!params) {
            return {};
        }

        if (params.transferLines && !core_Util_Util.isArray(params.transferLines)) {
            params.transferLines = [params.transferLines];
        }
        if (params.points && core_Util_Util.isArray(params.points)) {
            params.points.map(function (point, key) {
                params.points[key] = (point instanceof external_mapboxgl_default.a.LngLat) ? {
                    x: point.lng,
                    y: point.lat
                } : point;
                return params.points[key];
            });
        }
        return params;
    }

}

external_mapboxgl_default.a.supermap.TrafficTransferAnalystService = TrafficTransferAnalystService_TrafficTransferAnalystService;
// CONCATENATED MODULE: ./src/mapboxgl/services/index.js

















// CONCATENATED MODULE: ./src/mapboxgl/index.js
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "SuperMap", function() { return SuperMap; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "DataFormat", function() { return DataFormat; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ServerType", function() { return ServerType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "GeometryType", function() { return GeometryType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "QueryOption", function() { return QueryOption; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "JoinType", function() { return JoinType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "EngineType", function() { return EngineType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "MeasureMode", function() { return MeasureMode; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "SpatialRelationType", function() { return SpatialRelationType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "DataReturnMode", function() { return DataReturnMode; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "Unit", function() { return Unit; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "BufferRadiusUnit", function() { return BufferRadiusUnit; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "SpatialQueryMode", function() { return SpatialQueryMode; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeGraphTextFormat", function() { return ThemeGraphTextFormat; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeGraphType", function() { return ThemeGraphType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "GraphAxesTextDisplayMode", function() { return GraphAxesTextDisplayMode; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "GraduatedMode", function() { return GraduatedMode; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "RangeMode", function() { return RangeMode; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeType", function() { return ThemeType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ColorGradientType", function() { return ColorGradientType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "TextAlignment", function() { return TextAlignment; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "FillGradientMode", function() { return FillGradientMode; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "SideType", function() { return SideType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "AlongLineDirection", function() { return AlongLineDirection; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "LabelBackShape", function() { return LabelBackShape; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "LabelOverLengthMode", function() { return LabelOverLengthMode; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "DirectionType", function() { return DirectionType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "OverlayOperationType", function() { return OverlayOperationType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "SupplyCenterType", function() { return SupplyCenterType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "TurnType", function() { return TurnType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "BufferEndType", function() { return BufferEndType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "SmoothMethod", function() { return SmoothMethod; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "SurfaceAnalystMethod", function() { return SurfaceAnalystMethod; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ColorSpaceType", function() { return ColorSpaceType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ChartType", function() { return ChartType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "EditType", function() { return EditType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "TransferTactic", function() { return TransferTactic; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "TransferPreference", function() { return TransferPreference; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "GridType", function() { return GridType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ClientType", function() { return ClientType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "LayerType", function() { return LayerType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "UGCLayerType", function() { return UGCLayerType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "StatisticMode", function() { return StatisticMode; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "PixelFormat", function() { return PixelFormat; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "SearchMode", function() { return SearchMode; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "SummaryType", function() { return SummaryType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "InterpolationAlgorithmType", function() { return InterpolationAlgorithmType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "VariogramMode", function() { return VariogramMode; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "Exponent", function() { return Exponent; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ClipAnalystMode", function() { return ClipAnalystMode; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "AnalystAreaUnit", function() { return AnalystAreaUnit; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "AnalystSizeUnit", function() { return AnalystSizeUnit; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "StatisticAnalystMode", function() { return StatisticAnalystMode; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "TopologyValidatorRule", function() { return TopologyValidatorRule; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "OutputType", function() { return OutputType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "AggregationQueryBuilderType", function() { return AggregationQueryBuilderType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "AggregationType", function() { return AggregationType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "TimeFlowControl", function() { return TimeFlowControl_TimeFlowControl; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "IManager", function() { return iManager_IManager; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "IManagerServiceBase", function() { return iManagerServiceBase_IManagerServiceBase; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "IManagerCreateNodeParam", function() { return iManagerCreateNodeParam_IManagerCreateNodeParam; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "IPortal", function() { return iPortal_IPortal; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "IPortalMap", function() { return iPortalMap_IPortalMap; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "IPortalMapsQueryParam", function() { return iPortalMapsQueryParam_IPortalMapsQueryParam; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "IPortalService", function() { return iPortalService_IPortalService; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "IPortalServiceBase", function() { return iPortalServiceBase_IPortalServiceBase; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "IPortalServicesQueryParam", function() { return iPortalServicesQueryParam_IPortalServicesQueryParam; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "Online", function() { return Online_Online; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "OnlineData", function() { return OnlineData_OnlineData; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "OnlineQueryDatasParameter", function() { return OnlineQueryDatasParameter_OnlineQueryDatasParameter; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ServiceStatus", function() { return ServiceStatus; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "DataItemType", function() { return DataItemType; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "DataItemOrderBy", function() { return DataItemOrderBy; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "FilterField", function() { return FilterField; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "OnlineServiceBase", function() { return OnlineServiceBase_OnlineServiceBase; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "KeyServiceParameter", function() { return KeyServiceParameter_KeyServiceParameter; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "SecurityManager", function() { return SecurityManager_SecurityManager; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ServerInfo", function() { return ServerInfo_ServerInfo; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "TokenServiceParameter", function() { return TokenServiceParameter_TokenServiceParameter; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ElasticSearch", function() { return ElasticSearch_ElasticSearch; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "FetchRequest", function() { return FetchRequest; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "AreaSolarRadiationParameters", function() { return AreaSolarRadiationParameters_AreaSolarRadiationParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "AggregationParameter", function() { return AggregationParameter_AggregationParameter; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "AggQueryBuilderParameter", function() { return AggQueryBuilderParameter_AggQueryBuilderParameter; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "BufferAnalystParameters", function() { return BufferAnalystParameters_BufferAnalystParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "BufferDistance", function() { return BufferDistance_BufferDistance; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "BuffersAnalystJobsParameter", function() { return BuffersAnalystJobsParameter_BuffersAnalystJobsParameter; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "BufferSetting", function() { return BufferSetting_BufferSetting; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "BurstPipelineAnalystParameters", function() { return BurstPipelineAnalystParameters_BurstPipelineAnalystParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ChartQueryFilterParameter", function() { return ChartQueryFilterParameter_ChartQueryFilterParameter; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ChartQueryParameters", function() { return ChartQueryParameters_ChartQueryParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ClipParameter", function() { return ClipParameter_ClipParameter; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ColorDictionary", function() { return ColorDictionary_ColorDictionary; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ComputeWeightMatrixParameters", function() { return ComputeWeightMatrixParameters_ComputeWeightMatrixParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "DataReturnOption", function() { return DataReturnOption_DataReturnOption; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "DatasetBufferAnalystParameters", function() { return DatasetBufferAnalystParameters_DatasetBufferAnalystParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "DatasetInfo", function() { return DatasetInfo_DatasetInfo; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "DatasetOverlayAnalystParameters", function() { return DatasetOverlayAnalystParameters_DatasetOverlayAnalystParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "DatasetSurfaceAnalystParameters", function() { return DatasetSurfaceAnalystParameters_DatasetSurfaceAnalystParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "DatasetThiessenAnalystParameters", function() { return DatasetThiessenAnalystParameters_DatasetThiessenAnalystParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "DatasourceConnectionInfo", function() { return DatasourceConnectionInfo_DatasourceConnectionInfo; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "DensityKernelAnalystParameters", function() { return DensityKernelAnalystParameters_DensityKernelAnalystParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "EditFeaturesParameters", function() { return EditFeaturesParameters_EditFeaturesParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "FacilityAnalyst3DParameters", function() { return FacilityAnalyst3DParameters_FacilityAnalyst3DParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "FacilityAnalystSinks3DParameters", function() { return FacilityAnalystSinks3DParameters_FacilityAnalystSinks3DParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "FacilityAnalystSources3DParameters", function() { return FacilityAnalystSources3DParameters_FacilityAnalystSources3DParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "FacilityAnalystStreamParameters", function() { return FacilityAnalystStreamParameters_FacilityAnalystStreamParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "FacilityAnalystTracedown3DParameters", function() { return FacilityAnalystTracedown3DParameters_FacilityAnalystTracedown3DParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "FacilityAnalystTraceup3DParameters", function() { return FacilityAnalystTraceup3DParameters_FacilityAnalystTraceup3DParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "FacilityAnalystUpstream3DParameters", function() { return FacilityAnalystUpstream3DParameters_FacilityAnalystUpstream3DParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "FieldParameters", function() { return FieldParameters_FieldParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "FieldStatisticsParameters", function() { return FieldStatisticsParameters_FieldStatisticsParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "FilterParameter", function() { return FilterParameter_FilterParameter; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "FilterAggParameter", function() { return FilterAggParameter_FilterAggParameter; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "FindClosestFacilitiesParameters", function() { return FindClosestFacilitiesParameters_FindClosestFacilitiesParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "FindLocationParameters", function() { return FindLocationParameters_FindLocationParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "FindMTSPPathsParameters", function() { return FindMTSPPathsParameters_FindMTSPPathsParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "FindPathParameters", function() { return FindPathParameters_FindPathParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "FindServiceAreasParameters", function() { return FindServiceAreasParameters_FindServiceAreasParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "FindTSPPathsParameters", function() { return FindTSPPathsParameters_FindTSPPathsParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "GenerateSpatialDataParameters", function() { return GenerateSpatialDataParameters_GenerateSpatialDataParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "GeoBoundingBoxQueryBuilderParameter", function() { return GeoBoundingBoxQueryBuilderParameter_GeoBoundingBoxQueryBuilderParameter; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "GeoCodingParameter", function() { return GeoCodingParameter_GeoCodingParameter; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "GeoDecodingParameter", function() { return GeoDecodingParameter_GeoDecodingParameter; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "GeoHashGridAggParameter", function() { return GeoHashGridAggParameter_GeoHashGridAggParameter; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "GeometryBufferAnalystParameters", function() { return GeometryBufferAnalystParameters_GeometryBufferAnalystParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "GeometryOverlayAnalystParameters", function() { return GeometryOverlayAnalystParameters_GeometryOverlayAnalystParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "GeometrySurfaceAnalystParameters", function() { return GeometrySurfaceAnalystParameters_GeometrySurfaceAnalystParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "GeometryThiessenAnalystParameters", function() { return GeometryThiessenAnalystParameters_GeometryThiessenAnalystParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "GeoRelationAnalystParameters", function() { return GeoRelationAnalystParameters_GeoRelationAnalystParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "GetFeaturesByBoundsParameters", function() { return GetFeaturesByBoundsParameters_GetFeaturesByBoundsParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "GetFeaturesByBufferParameters", function() { return GetFeaturesByBufferParameters_GetFeaturesByBufferParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "GetFeaturesByGeometryParameters", function() { return GetFeaturesByGeometryParameters_GetFeaturesByGeometryParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "GetFeaturesByIDsParameters", function() { return GetFeaturesByIDsParameters_GetFeaturesByIDsParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "GetFeaturesBySQLParameters", function() { return GetFeaturesBySQLParameters_GetFeaturesBySQLParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "GetGridCellInfosParameters", function() { return GetGridCellInfosParameters_GetGridCellInfosParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "Grid", function() { return Grid_Grid; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "Image", function() { return Image_Image; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "InterpolationAnalystParameters", function() { return InterpolationAnalystParameters_InterpolationAnalystParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "InterpolationIDWAnalystParameters", function() { return InterpolationIDWAnalystParameters_InterpolationIDWAnalystParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "InterpolationKrigingAnalystParameters", function() { return InterpolationKrigingAnalystParameters_InterpolationKrigingAnalystParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "InterpolationRBFAnalystParameters", function() { return InterpolationRBFAnalystParameters_InterpolationRBFAnalystParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "JoinItem", function() { return JoinItem_JoinItem; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "KernelDensityJobParameter", function() { return KernelDensityJobParameter_KernelDensityJobParameter; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "LabelImageCell", function() { return LabelImageCell_LabelImageCell; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "LabelMatrixCell", function() { return LabelMatrixCell; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "LabelMixedTextStyle", function() { return LabelMixedTextStyle_LabelMixedTextStyle; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "LabelSymbolCell", function() { return LabelSymbolCell_LabelSymbolCell; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "LabelThemeCell", function() { return LabelThemeCell_LabelThemeCell; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "LayerStatus", function() { return LayerStatus_LayerStatus; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "LinkItem", function() { return LinkItem_LinkItem; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "MathExpressionAnalysisParameters", function() { return MathExpressionAnalysisParameters_MathExpressionAnalysisParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "MeasureParameters", function() { return MeasureParameters_MeasureParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "OutputSetting", function() { return OutputSetting_OutputSetting; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "OverlapDisplayedOptions", function() { return OverlapDisplayedOptions_OverlapDisplayedOptions; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "OverlayAnalystParameters", function() { return OverlayAnalystParameters_OverlayAnalystParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "OverlayGeoJobParameter", function() { return OverlayGeoJobParameter_OverlayGeoJobParameter; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "PointWithMeasure", function() { return PointWithMeasure_PointWithMeasure; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "QueryByBoundsParameters", function() { return QueryByBoundsParameters_QueryByBoundsParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "QueryByDistanceParameters", function() { return QueryByDistanceParameters_QueryByDistanceParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "QueryByGeometryParameters", function() { return QueryByGeometryParameters_QueryByGeometryParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "QueryBySQLParameters", function() { return QueryBySQLParameters_QueryBySQLParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "QueryParameters", function() { return QueryParameters_QueryParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "Route", function() { return Route_Route; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "RouteCalculateMeasureParameters", function() { return RouteCalculateMeasureParameters_RouteCalculateMeasureParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "RouteLocatorParameters", function() { return RouteLocatorParameters_RouteLocatorParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ServerColor", function() { return ServerColor; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ServerFeature", function() { return ServerFeature_ServerFeature; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ServerGeometry", function() { return ServerGeometry_ServerGeometry; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ServerStyle", function() { return ServerStyle_ServerStyle; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ServerTextStyle", function() { return ServerTextStyle_ServerTextStyle; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ServerTheme", function() { return ServerTheme_ServerTheme; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "SetLayerInfoParameters", function() { return SetLayerInfoParameters_SetLayerInfoParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "SetLayersInfoParameters", function() { return SetLayersInfoParameters_SetLayersInfoParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "SetLayerStatusParameters", function() { return SetLayerStatusParameters_SetLayerStatusParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "SingleObjectQueryJobsParameter", function() { return SingleObjectQueryJobsParameter_SingleObjectQueryJobsParameter; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "StopQueryParameters", function() { return StopQueryParameters_StopQueryParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "SummaryAttributesJobsParameter", function() { return SummaryAttributesJobsParameter_SummaryAttributesJobsParameter; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "SummaryMeshJobParameter", function() { return SummaryMeshJobParameter_SummaryMeshJobParameter; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "SummaryRegionJobParameter", function() { return SummaryRegionJobParameter_SummaryRegionJobParameter; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "SupplyCenter", function() { return SupplyCenter_SupplyCenter; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "SurfaceAnalystParameters", function() { return SurfaceAnalystParameters_SurfaceAnalystParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "SurfaceAnalystParametersSetting", function() { return SurfaceAnalystParametersSetting_SurfaceAnalystParametersSetting; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "TerrainCurvatureCalculationParameters", function() { return TerrainCurvatureCalculationParameters_TerrainCurvatureCalculationParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "Theme", function() { return Theme_Theme; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeDotDensity", function() { return ThemeDotDensity_ThemeDotDensity; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeFlow", function() { return ThemeFlow_ThemeFlow; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeGraduatedSymbol", function() { return ThemeGraduatedSymbol_ThemeGraduatedSymbol; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeGraduatedSymbolStyle", function() { return ThemeGraduatedSymbolStyle_ThemeGraduatedSymbolStyle; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeGraph", function() { return ThemeGraph_ThemeGraph; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeGraphAxes", function() { return ThemeGraphAxes_ThemeGraphAxes; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeGraphItem", function() { return ThemeGraphItem_ThemeGraphItem; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeGraphSize", function() { return ThemeGraphSize_ThemeGraphSize; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeGraphText", function() { return ThemeGraphText_ThemeGraphText; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeGridRange", function() { return ThemeGridRange_ThemeGridRange; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeGridRangeItem", function() { return ThemeGridRangeItem_ThemeGridRangeItem; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeGridUnique", function() { return ThemeGridUnique_ThemeGridUnique; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeGridUniqueItem", function() { return ThemeGridUniqueItem_ThemeGridUniqueItem; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeLabel", function() { return ThemeLabel_ThemeLabel; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeLabelAlongLine", function() { return ThemeLabelAlongLine_ThemeLabelAlongLine; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeLabelBackground", function() { return ThemeLabelBackground_ThemeLabelBackground; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeLabelItem", function() { return ThemeLabelItem_ThemeLabelItem; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeLabelText", function() { return ThemeLabelText_ThemeLabelText; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeLabelUniqueItem", function() { return ThemeLabelUniqueItem_ThemeLabelUniqueItem; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeMemoryData", function() { return ThemeMemoryData; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeOffset", function() { return ThemeOffset_ThemeOffset; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeParameters", function() { return ThemeParameters_ThemeParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeRange", function() { return ThemeRange_ThemeRange; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeRangeItem", function() { return ThemeRangeItem_ThemeRangeItem; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeUnique", function() { return ThemeUnique_ThemeUnique; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeUniqueItem", function() { return ThemeUniqueItem_ThemeUniqueItem; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThiessenAnalystParameters", function() { return ThiessenAnalystParameters_ThiessenAnalystParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "TopologyValidatorJobsParameter", function() { return TopologyValidatorJobsParameter_TopologyValidatorJobsParameter; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "TransferLine", function() { return TransferLine_TransferLine; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "TransferPathParameters", function() { return TransferPathParameters_TransferPathParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "TransferSolutionParameters", function() { return TransferSolutionParameters_TransferSolutionParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "TransportationAnalystParameter", function() { return TransportationAnalystParameter_TransportationAnalystParameter; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "TransportationAnalystResultSetting", function() { return TransportationAnalystResultSetting_TransportationAnalystResultSetting; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "UGCLayer", function() { return UGCLayer_UGCLayer; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "UGCMapLayer", function() { return UGCMapLayer_UGCMapLayer; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "UGCSubLayer", function() { return UGCSubLayer_UGCSubLayer; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "UpdateEdgeWeightParameters", function() { return UpdateEdgeWeightParameters_UpdateEdgeWeightParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "UpdateTurnNodeWeightParameters", function() { return UpdateTurnNodeWeightParameters_UpdateTurnNodeWeightParameters; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "Vector", function() { return iServer_Vector_Vector; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "VectorClipJobsParameter", function() { return VectorClipJobsParameter_VectorClipJobsParameter; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "Logo", function() { return Logo_Logo; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "Util", function() { return core_Util_Util; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "MapExtend", function() { return MapExtend; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "Graph", function() { return GraphThemeLayer_Graph; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "Label", function() { return LabelThemeLayer_Label; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "MapvLayer", function() { return MapvLayer_MapvLayer; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "RangeTheme3DLayer", function() { return RangeTheme3DLayer_RangeTheme3DLayer; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "Range", function() { return RangeThemeLayer_Range; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "RankSymbol", function() { return RankSymbolThemeLayer_RankSymbol; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "UniqueTheme3DLayer", function() { return UniqueTheme3DLayer_UniqueTheme3DLayer; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "Unique", function() { return UniqueThemeLayer_Unique; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "GraphicLayer", function() { return GraphicLayer_GraphicLayer; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThreeLayer", function() { return ThreeLayer_ThreeLayer; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "HeatMapLayer", function() { return HeatMapLayer_HeatMapLayer; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "DeckglLayer", function() { return DeckglLayer_DeckglLayer; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "Graphic", function() { return Graphic_Graphic; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "MapvDataSet", function() { return MapvDataSet; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "MapvRenderer", function() { return MapvRenderer_MapvRenderer; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "GeoFeature", function() { return GeoFeatureThemeLayer_GeoFeature; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "Theme3DLayer", function() { return Theme3DLayer; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeFeature", function() { return ThemeFeature_ThemeFeature; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeLayer", function() { return ThemeLayer_Theme; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThreeLayerRenderer", function() { return ThreeLayerRenderer_ThreeLayerRenderer; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "Transform", function() { return Transform; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "getDefaultVectorTileStyle", function() { return getDefaultVectorTileStyle; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "setBackground", function() { return setBackground; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "setPaintProperty", function() { return setPaintProperty; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "AddressMatchService", function() { return services_AddressMatchService_AddressMatchService; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ChartService", function() { return ChartService_ChartService; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "DataFlowService", function() { return services_DataFlowService_DataFlowService; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "FeatureService", function() { return FeatureService_FeatureService; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "FieldService", function() { return FieldService_FieldService; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "GridCellInfosService", function() { return GridCellInfosService_GridCellInfosService; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "LayerInfoService", function() { return LayerInfoService_LayerInfoService; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "MapService", function() { return services_MapService_MapService; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "MeasureService", function() { return services_MeasureService_MeasureService; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "NetworkAnalystService", function() { return NetworkAnalystService_NetworkAnalystService; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "NetworkAnalyst3DService", function() { return NetworkAnalyst3DService_NetworkAnalyst3DService; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ProcessingService", function() { return ProcessingService_ProcessingService; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "QueryService", function() { return services_QueryService_QueryService; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ServiceBase", function() { return ServiceBase_ServiceBase; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "SpatialAnalystService", function() { return SpatialAnalystService_SpatialAnalystService; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "ThemeService", function() { return services_ThemeService_ThemeService; });
/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, "TrafficTransferAnalystService", function() { return TrafficTransferAnalystService_TrafficTransferAnalystService; });







/***/ }),
/* 14 */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),
/* 15 */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),
/* 16 */
/***/ (function(module, exports) {

/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/* globals __webpack_amd_options__ */
module.exports = __webpack_amd_options__;

/* WEBPACK VAR INJECTION */}.call(this, {}))

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(Buffer, global) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var require;var require;/*

JSZip - A Javascript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2014 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE

Note: since JSZip 3 removed critical functionality, this version assigns to the
`JSZipSync` variable.  Another JSZip version can be loaded in parallel.
*/
(function(e){
	if("object"==typeof exports&&"undefined"!=typeof module&&"undefined"==typeof DO_NOT_EXPORT_JSZIP)module.exports=e();
	else if("function"=="function"&&__webpack_require__(16)&&"undefined"==typeof DO_NOT_EXPORT_JSZIP){JSZipSync=e();!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (e),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));}
	else{
		var f;
		"undefined"!=typeof window?f=window:
		"undefined"!=typeof global?f=global:
		"undefined"!=typeof $ && $.global?f=$.global:
		"undefined"!=typeof self&&(f=self),f.JSZipSync=e()
	}
}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return require(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){
'use strict';
// private property
var _keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";


// public method for encoding
exports.encode = function(input, utf8) {
    var output = "";
    var chr1, chr2, chr3, enc1, enc2, enc3, enc4;
    var i = 0;

    while (i < input.length) {

        chr1 = input.charCodeAt(i++);
        chr2 = input.charCodeAt(i++);
        chr3 = input.charCodeAt(i++);

        enc1 = chr1 >> 2;
        enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);
        enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);
        enc4 = chr3 & 63;

        if (isNaN(chr2)) {
            enc3 = enc4 = 64;
        }
        else if (isNaN(chr3)) {
            enc4 = 64;
        }

        output = output + _keyStr.charAt(enc1) + _keyStr.charAt(enc2) + _keyStr.charAt(enc3) + _keyStr.charAt(enc4);

    }

    return output;
};

// public method for decoding
exports.decode = function(input, utf8) {
    var output = "";
    var chr1, chr2, chr3;
    var enc1, enc2, enc3, enc4;
    var i = 0;

    input = input.replace(/[^A-Za-z0-9\+\/\=]/g, "");

    while (i < input.length) {

        enc1 = _keyStr.indexOf(input.charAt(i++));
        enc2 = _keyStr.indexOf(input.charAt(i++));
        enc3 = _keyStr.indexOf(input.charAt(i++));
        enc4 = _keyStr.indexOf(input.charAt(i++));

        chr1 = (enc1 << 2) | (enc2 >> 4);
        chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);
        chr3 = ((enc3 & 3) << 6) | enc4;

        output = output + String.fromCharCode(chr1);

        if (enc3 != 64) {
            output = output + String.fromCharCode(chr2);
        }
        if (enc4 != 64) {
            output = output + String.fromCharCode(chr3);
        }

    }

    return output;

};

},{}],2:[function(_dereq_,module,exports){
'use strict';
function CompressedObject() {
    this.compressedSize = 0;
    this.uncompressedSize = 0;
    this.crc32 = 0;
    this.compressionMethod = null;
    this.compressedContent = null;
}

CompressedObject.prototype = {
    /**
     * Return the decompressed content in an unspecified format.
     * The format will depend on the decompressor.
     * @return {Object} the decompressed content.
     */
    getContent: function() {
        return null; // see implementation
    },
    /**
     * Return the compressed content in an unspecified format.
     * The format will depend on the compressed conten source.
     * @return {Object} the compressed content.
     */
    getCompressedContent: function() {
        return null; // see implementation
    }
};
module.exports = CompressedObject;

},{}],3:[function(_dereq_,module,exports){
'use strict';
exports.STORE = {
    magic: "\x00\x00",
    compress: function(content) {
        return content; // no compression
    },
    uncompress: function(content) {
        return content; // no compression
    },
    compressInputType: null,
    uncompressInputType: null
};
exports.DEFLATE = _dereq_('./flate');

},{"./flate":8}],4:[function(_dereq_,module,exports){
'use strict';

var utils = _dereq_('./utils');

var table = [
    0x00000000, 0x77073096, 0xEE0E612C, 0x990951BA,
    0x076DC419, 0x706AF48F, 0xE963A535, 0x9E6495A3,
    0x0EDB8832, 0x79DCB8A4, 0xE0D5E91E, 0x97D2D988,
    0x09B64C2B, 0x7EB17CBD, 0xE7B82D07, 0x90BF1D91,
    0x1DB71064, 0x6AB020F2, 0xF3B97148, 0x84BE41DE,
    0x1ADAD47D, 0x6DDDE4EB, 0xF4D4B551, 0x83D385C7,
    0x136C9856, 0x646BA8C0, 0xFD62F97A, 0x8A65C9EC,
    0x14015C4F, 0x63066CD9, 0xFA0F3D63, 0x8D080DF5,
    0x3B6E20C8, 0x4C69105E, 0xD56041E4, 0xA2677172,
    0x3C03E4D1, 0x4B04D447, 0xD20D85FD, 0xA50AB56B,
    0x35B5A8FA, 0x42B2986C, 0xDBBBC9D6, 0xACBCF940,
    0x32D86CE3, 0x45DF5C75, 0xDCD60DCF, 0xABD13D59,
    0x26D930AC, 0x51DE003A, 0xC8D75180, 0xBFD06116,
    0x21B4F4B5, 0x56B3C423, 0xCFBA9599, 0xB8BDA50F,
    0x2802B89E, 0x5F058808, 0xC60CD9B2, 0xB10BE924,
    0x2F6F7C87, 0x58684C11, 0xC1611DAB, 0xB6662D3D,
    0x76DC4190, 0x01DB7106, 0x98D220BC, 0xEFD5102A,
    0x71B18589, 0x06B6B51F, 0x9FBFE4A5, 0xE8B8D433,
    0x7807C9A2, 0x0F00F934, 0x9609A88E, 0xE10E9818,
    0x7F6A0DBB, 0x086D3D2D, 0x91646C97, 0xE6635C01,
    0x6B6B51F4, 0x1C6C6162, 0x856530D8, 0xF262004E,
    0x6C0695ED, 0x1B01A57B, 0x8208F4C1, 0xF50FC457,
    0x65B0D9C6, 0x12B7E950, 0x8BBEB8EA, 0xFCB9887C,
    0x62DD1DDF, 0x15DA2D49, 0x8CD37CF3, 0xFBD44C65,
    0x4DB26158, 0x3AB551CE, 0xA3BC0074, 0xD4BB30E2,
    0x4ADFA541, 0x3DD895D7, 0xA4D1C46D, 0xD3D6F4FB,
    0x4369E96A, 0x346ED9FC, 0xAD678846, 0xDA60B8D0,
    0x44042D73, 0x33031DE5, 0xAA0A4C5F, 0xDD0D7CC9,
    0x5005713C, 0x270241AA, 0xBE0B1010, 0xC90C2086,
    0x5768B525, 0x206F85B3, 0xB966D409, 0xCE61E49F,
    0x5EDEF90E, 0x29D9C998, 0xB0D09822, 0xC7D7A8B4,
    0x59B33D17, 0x2EB40D81, 0xB7BD5C3B, 0xC0BA6CAD,
    0xEDB88320, 0x9ABFB3B6, 0x03B6E20C, 0x74B1D29A,
    0xEAD54739, 0x9DD277AF, 0x04DB2615, 0x73DC1683,
    0xE3630B12, 0x94643B84, 0x0D6D6A3E, 0x7A6A5AA8,
    0xE40ECF0B, 0x9309FF9D, 0x0A00AE27, 0x7D079EB1,
    0xF00F9344, 0x8708A3D2, 0x1E01F268, 0x6906C2FE,
    0xF762575D, 0x806567CB, 0x196C3671, 0x6E6B06E7,
    0xFED41B76, 0x89D32BE0, 0x10DA7A5A, 0x67DD4ACC,
    0xF9B9DF6F, 0x8EBEEFF9, 0x17B7BE43, 0x60B08ED5,
    0xD6D6A3E8, 0xA1D1937E, 0x38D8C2C4, 0x4FDFF252,
    0xD1BB67F1, 0xA6BC5767, 0x3FB506DD, 0x48B2364B,
    0xD80D2BDA, 0xAF0A1B4C, 0x36034AF6, 0x41047A60,
    0xDF60EFC3, 0xA867DF55, 0x316E8EEF, 0x4669BE79,
    0xCB61B38C, 0xBC66831A, 0x256FD2A0, 0x5268E236,
    0xCC0C7795, 0xBB0B4703, 0x220216B9, 0x5505262F,
    0xC5BA3BBE, 0xB2BD0B28, 0x2BB45A92, 0x5CB36A04,
    0xC2D7FFA7, 0xB5D0CF31, 0x2CD99E8B, 0x5BDEAE1D,
    0x9B64C2B0, 0xEC63F226, 0x756AA39C, 0x026D930A,
    0x9C0906A9, 0xEB0E363F, 0x72076785, 0x05005713,
    0x95BF4A82, 0xE2B87A14, 0x7BB12BAE, 0x0CB61B38,
    0x92D28E9B, 0xE5D5BE0D, 0x7CDCEFB7, 0x0BDBDF21,
    0x86D3D2D4, 0xF1D4E242, 0x68DDB3F8, 0x1FDA836E,
    0x81BE16CD, 0xF6B9265B, 0x6FB077E1, 0x18B74777,
    0x88085AE6, 0xFF0F6A70, 0x66063BCA, 0x11010B5C,
    0x8F659EFF, 0xF862AE69, 0x616BFFD3, 0x166CCF45,
    0xA00AE278, 0xD70DD2EE, 0x4E048354, 0x3903B3C2,
    0xA7672661, 0xD06016F7, 0x4969474D, 0x3E6E77DB,
    0xAED16A4A, 0xD9D65ADC, 0x40DF0B66, 0x37D83BF0,
    0xA9BCAE53, 0xDEBB9EC5, 0x47B2CF7F, 0x30B5FFE9,
    0xBDBDF21C, 0xCABAC28A, 0x53B39330, 0x24B4A3A6,
    0xBAD03605, 0xCDD70693, 0x54DE5729, 0x23D967BF,
    0xB3667A2E, 0xC4614AB8, 0x5D681B02, 0x2A6F2B94,
    0xB40BBE37, 0xC30C8EA1, 0x5A05DF1B, 0x2D02EF8D
];

/**
 *
 *  Javascript crc32
 *  http://www.webtoolkit.info/
 *
 */
module.exports = function crc32(input, crc) {
    if (typeof input === "undefined" || !input.length) {
        return 0;
    }

    var isArray = utils.getTypeOf(input) !== "string";

    if (typeof(crc) == "undefined") {
        crc = 0;
    }
    var x = 0;
    var y = 0;
    var b = 0;

    crc = crc ^ (-1);
    for (var i = 0, iTop = input.length; i < iTop; i++) {
        b = isArray ? input[i] : input.charCodeAt(i);
        y = (crc ^ b) & 0xFF;
        x = table[y];
        crc = (crc >>> 8) ^ x;
    }

    return crc ^ (-1);
};
// vim: set shiftwidth=4 softtabstop=4:

},{"./utils":21}],5:[function(_dereq_,module,exports){
'use strict';
var utils = _dereq_('./utils');

function DataReader(data) {
    this.data = null; // type : see implementation
    this.length = 0;
    this.index = 0;
}
DataReader.prototype = {
    /**
     * Check that the offset will not go too far.
     * @param {string} offset the additional offset to check.
     * @throws {Error} an Error if the offset is out of bounds.
     */
    checkOffset: function(offset) {
        this.checkIndex(this.index + offset);
    },
    /**
     * Check that the specifed index will not be too far.
     * @param {string} newIndex the index to check.
     * @throws {Error} an Error if the index is out of bounds.
     */
    checkIndex: function(newIndex) {
        if (this.length < newIndex || newIndex < 0) {
            throw new Error("End of data reached (data length = " + this.length + ", asked index = " + (newIndex) + "). Corrupted zip ?");
        }
    },
    /**
     * Change the index.
     * @param {number} newIndex The new index.
     * @throws {Error} if the new index is out of the data.
     */
    setIndex: function(newIndex) {
        this.checkIndex(newIndex);
        this.index = newIndex;
    },
    /**
     * Skip the next n bytes.
     * @param {number} n the number of bytes to skip.
     * @throws {Error} if the new index is out of the data.
     */
    skip: function(n) {
        this.setIndex(this.index + n);
    },
    /**
     * Get the byte at the specified index.
     * @param {number} i the index to use.
     * @return {number} a byte.
     */
    byteAt: function(i) {
        // see implementations
    },
    /**
     * Get the next number with a given byte size.
     * @param {number} size the number of bytes to read.
     * @return {number} the corresponding number.
     */
    readInt: function(size) {
        var result = 0,
            i;
        this.checkOffset(size);
        for (i = this.index + size - 1; i >= this.index; i--) {
            result = (result << 8) + this.byteAt(i);
        }
        this.index += size;
        return result;
    },
    /**
     * Get the next string with a given byte size.
     * @param {number} size the number of bytes to read.
     * @return {string} the corresponding string.
     */
    readString: function(size) {
        return utils.transformTo("string", this.readData(size));
    },
    /**
     * Get raw data without conversion, <size> bytes.
     * @param {number} size the number of bytes to read.
     * @return {Object} the raw data, implementation specific.
     */
    readData: function(size) {
        // see implementations
    },
    /**
     * Find the last occurence of a zip signature (4 bytes).
     * @param {string} sig the signature to find.
     * @return {number} the index of the last occurence, -1 if not found.
     */
    lastIndexOfSignature: function(sig) {
        // see implementations
    },
    /**
     * Get the next date.
     * @return {Date} the date.
     */
    readDate: function() {
        var dostime = this.readInt(4);
        return new Date(
        ((dostime >> 25) & 0x7f) + 1980, // year
        ((dostime >> 21) & 0x0f) - 1, // month
        (dostime >> 16) & 0x1f, // day
        (dostime >> 11) & 0x1f, // hour
        (dostime >> 5) & 0x3f, // minute
        (dostime & 0x1f) << 1); // second
    }
};
module.exports = DataReader;

},{"./utils":21}],6:[function(_dereq_,module,exports){
'use strict';
exports.base64 = false;
exports.binary = false;
exports.dir = false;
exports.createFolders = false;
exports.date = null;
exports.compression = null;
exports.comment = null;

},{}],7:[function(_dereq_,module,exports){
'use strict';
var utils = _dereq_('./utils');

/**
 * @deprecated
 * This function will be removed in a future version without replacement.
 */
exports.string2binary = function(str) {
    return utils.string2binary(str);
};

/**
 * @deprecated
 * This function will be removed in a future version without replacement.
 */
exports.string2Uint8Array = function(str) {
    return utils.transformTo("uint8array", str);
};

/**
 * @deprecated
 * This function will be removed in a future version without replacement.
 */
exports.uint8Array2String = function(array) {
    return utils.transformTo("string", array);
};

/**
 * @deprecated
 * This function will be removed in a future version without replacement.
 */
exports.string2Blob = function(str) {
    var buffer = utils.transformTo("arraybuffer", str);
    return utils.arrayBuffer2Blob(buffer);
};

/**
 * @deprecated
 * This function will be removed in a future version without replacement.
 */
exports.arrayBuffer2Blob = function(buffer) {
    return utils.arrayBuffer2Blob(buffer);
};

/**
 * @deprecated
 * This function will be removed in a future version without replacement.
 */
exports.transformTo = function(outputType, input) {
    return utils.transformTo(outputType, input);
};

/**
 * @deprecated
 * This function will be removed in a future version without replacement.
 */
exports.getTypeOf = function(input) {
    return utils.getTypeOf(input);
};

/**
 * @deprecated
 * This function will be removed in a future version without replacement.
 */
exports.checkSupport = function(type) {
    return utils.checkSupport(type);
};

/**
 * @deprecated
 * This value will be removed in a future version without replacement.
 */
exports.MAX_VALUE_16BITS = utils.MAX_VALUE_16BITS;

/**
 * @deprecated
 * This value will be removed in a future version without replacement.
 */
exports.MAX_VALUE_32BITS = utils.MAX_VALUE_32BITS;


/**
 * @deprecated
 * This function will be removed in a future version without replacement.
 */
exports.pretty = function(str) {
    return utils.pretty(str);
};

/**
 * @deprecated
 * This function will be removed in a future version without replacement.
 */
exports.findCompression = function(compressionMethod) {
    return utils.findCompression(compressionMethod);
};

/**
 * @deprecated
 * This function will be removed in a future version without replacement.
 */
exports.isRegExp = function (object) {
    return utils.isRegExp(object);
};


},{"./utils":21}],8:[function(_dereq_,module,exports){
'use strict';
var USE_TYPEDARRAY = (typeof Uint8Array !== 'undefined') && (typeof Uint16Array !== 'undefined') && (typeof Uint32Array !== 'undefined');

var pako = _dereq_("pako");
exports.uncompressInputType = USE_TYPEDARRAY ? "uint8array" : "array";
exports.compressInputType = USE_TYPEDARRAY ? "uint8array" : "array";

exports.magic = "\x08\x00";
exports.compress = function(input) {
    return pako.deflateRaw(input);
};
exports.uncompress =  function(input) {
    return pako.inflateRaw(input);
};

},{"pako":24}],9:[function(_dereq_,module,exports){
'use strict';

var base64 = _dereq_('./base64');

/**
Usage:
   zip = new JSZip();
   zip.file("hello.txt", "Hello, World!").file("tempfile", "nothing");
   zip.folder("images").file("smile.gif", base64Data, {base64: true});
   zip.file("Xmas.txt", "Ho ho ho !", {date : new Date("December 25, 2007 00:00:01")});
   zip.remove("tempfile");

   base64zip = zip.generate();

**/

/**
 * Representation a of zip file in js
 * @constructor
 * @param {String=|ArrayBuffer=|Uint8Array=} data the data to load, if any (optional).
 * @param {Object=} options the options for creating this objects (optional).
 */
function JSZipSync(data, options) {
    // if this constructor isÂ used withoutÂ `new`, itÂ adds `new` beforeÂ itself:
    if(!(this instanceof JSZipSync)) return new JSZipSync(data, options);

    // object containing the files :
    // {
    //   "folder/" : {...},
    //   "folder/data.txt" : {...}
    // }
    this.files = {};

    this.comment = null;

    // Where we are in the hierarchy
    this.root = "";
    if (data) {
        this.load(data, options);
    }
    this.clone = function() {
        var newObj = new JSZipSync();
        for (var i in this) {
            if (typeof this[i] !== "function") {
                newObj[i] = this[i];
            }
        }
        return newObj;
    };
}
JSZipSync.prototype = _dereq_('./object');
JSZipSync.prototype.load = _dereq_('./load');
JSZipSync.support = _dereq_('./support');
JSZipSync.defaults = _dereq_('./defaults');

/**
 * @deprecated
 * This namespace will be removed in a future version without replacement.
 */
JSZipSync.utils = _dereq_('./deprecatedPublicUtils');

JSZipSync.base64 = {
    /**
     * @deprecated
     * This method will be removed in a future version without replacement.
     */
    encode : function(input) {
        return base64.encode(input);
    },
    /**
     * @deprecated
     * This method will be removed in a future version without replacement.
     */
    decode : function(input) {
        return base64.decode(input);
    }
};
JSZipSync.compressions = _dereq_('./compressions');
module.exports = JSZipSync;

},{"./base64":1,"./compressions":3,"./defaults":6,"./deprecatedPublicUtils":7,"./load":10,"./object":13,"./support":17}],10:[function(_dereq_,module,exports){
'use strict';
var base64 = _dereq_('./base64');
var ZipEntries = _dereq_('./zipEntries');
module.exports = function(data, options) {
    var files, zipEntries, i, input;
    options = options || {};
    if (options.base64) {
        data = base64.decode(data);
    }

    zipEntries = new ZipEntries(data, options);
    files = zipEntries.files;
    for (i = 0; i < files.length; i++) {
        input = files[i];
        this.file(input.fileName, input.decompressed, {
            binary: true,
            optimizedBinaryString: true,
            date: input.date,
            dir: input.dir,
            comment : input.fileComment.length ? input.fileComment : null,
            createFolders: options.createFolders
        });
    }
    if (zipEntries.zipComment.length) {
        this.comment = zipEntries.zipComment;
    }

    return this;
};

},{"./base64":1,"./zipEntries":22}],11:[function(_dereq_,module,exports){
(function (Buffer){
'use strict';
var Buffer_from = /*::(*/function(){}/*:: :any)*/;
if(typeof Buffer !== 'undefined') {
	var nbfs = !Buffer.from;
	if(!nbfs) try { Buffer.from("foo", "utf8"); } catch(e) { nbfs = true; }
	Buffer_from = nbfs ? function(buf, enc) { return (enc) ? new Buffer(buf, enc) : new Buffer(buf); } : Buffer.from.bind(Buffer);
	// $FlowIgnore
	if(!Buffer.alloc) Buffer.alloc = function(n) { return new Buffer(n); };
}
module.exports = function(data, encoding){
    return typeof data == 'number' ? Buffer.alloc(data) : Buffer_from(data, encoding);
};
module.exports.test = function(b){
    return Buffer.isBuffer(b);
};
}).call(this,(typeof Buffer !== "undefined" ? Buffer : undefined))
},{}],12:[function(_dereq_,module,exports){
'use strict';
var Uint8ArrayReader = _dereq_('./uint8ArrayReader');

function NodeBufferReader(data) {
    this.data = data;
    this.length = this.data.length;
    this.index = 0;
}
NodeBufferReader.prototype = new Uint8ArrayReader();

/**
 * @see DataReader.readData
 */
NodeBufferReader.prototype.readData = function(size) {
    this.checkOffset(size);
    var result = this.data.slice(this.index, this.index + size);
    this.index += size;
    return result;
};
module.exports = NodeBufferReader;

},{"./uint8ArrayReader":18}],13:[function(_dereq_,module,exports){
'use strict';
var support = _dereq_('./support');
var utils = _dereq_('./utils');
var crc32 = _dereq_('./crc32');
var signature = _dereq_('./signature');
var defaults = _dereq_('./defaults');
var base64 = _dereq_('./base64');
var compressions = _dereq_('./compressions');
var CompressedObject = _dereq_('./compressedObject');
var nodeBuffer = _dereq_('./nodeBuffer');
var utf8 = _dereq_('./utf8');
var StringWriter = _dereq_('./stringWriter');
var Uint8ArrayWriter = _dereq_('./uint8ArrayWriter');

/**
 * Returns the raw data of a ZipObject, decompress the content if necessary.
 * @param {ZipObject} file the file to use.
 * @return {String|ArrayBuffer|Uint8Array|Buffer} the data.
 */
var getRawData = function(file) {
    if (file._data instanceof CompressedObject) {
        file._data = file._data.getContent();
        file.options.binary = true;
        file.options.base64 = false;

        if (utils.getTypeOf(file._data) === "uint8array") {
            var copy = file._data;
            // when reading an arraybuffer, the CompressedObject mechanism will keep it and subarray() a Uint8Array.
            // if we request a file in the same format, we might get the same Uint8Array or its ArrayBuffer (the original zip file).
            file._data = new Uint8Array(copy.length);
            // with an empty Uint8Array, Opera fails with a "Offset larger than array size"
            if (copy.length !== 0) {
                file._data.set(copy, 0);
            }
        }
    }
    return file._data;
};

/**
 * Returns the data of a ZipObject in a binary form. If the content is an unicode string, encode it.
 * @param {ZipObject} file the file to use.
 * @return {String|ArrayBuffer|Uint8Array|Buffer} the data.
 */
var getBinaryData = function(file) {
    var result = getRawData(file),
        type = utils.getTypeOf(result);
    if (type === "string") {
        if (!file.options.binary) {
            // unicode text !
            // unicode string => binary string is a painful process, check if we can avoid it.
            if (support.nodebuffer) {
                return nodeBuffer(result, "utf-8");
            }
        }
        return file.asBinary();
    }
    return result;
};

/**
 * Transform this._data into a string.
 * @param {function} filter a function String -> String, applied if not null on the result.
 * @return {String} the string representing this._data.
 */
var dataToString = function(asUTF8) {
    var result = getRawData(this);
    if (result === null || typeof result === "undefined") {
        return "";
    }
    // if the data is a base64 string, we decode it before checking the encoding !
    if (this.options.base64) {
        result = base64.decode(result);
    }
    if (asUTF8 && this.options.binary) {
        // JSZip.prototype.utf8decode supports arrays as input
        // skip to array => string step, utf8decode will do it.
        result = out.utf8decode(result);
    }
    else {
        // no utf8 transformation, do the array => string step.
        result = utils.transformTo("string", result);
    }

    if (!asUTF8 && !this.options.binary) {
        result = utils.transformTo("string", out.utf8encode(result));
    }
    return result;
};
/**
 * A simple object representing a file in the zip file.
 * @constructor
 * @param {string} name the name of the file
 * @param {String|ArrayBuffer|Uint8Array|Buffer} data the data
 * @param {Object} options the options of the file
 */
var ZipObject = function(name, data, options) {
    this.name = name;
    this.dir = options.dir;
    this.date = options.date;
    this.comment = options.comment;

    this._data = data;
    this.options = options;

    /*
     * This object contains initial values for dir and date.
     * With them, we can check if the user changed the deprecated metadata in
     * `ZipObject#options` or not.
     */
    this._initialMetadata = {
      dir : options.dir,
      date : options.date
    };
};

ZipObject.prototype = {
    /**
     * Return the content as UTF8 string.
     * @return {string} the UTF8 string.
     */
    asText: function() {
        return dataToString.call(this, true);
    },
    /**
     * Returns the binary content.
     * @return {string} the content as binary.
     */
    asBinary: function() {
        return dataToString.call(this, false);
    },
    /**
     * Returns the content as a nodejs Buffer.
     * @return {Buffer} the content as a Buffer.
     */
    asNodeBuffer: function() {
        var result = getBinaryData(this);
        return utils.transformTo("nodebuffer", result);
    },
    /**
     * Returns the content as an Uint8Array.
     * @return {Uint8Array} the content as an Uint8Array.
     */
    asUint8Array: function() {
        var result = getBinaryData(this);
        return utils.transformTo("uint8array", result);
    },
    /**
     * Returns the content as an ArrayBuffer.
     * @return {ArrayBuffer} the content as an ArrayBufer.
     */
    asArrayBuffer: function() {
        return this.asUint8Array().buffer;
    }
};

/**
 * Transform an integer into a string in hexadecimal.
 * @private
 * @param {number} dec the number to convert.
 * @param {number} bytes the number of bytes to generate.
 * @returns {string} the result.
 */
var decToHex = function(dec, bytes) {
    var hex = "",
        i;
    for (i = 0; i < bytes; i++) {
        hex += String.fromCharCode(dec & 0xff);
        dec = dec >>> 8;
    }
    return hex;
};

/**
 * Merge the objects passed as parameters into a new one.
 * @private
 * @param {...Object} var_args All objects to merge.
 * @return {Object} a new object with the data of the others.
 */
var extend = function() {
    var result = {}, i, attr;
    for (i = 0; i < arguments.length; i++) { // arguments is not enumerable in some browsers
        for (attr in arguments[i]) {
            if (arguments[i].hasOwnProperty(attr) && typeof result[attr] === "undefined") {
                result[attr] = arguments[i][attr];
            }
        }
    }
    return result;
};

/**
 * Transforms the (incomplete) options from the user into the complete
 * set of options to create a file.
 * @private
 * @param {Object} o the options from the user.
 * @return {Object} the complete set of options.
 */
var prepareFileAttrs = function(o) {
    o = o || {};
    if (o.base64 === true && (o.binary === null || o.binary === undefined)) {
        o.binary = true;
    }
    o = extend(o, defaults);
    o.date = o.date || new Date();
    if (o.compression !== null) o.compression = o.compression.toUpperCase();

    return o;
};

/**
 * Add a file in the current folder.
 * @private
 * @param {string} name the name of the file
 * @param {String|ArrayBuffer|Uint8Array|Buffer} data the data of the file
 * @param {Object} o the options of the file
 * @return {Object} the new file.
 */
var fileAdd = function(name, data, o) {
    // be sure sub folders exist
    var dataType = utils.getTypeOf(data),
        parent;

    o = prepareFileAttrs(o);

    if (o.createFolders && (parent = parentFolder(name))) {
        folderAdd.call(this, parent, true);
    }

    if (o.dir || data === null || typeof data === "undefined") {
        o.base64 = false;
        o.binary = false;
        data = null;
    }
    else if (dataType === "string") {
        if (o.binary && !o.base64) {
            // optimizedBinaryString == true means that the file has already been filtered with a 0xFF mask
            if (o.optimizedBinaryString !== true) {
                // this is a string, not in a base64 format.
                // Be sure that this is a correct "binary string"
                data = utils.string2binary(data);
            }
        }
    }
    else { // arraybuffer, uint8array, ...
        o.base64 = false;
        o.binary = true;

        if (!dataType && !(data instanceof CompressedObject)) {
            throw new Error("The data of '" + name + "' is in an unsupported format !");
        }

        // special case : it's way easier to work with Uint8Array than with ArrayBuffer
        if (dataType === "arraybuffer") {
            data = utils.transformTo("uint8array", data);
        }
    }

    var object = new ZipObject(name, data, o);
    this.files[name] = object;
    return object;
};

/**
 * Find the parent folder of the path.
 * @private
 * @param {string} path the path to use
 * @return {string} the parent folder, or ""
 */
var parentFolder = function (path) {
    if (path.slice(-1) == '/') {
        path = path.substring(0, path.length - 1);
    }
    var lastSlash = path.lastIndexOf('/');
    return (lastSlash > 0) ? path.substring(0, lastSlash) : "";
};

/**
 * Add a (sub) folder in the current folder.
 * @private
 * @param {string} name the folder's name
 * @param {boolean=} [createFolders] If true, automatically create sub
 *  folders. Defaults to false.
 * @return {Object} the new folder.
 */
var folderAdd = function(name, createFolders) {
    // Check the name ends with a /
    if (name.slice(-1) != "/") {
        name += "/"; // IE doesn't like substr(-1)
    }

    createFolders = (typeof createFolders !== 'undefined') ? createFolders : false;

    // Does this folder already exist?
    if (!this.files[name]) {
        fileAdd.call(this, name, null, {
            dir: true,
            createFolders: createFolders
        });
    }
    return this.files[name];
};

/**
 * Generate a JSZip.CompressedObject for a given zipOject.
 * @param {ZipObject} file the object to read.
 * @param {JSZip.compression} compression the compression to use.
 * @return {JSZip.CompressedObject} the compressed result.
 */
var generateCompressedObjectFrom = function(file, compression) {
    var result = new CompressedObject(),
        content;

    // the data has not been decompressed, we might reuse things !
    if (file._data instanceof CompressedObject) {
        result.uncompressedSize = file._data.uncompressedSize;
        result.crc32 = file._data.crc32;

        if (result.uncompressedSize === 0 || file.dir) {
            compression = compressions['STORE'];
            result.compressedContent = "";
            result.crc32 = 0;
        }
        else if (file._data.compressionMethod === compression.magic) {
            result.compressedContent = file._data.getCompressedContent();
        }
        else {
            content = file._data.getContent();
            // need to decompress / recompress
            result.compressedContent = compression.compress(utils.transformTo(compression.compressInputType, content));
        }
    }
    else {
        // have uncompressed data
        content = getBinaryData(file);
        if (!content || content.length === 0 || file.dir) {
            compression = compressions['STORE'];
            content = "";
        }
        result.uncompressedSize = content.length;
        result.crc32 = crc32(content);
        result.compressedContent = compression.compress(utils.transformTo(compression.compressInputType, content));
    }

    result.compressedSize = result.compressedContent.length;
    result.compressionMethod = compression.magic;

    return result;
};

/**
 * Generate the various parts used in the construction of the final zip file.
 * @param {string} name the file name.
 * @param {ZipObject} file the file content.
 * @param {JSZip.CompressedObject} compressedObject the compressed object.
 * @param {number} offset the current offset from the start of the zip file.
 * @return {object} the zip parts.
 */
var generateZipParts = function(name, file, compressedObject, offset) {
    var data = compressedObject.compressedContent,
        utfEncodedFileName = utils.transformTo("string", utf8.utf8encode(file.name)),
        comment = file.comment || "",
        utfEncodedComment = utils.transformTo("string", utf8.utf8encode(comment)),
        useUTF8ForFileName = utfEncodedFileName.length !== file.name.length,
        useUTF8ForComment = utfEncodedComment.length !== comment.length,
        o = file.options,
        dosTime,
        dosDate,
        extraFields = "",
        unicodePathExtraField = "",
        unicodeCommentExtraField = "",
        dir, date;


    // handle the deprecated options.dir
    if (file._initialMetadata.dir !== file.dir) {
        dir = file.dir;
    } else {
        dir = o.dir;
    }

    // handle the deprecated options.date
    if(file._initialMetadata.date !== file.date) {
        date = file.date;
    } else {
        date = o.date;
    }


    dosTime = date.getHours();
    dosTime = dosTime << 6;
    dosTime = dosTime | date.getMinutes();
    dosTime = dosTime << 5;
    dosTime = dosTime | date.getSeconds() / 2;

    dosDate = date.getFullYear() - 1980;
    dosDate = dosDate << 4;
    dosDate = dosDate | (date.getMonth() + 1);
    dosDate = dosDate << 5;
    dosDate = dosDate | date.getDate();

    if (useUTF8ForFileName) {
        // set the unicode path extra field. unzip needs at least one extra
        // field to correctly handle unicode path, so using the path is as good
        // as any other information. This could improve the situation with
        // other archive managers too.
        // This field is usually used without the utf8 flag, with a non
        // unicode path in the header (winrar, winzip). This helps (a bit)
        // with the messy Windows' default compressed folders feature but
        // breaks on p7zip which doesn't seek the unicode path extra field.
        // So for now, UTF-8 everywhere !
        unicodePathExtraField =
            // Version
            decToHex(1, 1) +
            // NameCRC32
            decToHex(crc32(utfEncodedFileName), 4) +
            // UnicodeName
            utfEncodedFileName;

        extraFields +=
            // Info-ZIP Unicode Path Extra Field
            "\x75\x70" +
            // size
            decToHex(unicodePathExtraField.length, 2) +
            // content
            unicodePathExtraField;
    }

    if(useUTF8ForComment) {

        unicodeCommentExtraField =
            // Version
            decToHex(1, 1) +
            // CommentCRC32
            decToHex(this.crc32(utfEncodedComment), 4) +
            // UnicodeName
            utfEncodedComment;

        extraFields +=
            // Info-ZIP Unicode Path Extra Field
            "\x75\x63" +
            // size
            decToHex(unicodeCommentExtraField.length, 2) +
            // content
            unicodeCommentExtraField;
    }

    var header = "";

    // version needed to extract
    header += "\x0A\x00";
    // general purpose bit flag
    // set bit 11 if utf8
    header += (useUTF8ForFileName || useUTF8ForComment) ? "\x00\x08" : "\x00\x00";
    // compression method
    header += compressedObject.compressionMethod;
    // last mod file time
    header += decToHex(dosTime, 2);
    // last mod file date
    header += decToHex(dosDate, 2);
    // crc-32
    header += decToHex(compressedObject.crc32, 4);
    // compressed size
    header += decToHex(compressedObject.compressedSize, 4);
    // uncompressed size
    header += decToHex(compressedObject.uncompressedSize, 4);
    // file name length
    header += decToHex(utfEncodedFileName.length, 2);
    // extra field length
    header += decToHex(extraFields.length, 2);


    var fileRecord = signature.LOCAL_FILE_HEADER + header + utfEncodedFileName + extraFields;

    var dirRecord = signature.CENTRAL_FILE_HEADER +
    // version made by (00: DOS)
    "\x14\x00" +
    // file header (common to file and central directory)
    header +
    // file comment length
    decToHex(utfEncodedComment.length, 2) +
    // disk number start
    "\x00\x00" +
    // internal file attributes TODO
    "\x00\x00" +
    // external file attributes
    (dir === true ? "\x10\x00\x00\x00" : "\x00\x00\x00\x00") +
    // relative offset of local header
    decToHex(offset, 4) +
    // file name
    utfEncodedFileName +
    // extra field
    extraFields +
    // file comment
    utfEncodedComment;

    return {
        fileRecord: fileRecord,
        dirRecord: dirRecord,
        compressedObject: compressedObject
    };
};


// return the actual prototype of JSZip
var out = {
    /**
     * Read an existing zip and merge the data in the current JSZip object.
     * The implementation is in jszip-load.js, don't forget to include it.
     * @param {String|ArrayBuffer|Uint8Array|Buffer} stream  The stream to load
     * @param {Object} options Options for loading the stream.
     *  options.base64 : is the stream in base64 ? default : false
     * @return {JSZip} the current JSZip object
     */
    load: function(stream, options) {
        throw new Error("Load method is not defined. Is the file jszip-load.js included ?");
    },

    /**
     * Filter nested files/folders with the specified function.
     * @param {Function} search the predicate to use :
     * function (relativePath, file) {...}
     * It takes 2 arguments : the relative path and the file.
     * @return {Array} An array of matching elements.
     */
    filter: function(search) {
        var result = [],
            filename, relativePath, file, fileClone;
        for (filename in this.files) {
            if (!this.files.hasOwnProperty(filename)) {
                continue;
            }
            file = this.files[filename];
            // return a new object, don't let the user mess with our internal objects :)
            fileClone = new ZipObject(file.name, file._data, extend(file.options));
            relativePath = filename.slice(this.root.length, filename.length);
            if (filename.slice(0, this.root.length) === this.root && // the file is in the current root
            search(relativePath, fileClone)) { // and the file matches the function
                result.push(fileClone);
            }
        }
        return result;
    },

    /**
     * Add a file to the zip file, or search a file.
     * @param   {string|RegExp} name The name of the file to add (if data is defined),
     * the name of the file to find (if no data) or a regex to match files.
     * @param   {String|ArrayBuffer|Uint8Array|Buffer} data  The file data, either raw or base64 encoded
     * @param   {Object} o     File options
     * @return  {JSZip|Object|Array} this JSZip object (when adding a file),
     * a file (when searching by string) or an array of files (when searching by regex).
     */
    file: function(name, data, o) {
        if (arguments.length === 1) {
            if (utils.isRegExp(name)) {
                var regexp = name;
                return this.filter(function(relativePath, file) {
                    return !file.dir && regexp.test(relativePath);
                });
            }
            else { // text
                return this.filter(function(relativePath, file) {
                    return !file.dir && relativePath === name;
                })[0] || null;
            }
        }
        else { // more than one argument : we have data !
            name = this.root + name;
            fileAdd.call(this, name, data, o);
        }
        return this;
    },

    /**
     * Add a directory to the zip file, or search.
     * @param   {String|RegExp} arg The name of the directory to add, or a regex to search folders.
     * @return  {JSZip} an object with the new directory as the root, or an array containing matching folders.
     */
    folder: function(arg) {
        if (!arg) {
            return this;
        }

        if (utils.isRegExp(arg)) {
            return this.filter(function(relativePath, file) {
                return file.dir && arg.test(relativePath);
            });
        }

        // else, name is a new folder
        var name = this.root + arg;
        var newFolder = folderAdd.call(this, name);

        // Allow chaining by returning a new object with this folder as the root
        var ret = this.clone();
        ret.root = newFolder.name;
        return ret;
    },

    /**
     * Delete a file, or a directory and all sub-files, from the zip
     * @param {string} name the name of the file to delete
     * @return {JSZip} this JSZip object
     */
    remove: function(name) {
        name = this.root + name;
        var file = this.files[name];
        if (!file) {
            // Look for any folders
            if (name.slice(-1) != "/") {
                name += "/";
            }
            file = this.files[name];
        }

        if (file && !file.dir) {
            // file
            delete this.files[name];
        } else {
            // maybe a folder, delete recursively
            var kids = this.filter(function(relativePath, file) {
                return file.name.slice(0, name.length) === name;
            });
            for (var i = 0; i < kids.length; i++) {
                delete this.files[kids[i].name];
            }
        }

        return this;
    },

    /**
     * Generate the complete zip file
     * @param {Object} options the options to generate the zip file :
     * - base64, (deprecated, use type instead) true to generate base64.
     * - compression, "STORE" by default.
     * - type, "base64" by default. Values are : string, base64, uint8array, arraybuffer, blob.
     * @return {String|Uint8Array|ArrayBuffer|Buffer|Blob} the zip file
     */
    generate: function(options) {
        options = extend(options || {}, {
            base64: true,
            compression: "STORE",
            type: "base64",
            comment: null
        });

        utils.checkSupport(options.type);

        var zipData = [],
            localDirLength = 0,
            centralDirLength = 0,
            writer, i,
            utfEncodedComment = utils.transformTo("string", this.utf8encode(options.comment || this.comment || ""));

        // first, generate all the zip parts.
        for (var name in this.files) {
            if (!this.files.hasOwnProperty(name)) {
                continue;
            }
            var file = this.files[name];

            var compressionName = file.options.compression || options.compression.toUpperCase();
            var compression = compressions[compressionName];
            if (!compression) {
                throw new Error(compressionName + " is not a valid compression method !");
            }

            var compressedObject = generateCompressedObjectFrom.call(this, file, compression);

            var zipPart = generateZipParts.call(this, name, file, compressedObject, localDirLength);
            localDirLength += zipPart.fileRecord.length + compressedObject.compressedSize;
            centralDirLength += zipPart.dirRecord.length;
            zipData.push(zipPart);
        }

        var dirEnd = "";

        // end of central dir signature
        dirEnd = signature.CENTRAL_DIRECTORY_END +
        // number of this disk
        "\x00\x00" +
        // number of the disk with the start of the central directory
        "\x00\x00" +
        // total number of entries in the central directory on this disk
        decToHex(zipData.length, 2) +
        // total number of entries in the central directory
        decToHex(zipData.length, 2) +
        // size of the central directory   4 bytes
        decToHex(centralDirLength, 4) +
        // offset of start of central directory with respect to the starting disk number
        decToHex(localDirLength, 4) +
        // .ZIP file comment length
        decToHex(utfEncodedComment.length, 2) +
        // .ZIP file comment
        utfEncodedComment;


        // we have all the parts (and the total length)
        // time to create a writer !
        var typeName = options.type.toLowerCase();
        if(typeName==="uint8array"||typeName==="arraybuffer"||typeName==="blob"||typeName==="nodebuffer") {
            writer = new Uint8ArrayWriter(localDirLength + centralDirLength + dirEnd.length);
        }else{
            writer = new StringWriter(localDirLength + centralDirLength + dirEnd.length);
        }

        for (i = 0; i < zipData.length; i++) {
            writer.append(zipData[i].fileRecord);
            writer.append(zipData[i].compressedObject.compressedContent);
        }
        for (i = 0; i < zipData.length; i++) {
            writer.append(zipData[i].dirRecord);
        }

        writer.append(dirEnd);

        var zip = writer.finalize();



        switch(options.type.toLowerCase()) {
            // case "zip is an Uint8Array"
            case "uint8array" :
            case "arraybuffer" :
            case "nodebuffer" :
               return utils.transformTo(options.type.toLowerCase(), zip);
            case "blob" :
               return utils.arrayBuffer2Blob(utils.transformTo("arraybuffer", zip));
            // case "zip is a string"
            case "base64" :
               return (options.base64) ? base64.encode(zip) : zip;
            default : // case "string" :
               return zip;
         }

    },

    /**
     * @deprecated
     * This method will be removed in a future version without replacement.
     */
    crc32: function (input, crc) {
        return crc32(input, crc);
    },

    /**
     * @deprecated
     * This method will be removed in a future version without replacement.
     */
    utf8encode: function (string) {
        return utils.transformTo("string", utf8.utf8encode(string));
    },

    /**
     * @deprecated
     * This method will be removed in a future version without replacement.
     */
    utf8decode: function (input) {
        return utf8.utf8decode(input);
    }
};
module.exports = out;

},{"./base64":1,"./compressedObject":2,"./compressions":3,"./crc32":4,"./defaults":6,"./nodeBuffer":11,"./signature":14,"./stringWriter":16,"./support":17,"./uint8ArrayWriter":19,"./utf8":20,"./utils":21}],14:[function(_dereq_,module,exports){
'use strict';
exports.LOCAL_FILE_HEADER = "PK\x03\x04";
exports.CENTRAL_FILE_HEADER = "PK\x01\x02";
exports.CENTRAL_DIRECTORY_END = "PK\x05\x06";
exports.ZIP64_CENTRAL_DIRECTORY_LOCATOR = "PK\x06\x07";
exports.ZIP64_CENTRAL_DIRECTORY_END = "PK\x06\x06";
exports.DATA_DESCRIPTOR = "PK\x07\x08";

},{}],15:[function(_dereq_,module,exports){
'use strict';
var DataReader = _dereq_('./dataReader');
var utils = _dereq_('./utils');

function StringReader(data, optimizedBinaryString) {
    this.data = data;
    if (!optimizedBinaryString) {
        this.data = utils.string2binary(this.data);
    }
    this.length = this.data.length;
    this.index = 0;
}
StringReader.prototype = new DataReader();
/**
 * @see DataReader.byteAt
 */
StringReader.prototype.byteAt = function(i) {
    return this.data.charCodeAt(i);
};
/**
 * @see DataReader.lastIndexOfSignature
 */
StringReader.prototype.lastIndexOfSignature = function(sig) {
    return this.data.lastIndexOf(sig);
};
/**
 * @see DataReader.readData
 */
StringReader.prototype.readData = function(size) {
    this.checkOffset(size);
    // this will work because the constructor applied the "& 0xff" mask.
    var result = this.data.slice(this.index, this.index + size);
    this.index += size;
    return result;
};
module.exports = StringReader;

},{"./dataReader":5,"./utils":21}],16:[function(_dereq_,module,exports){
'use strict';

var utils = _dereq_('./utils');

/**
 * An object to write any content to a string.
 * @constructor
 */
var StringWriter = function() {
    this.data = [];
};
StringWriter.prototype = {
    /**
     * Append any content to the current string.
     * @param {Object} input the content to add.
     */
    append: function(input) {
        input = utils.transformTo("string", input);
        this.data.push(input);
    },
    /**
     * Finalize the construction an return the result.
     * @return {string} the generated string.
     */
    finalize: function() {
        return this.data.join("");
    }
};

module.exports = StringWriter;

},{"./utils":21}],17:[function(_dereq_,module,exports){
(function (Buffer){
'use strict';
exports.base64 = true;
exports.array = true;
exports.string = true;
exports.arraybuffer = typeof ArrayBuffer !== "undefined" && typeof Uint8Array !== "undefined";
// contains true if JSZip can read/generate nodejs Buffer, false otherwise.
// Browserify will provide a Buffer implementation for browsers, which is
// an augmented Uint8Array (i.e., can be used as either Buffer or U8).
exports.nodebuffer = typeof Buffer !== "undefined";
// contains true if JSZip can read/generate Uint8Array, false otherwise.
exports.uint8array = typeof Uint8Array !== "undefined";

if (typeof ArrayBuffer === "undefined") {
    exports.blob = false;
}
else {
    var buffer = new ArrayBuffer(0);
    try {
        exports.blob = new Blob([buffer], {
            type: "application/zip"
        }).size === 0;
    }
    catch (e) {
        try {
            var Builder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;
            var builder = new Builder();
            builder.append(buffer);
            exports.blob = builder.getBlob('application/zip').size === 0;
        }
        catch (e) {
            exports.blob = false;
        }
    }
}

}).call(this,(typeof Buffer !== "undefined" ? Buffer : undefined))
},{}],18:[function(_dereq_,module,exports){
'use strict';
var DataReader = _dereq_('./dataReader');

function Uint8ArrayReader(data) {
    if (data) {
        this.data = data;
        this.length = this.data.length;
        this.index = 0;
    }
}
Uint8ArrayReader.prototype = new DataReader();
/**
 * @see DataReader.byteAt
 */
Uint8ArrayReader.prototype.byteAt = function(i) {
    return this.data[i];
};
/**
 * @see DataReader.lastIndexOfSignature
 */
Uint8ArrayReader.prototype.lastIndexOfSignature = function(sig) {
    var sig0 = sig.charCodeAt(0),
        sig1 = sig.charCodeAt(1),
        sig2 = sig.charCodeAt(2),
        sig3 = sig.charCodeAt(3);
    for (var i = this.length - 4; i >= 0; --i) {
        if (this.data[i] === sig0 && this.data[i + 1] === sig1 && this.data[i + 2] === sig2 && this.data[i + 3] === sig3) {
            return i;
        }
    }

    return -1;
};
/**
 * @see DataReader.readData
 */
Uint8ArrayReader.prototype.readData = function(size) {
    this.checkOffset(size);
    if(size === 0) {
        // in IE10, when using subarray(idx, idx), we get the array [0x00] instead of [].
        return new Uint8Array(0);
    }
    var result = this.data.subarray(this.index, this.index + size);
    this.index += size;
    return result;
};
module.exports = Uint8ArrayReader;

},{"./dataReader":5}],19:[function(_dereq_,module,exports){
'use strict';

var utils = _dereq_('./utils');

/**
 * An object to write any content to an Uint8Array.
 * @constructor
 * @param {number} length The length of the array.
 */
var Uint8ArrayWriter = function(length) {
    this.data = new Uint8Array(length);
    this.index = 0;
};
Uint8ArrayWriter.prototype = {
    /**
     * Append any content to the current array.
     * @param {Object} input the content to add.
     */
    append: function(input) {
        if (input.length !== 0) {
            // with an empty Uint8Array, Opera fails with a "Offset larger than array size"
            input = utils.transformTo("uint8array", input);
            this.data.set(input, this.index);
            this.index += input.length;
        }
    },
    /**
     * Finalize the construction an return the result.
     * @return {Uint8Array} the generated array.
     */
    finalize: function() {
        return this.data;
    }
};

module.exports = Uint8ArrayWriter;

},{"./utils":21}],20:[function(_dereq_,module,exports){
'use strict';

var utils = _dereq_('./utils');
var support = _dereq_('./support');
var nodeBuffer = _dereq_('./nodeBuffer');

/**
 * The following functions come from pako, from pako/lib/utils/strings
 * released under the MIT license, see pako https://github.com/nodeca/pako/
 */

// Table with utf8 lengths (calculated by first byte of sequence)
// Note, that 5 & 6-byte values and some 4-byte values can not be represented in JS,
// because max possible codepoint is 0x10ffff
var _utf8len = new Array(256);
for (var i=0; i<256; i++) {
  _utf8len[i] = (i >= 252 ? 6 : i >= 248 ? 5 : i >= 240 ? 4 : i >= 224 ? 3 : i >= 192 ? 2 : 1);
}
_utf8len[254]=_utf8len[254]=1; // Invalid sequence start

// convert string to array (typed, when possible)
var string2buf = function (str) {
    var buf, c, c2, m_pos, i, str_len = str.length, buf_len = 0;

    // count binary size
    for (m_pos = 0; m_pos < str_len; m_pos++) {
        c = str.charCodeAt(m_pos);
        if (((c & 0xfc00) === 0xd800) && (m_pos+1 < str_len)) {
            c2 = str.charCodeAt(m_pos+1);
            if ((c2 & 0xfc00) === 0xdc00) {
                c = 0x10000 + ((c - 0xd800) << 10) + (c2 - 0xdc00);
                m_pos++;
            }
        }
        buf_len += (c < 0x80) ? 1 : ((c < 0x800) ? 2 : ((c < 0x10000) ? 3 : 4));
    }

    // allocate buffer
    if (support.uint8array) {
        buf = new Uint8Array(buf_len);
    } else {
        buf = new Array(buf_len);
    }

    // convert
    for (i=0, m_pos = 0; i < buf_len; m_pos++) {
        c = str.charCodeAt(m_pos);
        if ((c & 0xfc00) === 0xd800 && (m_pos+1 < str_len)) {
            c2 = str.charCodeAt(m_pos+1);
            if ((c2 & 0xfc00) === 0xdc00) {
                c = 0x10000 + ((c - 0xd800) << 10) + (c2 - 0xdc00);
                m_pos++;
            }
        }
        if (c < 0x80) {
            /* one byte */
            buf[i++] = c;
        } else if (c < 0x800) {
            /* two bytes */
            buf[i++] = 0xC0 | (c >>> 6);
            buf[i++] = 0x80 | (c & 0x3f);
        } else if (c < 0x10000) {
            /* three bytes */
            buf[i++] = 0xE0 | (c >>> 12);
            buf[i++] = 0x80 | ((c >>> 6) & 0x3f);
            buf[i++] = 0x80 | (c & 0x3f);
        } else {
            /* four bytes */
            buf[i++] = 0xf0 | (c >>> 18);
            buf[i++] = 0x80 | ((c >>> 12) & 0x3f);
            buf[i++] = 0x80 | ((c >>> 6) & 0x3f);
            buf[i++] = 0x80 | (c & 0x3f);
        }
    }

    return buf;
};

// Calculate max possible position in utf8 buffer,
// that will not break sequence. If that's not possible
// - (very small limits) return max size as is.
//
// buf[] - utf8 bytes array
// max   - length limit (mandatory);
var utf8border = function(buf, max) {
    var pos;

    max = max || buf.length;
    if (max > buf.length) { max = buf.length; }

    // go back from last position, until start of sequence found
    pos = max-1;
    while (pos >= 0 && (buf[pos] & 0xC0) === 0x80) { pos--; }

    // Fuckup - very small and broken sequence,
    // return max, because we should return something anyway.
    if (pos < 0) { return max; }

    // If we came to start of buffer - that means vuffer is too small,
    // return max too.
    if (pos === 0) { return max; }

    return (pos + _utf8len[buf[pos]] > max) ? pos : max;
};

// convert array to string
var buf2string = function (buf) {
    var str, i, out, c, c_len;
    var len = buf.length;

    // Reserve max possible length (2 words per char)
    // NB: by unknown reasons, Array is significantly faster for
    //     String.fromCharCode.apply than Uint16Array.
    var utf16buf = new Array(len*2);

    for (out=0, i=0; i<len;) {
        c = buf[i++];
        // quick process ascii
        if (c < 0x80) { utf16buf[out++] = c; continue; }

        c_len = _utf8len[c];
        // skip 5 & 6 byte codes
        if (c_len > 4) { utf16buf[out++] = 0xfffd; i += c_len-1; continue; }

        // apply mask on first byte
        c &= c_len === 2 ? 0x1f : c_len === 3 ? 0x0f : 0x07;
        // join the rest
        while (c_len > 1 && i < len) {
            c = (c << 6) | (buf[i++] & 0x3f);
            c_len--;
        }

        // terminated by end of string?
        if (c_len > 1) { utf16buf[out++] = 0xfffd; continue; }

        if (c < 0x10000) {
            utf16buf[out++] = c;
        } else {
            c -= 0x10000;
            utf16buf[out++] = 0xd800 | ((c >> 10) & 0x3ff);
            utf16buf[out++] = 0xdc00 | (c & 0x3ff);
        }
    }

    // shrinkBuf(utf16buf, out)
    if (utf16buf.length !== out) {
        if(utf16buf.subarray) {
            utf16buf = utf16buf.subarray(0, out);
        } else {
            utf16buf.length = out;
        }
    }

    // return String.fromCharCode.apply(null, utf16buf);
    return utils.applyFromCharCode(utf16buf);
};


// That's all for the pako functions.


/**
 * Transform a javascript string into an array (typed if possible) of bytes,
 * UTF-8 encoded.
 * @param {String} str the string to encode
 * @return {Array|Uint8Array|Buffer} the UTF-8 encoded string.
 */
exports.utf8encode = function utf8encode(str) {
    if (support.nodebuffer) {
        return nodeBuffer(str, "utf-8");
    }

    return string2buf(str);
};


/**
 * Transform a bytes array (or a representation) representing an UTF-8 encoded
 * string into a javascript string.
 * @param {Array|Uint8Array|Buffer} buf the data de decode
 * @return {String} the decoded string.
 */
exports.utf8decode = function utf8decode(buf) {
    if (support.nodebuffer) {
        return utils.transformTo("nodebuffer", buf).toString("utf-8");
    }

    buf = utils.transformTo(support.uint8array ? "uint8array" : "array", buf);

    // return buf2string(buf);
    // Chrome prefers to work with "small" chunks of data
    // for the method buf2string.
    // Firefox and Chrome has their own shortcut, IE doesn't seem to really care.
    var result = [], k = 0, len = buf.length, chunk = 65536;
    while (k < len) {
        var nextBoundary = utf8border(buf, Math.min(k + chunk, len));
        if (support.uint8array) {
            result.push(buf2string(buf.subarray(k, nextBoundary)));
        } else {
            result.push(buf2string(buf.slice(k, nextBoundary)));
        }
        k = nextBoundary;
    }
    return result.join("");

};
// vim: set shiftwidth=4 softtabstop=4:

},{"./nodeBuffer":11,"./support":17,"./utils":21}],21:[function(_dereq_,module,exports){
'use strict';
var support = _dereq_('./support');
var compressions = _dereq_('./compressions');
var nodeBuffer = _dereq_('./nodeBuffer');
/**
 * Convert a string to a "binary string" : a string containing only char codes between 0 and 255.
 * @param {string} str the string to transform.
 * @return {String} the binary string.
 */
exports.string2binary = function(str) {
    var result = "";
    for (var i = 0; i < str.length; i++) {
        result += String.fromCharCode(str.charCodeAt(i) & 0xff);
    }
    return result;
};
exports.arrayBuffer2Blob = function(buffer) {
    exports.checkSupport("blob");

    try {
        // Blob constructor
        return new Blob([buffer], {
            type: "application/zip"
        });
    }
    catch (e) {

        try {
            // deprecated, browser only, old way
            var Builder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;
            var builder = new Builder();
            builder.append(buffer);
            return builder.getBlob('application/zip');
        }
        catch (e) {

            // well, fuck ?!
            throw new Error("Bug : can't construct the Blob.");
        }
    }


};
/**
 * The identity function.
 * @param {Object} input the input.
 * @return {Object} the same input.
 */
function identity(input) {
    return input;
}

/**
 * Fill in an array with a string.
 * @param {String} str the string to use.
 * @param {Array|ArrayBuffer|Uint8Array|Buffer} array the array to fill in (will be mutated).
 * @return {Array|ArrayBuffer|Uint8Array|Buffer} the updated array.
 */
function stringToArrayLike(str, array) {
    for (var i = 0; i < str.length; ++i) {
        array[i] = str.charCodeAt(i) & 0xFF;
    }
    return array;
}

/**
 * Transform an array-like object to a string.
 * @param {Array|ArrayBuffer|Uint8Array|Buffer} array the array to transform.
 * @return {String} the result.
 */
function arrayLikeToString(array) {
    // Performances notes :
    // --------------------
    // String.fromCharCode.apply(null, array) is the fastest, see
    // see http://jsperf.com/converting-a-uint8array-to-a-string/2
    // but the stack is limited (and we can get huge arrays !).
    //
    // result += String.fromCharCode(array[i]); generate too many strings !
    //
    // This code is inspired by http://jsperf.com/arraybuffer-to-string-apply-performance/2
    var chunk = 65536;
    var result = [],
        len = array.length,
        type = exports.getTypeOf(array),
        k = 0,
        canUseApply = true;
      try {
         switch(type) {
            case "uint8array":
               String.fromCharCode.apply(null, new Uint8Array(0));
               break;
            case "nodebuffer":
               String.fromCharCode.apply(null, nodeBuffer(0));
               break;
         }
      } catch(e) {
         canUseApply = false;
      }

      // no apply : slow and painful algorithm
      // default browser on android 4.*
      if (!canUseApply) {
         var resultStr = "";
         for(var i = 0; i < array.length;i++) {
            resultStr += String.fromCharCode(array[i]);
         }
    return resultStr;
    }
    while (k < len && chunk > 1) {
        try {
            if (type === "array" || type === "nodebuffer") {
                result.push(String.fromCharCode.apply(null, array.slice(k, Math.min(k + chunk, len))));
            }
            else {
                result.push(String.fromCharCode.apply(null, array.subarray(k, Math.min(k + chunk, len))));
            }
            k += chunk;
        }
        catch (e) {
            chunk = Math.floor(chunk / 2);
        }
    }
    return result.join("");
}

exports.applyFromCharCode = arrayLikeToString;


/**
 * Copy the data from an array-like to an other array-like.
 * @param {Array|ArrayBuffer|Uint8Array|Buffer} arrayFrom the origin array.
 * @param {Array|ArrayBuffer|Uint8Array|Buffer} arrayTo the destination array which will be mutated.
 * @return {Array|ArrayBuffer|Uint8Array|Buffer} the updated destination array.
 */
function arrayLikeToArrayLike(arrayFrom, arrayTo) {
    for (var i = 0; i < arrayFrom.length; i++) {
        arrayTo[i] = arrayFrom[i];
    }
    return arrayTo;
}

// a matrix containing functions to transform everything into everything.
var transform = {};

// string to ?
transform["string"] = {
    "string": identity,
    "array": function(input) {
        return stringToArrayLike(input, new Array(input.length));
    },
    "arraybuffer": function(input) {
        return transform["string"]["uint8array"](input).buffer;
    },
    "uint8array": function(input) {
        return stringToArrayLike(input, new Uint8Array(input.length));
    },
    "nodebuffer": function(input) {
        return stringToArrayLike(input, nodeBuffer(input.length));
    }
};

// array to ?
transform["array"] = {
    "string": arrayLikeToString,
    "array": identity,
    "arraybuffer": function(input) {
        return (new Uint8Array(input)).buffer;
    },
    "uint8array": function(input) {
        return new Uint8Array(input);
    },
    "nodebuffer": function(input) {
        return nodeBuffer(input);
    }
};

// arraybuffer to ?
transform["arraybuffer"] = {
    "string": function(input) {
        return arrayLikeToString(new Uint8Array(input));
    },
    "array": function(input) {
        return arrayLikeToArrayLike(new Uint8Array(input), new Array(input.byteLength));
    },
    "arraybuffer": identity,
    "uint8array": function(input) {
        return new Uint8Array(input);
    },
    "nodebuffer": function(input) {
        return nodeBuffer(new Uint8Array(input));
    }
};

// uint8array to ?
transform["uint8array"] = {
    "string": arrayLikeToString,
    "array": function(input) {
        return arrayLikeToArrayLike(input, new Array(input.length));
    },
    "arraybuffer": function(input) {
        return input.buffer;
    },
    "uint8array": identity,
    "nodebuffer": function(input) {
        return nodeBuffer(input);
    }
};

// nodebuffer to ?
transform["nodebuffer"] = {
    "string": arrayLikeToString,
    "array": function(input) {
        return arrayLikeToArrayLike(input, new Array(input.length));
    },
    "arraybuffer": function(input) {
        return transform["nodebuffer"]["uint8array"](input).buffer;
    },
    "uint8array": function(input) {
        return arrayLikeToArrayLike(input, new Uint8Array(input.length));
    },
    "nodebuffer": identity
};

/**
 * Transform an input into any type.
 * The supported output type are : string, array, uint8array, arraybuffer, nodebuffer.
 * If no output type is specified, the unmodified input will be returned.
 * @param {String} outputType the output type.
 * @param {String|Array|ArrayBuffer|Uint8Array|Buffer} input the input to convert.
 * @throws {Error} an Error if the browser doesn't support the requested output type.
 */
exports.transformTo = function(outputType, input) {
    if (!input) {
        // undefined, null, etc
        // an empty string won't harm.
        input = "";
    }
    if (!outputType) {
        return input;
    }
    exports.checkSupport(outputType);
    var inputType = exports.getTypeOf(input);
    var result = transform[inputType][outputType](input);
    return result;
};

/**
 * Return the type of the input.
 * The type will be in a format valid for JSZip.utils.transformTo : string, array, uint8array, arraybuffer.
 * @param {Object} input the input to identify.
 * @return {String} the (lowercase) type of the input.
 */
exports.getTypeOf = function(input) {
    if (typeof input === "string") {
        return "string";
    }
    if (Object.prototype.toString.call(input) === "[object Array]") {
        return "array";
    }
    if (support.nodebuffer && nodeBuffer.test(input)) {
        return "nodebuffer";
    }
    if (support.uint8array && input instanceof Uint8Array) {
        return "uint8array";
    }
    if (support.arraybuffer && input instanceof ArrayBuffer) {
        return "arraybuffer";
    }
};

/**
 * Throw an exception if the type is not supported.
 * @param {String} type the type to check.
 * @throws {Error} an Error if the browser doesn't support the requested type.
 */
exports.checkSupport = function(type) {
    var supported = support[type.toLowerCase()];
    if (!supported) {
        throw new Error(type + " is not supported by this browser");
    }
};
exports.MAX_VALUE_16BITS = 65535;
exports.MAX_VALUE_32BITS = -1; // well, "\xFF\xFF\xFF\xFF\xFF\xFF\xFF\xFF" is parsed as -1

/**
 * Prettify a string read as binary.
 * @param {string} str the string to prettify.
 * @return {string} a pretty string.
 */
exports.pretty = function(str) {
    var res = '',
        code, i;
    for (i = 0; i < (str || "").length; i++) {
        code = str.charCodeAt(i);
        res += '\\x' + (code < 16 ? "0" : "") + code.toString(16).toUpperCase();
    }
    return res;
};

/**
 * Find a compression registered in JSZip.
 * @param {string} compressionMethod the method magic to find.
 * @return {Object|null} the JSZip compression object, null if none found.
 */
exports.findCompression = function(compressionMethod) {
    for (var method in compressions) {
        if (!compressions.hasOwnProperty(method)) {
            continue;
        }
        if (compressions[method].magic === compressionMethod) {
            return compressions[method];
        }
    }
    return null;
};
/**
* Cross-window, cross-Node-context regular expression detection
* @param  {Object}  object Anything
* @return {Boolean}        true if the object is a regular expression,
* false otherwise
*/
exports.isRegExp = function (object) {
    return Object.prototype.toString.call(object) === "[object RegExp]";
};


},{"./compressions":3,"./nodeBuffer":11,"./support":17}],22:[function(_dereq_,module,exports){
'use strict';
var StringReader = _dereq_('./stringReader');
var NodeBufferReader = _dereq_('./nodeBufferReader');
var Uint8ArrayReader = _dereq_('./uint8ArrayReader');
var utils = _dereq_('./utils');
var sig = _dereq_('./signature');
var ZipEntry = _dereq_('./zipEntry');
var support = _dereq_('./support');
var jszipProto = _dereq_('./object');
//  class ZipEntries {{{
/**
 * All the entries in the zip file.
 * @constructor
 * @param {String|ArrayBuffer|Uint8Array} data the binary stream to load.
 * @param {Object} loadOptions Options for loading the stream.
 */
function ZipEntries(data, loadOptions) {
    this.files = [];
    this.loadOptions = loadOptions;
    if (data) {
        this.load(data);
    }
}
ZipEntries.prototype = {
    /**
     * Check that the reader is on the speficied signature.
     * @param {string} expectedSignature the expected signature.
     * @throws {Error} if it is an other signature.
     */
    checkSignature: function(expectedSignature) {
        var signature = this.reader.readString(4);
        if (signature !== expectedSignature) {
            throw new Error("Corrupted zip or bug : unexpected signature " + "(" + utils.pretty(signature) + ", expected " + utils.pretty(expectedSignature) + ")");
        }
    },
    /**
     * Read the end of the central directory.
     */
    readBlockEndOfCentral: function() {
        this.diskNumber = this.reader.readInt(2);
        this.diskWithCentralDirStart = this.reader.readInt(2);
        this.centralDirRecordsOnThisDisk = this.reader.readInt(2);
        this.centralDirRecords = this.reader.readInt(2);
        this.centralDirSize = this.reader.readInt(4);
        this.centralDirOffset = this.reader.readInt(4);

        this.zipCommentLength = this.reader.readInt(2);
        // warning : the encoding depends of the system locale
        // On a linux machine with LANG=en_US.utf8, this field is utf8 encoded.
        // On a windows machine, this field is encoded with the localized windows code page.
        this.zipComment = this.reader.readString(this.zipCommentLength);
        // To get consistent behavior with the generation part, we will assume that
        // this is utf8 encoded.
        this.zipComment = jszipProto.utf8decode(this.zipComment);
    },
    /**
     * Read the end of the Zip 64 central directory.
     * Not merged with the method readEndOfCentral :
     * The end of central can coexist with its Zip64 brother,
     * I don't want to read the wrong number of bytes !
     */
    readBlockZip64EndOfCentral: function() {
        this.zip64EndOfCentralSize = this.reader.readInt(8);
        this.versionMadeBy = this.reader.readString(2);
        this.versionNeeded = this.reader.readInt(2);
        this.diskNumber = this.reader.readInt(4);
        this.diskWithCentralDirStart = this.reader.readInt(4);
        this.centralDirRecordsOnThisDisk = this.reader.readInt(8);
        this.centralDirRecords = this.reader.readInt(8);
        this.centralDirSize = this.reader.readInt(8);
        this.centralDirOffset = this.reader.readInt(8);

        this.zip64ExtensibleData = {};
        var extraDataSize = this.zip64EndOfCentralSize - 44,
            index = 0,
            extraFieldId,
            extraFieldLength,
            extraFieldValue;
        while (index < extraDataSize) {
            extraFieldId = this.reader.readInt(2);
            extraFieldLength = this.reader.readInt(4);
            extraFieldValue = this.reader.readString(extraFieldLength);
            this.zip64ExtensibleData[extraFieldId] = {
                id: extraFieldId,
                length: extraFieldLength,
                value: extraFieldValue
            };
        }
    },
    /**
     * Read the end of the Zip 64 central directory locator.
     */
    readBlockZip64EndOfCentralLocator: function() {
        this.diskWithZip64CentralDirStart = this.reader.readInt(4);
        this.relativeOffsetEndOfZip64CentralDir = this.reader.readInt(8);
        this.disksCount = this.reader.readInt(4);
        if (this.disksCount > 1) {
            throw new Error("Multi-volumes zip are not supported");
        }
    },
    /**
     * Read the local files, based on the offset read in the central part.
     */
    readLocalFiles: function() {
        var i, file;
        for (i = 0; i < this.files.length; i++) {
            file = this.files[i];
            this.reader.setIndex(file.localHeaderOffset);
            this.checkSignature(sig.LOCAL_FILE_HEADER);
            file.readLocalPart(this.reader);
            file.handleUTF8();
        }
    },
    /**
     * Read the central directory.
     */
    readCentralDir: function() {
        var file;

        this.reader.setIndex(this.centralDirOffset);
        while (this.reader.readString(4) === sig.CENTRAL_FILE_HEADER) {
            file = new ZipEntry({
                zip64: this.zip64
            }, this.loadOptions);
            file.readCentralPart(this.reader);
            this.files.push(file);
        }
    },
    /**
     * Read the end of central directory.
     */
    readEndOfCentral: function() {
        var offset = this.reader.lastIndexOfSignature(sig.CENTRAL_DIRECTORY_END);
        if (offset === -1) {
            throw new Error("Corrupted zip : can't find end of central directory");
        }
        this.reader.setIndex(offset);
        this.checkSignature(sig.CENTRAL_DIRECTORY_END);
        this.readBlockEndOfCentral();


        /* extract from the zip spec :
            4)  If one of the fields in the end of central directory
                record is too small to hold required data, the field
                should be set to -1 (0xFFFF or 0xFFFFFFFF) and the
                ZIP64 format record should be created.
            5)  The end of central directory record and the
                Zip64 end of central directory locator record must
                reside on the same disk when splitting or spanning
                an archive.
         */
        if (this.diskNumber === utils.MAX_VALUE_16BITS || this.diskWithCentralDirStart === utils.MAX_VALUE_16BITS || this.centralDirRecordsOnThisDisk === utils.MAX_VALUE_16BITS || this.centralDirRecords === utils.MAX_VALUE_16BITS || this.centralDirSize === utils.MAX_VALUE_32BITS || this.centralDirOffset === utils.MAX_VALUE_32BITS) {
            this.zip64 = true;

            /*
            Warning : the zip64 extension is supported, but ONLY if the 64bits integer read from
            the zip file can fit into a 32bits integer. This cannot be solved : Javascript represents
            all numbers as 64-bit double precision IEEE 754 floating point numbers.
            So, we have 53bits for integers and bitwise operations treat everything as 32bits.
            see https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/Bitwise_Operators
            and http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-262.pdf section 8.5
            */

            // should look for a zip64 EOCD locator
            offset = this.reader.lastIndexOfSignature(sig.ZIP64_CENTRAL_DIRECTORY_LOCATOR);
            if (offset === -1) {
                throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");
            }
            this.reader.setIndex(offset);
            this.checkSignature(sig.ZIP64_CENTRAL_DIRECTORY_LOCATOR);
            this.readBlockZip64EndOfCentralLocator();

            // now the zip64 EOCD record
            this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir);
            this.checkSignature(sig.ZIP64_CENTRAL_DIRECTORY_END);
            this.readBlockZip64EndOfCentral();
        }
    },
    prepareReader: function(data) {
        var type = utils.getTypeOf(data);
        if (type === "string" && !support.uint8array) {
            this.reader = new StringReader(data, this.loadOptions.optimizedBinaryString);
        }
        else if (type === "nodebuffer") {
            this.reader = new NodeBufferReader(data);
        }
        else {
            this.reader = new Uint8ArrayReader(utils.transformTo("uint8array", data));
        }
    },
    /**
     * Read a zip file and create ZipEntries.
     * @param {String|ArrayBuffer|Uint8Array|Buffer} data the binary string representing a zip file.
     */
    load: function(data) {
        this.prepareReader(data);
        this.readEndOfCentral();
        this.readCentralDir();
        this.readLocalFiles();
    }
};
// }}} end of ZipEntries
module.exports = ZipEntries;

},{"./nodeBufferReader":12,"./object":13,"./signature":14,"./stringReader":15,"./support":17,"./uint8ArrayReader":18,"./utils":21,"./zipEntry":23}],23:[function(_dereq_,module,exports){
'use strict';
var StringReader = _dereq_('./stringReader');
var utils = _dereq_('./utils');
var CompressedObject = _dereq_('./compressedObject');
var jszipProto = _dereq_('./object');
// class ZipEntry {{{
/**
 * An entry in the zip file.
 * @constructor
 * @param {Object} options Options of the current file.
 * @param {Object} loadOptions Options for loading the stream.
 */
function ZipEntry(options, loadOptions) {
    this.options = options;
    this.loadOptions = loadOptions;
}
ZipEntry.prototype = {
    /**
     * say if the file is encrypted.
     * @return {boolean} true if the file is encrypted, false otherwise.
     */
    isEncrypted: function() {
        // bit 1 is set
        return (this.bitFlag & 0x0001) === 0x0001;
    },
    /**
     * say if the file has utf-8 filename/comment.
     * @return {boolean} true if the filename/comment is in utf-8, false otherwise.
     */
    useUTF8: function() {
        // bit 11 is set
        return (this.bitFlag & 0x0800) === 0x0800;
    },
    /**
     * Prepare the function used to generate the compressed content from this ZipFile.
     * @param {DataReader} reader the reader to use.
     * @param {number} from the offset from where we should read the data.
     * @param {number} length the length of the data to read.
     * @return {Function} the callback to get the compressed content (the type depends of the DataReader class).
     */
    prepareCompressedContent: function(reader, from, length) {
        return function() {
            var previousIndex = reader.index;
            reader.setIndex(from);
            var compressedFileData = reader.readData(length);
            reader.setIndex(previousIndex);

            return compressedFileData;
        };
    },
    /**
     * Prepare the function used to generate the uncompressed content from this ZipFile.
     * @param {DataReader} reader the reader to use.
     * @param {number} from the offset from where we should read the data.
     * @param {number} length the length of the data to read.
     * @param {JSZip.compression} compression the compression used on this file.
     * @param {number} uncompressedSize the uncompressed size to expect.
     * @return {Function} the callback to get the uncompressed content (the type depends of the DataReader class).
     */
    prepareContent: function(reader, from, length, compression, uncompressedSize) {
        return function() {

            var compressedFileData = utils.transformTo(compression.uncompressInputType, this.getCompressedContent());
            var uncompressedFileData = compression.uncompress(compressedFileData);

            if (uncompressedFileData.length !== uncompressedSize) {
                throw new Error("Bug : uncompressed data size mismatch");
            }

            return uncompressedFileData;
        };
    },
    /**
     * Read the local part of a zip file and add the info in this object.
     * @param {DataReader} reader the reader to use.
     */
    readLocalPart: function(reader) {
        var compression, localExtraFieldsLength;

        // we already know everything from the central dir !
        // If the central dir data are false, we are doomed.
        // On the bright side, the local part is scary  : zip64, data descriptors, both, etc.
        // The less data we get here, the more reliable this should be.
        // Let's skip the whole header and dash to the data !
        reader.skip(22);
        // in some zip created on windows, the filename stored in the central dir contains \ instead of /.
        // Strangely, the filename here is OK.
        // I would love to treat these zip files as corrupted (see http://www.info-zip.org/FAQ.html#backslashes
        // or APPNOTE#4.4.17.1, "All slashes MUST be forward slashes '/'") but there are a lot of bad zip generators...
        // Search "unzip mismatching "local" filename continuing with "central" filename version" on
        // the internet.
        //
        // I think I see the logic here : the central directory is used to display
        // content and the local directory is used to extract the files. Mixing / and \
        // may be used to display \ to windows users and use / when extracting the files.
        // Unfortunately, this lead also to some issues : http://seclists.org/fulldisclosure/2009/Sep/394
        this.fileNameLength = reader.readInt(2);
        localExtraFieldsLength = reader.readInt(2); // can't be sure this will be the same as the central dir
        this.fileName = reader.readString(this.fileNameLength);
        reader.skip(localExtraFieldsLength);

        if (this.compressedSize == -1 || this.uncompressedSize == -1) {
            throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory " + "(compressedSize == -1 || uncompressedSize == -1)");
        }

        compression = utils.findCompression(this.compressionMethod);
        if (compression === null) { // no compression found
            throw new Error("Corrupted zip : compression " + utils.pretty(this.compressionMethod) + " unknown (inner file : " + this.fileName + ")");
        }
        this.decompressed = new CompressedObject();
        this.decompressed.compressedSize = this.compressedSize;
        this.decompressed.uncompressedSize = this.uncompressedSize;
        this.decompressed.crc32 = this.crc32;
        this.decompressed.compressionMethod = this.compressionMethod;
        this.decompressed.getCompressedContent = this.prepareCompressedContent(reader, reader.index, this.compressedSize, compression);
        this.decompressed.getContent = this.prepareContent(reader, reader.index, this.compressedSize, compression, this.uncompressedSize);

        // we need to compute the crc32...
        if (this.loadOptions.checkCRC32) {
            this.decompressed = utils.transformTo("string", this.decompressed.getContent());
            if (jszipProto.crc32(this.decompressed) !== this.crc32) {
                throw new Error("Corrupted zip : CRC32 mismatch");
            }
        }
    },

    /**
     * Read the central part of a zip file and add the info in this object.
     * @param {DataReader} reader the reader to use.
     */
    readCentralPart: function(reader) {
        this.versionMadeBy = reader.readString(2);
        this.versionNeeded = reader.readInt(2);
        this.bitFlag = reader.readInt(2);
        this.compressionMethod = reader.readString(2);
        this.date = reader.readDate();
        this.crc32 = reader.readInt(4);
        this.compressedSize = reader.readInt(4);
        this.uncompressedSize = reader.readInt(4);
        this.fileNameLength = reader.readInt(2);
        this.extraFieldsLength = reader.readInt(2);
        this.fileCommentLength = reader.readInt(2);
        this.diskNumberStart = reader.readInt(2);
        this.internalFileAttributes = reader.readInt(2);
        this.externalFileAttributes = reader.readInt(4);
        this.localHeaderOffset = reader.readInt(4);

        if (this.isEncrypted()) {
            throw new Error("Encrypted zip are not supported");
        }

        this.fileName = reader.readString(this.fileNameLength);
        this.readExtraFields(reader);
        this.parseZIP64ExtraField(reader);
        this.fileComment = reader.readString(this.fileCommentLength);

        // warning, this is true only for zip with madeBy == DOS (plateform dependent feature)
        this.dir = this.externalFileAttributes & 0x00000010 ? true : false;
    },
    /**
     * Parse the ZIP64 extra field and merge the info in the current ZipEntry.
     * @param {DataReader} reader the reader to use.
     */
    parseZIP64ExtraField: function(reader) {

        if (!this.extraFields[0x0001]) {
            return;
        }

        // should be something, preparing the extra reader
        var extraReader = new StringReader(this.extraFields[0x0001].value);

        // I really hope that these 64bits integer can fit in 32 bits integer, because js
        // won't let us have more.
        if (this.uncompressedSize === utils.MAX_VALUE_32BITS) {
            this.uncompressedSize = extraReader.readInt(8);
        }
        if (this.compressedSize === utils.MAX_VALUE_32BITS) {
            this.compressedSize = extraReader.readInt(8);
        }
        if (this.localHeaderOffset === utils.MAX_VALUE_32BITS) {
            this.localHeaderOffset = extraReader.readInt(8);
        }
        if (this.diskNumberStart === utils.MAX_VALUE_32BITS) {
            this.diskNumberStart = extraReader.readInt(4);
        }
    },
    /**
     * Read the central part of a zip file and add the info in this object.
     * @param {DataReader} reader the reader to use.
     */
    readExtraFields: function(reader) {
        var start = reader.index,
            extraFieldId,
            extraFieldLength,
            extraFieldValue;

        this.extraFields = this.extraFields || {};

        while (reader.index < start + this.extraFieldsLength) {
            extraFieldId = reader.readInt(2);
            extraFieldLength = reader.readInt(2);
            extraFieldValue = reader.readString(extraFieldLength);

            this.extraFields[extraFieldId] = {
                id: extraFieldId,
                length: extraFieldLength,
                value: extraFieldValue
            };
        }
    },
    /**
     * Apply an UTF8 transformation if needed.
     */
    handleUTF8: function() {
        if (this.useUTF8()) {
            this.fileName = jszipProto.utf8decode(this.fileName);
            this.fileComment = jszipProto.utf8decode(this.fileComment);
        } else {
            var upath = this.findExtraFieldUnicodePath();
            if (upath !== null) {
                this.fileName = upath;
            }
            var ucomment = this.findExtraFieldUnicodeComment();
            if (ucomment !== null) {
                this.fileComment = ucomment;
            }
        }
    },

    /**
     * Find the unicode path declared in the extra field, if any.
     * @return {String} the unicode path, null otherwise.
     */
    findExtraFieldUnicodePath: function() {
        var upathField = this.extraFields[0x7075];
        if (upathField) {
            var extraReader = new StringReader(upathField.value);

            // wrong version
            if (extraReader.readInt(1) !== 1) {
                return null;
            }

            // the crc of the filename changed, this field is out of date.
            if (jszipProto.crc32(this.fileName) !== extraReader.readInt(4)) {
                return null;
            }

            return jszipProto.utf8decode(extraReader.readString(upathField.length - 5));
        }
        return null;
    },

    /**
     * Find the unicode comment declared in the extra field, if any.
     * @return {String} the unicode comment, null otherwise.
     */
    findExtraFieldUnicodeComment: function() {
        var ucommentField = this.extraFields[0x6375];
        if (ucommentField) {
            var extraReader = new StringReader(ucommentField.value);

            // wrong version
            if (extraReader.readInt(1) !== 1) {
                return null;
            }

            // the crc of the comment changed, this field is out of date.
            if (jszipProto.crc32(this.fileComment) !== extraReader.readInt(4)) {
                return null;
            }

            return jszipProto.utf8decode(extraReader.readString(ucommentField.length - 5));
        }
        return null;
    }
};
module.exports = ZipEntry;

},{"./compressedObject":2,"./object":13,"./stringReader":15,"./utils":21}],24:[function(_dereq_,module,exports){
// Top level file is just a mixin of submodules & constants
'use strict';

var assign    = _dereq_('./lib/utils/common').assign;

var deflate   = _dereq_('./lib/deflate');
var inflate   = _dereq_('./lib/inflate');
var constants = _dereq_('./lib/zlib/constants');

var pako = {};

assign(pako, deflate, inflate, constants);

module.exports = pako;
},{"./lib/deflate":25,"./lib/inflate":26,"./lib/utils/common":27,"./lib/zlib/constants":30}],25:[function(_dereq_,module,exports){
'use strict';


var zlib_deflate = _dereq_('./zlib/deflate.js');
var utils = _dereq_('./utils/common');
var strings = _dereq_('./utils/strings');
var msg = _dereq_('./zlib/messages');
var zstream = _dereq_('./zlib/zstream');


/* Public constants ==========================================================*/
/* ===========================================================================*/

var Z_NO_FLUSH      = 0;
var Z_FINISH        = 4;

var Z_OK            = 0;
var Z_STREAM_END    = 1;

var Z_DEFAULT_COMPRESSION = -1;

var Z_DEFAULT_STRATEGY    = 0;

var Z_DEFLATED  = 8;

/* ===========================================================================*/


/**
 * class Deflate
 *
 * Generic JS-style wrapper for zlib calls. If you don't need
 * streaming behaviour - use more simple functions: [[deflate]],
 * [[deflateRaw]] and [[gzip]].
 **/

/* internal
 * Deflate.chunks -> Array
 *
 * Chunks of output data, if [[Deflate#onData]] not overriden.
 **/

/**
 * Deflate.result -> Uint8Array|Array
 *
 * Compressed result, generated by default [[Deflate#onData]]
 * and [[Deflate#onEnd]] handlers. Filled after you push last chunk
 * (call [[Deflate#push]] with `Z_FINISH` / `true` param).
 **/

/**
 * Deflate.err -> Number
 *
 * Error code after deflate finished. 0 (Z_OK) on success.
 * You will not need it in real life, because deflate errors
 * are possible only on wrong options or bad `onData` / `onEnd`
 * custom handlers.
 **/

/**
 * Deflate.msg -> String
 *
 * Error message, if [[Deflate.err]] != 0
 **/


/**
 * new Deflate(options)
 * - options (Object): zlib deflate options.
 *
 * Creates new deflator instance with specified params. Throws exception
 * on bad params. Supported options:
 *
 * - `level`
 * - `windowBits`
 * - `memLevel`
 * - `strategy`
 *
 * [http://zlib.net/manual.html#Advanced](http://zlib.net/manual.html#Advanced)
 * for more information on these.
 *
 * Additional options, for internal needs:
 *
 * - `chunkSize` - size of generated data chunks (16K by default)
 * - `raw` (Boolean) - do raw deflate
 * - `gzip` (Boolean) - create gzip wrapper
 * - `to` (String) - if equal to 'string', then result will be "binary string"
 *    (each char code [0..255])
 * - `header` (Object) - custom header for gzip
 *   - `text` (Boolean) - true if compressed data believed to be text
 *   - `time` (Number) - modification time, unix timestamp
 *   - `os` (Number) - operation system code
 *   - `extra` (Array) - array of bytes with extra data (max 65536)
 *   - `name` (String) - file name (binary string)
 *   - `comment` (String) - comment (binary string)
 *   - `hcrc` (Boolean) - true if header crc should be added
 *
 * ##### Example:
 *
 * ```javascript
 * var pako = require('pako')
 *   , chunk1 = Uint8Array([1,2,3,4,5,6,7,8,9])
 *   , chunk2 = Uint8Array([10,11,12,13,14,15,16,17,18,19]);
 *
 * var deflate = new pako.Deflate({ level: 3});
 *
 * deflate.push(chunk1, false);
 * deflate.push(chunk2, true);  // true -> last chunk
 *
 * if (deflate.err) { throw new Error(deflate.err); }
 *
 * console.log(deflate.result);
 * ```
 **/
var Deflate = function(options) {

  this.options = utils.assign({
    level: Z_DEFAULT_COMPRESSION,
    method: Z_DEFLATED,
    chunkSize: 16384,
    windowBits: 15,
    memLevel: 8,
    strategy: Z_DEFAULT_STRATEGY,
    to: ''
  }, options || {});

  var opt = this.options;

  if (opt.raw && (opt.windowBits > 0)) {
    opt.windowBits = -opt.windowBits;
  }

  else if (opt.gzip && (opt.windowBits > 0) && (opt.windowBits < 16)) {
    opt.windowBits += 16;
  }

  this.err    = 0;      // error code, if happens (0 = Z_OK)
  this.msg    = '';     // error message
  this.ended  = false;  // used to avoid multiple onEnd() calls
  this.chunks = [];     // chunks of compressed data

  this.strm = new zstream();
  this.strm.avail_out = 0;

  var status = zlib_deflate.deflateInit2(
    this.strm,
    opt.level,
    opt.method,
    opt.windowBits,
    opt.memLevel,
    opt.strategy
  );

  if (status !== Z_OK) {
    throw new Error(msg[status]);
  }

  if (opt.header) {
    zlib_deflate.deflateSetHeader(this.strm, opt.header);
  }
};

/**
 * Deflate#push(data[, mode]) -> Boolean
 * - data (Uint8Array|Array|String): input data. Strings will be converted to
 *   utf8 byte sequence.
 * - mode (Number|Boolean): 0..6 for corresponding Z_NO_FLUSH..Z_TREE modes.
 *   See constants. Skipped or `false` means Z_NO_FLUSH, `true` meansh Z_FINISH.
 *
 * Sends input data to deflate pipe, generating [[Deflate#onData]] calls with
 * new compressed chunks. Returns `true` on success. The last data block must have
 * mode Z_FINISH (or `true`). That flush internal pending buffers and call
 * [[Deflate#onEnd]].
 *
 * On fail call [[Deflate#onEnd]] with error code and return false.
 *
 * We strongly recommend to use `Uint8Array` on input for best speed (output
 * array format is detected automatically). Also, don't skip last param and always
 * use the same type in your code (boolean or number). That will improve JS speed.
 *
 * For regular `Array`-s make sure all elements are [0..255].
 *
 * ##### Example
 *
 * ```javascript
 * push(chunk, false); // push one of data chunks
 * ...
 * push(chunk, true);  // push last chunk
 * ```
 **/
Deflate.prototype.push = function(data, mode) {
  var strm = this.strm;
  var chunkSize = this.options.chunkSize;
  var status, _mode;

  if (this.ended) { return false; }

  _mode = (mode === ~~mode) ? mode : ((mode === true) ? Z_FINISH : Z_NO_FLUSH);

  // Convert data if needed
  if (typeof data === 'string') {
    // If we need to compress text, change encoding to utf8.
    strm.input = strings.string2buf(data);
  } else {
    strm.input = data;
  }

  strm.next_in = 0;
  strm.avail_in = strm.input.length;

  do {
    if (strm.avail_out === 0) {
      strm.output = new utils.Buf8(chunkSize);
      strm.next_out = 0;
      strm.avail_out = chunkSize;
    }
    status = zlib_deflate.deflate(strm, _mode);    /* no bad return value */

    if (status !== Z_STREAM_END && status !== Z_OK) {
      this.onEnd(status);
      this.ended = true;
      return false;
    }
    if (strm.avail_out === 0 || (strm.avail_in === 0 && _mode === Z_FINISH)) {
      if (this.options.to === 'string') {
        this.onData(strings.buf2binstring(utils.shrinkBuf(strm.output, strm.next_out)));
      } else {
        this.onData(utils.shrinkBuf(strm.output, strm.next_out));
      }
    }
  } while ((strm.avail_in > 0 || strm.avail_out === 0) && status !== Z_STREAM_END);

  // Finalize on the last chunk.
  if (_mode === Z_FINISH) {
    status = zlib_deflate.deflateEnd(this.strm);
    this.onEnd(status);
    this.ended = true;
    return status === Z_OK;
  }

  return true;
};


/**
 * Deflate#onData(chunk) -> Void
 * - chunk (Uint8Array|Array|String): ouput data. Type of array depends
 *   on js engine support. When string output requested, each chunk
 *   will be string.
 *
 * By default, stores data blocks in `chunks[]` property and glue
 * those in `onEnd`. Override this handler, if you need another behaviour.
 **/
Deflate.prototype.onData = function(chunk) {
  this.chunks.push(chunk);
};


/**
 * Deflate#onEnd(status) -> Void
 * - status (Number): deflate status. 0 (Z_OK) on success,
 *   other if not.
 *
 * Called once after you tell deflate that input stream complete
 * or error happenned. By default - join collected chunks,
 * free memory and fill `results` / `err` properties.
 **/
Deflate.prototype.onEnd = function(status) {
  // On success - join
  if (status === Z_OK) {
    if (this.options.to === 'string') {
      this.result = this.chunks.join('');
    } else {
      this.result = utils.flattenChunks(this.chunks);
    }
  }
  this.chunks = [];
  this.err = status;
  this.msg = this.strm.msg;
};


/**
 * deflate(data[, options]) -> Uint8Array|Array|String
 * - data (Uint8Array|Array|String): input data to compress.
 * - options (Object): zlib deflate options.
 *
 * Compress `data` with deflate alrorythm and `options`.
 *
 * Supported options are:
 *
 * - level
 * - windowBits
 * - memLevel
 * - strategy
 *
 * [http://zlib.net/manual.html#Advanced](http://zlib.net/manual.html#Advanced)
 * for more information on these.
 *
 * Sugar (options):
 *
 * - `raw` (Boolean) - say that we work with raw stream, if you don't wish to specify
 *   negative windowBits implicitly.
 * - `to` (String) - if equal to 'string', then result will be "binary string"
 *    (each char code [0..255])
 *
 * ##### Example:
 *
 * ```javascript
 * var pako = require('pako')
 *   , data = Uint8Array([1,2,3,4,5,6,7,8,9]);
 *
 * console.log(pako.deflate(data));
 * ```
 **/
function deflate(input, options) {
  var deflator = new Deflate(options);

  deflator.push(input, true);

  // That will never happens, if you don't cheat with options :)
  if (deflator.err) { throw deflator.msg; }

  return deflator.result;
}


/**
 * deflateRaw(data[, options]) -> Uint8Array|Array|String
 * - data (Uint8Array|Array|String): input data to compress.
 * - options (Object): zlib deflate options.
 *
 * The same as [[deflate]], but creates raw data, without wrapper
 * (header and adler32 crc).
 **/
function deflateRaw(input, options) {
  options = options || {};
  options.raw = true;
  return deflate(input, options);
}


/**
 * gzip(data[, options]) -> Uint8Array|Array|String
 * - data (Uint8Array|Array|String): input data to compress.
 * - options (Object): zlib deflate options.
 *
 * The same as [[deflate]], but create gzip wrapper instead of
 * deflate one.
 **/
function gzip(input, options) {
  options = options || {};
  options.gzip = true;
  return deflate(input, options);
}


exports.Deflate = Deflate;
exports.deflate = deflate;
exports.deflateRaw = deflateRaw;
exports.gzip = gzip;
},{"./utils/common":27,"./utils/strings":28,"./zlib/deflate.js":32,"./zlib/messages":37,"./zlib/zstream":39}],26:[function(_dereq_,module,exports){
'use strict';


var zlib_inflate = _dereq_('./zlib/inflate.js');
var utils = _dereq_('./utils/common');
var strings = _dereq_('./utils/strings');
var c = _dereq_('./zlib/constants');
var msg = _dereq_('./zlib/messages');
var zstream = _dereq_('./zlib/zstream');
var gzheader = _dereq_('./zlib/gzheader');


/**
 * class Inflate
 *
 * Generic JS-style wrapper for zlib calls. If you don't need
 * streaming behaviour - use more simple functions: [[inflate]]
 * and [[inflateRaw]].
 **/

/* internal
 * inflate.chunks -> Array
 *
 * Chunks of output data, if [[Inflate#onData]] not overriden.
 **/

/**
 * Inflate.result -> Uint8Array|Array|String
 *
 * Uncompressed result, generated by default [[Inflate#onData]]
 * and [[Inflate#onEnd]] handlers. Filled after you push last chunk
 * (call [[Inflate#push]] with `Z_FINISH` / `true` param).
 **/

/**
 * Inflate.err -> Number
 *
 * Error code after inflate finished. 0 (Z_OK) on success.
 * Should be checked if broken data possible.
 **/

/**
 * Inflate.msg -> String
 *
 * Error message, if [[Inflate.err]] != 0
 **/


/**
 * new Inflate(options)
 * - options (Object): zlib inflate options.
 *
 * Creates new inflator instance with specified params. Throws exception
 * on bad params. Supported options:
 *
 * - `windowBits`
 *
 * [http://zlib.net/manual.html#Advanced](http://zlib.net/manual.html#Advanced)
 * for more information on these.
 *
 * Additional options, for internal needs:
 *
 * - `chunkSize` - size of generated data chunks (16K by default)
 * - `raw` (Boolean) - do raw inflate
 * - `to` (String) - if equal to 'string', then result will be converted
 *   from utf8 to utf16 (javascript) string. When string output requested,
 *   chunk length can differ from `chunkSize`, depending on content.
 *
 * By default, when no options set, autodetect deflate/gzip data format via
 * wrapper header.
 *
 * ##### Example:
 *
 * ```javascript
 * var pako = require('pako')
 *   , chunk1 = Uint8Array([1,2,3,4,5,6,7,8,9])
 *   , chunk2 = Uint8Array([10,11,12,13,14,15,16,17,18,19]);
 *
 * var inflate = new pako.Inflate({ level: 3});
 *
 * inflate.push(chunk1, false);
 * inflate.push(chunk2, true);  // true -> last chunk
 *
 * if (inflate.err) { throw new Error(inflate.err); }
 *
 * console.log(inflate.result);
 * ```
 **/
var Inflate = function(options) {

  this.options = utils.assign({
    chunkSize: 16384,
    windowBits: 0,
    to: ''
  }, options || {});

  var opt = this.options;

  // Force window size for `raw` data, if not set directly,
  // because we have no header for autodetect.
  if (opt.raw && (opt.windowBits >= 0) && (opt.windowBits < 16)) {
    opt.windowBits = -opt.windowBits;
    if (opt.windowBits === 0) { opt.windowBits = -15; }
  }

  // If `windowBits` not defined (and mode not raw) - set autodetect flag for gzip/deflate
  if ((opt.windowBits >= 0) && (opt.windowBits < 16) &&
      !(options && options.windowBits)) {
    opt.windowBits += 32;
  }

  // Gzip header has no info about windows size, we can do autodetect only
  // for deflate. So, if window size not set, force it to max when gzip possible
  if ((opt.windowBits > 15) && (opt.windowBits < 48)) {
    // bit 3 (16) -> gzipped data
    // bit 4 (32) -> autodetect gzip/deflate
    if ((opt.windowBits & 15) === 0) {
      opt.windowBits |= 15;
    }
  }

  this.err    = 0;      // error code, if happens (0 = Z_OK)
  this.msg    = '';     // error message
  this.ended  = false;  // used to avoid multiple onEnd() calls
  this.chunks = [];     // chunks of compressed data

  this.strm   = new zstream();
  this.strm.avail_out = 0;

  var status  = zlib_inflate.inflateInit2(
    this.strm,
    opt.windowBits
  );

  if (status !== c.Z_OK) {
    throw new Error(msg[status]);
  }

  this.header = new gzheader();

  zlib_inflate.inflateGetHeader(this.strm, this.header);
};

/**
 * Inflate#push(data[, mode]) -> Boolean
 * - data (Uint8Array|Array|String): input data
 * - mode (Number|Boolean): 0..6 for corresponding Z_NO_FLUSH..Z_TREE modes.
 *   See constants. Skipped or `false` means Z_NO_FLUSH, `true` meansh Z_FINISH.
 *
 * Sends input data to inflate pipe, generating [[Inflate#onData]] calls with
 * new output chunks. Returns `true` on success. The last data block must have
 * mode Z_FINISH (or `true`). That flush internal pending buffers and call
 * [[Inflate#onEnd]].
 *
 * On fail call [[Inflate#onEnd]] with error code and return false.
 *
 * We strongly recommend to use `Uint8Array` on input for best speed (output
 * format is detected automatically). Also, don't skip last param and always
 * use the same type in your code (boolean or number). That will improve JS speed.
 *
 * For regular `Array`-s make sure all elements are [0..255].
 *
 * ##### Example
 *
 * ```javascript
 * push(chunk, false); // push one of data chunks
 * ...
 * push(chunk, true);  // push last chunk
 * ```
 **/
Inflate.prototype.push = function(data, mode) {
  var strm = this.strm;
  var chunkSize = this.options.chunkSize;
  var status, _mode;
  var next_out_utf8, tail, utf8str;

  if (this.ended) { return false; }
  _mode = (mode === ~~mode) ? mode : ((mode === true) ? c.Z_FINISH : c.Z_NO_FLUSH);

  // Convert data if needed
  if (typeof data === 'string') {
    // Only binary strings can be decompressed on practice
    strm.input = strings.binstring2buf(data);
  } else {
    strm.input = data;
  }

  strm.next_in = 0;
  strm.avail_in = strm.input.length;

  do {
    if (strm.avail_out === 0) {
      strm.output = new utils.Buf8(chunkSize);
      strm.next_out = 0;
      strm.avail_out = chunkSize;
    }

    status = zlib_inflate.inflate(strm, c.Z_NO_FLUSH);    /* no bad return value */

    if (status !== c.Z_STREAM_END && status !== c.Z_OK) {
      this.onEnd(status);
      this.ended = true;
      return false;
    }

    if (strm.next_out) {
      if (strm.avail_out === 0 || status === c.Z_STREAM_END || (strm.avail_in === 0 && _mode === c.Z_FINISH)) {

        if (this.options.to === 'string') {

          next_out_utf8 = strings.utf8border(strm.output, strm.next_out);

          tail = strm.next_out - next_out_utf8;
          utf8str = strings.buf2string(strm.output, next_out_utf8);

          // move tail
          strm.next_out = tail;
          strm.avail_out = chunkSize - tail;
          if (tail) { utils.arraySet(strm.output, strm.output, next_out_utf8, tail, 0); }

          this.onData(utf8str);

        } else {
          this.onData(utils.shrinkBuf(strm.output, strm.next_out));
        }
      }
    }
  } while ((strm.avail_in > 0) && status !== c.Z_STREAM_END);

  if (status === c.Z_STREAM_END) {
    _mode = c.Z_FINISH;
  }
  // Finalize on the last chunk.
  if (_mode === c.Z_FINISH) {
    status = zlib_inflate.inflateEnd(this.strm);
    this.onEnd(status);
    this.ended = true;
    return status === c.Z_OK;
  }

  return true;
};


/**
 * Inflate#onData(chunk) -> Void
 * - chunk (Uint8Array|Array|String): ouput data. Type of array depends
 *   on js engine support. When string output requested, each chunk
 *   will be string.
 *
 * By default, stores data blocks in `chunks[]` property and glue
 * those in `onEnd`. Override this handler, if you need another behaviour.
 **/
Inflate.prototype.onData = function(chunk) {
  this.chunks.push(chunk);
};


/**
 * Inflate#onEnd(status) -> Void
 * - status (Number): inflate status. 0 (Z_OK) on success,
 *   other if not.
 *
 * Called once after you tell inflate that input stream complete
 * or error happenned. By default - join collected chunks,
 * free memory and fill `results` / `err` properties.
 **/
Inflate.prototype.onEnd = function(status) {
  // On success - join
  if (status === c.Z_OK) {
    if (this.options.to === 'string') {
      // Glue & convert here, until we teach pako to send
      // utf8 alligned strings to onData
      this.result = this.chunks.join('');
    } else {
      this.result = utils.flattenChunks(this.chunks);
    }
  }
  this.chunks = [];
  this.err = status;
  this.msg = this.strm.msg;
};


/**
 * inflate(data[, options]) -> Uint8Array|Array|String
 * - data (Uint8Array|Array|String): input data to decompress.
 * - options (Object): zlib inflate options.
 *
 * Decompress `data` with inflate/ungzip and `options`. Autodetect
 * format via wrapper header by default. That's why we don't provide
 * separate `ungzip` method.
 *
 * Supported options are:
 *
 * - windowBits
 *
 * [http://zlib.net/manual.html#Advanced](http://zlib.net/manual.html#Advanced)
 * for more information.
 *
 * Sugar (options):
 *
 * - `raw` (Boolean) - say that we work with raw stream, if you don't wish to specify
 *   negative windowBits implicitly.
 * - `to` (String) - if equal to 'string', then result will be converted
 *   from utf8 to utf16 (javascript) string. When string output requested,
 *   chunk length can differ from `chunkSize`, depending on content.
 *
 *
 * ##### Example:
 *
 * ```javascript
 * var pako = require('pako')
 *   , input = pako.deflate([1,2,3,4,5,6,7,8,9])
 *   , output;
 *
 * try {
 *   output = pako.inflate(input);
 * } catch (err)
 *   console.log(err);
 * }
 * ```
 **/
function inflate(input, options) {
  var inflator = new Inflate(options);

  inflator.push(input, true);

  // That will never happens, if you don't cheat with options :)
  if (inflator.err) { throw inflator.msg; }

  return inflator.result;
}


/**
 * inflateRaw(data[, options]) -> Uint8Array|Array|String
 * - data (Uint8Array|Array|String): input data to decompress.
 * - options (Object): zlib inflate options.
 *
 * The same as [[inflate]], but creates raw data, without wrapper
 * (header and adler32 crc).
 **/
function inflateRaw(input, options) {
  options = options || {};
  options.raw = true;
  return inflate(input, options);
}


/**
 * ungzip(data[, options]) -> Uint8Array|Array|String
 * - data (Uint8Array|Array|String): input data to decompress.
 * - options (Object): zlib inflate options.
 *
 * Just shortcut to [[inflate]], because it autodetects format
 * by header.content. Done for convenience.
 **/


exports.Inflate = Inflate;
exports.inflate = inflate;
exports.inflateRaw = inflateRaw;
exports.ungzip  = inflate;

},{"./utils/common":27,"./utils/strings":28,"./zlib/constants":30,"./zlib/gzheader":33,"./zlib/inflate.js":35,"./zlib/messages":37,"./zlib/zstream":39}],27:[function(_dereq_,module,exports){
'use strict';


var TYPED_OK =  (typeof Uint8Array !== 'undefined') &&
                (typeof Uint16Array !== 'undefined') &&
                (typeof Int32Array !== 'undefined');


exports.assign = function (obj /*from1, from2, from3, ...*/) {
  var sources = Array.prototype.slice.call(arguments, 1);
  while (sources.length) {
    var source = sources.shift();
    if (!source) { continue; }

    if (typeof(source) !== 'object') {
      throw new TypeError(source + 'must be non-object');
    }

    for (var p in source) {
      if (source.hasOwnProperty(p)) {
        obj[p] = source[p];
      }
    }
  }

  return obj;
};


// reduce buffer size, avoiding mem copy
exports.shrinkBuf = function (buf, size) {
  if (buf.length === size) { return buf; }
  if (buf.subarray) { return buf.subarray(0, size); }
  buf.length = size;
  return buf;
};


var fnTyped = {
  arraySet: function (dest, src, src_offs, len, dest_offs) {
    if (src.subarray && dest.subarray) {
      dest.set(src.subarray(src_offs, src_offs+len), dest_offs);
      return;
    }
    // Fallback to ordinary array
    for(var i=0; i<len; i++) {
      dest[dest_offs + i] = src[src_offs + i];
    }
  },
  // Join array of chunks to single array.
  flattenChunks: function(chunks) {
    var i, l, len, pos, chunk, result;

    // calculate data length
    len = 0;
    for (i=0, l=chunks.length; i<l; i++) {
      len += chunks[i].length;
    }

    // join chunks
    result = new Uint8Array(len);
    pos = 0;
    for (i=0, l=chunks.length; i<l; i++) {
      chunk = chunks[i];
      result.set(chunk, pos);
      pos += chunk.length;
    }

    return result;
  }
};

var fnUntyped = {
  arraySet: function (dest, src, src_offs, len, dest_offs) {
    for(var i=0; i<len; i++) {
      dest[dest_offs + i] = src[src_offs + i];
    }
  },
  // Join array of chunks to single array.
  flattenChunks: function(chunks) {
    return [].concat.apply([], chunks);
  }
};


// Enable/Disable typed arrays use, for testing
//
exports.setTyped = function (on) {
  if (on) {
    exports.Buf8  = Uint8Array;
    exports.Buf16 = Uint16Array;
    exports.Buf32 = Int32Array;
    exports.assign(exports, fnTyped);
  } else {
    exports.Buf8  = Array;
    exports.Buf16 = Array;
    exports.Buf32 = Array;
    exports.assign(exports, fnUntyped);
  }
};

exports.setTyped(TYPED_OK);
},{}],28:[function(_dereq_,module,exports){
// String encode/decode helpers
'use strict';


var utils = _dereq_('./common');


// Quick check if we can use fast array to bin string conversion
//
// - apply(Array) can fail on Android 2.2
// - apply(Uint8Array) can fail on iOS 5.1 Safary
//
var STR_APPLY_OK = true;
var STR_APPLY_UIA_OK = true;

try { String.fromCharCode.apply(null, [0]); } catch(__) { STR_APPLY_OK = false; }
try { String.fromCharCode.apply(null, new Uint8Array(1)); } catch(__) { STR_APPLY_UIA_OK = false; }


// Table with utf8 lengths (calculated by first byte of sequence)
// Note, that 5 & 6-byte values and some 4-byte values can not be represented in JS,
// because max possible codepoint is 0x10ffff
var _utf8len = new utils.Buf8(256);
for (var i=0; i<256; i++) {
  _utf8len[i] = (i >= 252 ? 6 : i >= 248 ? 5 : i >= 240 ? 4 : i >= 224 ? 3 : i >= 192 ? 2 : 1);
}
_utf8len[254]=_utf8len[254]=1; // Invalid sequence start


// convert string to array (typed, when possible)
exports.string2buf = function (str) {
  var buf, c, c2, m_pos, i, str_len = str.length, buf_len = 0;

  // count binary size
  for (m_pos = 0; m_pos < str_len; m_pos++) {
    c = str.charCodeAt(m_pos);
    if ((c & 0xfc00) === 0xd800 && (m_pos+1 < str_len)) {
      c2 = str.charCodeAt(m_pos+1);
      if ((c2 & 0xfc00) === 0xdc00) {
        c = 0x10000 + ((c - 0xd800) << 10) + (c2 - 0xdc00);
        m_pos++;
      }
    }
    buf_len += c < 0x80 ? 1 : c < 0x800 ? 2 : c < 0x10000 ? 3 : 4;
  }

  // allocate buffer
  buf = new utils.Buf8(buf_len);

  // convert
  for (i=0, m_pos = 0; i < buf_len; m_pos++) {
    c = str.charCodeAt(m_pos);
    if ((c & 0xfc00) === 0xd800 && (m_pos+1 < str_len)) {
      c2 = str.charCodeAt(m_pos+1);
      if ((c2 & 0xfc00) === 0xdc00) {
        c = 0x10000 + ((c - 0xd800) << 10) + (c2 - 0xdc00);
        m_pos++;
      }
    }
    if (c < 0x80) {
      /* one byte */
      buf[i++] = c;
    } else if (c < 0x800) {
      /* two bytes */
      buf[i++] = 0xC0 | (c >>> 6);
      buf[i++] = 0x80 | (c & 0x3f);
    } else if (c < 0x10000) {
      /* three bytes */
      buf[i++] = 0xE0 | (c >>> 12);
      buf[i++] = 0x80 | (c >>> 6 & 0x3f);
      buf[i++] = 0x80 | (c & 0x3f);
    } else {
      /* four bytes */
      buf[i++] = 0xf0 | (c >>> 18);
      buf[i++] = 0x80 | (c >>> 12 & 0x3f);
      buf[i++] = 0x80 | (c >>> 6 & 0x3f);
      buf[i++] = 0x80 | (c & 0x3f);
    }
  }

  return buf;
};

// Helper (used in 2 places)
function buf2binstring(buf, len) {
  // use fallback for big arrays to avoid stack overflow
  if (len < 65537) {
    if ((buf.subarray && STR_APPLY_UIA_OK) || (!buf.subarray && STR_APPLY_OK)) {
      return String.fromCharCode.apply(null, utils.shrinkBuf(buf, len));
    }
  }

  var result = '';
  for(var i=0; i < len; i++) {
    result += String.fromCharCode(buf[i]);
  }
  return result;
}


// Convert byte array to binary string
exports.buf2binstring = function(buf) {
  return buf2binstring(buf, buf.length);
};


// Convert binary string (typed, when possible)
exports.binstring2buf = function(str) {
  var buf = new utils.Buf8(str.length);
  for(var i=0, len=buf.length; i < len; i++) {
    buf[i] = str.charCodeAt(i);
  }
  return buf;
};


// convert array to string
exports.buf2string = function (buf, max) {
  var i, out, c, c_len;
  var len = max || buf.length;

  // Reserve max possible length (2 words per char)
  // NB: by unknown reasons, Array is significantly faster for
  //     String.fromCharCode.apply than Uint16Array.
  var utf16buf = new Array(len*2);

  for (out=0, i=0; i<len;) {
    c = buf[i++];
    // quick process ascii
    if (c < 0x80) { utf16buf[out++] = c; continue; }

    c_len = _utf8len[c];
    // skip 5 & 6 byte codes
    if (c_len > 4) { utf16buf[out++] = 0xfffd; i += c_len-1; continue; }

    // apply mask on first byte
    c &= c_len === 2 ? 0x1f : c_len === 3 ? 0x0f : 0x07;
    // join the rest
    while (c_len > 1 && i < len) {
      c = (c << 6) | (buf[i++] & 0x3f);
      c_len--;
    }

    // terminated by end of string?
    if (c_len > 1) { utf16buf[out++] = 0xfffd; continue; }

    if (c < 0x10000) {
      utf16buf[out++] = c;
    } else {
      c -= 0x10000;
      utf16buf[out++] = 0xd800 | ((c >> 10) & 0x3ff);
      utf16buf[out++] = 0xdc00 | (c & 0x3ff);
    }
  }

  return buf2binstring(utf16buf, out);
};


// Calculate max possible position in utf8 buffer,
// that will not break sequence. If that's not possible
// - (very small limits) return max size as is.
//
// buf[] - utf8 bytes array
// max   - length limit (mandatory);
exports.utf8border = function(buf, max) {
  var pos;

  max = max || buf.length;
  if (max > buf.length) { max = buf.length; }

  // go back from last position, until start of sequence found
  pos = max-1;
  while (pos >= 0 && (buf[pos] & 0xC0) === 0x80) { pos--; }

  // Fuckup - very small and broken sequence,
  // return max, because we should return something anyway.
  if (pos < 0) { return max; }

  // If we came to start of buffer - that means vuffer is too small,
  // return max too.
  if (pos === 0) { return max; }

  return (pos + _utf8len[buf[pos]] > max) ? pos : max;
};

},{"./common":27}],29:[function(_dereq_,module,exports){
'use strict';

// Note: adler32 takes 12% for level 0 and 2% for level 6.
// It doesn't worth to make additional optimizationa as in original.
// Small size is preferable.

function adler32(adler, buf, len, pos) {
  var s1 = (adler & 0xffff) |0
    , s2 = ((adler >>> 16) & 0xffff) |0
    , n = 0;

  while (len !== 0) {
    // Set limit ~ twice less than 5552, to keep
    // s2 in 31-bits, because we force signed ints.
    // in other case %= will fail.
    n = len > 2000 ? 2000 : len;
    len -= n;

    do {
      s1 = (s1 + buf[pos++]) |0;
      s2 = (s2 + s1) |0;
    } while (--n);

    s1 %= 65521;
    s2 %= 65521;
  }

  return (s1 | (s2 << 16)) |0;
}


module.exports = adler32;
},{}],30:[function(_dereq_,module,exports){
module.exports = {

  /* Allowed flush values; see deflate() and inflate() below for details */
  Z_NO_FLUSH:         0,
  Z_PARTIAL_FLUSH:    1,
  Z_SYNC_FLUSH:       2,
  Z_FULL_FLUSH:       3,
  Z_FINISH:           4,
  Z_BLOCK:            5,
  Z_TREES:            6,

  /* Return codes for the compression/decompression functions. Negative values
  * are errors, positive values are used for special but normal events.
  */
  Z_OK:               0,
  Z_STREAM_END:       1,
  Z_NEED_DICT:        2,
  Z_ERRNO:           -1,
  Z_STREAM_ERROR:    -2,
  Z_DATA_ERROR:      -3,
  //Z_MEM_ERROR:     -4,
  Z_BUF_ERROR:       -5,
  //Z_VERSION_ERROR: -6,

  /* compression levels */
  Z_NO_COMPRESSION:         0,
  Z_BEST_SPEED:             1,
  Z_BEST_COMPRESSION:       9,
  Z_DEFAULT_COMPRESSION:   -1,


  Z_FILTERED:               1,
  Z_HUFFMAN_ONLY:           2,
  Z_RLE:                    3,
  Z_FIXED:                  4,
  Z_DEFAULT_STRATEGY:       0,

  /* Possible values of the data_type field (though see inflate()) */
  Z_BINARY:                 0,
  Z_TEXT:                   1,
  //Z_ASCII:                1, // = Z_TEXT (deprecated)
  Z_UNKNOWN:                2,

  /* The deflate compression method */
  Z_DEFLATED:               8
  //Z_NULL:                 null // Use -1 or null inline, depending on var type
};
},{}],31:[function(_dereq_,module,exports){
'use strict';

// Note: we can't get significant speed boost here.
// So write code to minimize size - no pregenerated tables
// and array tools dependencies.


// Use ordinary array, since untyped makes no boost here
function makeTable() {
  var c, table = [];

  for(var n =0; n < 256; n++){
    c = n;
    for(var k =0; k < 8; k++){
      c = ((c&1) ? (0xEDB88320 ^ (c >>> 1)) : (c >>> 1));
    }
    table[n] = c;
  }

  return table;
}

// Create table on load. Just 255 signed longs. Not a problem.
var crcTable = makeTable();


function crc32(crc, buf, len, pos) {
  var t = crcTable
    , end = pos + len;

  crc = crc ^ (-1);

  for (var i = pos; i < end; i++ ) {
    crc = (crc >>> 8) ^ t[(crc ^ buf[i]) & 0xFF];
  }

  return (crc ^ (-1)); // >>> 0;
}


module.exports = crc32;
},{}],32:[function(_dereq_,module,exports){
'use strict';

var utils   = _dereq_('../utils/common');
var trees   = _dereq_('./trees');
var adler32 = _dereq_('./adler32');
var crc32   = _dereq_('./crc32');
var msg   = _dereq_('./messages');

/* Public constants ==========================================================*/
/* ===========================================================================*/


/* Allowed flush values; see deflate() and inflate() below for details */
var Z_NO_FLUSH      = 0;
var Z_PARTIAL_FLUSH = 1;
//var Z_SYNC_FLUSH    = 2;
var Z_FULL_FLUSH    = 3;
var Z_FINISH        = 4;
var Z_BLOCK         = 5;
//var Z_TREES         = 6;


/* Return codes for the compression/decompression functions. Negative values
 * are errors, positive values are used for special but normal events.
 */
var Z_OK            = 0;
var Z_STREAM_END    = 1;
//var Z_NEED_DICT     = 2;
//var Z_ERRNO         = -1;
var Z_STREAM_ERROR  = -2;
var Z_DATA_ERROR    = -3;
//var Z_MEM_ERROR     = -4;
var Z_BUF_ERROR     = -5;
//var Z_VERSION_ERROR = -6;


/* compression levels */
//var Z_NO_COMPRESSION      = 0;
//var Z_BEST_SPEED          = 1;
//var Z_BEST_COMPRESSION    = 9;
var Z_DEFAULT_COMPRESSION = -1;


var Z_FILTERED            = 1;
var Z_HUFFMAN_ONLY        = 2;
var Z_RLE                 = 3;
var Z_FIXED               = 4;
var Z_DEFAULT_STRATEGY    = 0;

/* Possible values of the data_type field (though see inflate()) */
//var Z_BINARY              = 0;
//var Z_TEXT                = 1;
//var Z_ASCII               = 1; // = Z_TEXT
var Z_UNKNOWN             = 2;


/* The deflate compression method */
var Z_DEFLATED  = 8;

/*============================================================================*/


var MAX_MEM_LEVEL = 9;
/* Maximum value for memLevel in deflateInit2 */
var MAX_WBITS = 15;
/* 32K LZ77 window */
var DEF_MEM_LEVEL = 8;


var LENGTH_CODES  = 29;
/* number of length codes, not counting the special END_BLOCK code */
var LITERALS      = 256;
/* number of literal bytes 0..255 */
var L_CODES       = LITERALS + 1 + LENGTH_CODES;
/* number of Literal or Length codes, including the END_BLOCK code */
var D_CODES       = 30;
/* number of distance codes */
var BL_CODES      = 19;
/* number of codes used to transfer the bit lengths */
var HEAP_SIZE     = 2*L_CODES + 1;
/* maximum heap size */
var MAX_BITS  = 15;
/* All codes must not exceed MAX_BITS bits */

var MIN_MATCH = 3;
var MAX_MATCH = 258;
var MIN_LOOKAHEAD = (MAX_MATCH + MIN_MATCH + 1);

var PRESET_DICT = 0x20;

var INIT_STATE = 42;
var EXTRA_STATE = 69;
var NAME_STATE = 73;
var COMMENT_STATE = 91;
var HCRC_STATE = 103;
var BUSY_STATE = 113;
var FINISH_STATE = 666;

var BS_NEED_MORE      = 1; /* block not completed, need more input or more output */
var BS_BLOCK_DONE     = 2; /* block flush performed */
var BS_FINISH_STARTED = 3; /* finish started, need only more output at next deflate */
var BS_FINISH_DONE    = 4; /* finish done, accept no more input or output */

var OS_CODE = 0x03; // Unix :) . Don't detect, use this default.

function err(strm, errorCode) {
  strm.msg = msg[errorCode];
  return errorCode;
}

function rank(f) {
  return ((f) << 1) - ((f) > 4 ? 9 : 0);
}

function zero(buf) { var len = buf.length; while (--len >= 0) { buf[len] = 0; } }


/* =========================================================================
 * Flush as much pending output as possible. All deflate() output goes
 * through this function so some applications may wish to modify it
 * to avoid allocating a large strm->output buffer and copying into it.
 * (See also read_buf()).
 */
function flush_pending(strm) {
  var s = strm.state;

  //_tr_flush_bits(s);
  var len = s.pending;
  if (len > strm.avail_out) {
    len = strm.avail_out;
  }
  if (len === 0) { return; }

  utils.arraySet(strm.output, s.pending_buf, s.pending_out, len, strm.next_out);
  strm.next_out += len;
  s.pending_out += len;
  strm.total_out += len;
  strm.avail_out -= len;
  s.pending -= len;
  if (s.pending === 0) {
    s.pending_out = 0;
  }
}


function flush_block_only (s, last) {
  trees._tr_flush_block(s, (s.block_start >= 0 ? s.block_start : -1), s.strstart - s.block_start, last);
  s.block_start = s.strstart;
  flush_pending(s.strm);
}


function put_byte(s, b) {
  s.pending_buf[s.pending++] = b;
}


/* =========================================================================
 * Put a short in the pending buffer. The 16-bit value is put in MSB order.
 * IN assertion: the stream state is correct and there is enough room in
 * pending_buf.
 */
function putShortMSB(s, b) {
//  put_byte(s, (Byte)(b >> 8));
//  put_byte(s, (Byte)(b & 0xff));
  s.pending_buf[s.pending++] = (b >>> 8) & 0xff;
  s.pending_buf[s.pending++] = b & 0xff;
}


/* ===========================================================================
 * Read a new buffer from the current input stream, update the adler32
 * and total number of bytes read.  All deflate() input goes through
 * this function so some applications may wish to modify it to avoid
 * allocating a large strm->input buffer and copying from it.
 * (See also flush_pending()).
 */
function read_buf(strm, buf, start, size) {
  var len = strm.avail_in;

  if (len > size) { len = size; }
  if (len === 0) { return 0; }

  strm.avail_in -= len;

  utils.arraySet(buf, strm.input, strm.next_in, len, start);
  if (strm.state.wrap === 1) {
    strm.adler = adler32(strm.adler, buf, len, start);
  }

  else if (strm.state.wrap === 2) {
    strm.adler = crc32(strm.adler, buf, len, start);
  }

  strm.next_in += len;
  strm.total_in += len;

  return len;
}


/* ===========================================================================
 * Set match_start to the longest match starting at the given string and
 * return its length. Matches shorter or equal to prev_length are discarded,
 * in which case the result is equal to prev_length and match_start is
 * garbage.
 * IN assertions: cur_match is the head of the hash chain for the current
 *   string (strstart) and its distance is <= MAX_DIST, and prev_length >= 1
 * OUT assertion: the match length is not greater than s->lookahead.
 */
function longest_match(s, cur_match) {
  var chain_length = s.max_chain_length;      /* max hash chain length */
  var scan = s.strstart; /* current string */
  var match;                       /* matched string */
  var len;                           /* length of current match */
  var best_len = s.prev_length;              /* best match length so far */
  var nice_match = s.nice_match;             /* stop if match long enough */
  var limit = (s.strstart > (s.w_size - MIN_LOOKAHEAD)) ?
      s.strstart - (s.w_size - MIN_LOOKAHEAD) : 0/*NIL*/;

  var _win = s.window; // shortcut

  var wmask = s.w_mask;
  var prev  = s.prev;

  /* Stop when cur_match becomes <= limit. To simplify the code,
   * we prevent matches with the string of window index 0.
   */

  var strend = s.strstart + MAX_MATCH;
  var scan_end1  = _win[scan + best_len - 1];
  var scan_end   = _win[scan + best_len];

  /* The code is optimized for HASH_BITS >= 8 and MAX_MATCH-2 multiple of 16.
   * It is easy to get rid of this optimization if necessary.
   */
  // Assert(s->hash_bits >= 8 && MAX_MATCH == 258, "Code too clever");

  /* Do not waste too much time if we already have a good match: */
  if (s.prev_length >= s.good_match) {
    chain_length >>= 2;
  }
  /* Do not look for matches beyond the end of the input. This is necessary
   * to make deflate deterministic.
   */
  if (nice_match > s.lookahead) { nice_match = s.lookahead; }

  // Assert((ulg)s->strstart <= s->window_size-MIN_LOOKAHEAD, "need lookahead");

  do {
    // Assert(cur_match < s->strstart, "no future");
    match = cur_match;

    /* Skip to next match if the match length cannot increase
     * or if the match length is less than 2.  Note that the checks below
     * for insufficient lookahead only occur occasionally for performance
     * reasons.  Therefore uninitialized memory will be accessed, and
     * conditional jumps will be made that depend on those values.
     * However the length of the match is limited to the lookahead, so
     * the output of deflate is not affected by the uninitialized values.
     */

    if (_win[match + best_len]     !== scan_end  ||
        _win[match + best_len - 1] !== scan_end1 ||
        _win[match]                !== _win[scan] ||
        _win[++match]              !== _win[scan + 1]) {
      continue;
    }

    /* The check at best_len-1 can be removed because it will be made
     * again later. (This heuristic is not always a win.)
     * It is not necessary to compare scan[2] and match[2] since they
     * are always equal when the other bytes match, given that
     * the hash keys are equal and that HASH_BITS >= 8.
     */
    scan += 2;
    match++;
    // Assert(*scan == *match, "match[2]?");

    /* We check for insufficient lookahead only every 8th comparison;
     * the 256th check will be made at strstart+258.
     */
    do {
      /*jshint noempty:false*/
    } while (_win[++scan] === _win[++match] && _win[++scan] === _win[++match] &&
             _win[++scan] === _win[++match] && _win[++scan] === _win[++match] &&
             _win[++scan] === _win[++match] && _win[++scan] === _win[++match] &&
             _win[++scan] === _win[++match] && _win[++scan] === _win[++match] &&
             scan < strend);

    // Assert(scan <= s->window+(unsigned)(s->window_size-1), "wild scan");

    len = MAX_MATCH - (strend - scan);
    scan = strend - MAX_MATCH;

    if (len > best_len) {
      s.match_start = cur_match;
      best_len = len;
      if (len >= nice_match) {
        break;
      }
      scan_end1  = _win[scan + best_len - 1];
      scan_end   = _win[scan + best_len];
    }
  } while ((cur_match = prev[cur_match & wmask]) > limit && --chain_length !== 0);

  if (best_len <= s.lookahead) {
    return best_len;
  }
  return s.lookahead;
}


/* ===========================================================================
 * Fill the window when the lookahead becomes insufficient.
 * Updates strstart and lookahead.
 *
 * IN assertion: lookahead < MIN_LOOKAHEAD
 * OUT assertions: strstart <= window_size-MIN_LOOKAHEAD
 *    At least one byte has been read, or avail_in == 0; reads are
 *    performed for at least two bytes (required for the zip translate_eol
 *    option -- not supported here).
 */
function fill_window(s) {
  var _w_size = s.w_size;
  var p, n, m, more, str;

  //Assert(s->lookahead < MIN_LOOKAHEAD, "already enough lookahead");

  do {
    more = s.window_size - s.lookahead - s.strstart;

    // JS ints have 32 bit, block below not needed
    /* Deal with !@#$% 64K limit: */
    //if (sizeof(int) <= 2) {
    //    if (more == 0 && s->strstart == 0 && s->lookahead == 0) {
    //        more = wsize;
    //
    //  } else if (more == (unsigned)(-1)) {
    //        /* Very unlikely, but possible on 16 bit machine if
    //         * strstart == 0 && lookahead == 1 (input done a byte at time)
    //         */
    //        more--;
    //    }
    //}


    /* If the window is almost full and there is insufficient lookahead,
     * move the upper half to the lower one to make room in the upper half.
     */
    if (s.strstart >= _w_size + (_w_size - MIN_LOOKAHEAD)) {

      utils.arraySet(s.window, s.window, _w_size, _w_size, 0);
      s.match_start -= _w_size;
      s.strstart -= _w_size;
      /* we now have strstart >= MAX_DIST */
      s.block_start -= _w_size;

      /* Slide the hash table (could be avoided with 32 bit values
       at the expense of memory usage). We slide even when level == 0
       to keep the hash table consistent if we switch back to level > 0
       later. (Using level 0 permanently is not an optimal usage of
       zlib, so we don't care about this pathological case.)
       */

      n = s.hash_size;
      p = n;
      do {
        m = s.head[--p];
        s.head[p] = (m >= _w_size ? m - _w_size : 0);
      } while (--n);

      n = _w_size;
      p = n;
      do {
        m = s.prev[--p];
        s.prev[p] = (m >= _w_size ? m - _w_size : 0);
        /* If n is not on any hash chain, prev[n] is garbage but
         * its value will never be used.
         */
      } while (--n);

      more += _w_size;
    }
    if (s.strm.avail_in === 0) {
      break;
    }

    /* If there was no sliding:
     *    strstart <= WSIZE+MAX_DIST-1 && lookahead <= MIN_LOOKAHEAD - 1 &&
     *    more == window_size - lookahead - strstart
     * => more >= window_size - (MIN_LOOKAHEAD-1 + WSIZE + MAX_DIST-1)
     * => more >= window_size - 2*WSIZE + 2
     * In the BIG_MEM or MMAP case (not yet supported),
     *   window_size == input_size + MIN_LOOKAHEAD  &&
     *   strstart + s->lookahead <= input_size => more >= MIN_LOOKAHEAD.
     * Otherwise, window_size == 2*WSIZE so more >= 2.
     * If there was sliding, more >= WSIZE. So in all cases, more >= 2.
     */
    //Assert(more >= 2, "more < 2");
    n = read_buf(s.strm, s.window, s.strstart + s.lookahead, more);
    s.lookahead += n;

    /* Initialize the hash value now that we have some input: */
    if (s.lookahead + s.insert >= MIN_MATCH) {
      str = s.strstart - s.insert;
      s.ins_h = s.window[str];

      /* UPDATE_HASH(s, s->ins_h, s->window[str + 1]); */
      s.ins_h = ((s.ins_h << s.hash_shift) ^ s.window[str + 1]) & s.hash_mask;
//#if MIN_MATCH != 3
//        Call update_hash() MIN_MATCH-3 more times
//#endif
      while (s.insert) {
        /* UPDATE_HASH(s, s->ins_h, s->window[str + MIN_MATCH-1]); */
        s.ins_h = ((s.ins_h << s.hash_shift) ^ s.window[str + MIN_MATCH-1]) & s.hash_mask;

        s.prev[str & s.w_mask] = s.head[s.ins_h];
        s.head[s.ins_h] = str;
        str++;
        s.insert--;
        if (s.lookahead + s.insert < MIN_MATCH) {
          break;
        }
      }
    }
    /* If the whole input has less than MIN_MATCH bytes, ins_h is garbage,
     * but this is not important since only literal bytes will be emitted.
     */

  } while (s.lookahead < MIN_LOOKAHEAD && s.strm.avail_in !== 0);

  /* If the WIN_INIT bytes after the end of the current data have never been
   * written, then zero those bytes in order to avoid memory check reports of
   * the use of uninitialized (or uninitialised as Julian writes) bytes by
   * the longest match routines.  Update the high water mark for the next
   * time through here.  WIN_INIT is set to MAX_MATCH since the longest match
   * routines allow scanning to strstart + MAX_MATCH, ignoring lookahead.
   */
//  if (s.high_water < s.window_size) {
//    var curr = s.strstart + s.lookahead;
//    var init = 0;
//
//    if (s.high_water < curr) {
//      /* Previous high water mark below current data -- zero WIN_INIT
//       * bytes or up to end of window, whichever is less.
//       */
//      init = s.window_size - curr;
//      if (init > WIN_INIT)
//        init = WIN_INIT;
//      zmemzero(s->window + curr, (unsigned)init);
//      s->high_water = curr + init;
//    }
//    else if (s->high_water < (ulg)curr + WIN_INIT) {
//      /* High water mark at or above current data, but below current data
//       * plus WIN_INIT -- zero out to current data plus WIN_INIT, or up
//       * to end of window, whichever is less.
//       */
//      init = (ulg)curr + WIN_INIT - s->high_water;
//      if (init > s->window_size - s->high_water)
//        init = s->window_size - s->high_water;
//      zmemzero(s->window + s->high_water, (unsigned)init);
//      s->high_water += init;
//    }
//  }
//
//  Assert((ulg)s->strstart <= s->window_size - MIN_LOOKAHEAD,
//    "not enough room for search");
}

/* ===========================================================================
 * Copy without compression as much as possible from the input stream, return
 * the current block state.
 * This function does not insert new strings in the dictionary since
 * uncompressible data is probably not useful. This function is used
 * only for the level=0 compression option.
 * NOTE: this function should be optimized to avoid extra copying from
 * window to pending_buf.
 */
function deflate_stored(s, flush) {
  /* Stored blocks are limited to 0xffff bytes, pending_buf is limited
   * to pending_buf_size, and each stored block has a 5 byte header:
   */
  var max_block_size = 0xffff;

  if (max_block_size > s.pending_buf_size - 5) {
    max_block_size = s.pending_buf_size - 5;
  }

  /* Copy as much as possible from input to output: */
  for (;;) {
    /* Fill the window as much as possible: */
    if (s.lookahead <= 1) {

      //Assert(s->strstart < s->w_size+MAX_DIST(s) ||
      //  s->block_start >= (long)s->w_size, "slide too late");
//      if (!(s.strstart < s.w_size + (s.w_size - MIN_LOOKAHEAD) ||
//        s.block_start >= s.w_size)) {
//        throw  new Error("slide too late");
//      }

      fill_window(s);
      if (s.lookahead === 0 && flush === Z_NO_FLUSH) {
        return BS_NEED_MORE;
      }

      if (s.lookahead === 0) {
        break;
      }
      /* flush the current block */
    }
    //Assert(s->block_start >= 0L, "block gone");
//    if (s.block_start < 0) throw new Error("block gone");

    s.strstart += s.lookahead;
    s.lookahead = 0;

    /* Emit a stored block if pending_buf will be full: */
    var max_start = s.block_start + max_block_size;

    if (s.strstart === 0 || s.strstart >= max_start) {
      /* strstart == 0 is possible when wraparound on 16-bit machine */
      s.lookahead = s.strstart - max_start;
      s.strstart = max_start;
      /*** FLUSH_BLOCK(s, 0); ***/
      flush_block_only(s, false);
      if (s.strm.avail_out === 0) {
        return BS_NEED_MORE;
      }
      /***/


    }
    /* Flush if we may have to slide, otherwise block_start may become
     * negative and the data will be gone:
     */
    if (s.strstart - s.block_start >= (s.w_size - MIN_LOOKAHEAD)) {
      /*** FLUSH_BLOCK(s, 0); ***/
      flush_block_only(s, false);
      if (s.strm.avail_out === 0) {
        return BS_NEED_MORE;
      }
      /***/
    }
  }

  s.insert = 0;

  if (flush === Z_FINISH) {
    /*** FLUSH_BLOCK(s, 1); ***/
    flush_block_only(s, true);
    if (s.strm.avail_out === 0) {
      return BS_FINISH_STARTED;
    }
    /***/
    return BS_FINISH_DONE;
  }

  if (s.strstart > s.block_start) {
    /*** FLUSH_BLOCK(s, 0); ***/
    flush_block_only(s, false);
    if (s.strm.avail_out === 0) {
      return BS_NEED_MORE;
    }
    /***/
  }

  return BS_NEED_MORE;
}

/* ===========================================================================
 * Compress as much as possible from the input stream, return the current
 * block state.
 * This function does not perform lazy evaluation of matches and inserts
 * new strings in the dictionary only for unmatched strings or for short
 * matches. It is used only for the fast compression options.
 */
function deflate_fast(s, flush) {
  var hash_head;        /* head of the hash chain */
  var bflush;           /* set if current block must be flushed */

  for (;;) {
    /* Make sure that we always have enough lookahead, except
     * at the end of the input file. We need MAX_MATCH bytes
     * for the next match, plus MIN_MATCH bytes to insert the
     * string following the next match.
     */
    if (s.lookahead < MIN_LOOKAHEAD) {
      fill_window(s);
      if (s.lookahead < MIN_LOOKAHEAD && flush === Z_NO_FLUSH) {
        return BS_NEED_MORE;
      }
      if (s.lookahead === 0) {
        break; /* flush the current block */
      }
    }

    /* Insert the string window[strstart .. strstart+2] in the
     * dictionary, and set hash_head to the head of the hash chain:
     */
    hash_head = 0/*NIL*/;
    if (s.lookahead >= MIN_MATCH) {
      /*** INSERT_STRING(s, s.strstart, hash_head); ***/
      s.ins_h = ((s.ins_h << s.hash_shift) ^ s.window[s.strstart + MIN_MATCH - 1]) & s.hash_mask;
      hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];
      s.head[s.ins_h] = s.strstart;
      /***/
    }

    /* Find the longest match, discarding those <= prev_length.
     * At this point we have always match_length < MIN_MATCH
     */
    if (hash_head !== 0/*NIL*/ && ((s.strstart - hash_head) <= (s.w_size - MIN_LOOKAHEAD))) {
      /* To simplify the code, we prevent matches with the string
       * of window index 0 (in particular we have to avoid a match
       * of the string with itself at the start of the input file).
       */
      s.match_length = longest_match(s, hash_head);
      /* longest_match() sets match_start */
    }
    if (s.match_length >= MIN_MATCH) {
      // check_match(s, s.strstart, s.match_start, s.match_length); // for debug only

      /*** _tr_tally_dist(s, s.strstart - s.match_start,
                     s.match_length - MIN_MATCH, bflush); ***/
      bflush = trees._tr_tally(s, s.strstart - s.match_start, s.match_length - MIN_MATCH);

      s.lookahead -= s.match_length;

      /* Insert new strings in the hash table only if the match length
       * is not too large. This saves time but degrades compression.
       */
      if (s.match_length <= s.max_lazy_match/*max_insert_length*/ && s.lookahead >= MIN_MATCH) {
        s.match_length--; /* string at strstart already in table */
        do {
          s.strstart++;
          /*** INSERT_STRING(s, s.strstart, hash_head); ***/
          s.ins_h = ((s.ins_h << s.hash_shift) ^ s.window[s.strstart + MIN_MATCH - 1]) & s.hash_mask;
          hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];
          s.head[s.ins_h] = s.strstart;
          /***/
          /* strstart never exceeds WSIZE-MAX_MATCH, so there are
           * always MIN_MATCH bytes ahead.
           */
        } while (--s.match_length !== 0);
        s.strstart++;
      } else
      {
        s.strstart += s.match_length;
        s.match_length = 0;
        s.ins_h = s.window[s.strstart];
        /* UPDATE_HASH(s, s.ins_h, s.window[s.strstart+1]); */
        s.ins_h = ((s.ins_h << s.hash_shift) ^ s.window[s.strstart + 1]) & s.hash_mask;

//#if MIN_MATCH != 3
//                Call UPDATE_HASH() MIN_MATCH-3 more times
//#endif
        /* If lookahead < MIN_MATCH, ins_h is garbage, but it does not
         * matter since it will be recomputed at next deflate call.
         */
      }
    } else {
      /* No match, output a literal byte */
      //Tracevv((stderr,"%c", s.window[s.strstart]));
      /*** _tr_tally_lit(s, s.window[s.strstart], bflush); ***/
      bflush = trees._tr_tally(s, 0, s.window[s.strstart]);

      s.lookahead--;
      s.strstart++;
    }
    if (bflush) {
      /*** FLUSH_BLOCK(s, 0); ***/
      flush_block_only(s, false);
      if (s.strm.avail_out === 0) {
        return BS_NEED_MORE;
      }
      /***/
    }
  }
  s.insert = ((s.strstart < (MIN_MATCH-1)) ? s.strstart : MIN_MATCH-1);
  if (flush === Z_FINISH) {
    /*** FLUSH_BLOCK(s, 1); ***/
    flush_block_only(s, true);
    if (s.strm.avail_out === 0) {
      return BS_FINISH_STARTED;
    }
    /***/
    return BS_FINISH_DONE;
  }
  if (s.last_lit) {
    /*** FLUSH_BLOCK(s, 0); ***/
    flush_block_only(s, false);
    if (s.strm.avail_out === 0) {
      return BS_NEED_MORE;
    }
    /***/
  }
  return BS_BLOCK_DONE;
}

/* ===========================================================================
 * Same as above, but achieves better compression. We use a lazy
 * evaluation for matches: a match is finally adopted only if there is
 * no better match at the next window position.
 */
function deflate_slow(s, flush) {
  var hash_head;          /* head of hash chain */
  var bflush;              /* set if current block must be flushed */

  var max_insert;

  /* Process the input block. */
  for (;;) {
    /* Make sure that we always have enough lookahead, except
     * at the end of the input file. We need MAX_MATCH bytes
     * for the next match, plus MIN_MATCH bytes to insert the
     * string following the next match.
     */
    if (s.lookahead < MIN_LOOKAHEAD) {
      fill_window(s);
      if (s.lookahead < MIN_LOOKAHEAD && flush === Z_NO_FLUSH) {
        return BS_NEED_MORE;
      }
      if (s.lookahead === 0) { break; } /* flush the current block */
    }

    /* Insert the string window[strstart .. strstart+2] in the
     * dictionary, and set hash_head to the head of the hash chain:
     */
    hash_head = 0/*NIL*/;
    if (s.lookahead >= MIN_MATCH) {
      /*** INSERT_STRING(s, s.strstart, hash_head); ***/
      s.ins_h = ((s.ins_h << s.hash_shift) ^ s.window[s.strstart + MIN_MATCH - 1]) & s.hash_mask;
      hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];
      s.head[s.ins_h] = s.strstart;
      /***/
    }

    /* Find the longest match, discarding those <= prev_length.
     */
    s.prev_length = s.match_length;
    s.prev_match = s.match_start;
    s.match_length = MIN_MATCH-1;

    if (hash_head !== 0/*NIL*/ && s.prev_length < s.max_lazy_match &&
        s.strstart - hash_head <= (s.w_size-MIN_LOOKAHEAD)/*MAX_DIST(s)*/) {
      /* To simplify the code, we prevent matches with the string
       * of window index 0 (in particular we have to avoid a match
       * of the string with itself at the start of the input file).
       */
      s.match_length = longest_match(s, hash_head);
      /* longest_match() sets match_start */

      if (s.match_length <= 5 &&
         (s.strategy === Z_FILTERED || (s.match_length === MIN_MATCH && s.strstart - s.match_start > 4096/*TOO_FAR*/))) {

        /* If prev_match is also MIN_MATCH, match_start is garbage
         * but we will ignore the current match anyway.
         */
        s.match_length = MIN_MATCH-1;
      }
    }
    /* If there was a match at the previous step and the current
     * match is not better, output the previous match:
     */
    if (s.prev_length >= MIN_MATCH && s.match_length <= s.prev_length) {
      max_insert = s.strstart + s.lookahead - MIN_MATCH;
      /* Do not insert strings in hash table beyond this. */

      //check_match(s, s.strstart-1, s.prev_match, s.prev_length);

      /***_tr_tally_dist(s, s.strstart - 1 - s.prev_match,
                     s.prev_length - MIN_MATCH, bflush);***/
      bflush = trees._tr_tally(s, s.strstart - 1- s.prev_match, s.prev_length - MIN_MATCH);
      /* Insert in hash table all strings up to the end of the match.
       * strstart-1 and strstart are already inserted. If there is not
       * enough lookahead, the last two strings are not inserted in
       * the hash table.
       */
      s.lookahead -= s.prev_length-1;
      s.prev_length -= 2;
      do {
        if (++s.strstart <= max_insert) {
          /*** INSERT_STRING(s, s.strstart, hash_head); ***/
          s.ins_h = ((s.ins_h << s.hash_shift) ^ s.window[s.strstart + MIN_MATCH - 1]) & s.hash_mask;
          hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];
          s.head[s.ins_h] = s.strstart;
          /***/
        }
      } while (--s.prev_length !== 0);
      s.match_available = 0;
      s.match_length = MIN_MATCH-1;
      s.strstart++;

      if (bflush) {
        /*** FLUSH_BLOCK(s, 0); ***/
        flush_block_only(s, false);
        if (s.strm.avail_out === 0) {
          return BS_NEED_MORE;
        }
        /***/
      }

    } else if (s.match_available) {
      /* If there was no match at the previous position, output a
       * single literal. If there was a match but the current match
       * is longer, truncate the previous match to a single literal.
       */
      //Tracevv((stderr,"%c", s->window[s->strstart-1]));
      /*** _tr_tally_lit(s, s.window[s.strstart-1], bflush); ***/
      bflush = trees._tr_tally(s, 0, s.window[s.strstart-1]);

      if (bflush) {
        /*** FLUSH_BLOCK_ONLY(s, 0) ***/
        flush_block_only(s, false);
        /***/
      }
      s.strstart++;
      s.lookahead--;
      if (s.strm.avail_out === 0) {
        return BS_NEED_MORE;
      }
    } else {
      /* There is no previous match to compare with, wait for
       * the next step to decide.
       */
      s.match_available = 1;
      s.strstart++;
      s.lookahead--;
    }
  }
  //Assert (flush != Z_NO_FLUSH, "no flush?");
  if (s.match_available) {
    //Tracevv((stderr,"%c", s->window[s->strstart-1]));
    /*** _tr_tally_lit(s, s.window[s.strstart-1], bflush); ***/
    bflush = trees._tr_tally(s, 0, s.window[s.strstart-1]);

    s.match_available = 0;
  }
  s.insert = s.strstart < MIN_MATCH-1 ? s.strstart : MIN_MATCH-1;
  if (flush === Z_FINISH) {
    /*** FLUSH_BLOCK(s, 1); ***/
    flush_block_only(s, true);
    if (s.strm.avail_out === 0) {
      return BS_FINISH_STARTED;
    }
    /***/
    return BS_FINISH_DONE;
  }
  if (s.last_lit) {
    /*** FLUSH_BLOCK(s, 0); ***/
    flush_block_only(s, false);
    if (s.strm.avail_out === 0) {
      return BS_NEED_MORE;
    }
    /***/
  }

  return BS_BLOCK_DONE;
}


/* ===========================================================================
 * For Z_RLE, simply look for runs of bytes, generate matches only of distance
 * one.  Do not maintain a hash table.  (It will be regenerated if this run of
 * deflate switches away from Z_RLE.)
 */
function deflate_rle(s, flush) {
  var bflush;            /* set if current block must be flushed */
  var prev;              /* byte at distance one to match */
  var scan, strend;      /* scan goes up to strend for length of run */

  var _win = s.window;

  for (;;) {
    /* Make sure that we always have enough lookahead, except
     * at the end of the input file. We need MAX_MATCH bytes
     * for the longest run, plus one for the unrolled loop.
     */
    if (s.lookahead <= MAX_MATCH) {
      fill_window(s);
      if (s.lookahead <= MAX_MATCH && flush === Z_NO_FLUSH) {
        return BS_NEED_MORE;
      }
      if (s.lookahead === 0) { break; } /* flush the current block */
    }

    /* See how many times the previous byte repeats */
    s.match_length = 0;
    if (s.lookahead >= MIN_MATCH && s.strstart > 0) {
      scan = s.strstart - 1;
      prev = _win[scan];
      if (prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan]) {
        strend = s.strstart + MAX_MATCH;
        do {
          /*jshint noempty:false*/
        } while (prev === _win[++scan] && prev === _win[++scan] &&
                 prev === _win[++scan] && prev === _win[++scan] &&
                 prev === _win[++scan] && prev === _win[++scan] &&
                 prev === _win[++scan] && prev === _win[++scan] &&
                 scan < strend);
        s.match_length = MAX_MATCH - (strend - scan);
        if (s.match_length > s.lookahead) {
          s.match_length = s.lookahead;
        }
      }
      //Assert(scan <= s->window+(uInt)(s->window_size-1), "wild scan");
    }

    /* Emit match if have run of MIN_MATCH or longer, else emit literal */
    if (s.match_length >= MIN_MATCH) {
      //check_match(s, s.strstart, s.strstart - 1, s.match_length);

      /*** _tr_tally_dist(s, 1, s.match_length - MIN_MATCH, bflush); ***/
      bflush = trees._tr_tally(s, 1, s.match_length - MIN_MATCH);

      s.lookahead -= s.match_length;
      s.strstart += s.match_length;
      s.match_length = 0;
    } else {
      /* No match, output a literal byte */
      //Tracevv((stderr,"%c", s->window[s->strstart]));
      /*** _tr_tally_lit(s, s.window[s.strstart], bflush); ***/
      bflush = trees._tr_tally(s, 0, s.window[s.strstart]);

      s.lookahead--;
      s.strstart++;
    }
    if (bflush) {
      /*** FLUSH_BLOCK(s, 0); ***/
      flush_block_only(s, false);
      if (s.strm.avail_out === 0) {
        return BS_NEED_MORE;
      }
      /***/
    }
  }
  s.insert = 0;
  if (flush === Z_FINISH) {
    /*** FLUSH_BLOCK(s, 1); ***/
    flush_block_only(s, true);
    if (s.strm.avail_out === 0) {
      return BS_FINISH_STARTED;
    }
    /***/
    return BS_FINISH_DONE;
  }
  if (s.last_lit) {
    /*** FLUSH_BLOCK(s, 0); ***/
    flush_block_only(s, false);
    if (s.strm.avail_out === 0) {
      return BS_NEED_MORE;
    }
    /***/
  }
  return BS_BLOCK_DONE;
}

/* ===========================================================================
 * For Z_HUFFMAN_ONLY, do not look for matches.  Do not maintain a hash table.
 * (It will be regenerated if this run of deflate switches away from Huffman.)
 */
function deflate_huff(s, flush) {
  var bflush;             /* set if current block must be flushed */

  for (;;) {
    /* Make sure that we have a literal to write. */
    if (s.lookahead === 0) {
      fill_window(s);
      if (s.lookahead === 0) {
        if (flush === Z_NO_FLUSH) {
          return BS_NEED_MORE;
        }
        break;      /* flush the current block */
      }
    }

    /* Output a literal byte */
    s.match_length = 0;
    //Tracevv((stderr,"%c", s->window[s->strstart]));
    /*** _tr_tally_lit(s, s.window[s.strstart], bflush); ***/
    bflush = trees._tr_tally(s, 0, s.window[s.strstart]);
    s.lookahead--;
    s.strstart++;
    if (bflush) {
      /*** FLUSH_BLOCK(s, 0); ***/
      flush_block_only(s, false);
      if (s.strm.avail_out === 0) {
        return BS_NEED_MORE;
      }
      /***/
    }
  }
  s.insert = 0;
  if (flush === Z_FINISH) {
    /*** FLUSH_BLOCK(s, 1); ***/
    flush_block_only(s, true);
    if (s.strm.avail_out === 0) {
      return BS_FINISH_STARTED;
    }
    /***/
    return BS_FINISH_DONE;
  }
  if (s.last_lit) {
    /*** FLUSH_BLOCK(s, 0); ***/
    flush_block_only(s, false);
    if (s.strm.avail_out === 0) {
      return BS_NEED_MORE;
    }
    /***/
  }
  return BS_BLOCK_DONE;
}

/* Values for max_lazy_match, good_match and max_chain_length, depending on
 * the desired pack level (0..9). The values given below have been tuned to
 * exclude worst case performance for pathological files. Better values may be
 * found for specific files.
 */
var Config = function (good_length, max_lazy, nice_length, max_chain, func) {
  this.good_length = good_length;
  this.max_lazy = max_lazy;
  this.nice_length = nice_length;
  this.max_chain = max_chain;
  this.func = func;
};

var configuration_table;

configuration_table = [
  /*      good lazy nice chain */
  new Config(0, 0, 0, 0, deflate_stored),          /* 0 store only */
  new Config(4, 4, 8, 4, deflate_fast),            /* 1 max speed, no lazy matches */
  new Config(4, 5, 16, 8, deflate_fast),           /* 2 */
  new Config(4, 6, 32, 32, deflate_fast),          /* 3 */

  new Config(4, 4, 16, 16, deflate_slow),          /* 4 lazy matches */
  new Config(8, 16, 32, 32, deflate_slow),         /* 5 */
  new Config(8, 16, 128, 128, deflate_slow),       /* 6 */
  new Config(8, 32, 128, 256, deflate_slow),       /* 7 */
  new Config(32, 128, 258, 1024, deflate_slow),    /* 8 */
  new Config(32, 258, 258, 4096, deflate_slow)     /* 9 max compression */
];


/* ===========================================================================
 * Initialize the "longest match" routines for a new zlib stream
 */
function lm_init(s) {
  s.window_size = 2 * s.w_size;

  /*** CLEAR_HASH(s); ***/
  zero(s.head); // Fill with NIL (= 0);

  /* Set the default configuration parameters:
   */
  s.max_lazy_match = configuration_table[s.level].max_lazy;
  s.good_match = configuration_table[s.level].good_length;
  s.nice_match = configuration_table[s.level].nice_length;
  s.max_chain_length = configuration_table[s.level].max_chain;

  s.strstart = 0;
  s.block_start = 0;
  s.lookahead = 0;
  s.insert = 0;
  s.match_length = s.prev_length = MIN_MATCH - 1;
  s.match_available = 0;
  s.ins_h = 0;
}


function DeflateState() {
  this.strm = null;            /* pointer back to this zlib stream */
  this.status = 0;            /* as the name implies */
  this.pending_buf = null;      /* output still pending */
  this.pending_buf_size = 0;  /* size of pending_buf */
  this.pending_out = 0;       /* next pending byte to output to the stream */
  this.pending = 0;           /* nb of bytes in the pending buffer */
  this.wrap = 0;              /* bit 0 true for zlib, bit 1 true for gzip */
  this.gzhead = null;         /* gzip header information to write */
  this.gzindex = 0;           /* where in extra, name, or comment */
  this.method = Z_DEFLATED; /* can only be DEFLATED */
  this.last_flush = -1;   /* value of flush param for previous deflate call */

  this.w_size = 0;  /* LZ77 window size (32K by default) */
  this.w_bits = 0;  /* log2(w_size)  (8..16) */
  this.w_mask = 0;  /* w_size - 1 */

  this.window = null;
  /* Sliding window. Input bytes are read into the second half of the window,
   * and move to the first half later to keep a dictionary of at least wSize
   * bytes. With this organization, matches are limited to a distance of
   * wSize-MAX_MATCH bytes, but this ensures that IO is always
   * performed with a length multiple of the block size.
   */

  this.window_size = 0;
  /* Actual size of window: 2*wSize, except when the user input buffer
   * is directly used as sliding window.
   */

  this.prev = null;
  /* Link to older string with same hash index. To limit the size of this
   * array to 64K, this link is maintained only for the last 32K strings.
   * An index in this array is thus a window index modulo 32K.
   */

  this.head = null;   /* Heads of the hash chains or NIL. */

  this.ins_h = 0;       /* hash index of string to be inserted */
  this.hash_size = 0;   /* number of elements in hash table */
  this.hash_bits = 0;   /* log2(hash_size) */
  this.hash_mask = 0;   /* hash_size-1 */

  this.hash_shift = 0;
  /* Number of bits by which ins_h must be shifted at each input
   * step. It must be such that after MIN_MATCH steps, the oldest
   * byte no longer takes part in the hash key, that is:
   *   hash_shift * MIN_MATCH >= hash_bits
   */

  this.block_start = 0;
  /* Window position at the beginning of the current output block. Gets
   * negative when the window is moved backwards.
   */

  this.match_length = 0;      /* length of best match */
  this.prev_match = 0;        /* previous match */
  this.match_available = 0;   /* set if previous match exists */
  this.strstart = 0;          /* start of string to insert */
  this.match_start = 0;       /* start of matching string */
  this.lookahead = 0;         /* number of valid bytes ahead in window */

  this.prev_length = 0;
  /* Length of the best match at previous step. Matches not greater than this
   * are discarded. This is used in the lazy match evaluation.
   */

  this.max_chain_length = 0;
  /* To speed up deflation, hash chains are never searched beyond this
   * length.  A higher limit improves compression ratio but degrades the
   * speed.
   */

  this.max_lazy_match = 0;
  /* Attempt to find a better match only when the current match is strictly
   * smaller than this value. This mechanism is used only for compression
   * levels >= 4.
   */
  // That's alias to max_lazy_match, don't use directly
  //this.max_insert_length = 0;
  /* Insert new strings in the hash table only if the match length is not
   * greater than this length. This saves time but degrades compression.
   * max_insert_length is used only for compression levels <= 3.
   */

  this.level = 0;     /* compression level (1..9) */
  this.strategy = 0;  /* favor or force Huffman coding*/

  this.good_match = 0;
  /* Use a faster search when the previous match is longer than this */

  this.nice_match = 0; /* Stop searching when current match exceeds this */

              /* used by trees.c: */

  /* Didn't use ct_data typedef below to suppress compiler warning */

  // struct ct_data_s dyn_ltree[HEAP_SIZE];   /* literal and length tree */
  // struct ct_data_s dyn_dtree[2*D_CODES+1]; /* distance tree */
  // struct ct_data_s bl_tree[2*BL_CODES+1];  /* Huffman tree for bit lengths */

  // Use flat array of DOUBLE size, with interleaved fata,
  // because JS does not support effective
  this.dyn_ltree  = new utils.Buf16(HEAP_SIZE * 2);
  this.dyn_dtree  = new utils.Buf16((2*D_CODES+1) * 2);
  this.bl_tree    = new utils.Buf16((2*BL_CODES+1) * 2);
  zero(this.dyn_ltree);
  zero(this.dyn_dtree);
  zero(this.bl_tree);

  this.l_desc   = null;         /* desc. for literal tree */
  this.d_desc   = null;         /* desc. for distance tree */
  this.bl_desc  = null;         /* desc. for bit length tree */

  //ush bl_count[MAX_BITS+1];
  this.bl_count = new utils.Buf16(MAX_BITS+1);
  /* number of codes at each bit length for an optimal tree */

  //int heap[2*L_CODES+1];      /* heap used to build the Huffman trees */
  this.heap = new utils.Buf16(2*L_CODES+1);  /* heap used to build the Huffman trees */
  zero(this.heap);

  this.heap_len = 0;               /* number of elements in the heap */
  this.heap_max = 0;               /* element of largest frequency */
  /* The sons of heap[n] are heap[2*n] and heap[2*n+1]. heap[0] is not used.
   * The same heap array is used to build all trees.
   */

  this.depth = new utils.Buf16(2*L_CODES+1); //uch depth[2*L_CODES+1];
  zero(this.depth);
  /* Depth of each subtree used as tie breaker for trees of equal frequency
   */

  this.l_buf = 0;          /* buffer index for literals or lengths */

  this.lit_bufsize = 0;
  /* Size of match buffer for literals/lengths.  There are 4 reasons for
   * limiting lit_bufsize to 64K:
   *   - frequencies can be kept in 16 bit counters
   *   - if compression is not successful for the first block, all input
   *     data is still in the window so we can still emit a stored block even
   *     when input comes from standard input.  (This can also be done for
   *     all blocks if lit_bufsize is not greater than 32K.)
   *   - if compression is not successful for a file smaller than 64K, we can
   *     even emit a stored file instead of a stored block (saving 5 bytes).
   *     This is applicable only for zip (not gzip or zlib).
   *   - creating new Huffman trees less frequently may not provide fast
   *     adaptation to changes in the input data statistics. (Take for
   *     example a binary file with poorly compressible code followed by
   *     a highly compressible string table.) Smaller buffer sizes give
   *     fast adaptation but have of course the overhead of transmitting
   *     trees more frequently.
   *   - I can't count above 4
   */

  this.last_lit = 0;      /* running index in l_buf */

  this.d_buf = 0;
  /* Buffer index for distances. To simplify the code, d_buf and l_buf have
   * the same number of elements. To use different lengths, an extra flag
   * array would be necessary.
   */

  this.opt_len = 0;       /* bit length of current block with optimal trees */
  this.static_len = 0;    /* bit length of current block with static trees */
  this.matches = 0;       /* number of string matches in current block */
  this.insert = 0;        /* bytes at end of window left to insert */


  this.bi_buf = 0;
  /* Output buffer. bits are inserted starting at the bottom (least
   * significant bits).
   */
  this.bi_valid = 0;
  /* Number of valid bits in bi_buf.  All bits above the last valid bit
   * are always zero.
   */

  // Used for window memory init. We safely ignore it for JS. That makes
  // sense only for pointers and memory check tools.
  //this.high_water = 0;
  /* High water mark offset in window for initialized bytes -- bytes above
   * this are set to zero in order to avoid memory check warnings when
   * longest match routines access bytes past the input.  This is then
   * updated to the new high water mark.
   */
}


function deflateResetKeep(strm) {
  var s;

  if (!strm || !strm.state) {
    return err(strm, Z_STREAM_ERROR);
  }

  strm.total_in = strm.total_out = 0;
  strm.data_type = Z_UNKNOWN;

  s = strm.state;
  s.pending = 0;
  s.pending_out = 0;

  if (s.wrap < 0) {
    s.wrap = -s.wrap;
    /* was made negative by deflate(..., Z_FINISH); */
  }
  s.status = (s.wrap ? INIT_STATE : BUSY_STATE);
  strm.adler = (s.wrap === 2) ?
    0  // crc32(0, Z_NULL, 0)
  :
    1; // adler32(0, Z_NULL, 0)
  s.last_flush = Z_NO_FLUSH;
  trees._tr_init(s);
  return Z_OK;
}


function deflateReset(strm) {
  var ret = deflateResetKeep(strm);
  if (ret === Z_OK) {
    lm_init(strm.state);
  }
  return ret;
}


function deflateSetHeader(strm, head) {
  if (!strm || !strm.state) { return Z_STREAM_ERROR; }
  if (strm.state.wrap !== 2) { return Z_STREAM_ERROR; }
  strm.state.gzhead = head;
  return Z_OK;
}


function deflateInit2(strm, level, method, windowBits, memLevel, strategy) {
  if (!strm) { // === Z_NULL
    return Z_STREAM_ERROR;
  }
  var wrap = 1;

  if (level === Z_DEFAULT_COMPRESSION) {
    level = 6;
  }

  if (windowBits < 0) { /* suppress zlib wrapper */
    wrap = 0;
    windowBits = -windowBits;
  }

  else if (windowBits > 15) {
    wrap = 2;           /* write gzip wrapper instead */
    windowBits -= 16;
  }


  if (memLevel < 1 || memLevel > MAX_MEM_LEVEL || method !== Z_DEFLATED ||
    windowBits < 8 || windowBits > 15 || level < 0 || level > 9 ||
    strategy < 0 || strategy > Z_FIXED) {
    return err(strm, Z_STREAM_ERROR);
  }


  if (windowBits === 8) {
    windowBits = 9;
  }
  /* until 256-byte window bug fixed */

  var s = new DeflateState();

  strm.state = s;
  s.strm = strm;

  s.wrap = wrap;
  s.gzhead = null;
  s.w_bits = windowBits;
  s.w_size = 1 << s.w_bits;
  s.w_mask = s.w_size - 1;

  s.hash_bits = memLevel + 7;
  s.hash_size = 1 << s.hash_bits;
  s.hash_mask = s.hash_size - 1;
  s.hash_shift = ~~((s.hash_bits + MIN_MATCH - 1) / MIN_MATCH);

  s.window = new utils.Buf8(s.w_size * 2);
  s.head = new utils.Buf16(s.hash_size);
  s.prev = new utils.Buf16(s.w_size);

  // Don't need mem init magic for JS.
  //s.high_water = 0;  /* nothing written to s->window yet */

  s.lit_bufsize = 1 << (memLevel + 6); /* 16K elements by default */

  s.pending_buf_size = s.lit_bufsize * 4;
  s.pending_buf = new utils.Buf8(s.pending_buf_size);

  s.d_buf = s.lit_bufsize >> 1;
  s.l_buf = (1 + 2) * s.lit_bufsize;

  s.level = level;
  s.strategy = strategy;
  s.method = method;

  return deflateReset(strm);
}

function deflateInit(strm, level) {
  return deflateInit2(strm, level, Z_DEFLATED, MAX_WBITS, DEF_MEM_LEVEL, Z_DEFAULT_STRATEGY);
}


function deflate(strm, flush) {
  var old_flush, s;
  var beg, val; // for gzip header write only

  if (!strm || !strm.state ||
    flush > Z_BLOCK || flush < 0) {
    return strm ? err(strm, Z_STREAM_ERROR) : Z_STREAM_ERROR;
  }

  s = strm.state;

  if (!strm.output ||
      (!strm.input && strm.avail_in !== 0) ||
      (s.status === FINISH_STATE && flush !== Z_FINISH)) {
    return err(strm, (strm.avail_out === 0) ? Z_BUF_ERROR : Z_STREAM_ERROR);
  }

  s.strm = strm; /* just in case */
  old_flush = s.last_flush;
  s.last_flush = flush;

  /* Write the header */
  if (s.status === INIT_STATE) {

    if (s.wrap === 2) { // GZIP header
      strm.adler = 0;  //crc32(0L, Z_NULL, 0);
      put_byte(s, 31);
      put_byte(s, 139);
      put_byte(s, 8);
      if (!s.gzhead) { // s->gzhead == Z_NULL
        put_byte(s, 0);
        put_byte(s, 0);
        put_byte(s, 0);
        put_byte(s, 0);
        put_byte(s, 0);
        put_byte(s, s.level === 9 ? 2 :
                    (s.strategy >= Z_HUFFMAN_ONLY || s.level < 2 ?
                     4 : 0));
        put_byte(s, OS_CODE);
        s.status = BUSY_STATE;
      }
      else {
        put_byte(s, (s.gzhead.text ? 1 : 0) +
                    (s.gzhead.hcrc ? 2 : 0) +
                    (!s.gzhead.extra ? 0 : 4) +
                    (!s.gzhead.name ? 0 : 8) +
                    (!s.gzhead.comment ? 0 : 16)
                );
        put_byte(s, s.gzhead.time & 0xff);
        put_byte(s, (s.gzhead.time >> 8) & 0xff);
        put_byte(s, (s.gzhead.time >> 16) & 0xff);
        put_byte(s, (s.gzhead.time >> 24) & 0xff);
        put_byte(s, s.level === 9 ? 2 :
                    (s.strategy >= Z_HUFFMAN_ONLY || s.level < 2 ?
                     4 : 0));
        put_byte(s, s.gzhead.os & 0xff);
        if (s.gzhead.extra && s.gzhead.extra.length) {
          put_byte(s, s.gzhead.extra.length & 0xff);
          put_byte(s, (s.gzhead.extra.length >> 8) & 0xff);
        }
        if (s.gzhead.hcrc) {
          strm.adler = crc32(strm.adler, s.pending_buf, s.pending, 0);
        }
        s.gzindex = 0;
        s.status = EXTRA_STATE;
      }
    }
    else // DEFLATE header
    {
      var header = (Z_DEFLATED + ((s.w_bits - 8) << 4)) << 8;
      var level_flags = -1;

      if (s.strategy >= Z_HUFFMAN_ONLY || s.level < 2) {
        level_flags = 0;
      } else if (s.level < 6) {
        level_flags = 1;
      } else if (s.level === 6) {
        level_flags = 2;
      } else {
        level_flags = 3;
      }
      header |= (level_flags << 6);
      if (s.strstart !== 0) { header |= PRESET_DICT; }
      header += 31 - (header % 31);

      s.status = BUSY_STATE;
      putShortMSB(s, header);

      /* Save the adler32 of the preset dictionary: */
      if (s.strstart !== 0) {
        putShortMSB(s, strm.adler >>> 16);
        putShortMSB(s, strm.adler & 0xffff);
      }
      strm.adler = 1; // adler32(0L, Z_NULL, 0);
    }
  }

//#ifdef GZIP
  if (s.status === EXTRA_STATE) {
    if (s.gzhead.extra/* != Z_NULL*/) {
      beg = s.pending;  /* start of bytes to update crc */

      while (s.gzindex < (s.gzhead.extra.length & 0xffff)) {
        if (s.pending === s.pending_buf_size) {
          if (s.gzhead.hcrc && s.pending > beg) {
            strm.adler = crc32(strm.adler, s.pending_buf, s.pending - beg, beg);
          }
          flush_pending(strm);
          beg = s.pending;
          if (s.pending === s.pending_buf_size) {
            break;
          }
        }
        put_byte(s, s.gzhead.extra[s.gzindex] & 0xff);
        s.gzindex++;
      }
      if (s.gzhead.hcrc && s.pending > beg) {
        strm.adler = crc32(strm.adler, s.pending_buf, s.pending - beg, beg);
      }
      if (s.gzindex === s.gzhead.extra.length) {
        s.gzindex = 0;
        s.status = NAME_STATE;
      }
    }
    else {
      s.status = NAME_STATE;
    }
  }
  if (s.status === NAME_STATE) {
    if (s.gzhead.name/* != Z_NULL*/) {
      beg = s.pending;  /* start of bytes to update crc */
      //int val;

      do {
        if (s.pending === s.pending_buf_size) {
          if (s.gzhead.hcrc && s.pending > beg) {
            strm.adler = crc32(strm.adler, s.pending_buf, s.pending - beg, beg);
          }
          flush_pending(strm);
          beg = s.pending;
          if (s.pending === s.pending_buf_size) {
            val = 1;
            break;
          }
        }
        // JS specific: little magic to add zero terminator to end of string
        if (s.gzindex < s.gzhead.name.length) {
          val = s.gzhead.name.charCodeAt(s.gzindex++) & 0xff;
        } else {
          val = 0;
        }
        put_byte(s, val);
      } while (val !== 0);

      if (s.gzhead.hcrc && s.pending > beg){
        strm.adler = crc32(strm.adler, s.pending_buf, s.pending - beg, beg);
      }
      if (val === 0) {
        s.gzindex = 0;
        s.status = COMMENT_STATE;
      }
    }
    else {
      s.status = COMMENT_STATE;
    }
  }
  if (s.status === COMMENT_STATE) {
    if (s.gzhead.comment/* != Z_NULL*/) {
      beg = s.pending;  /* start of bytes to update crc */
      //int val;

      do {
        if (s.pending === s.pending_buf_size) {
          if (s.gzhead.hcrc && s.pending > beg) {
            strm.adler = crc32(strm.adler, s.pending_buf, s.pending - beg, beg);
          }
          flush_pending(strm);
          beg = s.pending;
          if (s.pending === s.pending_buf_size) {
            val = 1;
            break;
          }
        }
        // JS specific: little magic to add zero terminator to end of string
        if (s.gzindex < s.gzhead.comment.length) {
          val = s.gzhead.comment.charCodeAt(s.gzindex++) & 0xff;
        } else {
          val = 0;
        }
        put_byte(s, val);
      } while (val !== 0);

      if (s.gzhead.hcrc && s.pending > beg) {
        strm.adler = crc32(strm.adler, s.pending_buf, s.pending - beg, beg);
      }
      if (val === 0) {
        s.status = HCRC_STATE;
      }
    }
    else {
      s.status = HCRC_STATE;
    }
  }
  if (s.status === HCRC_STATE) {
    if (s.gzhead.hcrc) {
      if (s.pending + 2 > s.pending_buf_size) {
        flush_pending(strm);
      }
      if (s.pending + 2 <= s.pending_buf_size) {
        put_byte(s, strm.adler & 0xff);
        put_byte(s, (strm.adler >> 8) & 0xff);
        strm.adler = 0; //crc32(0L, Z_NULL, 0);
        s.status = BUSY_STATE;
      }
    }
    else {
      s.status = BUSY_STATE;
    }
  }
//#endif

  /* Flush as much pending output as possible */
  if (s.pending !== 0) {
    flush_pending(strm);
    if (strm.avail_out === 0) {
      /* Since avail_out is 0, deflate will be called again with
       * more output space, but possibly with both pending and
       * avail_in equal to zero. There won't be anything to do,
       * but this is not an error situation so make sure we
       * return OK instead of BUF_ERROR at next call of deflate:
       */
      s.last_flush = -1;
      return Z_OK;
    }

    /* Make sure there is something to do and avoid duplicate consecutive
     * flushes. For repeated and useless calls with Z_FINISH, we keep
     * returning Z_STREAM_END instead of Z_BUF_ERROR.
     */
  } else if (strm.avail_in === 0 && rank(flush) <= rank(old_flush) &&
    flush !== Z_FINISH) {
    return err(strm, Z_BUF_ERROR);
  }

  /* User must not provide more input after the first FINISH: */
  if (s.status === FINISH_STATE && strm.avail_in !== 0) {
    return err(strm, Z_BUF_ERROR);
  }

  /* Start a new block or continue the current one.
   */
  if (strm.avail_in !== 0 || s.lookahead !== 0 ||
    (flush !== Z_NO_FLUSH && s.status !== FINISH_STATE)) {
    var bstate = (s.strategy === Z_HUFFMAN_ONLY) ? deflate_huff(s, flush) :
      (s.strategy === Z_RLE ? deflate_rle(s, flush) :
        configuration_table[s.level].func(s, flush));

    if (bstate === BS_FINISH_STARTED || bstate === BS_FINISH_DONE) {
      s.status = FINISH_STATE;
    }
    if (bstate === BS_NEED_MORE || bstate === BS_FINISH_STARTED) {
      if (strm.avail_out === 0) {
        s.last_flush = -1;
        /* avoid BUF_ERROR next call, see above */
      }
      return Z_OK;
      /* If flush != Z_NO_FLUSH && avail_out == 0, the next call
       * of deflate should use the same flush parameter to make sure
       * that the flush is complete. So we don't have to output an
       * empty block here, this will be done at next call. This also
       * ensures that for a very small output buffer, we emit at most
       * one empty block.
       */
    }
    if (bstate === BS_BLOCK_DONE) {
      if (flush === Z_PARTIAL_FLUSH) {
        trees._tr_align(s);
      }
      else if (flush !== Z_BLOCK) { /* FULL_FLUSH or SYNC_FLUSH */

        trees._tr_stored_block(s, 0, 0, false);
        /* For a full flush, this empty block will be recognized
         * as a special marker by inflate_sync().
         */
        if (flush === Z_FULL_FLUSH) {
          /*** CLEAR_HASH(s); ***/             /* forget history */
          zero(s.head); // Fill with NIL (= 0);

          if (s.lookahead === 0) {
            s.strstart = 0;
            s.block_start = 0;
            s.insert = 0;
          }
        }
      }
      flush_pending(strm);
      if (strm.avail_out === 0) {
        s.last_flush = -1; /* avoid BUF_ERROR at next call, see above */
        return Z_OK;
      }
    }
  }
  //Assert(strm->avail_out > 0, "bug2");
  //if (strm.avail_out <= 0) { throw new Error("bug2");}

  if (flush !== Z_FINISH) { return Z_OK; }
  if (s.wrap <= 0) { return Z_STREAM_END; }

  /* Write the trailer */
  if (s.wrap === 2) {
    put_byte(s, strm.adler & 0xff);
    put_byte(s, (strm.adler >> 8) & 0xff);
    put_byte(s, (strm.adler >> 16) & 0xff);
    put_byte(s, (strm.adler >> 24) & 0xff);
    put_byte(s, strm.total_in & 0xff);
    put_byte(s, (strm.total_in >> 8) & 0xff);
    put_byte(s, (strm.total_in >> 16) & 0xff);
    put_byte(s, (strm.total_in >> 24) & 0xff);
  }
  else
  {
    putShortMSB(s, strm.adler >>> 16);
    putShortMSB(s, strm.adler & 0xffff);
  }

  flush_pending(strm);
  /* If avail_out is zero, the application will call deflate again
   * to flush the rest.
   */
  if (s.wrap > 0) { s.wrap = -s.wrap; }
  /* write the trailer only once! */
  return s.pending !== 0 ? Z_OK : Z_STREAM_END;
}

function deflateEnd(strm) {
  var status;

  if (!strm/*== Z_NULL*/ || !strm.state/*== Z_NULL*/) {
    return Z_STREAM_ERROR;
  }

  status = strm.state.status;
  if (status !== INIT_STATE &&
    status !== EXTRA_STATE &&
    status !== NAME_STATE &&
    status !== COMMENT_STATE &&
    status !== HCRC_STATE &&
    status !== BUSY_STATE &&
    status !== FINISH_STATE
  ) {
    return err(strm, Z_STREAM_ERROR);
  }

  strm.state = null;

  return status === BUSY_STATE ? err(strm, Z_DATA_ERROR) : Z_OK;
}

/* =========================================================================
 * Copy the source state to the destination state
 */
//function deflateCopy(dest, source) {
//
//}

exports.deflateInit = deflateInit;
exports.deflateInit2 = deflateInit2;
exports.deflateReset = deflateReset;
exports.deflateResetKeep = deflateResetKeep;
exports.deflateSetHeader = deflateSetHeader;
exports.deflate = deflate;
exports.deflateEnd = deflateEnd;
exports.deflateInfo = 'pako deflate (from Nodeca project)';

/* Not implemented
exports.deflateBound = deflateBound;
exports.deflateCopy = deflateCopy;
exports.deflateSetDictionary = deflateSetDictionary;
exports.deflateParams = deflateParams;
exports.deflatePending = deflatePending;
exports.deflatePrime = deflatePrime;
exports.deflateTune = deflateTune;
*/
},{"../utils/common":27,"./adler32":29,"./crc32":31,"./messages":37,"./trees":38}],33:[function(_dereq_,module,exports){
'use strict';


function GZheader() {
  /* true if compressed data believed to be text */
  this.text       = 0;
  /* modification time */
  this.time       = 0;
  /* extra flags (not used when writing a gzip file) */
  this.xflags     = 0;
  /* operating system */
  this.os         = 0;
  /* pointer to extra field or Z_NULL if none */
  this.extra      = null;
  /* extra field length (valid if extra != Z_NULL) */
  this.extra_len  = 0; // Actually, we don't need it in JS,
                       // but leave for few code modifications

  //
  // Setup limits is not necessary because in js we should not preallocate memory
  // for inflate use constant limit in 65536 bytes
  //

  /* space at extra (only when reading header) */
  // this.extra_max  = 0;
  /* pointer to zero-terminated file name or Z_NULL */
  this.name       = '';
  /* space at name (only when reading header) */
  // this.name_max   = 0;
  /* pointer to zero-terminated comment or Z_NULL */
  this.comment    = '';
  /* space at comment (only when reading header) */
  // this.comm_max   = 0;
  /* true if there was or will be a header crc */
  this.hcrc       = 0;
  /* true when done reading gzip header (not used when writing a gzip file) */
  this.done       = false;
}

module.exports = GZheader;
},{}],34:[function(_dereq_,module,exports){
'use strict';

// See state defs from inflate.js
var BAD = 30;       /* got a data error -- remain here until reset */
var TYPE = 12;      /* i: waiting for type bits, including last-flag bit */

/*
   Decode literal, length, and distance codes and write out the resulting
   literal and match bytes until either not enough input or output is
   available, an end-of-block is encountered, or a data error is encountered.
   When large enough input and output buffers are supplied to inflate(), for
   example, a 16K input buffer and a 64K output buffer, more than 95% of the
   inflate execution time is spent in this routine.

   Entry assumptions:

        state.mode === LEN
        strm.avail_in >= 6
        strm.avail_out >= 258
        start >= strm.avail_out
        state.bits < 8

   On return, state.mode is one of:

        LEN -- ran out of enough output space or enough available input
        TYPE -- reached end of block code, inflate() to interpret next block
        BAD -- error in block data

   Notes:

    - The maximum input bits used by a length/distance pair is 15 bits for the
      length code, 5 bits for the length extra, 15 bits for the distance code,
      and 13 bits for the distance extra.  This totals 48 bits, or six bytes.
      Therefore if strm.avail_in >= 6, then there is enough input to avoid
      checking for available input while decoding.

    - The maximum bytes that a single length/distance pair can output is 258
      bytes, which is the maximum length that can be coded.  inflate_fast()
      requires strm.avail_out >= 258 for each loop to avoid checking for
      output space.
 */
module.exports = function inflate_fast(strm, start) {
  var state;
  var _in;                    /* local strm.input */
  var last;                   /* have enough input while in < last */
  var _out;                   /* local strm.output */
  var beg;                    /* inflate()'s initial strm.output */
  var end;                    /* while out < end, enough space available */
//#ifdef INFLATE_STRICT
  var dmax;                   /* maximum distance from zlib header */
//#endif
  var wsize;                  /* window size or zero if not using window */
  var whave;                  /* valid bytes in the window */
  var wnext;                  /* window write index */
  var window;                 /* allocated sliding window, if wsize != 0 */
  var hold;                   /* local strm.hold */
  var bits;                   /* local strm.bits */
  var lcode;                  /* local strm.lencode */
  var dcode;                  /* local strm.distcode */
  var lmask;                  /* mask for first level of length codes */
  var dmask;                  /* mask for first level of distance codes */
  var here;                   /* retrieved table entry */
  var op;                     /* code bits, operation, extra bits, or */
                              /*  window position, window bytes to copy */
  var len;                    /* match length, unused bytes */
  var dist;                   /* match distance */
  var from;                   /* where to copy match from */
  var from_source;


  var input, output; // JS specific, because we have no pointers

  /* copy state to local variables */
  state = strm.state;
  //here = state.here;
  _in = strm.next_in;
  input = strm.input;
  last = _in + (strm.avail_in - 5);
  _out = strm.next_out;
  output = strm.output;
  beg = _out - (start - strm.avail_out);
  end = _out + (strm.avail_out - 257);
//#ifdef INFLATE_STRICT
  dmax = state.dmax;
//#endif
  wsize = state.wsize;
  whave = state.whave;
  wnext = state.wnext;
  window = state.window;
  hold = state.hold;
  bits = state.bits;
  lcode = state.lencode;
  dcode = state.distcode;
  lmask = (1 << state.lenbits) - 1;
  dmask = (1 << state.distbits) - 1;


  /* decode literals and length/distances until end-of-block or not enough
     input data or output space */

  top:
  do {
    if (bits < 15) {
      hold += input[_in++] << bits;
      bits += 8;
      hold += input[_in++] << bits;
      bits += 8;
    }

    here = lcode[hold & lmask];

    dolen:
    for (;;) { // Goto emulation
      op = here >>> 24/*here.bits*/;
      hold >>>= op;
      bits -= op;
      op = (here >>> 16) & 0xff/*here.op*/;
      if (op === 0) {                          /* literal */
        //Tracevv((stderr, here.val >= 0x20 && here.val < 0x7f ?
        //        "inflate:         literal '%c'\n" :
        //        "inflate:         literal 0x%02x\n", here.val));
        output[_out++] = here & 0xffff/*here.val*/;
      }
      else if (op & 16) {                     /* length base */
        len = here & 0xffff/*here.val*/;
        op &= 15;                           /* number of extra bits */
        if (op) {
          if (bits < op) {
            hold += input[_in++] << bits;
            bits += 8;
          }
          len += hold & ((1 << op) - 1);
          hold >>>= op;
          bits -= op;
        }
        //Tracevv((stderr, "inflate:         length %u\n", len));
        if (bits < 15) {
          hold += input[_in++] << bits;
          bits += 8;
          hold += input[_in++] << bits;
          bits += 8;
        }
        here = dcode[hold & dmask];

        dodist:
        for (;;) { // goto emulation
          op = here >>> 24/*here.bits*/;
          hold >>>= op;
          bits -= op;
          op = (here >>> 16) & 0xff/*here.op*/;

          if (op & 16) {                      /* distance base */
            dist = here & 0xffff/*here.val*/;
            op &= 15;                       /* number of extra bits */
            if (bits < op) {
              hold += input[_in++] << bits;
              bits += 8;
              if (bits < op) {
                hold += input[_in++] << bits;
                bits += 8;
              }
            }
            dist += hold & ((1 << op) - 1);
//#ifdef INFLATE_STRICT
            if (dist > dmax) {
              strm.msg = 'invalid distance too far back';
              state.mode = BAD;
              break top;
            }
//#endif
            hold >>>= op;
            bits -= op;
            //Tracevv((stderr, "inflate:         distance %u\n", dist));
            op = _out - beg;                /* max distance in output */
            if (dist > op) {                /* see if copy from window */
              op = dist - op;               /* distance back in window */
              if (op > whave) {
                if (state.sane) {
                  strm.msg = 'invalid distance too far back';
                  state.mode = BAD;
                  break top;
                }

// (!) This block is disabled in zlib defailts,
// don't enable it for binary compatibility
//#ifdef INFLATE_ALLOW_INVALID_DISTANCE_TOOFAR_ARRR
//                if (len <= op - whave) {
//                  do {
//                    output[_out++] = 0;
//                  } while (--len);
//                  continue top;
//                }
//                len -= op - whave;
//                do {
//                  output[_out++] = 0;
//                } while (--op > whave);
//                if (op === 0) {
//                  from = _out - dist;
//                  do {
//                    output[_out++] = output[from++];
//                  } while (--len);
//                  continue top;
//                }
//#endif
              }
              from = 0; // window index
              from_source = window;
              if (wnext === 0) {           /* very common case */
                from += wsize - op;
                if (op < len) {         /* some from window */
                  len -= op;
                  do {
                    output[_out++] = window[from++];
                  } while (--op);
                  from = _out - dist;  /* rest from output */
                  from_source = output;
                }
              }
              else if (wnext < op) {      /* wrap around window */
                from += wsize + wnext - op;
                op -= wnext;
                if (op < len) {         /* some from end of window */
                  len -= op;
                  do {
                    output[_out++] = window[from++];
                  } while (--op);
                  from = 0;
                  if (wnext < len) {  /* some from start of window */
                    op = wnext;
                    len -= op;
                    do {
                      output[_out++] = window[from++];
                    } while (--op);
                    from = _out - dist;      /* rest from output */
                    from_source = output;
                  }
                }
              }
              else {                      /* contiguous in window */
                from += wnext - op;
                if (op < len) {         /* some from window */
                  len -= op;
                  do {
                    output[_out++] = window[from++];
                  } while (--op);
                  from = _out - dist;  /* rest from output */
                  from_source = output;
                }
              }
              while (len > 2) {
                output[_out++] = from_source[from++];
                output[_out++] = from_source[from++];
                output[_out++] = from_source[from++];
                len -= 3;
              }
              if (len) {
                output[_out++] = from_source[from++];
                if (len > 1) {
                  output[_out++] = from_source[from++];
                }
              }
            }
            else {
              from = _out - dist;          /* copy direct from output */
              do {                        /* minimum length is three */
                output[_out++] = output[from++];
                output[_out++] = output[from++];
                output[_out++] = output[from++];
                len -= 3;
              } while (len > 2);
              if (len) {
                output[_out++] = output[from++];
                if (len > 1) {
                  output[_out++] = output[from++];
                }
              }
            }
          }
          else if ((op & 64) === 0) {          /* 2nd level distance code */
            here = dcode[(here & 0xffff)/*here.val*/ + (hold & ((1 << op) - 1))];
            continue dodist;
          }
          else {
            strm.msg = 'invalid distance code';
            state.mode = BAD;
            break top;
          }

          break; // need to emulate goto via "continue"
        }
      }
      else if ((op & 64) === 0) {              /* 2nd level length code */
        here = lcode[(here & 0xffff)/*here.val*/ + (hold & ((1 << op) - 1))];
        continue dolen;
      }
      else if (op & 32) {                     /* end-of-block */
        //Tracevv((stderr, "inflate:         end of block\n"));
        state.mode = TYPE;
        break top;
      }
      else {
        strm.msg = 'invalid literal/length code';
        state.mode = BAD;
        break top;
      }

      break; // need to emulate goto via "continue"
    }
  } while (_in < last && _out < end);

  /* return unused bytes (on entry, bits < 8, so in won't go too far back) */
  len = bits >> 3;
  _in -= len;
  bits -= len << 3;
  hold &= (1 << bits) - 1;

  /* update state and return */
  strm.next_in = _in;
  strm.next_out = _out;
  strm.avail_in = (_in < last ? 5 + (last - _in) : 5 - (_in - last));
  strm.avail_out = (_out < end ? 257 + (end - _out) : 257 - (_out - end));
  state.hold = hold;
  state.bits = bits;
  return;
};

},{}],35:[function(_dereq_,module,exports){
'use strict';


var utils = _dereq_('../utils/common');
var adler32 = _dereq_('./adler32');
var crc32   = _dereq_('./crc32');
var inflate_fast = _dereq_('./inffast');
var inflate_table = _dereq_('./inftrees');

var CODES = 0;
var LENS = 1;
var DISTS = 2;

/* Public constants ==========================================================*/
/* ===========================================================================*/


/* Allowed flush values; see deflate() and inflate() below for details */
//var Z_NO_FLUSH      = 0;
//var Z_PARTIAL_FLUSH = 1;
//var Z_SYNC_FLUSH    = 2;
//var Z_FULL_FLUSH    = 3;
var Z_FINISH        = 4;
var Z_BLOCK         = 5;
var Z_TREES         = 6;


/* Return codes for the compression/decompression functions. Negative values
 * are errors, positive values are used for special but normal events.
 */
var Z_OK            = 0;
var Z_STREAM_END    = 1;
var Z_NEED_DICT     = 2;
//var Z_ERRNO         = -1;
var Z_STREAM_ERROR  = -2;
var Z_DATA_ERROR    = -3;
var Z_MEM_ERROR     = -4;
var Z_BUF_ERROR     = -5;
//var Z_VERSION_ERROR = -6;

/* The deflate compression method */
var Z_DEFLATED  = 8;


/* STATES ====================================================================*/
/* ===========================================================================*/


var    HEAD = 1;       /* i: waiting for magic header */
var    FLAGS = 2;      /* i: waiting for method and flags (gzip) */
var    TIME = 3;       /* i: waiting for modification time (gzip) */
var    OS = 4;         /* i: waiting for extra flags and operating system (gzip) */
var    EXLEN = 5;      /* i: waiting for extra length (gzip) */
var    EXTRA = 6;      /* i: waiting for extra bytes (gzip) */
var    NAME = 7;       /* i: waiting for end of file name (gzip) */
var    COMMENT = 8;    /* i: waiting for end of comment (gzip) */
var    HCRC = 9;       /* i: waiting for header crc (gzip) */
var    DICTID = 10;    /* i: waiting for dictionary check value */
var    DICT = 11;      /* waiting for inflateSetDictionary() call */
var        TYPE = 12;      /* i: waiting for type bits, including last-flag bit */
var        TYPEDO = 13;    /* i: same, but skip check to exit inflate on new block */
var        STORED = 14;    /* i: waiting for stored size (length and complement) */
var        COPY_ = 15;     /* i/o: same as COPY below, but only first time in */
var        COPY = 16;      /* i/o: waiting for input or output to copy stored block */
var        TABLE = 17;     /* i: waiting for dynamic block table lengths */
var        LENLENS = 18;   /* i: waiting for code length code lengths */
var        CODELENS = 19;  /* i: waiting for length/lit and distance code lengths */
var            LEN_ = 20;      /* i: same as LEN below, but only first time in */
var            LEN = 21;       /* i: waiting for length/lit/eob code */
var            LENEXT = 22;    /* i: waiting for length extra bits */
var            DIST = 23;      /* i: waiting for distance code */
var            DISTEXT = 24;   /* i: waiting for distance extra bits */
var            MATCH = 25;     /* o: waiting for output space to copy string */
var            LIT = 26;       /* o: waiting for output space to write literal */
var    CHECK = 27;     /* i: waiting for 32-bit check value */
var    LENGTH = 28;    /* i: waiting for 32-bit length (gzip) */
var    DONE = 29;      /* finished check, done -- remain here until reset */
var    BAD = 30;       /* got a data error -- remain here until reset */
var    MEM = 31;       /* got an inflate() memory error -- remain here until reset */
var    SYNC = 32;      /* looking for synchronization bytes to restart inflate() */

/* ===========================================================================*/



var ENOUGH_LENS = 852;
var ENOUGH_DISTS = 592;
//var ENOUGH =  (ENOUGH_LENS+ENOUGH_DISTS);

var MAX_WBITS = 15;
/* 32K LZ77 window */
var DEF_WBITS = MAX_WBITS;


function ZSWAP32(q) {
  return  (((q >>> 24) & 0xff) +
          ((q >>> 8) & 0xff00) +
          ((q & 0xff00) << 8) +
          ((q & 0xff) << 24));
}


function InflateState() {
  this.mode = 0;             /* current inflate mode */
  this.last = false;          /* true if processing last block */
  this.wrap = 0;              /* bit 0 true for zlib, bit 1 true for gzip */
  this.havedict = false;      /* true if dictionary provided */
  this.flags = 0;             /* gzip header method and flags (0 if zlib) */
  this.dmax = 0;              /* zlib header max distance (INFLATE_STRICT) */
  this.check = 0;             /* protected copy of check value */
  this.total = 0;             /* protected copy of output count */
  // TODO: may be {}
  this.head = null;           /* where to save gzip header information */

  /* sliding window */
  this.wbits = 0;             /* log base 2 of requested window size */
  this.wsize = 0;             /* window size or zero if not using window */
  this.whave = 0;             /* valid bytes in the window */
  this.wnext = 0;             /* window write index */
  this.window = null;         /* allocated sliding window, if needed */

  /* bit accumulator */
  this.hold = 0;              /* input bit accumulator */
  this.bits = 0;              /* number of bits in "in" */

  /* for string and stored block copying */
  this.length = 0;            /* literal or length of data to copy */
  this.offset = 0;            /* distance back to copy string from */

  /* for table and code decoding */
  this.extra = 0;             /* extra bits needed */

  /* fixed and dynamic code tables */
  this.lencode = null;          /* starting table for length/literal codes */
  this.distcode = null;         /* starting table for distance codes */
  this.lenbits = 0;           /* index bits for lencode */
  this.distbits = 0;          /* index bits for distcode */

  /* dynamic table building */
  this.ncode = 0;             /* number of code length code lengths */
  this.nlen = 0;              /* number of length code lengths */
  this.ndist = 0;             /* number of distance code lengths */
  this.have = 0;              /* number of code lengths in lens[] */
  this.next = null;              /* next available space in codes[] */

  this.lens = new utils.Buf16(320); /* temporary storage for code lengths */
  this.work = new utils.Buf16(288); /* work area for code table building */

  /*
   because we don't have pointers in js, we use lencode and distcode directly
   as buffers so we don't need codes
  */
  //this.codes = new utils.Buf32(ENOUGH);       /* space for code tables */
  this.lendyn = null;              /* dynamic table for length/literal codes (JS specific) */
  this.distdyn = null;             /* dynamic table for distance codes (JS specific) */
  this.sane = 0;                   /* if false, allow invalid distance too far */
  this.back = 0;                   /* bits back of last unprocessed length/lit */
  this.was = 0;                    /* initial length of match */
}

function inflateResetKeep(strm) {
  var state;

  if (!strm || !strm.state) { return Z_STREAM_ERROR; }
  state = strm.state;
  strm.total_in = strm.total_out = state.total = 0;
  strm.msg = ''; /*Z_NULL*/
  if (state.wrap) {       /* to support ill-conceived Java test suite */
    strm.adler = state.wrap & 1;
  }
  state.mode = HEAD;
  state.last = 0;
  state.havedict = 0;
  state.dmax = 32768;
  state.head = null/*Z_NULL*/;
  state.hold = 0;
  state.bits = 0;
  //state.lencode = state.distcode = state.next = state.codes;
  state.lencode = state.lendyn = new utils.Buf32(ENOUGH_LENS);
  state.distcode = state.distdyn = new utils.Buf32(ENOUGH_DISTS);

  state.sane = 1;
  state.back = -1;
  //Tracev((stderr, "inflate: reset\n"));
  return Z_OK;
}

function inflateReset(strm) {
  var state;

  if (!strm || !strm.state) { return Z_STREAM_ERROR; }
  state = strm.state;
  state.wsize = 0;
  state.whave = 0;
  state.wnext = 0;
  return inflateResetKeep(strm);

}

function inflateReset2(strm, windowBits) {
  var wrap;
  var state;

  /* get the state */
  if (!strm || !strm.state) { return Z_STREAM_ERROR; }
  state = strm.state;

  /* extract wrap request from windowBits parameter */
  if (windowBits < 0) {
    wrap = 0;
    windowBits = -windowBits;
  }
  else {
    wrap = (windowBits >> 4) + 1;
    if (windowBits < 48) {
      windowBits &= 15;
    }
  }

  /* set number of window bits, free window if different */
  if (windowBits && (windowBits < 8 || windowBits > 15)) {
    return Z_STREAM_ERROR;
  }
  if (state.window !== null && state.wbits !== windowBits) {
    state.window = null;
  }

  /* update state and reset the rest of it */
  state.wrap = wrap;
  state.wbits = windowBits;
  return inflateReset(strm);
}

function inflateInit2(strm, windowBits) {
  var ret;
  var state;

  if (!strm) { return Z_STREAM_ERROR; }
  //strm.msg = Z_NULL;                 /* in case we return an error */

  state = new InflateState();

  //if (state === Z_NULL) return Z_MEM_ERROR;
  //Tracev((stderr, "inflate: allocated\n"));
  strm.state = state;
  state.window = null/*Z_NULL*/;
  ret = inflateReset2(strm, windowBits);
  if (ret !== Z_OK) {
    strm.state = null/*Z_NULL*/;
  }
  return ret;
}

function inflateInit(strm) {
  return inflateInit2(strm, DEF_WBITS);
}


/*
 Return state with length and distance decoding tables and index sizes set to
 fixed code decoding.  Normally this returns fixed tables from inffixed.h.
 If BUILDFIXED is defined, then instead this routine builds the tables the
 first time it's called, and returns those tables the first time and
 thereafter.  This reduces the size of the code by about 2K bytes, in
 exchange for a little execution time.  However, BUILDFIXED should not be
 used for threaded applications, since the rewriting of the tables and virgin
 may not be thread-safe.
 */
var virgin = true;

var lenfix, distfix; // We have no pointers in JS, so keep tables separate

function fixedtables(state) {
  /* build fixed huffman tables if first call (may not be thread safe) */
  if (virgin) {
    var sym;

    lenfix = new utils.Buf32(512);
    distfix = new utils.Buf32(32);

    /* literal/length table */
    sym = 0;
    while (sym < 144) { state.lens[sym++] = 8; }
    while (sym < 256) { state.lens[sym++] = 9; }
    while (sym < 280) { state.lens[sym++] = 7; }
    while (sym < 288) { state.lens[sym++] = 8; }

    inflate_table(LENS,  state.lens, 0, 288, lenfix,   0, state.work, {bits: 9});

    /* distance table */
    sym = 0;
    while (sym < 32) { state.lens[sym++] = 5; }

    inflate_table(DISTS, state.lens, 0, 32,   distfix, 0, state.work, {bits: 5});

    /* do this just once */
    virgin = false;
  }

  state.lencode = lenfix;
  state.lenbits = 9;
  state.distcode = distfix;
  state.distbits = 5;
}


/*
 Update the window with the last wsize (normally 32K) bytes written before
 returning.  If window does not exist yet, create it.  This is only called
 when a window is already in use, or when output has been written during this
 inflate call, but the end of the deflate stream has not been reached yet.
 It is also called to create a window for dictionary data when a dictionary
 is loaded.

 Providing output buffers larger than 32K to inflate() should provide a speed
 advantage, since only the last 32K of output is copied to the sliding window
 upon return from inflate(), and since all distances after the first 32K of
 output will fall in the output data, making match copies simpler and faster.
 The advantage may be dependent on the size of the processor's data caches.
 */
function updatewindow(strm, src, end, copy) {
  var dist;
  var state = strm.state;

  /* if it hasn't been done already, allocate space for the window */
  if (state.window === null) {
    state.wsize = 1 << state.wbits;
    state.wnext = 0;
    state.whave = 0;

    state.window = new utils.Buf8(state.wsize);
  }

  /* copy state->wsize or less output bytes into the circular window */
  if (copy >= state.wsize) {
    utils.arraySet(state.window,src, end - state.wsize, state.wsize, 0);
    state.wnext = 0;
    state.whave = state.wsize;
  }
  else {
    dist = state.wsize - state.wnext;
    if (dist > copy) {
      dist = copy;
    }
    //zmemcpy(state->window + state->wnext, end - copy, dist);
    utils.arraySet(state.window,src, end - copy, dist, state.wnext);
    copy -= dist;
    if (copy) {
      //zmemcpy(state->window, end - copy, copy);
      utils.arraySet(state.window,src, end - copy, copy, 0);
      state.wnext = copy;
      state.whave = state.wsize;
    }
    else {
      state.wnext += dist;
      if (state.wnext === state.wsize) { state.wnext = 0; }
      if (state.whave < state.wsize) { state.whave += dist; }
    }
  }
  return 0;
}

function inflate(strm, flush) {
  var state;
  var input, output;          // input/output buffers
  var next;                   /* next input INDEX */
  var put;                    /* next output INDEX */
  var have, left;             /* available input and output */
  var hold;                   /* bit buffer */
  var bits;                   /* bits in bit buffer */
  var _in, _out;              /* save starting available input and output */
  var copy;                   /* number of stored or match bytes to copy */
  var from;                   /* where to copy match bytes from */
  var from_source;
  var here = 0;               /* current decoding table entry */
  var here_bits, here_op, here_val; // paked "here" denormalized (JS specific)
  //var last;                   /* parent table entry */
  var last_bits, last_op, last_val; // paked "last" denormalized (JS specific)
  var len;                    /* length to copy for repeats, bits to drop */
  var ret;                    /* return code */
  var hbuf = new utils.Buf8(4);    /* buffer for gzip header crc calculation */
  var opts;

  var n; // temporary var for NEED_BITS

  var order = /* permutation of code lengths */
    [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];


  if (!strm || !strm.state || !strm.output ||
      (!strm.input && strm.avail_in !== 0)) {
    return Z_STREAM_ERROR;
  }

  state = strm.state;
  if (state.mode === TYPE) { state.mode = TYPEDO; }    /* skip check */


  //--- LOAD() ---
  put = strm.next_out;
  output = strm.output;
  left = strm.avail_out;
  next = strm.next_in;
  input = strm.input;
  have = strm.avail_in;
  hold = state.hold;
  bits = state.bits;
  //---

  _in = have;
  _out = left;
  ret = Z_OK;

  inf_leave: // goto emulation
  for (;;) {
    switch (state.mode) {
    case HEAD:
      if (state.wrap === 0) {
        state.mode = TYPEDO;
        break;
      }
      //=== NEEDBITS(16);
      while (bits < 16) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      if ((state.wrap & 2) && hold === 0x8b1f) {  /* gzip header */
        state.check = 0/*crc32(0L, Z_NULL, 0)*/;
        //=== CRC2(state.check, hold);
        hbuf[0] = hold & 0xff;
        hbuf[1] = (hold >>> 8) & 0xff;
        state.check = crc32(state.check, hbuf, 2, 0);
        //===//

        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
        state.mode = FLAGS;
        break;
      }
      state.flags = 0;           /* expect zlib header */
      if (state.head) {
        state.head.done = false;
      }
      if (!(state.wrap & 1) ||   /* check if zlib header allowed */
        (((hold & 0xff)/*BITS(8)*/ << 8) + (hold >> 8)) % 31) {
        strm.msg = 'incorrect header check';
        state.mode = BAD;
        break;
      }
      if ((hold & 0x0f)/*BITS(4)*/ !== Z_DEFLATED) {
        strm.msg = 'unknown compression method';
        state.mode = BAD;
        break;
      }
      //--- DROPBITS(4) ---//
      hold >>>= 4;
      bits -= 4;
      //---//
      len = (hold & 0x0f)/*BITS(4)*/ + 8;
      if (state.wbits === 0) {
        state.wbits = len;
      }
      else if (len > state.wbits) {
        strm.msg = 'invalid window size';
        state.mode = BAD;
        break;
      }
      state.dmax = 1 << len;
      //Tracev((stderr, "inflate:   zlib header ok\n"));
      strm.adler = state.check = 1/*adler32(0L, Z_NULL, 0)*/;
      state.mode = hold & 0x200 ? DICTID : TYPE;
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      break;
    case FLAGS:
      //=== NEEDBITS(16); */
      while (bits < 16) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      state.flags = hold;
      if ((state.flags & 0xff) !== Z_DEFLATED) {
        strm.msg = 'unknown compression method';
        state.mode = BAD;
        break;
      }
      if (state.flags & 0xe000) {
        strm.msg = 'unknown header flags set';
        state.mode = BAD;
        break;
      }
      if (state.head) {
        state.head.text = ((hold >> 8) & 1);
      }
      if (state.flags & 0x0200) {
        //=== CRC2(state.check, hold);
        hbuf[0] = hold & 0xff;
        hbuf[1] = (hold >>> 8) & 0xff;
        state.check = crc32(state.check, hbuf, 2, 0);
        //===//
      }
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = TIME;
      /* falls through */
    case TIME:
      //=== NEEDBITS(32); */
      while (bits < 32) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      if (state.head) {
        state.head.time = hold;
      }
      if (state.flags & 0x0200) {
        //=== CRC4(state.check, hold)
        hbuf[0] = hold & 0xff;
        hbuf[1] = (hold >>> 8) & 0xff;
        hbuf[2] = (hold >>> 16) & 0xff;
        hbuf[3] = (hold >>> 24) & 0xff;
        state.check = crc32(state.check, hbuf, 4, 0);
        //===
      }
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = OS;
      /* falls through */
    case OS:
      //=== NEEDBITS(16); */
      while (bits < 16) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      if (state.head) {
        state.head.xflags = (hold & 0xff);
        state.head.os = (hold >> 8);
      }
      if (state.flags & 0x0200) {
        //=== CRC2(state.check, hold);
        hbuf[0] = hold & 0xff;
        hbuf[1] = (hold >>> 8) & 0xff;
        state.check = crc32(state.check, hbuf, 2, 0);
        //===//
      }
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = EXLEN;
      /* falls through */
    case EXLEN:
      if (state.flags & 0x0400) {
        //=== NEEDBITS(16); */
        while (bits < 16) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        state.length = hold;
        if (state.head) {
          state.head.extra_len = hold;
        }
        if (state.flags & 0x0200) {
          //=== CRC2(state.check, hold);
          hbuf[0] = hold & 0xff;
          hbuf[1] = (hold >>> 8) & 0xff;
          state.check = crc32(state.check, hbuf, 2, 0);
          //===//
        }
        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
      }
      else if (state.head) {
        state.head.extra = null/*Z_NULL*/;
      }
      state.mode = EXTRA;
      /* falls through */
    case EXTRA:
      if (state.flags & 0x0400) {
        copy = state.length;
        if (copy > have) { copy = have; }
        if (copy) {
          if (state.head) {
            len = state.head.extra_len - state.length;
            if (!state.head.extra) {
              // Use untyped array for more conveniend processing later
              state.head.extra = new Array(state.head.extra_len);
            }
            utils.arraySet(
              state.head.extra,
              input,
              next,
              // extra field is limited to 65536 bytes
              // - no need for additional size check
              copy,
              /*len + copy > state.head.extra_max - len ? state.head.extra_max : copy,*/
              len
            );
            //zmemcpy(state.head.extra + len, next,
            //        len + copy > state.head.extra_max ?
            //        state.head.extra_max - len : copy);
          }
          if (state.flags & 0x0200) {
            state.check = crc32(state.check, input, copy, next);
          }
          have -= copy;
          next += copy;
          state.length -= copy;
        }
        if (state.length) { break inf_leave; }
      }
      state.length = 0;
      state.mode = NAME;
      /* falls through */
    case NAME:
      if (state.flags & 0x0800) {
        if (have === 0) { break inf_leave; }
        copy = 0;
        do {
          // TODO: 2 or 1 bytes?
          len = input[next + copy++];
          /* use constant limit because in js we should not preallocate memory */
          if (state.head && len &&
              (state.length < 65536 /*state.head.name_max*/)) {
            state.head.name += String.fromCharCode(len);
          }
        } while (len && copy < have);

        if (state.flags & 0x0200) {
          state.check = crc32(state.check, input, copy, next);
        }
        have -= copy;
        next += copy;
        if (len) { break inf_leave; }
      }
      else if (state.head) {
        state.head.name = null;
      }
      state.length = 0;
      state.mode = COMMENT;
      /* falls through */
    case COMMENT:
      if (state.flags & 0x1000) {
        if (have === 0) { break inf_leave; }
        copy = 0;
        do {
          len = input[next + copy++];
          /* use constant limit because in js we should not preallocate memory */
          if (state.head && len &&
              (state.length < 65536 /*state.head.comm_max*/)) {
            state.head.comment += String.fromCharCode(len);
          }
        } while (len && copy < have);
        if (state.flags & 0x0200) {
          state.check = crc32(state.check, input, copy, next);
        }
        have -= copy;
        next += copy;
        if (len) { break inf_leave; }
      }
      else if (state.head) {
        state.head.comment = null;
      }
      state.mode = HCRC;
      /* falls through */
    case HCRC:
      if (state.flags & 0x0200) {
        //=== NEEDBITS(16); */
        while (bits < 16) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        if (hold !== (state.check & 0xffff)) {
          strm.msg = 'header crc mismatch';
          state.mode = BAD;
          break;
        }
        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
      }
      if (state.head) {
        state.head.hcrc = ((state.flags >> 9) & 1);
        state.head.done = true;
      }
      strm.adler = state.check = 0 /*crc32(0L, Z_NULL, 0)*/;
      state.mode = TYPE;
      break;
    case DICTID:
      //=== NEEDBITS(32); */
      while (bits < 32) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      strm.adler = state.check = ZSWAP32(hold);
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = DICT;
      /* falls through */
    case DICT:
      if (state.havedict === 0) {
        //--- RESTORE() ---
        strm.next_out = put;
        strm.avail_out = left;
        strm.next_in = next;
        strm.avail_in = have;
        state.hold = hold;
        state.bits = bits;
        //---
        return Z_NEED_DICT;
      }
      strm.adler = state.check = 1/*adler32(0L, Z_NULL, 0)*/;
      state.mode = TYPE;
      /* falls through */
    case TYPE:
      if (flush === Z_BLOCK || flush === Z_TREES) { break inf_leave; }
      /* falls through */
    case TYPEDO:
      if (state.last) {
        //--- BYTEBITS() ---//
        hold >>>= bits & 7;
        bits -= bits & 7;
        //---//
        state.mode = CHECK;
        break;
      }
      //=== NEEDBITS(3); */
      while (bits < 3) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      state.last = (hold & 0x01)/*BITS(1)*/;
      //--- DROPBITS(1) ---//
      hold >>>= 1;
      bits -= 1;
      //---//

      switch ((hold & 0x03)/*BITS(2)*/) {
      case 0:                             /* stored block */
        //Tracev((stderr, "inflate:     stored block%s\n",
        //        state.last ? " (last)" : ""));
        state.mode = STORED;
        break;
      case 1:                             /* fixed block */
        fixedtables(state);
        //Tracev((stderr, "inflate:     fixed codes block%s\n",
        //        state.last ? " (last)" : ""));
        state.mode = LEN_;             /* decode codes */
        if (flush === Z_TREES) {
          //--- DROPBITS(2) ---//
          hold >>>= 2;
          bits -= 2;
          //---//
          break inf_leave;
        }
        break;
      case 2:                             /* dynamic block */
        //Tracev((stderr, "inflate:     dynamic codes block%s\n",
        //        state.last ? " (last)" : ""));
        state.mode = TABLE;
        break;
      case 3:
        strm.msg = 'invalid block type';
        state.mode = BAD;
      }
      //--- DROPBITS(2) ---//
      hold >>>= 2;
      bits -= 2;
      //---//
      break;
    case STORED:
      //--- BYTEBITS() ---// /* go to byte boundary */
      hold >>>= bits & 7;
      bits -= bits & 7;
      //---//
      //=== NEEDBITS(32); */
      while (bits < 32) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      if ((hold & 0xffff) !== ((hold >>> 16) ^ 0xffff)) {
        strm.msg = 'invalid stored block lengths';
        state.mode = BAD;
        break;
      }
      state.length = hold & 0xffff;
      //Tracev((stderr, "inflate:       stored length %u\n",
      //        state.length));
      //=== INITBITS();
      hold = 0;
      bits = 0;
      //===//
      state.mode = COPY_;
      if (flush === Z_TREES) { break inf_leave; }
      /* falls through */
    case COPY_:
      state.mode = COPY;
      /* falls through */
    case COPY:
      copy = state.length;
      if (copy) {
        if (copy > have) { copy = have; }
        if (copy > left) { copy = left; }
        if (copy === 0) { break inf_leave; }
        //--- zmemcpy(put, next, copy); ---
        utils.arraySet(output, input, next, copy, put);
        //---//
        have -= copy;
        next += copy;
        left -= copy;
        put += copy;
        state.length -= copy;
        break;
      }
      //Tracev((stderr, "inflate:       stored end\n"));
      state.mode = TYPE;
      break;
    case TABLE:
      //=== NEEDBITS(14); */
      while (bits < 14) {
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
      }
      //===//
      state.nlen = (hold & 0x1f)/*BITS(5)*/ + 257;
      //--- DROPBITS(5) ---//
      hold >>>= 5;
      bits -= 5;
      //---//
      state.ndist = (hold & 0x1f)/*BITS(5)*/ + 1;
      //--- DROPBITS(5) ---//
      hold >>>= 5;
      bits -= 5;
      //---//
      state.ncode = (hold & 0x0f)/*BITS(4)*/ + 4;
      //--- DROPBITS(4) ---//
      hold >>>= 4;
      bits -= 4;
      //---//
//#ifndef PKZIP_BUG_WORKAROUND
      if (state.nlen > 286 || state.ndist > 30) {
        strm.msg = 'too many length or distance symbols';
        state.mode = BAD;
        break;
      }
//#endif
      //Tracev((stderr, "inflate:       table sizes ok\n"));
      state.have = 0;
      state.mode = LENLENS;
      /* falls through */
    case LENLENS:
      while (state.have < state.ncode) {
        //=== NEEDBITS(3);
        while (bits < 3) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        state.lens[order[state.have++]] = (hold & 0x07);//BITS(3);
        //--- DROPBITS(3) ---//
        hold >>>= 3;
        bits -= 3;
        //---//
      }
      while (state.have < 19) {
        state.lens[order[state.have++]] = 0;
      }
      // We have separate tables & no pointers. 2 commented lines below not needed.
      //state.next = state.codes;
      //state.lencode = state.next;
      // Switch to use dynamic table
      state.lencode = state.lendyn;
      state.lenbits = 7;

      opts = {bits: state.lenbits};
      ret = inflate_table(CODES, state.lens, 0, 19, state.lencode, 0, state.work, opts);
      state.lenbits = opts.bits;

      if (ret) {
        strm.msg = 'invalid code lengths set';
        state.mode = BAD;
        break;
      }
      //Tracev((stderr, "inflate:       code lengths ok\n"));
      state.have = 0;
      state.mode = CODELENS;
      /* falls through */
    case CODELENS:
      while (state.have < state.nlen + state.ndist) {
        for (;;) {
          here = state.lencode[hold & ((1 << state.lenbits) - 1)];/*BITS(state.lenbits)*/
          here_bits = here >>> 24;
          here_op = (here >>> 16) & 0xff;
          here_val = here & 0xffff;

          if ((here_bits) <= bits) { break; }
          //--- PULLBYTE() ---//
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
          //---//
        }
        if (here_val < 16) {
          //--- DROPBITS(here.bits) ---//
          hold >>>= here_bits;
          bits -= here_bits;
          //---//
          state.lens[state.have++] = here_val;
        }
        else {
          if (here_val === 16) {
            //=== NEEDBITS(here.bits + 2);
            n = here_bits + 2;
            while (bits < n) {
              if (have === 0) { break inf_leave; }
              have--;
              hold += input[next++] << bits;
              bits += 8;
            }
            //===//
            //--- DROPBITS(here.bits) ---//
            hold >>>= here_bits;
            bits -= here_bits;
            //---//
            if (state.have === 0) {
              strm.msg = 'invalid bit length repeat';
              state.mode = BAD;
              break;
            }
            len = state.lens[state.have - 1];
            copy = 3 + (hold & 0x03);//BITS(2);
            //--- DROPBITS(2) ---//
            hold >>>= 2;
            bits -= 2;
            //---//
          }
          else if (here_val === 17) {
            //=== NEEDBITS(here.bits + 3);
            n = here_bits + 3;
            while (bits < n) {
              if (have === 0) { break inf_leave; }
              have--;
              hold += input[next++] << bits;
              bits += 8;
            }
            //===//
            //--- DROPBITS(here.bits) ---//
            hold >>>= here_bits;
            bits -= here_bits;
            //---//
            len = 0;
            copy = 3 + (hold & 0x07);//BITS(3);
            //--- DROPBITS(3) ---//
            hold >>>= 3;
            bits -= 3;
            //---//
          }
          else {
            //=== NEEDBITS(here.bits + 7);
            n = here_bits + 7;
            while (bits < n) {
              if (have === 0) { break inf_leave; }
              have--;
              hold += input[next++] << bits;
              bits += 8;
            }
            //===//
            //--- DROPBITS(here.bits) ---//
            hold >>>= here_bits;
            bits -= here_bits;
            //---//
            len = 0;
            copy = 11 + (hold & 0x7f);//BITS(7);
            //--- DROPBITS(7) ---//
            hold >>>= 7;
            bits -= 7;
            //---//
          }
          if (state.have + copy > state.nlen + state.ndist) {
            strm.msg = 'invalid bit length repeat';
            state.mode = BAD;
            break;
          }
          while (copy--) {
            state.lens[state.have++] = len;
          }
        }
      }

      /* handle error breaks in while */
      if (state.mode === BAD) { break; }

      /* check for end-of-block code (better have one) */
      if (state.lens[256] === 0) {
        strm.msg = 'invalid code -- missing end-of-block';
        state.mode = BAD;
        break;
      }

      /* build code tables -- note: do not change the lenbits or distbits
         values here (9 and 6) without reading the comments in inftrees.h
         concerning the ENOUGH constants, which depend on those values */
      state.lenbits = 9;

      opts = {bits: state.lenbits};
      ret = inflate_table(LENS, state.lens, 0, state.nlen, state.lencode, 0, state.work, opts);
      // We have separate tables & no pointers. 2 commented lines below not needed.
      // state.next_index = opts.table_index;
      state.lenbits = opts.bits;
      // state.lencode = state.next;

      if (ret) {
        strm.msg = 'invalid literal/lengths set';
        state.mode = BAD;
        break;
      }

      state.distbits = 6;
      //state.distcode.copy(state.codes);
      // Switch to use dynamic table
      state.distcode = state.distdyn;
      opts = {bits: state.distbits};
      ret = inflate_table(DISTS, state.lens, state.nlen, state.ndist, state.distcode, 0, state.work, opts);
      // We have separate tables & no pointers. 2 commented lines below not needed.
      // state.next_index = opts.table_index;
      state.distbits = opts.bits;
      // state.distcode = state.next;

      if (ret) {
        strm.msg = 'invalid distances set';
        state.mode = BAD;
        break;
      }
      //Tracev((stderr, 'inflate:       codes ok\n'));
      state.mode = LEN_;
      if (flush === Z_TREES) { break inf_leave; }
      /* falls through */
    case LEN_:
      state.mode = LEN;
      /* falls through */
    case LEN:
      if (have >= 6 && left >= 258) {
        //--- RESTORE() ---
        strm.next_out = put;
        strm.avail_out = left;
        strm.next_in = next;
        strm.avail_in = have;
        state.hold = hold;
        state.bits = bits;
        //---
        inflate_fast(strm, _out);
        //--- LOAD() ---
        put = strm.next_out;
        output = strm.output;
        left = strm.avail_out;
        next = strm.next_in;
        input = strm.input;
        have = strm.avail_in;
        hold = state.hold;
        bits = state.bits;
        //---

        if (state.mode === TYPE) {
          state.back = -1;
        }
        break;
      }
      state.back = 0;
      for (;;) {
        here = state.lencode[hold & ((1 << state.lenbits) -1)];  /*BITS(state.lenbits)*/
        here_bits = here >>> 24;
        here_op = (here >>> 16) & 0xff;
        here_val = here & 0xffff;

        if (here_bits <= bits) { break; }
        //--- PULLBYTE() ---//
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
        //---//
      }
      if (here_op && (here_op & 0xf0) === 0) {
        last_bits = here_bits;
        last_op = here_op;
        last_val = here_val;
        for (;;) {
          here = state.lencode[last_val +
                  ((hold & ((1 << (last_bits + last_op)) -1))/*BITS(last.bits + last.op)*/ >> last_bits)];
          here_bits = here >>> 24;
          here_op = (here >>> 16) & 0xff;
          here_val = here & 0xffff;

          if ((last_bits + here_bits) <= bits) { break; }
          //--- PULLBYTE() ---//
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
          //---//
        }
        //--- DROPBITS(last.bits) ---//
        hold >>>= last_bits;
        bits -= last_bits;
        //---//
        state.back += last_bits;
      }
      //--- DROPBITS(here.bits) ---//
      hold >>>= here_bits;
      bits -= here_bits;
      //---//
      state.back += here_bits;
      state.length = here_val;
      if (here_op === 0) {
        //Tracevv((stderr, here.val >= 0x20 && here.val < 0x7f ?
        //        "inflate:         literal '%c'\n" :
        //        "inflate:         literal 0x%02x\n", here.val));
        state.mode = LIT;
        break;
      }
      if (here_op & 32) {
        //Tracevv((stderr, "inflate:         end of block\n"));
        state.back = -1;
        state.mode = TYPE;
        break;
      }
      if (here_op & 64) {
        strm.msg = 'invalid literal/length code';
        state.mode = BAD;
        break;
      }
      state.extra = here_op & 15;
      state.mode = LENEXT;
      /* falls through */
    case LENEXT:
      if (state.extra) {
        //=== NEEDBITS(state.extra);
        n = state.extra;
        while (bits < n) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        state.length += hold & ((1 << state.extra) -1)/*BITS(state.extra)*/;
        //--- DROPBITS(state.extra) ---//
        hold >>>= state.extra;
        bits -= state.extra;
        //---//
        state.back += state.extra;
      }
      //Tracevv((stderr, "inflate:         length %u\n", state.length));
      state.was = state.length;
      state.mode = DIST;
      /* falls through */
    case DIST:
      for (;;) {
        here = state.distcode[hold & ((1 << state.distbits) -1)];/*BITS(state.distbits)*/
        here_bits = here >>> 24;
        here_op = (here >>> 16) & 0xff;
        here_val = here & 0xffff;

        if ((here_bits) <= bits) { break; }
        //--- PULLBYTE() ---//
        if (have === 0) { break inf_leave; }
        have--;
        hold += input[next++] << bits;
        bits += 8;
        //---//
      }
      if ((here_op & 0xf0) === 0) {
        last_bits = here_bits;
        last_op = here_op;
        last_val = here_val;
        for (;;) {
          here = state.distcode[last_val +
                  ((hold & ((1 << (last_bits + last_op)) -1))/*BITS(last.bits + last.op)*/ >> last_bits)];
          here_bits = here >>> 24;
          here_op = (here >>> 16) & 0xff;
          here_val = here & 0xffff;

          if ((last_bits + here_bits) <= bits) { break; }
          //--- PULLBYTE() ---//
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
          //---//
        }
        //--- DROPBITS(last.bits) ---//
        hold >>>= last_bits;
        bits -= last_bits;
        //---//
        state.back += last_bits;
      }
      //--- DROPBITS(here.bits) ---//
      hold >>>= here_bits;
      bits -= here_bits;
      //---//
      state.back += here_bits;
      if (here_op & 64) {
        strm.msg = 'invalid distance code';
        state.mode = BAD;
        break;
      }
      state.offset = here_val;
      state.extra = (here_op) & 15;
      state.mode = DISTEXT;
      /* falls through */
    case DISTEXT:
      if (state.extra) {
        //=== NEEDBITS(state.extra);
        n = state.extra;
        while (bits < n) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        state.offset += hold & ((1 << state.extra) -1)/*BITS(state.extra)*/;
        //--- DROPBITS(state.extra) ---//
        hold >>>= state.extra;
        bits -= state.extra;
        //---//
        state.back += state.extra;
      }
//#ifdef INFLATE_STRICT
      if (state.offset > state.dmax) {
        strm.msg = 'invalid distance too far back';
        state.mode = BAD;
        break;
      }
//#endif
      //Tracevv((stderr, "inflate:         distance %u\n", state.offset));
      state.mode = MATCH;
      /* falls through */
    case MATCH:
      if (left === 0) { break inf_leave; }
      copy = _out - left;
      if (state.offset > copy) {         /* copy from window */
        copy = state.offset - copy;
        if (copy > state.whave) {
          if (state.sane) {
            strm.msg = 'invalid distance too far back';
            state.mode = BAD;
            break;
          }
// (!) This block is disabled in zlib defailts,
// don't enable it for binary compatibility
//#ifdef INFLATE_ALLOW_INVALID_DISTANCE_TOOFAR_ARRR
//          Trace((stderr, "inflate.c too far\n"));
//          copy -= state.whave;
//          if (copy > state.length) { copy = state.length; }
//          if (copy > left) { copy = left; }
//          left -= copy;
//          state.length -= copy;
//          do {
//            output[put++] = 0;
//          } while (--copy);
//          if (state.length === 0) { state.mode = LEN; }
//          break;
//#endif
        }
        if (copy > state.wnext) {
          copy -= state.wnext;
          from = state.wsize - copy;
        }
        else {
          from = state.wnext - copy;
        }
        if (copy > state.length) { copy = state.length; }
        from_source = state.window;
      }
      else {                              /* copy from output */
        from_source = output;
        from = put - state.offset;
        copy = state.length;
      }
      if (copy > left) { copy = left; }
      left -= copy;
      state.length -= copy;
      do {
        output[put++] = from_source[from++];
      } while (--copy);
      if (state.length === 0) { state.mode = LEN; }
      break;
    case LIT:
      if (left === 0) { break inf_leave; }
      output[put++] = state.length;
      left--;
      state.mode = LEN;
      break;
    case CHECK:
      if (state.wrap) {
        //=== NEEDBITS(32);
        while (bits < 32) {
          if (have === 0) { break inf_leave; }
          have--;
          // Use '|' insdead of '+' to make sure that result is signed
          hold |= input[next++] << bits;
          bits += 8;
        }
        //===//
        _out -= left;
        strm.total_out += _out;
        state.total += _out;
        if (_out) {
          strm.adler = state.check =
              /*UPDATE(state.check, put - _out, _out);*/
              (state.flags ? crc32(state.check, output, _out, put - _out) : adler32(state.check, output, _out, put - _out));

        }
        _out = left;
        // NB: crc32 stored as signed 32-bit int, ZSWAP32 returns signed too
        if ((state.flags ? hold : ZSWAP32(hold)) !== state.check) {
          strm.msg = 'incorrect data check';
          state.mode = BAD;
          break;
        }
        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
        //Tracev((stderr, "inflate:   check matches trailer\n"));
      }
      state.mode = LENGTH;
      /* falls through */
    case LENGTH:
      if (state.wrap && state.flags) {
        //=== NEEDBITS(32);
        while (bits < 32) {
          if (have === 0) { break inf_leave; }
          have--;
          hold += input[next++] << bits;
          bits += 8;
        }
        //===//
        if (hold !== (state.total & 0xffffffff)) {
          strm.msg = 'incorrect length check';
          state.mode = BAD;
          break;
        }
        //=== INITBITS();
        hold = 0;
        bits = 0;
        //===//
        //Tracev((stderr, "inflate:   length matches trailer\n"));
      }
      state.mode = DONE;
      /* falls through */
    case DONE:
      ret = Z_STREAM_END;
      break inf_leave;
    case BAD:
      ret = Z_DATA_ERROR;
      break inf_leave;
    case MEM:
      return Z_MEM_ERROR;
    case SYNC:
      /* falls through */
    default:
      return Z_STREAM_ERROR;
    }
  }

  // inf_leave <- here is real place for "goto inf_leave", emulated via "break inf_leave"

  /*
     Return from inflate(), updating the total counts and the check value.
     If there was no progress during the inflate() call, return a buffer
     error.  Call updatewindow() to create and/or update the window state.
     Note: a memory error from inflate() is non-recoverable.
   */

  //--- RESTORE() ---
  strm.next_out = put;
  strm.avail_out = left;
  strm.next_in = next;
  strm.avail_in = have;
  state.hold = hold;
  state.bits = bits;
  //---

  if (state.wsize || (_out !== strm.avail_out && state.mode < BAD &&
                      (state.mode < CHECK || flush !== Z_FINISH))) {
    if (updatewindow(strm, strm.output, strm.next_out, _out - strm.avail_out)) {
      state.mode = MEM;
      return Z_MEM_ERROR;
    }
  }
  _in -= strm.avail_in;
  _out -= strm.avail_out;
  strm.total_in += _in;
  strm.total_out += _out;
  state.total += _out;
  if (state.wrap && _out) {
    strm.adler = state.check = /*UPDATE(state.check, strm.next_out - _out, _out);*/
      (state.flags ? crc32(state.check, output, _out, strm.next_out - _out) : adler32(state.check, output, _out, strm.next_out - _out));
  }
  strm.data_type = state.bits + (state.last ? 64 : 0) +
                    (state.mode === TYPE ? 128 : 0) +
                    (state.mode === LEN_ || state.mode === COPY_ ? 256 : 0);
  if (((_in === 0 && _out === 0) || flush === Z_FINISH) && ret === Z_OK) {
    ret = Z_BUF_ERROR;
  }
  return ret;
}

function inflateEnd(strm) {

  if (!strm || !strm.state /*|| strm->zfree == (free_func)0*/) {
    return Z_STREAM_ERROR;
  }

  var state = strm.state;
  if (state.window) {
    state.window = null;
  }
  strm.state = null;
  return Z_OK;
}

function inflateGetHeader(strm, head) {
  var state;

  /* check state */
  if (!strm || !strm.state) { return Z_STREAM_ERROR; }
  state = strm.state;
  if ((state.wrap & 2) === 0) { return Z_STREAM_ERROR; }

  /* save header structure */
  state.head = head;
  head.done = false;
  return Z_OK;
}


exports.inflateReset = inflateReset;
exports.inflateReset2 = inflateReset2;
exports.inflateResetKeep = inflateResetKeep;
exports.inflateInit = inflateInit;
exports.inflateInit2 = inflateInit2;
exports.inflate = inflate;
exports.inflateEnd = inflateEnd;
exports.inflateGetHeader = inflateGetHeader;
exports.inflateInfo = 'pako inflate (from Nodeca project)';

/* Not implemented
exports.inflateCopy = inflateCopy;
exports.inflateGetDictionary = inflateGetDictionary;
exports.inflateMark = inflateMark;
exports.inflatePrime = inflatePrime;
exports.inflateSetDictionary = inflateSetDictionary;
exports.inflateSync = inflateSync;
exports.inflateSyncPoint = inflateSyncPoint;
exports.inflateUndermine = inflateUndermine;
*/
},{"../utils/common":27,"./adler32":29,"./crc32":31,"./inffast":34,"./inftrees":36}],36:[function(_dereq_,module,exports){
'use strict';


var utils = _dereq_('../utils/common');

var MAXBITS = 15;
var ENOUGH_LENS = 852;
var ENOUGH_DISTS = 592;
//var ENOUGH = (ENOUGH_LENS+ENOUGH_DISTS);

var CODES = 0;
var LENS = 1;
var DISTS = 2;

var lbase = [ /* Length codes 257..285 base */
  3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31,
  35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0
];

var lext = [ /* Length codes 257..285 extra */
  16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18,
  19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78
];

var dbase = [ /* Distance codes 0..29 base */
  1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193,
  257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145,
  8193, 12289, 16385, 24577, 0, 0
];

var dext = [ /* Distance codes 0..29 extra */
  16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22,
  23, 23, 24, 24, 25, 25, 26, 26, 27, 27,
  28, 28, 29, 29, 64, 64
];

module.exports = function inflate_table(type, lens, lens_index, codes, table, table_index, work, opts)
{
  var bits = opts.bits;
      //here = opts.here; /* table entry for duplication */

  var len = 0;               /* a code's length in bits */
  var sym = 0;               /* index of code symbols */
  var min = 0, max = 0;          /* minimum and maximum code lengths */
  var root = 0;              /* number of index bits for root table */
  var curr = 0;              /* number of index bits for current table */
  var drop = 0;              /* code bits to drop for sub-table */
  var left = 0;                   /* number of prefix codes available */
  var used = 0;              /* code entries in table used */
  var huff = 0;              /* Huffman code */
  var incr;              /* for incrementing code, index */
  var fill;              /* index for replicating entries */
  var low;               /* low bits for current root entry */
  var mask;              /* mask for low root bits */
  var next;             /* next available space in table */
  var base = null;     /* base value table to use */
  var base_index = 0;
//  var shoextra;    /* extra bits table to use */
  var end;                    /* use base and extra for symbol > end */
  var count = new utils.Buf16(MAXBITS+1); //[MAXBITS+1];    /* number of codes of each length */
  var offs = new utils.Buf16(MAXBITS+1); //[MAXBITS+1];     /* offsets in table for each length */
  var extra = null;
  var extra_index = 0;

  var here_bits, here_op, here_val;

  /*
   Process a set of code lengths to create a canonical Huffman code.  The
   code lengths are lens[0..codes-1].  Each length corresponds to the
   symbols 0..codes-1.  The Huffman code is generated by first sorting the
   symbols by length from short to long, and retaining the symbol order
   for codes with equal lengths.  Then the code starts with all zero bits
   for the first code of the shortest length, and the codes are integer
   increments for the same length, and zeros are appended as the length
   increases.  For the deflate format, these bits are stored backwards
   from their more natural integer increment ordering, and so when the
   decoding tables are built in the large loop below, the integer codes
   are incremented backwards.

   This routine assumes, but does not check, that all of the entries in
   lens[] are in the range 0..MAXBITS.  The caller must assure this.
   1..MAXBITS is interpreted as that code length.  zero means that that
   symbol does not occur in this code.

   The codes are sorted by computing a count of codes for each length,
   creating from that a table of starting indices for each length in the
   sorted table, and then entering the symbols in order in the sorted
   table.  The sorted table is work[], with that space being provided by
   the caller.

   The length counts are used for other purposes as well, i.e. finding
   the minimum and maximum length codes, determining if there are any
   codes at all, checking for a valid set of lengths, and looking ahead
   at length counts to determine sub-table sizes when building the
   decoding tables.
   */

  /* accumulate lengths for codes (assumes lens[] all in 0..MAXBITS) */
  for (len = 0; len <= MAXBITS; len++) {
    count[len] = 0;
  }
  for (sym = 0; sym < codes; sym++) {
    count[lens[lens_index + sym]]++;
  }

  /* bound code lengths, force root to be within code lengths */
  root = bits;
  for (max = MAXBITS; max >= 1; max--) {
    if (count[max] !== 0) { break; }
  }
  if (root > max) {
    root = max;
  }
  if (max === 0) {                     /* no symbols to code at all */
    //table.op[opts.table_index] = 64;  //here.op = (var char)64;    /* invalid code marker */
    //table.bits[opts.table_index] = 1;   //here.bits = (var char)1;
    //table.val[opts.table_index++] = 0;   //here.val = (var short)0;
    table[table_index++] = (1 << 24) | (64 << 16) | 0;


    //table.op[opts.table_index] = 64;
    //table.bits[opts.table_index] = 1;
    //table.val[opts.table_index++] = 0;
    table[table_index++] = (1 << 24) | (64 << 16) | 0;

    opts.bits = 1;
    return 0;     /* no symbols, but wait for decoding to report error */
  }
  for (min = 1; min < max; min++) {
    if (count[min] !== 0) { break; }
  }
  if (root < min) {
    root = min;
  }

  /* check for an over-subscribed or incomplete set of lengths */
  left = 1;
  for (len = 1; len <= MAXBITS; len++) {
    left <<= 1;
    left -= count[len];
    if (left < 0) {
      return -1;
    }        /* over-subscribed */
  }
  if (left > 0 && (type === CODES || max !== 1)) {
    return -1;                      /* incomplete set */
  }

  /* generate offsets into symbol table for each length for sorting */
  offs[1] = 0;
  for (len = 1; len < MAXBITS; len++) {
    offs[len + 1] = offs[len] + count[len];
  }

  /* sort symbols by length, by symbol order within each length */
  for (sym = 0; sym < codes; sym++) {
    if (lens[lens_index + sym] !== 0) {
      work[offs[lens[lens_index + sym]]++] = sym;
    }
  }

  /*
   Create and fill in decoding tables.  In this loop, the table being
   filled is at next and has curr index bits.  The code being used is huff
   with length len.  That code is converted to an index by dropping drop
   bits off of the bottom.  For codes where len is less than drop + curr,
   those top drop + curr - len bits are incremented through all values to
   fill the table with replicated entries.

   root is the number of index bits for the root table.  When len exceeds
   root, sub-tables are created pointed to by the root entry with an index
   of the low root bits of huff.  This is saved in low to check for when a
   new sub-table should be started.  drop is zero when the root table is
   being filled, and drop is root when sub-tables are being filled.

   When a new sub-table is needed, it is necessary to look ahead in the
   code lengths to determine what size sub-table is needed.  The length
   counts are used for this, and so count[] is decremented as codes are
   entered in the tables.

   used keeps track of how many table entries have been allocated from the
   provided *table space.  It is checked for LENS and DIST tables against
   the constants ENOUGH_LENS and ENOUGH_DISTS to guard against changes in
   the initial root table size constants.  See the comments in inftrees.h
   for more information.

   sym increments through all symbols, and the loop terminates when
   all codes of length max, i.e. all codes, have been processed.  This
   routine permits incomplete codes, so another loop after this one fills
   in the rest of the decoding tables with invalid code markers.
   */

  /* set up for code type */
  // poor man optimization - use if-else instead of switch,
  // to avoid deopts in old v8
  if (type === CODES) {
      base = extra = work;    /* dummy value--not used */
      end = 19;
  } else if (type === LENS) {
      base = lbase;
      base_index -= 257;
      extra = lext;
      extra_index -= 257;
      end = 256;
  } else {                    /* DISTS */
      base = dbase;
      extra = dext;
      end = -1;
  }

  /* initialize opts for loop */
  huff = 0;                   /* starting code */
  sym = 0;                    /* starting code symbol */
  len = min;                  /* starting code length */
  next = table_index;              /* current table to fill in */
  curr = root;                /* current table index bits */
  drop = 0;                   /* current bits to drop from code for index */
  low = -1;                   /* trigger new sub-table when len > root */
  used = 1 << root;          /* use root table entries */
  mask = used - 1;            /* mask for comparing low */

  /* check available table space */
  if ((type === LENS && used > ENOUGH_LENS) ||
    (type === DISTS && used > ENOUGH_DISTS)) {
    return 1;
  }

  var i=0;
  /* process all codes and make table entries */
  for (;;) {
    i++;
    /* create table entry */
    here_bits = len - drop;
    if (work[sym] < end) {
      here_op = 0;
      here_val = work[sym];
    }
    else if (work[sym] > end) {
      here_op = extra[extra_index + work[sym]];
      here_val = base[base_index + work[sym]];
    }
    else {
      here_op = 32 + 64;         /* end of block */
      here_val = 0;
    }

    /* replicate for those indices with low len bits equal to huff */
    incr = 1 << (len - drop);
    fill = 1 << curr;
    min = fill;                 /* save offset to next table */
    do {
      fill -= incr;
      table[next + (huff >> drop) + fill] = (here_bits << 24) | (here_op << 16) | here_val |0;
    } while (fill !== 0);

    /* backwards increment the len-bit code huff */
    incr = 1 << (len - 1);
    while (huff & incr) {
      incr >>= 1;
    }
    if (incr !== 0) {
      huff &= incr - 1;
      huff += incr;
    } else {
      huff = 0;
    }

    /* go to next symbol, update count, len */
    sym++;
    if (--count[len] === 0) {
      if (len === max) { break; }
      len = lens[lens_index + work[sym]];
    }

    /* create new sub-table if needed */
    if (len > root && (huff & mask) !== low) {
      /* if first time, transition to sub-tables */
      if (drop === 0) {
        drop = root;
      }

      /* increment past last table */
      next += min;            /* here min is 1 << curr */

      /* determine length of next table */
      curr = len - drop;
      left = 1 << curr;
      while (curr + drop < max) {
        left -= count[curr + drop];
        if (left <= 0) { break; }
        curr++;
        left <<= 1;
      }

      /* check for enough space */
      used += 1 << curr;
      if ((type === LENS && used > ENOUGH_LENS) ||
        (type === DISTS && used > ENOUGH_DISTS)) {
        return 1;
      }

      /* point entry in root table to sub-table */
      low = huff & mask;
      /*table.op[low] = curr;
      table.bits[low] = root;
      table.val[low] = next - opts.table_index;*/
      table[low] = (root << 24) | (curr << 16) | (next - table_index) |0;
    }
  }

  /* fill in remaining table entry if code is incomplete (guaranteed to have
   at most one remaining entry, since if the code is incomplete, the
   maximum code length that was allowed to get this far is one bit) */
  if (huff !== 0) {
    //table.op[next + huff] = 64;            /* invalid code marker */
    //table.bits[next + huff] = len - drop;
    //table.val[next + huff] = 0;
    table[next + huff] = ((len - drop) << 24) | (64 << 16) |0;
  }

  /* set return parameters */
  //opts.table_index += used;
  opts.bits = root;
  return 0;
};

},{"../utils/common":27}],37:[function(_dereq_,module,exports){
'use strict';

module.exports = {
  '2':    'need dictionary',     /* Z_NEED_DICT       2  */
  '1':    'stream end',          /* Z_STREAM_END      1  */
  '0':    '',                    /* Z_OK              0  */
  '-1':   'file error',          /* Z_ERRNO         (-1) */
  '-2':   'stream error',        /* Z_STREAM_ERROR  (-2) */
  '-3':   'data error',          /* Z_DATA_ERROR    (-3) */
  '-4':   'insufficient memory', /* Z_MEM_ERROR     (-4) */
  '-5':   'buffer error',        /* Z_BUF_ERROR     (-5) */
  '-6':   'incompatible version' /* Z_VERSION_ERROR (-6) */
};
},{}],38:[function(_dereq_,module,exports){
'use strict';


var utils = _dereq_('../utils/common');

/* Public constants ==========================================================*/
/* ===========================================================================*/


//var Z_FILTERED          = 1;
//var Z_HUFFMAN_ONLY      = 2;
//var Z_RLE               = 3;
var Z_FIXED               = 4;
//var Z_DEFAULT_STRATEGY  = 0;

/* Possible values of the data_type field (though see inflate()) */
var Z_BINARY              = 0;
var Z_TEXT                = 1;
//var Z_ASCII             = 1; // = Z_TEXT
var Z_UNKNOWN             = 2;

/*============================================================================*/


function zero(buf) { var len = buf.length; while (--len >= 0) { buf[len] = 0; } }

// From zutil.h

var STORED_BLOCK = 0;
var STATIC_TREES = 1;
var DYN_TREES    = 2;
/* The three kinds of block type */

var MIN_MATCH    = 3;
var MAX_MATCH    = 258;
/* The minimum and maximum match lengths */

// From deflate.h
/* ===========================================================================
 * Internal compression state.
 */

var LENGTH_CODES  = 29;
/* number of length codes, not counting the special END_BLOCK code */

var LITERALS      = 256;
/* number of literal bytes 0..255 */

var L_CODES       = LITERALS + 1 + LENGTH_CODES;
/* number of Literal or Length codes, including the END_BLOCK code */

var D_CODES       = 30;
/* number of distance codes */

var BL_CODES      = 19;
/* number of codes used to transfer the bit lengths */

var HEAP_SIZE     = 2*L_CODES + 1;
/* maximum heap size */

var MAX_BITS      = 15;
/* All codes must not exceed MAX_BITS bits */

var Buf_size      = 16;
/* size of bit buffer in bi_buf */


/* ===========================================================================
 * Constants
 */

var MAX_BL_BITS = 7;
/* Bit length codes must not exceed MAX_BL_BITS bits */

var END_BLOCK   = 256;
/* end of block literal code */

var REP_3_6     = 16;
/* repeat previous bit length 3-6 times (2 bits of repeat count) */

var REPZ_3_10   = 17;
/* repeat a zero length 3-10 times  (3 bits of repeat count) */

var REPZ_11_138 = 18;
/* repeat a zero length 11-138 times  (7 bits of repeat count) */

var extra_lbits =   /* extra bits for each length code */
  [0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];

var extra_dbits =   /* extra bits for each distance code */
  [0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];

var extra_blbits =  /* extra bits for each bit length code */
  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];

var bl_order =
  [16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];
/* The lengths of the bit length codes are sent in order of decreasing
 * probability, to avoid transmitting the lengths for unused bit length codes.
 */

/* ===========================================================================
 * Local data. These are initialized only once.
 */

// We pre-fill arrays with 0 to avoid uninitialized gaps

var DIST_CODE_LEN = 512; /* see definition of array dist_code below */

// !!!! Use flat array insdead of structure, Freq = i*2, Len = i*2+1
var static_ltree  = new Array((L_CODES+2) * 2);
zero(static_ltree);
/* The static literal tree. Since the bit lengths are imposed, there is no
 * need for the L_CODES extra codes used during heap construction. However
 * The codes 286 and 287 are needed to build a canonical tree (see _tr_init
 * below).
 */

var static_dtree  = new Array(D_CODES * 2);
zero(static_dtree);
/* The static distance tree. (Actually a trivial tree since all codes use
 * 5 bits.)
 */

var _dist_code    = new Array(DIST_CODE_LEN);
zero(_dist_code);
/* Distance codes. The first 256 values correspond to the distances
 * 3 .. 258, the last 256 values correspond to the top 8 bits of
 * the 15 bit distances.
 */

var _length_code  = new Array(MAX_MATCH-MIN_MATCH+1);
zero(_length_code);
/* length code for each normalized match length (0 == MIN_MATCH) */

var base_length   = new Array(LENGTH_CODES);
zero(base_length);
/* First normalized length for each code (0 = MIN_MATCH) */

var base_dist     = new Array(D_CODES);
zero(base_dist);
/* First normalized distance for each code (0 = distance of 1) */


var StaticTreeDesc = function (static_tree, extra_bits, extra_base, elems, max_length) {

  this.static_tree  = static_tree;  /* static tree or NULL */
  this.extra_bits   = extra_bits;   /* extra bits for each code or NULL */
  this.extra_base   = extra_base;   /* base index for extra_bits */
  this.elems        = elems;        /* max number of elements in the tree */
  this.max_length   = max_length;   /* max bit length for the codes */

  // show if `static_tree` has data or dummy - needed for monomorphic objects
  this.has_stree    = static_tree && static_tree.length;
};


var static_l_desc;
var static_d_desc;
var static_bl_desc;


var TreeDesc = function(dyn_tree, stat_desc) {
  this.dyn_tree = dyn_tree;     /* the dynamic tree */
  this.max_code = 0;            /* largest code with non zero frequency */
  this.stat_desc = stat_desc;   /* the corresponding static tree */
};



function d_code(dist) {
  return dist < 256 ? _dist_code[dist] : _dist_code[256 + (dist >>> 7)];
}


/* ===========================================================================
 * Output a short LSB first on the stream.
 * IN assertion: there is enough room in pendingBuf.
 */
function put_short (s, w) {
//    put_byte(s, (uch)((w) & 0xff));
//    put_byte(s, (uch)((ush)(w) >> 8));
  s.pending_buf[s.pending++] = (w) & 0xff;
  s.pending_buf[s.pending++] = (w >>> 8) & 0xff;
}


/* ===========================================================================
 * Send a value on a given number of bits.
 * IN assertion: length <= 16 and value fits in length bits.
 */
function send_bits(s, value, length) {
  if (s.bi_valid > (Buf_size - length)) {
    s.bi_buf |= (value << s.bi_valid) & 0xffff;
    put_short(s, s.bi_buf);
    s.bi_buf = value >> (Buf_size - s.bi_valid);
    s.bi_valid += length - Buf_size;
  } else {
    s.bi_buf |= (value << s.bi_valid) & 0xffff;
    s.bi_valid += length;
  }
}


function send_code(s, c, tree) {
  send_bits(s, tree[c*2]/*.Code*/, tree[c*2 + 1]/*.Len*/);
}


/* ===========================================================================
 * Reverse the first len bits of a code, using straightforward code (a faster
 * method would use a table)
 * IN assertion: 1 <= len <= 15
 */
function bi_reverse(code, len) {
  var res = 0;
  do {
    res |= code & 1;
    code >>>= 1;
    res <<= 1;
  } while (--len > 0);
  return res >>> 1;
}


/* ===========================================================================
 * Flush the bit buffer, keeping at most 7 bits in it.
 */
function bi_flush(s) {
  if (s.bi_valid === 16) {
    put_short(s, s.bi_buf);
    s.bi_buf = 0;
    s.bi_valid = 0;

  } else if (s.bi_valid >= 8) {
    s.pending_buf[s.pending++] = s.bi_buf & 0xff;
    s.bi_buf >>= 8;
    s.bi_valid -= 8;
  }
}


/* ===========================================================================
 * Compute the optimal bit lengths for a tree and update the total bit length
 * for the current block.
 * IN assertion: the fields freq and dad are set, heap[heap_max] and
 *    above are the tree nodes sorted by increasing frequency.
 * OUT assertions: the field len is set to the optimal bit length, the
 *     array bl_count contains the frequencies for each bit length.
 *     The length opt_len is updated; static_len is also updated if stree is
 *     not null.
 */
function gen_bitlen(s, desc)
//    deflate_state *s;
//    tree_desc *desc;    /* the tree descriptor */
{
  var tree            = desc.dyn_tree;
  var max_code        = desc.max_code;
  var stree           = desc.stat_desc.static_tree;
  var has_stree       = desc.stat_desc.has_stree;
  var extra           = desc.stat_desc.extra_bits;
  var base            = desc.stat_desc.extra_base;
  var max_length      = desc.stat_desc.max_length;
  var h;              /* heap index */
  var n, m;           /* iterate over the tree elements */
  var bits;           /* bit length */
  var xbits;          /* extra bits */
  var f;              /* frequency */
  var overflow = 0;   /* number of elements with bit length too large */

  for (bits = 0; bits <= MAX_BITS; bits++) {
    s.bl_count[bits] = 0;
  }

  /* In a first pass, compute the optimal bit lengths (which may
   * overflow in the case of the bit length tree).
   */
  tree[s.heap[s.heap_max]*2 + 1]/*.Len*/ = 0; /* root of the heap */

  for (h = s.heap_max+1; h < HEAP_SIZE; h++) {
    n = s.heap[h];
    bits = tree[tree[n*2 +1]/*.Dad*/ * 2 + 1]/*.Len*/ + 1;
    if (bits > max_length) {
      bits = max_length;
      overflow++;
    }
    tree[n*2 + 1]/*.Len*/ = bits;
    /* We overwrite tree[n].Dad which is no longer needed */

    if (n > max_code) { continue; } /* not a leaf node */

    s.bl_count[bits]++;
    xbits = 0;
    if (n >= base) {
      xbits = extra[n-base];
    }
    f = tree[n * 2]/*.Freq*/;
    s.opt_len += f * (bits + xbits);
    if (has_stree) {
      s.static_len += f * (stree[n*2 + 1]/*.Len*/ + xbits);
    }
  }
  if (overflow === 0) { return; }

  // Trace((stderr,"\nbit length overflow\n"));
  /* This happens for example on obj2 and pic of the Calgary corpus */

  /* Find the first bit length which could increase: */
  do {
    bits = max_length-1;
    while (s.bl_count[bits] === 0) { bits--; }
    s.bl_count[bits]--;      /* move one leaf down the tree */
    s.bl_count[bits+1] += 2; /* move one overflow item as its brother */
    s.bl_count[max_length]--;
    /* The brother of the overflow item also moves one step up,
     * but this does not affect bl_count[max_length]
     */
    overflow -= 2;
  } while (overflow > 0);

  /* Now recompute all bit lengths, scanning in increasing frequency.
   * h is still equal to HEAP_SIZE. (It is simpler to reconstruct all
   * lengths instead of fixing only the wrong ones. This idea is taken
   * from 'ar' written by Haruhiko Okumura.)
   */
  for (bits = max_length; bits !== 0; bits--) {
    n = s.bl_count[bits];
    while (n !== 0) {
      m = s.heap[--h];
      if (m > max_code) { continue; }
      if (tree[m*2 + 1]/*.Len*/ !== bits) {
        // Trace((stderr,"code %d bits %d->%d\n", m, tree[m].Len, bits));
        s.opt_len += (bits - tree[m*2 + 1]/*.Len*/)*tree[m*2]/*.Freq*/;
        tree[m*2 + 1]/*.Len*/ = bits;
      }
      n--;
    }
  }
}


/* ===========================================================================
 * Generate the codes for a given tree and bit counts (which need not be
 * optimal).
 * IN assertion: the array bl_count contains the bit length statistics for
 * the given tree and the field len is set for all tree elements.
 * OUT assertion: the field code is set for all tree elements of non
 *     zero code length.
 */
function gen_codes(tree, max_code, bl_count)
//    ct_data *tree;             /* the tree to decorate */
//    int max_code;              /* largest code with non zero frequency */
//    ushf *bl_count;            /* number of codes at each bit length */
{
  var next_code = new Array(MAX_BITS+1); /* next code value for each bit length */
  var code = 0;              /* running code value */
  var bits;                  /* bit index */
  var n;                     /* code index */

  /* The distribution counts are first used to generate the code values
   * without bit reversal.
   */
  for (bits = 1; bits <= MAX_BITS; bits++) {
    next_code[bits] = code = (code + bl_count[bits-1]) << 1;
  }
  /* Check that the bit counts in bl_count are consistent. The last code
   * must be all ones.
   */
  //Assert (code + bl_count[MAX_BITS]-1 == (1<<MAX_BITS)-1,
  //        "inconsistent bit counts");
  //Tracev((stderr,"\ngen_codes: max_code %d ", max_code));

  for (n = 0;  n <= max_code; n++) {
    var len = tree[n*2 + 1]/*.Len*/;
    if (len === 0) { continue; }
    /* Now reverse the bits */
    tree[n*2]/*.Code*/ = bi_reverse(next_code[len]++, len);

    //Tracecv(tree != static_ltree, (stderr,"\nn %3d %c l %2d c %4x (%x) ",
    //     n, (isgraph(n) ? n : ' '), len, tree[n].Code, next_code[len]-1));
  }
}


/* ===========================================================================
 * Initialize the various 'constant' tables.
 */
function tr_static_init() {
  var n;        /* iterates over tree elements */
  var bits;     /* bit counter */
  var length;   /* length value */
  var code;     /* code value */
  var dist;     /* distance index */
  var bl_count = new Array(MAX_BITS+1);
  /* number of codes at each bit length for an optimal tree */

  // do check in _tr_init()
  //if (static_init_done) return;

  /* For some embedded targets, global variables are not initialized: */
/*#ifdef NO_INIT_GLOBAL_POINTERS
  static_l_desc.static_tree = static_ltree;
  static_l_desc.extra_bits = extra_lbits;
  static_d_desc.static_tree = static_dtree;
  static_d_desc.extra_bits = extra_dbits;
  static_bl_desc.extra_bits = extra_blbits;
#endif*/

  /* Initialize the mapping length (0..255) -> length code (0..28) */
  length = 0;
  for (code = 0; code < LENGTH_CODES-1; code++) {
    base_length[code] = length;
    for (n = 0; n < (1<<extra_lbits[code]); n++) {
      _length_code[length++] = code;
    }
  }
  //Assert (length == 256, "tr_static_init: length != 256");
  /* Note that the length 255 (match length 258) can be represented
   * in two different ways: code 284 + 5 bits or code 285, so we
   * overwrite length_code[255] to use the best encoding:
   */
  _length_code[length-1] = code;

  /* Initialize the mapping dist (0..32K) -> dist code (0..29) */
  dist = 0;
  for (code = 0 ; code < 16; code++) {
    base_dist[code] = dist;
    for (n = 0; n < (1<<extra_dbits[code]); n++) {
      _dist_code[dist++] = code;
    }
  }
  //Assert (dist == 256, "tr_static_init: dist != 256");
  dist >>= 7; /* from now on, all distances are divided by 128 */
  for ( ; code < D_CODES; code++) {
    base_dist[code] = dist << 7;
    for (n = 0; n < (1<<(extra_dbits[code]-7)); n++) {
      _dist_code[256 + dist++] = code;
    }
  }
  //Assert (dist == 256, "tr_static_init: 256+dist != 512");

  /* Construct the codes of the static literal tree */
  for (bits = 0; bits <= MAX_BITS; bits++) {
    bl_count[bits] = 0;
  }

  n = 0;
  while (n <= 143) {
    static_ltree[n*2 + 1]/*.Len*/ = 8;
    n++;
    bl_count[8]++;
  }
  while (n <= 255) {
    static_ltree[n*2 + 1]/*.Len*/ = 9;
    n++;
    bl_count[9]++;
  }
  while (n <= 279) {
    static_ltree[n*2 + 1]/*.Len*/ = 7;
    n++;
    bl_count[7]++;
  }
  while (n <= 287) {
    static_ltree[n*2 + 1]/*.Len*/ = 8;
    n++;
    bl_count[8]++;
  }
  /* Codes 286 and 287 do not exist, but we must include them in the
   * tree construction to get a canonical Huffman tree (longest code
   * all ones)
   */
  gen_codes(static_ltree, L_CODES+1, bl_count);

  /* The static distance tree is trivial: */
  for (n = 0; n < D_CODES; n++) {
    static_dtree[n*2 + 1]/*.Len*/ = 5;
    static_dtree[n*2]/*.Code*/ = bi_reverse(n, 5);
  }

  // Now data ready and we can init static trees
  static_l_desc = new StaticTreeDesc(static_ltree, extra_lbits, LITERALS+1, L_CODES, MAX_BITS);
  static_d_desc = new StaticTreeDesc(static_dtree, extra_dbits, 0,          D_CODES, MAX_BITS);
  static_bl_desc =new StaticTreeDesc(new Array(0), extra_blbits, 0,         BL_CODES, MAX_BL_BITS);

  //static_init_done = true;
}


/* ===========================================================================
 * Initialize a new block.
 */
function init_block(s) {
  var n; /* iterates over tree elements */

  /* Initialize the trees. */
  for (n = 0; n < L_CODES;  n++) { s.dyn_ltree[n*2]/*.Freq*/ = 0; }
  for (n = 0; n < D_CODES;  n++) { s.dyn_dtree[n*2]/*.Freq*/ = 0; }
  for (n = 0; n < BL_CODES; n++) { s.bl_tree[n*2]/*.Freq*/ = 0; }

  s.dyn_ltree[END_BLOCK*2]/*.Freq*/ = 1;
  s.opt_len = s.static_len = 0;
  s.last_lit = s.matches = 0;
}


/* ===========================================================================
 * Flush the bit buffer and align the output on a byte boundary
 */
function bi_windup(s)
{
  if (s.bi_valid > 8) {
    put_short(s, s.bi_buf);
  } else if (s.bi_valid > 0) {
    //put_byte(s, (Byte)s->bi_buf);
    s.pending_buf[s.pending++] = s.bi_buf;
  }
  s.bi_buf = 0;
  s.bi_valid = 0;
}

/* ===========================================================================
 * Copy a stored block, storing first the length and its
 * one's complement if requested.
 */
function copy_block(s, buf, len, header)
//DeflateState *s;
//charf    *buf;    /* the input data */
//unsigned len;     /* its length */
//int      header;  /* true if block header must be written */
{
  bi_windup(s);        /* align on byte boundary */

  if (header) {
    put_short(s, len);
    put_short(s, ~len);
  }
//  while (len--) {
//    put_byte(s, *buf++);
//  }
  utils.arraySet(s.pending_buf, s.window, buf, len, s.pending);
  s.pending += len;
}

/* ===========================================================================
 * Compares to subtrees, using the tree depth as tie breaker when
 * the subtrees have equal frequency. This minimizes the worst case length.
 */
function smaller(tree, n, m, depth) {
  var _n2 = n*2;
  var _m2 = m*2;
  return (tree[_n2]/*.Freq*/ < tree[_m2]/*.Freq*/ ||
         (tree[_n2]/*.Freq*/ === tree[_m2]/*.Freq*/ && depth[n] <= depth[m]));
}

/* ===========================================================================
 * Restore the heap property by moving down the tree starting at node k,
 * exchanging a node with the smallest of its two sons if necessary, stopping
 * when the heap property is re-established (each father smaller than its
 * two sons).
 */
function pqdownheap(s, tree, k)
//    deflate_state *s;
//    ct_data *tree;  /* the tree to restore */
//    int k;               /* node to move down */
{
  var v = s.heap[k];
  var j = k << 1;  /* left son of k */
  while (j <= s.heap_len) {
    /* Set j to the smallest of the two sons: */
    if (j < s.heap_len &&
      smaller(tree, s.heap[j+1], s.heap[j], s.depth)) {
      j++;
    }
    /* Exit if v is smaller than both sons */
    if (smaller(tree, v, s.heap[j], s.depth)) { break; }

    /* Exchange v with the smallest son */
    s.heap[k] = s.heap[j];
    k = j;

    /* And continue down the tree, setting j to the left son of k */
    j <<= 1;
  }
  s.heap[k] = v;
}


// inlined manually
// var SMALLEST = 1;

/* ===========================================================================
 * Send the block data compressed using the given Huffman trees
 */
function compress_block(s, ltree, dtree)
//    deflate_state *s;
//    const ct_data *ltree; /* literal tree */
//    const ct_data *dtree; /* distance tree */
{
  var dist;           /* distance of matched string */
  var lc;             /* match length or unmatched char (if dist == 0) */
  var lx = 0;         /* running index in l_buf */
  var code;           /* the code to send */
  var extra;          /* number of extra bits to send */

  if (s.last_lit !== 0) {
    do {
      dist = (s.pending_buf[s.d_buf + lx*2] << 8) | (s.pending_buf[s.d_buf + lx*2 + 1]);
      lc = s.pending_buf[s.l_buf + lx];
      lx++;

      if (dist === 0) {
        send_code(s, lc, ltree); /* send a literal byte */
        //Tracecv(isgraph(lc), (stderr," '%c' ", lc));
      } else {
        /* Here, lc is the match length - MIN_MATCH */
        code = _length_code[lc];
        send_code(s, code+LITERALS+1, ltree); /* send the length code */
        extra = extra_lbits[code];
        if (extra !== 0) {
          lc -= base_length[code];
          send_bits(s, lc, extra);       /* send the extra length bits */
        }
        dist--; /* dist is now the match distance - 1 */
        code = d_code(dist);
        //Assert (code < D_CODES, "bad d_code");

        send_code(s, code, dtree);       /* send the distance code */
        extra = extra_dbits[code];
        if (extra !== 0) {
          dist -= base_dist[code];
          send_bits(s, dist, extra);   /* send the extra distance bits */
        }
      } /* literal or match pair ? */

      /* Check that the overlay between pending_buf and d_buf+l_buf is ok: */
      //Assert((uInt)(s->pending) < s->lit_bufsize + 2*lx,
      //       "pendingBuf overflow");

    } while (lx < s.last_lit);
  }

  send_code(s, END_BLOCK, ltree);
}


/* ===========================================================================
 * Construct one Huffman tree and assigns the code bit strings and lengths.
 * Update the total bit length for the current block.
 * IN assertion: the field freq is set for all tree elements.
 * OUT assertions: the fields len and code are set to the optimal bit length
 *     and corresponding code. The length opt_len is updated; static_len is
 *     also updated if stree is not null. The field max_code is set.
 */
function build_tree(s, desc)
//    deflate_state *s;
//    tree_desc *desc; /* the tree descriptor */
{
  var tree     = desc.dyn_tree;
  var stree    = desc.stat_desc.static_tree;
  var has_stree = desc.stat_desc.has_stree;
  var elems    = desc.stat_desc.elems;
  var n, m;          /* iterate over heap elements */
  var max_code = -1; /* largest code with non zero frequency */
  var node;          /* new node being created */

  /* Construct the initial heap, with least frequent element in
   * heap[SMALLEST]. The sons of heap[n] are heap[2*n] and heap[2*n+1].
   * heap[0] is not used.
   */
  s.heap_len = 0;
  s.heap_max = HEAP_SIZE;

  for (n = 0; n < elems; n++) {
    if (tree[n * 2]/*.Freq*/ !== 0) {
      s.heap[++s.heap_len] = max_code = n;
      s.depth[n] = 0;

    } else {
      tree[n*2 + 1]/*.Len*/ = 0;
    }
  }

  /* The pkzip format requires that at least one distance code exists,
   * and that at least one bit should be sent even if there is only one
   * possible code. So to avoid special checks later on we force at least
   * two codes of non zero frequency.
   */
  while (s.heap_len < 2) {
    node = s.heap[++s.heap_len] = (max_code < 2 ? ++max_code : 0);
    tree[node * 2]/*.Freq*/ = 1;
    s.depth[node] = 0;
    s.opt_len--;

    if (has_stree) {
      s.static_len -= stree[node*2 + 1]/*.Len*/;
    }
    /* node is 0 or 1 so it does not have extra bits */
  }
  desc.max_code = max_code;

  /* The elements heap[heap_len/2+1 .. heap_len] are leaves of the tree,
   * establish sub-heaps of increasing lengths:
   */
  for (n = (s.heap_len >> 1/*int /2*/); n >= 1; n--) { pqdownheap(s, tree, n); }

  /* Construct the Huffman tree by repeatedly combining the least two
   * frequent nodes.
   */
  node = elems;              /* next internal node of the tree */
  do {
    //pqremove(s, tree, n);  /* n = node of least frequency */
    /*** pqremove ***/
    n = s.heap[1/*SMALLEST*/];
    s.heap[1/*SMALLEST*/] = s.heap[s.heap_len--];
    pqdownheap(s, tree, 1/*SMALLEST*/);
    /***/

    m = s.heap[1/*SMALLEST*/]; /* m = node of next least frequency */

    s.heap[--s.heap_max] = n; /* keep the nodes sorted by frequency */
    s.heap[--s.heap_max] = m;

    /* Create a new node father of n and m */
    tree[node * 2]/*.Freq*/ = tree[n * 2]/*.Freq*/ + tree[m * 2]/*.Freq*/;
    s.depth[node] = (s.depth[n] >= s.depth[m] ? s.depth[n] : s.depth[m]) + 1;
    tree[n*2 + 1]/*.Dad*/ = tree[m*2 + 1]/*.Dad*/ = node;

    /* and insert the new node in the heap */
    s.heap[1/*SMALLEST*/] = node++;
    pqdownheap(s, tree, 1/*SMALLEST*/);

  } while (s.heap_len >= 2);

  s.heap[--s.heap_max] = s.heap[1/*SMALLEST*/];

  /* At this point, the fields freq and dad are set. We can now
   * generate the bit lengths.
   */
  gen_bitlen(s, desc);

  /* The field len is now set, we can generate the bit codes */
  gen_codes(tree, max_code, s.bl_count);
}


/* ===========================================================================
 * Scan a literal or distance tree to determine the frequencies of the codes
 * in the bit length tree.
 */
function scan_tree(s, tree, max_code)
//    deflate_state *s;
//    ct_data *tree;   /* the tree to be scanned */
//    int max_code;    /* and its largest code of non zero frequency */
{
  var n;                     /* iterates over all tree elements */
  var prevlen = -1;          /* last emitted length */
  var curlen;                /* length of current code */

  var nextlen = tree[0*2 + 1]/*.Len*/; /* length of next code */

  var count = 0;             /* repeat count of the current code */
  var max_count = 7;         /* max repeat count */
  var min_count = 4;         /* min repeat count */

  if (nextlen === 0) {
    max_count = 138;
    min_count = 3;
  }
  tree[(max_code+1)*2 + 1]/*.Len*/ = 0xffff; /* guard */

  for (n = 0; n <= max_code; n++) {
    curlen = nextlen;
    nextlen = tree[(n+1)*2 + 1]/*.Len*/;

    if (++count < max_count && curlen === nextlen) {
      continue;

    } else if (count < min_count) {
      s.bl_tree[curlen * 2]/*.Freq*/ += count;

    } else if (curlen !== 0) {

      if (curlen !== prevlen) { s.bl_tree[curlen * 2]/*.Freq*/++; }
      s.bl_tree[REP_3_6*2]/*.Freq*/++;

    } else if (count <= 10) {
      s.bl_tree[REPZ_3_10*2]/*.Freq*/++;

    } else {
      s.bl_tree[REPZ_11_138*2]/*.Freq*/++;
    }

    count = 0;
    prevlen = curlen;

    if (nextlen === 0) {
      max_count = 138;
      min_count = 3;

    } else if (curlen === nextlen) {
      max_count = 6;
      min_count = 3;

    } else {
      max_count = 7;
      min_count = 4;
    }
  }
}


/* ===========================================================================
 * Send a literal or distance tree in compressed form, using the codes in
 * bl_tree.
 */
function send_tree(s, tree, max_code)
//    deflate_state *s;
//    ct_data *tree; /* the tree to be scanned */
//    int max_code;       /* and its largest code of non zero frequency */
{
  var n;                     /* iterates over all tree elements */
  var prevlen = -1;          /* last emitted length */
  var curlen;                /* length of current code */

  var nextlen = tree[0*2 + 1]/*.Len*/; /* length of next code */

  var count = 0;             /* repeat count of the current code */
  var max_count = 7;         /* max repeat count */
  var min_count = 4;         /* min repeat count */

  /* tree[max_code+1].Len = -1; */  /* guard already set */
  if (nextlen === 0) {
    max_count = 138;
    min_count = 3;
  }

  for (n = 0; n <= max_code; n++) {
    curlen = nextlen;
    nextlen = tree[(n+1)*2 + 1]/*.Len*/;

    if (++count < max_count && curlen === nextlen) {
      continue;

    } else if (count < min_count) {
      do { send_code(s, curlen, s.bl_tree); } while (--count !== 0);

    } else if (curlen !== 0) {
      if (curlen !== prevlen) {
        send_code(s, curlen, s.bl_tree);
        count--;
      }
      //Assert(count >= 3 && count <= 6, " 3_6?");
      send_code(s, REP_3_6, s.bl_tree);
      send_bits(s, count-3, 2);

    } else if (count <= 10) {
      send_code(s, REPZ_3_10, s.bl_tree);
      send_bits(s, count-3, 3);

    } else {
      send_code(s, REPZ_11_138, s.bl_tree);
      send_bits(s, count-11, 7);
    }

    count = 0;
    prevlen = curlen;
    if (nextlen === 0) {
      max_count = 138;
      min_count = 3;

    } else if (curlen === nextlen) {
      max_count = 6;
      min_count = 3;

    } else {
      max_count = 7;
      min_count = 4;
    }
  }
}


/* ===========================================================================
 * Construct the Huffman tree for the bit lengths and return the index in
 * bl_order of the last bit length code to send.
 */
function build_bl_tree(s) {
  var max_blindex;  /* index of last bit length code of non zero freq */

  /* Determine the bit length frequencies for literal and distance trees */
  scan_tree(s, s.dyn_ltree, s.l_desc.max_code);
  scan_tree(s, s.dyn_dtree, s.d_desc.max_code);

  /* Build the bit length tree: */
  build_tree(s, s.bl_desc);
  /* opt_len now includes the length of the tree representations, except
   * the lengths of the bit lengths codes and the 5+5+4 bits for the counts.
   */

  /* Determine the number of bit length codes to send. The pkzip format
   * requires that at least 4 bit length codes be sent. (appnote.txt says
   * 3 but the actual value used is 4.)
   */
  for (max_blindex = BL_CODES-1; max_blindex >= 3; max_blindex--) {
    if (s.bl_tree[bl_order[max_blindex]*2 + 1]/*.Len*/ !== 0) {
      break;
    }
  }
  /* Update opt_len to include the bit length tree and counts */
  s.opt_len += 3*(max_blindex+1) + 5+5+4;
  //Tracev((stderr, "\ndyn trees: dyn %ld, stat %ld",
  //        s->opt_len, s->static_len));

  return max_blindex;
}


/* ===========================================================================
 * Send the header for a block using dynamic Huffman trees: the counts, the
 * lengths of the bit length codes, the literal tree and the distance tree.
 * IN assertion: lcodes >= 257, dcodes >= 1, blcodes >= 4.
 */
function send_all_trees(s, lcodes, dcodes, blcodes)
//    deflate_state *s;
//    int lcodes, dcodes, blcodes; /* number of codes for each tree */
{
  var rank;                    /* index in bl_order */

  //Assert (lcodes >= 257 && dcodes >= 1 && blcodes >= 4, "not enough codes");
  //Assert (lcodes <= L_CODES && dcodes <= D_CODES && blcodes <= BL_CODES,
  //        "too many codes");
  //Tracev((stderr, "\nbl counts: "));
  send_bits(s, lcodes-257, 5); /* not +255 as stated in appnote.txt */
  send_bits(s, dcodes-1,   5);
  send_bits(s, blcodes-4,  4); /* not -3 as stated in appnote.txt */
  for (rank = 0; rank < blcodes; rank++) {
    //Tracev((stderr, "\nbl code %2d ", bl_order[rank]));
    send_bits(s, s.bl_tree[bl_order[rank]*2 + 1]/*.Len*/, 3);
  }
  //Tracev((stderr, "\nbl tree: sent %ld", s->bits_sent));

  send_tree(s, s.dyn_ltree, lcodes-1); /* literal tree */
  //Tracev((stderr, "\nlit tree: sent %ld", s->bits_sent));

  send_tree(s, s.dyn_dtree, dcodes-1); /* distance tree */
  //Tracev((stderr, "\ndist tree: sent %ld", s->bits_sent));
}


/* ===========================================================================
 * Check if the data type is TEXT or BINARY, using the following algorithm:
 * - TEXT if the two conditions below are satisfied:
 *    a) There are no non-portable control characters belonging to the
 *       "black list" (0..6, 14..25, 28..31).
 *    b) There is at least one printable character belonging to the
 *       "white list" (9 {TAB}, 10 {LF}, 13 {CR}, 32..255).
 * - BINARY otherwise.
 * - The following partially-portable control characters form a
 *   "gray list" that is ignored in this detection algorithm:
 *   (7 {BEL}, 8 {BS}, 11 {VT}, 12 {FF}, 26 {SUB}, 27 {ESC}).
 * IN assertion: the fields Freq of dyn_ltree are set.
 */
function detect_data_type(s) {
  /* black_mask is the bit mask of black-listed bytes
   * set bits 0..6, 14..25, and 28..31
   * 0xf3ffc07f = binary 11110011111111111100000001111111
   */
  var black_mask = 0xf3ffc07f;
  var n;

  /* Check for non-textual ("black-listed") bytes. */
  for (n = 0; n <= 31; n++, black_mask >>>= 1) {
    if ((black_mask & 1) && (s.dyn_ltree[n*2]/*.Freq*/ !== 0)) {
      return Z_BINARY;
    }
  }

  /* Check for textual ("white-listed") bytes. */
  if (s.dyn_ltree[9 * 2]/*.Freq*/ !== 0 || s.dyn_ltree[10 * 2]/*.Freq*/ !== 0 ||
      s.dyn_ltree[13 * 2]/*.Freq*/ !== 0) {
    return Z_TEXT;
  }
  for (n = 32; n < LITERALS; n++) {
    if (s.dyn_ltree[n * 2]/*.Freq*/ !== 0) {
      return Z_TEXT;
    }
  }

  /* There are no "black-listed" or "white-listed" bytes:
   * this stream either is empty or has tolerated ("gray-listed") bytes only.
   */
  return Z_BINARY;
}


var static_init_done = false;

/* ===========================================================================
 * Initialize the tree data structures for a new zlib stream.
 */
function _tr_init(s)
{

  if (!static_init_done) {
    tr_static_init();
    static_init_done = true;
  }

  s.l_desc  = new TreeDesc(s.dyn_ltree, static_l_desc);
  s.d_desc  = new TreeDesc(s.dyn_dtree, static_d_desc);
  s.bl_desc = new TreeDesc(s.bl_tree, static_bl_desc);

  s.bi_buf = 0;
  s.bi_valid = 0;

  /* Initialize the first block of the first file: */
  init_block(s);
}


/* ===========================================================================
 * Send a stored block
 */
function _tr_stored_block(s, buf, stored_len, last)
//DeflateState *s;
//charf *buf;       /* input block */
//ulg stored_len;   /* length of input block */
//int last;         /* one if this is the last block for a file */
{
  send_bits(s, (STORED_BLOCK<<1)+(last ? 1 : 0), 3);    /* send block type */
  copy_block(s, buf, stored_len, true); /* with header */
}


/* ===========================================================================
 * Send one empty static block to give enough lookahead for inflate.
 * This takes 10 bits, of which 7 may remain in the bit buffer.
 */
function _tr_align(s) {
  send_bits(s, STATIC_TREES<<1, 3);
  send_code(s, END_BLOCK, static_ltree);
  bi_flush(s);
}


/* ===========================================================================
 * Determine the best encoding for the current block: dynamic trees, static
 * trees or store, and output the encoded block to the zip file.
 */
function _tr_flush_block(s, buf, stored_len, last)
//DeflateState *s;
//charf *buf;       /* input block, or NULL if too old */
//ulg stored_len;   /* length of input block */
//int last;         /* one if this is the last block for a file */
{
  var opt_lenb, static_lenb;  /* opt_len and static_len in bytes */
  var max_blindex = 0;        /* index of last bit length code of non zero freq */

  /* Build the Huffman trees unless a stored block is forced */
  if (s.level > 0) {

    /* Check if the file is binary or text */
    if (s.strm.data_type === Z_UNKNOWN) {
      s.strm.data_type = detect_data_type(s);
    }

    /* Construct the literal and distance trees */
    build_tree(s, s.l_desc);
    // Tracev((stderr, "\nlit data: dyn %ld, stat %ld", s->opt_len,
    //        s->static_len));

    build_tree(s, s.d_desc);
    // Tracev((stderr, "\ndist data: dyn %ld, stat %ld", s->opt_len,
    //        s->static_len));
    /* At this point, opt_len and static_len are the total bit lengths of
     * the compressed block data, excluding the tree representations.
     */

    /* Build the bit length tree for the above two trees, and get the index
     * in bl_order of the last bit length code to send.
     */
    max_blindex = build_bl_tree(s);

    /* Determine the best encoding. Compute the block lengths in bytes. */
    opt_lenb = (s.opt_len+3+7) >>> 3;
    static_lenb = (s.static_len+3+7) >>> 3;

    // Tracev((stderr, "\nopt %lu(%lu) stat %lu(%lu) stored %lu lit %u ",
    //        opt_lenb, s->opt_len, static_lenb, s->static_len, stored_len,
    //        s->last_lit));

    if (static_lenb <= opt_lenb) { opt_lenb = static_lenb; }

  } else {
    // Assert(buf != (char*)0, "lost buf");
    opt_lenb = static_lenb = stored_len + 5; /* force a stored block */
  }

  if ((stored_len+4 <= opt_lenb) && (buf !== -1)) {
    /* 4: two words for the lengths */

    /* The test buf != NULL is only necessary if LIT_BUFSIZE > WSIZE.
     * Otherwise we can't have processed more than WSIZE input bytes since
     * the last block flush, because compression would have been
     * successful. If LIT_BUFSIZE <= WSIZE, it is never too late to
     * transform a block into a stored block.
     */
    _tr_stored_block(s, buf, stored_len, last);

  } else if (s.strategy === Z_FIXED || static_lenb === opt_lenb) {

    send_bits(s, (STATIC_TREES<<1) + (last ? 1 : 0), 3);
    compress_block(s, static_ltree, static_dtree);

  } else {
    send_bits(s, (DYN_TREES<<1) + (last ? 1 : 0), 3);
    send_all_trees(s, s.l_desc.max_code+1, s.d_desc.max_code+1, max_blindex+1);
    compress_block(s, s.dyn_ltree, s.dyn_dtree);
  }
  // Assert (s->compressed_len == s->bits_sent, "bad compressed size");
  /* The above check is made mod 2^32, for files larger than 512 MB
   * and uLong implemented on 32 bits.
   */
  init_block(s);

  if (last) {
    bi_windup(s);
  }
  // Tracev((stderr,"\ncomprlen %lu(%lu) ", s->compressed_len>>3,
  //       s->compressed_len-7*last));
}

/* ===========================================================================
 * Save the match info and tally the frequency counts. Return true if
 * the current block must be flushed.
 */
function _tr_tally(s, dist, lc)
//    deflate_state *s;
//    unsigned dist;  /* distance of matched string */
//    unsigned lc;    /* match length-MIN_MATCH or unmatched char (if dist==0) */
{
  //var out_length, in_length, dcode;

  s.pending_buf[s.d_buf + s.last_lit * 2]     = (dist >>> 8) & 0xff;
  s.pending_buf[s.d_buf + s.last_lit * 2 + 1] = dist & 0xff;

  s.pending_buf[s.l_buf + s.last_lit] = lc & 0xff;
  s.last_lit++;

  if (dist === 0) {
    /* lc is the unmatched char */
    s.dyn_ltree[lc*2]/*.Freq*/++;
  } else {
    s.matches++;
    /* Here, lc is the match length - MIN_MATCH */
    dist--;             /* dist = match distance - 1 */
    //Assert((ush)dist < (ush)MAX_DIST(s) &&
    //       (ush)lc <= (ush)(MAX_MATCH-MIN_MATCH) &&
    //       (ush)d_code(dist) < (ush)D_CODES,  "_tr_tally: bad match");

    s.dyn_ltree[(_length_code[lc]+LITERALS+1) * 2]/*.Freq*/++;
    s.dyn_dtree[d_code(dist) * 2]/*.Freq*/++;
  }

// (!) This block is disabled in zlib defailts,
// don't enable it for binary compatibility

//#ifdef TRUNCATE_BLOCK
//  /* Try to guess if it is profitable to stop the current block here */
//  if ((s.last_lit & 0x1fff) === 0 && s.level > 2) {
//    /* Compute an upper bound for the compressed length */
//    out_length = s.last_lit*8;
//    in_length = s.strstart - s.block_start;
//
//    for (dcode = 0; dcode < D_CODES; dcode++) {
//      out_length += s.dyn_dtree[dcode*2]/*.Freq*/ * (5 + extra_dbits[dcode]);
//    }
//    out_length >>>= 3;
//    //Tracev((stderr,"\nlast_lit %u, in %ld, out ~%ld(%ld%%) ",
//    //       s->last_lit, in_length, out_length,
//    //       100L - out_length*100L/in_length));
//    if (s.matches < (s.last_lit>>1)/*int /2*/ && out_length < (in_length>>1)/*int /2*/) {
//      return true;
//    }
//  }
//#endif

  return (s.last_lit === s.lit_bufsize-1);
  /* We avoid equality with lit_bufsize because of wraparound at 64K
   * on 16 bit machines and because stored blocks are restricted to
   * 64K-1 bytes.
   */
}

exports._tr_init  = _tr_init;
exports._tr_stored_block = _tr_stored_block;
exports._tr_flush_block  = _tr_flush_block;
exports._tr_tally = _tr_tally;
exports._tr_align = _tr_align;
},{"../utils/common":27}],39:[function(_dereq_,module,exports){
'use strict';


function ZStream() {
  /* next input byte */
  this.input = null; // JS specific, because we have no pointers
  this.next_in = 0;
  /* number of bytes available at input */
  this.avail_in = 0;
  /* total number of input bytes read so far */
  this.total_in = 0;
  /* next output byte should be put there */
  this.output = null; // JS specific, because we have no pointers
  this.next_out = 0;
  /* remaining free space at output */
  this.avail_out = 0;
  /* total number of bytes output so far */
  this.total_out = 0;
  /* last error message, NULL if no error */
  this.msg = ''/*Z_NULL*/;
  /* not visible by applications */
  this.state = null;
  /* best guess about the data type: binary or text */
  this.data_type = 2/*Z_UNKNOWN*/;
  /* adler32 value of the uncompressed data */
  this.adler = 0;
}

module.exports = ZStream;
},{}]},{},[9])
(9)
}));

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(4).Buffer, __webpack_require__(3)))

/***/ }),
/* 18 */
/***/ (function(module, exports) {

var toString = {}.toString;

module.exports = Array.isArray || function (arr) {
  return toString.call(arr) == '[object Array]';
};


/***/ }),
/* 19 */
/***/ (function(module, exports) {

exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = ((value * c) - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}


/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function getLens (b64) {
  var len = b64.length

  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=')
  if (validLen === -1) validLen = len

  var placeHoldersLen = validLen === len
    ? 0
    : 4 - (validLen % 4)

  return [validLen, placeHoldersLen]
}

// base64 is 4/3 + up to two characters of the original data
function byteLength (b64) {
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function _byteLength (b64, validLen, placeHoldersLen) {
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function toByteArray (b64) {
  var tmp
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]

  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))

  var curByte = 0

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0
    ? validLen - 4
    : validLen

  for (var i = 0; i < len; i += 4) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 18) |
      (revLookup[b64.charCodeAt(i + 1)] << 12) |
      (revLookup[b64.charCodeAt(i + 2)] << 6) |
      revLookup[b64.charCodeAt(i + 3)]
    arr[curByte++] = (tmp >> 16) & 0xFF
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 2) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 2) |
      (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 1) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 10) |
      (revLookup[b64.charCodeAt(i + 1)] << 4) |
      (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] +
    lookup[num >> 12 & 0x3F] +
    lookup[num >> 6 & 0x3F] +
    lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp =
      ((uint8[i] << 16) & 0xFF0000) +
      ((uint8[i + 1] << 8) & 0xFF00) +
      (uint8[i + 2] & 0xFF)
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(
      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)
    ))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    parts.push(
      lookup[tmp >> 2] +
      lookup[(tmp << 4) & 0x3F] +
      '=='
    )
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1]
    parts.push(
      lookup[tmp >> 10] +
      lookup[(tmp >> 4) & 0x3F] +
      lookup[(tmp << 2) & 0x3F] +
      '='
    )
  }

  return parts.join('')
}


/***/ }),
/* 21 */
/***/ (function(module, exports) {

(function(self) {
  'use strict';

  // if __disableNativeFetch is set to true, the it will always polyfill fetch
  // with Ajax.
  if (!self.__disableNativeFetch && self.fetch) {
    return
  }

  function normalizeName(name) {
    if (typeof name !== 'string') {
      name = String(name)
    }
    if (/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(name)) {
      throw new TypeError('Invalid character in header field name')
    }
    return name.toLowerCase()
  }

  function normalizeValue(value) {
    if (typeof value !== 'string') {
      value = String(value)
    }
    return value
  }

  function Headers(headers) {
    this.map = {}

    if (headers instanceof Headers) {
      headers.forEach(function(value, name) {
        this.append(name, value)
      }, this)

    } else if (headers) {
      Object.getOwnPropertyNames(headers).forEach(function(name) {
        this.append(name, headers[name])
      }, this)
    }
  }

  Headers.prototype.append = function(name, value) {
    name = normalizeName(name)
    value = normalizeValue(value)
    var list = this.map[name]
    if (!list) {
      list = []
      this.map[name] = list
    }
    list.push(value)
  }

  Headers.prototype['delete'] = function(name) {
    delete this.map[normalizeName(name)]
  }

  Headers.prototype.get = function(name) {
    var values = this.map[normalizeName(name)]
    return values ? values[0] : null
  }

  Headers.prototype.getAll = function(name) {
    return this.map[normalizeName(name)] || []
  }

  Headers.prototype.has = function(name) {
    return this.map.hasOwnProperty(normalizeName(name))
  }

  Headers.prototype.set = function(name, value) {
    this.map[normalizeName(name)] = [normalizeValue(value)]
  }

  Headers.prototype.forEach = function(callback, thisArg) {
    Object.getOwnPropertyNames(this.map).forEach(function(name) {
      this.map[name].forEach(function(value) {
        callback.call(thisArg, value, name, this)
      }, this)
    }, this)
  }

  function consumed(body) {
    if (body.bodyUsed) {
      return Promise.reject(new TypeError('Already read'))
    }
    body.bodyUsed = true
  }

  function fileReaderReady(reader) {
    return new Promise(function(resolve, reject) {
      reader.onload = function() {
        resolve(reader.result)
      }
      reader.onerror = function() {
        reject(reader.error)
      }
    })
  }

  function readBlobAsArrayBuffer(blob) {
    var reader = new FileReader()
    reader.readAsArrayBuffer(blob)
    return fileReaderReady(reader)
  }

  function readBlobAsText(blob, options) {
    var reader = new FileReader()
    var contentType = options.headers.map['content-type'] ? options.headers.map['content-type'].toString() : ''
    var regex = /charset\=[0-9a-zA-Z\-\_]*;?/
    var _charset = blob.type.match(regex) || contentType.match(regex)
    var args = [blob]

    if(_charset) {
      args.push(_charset[0].replace(/^charset\=/, '').replace(/;$/, ''))
    }

    reader.readAsText.apply(reader, args)
    return fileReaderReady(reader)
  }

  var support = {
    blob: 'FileReader' in self && 'Blob' in self && (function() {
      try {
        new Blob();
        return true
      } catch(e) {
        return false
      }
    })(),
    formData: 'FormData' in self,
    arrayBuffer: 'ArrayBuffer' in self
  }

  function Body() {
    this.bodyUsed = false


    this._initBody = function(body, options) {
      this._bodyInit = body
      if (typeof body === 'string') {
        this._bodyText = body
      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {
        this._bodyBlob = body
        this._options = options
      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {
        this._bodyFormData = body
      } else if (!body) {
        this._bodyText = ''
      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {
        // Only support ArrayBuffers for POST method.
        // Receiving ArrayBuffers happens via Blobs, instead.
      } else {
        throw new Error('unsupported BodyInit type')
      }
    }

    if (support.blob) {
      this.blob = function() {
        var rejected = consumed(this)
        if (rejected) {
          return rejected
        }

        if (this._bodyBlob) {
          return Promise.resolve(this._bodyBlob)
        } else if (this._bodyFormData) {
          throw new Error('could not read FormData body as blob')
        } else {
          return Promise.resolve(new Blob([this._bodyText]))
        }
      }

      this.arrayBuffer = function() {
        return this.blob().then(readBlobAsArrayBuffer)
      }

      this.text = function() {
        var rejected = consumed(this)
        if (rejected) {
          return rejected
        }

        if (this._bodyBlob) {
          return readBlobAsText(this._bodyBlob, this._options)
        } else if (this._bodyFormData) {
          throw new Error('could not read FormData body as text')
        } else {
          return Promise.resolve(this._bodyText)
        }
      }
    } else {
      this.text = function() {
        var rejected = consumed(this)
        return rejected ? rejected : Promise.resolve(this._bodyText)
      }
    }

    if (support.formData) {
      this.formData = function() {
        return this.text().then(decode)
      }
    }

    this.json = function() {
      return this.text().then(JSON.parse)
    }

    return this
  }

  // HTTP methods whose capitalization should be normalized
  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']

  function normalizeMethod(method) {
    var upcased = method.toUpperCase()
    return (methods.indexOf(upcased) > -1) ? upcased : method
  }

  function Request(input, options) {
    options = options || {}
    var body = options.body
    if (Request.prototype.isPrototypeOf(input)) {
      if (input.bodyUsed) {
        throw new TypeError('Already read')
      }
      this.url = input.url
      this.credentials = input.credentials
      if (!options.headers) {
        this.headers = new Headers(input.headers)
      }
      this.method = input.method
      this.mode = input.mode
      if (!body) {
        body = input._bodyInit
        input.bodyUsed = true
      }
    } else {
      this.url = input
    }

    this.credentials = options.credentials || this.credentials || 'omit'
    if (options.headers || !this.headers) {
      this.headers = new Headers(options.headers)
    }
    this.method = normalizeMethod(options.method || this.method || 'GET')
    this.mode = options.mode || this.mode || null
    this.referrer = null

    if ((this.method === 'GET' || this.method === 'HEAD') && body) {
      throw new TypeError('Body not allowed for GET or HEAD requests')
    }
    this._initBody(body, options)
  }

  Request.prototype.clone = function() {
    return new Request(this)
  }

  function decode(body) {
    var form = new FormData()
    body.trim().split('&').forEach(function(bytes) {
      if (bytes) {
        var split = bytes.split('=')
        var name = split.shift().replace(/\+/g, ' ')
        var value = split.join('=').replace(/\+/g, ' ')
        form.append(decodeURIComponent(name), decodeURIComponent(value))
      }
    })
    return form
  }

  function headers(xhr) {
    var head = new Headers()
    var pairs = xhr.getAllResponseHeaders().trim().split('\n')
    pairs.forEach(function(header) {
      var split = header.trim().split(':')
      var key = split.shift().trim()
      var value = split.join(':').trim()
      head.append(key, value)
    })
    return head
  }

  Body.call(Request.prototype)

  function Response(bodyInit, options) {
    if (!options) {
      options = {}
    }

    this._initBody(bodyInit, options)
    this.type = 'default'
    this.status = options.status
    this.ok = this.status >= 200 && this.status < 300
    this.statusText = options.statusText
    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)
    this.url = options.url || ''
  }

  Body.call(Response.prototype)

  Response.prototype.clone = function() {
    return new Response(this._bodyInit, {
      status: this.status,
      statusText: this.statusText,
      headers: new Headers(this.headers),
      url: this.url
    })
  }

  Response.error = function() {
    var response = new Response(null, {status: 0, statusText: ''})
    response.type = 'error'
    return response
  }

  var redirectStatuses = [301, 302, 303, 307, 308]

  Response.redirect = function(url, status) {
    if (redirectStatuses.indexOf(status) === -1) {
      throw new RangeError('Invalid status code')
    }

    return new Response(null, {status: status, headers: {location: url}})
  }

  self.Headers = Headers;
  self.Request = Request;
  self.Response = Response;

  self.fetch = function(input, init) {
    return new Promise(function(resolve, reject) {
      var request
      if (Request.prototype.isPrototypeOf(input) && !init) {
        request = input
      } else {
        request = new Request(input, init)
      }

      var xhr = new XMLHttpRequest()

      function responseURL() {
        if ('responseURL' in xhr) {
          return xhr.responseURL
        }

        // Avoid security warnings on getResponseHeader when not allowed by CORS
        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {
          return xhr.getResponseHeader('X-Request-URL')
        }

        return;
      }

      var __onLoadHandled = false;

      function onload() {
        if (xhr.readyState !== 4) {
          return
        }
        var status = (xhr.status === 1223) ? 204 : xhr.status
        if (status < 100 || status > 599) {
          if (__onLoadHandled) { return; } else { __onLoadHandled = true; }
          reject(new TypeError('Network request failed'))
          return
        }
        var options = {
          status: status,
          statusText: xhr.statusText,
          headers: headers(xhr),
          url: responseURL()
        }
        var body = 'response' in xhr ? xhr.response : xhr.responseText;

        if (__onLoadHandled) { return; } else { __onLoadHandled = true; }
        resolve(new Response(body, options))
      }
      xhr.onreadystatechange = onload;
      xhr.onload = onload;
      xhr.onerror = function() {
        if (__onLoadHandled) { return; } else { __onLoadHandled = true; }
        reject(new TypeError('Network request failed'))
      }

      xhr.open(request.method, request.url, true)

      // `withCredentials` should be setted after calling `.open` in IE10
      // http://stackoverflow.com/a/19667959/1219343
      try {
        if (request.credentials === 'include') {
          if ('withCredentials' in xhr) {
            xhr.withCredentials = true;
          } else {
            console && console.warn && console.warn('withCredentials is not supported, you can ignore this warning');
          }
        }
      } catch (e) {
        console && console.warn && console.warn('set withCredentials error:' + e);
      }

      if ('responseType' in xhr && support.blob) {
        xhr.responseType = 'blob'
      }

      request.headers.forEach(function(value, name) {
        xhr.setRequestHeader(name, value)
      })

      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)
    })
  }
  self.fetch.polyfill = true

  // Support CommonJS
  if (typeof module !== 'undefined' && module.exports) {
    module.exports = self.fetch;
  }
})(typeof self !== 'undefined' ? self : this);


/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {
    "use strict";

    if (global.setImmediate) {
        return;
    }

    var nextHandle = 1; // Spec says greater than zero
    var tasksByHandle = {};
    var currentlyRunningATask = false;
    var doc = global.document;
    var registerImmediate;

    function setImmediate(callback) {
      // Callback can either be a function or a string
      if (typeof callback !== "function") {
        callback = new Function("" + callback);
      }
      // Copy function arguments
      var args = new Array(arguments.length - 1);
      for (var i = 0; i < args.length; i++) {
          args[i] = arguments[i + 1];
      }
      // Store and register the task
      var task = { callback: callback, args: args };
      tasksByHandle[nextHandle] = task;
      registerImmediate(nextHandle);
      return nextHandle++;
    }

    function clearImmediate(handle) {
        delete tasksByHandle[handle];
    }

    function run(task) {
        var callback = task.callback;
        var args = task.args;
        switch (args.length) {
        case 0:
            callback();
            break;
        case 1:
            callback(args[0]);
            break;
        case 2:
            callback(args[0], args[1]);
            break;
        case 3:
            callback(args[0], args[1], args[2]);
            break;
        default:
            callback.apply(undefined, args);
            break;
        }
    }

    function runIfPresent(handle) {
        // From the spec: "Wait until any invocations of this algorithm started before this one have completed."
        // So if we're currently running a task, we'll need to delay this invocation.
        if (currentlyRunningATask) {
            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a
            // "too much recursion" error.
            setTimeout(runIfPresent, 0, handle);
        } else {
            var task = tasksByHandle[handle];
            if (task) {
                currentlyRunningATask = true;
                try {
                    run(task);
                } finally {
                    clearImmediate(handle);
                    currentlyRunningATask = false;
                }
            }
        }
    }

    function installNextTickImplementation() {
        registerImmediate = function(handle) {
            process.nextTick(function () { runIfPresent(handle); });
        };
    }

    function canUsePostMessage() {
        // The test against `importScripts` prevents this implementation from being installed inside a web worker,
        // where `global.postMessage` means something completely different and can't be used for this purpose.
        if (global.postMessage && !global.importScripts) {
            var postMessageIsAsynchronous = true;
            var oldOnMessage = global.onmessage;
            global.onmessage = function() {
                postMessageIsAsynchronous = false;
            };
            global.postMessage("", "*");
            global.onmessage = oldOnMessage;
            return postMessageIsAsynchronous;
        }
    }

    function installPostMessageImplementation() {
        // Installs an event handler on `global` for the `message` event: see
        // * https://developer.mozilla.org/en/DOM/window.postMessage
        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages

        var messagePrefix = "setImmediate$" + Math.random() + "$";
        var onGlobalMessage = function(event) {
            if (event.source === global &&
                typeof event.data === "string" &&
                event.data.indexOf(messagePrefix) === 0) {
                runIfPresent(+event.data.slice(messagePrefix.length));
            }
        };

        if (global.addEventListener) {
            global.addEventListener("message", onGlobalMessage, false);
        } else {
            global.attachEvent("onmessage", onGlobalMessage);
        }

        registerImmediate = function(handle) {
            global.postMessage(messagePrefix + handle, "*");
        };
    }

    function installMessageChannelImplementation() {
        var channel = new MessageChannel();
        channel.port1.onmessage = function(event) {
            var handle = event.data;
            runIfPresent(handle);
        };

        registerImmediate = function(handle) {
            channel.port2.postMessage(handle);
        };
    }

    function installReadyStateChangeImplementation() {
        var html = doc.documentElement;
        registerImmediate = function(handle) {
            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted
            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.
            var script = doc.createElement("script");
            script.onreadystatechange = function () {
                runIfPresent(handle);
                script.onreadystatechange = null;
                html.removeChild(script);
                script = null;
            };
            html.appendChild(script);
        };
    }

    function installSetTimeoutImplementation() {
        registerImmediate = function(handle) {
            setTimeout(runIfPresent, 0, handle);
        };
    }

    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.
    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);
    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;

    // Don't get fooled by e.g. browserify environments.
    if ({}.toString.call(global.process) === "[object process]") {
        // For Node.js before 0.9
        installNextTickImplementation();

    } else if (canUsePostMessage()) {
        // For non-IE10 modern browsers
        installPostMessageImplementation();

    } else if (global.MessageChannel) {
        // For web workers, where supported
        installMessageChannelImplementation();

    } else if (doc && "onreadystatechange" in doc.createElement("script")) {
        // For IE 6â8
        installReadyStateChangeImplementation();

    } else {
        // For older browsers
        installSetTimeoutImplementation();
    }

    attachTo.setImmediate = setImmediate;
    attachTo.clearImmediate = clearImmediate;
}(typeof self === "undefined" ? typeof global === "undefined" ? this : global : self));

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3), __webpack_require__(9)))

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var scope = (typeof global !== "undefined" && global) ||
            (typeof self !== "undefined" && self) ||
            window;
var apply = Function.prototype.apply;

// DOM APIs, for completeness

exports.setTimeout = function() {
  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);
};
exports.setInterval = function() {
  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);
};
exports.clearTimeout =
exports.clearInterval = function(timeout) {
  if (timeout) {
    timeout.close();
  }
};

function Timeout(id, clearFn) {
  this._id = id;
  this._clearFn = clearFn;
}
Timeout.prototype.unref = Timeout.prototype.ref = function() {};
Timeout.prototype.close = function() {
  this._clearFn.call(scope, this._id);
};

// Does not start the time, just sets up the members needed.
exports.enroll = function(item, msecs) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = msecs;
};

exports.unenroll = function(item) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = -1;
};

exports._unrefActive = exports.active = function(item) {
  clearTimeout(item._idleTimeoutId);

  var msecs = item._idleTimeout;
  if (msecs >= 0) {
    item._idleTimeoutId = setTimeout(function onTimeout() {
      if (item._onTimeout)
        item._onTimeout();
    }, msecs);
  }
};

// setimmediate attaches itself to the global object
__webpack_require__(22);
// On some exotic environments, it's not clear which object `setimmediate` was
// able to install onto.  Search each possibility in the same order as the
// `setimmediate` library.
exports.setImmediate = (typeof self !== "undefined" && self.setImmediate) ||
                       (typeof global !== "undefined" && global.setImmediate) ||
                       (this && this.setImmediate);
exports.clearImmediate = (typeof self !== "undefined" && self.clearImmediate) ||
                         (typeof global !== "undefined" && global.clearImmediate) ||
                         (this && this.clearImmediate);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ })
/******/ ]);