/*!
 * 
 *          iclient-leaflet.(https://iclient.supermap.io)
 *          CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd
 *          license: Apache-2.0
 *          version: v10.0.1
 *         
 */
!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(t){return e[t]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=14)}([function(e,t){e.exports=L},function(e,t){e.exports=function(){try{return echarts}catch(e){return{}}}()},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}e.exports=r},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){var t=l(e,N),n=t[0],r=t[1];I.pathway=l(n,A);for(var i=0,a=I.pathway.length;i<a;i++)I.pathway[i]=l(I.pathway[i],L),I.pathway[i][0]==M&&I.pathway[i].shift(),0===I.pathway[i].length&&I.pathway.splice(i,1);for(var s=-1,u=-1,c=0;c<r.length;){if(r[c]===j)s=c;else if(r[c]===R&&(u=c)>s&&-1!==s){var f="gr_"+(new Date).getTime();I.groups[f]=r.substring(s+1,u),r=r.replace(j+I.groups[f]+R,f),c=-1}c+=1}o(D,r)}function o(e,t){var n=s(t,g),r=s(t,b);if(n!==Number.MAX_VALUE||r!==Number.MAX_VALUE)if(n<r){e.and=e.and||[];var i=l(t,g);e.and.push(i[0]),o(e.and,i[1])}else{e.or=e.or||[];var i=l(t,b);e.or.push(i[0]),o(e.or,i[1])}else I.groups[t]?(t=I.groups[t],o(e,t)):(Array.isArray(e)?e.push(t):e.or=[t],a(D.or?D.or:D.and))}function a(e){for(var t in e)if(e.hasOwnProperty(t))if(Array.isArray(e[t]))a(e[t]);else if("string"==typeof e[t])if(u(e[t],x)){var n=l(e[t],x);e[t]={ne:[n[0],n[1]]}}else if(u(e[t],C)){var n=l(e[t],C);e[t]={nreq:[n[0],n[1]]}}else if(u(e[t],O)){var n=l(e[t],O);e[t]={req:[n[0],n[1]]}}else if(u(e[t],P)){var n=l(e[t],P);e[t]={ge:[n[0],n[1]]}}else if(u(e[t],T)){var n=l(e[t],T);e[t]={gt:[n[0],n[1]]}}else if(u(e[t],k)){var n=l(e[t],k);e[t]={le:[n[0],n[1]]}}else if(u(e[t],E)){var n=l(e[t],E);e[t]={lt:[n[0],n[1]]}}else if(u(e[t],w)){var n=l(e[t],w);e[t]={eq:[n[0],n[1]]}}}function s(e,t){var n=e.indexOf(t);return-1===n?Number.MAX_VALUE:n}function l(e,t){return e.split(t).map(function(e){return e.trim()})}function u(e,t){return e.indexOf(t)>-1}function c(e,t){var n=l(t,L),r=e;for(var i in n){if(!r.hasOwnProperty(n[i]))return"";r=r[n[i]]}return r=v.isDate(r)?r.valueOf():v.isDateString(r)?v.parseDateFromString(r):r.toString()}function f(e,t){var n=!1;for(var r in e){var i=r===S?h:r===_?f:p;if(n=n||i(e[r],t),F.trace&&B(I.step,"======((( or",e[r],n),n)return n}return n}function h(e,t){var n=!0;for(var r in e){var i=r===S?h:r===_?f:p;if(n=n&&i(e[r],t),F.trace&&B(I.step,"======((( and",e[r],n),!n)return n}return n}function p(e,t){if(I.step+=1,e.or){var n=f(e.or,t);return F.trace&&B(I.step,"OR",e,n),n}if(e.and){var n=h(e.and,t);return F.trace&&B(I.step,"AND",e,n),n}if("object"===r(e))return e.eq?c(t,e.eq[0])===e.eq[1]:e.ne?c(t,e.ne[0])!==e.ne[1]:e.req?u(c(t,e.req[0]),e.req[1]):e.nreq?!u(c(t,e.nreq[0]),e.nreq[1]):e.gt?c(t,e.gt[0])>e.gt[1]:e.ge?c(t,e.ge[0])>=e.ge[1]:e.lt?c(t,e.lt[0])<e.lt[1]:e.le?c(t,e.le[0])<=e.le[1]:p(e,t)}function y(e){var t=[];for(var n in e)p(D,e[n])&&t.push(e[n]);return t}function d(e){return e&&I.pathway.length>0?e.map(function(e){for(var t={},n=0,r=I.pathway.length;n<r;n++){var i=I.pathway[n].join(L);t[i]=c(e,i)}return t}):e}function m(e,t,n){return I={pathway:[],groups:{},step:0},D={},n=n||{trace:!1},F=n,i(t),d(y(e))}var v=n(20),g="&&",b="||",S="and",_="or",w="=",O="~",x="!"+w,C="!"+O,T=">",P=">=",E="<",k="<=",M="*",A=",",L=".",j="(",R=")",N="where",I={pathway:[],groups:{}},D={},F={},B=console.log;void 0!==e.exports&&(e.exports=m),"undefined"!=typeof window&&(window.Query=m)},function(e,t,n){var r,i,o;!function(n,a){i=[t,e],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(0,function(e,t){"use strict";function n(){return"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random())}function r(e){try{delete window[e]}catch(t){window[e]=void 0}}function i(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}function o(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=e,s=t.timeout||a.timeout,l=t.jsonpCallback||a.jsonpCallback,u=void 0;return new Promise(function(a,c){var f=t.jsonpCallbackFunction||n(),h=l+"_"+f;window[f]=function(e){a({ok:!0,json:function(){return Promise.resolve(e)}}),u&&clearTimeout(u),i(h),r(f)},o+=-1===o.indexOf("?")?"?":"&";var p=document.createElement("script");p.setAttribute("src",""+o+l+"="+f),t.charset&&p.setAttribute("charset",t.charset),p.id=h,document.getElementsByTagName("head")[0].appendChild(p),u=setTimeout(function(){c(new Error("JSONP request to "+e+" timed out")),r(f),i(h),window[f]=function(){r(f)}},s),p.onerror=function(){c(new Error("JSONP request to "+e+" failed")),r(f),i(h),u&&clearTimeout(u)}})}var a={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};t.exports=o})},function(e,t){e.exports=function(){try{return XLSX}catch(e){return{}}}()},function(e,t){e.exports=function(){try{return mapv}catch(e){return{}}}()},function(e,t){e.exports=function(){try{return turf}catch(e){return{}}}()},function(e,t,n){"use strict";function r(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(i,this,t),this.length=this._features.length}function i(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(o(n))}function o(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}var a=n(9);e.exports=r,r.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new a(this._pbf,t,this.extent,this._keys,this._values)}},function(e,t,n){"use strict";function r(e,t,n,r,o){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=o,e.readFields(i,this,t)}function i(e,t,n){1==e?t.id=n.readVarint():2==e?o(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function o(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}function a(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],o=0;o<t;o++){var a=s(e[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[e[o]]):n.push(e[o]))}return n&&i.push(n),i}function s(e){for(var t,n,r=0,i=0,o=e.length,a=o-1;i<o;a=i++)t=e[i],n=e[a],r+=(n.x-t.x)*(t.y+n.y);return r}var l=n(23);e.exports=r,r.types=["Unknown","Point","LineString","Polygon"],r.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,i=0,o=0,a=0,s=[];e.pos<n;){if(i<=0){var u=e.readVarint();r=7&u,i=u>>3}if(i--,1===r||2===r)o+=e.readSVarint(),a+=e.readSVarint(),1===r&&(t&&s.push(t),t=[]),t.push(new l(o,a));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&s.push(t),s},r.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,l=1/0,u=-1/0;e.pos<t;){if(r<=0){var c=e.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)i+=e.readSVarint(),o+=e.readSVarint(),i<a&&(a=i),i>s&&(s=i),o<l&&(l=o),o>u&&(u=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,u]},r.prototype.toGeoJSON=function(e,t,n){function i(e){for(var t=0;t<e.length;t++){var n=e[t],r=180-360*(n.y+c)/l;e[t]=[360*(n.x+u)/l-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}var o,s,l=this.extent*Math.pow(2,n),u=this.extent*e,c=this.extent*t,f=this.loadGeometry(),h=r.types[this.type];switch(this.type){case 1:var p=[];for(o=0;o<f.length;o++)p[o]=f[o][0];f=p,i(f);break;case 2:for(o=0;o<f.length;o++)i(f[o]);break;case 3:for(f=a(f),o=0;o<f.length;o++)for(s=0;s<f[o].length;s++)i(f[o][s])}1===f.length?f=f[0]:h="Multi"+h;var y={type:"Feature",geometry:{type:h,coordinates:f},properties:this.properties};return"id"in this&&(y.id=this.id),y}},function(e,t){e.exports=function(){try{return elasticsearch}catch(e){return{}}}()},function(e,t,n){(function(t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function i(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function o(e,t){return r(t,function(t){return[t,e[t]]})}function a(e,t){return null==e?void 0:e[t]}function s(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function l(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function u(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function c(e,t){var n=ae(e)||b(e)?i(e.length,String):[],r=n.length,o=!!r;for(var a in e)!t&&!H.call(e,a)||o&&("length"==a||d(a,r))||n.push(a);return n}function f(e){return J.call(e)}function h(e){return!(!x(e)||m(e))&&(w(e)||s(e)?q:R).test(g(e))}function p(e){if(!v(e))return Y(e);var t=[];for(var n in Object(e))H.call(e,n)&&"constructor"!=n&&t.push(n);return t}function y(e,t){var n=a(e,t);return h(n)?n:void 0}function d(e,t){return!!(t=null==t?P:t)&&("number"==typeof e||N.test(e))&&e>-1&&e%1==0&&e<t}function m(e){return!!z&&z in e}function v(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||U)}function g(e){if(null!=e){try{return V.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function b(e){return _(e)&&H.call(e,"callee")&&(!W.call(e,"callee")||J.call(e)==E)}function S(e){return null!=e&&O(e.length)&&!w(e)}function _(e){return C(e)&&S(e)}function w(e){var t=x(e)?J.call(e):"";return t==k||t==M}function O(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=P}function x(e){var t=n(e);return!!e&&("object"==t||"function"==t)}function C(e){return!!e&&"object"==n(e)}function T(e){return S(e)?c(e):p(e)}var P=9007199254740991,E="[object Arguments]",k="[object Function]",M="[object GeneratorFunction]",A="[object Map]",L="[object Set]",j=/[\\^$.*+?()[\]{}|]/g,R=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,I="object"==(void 0===t?"undefined":n(t))&&t&&t.Object===Object&&t,D="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,F=I||D||Function("return this")(),B=Function.prototype,U=Object.prototype,G=F["__core-js_shared__"],z=function(){var e=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),V=B.toString,H=U.hasOwnProperty,J=U.toString,q=RegExp("^"+V.call(H).replace(j,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=U.propertyIsEnumerable,Y=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),Q=y(F,"DataView"),X=y(F,"Map"),K=y(F,"Promise"),Z=y(F,"Set"),$=y(F,"WeakMap"),ee=g(Q),te=g(X),ne=g(K),re=g(Z),ie=g($),oe=f;(Q&&"[object DataView]"!=oe(new Q(new ArrayBuffer(1)))||X&&oe(new X)!=A||K&&"[object Promise]"!=oe(K.resolve())||Z&&oe(new Z)!=L||$&&"[object WeakMap]"!=oe(new $))&&(oe=function(e){var t=J.call(e),n="[object Object]"==t?e.constructor:void 0,r=n?g(n):void 0;if(r)switch(r){case ee:return"[object DataView]";case te:return A;case ne:return"[object Promise]";case re:return L;case ie:return"[object WeakMap]"}return t});var ae=Array.isArray,se=function(e){return function(t){var n=oe(t);return n==A?l(t):n==L?u(t):o(t,e(t))}}(T);e.exports=se}).call(this,n(2))},function(e,t,n){"use strict";function r(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}function i(e,t,n){var r,i,o=n.buf;if(i=o[n.pos++],r=(112&i)>>4,i<128)return a(e,r,t);if(i=o[n.pos++],r|=(127&i)<<3,i<128)return a(e,r,t);if(i=o[n.pos++],r|=(127&i)<<10,i<128)return a(e,r,t);if(i=o[n.pos++],r|=(127&i)<<17,i<128)return a(e,r,t);if(i=o[n.pos++],r|=(127&i)<<24,i<128)return a(e,r,t);if(i=o[n.pos++],r|=(1&i)<<31,i<128)return a(e,r,t);throw new Error("Expected varint not more than 10 bytes")}function o(e){return e.type===r.Bytes?e.readVarint()+e.pos:e.pos+1}function a(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function s(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(n=~(-e%4294967296),r=~(-e/4294967296),4294967295^n?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),l(n,r,t),u(r,t)}function l(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos]=127&e}function u(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}function c(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function f(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function h(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function p(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function y(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function d(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function m(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function v(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function g(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function b(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function S(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function _(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function w(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function O(e,t,n){for(var r="",i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s>n)break;var l,u,c;1===s?o<128&&(a=o):2===s?128==(192&(l=e[i+1]))&&(a=(31&o)<<6|63&l)<=127&&(a=null):3===s?(l=e[i+1],u=e[i+2],128==(192&l)&&128==(192&u)&&((a=(15&o)<<12|(63&l)<<6|63&u)<=2047||a>=55296&&a<=57343)&&(a=null)):4===s&&(l=e[i+1],u=e[i+2],c=e[i+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&((a=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c)<=65535||a>=1114112)&&(a=null)),null===a?(a=65533,s=1):a>65535&&(a-=65536,r+=String.fromCharCode(a>>>10&1023|55296),a=56320|1023&a),r+=String.fromCharCode(a),i+=s}return r}function x(e,t,n){return P.decode(e.subarray(t,n))}function C(e,t,n){for(var r,i,o=0;o<t.length;o++){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}e.exports=r;var T=n(21);r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var P="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");r.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=S(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=w(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=S(this.buf,this.pos)+4294967296*S(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=S(this.buf,this.pos)+4294967296*w(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=T.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=T.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return n=r[this.pos++],t=127&n,n<128?t:(n=r[this.pos++],t|=(127&n)<<7,n<128?t:(n=r[this.pos++],t|=(127&n)<<14,n<128?t:(n=r[this.pos++],t|=(127&n)<<21,n<128?t:(n=r[this.pos],t|=(15&n)<<28,i(t,e,this)))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&P?x(this.buf,t,e):O(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==r.Bytes)return e.push(this.readVarint(t));var n=o(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==r.Bytes)return e.push(this.readSVarint());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==r.Bytes)return e.push(this.readBoolean());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==r.Bytes)return e.push(this.readFloat());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==r.Bytes)return e.push(this.readDouble());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==r.Bytes)return e.push(this.readFixed32());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==r.Bytes)return e.push(this.readSFixed32());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==r.Bytes)return e.push(this.readFixed64());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==r.Bytes)return e.push(this.readSFixed64());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===r.Varint)for(;this.buf[this.pos++]>127;);else if(t===r.Bytes)this.pos=this.readVarint()+this.pos;else if(t===r.Fixed32)this.pos+=4;else{if(t!==r.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),_(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),_(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),_(this.buf,-1&e,this.pos),_(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),_(this.buf,-1&e,this.pos),_(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){if((e=+e||0)>268435455||e<0)return void s(e,this);this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127)))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=C(this.buf,e,this.pos);var n=this.pos-t;n>=128&&c(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),T.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),T.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&c(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,r.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,f,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,h,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,d,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,p,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,y,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,m,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,v,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,g,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,b,t)},writeBytesField:function(e,t){this.writeTag(e,r.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,r.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,r.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,r.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}},function(e,t,n){e.exports.VectorTile=n(22),e.exports.VectorTileFeature=n(9),e.exports.VectorTileLayer=n(8)},function(e,t,n){n(24),e.exports=n(25)},function(e,t,n){(function(r,i){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a,s;!function(r,i){"object"===o(t)&&void 0!==e?i():(a=i,void 0!==(s="function"==typeof a?a.call(t,n,t,e):a)&&(e.exports=s))}(0,function(){"use strict";function e(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}function t(e){return Boolean(e&&void 0!==e.length)}function n(){}function a(e,t){return function(){e.apply(t,arguments)}}function s(e){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function l(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,s._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?u:c)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void c(t.promise,e)}u(t.promise,r)})}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===o(t)||"function"==typeof t)){var n=t.then;if(t instanceof s)return e._state=3,e._value=t,void f(e);if("function"==typeof n)return void p(a(n,t),e)}e._state=1,e._value=t,f(e)}catch(t){c(e,t)}}function c(e,t){e._state=2,e._value=t,f(e)}function f(e){2===e._state&&0===e._deferreds.length&&s._immediateFn(function(){e._handled||s._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)l(e,e._deferreds[t]);e._deferreds=null}function h(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function p(e,t){var n=!1;try{e(function(e){n||(n=!0,u(t,e))},function(e){n||(n=!0,c(t,e))})}catch(e){if(n)return;n=!0,c(t,e)}}var y=setTimeout;s.prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){var r=new this.constructor(n);return l(this,new h(e,t,r)),r},s.prototype.finally=e,s.all=function(e){return new s(function(n,r){function i(e,t){try{if(t&&("object"===o(t)||"function"==typeof t)){var l=t.then;if("function"==typeof l)return void l.call(t,function(t){i(e,t)},r)}a[e]=t,0==--s&&n(a)}catch(e){r(e)}}if(!t(e))return r(new TypeError("Promise.all accepts an array"));var a=Array.prototype.slice.call(e);if(0===a.length)return n([]);for(var s=a.length,l=0;l<a.length;l++)i(l,a[l])})},s.resolve=function(e){return e&&"object"===o(e)&&e.constructor===s?e:new s(function(t){t(e)})},s.reject=function(e){return new s(function(t,n){n(e)})},s.race=function(e){return new s(function(n,r){if(!t(e))return r(new TypeError("Promise.race accepts an array"));for(var i=0,o=e.length;i<o;i++)s.resolve(e[i]).then(n,r)})},s._immediateFn="function"==typeof r&&function(e){r(e)}||function(e){y(e,0)},s._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var d=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==i)return i;throw new Error("unable to locate global object")}();"Promise"in d?d.Promise.prototype.finally||(d.Promise.prototype.finally=e):d.Promise=s})}).call(this,n(16).setImmediate,n(2))},function(e,t,n){(function(e){function r(e,t){this._id=e,this._clearFn=t}var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;t.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(17),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(2))},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[l]=r,s(l),l++}function i(e){delete u[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(c)setTimeout(a,0,e);else{var t=u[e];if(t){c=!0;try{o(t)}finally{i(e),c=!1}}}}if(!e.setImmediate){var s,l=1,u={},c=!1,f=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var e=f.documentElement;s=function(t){var n=f.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(a,0,e)}}(),h.setImmediate=r,h.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(2),n(18))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){d&&p&&(d=!1,p.length?y=p.concat(y):m=-1,y.length&&s())}function s(){if(!d){var e=i(a);d=!0;for(var t=y.length;t;){for(p=y,y=[];++m<t;)p&&p[m].run();m=-1,t=y.length}p=null,d=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,f,h=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,y=[],d=!1,m=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];y.push(new l(e,t)),1!==y.length||d||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,n){!function(t){"use strict";function n(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function r(e){return"string"!=typeof e&&(e=String(e)),e}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader;return t.readAsArrayBuffer(e),a(t)}function l(e,t){var n=new FileReader,r=t.headers.map["content-type"]?t.headers.map["content-type"].toString():"",i=/charset\=[0-9a-zA-Z\-\_]*;?/,o=e.type.match(i)||r.match(i),s=[e];return o&&s.push(o[0].replace(/^charset\=/,"").replace(/;$/,"")),n.readAsText.apply(n,s),a(n)}
function u(){return this.bodyUsed=!1,this._initBody=function(e,t){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(d.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e,this._options=t;else if(d.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(e){if(!d.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText=""},d.blob?(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return l(this._bodyBlob,this._options);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=o(this);return e||Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(e){var t=e.toUpperCase();return m.indexOf(t)>-1?t:e}function f(e,t){t=t||{};var n=t.body;if(f.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=c(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n,t)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function p(e){var t=new i;return e.getAllResponseHeaders().trim().split("\n").forEach(function(e){var n=e.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();t.append(r,i)}),t}function y(e,t){t||(t={}),this._initBody(e,t),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof i?t.headers:new i(t.headers),this.url=t.url||""}if(t.__disableNativeFetch||!t.fetch){i.prototype.append=function(e,t){e=n(e),t=r(t);var i=this.map[e];i||(i=[],this.map[e]=i),i.push(t)},i.prototype.delete=function(e){delete this.map[n(e)]},i.prototype.get=function(e){var t=this.map[n(e)];return t?t[0]:null},i.prototype.getAll=function(e){return this.map[n(e)]||[]},i.prototype.has=function(e){return this.map.hasOwnProperty(n(e))},i.prototype.set=function(e,t){this.map[n(e)]=[r(t)]},i.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){e.call(t,r,n,this)},this)},this)};var d={blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t},m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this)},u.call(f.prototype),u.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var v=[301,302,303,307,308];y.redirect=function(e,t){if(-1===v.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},t.Headers=i,t.Request=f,t.Response=y,t.fetch=function(e,t){return new Promise(function(n,r){function i(){return"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0}function o(){if(4===s.readyState){var e=1223===s.status?204:s.status;if(e<100||e>599){if(l)return;return l=!0,void r(new TypeError("Network request failed"))}var t={status:e,statusText:s.statusText,headers:p(s),url:i()},o="response"in s?s.response:s.responseText;l||(l=!0,n(new y(o,t)))}}var a;a=f.prototype.isPrototypeOf(e)&&!t?e:new f(e,t);var s=new XMLHttpRequest,l=!1;s.onreadystatechange=o,s.onload=o,s.onerror=function(){l||(l=!0,r(new TypeError("Network request failed")))},s.open(a.method,a.url,!0);try{"include"===a.credentials&&("withCredentials"in s?s.withCredentials=!0:console&&console.warn&&console.warn("withCredentials is not supported, you can ignore this warning"))}catch(e){console&&console.warn&&console.warn("set withCredentials error:"+e)}"responseType"in s&&d.blob&&(s.responseType="blob"),a.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),s.send(void 0===a._bodyInit?null:a._bodyInit)})},t.fetch.polyfill=!0,e.exports&&(e.exports=t.fetch)}}("undefined"!=typeof self?self:this)},function(e,t){function n(e){return Object.prototype.toString.call(e)}function r(e){return"[object Date]"===n(e)}function i(e){return"[object String]"===n(e)}function o(e){return i(e)&&!isNaN(Date.parse(e))}function a(e){return"number"==typeof e}function s(e){return Date.parse(e)}e.exports={getObjectType:n,isDate:r,isString:i,isDateString:o,parseDateFromString:s,isNumber:a}},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,h=n?-1:1,p=e[t+f];for(f+=h,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=u}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,y=r?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+f>=1?h/l:h*Math.pow(2,1-f),t*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*l-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=y,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+p]=255&a,p+=y,a/=256,u-=8);e[n+p-y]|=128*d}},function(e,t,n){"use strict";function r(e,t){this.layers=e.readFields(i,{},t)}function i(e,t,n){if(3===e){var r=new o(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}var o=n(8);e.exports=r},function(e,t,n){"use strict";function r(e,t){this.x=e,this.y=t}e.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,i=n*this.x+t*this.y;return this.x=r,this.y=i,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.x+n*(this.x-t.x)-r*(this.y-t.y),o=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=i,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(e){return e instanceof r?e:Array.isArray(e)?new r(e[0],e[1]):e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}function x(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t,n){return(T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=P(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function P(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function N(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?V(e):t}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t,n){return t&&Q(e.prototype,t),n&&Q(e,n),e}function K(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?Z(e):t}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e,t,n){return($="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ee(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ee(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=te(e)););return e}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t,n){return t&&ae(e.prototype,t),n&&ae(e,n),e}function le(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?ue(e):t}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e,t,n){return(ce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=fe(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function fe(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=he(e)););return e}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t,n){return t&&ve(e.prototype,t),n&&ve(e,n),e}function be(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?Se(e):t}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e,t,n){return(_e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=we(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function we(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Oe(e)););return e}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t,n){return t&&Ee(e.prototype,t),n&&Ee(e,n),e}function Me(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?Ae(e):t}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Le(e,t,n){return(Le="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=je(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function je(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Re(e)););return e}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Be(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?Ue(e):t}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?We(e):t}function We(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t,n){return t&&$e(e.prototype,t),n&&$e(e,n),e}function tt(e,t){return!t||"object"!==Ke(t)&&"function"!=typeof t?nt(e):t}function nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function it(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ut(e,t,n){return t&&lt(e.prototype,t),n&&lt(e,n),e}function ct(e,t){return!t||"object"!==at(t)&&"function"!=typeof t?ft(e):t}function ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e,t,n){return t&&mt(e.prototype,t),n&&mt(e,n),e}function gt(e){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e,t,n){return t&&St(e.prototype,t),n&&St(e,n),e}function wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xt(e,t,n){return t&&Ot(e.prototype,t),n&&Ot(e,n),e}function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t,n){return t&&Pt(e.prototype,t),n&&Pt(e,n),e}function kt(e,t){return!t||"object"!==Ct(t)&&"function"!=typeof t?Mt(e):t}function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function At(e,t,n){return(At="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Lt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Lt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jt(e)););return e}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nt(e,t)}function Nt(e,t){return(Nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function It(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e,t,n){return t&&Dt(e.prototype,t),n&&Dt(e,n),e}function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e,t,n){return t&&Gt(e.prototype,t),n&&Gt(e,n),e}function Vt(e,t){return!t||"object"!==Bt(t)&&"function"!=typeof t?Ht(e):t}function Ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}function Wt(e,t){return(Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t,n){return t&&Qt(e.prototype,t),n&&Qt(e,n),e}function Kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $t(e,t,n){return t&&Zt(e.prototype,t),n&&Zt(e,n),e}function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rn(e,t,n){return t&&nn(e.prototype,t),n&&nn(e,n),e}function on(e,t){return!t||"object"!==en(t)&&"function"!=typeof t?sn(e):t}function an(e){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ln(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&un(e,t)}function un(e,t){return(un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cn(e){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pn(e,t,n){return t&&hn(e.prototype,t),n&&hn(e,n),e}function yn(e,t){return!t||"object"!==cn(t)&&"function"!=typeof t?mn(e):t}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gn(e,t)}function gn(e,t){return(gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _n(e,t,n){return t&&Sn(e.prototype,t),n&&Sn(e,n),e}function wn(e){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function On(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cn(e,t,n){return t&&xn(e.prototype,t),n&&xn(e,n),e}function Tn(e,t){return!t||"object"!==wn(t)&&"function"!=typeof t?Pn(e):t}function Pn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function En(e,t,n){return(En="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=kn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function kn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Mn(e)););return e}function Mn(e){return(Mn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function An(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ln(e,t)}function Ln(e,t){return(Ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jn(e){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function In(e,t,n){return t&&Nn(e.prototype,t),n&&Nn(e,n),e}function Dn(e,t){return!t||"object"!==jn(t)&&"function"!=typeof t?Fn(e):t}function Fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bn(e){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Un(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gn(e,t)}function Gn(e,t){return(Gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hn(e,t,n){return t&&Vn(e.prototype,t),n&&Vn(e,n),e}function Jn(e){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yn(e,t,n){return t&&Wn(e.prototype,t),n&&Wn(e,n),e}function Qn(e,t){return!t||"object"!==Jn(t)&&"function"!=typeof t?Xn(e):t}function Xn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kn(e,t,n){return(Kn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Zn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Zn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$n(e)););return e}function $n(e){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function er(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tr(e,t)}function tr(e,t){return(tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ir(e,t,n){return t&&rr(e.prototype,t),n&&rr(e,n),e}function or(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sr(e,t,n){return t&&ar(e.prototype,t),n&&ar(e,n),e}function lr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ur(e){return(ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hr(e,t,n){return t&&fr(e.prototype,t),n&&fr(e,n),e}function pr(e,t){return!t||"object"!==ur(t)&&"function"!=typeof t?yr(e):t}function yr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dr(e){return(dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vr(e,t)}function vr(e,t){return(vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function gr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sr(e,t,n){return t&&br(e.prototype,t),n&&br(e,n),e}function _r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Or(e){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tr(e,t,n){return t&&Cr(e.prototype,t),n&&Cr(e,n),e}function Pr(e,t){return!t||"object"!==Or(t)&&"function"!=typeof t?kr(e):t}function Er(e){return(Er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ar(e,t)}function Ar(e,t){return(Ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jr(e){return(jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ir(e,t,n){return t&&Nr(e.prototype,t),n&&Nr(e,n),e}function Dr(e,t){return!t||"object"!==jr(t)&&"function"!=typeof t?Fr(e):t}function Fr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Br(e){return(Br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ur(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gr(e,t)}function Gr(e,t){return(Gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qr(e){return(Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zr(e,t,n){return t&&Kr(e.prototype,t),n&&Kr(e,n),e}function $r(e,t){return!t||"object"!==Qr(t)&&"function"!=typeof t?ei(e):t}function ei(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ti(e){return(ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ni(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ri(e,t)}function ri(e,t){return(ri=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function ii(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ai(e,t,n){return t&&oi(e.prototype,t),n&&oi(e,n),e}function si(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function li(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ui(e,t,n){return t&&li(e.prototype,t),n&&li(e,n),e}function ci(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hi(e,t,n){return t&&fi(e.prototype,t),n&&fi(e,n),e}function pi(e){return(pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function di(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mi(e,t,n){return t&&di(e.prototype,t),n&&di(e,n),e}function vi(e,t){return!t||"object"!==pi(t)&&"function"!=typeof t?gi(e):t}function gi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bi(e,t,n){return(bi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Si(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Si(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_i(e)););return e}function _i(e){return(_i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oi(e,t)}function Oi(e,t){return(Oi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ti(e,t,n){return t&&Ci(e.prototype,t),n&&Ci(e,n),e}function Pi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ki(e,t,n){return t&&Ei(e.prototype,t),n&&Ei(e,n),e}function Mi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Li(e,t,n){return t&&Ai(e.prototype,t),n&&Ai(e,n),e}function ji(e){return(ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ri(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ni(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ii(e,t,n){return t&&Ni(e.prototype,t),n&&Ni(e,n),e}function Di(e,t){return!t||"object"!==ji(t)&&"function"!=typeof t?Fi(e):t}function Fi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bi(e,t,n){return(Bi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ui(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ui(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gi(e)););return e}function Gi(e){return(Gi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vi(e,t)}function Vi(e,t){return(Vi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hi(e){return(Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ji(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wi(e,t,n){return t&&qi(e.prototype,t),n&&qi(e,n),e}function Yi(e,t){return!t||"object"!==Hi(t)&&"function"!=typeof t?Qi(e):t}function Qi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xi(e,t,n){return(Xi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ki(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ki(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Zi(e)););return e}function Zi(e){return(Zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eo(e,t)}function eo(e,t){return(eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function to(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function no(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ro(e,t,n){return t&&no(e.prototype,t),n&&no(e,n),e}function io(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ao(e,t,n){return t&&oo(e.prototype,t),n&&oo(e,n),e}function so(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uo(e,t,n){return t&&lo(e.prototype,t),n&&lo(e,n),e}function co(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ho(e,t,n){return t&&fo(e.prototype,t),n&&fo(e,n),e}function po(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mo(e,t,n){return t&&yo(e.prototype,t),n&&yo(e,n),e}function vo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bo(e,t,n){return t&&go(e.prototype,t),n&&go(e,n),e}function So(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wo(e,t,n){return t&&_o(e.prototype,t),n&&_o(e,n),e}function Oo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Co(e,t,n){return t&&xo(e.prototype,t),n&&xo(e,n),e}function To(e){return(To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Po(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ko(e,t,n){return t&&Eo(e.prototype,t),n&&Eo(e,n),e}function Mo(e,t){return!t||"object"!==To(t)&&"function"!=typeof t?Ao(e):t}function Ao(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lo(e,t,n){return(Lo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=jo(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function jo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ro(e)););return e}function Ro(e){return(Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function No(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Io(e,t)}function Io(e,t){return(Io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Do(e){return(Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uo(e,t,n){return t&&Bo(e.prototype,t),n&&Bo(e,n),e}function Go(e,t){return!t||"object"!==Do(t)&&"function"!=typeof t?zo(e):t}function zo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vo(e,t,n){return(Vo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ho(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ho(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Jo(e)););return e}function Jo(e){return(Jo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wo(e,t)}function Wo(e,t){return(Wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yo(e){return(Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ko(e,t,n){return t&&Xo(e.prototype,t),n&&Xo(e,n),e}function Zo(e,t){return!t||"object"!==Yo(t)&&"function"!=typeof t?$o(e):t}function $o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ea(e,t,n){return(ea="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ta(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ta(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=na(e)););return e}function na(e){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ra(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ia(e,t)}function ia(e,t){return(ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sa(e,t,n){return t&&aa(e.prototype,t),n&&aa(e,n),e}function la(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ua(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ca(e,t,n){return t&&ua(e.prototype,t),n&&ua(e,n),e}function fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ha(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pa(e,t,n){return t&&ha(e.prototype,t),n&&ha(e,n),e}function ya(e){return(ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function da(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function va(e,t,n){return t&&ma(e.prototype,t),n&&ma(e,n),e}function ga(e,t){return!t||"object"!==ya(t)&&"function"!=typeof t?ba(e):t}function ba(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sa(e,t,n){return(Sa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_a(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _a(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wa(e)););return e}function wa(e){return(wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xa(e,t)}function xa(e,t){return(xa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ca(e){return(Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ta(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ea(e,t,n){return t&&Pa(e.prototype,t),n&&Pa(e,n),e}function ka(e,t){return!t||"object"!==Ca(t)&&"function"!=typeof t?Ma(e):t}function Ma(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Aa(e,t,n){return(Aa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=La(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function La(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ja(e)););return e}function ja(e){return(ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ra(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Na(e,t)}function Na(e,t){return(Na=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ia(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fa(e,t,n){return t&&Da(e.prototype,t),n&&Da(e,n),e}function Ba(e){return(Ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ua(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function za(e,t,n){return t&&Ga(e.prototype,t),n&&Ga(e,n),e}function Va(e,t){return!t||"object"!==Ba(t)&&"function"!=typeof t?Ha(e):t}function Ha(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ja(e,t,n){return(Ja="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=qa(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function qa(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Wa(e)););return e}function Wa(e){return(Wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ya(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qa(e,t)}function Qa(e,t){return(Qa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xa(e){return(Xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ka(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Za(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $a(e,t,n){return t&&Za(e.prototype,t),n&&Za(e,n),e}function es(e,t){return!t||"object"!==Xa(t)&&"function"!=typeof t?ts(e):t}function ts(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ns(e,t,n){return(ns="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=rs(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function rs(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=is(e)););return e}function is(e){return(is=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function os(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&as(e,t)}function as(e,t){return(as=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ss(e){return(ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ls(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function us(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cs(e,t,n){return t&&us(e.prototype,t),n&&us(e,n),e}function fs(e,t){return!t||"object"!==ss(t)&&"function"!=typeof t?hs(e):t}function hs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ps(e,t,n){return(ps="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ys(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ys(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ds(e)););return e}function ds(e){return(ds=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ms(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vs(e,t)}function vs(e,t){return(vs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ss(e,t,n){return t&&bs(e.prototype,t),n&&bs(e,n),e}function _s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ws(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Os(e,t,n){return t&&ws(e.prototype,t),n&&ws(e,n),e}function xs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ts(e,t,n){return t&&Cs(e.prototype,t),n&&Cs(e,n),e}function Ps(e){return(Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Es(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ks(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ms(e,t,n){return t&&ks(e.prototype,t),n&&ks(e,n),e}function As(e,t){return!t||"object"!==Ps(t)&&"function"!=typeof t?js(e):t}function Ls(e){return(Ls=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function js(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ns(e,t)}function Ns(e,t){return(Ns=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Is(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fs(e,t,n){return t&&Ds(e.prototype,t),n&&Ds(e,n),e}function Bs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Us(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gs(e,t,n){return t&&Us(e.prototype,t),n&&Us(e,n),e}function zs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hs(e,t,n){return t&&Vs(e.prototype,t),n&&Vs(e,n),e}function Js(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ws(e,t,n){return t&&qs(e.prototype,t),n&&qs(e,n),e}function Ys(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xs(e,t,n){return t&&Qs(e.prototype,t),n&&Qs(e,n),e}function Ks(e){return(Ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function el(e,t,n){return t&&$s(e.prototype,t),n&&$s(e,n),e}function tl(e,t){return!t||"object"!==Ks(t)&&"function"!=typeof t?nl(e):t}function nl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rl(e,t,n){return(rl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=il(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function il(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ol(e)););return e}function ol(e){return(ol=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function al(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sl(e,t)}function sl(e,t){return(sl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ll(e){return(ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ul(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fl(e,t,n){return t&&cl(e.prototype,t),n&&cl(e,n),e}function hl(e,t){return!t||"object"!==ll(t)&&"function"!=typeof t?yl(e):t}function pl(e){return(pl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ml(e,t)}function ml(e,t){return(ml=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bl(e,t,n){return t&&gl(e.prototype,t),n&&gl(e,n),e}function Sl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wl(e,t,n){return t&&_l(e.prototype,t),n&&_l(e,n),e}function Ol(e){return(Ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tl(e,t,n){return t&&Cl(e.prototype,t),n&&Cl(e,n),e}function Pl(e,t){return!t||"object"!==Ol(t)&&"function"!=typeof t?El(e):t}function El(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kl(e,t,n){return(kl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ml(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ml(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Al(e)););return e}function Al(e){return(Al=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ll(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jl(e,t)}function jl(e,t){return(jl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Il(e,t,n){return t&&Nl(e.prototype,t),n&&Nl(e,n),e}function Dl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bl(e,t,n){return t&&Fl(e.prototype,t),n&&Fl(e,n),e}function Ul(e){return(Ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gl(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vl(e,t,n){return t&&zl(e.prototype,t),n&&zl(e,n),e}function Hl(e,t){return!t||"object"!==Ul(t)&&"function"!=typeof t?Jl(e):t}function Jl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ql(e,t,n){return(ql="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Wl(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Wl(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Yl(e)););return e}function Yl(e){return(Yl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ql(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xl(e,t)}function Xl(e,t){return(Xl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $l(e,t,n){return t&&Zl(e.prototype,t),n&&Zl(e,n),e}function eu(e){return(eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ru(e,t,n){return t&&nu(e.prototype,t),n&&nu(e,n),e}function iu(e,t){return!t||"object"!==eu(t)&&"function"!=typeof t?ou(e):t}function ou(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function au(e,t,n){return(au="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=su(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function su(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=lu(e)););return e}function lu(e){return(lu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cu(e,t)}function cu(e,t){return(cu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pu(e,t,n){return t&&hu(e.prototype,t),n&&hu(e,n),e}function yu(e){return(yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function du(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vu(e,t,n){return t&&mu(e.prototype,t),n&&mu(e,n),e}function gu(e,t){return!t||"object"!==yu(t)&&"function"!=typeof t?bu(e):t}function bu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Su(e,t,n){return(Su="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_u(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _u(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wu(e)););return e}function wu(e){return(wu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ou(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xu(e,t)}function xu(e,t){return(xu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pu(e,t,n){return t&&Tu(e.prototype,t),n&&Tu(e,n),e}function Eu(e){return(Eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ku(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Au(e,t,n){return t&&Mu(e.prototype,t),n&&Mu(e,n),e}function Lu(e,t){return!t||"object"!==Eu(t)&&"function"!=typeof t?ju(e):t}function ju(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ru(e,t,n){return(Ru="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Nu(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Nu(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Iu(e)););return e}function Iu(e){return(Iu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Du(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fu(e,t)}function Fu(e,t){return(Fu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gu(e,t,n){return t&&Uu(e.prototype,t),n&&Uu(e,n),e}function zu(e){return(zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ju(e,t,n){return t&&Hu(e.prototype,t),n&&Hu(e,n),e}function qu(e,t){return!t||"object"!==zu(t)&&"function"!=typeof t?Wu(e):t}function Wu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yu(e,t,n){return(Yu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Qu(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Qu(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xu(e)););return e}function Xu(e){return(Xu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ku(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zu(e,t)}function Zu(e,t){return(Zu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $u(e){return($u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ec(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nc(e,t,n){return t&&tc(e.prototype,t),n&&tc(e,n),e}function rc(e,t){return!t||"object"!==$u(t)&&"function"!=typeof t?ic(e):t}function ic(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oc(e){return(oc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ac(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sc(e,t)}function sc(e,t){return(sc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lc(e){return(lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fc(e,t,n){return t&&cc(e.prototype,t),n&&cc(e,n),e}function hc(e,t){return!t||"object"!==lc(t)&&"function"!=typeof t?pc(e):t}function pc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yc(e,t,n){return(yc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=dc(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function dc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mc(e)););return e}function mc(e){return(mc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gc(e,t)}function gc(e,t){return(gc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bc(e){return(bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wc(e,t,n){return t&&_c(e.prototype,t),n&&_c(e,n),e}function Oc(e,t){return!t||"object"!==bc(t)&&"function"!=typeof t?xc(e):t}function xc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cc(e,t,n){return(Cc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Tc(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Tc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Pc(e)););return e}function Pc(e){return(Pc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ec(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kc(e,t)}function kc(e,t){return(kc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ac(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lc(e,t,n){return t&&Ac(e.prototype,t),n&&Ac(e,n),e}function jc(e){return(jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ic(e,t,n){return t&&Nc(e.prototype,t),n&&Nc(e,n),e}function Dc(e,t){return!t||"object"!==jc(t)&&"function"!=typeof t?Fc(e):t}function Fc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bc(e,t,n){return(Bc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Uc(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Uc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gc(e)););return e}function Gc(e){return(Gc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vc(e,t)}function Vc(e,t){return(Vc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hc(e){return(Hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wc(e,t,n){return t&&qc(e.prototype,t),n&&qc(e,n),e}function Yc(e,t){return!t||"object"!==Hc(t)&&"function"!=typeof t?Qc(e):t}function Qc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xc(e,t,n){return(Xc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Kc(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Kc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Zc(e)););return e}function Zc(e){return(Zc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ef(e,t)}function ef(e,t){return(ef=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tf(e){return(tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function of(e,t,n){return t&&rf(e.prototype,t),n&&rf(e,n),e}function af(e,t){return!t||"object"!==tf(t)&&"function"!=typeof t?sf(e):t}function sf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lf(e,t,n){return(lf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=uf(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function uf(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=cf(e)););return e}function cf(e){return(cf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ff(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hf(e,t)}function hf(e,t){return(hf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pf(e){return(pf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function df(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mf(e,t,n){return t&&df(e.prototype,t),n&&df(e,n),e}function vf(e,t){return!t||"object"!==pf(t)&&"function"!=typeof t?gf(e):t}function gf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bf(e,t,n){return(bf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Sf(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Sf(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_f(e)););return e}function _f(e){return(_f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Of(e,t)}function Of(e,t){return(Of=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xf(e){return(xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pf(e,t,n){return t&&Tf(e.prototype,t),n&&Tf(e,n),e}function Ef(e,t){return!t||"object"!==xf(t)&&"function"!=typeof t?kf(e):t}function kf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mf(e,t,n){return(Mf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Af(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Af(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Lf(e)););return e}function Lf(e){return(Lf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rf(e,t)}function Rf(e,t){return(Rf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nf(e){return(Nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function If(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Df(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ff(e,t,n){return t&&Df(e.prototype,t),n&&Df(e,n),e}function Bf(e,t){return!t||"object"!==Nf(t)&&"function"!=typeof t?Uf(e):t}function Uf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gf(e,t,n){return(Gf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=zf(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function zf(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Vf(e)););return e}function Vf(e){return(Vf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jf(e,t)}function Jf(e,t){return(Jf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qf(e){return(qf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qf(e,t,n){return t&&Yf(e.prototype,t),n&&Yf(e,n),e}function Xf(e,t){return!t||"object"!==qf(t)&&"function"!=typeof t?Kf(e):t}function Kf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zf(e,t,n){return(Zf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=$f(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function $f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=eh(e)););return e}function eh(e){return(eh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function th(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nh(e,t)}function nh(e,t){return(nh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rh(e){return(rh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ih(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ah(e,t,n){return t&&oh(e.prototype,t),n&&oh(e,n),e}function sh(e,t){return!t||"object"!==rh(t)&&"function"!=typeof t?lh(e):t}function lh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uh(e,t,n){return(uh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ch(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ch(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fh(e)););return e}function fh(e){return(fh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ph(e,t)}function ph(e,t){return(ph=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mh(e,t,n){return t&&dh(e.prototype,t),n&&dh(e,n),e}function vh(e){return(vh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sh(e,t,n){return t&&bh(e.prototype,t),n&&bh(e,n),e}function _h(e,t){return!t||"object"!==vh(t)&&"function"!=typeof t?Oh(e):t}function wh(e){return(wh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ch(e,t)}function Ch(e,t){return(Ch=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Th(e){return(Th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ph(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kh(e,t,n){return t&&Eh(e.prototype,t),n&&Eh(e,n),e}function Mh(e,t){return!t||"object"!==Th(t)&&"function"!=typeof t?Ah(e):t}function Ah(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lh(e,t,n){return(Lh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=jh(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function jh(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Rh(e)););return e}function Rh(e){return(Rh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ih(e,t)}function Ih(e,t){return(Ih=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bh(e,t,n){return t&&Fh(e.prototype,t),n&&Fh(e,n),e}function Uh(e){return(Uh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vh(e,t,n){return t&&zh(e.prototype,t),n&&zh(e,n),e}function Hh(e,t){return!t||"object"!==Uh(t)&&"function"!=typeof t?Jh(e):t}function Jh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qh(e,t,n){return(qh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Wh(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Wh(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Yh(e)););return e}function Yh(e){return(Yh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xh(e,t)}function Xh(e,t){return(Xh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $h(e,t,n){return t&&Zh(e.prototype,t),n&&Zh(e,n),e}function ep(e){return(ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function np(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rp(e,t,n){return t&&np(e.prototype,t),n&&np(e,n),e}function ip(e,t){return!t||"object"!==ep(t)&&"function"!=typeof t?op(e):t}function op(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ap(e,t,n){return(ap="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=sp(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function sp(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=lp(e)););return e}function lp(e){return(lp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function up(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cp(e,t)}function cp(e,t){return(cp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
function hp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pp(e,t,n){return t&&hp(e.prototype,t),n&&hp(e,n),e}function yp(e){return(yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vp(e,t,n){return t&&mp(e.prototype,t),n&&mp(e,n),e}function gp(e,t){return!t||"object"!==yp(t)&&"function"!=typeof t?bp(e):t}function bp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sp(e,t,n){return(Sp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_p(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _p(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wp(e)););return e}function wp(e){return(wp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Op(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xp(e,t)}function xp(e,t){return(xp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pp(e,t,n){return t&&Tp(e.prototype,t),n&&Tp(e,n),e}function Ep(e){return(Ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ap(e,t,n){return t&&Mp(e.prototype,t),n&&Mp(e,n),e}function Lp(e,t){return!t||"object"!==Ep(t)&&"function"!=typeof t?jp(e):t}function jp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rp(e,t,n){return(Rp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Np(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Np(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ip(e)););return e}function Ip(e){return(Ip=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fp(e,t)}function Fp(e,t){return(Fp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Up(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gp(e,t,n){return t&&Up(e.prototype,t),n&&Up(e,n),e}function zp(e){return(zp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jp(e,t,n){return t&&Hp(e.prototype,t),n&&Hp(e,n),e}function qp(e,t){return!t||"object"!==zp(t)&&"function"!=typeof t?Wp(e):t}function Wp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yp(e,t,n){return(Yp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Qp(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Qp(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xp(e)););return e}function Xp(e){return(Xp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zp(e,t)}function Zp(e,t){return(Zp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ey(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ty(e,t,n){return t&&ey(e.prototype,t),n&&ey(e,n),e}function ny(e){return(ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ry(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oy(e,t,n){return t&&iy(e.prototype,t),n&&iy(e,n),e}function ay(e,t){return!t||"object"!==ny(t)&&"function"!=typeof t?sy(e):t}function sy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ly(e,t,n){return(ly="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=uy(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function uy(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=cy(e)););return e}function cy(e){return(cy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fy(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hy(e,t)}function hy(e,t){return(hy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function py(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dy(e,t,n){return t&&yy(e.prototype,t),n&&yy(e,n),e}function my(e){return(my="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function by(e,t,n){return t&&gy(e.prototype,t),n&&gy(e,n),e}function Sy(e,t){return!t||"object"!==my(t)&&"function"!=typeof t?_y(e):t}function _y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wy(e,t,n){return(wy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Oy(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Oy(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xy(e)););return e}function xy(e){return(xy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cy(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ty(e,t)}function Ty(e,t){return(Ty=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Py(e){return(Py="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ey(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ky(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function My(e,t,n){return t&&ky(e.prototype,t),n&&ky(e,n),e}function Ay(e,t){return!t||"object"!==Py(t)&&"function"!=typeof t?Ly(e):t}function Ly(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jy(e,t,n){return(jy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ry(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ry(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ny(e)););return e}function Ny(e){return(Ny=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Iy(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dy(e,t)}function Dy(e,t){return(Dy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fy(e){return(Fy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function By(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gy(e,t,n){return t&&Uy(e.prototype,t),n&&Uy(e,n),e}function zy(e,t){return!t||"object"!==Fy(t)&&"function"!=typeof t?Vy(e):t}function Vy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hy(e,t,n){return(Hy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Jy(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Jy(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qy(e)););return e}function qy(e){return(qy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wy(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yy(e,t)}function Yy(e,t){return(Yy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qy(e){return(Qy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ky(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zy(e,t,n){return t&&Ky(e.prototype,t),n&&Ky(e,n),e}function $y(e,t){return!t||"object"!==Qy(t)&&"function"!=typeof t?ed(e):t}function ed(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function td(e,t,n){return(td="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=nd(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function nd(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=rd(e)););return e}function rd(e){return(rd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function id(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&od(e,t)}function od(e,t){return(od=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ad(e){return(ad="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ld(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ud(e,t,n){return t&&ld(e.prototype,t),n&&ld(e,n),e}function cd(e,t){return!t||"object"!==ad(t)&&"function"!=typeof t?fd(e):t}function fd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hd(e,t,n){return(hd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=pd(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function pd(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yd(e)););return e}function yd(e){return(yd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&md(e,t)}function md(e,t){return(md=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vd(e){return(vd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sd(e,t,n){return t&&bd(e.prototype,t),n&&bd(e,n),e}function _d(e,t){return!t||"object"!==vd(t)&&"function"!=typeof t?wd(e):t}function wd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Od(e,t,n){return(Od="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=xd(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function xd(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Cd(e)););return e}function Cd(e){return(Cd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Td(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pd(e,t)}function Pd(e,t){return(Pd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ed(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Md(e,t,n){return t&&kd(e.prototype,t),n&&kd(e,n),e}function Ad(e){return(Ad="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ld(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rd(e,t,n){return t&&jd(e.prototype,t),n&&jd(e,n),e}function Nd(e,t){return!t||"object"!==Ad(t)&&"function"!=typeof t?Id(e):t}function Id(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dd(e,t,n){return(Dd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Fd(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Fd(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Bd(e)););return e}function Bd(e){return(Bd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ud(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gd(e,t)}function Gd(e,t){return(Gd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hd(e,t,n){return t&&Vd(e.prototype,t),n&&Vd(e,n),e}function Jd(e){return(Jd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yd(e,t,n){return t&&Wd(e.prototype,t),n&&Wd(e,n),e}function Qd(e,t){return!t||"object"!==Jd(t)&&"function"!=typeof t?Xd(e):t}function Xd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kd(e,t,n){return(Kd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Zd(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Zd(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$d(e)););return e}function $d(e){return($d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function em(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tm(e,t)}function tm(e,t){return(tm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nm(e){return(nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function im(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function om(e,t,n){return t&&im(e.prototype,t),n&&im(e,n),e}function am(e,t){return!t||"object"!==nm(t)&&"function"!=typeof t?sm(e):t}function sm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lm(e,t,n){return(lm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=um(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function um(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=cm(e)););return e}function cm(e){return(cm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fm(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hm(e,t)}function hm(e,t){return(hm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pm(e){return(pm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ym(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mm(e,t,n){return t&&dm(e.prototype,t),n&&dm(e,n),e}function vm(e,t){return!t||"object"!==pm(t)&&"function"!=typeof t?gm(e):t}function gm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bm(e,t,n){return(bm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Sm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Sm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_m(e)););return e}function _m(e){return(_m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wm(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Om(e,t)}function Om(e,t){return(Om=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xm(e){return(xm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pm(e,t,n){return t&&Tm(e.prototype,t),n&&Tm(e,n),e}function Em(e,t){return!t||"object"!==xm(t)&&"function"!=typeof t?km(e):t}function km(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mm(e,t,n){return(Mm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Am(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Am(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Lm(e)););return e}function Lm(e){return(Lm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jm(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rm(e,t)}function Rm(e,t){return(Rm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nm(e){return(Nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Im(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fm(e,t,n){return t&&Dm(e.prototype,t),n&&Dm(e,n),e}function Bm(e,t){return!t||"object"!==Nm(t)&&"function"!=typeof t?Um(e):t}function Um(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gm(e,t,n){return(Gm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=zm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function zm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Vm(e)););return e}function Vm(e){return(Vm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hm(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jm(e,t)}function Jm(e,t){return(Jm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qm(e){return(qm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ym(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qm(e,t,n){return t&&Ym(e.prototype,t),n&&Ym(e,n),e}function Xm(e,t){return!t||"object"!==qm(t)&&"function"!=typeof t?Km(e):t}function Km(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zm(e,t,n){return(Zm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=$m(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function $m(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ev(e)););return e}function ev(e){return(ev=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nv(e,t)}function nv(e,t){return(nv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rv(e){return(rv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ov(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function av(e,t,n){return t&&ov(e.prototype,t),n&&ov(e,n),e}function sv(e,t){return!t||"object"!==rv(t)&&"function"!=typeof t?lv(e):t}function lv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uv(e,t,n){return(uv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=cv(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function cv(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fv(e)););return e}function fv(e){return(fv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pv(e,t)}function pv(e,t){return(pv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yv(e){return(yv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vv(e,t,n){return t&&mv(e.prototype,t),n&&mv(e,n),e}function gv(e,t){return!t||"object"!==yv(t)&&"function"!=typeof t?bv(e):t}function bv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sv(e,t,n){return(Sv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_v(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _v(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wv(e)););return e}function wv(e){return(wv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ov(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xv(e,t)}function xv(e,t){return(xv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cv(e){return(Cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ev(e,t,n){return t&&Pv(e.prototype,t),n&&Pv(e,n),e}function kv(e,t){return!t||"object"!==Cv(t)&&"function"!=typeof t?Mv(e):t}function Mv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Av(e,t,n){return(Av="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Lv(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Lv(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jv(e)););return e}function jv(e){return(jv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nv(e,t)}function Nv(e,t){return(Nv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Iv(e){return(Iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bv(e,t,n){return t&&Fv(e.prototype,t),n&&Fv(e,n),e}function Uv(e,t){return!t||"object"!==Iv(t)&&"function"!=typeof t?Gv(e):t}function Gv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zv(e,t,n){return(zv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Vv(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Vv(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Hv(e)););return e}function Hv(e){return(Hv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qv(e,t)}function qv(e,t){return(qv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wv(e){return(Wv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xv(e,t,n){return t&&Qv(e.prototype,t),n&&Qv(e,n),e}function Kv(e,t){return!t||"object"!==Wv(t)&&"function"!=typeof t?Zv(e):t}function Zv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $v(e,t,n){return($v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=eg(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function eg(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tg(e)););return e}function tg(e){return(tg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ng(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rg(e,t)}function rg(e,t){return(rg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ig(e){return(ig="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function og(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ag(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sg(e,t,n){return t&&ag(e.prototype,t),n&&ag(e,n),e}function lg(e,t){return!t||"object"!==ig(t)&&"function"!=typeof t?ug(e):t}function ug(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cg(e,t,n){return(cg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=fg(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function fg(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hg(e)););return e}function hg(e){return(hg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pg(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yg(e,t)}function yg(e,t){return(yg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vg(e,t,n){return t&&mg(e.prototype,t),n&&mg(e,n),e}function gg(e){return(gg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _g(e,t,n){return t&&Sg(e.prototype,t),n&&Sg(e,n),e}function wg(e,t){return!t||"object"!==gg(t)&&"function"!=typeof t?Og(e):t}function Og(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xg(e,t,n){return(xg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Cg(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Cg(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Tg(e)););return e}function Tg(e){return(Tg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pg(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eg(e,t)}function Eg(e,t){return(Eg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ag(e,t,n){return t&&Mg(e.prototype,t),n&&Mg(e,n),e}function Lg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rg(e,t,n){return t&&jg(e.prototype,t),n&&jg(e,n),e}function Ng(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ig(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dg(e,t,n){return t&&Ig(e.prototype,t),n&&Ig(e,n),e}function Fg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ug(e,t,n){return t&&Bg(e.prototype,t),n&&Bg(e,n),e}function Gg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vg(e,t,n){return t&&zg(e.prototype,t),n&&zg(e,n),e}function Hg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qg(e,t,n){return t&&Jg(e.prototype,t),n&&Jg(e,n),e}function Wg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qg(e,t,n){return t&&Yg(e.prototype,t),n&&Yg(e,n),e}function Xg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zg(e,t,n){return t&&Kg(e.prototype,t),n&&Kg(e,n),e}function $g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tb(e,t,n){return t&&eb(e.prototype,t),n&&eb(e,n),e}function nb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ib(e,t,n){return t&&rb(e.prototype,t),n&&rb(e,n),e}function ob(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ab(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sb(e,t,n){return t&&ab(e.prototype,t),n&&ab(e,n),e}function lb(e){return(lb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ub(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fb(e,t,n){return t&&cb(e.prototype,t),n&&cb(e,n),e}function hb(e,t){return!t||"object"!==lb(t)&&"function"!=typeof t?pb(e):t}function pb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yb(e,t,n){return(yb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=db(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function db(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mb(e)););return e}function mb(e){return(mb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vb(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gb(e,t)}function gb(e,t){return(gb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bb(e){return(bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wb(e,t,n){return t&&_b(e.prototype,t),n&&_b(e,n),e}function Ob(e,t){return!t||"object"!==bb(t)&&"function"!=typeof t?xb(e):t}function xb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cb(e,t,n){return(Cb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Tb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Tb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Pb(e)););return e}function Pb(e){return(Pb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Eb(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kb(e,t)}function kb(e,t){return(kb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ab(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lb(e,t,n){return t&&Ab(e.prototype,t),n&&Ab(e,n),e}function jb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nb(e,t,n){return t&&Rb(e.prototype,t),n&&Rb(e,n),e}function Ib(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Db(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fb(e,t,n){return t&&Db(e.prototype,t),n&&Db(e,n),e}function Bb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ub(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gb(e,t,n){return t&&Ub(e.prototype,t),n&&Ub(e,n),e}function zb(e){return(zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jb(e,t,n){return t&&Hb(e.prototype,t),n&&Hb(e,n),e}function qb(e,t){return!t||"object"!==zb(t)&&"function"!=typeof t?Wb(e):t}function Wb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yb(e,t,n){return(Yb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Qb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Qb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xb(e)););return e}function Xb(e){return(Xb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kb(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zb(e,t)}function Zb(e,t){return(Zb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $b(e){return($b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nS(e,t,n){return t&&tS(e.prototype,t),n&&tS(e,n),e}function rS(e,t){return!t||"object"!==$b(t)&&"function"!=typeof t?oS(e):t}function iS(e){return(iS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aS(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sS(e,t)}function sS(e,t){return(sS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cS(e,t,n){return t&&uS(e.prototype,t),n&&uS(e,n),e}function fS(e){return(fS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yS(e,t,n){return t&&pS(e.prototype,t),n&&pS(e,n),e}function dS(e,t){return!t||"object"!==fS(t)&&"function"!=typeof t?mS(e):t}function mS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vS(e,t,n){return(vS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=gS(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function gS(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=bS(e)););return e}function bS(e){return(bS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SS(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_S(e,t)}function _S(e,t){return(_S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xS(e,t,n){return t&&OS(e.prototype,t),n&&OS(e,n),e}function CS(e){return(CS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ES(e,t,n){return t&&PS(e.prototype,t),n&&PS(e,n),e}function kS(e,t){return!t||"object"!==CS(t)&&"function"!=typeof t?MS(e):t}function MS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AS(e,t,n){return(AS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=LS(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function LS(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jS(e)););return e}function jS(e){return(jS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RS(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NS(e,t)}function NS(e,t){return(NS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function IS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function FS(e,t,n){return t&&DS(e.prototype,t),n&&DS(e,n),e}function BS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function US(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GS(e,t,n){return t&&US(e.prototype,t),n&&US(e,n),e}function zS(e){return(zS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function JS(e,t,n){return t&&HS(e.prototype,t),n&&HS(e,n),e}function qS(e,t){return!t||"object"!==zS(t)&&"function"!=typeof t?WS(e):t}function WS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YS(e,t,n){return(YS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=QS(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function QS(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=XS(e)););return e}function XS(e){return(XS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function KS(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZS(e,t)}function ZS(e,t){return(ZS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $S(e){return($S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n_(e,t,n){return t&&t_(e.prototype,t),n&&t_(e,n),e}function r_(e,t){return!t||"object"!==$S(t)&&"function"!=typeof t?i_(e):t}function i_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o_(e,t,n){return(o_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=a_(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s_(e)););return e}function s_(e){return(s_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u_(e,t)}function u_(e,t){return(u_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c_(e){return(c_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p_(e,t,n){return t&&h_(e.prototype,t),n&&h_(e,n),e}function y_(e,t){return!t||"object"!==c_(t)&&"function"!=typeof t?d_(e):t}function d_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m_(e,t,n){return(m_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=v_(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function v_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g_(e)););return e}function g_(e){return(g_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S_(e,t)}function S_(e,t){return(S_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function __(e){return(__="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x_(e,t,n){return t&&O_(e.prototype,t),n&&O_(e,n),e}function C_(e,t){return!t||"object"!==__(t)&&"function"!=typeof t?T_(e):t}function T_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P_(e,t,n){return(P_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=E_(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function E_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k_(e)););return e}function k_(e){return(k_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A_(e,t)}function A_(e,t){return(A_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L_(e){return(L_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N_(e,t,n){return t&&R_(e.prototype,t),n&&R_(e,n),e}function I_(e,t){return!t||"object"!==L_(t)&&"function"!=typeof t?D_(e):t}function D_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F_(e,t,n){return(F_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=B_(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function B_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=U_(e)););return e}function U_(e){return(U_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z_(e,t)}function z_(e,t){return(z_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V_(e){return(V_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q_(e,t,n){return t&&J_(e.prototype,t),n&&J_(e,n),e}function W_(e,t){return!t||"object"!==V_(t)&&"function"!=typeof t?Y_(e):t}function Y_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q_(e,t,n){return(Q_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=X_(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function X_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=K_(e)););return e}function K_(e){return(K_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$_(e,t)}function $_(e,t){return($_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ew(e){return(ew="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rw(e,t,n){return t&&nw(e.prototype,t),n&&nw(e,n),e}function iw(e,t){return!t||"object"!==ew(t)&&"function"!=typeof t?ow(e):t}function ow(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aw(e,t,n){return(aw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=sw(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function sw(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=lw(e)););return e}function lw(e){return(lw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uw(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cw(e,t)}function cw(e,t){return(cw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pw(e,t,n){return t&&hw(e.prototype,t),n&&hw(e,n),e}function yw(e){return(yw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vw(e,t,n){return t&&mw(e.prototype,t),n&&mw(e,n),e}function gw(e,t){return!t||"object"!==yw(t)&&"function"!=typeof t?bw(e):t}function bw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sw(e,t,n){return(Sw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_w(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _w(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ww(e)););return e}function ww(e){return(ww=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ow(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xw(e,t)}function xw(e,t){return(xw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cw(e){return(Cw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ew(e,t,n){return t&&Pw(e.prototype,t),n&&Pw(e,n),e}function kw(e,t){return!t||"object"!==Cw(t)&&"function"!=typeof t?Mw(e):t}function Mw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Aw(e,t,n){return(Aw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Lw(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Lw(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jw(e)););return e}function jw(e){return(jw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rw(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nw(e,t)}function Nw(e,t){return(Nw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Iw(e){return(Iw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bw(e,t,n){return t&&Fw(e.prototype,t),n&&Fw(e,n),e}function Uw(e,t){return!t||"object"!==Iw(t)&&"function"!=typeof t?Gw(e):t}function Gw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zw(e,t,n){return(zw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Vw(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Vw(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Hw(e)););return e}function Hw(e){return(Hw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jw(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qw(e,t)}function qw(e,t){return(qw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ww(e){return(Ww="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xw(e,t,n){return t&&Qw(e.prototype,t),n&&Qw(e,n),e}function Kw(e,t){return!t||"object"!==Ww(t)&&"function"!=typeof t?Zw(e):t}function Zw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $w(e,t,n){return($w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=eO(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function eO(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tO(e)););return e}function tO(e){return(tO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nO(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rO(e,t)}function rO(e,t){return(rO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function iO(e){return(iO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sO(e,t,n){return t&&aO(e.prototype,t),n&&aO(e,n),e}function lO(e,t){return!t||"object"!==iO(t)&&"function"!=typeof t?uO(e):t}function uO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cO(e,t,n){return(cO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=fO(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function fO(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hO(e)););return e}function hO(e){return(hO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pO(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yO(e,t)}function yO(e,t){return(yO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vO(e,t,n){return t&&mO(e.prototype,t),n&&mO(e,n),e}function gO(e){return(gO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _O(e,t,n){return t&&SO(e.prototype,t),n&&SO(e,n),e}function wO(e,t){return!t||"object"!==gO(t)&&"function"!=typeof t?OO(e):t}function OO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xO(e,t,n){return(xO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=CO(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function CO(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=TO(e)););return e}function TO(e){return(TO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PO(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EO(e,t)}function EO(e,t){return(EO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MO(e){return(MO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jO(e,t,n){return t&&LO(e.prototype,t),n&&LO(e,n),e}function RO(e,t){return!t||"object"!==MO(t)&&"function"!=typeof t?IO(e):t}function NO(e){return(NO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function IO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DO(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FO(e,t)}function FO(e,t){return(FO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function BO(e){return(BO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zO(e,t,n){return t&&GO(e.prototype,t),n&&GO(e,n),e}function VO(e,t){return!t||"object"!==BO(t)&&"function"!=typeof t?JO(e):t}function HO(e){return(HO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function JO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qO(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WO(e,t)}function WO(e,t){return(WO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function YO(e){return(YO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KO(e,t,n){return t&&XO(e.prototype,t),n&&XO(e,n),e}function ZO(e,t){return!t||"object"!==YO(t)&&"function"!=typeof t?ex(e):t}function $O(e){return($O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ex(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nx(e,t)}function nx(e,t){return(nx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ix(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ox(e,t,n){return t&&ix(e.prototype,t),n&&ix(e,n),e}function ax(e){return(ax="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ux(e,t,n){return t&&lx(e.prototype,t),n&&lx(e,n),e}function cx(e,t){return!t||"object"!==ax(t)&&"function"!=typeof t?fx(e):t}function fx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hx(e,t,n){return(hx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=px(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function px(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yx(e)););return e}function yx(e){return(yx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mx(e,t)}function mx(e,t){return(mx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bx(e,t,n){return t&&gx(e.prototype,t),n&&gx(e,n),e}function Sx(e){return(Sx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ox(e,t,n){return t&&wx(e.prototype,t),n&&wx(e,n),e}function xx(e,t){return!t||"object"!==Sx(t)&&"function"!=typeof t?Cx(e):t}function Cx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tx(e,t,n){return(Tx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Px(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Px(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ex(e)););return e}function Ex(e){return(Ex=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mx(e,t)}function Mx(e,t){return(Mx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ax(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jx(e,t,n){return t&&Lx(e.prototype,t),n&&Lx(e,n),e}function Rx(e){return(Rx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ix(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dx(e,t,n){return t&&Ix(e.prototype,t),n&&Ix(e,n),e}function Fx(e,t){return!t||"object"!==Rx(t)&&"function"!=typeof t?Bx(e):t}function Bx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ux(e,t,n){return(Ux="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Gx(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Gx(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zx(e)););return e}function zx(e){return(zx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hx(e,t)}function Hx(e,t){return(Hx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jx(e){return(Jx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yx(e,t,n){return t&&Wx(e.prototype,t),n&&Wx(e,n),e}function Qx(e,t){return!t||"object"!==Jx(t)&&"function"!=typeof t?Xx(e):t}function Xx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kx(e,t,n){return(Kx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Zx(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Zx(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$x(e)););return e}function $x(e){return($x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tC(e,t)}function tC(e,t){return(tC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iC(e,t,n){return t&&rC(e.prototype,t),n&&rC(e,n),e}function oC(e){return(oC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lC(e,t,n){return t&&sC(e.prototype,t),n&&sC(e,n),e}function uC(e,t){return!t||"object"!==oC(t)&&"function"!=typeof t?cC(e):t}function cC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fC(e,t,n){return(fC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=hC(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function hC(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pC(e)););return e}function pC(e){return(pC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dC(e,t)}function dC(e,t){return(dC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mC(e){return(mC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bC(e,t,n){return t&&gC(e.prototype,t),n&&gC(e,n),e}function SC(e,t){return!t||"object"!==mC(t)&&"function"!=typeof t?_C(e):t}function _C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wC(e,t,n){return(wC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=OC(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function OC(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xC(e)););return e}function xC(e){return(xC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TC(e,t)}function TC(e,t){return(TC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function PC(e){return(PC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function MC(e,t,n){return t&&kC(e.prototype,t),n&&kC(e,n),e}function AC(e,t){return!t||"object"!==PC(t)&&"function"!=typeof t?LC(e):t}function LC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jC(e,t,n){return(jC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=RC(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function RC(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=NC(e)););return e}function NC(e){return(NC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function IC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DC(e,t)}function DC(e,t){return(DC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function FC(e){return(FC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GC(e,t,n){return t&&UC(e.prototype,t),n&&UC(e,n),e}function zC(e,t){return!t||"object"!==FC(t)&&"function"!=typeof t?VC(e):t}function VC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HC(e,t,n){return(HC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=JC(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function JC(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qC(e)););return e}function qC(e){return(qC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&YC(e,t)}function YC(e,t){return(YC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function QC(e){return(QC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZC(e,t,n){return t&&KC(e.prototype,t),n&&KC(e,n),e}function $C(e,t){return!t||"object"!==QC(t)&&"function"!=typeof t?eT(e):t}function eT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tT(e,t,n){return(tT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=nT(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function nT(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=rT(e)););return e}function rT(e){return(rT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function iT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oT(e,t)}function oT(e,t){return(oT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function aT(e){return(aT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uT(e,t,n){return t&&lT(e.prototype,t),n&&lT(e,n),e}function cT(e,t){return!t||"object"!==aT(t)&&"function"!=typeof t?fT(e):t}function fT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hT(e,t,n){return(hT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=pT(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function pT(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yT(e)););return e}function yT(e){return(yT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mT(e,t)}function mT(e,t){return(mT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vT(e){return(vT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ST(e,t,n){return t&&bT(e.prototype,t),n&&bT(e,n),e}function _T(e,t){return!t||"object"!==vT(t)&&"function"!=typeof t?wT(e):t}function wT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OT(e,t,n){return(OT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=xT(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function xT(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=CT(e)););return e}function CT(e){return(CT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PT(e,t)}function PT(e,t){return(PT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ET(e){return(ET="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}
function AT(e,t,n){return t&&MT(e.prototype,t),n&&MT(e,n),e}function LT(e,t){return!t||"object"!==ET(t)&&"function"!=typeof t?jT(e):t}function jT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RT(e,t,n){return(RT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=NT(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function NT(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=IT(e)););return e}function IT(e){return(IT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FT(e,t)}function FT(e,t){return(FT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function BT(e){return(BT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zT(e,t,n){return t&&GT(e.prototype,t),n&&GT(e,n),e}function VT(e,t){return!t||"object"!==BT(t)&&"function"!=typeof t?HT(e):t}function HT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JT(e,t,n){return(JT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=qT(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function qT(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=WT(e)););return e}function WT(e){return(WT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function YT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&QT(e,t)}function QT(e,t){return(QT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function XT(e){return(XT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $T(e,t,n){return t&&ZT(e.prototype,t),n&&ZT(e,n),e}function eP(e,t){return!t||"object"!==XT(t)&&"function"!=typeof t?tP(e):t}function tP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nP(e,t,n){return(nP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=rP(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function rP(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=iP(e)););return e}function iP(e){return(iP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aP(e,t)}function aP(e,t){return(aP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uP(e,t,n){return t&&lP(e.prototype,t),n&&lP(e,n),e}function cP(e){return(cP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pP(e,t,n){return t&&hP(e.prototype,t),n&&hP(e,n),e}function yP(e,t){return!t||"object"!==cP(t)&&"function"!=typeof t?dP(e):t}function dP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mP(e,t,n){return(mP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=vP(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function vP(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gP(e)););return e}function gP(e){return(gP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SP(e,t)}function SP(e,t){return(SP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OP(e,t,n){return t&&wP(e.prototype,t),n&&wP(e,n),e}function xP(e){return(xP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PP(e,t,n){return t&&TP(e.prototype,t),n&&TP(e,n),e}function EP(e,t){return!t||"object"!==xP(t)&&"function"!=typeof t?kP(e):t}function kP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MP(e,t,n){return(MP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=AP(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function AP(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=LP(e)););return e}function LP(e){return(LP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RP(e,t)}function RP(e,t){return(RP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function NP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function DP(e,t,n){return t&&IP(e.prototype,t),n&&IP(e,n),e}function FP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UP(e,t,n){return t&&BP(e.prototype,t),n&&BP(e,n),e}function GP(e){return(GP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HP(e,t,n){return t&&VP(e.prototype,t),n&&VP(e,n),e}function JP(e,t){return!t||"object"!==GP(t)&&"function"!=typeof t?qP(e):t}function qP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WP(e,t,n){return(WP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=YP(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function YP(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=QP(e)););return e}function QP(e){return(QP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function XP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&KP(e,t)}function KP(e,t){return(KP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ZP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eE(e,t,n){return t&&$P(e.prototype,t),n&&$P(e,n),e}function tE(e){return(tE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iE(e,t,n){return t&&rE(e.prototype,t),n&&rE(e,n),e}function oE(e,t){return!t||"object"!==tE(t)&&"function"!=typeof t?aE(e):t}function aE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sE(e,t,n){return(sE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=lE(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function lE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=uE(e)););return e}function uE(e){return(uE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cE(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fE(e,t)}function fE(e,t){return(fE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yE(e,t,n){return t&&pE(e.prototype,t),n&&pE(e,n),e}function dE(e){return(dE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gE(e,t,n){return t&&vE(e.prototype,t),n&&vE(e,n),e}function bE(e,t){return!t||"object"!==dE(t)&&"function"!=typeof t?SE(e):t}function SE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _E(e,t,n){return(_E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=wE(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function wE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=OE(e)););return e}function OE(e){return(OE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xE(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CE(e,t)}function CE(e,t){return(CE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function TE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EE(e,t,n){return t&&PE(e.prototype,t),n&&PE(e,n),e}function kE(e){return(kE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ME(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LE(e,t,n){return t&&AE(e.prototype,t),n&&AE(e,n),e}function jE(e,t){return!t||"object"!==kE(t)&&"function"!=typeof t?RE(e):t}function RE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NE(e,t,n){return(NE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=IE(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function IE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=DE(e)););return e}function DE(e){return(DE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FE(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BE(e,t)}function BE(e,t){return(BE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function UE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zE(e,t,n){return t&&GE(e.prototype,t),n&&GE(e,n),e}function VE(e){return(VE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qE(e,t,n){return t&&JE(e.prototype,t),n&&JE(e,n),e}function WE(e,t){return!t||"object"!==VE(t)&&"function"!=typeof t?YE(e):t}function YE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QE(e,t,n){return(QE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=XE(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function XE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=KE(e)););return e}function KE(e){return(KE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ZE(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$E(e,t)}function $E(e,t){return($E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ek(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nk(e,t,n){return t&&tk(e.prototype,t),n&&tk(e,n),e}function rk(e){return(rk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ik(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ok(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ak(e,t,n){return t&&ok(e.prototype,t),n&&ok(e,n),e}function sk(e,t){return!t||"object"!==rk(t)&&"function"!=typeof t?lk(e):t}function lk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uk(e,t,n){return(uk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ck(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ck(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fk(e)););return e}function fk(e){return(fk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hk(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pk(e,t)}function pk(e,t){return(pk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mk(e,t,n){return t&&dk(e.prototype,t),n&&dk(e,n),e}function vk(e){return(vk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sk(e,t,n){return t&&bk(e.prototype,t),n&&bk(e,n),e}function _k(e,t){return!t||"object"!==vk(t)&&"function"!=typeof t?wk(e):t}function wk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ok(e,t,n){return(Ok="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=xk(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function xk(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ck(e)););return e}function Ck(e){return(Ck=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tk(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pk(e,t)}function Pk(e,t){return(Pk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ek(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mk(e,t,n){return t&&kk(e.prototype,t),n&&kk(e,n),e}function Ak(e){return(Ak="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rk(e,t,n){return t&&jk(e.prototype,t),n&&jk(e,n),e}function Nk(e,t){return!t||"object"!==Ak(t)&&"function"!=typeof t?Ik(e):t}function Ik(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dk(e,t,n){return(Dk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Fk(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Fk(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Bk(e)););return e}function Bk(e){return(Bk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Uk(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gk(e,t)}function Gk(e,t){return(Gk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hk(e,t,n){return t&&Vk(e.prototype,t),n&&Vk(e,n),e}function Jk(e){return(Jk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yk(e,t,n){return t&&Wk(e.prototype,t),n&&Wk(e,n),e}function Qk(e,t){return!t||"object"!==Jk(t)&&"function"!=typeof t?Xk(e):t}function Xk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kk(e,t,n){return(Kk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Zk(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Zk(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$k(e)););return e}function $k(e){return($k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eM(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tM(e,t)}function tM(e,t){return(tM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iM(e,t,n){return t&&rM(e.prototype,t),n&&rM(e,n),e}function oM(e){return(oM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lM(e,t,n){return t&&sM(e.prototype,t),n&&sM(e,n),e}function uM(e,t){return!t||"object"!==oM(t)&&"function"!=typeof t?cM(e):t}function cM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fM(e,t,n){return(fM="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=hM(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function hM(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pM(e)););return e}function pM(e){return(pM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yM(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dM(e,t)}function dM(e,t){return(dM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gM(e,t,n){return t&&vM(e.prototype,t),n&&vM(e,n),e}function bM(e){return(bM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wM(e,t,n){return t&&_M(e.prototype,t),n&&_M(e,n),e}function OM(e,t){return!t||"object"!==bM(t)&&"function"!=typeof t?xM(e):t}function xM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CM(e,t,n){return(CM="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=TM(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function TM(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=PM(e)););return e}function PM(e){return(PM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function EM(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kM(e,t)}function kM(e,t){return(kM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function MM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LM(e,t,n){return t&&AM(e.prototype,t),n&&AM(e,n),e}function jM(e){return(jM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IM(e,t,n){return t&&NM(e.prototype,t),n&&NM(e,n),e}function DM(e,t){return!t||"object"!==jM(t)&&"function"!=typeof t?FM(e):t}function FM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BM(e,t,n){return(BM="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=UM(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function UM(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=GM(e)););return e}function GM(e){return(GM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zM(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&VM(e,t)}function VM(e,t){return(VM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function HM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qM(e,t,n){return t&&JM(e.prototype,t),n&&JM(e,n),e}function WM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function QM(e,t,n){return t&&YM(e.prototype,t),n&&YM(e,n),e}function XM(e){return(XM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $M(e,t,n){return t&&ZM(e.prototype,t),n&&ZM(e,n),e}function eA(e,t){return!t||"object"!==XM(t)&&"function"!=typeof t?tA(e):t}function tA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nA(e,t,n){return(nA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=rA(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function rA(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=iA(e)););return e}function iA(e){return(iA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,writable:!0,configurable:!0}}),t&&aA(e,t)}function aA(e,t){return(aA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sA(e){return(sA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cA(e,t,n){return t&&uA(e.prototype,t),n&&uA(e,n),e}function fA(e,t){return!t||"object"!==sA(t)&&"function"!=typeof t?hA(e):t}function hA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pA(e,t,n){return(pA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=yA(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function yA(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dA(e)););return e}function dA(e){return(dA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vA(e,t)}function vA(e,t){return(vA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gA(e){return(gA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _A(e,t,n){return t&&SA(e.prototype,t),n&&SA(e,n),e}function wA(e,t){return!t||"object"!==gA(t)&&"function"!=typeof t?OA(e):t}function OA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xA(e,t,n){return(xA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=CA(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function CA(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=TA(e)););return e}function TA(e){return(TA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EA(e,t)}function EA(e,t){return(EA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kA(e){return(kA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LA(e,t,n){return t&&AA(e.prototype,t),n&&AA(e,n),e}function jA(e,t){return!t||"object"!==kA(t)&&"function"!=typeof t?RA(e):t}function RA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NA(e,t,n){return(NA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=IA(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function IA(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=DA(e)););return e}function DA(e){return(DA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BA(e,t)}function BA(e,t){return(BA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function UA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zA(e,t,n){return t&&GA(e.prototype,t),n&&GA(e,n),e}function VA(e){return(VA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qA(e,t,n){return t&&JA(e.prototype,t),n&&JA(e,n),e}function WA(e,t){return!t||"object"!==VA(t)&&"function"!=typeof t?YA(e):t}function YA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QA(e,t,n){return(QA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=XA(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function XA(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=KA(e)););return e}function KA(e){return(KA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ZA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$A(e,t)}function $A(e,t){return($A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function eL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nL(e,t,n){return t&&tL(e.prototype,t),n&&tL(e,n),e}function rL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oL(e,t,n){return t&&iL(e.prototype,t),n&&iL(e,n),e}function aL(e){return(aL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uL(e,t,n){return t&&lL(e.prototype,t),n&&lL(e,n),e}function cL(e,t){return!t||"object"!==aL(t)&&"function"!=typeof t?fL(e):t}function fL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hL(e,t,n){return(hL="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=pL(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function pL(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yL(e)););return e}function yL(e){return(yL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mL(e,t)}function mL(e,t){return(mL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bL(e,t,n){return t&&gL(e.prototype,t),n&&gL(e,n),e}function SL(e){return(SL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OL(e,t,n){return t&&wL(e.prototype,t),n&&wL(e,n),e}function xL(e,t){return!t||"object"!==SL(t)&&"function"!=typeof t?CL(e):t}function CL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TL(e,t,n){return(TL="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=PL(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function PL(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=EL(e)););return e}function EL(e){return(EL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ML(e,t)}function ML(e,t){return(ML=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function AL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jL(e,t,n){return t&&LL(e.prototype,t),n&&LL(e,n),e}function RL(e){return(RL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function DL(e,t,n){return t&&IL(e.prototype,t),n&&IL(e,n),e}function FL(e,t){return!t||"object"!==RL(t)&&"function"!=typeof t?BL(e):t}function BL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UL(e,t,n){return(UL="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=GL(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function GL(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zL(e)););return e}function zL(e){return(zL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function VL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&HL(e,t)}function HL(e,t){return(HL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function JL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function WL(e,t,n){return t&&qL(e.prototype,t),n&&qL(e,n),e}function YL(e){return(YL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KL(e,t,n){return t&&XL(e.prototype,t),n&&XL(e,n),e}function ZL(e,t){return!t||"object"!==YL(t)&&"function"!=typeof t?$L(e):t}function $L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ej(e,t,n){return(ej="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=tj(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function tj(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nj(e)););return e}function nj(e){return(nj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rj(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ij(e,t)}function ij(e,t){return(ij=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sj(e,t,n){return t&&aj(e.prototype,t),n&&aj(e,n),e}function lj(e){return(lj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fj(e,t,n){return t&&cj(e.prototype,t),n&&cj(e,n),e}function hj(e,t){return!t||"object"!==lj(t)&&"function"!=typeof t?pj(e):t}function pj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yj(e,t,n){return(yj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=dj(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function dj(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mj(e)););return e}function mj(e){return(mj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vj(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gj(e,t)}function gj(e,t){return(gj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _j(e,t,n){return t&&Sj(e.prototype,t),n&&Sj(e,n),e}function wj(e){return(wj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cj(e,t,n){return t&&xj(e.prototype,t),n&&xj(e,n),e}function Tj(e,t){return!t||"object"!==wj(t)&&"function"!=typeof t?Pj(e):t}function Pj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ej(e,t,n){return(Ej="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=kj(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function kj(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Mj(e)););return e}function Mj(e){return(Mj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Aj(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lj(e,t)}function Lj(e,t){return(Lj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jj(e){return(jj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ij(e,t,n){return t&&Nj(e.prototype,t),n&&Nj(e,n),e}function Dj(e,t){return!t||"object"!==jj(t)&&"function"!=typeof t?Fj(e):t}function Fj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bj(e,t,n){return(Bj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Uj(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Uj(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gj(e)););return e}function Gj(e){return(Gj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zj(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vj(e,t)}function Vj(e,t){return(Vj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qj(e,t,n){return t&&Jj(e.prototype,t),n&&Jj(e,n),e}function Wj(e){return(Wj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xj(e,t,n){return t&&Qj(e.prototype,t),n&&Qj(e,n),e}function Kj(e,t){return!t||"object"!==Wj(t)&&"function"!=typeof t?$j(e):t}function Zj(e){return(Zj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tR(e,t)}function tR(e,t){return(tR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iR(e,t,n){return t&&rR(e.prototype,t),n&&rR(e,n),e}function oR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sR(e,t,n){return t&&aR(e.prototype,t),n&&aR(e,n),e}/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function lR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cR(e,t,n){return t&&uR(e.prototype,t),n&&uR(e,n),e}function fR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yR(e,t,n){return t&&pR(e.prototype,t),n&&pR(e,n),e}function dR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vR(e,t,n){return t&&mR(e.prototype,t),n&&mR(e,n),e}/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function gR(e){return(gR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _R(e,t,n){return t&&SR(e.prototype,t),n&&SR(e,n),e}function wR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xR(e,t,n){return t&&OR(e.prototype,t),n&&OR(e,n),e}function CR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PR(e,t,n){return t&&TR(e.prototype,t),n&&TR(e,n),e}function ER(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function MR(e,t,n){return t&&kR(e.prototype,t),n&&kR(e,n),e}function AR(e){return(AR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RR(e,t,n){return t&&jR(e.prototype,t),n&&jR(e,n),e}function NR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function IR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function FR(e,t,n){return t&&DR(e.prototype,t),n&&DR(e,n),e}function BR(e){return(BR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zR(e,t,n){return t&&GR(e.prototype,t),n&&GR(e,n),e}function VR(e,t){return!t||"object"!==BR(t)&&"function"!=typeof t?HR(e):t}function HR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JR(e,t,n){return(JR="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=qR(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function qR(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=WR(e)););return e}function WR(e){return(WR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function YR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&QR(e,t)}function QR(e,t){return(QR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function XR(e){return(XR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $R(e,t,n){return t&&ZR(e.prototype,t),n&&ZR(e,n),e}function eN(e,t){return!t||"object"!==XR(t)&&"function"!=typeof t?tN(e):t}function tN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nN(e,t,n){return(nN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=rN(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function rN(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=iN(e)););return e}function iN(e){return(iN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oN(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aN(e,t)}function aN(e,t){return(aN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sN(e){return(sN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cN(e,t,n){return t&&uN(e.prototype,t),n&&uN(e,n),e}function fN(e,t){return!t||"object"!==sN(t)&&"function"!=typeof t?hN(e):t}function hN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pN(e,t,n){return(pN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=yN(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function yN(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dN(e)););return e}function dN(e){return(dN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mN(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vN(e,t)}function vN(e,t){return(vN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gN(e){return(gN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _N(e,t,n){return t&&SN(e.prototype,t),n&&SN(e,n),e}function wN(e,t){return!t||"object"!==gN(t)&&"function"!=typeof t?ON(e):t}function ON(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xN(e,t,n){return(xN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=CN(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function CN(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=TN(e)););return e}function TN(e){return(TN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PN(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EN(e,t)}function EN(e,t){return(EN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kN(e){return(kN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LN(e,t,n){return t&&AN(e.prototype,t),n&&AN(e,n),e}function jN(e,t){return!t||"object"!==kN(t)&&"function"!=typeof t?RN(e):t}function RN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NN(e,t,n){return(NN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=IN(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function IN(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=DN(e)););return e}function DN(e){return(DN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FN(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BN(e,t)}function BN(e,t){return(BN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function UN(e){return(UN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VN(e,t,n){return t&&zN(e.prototype,t),n&&zN(e,n),e}function HN(e,t){return!t||"object"!==UN(t)&&"function"!=typeof t?JN(e):t}function JN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qN(e,t,n){return(qN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=WN(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function WN(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=YN(e)););return e}function YN(e){return(YN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function QN(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&XN(e,t)}function XN(e,t){return(XN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function KN(e){return(KN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eI(e,t,n){return t&&$N(e.prototype,t),n&&$N(e,n),e}function tI(e,t){return!t||"object"!==KN(t)&&"function"!=typeof t?nI(e):t}function nI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rI(e,t,n){return(rI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=iI(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function iI(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oI(e)););return e}function oI(e){return(oI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aI(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sI(e,t)}function sI(e,t){return(sI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lI(e){return(lI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fI(e,t,n){return t&&cI(e.prototype,t),n&&cI(e,n),e}function hI(e,t){return!t||"object"!==lI(t)&&"function"!=typeof t?pI(e):t}function pI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yI(e,t,n){return(yI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=dI(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function dI(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mI(e)););return e}function mI(e){return(mI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vI(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gI(e,t)}function gI(e,t){return(gI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _I(e,t,n){return t&&SI(e.prototype,t),n&&SI(e,n),e}function wI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xI(e,t,n){return t&&OI(e.prototype,t),n&&OI(e,n),e}function CI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PI(e,t,n){return t&&TI(e.prototype,t),n&&TI(e,n),e}function EI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function MI(e,t,n){return t&&kI(e.prototype,t),n&&kI(e,n),e}function AI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jI(e,t,n){return t&&LI(e.prototype,t),n&&LI(e,n),e}function RI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function II(e,t,n){return t&&NI(e.prototype,t),n&&NI(e,n),e}function DI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BI(e,t,n){return t&&FI(e.prototype,t),n&&FI(e,n),e}function UI(e){return(UI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VI(e,t,n){return t&&zI(e.prototype,t),n&&zI(e,n),e}function HI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function WI(e,t,n){return t&&qI(e.prototype,t),n&&qI(e,n),e}function YI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XI(e,t,n){return t&&QI(e.prototype,t),n&&QI(e,n),e}function KI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $I(e,t,n){return t&&ZI(e.prototype,t),n&&ZI(e,n),e}function eD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nD(e,t,n){return t&&tD(e.prototype,t),n&&tD(e,n),e}function rD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oD(e,t,n){return t&&iD(e.prototype,t),n&&iD(e,n),e}function aD(e){return(aD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uD(e,t,n){return t&&lD(e.prototype,t),n&&lD(e,n),e}function cD(e,t){return!t||"object"!==aD(t)&&"function"!=typeof t?fD(e):t}function fD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hD(e,t,n){return(hD="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=pD(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function pD(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yD(e)););return e}function yD(e){return(yD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dD(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mD(e,t)}function mD(e,t){return(mD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vD(e){return(vD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SD(e,t,n){return t&&bD(e.prototype,t),n&&bD(e,n),e}function _D(e,t){return!t||"object"!==vD(t)&&"function"!=typeof t?wD(e):t}function wD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OD(e,t,n){return(OD="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=xD(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function xD(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=CD(e)););return e}function CD(e){return(CD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TD(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PD(e,t)}function PD(e,t){return(PD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ED(e){return(ED="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AD(e,t,n){return t&&MD(e.prototype,t),n&&MD(e,n),e}function LD(e,t){return!t||"object"!==ED(t)&&"function"!=typeof t?jD(e):t}function jD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RD(e,t,n){return(RD="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ND(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ND(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ID(e)););return e}function ID(e){return(ID=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DD(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FD(e,t)}function FD(e,t){return(FD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function BD(e){return(BD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zD(e,t,n){return t&&GD(e.prototype,t),n&&GD(e,n),e}function VD(e,t){return!t||"object"!==BD(t)&&"function"!=typeof t?HD(e):t}function HD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JD(e,t,n){return(JD="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=qD(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function qD(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=WD(e)););return e}function WD(e){return(WD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function YD(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&QD(e,t)}function QD(e,t){return(QD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function XD(e){return(XD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $D(e,t,n){return t&&ZD(e.prototype,t),n&&ZD(e,n),e}function eF(e,t){return!t||"object"!==XD(t)&&"function"!=typeof t?tF(e):t}function tF(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nF(e,t,n){return(nF="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=rF(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function rF(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=iF(e)););return e}function iF(e){return(iF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oF(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aF(e,t)}function aF(e,t){return(aF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sF(e){return(sF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cF(e,t,n){return t&&uF(e.prototype,t),n&&uF(e,n),e}function fF(e,t){return!t||"object"!==sF(t)&&"function"!=typeof t?hF(e):t}function hF(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pF(e,t,n){return(pF="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=yF(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function yF(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dF(e)););return e}function dF(e){return(dF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mF(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vF(e,t)}function vF(e,t){return(vF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gF(e){return(gF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _F(e,t,n){return t&&SF(e.prototype,t),n&&SF(e,n),e}function wF(e,t){return!t||"object"!==gF(t)&&"function"!=typeof t?OF(e):t}function OF(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xF(e,t,n){return(xF="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=CF(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function CF(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=TF(e)););return e}function TF(e){return(TF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PF(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EF(e,t)}function EF(e,t){return(EF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kF(e){return(kF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LF(e,t,n){return t&&AF(e.prototype,t),n&&AF(e,n),e}function jF(e,t){return!t||"object"!==kF(t)&&"function"!=typeof t?RF(e):t}function RF(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NF(e,t,n){return(NF="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=IF(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function IF(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=DF(e)););return e}function DF(e){return(DF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FF(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BF(e,t)}function BF(e,t){return(BF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function UF(e){return(UF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VF(e,t,n){return t&&zF(e.prototype,t),n&&zF(e,n),e}function HF(e,t){return!t||"object"!==UF(t)&&"function"!=typeof t?JF(e):t}function JF(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qF(e,t,n){return(qF="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=WF(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function WF(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=YF(e)););return e}function YF(e){return(YF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function QF(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&XF(e,t)}function XF(e,t){return(XF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function KF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $F(e,t,n){return t&&ZF(e.prototype,t),n&&ZF(e,n),e}function eB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nB(e,t,n){return t&&tB(e.prototype,t),n&&tB(e,n),e}function rB(e){return(rB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aB(e,t,n){return t&&oB(e.prototype,t),n&&oB(e,n),e}function sB(e,t){return!t||"object"!==rB(t)&&"function"!=typeof t?lB(e):t}function lB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uB(e,t,n){return(uB="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=cB(e,t);if(r){
var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function cB(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fB(e)););return e}function fB(e){return(fB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hB(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pB(e,t)}function pB(e,t){return(pB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yB(e){return(yB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vB(e,t,n){return t&&mB(e.prototype,t),n&&mB(e,n),e}function gB(e,t){return!t||"object"!==yB(t)&&"function"!=typeof t?bB(e):t}function bB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SB(e,t,n){return(SB="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_B(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _B(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wB(e)););return e}function wB(e){return(wB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function OB(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xB(e,t)}function xB(e,t){return(xB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function CB(e){return(CB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EB(e,t,n){return t&&PB(e.prototype,t),n&&PB(e,n),e}function kB(e,t){return!t||"object"!==CB(t)&&"function"!=typeof t?MB(e):t}function MB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AB(e,t,n){return(AB="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=LB(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function LB(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jB(e)););return e}function jB(e){return(jB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RB(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NB(e,t)}function NB(e,t){return(NB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function IB(e){return(IB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BB(e,t,n){return t&&FB(e.prototype,t),n&&FB(e,n),e}function UB(e,t){return!t||"object"!==IB(t)&&"function"!=typeof t?GB(e):t}function GB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zB(e,t,n){return(zB="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=VB(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function VB(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=HB(e)););return e}function HB(e){return(HB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function JB(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qB(e,t)}function qB(e,t){return(qB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function WB(e){return(WB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XB(e,t,n){return t&&QB(e.prototype,t),n&&QB(e,n),e}function KB(e,t){return!t||"object"!==WB(t)&&"function"!=typeof t?ZB(e):t}function ZB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $B(e,t,n){return($B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=eU(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function eU(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tU(e)););return e}function tU(e){return(tU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nU(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rU(e,t)}function rU(e,t){return(rU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function iU(e){return(iU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sU(e,t,n){return t&&aU(e.prototype,t),n&&aU(e,n),e}function lU(e,t){return!t||"object"!==iU(t)&&"function"!=typeof t?uU(e):t}function uU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cU(e,t,n){return(cU="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=fU(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function fU(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hU(e)););return e}function hU(e){return(hU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pU(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yU(e,t)}function yU(e,t){return(yU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dU(e){return(dU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gU(e,t,n){return t&&vU(e.prototype,t),n&&vU(e,n),e}function bU(e,t){return!t||"object"!==dU(t)&&"function"!=typeof t?SU(e):t}function SU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _U(e,t,n){return(_U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=wU(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function wU(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=OU(e)););return e}function OU(e){return(OU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xU(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CU(e,t)}function CU(e,t){return(CU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function TU(e){return(TU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kU(e,t,n){return t&&EU(e.prototype,t),n&&EU(e,n),e}function MU(e,t){return!t||"object"!==TU(t)&&"function"!=typeof t?AU(e):t}function AU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LU(e,t,n){return(LU="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=jU(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function jU(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=RU(e)););return e}function RU(e){return(RU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NU(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&IU(e,t)}function IU(e,t){return(IU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function DU(e){return(DU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UU(e,t,n){return t&&BU(e.prototype,t),n&&BU(e,n),e}function GU(e,t){return!t||"object"!==DU(t)&&"function"!=typeof t?zU(e):t}function zU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VU(e,t,n){return(VU="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=HU(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function HU(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=JU(e)););return e}function JU(e){return(JU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qU(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WU(e,t)}function WU(e,t){return(WU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function YU(e){return(YU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KU(e,t,n){return t&&XU(e.prototype,t),n&&XU(e,n),e}function ZU(e,t){return!t||"object"!==YU(t)&&"function"!=typeof t?$U(e):t}function $U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eG(e,t,n){return(eG="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=tG(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function tG(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nG(e)););return e}function nG(e){return(nG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rG(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iG(e,t)}function iG(e,t){return(iG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function oG(e){return(oG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lG(e,t,n){return t&&sG(e.prototype,t),n&&sG(e,n),e}function uG(e,t){return!t||"object"!==oG(t)&&"function"!=typeof t?cG(e):t}function cG(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fG(e,t,n){return(fG="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=hG(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function hG(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pG(e)););return e}function pG(e){return(pG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yG(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dG(e,t)}function dG(e,t){return(dG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gG(e,t,n){return t&&vG(e.prototype,t),n&&vG(e,n),e}function bG(e){return(bG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SG(e,t){return!t||"object"!==bG(t)&&"function"!=typeof t?_G(e):t}function _G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wG(e){return(wG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function OG(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xG(e,t)}function xG(e,t){return(xG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function CG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PG(e,t,n){return t&&TG(e.prototype,t),n&&TG(e,n),e}function EG(e){return(EG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AG(e,t,n){return t&&MG(e.prototype,t),n&&MG(e,n),e}function LG(e,t){return!t||"object"!==EG(t)&&"function"!=typeof t?RG(e):t}function jG(e){return(jG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RG(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NG(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&IG(e,t)}function IG(e,t){return(IG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function DG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BG(e,t,n){return t&&FG(e.prototype,t),n&&FG(e,n),e}function UG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zG(e,t,n){return t&&GG(e.prototype,t),n&&GG(e,n),e}function VG(e){return(VG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qG(e,t,n){return t&&JG(e.prototype,t),n&&JG(e,n),e}function WG(e,t){return!t||"object"!==VG(t)&&"function"!=typeof t?QG(e):t}function YG(e){return(YG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function QG(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XG(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&KG(e,t)}function KG(e,t){return(KG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ZG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ez(e,t,n){return t&&$G(e.prototype,t),n&&$G(e,n),e}function tz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rz(e,t,n){return t&&nz(e.prototype,t),n&&nz(e,n),e}function iz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function az(e,t,n){return t&&oz(e.prototype,t),n&&oz(e,n),e}function sz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uz(e,t,n){return t&&lz(e.prototype,t),n&&lz(e,n),e}function cz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hz(e,t,n){return t&&fz(e.prototype,t),n&&fz(e,n),e}function pz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dz(e,t,n){return t&&yz(e.prototype,t),n&&yz(e,n),e}function mz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gz(e,t,n){return t&&vz(e.prototype,t),n&&vz(e,n),e}function bz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _z(e,t,n){return t&&Sz(e.prototype,t),n&&Sz(e,n),e}function wz(e){return(wz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cz(e,t,n){return t&&xz(e.prototype,t),n&&xz(e,n),e}function Tz(e,t){return!t||"object"!==wz(t)&&"function"!=typeof t?Pz(e):t}function Pz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ez(e){return(Ez=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kz(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mz(e,t)}function Mz(e,t){return(Mz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Az(e){return(Az="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rz(e,t,n){return t&&jz(e.prototype,t),n&&jz(e,n),e}function Nz(e,t){return!t||"object"!==Az(t)&&"function"!=typeof t?Iz(e):t}function Iz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dz(e){return(Dz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fz(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bz(e,t)}function Bz(e,t){return(Bz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Uz(e){return(Uz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vz(e,t,n){return t&&zz(e.prototype,t),n&&zz(e,n),e}function Hz(e,t){return!t||"object"!==Uz(t)&&"function"!=typeof t?Jz(e):t}function Jz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qz(e){return(qz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wz(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yz(e,t)}function Yz(e,t){return(Yz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qz(e){return(Qz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zz(e,t,n){return t&&Kz(e.prototype,t),n&&Kz(e,n),e}function $z(e,t){return!t||"object"!==Qz(t)&&"function"!=typeof t?eV(e):t}function eV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tV(e){return(tV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nV(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rV(e,t)}function rV(e,t){return(rV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function iV(e){return(iV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sV(e,t,n){return t&&aV(e.prototype,t),n&&aV(e,n),e}function lV(e,t){return!t||"object"!==iV(t)&&"function"!=typeof t?uV(e):t}function uV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cV(e){return(cV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fV(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hV(e,t)}function hV(e,t){return(hV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pV(e){return(pV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mV(e,t,n){return t&&dV(e.prototype,t),n&&dV(e,n),e}function vV(e,t){return!t||"object"!==pV(t)&&"function"!=typeof t?gV(e):t}function gV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bV(e){return(bV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SV(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_V(e,t)}function _V(e,t){return(_V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wV(e){return(wV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function OV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function CV(e,t,n){return t&&xV(e.prototype,t),n&&xV(e,n),e}function TV(e,t){return!t||"object"!==wV(t)&&"function"!=typeof t?PV(e):t}function PV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EV(e){return(EV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kV(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MV(e,t)}function MV(e,t){return(MV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function AV(e){return(AV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RV(e,t,n){return t&&jV(e.prototype,t),n&&jV(e,n),e}function NV(e,t){return!t||"object"!==AV(t)&&"function"!=typeof t?IV(e):t}function IV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DV(e){return(DV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FV(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BV(e,t)}function BV(e,t){return(BV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function UV(e){return(UV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VV(e,t,n){return t&&zV(e.prototype,t),n&&zV(e,n),e}function HV(e,t){return!t||"object"!==UV(t)&&"function"!=typeof t?JV(e):t}function JV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qV(e){return(qV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WV(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&YV(e,t)}function YV(e,t){return(YV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function QV(e,t){if(e[t])return e[t];for(var n,r=Object.keys(e),i=t.toLowerCase().replace(T2,""),o=-1;++o<r.length;)if(n=r[o],n.toLowerCase().replace(T2,"")===i)return e[n]}function XV(e){if("string"!=typeof e)throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=k2}function KV(e){return new XV(e).output()}function ZV(e,t,n){Array.isArray(t)&&(n.unshift(t),t=null);var r=t?{}:e,i=n.reduce(function(e,t){return $V(t,e),e},r);t&&(e[t]=i)}function $V(e,t){if(!Array.isArray(e))return void(t[e]=!0);var n=e.shift();if("PARAMETER"===n&&(n=e.shift()),1===e.length)return Array.isArray(e[0])?(t[n]={},void $V(e[0],t[n])):void(t[n]=e[0]);if(!e.length)return void(t[n]=!0);if("TOWGS84"===n)return void(t[n]=e);Array.isArray(n)||(t[n]={});var r;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return t[n]={name:e[0].toLowerCase(),convert:e[1]},void(3===e.length&&$V(e[2],t[n]));case"SPHEROID":case"ELLIPSOID":return t[n]={name:e[0],a:e[1],rf:e[2]},void(4===e.length&&$V(e[3],t[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return e[0]=["name",e[0]],void ZV(t,n,e);default:for(r=-1;++r<e.length;)if(!Array.isArray(e[r]))return $V(e,t[n]);return ZV(t,n,e)}}function eH(e){return(eH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tH(e,t){var n=t[0],r=t[1];!(n in e)&&r in e&&(e[n]=e[r],3===t.length&&(e[n]=t[2](e[n])))}function nH(e){return e*N2}function rH(e){function t(t){return t*(e.to_meter||1)}"GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):"object"===eH(e.PROJECTION)?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&("GEOGCS"===e.type?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var n=e.GEOGCS;"GEOGCS"===e.type&&(n=e),n&&(n.DATUM?e.datumCode=n.DATUM.name.toLowerCase():e.datumCode=n.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==e.datumCode&&"new_zealand_1949"!==e.datumCode||(e.datumCode="nzgd49"),"wgs_1984"===e.datumCode&&("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"_ferro"===e.datumCode.slice(-6)&&(e.datumCode=e.datumCode.slice(0,-6)),"_jakarta"===e.datumCode.slice(-8)&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),n.DATUM&&n.DATUM.SPHEROID&&(e.ellps=n.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=n.DATUM.SPHEROID.a,e.rf=parseFloat(n.DATUM.SPHEROID.rf,10)),n.DATUM&&n.DATUM.TOWGS84&&(e.datum_params=n.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),"ch1903+"===e.datumCode&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",nH],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",nH],["x0","false_easting",t],["y0","false_northing",t],["long0","central_meridian",nH],["lat0","latitude_of_origin",nH],["lat0","standard_parallel_1",nH],["lat1","standard_parallel_1",nH],["lat2","standard_parallel_2",nH],["azimuth","Azimuth"],["alpha","azimuth",nH],["srsCode","name"]].forEach(function(t){return tH(e,t)}),e.long0||!e.longc||"Albers_Conic_Equal_Area"!==e.projName&&"Lambert_Azimuthal_Equal_Area"!==e.projName||(e.long0=e.longc),e.lat_ts||!e.lat1||"Stereographic_South_Pole"!==e.projName&&"Polar Stereographic (variant B)"!==e.projName||(e.lat0=nH(e.lat1>0?90:-90),e.lat_ts=e.lat1)}function iH(e){var t=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?iH[e]=P2(arguments[1]):iH[e]=I2(arguments[1]):iH[e]=n}else if(1===arguments.length){if(Array.isArray(e))return e.map(function(e){Array.isArray(e)?iH.apply(t,e):iH(e)});if("string"==typeof e){if(e in iH)return iH[e]}else"EPSG"in e?iH["EPSG:"+e.EPSG]=e:"ESRI"in e?iH["ESRI:"+e.ESRI]=e:"IAU2000"in e?iH["IAU2000:"+e.IAU2000]=e:console.log(e);return}}function oH(e){return"string"==typeof e}function aH(e){return e in D2}function sH(e){return F2.some(function(t){return e.indexOf(t)>-1})}function lH(e){var t=QV(e,"authority");if(t){var n=QV(t,"epsg");return n&&B2.indexOf(n)>-1}}function uH(e){var t=QV(e,"extension");if(t)return QV(t,"proj4")}function cH(e){return"+"===e[0]}function fH(e){if(!oH(e))return e;if(aH(e))return D2[e];if(sH(e)){var t=I2(e);if(lH(t))return D2["EPSG:3857"];var n=uH(t);return n?P2(n):t}return cH(e)?P2(e):void 0}function hH(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=z2(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function pH(e){var t=e.x,n=e.y;if(n*S2>90&&n*S2<-90&&t*S2>180&&t*S2<-180)return null;var r,i;if(Math.abs(Math.abs(n)-y2)<=g2)return null;if(this.sphere)r=this.x0+this.a*this.k0*H2(t-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(_2+.5*n));else{var o=Math.sin(n),a=J2(this.e,n,o);r=this.x0+this.a*this.k0*H2(t-this.long0),i=this.y0-this.a*this.k0*Math.log(a)}return e.x=r,e.y=i,e}function yH(e){var t,n,r=e.x-this.x0,i=e.y-this.y0;if(this.sphere)n=y2-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var o=Math.exp(-i/(this.a*this.k0));if(-9999===(n=q2(this.e,o)))return null}return t=H2(this.long0+r/(this.a*this.k0)),e.x=t,e.y=n,e}function dH(){}function mH(e){return e}function vH(e,t){var n=$2.length;return e.names?($2[n]=e,e.names.forEach(function(e){Z2[e.toLowerCase()]=n}),this):(console.log(t),!0)}function gH(e){if(!e)return!1;var t=e.toLowerCase();return void 0!==Z2[t]&&$2[Z2[t]]?$2[Z2[t]]:void 0}function bH(){K2.forEach(vH)}function SH(e,t,n,r){var i=e*e,o=t*t,a=(i-o)/i,s=0;return r?(e*=1-a*(d2+a*(m2+a*v2)),i=e*e,a=0):s=Math.sqrt(a),{es:a,e:s,ep2:(i-o)/o}}function _H(e,t,n,r,i){if(!e){var o=QV(t3,r);o||(o=n3),e=o.a,t=o.b,n=o.rf}return n&&!t&&(t=(1-1/n)*e),(0===n||Math.abs(e-t)<g2)&&(i=!0,t=e),{a:e,b:t,rf:n,sphere:i}}function wH(e,t,n,r,i,o){var a={};return a.datum_type=void 0===e||"none"===e?h2:f2,t&&(a.datum_params=t.map(parseFloat),0===a.datum_params[0]&&0===a.datum_params[1]&&0===a.datum_params[2]||(a.datum_type=u2),a.datum_params.length>3&&(0===a.datum_params[3]&&0===a.datum_params[4]&&0===a.datum_params[5]&&0===a.datum_params[6]||(a.datum_type=c2,a.datum_params[3]*=p2,a.datum_params[4]*=p2,a.datum_params[5]*=p2,a.datum_params[6]=a.datum_params[6]/1e6+1))),a.a=n,a.b=r,a.es=i,a.ep2=o,a}function OH(e){return(OH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xH(e,t){if(!(this instanceof xH))return new xH(e);t=t||function(e){if(e)throw e};var n=U2(e);if("object"!==OH(n))return void t(e);var r=xH.projections.get(n.projName);if(!r)return void t(e);if(n.datumCode&&"none"!==n.datumCode){var i=QV(r3,n.datumCode);i&&(n.datum_params=i.towgs84?i.towgs84.split(","):null,n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var o=_H(n.a,n.b,n.rf,n.ellps,n.sphere),a=SH(o.a,o.b,o.rf,n.R_A),s=n.datum||i3(n.datumCode,n.datum_params,o.a,o.b,a.es,a.ep2);G2(this,n),G2(this,r),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=a.es,this.e=a.e,this.ep2=a.ep2,this.datum=s,this.init(),t(null,this)}function CH(e,t){return e.datum_type===t.datum_type&&(!(e.a!==t.a||Math.abs(e.es-t.es)>5e-11)&&(e.datum_type===u2?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type!==c2||e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6]))}function TH(e,t,n){var r,i,o,a,s=e.x,l=e.y,u=e.z?e.z:0;if(l<-y2&&l>-1.001*y2)l=-y2;else if(l>y2&&l<1.001*y2)l=y2;else{if(l<-y2)return{x:-1/0,y:-1/0,z:e.z};if(l>y2)return{x:1/0,y:1/0,z:e.z}}return s>Math.PI&&(s-=2*Math.PI),i=Math.sin(l),a=Math.cos(l),o=i*i,r=n/Math.sqrt(1-t*o),{x:(r+u)*a*Math.cos(s),y:(r+u)*a*Math.sin(s),z:(r*(1-t)+u)*i}}function PH(e,t,n,r){var i,o,a,s,l,u,c,f,h,p,y,d,m,v,g,b,S=e.x,_=e.y,w=e.z?e.z:0;if(i=Math.sqrt(S*S+_*_),o=Math.sqrt(S*S+_*_+w*w),i/n<1e-12){if(v=0,o/n<1e-12)return g=y2,b=-r,{x:e.x,y:e.y,z:e.z}}else v=Math.atan2(_,S);a=w/o,s=i/o,l=1/Math.sqrt(1-t*(2-t)*s*s),f=s*(1-t)*l,h=a*l,m=0;do{m++,c=n/Math.sqrt(1-t*h*h),b=i*f+w*h-c*(1-t*h*h),u=t*c/(c+b),l=1/Math.sqrt(1-u*(2-u)*s*s),p=s*(1-u)*l,y=a*l,d=y*f-p*h,f=p,h=y}while(d*d>1e-24&&m<30);return g=Math.atan(y/Math.abs(p)),{x:v,y:g,z:b}}function EH(e,t,n){if(t===u2)return{x:e.x+n[0],y:e.y+n[1],z:e.z+n[2]};if(t===c2){var r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=n[6];return{x:u*(e.x-l*e.y+s*e.z)+r,y:u*(l*e.x+e.y-a*e.z)+i,z:u*(-s*e.x+a*e.y+e.z)+o}}}function kH(e,t,n){if(t===u2)return{x:e.x-n[0],y:e.y-n[1],z:e.z-n[2]};if(t===c2){var r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=n[6],c=(e.x-r)/u,f=(e.y-i)/u,h=(e.z-o)/u;return{x:c+l*f-s*h,y:-l*c+f+a*h,z:s*c-a*f+h}}}function MH(e){return e===u2||e===c2}function AH(e){if("function"==typeof Number.isFinite){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof e||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function LH(e,t){return(e.datum.datum_type===u2||e.datum.datum_type===c2)&&"WGS84"!==t.datumCode||(t.datum.datum_type===u2||t.datum.datum_type===c2)&&"WGS84"!==e.datumCode}function jH(e,t,n){var r;return Array.isArray(n)&&(n=l3(n)),u3(n),e.datum&&t.datum&&LH(e,t)&&(r=new o3("WGS84"),n=jH(e,r,n),e=r),"enu"!==e.axis&&(n=s3(e,!1,n)),"longlat"===e.projName?n={x:n.x*b2,y:n.y*b2,z:n.z||0}:(e.to_meter&&(n={x:n.x*e.to_meter,y:n.y*e.to_meter,z:n.z||0}),n=e.inverse(n)),e.from_greenwich&&(n.x+=e.from_greenwich),n=a3(e.datum,t.datum,n),t.from_greenwich&&(n={x:n.x-t.from_greenwich,y:n.y,z:n.z||0}),"longlat"===t.projName?n={x:n.x*S2,y:n.y*S2,z:n.z||0}:(n=t.forward(n),t.to_meter&&(n={x:n.x/t.to_meter,y:n.y/t.to_meter,z:n.z||0})),"enu"!==t.axis?s3(t,!0,n):n}function RH(e,t,n){var r,i,o;return Array.isArray(n)?(r=jH(e,t,n)||{x:NaN,y:NaN},n.length>2?void 0!==e.name&&"geocent"===e.name||void 0!==t.name&&"geocent"===t.name?"number"==typeof r.z?[r.x,r.y,r.z].concat(n.splice(3)):[r.x,r.y,n[2]].concat(n.splice(3)):[r.x,r.y].concat(n.splice(2)):[r.x,r.y]):(i=jH(e,t,n),o=Object.keys(n),2===o.length?i:(o.forEach(function(r){if(void 0!==e.name&&"geocent"===e.name||void 0!==t.name&&"geocent"===t.name){if("x"===r||"y"===r||"z"===r)return}else if("x"===r||"y"===r)return;i[r]=n[r]}),i))}function NH(e){return e instanceof o3?e:e.oProj?e.oProj:o3(e)}function IH(e,t,n){e=NH(e);var r,i=!1;return void 0===t?(t=e,e=c3,i=!0):(void 0!==t.x||Array.isArray(t))&&(n=t,t=e,e=c3,i=!0),t=NH(t),n?RH(e,t,n):(r={forward:function(n){return RH(e,t,n)},inverse:function(n){return RH(t,e,n)}},i&&(r.oProj=t),r)}function DH(e,t){return t=t||5,JH(zH({lat:e[1],lon:e[0]}),t)}function FH(e){var t=VH(QH(e.toUpperCase()))
;return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function BH(e){var t=VH(QH(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function UH(e){return e*(Math.PI/180)}function GH(e){return e/Math.PI*180}function zH(e){var t,n,r,i,o,a,s,l,u,c=e.lat,f=e.lon,h=6378137,p=UH(c),y=UH(f);u=Math.floor((f+180)/6)+1,180===f&&(u=60),c>=56&&c<64&&f>=3&&f<12&&(u=32),c>=72&&c<84&&(f>=0&&f<9?u=31:f>=9&&f<21?u=33:f>=21&&f<33?u=35:f>=33&&f<42&&(u=37)),t=6*(u-1)-180+3,l=UH(t),n=.006739496752268451,r=h/Math.sqrt(1-.00669438*Math.sin(p)*Math.sin(p)),i=Math.tan(p)*Math.tan(p),o=n*Math.cos(p)*Math.cos(p),a=Math.cos(p)*(y-l),s=h*(.9983242984503243*p-.002514607064228144*Math.sin(2*p)+2639046602129982e-21*Math.sin(4*p)-3.418046101696858e-9*Math.sin(6*p));var d=.9996*r*(a+(1-i+o)*a*a*a/6+(5-18*i+i*i+72*o-58*n)*a*a*a*a*a/120)+5e5,m=.9996*(s+r*Math.tan(p)*(a*a/2+(5-i+9*o+4*o*o)*a*a*a*a/24+(61-58*i+i*i+600*o-330*n)*a*a*a*a*a*a/720));return c<0&&(m+=1e7),{northing:Math.round(m),easting:Math.round(d),zoneNumber:u,zoneLetter:HH(c)}}function VH(e){var t=e.northing,n=e.easting,r=e.zoneLetter,i=e.zoneNumber;if(i<0||i>60)return null;var o,a,s,l,u,c,f,h,p,y,d=6378137,m=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),v=n-5e5,g=t;r<"N"&&(g-=1e7),h=6*(i-1)-180+3,o=.006739496752268451,f=g/.9996,p=f/6367449.145945056,y=p+(3*m/2-27*m*m*m/32)*Math.sin(2*p)+(21*m*m/16-55*m*m*m*m/32)*Math.sin(4*p)+151*m*m*m/96*Math.sin(6*p),a=d/Math.sqrt(1-.00669438*Math.sin(y)*Math.sin(y)),s=Math.tan(y)*Math.tan(y),l=o*Math.cos(y)*Math.cos(y),u=.99330562*d/Math.pow(1-.00669438*Math.sin(y)*Math.sin(y),1.5),c=v/(.9996*a);var b=y-a*Math.tan(y)/u*(c*c/2-(5+3*s+10*l-4*l*l-9*o)*c*c*c*c/24+(61+90*s+298*l+45*s*s-252*o-3*l*l)*c*c*c*c*c*c/720);b=GH(b);var S=(c-(1+2*s+l)*c*c*c/6+(5-2*l+28*s-3*l*l+8*o+24*s*s)*c*c*c*c*c/120)/Math.cos(y);S=h+GH(S);var _;if(e.accuracy){var w=VH({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});_={top:w.lat,right:w.lon,bottom:b,left:S}}else _={lat:b,lon:S};return _}function HH(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function JH(e,t){var n="00000"+e.easting,r="00000"+e.northing;return e.zoneNumber+e.zoneLetter+qH(e.easting,e.northing,e.zoneNumber)+n.substr(n.length-5,t)+r.substr(r.length-5,t)}function qH(e,t,n){var r=WH(n);return YH(Math.floor(e/1e5),Math.floor(t/1e5)%20,r)}function WH(e){var t=e%h3;return 0===t&&(t=h3),t}function YH(e,t,n){var r=n-1,i=p3.charCodeAt(r),o=y3.charCodeAt(r),a=i+e-1,s=o+t,l=!1;return a>b3&&(a=a-b3+d3-1,l=!0),(a===m3||i<m3&&a>m3||(a>m3||i<m3)&&l)&&a++,(a===v3||i<v3&&a>v3||(a>v3||i<v3)&&l)&&++a===m3&&a++,a>b3&&(a=a-b3+d3-1),s>g3?(s=s-g3+d3-1,l=!0):l=!1,(s===m3||o<m3&&s>m3||(s>m3||o<m3)&&l)&&s++,(s===v3||o<v3&&s>v3||(s>v3||o<v3)&&l)&&++s===m3&&s++,s>g3&&(s=s-g3+d3-1),String.fromCharCode(a)+String.fromCharCode(s)}function QH(e){if(e&&0===e.length)throw"MGRSPoint coverting from nothing";for(var t,n=e.length,r=null,i="",o=0;!/[A-Z]/.test(t=e.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+e;i+=t,o++}var a=parseInt(i,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+e;var s=e.charAt(o++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+e;r=e.substring(o,o+=2);for(var l=WH(a),u=XH(r.charAt(0),l),c=KH(r.charAt(1),l);c<ZH(s);)c+=2e6;var f=n-o;if(f%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var h,p,y,d,m,v=f/2,g=0,b=0;return v>0&&(h=1e5/Math.pow(10,v),p=e.substring(o,o+v),g=parseFloat(p)*h,y=e.substring(o+v),b=parseFloat(y)*h),d=g+u,m=b+c,{easting:d,northing:m,zoneLetter:s,zoneNumber:a,accuracy:h}}function XH(e,t){for(var n=p3.charCodeAt(t-1),r=1e5,i=!1;n!==e.charCodeAt(0);){if(n++,n===m3&&n++,n===v3&&n++,n>b3){if(i)throw"Bad character: "+e;n=d3,i=!0}r+=1e5}return r}function KH(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var n=y3.charCodeAt(t-1),r=0,i=!1;n!==e.charCodeAt(0);){if(n++,n===m3&&n++,n===v3&&n++,n>g3){if(i)throw"Bad character: "+e;n=d3,i=!0}r+=1e5}return r}function ZH(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function $H(e){return($H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eJ(e,t,n){if(!(this instanceof eJ))return new eJ(e,t,n);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if("object"===$H(e))this.x=e.x,this.y=e.y,this.z=e.z||0;else if("string"==typeof e&&void 0===t){var r=e.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=e,this.y=t,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}function tJ(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=O3(this.es),this.ml0=x3(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function nJ(e){var t,n,r,i=e.x,o=e.y,a=H2(i-this.long0),s=Math.sin(o),l=Math.cos(o);if(this.es){var u=l*a,c=Math.pow(u,2),f=this.ep2*Math.pow(l,2),h=Math.pow(f,2),p=Math.abs(l)>g2?Math.tan(o):0,y=Math.pow(p,2),d=Math.pow(y,2);t=1-this.es*Math.pow(s,2),u/=Math.sqrt(t);var m=x3(o,s,l,this.en);n=this.a*(this.k0*u*(1+c/6*(1-y+f+c/20*(5-18*y+d+14*f-58*y*f+c/42*(61+179*d-d*y-479*y)))))+this.x0,r=this.a*(this.k0*(m-this.ml0+s*a*u/2*(1+c/12*(5-y+9*f+4*h+c/30*(61+d-58*y+270*f-330*y*f+c/56*(1385+543*d-d*y-3111*y))))))+this.y0}else{var v=l*Math.sin(a);if(Math.abs(Math.abs(v)-1)<g2)return 93;if(n=.5*this.a*this.k0*Math.log((1+v)/(1-v))+this.x0,r=l*Math.cos(a)/Math.sqrt(1-Math.pow(v,2)),(v=Math.abs(r))>=1){if(v-1>g2)return 93;r=0}else r=Math.acos(r);o<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return e.x=n,e.y=r,e}function rJ(e){var t,n,r,i,o=(e.x-this.x0)*(1/this.a),a=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+a/this.k0,n=C3(t,this.es,this.en),Math.abs(n)<y2){var s=Math.sin(n),l=Math.cos(n),u=Math.abs(l)>g2?Math.tan(n):0,c=this.ep2*Math.pow(l,2),f=Math.pow(c,2),h=Math.pow(u,2),p=Math.pow(h,2);t=1-this.es*Math.pow(s,2);var y=o*Math.sqrt(t)/this.k0,d=Math.pow(y,2);t*=u,r=n-t*d/(1-this.es)*.5*(1-d/12*(5+3*h-9*c*h+c-4*f-d/30*(61+90*h-252*c*h+45*p+46*c-d/56*(1385+3633*h+4095*p+1574*p*h)))),i=H2(this.long0+y*(1-d/6*(1+2*h+c-d/20*(5+28*h+24*p+8*c*h+6*c-d/42*(61+662*h+1320*p+720*p*h))))/l)}else r=y2*V2(a),i=0;else{var m=Math.exp(o/this.k0),v=.5*(m-1/m),g=this.lat0+a/this.k0,b=Math.cos(g);t=Math.sqrt((1-Math.pow(b,2))/(1+Math.pow(v,2))),r=Math.asin(t),a<0&&(r=-r),i=0===v&&0===b?0:H2(Math.atan2(v,b)+this.long0)}return e.x=i,e.y=r,e}function iJ(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),n=t;this.cgb[0]=t*(2+t*(-2/3+t*(t*(116/45+t*(26/45+t*(-2854/675)))-2))),this.cbg[0]=t*(t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))-2),n*=t,this.cgb[1]=n*(7/3+t*(t*(-227/45+t*(2704/315+t*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),n*=t,this.cgb[2]=n*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=n*(-26/15+t*(34/21+t*(1.6+t*(-12686/2835)))),n*=t,this.cgb[3]=n*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=n*(1237/630+t*(t*(-24832/14175)-2.4)),n*=t,this.cgb[4]=n*(4174/315+t*(-144838/6237)),this.cbg[4]=n*(-734/315+t*(109598/31185)),n*=t,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=t*(t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))-.5),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=n*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=n*(13/48+t*(t*(557/1440+t*(281/630+t*(-1983433/1935360)))-.6)),n*=t,this.utg[2]=n*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=n*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),n*=t,this.utg[3]=n*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=n*(49561/161280+t*(-179/168+t*(6601661/7257600))),n*=t,this.utg[4]=n*(-4583/161280+t*(108847/3991680)),this.gtu[4]=n*(34729/80640+t*(-3418889/1995840)),n*=t,this.utg[5]=-.03233083094085698*n,this.gtu[5]=.6650675310896665*n;var r=L3(this.cbg,this.lat0);this.Zb=-this.Qn*(r+j3(this.gtu,2*r))}function oJ(e){var t=H2(e.x-this.long0),n=e.y;n=L3(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),o=Math.sin(t),a=Math.cos(t);n=Math.atan2(r,a*i),t=Math.atan2(o*i,k3(r,i*a)),t=A3(Math.tan(t));var s=N3(this.gtu,2*n,2*t);n+=s[0],t+=s[1];var l,u;return Math.abs(t)<=2.623395162778?(l=this.a*(this.Qn*t)+this.x0,u=this.a*(this.Qn*n+this.Zb)+this.y0):(l=1/0,u=1/0),e.x=l,e.y=u,e}function aJ(e){var t=(e.x-this.x0)*(1/this.a),n=(e.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,t/=this.Qn;var r,i;if(Math.abs(t)<=2.623395162778){var o=N3(this.utg,2*n,2*t);n+=o[0],t+=o[1],t=Math.atan(E3(t));var a=Math.sin(n),s=Math.cos(n),l=Math.sin(t),u=Math.cos(t);n=Math.atan2(a*u,k3(l,u*s)),t=Math.atan2(l,u*s),r=H2(t+this.long0),i=L3(this.cgb,n)}else r=1/0,i=1/0;return e.x=r,e.y=i,e}function sJ(){var e=F3(this.zone,this.long0);if(void 0===e)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*b2,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,D3.init.apply(this),this.forward=D3.forward,this.inverse=D3.inverse}function lJ(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+_2)/(Math.pow(Math.tan(.5*this.lat0+_2),this.C)*G3(this.e*e,this.ratexp))}function uJ(e){var t=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+_2),this.C)*G3(this.e*Math.sin(n),this.ratexp))-y2,e.x=this.C*t,e}function cJ(e){for(var t=e.x/this.C,n=e.y,r=Math.pow(Math.tan(.5*n+_2)/this.K,1/this.C),i=z3;i>0&&(n=2*Math.atan(r*G3(this.e*Math.sin(e.y),-.5*this.e))-y2,!(Math.abs(n-e.y)<1e-14));--i)e.y=n;return i?(e.x=t,e.y=n,e):null}function fJ(){H3.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function hJ(e){var t,n,r,i;return e.x=H2(e.x-this.long0),H3.forward.apply(this,[e]),t=Math.sin(e.y),n=Math.cos(e.y),r=Math.cos(e.x),i=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*n*r),e.x=i*n*Math.sin(e.x),e.y=i*(this.cosc0*t-this.sinc0*n*r),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function pJ(e){var t,n,r,i,o;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,o=Math.sqrt(e.x*e.x+e.y*e.y)){var a=2*Math.atan2(o,this.R2);t=Math.sin(a),n=Math.cos(a),i=Math.asin(n*this.sinc0+e.y*t*this.cosc0/o),r=Math.atan2(e.x*t,o*this.cosc0*n-e.y*this.sinc0*t)}else i=this.phic0,r=0;return e.x=r,e.y=i,H3.inverse.apply(this,[e]),e.x=H2(e.x+this.long0),e}function yJ(e,t,n){return t*=n,Math.tan(.5*(y2+e))*Math.pow((1-t)/(1+t),.5*n)}function dJ(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=g2&&(this.k0=.5*(1+V2(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=g2&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=g2&&(this.k0=.5*this.cons*z2(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/J2(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=z2(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-y2,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function mJ(e){var t,n,r,i,o,a,s=e.x,l=e.y,u=Math.sin(l),c=Math.cos(l),f=H2(s-this.long0);return Math.abs(Math.abs(s-this.long0)-Math.PI)<=g2&&Math.abs(l+this.lat0)<=g2?(e.x=NaN,e.y=NaN,e):this.sphere?(t=2*this.k0/(1+this.sinlat0*u+this.coslat0*c*Math.cos(f)),e.x=this.a*t*c*Math.sin(f)+this.x0,e.y=this.a*t*(this.coslat0*u-this.sinlat0*c*Math.cos(f))+this.y0,e):(n=2*Math.atan(this.ssfn_(l,u,this.e))-y2,i=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=g2?(o=J2(this.e,l*this.con,this.con*u),a=2*this.a*this.k0*o/this.cons,e.x=this.x0+a*Math.sin(s-this.long0),e.y=this.y0-this.con*a*Math.cos(s-this.long0),e):(Math.abs(this.sinlat0)<g2?(t=2*this.a*this.k0/(1+i*Math.cos(f)),e.y=t*r):(t=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*i*Math.cos(f))),e.y=t*(this.cosX0*r-this.sinX0*i*Math.cos(f))+this.y0),e.x=t*i*Math.sin(f)+this.x0,e))}function vJ(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,o,a=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var s=2*Math.atan(a/(2*this.a*this.k0));return t=this.long0,(n=this.lat0,a<=g2)?(e.x=t,e.y=n,e):(n=Math.asin(Math.cos(s)*this.sinlat0+e.y*Math.sin(s)*this.coslat0/a),t=H2(Math.abs(this.coslat0)<g2?this.lat0>0?this.long0+Math.atan2(e.x,-1*e.y):this.long0+Math.atan2(e.x,e.y):this.long0+Math.atan2(e.x*Math.sin(s),a*this.coslat0*Math.cos(s)-e.y*this.sinlat0*Math.sin(s))),e.x=t,e.y=n,e)}if(Math.abs(this.coslat0)<=g2){if(a<=g2)return n=this.lat0,t=this.long0,e.x=t,e.y=n,e;e.x*=this.con,e.y*=this.con,r=a*this.cons/(2*this.a*this.k0),n=this.con*q2(this.e,r),t=this.con*H2(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else i=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,a<=g2?o=this.X0:(o=Math.asin(Math.cos(i)*this.sinX0+e.y*Math.sin(i)*this.cosX0/a),t=H2(this.long0+Math.atan2(e.x*Math.sin(i),a*this.cosX0*Math.cos(i)-e.y*this.sinX0*Math.sin(i)))),n=-1*q2(this.e,Math.tan(.5*(y2+o)));return e.x=t,e.y=n,e}function gJ(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),n=this.a,r=this.rf,i=1/r,o=2*i-Math.pow(i,2),a=this.e=Math.sqrt(o);this.R=this.k0*n*Math.sqrt(1-o)/(1-o*Math.pow(t,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+e/2)),u=Math.log((1+a*t)/(1-a*t));this.K=s-this.alpha*l+this.alpha*a/2*u}function bJ(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),r=-this.alpha*(t+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),o=this.alpha*(e.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),s=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return e.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,e.x=this.R*a+this.x0,e}function SJ(e){for(var t=e.x-this.x0,n=e.y-this.y0,r=t/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),a=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),s=this.lambda0+a/this.alpha,l=0,u=o,c=-1e3,f=0;Math.abs(u-c)>1e-7;){if(++f>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),c=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=s,e.y=u,e}function _J(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var e=Math.sin(this.lat0),t=Math.cos(this.lat0),n=this.e*e;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(t,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var r=J2(this.e,this.lat0,e),i=this.bl/t*Math.sqrt((1-this.es)/(1-n*n));i*i<1&&(i=1);var o,a;if(isNaN(this.longc)){var s=J2(this.e,this.lat1,Math.sin(this.lat1)),l=J2(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(i+Math.sqrt(i*i-1))*Math.pow(r,this.bl):this.el=(i-Math.sqrt(i*i-1))*Math.pow(r,this.bl);var u=Math.pow(s,this.bl),c=Math.pow(l,this.bl);o=this.el/u,a=.5*(o-1/o);var f=(this.el*this.el-c*u)/(this.el*this.el+c*u),h=(c-u)/(c+u),p=H2(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(f*Math.tan(.5*this.bl*p)/h)/this.bl,this.long0=H2(this.long0);var y=H2(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*y)/a),this.alpha=Math.asin(i*Math.sin(this.gamma0))}else o=this.lat0>=0?i+Math.sqrt(i*i-1):i-Math.sqrt(i*i-1),this.el=o*Math.pow(r,this.bl),a=.5*(o-1/o),this.gamma0=Math.asin(Math.sin(this.alpha)/i),this.long0=this.longc-Math.asin(a*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(i*i-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(i*i-1),Math.cos(this.alpha))}function wJ(e){var t,n,r,i=e.x,o=e.y,a=H2(i-this.long0);if(Math.abs(Math.abs(o)-y2)<=g2)r=o>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(_2+r*this.gamma0*.5)),t=-1*r*y2*this.al/this.bl;else{var s=J2(this.e,o,Math.sin(o)),l=this.el/Math.pow(s,this.bl),u=.5*(l-1/l),c=.5*(l+1/l),f=Math.sin(this.bl*a),h=(u*Math.sin(this.gamma0)-f*Math.cos(this.gamma0))/c;n=Math.abs(Math.abs(h)-1)<=g2?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-h)/(1+h))/this.bl,t=Math.abs(Math.cos(this.bl*a))<=g2?this.al*this.bl*a:this.al*Math.atan2(u*Math.cos(this.gamma0)+f*Math.sin(this.gamma0),Math.cos(this.bl*a))/this.bl}return this.no_rot?(e.x=this.x0+t,e.y=this.y0+n):(t-=this.uc,e.x=this.x0+n*Math.cos(this.alpha)+t*Math.sin(this.alpha),e.y=this.y0+t*Math.cos(this.alpha)-n*Math.sin(this.alpha)),e}function OJ(e){var t,n;this.no_rot?(n=e.y-this.y0,t=e.x-this.x0):(n=(e.x-this.x0)*Math.cos(this.alpha)-(e.y-this.y0)*Math.sin(this.alpha),t=(e.y-this.y0)*Math.cos(this.alpha)+(e.x-this.x0)*Math.sin(this.alpha),t+=this.uc);var r=Math.exp(-1*this.bl*n/this.al),i=.5*(r-1/r),o=.5*(r+1/r),a=Math.sin(this.bl*t/this.al),s=(a*Math.cos(this.gamma0)+i*Math.sin(this.gamma0))/o,l=Math.pow(this.el/Math.sqrt((1+s)/(1-s)),1/this.bl);return Math.abs(s-1)<g2?(e.x=this.long0,e.y=y2):Math.abs(s+1)<g2?(e.x=this.long0,e.y=-1*y2):(e.y=q2(this.e,l),e.x=H2(this.long0-Math.atan2(i*Math.cos(this.gamma0)-a*Math.sin(this.gamma0),Math.cos(this.bl*t/this.al))/this.bl)),e}function xJ(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<g2)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),n=Math.cos(this.lat1),r=z2(this.e,t,n),i=J2(this.e,this.lat1,t),o=Math.sin(this.lat2),a=Math.cos(this.lat2),s=z2(this.e,o,a),l=J2(this.e,this.lat2,o),u=J2(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>g2?this.ns=Math.log(r/s)/Math.log(i/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function CJ(e){var t=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=g2&&(n=V2(n)*(y2-2*g2));var r,i,o=Math.abs(Math.abs(n)-y2);if(o>g2)r=J2(this.e,n,Math.sin(n)),i=this.a*this.f0*Math.pow(r,this.ns);else{if((o=n*this.ns)<=0)return null;i=0}var a=this.ns*H2(t-this.long0);return e.x=this.k0*(i*Math.sin(a))+this.x0,e.y=this.k0*(this.rh-i*Math.cos(a))+this.y0,e}function TJ(e){var t,n,r,i,o,a=(e.x-this.x0)/this.k0,s=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(a*a+s*s),n=1):(t=-Math.sqrt(a*a+s*s),n=-1);var l=0;if(0!==t&&(l=Math.atan2(n*a,n*s)),0!==t||this.ns>0){if(n=1/this.ns,r=Math.pow(t/(this.a*this.f0),n),-9999===(i=q2(this.e,r)))return null}else i=-y2;return o=H2(l/this.ns+this.long0),e.x=o,e.y=i,e}function PJ(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function EJ(e){var t,n,r,i,o,a,s,l=e.x,u=e.y,c=H2(l-this.long0);return t=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/t)-this.s45),r=-c*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),o=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),a=this.n*o,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),e.y=s*Math.cos(a)/1,e.x=s*Math.sin(a)/1,this.czech||(e.y*=-1,e.x*=-1),e}function kJ(e){var t,n,r,i,o,a,s,l,u=e.x;e.x=e.y,e.y=u,this.czech||(e.y*=-1,e.x*=-1),a=Math.sqrt(e.x*e.x+e.y*e.y),o=Math.atan2(e.y,e.x),i=o/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(t)),e.x=this.long0-n/this.alfa,s=t,l=0;var c=0;do{e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-e.y)<1e-10&&(l=1),s=e.y,c+=1}while(0===l&&c<15);return c>=15?null:e}function MJ(){this.sphere||(this.e0=i5(this.es),this.e1=o5(this.es),this.e2=a5(this.es),this.e3=s5(this.es),this.ml0=this.a*r5(this.e0,this.e1,this.e2,this.e3,this.lat0))}function AJ(e){var t,n,r=e.x,i=e.y;if(r=H2(r-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var o=Math.sin(i),a=Math.cos(i),s=l5(this.a,this.e,o),l=Math.tan(i)*Math.tan(i),u=r*Math.cos(i),c=u*u,f=this.es*a*a/(1-this.es),h=this.a*r5(this.e0,this.e1,this.e2,this.e3,i);t=s*u*(1-c*l*(1/6-(8-l+8*f)*c/120)),n=h-this.ml0+s*o/a*c*(.5+(5-l+6*f)*c/24)}return e.x=t+this.x0,e.y=n+this.y0,e}function LJ(e){e.x-=this.x0,e.y-=this.y0;var t,n,r=e.x/this.a,i=e.y/this.a;if(this.sphere){var o=i+this.lat0;t=Math.asin(Math.sin(o)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(o))}else{var a=this.ml0/this.a+i,s=c5(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-y2)<=g2)return e.x=this.long0,e.y=y2,i<0&&(e.y*=-1),e;var l=l5(this.a,this.e,Math.sin(s)),u=l*l*l/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(s),2),f=r*this.a/l,h=f*f;t=s-l*Math.tan(s)/u*f*f*(.5-(1+3*c)*f*f/24),n=f*(1-h*(c/3+(1+3*c)*c*h/15))/Math.cos(s)}return e.x=H2(n+this.long0),e.y=u5(t),e}function jJ(){var e=Math.abs(this.lat0);if(Math.abs(e-y2)<g2?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<g2?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var t;switch(this.qp=p5(this.e,1),this.mmf=.5/(1-this.es),this.apa=IJ(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=p5(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function RJ(e){var t,n,r,i,o,a,s,l,u,c,f=e.x,h=e.y;if(f=H2(f-this.long0),this.sphere){if(o=Math.sin(h),c=Math.cos(h),r=Math.cos(f),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+c*r:1+this.sinph0*o+this.cosph0*c*r)<=g2)return null;n=Math.sqrt(2/n),t=n*c*Math.sin(f),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*c*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(h+this.phi0)<g2)return null;n=_2-.5*h,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),t=n*Math.sin(f),n*=r}}else{switch(s=0,l=0,u=0,r=Math.cos(f),i=Math.sin(f),o=Math.sin(h),a=p5(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(s=a/this.qp,l=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:u=1+this.sinb1*s+this.cosb1*l*r;break;case this.EQUIT:u=1+l*r;break;case this.N_POLE:u=y2+h,a=this.qp-a;break;case this.S_POLE:u=h-y2,a=this.qp+a}if(Math.abs(u)<g2)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),n=this.mode===this.OBLIQ?this.ymf*u*(this.cosb1*s-this.sinb1*l*r):(u=Math.sqrt(2/(1+l*r)))*s*this.ymf,t=this.xmf*u*l*i;break;case this.N_POLE:case this.S_POLE:a>=0?(t=(u=Math.sqrt(a))*i,n=r*(this.mode===this.S_POLE?u:-u)):t=n=0}}return e.x=this.a*t+this.x0,e.y=this.a*n+this.y0,e}function NJ(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,o,a,s,l=e.x/this.a,u=e.y/this.a;if(this.sphere){var c,f=0,h=0;if(c=Math.sqrt(l*l+u*u),(n=.5*c)>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(h=Math.sin(n),f=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(c)<=g2?0:Math.asin(u*h/c),l*=h,u=f*c;break;case this.OBLIQ:n=Math.abs(c)<=g2?this.phi0:Math.asin(f*this.sinph0+u*h*this.cosph0/c),l*=h*this.cosph0,u=(f-Math.sin(n)*this.sinph0)*c;break;case this.N_POLE:u=-u,n=y2-n;break;case this.S_POLE:n-=y2}t=0!==u||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(l,u):0}else{if(s=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(l/=this.dd,u*=this.dd,(a=Math.sqrt(l*l+u*u))<g2)return e.x=0,e.y=this.phi0,e;i=2*Math.asin(.5*a/this.rq),r=Math.cos(i),l*=i=Math.sin(i),this.mode===this.OBLIQ?(s=r*this.sinb1+u*i*this.cosb1/a,o=this.qp*s,u=a*this.cosb1*r-u*this.sinb1*i):(s=u*i/a,o=this.qp*s,u=a*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(u=-u),!(o=l*l+u*u))return e.x=0,e.y=this.phi0,e;s=1-o/this.qp,this.mode===this.S_POLE&&(s=-s)}t=Math.atan2(l,u),n=DJ(Math.asin(s),this.apa)}return e.x=H2(this.long0+t),e.y=n,e}function IJ(e){var t,n=[];return n[0]=e*y5,t=e*e,n[0]+=t*d5,n[1]=t*v5,t*=e,n[0]+=t*m5,n[1]+=t*g5,n[2]=t*b5,n}function DJ(e,t){var n=e+e;return e+t[0]*Math.sin(n)+t[1]*Math.sin(n+n)+t[2]*Math.sin(n+n+n)}function FJ(){Math.abs(this.lat1+this.lat2)<g2||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=z2(this.e3,this.sin_po,this.cos_po),this.qs1=p5(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=z2(this.e3,this.sin_po,this.cos_po),this.qs2=p5(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=p5(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>g2?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function BJ(e){var t=e.x,n=e.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=p5(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,o=this.ns0*H2(t-this.long0),a=i*Math.sin(o)+this.x0,s=this.rh-i*Math.cos(o)+this.y0;return e.x=a,e.y=s,e}function UJ(e){var t,n,r,i,o,a;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),r=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),r=-1),i=0,0!==t&&(i=Math.atan2(r*e.x,r*e.y)),r=t*this.ns0/this.a,this.sphere?a=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,a=this.phi1z(this.e3,n)),o=H2(i/this.ns0+this.long0),e.x=o,e.y=a,e}function GJ(e,t){var n,r,i,o,a,s=w5(.5*t);if(e<g2)return s;for(var l=e*e,u=1;u<=25;u++)if(n=Math.sin(s),r=Math.cos(s),i=e*n,o=1-i*i,a=.5*o*o/r*(t/(1-l)-n/o+.5/e*Math.log((1-i)/(1+i))),s+=a,Math.abs(a)<=1e-7)return s;return null}function zJ(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function VJ(e){var t,n,r,i,o,a,s,l,u=e.x,c=e.y;return r=H2(u-this.long0),t=Math.sin(c),n=Math.cos(c),i=Math.cos(r),a=this.sin_p14*t+this.cos_p14*n*i,o=1,a>0||Math.abs(a)<=g2?(s=this.x0+this.a*o*n*Math.sin(r)/a,l=this.y0+this.a*o*(this.cos_p14*t-this.sin_p14*n*i)/a):(s=this.x0+this.infinity_dist*n*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*n*i)),e.x=s,e.y=l,e}function HJ(e){var t,n,r,i,o,a;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(i=Math.atan2(t,this.rc),n=Math.sin(i),r=Math.cos(i),a=w5(r*this.sin_p14+e.y*n*this.cos_p14/t),o=Math.atan2(e.x*n,t*this.cos_p14*r-e.y*this.sin_p14*n),o=H2(this.long0+o)):(a=this.phic0,o=0),e.x=o,e.y=a,e}function JJ(){this.sphere||(this.k0=z2(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function qJ(e){var t,n,r=e.x,i=e.y,o=H2(r-this.long0);if(this.sphere)t=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var a=p5(this.e,Math.sin(i));t=this.x0+this.a*this.k0*o,n=this.y0+this.a*a*.5/this.k0}return e.x=t,e.y=n,e}function WJ(e){e.x-=this.x0,e.y-=this.y0;var t,n;return this.sphere?(t=H2(this.long0+e.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=P5(this.e,2*e.y*this.k0/this.a),t=H2(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=n,e}function YJ(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function QJ(e){var t=e.x,n=e.y,r=H2(t-this.long0),i=u5(n-this.lat0);return e.x=this.x0+this.a*r*this.rc,e.y=this.y0+this.a*i,e}function XJ(e){var t=e.x,n=e.y;return e.x=H2(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=u5(this.lat0+(n-this.y0)/this.a),e}function KJ(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=i5(this.es),this.e1=o5(this.es),this.e2=a5(this.es),this.e3=s5(this.es),this.ml0=this.a*r5(this.e0,this.e1,this.e2,this.e3,this.lat0)}function ZJ(e){var t,n,r,i=e.x,o=e.y,a=H2(i-this.long0);if(r=a*Math.sin(o),this.sphere)Math.abs(o)<=g2?(t=this.a*a,n=-1*this.a*this.lat0):(t=this.a*Math.sin(r)/Math.tan(o),n=this.a*(u5(o-this.lat0)+(1-Math.cos(r))/Math.tan(o)));else if(Math.abs(o)<=g2)t=this.a*a,n=-1*this.ml0;else{var s=l5(this.a,this.e,Math.sin(o))/Math.tan(o);t=s*Math.sin(r),n=this.a*r5(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+s*(1-Math.cos(r))}return e.x=t+this.x0,e.y=n+this.y0,e}function $J(e){var t,n,r,i,o,a,s,l,u;if(r=e.x-this.x0,i=e.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=g2)t=H2(r/this.a+this.long0),n=0;else{a=this.lat0+i/this.a,s=r*r/this.a/this.a+a*a,l=a;var c;for(o=L5;o;--o)if(c=Math.tan(l),u=-1*(a*(l*c+1)-l-.5*(l*l+s)*c)/((l-a)/c-1),l+=u,Math.abs(u)<=g2){n=l;break}t=H2(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=g2)n=0,t=H2(this.long0+r/this.a);else{
a=(this.ml0+i)/this.a,s=r*r/this.a/this.a+a*a,l=a;var f,h,p,y,d;for(o=L5;o;--o)if(d=this.e*Math.sin(l),f=Math.sqrt(1-d*d)*Math.tan(l),h=this.a*r5(this.e0,this.e1,this.e2,this.e3,l),p=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),y=h/this.a,u=(a*(f*y+1)-y-.5*f*(y*y+s))/(this.es*Math.sin(2*l)*(y*y+s-2*a*y)/(4*f)+(a-y)*(f*p-2/Math.sin(2*l))-p),l-=u,Math.abs(u)<=g2){n=l;break}f=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),t=H2(this.long0+Math.asin(r*f/this.a)/Math.sin(n))}return e.x=t,e.y=n,e}function eq(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function tq(e){var t,n=e.x,r=e.y,i=r-this.lat0,o=n-this.long0,a=i/p2*1e-5,s=o,l=1,u=0;for(t=1;t<=10;t++)l*=a,u+=this.A[t]*l;var c,f,h=u,p=s,y=1,d=0,m=0,v=0;for(t=1;t<=6;t++)c=y*h-d*p,f=d*h+y*p,y=c,d=f,m=m+this.B_re[t]*y-this.B_im[t]*d,v=v+this.B_im[t]*y+this.B_re[t]*d;return e.x=v*this.a+this.x0,e.y=m*this.a+this.y0,e}function nq(e){var t,n,r,i=e.x,o=e.y,a=i-this.x0,s=o-this.y0,l=s/this.a,u=a/this.a,c=1,f=0,h=0,p=0;for(t=1;t<=6;t++)n=c*l-f*u,r=f*l+c*u,c=n,f=r,h=h+this.C_re[t]*c-this.C_im[t]*f,p=p+this.C_im[t]*c+this.C_re[t]*f;for(var y=0;y<this.iterations;y++){var d,m,v=h,g=p,b=l,S=u;for(t=2;t<=6;t++)d=v*h-g*p,m=g*h+v*p,v=d,g=m,b+=(t-1)*(this.B_re[t]*v-this.B_im[t]*g),S+=(t-1)*(this.B_im[t]*v+this.B_re[t]*g);v=1,g=0;var _=this.B_re[1],w=this.B_im[1];for(t=2;t<=6;t++)d=v*h-g*p,m=g*h+v*p,v=d,g=m,_+=t*(this.B_re[t]*v-this.B_im[t]*g),w+=t*(this.B_im[t]*v+this.B_re[t]*g);var O=_*_+w*w;h=(b*_+S*w)/O,p=(S*_-b*w)/O}var x=h,C=p,T=1,P=0;for(t=1;t<=9;t++)T*=x,P+=this.D[t]*T;var E=this.lat0+P*p2*1e5,k=this.long0+C;return e.x=k,e.y=E,e}function rq(){}function iq(e){var t=e.x,n=e.y,r=H2(t-this.long0),i=this.x0+this.a*r,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return e.x=i,e.y=o,e}function oq(e){e.x-=this.x0,e.y-=this.y0;var t=H2(this.long0+e.x/this.a),n=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=n,e}function aq(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=O3(this.es)}function sq(e){var t,n,r=e.x,i=e.y;if(r=H2(r-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(i),a=B5;a;--a){var s=(this.m*i+Math.sin(i)-o)/(this.m+Math.cos(i));if(i-=s,Math.abs(s)<g2)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;t=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var l=Math.sin(i),u=Math.cos(i);n=this.a*x3(i,l,u,this.en),t=this.a*r*u/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=n,e}function lq(e){var t,n,r,i;return e.x-=this.x0,r=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,r/=this.C_x*(this.m+Math.cos(t)),this.m?t=w5((this.m*t+Math.sin(t))/this.n):1!==this.n&&(t=w5(Math.sin(t)/this.n)),r=H2(r+this.long0),t=u5(t)):(t=C3(e.y/this.a,this.es,this.en),i=Math.abs(t),i<y2?(i=Math.sin(t),n=this.long0+e.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(t)),r=H2(n)):i-g2<y2&&(r=this.long0)),e.x=r,e.y=t,e}function uq(){}function cq(e){for(var t=e.x,n=e.y,r=H2(t-this.long0),i=n,o=Math.PI*Math.sin(n);;){var a=-(i+Math.sin(i)-o)/(1+Math.cos(i));if(i+=a,Math.abs(a)<g2)break}i/=2,Math.PI/2-Math.abs(n)<g2&&(r=0);var s=.900316316158*this.a*r*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return e.x=s,e.y=l,e}function fq(e){var t,n;e.x-=this.x0,e.y-=this.y0,n=e.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),t=Math.asin(n);var r=H2(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*t+Math.sin(2*t))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return e.x=r,e.y=i,e}function hq(){Math.abs(this.lat1+this.lat2)<g2||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=i5(this.es),this.e1=o5(this.es),this.e2=a5(this.es),this.e3=s5(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=z2(this.e,this.sinphi,this.cosphi),this.ml1=r5(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<g2?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=z2(this.e,this.sinphi,this.cosphi),this.ml2=r5(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=r5(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function pq(e){var t,n=e.x,r=e.y;if(this.sphere)t=this.a*(this.g-r);else{var i=r5(this.e0,this.e1,this.e2,this.e3,r);t=this.a*(this.g-i)}var o=this.ns*H2(n-this.long0),a=this.x0+t*Math.sin(o),s=this.y0+this.rh-t*Math.cos(o);return e.x=a,e.y=s,e}function yq(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,n,r,i;this.ns>=0?(n=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(n=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var o=0;if(0!==n&&(o=Math.atan2(t*e.x,t*e.y)),this.sphere)return i=H2(this.long0+o/this.ns),r=u5(this.g-n/this.a),e.x=i,e.y=r,e;var a=this.g-n/this.a;return r=c5(a,this.e0,this.e1,this.e2,this.e3),i=H2(this.long0+o/this.ns),e.x=i,e.y=r,e}function dq(){this.R=this.a}function mq(e){var t,n,r=e.x,i=e.y,o=H2(r-this.long0);Math.abs(i)<=g2&&(t=this.x0+this.R*o,n=this.y0);var a=w5(2*Math.abs(i/Math.PI));(Math.abs(o)<=g2||Math.abs(Math.abs(i)-y2)<=g2)&&(t=this.x0,n=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*a):this.y0+Math.PI*this.R*-Math.tan(.5*a));var s=.5*Math.abs(Math.PI/o-o/Math.PI),l=s*s,u=Math.sin(a),c=Math.cos(a),f=c/(u+c-1),h=f*f,p=f*(2/u-1),y=p*p,d=Math.PI*this.R*(s*(f-y)+Math.sqrt(l*(f-y)*(f-y)-(y+l)*(h-y)))/(y+l);o<0&&(d=-d),t=this.x0+d;var m=l+f;return d=Math.PI*this.R*(p*m-s*Math.sqrt((y+l)*(l+1)-m*m))/(y+l),n=i>=0?this.y0+d:this.y0-d,e.x=t,e.y=n,e}function vq(e){var t,n,r,i,o,a,s,l,u,c,f,h,p;return e.x-=this.x0,e.y-=this.y0,f=Math.PI*this.R,r=e.x/f,i=e.y/f,o=r*r+i*i,a=-Math.abs(i)*(1+o),s=a-2*i*i+r*r,l=-2*a+1+2*i*i+o*o,p=i*i/l+(2*s*s*s/l/l/l-9*a*s/l/l)/27,u=(a-s*s/3/l)/l,c=2*Math.sqrt(-u/3),f=3*p/u/c,Math.abs(f)>1&&(f=f>=0?1:-1),h=Math.acos(f)/3,n=e.y>=0?(-c*Math.cos(h+Math.PI/3)-s/3/l)*Math.PI:-(-c*Math.cos(h+Math.PI/3)-s/3/l)*Math.PI,t=Math.abs(r)<g2?this.long0:H2(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(r*r-i*i)+o*o))/2/r),e.x=t,e.y=n,e}function gq(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function bq(e){var t,n,r,i,o,a,s,l,u,c,f,h,p,y,d,m,v,g,b,S,_,w,O,x=e.x,C=e.y,T=Math.sin(e.y),P=Math.cos(e.y),E=H2(x-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=g2?(e.x=this.x0+this.a*(y2-C)*Math.sin(E),e.y=this.y0-this.a*(y2-C)*Math.cos(E),e):Math.abs(this.sin_p12+1)<=g2?(e.x=this.x0+this.a*(y2+C)*Math.sin(E),e.y=this.y0+this.a*(y2+C)*Math.cos(E),e):(g=this.sin_p12*T+this.cos_p12*P*Math.cos(E),m=Math.acos(g),v=m/Math.sin(m),e.x=this.x0+this.a*v*P*Math.sin(E),e.y=this.y0+this.a*v*(this.cos_p12*T-this.sin_p12*P*Math.cos(E)),e):(t=i5(this.es),n=o5(this.es),r=a5(this.es),i=s5(this.es),Math.abs(this.sin_p12-1)<=g2?(o=this.a*r5(t,n,r,i,y2),a=this.a*r5(t,n,r,i,C),e.x=this.x0+(o-a)*Math.sin(E),e.y=this.y0-(o-a)*Math.cos(E),e):Math.abs(this.sin_p12+1)<=g2?(o=this.a*r5(t,n,r,i,y2),a=this.a*r5(t,n,r,i,C),e.x=this.x0+(o+a)*Math.sin(E),e.y=this.y0+(o+a)*Math.cos(E),e):(s=T/P,l=l5(this.a,this.e,this.sin_p12),u=l5(this.a,this.e,T),c=Math.atan((1-this.es)*s+this.es*l*this.sin_p12/(u*P)),f=Math.atan2(Math.sin(E),this.cos_p12*Math.tan(c)-this.sin_p12*Math.cos(E)),b=0===f?Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.abs(Math.abs(f)-Math.PI)<=g2?-Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.asin(Math.sin(E)*Math.cos(c)/Math.sin(f)),h=this.e*this.sin_p12/Math.sqrt(1-this.es),p=this.e*this.cos_p12*Math.cos(f)/Math.sqrt(1-this.es),y=h*p,d=p*p,S=b*b,_=S*b,w=_*b,O=w*b,m=l*b*(1-S*d*(1-d)/6+_/8*y*(1-2*d)+w/120*(d*(4-7*d)-3*h*h*(1-7*d))-O/48*y),e.x=this.x0+m*Math.sin(f),e.y=this.y0+m*Math.cos(f),e))}function Sq(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,o,a,s,l,u,c,f,h,p,y,d,m,v,g,b,S,_,w,O;if(this.sphere){if((t=Math.sqrt(e.x*e.x+e.y*e.y))>2*y2*this.a)return;return n=t/this.a,r=Math.sin(n),i=Math.cos(n),o=this.long0,Math.abs(t)<=g2?a=this.lat0:(a=w5(i*this.sin_p12+e.y*r*this.cos_p12/t),s=Math.abs(this.lat0)-y2,o=H2(Math.abs(s)<=g2?this.lat0>=0?this.long0+Math.atan2(e.x,-e.y):this.long0-Math.atan2(-e.x,e.y):this.long0+Math.atan2(e.x*r,t*this.cos_p12*i-e.y*this.sin_p12*r))),e.x=o,e.y=a,e}return l=i5(this.es),u=o5(this.es),c=a5(this.es),f=s5(this.es),Math.abs(this.sin_p12-1)<=g2?(h=this.a*r5(l,u,c,f,y2),t=Math.sqrt(e.x*e.x+e.y*e.y),p=h-t,a=c5(p/this.a,l,u,c,f),o=H2(this.long0+Math.atan2(e.x,-1*e.y)),e.x=o,e.y=a,e):Math.abs(this.sin_p12+1)<=g2?(h=this.a*r5(l,u,c,f,y2),t=Math.sqrt(e.x*e.x+e.y*e.y),p=t-h,a=c5(p/this.a,l,u,c,f),o=H2(this.long0+Math.atan2(e.x,e.y)),e.x=o,e.y=a,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),m=Math.atan2(e.x,e.y),y=l5(this.a,this.e,this.sin_p12),v=Math.cos(m),g=this.e*this.cos_p12*v,b=-g*g/(1-this.es),S=3*this.es*(1-b)*this.sin_p12*this.cos_p12*v/(1-this.es),_=t/y,w=_-b*(1+b)*Math.pow(_,3)/6-S*(1+3*b)*Math.pow(_,4)/24,O=1-b*w*w/2-_*w*w*w/6,d=Math.asin(this.sin_p12*Math.cos(w)+this.cos_p12*Math.sin(w)*v),o=H2(this.long0+Math.asin(Math.sin(m)*Math.sin(w)/Math.cos(d))),a=Math.atan((1-this.es*O*this.sin_p12/Math.sin(d))*Math.tan(d)/(1-this.es)),e.x=o,e.y=a,e)}function _q(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function wq(e){var t,n,r,i,o,a,s,l,u=e.x,c=e.y;return r=H2(u-this.long0),t=Math.sin(c),n=Math.cos(c),i=Math.cos(r),a=this.sin_p14*t+this.cos_p14*n*i,o=1,(a>0||Math.abs(a)<=g2)&&(s=this.a*o*n*Math.sin(r),l=this.y0+this.a*o*(this.cos_p14*t-this.sin_p14*n*i)),e.x=s,e.y=l,e}function Oq(e){var t,n,r,i,o,a,s;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),n=w5(t/this.a),r=Math.sin(n),i=Math.cos(n),a=this.long0,Math.abs(t)<=g2?(s=this.lat0,e.x=a,e.y=s,e):(s=w5(i*this.sin_p14+e.y*r*this.cos_p14/t),o=Math.abs(this.lat0)-y2,Math.abs(o)<=g2?(a=H2(this.lat0>=0?this.long0+Math.atan2(e.x,-e.y):this.long0-Math.atan2(-e.x,e.y)),e.x=a,e.y=s,e):(a=H2(this.long0+Math.atan2(e.x*r,t*this.cos_p14*i-e.y*this.sin_p14*r)),e.x=a,e.y=s,e))}function xq(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=y2-_2/2?this.face=Z5.TOP:this.lat0<=-(y2-_2/2)?this.face=Z5.BOTTOM:Math.abs(this.long0)<=_2?this.face=Z5.FRONT:Math.abs(this.long0)<=y2+_2?this.face=this.long0>0?Z5.RIGHT:Z5.LEFT:this.face=Z5.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function Cq(e){var t,n,r,i,o,a,s={x:0,y:0},l={value:0};if(e.x-=this.long0,t=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(e.y)):e.y,n=e.x,this.face===Z5.TOP)i=y2-t,n>=_2&&n<=y2+_2?(l.value=$5.AREA_0,r=n-y2):n>y2+_2||n<=-(y2+_2)?(l.value=$5.AREA_1,r=n>0?n-O2:n+O2):n>-(y2+_2)&&n<=-_2?(l.value=$5.AREA_2,r=n+y2):(l.value=$5.AREA_3,r=n);else if(this.face===Z5.BOTTOM)i=y2+t,n>=_2&&n<=y2+_2?(l.value=$5.AREA_0,r=-n+y2):n<_2&&n>=-_2?(l.value=$5.AREA_1,r=-n):n<-_2&&n>=-(y2+_2)?(l.value=$5.AREA_2,r=-n-y2):(l.value=$5.AREA_3,r=n>0?-n+O2:-n-O2);else{var u,c,f,h,p,y,d;this.face===Z5.RIGHT?n=Eq(n,+y2):this.face===Z5.BACK?n=Eq(n,+O2):this.face===Z5.LEFT&&(n=Eq(n,-y2)),h=Math.sin(t),p=Math.cos(t),y=Math.sin(n),d=Math.cos(n),u=p*d,c=p*y,f=h,this.face===Z5.FRONT?(i=Math.acos(u),r=Pq(i,f,c,l)):this.face===Z5.RIGHT?(i=Math.acos(c),r=Pq(i,f,-u,l)):this.face===Z5.BACK?(i=Math.acos(-u),r=Pq(i,f,-c,l)):this.face===Z5.LEFT?(i=Math.acos(-c),r=Pq(i,f,u,l)):(i=r=0,l.value=$5.AREA_0)}return a=Math.atan(12/O2*(r+Math.acos(Math.sin(r)*Math.cos(_2))-y2)),o=Math.sqrt((1-Math.cos(i))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(r))))),l.value===$5.AREA_1?a+=y2:l.value===$5.AREA_2?a+=O2:l.value===$5.AREA_3&&(a+=1.5*O2),s.x=o*Math.cos(a),s.y=o*Math.sin(a),s.x=s.x*this.a+this.x0,s.y=s.y*this.a+this.y0,e.x=s.x,e.y=s.y,e}function Tq(e){var t,n,r,i,o,a,s,l,u,c={lam:0,phi:0},f={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,n=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),t=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?f.value=$5.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(f.value=$5.AREA_1,t-=y2):e.x<0&&-e.x>=Math.abs(e.y)?(f.value=$5.AREA_2,t=t<0?t+O2:t-O2):(f.value=$5.AREA_3,t+=y2),u=O2/12*Math.tan(t),o=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),a=Math.atan(o),r=Math.cos(t),i=Math.tan(n),s=1-r*r*i*i*(1-Math.cos(Math.atan(1/Math.cos(a)))),s<-1?s=-1:s>1&&(s=1),this.face===Z5.TOP)l=Math.acos(s),c.phi=y2-l,f.value===$5.AREA_0?c.lam=a+y2:f.value===$5.AREA_1?c.lam=a<0?a+O2:a-O2:f.value===$5.AREA_2?c.lam=a-y2:c.lam=a;else if(this.face===Z5.BOTTOM)l=Math.acos(s),c.phi=l-y2,f.value===$5.AREA_0?c.lam=-a+y2:f.value===$5.AREA_1?c.lam=-a:f.value===$5.AREA_2?c.lam=-a-y2:c.lam=a<0?-a-O2:-a+O2;else{var h,p,y;h=s,u=h*h,y=u>=1?0:Math.sqrt(1-u)*Math.sin(a),u+=y*y,p=u>=1?0:Math.sqrt(1-u),f.value===$5.AREA_1?(u=p,p=-y,y=u):f.value===$5.AREA_2?(p=-p,y=-y):f.value===$5.AREA_3&&(u=p,p=y,y=-u),this.face===Z5.RIGHT?(u=h,h=-p,p=u):this.face===Z5.BACK?(h=-h,p=-p):this.face===Z5.LEFT&&(u=h,h=p,p=-u),c.phi=Math.acos(-y)-y2,c.lam=Math.atan2(p,h),this.face===Z5.RIGHT?c.lam=Eq(c.lam,-y2):this.face===Z5.BACK?c.lam=Eq(c.lam,-O2):this.face===Z5.LEFT&&(c.lam=Eq(c.lam,+y2))}if(0!==this.es){var d,m,v;d=c.phi<0?1:0,m=Math.tan(c.phi),v=this.b/Math.sqrt(m*m+this.one_minus_f_squared),c.phi=Math.atan(Math.sqrt(this.a*this.a-v*v)/(this.one_minus_f*v)),d&&(c.phi=-c.phi)}return c.lam+=this.long0,e.x=c.lam,e.y=c.phi,e}function Pq(e,t,n,r){var i;return e<g2?(r.value=$5.AREA_0,i=0):(i=Math.atan2(t,n),Math.abs(i)<=_2?r.value=$5.AREA_0:i>_2&&i<=y2+_2?(r.value=$5.AREA_1,i-=y2):i>y2+_2||i<=-(y2+_2)?(r.value=$5.AREA_2,i=i>=0?i-O2:i+O2):(r.value=$5.AREA_3,i+=y2)),i}function Eq(e,t){var n=e+t;return n<-O2?n+=w2:n>+O2&&(n-=w2),n}function kq(e,t,n,r){for(var i=t;r;--r){var o=e(i);if(i-=o,Math.abs(o)<n)break}return i}function Mq(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function Aq(e){var t=H2(e.x-this.long0),n=Math.abs(e.y),r=Math.floor(n*a8);r<0?r=0:r>=l8&&(r=l8-1),n=S2*(n-s8*r);var i={x:u8(n8[r],n)*t,y:u8(r8[r],n)};return e.y<0&&(i.y=-i.y),i.x=i.x*this.a*i8+this.x0,i.y=i.y*this.a*o8+this.y0,i}function Lq(e){var t={x:(e.x-this.x0)/(this.a*i8),y:Math.abs(e.y-this.y0)/(this.a*o8)};if(t.y>=1)t.x/=n8[l8][0],t.y=e.y<0?-y2:y2;else{var n=Math.floor(t.y*l8);for(n<0?n=0:n>=l8&&(n=l8-1);;)if(r8[n][0]>t.y)--n;else{if(!(r8[n+1][0]<=t.y))break;++n}var r=r8[n],i=5*(t.y-r[0])/(r8[n+1][0]-r[0]);i=kq(function(e){return(u8(r,e)-t.y)/c8(r,e)},i,g2,100),t.x/=u8(n8[n],i),t.y=(5*n+i)*b2,e.y<0&&(t.y=-t.y)}return t.x=H2(t.x+this.long0),t}function jq(){this.name="geocent"}function Rq(e){return TH(e,this.es,this.a)}function Nq(e){return PH(e,this.es,this.a,this.b)}/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function Iq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fq(e,t,n){return t&&Dq(e.prototype,t),n&&Dq(e,n),e}function Bq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gq(e,t,n){return t&&Uq(e.prototype,t),n&&Uq(e,n),e}function zq(e){return(zq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jq(e,t,n){return t&&Hq(e.prototype,t),n&&Hq(e,n),e}function qq(e,t){return!t||"object"!==zq(t)&&"function"!=typeof t?Wq(e):t}function Wq(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yq(e,t,n){return(Yq="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Qq(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Qq(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xq(e)););return e}function Xq(e){return(Xq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kq(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zq(e,t)}function Zq(e,t){return(Zq=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $q(e){this._LeafletMap=e,this.dimensions=["lng","lat"],this._mapOffset=[0,0]}function eW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nW(e,t,n){return t&&tW(e.prototype,t),n&&tW(e,n),e}function rW(e){var t=document.createElement("canvas");return t&&t.getContext(e)}function iW(e){return(iW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oW(e){return(oW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lW(e,t,n){return t&&sW(e.prototype,t),n&&sW(e,n),e}function uW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cW(e){return(cW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pW(e,t,n){return t&&hW(e.prototype,t),n&&hW(e,n),e}function yW(e,t){return!t||"object"!==cW(t)&&"function"!=typeof t?dW(e):t}function dW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mW(e){return(mW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vW(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gW(e,t)}function gW(e,t){return(gW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SW(e){return(SW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OW(e,t,n){return t&&wW(e.prototype,t),n&&wW(e,n),e}function xW(e,t){return!t||"object"!==SW(t)&&"function"!=typeof t?CW(e):t}function CW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TW(e){return(TW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PW(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EW(e,t)}function EW(e,t){return(EW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kW(e){return(kW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LW(e,t,n){return t&&AW(e.prototype,t),n&&AW(e,n),e}function jW(e,t){return!t||"object"!==kW(t)&&"function"!=typeof t?RW(e):t}function RW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NW(e){return(NW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function IW(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DW(e,t)}function DW(e,t){return(DW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function FW(e){return(FW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GW(e,t,n){return t&&UW(e.prototype,t),n&&UW(e,n),e}function zW(e,t){return!t||"object"!==FW(t)&&"function"!=typeof t?VW(e):t}function VW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HW(e){return(HW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function JW(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qW(e,t)}function qW(e,t){return(qW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.r(t);/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var WW=window.SuperMap=window.SuperMap||{};WW.Components=window.SuperMap.Components||{};/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var YW=WW.DataFormat={GEOJSON:"GEOJSON",ISERVER:"ISERVER"},QW=WW.ServerType={ISERVER:"ISERVER",IPORTAL:"IPORTAL",ONLINE:"ONLINE"},XW=WW.GeometryType={LINE:"LINE",LINEM:"LINEM",POINT:"POINT",REGION:"REGION",POINTEPS:"POINTEPS",LINEEPS:"LINEEPS",REGIONEPS:"REGIONEPS",ELLIPSE:"ELLIPSE",CIRCLE:"CIRCLE",TEXT:"TEXT",RECTANGLE:"RECTANGLE",UNKNOWN:"UNKNOWN"},KW=WW.QueryOption={ATTRIBUTE:"ATTRIBUTE",ATTRIBUTEANDGEOMETRY:"ATTRIBUTEANDGEOMETRY",GEOMETRY:"GEOMETRY"},ZW=WW.JoinType={INNERJOIN:"INNERJOIN",LEFTJOIN:"LEFTJOIN"},$W=WW.SpatialQueryMode={CONTAIN:"CONTAIN",CROSS:"CROSS",DISJOINT:"DISJOINT",IDENTITY:"IDENTITY",INTERSECT:"INTERSECT",NONE:"NONE",OVERLAP:"OVERLAP",TOUCH:"TOUCH",WITHIN:"WITHIN"},eY=WW.SpatialRelationType={CONTAIN:"CONTAIN",INTERSECT:"INTERSECT",WITHIN:"WITHIN"},tY=WW.MeasureMode={DISTANCE:"DISTANCE",AREA:"AREA"},nY=WW.Unit={METER:"METER",KILOMETER:"KILOMETER",MILE:"MILE",YARD:"YARD",DEGREE:"DEGREE",MILLIMETER:"MILLIMETER",CENTIMETER:"CENTIMETER",INCH:"INCH",DECIMETER:"DECIMETER",FOOT:"FOOT",SECOND:"SECOND",MINUTE:"MINUTE",RADIAN:"RADIAN"},rY=WW.BufferRadiusUnit={CENTIMETER:"CENTIMETER",DECIMETER:"DECIMETER",FOOT:"FOOT",INCH:"INCH",KILOMETER:"KILOMETER",METER:"METER",MILE:"MILE",MILLIMETER:"MILLIMETER",YARD:"YARD"},iY=WW.EngineType={IMAGEPLUGINS:"IMAGEPLUGINS",OGC:"OGC",ORACLEPLUS:"ORACLEPLUS",SDBPLUS:"SDBPLUS",SQLPLUS:"SQLPLUS",UDB:"UDB"},oY=WW.ThemeGraphTextFormat={CAPTION:"CAPTION",CAPTION_PERCENT:"CAPTION_PERCENT",CAPTION_VALUE:"CAPTION_VALUE",PERCENT:"PERCENT",VALUE:"VALUE"},aY=WW.ThemeGraphType={AREA:"AREA",BAR:"BAR",BAR3D:"BAR3D",LINE:"LINE",PIE:"PIE",PIE3D:"PIE3D",POINT:"POINT",RING:"RING",ROSE:"ROSE",ROSE3D:"ROSE3D",STACK_BAR:"STACK_BAR",STACK_BAR3D:"STACK_BAR3D",STEP:"STEP"},sY=WW.GraphAxesTextDisplayMode={ALL:"ALL",NONE:"NONE",YAXES:"YAXES"},lY=WW.GraduatedMode={CONSTANT:"CONSTANT",LOGARITHM:"LOGARITHM",SQUAREROOT:"SQUAREROOT"},uY=WW.RangeMode={CUSTOMINTERVAL:"CUSTOMINTERVAL",EQUALINTERVAL:"EQUALINTERVAL",LOGARITHM:"LOGARITHM",QUANTILE:"QUANTILE",SQUAREROOT:"SQUAREROOT",STDDEVIATION:"STDDEVIATION"},cY=WW.ThemeType={DOTDENSITY:"DOTDENSITY",GRADUATEDSYMBOL:"GRADUATEDSYMBOL",GRAPH:"GRAPH",LABEL:"LABEL",RANGE:"RANGE",UNIQUE:"UNIQUE"},fY=WW.ColorGradientType={BLACK_WHITE:"BLACKWHITE",BLUE_BLACK:"BLUEBLACK",BLUE_RED:"BLUERED",BLUE_WHITE:"BLUEWHITE",CYAN_BLACK:"CYANBLACK",CYAN_BLUE:"CYANBLUE",CYAN_GREEN:"CYANGREEN",CYAN_WHITE:"CYANWHITE",GREEN_BLACK:"GREENBLACK",GREEN_BLUE:"GREENBLUE",GREEN_ORANGE_VIOLET:"GREENORANGEVIOLET",GREEN_RED:"GREENRED",GREEN_WHITE:"GREENWHITE",PINK_BLACK:"PINKBLACK",PINK_BLUE:"PINKBLUE",PINK_RED:"PINKRED",PINK_WHITE:"PINKWHITE",RAIN_BOW:"RAINBOW",RED_BLACK:"REDBLACK",RED_WHITE:"REDWHITE",SPECTRUM:"SPECTRUM",TERRAIN:"TERRAIN",YELLOW_BLACK:"YELLOWBLACK",YELLOW_BLUE:"YELLOWBLUE",YELLOW_GREEN:"YELLOWGREEN",YELLOW_RED:"YELLOWRED",YELLOW_WHITE:"YELLOWWHITE"},hY=WW.TextAlignment={TOPLEFT:"TOPLEFT",TOPCENTER:"TOPCENTER",TOPRIGHT:"TOPRIGHT",BASELINELEFT:"BASELINELEFT",BASELINECENTER:"BASELINECENTER",BASELINERIGHT:"BASELINERIGHT",BOTTOMLEFT:"BOTTOMLEFT",BOTTOMCENTER:"BOTTOMCENTER",BOTTOMRIGHT:"BOTTOMRIGHT",MIDDLELEFT:"MIDDLELEFT",MIDDLECENTER:"MIDDLECENTER",MIDDLERIGHT:"MIDDLERIGHT"},pY=WW.FillGradientMode={NONE:"NONE",LINEAR:"LINEAR",RADIAL:"RADIAL",CONICAL:"CONICAL",SQUARE:"SQUARE"},yY=WW.AlongLineDirection={NORMAL:"ALONG_LINE_NORMAL",LB_TO_RT:"LEFT_BOTTOM_TO_RIGHT_TOP",LT_TO_RB:"LEFT_TOP_TO_RIGHT_BOTTOM",RB_TO_LT:"RIGHT_BOTTOM_TO_LEFT_TOP",RT_TO_LB:"RIGHT_TOP_TO_LEFT_BOTTOM"},dY=WW.LabelBackShape={DIAMOND:"DIAMOND",ELLIPSE:"ELLIPSE",MARKER:"MARKER",NONE:"NONE",RECT:"RECT",ROUNDRECT:"ROUNDRECT",TRIANGLE:"TRIANGLE"},mY=WW.LabelOverLengthMode={NEWLINE:"NEWLINE",NONE:"NONE",OMIT:"OMIT"},vY=WW.DirectionType={EAST:"EAST",NONE:"NONE",NORTH:"NORTH",SOURTH:"SOURTH",WEST:"WEST"},gY=WW.SideType={LEFT:"LEFT",MIDDLE:"MIDDLE",NONE:"NONE",RIGHT:"RIGHT"},bY=WW.SupplyCenterType={FIXEDCENTER:"FIXEDCENTER",NULL:"NULL",OPTIONALCENTER:"OPTIONALCENTER"},SY=WW.TurnType={AHEAD:"AHEAD",BACK:"BACK",END:"END",LEFT:"LEFT",NONE:"NONE",RIGHT:"RIGHT"},_Y=WW.BufferEndType={FLAT:"FLAT",ROUND:"ROUND"},wY=WW.OverlayOperationType={CLIP:"CLIP",ERASE:"ERASE",IDENTITY:"IDENTITY",INTERSECT:"INTERSECT",UNION:"UNION",UPDATE:"UPDATE",XOR:"XOR"},OY=WW.OutputType={INDEXEDHDFS:"INDEXEDHDFS",UDB:"UDB",MONGODB:"MONGODB",PG:"PG"},xY=WW.SmoothMethod={BSPLINE:"BSPLINE",POLISH:"POLISH"},CY=WW.SurfaceAnalystMethod={ISOLINE:"ISOLINE",ISOREGION:"ISOREGION"},TY=WW.DataReturnMode={DATASET_AND_RECORDSET:"DATASET_AND_RECORDSET",DATASET_ONLY:"DATASET_ONLY",RECORDSET_ONLY:"RECORDSET_ONLY"},PY=WW.EditType={ADD:"add",UPDATE:"update",DELETE:"delete"},EY=WW.TransferTactic={LESS_TIME:"LESS_TIME",LESS_TRANSFER:"LESS_TRANSFER",LESS_WALK:"LESS_WALK",MIN_DISTANCE:"MIN_DISTANCE"},kY=WW.TransferPreference={BUS:"BUS",SUBWAY:"SUBWAY",NO_SUBWAY:"NO_SUBWAY",NONE:"NONE"},MY=WW.GridType={CROSS:"CROSS",GRID:"GRID",POINT:"POINT"},AY=WW.ColorSpaceType={CMYK:"CMYK",RGB:"RGB"},LY=WW.LayerType={UGC:"UGC",WMS:"WMS",WFS:"WFS",CUSTOM:"CUSTOM"},jY=WW.UGCLayerType={THEME:"THEME",VECTOR:"VECTOR",GRID:"GRID",IMAGE:"IMAGE"},RY=WW.StatisticMode={AVERAGE:"AVERAGE",MAX:"MAX",MIN:"MIN",STDDEVIATION:"STDDEVIATION",SUM:"SUM",VARIANCE:"VARIANCE"},NY=WW.PixelFormat={BIT16:"BIT16",BIT32:"BIT32",BIT64:"BIT64",SINGLE:"SINGLE",DOUBLE:"DOUBLE",UBIT1:"UBIT1",UBIT4:"UBIT4",UBIT8:"UBIT8",UBIT24:"UBIT24",UBIT32:"UBIT32"},IY=WW.SearchMode={KDTREE_FIXED_COUNT:"KDTREE_FIXED_COUNT",KDTREE_FIXED_RADIUS:"KDTREE_FIXED_RADIUS",NONE:"NONE",QUADTREE:"QUADTREE"},DY=WW.InterpolationAlgorithmType={KRIGING:"KRIGING",SimpleKriging:"SimpleKriging",UniversalKriging:"UniversalKriging"},FY=WW.VariogramMode={EXPONENTIAL:"EXPONENTIAL",GAUSSIAN:"GAUSSIAN",SPHERICAL:"SPHERICAL"},BY=WW.Exponent={EXP1:"EXP1",EXP2:"EXP2"},UY=WW.ClientType={IP:"IP",REFERER:"Referer",REQUESTIP:"RequestIP",NONE:"NONE",SERVER:"SERVER",WEB:"WEB"},GY=WW.ChartType={BAR:"Bar",BAR3D:"Bar3D",CIRCLE:"Circle",PIE:"Pie",POINT:"Point",LINE:"Line",RING:"Ring"},zY=WW.ClipAnalystMode={CLIP:"clip",INTERSECT:"intersect"},VY=WW.AnalystAreaUnit={SQUAREMETER:"SquareMeter",SQUAREKILOMETER:"SquareKiloMeter",HECTARE:"Hectare",ARE:"Are",ACRE:"Acre",SQUAREFOOT:"SquareFoot",SQUAREYARD:"SquareYard",SQUAREMILE:"SquareMile"},HY=WW.AnalystSizeUnit={METER:"Meter",KILOMETER:"Kilometer",YARD:"Yard",FOOT:"Foot",MILE:"Mile"},JY=WW.StatisticAnalystMode={MAX:"max",MIN:"min",AVERAGE:"average",SUM:"sum",VARIANCE:"variance",STDDEVIATION:"stdDeviation"},qY=WW.SummaryType={SUMMARYMESH:"SUMMARYMESH",SUMMARYREGION:"SUMMARYREGION"},WY=WW.TopologyValidatorRule={REGIONNOOVERLAP:"REGIONNOOVERLAP",REGIONNOOVERLAPWITH:"REGIONNOOVERLAPWITH",REGIONCONTAINEDBYREGION:"REGIONCONTAINEDBYREGION",REGIONCOVEREDBYREGION:"REGIONCOVEREDBYREGION",LINENOOVERLAP:"LINENOOVERLAP",LINENOOVERLAPWITH:"LINENOOVERLAPWITH",POINTNOIDENTICAL:"POINTNOIDENTICAL"},YY=WW.AggregationType={GEOHASH_GRID:"geohash_grid",FILTER:"filter"},QY=WW.AggregationQueryBuilderType={GEO_BOUNDING_BOX:"geo_bounding_box"},XY=WW.GetFeatureMode={BOUNDS:"BOUNDS",BUFFER:"BUFFER",ID:"ID",SPATIAL:"SPATIAL",SQL:"SQL"},KY=WW.RasterFunctionType={NDVI:"NDVI",HILLSHADE:"HILLSHADE"},ZY=(WW.ResourceType={MAP:"MAP",SERVICE:"SERVICE",SCENE:"SCENE",DATA:"DATA",INSIGHTS_WORKSPACE:"INSIGHTS_WORKSPACE",MAP_DASHBOARD:"MAP_DASHBOARD"},WW.OrderBy={UPDATETIME:"UPDATETIME",HEATLEVEL:"HEATLEVEL",RELEVANCE:"RELEVANCE"},WW.OrderType={ASC:"ASC",DESC:"DESC"},WW.SearchType={PUBLIC:"PUBLIC",MY_RES:"MY_RES",MYGROUP_RES:"MYGROUP_RES",MYDEPARTMENT_RES:"MYDEPARTMENT_RES",SHARETOME_RES:"SHARETOME_RES"},WW.AggregationTypes={TAG:"TAG",TYPE:"TYPE"},WW.PermissionType={SEARCH:"SEARCH",READ:"READ",READWRITE:"READWRITE",DELETE:"DELETE",DOWNLOAD:"DOWNLOAD"},WW.EntityType={DEPARTMENT:"DEPARTMENT",GROUP:"GROUP",IPORTALGROUP:"IPORTALGROUP",ROLE:"ROLE",USER:"USER"},WW.DataItemType={WORKSPACE:"WORKSPACE",UDB:"UDB",SHP:"SHP",EXCEL:"EXCEL",CSV:"CSV",GEOJSON:"GEOJSON",SMTILES:"SMTILES",SVTILES:"SVTILES",MBTILES:"MBTILES",TPK:"TPK",UGCV5:"UGCV5",UGCV5_MVT:"UGCV5_MVT",JSON:"JSON"},function(){function e(t,n){r(this,e),this.w=t?parseFloat(t):0,this.h=t?parseFloat(n):0,this.CLASS_NAME="SuperMap.Size"}return o(e,[{key:"toString",value:function(){return"w="+this.w+",h="+this.h}},{key:"clone",value:function(){return new e(this.w,this.h)}},{key:"equals",value:function(e){var t=!1;return null!=e&&(t=this.w===e.w&&this.h===e.h||isNaN(this.w)&&isNaN(this.h)&&isNaN(e.w)&&isNaN(e.h)),t}},{key:"destroy",value:function(){this.w=null,this.h=null}}]),e}());WW.Size=ZY;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var $Y=function(){function e(t,n,r){a(this,e),this.x=t?parseFloat(t):0,this.y=n?parseFloat(n):0,this.mode=r,this.CLASS_NAME="SuperMap.Pixel",WW.Pixel.Mode={LeftTop:"lefttop",RightTop:"righttop",RightBottom:"rightbottom",LeftBottom:"leftbottom"}}return l(e,[{key:"toString",value:function(){return"x="+this.x+",y="+this.y}},{key:"clone",value:function(){return new e(this.x,this.y,this.mode)}},{key:"equals",value:function(e){var t=!1;return null!=e&&(t=this.x==e.x&&this.y==e.y||isNaN(this.x)&&isNaN(this.y)&&isNaN(e.x)&&isNaN(e.y)),t}},{key:"distanceTo",value:function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}},{key:"add",value:function(t,n){if(null==t||null==n)throw new TypeError("Pixel.add cannot receive null values");return new e(this.x+t,this.y+n)}},{key:"offset",value:function(e){var t=this.clone();return e&&(t=this.add(e.x,e.y)),t}},{key:"destroy",value:function(){this.x=null,this.y=null,this.mode=null}}]),e}();WW.Pixel=$Y,/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
WW.inherit=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n;var r,i,o;for(r=2,i=arguments.length;r<i;r++)o=arguments[r],"function"==typeof o&&(o=o.prototype),WW.Util.extend(e.prototype,o)},WW.mixin=function(){function e(e,t){var n=Object.getOwnPropertyNames(t);Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t)));for(var r=0;r<n.length;r++){var i=n[r];if("constructor"!==i&&"prototype"!==i&&"name"!==i&&"length"!==i){var o=Object.getOwnPropertyDescriptor(t,i);window.ActiveXObject?Object.defineProperty(e,i,o||{}):Object.defineProperty(e,i,o)}}}for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=function t(r){u(this,t);for(var i=0;i<n.length;i++)e(this,new n[i](r))},o=0;o<n.length;o++){var a=n[o];e(i,a),e(i.prototype,a.prototype),e(i.prototype,new a)}return i};var eQ=WW.String={startsWith:function(e,t){return 0==e.indexOf(t)},contains:function(e,t){return-1!=e.indexOf(t)},trim:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},camelize:function(e){for(var t=e.split("-"),n=t[0],r=1,i=t.length;r<i;r++){var o=t[r];n+=o.charAt(0).toUpperCase()+o.substring(1)}return n},format:function(e,t,n){t||(t=window);var r=function(e,r){for(var i,o=r.split(/\.+/),a=0;a<o.length;a++)0==a&&(i=t),i=i[o[a]];return"function"==typeof i&&(i=n?i.apply(null,n):i()),void 0===i?"undefined":i};return e.replace(WW.String.tokenRegEx,r)},tokenRegEx:/\$\{([\w.]+?)\}/g,numberRegEx:/^([+-]?)(?=\d|\.\d)\d*(\.\d*)?([Ee]([+-]?\d+))?$/,isNumeric:function(e){return WW.String.numberRegEx.test(e)},numericIf:function(e){return WW.String.isNumeric(e)?parseFloat(e):e}},tQ=WW.Number={decimalSeparator:".",thousandsSeparator:",",limitSigDigs:function(e,t){var n=0;return t>0&&(n=parseFloat(e.toPrecision(t))),n},format:function(e,t,n,r){t=void 0!==t?t:0,n=void 0!==n?n:WW.Number.thousandsSeparator,r=void 0!==r?r:WW.Number.decimalSeparator,null!=t&&(e=parseFloat(e.toFixed(t)));var i=e.toString().split(".");1===i.length&&null==t&&(t=0);var o=i[0];if(n)for(var a=/(-?[0-9]+)([0-9]{3})/;a.test(o);)o=o.replace(a,"$1"+n+"$2");var s;if(0==t)s=o;else{var l=i.length>1?i[1]:"0";null!=t&&(l+=new Array(t-l.length+1).join("0")),s=o+r+l}return s}};Number.prototype.limitSigDigs||(Number.prototype.limitSigDigs=function(e){return tQ.limitSigDigs(this,e)});var nQ=WW.Function={bind:function(e,t){var n=Array.prototype.slice.apply(arguments,[2]);return function(){var r=n.concat(Array.prototype.slice.apply(arguments,[0]));return e.apply(t,r)}},bindAsEventListener:function(e,t){return function(n){return e.call(t,n||window.event)}},False:function(){return!1},True:function(){return!0},Void:function(){}},rQ=(WW.Array={filter:function(e,t,n){var r=[];if(Array.prototype.filter)r=e.filter(t,n);else{var i=e.length;if("function"!=typeof t)throw new TypeError;for(var o=0;o<i;o++)if(o in e){var a=e[o];t.call(n,a,o,e)&&r.push(a)}}return r}},WW.Util=WW.Util||{});WW.Util.extend=function(e,t){if(e=e||{},t){for(var n in t){var r=t[n];void 0!==r&&(e[n]=r)}!("function"==typeof window.Event&&t instanceof window.Event)&&t.hasOwnProperty&&t.hasOwnProperty("toString")&&(e.toString=t.toString)}return e},WW.Util.copy=function(e,t){e=e||{};var n;if(t)for(var r in e)void 0!==(n=t[r])&&(e[r]=n)},WW.Util.reset=function(e){e=e||{};for(var t in e)if(e.hasOwnProperty(t)){if("object"===c(e[t])&&e[t]instanceof Array){for(var n in e[t])e[t][n].destroy&&e[t][n].destroy();e[t].length=0}else"object"===c(e[t])&&e[t]instanceof Object&&e[t].destroy&&e[t].destroy();e[t]=null}},WW.Util.getElement=function(){for(var e=[],t=0,n=arguments.length;t<n;t++){var r=arguments[t];if("string"==typeof r&&(r=document.getElementById(r)),1===arguments.length)return r;e.push(r)}return e},WW.Util.isElement=function(e){return!(!e||1!==e.nodeType)},WW.Util.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},WW.Util.removeItem=function(e,t){for(var n=e.length-1;n>=0;n--)e[n]===t&&e.splice(n,1);return e},WW.Util.indexOf=function(e,t){if(null==e)return-1;if("function"==typeof e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},WW.Util.modifyDOMElement=function(e,t,n,r,i,o,a,s){t&&(e.id=t),n&&(e.style.left=n.x+"px",e.style.top=n.y+"px"),r&&(e.style.width=r.w+"px",e.style.height=r.h+"px"),i&&(e.style.position=i),o&&(e.style.border=o),a&&(e.style.overflow=a),parseFloat(s)>=0&&parseFloat(s)<1?(e.style.filter="alpha(opacity="+100*s+")",e.style.opacity=s):1===parseFloat(s)&&(e.style.filter="",e.style.opacity="")},WW.Util.applyDefaults=function(e,t){e=e||{};var n="function"==typeof window.Event&&t instanceof window.Event;for(var r in t)(void 0===e[r]||!n&&t.hasOwnProperty&&t.hasOwnProperty(r)&&!e.hasOwnProperty(r))&&(e[r]=t[r]);return!n&&t&&t.hasOwnProperty&&t.hasOwnProperty("toString")&&!e.hasOwnProperty("toString")&&(e.toString=t.toString),e},WW.Util.getParameterString=function(e){var t=[];for(var n in e){var r=e[n];if(null!=r&&"function"!=typeof r){var i;i=Array.isArray(r)||"[object Object]"===r.toString()?encodeURIComponent(JSON.stringify(r)):encodeURIComponent(r),t.push(encodeURIComponent(n)+"="+i)}}return t.join("&")},WW.Util.urlAppend=function(e,t){var n=e;if(t){var r=(e+" ").split(/[?&]/);n+=" "===r.pop()?t:r.length?"&"+t:"?"+t}return n},WW.Util.DEFAULT_PRECISION=14,WW.Util.toFloat=function(e,t){return null==t&&(t=WW.Util.DEFAULT_PRECISION),"number"!=typeof e&&(e=parseFloat(e)),0===t?e:parseFloat(e.toPrecision(t))},WW.Util.rad=function(e){return e*Math.PI/180},WW.Util.getParameters=function(e){e=null===e||void 0===e?window.location.href:e;var t="";if(WW.String.contains(e,"?")){var n=e.indexOf("?")+1,r=WW.String.contains(e,"#")?e.indexOf("#"):e.length;t=e.substring(n,r)}for(var i={},o=t.split(/[&;]/),a=0,s=o.length;a<s;++a){var l=o[a].split("=");if(l[0]){var u=l[0];try{u=decodeURIComponent(u)}catch(e){u=unescape(u)}var c=(l[1]||"").replace(/\+/g," ");try{c=decodeURIComponent(c)}catch(e){c=unescape(c)}c=c.split(","),1==c.length&&(c=c[0]),i[u]=c}}return i},WW.Util.lastSeqID=0,WW.Util.createUniqueID=function(e){return null==e&&(e="id_"),WW.Util.lastSeqID+=1,e+WW.Util.lastSeqID},WW.INCHES_PER_UNIT={inches:1,ft:12,mi:63360,m:39.3701,km:39370.1,dd:4374754,yd:36},WW.INCHES_PER_UNIT.in=WW.INCHES_PER_UNIT.inches,WW.INCHES_PER_UNIT.degrees=WW.INCHES_PER_UNIT.dd,WW.INCHES_PER_UNIT.nmi=1852*WW.INCHES_PER_UNIT.m,WW.METERS_PER_INCH=.0254000508001016,WW.Util.extend(WW.INCHES_PER_UNIT,{Inch:WW.INCHES_PER_UNIT.inches,Meter:1/WW.METERS_PER_INCH,Foot:.3048006096012192/WW.METERS_PER_INCH,IFoot:.3048/WW.METERS_PER_INCH,ClarkeFoot:.3047972651151/WW.METERS_PER_INCH,SearsFoot:.30479947153867626/WW.METERS_PER_INCH,GoldCoastFoot:.3047997101815088/WW.METERS_PER_INCH,IInch:.0254/WW.METERS_PER_INCH,MicroInch:254e-7/WW.METERS_PER_INCH,Mil:2.54e-8/WW.METERS_PER_INCH,Centimeter:.01/WW.METERS_PER_INCH,Kilometer:1e3/WW.METERS_PER_INCH,Yard:.9144018288036576/WW.METERS_PER_INCH,SearsYard:.914398414616029/WW.METERS_PER_INCH,IndianYard:.9143985307444408/WW.METERS_PER_INCH,IndianYd37:.91439523/WW.METERS_PER_INCH,IndianYd62:.9143988/WW.METERS_PER_INCH,IndianYd75:.9143985/WW.METERS_PER_INCH,IndianFoot:.30479951/WW.METERS_PER_INCH,IndianFt37:.30479841/WW.METERS_PER_INCH,IndianFt62:.3047996/WW.METERS_PER_INCH,IndianFt75:.3047995/WW.METERS_PER_INCH,Mile:1609.3472186944373/WW.METERS_PER_INCH,IYard:.9144/WW.METERS_PER_INCH,IMile:1609.344/WW.METERS_PER_INCH,NautM:1852/WW.METERS_PER_INCH,"Lat-66":110943.31648893273/WW.METERS_PER_INCH,"Lat-83":110946.25736872235/WW.METERS_PER_INCH,Decimeter:.1/WW.METERS_PER_INCH,Millimeter:.001/WW.METERS_PER_INCH,Dekameter:10/WW.METERS_PER_INCH,Decameter:10/WW.METERS_PER_INCH,Hectometer:100/WW.METERS_PER_INCH,GermanMeter:1.0000135965/WW.METERS_PER_INCH,CaGrid:.999738/WW.METERS_PER_INCH,ClarkeChain:20.1166194976/WW.METERS_PER_INCH,GunterChain:20.11684023368047/WW.METERS_PER_INCH,BenoitChain:20.116782494375872/WW.METERS_PER_INCH,SearsChain:20.11676512155/WW.METERS_PER_INCH,ClarkeLink:.201166194976/WW.METERS_PER_INCH,GunterLink:.2011684023368047/WW.METERS_PER_INCH,BenoitLink:.20116782494375873/WW.METERS_PER_INCH,SearsLink:.2011676512155/WW.METERS_PER_INCH,Rod:5.02921005842012/WW.METERS_PER_INCH,IntnlChain:20.1168/WW.METERS_PER_INCH,IntnlLink:.201168/WW.METERS_PER_INCH,Perch:5.02921005842012/WW.METERS_PER_INCH,Pole:5.02921005842012/WW.METERS_PER_INCH,Furlong:201.1684023368046/WW.METERS_PER_INCH,Rood:3.778266898/WW.METERS_PER_INCH,CapeFoot:.3047972615/WW.METERS_PER_INCH,Brealey:375/WW.METERS_PER_INCH,ModAmFt:.304812252984506/WW.METERS_PER_INCH,Fathom:1.8288/WW.METERS_PER_INCH,"NautM-UK":1853.184/WW.METERS_PER_INCH,"50kilometers":5e4/WW.METERS_PER_INCH,"150kilometers":15e4/WW.METERS_PER_INCH}),WW.Util.extend(WW.INCHES_PER_UNIT,{mm:WW.INCHES_PER_UNIT.Meter/1e3,cm:WW.INCHES_PER_UNIT.Meter/100,dm:100*WW.INCHES_PER_UNIT.Meter,km:1e3*WW.INCHES_PER_UNIT.Meter,kmi:WW.INCHES_PER_UNIT.nmi,fath:WW.INCHES_PER_UNIT.Fathom,ch:WW.INCHES_PER_UNIT.IntnlChain,link:WW.INCHES_PER_UNIT.IntnlLink,"us-in":WW.INCHES_PER_UNIT.inches,"us-ft":WW.INCHES_PER_UNIT.Foot,"us-yd":WW.INCHES_PER_UNIT.Yard,"us-ch":WW.INCHES_PER_UNIT.GunterChain,"us-mi":WW.INCHES_PER_UNIT.Mile,"ind-yd":WW.INCHES_PER_UNIT.IndianYd37,"ind-ft":WW.INCHES_PER_UNIT.IndianFt37,"ind-ch":20.11669506/WW.METERS_PER_INCH}),WW.DOTS_PER_INCH=96,WW.Util.normalizeScale=function(e){return e>1?1/e:e},WW.Util.getResolutionFromScale=function(e,t){var n;if(e){null==t&&(t="degrees");n=1/(WW.Util.normalizeScale(e)*WW.INCHES_PER_UNIT[t]*WW.DOTS_PER_INCH)}return n},WW.Util.getScaleFromResolution=function(e,t){return null==t&&(t="degrees"),e*WW.INCHES_PER_UNIT[t]*WW.DOTS_PER_INCH},WW.IS_GECKO=function(){var e=navigator.userAgent.toLowerCase();return-1===e.indexOf("webkit")&&-1!==e.indexOf("gecko")}(),WW.Browser=function(){var e,t="",n="",r="pc",i=navigator.userAgent.toLowerCase();return i.indexOf("msie")>-1||i.indexOf("trident")>-1&&i.indexOf("rv")>-1?(t="msie",e=i.match(/msie ([\d.]+)/)||i.match(/rv:([\d.]+)/)):i.indexOf("chrome")>-1?(t="chrome",e=i.match(/chrome\/([\d.]+)/)):i.indexOf("firefox")>-1?(t="firefox",e=i.match(/firefox\/([\d.]+)/)):i.indexOf("opera")>-1?(t="opera",e=i.match(/version\/([\d.]+)/)):i.indexOf("safari")>-1&&(t="safari",e=i.match(/version\/([\d.]+)/)),n=e?e[1]:"",i.indexOf("ipad")>-1||i.indexOf("ipod")>-1||i.indexOf("iphone")>-1?r="apple":i.indexOf("android")>-1&&(e=i.match(/version\/([\d.]+)/),n=e?e[1]:"",r="android"),{name:t,version:n,device:r}}(),WW.Util.getBrowser=function(){return WW.Browser},WW.Util.isSupportCanvas=function(){var e=!0,t=WW.Util.getBrowser();return document.createElement("canvas").getContext?("firefox"===t.name&&parseFloat(t.version)<5&&(e=!1),"safari"===t.name&&parseFloat(t.version)<4&&(e=!1),"opera"===t.name&&parseFloat(t.version)<10&&(e=!1),"msie"===t.name&&parseFloat(t.version)<9&&(e=!1)):e=!1,e}(),WW.Util.supportCanvas=function(){return WW.Util.isSupportCanvas},WW.INCHES_PER_UNIT.degree=WW.INCHES_PER_UNIT.dd,WW.INCHES_PER_UNIT.meter=WW.INCHES_PER_UNIT.m,WW.INCHES_PER_UNIT.foot=WW.INCHES_PER_UNIT.ft,WW.INCHES_PER_UNIT.inch=WW.INCHES_PER_UNIT.inches,WW.INCHES_PER_UNIT.mile=WW.INCHES_PER_UNIT.mi,WW.INCHES_PER_UNIT.kilometer=WW.INCHES_PER_UNIT.km,WW.INCHES_PER_UNIT.yard=WW.INCHES_PER_UNIT.yd,WW.Util.isInTheSameDomain=function(e){if(!e)return!0;var t=e.indexOf("//"),n=document.location.toString(),r=n.indexOf("//");if(-1===t)return!0;var i,o=i=e.substring(0,t),a=n.substring(r+2);r=a.indexOf("/");var s=a.indexOf(":"),l=a.substring(0,r),u=document.location.protocol;if(-1!==s||(l+=":"+("http:"===u.toLowerCase()?80:443)),u.toLowerCase()!==o.toLowerCase())return!1;o=e.substring(t+2);var c=o.indexOf(":");t=o.indexOf("/");var f,h=o.substring(0,t);return-1!==c?f=o.substring(0,c):(f=o.substring(0,t),h+=":"+("http:"===i.toLowerCase()?80:443)),f===document.domain&&h===l},WW.Util.calculateDpi=function(e,t,n,r,i){if(e&&t&&n){var o=e.getWidth(),a=e.getHeight(),s=t.w,l=t.h;i=i||6378137,r=r||"degrees";var u;if("degree"===r.toLowerCase()||"degrees"===r.toLowerCase()||"dd"===r.toLowerCase()){var c=o/s,f=a/l;u=254/(c>f?c:f)/n/(2*Math.PI*i/360)/1e4}else{u=254/(o/s)/n/1e4}return u}},WW.Util.toJSON=function(e){var t=e;if(null==t)return null;switch(t.constructor){case String:return t='"'+t.replace(/(["\\])/g,"\\$1")+'"',t=t.replace(/\n/g,"\\n"),t=t.replace(/\r/g,"\\r"),t=t.replace("<","&lt;"),t=t.replace(">","&gt;"),t=t.replace(/%/g,"%25"),t=t.replace(/&/g,"%26");case Array:for(var n=[],r=0,i=t.length;r<i;r++)n.push(WW.Util.toJSON(t[r]));return"["+n.join(",")+"]";case Number:return isFinite(t)?String(t):null;case Boolean:return String(t);case Date:return"{'__type':\"System.DateTime\",'Year':"+t.getFullYear()+",'Month':"+(t.getMonth()+1)+",'Day':"+t.getDate()+",'Hour':"+t.getHours()+",'Minute':"+t.getMinutes()+",'Second':"+t.getSeconds()+",'Millisecond':"+t.getMilliseconds()+",'TimezoneOffset':"+t.getTimezoneOffset()+"}";default:if(null!=t.toJSON&&"function"==typeof t.toJSON)return t.toJSON();if("object"===c(t)){if(t.length){for(var o=[],a=0,s=t.length;a<s;a++)o.push(WW.Util.toJSON(t[a]));return"["+o.join(",")+"]"}var l=[];for(var u in t)"function"!=typeof t[u]&&"CLASS_NAME"!==u&&"parent"!==u&&l.push("'"+u+"':"+WW.Util.toJSON(t[u]));return l.length>0?"{"+l.join(",")+"}":"{}"}return t.toString()}},WW.Util.getResolutionFromScaleDpi=function(e,t,n,r){return r=r||6378137,n=n||"",e>0&&t>0?(e=WW.Util.normalizeScale(e),"degree"===n.toLowerCase()||"degrees"===n.toLowerCase()||"dd"===n.toLowerCase()?254/t/e/(2*Math.PI*r/360)/1e4:254/t/e/1e4):-1},WW.Util.getScaleFromResolutionDpi=function(e,t,n,r){return r=r||6378137,n=n||"",e>0&&t>0?"degree"===n.toLowerCase()||"degrees"===n.toLowerCase()||"dd"===n.toLowerCase()?254/t/e/(2*Math.PI*r/360)/1e4:254/t/e/1e4:-1},WW.Util.transformResult=function(e){return e.responseText&&"string"==typeof e.responseText&&(e=JSON.parse(e.responseText)),e},WW.Util.copyAttributes=function(e,t){if(e=e||{},t)for(var n in t){var r=t[n];void 0!==r&&"CLASS_NAME"!==n&&"function"!=typeof r&&(e[n]=r)}return e},WW.Util.copyAttributesWithClip=function(e,t,n){if(e=e||{},t)for(var r in t){var i=!1;if(n&&n.length)for(var o=0,a=n.length;o<a;o++)if(r===n[o]){i=!0;break}if(!0!==i){var s=t[r];void 0!==s&&"CLASS_NAME"!==r&&"function"!=typeof s&&(e[r]=s)}}return e},WW.Util.cloneObject=function(e){if(null===e||"object"!==c(e))return e;if(e instanceof Date){var t=new Date;return t.setTime(e.getTime()),t}if(e instanceof Array){return e.slice(0)}if(e instanceof Object){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=WW.Util.cloneObject(e[r]));return n}throw new Error("Unable to copy obj! Its type isn't supported.")},WW.Util.lineIntersection=function(e,t,n,r){var i,o,a=null,s=(r.x-n.x)*(e.y-n.y)-(r.y-n.y)*(e.x-n.x),l=(t.x-e.x)*(e.y-n.y)-(t.y-e.y)*(e.x-n.x),u=(r.y-n.y)*(t.x-e.x)-(r.x-n.x)*(t.y-e.y);if(0!=u)i=s/u,o=l/u,a=i>=0&&o<=1&&i<=1&&o>=0?new WW.Geometry.Point(e.x+i*(t.x-e.x),e.y+i*(t.y-e.y)):"No Intersection";else if(0==s&&0==l){var c=Math.max(e.y,t.y),f=Math.min(e.y,t.y),h=Math.max(e.x,t.x),p=Math.min(e.x,t.x);a=(n.y>=f&&n.y<=c||r.y>=f&&r.y<=c)&&n.x>=p&&n.x<=h||r.x>=p&&r.x<=h?"Coincident":"Parallel"}else a="Parallel";return a},WW.Util.getTextBounds=function(e,t,n){document.body.appendChild(n),n.style.width="auto",n.style.height="auto",e.fontSize&&(n.style.fontSize=e.fontSize),e.fontFamily&&(n.style.fontFamily=e.fontFamily),e.fontWeight&&(n.style.fontWeight=e.fontWeight),n.style.position="relative",n.style.visibility="hidden",n.style.display="inline-block",n.innerHTML=t;var r=n.clientWidth,i=n.clientHeight;return document.body.removeChild(n),{textWidth:r,textHeight:i}};/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var iQ=function(){function e(t,n){f(this,e),rQ.isArray(t)&&(n=t[1],t=t[0]),this.lon=t?rQ.toFloat(t):0,this.lat=n?rQ.toFloat(n):0,this.CLASS_NAME="SuperMap.LonLat"}return p(e,[{key:"toString",value:function(){return"lon="+this.lon+",lat="+this.lat}},{key:"toShortString",value:function(){return this.lon+","+this.lat}},{key:"clone",value:function(){return new e(this.lon,this.lat)}},{key:"add",value:function(t,n){if(null==t||null==n)throw new TypeError("LonLat.add cannot receive null values");return new e(this.lon+rQ.toFloat(t),this.lat+rQ.toFloat(n))}},{key:"equals",value:function(e){var t=!1;return null!=e&&(t=this.lon===e.lon&&this.lat===e.lat||isNaN(this.lon)&&isNaN(this.lat)&&isNaN(e.lon)&&isNaN(e.lat)),t}},{key:"wrapDateLine",value:function(e){var t=this.clone();if(e){for(;t.lon<e.left;)t.lon+=e.getWidth();for(;t.lon>e.right;)t.lon-=e.getWidth()}return t}},{key:"destroy",value:function(){this.lon=null,this.lat=null}}],[{key:"fromString",value:function(t){var n=t.split(",");return new e(n[0],n[1])}},{key:"fromArray",value:function(t){var n=rQ.isArray(t);return new e(n&&t[0],n&&t[1])}}]),e}(),oQ=function(){function e(t,n,r,i){y(this,e),rQ.isArray(t)&&(i=t[3],r=t[2],n=t[1],t=t[0]),this.left=null!=t?rQ.toFloat(t):this.left,this.bottom=null!=n?rQ.toFloat(n):this.bottom,this.right=null!=r?rQ.toFloat(r):this.right,this.top=null!=i?rQ.toFloat(i):this.top,this.centerLonLat=null,this.CLASS_NAME="SuperMap.Bounds"}return m(e,[{key:"clone",value:function(){return new e(this.left,this.bottom,this.right,this.top)}},{key:"equals",value:function(e){var t=!1;return null!=e&&(t=this.left===e.left&&this.right===e.right&&this.top===e.top&&this.bottom===e.bottom),t}},{key:"toString",value:function(){return[this.left,this.bottom,this.right,this.top].join(",")}},{key:"toArray",value:function(e){return!0===e?[this.bottom,this.left,this.top,this.right]:[this.left,this.bottom,this.right,this.top]}},{key:"toBBOX",value:function(e,t){null==e&&(e=6);var n=Math.pow(10,e),r=Math.round(this.left*n)/n,i=Math.round(this.bottom*n)/n,o=Math.round(this.right*n)/n,a=Math.round(this.top*n)/n;return!0===t?i+","+r+","+a+","+o:r+","+i+","+o+","+a}},{key:"getWidth",value:function(){return this.right-this.left}},{key:"getHeight",value:function(){return this.top-this.bottom}},{key:"getSize",value:function(){return new ZY(this.getWidth(),this.getHeight())}},{key:"getCenterPixel",value:function(){return new $Y((this.left+this.right)/2,(this.bottom+this.top)/2)}},{key:"getCenterLonLat",value:function(){return this.centerLonLat||(this.centerLonLat=new iQ((this.left+this.right)/2,(this.bottom+this.top)/2)),this.centerLonLat}},{key:"scale",value:function(t,n){t=t||1,null==n&&(n=this.getCenterLonLat());var r,i;return"SuperMap.LonLat"===n.CLASS_NAME?(r=n.lon,i=n.lat):(r=n.x,i=n.y),new e((this.left-r)*t+r,(this.bottom-i)*t+i,(this.right-r)*t+r,(this.top-i)*t+i)}},{key:"add",value:function(t,n){if(null==t||null==n)throw new TypeError("Bounds.add cannot receive null values");return new e(this.left+t,this.bottom+n,this.right+t,this.top+n)}},{key:"extend",value:function(t){var n=null;if(t){switch(t.CLASS_NAME){case"SuperMap.LonLat":n=new e(t.lon,t.lat,t.lon,t.lat);break;case"SuperMap.Geometry.Point":n=new e(t.x,t.y,t.x,t.y);break;case"SuperMap.Bounds":n=t}n&&(this.centerLonLat=null,(null==this.left||n.left<this.left)&&(this.left=n.left),(null==this.bottom||n.bottom<this.bottom)&&(this.bottom=n.bottom),(null==this.right||n.right>this.right)&&(this.right=n.right),(null==this.top||n.top>this.top)&&(this.top=n.top))}}},{key:"containsLonLat",value:function(e,t){"boolean"==typeof t&&(t={inclusive:t}),t=t||{};var n=this.contains(e.lon,e.lat,t.inclusive),r=t.worldBounds;if(r&&!n){var i=r.getWidth(),o=(r.left+r.right)/2,a=Math.round((e.lon-o)/i);n=this.containsLonLat({lon:e.lon-a*i,lat:e.lat},{inclusive:t.inclusive})}return n}},{key:"containsPixel",value:function(e,t){return this.contains(e.x,e.y,t)}},{key:"contains",value:function(e,t,n){if(null==n&&(n=!0),null==e||null==t)return!1;var r=!1;return r=n?e>=this.left&&e<=this.right&&t>=this.bottom&&t<=this.top:e>this.left&&e<this.right&&t>this.bottom&&t<this.top,r}},{key:"intersectsBounds",value:function(e,t){if("boolean"==typeof t&&(t={inclusive:t}),t=t||{},t.worldBounds){var n=this.wrapDateLine(t.worldBounds);e=e.wrapDateLine(t.worldBounds)}else n=this;null==t.inclusive&&(t.inclusive=!0);var r=!1,i=n.left===e.right||n.right===e.left||n.top===e.bottom||n.bottom===e.top;if(t.inclusive||!i){var o=e.bottom>=n.bottom&&e.bottom<=n.top||n.bottom>=e.bottom&&n.bottom<=e.top,a=e.top>=n.bottom&&e.top<=n.top||n.top>e.bottom&&n.top<e.top,s=e.left>=n.left&&e.left<=n.right||n.left>=e.left&&n.left<=e.right,l=e.right>=n.left&&e.right<=n.right||n.right>=e.left&&n.right<=e.right;r=(o||a)&&(s||l)}if(t.worldBounds&&!r){var u=t.worldBounds,c=u.getWidth(),f=!u.containsBounds(n),h=!u.containsBounds(e);f&&!h?(e=e.add(-c,0),r=n.intersectsBounds(e,{inclusive:t.inclusive})):h&&!f&&(n=n.add(-c,0),r=e.intersectsBounds(n,{inclusive:t.inclusive}))}return r}},{key:"containsBounds",value:function(e,t,n){null==t&&(t=!1),null==n&&(n=!0);var r=this.contains(e.left,e.bottom,n),i=this.contains(e.right,e.bottom,n),o=this.contains(e.left,e.top,n),a=this.contains(e.right,e.top,n);return t?r||i||o||a:r&&i&&o&&a}},{key:"determineQuadrant",value:function(e){var t="",n=this.getCenterLonLat();return t+=e.lat<n.lat?"b":"t",t+=e.lon<n.lon?"l":"r"}},{key:"wrapDateLine",value:function(e,t){t=t||{};var n=t.leftTolerance||0,r=t.rightTolerance||0,i=this.clone();if(e){for(var o=e.getWidth();i.left<e.left&&i.right-r<=e.left;)i=i.add(o,0);for(;i.left+n>=e.right&&i.right>e.right;)i=i.add(-o,0);var a=i.left+n;a<e.right&&a>e.left&&i.right-r>e.right&&(i=i.add(-o,0))}return i}},{key:"toServerJSONObject",value:function(){return{rightTop:{x:this.right,y:this.top},leftBottom:{x:this.left,y:this.bottom},left:this.left,right:this.right,top:this.top,bottom:this.bottom}}},{key:"destroy",value:function(){this.left=null,this.right=null,this.top=null,this.bottom=null,this.centerLonLat=null}}],[{key:"fromString",value:function(t,n){var r=t.split(",");return e.fromArray(r,n)}},{key:"fromArray",value:function(t,n){return!0===n?new e(t[1],t[0],t[3],t[2]):new e(t[0],t[1],t[2],t[3])}},{key:"fromSize",value:function(t){return new e(0,t.h,t.w,0)}},{key:"oppositeQuadrant",value:function(e){var t="";return t+="t"===e.charAt(0)?"b":"t",t+="l"===e.charAt(1)?"r":"l"}}]),e}();WW.Bounds=oQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var aQ=function(){function e(){v(this,e),this.CLASS_NAME="SuperMap.Geometry",this.id=rQ.createUniqueID(this.CLASS_NAME+"_"),this.parent=null,this.bounds=null,this.SRID=null}return b(e,[{key:"destroy",value:function(){this.id=null,this.bounds=null,this.SRID=null}},{key:"clone",value:function(){return new e}},{key:"setBounds",value:function(e){e&&(this.bounds=e.clone())}},{key:"clearBounds",value:function(){this.bounds=null,this.parent&&this.parent.clearBounds()}},{key:"extendBounds",value:function(e){this.getBounds()?this.bounds.extend(e):this.setBounds(e)}},{key:"getBounds",value:function(){return null==this.bounds&&this.calculateBounds(),this.bounds}},{key:"calculateBounds",value:function(){}},{key:"getVertices",value:function(e){}},{key:"getArea",value:function(){return 0}}]),e}();WW.Geometry=aQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var sQ=function(e){function t(e){var n;return _(this,t),n=x(this,E(t).call(this)),n.components=[],n.componentTypes=null,null!=e&&n.addComponents(e),n.CLASS_NAME="SuperMap.Geometry.Collection",n.geometryType="Collection",n}return k(t,e),O(t,[{key:"destroy",value:function(){this.components.length=0,this.components=null,T(E(t.prototype),"destroy",this).call(this)}},{key:"clone",value:function(){for(var e=new t,n=0,r=this.components.length;n<r;n++)e.addComponent(this.components[n].clone());return rQ.applyDefaults(e,this),e}},{key:"getComponentsString",value:function(){for(var e=[],t=0,n=this.components.length;t<n;t++)e.push(this.components[t].toShortString());return e.join(",")}},{key:"calculateBounds",value:function(){this.bounds=null;var e=new oQ,t=this.components;if(t)for(var n=0,r=t.length;n<r;n++)e.extend(t[n].getBounds());null!=e.left&&null!=e.bottom&&null!=e.right&&null!=e.top&&this.setBounds(e)}},{key:"addComponents",value:function(e){rQ.isArray(e)||(e=[e]);for(var t=0,n=e.length;t<n;t++)this.addComponent(e[t])}},{key:"addComponent",value:function(e,t){var n=!1;if(e&&(null==this.componentTypes||rQ.indexOf(this.componentTypes,e.CLASS_NAME)>-1)){if(null!=t&&t<this.components.length){var r=this.components.slice(0,t),i=this.components.slice(t,this.components.length);r.push(e),this.components=r.concat(i)}else this.components.push(e);e.parent=this,this.clearBounds(),n=!0}return n}},{key:"removeComponents",value:function(e){var t=!1;rQ.isArray(e)||(e=[e]);for(var n=e.length-1;n>=0;--n)t=this.removeComponent(e[n])||t;return t}},{key:"removeComponent",value:function(e){return rQ.removeItem(this.components,e),this.clearBounds(),!0}},{key:"getArea",value:function(){for(var e=0,t=0,n=this.components.length;t<n;t++)e+=this.components[t].getArea();return e}},{key:"equals",value:function(e){var t=!0;if(e&&e.CLASS_NAME&&this.CLASS_NAME===e.CLASS_NAME)if(rQ.isArray(e.components)&&e.components.length===this.components.length){for(var n=0,r=this.components.length;n<r;++n)if(!this.components[n].equals(e.components[n])){t=!1;break}}else t=!1;else t=!1;return t}},{key:"getVertices",value:function(e){for(var t=[],n=0,r=this.components.length;n<r;++n)Array.prototype.push.apply(t,this.components[n].getVertices(e));return t}}]),t}(aQ);WW.Geometry.Collection=sQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var lQ=function(e){function t(e){var n;return L(this,t),n=N(this,D(t).call(this,e)),n.componentTypes=["SuperMap.Geometry.Point"],n.CLASS_NAME="SuperMap.Geometry.MultiPoint",n.geometryType="MultiPoint",n}return F(t,e),R(t,[{key:"addPoint",value:function(e,t){this.addComponent(e,t)}},{key:"removePoint",value:function(e){this.removeComponent(e)}}]),t}(sQ);WW.Geometry.MultiPoint=lQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var uQ=function(e){function t(e){var n;return G(this,t),n=z(this,H(t).call(this,e)),n.componentTypes=["SuperMap.Geometry.Point","SuperMap.PointWithMeasure"],n.CLASS_NAME="SuperMap.Geometry.Curve",n.geometryType="Curve",n}return J(t,e),t}(lQ);WW.Geometry.Curve=uQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var cQ=function(e){function t(e,n,r,i){var o;return Y(this,t),o=K(this,te(t).call(this,e,n,r,i)),o.x=parseFloat(e),o.y=parseFloat(n),o.tag=i||0==i?parseFloat(i):null,o.type=r||"Point",o.CLASS_NAME="SuperMap.Geometry.Point",o.geometryType="Point",o}return ne(t,e),X(t,[{key:"clone",value:function(e){return null==e&&(e=new t(this.x,this.y)),rQ.applyDefaults(e,this),e}},{key:"calculateBounds",value:function(){this.bounds=new oQ(this.x,this.y,this.x,this.y)}},{key:"equals",value:function(e){var t=!1;return null!=e&&(t=this.x===e.x&&this.y===e.y||isNaN(this.x)&&isNaN(this.y)&&isNaN(e.x)&&isNaN(e.y)),t}},{key:"move",value:function(e,t){this.x=this.x+e,this.y=this.y+t,this.clearBounds()}},{key:"toShortString",value:function(){return this.x+", "+this.y}},{key:"destroy",value:function(){this.x=null,this.y=null,this.tag=null,$(te(t.prototype),"destroy",this).call(this)}},{key:"getVertices",value:function(e){return[this]}}]),t}(aQ);WW.Geometry.Point=cQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var fQ=function(e){function t(e){var n;return oe(this,t),n=le(this,he(t).call(this,e)),n.CLASS_NAME="SuperMap.Geometry.LineString",n.geometryType="LineString",n}return pe(t,e),se(t,[{key:"removeComponent",value:function(e){var n=this.components&&this.components.length>2;return n&&ce(he(t.prototype),"removeComponent",this).apply(this,arguments),n}},{key:"getSortedSegments",value:function(){function e(e,t){return e.x1-t.x1}for(var t,n,r=this.components.length-1,i=new Array(r),o=0;o<r;++o)t=this.components[o],n=this.components[o+1],t.x<n.x?i[o]={x1:t.x,y1:t.y,x2:n.x,y2:n.y}:i[o]={x1:n.x,y1:n.y,x2:t.x,y2:t.y};return i.sort(e)}},{key:"getVertices",value:function(e){return!0===e?[this.components[0],this.components[this.components.length-1]]:!1===e?this.components.slice(1,this.components.length-1):this.components.slice()}}],[{key:"calculateCircle",value:function(e){if(e.length<3)return e;var t={},n=e[0],r=e[1],i=e[2],o=0,a=0,s=!0,l=0,u=0,c=0,f=[],h=(i.y-n.y)/(i.x-n.x),p=i.y-h*i.x;if(i.x!=n.x&&i.y!=n.y&&r.y==h*r.x+p||i.x==n.x&&r.x==n.x||i.y==n.y&&r.y==n.y||i.x==n.x&&i.y==n.y||i.x==r.x&&i.y==r.y||n.x==r.x&&n.y==r.y)f.push(n),f.push(r),f.push(i);else{var y=(r.x*r.x+r.y*r.y-(n.x*n.x+n.y*n.y))*(2*(i.y-n.y))-(i.x*i.x+i.y*i.y-(n.x*n.x+n.y*n.y))*(2*(r.y-n.y)),d=2*(r.x-n.x)*(i.x*i.x+i.y*i.y-(n.x*n.x+n.y*n.y))-2*(i.x-n.x)*(r.x*r.x+r.y*r.y-(n.x*n.x+n.y*n.y)),m=4*((r.x-n.x)*(i.y-n.y)-(i.x-n.x)*(r.y-n.y));t.x=y/m,t.y=d/m,o=Math.sqrt((n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y));var v=(n.x-i.x)*(n.x-i.x)+(n.y-i.y)*(n.y-i.y),g=(2*o*o-v)/(2*o*o);g=g>=1?1:g,g=g<=-1?-1:g,c=180*Math.acos(g)/Math.PI,c=i.x==n.x?t.x>n.x&&r.x>n.x||t.x<n.x&&r.x<n.x?360-c:c:t.y>h*t.x+p&&r.y>h*r.x+p||t.y<h*t.x+p&&r.y<h*r.x+p?360-c:c,a=c/72,i.y!=n.y?i.x==n.x?i.y>n.y?r.x<n.x&&(s=!1):r.x>n.x&&(s=!1):i.x<n.x?r.y<h*r.x+p&&(s=!1):r.y>h*r.x+p&&(s=!1):i.x>n.x?r.y>n.y&&(s=!1):r.y<n.y&&(s=!1);var b=(n.y-t.y)/(n.x-t.x),S=b>=0?180*Math.atan(b)/Math.PI:Math.abs(180*Math.atan(b)/Math.PI)+90,_=Math.abs(t.y);n.y==_&&_==i.y&&n.x<i.x&&(S+=180);var w=n.y-t.y;f.push(n);for(var O=1;O<72;O++){l=a*O,u=S,s?w>=0?b>=0?u+=l:u=180-(u-90)+l:u=b>0?u-180+l:90-u+l:w>=0?b>=0?u-=l:u=180-(u-90)-l:u=b>=0?u-180-l:90-u-l,u=u*Math.PI/180;var x=t.x+o*Math.cos(u),C=t.y+o*Math.sin(u);f.push(new cQ(x,C))}f.push(i)}return f}},{key:"createLineEPS",value:function(e){var n=[],r=e.length;if(r<2)return e;for(var i=0;i<r;){if("LTypeArc"==e[i].type){var o=t.createLineArc(n,i,r,e);n=o[0],i=o[1]}else n.push(e[i]),i++}return n}},{key:"createLineArc",value:function(e,n,r,i){if(0==n){var o=t.addPointEPS(i,n,r,"LTypeArc");Array.prototype.push.apply(e,o[0]),n=o[1]+1}else if(n==r-1){var a=[i[n-1],i[n]],s=t.calculateCircle(a);Array.prototype.push.apply(e,s),n++}else{var l=t.addPointEPS(i,n,r,"LTypeArc");e.pop(),Array.prototype.push.apply(e,l[0]),n=l[1]+1}return[e,n]}},{key:"addPointEPS",value:function(e,n,r,i){var o=[],a=n+1;0==n?Array.prototype.push.apply(o,[e[n],e[n+1]]):n==r-1?Array.prototype.push.apply(o,[e[n-1],e[n]]):Array.prototype.push.apply(o,[e[n-1],e[n],e[n+1]]);var s;return"LTypeCurve"==i?s=t.calculatePointsFBZN(o):"LTypeArc"==i&&(s=t.calculateCircle(o)),[s,a]}}]),t}(uQ);WW.Geometry.LineString=fQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var hQ=function(e){function t(e,n,r){var i;return me(this,t),i=be(this,Oe(t).call(this,e,n,r)),i.x=parseFloat(e),i.y=parseFloat(n),i.text=r.toString(),i.bsInfo={h:null,w:null},i.element=document.createElement("span"),i.CLASS_NAME="SuperMap.Geometry.GeoText",i.geometryType="GeoText",i}return xe(t,e),ge(t,[{key:"destroy",value:function(){_e(Oe(t.prototype),"destroy",this).call(this),this.x=null,this.y=null,this.text=null}},{key:"getCentroid",value:function(){return new cQ(this.x,this.y)}},{key:"clone",value:function(e){return null==e&&(e=new t(this.x,this.y,this.text)),rQ.applyDefaults(e,this),e}},{key:"calculateBounds",value:function(){this.bounds=new oQ(this.x,this.y,this.x,this.y)}},{key:"getLabelPxBoundsByLabel",value:function(e,t,n,r){var i,o,a,s,l=rQ.cloneObject(e),u=r.label||this.text,c=u.split("\n"),f=c.length;if(t=parseFloat(t),n=parseFloat(n),f>1&&(n=parseFloat(n)*f),r.labelAlign&&"cm"!==r.labelAlign)switch(r.labelAlign){case"lt":l.x+=t/2,l.y+=n/2;break;case"lm":l.x+=t/2;break;case"lb":l.x+=t/2,l.y-=n/2;break;case"ct":l.y+=n/2;break;case"cb":l.y-=n/2;break;case"rt":l.x-=t/2,l.y+=n/2;break;case"rm":l.x-=t/2;break;case"rb":l.x-=t/2,l.y-=n/2}return this.bsInfo.h=n,this.bsInfo.w=t,i=l.x-parseFloat(t)/2,o=l.y+parseFloat(n)/2,s=l.x+parseFloat(t)/2,a=l.y-parseFloat(n)/2,new oQ(i,o,s,a)}},{key:"getLabelPxBoundsByText",value:function(e,t){var n,r,i,o,a=this.getLabelPxSize(t),s=rQ.cloneObject(e);if(t.labelAlign&&"cm"!==t.labelAlign)switch(t.labelAlign){case"lt":s.x+=a.w/2,s.y+=a.h/2;break;case"lm":s.x+=a.w/2;break;case"lb":s.x+=a.w/2,s.y-=a.h/2;break;case"ct":s.y+=a.h/2;break;case"cb":s.y-=a.h/2;break;case"rt":s.x-=a.w/2,s.y+=a.h/2;break;case"rm":s.x-=a.w/2;break;case"rb":s.x-=a.w/2,s.y-=a.h/2}return this.bsInfo.h=a.h,this.bsInfo.w=a.w,n=s.x-a.w/2,r=s.y+a.h/2,o=t.fontStyle&&"italic"===t.fontStyle?s.x+a.w/2+parseInt(parseFloat(t.fontSize)/2):s.x+a.w/2,i=s.y-a.h/2,new oQ(n,r,o,i)}},{key:"getLabelPxSize",value:function(e){var t,n,r=parseFloat(e.strokeWidth);t=e.label||this.text,n=e.fontSize?parseFloat(e.fontSize):parseFloat("12px");var i,o,a=t.split("\n"),s=a.length;o=s>1?n*s+s+r+.2*n:n+r+.2*n+1,i=0,this.labelWTmp&&i<this.labelWTmp&&(i=this.labelWTmp);for(var l=0;l<s;l++){var u=this.getTextCount(a[l]),c=this.labelWTmp=rQ.getTextBounds(e,a[l],this.element).textWidth+1*u.textC+r;i<c&&(i=c)}var f=new Object;return f.h=o,f.w=i,f}},{key:"getTextCount",value:function(e){for(var t={},n=0,r=0,i=0;i<e.length;i++)e.charCodeAt(i)>255?n++:r++;return t.cnC=n,t.enC=r,t.textC=e.length,t}}]),t}(aQ);WW.Geometry.GeoText=hQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var pQ=function(e){function t(e){var n;return Pe(this,t),n=Me(this,Re(t).call(this,e)),n.componentTypes=["SuperMap.Geometry.Point"],n.CLASS_NAME="SuperMap.Geometry.LinearRing",n.geometryType="LinearRing",n}return Ne(t,e),ke(t,[{key:"addComponent",value:function(e,n){var r=!1,i=this.components.pop();null==n&&e.equals(i)||(r=Le(Re(t.prototype),"addComponent",this).apply(this,arguments));var o=this.components[0];return Le(Re(t.prototype),"addComponent",this).apply(this,[o]),r}},{key:"removeComponent",value:function(e){var n=this.components&&this.components.length>3;if(n){this.components.pop(),Le(Re(t.prototype),"removeComponent",this).apply(this,arguments);var r=this.components[0];Le(Re(t.prototype),"addComponent",this).apply(this,[r])}return n}},{key:"getArea",value:function(){var e=0;if(this.components&&this.components.length>2){for(var t=0,n=0,r=this.components.length;n<r-1;n++){var i=this.components[n],o=this.components[n+1];t+=(i.x+o.x)*(o.y-i.y)}e=-t/2}return e}},{key:"getVertices",value:function(e){return!0===e?[]:this.components.slice(0,this.components.length-1)}}]),t}(fQ);WW.Geometry.LinearRing=pQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var yQ=function(e){function t(e){var n;return Fe(this,t),n=Be(this,Ge(t).call(this,e)),n.componentTypes=["SuperMap.Geometry.LineString"],n.CLASS_NAME="SuperMap.Geometry.MultiLineString",n.geometryType="MultiLineString",n}return ze(t,e),t}(sQ);WW.Geometry.MultiLineString=yQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var dQ=function(e){function t(e){var n;return Je(this,t),n=qe(this,Ye(t).call(this,e)),n.componentTypes=["SuperMap.Geometry.Polygon"],n.CLASS_NAME="SuperMap.Geometry.MultiPolygon",n.geometryType="MultiPolygon",n}return Qe(t,e),t}(sQ);WW.Geometry.MultiPolygon=dQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var mQ=function(e){function t(e){var n;return Ze(this,t),n=tt(this,rt(t).call(this,e)),n.componentTypes=["SuperMap.Geometry.LinearRing"],n.CLASS_NAME="SuperMap.Geometry.Polygon",n.geometryType="Polygon",n}return it(t,e),et(t,[{key:"getArea",value:function(){var e=0;if(this.components&&this.components.length>0){e+=Math.abs(this.components[0].getArea());for(var t=1,n=this.components.length;t<n;t++)e-=Math.abs(this.components[t].getArea())}return e}}]),t}(sQ);WW.Geometry.Polygon=mQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var vQ=function(e){function t(e,n,r,i){var o;return st(this,t),o=ct(this,ht(t).call(this,e,n,r,i)),o.x=e,o.y=n,o.width=r,o.height=i,o.CLASS_NAME="SuperMap.Geometry.Rectangle",o.geometryType="Rectangle",o}return pt(t,e),ut(t,[{key:"calculateBounds",value:function(){this.bounds=new oQ(this.x,this.y,this.x+this.width,this.y+this.height)}},{key:"getArea",value:function(){return this.width*this.height}}]),t}(aQ);WW.Geometry.Rectangle=vQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var gQ=function(){function e(t,n){dt(this,e),this.value=t||"",this.name=n||"token",this.CLASS_NAME="SuperMap.Credential"}return vt(e,[{key:"getUrlParameters",value:function(){return this.name+"="+this.value}},{key:"getValue",value:function(){return this.value}},{key:"destroy",value:function(){this.value=null,this.name=null}}]),e}();gQ.CREDENTIAL=null,WW.Credential=gQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var bQ=(WW.Date={toISOString:function(){if("toISOString"in Date.prototype)return function(e){return e.toISOString()};var e=function(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n};return function(t){return isNaN(t.getTime())?"Invalid Date":t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1,2)+"-"+e(t.getUTCDate(),2)+"T"+e(t.getUTCHours(),2)+":"+e(t.getUTCMinutes(),2)+":"+e(t.getUTCSeconds(),2)+"."+e(t.getUTCMilliseconds(),3)+"Z"}}(),parse:function(e){var t,n=e.match(/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:(?:T(\d{1,2}):(\d{2}):(\d{2}(?:\.\d+)?)(Z|(?:[+-]\d{1,2}(?::(\d{2}))?)))|Z)?$/);if(n&&(n[1]||n[7])){var r=parseInt(n[1],10)||0,i=parseInt(n[2],10)-1||0,o=parseInt(n[3],10)||1;t=new Date(Date.UTC(r,i,o));var a=n[7];if(a){var s=parseInt(n[4],10),l=parseInt(n[5],10),u=parseFloat(n[6]),c=0|u,f=Math.round(1e3*(u-c));if(t.setUTCHours(s,l,c,f),"Z"!==a){var h=parseInt(a,10),p=parseInt(n[8],10)||0,y=-1e3*(60*h*60+60*p);t=new Date(t.getTime()+y)}}}else t=new Date("invalid");return t}},WW.Event={observers:!1,KEY_SPACE:32,KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,element:function(e){return e.target||e.srcElement},isSingleTouch:function(e){return e.touches&&1===e.touches.length},isMultiTouch:function(e){return e.touches&&e.touches.length>1},isLeftClick:function(e){return e.which&&1===e.which||e.button&&1===e.button},isRightClick:function(e){return e.which&&3===e.which||e.button&&2===e.button},stop:function(e,t){t||(e.preventDefault?e.preventDefault():e.returnValue=!1),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},findElement:function(e,t){for(var n=WW.Event.element(e);n.parentNode&&(!n.tagName||n.tagName.toUpperCase()!=t.toUpperCase());)n=n.parentNode;return n},observe:function(e,t,n,r){var i=rQ.getElement(e);if(r=r||!1,"keypress"===t&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||i.attachEvent)&&(t="keydown"),this.observers||(this.observers={}),!i._eventCacheID){var o="eventCacheID_";i.id&&(o=i.id+"_"+o),i._eventCacheID=rQ.createUniqueID(o)}var a=i._eventCacheID;this.observers[a]||(this.observers[a]=[]),this.observers[a].push({element:i,name:t,observer:n,useCapture:r}),i.addEventListener?"mousewheel"===t?i.addEventListener(t,n,{useCapture:r,passive:!1}):i.addEventListener(t,n,r):i.attachEvent&&i.attachEvent("on"+t,n)},stopObservingElement:function(e){var t=rQ.getElement(e),n=t._eventCacheID;this._removeElementObservers(WW.Event.observers[n])},_removeElementObservers:function(e){if(e)for(var t=e.length-1;t>=0;t--){var n=e[t],r=new Array(n.element,n.name,n.observer,n.useCapture);WW.Event.stopObserving.apply(this,r)}},stopObserving:function(e,t,n,r){r=r||!1;var i=rQ.getElement(e),o=i._eventCacheID;"keypress"===t&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||i.detachEvent)&&(t="keydown");var a=!1,s=WW.Event.observers[o];if(s)for(var l=0;!a&&l<s.length;){var u=s[l];if(u.name===t&&u.observer===n&&u.useCapture===r){s.splice(l,1),0==s.length&&delete WW.Event.observers[o],a=!0;break}l++}return a&&(i.removeEventListener?i.removeEventListener(t,n,r):i&&i.detachEvent&&i.detachEvent("on"+t,n)),a},unloadCache:function(){if(WW.Event&&WW.Event.observers){for(var e in WW.Event.observers){var t=WW.Event.observers[e];WW.Event._removeElementObservers.apply(this,[t])}WW.Event.observers=!1}},CLASS_NAME:"SuperMap.Event"});WW.Event=bQ,WW.Event.observe(window,"unload",WW.Event.unloadCache,!1);/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var SQ=function(){function e(t,n,r,i,o){if(bt(this,e),this.BROWSER_EVENTS=["mouseover","mouseout","mousedown","mouseup","mousemove","click","dblclick","rightclick","dblrightclick","resize","focus","blur","touchstart","touchmove","touchend","keydown","MSPointerDown","MSPointerUp","pointerdown","pointerup","MSGestureStart","MSGestureChange","MSGestureEnd","contextmenu"],this.listeners={},this.object=t,this.element=null,this.eventTypes=[],this.eventHandler=null,this.fallThrough=i,this.includeXY=!1,this.extensions={},this.extensionCount={},this.clearMouseListener=null,rQ.extend(this,o),null!=r)for(var a=0,s=r.length;a<s;a++)this.addEventType(r[a]);null!=n&&this.attachToElement(n),this.CLASS_NAME="SuperMap.Events"}return _t(e,[{key:"destroy",value:function(){for(var e in this.extensions)"boolean"!=typeof this.extensions[e]&&this.extensions[e].destroy();this.extensions=null,this.element&&(bQ.stopObservingElement(this.element),this.element.hasScrollEvent&&bQ.stopObserving(window,"scroll",this.clearMouseListener)),this.element=null,this.listeners=null,this.object=null,this.eventTypes=null,this.fallThrough=null,this.eventHandler=null}},{key:"addEventType",value:function(e){this.listeners[e]||(this.eventTypes.push(e),this.listeners[e]=[])}},{key:"attachToElement",value:function(e){this.element?bQ.stopObservingElement(this.element):(this.eventHandler=nQ.bindAsEventListener(this.handleBrowserEvent,this),this.clearMouseListener=nQ.bind(this.clearMouseCache,this)),this.element=e;for(var t=0,n=this.BROWSER_EVENTS.length;t<n;t++){var r=this.BROWSER_EVENTS[t];this.addEventType(r),bQ.observe(e,r,this.eventHandler)}bQ.observe(e,"dragstart",bQ.stop)}},{key:"on",value:function(e){for(var t in e)"scope"!==t&&e.hasOwnProperty(t)&&this.register(t,e.scope,e[t])}},{key:"register",value:function(t,n,r,i){if(t in e&&!this.extensions[t]&&(this.extensions[t]=new e[t](this)),null!=r&&-1!==rQ.indexOf(this.eventTypes,t)){null==n&&(n=this.object);var o=this.listeners[t];o||(o=[],this.listeners[t]=o,this.extensionCount[t]=0);var a={obj:n,func:r};i?(o.splice(this.extensionCount[t],0,a),"object"===gt(i)&&i.extension&&this.extensionCount[t]++):o.push(a)}}},{key:"registerPriority",value:function(e,t,n){this.register(e,t,n,!0)}},{key:"un",value:function(e){for(var t in e)"scope"!==t&&e.hasOwnProperty(t)&&this.unregister(t,e.scope,e[t])}},{key:"unregister",value:function(e,t,n){null==t&&(t=this.object);var r=this.listeners[e];if(null!=r)for(var i=0,o=r.length;i<o;i++)if(r[i].obj===t&&r[i].func===n){r.splice(i,1);break}}},{key:"remove",value:function(e){null!=this.listeners[e]&&(this.listeners[e]=[])}},{key:"triggerEvent",value:function(e,t){var n=this.listeners[e];if(n&&0!=n.length){null==t&&(t={}),t.object=this.object,t.element=this.element,t.type||(t.type=e),n=n.slice();for(var r,i=0,o=n.length;i<o;i++){var a=n[i];if(void 0!=(r=a.func.apply(a.obj,[t]))&&!1===r)break}return this.fallThrough||bQ.stop(t,!0),r}}},{key:"handleBrowserEvent",value:function(e){var t=e.type,n=this.listeners[t];if(n&&0!=n.length){var r=e.touches;if(r&&r[0]){for(var i,o=0,a=0,s=r.length,l=0;l<s;++l)i=r[l],o+=i.clientX,a+=i.clientY;e.clientX=o/s,e.clientY=a/s}this.includeXY&&(e.xy=this.getMousePosition(e)),this.triggerEvent(t,e)}}},{key:"clearMouseCache",value:function(){this.element.scrolls=null,this.element.lefttop=null;var e=document.body;e&&(0==e.scrollTop&&0==e.scrollLeft||!navigator.userAgent.match(/iPhone/i))&&(this.element.offsets=null)}},{key:"getMousePosition",value:function(e){if(this.includeXY?this.element.hasScrollEvent||(bQ.observe(window,"scroll",this.clearMouseListener),this.element.hasScrollEvent=!0):this.clearMouseCache(),!this.element.scrolls){var t=rQ.getViewportElement();this.element.scrolls=[t.scrollLeft,t.scrollTop]}return this.element.lefttop||(this.element.lefttop=[document.documentElement.clientLeft||0,document.documentElement.clientTop||0]),this.element.offsets||(this.element.offsets=rQ.pagePosition(this.element)),new $Y(e.clientX+this.element.scrolls[0]-this.element.offsets[0]-this.element.lefttop[0],e.clientY+this.element.scrolls[1]-this.element.offsets[1]-this.element.lefttop[1])}}]),e}();WW.Events=SQ,WW.Events.prototype.BROWSER_EVENTS=["mouseover","mouseout","mousedown","mouseup","mousemove","click","dblclick","rightclick","dblrightclick","resize","focus","blur","touchstart","touchmove","touchend","keydown","MSPointerDown","MSPointerUp","pointerdown","pointerup","MSGestureStart","MSGestureChange","MSGestureEnd","contextmenu"];/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var _Q=function(){function e(t,n,r){wt(this,e),this.CLASS_NAME="SuperMap.Feature",this.layer=t,this.id=rQ.createUniqueID(this.CLASS_NAME+"_"),this.lonlat=n,this.data=null!=r?r:{}}return xt(e,[{key:"destroy",value:function(){this.id=null,this.lonlat=null,this.data=null}}]),e}();WW.Feature=_Q;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var wQ=function(e){function t(e,n,r){var i;return Tt(this,t),i=kt(this,jt(t).call(this,null,null,n)),i.fid=null,i.geometry=e||null,i.attributes={},n&&(i.attributes=rQ.extend(i.attributes,n)),i.bounds=null,i.state=null,i.style=r||null,i.url=null,i.lonlat=null,i.CLASS_NAME="SuperMap.Feature.Vector",WW.State={UNKNOWN:"Unknown",INSERT:"Insert",UPDATE:"Update",DELETE:"Delete"},t.style={default:{fillColor:"#ee9900",fillOpacity:.4,hoverFillColor:"white",hoverFillOpacity:.8,strokeColor:"#ee9900",strokeOpacity:1,strokeWidth:1,strokeLinecap:"round",strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"inherit",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},select:{fillColor:"blue",fillOpacity:.4,hoverFillColor:"white",hoverFillOpacity:.8,strokeColor:"blue",strokeOpacity:1,strokeWidth:2,strokeLinecap:"round",strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"pointer",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},temporary:{fillColor:"#66cccc",fillOpacity:.2,hoverFillColor:"white",hoverFillOpacity:.8,strokeColor:"#66cccc",strokeOpacity:1,strokeLinecap:"round",strokeWidth:2,strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"default",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},delete:{display:"none"}},i}return Rt(t,e),Et(t,[{key:"destroy",value:function(){this.layer&&(this.layer.removeFeatures(this),this.layer=null),this.geometry=null,At(jt(t.prototype),"destroy",this).call(this)}},{key:"clone",value:function(){return new t(this.geometry?this.geometry.clone():null,this.attributes,this.style)}},{key:"toState",value:function(e){if(e===WW.State.UPDATE)switch(this.state){case WW.State.UNKNOWN:case WW.State.DELETE:this.state=e;break;case WW.State.UPDATE:case WW.State.INSERT:}else if(e===WW.State.INSERT)switch(this.state){case WW.State.UNKNOWN:break;default:this.state=e}else if(e===WW.State.DELETE)switch(this.state){case WW.State.INSERT:case WW.State.DELETE:break;case WW.State.UNKNOWN:case WW.State.UPDATE:this.state=e}else e===WW.State.UNKNOWN&&(this.state=e)}}]),t}(_Q);WW.Feature.Vector=wQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var OQ=function(){function e(t){It(this,e),this.data=null,this.keepData=!1,rQ.extend(this,t),this.options=t,this.CLASS_NAME="SuperMap.Format"}return Ft(e,[{key:"destroy",value:function(){}},{key:"read",value:function(e){}},{key:"write",value:function(e){}}]),e}();WW.Format=OQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var xQ=function(e){function t(e){var n;return Ut(this,t),n=Vt(this,Jt(t).call(this,e)),n.indent="    ",n.space=" ",n.newline="\n",n.level=0,n.pretty=!1,n.nativeJSON=function(){return!(!window.JSON||"function"!=typeof JSON.parse||"function"!=typeof JSON.stringify)}(),n.CLASS_NAME="SuperMap.Format.JSON",n.serialize={object:function(e){if(null==e)return"null";if(e.constructor===Date)return this.serialize.date.apply(this,[e]);if(e.constructor===Array)return this.serialize.array.apply(this,[e]);var t=["{"];this.level+=1;var n,r,i,o=!1;for(n in e)e.hasOwnProperty(n)&&(r=this.write.apply(this,[n,this.pretty]),i=this.write.apply(this,[e[n],this.pretty]),null!=r&&null!=i&&(o&&t.push(","),t.push(this.writeNewline(),this.writeIndent(),r,":",this.writeSpace(),i),o=!0));return this.level-=1,t.push(this.writeNewline(),this.writeIndent(),"}"),t.join("")},array:function(e){var t,n=["["];this.level+=1;for(var r=0,i=e.length;r<i;++r)null!=(t=this.write.apply(this,[e[r],this.pretty]))&&(r>0&&n.push(","),n.push(this.writeNewline(),this.writeIndent(),t));return this.level-=1,n.push(this.writeNewline(),this.writeIndent(),"]"),n.join("")},string:function(e){var t={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return/["\\\x00-\x1f]/.test(e)?'"'+e.replace(/([\x00-\x1f\\"])/g,function(e,n){var r=t[n];return r||(r=n.charCodeAt(),"\\u00"+Math.floor(r/16).toString(16)+(r%16).toString(16))})+'"':'"'+e+'"'},number:function(e){return isFinite(e)?String(e):"null"},boolean:function(e){return String(e)},date:function(e){function t(e){return e<10?"0"+e:e}return'"'+e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+"T"+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())+'"'}},n}return qt(t,e),zt(t,[{key:"read",value:function(e,t){var n;if(this.nativeJSON)try{n=JSON.parse(e,t)}catch(e){}return this.keepData&&(this.data=n),n}},{key:"write",value:function(e,t){this.pretty=!!t;var n=null,r=Bt(e);if(this.serialize[r])try{n=!this.pretty&&this.nativeJSON?JSON.stringify(e):this.serialize[r].apply(this,[e])}catch(e){}return n}},{key:"writeIndent",value:function(){var e=[];if(this.pretty)for(var t=0;t<this.level;++t)e.push(this.indent);return e.join("")}},{key:"writeNewline",value:function(){return this.pretty?this.newline:""}},{key:"writeSpace",value:function(){return this.pretty?this.space:""}}]),t}(OQ);WW.Format.JSON=xQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var CQ=function(){function e(t,n,r){Yt(this,e),this.red=t||0==t?t:255,this.green=n||0,this.blue=r||0,this.CLASS_NAME="SuperMap.ServerColor"}return Xt(e,[{key:"destroy",value:function(){var e=this;e.red=null,e.green=null,e.blue=null}}],[{key:"fromJson",value:function(t){if(t){var n=new e,r=255;null!==t.red&&(r=Number(t.red)),n.red=r;var i=0;null!==t.green&&(i=Number(t.green)),n.green=i;var o=0;return null!==t.blue&&(o=Number(t.blue)),n.blue=o,n}}}]),e}();WW.ServerColor=CQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var TQ=function(){function e(t){Kt(this,e),this.fillBackColor=new CQ(255,255,255),this.fillBackOpaque=!1,this.fillForeColor=new CQ(255,0,0),this.fillGradientMode=null,this.fillGradientAngle=0,this.fillGradientOffsetRatioX=0,this.fillGradientOffsetRatioY=0,this.fillOpaqueRate=100,this.fillSymbolID=0,this.lineColor=new CQ(0,0,0),this.lineSymbolID=0,this.lineWidth=1,this.markerAngle=0,this.markerSize=1,this.markerSymbolID=-1,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.ServerStyle"}return $t(e,[{key:"destroy",value:function(){var e=this;e.fillBackColor&&(e.fillBackColor.destroy(),e.fillBackColor=null),e.fillBackOpaque=null,e.fillForeColor&&(e.fillForeColor.destroy(),e.fillForeColor=null),e.fillGradientMode=null,e.fillGradientAngle=null,e.fillGradientOffsetRatioX=null,e.fillGradientOffsetRatioY=null,e.fillOpaqueRate=null,e.fillSymbolID=null,e.lineColor&&(e.lineColor.destroy(),e.lineColor=null),e.lineSymbolID=null,e.lineWidth=null,e.markerAngle=null,e.markerSize=null,e.markerSymbolID=null}},{key:"toServerJSONObject",value:function(){var e={};return e=rQ.copyAttributes(e,this)}}],[{key:"fromJson",value:function(t){if(t)return new e({fillBackColor:CQ.fromJson(t.fillBackColor),fillBackOpaque:t.fillBackOpaque,fillForeColor:CQ.fromJson(t.fillForeColor),fillGradientMode:t.fillGradientMode,fillGradientAngle:t.fillGradientAngle,fillGradientOffsetRatioX:t.fillGradientOffsetRatioX,fillGradientOffsetRatioY:t.fillGradientOffsetRatioY,fillOpaqueRate:t.fillOpaqueRate,fillSymbolID:t.fillSymbolID,lineColor:CQ.fromJson(t.lineColor),lineSymbolID:t.lineSymbolID,lineWidth:t.lineWidth,markerAngle:t.markerAngle,markerSize:t.markerSize,markerSymbolID:t.markerSymbolID})}}]),e}();WW.ServerStyle=TQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var PQ=function(e){function t(e){var n;return tn(this,t),n=on(this,an(t).call(this,e)),n.measure=null,e&&rQ.extend(sn(n),e),n.CLASS_NAME="SuperMap.PointWithMeasure",n}return ln(t,e),rn(t,[{key:"equals",value:function(e){var t=!1;if(null!=e){var n=this.x===e.x&&this.y===e.y&&this.measure===e.measure,r=isNaN(this.x)&&isNaN(this.y)&&isNaN(this.measure),i=isNaN(e.x)&&isNaN(e.y)&&isNaN(e.measure);t=n||r&&i}return t}},{key:"toJson",value:function(){var e="{";return null!=this.measure&&void 0!=this.measure&&(e+='"measure":'+this.measure+","),e+='"x":'+this.x+",",e+='"y":'+this.y,e+="}"}},{key:"destroy",value:function(){var e=this;e.measure=null,e.x=null,e.y=null}}],[{key:"fromJson",value:function(e){if(e)return new t({x:e.x,y:e.y,measure:e.measure})}}]),t}(cQ);WW.PointWithMeasure=PQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var EQ=function(e){function t(e,n){var r;return fn(this,t),r=yn(this,dn(t).call(this,e,n)),r.id=null,r.center=null,r.style=null,r.length=null,r.maxM=null,r.minM=null,r.parts=null,r.points=null,r.type=null,r.componentTypes=["SuperMap.Geometry.LinearRing","SuperMap.Geometry.LineString"],n&&rQ.extend(mn(r),n),r.CLASS_NAME="SuperMap.Route",r.geometryType="LINEM",r}return vn(t,e),pn(t,[{key:"toJson",value:function(){var e="{";if(null!=this.id&&void 0!=this.id&&(e+='"id":'+this.id+","),null!=this.center&&void 0!=this.center&&(e+='"center":'+this.center+","),null!=this.style&&void 0!=this.style&&(e+='"style":'+this.style+","),null!=this.length&&void 0!=this.length&&(e+='"length":'+this.length+","),null!=this.maxM&&void 0!=this.maxM&&(e+='"maxM":'+this.maxM+","),null!=this.minM&&void 0!=this.minM&&(e+='"minM":'+this.minM+","),null!=this.type&&void 0!=this.type&&(e+='"type":"'+this.type+'",'),null!=this.parts&&void 0!=this.parts){e+='"parts":['+this.parts[0];for(var t=1;t<this.parts.length;t++)e+=","+this.parts[t];e+="],"}if(null!=this.components&&this.components.length>0){e+='"points":[';for(var n=0,r=this.components.length;n<r;n++)for(var i=0,o=this.components[n].components.length;i<o;i++)e+=this.components[n].components[i].toJson()+",";e=e.replace(/,$/g,""),e+="]"}return e=e.replace(/,$/g,""),e+="}"}},{key:"destroy",value:function(){var e=this;e.id=null,e.center=null,e.style=null,e.length=null,e.maxM=null,e.minM=null,e.type=null,e.parts=null,e.components.length=0,e.components=null,e.componentTypes=null}}],[{key:"fromJson",value:function(e){if(e){var n=e.parts||[],r=e.points||[],i=n.length,o=[];if(!(i>0))return null;for(var a=0,s=0,l=[];a<i;a++){for(var u=0;u<n[a];u++)l.push(PQ.fromJson(r[s+u]));s+=n[a],l[0].equals(l[n[a]-1])?o.push(new pQ(l)):o.push(new fQ(l)),l=[]}return new t(o,{id:e.id,center:e.center,style:e.style,length:e.length,maxM:e.maxM,minM:e.minM,type:e.type,parts:e.parts})}}}]),t}(sQ);WW.Route=EQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var kQ=function(){function e(t){bn(this,e),this.id=0,this.style=null,this.parts=null,this.points=null,this.type=null,this.prjCoordSys=null,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.ServerGeometry"}return _n(e,[{key:"destroy",value:function(){var e=this;e.id=null,e.style=null,e.parts=null,e.partTopo=null,e.points=null,e.type=null,e.prjCoordSys=null}},{key:"toGeometry",value:function(){var e=this;switch(e.type.toUpperCase()){case XW.POINT:return e.toGeoPoint();case XW.LINE:return e.toGeoLine();case XW.LINEM:return e.toGeoLinem();case XW.REGION:return e.toGeoRegion();case XW.POINTEPS:return e.toGeoPoint();case XW.LINEEPS:return e.toGeoLineEPS();case XW.REGIONEPS:return e.toGeoRegionEPS()}}},{key:"toGeoPoint",value:function(){var e=this,t=e.parts||[],n=e.points||[],r=t.length;if(r>0){if(1===r)return new cQ(n[0].x,n[0].y);for(var i=[],o=0;o<r;o++)i.push(new cQ(n[o].x,n[o].y));return new lQ(i)}return null}},{key:"toGeoLine",value:function(){var e=this,t=e.parts||[],n=e.points||[],r=t.length;if(r>0){if(1===r){for(var i=[],o=0;o<t[0];o++)i.push(new cQ(n[o].x,n[o].y));return i[0].equals(i[t[0]-1])?new pQ(i):new fQ(i)}for(var a=[],s=0;s<r;s++){for(var l=[],u=0;u<t[s];u++)l.push(new cQ(n[u].x,n[u].y));a.push(new fQ(l)),n.splice(0,t[s])}return new yQ(a)}return null}},{key:"toGeoLineEPS",value:function(){var e,t,n,r,i,o=this,a=o.parts||[],s=o.points||[],l=a.length;if(l>0){if(1===l){for(e=0,n=[];e<a[0];e++)n.push(new cQ(s[e].x,s[e].y,s[e].type));return n[0].equals(n[a[0]-1])?(i=fQ.createLineEPS(n),new pQ(i)):(i=fQ.createLineEPS(n),new fQ(i))}for(e=0,r=[];e<l;e++){for(t=0,n=[];t<a[e];t++)n.push(new cQ(s[t].x,s[t].y));i=fQ.createLineEPS(n),r.push(new fQ(i)),s.splice(0,a[e])}return new yQ(r)}return null}},{key:"toGeoLinem",value:function(){var e=this;return EQ.fromJson(e)}},{key:"toGeoRegion",value:function(){var t=this,n=t.parts||[],r=t.partTopo||[],i=t.points||[],o=n.length;if(o<=0)return null;var a=[],s=[];if(1==o){for(var l=0;l<i.length;l++)s.push(new cQ(i[l].x,i[l].y));return a.push(new mQ([new pQ(s)])),new dQ(a)}for(var u=[],c=[],f=[],h=[],p=[],y=0,d=0;y<o;y++){for(var m=0;m<n[y];m++)s.push(new cQ(i[d+m].x,i[d+m].y));d+=n[y];var v=new mQ([new pQ(s)]);s=[],f.push(v),0===r.length&&h.push(v.getBounds()),p.push(1),c.push(v.getArea())}if(e.bubbleSort(c,f,r,h),0===r.length){for(var g=[],b=1;b<f.length;b++)for(var S=b-1;S>=0;S--)if(g[b]=-1,h[S].containsBounds(h[b])){p[b]=-1*p[S],p[b]<0&&(g[b]=S);break}for(var _=0;_<f.length;_++)p[_]>0?a.push(f[_]):(a[g[_]].components=a[g[_]].components.concat(f[_].components),a.push(""))}else{a=new Array;for(var w=0;w<f.length;w++)if(r[w]&&-1==r[w]?u=u.concat(f[w].components):(u.length>0&&a.length>0&&(a[a.length-1].components=a[a.length-1].components.concat(u),u=[]),a.push(f[w])),w==o-1){var O=a.length;if(O)a[O-1].components=a[O-1].components.concat(u);else for(var x=0,C=u.length;x<C;x++)a.push(new mQ(u))}}return new dQ(a)}},{key:"toGeoRegionEPS",value:function(){var t=this,n=t.parts||[],r=t.partTopo||[],i=t.points||[],o=n.length;if(o<=0)return null;var a,s=[],l=[];if(1==o){for(var u=0;u<i.length;u++)l.push(new cQ(i[u].x,i[u].y));return a=fQ.createLineEPS(l),s.push(new mQ([new pQ(a)])),new dQ(s)}for(var c=[],f=[],h=[],p=[],y=[],d=0,m=0;d<o;d++){for(var v=0;v<n[d];v++)l.push(new cQ(i[m+v].x,i[m+v].y));m+=n[d],a=fQ.createLineEPS(l);var g=new mQ([new pQ(a)]);l=[],h.push(g),0===r.length&&p.push(g.getBounds()),y.push(1),f.push(g.getArea())}if(e.bubbleSort(f,h,r,p),0===r.length){for(var b=[],S=1;S<h.length;S++)for(var _=S-1;_>=0;_--)if(b[S]=-1,p[_].containsBounds(p[S])){y[S]=-1*y[_],y[S]<0&&(b[S]=_);break}for(var w=0;w<h.length;w++)y[w]>0?s.push(h[w]):(s[b[w]].components=s[b[w]].components.concat(h[w].components),s.push(""))}else{s=new Array;for(var O=0;O<h.length;O++)if(r[O]&&-1==r[O]?c=c.concat(h[O].components):(c.length>0&&s.length>0&&(s[s.length-1].components=s[s.length-1].components.concat(c),c=[]),s.push(h[O])),O==o-1){var x=s.length;if(x)s[x-1].components=s[x-1].components.concat(c);else for(var C=0,T=c.length;C<T;C++)s.push(new mQ(c))}}return new dQ(s)}}],[{key:"fromJson",value:function(t){if(t)return new e({id:t.id,style:TQ.fromJson(t.style),parts:t.parts,partTopo:t.partTopo,points:t.points,center:t.center,length:t.length,maxM:t.maxM,minM:t.minM,type:t.type})}},{key:"fromGeometry",value:function(t){if(t){var n=0,r=[],i=[],o=null,a=t.components,s=t.CLASS_NAME,l={epsgCode:t.SRID};if(isNaN(t.id)||(n=t.id),"SuperMap.Geometry.LinearRing"!=s&&"SuperMap.Geometry.LineString"!=s&&(t instanceof lQ||t instanceof yQ)){for(var u=a.length,c=0;c<u;c++){var f=a[c].getVertices().length;r.push(f);for(var h=0;h<f;h++)i.push(new cQ(a[c].getVertices()[h].x,a[c].getVertices()[h].y))}o="SuperMap.Geometry.MultiPoint"==s?XW.POINT:XW.LINE}else if(t instanceof dQ){for(var p=a.length,y=0;y<p;y++)for(var d=a[y],m=d.components,v=m.length,g=0;g<v;g++){var b=m[g].getVertices().length+1;r.push(b);for(var S=0;S<b-1;S++)i.push(new cQ(m[g].getVertices()[S].x,m[g].getVertices()[S].y));i.push(new cQ(m[g].getVertices()[0].x,m[g].getVertices()[0].y))}o=XW.REGION}else if(t instanceof mQ){for(var _=a.length,w=0;w<_;w++){var O=a[w].getVertices().length+1;r.push(O);for(var x=0;x<O-1;x++)i.push(new cQ(a[w].getVertices()[x].x,a[w].getVertices()[x].y));i.push(new cQ(a[w].getVertices()[0].x,a[w].getVertices()[0].y))}o=XW.REGION}else{for(var C=t.getVertices().length,T=0;T<C;T++)i.push(new cQ(t.getVertices()[T].x,t.getVertices()[T].y));t instanceof pQ&&(i.push(new cQ(t.getVertices()[0].x,t.getVertices()[0].y)),C++),r.push(C),o=t instanceof cQ?XW.POINT:XW.LINE}return new e({id:n,style:null,parts:r,points:i,type:o,prjCoordSys:l})}}},{key:"IsClockWise",value:function(e){var t=e.length;if(t<3)return 0;var n=e[0].y*(e[t-1].x-e[1].x);e.push(e[0]);for(var r=1;r<t;r++)n+=e[r].y*(e[r-1].x-e[r+1].x);return.5*n}},{key:"bubbleSort",value:function(e,t,n,r){for(var i=0;i<e.length;i++)for(var o=0;o<e.length;o++)if(e[i]>e[o]){var a=e[o];e[o]=e[i],e[i]=a;var s=t[o];if(t[o]=t[i],t[i]=s,n&&n.length>0){var l=n[o];n[o]=n[i],n[i]=l}if(r&&r.length>0){var u=r[o];r[o]=r[i],r[i]=u}}}}]),e}();WW.ServerGeometry=kQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var MQ=function(e){function t(e){var n;return On(this,t),n=Tn(this,Mn(t).call(this,e)),n.ignoreExtraDims=!0,n.CLASS_NAME="SuperMap.Format.GeoJSON",n.parseCoords={point:function(e){if(!1===this.ignoreExtraDims&&2!=e.length)throw"Only 2D points are supported: "+e;return new cQ(e[0],e[1])},multipoint:function(e){for(var t=[],n=null,r=0,i=e.length;r<i;++r){try{n=this.parseCoords.point.apply(this,[e[r]])}catch(e){throw e}t.push(n)}return new lQ(t)},linestring:function(e){for(var t=[],n=null,r=0,i=e.length;r<i;++r){try{n=this.parseCoords.point.apply(this,[e[r]])}catch(e){throw e}t.push(n)}return new fQ(t)},multilinestring:function(e){for(var t=[],n=null,r=0,i=e.length;r<i;++r){try{n=this.parseCoords.linestring.apply(this,[e[r]])}catch(e){throw e}t.push(n)}return new yQ(t)},polygon:function(e){for(var t,n,r=[],i=0,o=e.length;i<o;++i){try{n=this.parseCoords.linestring.apply(this,[e[i]])}catch(e){throw e}t=new pQ(n.components),r.push(t)}return new mQ(r)},multipolygon:function(e){for(var t=[],n=null,r=0,i=e.length;r<i;++r){try{n=this.parseCoords.polygon.apply(this,[e[r]])}catch(e){throw e}t.push(n)}return new dQ(t)},box:function(e){if(2!=e.length)throw"GeoJSON box coordinates must have 2 elements";return new mQ([new pQ([new cQ(e[0][0],e[0][1]),new cQ(e[1][0],e[0][1]),new cQ(e[1][0],e[1][1]),new cQ(e[0][0],e[1][1]),new cQ(e[0][0],e[0][1])])])}},n.extract={feature:function(e){var t=this.extract.geometry.apply(this,[e.geometry]),n={type:"Feature",properties:this.createAttributes(e),geometry:t};return e.geometry&&"TEXT"===e.geometry.type&&(n.properties.texts=e.geometry.texts,n.properties.textStyle=e.geometry.textStyle),e.fid&&(n.id=e.fid),e.ID&&(n.id=e.ID),n},geometry:function(e){if(null==e)return null;!e.parts&&e.points&&(e.parts=[e.points.length]);var t,n=new kQ(e).toGeometry()||e,r=n.geometryType||n.type;"LinearRing"===r&&(r="LineString"),"LINEM"===r&&(r="MultiLineString"),t=this.extract[r.toLowerCase()].apply(this,[n]),r="TEXT"===r?"Point":r;return"Collection"===r?{type:"GeometryCollection",geometries:t}:{type:r,coordinates:t}},point:function(e){var t=[e.x,e.y];for(var n in e)"x"===n||"y"===n||null===e[n]||isNaN(e[n])||t.push(e[n]);return t},text:function(e){return[e.points[0].x,e.points[0].y]},multipoint:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extract.point.apply(this,[e.components[n]]));return t},linestring:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extract.point.apply(this,[e.components[n]]));return t},multilinestring:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extract.linestring.apply(this,[e.components[n]]));return t},polygon:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extract.linestring.apply(this,[e.components[n]]));return t},multipolygon:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extract.polygon.apply(this,[e.components[n]]));return t},collection:function(e){for(var t=e.components.length,n=new Array(t),r=0;r<t;++r)n[r]=this.extract.geometry.apply(this,[e.components[r]]);return n}},n}return An(t,e),Cn(t,[{key:"read",value:function(e,n,r){n=n||"FeatureCollection";var i=null,o=null;if(o="string"==typeof e?En(Mn(t.prototype),"read",this).call(this,e,r):e){if("string"!=typeof o.type);else if(this.isValidType(o,n))switch(n){case"Geometry":try{i=this.parseGeometry(o)}catch(e){}break;case"Feature":try{i=this.parseFeature(o),i.type="Feature"}catch(e){}break;case"FeatureCollection":switch(i=[],o.type){case"Feature":try{i.push(this.parseFeature(o))}catch(e){i=null}break;case"FeatureCollection":for(var a=0,s=o.features.length;a<s;++a)try{i.push(this.parseFeature(o.features[a]))}catch(e){i=null}break;default:try{var l=this.parseGeometry(o);i.push(new wQ(l))}catch(e){i=null}}}}else;return i}},{key:"write",value:function(e,n){return En(Mn(t.prototype),"write",this).call(this,this.toGeoJSON(e),n)}},{key:"fromGeoJSON",value:function(e,t,n){var r=this,i=this.read(e,t,n);return rQ.isArray(i)?i.map(function(e){return r._toiSevrerFeature(e)}):this._toiSevrerFeature(i)}},{key:"toGeoJSON",value:function(e){function t(e){return e.hasOwnProperty("parts")&&e.hasOwnProperty("points")}var n={type:null};if(rQ.isArray(e)){n.type="FeatureCollection";var r=e.length;n.features=new Array(r);for(var i=0;i<r;++i){var o=e[i];if(t(o)){var a={};a.geometry=o,n.features[i]=this.extract.feature.apply(this,[a])}else n.features[i]=this.extract.feature.apply(this,[o])}}else if(t(e)){var s={};s.geometry=e,n=this.extract.feature.apply(this,[s])}else n=this.extract.feature.apply(this,[e]);return n}},{key:"isValidType",value:function(e,t){var n=!1;switch(t){case"Geometry":-1==rQ.indexOf(["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","Box","GeometryCollection"],e.type)||(n=!0);break;case"FeatureCollection":n=!0;break;default:e.type==t&&(n=!0)}return n}},{key:"parseFeature",value:function(e){var t,n,r,i;r=e.properties?e.properties:{},i=e.geometry&&e.geometry.bbox||e.bbox;try{n=this.parseGeometry(e.geometry)}catch(e){throw e}return t=new wQ(n,r),i&&(t.bounds=oQ.fromArray(i)),e.id&&(t.fid=e.id),t}},{key:"parseGeometry",value:function(e){if(null==e)return null;var t;if("GeometryCollection"==e.type){if(!rQ.isArray(e.geometries))throw"GeometryCollection must have geometries array: "+e;for(var n=e.geometries.length,r=new Array(n),i=0;i<n;++i)r[i]=this.parseGeometry.apply(this,[e.geometries[i]]);t=new sQ(r)}else{if(!rQ.isArray(e.coordinates))throw"Geometry must have coordinates array: "+e;if(!this.parseCoords[e.type.toLowerCase()])throw"Unsupported geometry type: "+e.type;try{t=this.parseCoords[e.type.toLowerCase()].apply(this,[e.coordinates])}catch(e){throw e}}return t}},{key:"createCRSObject",value:function(e){var t=e.layer.projection.toString(),n={};if(t.match(/epsg:/i)){var r=parseInt(t.substring(t.indexOf(":")+1));n=4326==r?{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}}:{type:"name",properties:{name:"EPSG:"+r}}}return n}},{key:"_toiSevrerFeature",value:function(e){var t=e.attributes,n=[],r=[];for(var i in t)n.push(i),r.push(t[i]);var o={fieldNames:n,fieldValues:r,geometry:kQ.fromGeometry(e.geometry)};return o.geometry.id=e.fid,o}},{key:"createAttributes",value:function(e){if(!e)return null;var t={};!function(e,t){if(e.hasOwnProperty("fieldNames")&&e.hasOwnProperty("fieldValues")){var n=e.fieldNames,r=e.fieldValues;for(var i in n)t[n[i]]=r[i]}}(e,t);var n=["fieldNames","fieldValues","geometry","stringID","ID"];for(var r in e)n.indexOf(r)>-1||(t[r]=e[r]);return t}}]),t}(xQ);WW.Format.GeoJSON=MQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var AQ=function(e){function t(e){var n;return Rn(this,t),n=Dn(this,Bn(t).call(this,e)),n.regExes={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},n.CLASS_NAME="SuperMap.Format.WKT",n.extract={point:function(e){return e.x+" "+e.y},multipoint:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push("("+this.extract.point.apply(this,[e.components[n]])+")");return t.join(",")},linestring:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extract.point.apply(this,[e.components[n]]));return t.join(",")},multilinestring:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push("("+this.extract.linestring.apply(this,[e.components[n]])+")");return t.join(",")},polygon:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push("("+this.extract.linestring.apply(this,[e.components[n]])+")");return t.join(",")},multipolygon:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push("("+this.extract.polygon.apply(this,[e.components[n]])+")");return t.join(",")},collection:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extractGeometry.apply(this,[e.components[n]]));return t.join(",")}},n.parse={point:function(e){var t=eQ.trim(e).split(this.regExes.spaces);return new wQ(new cQ(t[0],t[1]))},multipoint:function(e){for(var t,n=eQ.trim(e).split(","),r=[],i=0,o=n.length;i<o;++i)t=n[i].replace(this.regExes.trimParens,"$1"),r.push(this.parse.point.apply(this,[t]).geometry);return new wQ(new lQ(r))},linestring:function(e){for(var t=eQ.trim(e).split(","),n=[],r=0,i=t.length;r<i;++r)n.push(this.parse.point.apply(this,[t[r]]).geometry);return new wQ(new fQ(n))},multilinestring:function(e){for(var t,n=eQ.trim(e).split(this.regExes.parenComma),r=[],i=0,o=n.length;i<o;++i)t=n[i].replace(this.regExes.trimParens,"$1"),r.push(this.parse.linestring.apply(this,[t]).geometry);return new wQ(new yQ(r))},polygon:function(e){for(var t,n,r,i=eQ.trim(e).split(this.regExes.parenComma),o=[],a=0,s=i.length;a<s;++a)t=i[a].replace(this.regExes.trimParens,"$1"),n=this.parse.linestring.apply(this,[t]).geometry,r=new pQ(n.components),o.push(r);return new wQ(new mQ(o))},multipolygon:function(e){for(var t,n=eQ.trim(e).split(this.regExes.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)t=n[i].replace(this.regExes.trimParens,"$1"),r.push(this.parse.polygon.apply(this,[t]).geometry);return new wQ(new dQ(r))},geometrycollection:function(e){e=e.replace(/,\s*([A-Za-z])/g,"|$1");for(var t=eQ.trim(e).split("|"),n=[],r=0,i=t.length;r<i;++r)n.push(this.read(t[r]));return n}},n}return Un(t,e),In(t,[{key:"read",value:function(e){var t,n,r;e=e.replace(/[\n\r]/g," ");var i=this.regExes.typeStr.exec(e);return i&&(n=i[1].toLowerCase(),r=i[2],this.parse[n]&&(t=this.parse[n].apply(this,[r]))),t}},{key:"write",value:function(e){var t,n,r;e.constructor===Array?(t=e,r=!0):(t=[e],r=!1);var i=[];r&&i.push("GEOMETRYCOLLECTION(");for(var o=0,a=t.length;o<a;++o)r&&o>0&&i.push(","),n=t[o].geometry,i.push(this.extractGeometry(n));return r&&i.push(")"),i.join("")}},{key:"extractGeometry",value:function(e){var t=e.CLASS_NAME.split(".")[2].toLowerCase();return this.extract[t]?("collection"===t?"GEOMETRYCOLLECTION":t.toUpperCase())+"("+this.extract[t].apply(this,[e])+")":null}}]),t}(OQ);WW.Format.WKT=AQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var LQ=function(){function e(t){zn(this,e);var n=this;t=t||{},this.speed=t.speed&&t.speed>=0?t.speed:1,this.frequency=t.speed&&t.frequency>=0?t.frequency:1e3,this.startTime=t.startTime&&null!=t.startTime?t.startTime:0,this.endTime=t.endTime&&null!=t.endTime&&t.endTime>=n.startTime?t.endTime:+new Date,this.repeat=void 0===t.repeat||t.repeat,this.reverse=void 0!==t.reverse&&t.reverse,this.currentTime=null,this.oldTime=null,this.running=!1,this.EVENT_TYPES=["start","pause","stop"],n.events=new SQ(this,null,this.EVENT_TYPES),n.speed=Number(n.speed),n.frequency=Number(n.frequency),n.startTime=Number(n.startTime),n.endTime=Number(n.endTime),n.startTime=Date.parse(new Date(n.startTime)),n.endTime=Date.parse(new Date(n.endTime)),n.currentTime=n.startTime,this.CLASS_NAME="SuperMap.TimeControlBase"}return Hn(e,[{key:"updateOptions",value:function(e){var t=this;e=e||{},e.speed&&e.speed>=0&&(t.speed=e.speed,t.speed=Number(t.speed)),e.speed&&e.frequency>=0&&(t.frequency=e.frequency,t.frequency=Number(t.frequency)),e.startTime&&null!=e.startTime&&(t.startTime=e.startTime,t.startTime=Date.parse(new Date(t.startTime))),e.endTime&&null!=e.endTime&&e.endTime>=t.startTime&&(t.endTime=e.endTime,t.endTime=Date.parse(new Date(t.endTime))),null!=e.repeat&&(t.repeat=e.repeat),null!=e.reverse&&(t.reverse=e.reverse)}},{key:"start",value:function(){var e=this;e.running||(e.running=!0,e.tick(),e.events.triggerEvent("start",e.currentTime))}},{key:"pause",value:function(){var e=this;e.running=!1,e.events.triggerEvent("pause",e.currentTime)}},{key:"stop",value:function(){var e=this;e.currentTime=e.startTime,e.running&&(e.running=!1),e.events.triggerEvent("stop",e.currentTime)}},{key:"toggle",value:function(){var e=this;e.running?e.pause():e.start()}},{key:"setSpeed",value:function(e){var t=this;return e>=0&&(t.speed=e,!0)}},{key:"getSpeed",value:function(){return this.speed}},{key:"setFrequency",value:function(e){var t=this;return e>=0&&(t.frequency=e,!0)}},{key:"getFrequency",value:function(){return this.frequency}},{key:"setStartTime",value:function(e){var t=this;return!((e=Date.parse(new Date(e)))>t.endTime)&&(t.startTime=e,t.currentTime<t.startTime&&(t.currentTime=t.startTime,t.tick()),!0)}},{key:"getStartTime",value:function(){return this.startTime}},{key:"setEndTime",value:function(e){var t=this;return t.endTime=Date.parse(new Date(t.endTime)),!(e<t.startTime)&&(t.endTime=e,t.currentTime>=t.endTime&&(t.currentTime=t.startTime,t.tick()),!0)}},{key:"getEndTime",value:function(){return this.endTime}},{key:"setCurrentTime",value:function(e){var t=this;return t.currentTime=Date.parse(new Date(t.currentTime)),e>=t.startTime&&e<=t.endTime&&(t.currentTime=e,t.startTime=t.currentTime,t.tick(),!0)}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"setRepeat",value:function(e){this.repeat=e}},{key:"getRepeat",value:function(){return this.repeat}},{key:"setReverse",value:function(e){this.reverse=e}},{key:"getReverse",value:function(){return this.reverse}},{key:"getRunning",value:function(){return this.running}},{key:"destroy",value:function(){var e=this;e.speed=null,e.frequency=null,e.startTime=null,e.endTime=null,e.currentTime=null,e.repeat=null,e.running=!1,e.reverse=null}},{key:"tick",value:function(){}}]),e}();WW.TimeControlBase=LQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var jQ=function(e){function t(e,n){var r;qn(this,t),r=Qn(this,$n(t).call(this,n));var i=Xn(r);return i.callback=e,Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),i.update=i.update.bind(i),i.oldTime=i.currentTime,i.CLASS_NAME="SuperMap.TimeFlowControl",r}return er(t,e),Yn(t,[{key:"updateOptions",value:function(e){e=e||{},Kn($n(t.prototype),"updateOptions",this).call(this,e)}},{key:"start",value:function(){var e=this;e.running||(e.running=!0,e.reverse?e.currentTime===e.startTime&&(e.oldTime=e.endTime,e.currentTime=e.oldTime):e.oldTime===e.endTime&&(e.currentTime=e.startTime,e.oldTime=e.currentTime),e.tick())}},{key:"stop",value:function(){Kn($n(t.prototype),"stop",this).call(this);var e=this;e.oldTime=e.currentTime,e.running&&(e.running=!1),e.intervalId&&window.clearTimeout(e.intervalId)}},{key:"destroy",value:function(){Kn($n(t.prototype),"destroy",this).call(this);var e=this;e.oldTime=null,e.callback=null}},{key:"tick",value:function(){var e=this;e.intervalId&&window.clearInterval(e.intervalId),e.intervalId=null,e.update(),e.intervalId=window.setInterval(e.update,e.frequency)}},{key:"update",value:function(){var e=this;if(e.running)if(e.callback&&e.callback(e.currentTime),e.reverse){if(e.currentTime===e.startTime){if(!e.repeat)return e.running=!1,null;e.oldTime=e.endTime,e.currentTime=e.oldTime}else e.currentTime=e.oldTime,e.oldTime-=e.speed;e.oldTime<=e.startTime&&(e.oldTime=e.startTime)}else{if(e.currentTime===e.endTime){if(!e.repeat)return e.running=!1,e.stop(),null;e.stop(),e.currentTime=e.startTime,e.oldTime=e.currentTime,e.start()}else e.oldTime=e.currentTime,e.currentTime+=e.speed;e.currentTime>=e.endTime&&(e.currentTime=e.endTime)}}}]),t}(LQ);WW.TimeFlowControl=jQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var RQ=(n(15),n(19),n(4)),NQ=n.n(RQ),IQ=window.fetch,DQ=(WW.setCORS=function(e){WW.CORS=e},WW.isCORS=function(){return void 0!=WW.CORS?WW.CORS:window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest}),FQ=(WW.setRequestTimeout=function(e){return WW.RequestTimeout=e},WW.getRequestTimeout=function(){return WW.RequestTimeout||45e3}),BQ=WW.FetchRequest={commit:function(e,t,n,r){switch(e=e?e.toUpperCase():e){case"GET":return this.get(t,n,r);case"POST":return this.post(t,n,r);case"PUT":return this.put(t,n,r);case"DELETE":return this.delete(t,n,r);default:return this.get(t,n,r)}},supportDirectRequest:function(e,t){return!!rQ.isInTheSameDomain(e)||(void 0!=t.crossOrigin?t.crossOrigin:DQ()||t.proxy)},get:function(e,t,n){n=n||{};if(e=rQ.urlAppend(e,this._getParameterString(t||{})),e=this._processUrl(e,n),!this.supportDirectRequest(e,n)){e=e.replace(".json",".jsonp");var r={url:e,data:t};return WW.Util.RequestJSONPPromise.GET(r)}return this.urlIsLong(e)?this._postSimulatie("GET",e.substring(0,e.indexOf("?")-1),t,n):this._fetch(e,t,n,"GET")},delete:function(e,t,n){n=n||{};if(e=rQ.urlAppend(e,this._getParameterString(t||{})),e=this._processUrl(e,n),!this.supportDirectRequest(e,n)){e=e.replace(".json",".jsonp");var r={url:e+="&_method=DELETE",data:t};return WW.Util.RequestJSONPPromise.DELETE(r)}return this.urlIsLong(e)?this._postSimulatie("DELETE",e.substring(0,e.indexOf("?")-1),t,n):this._fetch(e,t,n,"DELETE")},post:function(e,t,n){if(n=n||{},!this.supportDirectRequest(e,n)){e=e.replace(".json",".jsonp");var r={url:e+="&_method=POST",data:t};return WW.Util.RequestJSONPPromise.POST(r)}return this._fetch(this._processUrl(e,n),t,n,"POST")},put:function(e,t,n){if(n=n||{},e=this._processUrl(e,n),!this.supportDirectRequest(e,n)){e=e.replace(".json",".jsonp");var r={url:e+="&_method=PUT",data:t};return WW.Util.RequestJSONPPromise.PUT(r)}return this._fetch(e,t,n,"PUT")},urlIsLong:function(e){for(var t=0,n=null,r=0,i=e.length;r<i;r++)n=e.charCodeAt(r),n<127?t++:128<=n&&n<=2047?t+=2:2048<=n&&n<=65535&&(t+=3);return!(t<2e3)},_postSimulatie:function(e,t,n,r){return t+=(t.indexOf("?")>-1?"&":"?")+"_method="+e,"string"!=typeof n&&(n=JSON.stringify(n)),this.post(t,n,r)},_processUrl:function(e,t){if(this._isMVTRequest(e))return e;if(-1===e.indexOf(".json")&&!t.withoutFormatSuffix)if(e.indexOf("?")<0)e+=".json";else{var n=e.split("?");2===n.length&&(e=n[0]+".json?"+n[1])}return t&&t.proxy&&("function"==typeof t.proxy?e=t.proxy(e):(e=decodeURIComponent(e),e=t.proxy+encodeURIComponent(e))),e},_fetch:function(e,t,n,r){return n=n||{},n.headers=n.headers||{},n.headers["Content-Type"]||(n.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8"),n.timeout?this._timeout(n.timeout,IQ(e,{method:r,headers:n.headers,body:"PUT"===r||"POST"===r?t:void 0,credentials:n.withCredentials?"include":"omit",mode:"cors",timeout:FQ()}).then(function(e){return e})):IQ(e,{method:r,body:"PUT"===r||"POST"===r?t:void 0,headers:n.headers,credentials:n.withCredentials?"include":"omit",mode:"cors",timeout:FQ()}).then(function(e){return e})},_fetchJsonp:function(e,t){return t=t||{},NQ()(e,{method:"GET",timeout:t.timeout}).then(function(e){return e})},_timeout:function(e,t){return new Promise(function(n,r){setTimeout(function(){r(new Error("timeout"))},e),t.then(n,r)})},_getParameterString:function(e){var t=[];for(var n in e){var r=e[n];if(null!=r&&"function"!=typeof r){var i;i=Array.isArray(r)||"[object Object]"===r.toString()?encodeURIComponent(JSON.stringify(r)):encodeURIComponent(r),t.push(encodeURIComponent(n)+"="+i)}}return t.join("&")},_isMVTRequest:function(e){return e.indexOf(".mvt")>-1||e.indexOf(".pbf")>-1}};WW.Util.RequestJSONPPromise={limitLength:1500,queryKeys:[],queryValues:[],supermap_callbacks:{},addQueryStrings:function(e){var t=this;for(var n in e){t.queryKeys.push(n),"string"!=typeof e[n]&&(e[n]=WW.Util.toJSON(e[n]));var r=encodeURIComponent(e[n]);t.queryValues.push(r)}},issue:function(e){for(var t=this,n=t.getUid(),r=e.url,i=[],o=new Promise(function(e){t.supermap_callbacks[n]=function(r){delete t.supermap_callbacks[n],e(r)}}),a=r,s=0,l=t.queryKeys?t.queryKeys.length:0,u=0;u<l;u++)if(a.length+t.queryKeys[u].length+2>=t.limitLength){if(0==s)return!1;i.push(a),a=r,s=0,u--}else if(a.length+t.queryKeys[u].length+2+t.queryValues[u].length>t.limitLength)for(var c=t.queryValues[u];c.length>0;){var f=t.limitLength-a.length-t.queryKeys[u].length-2;a.indexOf("?")>-1?a+="&":a+="?";var h=c.substring(0,f);"%"===h.substring(f-1,f)?(f-=1,h=c.substring(0,f)):"%"===h.substring(f-2,f-1)&&(f-=2,h=c.substring(0,f)),a+=t.queryKeys[u]+"="+h,c=c.substring(f),h.length>0&&(i.push(a),a=r,s=0)}else s++,a.indexOf("?")>-1?a+="&":a+="?",a+=t.queryKeys[u]+"="+t.queryValues[u];return i.push(a),t.send(i,"SuperMap.Util.RequestJSONPPromise.supermap_callbacks["+n+"]",e&&e.proxy),o},getUid:function(){return 1e3*(new Date).getTime()+Math.floor(1e17*Math.random())},send:function(e,t,n){var r=e.length;if(r>0)for(var i=(new Date).getTime(),o=0;o<r;o++){var a=e[o];a.indexOf("?")>-1?a+="&":a+="?",a+="sectionCount="+r,a+="&sectionIndex="+o,a+="&jsonpUserID="+i,n&&(a=decodeURIComponent(a),a=n+encodeURIComponent(a)),NQ()(a,{jsonpCallbackFunction:t,timeout:3e4})}},GET:function(e){var t=this;return t.queryKeys.length=0,t.queryValues.length=0,t.addQueryStrings(e.params),t.issue(e)},POST:function(e){var t=this;return t.queryKeys.length=0,t.queryValues.length=0,t.addQueryStrings({requestEntity:e.data}),t.issue(e)},PUT:function(e){var t=this;return t.queryKeys.length=0,t.queryValues.length=0,t.addQueryStrings({requestEntity:e.data}),t.issue(e)},DELETE:function(e){var t=this;return t.queryKeys.length=0,t.queryValues.length=0,t.addQueryStrings({requestEntity:e.data}),t.issue(e)}};/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var UQ=function(){function e(){nr(this,e)}return ir(e,null,[{key:"generateToken",value:function(e,t){var n=this.servers[e];if(n)return BQ.post(n.tokenServiceUrl,JSON.stringify(t.toJSON())).then(function(e){return e.text()})}},{key:"registerServers",value:function(e){this.servers=this.servers||{},rQ.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var n=e[t];this.servers[n.server]=n}}},{key:"registerToken",value:function(e,t){if(this.tokens=this.tokens||{},e&&t){var n=this._getTokenStorageKey(e);this.tokens[n]=t}}},{key:"registerKey",value:function(e,t){if(this.keys=this.keys||{},e&&!(e.length<1)&&t){e=rQ.isArray(e)?e:[e];for(var n=0;n<e.length;n++){var r=this._getUrlRestString(e[0])||e[0];this.keys[r]=t}}}},{key:"getServerInfo",value:function(e){return this.servers=this.servers||{},this.servers[e]}},{key:"getToken",value:function(e){if(e){this.tokens=this.tokens||{};var t=this._getTokenStorageKey(e);return this.tokens[t]}}},{key:"getKey",value:function(e){this.keys=this.keys||{};var t=this._getUrlRestString(e)||e;return this.keys[t]}},{key:"loginiServer",value:function(e,t,n,r){e+="/"===e.substr(e.length-1,1)?"services/security/login.json":"/services/security/login.json";var i={username:t&&t.toString(),password:n&&n.toString(),rememberme:r};i=JSON.stringify(i);var o={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}};return BQ.post(e,i,o).then(function(e){return e.json()})}},{key:"logoutiServer",value:function(e){e+="/"===e.substr(e.length-1,1)?"services/security/logout":"/services/security/logout";var t={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},withoutFormatSuffix:!0};return BQ.get(e,"",t).then(function(){return!0}).catch(function(){return!1})}},{key:"loginOnline",value:function(t,n){var r=e.SSO+"/login?service="+t;this._open(r,n)}},{key:"loginiPortal",value:function(e,t,n){e+="/"===e.substr(e.length-1,1)?"web/login.json":"/web/login.json";var r={username:t&&t.toString(),password:n&&n.toString()};r=JSON.stringify(r);var i={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},withCredentials:!0};return BQ.post(e,r,i).then(function(e){return e.json()})}},{key:"logoutiPortal",value:function(e){e+="/"===e.substr(e.length-1,1)?"services/security/logout":"/services/security/logout";var t={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},withCredentials:!0,withoutFormatSuffix:!0};return BQ.get(e,"",t).then(function(){return!0}).catch(function(){return!1})}},{key:"loginManager",value:function(e,t,n){if(!rQ.isInTheSameDomain(e)){var r=!n||n.isNewTab;return void this._open(e,r)}var i=e.substr(e.length-1,1),o="/"===i?e+"icloud/security/tokens.json":e+"/icloud/security/tokens.json",a=t||{},s={username:a.userName&&a.userName.toString(),password:a.password&&a.password.toString()};s=JSON.stringify(s);var l={headers:{Accept:"*/*","Content-Type":"application/json"}},u=this;return BQ.post(o,s,l).then(function(e){e.text().then(function(e){return u.imanagerToken=e,e})})}},{key:"destroyAllCredentials",value:function(){this.keys=null,this.tokens=null,this.servers=null}},{key:"destroyToken",value:function(e){if(e){var t=this._getTokenStorageKey(e);this.tokens=this.tokens||{},this.tokens[t]&&delete this.tokens[t]}}},{key:"destroyKey",value:function(e){if(e){this.keys=this.keys||{};var t=this._getUrlRestString(e)||e;this.keys[t]&&delete this.keys[t]}}},{key:"_open",value:function(e,t){t=null==t||t;var n=window.screen.availWidth/2-this.INNER_WINDOW_WIDTH/2,r=window.screen.availHeight/2-this.INNER_WINDOW_HEIGHT/2,i="height="+this.INNER_WINDOW_HEIGHT+", width="+this.INNER_WINDOW_WIDTH+",top="+r+", left="+n+",toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no";t?window.open(e,"login"):window.open(e,"login",i)}},{key:"_getTokenStorageKey",value:function(e){var t=/(.*?):\/\/([^\/]+)/i,n=e.match(t);return n?n[0]:e}},{key:"_getUrlRestString",value:function(e){if(!e)return e;var t=/(http|https):\/\/(.*\/rest)/i,n=e.match(t);return n?n[0]:e}}]),e}();UQ.INNER_WINDOW_WIDTH=600,UQ.INNER_WINDOW_HEIGHT=600,UQ.SSO="https://sso.supermap.com",UQ.ONLINE="https://www.supermapol.com",WW.SecurityManager=UQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var GQ=function(){function e(t,n){if(or(this,e),t){var r=t.substr(t.length-1,1);this.serviceUrl="/"===r?t.substr(0,t.length-2):t}this.options=n||{},this.CLASS_NAME="SuperMap.iManagerServiceBase"}return sr(e,[{key:"request",value:function(e,t,n,r){r=r||{headers:{Accept:"*/*","Content-Type":"application/json"}},r.hasOwnProperty("withCredentials")||(r.withCredentials=!0),r.crossOrigin=this.options.crossOrigin,r.headers=this.options.headers;var i=UQ.imanagerToken;return i&&(r.headers||(r.headers=[]),r.headers["X-Auth-Token"]=i),n&&(n=JSON.stringify(n)),BQ.commit(e,t,n,r).then(function(e){return e.json()})}}]),e}();WW.iManagerServiceBase=GQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var zQ=function e(t){lr(this,e),t=t||{},this.nodeSpec="SMALL",this.nodeCount=1,this.nodeName="",this.password="",this.description="",this.physicalMachineName="",this.ips=[],this.userName="",rQ.extend(this,t)};WW.iManagerCreateNodeParam=zQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var VQ=function(e){function t(e){return cr(this,t),pr(this,dr(t).call(this,e))}return mr(t,e),hr(t,[{key:"load",value:function(){return this.request("GET",this.serviceUrl+"/web/api/service.json")}},{key:"createIServer",value:function(e){return this.request("POST",this.serviceUrl+"/icloud/web/nodes/server.json",new zQ(e))}},{key:"createIPortal",value:function(e){return this.request("POST",this.serviceUrl+"/icloud/web/nodes/portal.json",new zQ(e))}},{key:"iServerList",value:function(){return this.request("GET",this.serviceUrl+"/icloud/web/nodes/server.json")}},{key:"iPortalList",value:function(){return this.request("GET",this.serviceUrl+"/icloud/web/nodes/portal.json")}},{key:"startNodes",value:function(e){return this.request("POST",this.serviceUrl+"/icloud/web/nodes/started.json",e)}},{key:"stopNodes",value:function(e){return this.request("POST",this.serviceUrl+"/icloud/web/nodes/stopped.json",e)}}]),t}(GQ);WW.iManager=VQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var HQ=function(){function e(t,n){gr(this,e),n=n||{},this.serviceUrl=t,this.serverType=QW.iPortal,this.CLASS_NAME="SuperMap.iPortalServiceBase",this.withCredentials=n.withCredentials||!1,this.crossOrigin=n.crossOrigin,this.headers=n.headers}return Sr(e,[{key:"request",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{headers:this.headers,crossOrigin:this.crossOrigin,withCredentials:this.withCredentials};return t=this.createCredentialUrl(t),BQ.commit(e,t,n,r).then(function(e){return e.json()})}},{key:"createCredentialUrl",value:function(e){var t=e,n=this.getCredential();if(n){var r=t.substring(t.length-1,t.length);t.indexOf("?")>-1&&"?"===r?t+=n.getUrlParameters():t.indexOf("?")>-1&&"?"!==r?t+="&"+n.getUrlParameters():t+="?"+n.getUrlParameters()}return t}},{key:"getCredential",value:function(){var e,t=UQ.getToken(this.serviceUrl);return e=t?new gQ(t,"token"):null,e||(t=this.getKey(),e=t?new gQ(t,"key"):null),e}},{key:"getKey",value:function(){}}]),e}();WW.iPortalServiceBase=HQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var JQ=function e(t){_r(this,e),t=t||{},this.resourceType="",this.pageSize=12,this.currentPage=1,this.orderBy="UPDATETIME",this.orderType="DESC",this.searchType="PUBLIC",this.tags=[],this.dirIds=[],this.resourceSubTypes=[],this.aggregationTypes=[],this.text="",this.groupIds=[],this.departmentIds=[],rQ.extend(this,t)};WW.iPortalQueryParam=JQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var qQ=function e(t){wr(this,e),t=t||{},this.content=[],this.total=0,this.currentPage=1,this.pageSize=12,this.aggregations=null,rQ.extend(this,t)};WW.iPortalQueryResult=qQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var WQ=function(e){function t(e,n){var r;return xr(this,t),r=Pr(this,Er(t).call(this,e)),n=n||{},r.authorizeSetting=[],r.bounds="",r.bounds4326="",r.checkStatus="",r.createTime=0,r.description=null,r.dirId=null,r.epsgCode=0,r.heatLevel=0,r.id=0,r.name="",r.personalDirId=null,r.resourceId=0,r.resourceSubType=null,r.resourceType=null,r.serviceRootUrlId=null,r.tags=null,r.thumbnail=null,r.updateTime=0,r.userName="",r.sourceJSON={},rQ.extend(kr(r),n),r.resourceUrl=e+"/web/"+r.resourceType.replace("_","").toLowerCase()+"s/"+r.resourceId,r.withCredentials&&(r.resourceUrl=e+"/web/mycontent/"+r.resourceType.replace("_","").toLowerCase()+"s/"+r.resourceId),r}return Mr(t,e),Tr(t,[{key:"load",value:function(){var e=this;return e.request("GET",e.resourceUrl+".json").then(function(t){if(t.error)return t;e.sourceJSON=t})}},{key:"update",value:function(){var e=this.resourceType.replace("_","").toLowerCase(),t={headers:{"Content-Type":"application/x-www-form-urlencoded"}};"data"===e&&(this.resourceUrl=this.resourceUrl+"/attributes.json");var n=JSON.stringify(this.sourceJSON);if("service"===e){var r={authorizeSetting:this.sourceJSON.authorizeSetting,metadata:this.sourceJSON.metadata,tags:this.sourceJSON.tags,thumbnail:this.sourceJSON.thumbnail,tokenRefreshUrl:this.sourceJSON.tokenRefreshUrl};n=JSON.stringify(r)}return this.request("PUT",this.resourceUrl,n,t)}}]),t}(HQ);WW.iPortalResource=WQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var YQ=function e(t){Lr(this,e),t=t||{},this.ids=[],this.entities=[],this.resourceType="",rQ.extend(this,t)};WW.iPortalShareParam=YQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var QQ=function(e){function t(e,n){var r;return Rr(this,t),r=Dr(this,Br(t).call(this,e,n)),r.iportalUrl=e,n=n||{},r.withCredentials=n.withCredentials||!1,r}return Ur(t,e),Ir(t,[{key:"load",value:function(){return BQ.get(this.iportalUrl+"/web")}},{key:"queryResources",value:function(e){if(!(e instanceof JQ))return new Promise(function(e){e("queryParams is not instanceof iPortalQueryParam !")});var t=this,n=this.iportalUrl+"/gateway/catalog/resource/search.json";return e.t=(new Date).getTime(),this.request("GET",n,e).then(function(e){var n=[];e.content.forEach(function(e){n.push(new WQ(t.iportalUrl,e))});var r=new qQ;return r.content=n,r.total=e.total,r.currentPage=e.currentPage,r.pageSize=e.pageSize,r.aggregations=e.aggregations,r})}},{key:"updateResourcesShareSetting",value:function(e){if(!(e instanceof YQ))return new Promise(function(e){e("shareParams is not instanceof iPortalShareParam !")});var t=e.resourceType.replace("_","").toLowerCase()+"s";"datas"===t&&(t="mycontent/"+t);var n={ids:e.ids,entities:e.entities},r=this.iportalUrl+"/web/"+t+"/sharesetting.json";return this.request("PUT",r,JSON.stringify(n)).then(function(e){return e})}}]),t}(HQ);WW.iPortal=QQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var XQ=function e(t){zr(this,e),t=t||{},this.permissionType="",this.entityType="",this.entityName="GUEST",this.entityId=null,rQ.extend(this,t)};WW.iPortalShareEntity=XQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var KQ=function e(t){Vr(this,e),t=t||{},this.rootUrl="",this.tags=[],this.entities=[],rQ.extend(this,t)};WW.iPortalAddResourceParam=KQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var ZQ=function e(t){Hr(this,e),t=t||{},this.type="",this.tags=[],this.entities=[],this.metadata={},this.addedMapNames=[],this.addedSceneNames=[],rQ.extend(this,t)};WW.iPortalRegisterServiceParam=ZQ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var $Q=function e(t){Jr(this,e),t=t||{},this.fileName="",this.type="",this.tags=[],this.dataMetaInfo={},rQ.extend(this,t)};WW.iPortalAddDataParam=$Q;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var eX=function e(t){qr(this,e),t=t||{},this.xField="",this.yField="",this.fileEncoding="UTF-8",this.xIndex=1,this.yIndex=1,this.fieldTypes=[],this.separator="",this.firstRowIsHead=!0,this.url="",this.dataStoreInfo={},rQ.extend(this,t)};WW.iPortalDataMetaInfoParam=eX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var tX=function e(t){Wr(this,e),t=t||{},this.type="",this.url="",this.connectionInfo={},rQ.extend(this,t)};WW.iPortalDataStoreInfoParam=tX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var nX=function e(t){Yr(this,e),t=t||{},this.dataBase="",this.server="",rQ.extend(this,t)};WW.iPortalDataConnectionInfoParam=nX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var rX=function(e){function t(e){var n;return Xr(this,t),n=$r(this,ti(t).call(this,e)),n.iportalUrl=e,n}return ni(t,e),Zr(t,[{key:"deleteResources",value:function(e){var t=e.resourceType.replace("_","").toLowerCase(),n=this.iportalUrl+"/web/"+t+"s.json?ids="+encodeURI(JSON.stringify(e.ids));return"data"===t?(n=this.iportalUrl+"/web/mycontent/datas/delete.json",this.request("POST",n,JSON.stringify(e.ids))):this.request("DELETE",n)}},{key:"addMap",value:function(e){e instanceof KQ||this.getErrMsgPromise("addMapParams is not instanceof IPortalAddResourceParam !");var t={rootUrl:e.rootUrl,tags:e.tags,authorizeSetting:e.entities},n=this.iportalUrl+"/web/maps/batchaddmaps.json";return this.request("POST",n,JSON.stringify(t)).then(function(e){return e})}},{key:"addScene",value:function(e){e instanceof KQ||this.getErrMsgPromise("addSceneParams is not instanceof IPortalAddResourceParam !");var t={rootUrl:e.rootUrl,tags:e.tags,authorizeSetting:e.entities},n=this.iportalUrl+"/web/scenes/batchaddscenes.json";return this.request("POST",n,JSON.stringify(t)).then(function(e){return e})}},{key:"registerService",value:function(e){e instanceof ZQ||this.getErrMsgPromise("registerParams is not instanceof IPortalRegisterServiceParam !");var t={type:e.type,tags:e.tags,authorizeSetting:e.entities,metadata:e.metadata,addedMapNames:e.addedMapNames,addedSceneNames:e.addedSceneNames},n=this.iportalUrl+"/web/services.json";return this.request("POST",n,JSON.stringify(t)).then(function(e){return e})}},{key:"getErrMsgPromise",value:function(e){return new Promise(function(t){t(e)})}},{key:"uploadDataRequest",value:function(e,t){var n=this.iportalUrl+"/web/mycontent/datas/"+e+"/upload.json";return this.request("POST",n,t)}},{key:"addData",value:function(e,t){var n=this;e instanceof $Q||this.getErrMsgPromise("params is not instanceof iPortalAddDataParam !");var r,i=this.iportalUrl+"/web/mycontent/datas.json",o={fileName:e.fileName,tags:e.tags,type:e.type},a=e.type.toLowerCase();if("excel"===a||"csv"===a)e.dataMetaInfo instanceof eX||this.getErrMsgPromise("params.dataMetaInfo is not instanceof iPortalDataMetaInfoParam !"),r={xField:e.dataMetaInfo.xField,yField:e.dataMetaInfo.yField},"csv"===a&&(r.fileEncoding=e.dataMetaInfo.fileEncoding),o.coordType="WGS84",o.dataMetaInfo=r;else if("hdfs"===a||"hbase"===a){e.dataMetaInfo instanceof eX||this.getErrMsgPromise("params.dataMetaInfo is not instanceof iPortalDataMetaInfoParam !"),e.dataMetaInfo.dataStoreInfo instanceof tX||this.getErrMsgPromise("params.dataMetaInfo.dataStoreInfo is not instanceof iPortalDataStoreInfoParam !");var s={type:e.dataMetaInfo.dataStoreInfo.type};switch(a){case"hdfs":s.url=e.dataMetaInfo.dataStoreInfo.url,r={url:e.dataMetaInfo.url,dataStoreInfo:s};break;case"hbase":e.dataMetaInfo.dataStoreInfo.connectionInfo instanceof nX||this.getErrMsgPromise("params.dataMetaInfo.dataStoreInfo.connectionInfo is not instanceof iPortalDataConnectionInfoParam !"),s.connectionInfo={dataBase:e.dataMetaInfo.dataStoreInfo.connectionInfo.dataBase,server:e.dataMetaInfo.dataStoreInfo.connectionInfo.server,engineType:"HBASE"},s.datastoreType="SPATIAL",r={dataStoreInfo:s}}o.dataMetaInfo=r}return this.request("POST",i,JSON.stringify(o)).then(function(e){return"hdfs"===a||"hbase"===a?e:e.childID?n.uploadDataRequest(e.childID,t):e.customResult})}},{key:"publishOrUnpublish",value:function(e,t){e.dataId&&e.serviceType||this.getErrMsgPromise("option.dataID and option.serviceType are Required!");var n=e.dataId,r=e.dataServiceId,i=e.serviceType,o=this.iportalUrl+"/web/mycontent/datas/"+n+"/publishstatus.json?serviceType="+i;return r&&(o+="&dataServiceId="+r),this.request("PUT",o,JSON.stringify(t)).then(function(e){return t?(r||(r=e.customResult),r):e})}},{key:"getDataPublishedStatus",value:function(e,t){var n=this.iportalUrl+"/web/mycontent/datas/"+e+"/publishstatus.json?dataServiceId="+t+"&forPublish=true";return this.request("GET",n)}},{key:"unPublishDataService",value:function(e){return this.publishOrUnpublish(e,!1)}},{key:"publishDataService",value:function(e){return this.publishOrUnpublish(e,!0)}}]),t}(HQ);WW.iPortalUser=rX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var iX=function(){function e(t,n){ii(this,e);var r=this;this.EVENT_TYPES=["processCompleted","processFailed"],this.events=null,this.eventListeners=null,this.url=null,this.urls=null,this.proxy=null,this.serverType=null,this.index=null,this.length=null,this.options=null,this.totalTimes=null,this.POLLING_TIMES=3,this._processSuccess=null,this._processFailed=null,this.isInTheSameDomain=null,this.withCredentials=!1,rQ.isArray(t)?(r.urls=t,r.length=t.length,r.totalTimes=r.length,1===r.length?r.url=t[0]:(r.index=parseInt(Math.random()*r.length),r.url=t[r.index])):(r.totalTimes=1,r.url=t),rQ.isArray(t)&&!r.isServiceSupportPolling()&&(r.url=t[0],r.totalTimes=1),r.serverType=r.serverType||QW.ISERVER,n=n||{},this.crossOrigin=n.crossOrigin,this.headers=n.headers,rQ.extend(this,n),r.isInTheSameDomain=rQ.isInTheSameDomain(r.url),r.events=new SQ(r,null,r.EVENT_TYPES,!0),r.eventListeners instanceof Object&&r.events.on(r.eventListeners),this.CLASS_NAME="SuperMap.CommonServiceBase"}return ai(e,[{key:"destroy",value:function(){var e=this;rQ.isArray(e.urls)&&(e.urls=null,e.index=null,e.length=null,e.totalTimes=null),e.url=null,e.options=null,e._processSuccess=null,e._processFailed=null,e.isInTheSameDomain=null,e.EVENT_TYPES=null,e.events&&(e.events.destroy(),e.events=null),e.eventListeners&&(e.eventListeners=null)}},{key:"request",value:function(e){var t=this;e.url=e.url||t.url,e.proxy=e.proxy||t.proxy,e.withCredentials=void 0!=e.withCredentials?e.withCredentials:t.withCredentials,e.crossOrigin=void 0!=e.crossOrigin?e.crossOrigin:t.crossOrigin,e.headers=e.headers||t.headers,e.isInTheSameDomain=t.isInTheSameDomain;var n=this.getCredential(e.url);if(n){var r=e.url.substring(e.url.length-1,e.url.length);e.url.indexOf("?")>-1&&"?"===r?e.url+=n.getUrlParameters():e.url.indexOf("?")>-1&&"?"!==r?e.url+="&"+n.getUrlParameters():e.url+="?"+n.getUrlParameters()}t.calculatePollingTimes(),t._processSuccess=e.success,t._processFailed=e.failure,e.scope=t,e.success=t.getUrlCompleted,e.failure=t.getUrlFailed,t.options=e,t._commit(t.options)}},{key:"getCredential",value:function(e){var t,n,r=e;switch(this.serverType){case QW.IPORTAL:n=UQ.getToken(r),t=n?new gQ(n,"token"):null,t||(n=UQ.getKey(r),t=n?new gQ(n,"key"):null);break;case QW.ONLINE:n=UQ.getKey(r),t=n?new gQ(n,"key"):null;break;default:n=UQ.getToken(r),t=n?new gQ(n,"token"):null}return t}},{key:"getUrlCompleted",value:function(e){this._processSuccess(e)}},{key:"getUrlFailed",value:function(e){var t=this;t.totalTimes>0?(t.totalTimes--,t.ajaxPolling()):t._processFailed(e)}},{key:"ajaxPolling",value:function(){var e=this,t=e.options.url,n=/^http:\/\/([a-z]{9}|(\d+\.){3}\d+):\d{0,4}/;e.index=parseInt(Math.random()*e.length),e.url=e.urls[e.index],t=t.replace(n,n.exec(e.url)[0]),e.options.url=t,e.options.isInTheSameDomain=rQ.isInTheSameDomain(t),e._commit(e.options)}},{key:"calculatePollingTimes",value:function(){var e=this;e.times?e.totalTimes>e.POLLING_TIMES?e.times>e.POLLING_TIMES?e.totalTimes=e.POLLING_TIMES:e.totalTimes=e.times:e.times<e.totalTimes&&(e.totalTimes=e.times):e.totalTimes>e.POLLING_TIMES&&(e.totalTimes=e.POLLING_TIMES),e.totalTimes--}},{key:"isServiceSupportPolling",value:function(){var e=this;return!("SuperMap.REST.ThemeService"===e.CLASS_NAME||"SuperMap.REST.EditFeaturesService"===e.CLASS_NAME)}},{key:"serviceProcessCompleted",value:function(e){e=rQ.transformResult(e),this.events.triggerEvent("processCompleted",{result:e})}},{key:"serviceProcessFailed",value:function(e){e=rQ.transformResult(e);var t=e.error||e;this.events.triggerEvent("processFailed",{error:t})}},{key:"_commit",value:function(e){"POST"!==e.method&&"PUT"!==e.method||(e.params&&(e.url=rQ.urlAppend(e.url,rQ.getParameterString(e.params||{}))),e.params=e.data),BQ.commit(e.method,e.url,e.params,{headers:e.headers,withCredentials:e.withCredentials,crossOrigin:e.crossOrigin,timeout:e.async?0:null,proxy:e.proxy}).then(function(e){return e.text?e.text():e.json?e.json():e}).then(function(t){var n=t;if("string"==typeof t&&(n=(new xQ).read(t)),(!n||n.error||n.code>=300&&304!==n.code)&&(n=n&&n.error?{error:n.error}:{error:n}),n.error){(e.scope?nQ.bind(e.failure,e.scope):e.failure)(n)}else{n.succeed=void 0==n.succeed||n.succeed;(e.scope?nQ.bind(e.success,e.scope):e.success)(n)}}).catch(function(t){(e.scope?nQ.bind(e.failure,e.scope):e.failure)(t)})}}]),e}();WW.CommonServiceBase=iX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var oX=function(){function e(t){si(this,e),t.filters&&"string"==typeof t.filters&&(t.filters=t.filters.split(",")),this.address=null,this.fromIndex=null,this.toIndex=null,this.filters=null,this.prjCoordSys=null,this.maxReturn=null,rQ.extend(this,t)}return ui(e,[{key:"destroy",value:function(){this.address=null,this.fromIndex=null,this.toIndex=null,this.filters=null,this.prjCoordSys=null,this.maxReturn=null}}]),e}();WW.GeoCodingParameter=oX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var aX=function(){function e(t){ci(this,e),t.filters&&(t.filters=t.filters.split(",")),this.x=null,this.y=null,this.fromIndex=null,this.toIndex=null,this.filters=null,this.prjCoordSys=null,this.maxReturn=null,this.geoDecodingRadius=null,rQ.extend(this,t)}return hi(e,[{key:"destroy",value:function(){this.x=null,this.y=null,this.fromIndex=null,this.toIndex=null,this.filters=null,this.prjCoordSys=null,this.maxReturn=null,this.geoDecodingRadius=null}}]),e}();WW.GeoDecodingParameter=aX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var sX=function(e){function t(e,n){var r;return yi(this,t),r=vi(this,_i(t).call(this,e,n)),r.options=n||{},r.CLASS_NAME="SuperMap.AddressMatchService",r}return wi(t,e),mi(t,[{key:"destroy",value:function(){bi(_i(t.prototype),"destroy",this).call(this)}},{key:"code",value:function(e,t){t instanceof oX&&this.processAsync(e,t)}},{key:"decode",value:function(e,t){t instanceof aX&&this.processAsync(e,t)}},{key:"processAsync",value:function(e,t){this.request({method:"GET",url:e,params:t,scope:this,success:this.serviceProcessCompleted,failure:this.serviceProcessFailed})}},{key:"serviceProcessCompleted",value:function(e){e.succeed&&delete e.succeed,bi(_i(t.prototype),"serviceProcessCompleted",this).call(this,e)}},{key:"serviceProcessFailed",value:function(e){bi(_i(t.prototype),"serviceProcessFailed",this).call(this,e)}}]),t}(iX);WW.AddressMatchService=sX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var lX=function(){function e(t){xi(this,e),this.name=null,this.queryType=null,this.CLASS_NAME="SuperMap.AggQueryBuilderParameter",rQ.extend(this,t)}return Ti(e,[{key:"destroy",value:function(){var e=this;e.name=null,e.queryType=null}}]),e}();WW.AggQueryBuilderParameter=lX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var uX=function(){function e(t){Pi(this,e),this.aggName=null,this.aggType=null,this.aggFieldName=null,this.subAgg=null,this.CLASS_NAME="SuperMap.AggregationParameter",rQ.extend(this,t)}return ki(e,[{key:"destroy",value:function(){var e=this;e.aggName=null,e.aggFieldName=null,e.aggType=null,e.subAgg&&(e.subAgg=null)}}]),e}();WW.AggregationParameter=uX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var cX=function(){function e(t){Mi(this,e),this.dataset=null,this.targetDatasourceName=null,this.totalGridName=null,this.diffuseDatasetGridName=null,this.durationDatasetGridName=null,this.directDatasetGridName=null,this.latitude=null,this.timeMode="MULTIDAYS",this.dayStart=null,this.dayEnd=null,this.hourStart=null,this.hourEnd=null,this.transmittance=null,this.hourInterval=null,this.dayInterval=null,this.deleteExistResultDataset=!1,rQ.extend(this,t),this.CLASS_NAME="SuperMap.AreaSolarRadiationParameters"}return Li(e,[{key:"destroy",value:function(){var e=this;e.dataset=null,e.zFactor=1,e.averageCurvatureName=null,e.profileCurvatureName=null,e.planCurvatureName=null,e.deleteExistResultDataset=!0}}],[{key:"toObject",value:function(e,t){var n={};for(var r in e)if("dataset"!==r){var i="latitude"===r||"timeMode"===r||"dayStart"===r,o="dayEnd"===r||"hourStart"===r||"hourEnd"===r,a="transmittance"===r||"hourInterval"===r||"dayInterval"===r;i||o||a?n[r]=e[r]:t[r]=e[r]}t.parameter=n}}]),e}();WW.AreaSolarRadiationParameters=cX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var fX=function(e){function t(e,n){var r;return Ri(this,t),r=Di(this,Gi(t).call(this,e,n)),r.format=YW.GEOJSON,r.CLASS_NAME="SuperMap.SpatialAnalystBase",r}return zi(t,e),Ii(t,[{key:"destroy",value:function(){Bi(Gi(t.prototype),"destroy",this).call(this),this.format=null}},{key:"serviceProcessCompleted",value:function(e){var t,n=this;if((e=rQ.transformResult(e))&&n.format===YW.GEOJSON&&"function"==typeof n.toGeoJSONResult)if(rQ.isArray(e)){for(var r=0;r<e.length;r++)e[r]=n.toGeoJSONResult(e[r]);t=e}else t=n.toGeoJSONResult(e);t||(t=e),n.events.triggerEvent("processCompleted",{result:t})}},{key:"toGeoJSONResult",value:function(e){if(!e)return null;e.result&&e.result.resultGeometry&&(e=e.result);var t=new MQ;if(e.recordsets)for(var n=0,r=e.recordsets,i=r.length;n<i;n++)r[n].features&&(r[n].features=t.toGeoJSON(r[n].features));else e.recordset&&e.recordset.features&&(e.recordset.features=t.toGeoJSON(e.recordset.features));return e.resultGeometry&&(e.resultGeometry=t.toGeoJSON(e.resultGeometry)),e.regions&&(e.regions=t.toGeoJSON(e.regions)),e}}]),t}(iX);WW.SpatialAnalystBase=fX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var hX=function(e){function t(e,n){var r;return Ji(this,t),r=Yi(this,Zi(t).call(this,e,n)),r.CLASS_NAME="SuperMap.AreaSolarRadiationService",r}return $i(t,e),Wi(t,[{key:"destroy",value:function(){Xi(Zi(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof cX){var t=this;"/"!==t.url.substr(t.url.length-1,1)&&(t.url+="/");var n={};e instanceof cX&&(t.url+="datasets/"+e.dataset+"/solarradiation"),cX.toObject(e,n);var r=rQ.toJSON(n);t.url+=".json?returnContent=true",t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}]),t}(fX);WW.AreaSolarRadiationService=hX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var pX=function(){function e(t){to(this,e),this.exp=null,this.value=100,rQ.extend(this,t),this.CLASS_NAME="SuperMap.BufferDistance"}return ro(e,[{key:"destroy",value:function(){this.exp=null,this.value=null}}]),e}();WW.BufferDistance=pX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var yX=function(){function e(t){io(this,e),this.endType=_Y.FLAT,this.leftDistance=new pX,this.rightDistance=new pX,this.semicircleLineSegment=4,this.radiusUnit=rY.METER,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.BufferSetting"}return ao(e,[{key:"destroy",value:function(){var e=this;e.endType=null,e.leftDistance&&(e.leftDistance.destroy(),e.leftDistance=null),e.rightDistance&&(e.rightDistance.destroy(),e.rightDistance=null),e.semicircleLineSegment=null,e.radiusUnit=null}}]),e}();WW.BufferSetting=yX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var dX=function(){function e(t){so(this,e),this.bufferSetting=new yX,rQ.extend(this,t),this.CLASS_NAME="SuperMap.BufferAnalystParameters"}return uo(e,[{key:"destroy",value:function(){var e=this;e.bufferSetting&&(e.bufferSetting.destroy(),e.bufferSetting=null)}}]),e}();WW.BufferAnalystParameters=dX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var mX=function(){function e(t){co(this,e),this.expectCount=1e3,this.dataset=null,this.dataReturnMode=TY.RECORDSET_ONLY,this.deleteExistResultDataset=!0,rQ.extend(this,t),this.CLASS_NAME="SuperMap.DataReturnOption"}return ho(e,[{key:"destroy",value:function(){var e=this;e.expectCount=null,e.dataset=null,e.dataReturnMode=null,e.deleteExistResultDataset=null}}]),e}();WW.DataReturnOption=mX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var vX=function(){function e(t){po(this,e),this.foreignTableName=null,this.joinFilter=null,this.joinType=null,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.JoinItem"}return mo(e,[{key:"destroy",value:function(){var e=this;e.foreignTableName=null,e.joinFilter=null,e.joinType=null}},{key:"toServerJSONObject",value:function(){var e={};return e=rQ.copyAttributes(e,this)}}]),e}();WW.JoinItem=vX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var gX=function(){function e(t){vo(this,e),this.alias=null,this.connect=null,this.dataBase=null,this.driver=null,this.engineType=null,this.exclusive=null,this.OpenLinkTable=null,this.password=null,this.readOnly=null,this.server=null,this.user=null,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.DatasourceConnectionInfo"}return bo(e,[{key:"destroy",value:function(){var e=this;e.alias=null,e.connect=null,e.dataBase=null,e.driver=null,e.engineType=null,e.exclusive=null,e.OpenLinkTable=null,e.password=null,e.readOnly=null,e.server=null,e.user=null}}]),e}();WW.DatasourceConnectionInfo=gX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var bX=function(){function e(t){So(this,e),this.datasourceConnectionInfo=null,this.foreignKeys=null,this.foreignTable=null,this.linkFields=null,this.linkFilter=null,this.name=null,this.primaryKeys=null,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.LinkItem"}return wo(e,[{key:"destroy",value:function(){var e=this;e.datasourceConnectionInfo instanceof gX&&(e.datasourceConnectionInfo.destroy(),e.datasourceConnectionInfo=null),e.foreignKeys=null,e.foreignTable=null,e.linkFields=null,e.linkFilter=null,e.name=null,e.primaryKeys=null}}]),e}();WW.LinkItem=bX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var SX=function(){function e(t){Oo(this,e),this.attributeFilter=null,this.name=null,this.joinItems=null,this.linkItems=null,this.ids=null,this.orderBy=null,this.groupBy=null,this.fields=null,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.FilterParameter"}return Co(e,[{key:"destroy",value:function(){var e=this;if(e.attributeFilter=null,e.name=null,e.joinItems){for(var t=0,n=e.joinItems,r=n.length;t<r;t++)n[t].destroy();e.joinItems=null}if(e.linkItems){for(var i=0,o=e.linkItems,a=o.length;i<a;i++)o[i].destroy();e.linkItems=null}e.ids=null,e.orderBy=null,e.groupBy=null,e.fields=null}}]),e}();WW.FilterParameter=SX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var _X=function(e){function t(e){var n;return Po(this,t),n=Mo(this,Ro(t).call(this,e)),n.dataset=null,n.filterQueryParameter=new SX,n.resultSetting=new mX,n.isAttributeRetained=!0,n.isUnion=!1,rQ.extend(Ao(n),e),n.CLASS_NAME="SuperMap.DatasetBufferAnalystParameters",n}return No(t,e),ko(t,[{key:"destroy",value:function(){Lo(Ro(t.prototype),"destroy",this).call(this);var e=this;e.dataset=null,e.filterQueryParameter&&(e.filterQueryParameter.destroy(),e.filterQueryParameter=null),e.resultSetting&&(e.resultSetting.destroy(),e.resultSetting=null),e.isAttributeRetained=null,e.isUnion=null}}],[{key:"toObject",value:function(e,t){for(var n in e)if("bufferSetting"===n)e.bufferSetting.radiusUnit=e.bufferSetting.radiusUnit.toUpperCase(),t.bufferAnalystParameter=e.bufferSetting;else if("resultSetting"===n)t.dataReturnOption=e.resultSetting;else{if("dataset"===n)continue;t[n]=e[n]}}}]),t}(dX);WW.DatasetBufferAnalystParameters=_X;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var wX=function(e){function t(e){var n;return Fo(this,t),n=Go(this,Jo(t).call(this,e)),n.sourceGeometry=null,n.sourceGeometrySRID=null,e&&rQ.extend(zo(n),e),n.CLASS_NAME=" SuperMap.GeometryBufferAnalystParameters",n}return qo(t,e),Uo(t,[{key:"destroy",value:function(){Vo(Jo(t.prototype),"destroy",this).call(this);var e=this;e.sourceGeometry&&(e.sourceGeometry.destroy(),e.sourceGeometry=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)if("bufferSetting"===n){var r={};for(var i in e.bufferSetting)r[i]=e.bufferSetting[i];t.analystParameter=r}else"sourceGeometry"===n?t.sourceGeometry=kQ.fromGeometry(e.sourceGeometry):t[n]=e[n]}}]),t}(dX);WW.GeometryBufferAnalystParameters=wX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var OX=function(e){function t(e,n){var r;return Qo(this,t),r=Zo(this,na(t).call(this,e,n)),r.mode=null,n&&rQ.extend($o(r),n),r.CLASS_NAME="SuperMap.BufferAnalystService",r}return ra(t,e),Ko(t,[{key:"destroy",value:function(){ea(na(t.prototype),"destroy",this).call(this),this.mode=null}},{key:"processAsync",value:function(e){var t={},n=this;"/"!==n.url.substr(n.url.length-1,1)&&(n.url+="/"),e instanceof _X?(n.mode="datasets",n.url+="datasets/"+e.dataset+"/buffer",_X.toObject(e,t)):e instanceof wX&&(n.mode="geometry",n.url+="geometry/buffer",wX.toObject(e,t));var r=rQ.toJSON(t);n.url+=".json?returnContent=true",n.request({method:"POST",data:r,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}]),t}(fX);WW.BufferAnalystService=OX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var xX=function(){function e(t){oa(this,e),this.type=OY.UDB,this.datasetName="analystResult",this.datasourceInfo=null,this.outputPath="",rQ.extend(this,t),this.CLASS_NAME="SuperMap.OutputSetting"}return sa(e,[{key:"destroy",value:function(){var e=this;e.type=null,e.datasetName=null,e.outputPath=null,e.datasourceInfo instanceof gX&&(e.datasourceInfo.destroy(),e.datasourceInfo=null)}}]),e}();WW.OutputSetting=xX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var CX=function(){function e(t){la(this,e),this.items=null,this.numericPrecision=1,this.rangeMode=uY.EQUALINTERVAL,this.rangeCount="",this.colorGradientType=fY.YELLOW_RED,rQ.extend(this,t),this.CLASS_NAME="SuperMap.MappingParameters"}return ca(e,[{key:"destroy",value:function(){var e=this;if(e.items){if(e.items.length>0)for(var t in e.items)e.items[t].destroy(),e.items[t]=null;e.items=null}e.numericPrecision=null,e.rangeMode=null,e.rangeCount=null,e.colorGradientType=null}}]),e}();WW.MappingParameters=CX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var TX=function(){function e(t){if(fa(this,e),this.datasetName="",this.bounds="",this.distance="",this.distanceField="",this.distanceUnit=HY.METER,this.dissolveField="",this.output=null,this.mappingParameters=null,!t)return this;rQ.extend(this,t),this.CLASS_NAME="SuperMap.BuffersAnalystJobsParameter"}return pa(e,[{key:"destroy",value:function(){this.datasetName=null,this.bounds=null,this.distance=null,this.distanceField=null,this.distanceUnit=null,this.dissolveField=null,this.output instanceof xX&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof CX&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!==n?"output"!==n?(t.analyst=t.analyst||{},"bounds"===n&&e[n]?t.analyst[n]=e[n].toBBOX():t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):(t.input=t.input||{},t.input[n]=e[n])}}]),e}();WW.BuffersAnalystJobsParameter=TX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var PX=function(e){function t(e,n){var r;return da(this,t),n=n||{},n.EVENT_TYPES=["processCompleted","processFailed","processRunning"],r=ga(this,wa(t).call(this,e,n)),r.CLASS_NAME="SuperMap.ProcessingServiceBase",r}return Oa(t,e),va(t,[{key:"destroy",value:function(){Sa(wa(t.prototype),"destroy",this).call(this)}},{key:"getJobs",value:function(e){var t=this;BQ.get(t._processUrl(e),null,{proxy:t.proxy}).then(function(e){return e.json()}).then(function(e){t.events.triggerEvent("processCompleted",{result:e})}).catch(function(e){t.eventListeners.processFailed({error:e})})}},{key:"addJob",value:function(e,t,n,r){var i=this,o=null;t&&t instanceof n&&(o=new Object,n.toObject(t,o));var a=Object.assign({"Content-Type":"application/x-www-form-urlencoded"},i.headers||{}),s={proxy:i.proxy,headers:a,withCredentials:i.withCredentials,crossOrigin:i.crossOrigin,isInTheSameDomain:i.isInTheSameDomain};BQ.post(i._processUrl(e),JSON.stringify(o),s).then(function(e){return e.json()}).then(function(e){e.succeed?i.serviceProcessCompleted(e,r):i.serviceProcessFailed(e)}).catch(function(e){i.serviceProcessFailed({error:e})})}},{key:"serviceProcessCompleted",value:function(e,t){e=rQ.transformResult(e),t=t||1e3;var n=this;if(e)var r=setInterval(function(){BQ.get(n._processUrl(e.newResourceLocation),{_t:(new Date).getTime()}).then(function(e){return e.json()}).then(function(e){n.events.triggerEvent("processRunning",{id:e.id,state:e.state}),"LOST"!==e.state.runState&&"KILLED"!==e.state.runState&&"FAILED"!==e.state.runState||(clearInterval(r),n.events.triggerEvent("processFailed",{error:e.state.errorMsg,state:e.state.runState})),"FINISHED"===e.state.runState&&e.setting.serviceInfo&&(clearInterval(r),n.events.triggerEvent("processCompleted",{result:e}))}).catch(function(e){clearInterval(r),n.events.triggerEvent("processFailed",{error:e})})},t)}},{key:"serviceProcessFailed",value:function(e){Sa(wa(t.prototype),"serviceProcessFailed",this).call(this,e)}},{key:"_processUrl",value:function(e){return-1===e.indexOf(".json")&&(e+=".json"),UQ.getToken(e)&&(e+="?token="+UQ.getToken(e)),e}}]),t}(iX);WW.ProcessingServiceBase=PX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var EX=function(e){function t(e,n){var r;return Ta(this,t),r=ka(this,ja(t).call(this,e,n)),r.url+="/spatialanalyst/buffers",r.CLASS_NAME="SuperMap.BuffersAnalystJobsService",r}return Ra(t,e),Ea(t,[{key:"destroy",value:function(){Aa(ja(t.prototype),"destroy",this).call(this)}},{key:"getBuffersJobs",value:function(){Aa(ja(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getBuffersJob",value:function(e){Aa(ja(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addBuffersJob",value:function(e,n){Aa(ja(t.prototype),"addJob",this).call(this,this.url,e,TX,n)}}]),t}(PX);WW.BuffersAnalystJobsService=EX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var kX=function(){function e(t){Ia(this,e);var n=this;this.sourceNodeIDs=null,this.edgeID=null,this.nodeID=null,this.isUncertainDirectionValid=!1,rQ.extend(n,t),this.CLASS_NAME="SuperMap.BurstPipelineAnalystParameters"}return Fa(e,[{key:"destroy",value:function(){var e=this;e.sourceNodeIDs=null,e.edgeID=null,e.nodeID=null,e.isUncertainDirectionValid=null}}]),e}();WW.BurstPipelineAnalystParameters=kX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var MX=function(e){function t(e,n){var r;return Ua(this,t),r=Va(this,Wa(t).call(this,e,n)),r.format=YW.GEOJSON,r.CLASS_NAME="SuperMap.NetworkAnalystServiceBase",r}return Ya(t,e),za(t,[{key:"destroy",value:function(){Ja(Wa(t.prototype),"destroy",this).call(this),this.format=null}},{key:"serviceProcessCompleted",value:function(e){var t,n=this;e=rQ.transformResult(e),e&&n.format===YW.GEOJSON&&"function"==typeof n.toGeoJSONResult&&(t=n.toGeoJSONResult(e)),t||(t=e),n.events.triggerEvent("processCompleted",{result:t})}},{key:"toGeoJSONResult",value:function(e){return null}}]),t}(iX);WW.NetworkAnalystServiceBase=MX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var AX=function(e){function t(e,n){var r;return Ka(this,t),r=es(this,is(t).call(this,e,n)),r.CLASS_NAME="SuperMap.BurstPipelineAnalystService",r}return os(t,e),$a(t,[{key:"destroy",value:function(){ns(is(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(!(e instanceof kX))return null;var t,n=this,r=n.url.substr(n.url.length-1,1);if(n.url=n.url+("/"===r?"burstAnalyse":"/burstAnalyse")+".json?",t={sourceNodeIDs:e.sourceNodeIDs,isUncertainDirectionValid:e.isUncertainDirectionValid},null!==e.edgeID&&null!==e.nodeID)throw new Error("edgeID and nodeID cannot be null at the same time.");if(null===e.edgeID&&null===e.nodeID)throw new Error("edgeID and nodeID cannot be null at the same time.");null!==e.edgeID?t.edgeID=e.edgeID:t.nodeID=e.nodeID,n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}]),t}(MX);WW.BurstPipelineAnalystService=AX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var LX=function(e){function t(e,n){var r;return ls(this,t),r=fs(this,ds(t).call(this,e,n)),r.CLASS_NAME="SuperMap.ChartFeatureInfoSpecsService",r}return ms(t,e),cs(t,[{key:"destroy",value:function(){ps(ds(t.prototype),"destroy",this).call(this),rQ.reset(this)}},{key:"processAsync",value:function(){var e=this,t=e.url.substr(e.url.length-1,1);e.isTempLayers?e.url+=".json?":(e.url+="/"===t?"":"/",e.url+="chartFeatureInfoSpecs.json?"),e.request({method:"GET",params:null,scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}}]),t}(iX);WW.ChartFeatureInfoSpecsService=LX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var jX=function(){function e(t){gs(this,e),this.isQueryPoint=null,this.isQueryLine=null,this.isQueryRegion=null,this.attributeFilter=null,this.chartFeatureInfoSpecCode=null,rQ.extend(this,t),this.CLASS_NAME="SuperMap.ChartQueryFilterParameter"}return Ss(e,[{key:"destroy",value:function(){var e=this;e.isQueryPoint=null,e.isQueryLine=null,e.isQueryRegion=null,e.attributeFilter=null,e.chartFeatureInfoSpecCode=null}},{key:"toJson",value:function(){var e="";return e+='"isQueryPoint":'+this.isQueryPoint+",",e+='"isQueryLine":'+this.isQueryLine+",",e+='"isQueryRegion":'+this.isQueryRegion+",",this.attributeFilter&&(e+='"attributeFilter": "'+this.attributeFilter+'",'),e+='"chartFeatureInfoSpecCode":'+this.chartFeatureInfoSpecCode,e="{"+e+"}"}}]),e}();WW.ChartQueryFilterParameter=jX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var RX=function(){function e(t){_s(this,e),this.queryMode=null,this.bounds=null,this.chartLayerNames=null,this.chartQueryFilterParameters=null,this.returnContent=!0,this.startRecord=0,this.expectCount=null,rQ.extend(this,t),this.CLASS_NAME="SuperMap.ChartQueryParameters"}return Os(e,[{key:"destroy",value:function(){var e=this;e.queryMode=null,e.bounds=null,e.chartLayerNames=null,e.chartQueryFilterParameters=null,e.returnContent=!0,e.startRecord=0,e.expectCount=null}},{key:"getVariablesJson",value:function(){var e="";if(e+='"queryMode":"'+this.queryMode+'",',this.chartLayerNames&&this.chartLayerNames.length){for(var t=[],n=this.chartLayerNames.length,r=0;r<n;r++)t.push('"'+this.chartLayerNames[r]+'"');e+='"chartLayerNames":'+("["+t.join(",")+"]")+","}if("ChartBoundsQuery"===this.queryMode&&this.bounds&&(e+='"bounds":{"leftBottom":{"x":'+this.bounds.left+',"y":'+this.bounds.bottom+'},"rightTop":{"x":'+this.bounds.right+',"y":'+this.bounds.top+"}},"),this.chartQueryFilterParameters&&this.chartQueryFilterParameters.length){for(var i=[],o=this.chartQueryFilterParameters.length,a=0;a<o;a++){var s=this.chartQueryFilterParameters[a];s instanceof jX&&i.push(s.toJson())}var l="["+i.join(",")+"]";l='"chartQueryParams":'+l+",",l+='"startRecord":'+this.startRecord+",",l+='"expectCount":'+this.expectCount,l="{"+l+"}",e+='"chartQueryParameters":'+l}return e="{"+e+"}"}}]),e}();WW.ChartQueryParameters=RX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var NX=function(){function e(t){xs(this,e),t&&(this.customParams=null,this.prjCoordSys=null,this.expectCount=1e5,this.networkType=XW.LINE,this.queryOption=KW.ATTRIBUTEANDGEOMETRY,this.queryParams=null,this.startRecord=0,this.holdTime=10,this.returnCustomResult=!1,this.returnFeatureWithFieldCaption=!1,rQ.extend(this,t),this.CLASS_NAME="SuperMap.QueryParameters")}return Ts(e,[{key:"destroy",value:function(){var e=this;if(e.customParams=null,e.expectCount=null,e.networkType=null,e.queryOption=null,e.queryParams){for(var t=0,n=e.queryParams,r=n.length;t<r;t++)n[t].destroy();e.queryParams=null}e.startRecord=null,e.holdTime=null,e.returnCustomResult=null,e.prjCoordSys=null}}]),e}();WW.QueryParameters=NX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var IX=function(e){function t(e,n){var r;Es(this,t),r=As(this,Ls(t).call(this,e,n)),n=n||{},r.returnContent=null,r.format=YW.GEOJSON,rQ.extend(js(r),n);var i,o=js(r);return n.format&&(o.format=n.format.toUpperCase()),o.url?(i=o.url.substr(o.url.length-1,1),o.url+="/"===i?"queryResults.json?":"/queryResults.json?",r.CLASS_NAME="SuperMap.ChartQueryService",r):As(r)}return Rs(t,e),Ms(t,[{key:"destroy",value:function(){var e=this;iX.prototype.destroy.apply(this,arguments),e.returnContent=null,e.format=null}},{key:"processAsync",value:function(e){if(e instanceof RX){var t,n=this;n.returnContent=e.returnContent,t=e.getVariablesJson(),n.returnContent&&(n.url+="returnContent="+n.returnContent),n.request({method:"POST",data:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"serviceProcessCompleted",value:function(e){var t=this;if((e=rQ.transformResult(e))&&e.recordsets&&t.format===YW.GEOJSON)for(var n=0,r=e.recordsets,i=r.length;n<i;n++)if(r[n].features){var o=new MQ;r[n].features=o.toGeoJSON(r[n].features)}t.events.triggerEvent("processCompleted",{result:e})}},{key:"getQueryParameters",value:function(e){return new NX({queryMode:e.queryMode,bounds:e.bounds,chartLayerNames:e.chartLayerNames,chartQueryFilterParameters:e.chartQueryFilterParameters,returnContent:e.returnContent})}}]),t}(iX);WW.ChartQueryService=IX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var DX=function(){function e(t){Is(this,e),this.clipDatasetName=null,this.clipDatasourceName=null,this.clipRegion=null,this.isClipInRegion=!0,this.isExactClip=null,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.ClipParameter"}return Fs(e,[{key:"destroy",value:function(){var e=this;e.clipDatasetName=null,e.clipDatasourceName=null,e.clipRegion=null,e.isClipInRegion=null,e.isExactClip=null}},{key:"toJSON",value:function(){return rQ.toJSON({isClipInRegion:this.isClipInRegion,clipDatasetName:this.clipDatasetName,clipDatasourceName:this.clipDatasourceName,isExactClip:this.isExactClip,clipRegion:kQ.fromGeometry(this.clipRegion)})}}]),e}();WW.ClipParameter=DX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var FX=function(){function e(t){Bs(this,e),t=t||{},this.elevation=null,this.color=null,rQ.extend(this,t);var n=this,r=n.color;r&&(n.color=new CQ(r.red,r.green,r.blue)),this.CLASS_NAME="SuperMap.ColorDictionary"}return Gs(e,[{key:"destroy",value:function(){rQ.reset(this)}},{key:"toServerJSONObject",value:function(){var e={};return e=rQ.copyAttributes(e,this)}}]),e}();WW.ColorDictionary=FX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var BX=function(){function e(t){zs(this,e),t&&(this.returnEdgeFeatures=!1,this.returnEdgeGeometry=!1,this.returnEdgeIDs=!1,this.returnNodeFeatures=!1,this.returnNodeGeometry=!1,this.returnNodeIDs=!1,this.returnPathGuides=!1,this.returnRoutes=!1,rQ.extend(this,t),this.CLASS_NAME="SuperMap.TransportationAnalystResultSetting")}return Hs(e,[{key:"destroy",value:function(){var e=this;e.returnEdgeFeatures=null,e.returnEdgeGeometry=null,e.returnEdgeIDs=null,e.returnNodeFeatures=null,e.returnNodeGeometry=null,e.returnNodeIDs=null,e.returnPathGuides=null,e.returnRoutes=null}}]),e}();WW.TransportationAnalystResultSetting=BX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var UX=function(){function e(t){Js(this,e),t&&(this.barrierEdgeIDs=null,this.barrierNodeIDs=null,this.barrierPoints=null,this.weightFieldName=null,this.turnWeightField=null,this.resultSetting=new BX,rQ.extend(this,t),this.CLASS_NAME="SuperMap.TransportationAnalystParameter")}return Ws(e,[{key:"destroy",value:function(){var e=this;if(e.barrierEdgeIDs=null,e.barrierNodeIDs=null,e.weightFieldName=null,e.turnWeightField=null,e.resultSetting&&(e.resultSetting.destroy(),e.resultSetting=null),e.barrierPoints&&e.barrierPoints.length)for(var t in e.barrierPoints)e.barrierPoints[t].destroy();e.barrierPoints=null}}]),e}();WW.TransportationAnalystParameter=UX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var GX=function(){function e(t){Ys(this,e),this.isAnalyzeById=!1,this.nodes=null,this.parameter=new UX,rQ.extend(this,t),this.CLASS_NAME="SuperMap.ComputeWeightMatrixParameters"}return Xs(e,[{key:"destroy",value:function(){var e=this;e.isAnalyzeById=null,e.nodes=null,e.parameter&&(e.parameter.destroy(),e.parameter=null)}}]),e}();WW.ComputeWeightMatrixParameters=GX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var zX=function(e){function t(e,n){var r;return Zs(this,t),r=tl(this,ol(t).call(this,e,n)),r.CLASS_NAME="SuperMap.ComputeWeightMatrixService",r}return al(t,e),el(t,[{key:"destroy",value:function(){rl(ol(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof GX){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"weightmatrix":"/weightmatrix")+".json?",t={parameter:rQ.toJSON(e.parameter),nodes:n.getJson(e.isAnalyzeById,e.nodes)},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJson",value:function(e,t){var n="[",r=t?t.length:0;if(!1===e)for(var i=0;i<r;i++)i>0&&(n+=","),n+='{"x":'+t[i].x+',"y":'+t[i].y+"}";else if(!0===e)for(var o=0;o<r;o++)o>0&&(n+=","),n+=t[o];return n+="]"}}]),t}(MX);WW.ComputeWeightMatrixService=zX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var VX=function(e){function t(e,n){var r;ul(this,t),n=n||{},n.EVENT_TYPES=["broadcastSocketConnected","broadcastSocketError","broadcastFailed","broadcastSucceeded","subscribeSocketConnected","subscribeSocketError","messageSucceeded","setFilterParamSucceeded"],r=hl(this,pl(t).call(this,e,n)),r.geometry=null,r.prjCoordSys=null,r.excludeField=null;var i=yl(r);return"/"!==i.url.substr(i.url.length-1,1)&&(i.url+="/"),rQ.extend(i,n),r.CLASS_NAME="SuperMap.DataFlowService",r}return dl(t,e),fl(t,[{key:"initBroadcast",value:function(){var e=this;return this.broadcastWebSocket=this._connect(e.url+"broadcast"),this.broadcastWebSocket.onopen=function(t){e.broadcastWebSocket.isOpen=!0,t.eventType="broadcastSocketConnected",e.events.triggerEvent("broadcastSocketConnected",t)},this.broadcastWebSocket.onclose=function(t){e.broadcastWebSocket.isOpen=!1,t.eventType="broadcastSocketConnected",e.events.triggerEvent("broadcastSocketConnected",t)},this.broadcastWebSocket.onerror=function(t){t.eventType="broadcastSocketError",e.events.triggerEvent("broadcastSocketError",t)},this}},{key:"broadcast",value:function(e){if(!this.broadcastWebSocket||!this.broadcastWebSocket.isOpen)return void this.events.triggerEvent("broadcastFailed");this.broadcastWebSocket.send(JSON.stringify(e)),this.events.triggerEvent("broadcastSucceeded")}},{key:"initSubscribe",value:function(){var e=this;return this.subscribeWebSocket=this._connect(this.url+"subscribe"),this.subscribeWebSocket.onopen=function(t){e.subscribeWebSocket.send(e._getFilterParams()),t.eventType="subscribeSocketConnected",e.events.triggerEvent("subscribeSocketConnected",t)},this.subscribeWebSocket.onerror=function(t){t.eventType="subscribeSocketError",e.events.triggerEvent("subscribeSocketError",t)},this.subscribeWebSocket.onmessage=function(t){e._onMessage(t)},this}},{key:"setExcludeField",value:function(e){return this.excludeField=e,this.subscribeWebSocket.send(this._getFilterParams()),this}},{key:"setGeometry",value:function(e){return this.geometry=e,this.subscribeWebSocket.send(this._getFilterParams()),this}},{key:"unSubscribe",value:function(){this.subscribeWebSocket&&(this.subscribeWebSocket.close(),this.subscribeWebSocket=null)}},{key:"unBroadcast",value:function(){this.broadcastWebSocket&&(this.broadcastWebSocket.close(),this.broadcastWebSocket=null)}},{key:"destroy",value:function(){iX.prototype.destroy.apply(this,arguments);var e=this;e.geometry=null,e.prjCoordSys=null,e.excludeField=null,this.unBroadcast(),this.unSubscribe()}},{key:"_getFilterParams",value:function(){var e={filterParam:{prjCoordSys:this.prjCoordSys,excludeField:this.excludeField,geometry:this.geometry}};return rQ.toJSON(e)}},{key:"_onMessage",value:function(e){if(e.data&&e.data.indexOf("filterParam")>=0){var t=JSON.parse(e.data);return e.filterParam=t,e.eventType="setFilterParamSucceeded",void this.events.triggerEvent("setFilterParamSucceeded",e)}var n=JSON.parse(e.data);e.featureResult=n,e.eventType="messageSucceeded",this.events.triggerEvent("messageSucceeded",e)}},{key:"_connect",value:function(e){if(e=this._appendCredentials(e),"WebSocket"in window)return new WebSocket(e);if("MozWebSocket"in window){return new(0,window.MozWebSocket)(e)}return console.log("no WebSocket"),null}},{key:"_appendCredentials",value:function(e){var t=UQ.getToken(e);return t&&(e+="?token="+t),e}}]),t}(iX);WW.DataFlowService=VX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var HX=function(){function e(t){vl(this,e),t=t||{},this.bounds=null,this.dataSourceName=null,this.description=null,this.encodeType=null,this.isReadOnly=null,this.name=null,this.prjCoordSys=null,this.tableName=null,this.type=null,rQ.extend(this,t);var n=this.bounds;n&&(this.bounds=new oQ(n.leftBottom.x,n.leftBottom.y,n.rightTop.x,n.rightTop.y)),this.CLASS_NAME="SuperMap.DatasetInfo"}return bl(e,[{key:"destroy",value:function(){rQ.reset(this)}},{key:"toServerJSONObject",value:function(){var e={};return e=rQ.copyAttributes(e,this),e.bounds&&e.bounds.toServerJSONObject&&(e.bounds=e.bounds.toServerJSONObject()),e}}]),e}();WW.DatasetInfo=HX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var JX=function(){function e(t){Sl(this,e),this.operation=wY.UNION,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.OverlayAnalystParameters"}return wl(e,[{key:"destroy",value:function(){this.operation=null}}]),e}();WW.OverlayAnalystParameters=JX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var qX=function(e){function t(e){var n;return xl(this,t),n=Pl(this,Al(t).call(this,e)),n.operateDataset=null,n.operateDatasetFields=[],n.operateDatasetFilter=new SX,n.operateRegions=[],n.sourceDataset=null,n.sourceDatasetFields=[],n.sourceDatasetFilter=new SX,n.tolerance=0,n.resultSetting=new mX,rQ.extend(El(n),e),n.CLASS_NAME="SuperMap.DatasetOverlayAnalystParameters",n}return Ll(t,e),Tl(t,[{key:"destroy",value:function(){kl(Al(t.prototype),"destroy",this).call(this);var e=this;if(e.operateDataset=null,e.operateDatasetFields=null,e.operateDatasetFilter&&(e.operateDatasetFilter.destroy(),e.operateDatasetFilter=null),e.operateRegions){for(var n=0,r=e.operateRegions,i=r.length;n<i;n++)r[n].destroy();e.operateRegions=null}e.sourceDataset=null,e.sourceDatasetFields=null,e.sourceDatasetFilter&&(e.sourceDatasetFilter.destroy(),e.sourceDatasetFilter=null),e.tolerance=null,e.resultSetting&&(e.resultSetting.destroy(),e.resultSetting=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)if("sourceDataset"!==n)if("operateRegions"===n){t.operateRegions=[];var r=e.operateRegions;for(var i in r)r.hasOwnProperty(i)&&(t.operateRegions[i]=kQ.fromGeometry(r[i]))}else"resultSetting"===n?t.dataReturnOption=e.resultSetting:t[n]=e[n]}}]),t}(JX);WW.DatasetOverlayAnalystParameters=qX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var WX=function(){function e(t){Rl(this,e),this.clipRegion=null,this.datumValue=0,this.expectedZValues=null,this.interval=0,this.resampleTolerance=0,this.smoothMethod=xY.BSPLINE,this.smoothness=0,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.SurfaceAnalystParametersSetting"}return Il(e,[{key:"destroy",value:function(){var e=this;e.clipRegion&&(e.clipRegion.destroy(),e.clipRegion=null),e.datumValue=null,e.expectedZValues=null,e.interval=null,e.resampleTolerance=null,e.smoothMethod=null,e.smoothness=null}},{key:"toJSON",value:function(){var e="'datumValue':"+rQ.toJSON(this.datumValue);if(e+=",'interval':"+rQ.toJSON(this.interval),e+=",'resampleTolerance':"+rQ.toJSON(this.resampleTolerance),e+=",'smoothMethod':"+rQ.toJSON(this.smoothMethod),e+=",'smoothness':"+rQ.toJSON(this.smoothness),null!=this.expectedZValues&&(e+=",'expectedZValues':"+rQ.toJSON(this.expectedZValues)),null!=this.clipRegion){var t=this.clipRegion;this.clipRegion instanceof aQ&&this.clipRegion.components&&(t=kQ.fromGeometry(this.clipRegion)),e+=",'clipRegion':"+rQ.toJSON(t)}return"{"+e+"}"}}]),e}();WW.SurfaceAnalystParametersSetting=WX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var YX=function(){function e(t){Dl(this,e),this.resolution=0,this.extractParameter=new WX,this.resultSetting=new mX,this.surfaceAnalystMethod=CY.ISOLINE,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.SurfaceAnalystParameters"}return Bl(e,[{key:"destroy",value:function(){var e=this;e.resolution=null,e.extractParameter&&(e.extractParameter.destroy(),e.extractParameter=null),e.resultSetting&&(e.resultSetting.destroy(),e.resultSetting=null),e.surfaceAnalystMethod=null}}]),e}();WW.SurfaceAnalystParameters=YX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var QX=function(e){function t(e){var n;return Gl(this,t),n=Hl(this,Yl(t).call(this,e)),n.dataset=null,n.filterQueryParameter=new SX,n.zValueFieldName=null,e&&rQ.extend(Jl(n),e),n.CLASS_NAME="SuperMap.DatasetSurfaceAnalystParameters",n}return Ql(t,e),Vl(t,[{key:"destroy",value:function(){ql(Yl(t.prototype),"destroy",this).call(this);var e=this;e.dataset=null,e.filterQueryParameter&&(e.filterQueryParameter.destroy(),e.filterQueryParameter=null),e.zValueFieldName=null}}],[{key:"toObject",value:function(e,t){for(var n in e)if("filterQueryParameter"===n&&(t.filterQueryParameter=e.filterQueryParameter),"extractParameter"===n)e.extractParameter.clipRegion instanceof aQ&&e.extractParameter.clipRegion.components&&(e.extractParameter.clipRegion=kQ.fromGeometry(e.extractParameter.clipRegion)),t.extractParameter=e.extractParameter;else{if("dataset"===n)continue;if("surfaceAnalystMethod"===n)continue;t[n]=e[n]}}}]),t}(YX);WW.DatasetSurfaceAnalystParameters=QX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var XX=function(){function e(t){Kl(this,e),t&&(this.clipRegion=null,this.createResultDataset=!1,this.resultDatasetName=null,this.resultDatasourceName=null,this.returnResultRegion=!0,rQ.extend(this,t),this.CLASS_NAME="SuperMap.ThiessenAnalystParameters")}return $l(e,[{key:"destroy",value:function(){var e=this;e.clipRegion&&(e.clipRegion.destroy(),e.clipRegion=null),e.createResultDataset=null,e.resultDatasetName=null,e.resultDatasourceName=null,e.returnResultRegion=null}}]),e}();WW.ThiessenAnalystParameters=XX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var KX=function(e){function t(e){var n;return tu(this,t),n=iu(this,lu(t).call(this,e)),n.filterQueryParameter=null,n.dataset=null,e&&rQ.extend(ou(n),e),n.CLASS_NAME="SuperMap.DatasetThiessenAnalystParameters",n}return uu(t,e),ru(t,[{key:"destroy",value:function(){au(lu(t.prototype),"destroy",this).call(this);var e=this;e.filterQueryParameter&&(e.filterQueryParameter.destroy(),e.filterQueryParameter=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"clipRegion"===n?t.clipRegion=kQ.fromGeometry(e.clipRegion):t[n]=e[n]}}]),t}(XX);WW.DatasetThiessenAnalystParameters=KX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var ZX=function(){function e(t){fu(this,e),this.dataset=null,this.bounds=null,this.fieldName=null,this.resultGridDatasetResolution=null,this.searchRadius=null,this.targetDatasource=null,this.resultGridName=null,this.deleteExistResultDataset=!1,rQ.extend(this,t),this.CLASS_NAME="SuperMap.DensityKernelAnalystParameters"}return pu(e,[{key:"destroy",value:function(){var e=this;e.dataset=null,e.bounds=null,e.fieldName=null,e.resultGridDatasetResolution=null,e.searchRadius=null,e.targetDatasource=null,e.resultGridName=null,e.deleteExistResultDataset=null}}],[{key:"toObject",value:function(e,t){for(var n in e)"dataset"!==n&&(t[n]=e[n])}}]),e}();WW.DensityKernelAnalystParameters=ZX;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var $X=function(e){function t(e,n){var r;return du(this,t),r=gu(this,wu(t).call(this,e,n)),r.mode=null,n&&rQ.extend(bu(r),n),r.CLASS_NAME="SuperMap.DensityAnalystService",r}return Ou(t,e),vu(t,[{key:"destroy",value:function(){Su(wu(t.prototype),"destroy",this).call(this),this.mode=null}},{key:"processAsync",value:function(e){var t=this;"/"!==t.url.substr(t.url.length-1,1)&&(t.url+="/");var n=new Object;e instanceof ZX&&(t.url+="datasets/"+e.dataset+"/densityanalyst/kernel",t.mode="kernel"),ZX.toObject(e,n);var r=rQ.toJSON(n);t.url+=".json?returnContent=true",t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}]),t}(fX);WW.DensityAnalystService=$X;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var eK=function(){function e(t){Cu(this,e),this.dataSourceName=null,this.dataSetName=null,this.features=null,this.editType=PY.ADD,this.IDs=null,this.returnContent=!1,this.isUseBatch=!1,rQ.extend(this,t),this.CLASS_NAME="SuperMap.EditFeaturesParameters"}return Pu(e,[{key:"destroy",value:function(){var e=this;e.dataSourceName=null,e.dataSetName=null,e.features=null,e.editType=null,e.IDs=null,e.returnContent=null}}],[{key:"toJsonParameters",value:function(e){var t,n,r;if(e.editType===PY.DELETE){if(null===e.IDs)return;r={ids:e.IDs}}else if(r=[],e.features){n=e.features.length;for(var i=0;i<n;i++)t=e.features[i],t.geometry=kQ.fromGeometry(t.geometry),r.push(t)}return rQ.toJSON(r)}}]),e}();WW.EditFeaturesParameters=eK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var tK=function(e){function t(e,n){var r;ku(this,t),r=Lu(this,Iu(t).call(this,e,n)),r.returnContent=!1,r.isUseBatch=!1,n&&rQ.extend(ju(r),n);var i,o=ju(r);return i=o.url.substr(o.url.length-1,1),o.url+="/"==i?"features.json?":"/features.json?",r.CLASS_NAME="SuperMap.EditFeaturesService",r}return Du(t,e),Au(t,[{key:"destroy",value:function(){Ru(Iu(t.prototype),"destroy",this).call(this);var e=this;e.returnContent=null,e.isUseBatch=null,e.fromIndex=null,e.toIndex=null}},{key:"processAsync",value:function(e){if(e instanceof eK){var t=this,n="POST",r="",i=e.editType,o=null;t.returnContent=e.returnContent,t.isUseBatch=e.isUseBatch,o=eK.toJsonParameters(e),i===PY.DELETE?(r=rQ.toJSON(e.IDs),t.url+="ids="+r,n="DELETE",o=r):i===PY.UPDATE?n="PUT":(t.isUseBatch&&(t.url+="isUseBatch="+t.isUseBatch,t.returnContent=!1),t.returnContent&&(t.url+="returnContent="+t.returnContent,n="POST")),t.request({method:n,data:o,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}]),t}(iX);WW.EditFeaturesService=tK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var nK=function(){function e(t){Bu(this,e),this.edgeID=null,this.nodeID=null,this.weightName=null,this.isUncertainDirectionValid=!1,rQ.extend(this,t),this.CLASS_NAME="SuperMap.FacilityAnalyst3DParameters"}return Gu(e,[{key:"destroy",value:function(){var e=this;e.edgeID=null,e.nodeID=null,e.weightName=null,e.isUncertainDirectionValid=null}}]),e}();WW.FacilityAnalyst3DParameters=nK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var rK=function(e){function t(e){var n;return Vu(this,t),n=qu(this,Xu(t).call(this,e)),n.CLASS_NAME="SuperMap.FacilityAnalystSinks3DParameters",n}return Ku(t,e),Ju(t,[{key:"destroy",value:function(){Yu(Xu(t.prototype),"destroy",this).call(this)}}]),t}(nK);WW.FacilityAnalystSinks3DParameters=rK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var iK=function(e){function t(e,n){var r;return ec(this,t),r=rc(this,oc(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FacilityAnalystSinks3DService",r}return ac(t,e),nc(t,[{key:"destroy",value:function(){iX.prototype.destroy.apply(this,arguments)}},{key:"processAsync",value:function(e){if(e instanceof rK){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"sinks":"/sinks")+".json?",t={edgeID:e.edgeID,nodeID:e.nodeID,weightName:e.weightName,isUncertainDirectionValid:e.isUncertainDirectionValid},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}]),t}(iX);WW.FacilityAnalystSinks3DService=iK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var oK=function(e){function t(e){var n;return uc(this,t),n=hc(this,mc(t).call(this,e)),n.CLASS_NAME="SuperMap.FacilityAnalystSources3DParameters",n}return vc(t,e),fc(t,[{key:"destroy",value:function(){yc(mc(t.prototype),"destroy",this).call(this)}}]),t}(nK);WW.FacilityAnalystSources3DParameters=oK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var aK=function(e){function t(e,n){var r;return Sc(this,t),r=Oc(this,Pc(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FacilityAnalystSources3DService",r}return Ec(t,e),wc(t,[{key:"destroy",value:function(){Cc(Pc(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof oK){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"sources":"/sources")+".json?",t={edgeID:e.edgeID,nodeID:e.nodeID,weightName:e.weightName,isUncertainDirectionValid:e.isUncertainDirectionValid},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}]),t}(iX);WW.FacilityAnalystSources3DService=aK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var sK=function(){function e(t){Mc(this,e),this.sourceNodeIDs=null,this.edgeID=null,this.nodeID=null,this.isUncertainDirectionValid=!1,this.queryType=null,rQ.extend(this,t),this.CLASS_NAME="SuperMap.FacilityAnalystStreamParameters"}return Lc(e,[{key:"destroy",value:function(){var e=this;e.edgeID=null,e.nodeID=null,e.weightName=null,e.isUncertainDirectionValid=null,e.type=null}}]),e}();WW.FacilityAnalystStreamParameters=sK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var lK=function(e){function t(e,n){var r;return Rc(this,t),r=Dc(this,Gc(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FacilityAnalystStreamService",r}return zc(t,e),Ic(t,[{key:"destroy",value:function(){Bc(Gc(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof sK){var t,n=this,r=n.url.substr(n.url.length-1,1);if(0===e.queryType)n.url=n.url+("/"===r?"upstreamcirticalfaclilities":"/upstreamcirticalfaclilities")+".json?";else{if(1!==e.queryType)return;n.url=n.url+("/"===r?"downstreamcirticalfaclilities":"/downstreamcirticalfaclilities")+".json?"}t={sourceNodeIDs:e.sourceNodeIDs,isUncertainDirectionValid:e.isUncertainDirectionValid},null!==e.edgeID&&null!==e.nodeID||null===e.edgeID&&null===e.nodeID||(null!==e.edgeID?t.edgeID=e.edgeID:t.nodeID=e.nodeID,n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed}))}}}]),t}(MX);WW.FacilityAnalystStreamService=lK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var uK=function(e){function t(e){var n;return Jc(this,t),n=Yc(this,Zc(t).call(this,e)),n.CLASS_NAME="SuperMap.FacilityAnalystTracedown3DParameters",n}return $c(t,e),Wc(t,[{key:"destroy",value:function(){Xc(Zc(t.prototype),"destroy",this).call(this)}}]),t}(nK);WW.FacilityAnalystTracedown3DParameters=uK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var cK=function(e){function t(e,n){var r;return nf(this,t),r=af(this,cf(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FacilityAnalystTracedown3DService",r}return ff(t,e),of(t,[{key:"destroy",value:function(){lf(cf(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof uK){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"tracedownresult":"/tracedownresult")+".json?",t={edgeID:e.edgeID,nodeID:e.nodeID,weightName:e.weightName,isUncertainDirectionValid:e.isUncertainDirectionValid},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}]),t}(iX);WW.FacilityAnalystTracedown3DService=cK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var fK=function(e){function t(e){var n;return yf(this,t),n=vf(this,_f(t).call(this,e)),n.CLASS_NAME="SuperMap.FacilityAnalystTraceup3DParameters",n}return wf(t,e),mf(t,[{key:"destroy",value:function(){bf(_f(t.prototype),"destroy",this).call(this)}}]),t}(nK);WW.FacilityAnalystTraceup3DParameters=fK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var hK=function(e){function t(e,n){var r;return Cf(this,t),r=Ef(this,Lf(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FacilityAnalystTraceup3DService",r}return jf(t,e),Pf(t,[{key:"destroy",value:function(){Mf(Lf(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof fK){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"traceupresult":"/traceupresult")+".json?",t={edgeID:e.edgeID,nodeID:e.nodeID,weightName:e.weightName,isUncertainDirectionValid:e.isUncertainDirectionValid},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}]),t}(iX);WW.FacilityAnalystTraceup3DService=hK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var pK=function(e){function t(e){var n;return If(this,t),n=Bf(this,Vf(t).call(this,e)),e=e||{},n.sourceNodeIDs=null,rQ.extend(Uf(n),e),n.CLASS_NAME="SuperMap.FacilityAnalystUpstream3DParameters",n}return Hf(t,e),Ff(t,[{key:"destroy",value:function(){Gf(Vf(t.prototype),"destroy",this).call(this),this.sourceNodeIDs=null}}]),t}(nK);WW.FacilityAnalystUpstream3DParameters=pK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var yK=function(e){function t(e,n){var r;return Wf(this,t),r=Xf(this,eh(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FacilityAnalystUpstream3DService",r}return th(t,e),Qf(t,[{key:"destroy",value:function(){Zf(eh(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof pK){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"upstreamcirticalfaclilities":"/upstreamcirticalfaclilities")+".json?",t={sourceNodeIDs:e.sourceNodeIDs,edgeID:e.edgeID,nodeID:e.nodeID,isUncertainDirectionValid:e.isUncertainDirectionValid},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}]),t}(iX);WW.FacilityAnalystUpstream3DService=yK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var dK=function(e){function t(e){var n;return ih(this,t),n=sh(this,fh(t).call(this,e)),n.filterParam=null,n.aggType=YY.FILTER,n.CLASS_NAME="SuperMap.FilterAggParameter",rQ.extend(lh(n),e),n}return hh(t,e),ah(t,[{key:"destroy",value:function(){uh(fh(t.prototype),"destroy",this).call(this);var e=this;e.filterParam&&(e.filterParam=null)}}]),t}(uX);WW.FilterAggParameter=dK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var mK=function(){function e(t){yh(this,e),this.datasource=null,this.dataset=null,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.FieldParameters"}return mh(e,[{key:"destroy",value:function(){var e=this;e.datasource=null,e.dataset=null}}]),e}();WW.FieldParameters=mK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var vK=function(e){function t(e){var n;return gh(this,t),n=_h(this,wh(t).call(this,e)),n.fieldName=null,n.statisticMode=null,e&&rQ.extend(Oh(n),e),n.CLASS_NAME="SuperMap.FieldStatisticsParameters",n}return xh(t,e),Sh(t,[{key:"destroy",value:function(){var e=this;e.fieldName=null,e.statisticMode=null}}]),t}(mK);WW.FieldStatisticsParameters=vK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var gK=function(e){function t(e,n){var r;return Ph(this,t),r=Mh(this,Rh(t).call(this,e,n)),r.datasource=null,r.dataset=null,r.field=null,r.statisticMode=null,n&&rQ.extend(Ah(r),n),r.CLASS_NAME="SuperMap.FieldStatisticService",r}return Nh(t,e),kh(t,[{key:"destroy",value:function(){Lh(Rh(t.prototype),"destroy",this).call(this);var e=this;e.datasource=null,e.dataset=null,e.field=null,e.statisticMode=null}},{key:"processAsync",value:function(){var e=this,t=e.url.substr(e.url.length-1,1),n="datasources/"+e.datasource+"/datasets/"+e.dataset+"/fields/"+e.field+"/"+e.statisticMode;e.url+="/"==t?n+".json?":"/"+n+".json?",e.request({method:"GET",data:null,scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}}]),t}(iX);WW.FieldStatisticService=gK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var bK=function(){function e(t){Dh(this,e),this.event=null,this.expectFacilityCount=1,this.facilities=null,this.fromEvent=!1,this.isAnalyzeById=!1,this.maxWeight=0,this.parameter=new UX,rQ.extend(this,t),this.CLASS_NAME="SuperMap.FindClosestFacilitiesParameters"}return Bh(e,[{key:"destroy",value:function(){var e=this;e.event=null,e.expectFacilityCount=null,e.facilities=null,e.fromEvent=null,e.isAnalyzeById=null,e.maxWeight=null,e.parameter&&(e.parameter.destroy(),e.parameter=null)}}]),e}();WW.FindClosestFacilitiesParameters=bK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var SK=function(e){function t(e,n){var r;return Gh(this,t),r=Hh(this,Yh(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FindClosestFacilitiesService",r}return Qh(t,e),Vh(t,[{key:"destroy",value:function(){qh(Yh(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof bK){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"closestfacility":"/closestfacility")+".json?",t={expectFacilityCount:e.expectFacilityCount,fromEvent:e.fromEvent,maxWeight:e.maxWeight,parameter:rQ.toJSON(e.parameter),event:rQ.toJSON(e.event),facilities:n.getJson(e.isAnalyzeById,e.facilities)},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJson",value:function(e,t){var n="[",r=t?t.length:0;if(!1===e)for(var i=0;i<r;i++)i>0&&(n+=","),n+='{"x":'+t[i].x+',"y":'+t[i].y+"}";else if(!0===e)for(var o=0;o<r;o++)o>0&&(n+=","),n+=t[o];return n+="]"}},{key:"toGeoJSONResult",value:function(e){if(!e||!e.facilityPathList)return e;var t=new MQ;return e.facilityPathList.map(function(e){return e.route&&(e.route=t.toGeoJSON(e.route)),e.pathGuideItems&&(e.pathGuideItems=t.toGeoJSON(e.pathGuideItems)),e.edgeFeatures&&(e.edgeFeatures=t.toGeoJSON(e.edgeFeatures)),e.nodeFeatures&&(e.nodeFeatures=t.toGeoJSON(e.nodeFeatures)),e}),e}}]),t}(MX);WW.FindClosestFacilitiesService=SK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var _K=function(){function e(t){Kh(this,e),this.expectedSupplyCenterCount=null,this.isFromCenter=!1,this.supplyCenters=null,this.turnWeightField=null,this.weightName=null,rQ.extend(this,t),this.CLASS_NAME="SuperMap.FindLocationParameters"}return $h(e,[{key:"destroy",value:function(){var e=this;if(e.expectedSupplyCenterCount=null,e.isFromCenter=null,e.turnWeightField=null,e.weightName=null,e.supplyCenters){for(var t=0,n=e.supplyCenters,r=n.length;t<r;t++)n[t].destroy();e.supplyCenters=null}}}]),e}();WW.FindLocationParameters=_K;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var wK=function(e){function t(e,n){var r;return tp(this,t),r=ip(this,lp(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FindLocationService",r}return up(t,e),rp(t,[{key:"destroy",value:function(){ap(lp(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof _K){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"location":"/location")+".json?",t={isFromCenter:e.isFromCenter,expectedSupplyCenterCount:e.expectedSupplyCenterCount,weightName:e.weightName,turnWeightField:e.turnWeightField,returnEdgeFeature:!0,returnEdgeGeometry:!0,returnNodeFeature:!0,mapParameter:rQ.toJSON(e.mapParameter),supplyCenters:n.getCentersJson(e.supplyCenters)},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getCentersJson",value:function(e){for(var t="[",n=e?e.length:0,r=0;r<n;r++)r>0&&(t+=","),t+=rQ.toJSON(e[r]);return t+="]"}},{key:"toGeoJSONResult",value:function(e){if(!e)return null;var t=new MQ;return e.demandResults&&(e.demandResults=t.toGeoJSON(e.demandResults)),e.supplyResults&&(e.supplyResults=t.toGeoJSON(e.supplyResults)),e}}]),t}(MX);WW.FindLocationService=wK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var OK=function(){function e(t){fp(this,e),this.centers=null,this.hasLeastTotalCost=!1,this.isAnalyzeById=!1,this.nodes=null,this.parameter=new UX,rQ.extend(this,t),this.CLASS_NAME="SuperMap.FindMTSPPathsParameters"}return pp(e,[{key:"destroy",value:function(){var e=this;e.centers=null,e.hasLeastTotalCost=null,e.isAnalyzeById=null,e.nodes=null,e.maxWeight=null,e.parameter&&(e.parameter.destroy(),e.parameter=null)}}]),e}();WW.FindMTSPPathsParameters=OK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var xK=function(e){function t(e,n){var r;return dp(this,t),r=gp(this,wp(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FindMTSPPathsService",r}return Op(t,e),vp(t,[{key:"destroy",value:function(){Sp(wp(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof OK){var t,n=this,r=n.getJson(e.isAnalyzeById,e.centers),i=n.getJson(e.isAnalyzeById,e.nodes);n.url=n.url+"/mtsppath.json?",t={centers:r,nodes:i,parameter:rQ.toJSON(e.parameter),hasLeastTotalCost:e.hasLeastTotalCost},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJson",value:function(e,t){var n="[",r=t?t.length:0;if(!1===e)for(var i=0;i<r;i++)i>0&&(n+=","),n+='{"x":'+t[i].x+',"y":'+t[i].y+"}";else if(!0===e)for(var o=0;o<r;o++)o>0&&(n+=","),n+=t[o];return n+="]"}},{key:"toGeoJSONResult",value:function(e){if(!e||!e.pathList)return null;var t=new MQ;return e.pathList.map(function(e){return e.route&&(e.route=t.toGeoJSON(e.route)),e.pathGuideItems&&(e.pathGuideItems=t.toGeoJSON(e.pathGuideItems)),e.edgeFeatures&&(e.edgeFeatures=t.toGeoJSON(e.edgeFeatures)),e.nodeFeatures&&(e.nodeFeatures=t.toGeoJSON(e.nodeFeatures)),e}),e}}]),t}(MX);WW.FindMTSPPathsService=xK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var CK=function(){function e(t){Cp(this,e),this.isAnalyzeById=!1,this.hasLeastEdgeCount=null,this.nodes=null,this.parameter=new UX,rQ.extend(this,t),this.CLASS_NAME="SuperMap.FindPathParameters"}return Pp(e,[{key:"destroy",value:function(){var e=this;e.isAnalyzeById=null,e.hasLeastEdgeCount=null,e.nodes=null,e.parameter&&(e.parameter.destroy(),e.parameter=null)}}]),e}();WW.FindPathParameters=CK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var TK=function(e){function t(e,n){var r;return kp(this,t),r=Lp(this,Ip(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FindPathService",r}return Dp(t,e),Ap(t,[{key:"destroy",value:function(){Rp(Ip(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof CK){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"path":"/path")+".json?",t={hasLeastEdgeCount:e.hasLeastEdgeCount,parameter:rQ.toJSON(e.parameter),nodes:n.getJson(e.isAnalyzeById,e.nodes)},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJson",value:function(e,t){var n="[",r=t?t.length:0;if(!1===e)for(var i=0;i<r;i++)i>0&&(n+=","),n+='{"x":'+t[i].x+',"y":'+t[i].y+"}";else if(!0===e)for(var o=0;o<r;o++)o>0&&(n+=","),n+=t[o];return n+="]"}},{key:"toGeoJSONResult",value:function(e){if(!e||!e.pathList||e.pathList.length<1)return null;var t=new MQ;return e.pathList.forEach(function(e){e.route&&(e.route=t.toGeoJSON(e.route)),e.pathGuideItems&&(e.pathGuideItems=t.toGeoJSON(e.pathGuideItems)),e.edgeFeatures&&(e.edgeFeatures=t.toGeoJSON(e.edgeFeatures)),e.nodeFeatures&&(e.nodeFeatures=t.toGeoJSON(e.nodeFeatures))}),e}}]),t}(MX);WW.FindPathService=TK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var PK=function(){function e(t){Bp(this,e),this.isAnalyzeById=!1,this.isCenterMutuallyExclusive=!1,this.centers=null,this.isFromCenter=!1,this.weights=null,this.parameter=new UX,rQ.extend(this,t),this.CLASS_NAME="SuperMap.FindServiceAreasParameters"}return Gp(e,[{key:"destroy",value:function(){var e=this;e.isAnalyzeById=null,e.isCenterMutuallyExclusive=null,e.centers=null,e.isFromCenter=null,e.weights=null,e.parameter&&(e.parameter.destroy(),e.parameter=null)}}]),e}();WW.FindServiceAreasParameters=PK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var EK=function(e){function t(e,n){var r;return Vp(this,t),r=qp(this,Xp(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FindServiceAreasService",r}return Kp(t,e),Jp(t,[{key:"destroy",value:function(){Yp(Xp(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof PK){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"servicearea":"/servicearea")+".json?",t={isFromCenter:e.isFromCenter,isCenterMutuallyExclusive:e.isCenterMutuallyExclusive,parameter:rQ.toJSON(e.parameter),centers:n.getJson(e.isAnalyzeById,e.centers),weights:n.getJson(!0,e.weights)},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJson",value:function(e,t){var n="[",r=t?t.length:0;if(!1===e)for(var i=0;i<r;i++)i>0&&(n+=","),n+='{"x":'+t[i].x+',"y":'+t[i].y+"}";else if(!0===e)for(var o=0;o<r;o++)o>0&&(n+=","),n+=t[o];return n+="]"}},{key:"toGeoJSONResult",value:function(e){if(!e||!e.serviceAreaList)return e;var t=new MQ;return e.serviceAreaList.map(function(e){return e.serviceRegion&&(e.serviceRegion=t.toGeoJSON(e.serviceRegion)),e.edgeFeatures&&(e.edgeFeatures=t.toGeoJSON(e.edgeFeatures)),e.nodeFeatures&&(e.nodeFeatures=t.toGeoJSON(e.nodeFeatures)),e.routes&&(e.routes=t.toGeoJSON(e.routes)),e}),e}}]),t}(MX);WW.FindServiceAreasService=EK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var kK=function(){function e(t){$p(this,e),this.endNodeAssigned=!1,this.isAnalyzeById=!1,this.nodes=null,this.parameter=new UX,rQ.extend(this,t),this.CLASS_NAME="SuperMap.FindTSPPathsParameters"}return ty(e,[{key:"destroy",value:function(){var e=this;e.endNodeAssigned=null,e.isAnalyzeById=null,e.nodes=null,e.parameter&&(e.parameter.destroy(),e.parameter=null)}}]),e}();WW.FindTSPPathsParameters=kK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var MK=function(e){function t(e,n){var r;return ry(this,t),r=ay(this,cy(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FindTSPPathsService",r}return fy(t,e),oy(t,[{key:"destroy",value:function(){ly(cy(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof kK){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"tsppath":"/tsppath")+".json?",t={parameter:WW.Util.toJSON(e.parameter),endNodeAssigned:e.endNodeAssigned,nodes:n.getNodesJson(e)},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getNodesJson",value:function(e){var t,n,r,i,o="";if(!1===e.isAnalyzeById){for(t="[",n=0,i=e.nodes,r=i.length;n<r;n++)n>0&&(t+=","),t+='{"x":'+i[n].x+',"y":'+i[n].y+"}";t+="]",o+=t}else if(!0===e.isAnalyzeById){for(var a="[",s=e.nodes,l=s.length,u=0;u<l;u++)u>0&&(a+=","),a+=s[u];a+="]",o+=a}return o}},{key:"toGeoJSONResult",value:function(e){if(!e||!e.tspPathList)return null;var t=new MQ;return e.tspPathList.forEach(function(e){e.route&&(e.route=t.toGeoJSON(e.route)),e.pathGuideItems&&(e.pathGuideItems=t.toGeoJSON(e.pathGuideItems)),e.edgeFeatures&&(e.edgeFeatures=t.toGeoJSON(e.edgeFeatures)),e.nodeFeatures&&(e.nodeFeatures=t.toGeoJSON(e.nodeFeatures))}),e}}]),t}(MX);WW.FindTSPPathsService=MK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var AK=function(){function e(t){py(this,e),this.routeTable=null,this.routeIDField=null,this.attributeFilter=null,this.eventTable=null,this.eventRouteIDField=null,this.measureField=null,this.measureStartField=null,this.measureEndField=null,this.measureOffsetField=null,this.errorInfoField=null,this.retainedFields=null,this.dataReturnOption=null,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.GenerateSpatialDataParameters"}return dy(e,[{key:"destroy",value:function(){var e=this;e.routeTable&&(e.routeTable=null),e.routeIDField=null,e.attributeFilter=null,e.eventTable=null,e.eventRouteIDField=null,e.measureField=null,e.measureStartField=null,e.measureEndField=null,e.measureOffsetField=null,e.errorInfoField=null,e.dataReturnOption&&(e.dataReturnOption.destroy(),e.dataReturnOption=null)}}]),e}();WW.GenerateSpatialDataParameters=AK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var LK=function(e){function t(e,n){var r;return vy(this,t),r=Sy(this,xy(t).call(this,e,n)),r.CLASS_NAME="SuperMap.GenerateSpatialDataService",r}return Cy(t,e),by(t,[{key:"destroy",value:function(){wy(xy(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof AK){var t,n=this;t=n.getJsonParameters(e),n.request({method:"POST",data:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJsonParameters",value:function(e){var t,n="datasets/"+e.routeTable+"/linearreferencing/generatespatialdata",r=this;return t=r.url.substr(r.url.length-1,1),r.url+="/"===t?n+".json":"/"+n+".json",r.url+="?returnContent=true",rQ.toJSON(e)}}]),t}(fX);WW.GenerateSpatialDataService=LK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var jK=function(e){function t(e){var n;return Ey(this,t),n=Ay(this,Ny(t).call(this,e)),n.bounds=null,n.queryType=QY.GEO_BOUNDING_BOX,n.CLASS_NAME="SuperMap.GeoBoundingBoxQueryBuilderParameter",rQ.extend(Ly(n),e),n}return Iy(t,e),My(t,[{key:"destroy",value:function(){jy(Ny(t.prototype),"destroy",this).call(this),this.bounds=null,this.queryType=null}}]),t}(lX);WW.GeoBoundingBoxQueryBuilderParameter=jK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var RK=function(e){function t(e){var n;return By(this,t),n=zy(this,qy(t).call(this,e)),n.precision=5,n.aggType=YY.GEOHASH_GRID,rQ.extend(Vy(n),e),n.CLASS_NAME="SuperMap.GeoHashGridAggParameter",n}return Wy(t,e),Gy(t,[{key:"destroy",value:function(){Hy(qy(t.prototype),"destroy",this).call(this),this.aggType=null}}],[{key:"toJsonParameters",value:function(e){var t={aggName:e.aggName,aggFieldName:e.aggFieldName,aggType:e.aggType,precision:e.precision};return e.subAgg&&(t.subAgg=e.subAgg),rQ.toJson(t)}}]),t}(uX);WW.GeoHashGridAggParameter=RK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var NK=function(e){function t(e){var n;return Xy(this,t),n=$y(this,rd(t).call(this,e)),e&&e.operateGeometry&&(n.operateGeometry=e.operateGeometry),e&&e.sourceGeometry&&(n.sourceGeometry=e.sourceGeometry),e&&e.operateGeometries&&(n.operateGeometries=e.operateGeometries),e&&e.sourceGeometries&&(n.sourceGeometries=e.sourceGeometries),e&&rQ.extend(ed(n),e),n.CLASS_NAME="SuperMap.GeometryOverlayAnalystParameters",n}return id(t,e),Zy(t,[{key:"destroy",value:function(){td(rd(t.prototype),"destroy",this).call(this);var e=this;e.sourceGeometry&&(e.sourceGeometry.destroy(),e.sourceGeometry=null),e.sourceGeometries&&(e.sourceGeometries.destroy(),e.sourceGeometries=null),e.sourceGeometry&&(e.sourceGeometry.destroy(),e.sourceGeometry=null),e.operateGeometries&&(e.operateGeometries.destroy(),e.operateGeometries=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)if("sourceGeometry"===n)t.sourceGeometry=kQ.fromGeometry(e.sourceGeometry);else if("sourceGeometries"===n){for(var r=[],i=0;i<e.sourceGeometries.length;i++)r.push(kQ.fromGeometry(e.sourceGeometries[i]));t.sourceGeometries=r}else if("operateGeometry"===n)t.operateGeometry=kQ.fromGeometry(e.operateGeometry);else if("operateGeometries"===n){for(var o=[],a=0;a<e.operateGeometries.length;a++)o.push(kQ.fromGeometry(e.operateGeometries[a]));t.operateGeometries=o}else t[n]=e[n]}}]),t}(JX);WW.GeometryOverlayAnalystParameters=NK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var IK=function(e){function t(e){var n;return sd(this,t),n=cd(this,yd(t).call(this,e)),n.points=null,n.zValues=null,e&&rQ.extend(fd(n),e),n.CLASS_NAME="SuperMap.GeometrySurfaceAnalystParameters",n}return dd(t,e),ud(t,[{key:"destroy",value:function(){hd(yd(t.prototype),"destroy",this).call(this);var e=this;if(e.points){for(var n=0,r=e.points,i=r.length;n<i;n++)r[n].destroy();e.points=null}e.zValues=null}}]),t}(YX);WW.GeometrySurfaceAnalystParameters=IK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var DK=function(e){function t(e){var n;return gd(this,t),n=_d(this,Cd(t).call(this,e)),n.points=null,e&&rQ.extend(wd(n),e),n.CLASS_NAME="SuperMap.GeometryThiessenAnalystParameters",n}return Td(t,e),Sd(t,[{key:"destroy",value:function(){Od(Cd(t.prototype),"destroy",this).call(this);var e=this;if(e.points){for(var n=e.points.length-1;n>=0;n--)e.points[n].destroy();e.points=null}}}],[{key:"toObject",value:function(e,t){for(var n in e)"clipRegion"===n?t.clipRegion=kQ.fromGeometry(e.clipRegion):t[n]=e[n]}}]),t}(XX);WW.GeometryThiessenAnalystParameters=DK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var FK=function(){function e(t){Ed(this,e),this.dataset=null,this.sourceFilter=null,this.referenceFilter=null,this.spatialRelationType=null,this.isBorderInside=null,this.returnFeature=null,this.returnGeoRelatedOnly=null,this.startRecord=0,this.expectCount=500,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.GeoRelationAnalystParameters"}return Md(e,[{key:"destroy",value:function(){var e=this;e.sourceFilter&&e.sourceFilter.destroy(),e.sourceFilter=null,e.referenceFilter&&e.referenceFilter.destroy(),e.referenceFilter=null,e.dataset=null,e.spatialRelationType=null,e.isBorderInside=null,e.returnFeature=null,e.returnGeoRelatedOnly=null,e.startRecord=null,e.expectCount=null}}]),e}();WW.GeoRelationAnalystParameters=FK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var BK=function(e){function t(e,n){var r;return Ld(this,t),r=Nd(this,Bd(t).call(this,e,n)),r.CLASS_NAME="SuperMap.GeoRelationAnalystService",r}return Ud(t,e),Rd(t,[{key:"destroy",value:function(){Dd(Bd(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof FK){var t=this,n=t.url.substr(t.url.length-1,1);t.url+="/"===n?"datasets/"+e.dataset+"/georelation":"/datasets/"+e.dataset+"/georelation";var r=WW.Util.toJSON(e);t.url+=".json?returnContent=true",t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}]),t}(fX);WW.GeoRelationAnalystService=BK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var UK=function(){function e(t){zd(this,e),this.datasetNames=null,this.targetEpsgCode=null,this.targetPrj=null,this.returnContent=!0,this.fromIndex=0,this.toIndex=19,this.returnCountOnly=!1,this.maxFeatures=null,this.aggregations=null,rQ.extend(this,t),this.CLASS_NAME="SuperMap.GetFeaturesParametersBase"}return Hd(e,[{key:"destroy",value:function(){var e=this;e.datasetNames=null,e.returnContent=null,e.fromIndex=null,e.toIndex=null,e.maxFeatures=null,e.targetEpsgCode=null,e.targetPrj=null,e.aggregation&&(e.aggregation=null)}}]),e}();WW.GetFeaturesParametersBase=UK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var GK=function(e){function t(e){var n;return qd(this,t),n=Qd(this,$d(t).call(this,e)),n.getFeatureMode=t.getFeatureMode.BOUNDS,n.bounds=null,n.fields=null,n.attributeFilter=null,n.spatialQueryMode=$W.CONTAIN,rQ.extend(Xd(n),e),n.CLASS_NAME="SuperMap.GetFeaturesByBoundsParameters",n}return em(t,e),Yd(t,[{key:"destroy",value:function(){Kd($d(t.prototype),"destroy",this).call(this);var e=this;if(e.bounds&&(e.bounds.destroy(),e.bounds=null),e.fields){for(;e.fields.length>0;)e.fields.pop();e.fields=null}e.attributeFilter=null,e.spatialQueryMode=null,e.getFeatureMode=null}}],[{key:"toJsonParameters",value:function(e){var n,r,i;return r={leftBottom:{x:e.bounds.left,y:e.bounds.bottom},rightTop:{x:e.bounds.right,y:e.bounds.top}},i={datasetNames:e.datasetNames,getFeatureMode:t.getFeatureMode.BOUNDS,bounds:r,spatialQueryMode:e.spatialQueryMode},e.fields&&(n=new SX,n.name=e.datasetNames,n.fields=e.fields,i.queryParameter=n),e.attributeFilter&&(i.attributeFilter=e.attributeFilter,i.getFeatureMode=t.getFeatureMode.BOUNDS_ATTRIBUTEFILTER),e.maxFeatures&&!isNaN(e.maxFeatures)&&(i.maxFeatures=e.maxFeatures),e.targetEpsgCode&&(i.targetEpsgCode=e.targetEpsgCode),!e.targetEpsgCode&&e.targetPrj&&(i.targetPrj=e.targetPrj),rQ.toJSON(i)}}]),t}(UK);GK.getFeatureMode={BOUNDS:"BOUNDS",BOUNDS_ATTRIBUTEFILTER:"BOUNDS_ATTRIBUTEFILTER"},WW.GetFeaturesByBoundsParameters=GK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var zK=function(e){function t(e,n){var r;rm(this,t),r=am(this,cm(t).call(this,e,n)),n=n||{},r.returnContent=!0,r.fromIndex=0,r.toIndex=19,r.maxFeatures=null,r.format=YW.GEOJSON,rQ.extend(sm(r),n);var i,o=sm(r);return n.format&&(o.format=n.format.toUpperCase()),i=o.url.substr(o.url.length-1,1),o.url+="/"==i?"featureResults.json?":"/featureResults.json?",r.CLASS_NAME="SuperMap.GetFeaturesServiceBase",r}return fm(t,e),om(t,[{key:"destroy",value:function(){lm(cm(t.prototype),"destroy",this).call(this);var e=this;e.returnContent=null,e.fromIndex=null,e.toIndex=null,e.maxFeatures=null,e.format=null}},{key:"processAsync",value:function(e){if(e){var t=this,n=null,r=!0;t.returnContent=e.returnContent,t.fromIndex=e.fromIndex,t.toIndex=e.toIndex,t.maxFeatures=e.maxFeatures,t.returnContent&&(t.url+="returnContent="+t.returnContent,r=!1);null!=t.fromIndex&&null!=t.toIndex&&!isNaN(t.fromIndex)&&!isNaN(t.toIndex)&&t.fromIndex>=0&&t.toIndex>=0&&!r&&(t.url+="&fromIndex="+t.fromIndex+"&toIndex="+t.toIndex),e.returnCountOnly&&(t.url+="&returnCountOnly="+e.returnContent),n=t.getJsonParameters(e),t.request({method:"POST",data:n,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}},{key:"serviceProcessCompleted",value:function(e){var t=this;if(e=rQ.transformResult(e),t.format===YW.GEOJSON&&e.features){var n=new MQ;e.features=n.toGeoJSON(e.features)}t.events.triggerEvent("processCompleted",{result:e})}}]),t}(iX);WW.GetFeaturesServiceBase=zK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var VK=function(e){function t(e,n){var r;return ym(this,t),r=vm(this,_m(t).call(this,e,n)),r.CLASS_NAME="SuperMap.GetFeaturesByBoundsService",r}return wm(t,e),mm(t,[{key:"destroy",value:function(){bm(_m(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){return GK.toJsonParameters(e)}}]),t}(zK);WW.GetFeaturesByBoundsService=VK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var HK=function(e){function t(e){var n;return Cm(this,t),n=Em(this,Lm(t).call(this,e)),n.bufferDistance=null,n.attributeFilter=null,n.geometry=null,n.fields=null,rQ.extend(km(n),e),n.CLASS_NAME="SuperMap.GetFeaturesByBufferParameters",n}return jm(t,e),Pm(t,[{key:"destroy",value:function(){Mm(Lm(t.prototype),"destroy",this).call(this);var e=this;if(e.bufferDistance=null,e.attributeFilter=null,e.fields){for(;e.fields.length>0;)e.fields.pop();e.fields=null}e.geometry&&(e.geometry.destroy(),e.geometry=null)}}],[{key:"toJsonParameters",value:function(e){var t,n,r;return r=kQ.fromGeometry(e.geometry),n={datasetNames:e.datasetNames,getFeatureMode:"BUFFER",bufferDistance:e.bufferDistance,geometry:r},e.fields&&(t=new SX,t.name=e.datasetNames,t.fields=e.fields,n.queryParameter=t),e.attributeFilter&&(n.attributeFilter=e.attributeFilter,n.getFeatureMode="BUFFER_ATTRIBUTEFILTER"),e.maxFeatures&&!isNaN(e.maxFeatures)&&(n.maxFeatures=e.maxFeatures),e.targetEpsgCode&&(n.targetEpsgCode=e.targetEpsgCode),!e.targetEpsgCode&&e.targetPrj&&(n.targetPrj=e.targetPrj),rQ.toJSON(n)}}]),t}(UK);WW.GetFeaturesByBufferParameters=HK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var JK=function(e){function t(e,n){var r;return Im(this,t),r=Bm(this,Vm(t).call(this,e,n)),r.CLASS_NAME="SuperMap.GetFeaturesByBufferService",r}return Hm(t,e),Fm(t,[{key:"destroy",value:function(){Gm(Vm(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){if(e instanceof HK)return WW.GetFeaturesByBufferParameters.toJsonParameters(e)}}]),t}(zK);WW.GetFeaturesByBufferService=JK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var qK=function(e){function t(e){var n;return Wm(this,t),n=Xm(this,ev(t).call(this,e)),n.getFeatureMode="SPATIAL",n.geometry=null,n.fields=null,n.attributeFilter=null,n.spatialQueryMode=$W.CONTAIN,rQ.extend(Km(n),e),n.CLASS_NAME="SuperMap.GetFeaturesByGeometryParameters",n}return tv(t,e),Qm(t,[{key:"destroy",value:function(){Zm(ev(t.prototype),"destroy",this).call(this);var e=this;if(e.geometry&&(e.geometry.destroy(),e.geometry=null),e.fields){for(;e.fields.length>0;)e.fields.pop();e.fields=null}e.attributeFilter=null,e.spatialQueryMode=null,e.getFeatureMode=null}}],[{key:"toJsonParameters",value:function(e){var t,n,r;return n=kQ.fromGeometry(e.geometry),r={datasetNames:e.datasetNames,getFeatureMode:"SPATIAL",geometry:n,spatialQueryMode:e.spatialQueryMode},e.fields&&(t=new SX,t.name=e.datasetNames,t.fields=e.fields,r.queryParameter=t),e.attributeFilter&&(r.attributeFilter=e.attributeFilter,r.getFeatureMode="SPATIAL_ATTRIBUTEFILTER"),e.maxFeatures&&!isNaN(e.maxFeatures)&&(r.maxFeatures=e.maxFeatures),e.targetEpsgCode&&(r.targetEpsgCode=e.targetEpsgCode),!e.targetEpsgCode&&e.targetPrj&&(r.targetPrj=e.targetPrj),rQ.toJSON(r)}}]),t}(UK);WW.GetFeaturesByGeometryParameters=qK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var WK=function(e){function t(e,n){var r;return iv(this,t),r=sv(this,fv(t).call(this,e,n)),r.CLASS_NAME="SuperMap.GetFeaturesByGeometryService",r}return hv(t,e),av(t,[{key:"destroy",value:function(){uv(fv(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){return qK.toJsonParameters(e)}}]),t}(zK);WW.GetFeaturesByGeometryService=WK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var YK=function(e){function t(e){var n;return dv(this,t),n=gv(this,wv(t).call(this,e)),n.getFeatureMode="ID",n.IDs=null,n.fields=null,rQ.extend(bv(n),e),n.CLASS_NAME="SuperMap.GetFeaturesByIDsParameters",n}return Ov(t,e),vv(t,[{key:"destroy",value:function(){Sv(wv(t.prototype),"destroy",this).call(this);var e=this;if(e.IDs=null,e.getFeatureMode=null,e.fields){for(;e.fields.length>0;)e.fields.pop();e.fields=null}}}],[{key:"toJsonParameters",value:function(e){var t,n;return t={datasetNames:e.datasetNames,getFeatureMode:"ID",ids:e.IDs},e.fields&&(n=new SX,n.name=e.datasetNames,n.fields=e.fields,t.queryParameter=n),e.targetEpsgCode&&(t.targetEpsgCode=e.targetEpsgCode),!e.targetEpsgCode&&e.targetPrj&&(t.targetPrj=e.targetPrj),rQ.toJSON(t)}}]),t}(UK);WW.GetFeaturesByIDsParameters=YK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var QK=function(e){function t(e,n){var r;return Tv(this,t),r=kv(this,jv(t).call(this,e,n)),r.CLASS_NAME="SuperMap.GetFeaturesByIDsService",r}return Rv(t,e),Ev(t,[{key:"destroy",value:function(){Av(jv(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){return YK.toJsonParameters(e)}}]),t}(zK);WW.GetFeaturesByIDsService=QK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var XK=function(e){function t(e){var n;return Dv(this,t),n=Uv(this,Hv(t).call(this,e)),n.getFeatureMode="SQL",n.queryParameter=null,rQ.extend(Gv(n),e),n.CLASS_NAME="SuperMap.GetFeaturesBySQLParameters",n}return Jv(t,e),Bv(t,[{key:"destroy",value:function(){zv(Hv(t.prototype),"destroy",this).call(this);var e=this;e.getFeatureMode=null,e.queryParameter&&(e.queryParameter.destroy(),e.queryParameter=null)}}],[{key:"toJsonParameters",value:function(e){var t={datasetNames:e.datasetNames,getFeatureMode:"SQL",queryParameter:e.queryParameter};return e.maxFeatures&&!isNaN(e.maxFeatures)&&(t.maxFeatures=e.maxFeatures),e.aggregations&&(t.aggregations=e.aggregations),e.targetEpsgCode&&(t.targetEpsgCode=e.targetEpsgCode),!e.targetEpsgCode&&e.targetPrj&&(t.targetPrj=e.targetPrj),rQ.toJSON(t)}}]),t}(UK);WW.GetFeaturesBySQLParameters=XK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var KK=function(e){function t(e,n){var r;return Yv(this,t),r=Kv(this,tg(t).call(this,e,n)),r.CLASS_NAME="SuperMap.GetFeaturesBySQLService",r}return ng(t,e),Xv(t,[{key:"destroy",value:function(){$v(tg(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){return XK.toJsonParameters(e)}}]),t}(zK);WW.GetFeaturesBySQLService=KK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var ZK=function(e){function t(e,n){var r;return og(this,t),r=lg(this,hg(t).call(this,e,n)),r.datasource=null,r.dataset=null,n&&rQ.extend(ug(r),n),r.CLASS_NAME="SuperMap.GetFieldsService",r}return pg(t,e),sg(t,[{key:"destroy",value:function(){cg(hg(t.prototype),"destroy",this).call(this);var e=this;e.datasource=null,e.dataset=null}},{key:"processAsync",value:function(){var e=this,t=e.url.substr(e.url.length-1,1),n="datasources/"+e.datasource+"/datasets/"+e.dataset;e.url+="/"==t?n+"/fields.json?":"/"+n+"/fields.json?",e.request({method:"GET",data:null,scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}}]),t}(iX);WW.GetFieldsService=ZK;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var $K=function(){function e(t){dg(this,e),this.datasetName=null,this.dataSourceName=null,this.X=null,this.Y=null,rQ.extend(this,t),this.CLASS_NAME="SuperMap.GetGridCellInfosParameters"}return vg(e,[{key:"destroy",value:function(){var e=this;e.datasetName=null,e.dataSourceName=null,e.X=null,e.Y=null}}]),e}();WW.GetGridCellInfosParameters=$K;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var eZ=function(e){function t(e,n){var r;return bg(this,t),r=wg(this,Tg(t).call(this,e,n)),r.datasetName=null,r.dataSourceName=null,r.datasetType=null,r.X=null,r.Y=null,n&&rQ.extend(Og(r),n),r.CLASS_NAME="SuperMap.GetGridCellInfosService",r}return Pg(t,e),_g(t,[{key:"destroy",value:function(){xg(Tg(t.prototype),"destroy",this).call(this);var e=this;e.X=null,e.Y=null,e.datasetName=null,e.dataSourceName=null,e.datasetType=null}},{key:"processAsync",value:function(e){if(e instanceof $K){rQ.extend(this,e);var t=this,n=t.url.substr(t.url.length-1,1);t.url+="/"==n?"datasources/"+t.dataSourceName+"/datasets/"+t.datasetName+".json":"/datasources/"+t.dataSourceName+"/datasets/"+t.datasetName+".json",t.queryRequest(t.getDatasetInfoCompleted,t.getDatasetInfoFailed)}}},{key:"queryRequest",value:function(e,t){var n=this;n.request({method:"GET",data:null,scope:n,success:e,failure:t})}},{key:"getDatasetInfoCompleted",value:function(e){var t=this;e=rQ.transformResult(e),t.datasetType=e.datasetInfo.type,t.queryGridInfos()}},{key:"queryGridInfos",value:function(){var e=this,t=/\.json/,n=t.exec(e.url).index,r=e.url.substring(n),i=e.url.substring(0,e.url.length-r.length);"GRID"==e.datasetType?e.url=i+"/gridValue"+r:e.url=i+"/imageValue"+r,null!=e.X&&null!=e.Y&&(e.url+="?x="+e.X+"&y="+e.Y),e.queryRequest(e.serviceProcessCompleted,e.serviceProcessFailed)}},{key:"getDatasetInfoFailed",value:function(e){this.serviceProcessFailed(e)}}]),t}(iX);WW.GetGridCellInfosService=eZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var tZ=function(){function e(t,n){kg(this,e),this.srcData=t,this.targetData=n,this.CLASS_NAME="SuperMap.ThemeMemoryData"}return Ag(e,[{key:"destroy",value:function(){var e=this;e.srcData=null,e.targetData=null}},{key:"toJSON",value:function(){if(this.srcData&&this.targetData){for(var e="",t=Math.min(this.srcData.length,this.targetData.length),n=0;n<t;n++)e+="'"+this.srcData[n]+"':'"+this.targetData[n]+"',";return n>0&&(e=e.substring(0,e.length-1)),"{"+e+"}"}return null}}]),e}();WW.ThemeMemoryData=tZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var nZ=function(){function e(t,n){if(Lg(this,e),!t)return this;this.memoryData=null,this.type=t,n&&rQ.extend(this,n),this.CLASS_NAME="SuperMap.Theme"}return Rg(e,[{key:"destroy",value:function(){var e=this;e.memoryData&&(e.memoryData.destroy(),e.memoryData=null),e.type=null}},{key:"toServerJSONObject",value:function(){}}]),e}();WW.Theme=nZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var rZ=function(){function e(t){Ng(this,e),this.align=hY.BASELINECENTER,this.backColor=new CQ(255,255,255),this.foreColor=new CQ(0,0,0),this.backOpaque=!1,this.sizeFixed=!0,this.fontHeight=6,this.fontWidth=0,this.fontWeight=400,this.fontName="Times New Roman",this.bold=!1,this.italic=!1,this.italicAngle=0,this.shadow=!1,this.strikeout=!1,this.outline=!1,this.opaqueRate=0,this.underline=!1,this.rotation=0,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.ServerTextStyle"}return Dg(e,[{key:"destroy",value:function(){var e=this;e.align=null,e.backColor&&(e.backColor.destroy(),e.backColor=null),e.foreColor&&(e.foreColor.destroy(),e.foreColor=null),e.backOpaque=null,e.sizeFixed=null,e.fontHeight=null,e.fontWidth=null,e.fontWeight=null,e.fontName=null,e.bold=null,e.italic=null,e.italicAngle=null,e.shadow=null,e.strikeout=null,e.outline=null,e.opaqueRate=null,e.underline=null,e.rotation=null}}],[{key:"fromObj",value:function(t){var n=new e(t);return rQ.copy(n,t),n.backColor=CQ.fromJson(t.backColor),n.foreColor=CQ.fromJson(t.foreColor),n}}]),e}();WW.ServerTextStyle=rZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var iZ=function(){function e(t){Fg(this,e),this.caption=null,this.end=0,this.start=0,this.visible=!0,this.style=new rZ,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.ThemeLabelItem"}return Ug(e,[{key:"destroy",value:function(){var e=this;e.caption=null,e.end=null,e.start=null,e.style&&(e.style.destroy(),e.style=null),e.visible=null}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return rQ.copy(n,t),n}}}]),e}();WW.ThemeLabelItem=iZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var oZ=function(){function e(t){Gg(this,e),this.caption=null,this.style=new TQ,this.unique=null,this.visible=!0,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.ThemeUniqueItem"}return Vg(e,[{key:"destroy",value:function(){var e=this;e.caption=null,e.unique=null,e.style&&(e.style.destroy(),e.style=null),e.visible=null}},{key:"toServerJSONObject",value:function(){var e={};return e=rQ.copyAttributes(e,this),e.style&&e.style.toServerJSONObject&&(e.style=e.style.toServerJSONObject()),e}}],[{key:"fromObj",value:function(t){var n=new e;return rQ.copy(n,t),n.style=TQ.fromJson(t.style),n}}]),e}();WW.ThemeUniqueItem=oZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var aZ=function(){function e(t){Hg(this,e),this.flowEnabled=!1,this.leaderLineDisplayed=!1,this.leaderLineStyle=new TQ,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.ThemeFlow"}return qg(e,[{key:"destroy",value:function(){var e=this;e.flowEnabled=null,e.leaderLineDisplayed=null,e.leaderLineStyle&&(e.leaderLineStyle.destroy(),e.leaderLineStyle=null)}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return rQ.copy(n,t),n.leaderLineStyle=TQ.fromJson(t.leaderLineStyle),n}}}]),e}();WW.ThemeFlow=aZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var sZ=function(){function e(t){Wg(this,e),this.offsetFixed=!1,this.offsetX="0.0",this.offsetY="0.0",t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.ThemeOffset"}return Qg(e,[{key:"destroy",value:function(){var e=this;e.offsetFixed=null,e.offsetX=null,e.offsetY=null}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return rQ.copy(n,t),n}}}]),e}();WW.ThemeOffset=sZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var lZ=function(){function e(t){Xg(this,e),this.defaultStyle=null,this.separator=null,this.separatorEnabled=!1,this.splitIndexes=null,this.styles=new rZ,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.LabelMixedTextStyle"}return Zg(e,[{key:"destroy",value:function(){var e=this;if(e.defaultStyle&&(e.defaultStyle.destroy(),e.defaultStyle=null),e.separator=null,e.separatorEnabled=null,e.splitIndexes&&(e.splitIndexes=null),e.styles){for(var t=0,n=e.styles,r=n.length;t<r;t++)n[t].destroy();e.styles=null}}}],[{key:"fromObj",value:function(t){if(t){var n=new e,r=t.styles;if(rQ.copy(n,t),n.defaultStyle=new rZ(t.defaultStyle),r){n.styles=[];for(var i=0,o=r.length;i<o;i++)n.styles.push(new rZ(r[i]))}return n}}}]),e}();WW.LabelMixedTextStyle=lZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var uZ=function(){function e(t){$g(this,e),this.maxTextHeight=0,this.maxTextWidth=0,this.minTextHeight=0,this.minTextWidth=0,this.uniformStyle=new rZ,this.uniformMixedStyle=null,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.ThemeLabelText"}return tb(e,[{key:"destroy",value:function(){var e=this;e.maxTextHeight=null,e.maxTextWidth=null,e.minTextHeight=null,e.minTextWidth=null,e.uniformStyle&&(e.uniformStyle.destroy(),e.uniformStyle=null),e.uniformMixedStyle&&(e.uniformMixedStyle.destroy(),e.uniformMixedStyle=null)}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return rQ.copy(n,t),n.uniformStyle=rZ.fromObj(t.uniformStyle),n.uniformMixedStyle=lZ.fromObj(t.uniformMixedStyle),n}}}]),e}();WW.ThemeLabelText=uZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var cZ=function(){function e(t){nb(this,e),this.isAlongLine=!0,this.alongLineDirection=yY.LB_TO_RT,this.angleFixed=!1,this.repeatedLabelAvoided=!1,this.repeatIntervalFixed=!1,this.labelRepeatInterval=0,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.ThemeLabelAlongLine"}return ib(e,[{key:"destroy",value:function(){var e=this;e.isAlongLine=null,e.alongLineDirection=null,e.angleFixed=null,e.repeatedLabelAvoided=null,e.repeatIntervalFixed=null,e.labelRepeatInterval=null}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return rQ.copy(n,t),n}}}]),e}();WW.ThemeLabelAlongLine=cZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var fZ=function(){function e(t){ob(this,e),this.labelBackShape=dY.NONE,this.backStyle=new TQ,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.ThemeLabelBackground"}return sb(e,[{key:"destroy",value:function(){var e=this;e.labelBackShape=null,e.backStyle&&(e.backStyle.destroy(),e.backStyle=null)}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return n.labelBackShape=t.labelBackShape,n.backStyle=TQ.fromJson(t.backStyle),n}}}]),e}();WW.ThemeLabelBackground=fZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var hZ=function(e){function t(e){var n;return ub(this,t),n=hb(this,mb(t).call(this,"LABEL",e)),n.alongLine=new cZ,n.background=new fZ,n.flow=new aZ,n.items=null,n.uniqueItems=null,n.labelExpression=null,n.labelOverLengthMode=mY.NONE,n.matrixCells=null,n.maxLabelLength=256,n.numericPrecision=0,n.offset=new sZ,n.overlapAvoided=!0,n.rangeExpression=null,n.uniqueExpression=null,n.smallGeometryLabeled=!1,n.text=new uZ,n.textSpace=0,e&&rQ.extend(pb(n),e),n.CLASS_NAME="SuperMap.ThemeLabel",n}return vb(t,e),fb(t,[{key:"destroy",value:function(){yb(mb(t.prototype),"destroy",this).call(this);var e=this;if(e.alongLine=null,e.background&&(e.background.destroy(),e.background=null),e.flow=null,e.items){for(var n=0,r=e.items,i=r.length;n<i;n++)r[n].destroy();e.items=null}if(e.uniqueItems){for(var o=0,a=e.uniqueItems,s=a.length;o<s;o++)a[o].destory();e.uniqueItems=null}e.labelExpression=null,e.labelOverLengthMode=null,e.matrixCells=null,e.maxLabelLength=null,e.numericPrecision=null,e.overlapAvoided=null,e.rangeExpression=null,e.uniqueExpression=null,e.offset&&(e.offset.destroy(),e.offset=null),e.overlapAvoided=null,e.smallGeometryLabeled=null,e.text&&(e.text.destroy(),e.text=null),e.textSpace=null}},{key:"toJSON",value:function(){return rQ.toJSON(this.toServerJSONObject())}},{key:"toServerJSONObject",value:function(){var e={};return e.type=this.type,e.memoryData=this.memoryData,this.alongLine&&(e.alongLine=this.alongLine.isAlongLine,e.alongLineDirection=this.alongLine.alongLineDirection,e.angleFixed=this.alongLine.angleFixed,e.isLabelRepeated=this.alongLine.isLabelRepeated,e.labelRepeatInterval=this.alongLine.labelRepeatInterval,e.repeatedLabelAvoided=this.alongLine.repeatedLabelAvoided,e.repeatIntervalFixed=this.alongLine.repeatIntervalFixed),this.offset&&(e.offsetFixed=this.offset.offsetFixed,e.offsetX=this.offset.offsetX,e.offsetY=this.offset.offsetY),this.flow&&(e.flowEnabled=this.flow.flowEnabled,e.leaderLineDisplayed=this.flow.leaderLineDisplayed,e.leaderLineStyle=this.flow.leaderLineStyle),this.text&&(e.maxTextHeight=this.text.maxTextHeight,e.maxTextWidth=this.text.maxTextWidth,e.minTextHeight=this.text.minTextHeight,e.minTextWidth=this.text.minTextWidth,e.uniformStyle=this.text.uniformStyle,e.uniformMixedStyle=this.text.uniformMixedStyle),this.background&&(e.labelBackShape=this.background.labelBackShape,e.backStyle=this.background.backStyle),e.labelOverLengthMode=this.labelOverLengthMode,e.maxLabelLength=this.maxLabelLength,e.smallGeometryLabeled=this.smallGeometryLabeled,e.rangeExpression=this.rangeExpression,e.uniqueExpression=this.uniqueExpression,e.numericPrecision=this.numericPrecision,e.items=this.items,e.uniqueItems=this.uniqueItems,e.labelExpression=this.labelExpression,e.overlapAvoided=this.overlapAvoided,e.matrixCells=this.matrixCells,e.textSpace=this.textSpace,e}}],[{key:"fromObj",value:function(e){if(e){var n=new t,r=e.items,i=e.uniqueItems,o=e.matrixCells;if(e.matrixCells=null,rQ.copy(n,e),n.alongLine=cZ.fromObj(e),n.background=fZ.fromObj(e),n.flow=new aZ({flowEnabled:e.flowEnabled,leaderLineDisplayed:e.leaderLineDisplayed,leaderLineStyle:e.leaderLineStyle}),r){n.items=[];for(var a=0,s=r.length;a<s;a++)n.items.push(iZ.fromObj(r[a]))}if(i){n.uniqueItems=[];for(var l=0,u=i.length;l<u;l++)n.uniqueItems.push(oZ.fromObj(i[l]))}if(o){n.matrixCells=[];for(var c=0,f=o.length;c<f;c++);}return n.offset=sZ.fromObj(e),n.text=uZ.fromObj(e),n}}}]),t}(nZ);WW.ThemeLabel=hZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var pZ=function(e){function t(e){var n;return Sb(this,t),n=Ob(this,Pb(t).call(this,"UNIQUE",e)),n.defaultStyle=new TQ,n.items=null,n.uniqueExpression=null,n.colorGradientType=fY.YELLOW_RED,e&&rQ.extend(xb(n),e),n.CLASS_NAME="SuperMap.ThemeUnique",n}return Eb(t,e),wb(t,[{key:"destroy",value:function(){Cb(Pb(t.prototype),"destroy",this).call(this);var e=this;if(e.uniqueExpression=null,e.colorGradientType=null,e.items){if(e.items.length>0)for(var n in e.items)e.items[n].destroy(),e.items[n]=null;e.items=null}e.defaultStyle&&(e.defaultStyle.destroy(),e.defaultStyle=null)}},{key:"toServerJSONObject",value:function(){var e={};if(e=rQ.copyAttributes(e,this),e.defaultStyle&&e.defaultStyle.toServerJSONObject&&(e.defaultStyle=e.defaultStyle.toServerJSONObject()),e.items){for(var t=[],n=e.items.length,r=0;r<n;r++)t.push(e.items[r].toServerJSONObject());e.items=t}return e}}],[{key:"fromObj",value:function(e){var n=new t,r=e.items,i=r?r.length:0;rQ.extend(n,e),n.items=[],n.defaultStyle=TQ.fromJson(e.defaultStyle);for(var o=0;o<i;o++)n.items.push(oZ.fromObj(r[o]));return n}}]),t}(nZ);WW.ThemeUnique=pZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var yZ=function(){function e(t){Mb(this,e),this.axesColor=new CQ(0,0,0),this.axesDisplayed=!1,this.axesGridDisplayed=!1,this.axesTextDisplayed=!1,this.axesTextStyle=new rZ,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.ThemeGraphAxes"}return Lb(e,[{key:"destroy",value:function(){var e=this;e.axesColor&&(e.axesColor.destroy(),e.axesColor=null),e.axesDisplayed=null,e.axesGridDisplayed=null,e.axesTextDisplayed=null,e.axesTextStyle&&(e.axesTextStyle.destroy(),e.axesTextStyle=null)}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return rQ.copy(n,t),n.axesColor=CQ.fromJson(t.axesColor),n.axesTextStyle=rZ.fromObj(t.axesTextStyle),n}}}]),e}();WW.ThemeGraphAxes=yZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var dZ=function(){function e(t){jb(this,e),this.maxGraphSize=0,this.minGraphSize=0,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.ThemeGraphSize"}return Nb(e,[{key:"destroy",value:function(){var e=this;e.maxGraphSize=null,e.minGraphSize=null}}],[{key:"fromObj",value:function(t){var n=new e;return rQ.copy(n,t),n}}]),e}();WW.ThemeGraphSize=dZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var mZ=function(){function e(t){Ib(this,e),this.graphTextDisplayed=!1,this.graphTextFormat=oY.CAPTION,this.graphTextStyle=new rZ,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.ThemeGraphText"}return Fb(e,[{key:"destroy",value:function(){var e=this;e.graphTextDisplayed=null,e.graphTextFormat=null,e.graphTextStyle&&(e.graphTextStyle.destroy(),e.graphTextStyle=null)}}],[{key:"fromObj",value:function(t){var n=new e;return rQ.copy(n,t),n.graphTextStyle=rZ.fromObj(t.graphTextStyle),n}}]),e}();WW.ThemeGraphText=mZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var vZ=function(){function e(t){Bb(this,e),this.caption=null,this.graphExpression=null,this.memoryDoubleValues=null,this.uniformStyle=new TQ,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.ThemeGraphItem"}return Gb(e,[{key:"destroy",value:function(){var e=this;e.caption=null,e.graphExpression=null,e.memoryDoubleValues=null,e.uniformStyle=null}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return rQ.copy(n,t),n.uniformStyle=TQ.fromJson(t.uniformStyle),n}}}]),e}();WW.ThemeGraphItem=vZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var gZ=function(e){function t(e){var n;return Vb(this,t),n=qb(this,Xb(t).call(this,"GRAPH",e)),n.barWidth=0,n.flow=new aZ,n.graduatedMode=lY.CONSTANT,n.graphAxes=new yZ,n.graphSize=new dZ,n.graphSizeFixed=!1,n.graphText=new mZ,n.graphType=aY.AREA,n.graphAxesTextDisplayMode=sY.NONE,n.items=null,n.memoryKeys=null,n.negativeDisplayed=!1,n.offset=new sZ,n.overlapAvoided=!0,n.roseAngle=0,n.startAngle=0,e&&rQ.extend(Wb(n),e),n.CLASS_NAME="SuperMap.ThemeGraph",n}return Kb(t,e),Jb(t,[{key:"destroy",value:function(){Yb(Xb(t.prototype),"destroy",this).call(this);var e=this;if(e.barWidth=null,e.flow&&(e.flow.destroy(),e.flow=null),e.graduatedMode=null,e.graphAxes&&(e.graphAxes.destroy(),e.graphAxes=null),e.graphSize&&(e.graphSize.destroy(),e.graphSize=null),e.graphSizeFixed=null,e.graphText&&(e.graphText.destroy(),e.graphText=null),e.graphType=null,e.items){for(var n=0,r=e.items,i=r.length;n<i;n++)r[n].destroy();e.items=null}e.memoryKeys=null,e.negativeDisplayed=null,e.offset&&(e.offset.destroy(),e.offset=null),e.overlapAvoided=null,e.roseAngle=null,e.startAngle=null,e.graphAxesTextDisplayMode=null}},{key:"toJSON",value:function(){return rQ.toJSON(this.toServerJSONObject())}},{key:"toServerJSONObject",value:function(){var e={};return e.type=this.type,this.graphText&&(e.graphTextDisplayed=this.graphText.graphTextDisplayed,e.graphTextFormat=this.graphText.graphTextFormat,e.graphTextStyle=this.graphText.graphTextStyle),this.flow&&(e.flowEnabled=this.flow.flowEnabled,e.leaderLineDisplayed=this.flow.leaderLineDisplayed,e.leaderLineStyle=this.flow.leaderLineStyle),this.graphAxes&&(e.axesColor=this.graphAxes.axesColor,e.axesDisplayed=this.graphAxes.axesDisplayed,e.axesGridDisplayed=this.graphAxes.axesGridDisplayed,e.axesTextDisplayed=this.graphAxes.axesTextDisplayed,e.axesTextStyle=this.graphAxes.axesTextStyle),this.graphSize&&(e.maxGraphSize=this.graphSize.maxGraphSize,e.minGraphSize=this.graphSize.minGraphSize),this.offset&&(e.offsetFixed=this.offset.offsetFixed,e.offsetX=this.offset.offsetX,e.offsetY=this.offset.offsetY),e.barWidth=this.barWidth,e.graduatedMode=this.graduatedMode,e.graphSizeFixed=this.graphSizeFixed,e.graphType=this.graphType,e.graphAxesTextDisplayMode=this.graphAxesTextDisplayMode,e.items=this.items,e.memoryKeys=this.memoryKeys,e.negativeDisplayed=this.negativeDisplayed,e.overlapAvoided=this.overlapAvoided,e.roseAngle=this.roseAngle,e.startAngle=this.startAngle,e}}],[{key:"fromObj",value:function(e){var n=new t,r=e.items,i=r?r.length:0;rQ.copy(n,e),n.items=[],n.flow=aZ.fromObj(e),n.graphAxes=yZ.fromObj(e),n.graphSize=dZ.fromObj(e),n.graphText=mZ.fromObj(e),n.offset=sZ.fromObj(e);for(var o=0;o<i;o++)n.items.push(vZ.fromObj(r[o]));return n}}]),t}(nZ);WW.ThemeGraph=gZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var bZ=function(e){function t(e){var n;return eS(this,t),n=rS(this,iS(t).call(this,"DOTDENSITY",e)),n.dotExpression=null,n.style=new TQ,n.value=null,e&&rQ.extend(oS(n),e),n.CLASS_NAME="SuperMap.ThemeDotDensity",n}return aS(t,e),nS(t,[{key:"destroy",value:function(){var e=this;e.dotExpression=null,e.value=null,e.style&&(e.style.destroy(),e.style=null)}},{key:"toServerJSONObject",value:function(){var e={};return e=rQ.copyAttributes(e,this),e.style&&e.style.toServerJSONObject&&(e.style=e.style.toServerJSONObject()),e}}],[{key:"fromObj",value:function(e){if(e){var n=new t;return rQ.copy(n,e),n.style=TQ.fromJson(e.style),n}}}]),t}(nZ);WW.ThemeDotDensity=bZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var SZ=function(){function e(t){lS(this,e),this.negativeDisplayed=!1,this.negativeStyle=new TQ,this.positiveStyle=new TQ,this.zeroDisplayed=!1,this.zeroStyle=new TQ,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.ThemeGraduatedSymbolStyle"}return cS(e,[{key:"destroy",value:function(){var e=this;e.negativeDisplayed=null,e.negativeStyle=null,e.positiveStyle=null,e.zeroDisplayed=null,e.zeroStyle=null}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return rQ.copy(n,t),n.negativeStyle=TQ.fromJson(t.negativeStyle),n.positiveStyle=TQ.fromJson(t.positiveStyle),n.zeroStyle=TQ.fromJson(t.zeroStyle),n}}}]),e}();WW.ThemeGraduatedSymbolStyle=SZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var _Z=function(e){function t(e){var n;return hS(this,t),n=dS(this,bS(t).call(this,"GRADUATEDSYMBOL",e)),n.baseValue=0,n.expression=null,n.flow=new aZ,n.graduatedMode=WW.GraduatedMode.CONSTAN,n.offset=new sZ,n.style=new SZ,e&&rQ.extend(mS(n),e),n.CLASS_NAME="SuperMap.ThemeGraduatedSymbol",n}return SS(t,e),yS(t,[{key:"destroy",value:function(){vS(bS(t.prototype),"destroy",this).call(this);var e=this;e.expression=null,e.flow&&(e.flow.destroy(),e.flow=null),e.graduatedMode=lY.CONSTANT,e.offset&&(e.offset.destroy(),e.offset=null),e.style&&(e.style.destroy(),e.style=null)}},{key:"toJSON",value:function(){return rQ.toJSON(this.toServerJSONObject())}},{key:"toServerJSONObject",value:function(){var e={};return e.type=this.type,e.memoryData=this.memoryData,e.baseValue=this.baseValue,e.expression=this.expression,e.graduatedMode=this.graduatedMode,this.flow&&(e.flowEnabled=this.flow.flowEnabled,e.leaderLineDisplayed=this.flow.leaderLineDisplayed,e.leaderLineStyle=this.flow.leaderLineStyle),this.offset&&(e.offsetFixed=this.offset.offsetFixed,e.offsetX=this.offset.offsetX,e.offsetY=this.offset.offsetY),this.style&&(e.negativeStyle=this.style.negativeStyle,e.negativeDisplayed=this.style.negativeDisplayed,e.positiveStyle=this.style.positiveStyle,e.zeroDisplayed=this.style.zeroDisplayed,e.zeroStyle=this.style.zeroStyle),e}}],[{key:"fromObj",value:function(e){if(e){var t=new WW.ThemeGraduatedSymbol;return rQ.copy(t,e),t.flow=aZ.fromObj(e),t.offset=sZ.fromObj(e),t.style=SZ.fromObj(e),t}}}]),t}(nZ);WW.ThemeGraduatedSymbol=_Z;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var wZ=function(){function e(t){wS(this,e),this.caption=null,this.end=0,this.start=0,this.style=new TQ,this.visible=!0,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.ThemeRangeItem"}return xS(e,[{key:"destroy",value:function(){var e=this;e.caption=null,e.end=null,e.start=null,e.style&&(e.style.destroy(),e.style=null),e.visible=null}},{key:"toServerJSONObject",value:function(){var e={};return e=rQ.copyAttributes(e,this),e.style&&e.style.toServerJSONObject&&(e.style=e.style.toServerJSONObject()),e}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return rQ.copy(n,t),n.style=TQ.fromJson(t.style),n}}}]),e}();WW.ThemeRangeItem=wZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var OZ=function(e){function t(e){var n;return TS(this,t),n=kS(this,jS(t).call(this,"RANGE",e)),n.precision="1.0E-12",n.items=null,n.rangeExpression=null,n.rangeMode=uY.EQUALINTERVAL,n.rangeParameter=0,n.colorGradientType=fY.YELLOW_RED,e&&rQ.extend(MS(n),e),n.CLASS_NAME="SuperMap.ThemeRange",n}return RS(t,e),ES(t,[{key:"destroy",value:function(){AS(jS(t.prototype),"destroy",this).call(this);var e=this;if(e.items){if(e.items.length>0)for(var n in e.items)e.items[n].destroy(),e.items[n]=null;e.items=null}e.rangeExpression=null,e.rangeMode=null,e.rangeParameter=null,e.colorGradientType=null}}],[{key:"fromObj",value:function(e){if(e){var n=new t;rQ.copy(n,e);var r=e.items,i=r?r.length:0;n.items=[];for(var o=0;o<i;o++)n.items.push(wZ.fromObj(r[o]));return n}}}]),t}(nZ);WW.ThemeRange=OZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var xZ=function(){function e(t){IS(this,e),t=t||{},this.bounds=null,this.caption=null,this.description=null,this.name=null,this.queryable=null,this.subLayers=null,this.type=null,this.visible=null,rQ.extend(this,t),this.CLASS_NAME="SuperMap.UGCLayer"}return FS(e,[{key:"destroy",value:function(){var e=this;rQ.reset(e)}},{key:"fromJson",value:function(e){e=e||{},rQ.extend(this,e);var t=this.bounds;t&&(this.bounds=new oQ(t.leftBottom.x,t.leftBottom.y,t.rightTop.x,t.rightTop.y))}},{key:"toServerJSONObject",value:function(){var e={};return e=rQ.copyAttributes(e,this),e.bounds&&e.bounds.toServerJSONObject&&(e.bounds=e.bounds.toServerJSONObject()),e}}]),e}();WW.UGCLayer=xZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var CZ=function(){function e(t){BS(this,e),t=t||{},this.allowPointOverlap=!0,this.allowPointWithTextDisplay=!0,this.allowTextOverlap=!1,this.allowTextAndPointOverlap=!0,this.allowThemeGraduatedSymbolOverlap=!1,this.allowThemeGraphOverlap=!1,this.horizontalOverlappedSpaceSize=0,this.verticalOverlappedSpaceSize=0,rQ.extend(this,t),this.ugcLayer=new xZ(t),this.CLASS_NAME="SuperMap.OverlapDisplayedOptions"}return GS(e,[{key:"destroy",value:function(){rQ.reset(this)}},{key:"fromJson",value:function(e){this.ugcLayer.fromJson.apply(this,[e])}},{key:"toServerJSONObject",value:function(){return this.ugcLayer.toServerJSONObject.apply(this,arguments)}},{key:"toString",value:function(){var e=this.ugcLayer.toServerJSONObject.apply(this,arguments),t="{";for(var n in e)e.hasOwnProperty(n)&&(t+="'"+n+"':"+e[n]+",");return t=t.substr(0,t.length-1),t+="}"}}]),e}();WW.OverlapDisplayedOptions=CZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var TZ=function(e){function t(e){var n;return VS(this,t),e=e||{},n=qS(this,XS(t).call(this,e)),n.completeLineSymbolDisplayed=null,n.maxScale=null,n.minScale=null,n.minVisibleGeometrySize=null,n.opaqueRate=null,n.symbolScalable=null,n.symbolScale=null,n.overlapDisplayed=null,n.overlapDisplayedOptions=null,n.CLASS_NAME="SuperMap.UGCMapLayer",n}return KS(t,e),JS(t,[{key:"destroy",value:function(){YS(XS(t.prototype),"destroy",this).call(this),rQ.reset(this)}},{key:"fromJson",value:function(e){YS(XS(t.prototype),"fromJson",this).call(this,e)}},{key:"toServerJSONObject",value:function(){return YS(XS(t.prototype),"toServerJSONObject",this).call(this)}}]),t}(xZ);WW.UGCMapLayer=TZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var PZ=function(e){function t(e){var n;return e_(this,t),e=e||{},n=r_(this,s_(t).call(this,e)),n.datasetInfo=null,n.displayFilter=null,n.joinItems=null,n.representationField=null,n.ugcLayerType=null,n.CLASS_NAME="SuperMap.UGCSubLayer",n}return l_(t,e),n_(t,[{key:"fromJson",value:function(e){if(o_(s_(t.prototype),"fromJson",this).call(this,e),this.datasetInfo&&(this.datasetInfo=new HX(this.datasetInfo)),this.joinItems&&this.joinItems.length){for(var n=[],r=0;r<this.joinItems.length;r++)n[r]=new vX(this.joinItems[r]);this.joinItems=n}}},{key:"destroy",value:function(){o_(s_(t.prototype),"destroy",this).call(this),rQ.reset(this)}},{key:"toServerJSONObject",value:function(){var e=o_(s_(t.prototype),"toServerJSONObject",this).call(this);if(e.joinItems){for(var n=[],r=0;r<e.joinItems.length;r++)e.joinItems[r].toServerJSONObject&&(n[r]=e.joinItems[r].toServerJSONObject());e.joinItems=n}return e.datasetInfo&&e.datasetInfo.toServerJSONObject&&(e.datasetInfo=e.datasetInfo.toServerJSONObject()),e}}]),t}(TZ);WW.UGCSubLayer=PZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var EZ=function(e){function t(e){var n;return f_(this,t),e=e||{},n=y_(this,g_(t).call(this,e)),n.theme=null,n.themeElementPosition=null,n.CLASS_NAME="SuperMap.ServerTheme",n}return b_(t,e),p_(t,[{key:"destroy",value:function(){m_(g_(t.prototype),"destroy",this).call(this),rQ.reset(this)}},{key:"fromJson",value:function(e){m_(g_(t.prototype),"fromJson",this).call(this,e);var n=this.theme;switch(n&&n.type){case"LABEL":this.theme=hZ.fromObj(n);break;case"UNIQUE":this.theme=pZ.fromObj(n);break;case"GRAPH":this.theme=gZ.fromObj(n);break;case"DOTDENSITY":this.theme=bZ.fromObj(n);break;case"GRADUATEDSYMBOL":this.theme=_Z.fromObj(n);break;case"RANGE":this.theme=OZ.fromObj(n)}this.themeElementPosition&&(this.themeElementPosition=new iQ(this.themeElementPosition.x,this.themeElementPosition.y))}},{key:"toServerJSONObject",value:function(){var e=m_(g_(t.prototype),"toServerJSONObject",this).call(this);return e.themeElementPosition&&e.themeElementPosition.toServerJSONObject&&(e.themeElementPosition=e.themeElementPosition.toServerJSONObject()),e.theme&&e.theme.toServerJSONObject&&(e.theme=e.theme.toServerJSONObject()),e}}]),t}(PZ);WW.ServerTheme=EZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var kZ=function(e){function t(e){var n;return w_(this,t),e=e||{},n=C_(this,k_(t).call(this,e)),n.colorDictionarys=null,n.brightness=null,n.colorGradientType=null,n.colors=null,n.contrast=null,n.dashStyle=null,n.gridType=null,n.horizontalSpacing=null,n.sizeFixed=null,n.solidStyle=null,n.specialColor=null,n.specialValue=null,n.specialValueTransparent=null,n.verticalSpacing=null,n.CLASS_NAME="SuperMap.Grid",n}return M_(t,e),x_(t,[{key:"destroy",value:function(){P_(k_(t.prototype),"destroy",this).call(this),rQ.reset(this)}},{key:"fromJson",value:function(e){if(P_(k_(t.prototype),"fromJson",this).call(this,e),this.specialColor&&(this.specialColor=new CQ(this.specialColor.red,this.specialColor.green,this.specialColor.blue)),this.colors){var n,r=[];for(var i in this.colors)n=this.colors[i],r.push(new CQ(n.red,n.green,n.blue));this.colors=r}if(this.dashStyle&&(this.dashStyle=new TQ(this.dashStyle)),this.solidStyle&&(this.solidStyle=new TQ(this.solidStyle)),this.colorDictionary){var o,a=[];for(var s in this.colorDictionary)o=this.colorDictionary[s],a.push(new FX({elevation:s,color:o}));this.colorDictionarys=a}delete this.colorDictionary}},{key:"toServerJSONObject",value:function(){var e=P_(k_(t.prototype),"toServerJSONObject",this).call(this);return e.dashStyle&&e.dashStyle.toServerJSONObject&&(e.dashStyle=e.dashStyle.toServerJSONObject()),e.solidStyle&&e.solidStyle.toServerJSONObject&&(e.solidStyle=e.solidStyle.toServerJSONObject()),e}}]),t}(PZ);WW.Grid=kZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var MZ=function(e){function t(e){var n;return j_(this,t),e=e||{},n=I_(this,U_(t).call(this,e)),n.brightness=null,n.colorSpaceType=null,n.contrast=null,n.displayBandIndexes=null,n.transparent=null,n.transparentColor=null,n.transparentColorTolerance=null,n.CLASS_NAME="SuperMap.Image",n}return G_(t,e),N_(t,[{key:"destroy",value:function(){F_(U_(t.prototype),"destroy",this).call(this),rQ.reset(this)}},{key:"fromJson",value:function(e){F_(U_(t.prototype),"fromJson",this).call(this,e),this.transparentColor&&(this.transparentColor=new CQ(this.transparentColor.red,this.transparentColor.green,this.transparentColor.blue))}},{key:"toServerJSONObject",value:function(){return F_(U_(t.prototype),"toServerJSONObject",this).call(this)}}]),t}(PZ);WW.Image=MZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var AZ=function(e){function t(e){var n;return H_(this,t),e=e||{},n=W_(this,K_(t).call(this,e)),n.style=null,n.CLASS_NAME="SuperMap.Vector",n}return Z_(t,e),q_(t,[{key:"destroy",value:function(){Q_(K_(t.prototype),"destroy",this).call(this),rQ.reset(this)}},{key:"fromJson",value:function(e){Q_(K_(t.prototype),"fromJson",this).call(this,e);var n=this.style;n&&(this.style=new TQ(n))}},{key:"toServerJSONObject",value:function(){var e=WW.toServerJSONObject();return e.style&&e.style.toServerJSONObject&&(e.style=e.style.toServerJSONObject()),e}}]),t}(PZ);WW.Vector=AZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var LZ=function(e){function t(e,n){var r;return tw(this,t),r=iw(this,lw(t).call(this,e,n)),r.isTempLayers=!1,n&&rQ.extend(ow(r),n),r.CLASS_NAME="SuperMap.GetLayersInfoService",r}return uw(t,e),rw(t,[{key:"destroy",value:function(){aw(lw(t.prototype),"destroy",this).call(this),rQ.reset(this)}},{key:"processAsync",value:function(){var e=this,t=e.url.substr(e.url.length-1,1);e.isTempLayers?e.url+=".json?":(e.url+="/"===t?"":"/",e.url+="layers.json?"),e.request({method:"GET",params:null,scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}},{key:"serviceProcessCompleted",value:function(e){var t,n,r,i=this;e=rQ.transformResult(e),t=!!e&&e.length>0,n=t?e[0].subLayers.layers:null,r=n?n.length:0,i.handleLayers(r,n),i.events.triggerEvent("processCompleted",{result:e[0]})}},{key:"handleLayers",value:function(e,t){var n,r=this;if(e)for(var i=0;i<e;i++)if(t[i].subLayers&&t[i].subLayers.layers&&t[i].subLayers.layers.length>0)r.handleLayers(t[i].subLayers.layers.length,t[i].subLayers.layers);else{var o=t[i].ugcLayerType;switch(o){case"THEME":n=new EZ,n.fromJson(t[i]),t[i]=n;break;case"GRID":n=new kZ,n.fromJson(t[i]),t[i]=n;break;case"IMAGE":n=new MZ,n.fromJson(t[i]),t[i]=n;break;case"VECTOR":n=new AZ,n.fromJson(t[i]),t[i]=n}}}}]),t}(iX);WW.GetLayersInfoService=LZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var jZ=function(){function e(t){fw(this,e),t&&(this.bounds=null,this.searchRadius=0,this.zValueFieldName=null,this.zValueScale=1,this.resolution=null,this.filterQueryParameter=null,this.outputDatasetName=null,this.outputDatasourceName=null,this.pixelFormat=null,this.dataset=null,this.inputPoints=null,this.InterpolationAnalystType="dataset",this.clipParam=null,rQ.extend(this,t),this.CLASS_NAME="SuperMap.InterpolationAnalystParameters")}return pw(e,[{key:"destroy",value:function(){var e=this;e.bounds=null,e.searchRadius=null,e.zValueFieldName=null,e.zValueScale=null,e.resolution=null,e.filterQueryParameter=null,e.outputDatasetName=null,e.pixelFormat=null}}],[{key:"toObject",value:function(e,t){for(var n in e)if("inputPoints"===n&&"geometry"===e.InterpolationAnalystType){for(var r=[],i=0;i<e.inputPoints.length;i++){var o=e.inputPoints[i],a={x:o.x,y:o.y,z:o.tag};r.push(a)}t[n]=r}else t[n]=e[n]}}]),e}();WW.InterpolationAnalystParameters=jZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var RZ=function(e){function t(e){var n;return dw(this,t),n=gw(this,ww(t).call(this,e)),n.smooth=.1,n.tension=40,n.searchMode=null,n.expectedCount=12,n.maxPointCountForInterpolation=200,n.maxPointCountInNode=50,e&&rQ.extend(bw(n),e),n.CLASS_NAME="SuperMap.InterpolationRBFAnalystParameters",n}return Ow(t,e),vw(t,[{key:"destroy",value:function(){Sw(ww(t.prototype),"destroy",this).call(this);var e=this;e.smooth=null,e.tension=null,e.searchMode=null,e.expectedCount=null,e.maxPointCountForInterpolation=null,e.maxPointCountInNode=null}}],[{key:"toObject",value:function(e,t){for(var n in e)t[n]=e[n]}}]),t}(jZ);WW.InterpolationRBFAnalystParameters=RZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var NZ=function(e){function t(e){var n;return Tw(this,t),n=kw(this,jw(t).call(this,e)),e&&rQ.extend(Mw(n),e),n.CLASS_NAME="SuperMap.InterpolationDensityAnalystParameters",n}return Rw(t,e),Ew(t,[{key:"destroy",value:function(){Aw(jw(t.prototype),"destroy",this).call(this)}}]),t}(jZ);WW.InterpolationDensityAnalystParameters=NZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var IZ=function(e){function t(e){var n;return Dw(this,t),n=Uw(this,Hw(t).call(this,e)),n.power=2,n.searchMode=null,n.expectedCount=12,e&&rQ.extend(Gw(n),e),n.CLASS_NAME="SuperMap.InterpolationIDWAnalystParameters",n}return Jw(t,e),Bw(t,[{key:"destroy",value:function(){zw(Hw(t.prototype),"destroy",this).call(this);var e=this;e.power=null,e.searchMode=null,e.expectedCount=null}}]),t}(jZ);WW.InterpolationIDWAnalystParameters=IZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var DZ=function(e){function t(e){var n;return Yw(this,t),n=Kw(this,tO(t).call(this,e)),n.type=null,n.mean=null,n.angle=0,n.nugget=0,n.range=0,n.sill=0,n.variogramMode=FY.SPHERICAL,n.exponent=BY.EXP1,n.searchMode=null,n.expectedCount=12,n.maxPointCountForInterpolation=200,n.maxPointCountInNode=50,e&&rQ.extend(Zw(n),e),n.CLASS_NAME="SuperMap.InterpolationKrigingAnalystParameters",n}return nO(t,e),Xw(t,[{key:"destroy",value:function(){$w(tO(t.prototype),"destroy",this).call(this);var e=this;e.type=null,e.mean=null,e.angle=null,e.nugget=null,e.range=null,e.sill=null,e.variogramMode=null,e.exponent=null,e.searchMode=null,e.expectedCount=null,e.maxPointCountForInterpolation=null,e.maxPointCountInNode=null}}]),t}(jZ);WW.InterpolationKrigingAnalystParameters=DZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var FZ=function(e){function t(e,n){var r;return oO(this,t),r=lO(this,hO(t).call(this,e,n)),r.mode=null,n&&rQ.extend(uO(r),n),r}return pO(t,e),sO(t,[{key:"destroy",value:function(){cO(hO(t.prototype),"destroy",this).call(this),this.mode=null,this.CLASS_NAME="SuperMap.InterpolationAnalystService"}},{key:"processAsync",value:function(e){var t={},n=this;"/"!==n.url.substr(n.url.length-1,1)&&(n.url+="/"),e instanceof NZ?(n.mode="Density","geometry"===e.InterpolationAnalystType?n.url+="geometry/interpolation/density":n.url+="datasets/"+e.dataset+"/interpolation/density"):e instanceof IZ?(n.mode="IDW","geometry"===e.InterpolationAnalystType?n.url+="geometry/interpolation/idw":n.url+="datasets/"+e.dataset+"/interpolation/idw"):e instanceof RZ?(n.mode="RBF","geometry"===e.InterpolationAnalystType?n.url+="geometry/interpolation/rbf":n.url+="datasets/"+e.dataset+"/interpolation/rbf"):e instanceof DZ&&(n.mode="Kriging","geometry"===e.InterpolationAnalystType?n.url+="geometry/interpolation/kriging":n.url+="datasets/"+e.dataset+"/interpolation/kriging"),jZ.toObject(e,t);var r=rQ.toJSON(t);n.url+=".json?returnContent=true",n.request({method:"POST",data:r,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}]),t}(fX);WW.InterpolationAnalystService=FZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var BZ=function(){function e(t){dO(this,e),t&&(this.datasetName="",this.query="",this.resolution=80,this.method=0,this.meshType=0,this.fields="",this.radius=300,this.meshSizeUnit=HY.METER,this.radiusUnit=HY.METER,this.areaUnit=VY.SQUAREMILE,this.output=null,this.mappingParameters=null,rQ.extend(this,t),this.CLASS_NAME="SuperMap.KernelDensityJobParameter")}return vO(e,[{key:"destroy",value:function(){this.datasetName=null,this.query=null,this.resolution=null,this.method=null,this.radius=null,this.meshType=null,this.fields=null,this.meshSizeUnit=null,this.radiusUnit=null,this.areaUnit=null,this.output instanceof xX&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof CX&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!==n?"output"!==n?(t.analyst=t.analyst||{},"query"===n&&e[n]?t.analyst[n]=e[n].toBBOX():t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):(t.input=t.input||{},t.input[n]=e[n])}}]),e}();WW.KernelDensityJobParameter=BZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var UZ=function(e){function t(e,n){var r;return bO(this,t),r=wO(this,TO(t).call(this,e,n)),r.url+="/spatialanalyst/density",r.CLASS_NAME="SuperMap.KernelDensityJobsService",r}return PO(t,e),_O(t,[{key:"destroy",value:function(){xO(TO(t.prototype),"destroy",this).call(this)}},{key:"getKernelDensityJobs",value:function(){xO(TO(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getKernelDensityJob",value:function(e){xO(TO(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addKernelDensityJob",value:function(e,n){xO(TO(t.prototype),"addJob",this).call(this,this.url,e,BZ,n)}}]),t}(PX);WW.KernelDensityJobsService=UZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var GZ=function e(){kO(this,e),this.CLASS_NAME="LabelMatrixCell"};WW.LabelMatrixCell=GZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var zZ=function(e){function t(e){var n;return AO(this,t),n=RO(this,NO(t).call(this,e)),n.height=0,n.pathField=null,n.rotation=0,n.width=0,n.sizeFixed=!1,n.type="IMAGE",e&&rQ.extend(IO(n),e),n.CLASS_NAME="SuperMap.LabelImageCell",n}return DO(t,e),jO(t,[{key:"destroy",value:function(){var e=this;e.height=null,e.pathField=null,e.rotation=null,e.width=null,e.sizeFixed=null}}]),t}(GZ);WW.LabelImageCell=zZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var VZ=function(e){function t(e){var n;return UO(this,t),n=VO(this,HO(t).call(this,e)),n.style=new TQ,n.symbolIDField=null,n.type="SYMBOL",e&&rQ.extend(JO(n),e),n.CLASS_NAME="SuperMap.LabelSymbolCell",n}return qO(t,e),zO(t,[{key:"destroy",value:function(){var e=this;e.style&&(e.style.destroy(),e.style=null),e.symbolIDField=null}}]),t}(GZ);WW.LabelSymbolCell=VZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var HZ=function(e){function t(e){var n;return QO(this,t),n=ZO(this,$O(t).call(this,e)),n.themeLabel=new hZ,n.type="THEME",e&&rQ.extend(ex(n),e),n.CLASS_NAME=" SuperMap.LabelThemeCell",n}return tx(t,e),KO(t,[{key:"destroy",value:function(){var e=this;e.themeLabel&&(e.themeLabel.destroy(),e.themeLabel=null)}}]),t}(GZ);WW.LabelThemeCell=HZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var JZ=function(){function e(t){rx(this,e),this.layerName=null,this.isVisible=null,this.displayFilter=null,this.fieldValuesDisplayFilter=null,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.LayerStatus"}return ox(e,[{key:"destroy",value:function(){var e=this;e.layerName=null,e.isVisible=null,e.displayFilter=null}},{key:"toJSON",value:function(){var e="{";e+='"type":"UGC",';var t=[];return this.layerName&&(t.push('"name":"'+this.layerName+'"'),t.push('"visible":'+this.isVisible)),this.displayFilter&&t.push('"displayFilter":"'+this.displayFilter+'"'),(this.minScale||0==this.minScale)&&t.push('"minScale":'+this.minScale),(this.maxScale||0==this.maxScale)&&t.push('"maxScale":'+this.maxScale),this.fieldValuesDisplayFilter&&t.push('"fieldValuesDisplayFilter":'+rQ.toJSON(this.fieldValuesDisplayFilter)),e+=t,e+="}"}}]),e}();WW.LayerStatus=JZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var qZ=function(e){function t(e,n){var r;sx(this,t),r=cx(this,yx(t).call(this,e,n)),r.projection=null,r.CLASS_NAME="SuperMap.MapService",n&&rQ.extend(fx(r),n);var i=fx(r);if(i.projection){var o=i.projection.split(":");o instanceof Array&&(2===o.length&&(i.url+='?prjCoordSys={"epsgCode":'+o[1]+"}"),1===o.length&&(i.url+='?prjCoordSys={"epsgCode":'+o[0]+"}"))}return r}return dx(t,e),ux(t,[{key:"destroy",value:function(){hx(yx(t.prototype),"destroy",this).call(this);var e=this;e.events&&(e.events.un(e.eventListeners),e.events.listeners=null,e.events.destroy(),e.events=null,e.eventListeners=null)}},{key:"processAsync",value:function(){var e=this;e.request({method:"GET",scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}},{key:"serviceProcessCompleted",value:function(e){var t=this;e=rQ.transformResult(e);var n=e.code>=200&&e.code<300||0==e.code||304===e.code,r=e.code&&n;!e.code||r?t.events&&t.events.triggerEvent("processCompleted",{result:e}):t.events.triggerEvent("processFailed",{error:e})}}]),t}(iX);WW.MapService=qZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var WZ=function(){function e(t){vx(this,e),t&&(this.dataset=null,this.extractRegion=null,this.expression=null,this.isZip=!1,this.ignoreNoValue=!1,this.targetDatasource=null,this.resultGridName=null,this.deleteExistResultDataset=!1,rQ.extend(this,t),this.CLASS_NAME="SuperMap.MathExpressionAnalysisParameters")}return bx(e,[{key:"destroy",value:function(){var e=this;e.dataset=null,e.bounds=null,e.expression=null,e.isZip=!0,e.ignoreNoValue=!0,e.targetDatasource=null,e.resultGridName=null,e.deleteExistResultDataset=null}}],[{key:"toObject",value:function(e,t){for(var n in e)if("dataset"!==n&&(t[n]=e[n]),"extractRegion"===n&&e[n]){for(var r=e[n].components[0].components,i={},o=[],a=r.length,s=0;s<a-1;s++){var l={};l.x=r[s].x,l.y=r[s].y,o.push(l)}i.points=o,i.type="REGION",t[n]=i}}}]),e}();WW.MathExpressionAnalysisParameters=WZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var YZ=function(e){function t(e,n){var r;return _x(this,t),r=xx(this,Ex(t).call(this,e,n)),r.CLASS_NAME="SuperMap.MathExpressionAnalysisService",r}return kx(t,e),Ox(t,[{key:"destroy",value:function(){Tx(Ex(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){var t=this;"/"!==t.url.substr(t.url.length-1,1)&&(t.url+="/");var n={};e instanceof WZ&&(t.url+="datasets/"+e.dataset+"/mathanalyst"),WZ.toObject(e,n);var r=rQ.toJSON(n);t.url+=".json?returnContent=true",t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}]),t}(fX);WW.MathExpressionAnalysisService=YZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var QZ=function(){function e(t,n){Ax(this,e),t&&(this.geometry=t,this.unit=nY.METER,this.prjCoordSys=null,this.distanceMode=null,n&&rQ.extend(this,n),this.CLASS_NAME="SuperMap.MeasureParameters")}return jx(e,[{key:"destroy",value:function(){var e=this;e.geometry=null,e.unit=null,e.prjCoordSys=null}}]),e}();WW.MeasureParameters=QZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var XZ=function(e){function t(e,n){var r;return Nx(this,t),r=Fx(this,zx(t).call(this,e,n)),r.measureMode=tY.DISTANCE,n&&rQ.extend(Bx(r),n),r.CLASS_NAME="SuperMap.MeasureService",r}return Vx(t,e),Dx(t,[{key:"destroy",value:function(){Ux(zx(t.prototype),"destroy",this).call(this),this.measureMode=null}},{key:"processAsync",value:function(e){if(e instanceof QZ){var t=this,n=e.geometry,r=0,i=null,o=null;if(n){o=t.url.substr(t.url.length-1,1),t.measureMode===tY.AREA?t.url+="/"===o?"area.json?":"/area.json?":t.url+="/"===o?"distance.json?":"/distance.json?";var a=kQ.fromGeometry(n);if(a){r=a.parts[0],i=a.points.splice(0,r);var s,l,u;e.prjCoordSys?("object"===Rx(e.prjCoordSys)?(l=e.prjCoordSys.projCode,s='{"epsgCode"'+l.substring(l.indexOf(":"),l.length)+"}"):"string"==typeof e.prjCoordSys&&(s='{"epsgCode"'+e.prjCoordSys.substring(e.prjCoordSys.indexOf(":"),e.prjCoordSys.length)+"}"),u={point2Ds:rQ.toJSON(i),unit:e.unit,prjCoordSys:s}):u={point2Ds:rQ.toJSON(i),unit:e.unit},t.request({method:"GET",params:u,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}}}]),t}(iX);WW.MeasureService=XZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var KZ=function(e){function t(e,n){var r;return qx(this,t),r=Qx(this,$x(t).call(this,e,n)),r.mode=null,n&&rQ.extend(Xx(r),n),r.CLASS_NAME="SuperMap.OverlayAnalystService",r}return eC(t,e),Yx(t,[{key:"destroy",value:function(){Kx($x(t.prototype),"destroy",this).call(this),this.mode=null}},{key:"processAsync",value:function(e){var t={},n=this;"/"!==n.url.substr(n.url.length-1,1)&&(n.url+="/"),e instanceof qX?(n.mode="datasets",n.url+="datasets/"+e.sourceDataset+"/overlay.json?returnContent=true",qX.toObject(e,t)):e instanceof NK&&(n.mode="geometry",e.operateGeometries&&e.sourceGeometries?n.url+="geometry/overlay/batch.json?returnContent=true&ignoreAnalystParam=true":n.url+="geometry/overlay.json?returnContent=true",NK.toObject(e,t));var r=rQ.toJSON(t);n.request({method:"POST",data:r,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}]),t}(fX);WW.OverlayAnalystService=KZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var ZZ=function(){function e(t){nC(this,e),t&&(this.datasetName="",this.datasetOverlay="",this.mode="",this.srcFields="",this.overlayFields="",this.output=null,this.mappingParameters=null,rQ.extend(this,t),this.CLASS_NAME="SuperMap.OverlayGeoJobParameter")}return iC(e,[{key:"destroy",value:function(){this.datasetName=null,this.datasetOverlay=null,this.mode=null,this.srcFields=null,this.overlayFields=null,this.output instanceof xX&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof CX&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!=n?"output"!==n?(t.analyst=t.analyst||{},t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):(t.input=t.input||{},t.input[n]=e[n])}}]),e}();WW.OverlayGeoJobParameter=ZZ;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var $Z=function(e){function t(e,n){var r;return aC(this,t),r=uC(this,pC(t).call(this,e,n)),r.url+="/spatialanalyst/overlay",r.CLASS_NAME="SuperMap.OverlayGeoJobsService",r}return yC(t,e),lC(t,[{key:"destroy",value:function(){fC(pC(t.prototype),"destroy",this).call(this)}},{key:"getOverlayGeoJobs",value:function(){fC(pC(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getOverlayGeoJob",value:function(e){fC(pC(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addOverlayGeoJob",value:function(e,n){fC(pC(t.prototype),"addJob",this).call(this,this.url,e,ZZ,n)}}]),t}(PX);WW.OverlayGeoJobsService=$Z;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var e$=function(e){function t(e){var n;return vC(this,t),e?(n=SC(this,xC(t).call(this,e)),n.returnContent=!0,n.bounds=null,rQ.extend(_C(n),e),n.CLASS_NAME="SuperMap.QueryByBoundsParameters",n):SC(n)}return CC(t,e),bC(t,[{key:"destroy",value:function(){wC(xC(t.prototype),"destroy",this).call(this);var e=this;e.returnContent=null,e.bounds&&(e.bounds=null)}}]),t}(NX);WW.QueryByBoundsParameters=e$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var t$=function(e){function t(e,n){var r;EC(this,t),r=AC(this,NC(t).call(this,e,n)),r.returnContent=!1,r.format=YW.GEOJSON,r.returnFeatureWithFieldCaption=!1,n&&rQ.extend(LC(r),n),r.CLASS_NAME="SuperMap.QueryService";var i,o=LC(r);return o.url?(n&&n.format&&(o.format=n.format.toUpperCase()),i=o.url.substr(o.url.length-1,1),o.url+="/"===i?"queryResults.json?":"/queryResults.json?",r):AC(r)}return IC(t,e),MC(t,[{key:"destroy",value:function(){jC(NC(t.prototype),"destroy",this).call(this);var e=this;e.returnContent=null,e.format=null}},{key:"processAsync",value:function(e){if(e instanceof NX){var t=this,n=null,r=null;t.returnContent=e.returnContent,r=t.getJsonParameters(e),t.returnContent?t.url+="returnContent="+t.returnContent:(n=e.returnCustomResult)&&(t.url+="returnCustomResult="+n),t.returnFeatureWithFieldCaption=e.returnFeatureWithFieldCaption,t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}},{key:"serviceProcessCompleted",value:function(e){var t=this;e=rQ.transformResult(e);var n=new MQ;if(e&&e.recordsets)for(var r=0,i=e.recordsets,o=i.length;r<o;r++)i[r].features&&(!0===t.returnFeatureWithFieldCaption&&i[r].features.map(function(e){return e.fieldNames=i[r].fieldCaptions,e}),t.format===YW.GEOJSON&&(i[r].features=n.toGeoJSON(i[r].features)));t.events.triggerEvent("processCompleted",{result:e})}},{key:"getQueryParameters",value:function(e){return new NX({customParams:e.customParams,expectCount:e.expectCount,networkType:e.networkType,queryOption:e.queryOption,queryParams:e.queryParams,startRecord:e.startRecord,prjCoordSys:e.prjCoordSys,holdTime:e.holdTime})}}]),t}(iX);WW.QueryService=t$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var n$=function(e){function t(e,n){var r;return BC(this,t),r=zC(this,qC(t).call(this,e,n)),r.CLASS_NAME="SuperMap.QueryByBoundsService",r}return WC(t,e),GC(t,[{key:"destroy",value:function(){HC(qC(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){if(!(e instanceof e$))return null;var t=this,n="",r=null,i=e.bounds;return r=t.getQueryParameters(e),n+="'queryMode':'BoundsQuery','queryParameters':",n+=rQ.toJSON(r),n+=",'bounds': {'rightTop':{'y':"+i.top+",'x':"+i.right+"},'leftBottom':{'y':"+i.bottom+",'x':"+i.left+"}}",n="{"+n+"}"}}]),t}(t$);WW.QueryByBoundsService=n$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var r$=function(e){function t(e){var n;return XC(this,t),e?(n=$C(this,rT(t).call(this,e)),n.distance=0,n.geometry=null,n.isNearest=null,n.returnContent=!0,rQ.extend(eT(n),e),n.CLASS_NAME="SuperMap.QueryByDistanceParameters",n):$C(n)}return iT(t,e),ZC(t,[{key:"destroy",value:function(){tT(rT(t.prototype),"destroy",this).call(this);var e=this;e.returnContent=null,e.distance=null,e.isNearest=null,e.geometry&&(e.geometry.destroy(),e.geometry=null)}}]),t}(NX);WW.QueryByDistanceParameters=r$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var i$=function(e){function t(e,n){var r;return sT(this,t),r=cT(this,yT(t).call(this,e,n)),r.CLASS_NAME="SuperMap.QueryByDistanceService",r}return dT(t,e),uT(t,[{key:"destroy",value:function(){hT(yT(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){if(e instanceof r$){var t=this,n="",r=t.getQueryParameters(e),i=kQ.fromGeometry(e.geometry);return n+=e.isNearest?"'queryMode':'FindNearest','queryParameters':":"'queryMode':'DistanceQuery','queryParameters':",n+=rQ.toJSON(r),n+=",'geometry':"+rQ.toJSON(i)+",'distance':"+e.distance,n="{"+n+"}"}}}]),t}(t$);WW.QueryByDistanceService=i$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var o$=function(e){function t(e){var n;return gT(this,t),e?(n=_T(this,CT(t).call(this,e)),n.returnContent=!0,n.geometry=null,n.spatialQueryMode=$W.INTERSECT,rQ.extend(wT(n),e),n.CLASS_NAME="SuperMap.QueryByGeometryParameters",n):_T(n)}return TT(t,e),ST(t,[{key:"destroy",value:function(){OT(CT(t.prototype),"destroy",this).call(this);var e=this;e.returnContent=null,e.geometry=null,e.spatialQueryMode=null}}]),t}(NX);WW.QueryByGeometryParameters=o$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var a$=function(e){function t(e,n){var r;return kT(this,t),r=LT(this,IT(t).call(this,e,n)),r.CLASS_NAME="SuperMap.QueryByGeometryService",r}return DT(t,e),AT(t,[{key:"destroy",value:function(){RT(IT(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){if(e instanceof o$){var t=this,n="",r=null,i=e.geometry,o=kQ.fromGeometry(i);return r=t.getQueryParameters(e),n+="'queryMode':'SpatialQuery','queryParameters':",n+=rQ.toJSON(r)+",'geometry':"+rQ.toJSON(o)+",'spatialQueryMode':"+rQ.toJSON(e.spatialQueryMode),n="{"+n+"}"}}}]),t}(t$);WW.QueryByGeometryService=a$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var s$=function(e){function t(e){var n;return UT(this,t),e?(n=VT(this,WT(t).call(this,e)),n.returnContent=!0,rQ.extend(HT(n),e),n.CLASS_NAME="SuperMap.QueryBySQLParameters",n):VT(n)}return YT(t,e),zT(t,[{key:"destroy",value:function(){JT(WT(t.prototype),"destroy",this).call(this),this.returnContent=null}}]),t}(NX);WW.QueryBySQLParameters=s$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var l$=function(e){function t(e,n){var r;return KT(this,t),r=eP(this,iP(t).call(this,e,n)),r.CLASS_NAME="SuperMap.QueryBySQLService",r}return oP(t,e),$T(t,[{key:"destroy",value:function(){nP(iP(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){if(e instanceof s$){var t=this,n="",r=null;return r=t.getQueryParameters(e),n+="'queryMode':'SqlQuery','queryParameters':",n+=rQ.toJSON(r),n="{"+n+"}"}}}]),t}(t$);WW.QueryBySQLService=l$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var u$=function(){function e(t){if(sP(this,e),!t)return this;this.sourceRoute=null,this.point=null,this.tolerance=null,this.isIgnoreGap=!1,rQ.extend(this,t),this.CLASS_NAME="SuperMap.RouteCalculateMeasureParameters"}return uP(e,[{key:"destroy",value:function(){var e=this;e.sourceRoute=null,e.point=null,e.tolerance&&(e.tolerance=null),e.isIgnoreGap&&(e.isIgnoreGap=!1)}}]),e}();WW.RouteCalculateMeasureParameters=u$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var c$=function(e){function t(e,n){var r;return fP(this,t),r=yP(this,gP(t).call(this,e,n)),r.CLASS_NAME="SuperMap.RouteCalculateMeasureService",r}return bP(t,e),pP(t,[{key:"destroy",value:function(){mP(gP(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof u$){var t,n=this;t=n.getJsonParameters(e),n.request({method:"POST",data:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJsonParameters",value:function(e){var t,n="geometry/calculatemeasure",r=this;return t=r.url.substr(r.url.length-1,1),r.url+="/"===t?n+".json":"/"+n+".json",r.url+="?returnContent=true",rQ.toJSON(e)}}]),t}(fX);WW.RouteCalculateMeasureService=c$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var f$=function(){function e(t){if(_P(this,e),!t)return this;this.sourceRoute=null,this.dataset=null,this.routeIDField=null,this.routeID=null,this.type=null,this.measure=null,this.offset=0,this.isIgnoreGap=!1,this.startMeasure=null,this.endMeasure=null;var n=t.sourceRoute,r={};if(n&&n instanceof aQ&&n.components){r.type=n.type,r.parts=n.parts;for(var i=[],o=0,a=n.components.length;o<a;o++)i=i.concat(n.components[o].components);r.points=i,t.sourceRoute=r}rQ.extend(this,t),this.CLASS_NAME="SuperMap.RouteLocatorParameters"}return OP(e,[{key:"destroy",value:function(){var e=this;e.sourceRoute=null,e.type=null,e.measure=null,e.offset=0,e.isIgnoreGap=!1,e.startMeasure=null,e.endMeasure=null,e.dataset=null,e.routeID=null,e.routeIDField=null}}]),e}();WW.RouteLocatorParameters=f$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var h$=function(e){function t(e,n){var r;return CP(this,t),r=EP(this,LP(t).call(this,e,n)),r.CLASS_NAME="SuperMap.RouteLocatorService",r}return jP(t,e),PP(t,[{key:"destroy",value:function(){MP(LP(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof f$){var t,n=this;t=n.getJsonParameters(e),n.request({method:"POST",data:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJsonParameters",value:function(e){var t,n="geometry/routelocator",r=this;return t=r.url.substr(r.url.length-1,1),e.dataset&&(n="datasets/"+e.dataset+"/linearreferencing/routelocator",e.sourceRoute=null),r.url+="/"===t?n+".json":"/"+n+".json",r.url+="?returnContent=true",rQ.toJSON(e)}}]),t}(fX);WW.RouteLocatorService=h$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var p$=function(){function e(t){NP(this,e),this.fieldNames=null,this.fieldValues=null,this.geometry=null,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.ServerFeature"}return DP(e,[{key:"destroy",value:function(){var e=this;e.fieldNames=null,e.fieldValues=null,e.geometry&&(e.geometry.destroy(),e.geometry=null)}},{key:"toFeature",value:function(){var e,t,n,r,i={},o=this;e=o.fieldNames,t=o.fieldValues;for(var a in e)i[e[a]]=t[a];return o.geometry&&(n=o.geometry.toGeometry()),r=new wQ(n,i),o.geometry&&o.geometry.id&&(r.fid=o.geometry.id),r}}],[{key:"fromJson",value:function(t){var n=null;if(t)return n=t.geometry,n&&(n=kQ.fromJson(n)),new e({fieldNames:t.fieldNames,fieldValues:t.fieldValues,geometry:n})}}]),e}();WW.ServerFeature=p$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var y$=function(){function e(t){FP(this,e),t=t||{},this.resourceID=null,this.tempLayerName=null,this.layerInfo=null,rQ.extend(this,t),this.CLASS_NAME="SuperMap.SetLayerInfoParameters"}return UP(e,[{key:"destroy",value:function(){var e=this;e.resourceID=null,e.tempLayerName=null,e.layerInfo=null}}]),e}();WW.SetLayerInfoParameters=y$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var d$=function(e){function t(e,n){var r;return zP(this,t),r=JP(this,QP(t).call(this,e,n)),n&&rQ.extend(qP(r),n),r.CLASS_NAME="SuperMap.SetLayerInfoService",r}return XP(t,e),HP(t,[{key:"destroy",value:function(){WP(QP(t.prototype),"destroy",this).call(this),rQ.reset(this)}},{key:"processAsync",value:function(e){if(e){var t=this;t.url+=".json";var n=rQ.toJSON(e);t.request({method:"PUT",data:n,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}]),t}(iX);WW.SetLayerInfoService=d$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var m$=function(){function e(t){ZP(this,e),t=t||{},this.isTempLayers=null,this.resourceID=null,this.layersInfo=null,rQ.extend(this,t),this.CLASS_NAME="SuperMap.SetLayersInfoParameters"}return eE(e,[{key:"destroy",value:function(){var e=this;e.isTempLayers=null,e.resourceID=null,e.layersInfo=null}}]),e}();WW.SetLayersInfoParameters=m$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var v$=function(e){function t(e,n){var r;return nE(this,t),r=oE(this,uE(t).call(this,e,n)),r.resourceID=null,r.isTempLayers=!1,n&&WW.Util.extend(aE(r),n),r.CLASS_NAME="SuperMap.SetLayersInfoService",r}return cE(t,e),iE(t,[{key:"destroy",value:function(){sE(uE(t.prototype),"destroy",this).call(this),rQ.reset(this)}},{key:"processAsync",value:function(e){if(e){var t,n,r=[],i=this,o="";n=i.url.substr(i.url.length-1,1),i.url+="/"===n?"":"/",i.isTempLayers?(i.url+="tempLayersSet/"+i.resourceID,o="PUT"):(i.url+="tempLayersSet",o="POST"),i.url+=".json?",e.subLayers||(e.subLayers={layers:[]}),e.subLayers.layers||(e.subLayers.layers=[]);var a=e.subLayers.layers,s=a.length;for(var l in a){if("GRID"===a[l].ugcLayerType){var u={},c=a[l].colorDictionarys;for(var f in c){u[c[f].elevation]=c[f].color}}a[l].colorDictionary=u,delete a[l].colorDictionarys}for(var h=0;h<s;h++)a[h].toJsonObject?r.push(a[h].toJsonObject()):r.push(a[h]);t=rQ.extend(t,e),t.subLayers={layers:r},t.object=null;var p=rQ.toJSON([t]);i.request({method:o,data:p,scope:i,success:i.serviceProcessCompleted,failure:i.serviceProcessFailed})}}}]),t}(iX);WW.SetLayersInfoService=v$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var g$=function(){function e(t){hE(this,e),this.layerStatusList=[],this.holdTime=15,this.resourceID=null,t&&rQ.extend(this,t)}return yE(e,[{key:"destroy",value:function(){var e=this;e.layerStatusList=null,e.holdTime=null,e.resourceID=null}},{key:"toJSON",value:function(){var e="{";e+='"layers":[';for(var t=[],n=0,r=this.layerStatusList.length;n<r;n++)t.push(this.layerStatusList[n].toJSON());return e+=t,e+="]",e+="}"}}]),e}();WW.SetLayerStatusParameters=g$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var b$=function(e){function t(e,n){var r;return mE(this,t),r=bE(this,OE(t).call(this,e,n)),r.lastparams=null,r.mapUrl=e,n&&rQ.extend(SE(r),n),r.CLASS_NAME="SuperMap.SetLayerStatusService",r}return xE(t,e),gE(t,[{key:"destroy",value:function(){_E(OE(t.prototype),"destroy",this).call(this),rQ.reset(this)}},{key:"processAsync",value:function(e){if(e instanceof g$){var t=this;t.url=t.mapUrl;var n=t.url.substr(t.url.length-1,1);if(t.url+="/"===n?"":"/",null==e.resourceID)t.url+="tempLayersSet",t.url+=".json?",t.lastparams=e,t.request({method:"POST",scope:t,success:t.createTempLayerComplete,failure:t.serviceProcessFailed});else{t.url+="tempLayersSet/"+e.resourceID,t.url+=".json?",t.url+="elementRemain=true&reference="+e.resourceID+"&holdTime="+e.holdTime.toString();var r="[{";r+='"type":"UGC",',null!=e.layerStatusList&&e.layerStatusList.length>0&&(r+='"subLayers":'+e.toJSON()),r+=',"visible":true,',r+='"name":"'+this.getMapName(this.mapUrl)+'"',r+="}]",t.request({method:"PUT",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}},{key:"createTempLayerComplete",value:function(e){var t=this;e=rQ.transformResult(e),e.succeed&&(t.lastparams.resourceID=e.newResourceID),t.processAsync(t.lastparams)}},{key:"getMapName",value:function(e){var t=e;"/"===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1));var n=t.lastIndexOf("/");return t.substring(n+1,t.length)}},{key:"serviceProcessCompleted",value:function(e){var t=this;e=rQ.transformResult(e),null!=e&&null!=t.lastparams&&(e.newResourceID=t.lastparams.resourceID),t.events.triggerEvent("processCompleted",{result:e})}}]),t}(iX);WW.SetLayerStatusService=b$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var S$=function(){function e(t){TE(this,e),t&&(this.datasetName="",this.datasetQuery="",this.geometryQuery="",this.mode=$W.CONTAIN,this.output=null,this.mappingParameters=null,rQ.extend(this,t),this.CLASS_NAME="SuperMap.SingleObjectQueryJobsParameter")}return EE(e,[{key:"destroy",value:function(){this.datasetName=null,this.datasetQuery=null,this.geometryQuery=null,this.mode=null,this.output instanceof xX&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof CX&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!==n?"output"!==n?(t.analyst=t.analyst||{},t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):(t.input=t.input||{},t.input[n]=e[n])}}]),e}();WW.SingleObjectQueryJobsParameter=S$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var _$=function(e){function t(e,n){var r;return ME(this,t),r=jE(this,DE(t).call(this,e,n)),r.url+="/spatialanalyst/query",r.CLASS_NAME="SuperMap.SingleObjectQueryJobsService",r}return FE(t,e),LE(t,[{key:"destroy",value:function(){NE(DE(t.prototype),"destroy",this).call(this)}},{key:"getQueryJobs",value:function(){NE(DE(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getQueryJob",value:function(e){NE(DE(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addQueryJob",value:function(e,n){NE(DE(t.prototype),"addJob",this).call(this,this.url,e,S$,n)}}]),t}(PX);WW.SingleObjectQueryJobsService=_$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var w$=function(){function e(t){UE(this,e),t=t||{},this.keyWord=null,this.returnPosition=!1,rQ.extend(this,t),this.CLASS_NAME="SuperMap.StopQueryParameters"}return zE(e,[{key:"destroy",value:function(){rQ.reset(this)}}]),e}();WW.StopQueryParameters=w$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var O$=function(e){function t(e,n){var r;return HE(this,t),r=WE(this,KE(t).call(this,e,n)),n=n||{},rQ.extend(YE(r),n),r.CLASS_NAME="SuperMap.StopQueryService",r}return ZE(t,e),qE(t,[{key:"destroy",value:function(){QE(KE(t.prototype),"destroy",this).call(this),rQ.reset(this)}},{key:"processAsync",value:function(e){if(e instanceof w$){var t,n=this;t=n.url.substr(n.url.length-1,1),n.url+="/"===t?"":"/",n.url+="stops/keyword/"+e.keyWord,n.url+=".json?",n.request({method:"GET",params:{returnPosition:e.returnPosition},scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}]),t}(iX);WW.StopQueryService=O$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var x$=function(){function e(t){ek(this,e),t&&(this.datasetName="",this.groupField="",this.attributeField="",this.statisticModes="",this.output=null,this.mappingParameters=null,rQ.extend(this,t),this.CLASS_NAME="SuperMap.SummaryAttributesJobsParameter")}return nk(e,[{key:"destroy",value:function(){this.datasetName=null,this.groupField=null,this.attributeField=null,this.statisticModes=null,this.output instanceof xX&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof CX&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!==n?"output"!==n?(t.analyst=t.analyst||{},t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):(t.input=t.input||{},t.input[n]=e[n])}}]),e}();WW.SummaryAttributesJobsParameter=x$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var C$=function(e){function t(e,n){var r;return ik(this,t),r=sk(this,fk(t).call(this,e,n)),r.url+="/spatialanalyst/summaryattributes",r.CLASS_NAME="SuperMap.SummaryAttributesJobsService",r}return hk(t,e),ak(t,[{key:"destroy",value:function(){uk(fk(t.prototype),"destroy",this).call(this)}},{key:"getSummaryAttributesJobs",value:function(){uk(fk(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getSummaryAttributesJob",value:function(e){uk(fk(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addSummaryAttributesJob",value:function(e,n){uk(fk(t.prototype),"addJob",this).call(this,this.url,e,x$,n)}}]),t}(PX);WW.SummaryAttributesJobsService=C$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var T$=function(){function e(t){yk(this,e),t&&(this.datasetName="",this.regionDataset="",this.query="",this.resolution=100,this.meshType=0,this.statisticModes=JY.AVERAGE,this.fields="",this.type=qY.SUMMARYMESH,this.output=null,this.mappingParameters=null,rQ.extend(this,t),this.CLASS_NAME="SuperMap.SummaryMeshJobParameter")}return mk(e,[{key:"destroy",value:function(){this.datasetName=null,this.query=null,this.resolution=null,this.statisticModes=null,this.meshType=null,this.fields=null,this.regionDataset=null,this.type=null,this.output instanceof xX&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof CX&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!==n?"type"!==n?"output"!==n?("SUMMARYMESH"===e.type&&"regionDataset"!==n||"SUMMARYREGION"===e.type&&!function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}(["meshType","resolution","query"],n))&&(t.analyst=t.analyst||{},"query"===n&&e[n]?t.analyst[n]=e[n].toBBOX():t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):t.type=e[n]:(t.input=t.input||{},t.input[n]=e[n])}}]),e}();WW.SummaryMeshJobParameter=T$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var P$=function(e){function t(e,n){var r;return gk(this,t),r=_k(this,Ck(t).call(this,e,n)),r.url+="/spatialanalyst/aggregatepoints",r.CLASS_NAME="SuperMap.SummaryMeshJobsService",r}return Tk(t,e),Sk(t,[{key:"destroy",value:function(){Ok(Ck(t.prototype),"destroy",this).call(this)}},{key:"getSummaryMeshJobs",value:function(){Ok(Ck(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getSummaryMeshJob",value:function(e){Ok(Ck(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addSummaryMeshJob",value:function(e,n){Ok(Ck(t.prototype),"addJob",this).call(this,this.url,e,T$,n)}}]),t}(PX);WW.SummaryMeshJobsService=P$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var E$=function(){function e(t){Ek(this,e),t&&(this.datasetName="",this.regionDataset="",this.sumShape=!0,this.query="",this.standardSummaryFields=!1,this.standardFields="",this.standardStatisticModes="",this.weightedSummaryFields=!1,this.weightedFields="",this.weightedStatisticModes="",this.meshType=0,this.resolution=100,this.meshSizeUnit=HY.METER,this.type=qY.SUMMARYMESH,this.output=null,this.mappingParameters=null,rQ.extend(this,t),this.CLASS_NAME="SuperMap.SummaryRegionJobParameter")}return Mk(e,[{key:"destroy",value:function(){this.datasetName=null,this.sumShape=null,this.regionDataset=null,this.query=null,this.standardSummaryFields=null,this.standardFields=null,this.standardStatisticModes=null,this.weightedSummaryFields=null,this.weightedFields=null,this.weightedStatisticModes=null,this.meshType=null,this.resolution=null,this.meshSizeUnit=null,this.type=null,this.output instanceof xX&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof CX&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!==n?"type"!==n&&"type"!==n?"output"!==n?("SUMMARYREGION"===e.type||"SUMMARYMESH"===e.type&&"regionDataset"!==n)&&(t.analyst=t.analyst||{},"query"===n&&e[n]?t.analyst[n]=e[n].toBBOX():t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):t.type=e[n]:(t.input=t.input||{},t.input[n]=e[n])}}]),e}();WW.SummaryRegionJobParameter=E$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var k$=function(e){function t(e,n){var r;return Lk(this,t),r=Nk(this,Bk(t).call(this,e,n)),r.url+="/spatialanalyst/summaryregion",r.CLASS_NAME="SuperMap.SummaryRegionJobsService",r}return Uk(t,e),Rk(t,[{key:"destroy",value:function(){Dk(Bk(t.prototype),"destroy",this).call(this)}},{key:"getSummaryRegionJobs",value:function(){Dk(Bk(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getSummaryRegionJob",value:function(e){Dk(Bk(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addSummaryRegionJob",value:function(e,n){Dk(Bk(t.prototype),"addJob",this).call(this,this.url,e,E$,n)}}]),t}(PX);WW.SummaryRegionJobsService=k$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var M$=function(){function e(t){zk(this,e),this.maxWeight=null,this.nodeID=null,this.resourceValue=null,this.type=null,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.SupplyCenter"}return Hk(e,[{key:"destroy",value:function(){var e=this;e.maxWeight=null,e.nodeID=null,e.resourceValue=null,e.type=null}}],[{key:"fromJson",value:function(t){if(t)return new e({maxWeight:t.maxWeight,nodeID:t.nodeID,resourceValue:t.resourceValue,type:t.type})}}]),e}();WW.SupplyCenter=M$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var A$=function(e){function t(e,n){var r;return qk(this,t),r=Qk(this,$k(t).call(this,e,n)),r.CLASS_NAME="SuperMap.SurfaceAnalystService",r}return eM(t,e),Yk(t,[{key:"destroy",value:function(){Kk($k(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof YX){var t,n=this;t=n.getJsonParameters(e),n.request({method:"POST",data:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJsonParameters",value:function(e){var t,n="",r={},i=this;if(e instanceof QX)t=i.url.substr(i.url.length-1,1),i.url+="/"===t?"datasets/"+e.dataset+"/"+e.surfaceAnalystMethod.toLowerCase()+".json?returnContent=true":"/datasets/"+e.dataset+"/"+e.surfaceAnalystMethod.toLowerCase()+".json?returnContent=true",QX.toObject(e,r),n=rQ.toJSON(r);else{if(!(e instanceof IK))return;t=i.url.substr(i.url.length-1,1),i.url+="/"===t?"geometry/"+e.surfaceAnalystMethod.toLowerCase()+".json?returnContent=true":"/geometry/"+e.surfaceAnalystMethod.toLowerCase()+".json?returnContent=true",n=rQ.toJSON(e)}return n}}]),t}(fX);WW.SurfaceAnalystService=A$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var L$=function(){function e(t){nM(this,e),t&&(this.dataset=null,this.zFactor=1,this.averageCurvatureName=null,this.profileCurvatureName="",this.planCurvatureName="",this.deleteExistResultDataset=!1,rQ.extend(this,t),this.CLASS_NAME="SuperMap.TerrainCurvatureCalculationParameters")}return iM(e,[{key:"destroy",value:function(){var e=this;e.dataset=null,e.zFactor=1,e.averageCurvatureName=null,e.profileCurvatureName=null,e.planCurvatureName=null,e.deleteExistResultDataset=!0}}],[{key:"toObject",value:function(e,t){for(var n in e)"dataset"!==n&&(t[n]=e[n])}}]),e}();WW.TerrainCurvatureCalculationParameters=L$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var j$=function(e){function t(e,n){var r;return aM(this,t),r=uM(this,pM(t).call(this,e,n)),r.CLASS_NAME="SuperMap.TerrainCurvatureCalculationService",r}return yM(t,e),lM(t,[{key:"destroy",value:function(){fM(pM(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){var t=this;"/"!==t.url.substr(t.url.length-1,1)&&(t.url+="/");var n={};e instanceof L$&&(t.url+="datasets/"+e.dataset+"/terraincalculation/curvature"),L$.toObject(e,n);var r=WW.Util.toJSON(n);t.url+=".json?returnContent=true",t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}]),t}(fX);WW.TerrainCurvatureCalculationService=j$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var R$=function(){function e(t){mM(this,e),this.caption=null,this.color=new CQ,this.end=0,this.start=0,this.visible=!0,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.ThemeGridRangeItem"}return gM(e,[{key:"destroy",value:function(){var e=this;e.caption=null,e.end=null,e.start=null,e.color&&(e.color.destroy(),e.color=null),e.visible=null}},{key:"toServerJSONObject",value:function(){var e={};return e=rQ.copyAttributes(e,this),e.color&&e.color.toServerJSONObject&&(e.color=e.color.toServerJSONObject()),e}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return rQ.copy(n,t),n.color=CQ.fromJson(t.color),n}}}]),e}();WW.ThemeGridRangeItem=R$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var N$=function(e){function t(e){var n;return SM(this,t),n=OM(this,PM(t).call(this,"GRIDRANGE",e)),n.items=null,n.rangeMode=uY.EQUALINTERVAL,n.rangeParameter=0,n.colorGradientType=fY.YELLOW_RED,n.reverseColor=!1,e&&rQ.extend(xM(n),e),n.CLASS_NAME="SuperMap.ThemeGridRange",n}return EM(t,e),wM(t,[{key:"destroy",value:function(){CM(PM(t.prototype),"destroy",this).call(this);var e=this;if(e.items){if(e.items.length>0)for(var n in e.items)e.items[n].destroy(),e.items[n]=null;e.items=null}e.reverseColor=null,e.rangeMode=null,e.rangeParameter=null,e.colorGradientType=null}}],[{key:"fromObj",value:function(e){if(e){var n=new t;rQ.copy(n,e);var r=e.items,i=r?r.length:0;n.items=[];for(var o=0;o<i;o++)n.items.push(R$.fromObj(r[o]));return n}}}]),t}(nZ);WW.ThemeGridRange=N$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var I$=function(){function e(t){MM(this,e),this.caption=null,this.color=new CQ,this.unique=null,this.visible=!0,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.ThemeGridUniqueItem"}return LM(e,[{key:"destroy",value:function(){var e=this;e.caption=null,e.unique=null,e.color&&(e.color.destroy(),e.color=null),e.visible=null}},{key:"toServerJSONObject",value:function(){var e={};return e=rQ.copyAttributes(e,this),e.color&&e.color.toServerJSONObject&&(e.color=e.color.toServerJSONObject()),e}}],[{key:"fromObj",value:function(t){var n=new e;return rQ.copy(n,t),n.color=CQ.fromJson(t.color),n}}]),e}();WW.ThemeGridUniqueItem=I$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var D$=function(e){function t(e){var n;return RM(this,t),n=DM(this,GM(t).call(this,"GRIDUNIQUE",e)),n.defaultcolor=new CQ,n.items=null,e&&rQ.extend(FM(n),e),n.CLASS_NAME="SuperMap.ThemeGridUnique",n}return zM(t,e),IM(t,[{key:"destroy",value:function(){BM(GM(t.prototype),"destroy",this).call(this);var e=this;if(e.items){if(e.items.length>0)for(var n in e.items)e.items[n].destroy(),e.items[n]=null;e.items=null}e.defaultcolor&&(e.defaultcolor.destroy(),e.defaultcolor=null)}},{key:"toServerJSONObject",value:function(){var e={};if(e=rQ.copyAttributes(e,this),e.defaultcolor&&e.defaultcolor.toServerJSONObject&&(e.defaultcolor=e.defaultcolor.toServerJSONObject()),e.items){for(var t=[],n=e.items.length,r=0;r<n;r++)t.push(e.items[r].toServerJSONObject());e.items=t}return e}}],[{key:"fromObj",value:function(e){var n=new t,r=e.items,i=r?r.length:0;rQ.extend(n,e),n.items=[],n.defaultcolor=CQ.fromJson(e.defaultcolor);for(var o=0;o<i;o++)n.items.push(I$.fromObj(r[o]));return n}}]),t}(nZ);WW.ThemeGridUnique=D$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var F$=function(){function e(t){HM(this,e),this.caption=null,this.unique=null,this.offsetX=0,this.offsetY=0,this.visible=!0,this.style=new rZ,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.ThemeLabelUniqueItem"}return qM(e,[{key:"destroy",value:function(){var e=this;e.unique=null,e.caption=null,e.offsetX=null,e.offsetY=null,e.style&&(e.style.destroy(),e.style=null),e.visible=null}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return rQ.copy(n,t),n}}}]),e}();WW.ThemeLabelUniqueItem=F$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var B$=function(){function e(t){WM(this,e),this.datasetNames=null,this.dataSourceNames=null,this.joinItems=null,this.themes=null,this.displayFilters=null,this.displayOrderBys=null,this.fieldValuesDisplayFilter=null,t&&rQ.extend(this,t),this.CLASS_NAME="SuperMap.ThemeParameters"}return QM(e,[{key:"destroy",value:function(){var e=this;if(e.datasetNames=null,e.dataSourceNames=null,e.joinItems){for(var t=0,n=e.joinItems,r=n.length;t<r;t++)n[t].destroy();e.joinItems=null}if(e.themes){for(var i=0,o=e.themes,a=o.length;i<a;i++)o[i].destroy();e.themes=null}}}]),e}();WW.ThemeParameters=B$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var U$=function(e){function t(e,n){var r;KM(this,t),r=eA(this,iA(t).call(this,e,n)),n&&WW.Util.extend(tA(r),n);var i,o=tA(r);return i=o.url.substr(o.url.length-1,1),o.url+="/"===i?"tempLayersSet.json?":"/tempLayersSet.json?",r.CLASS_NAME="SuperMap.ThemeService",r}return oA(t,e),$M(t,[{key:"destroy",value:function(){nA(iA(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof B$){var t=this,n=null;n=t.getJsonParameters(e),t.request({method:"POST",data:n,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}},{key:"getJsonParameters",value:function(e){var t,n="",r=null,i=null,o=null;n+="[{'type': 'UGC','subLayers': {'layers': [";for(var a=0;a<e.themes.length;a++){r=e.themes[a];var s=rQ.toJSON(r);if(s=s.slice(0,-1),n+="{'theme': "+s+"},'type': 'UGC','ugcLayerType': 'THEME',",i=e.displayFilters,i&&i.length>0&&(1===i.length?n+="'displayFilter':\""+i[0]+'",':n+="'displayFilter':\""+i[a]+'",'),o=e.displayOrderBy,o&&o.length>0&&(1===o.length?n+="'displayOrderBy':'"+o[0]+"',":n+="'displayOrderBy':'"+o[a]+"',"),t=e.fieldValuesDisplayFilter,t&&(n+="'fieldValuesDisplayFilter':"+rQ.toJSON(t)+","),e.joinItems&&e.joinItems.length>0&&e.joinItems[a]&&(n+="'joinItems':["+rQ.toJSON(e.joinItems[a])+"],"),e.datasetNames&&e.dataSourceNames){var l=e.datasetNames[a]?a:e.datasetNames.length-1,u=e.dataSourceNames[a]?a:e.dataSourceNames.length-1;n+="'datasetInfo': {'name': '"+e.datasetNames[l]+"','dataSourceName': '"+e.dataSourceNames[u]+"'}},"}else n+="},"}e.themes&&e.themes.length>0&&(n=n.substring(0,n.length-1)),n+="]},";var c=this.url.split("/");return n+="'name': '"+c[c.length-2]+"'}]"}}]),t}(iX);WW.ThemeService=U$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var G$=function(e){function t(e,n){var r;return lA(this,t),r=fA(this,dA(t).call(this,e,n)),r.mode=null,n&&rQ.extend(hA(r),n),r.CLASS_NAME="SuperMap.ThiessenAnalystService",r}return mA(t,e),cA(t,[{key:"destroy",value:function(){pA(dA(t.prototype),"destroy",this).call(this),this.mode=null}},{key:"processAsync",value:function(e){var t={},n=this;"/"!==n.url.substr(n.url.length-1,1)&&(n.url+="/"),e instanceof KX?(n.mode="datasets",n.url+="datasets/"+e.dataset+"/thiessenpolygon",KX.toObject(e,t)):e instanceof DK&&(n.mode="geometry",n.url+="geometry/thiessenpolygon",DK.toObject(e,t));var r=rQ.toJSON(t);n.url+=".json?returnContent=true",n.request({method:"POST",data:r,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}]),t}(fX);WW.ThiessenAnalystService=G$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var z$=function(e){function t(e,n){var r;return bA(this,t),r=wA(this,TA(t).call(this,e,n)),n&&rQ.extend(OA(r),n),r.CLASS_NAME="SuperMap.GeometryBatchAnalystService",r}return PA(t,e),_A(t,[{key:"processAsync",value:function(e){var t=this;"/"!==t.url.substr(t.url.length-1,1)&&(t.url+="/"),t.url+="geometry/batchanalyst.json?returnContent=true&ignoreAnalystParam=true";var n=t._processParams(e),r=rQ.toJSON(n);t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}},{key:"_processParams",value:function(e){var t=this;if(rQ.isArray(e)){var n=[];return e.map(function(e){return n.push(t._toJSON(e)),e}),n}}},{key:"_toJSON",value:function(e){var t={};if("buffer"===e.analystName)t.analystName="buffer",t.param={},wX.toObject(e.param,t.param);else if("overlay"===e.analystName)t.analystName="overlay",t.param={},NK.toObject(e.param,t.param);else if("interpolationDensity"===e.analystName)t.analystName="interpolationDensity",t.param={},jZ.toObject(e.param,t.param);else if("interpolationidw"===e.analystName)t.analystName="interpolationidw",t.param={},jZ.toObject(e.param,t.param);else if("interpolationRBF"===e.analystName)t.analystName="interpolationRBF",t.param={},jZ.toObject(e.param,t.param);else if("interpolationKriging"===e.analystName)t.analystName="interpolationKriging",t.param={},jZ.toObject(e.param,t.param);else{if("thiessenpolygon"!==e.analystName)return e;t.analystName="thiessenpolygon",t.param={},DK.toObject(e.param,t.param)}return t}},{key:"destroy",value:function(){xA(TA(t.prototype),"destroy",this).call(this)}}]),t}(fX);WW.GeometryBatchAnalystService=z$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var V$=function(e){function t(e,n){var r;return MA(this,t),r=jA(this,DA(t).call(this,e,n)),r.CLASS_NAME="SuperMap.TilesetsService",r}return FA(t,e),LA(t,[{key:"destroy",value:function(){NA(DA(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(){if(this.url){var e=this,t=e.url.substr(e.url.length-1,1);e.url=e.url+("/"===t?"tilesets":"/tilesets")+".json?",e.request({method:"GET",scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}}}]),t}(iX);WW.TilesetsService=V$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var H$=function(){function e(t){UA(this,e),t&&(this.datasetName="",this.datasetTopology="",this.tolerance="",this.rule=WY.REGIONNOOVERLAP,this.output=null,this.mappingParameters=null,rQ.extend(this,t),this.CLASS_NAME="SuperMap.TopologyValidatorJobsParameter")}return zA(e,[{key:"destroy",value:function(){this.datasetName=null,this.datasetTopology=null,this.tolerance=null,this.rule=null,this.output instanceof xX&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof CX&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!==n?"output"!==n?(t.analyst=t.analyst||{},t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):(t.input=t.input||{},t.input[n]=e[n])}}]),e}();WW.TopologyValidatorJobsParameter=H$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var J$=function(e){function t(e,n){var r;return HA(this,t),r=WA(this,KA(t).call(this,e,n)),r.url+="/spatialanalyst/topologyvalidator",r.CLASS_NAME="SuperMap.TopologyValidatorJobsService",r}return ZA(t,e),qA(t,[{key:"destroy",value:function(){QA(KA(t.prototype),"destroy",this).call(this)}},{key:"getTopologyValidatorJobs",value:function(){QA(KA(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getTopologyValidatorJob",value:function(e){QA(KA(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addTopologyValidatorJob",value:function(e,n){QA(KA(t.prototype),"addJob",this).call(this,this.url,e,H$,n)}}]),t}(PX);WW.TopologyValidatorJobsService=J$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var q$=function(){function e(t){eL(this,e),t=t||{},this.lineID=null,this.lineName=null,this.lineAliasName=null,this.startStopIndex=null,this.startStopName=null,this.startStopAliasName=null,this.endStopIndex=null,this.endStopName=null,this.endStopAliasName=null,rQ.extend(this,t),this.CLASS_NAME="SuperMap.TransferLine"}return nL(e,[{key:"destroy",value:function(){rQ.reset(this)}}],[{key:"fromJson",value:function(t){if(t)return new e({lineID:t.lineID,lineName:t.lineName,lineAliasName:t.lineAliasName,startStopIndex:t.startStopIndex,startStopName:t.startStopName,startStopAliasName:t.startStopAliasName,endStopIndex:t.endStopIndex,endStopName:t.endStopName,endStopAliasName:t.endStopAliasName})}}]),e}();WW.TransferLine=q$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var W$=function(){function e(t){rL(this,e),t=t||{},this.transferLines=null,this.points=null,rQ.extend(this,t),this.CLASS_NAME="SuperMap.TransferPathParameters"}return oL(e,[{key:"destroy",value:function(){rQ.reset(this)}}],[{key:"toJson",value:function(e){if(e)return rQ.toJSON(e)}}]),e}();WW.TransferPathParameters=W$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Y$=function(e){function t(e,n){var r;return sL(this,t),r=cL(this,yL(t).call(this,e,n)),r.CLASS_NAME="SuperMap.TransferPathService",r}return dL(t,e),uL(t,[{key:"destroy",value:function(){hL(yL(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof W$){var t,n,r=this;n=r.url.substr(r.url.length-1,1),r.url+="/"===n?"":"/",r.url+="path.json?",t={points:rQ.toJSON(e.points),transferLines:rQ.toJSON(e.transferLines)},r.request({method:"GET",params:t,scope:r,success:r.serviceProcessCompleted,failure:r.serviceProcessFailed})}}}]),t}(iX);WW.TransferPathService=Y$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Q$=function(){function e(t){vL(this,e),t=t||{},this.solutionCount=6,this.transferPreference=kY.NONE,this.transferTactic=EY.LESS_TIME,this.walkingRatio=null,this.points=!1,this.evadeLines=null,this.evadeStops=null,this.priorLines=null,this.priorStops=null,this.travelTime=null,rQ.extend(this,t),this.CLASS_NAME="SuperMap.TransferSolutionParameters"}return bL(e,[{key:"destroy",value:function(){rQ.reset(this)}}],[{key:"toJson",value:function(e){if(e)return rQ.toJSON(e)}}]),e}();WW.TransferSolutionParameters=Q$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var X$=function(e){function t(e,n){var r;return _L(this,t),r=xL(this,EL(t).call(this,e,n)),r.CLASS_NAME="SuperMap.TransferSolutionService",r}return kL(t,e),OL(t,[{key:"destroy",value:function(){TL(EL(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof Q$){var t,n,r=this;n=r.url.substr(r.url.length-1,1),r.url+="/"===n?"":"/",r.url+="solutions.json?",t={points:rQ.toJSON(e.points),walkingRatio:e.walkingRatio,transferTactic:e.transferTactic,solutionCount:e.solutionCount,transferPreference:e.transferPreference},e.evadeLines&&(t.evadeLines=rQ.toJSON(e.evadeLines)),e.evadeStops&&(t.evadeStops=rQ.toJSON(e.evadeStops)),e.priorLines&&(t.priorLines=rQ.toJSON(e.priorLines)),e.priorStops&&(t.priorStops=rQ.toJSON(e.priorStops)),e.travelTime&&(t.travelTime=e.travelTime),r.request({method:"GET",params:t,scope:r,success:r.serviceProcessCompleted,failure:r.serviceProcessFailed})}}}]),t}(iX);WW.TransferSolutionService=X$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var K$=function(){function e(t){AL(this,e),t&&(this.edgeId="",this.fromNodeId="",this.toNodeId="",this.weightField="",this.edgeWeight="",rQ.extend(this,t),this.CLASS_NAME="SuperMap.UpdateEdgeWeightParameters")}return jL(e,[{key:"destroy",value:function(){this.edgeId=null,this.fromNodeId=null,this.toNodeId=null,this.weightField=null,this.edgeWeight=null}}]),e}();WW.UpdateEdgeWeightParameters=K$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Z$=function(e){function t(e,n){var r;return NL(this,t),r=FL(this,zL(t).call(this,e,n)),r.CLASS_NAME="SuperMap.UpdateEdgeWeightService",r}return VL(t,e),DL(t,[{key:"destroy",value:function(){UL(zL(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof K$){var t=this,n=t.url.substr(t.url.length-1,1),r=t.parse(e);"/"===n&&t.url.splice(t.url.length-1,1),t.url=t.url+r+".json?";var i=e.edgeWeight?e.edgeWeight:null;t.request({method:"PUT",scope:t,data:i,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}},{key:"parse",value:function(e){if(e){var t="";for(var n in e)if(""!==e[n]&&"edgeWeight"!==e[n])switch(n){case"edgeId":t+="/edgeweight/"+e[n];break;case"fromNodeId":t+="/fromnode/"+e[n];break;case"toNodeId":t+="/tonode/"+e[n];break;case"weightField":t+="/weightfield/"+e[n]}return t}}}]),t}(MX);WW.UpdateEdgeWeightService=Z$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var $$=function(){function e(t){JL(this,e),t&&(this.nodeId="",this.fromEdgeId="",this.toEdgeId="",this.weightField="",this.turnNodeWeight="",rQ.extend(this,t),this.CLASS_NAME="SuperMap.UpdateTurnNodeWeightParameters")}return WL(e,[{key:"destroy",value:function(){this.nodeId=null,this.fromEdgeId=null,this.toEdgeId=null,this.weightField=null,this.turnNodeWeight=null}}]),e}();WW.UpdateTurnNodeWeightParameters=$$;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var e0=function(e){function t(e,n){var r;return QL(this,t),r=ZL(this,nj(t).call(this,e,n)),r.CLASS_NAME="SuperMap.UpdateTurnNodeWeightService",r}return rj(t,e),KL(t,[{key:"destroy",value:function(){ej(nj(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof $$){var t=this,n=t.url.substr(t.url.length-1,1),r=t.parse(e);"/"===n&&t.url.splice(t.url.length-1,1),t.url=t.url+r+".json?";var i=e.turnNodeWeight?e.turnNodeWeight:null;t.request({method:"PUT",scope:t,data:i,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}},{key:"parse",value:function(e){if(e){var t="";for(var n in e)if(""!==e[n]&&"turnNodeWeight"!==e[n])switch(n){case"nodeId":t+="/turnnodeweight/"+e[n];break;case"fromEdgeId":t+="/fromedge/"+e[n];break;case"toEdgeId":t+="/toedge/"+e[n];break;case"weightField":t+="/weightfield/"+e[n]}return t}}}]),t}(MX);WW.UpdateTurnNodeWeightService=e0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var t0=function(){function e(t){oj(this,e),t=t||{},this.datasetName="",this.datasetVectorClip="",this.geometryClip="",this.mode=zY.CLIP,this.output=null,this.mappingParameters=null,rQ.extend(this,t),this.CLASS_NAME="SuperMap.VectorClipJobsParameter"}return sj(e,[{key:"destroy",value:function(){this.datasetName=null,this.datasetVectorClip=null,this.geometryClip=null,this.mode=null,this.output instanceof xX&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof CX&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!==n?"output"!==n?(t.analyst=t.analyst||{},t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):(t.input=t.input||{},t.input[n]=e[n])}}]),e}();WW.VectorClipJobsParameter=t0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var n0=function(e){function t(e,n){var r;return uj(this,t),r=hj(this,mj(t).call(this,e,n)),r.url+="/spatialanalyst/vectorclip",r.CLASS_NAME="SuperMap.VectorClipJobsService",r}return vj(t,e),fj(t,[{key:"destroy",value:function(){yj(mj(t.prototype),"destroy",this).call(this)}},{key:"getVectorClipJobs",value:function(){yj(mj(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getVectorClipJob",value:function(e){yj(mj(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addVectorClipJob",value:function(e,n){yj(mj(t.prototype),"addJob",this).call(this,this.url,e,t0,n)}}]),t}(PX);WW.VectorClipJobsService=n0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var r0=function(){function e(t){bj(this,e),t=t||{},this.type=null,rQ.extend(this,t),this.CLASS_NAME="SuperMap.RasterFunctionParameter"}return _j(e,[{key:"destroy",value:function(){this.type=null}}]),e}();WW.RasterFunctionParameter=r0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var i0=function(e){function t(e){var n;return Oj(this,t),n=Tj(this,Mj(t).call(this,e)),n.redIndex=0,n.nirIndex=1,n.colorMap="0:ffffe5ff;0.1:f7fcb9ff;0.2:d9f0a3ff;0.3:addd8eff;0.4:78c679ff;0.5:41ab5dff;0.6:238443ff;0.7:006837ff;1:004529ff",n.type=KY.NDVI,rQ.extend(Pj(n),e),n.CLASS_NAME="SuperMap.NDVIParameter",n}return Aj(t,e),Cj(t,[{key:"destroy",value:function(){Ej(Mj(t.prototype),"destroy",this).call(this),this.redIndex=null,this.nirIndex=null,this.colorMap=null}},{key:"toJSON",value:function(){return{redIndex:this.redIndex,nirIndex:this.nirIndex,colorMap:this.colorMap,type:this.type}}}]),t}(r0);WW.NDVIParameter=i0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var o0=function(e){function t(e){var n;return Rj(this,t),n=Dj(this,Gj(t).call(this,e)),n.altitude=45,n.azimuth=315,n.zFactor=1,n.type=KY.HILLSHADE,rQ.extend(Fj(n),e),n.CLASS_NAME="SuperMap.HillshadeParameter",n}return zj(t,e),Ij(t,[{key:"destroy",value:function(){Bj(Gj(t.prototype),"destroy",this).call(this),this.altitude=null,this.azimuth=null,this.zFactor=null}},{key:"toJSON",value:function(){return{altitude:this.altitude,azimuth:this.azimuth,zFactor:this.zFactor,type:this.type}}}]),t}(r0);WW.HillshadeParameter=o0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var a0=WW.ServiceStatus={DOES_NOT_INVOLVE:"DOES_NOT_INVOLVE",PUBLISH_FAILED:"PUBLISH_FAILED",PUBLISHED:"PUBLISHED",PUBLISHING:"PUBLISHING",UNPUBLISHED:"UNPUBLISHED",UNPUBLISHED_FAILED:"UNPUBLISHED_FAILED"},s0=WW.DataItemType={AUDIO:"AUDIO",COLOR:"COLOR",COLORSCHEME:"COLORSCHEME",CSV:"CSV",EXCEL:"EXCEL",FILLSYMBOL:"FILLSYMBOL",IMAGE:"IMAGE",LAYERTEMPLATE:"LAYERTEMPLATE",LAYOUTTEMPLATE:"LAYOUTTEMPLATE",LINESYMBOL:"LINESYMBOL",MAPTEMPLATE:"MAPTEMPLATE",MARKERSYMBOL:"MARKERSYMBOL",MBTILES:"MBTILES",PHOTOS:"PHOTOS",SHP:"SHP",SMTILES:"SMTILES",SVTILES:"SVTILES",THEMETEMPLATE:"THEMETEMPLATE",TPK:"TPK",UDB:"UDB",UGCV5:"UGCV5",UNKNOWN:"UNKNOWN",VIDEO:"VIDEO",WORKENVIRONMENT:"WORKENVIRONMENT",WORKSPACE:"WORKSPACE"},l0=WW.DataItemOrderBy={FILENAME:"FILENAME",ID:"ID",LASTMODIFIEDTIME:"LASTMODIFIEDTIME",NICKNAME:"NICKNAME",SERVICESTATUS:"SERVICESTATUS",SIZE:"SIZE",STATUS:"STATUS",TYPE:"TYPE",UPDATETIME:"UPDATETIME",USERNAME:"USERNAME"},u0=WW.FilterField={LINKPAGE:"LINKPAGE",MAPTITLE:"MAPTITLE",NICKNAME:"NICKNAME",RESTITLE:"RESTITLE",USERNAME:"USERNAME"},c0=function(){function e(t){Hj(this,e),t=t||{},rQ.extend(this,t),this.serverType=QW.ONLINE,this.CLASS_NAME="SuperMap.OnlineServiceBase"}return qj(e,[{key:"request",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t=this.createCredentialUrl(t),r.crossOrigin=this.options.crossOrigin,r.headers=this.options.headers,BQ.commit(e,t,n,r).then(function(e){return e.json()})}},{key:"createCredentialUrl",value:function(e){var t=e,n=this.getCredential();if(n){var r="key="+n,i=t.substring(t.length-1,t.length);t.indexOf("?")>-1&&"?"===i?t+=r:t.indexOf("?")>-1&&"?"!==i?t+="&"+r:t+="?"+r}return t}},{key:"getCredential",value:function(){}}]),e}();WW.OnlineServiceBase=c0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var f0=function(e){function t(e,n){var r;return Yj(this,t),r=Kj(this,Zj(t).call(this,e)),n=n||{},r.MD5=null,r.type=null,r.userName=null,r.fileName=null,r.size=null,r.serviceStatus=null,r.serviceId=null,r.id=null,r.lastModfiedTime=null,r.status=null,r.storageId=null,r.publishInfo=null,r.authorizeSetting=null,r.nickname=null,r.tags=[],r.description=null,r.dataItemServices=null,r.coordType=null,r.dataCheckResult=null,r.dataMetaInfo=null,r.thumbnail=null,rQ.extend($j(r),n),r.id&&(r.serviceUrl=e+"/"+r.id),r.CLASS_NAME="SuperMap.OnlineData",r}return eR(t,e),Xj(t,[{key:"load",value:function(){if(this.serviceUrl){var e=this;return e.request("GET",this.serviceUrl).then(function(t){rQ.extend(e,t)})}}},{key:"getPublishedServices",value:function(){return this.dataItemServices}},{key:"getAuthorizeSetting",value:function(){return this.authorizeSetting}}]),t}(c0);WW.OnlineData=f0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var h0=function(){function e(){nR(this,e),this.rootUrl="https://www.supermapol.com",this.webUrl=this.rootUrl+"/web";var t=this.webUrl+"/mycontent";this.mDatasUrl=t+"/datas",this.CLASS_NAME="SuperMap.Online"}return iR(e,[{key:"load",value:function(){return BQ.get(this.rootUrl).then(function(e){return e})}},{key:"login",value:function(){UQ.loginOnline(this.rootUrl,!0)}},{key:"queryDatas",value:function(e){var t=this,n=t.mDatasUrl;return e&&(e=e.toJSON()),BQ.get(n,e).then(function(e){if(e&&e.content&&!(e.content.length<1)){for(var n=[],r=e.content,i=r.length,o=0;o<i;o++){var a=r[o],s=new f0(t.mDatasUrl,a);n.push(s)}return n}})}}]),e}();WW.Online=h0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var p0=function(){function e(t){oR(this,e),t=t||{},this.userNames=null,this.types=null,this.fileName=null,this.serviceStatuses=null,this.serviceId=null,this.ids=null,this.keywords=null,this.orderBy=null,this.tags=null,this.filterFields=null,rQ.extend(this,t),this.CLASS_NAME="SuperMap.OnlineQueryDatasParameter"}return sR(e,[{key:"toJSON",value:function(){var e=this,t={types:e.types,fileName:e.fileName,serviceStatuses:e.serviceStatuses,serviceId:e.serviceId,ids:e.ids,keywords:e.keywords,orderBy:e.orderBy,tags:e.tags,filterFields:e.filterFields};for(var n in t)null==t[n]&&delete t[n];return t}}]),e}();WW.OnlineQueryDatasParameter=p0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var y0=function(){function e(t){lR(this,e),this.name=null,this.serviceIds=null,this.clientType=UY.SERVER,this.limitation=null,rQ.extend(this,t),this.CLASS_NAME="SuperMap.KeyServiceParameter"}return cR(e,[{key:"toJSON",value:function(){return{name:this.name,serviceIds:this.serviceIds,clientType:this.clientType,limitation:this.limitation}}}]),e}();WW.KeyServiceParameter=y0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var d0=function e(t,n){fR(this,e),this.type=t,this.server=null,this.tokenServiceUrl=null,this.keyServiceUrl=null,rQ.extend(this,n),this.CLASS_NAME="SuperMap.ServerInfo",this.type=this.type||QW.ISERVER,this.server||console.error("server url require is not  undefined");var r="/services/security/tokens.json";this.type===QW.ISERVER&&this.server.indexOf("iserver")<0&&(r="/iserver"+r),this.tokenServiceUrl||(this.tokenServiceUrl=this.server+r),this.keyServiceUrl||(this.type===QW.IPORTAL?this.keyServiceUrl=this.server+"/web/mycontent/keys/register.json":this.type===QW.ONLINE&&(this.keyServiceUrl=this.server+"/web/mycontent/keys.json"))};WW.ServerInfo=d0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var m0=function(){function e(t){hR(this,e),this.userName=null,this.password=null,this.clientType=UY.NONE,this.ip=null,this.referer=null,this.expiration=60,rQ.extend(this,t),this.CLASS_NAME="SuperMap.TokenServiceParameter"}return yR(e,[{key:"toJSON",value:function(){return{userName:this.userName,password:this.password,clientType:this.clientType,ip:this.ip,referer:this.referer,expiration:this.expiration}}}]),e}();WW.TokenServiceParameter=m0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var v0=n(10),g0=n.n(v0),b0=function(){function e(t,n){dR(this,e),n=n||{},this.url=t,this.client=new g0.a.Client({host:this.url}),this.change=null,this.openGeoFence=!1,this.outOfGeoFence=null,this.geoFence=null,this.EVENT_TYPES=["change","error","outOfGeoFence"],this.events=new SQ(this,null,this.EVENT_TYPES),this.eventListeners=null,rQ.extend(this,n),this.eventListeners instanceof Object&&this.events.on(this.eventListeners)}return vR(e,[{key:"setGeoFence",value:function(e){this.geoFence=e}},{key:"bulk",value:function(e,t){return this.client.bulk(e,t)}},{key:"clearScroll",value:function(e,t){return this.client.clearScroll(e,t)}},{key:"count",value:function(e,t){return this.client.count(e,t)}},{key:"create",value:function(e,t){return this.client.create(e,t)}},{key:"delete",value:function(e,t){return this.client.delete(e,t)}},{key:"deleteByQuery",value:function(e,t){return this.client.deleteByQuery(e,t)}},{key:"deleteScript",value:function(e,t){return this.client.deleteScript(e,t)}},{key:"deleteTemplate",value:function(e,t){return this.client.deleteTemplate(e,t)}},{key:"exists",value:function(e,t){return this.client.exists(e,t)}},{key:"existsSource",value:function(e,t){return this.client.existsSource(e,t)}},{key:"explain",value:function(e,t){return this.client.explain(e,t)}},{key:"fieldCaps",value:function(e,t){return this.client.fieldCaps(e,t)}},{key:"get",value:function(e,t){return this.client.get(e,t)}},{key:"getScript",value:function(e,t){return this.client.getScript(e,t)}},{key:"getSource",value:function(e,t){return this.client.getSource(e,t)}},{key:"getTemplate",value:function(e,t){return this.client.getTemplate(e,t)}},{key:"index",value:function(e,t){return this.client.index(e,t)}},{key:"info",value:function(e,t){return this.client.info(e,t)}},{key:"mget",value:function(e,t){return this.client.mget(e,t)}},{key:"msearch",value:function(e,t){var n=this;return n.client.msearch(e).then(function(e){return n._update(e.responses,t),e},function(e){return t(e),n.events.triggerEvent("error",{error:e}),e})}},{key:"msearchTemplate",value:function(e,t){return this.client.msearchTemplate(e,t)}},{key:"mtermvectors",value:function(e,t){return this.client.mtermvectors(e,t)}},{key:"ping",value:function(e,t){return this.client.ping(e,t)}},{key:"putScript",value:function(e,t){return this.client.putScript(e,t)}},{key:"putTemplate",value:function(e,t){return this.client.putTemplate(e,t)}},{key:"reindex",value:function(e,t){return this.client.reindex(e,t)}},{key:"reindexRessrottle",value:function(e,t){return this.client.reindexRessrottle(e,t)}},{key:"renderSearchTemplate",value:function(e,t){return this.client.renderSearchTemplate(e,t)}},{key:"scroll",value:function(e,t){return this.client.scroll(e,t)}},{key:"search",value:function(e,t){var n=this;return n.client.search(e).then(function(e){return n._update(e.responses,t),e},function(e){return t(e),n.events.triggerEvent("error",{error:e}),e})}},{key:"searchShards",value:function(e,t){return this.client.searchShards(e,t)}},{key:"searchTemplate",value:function(e,t){return this.client.searchTemplate(e,t)}},{key:"suggest",value:function(e,t){return this.client.suggest(e,t)}},{key:"termvectors",value:function(e,t){return this.client.termvectors(e,t)}},{key:"update",value:function(e,t){return this.client.update(e,t)}},{key:"updateByQuery",value:function(e,t){return this.client.updateByQuery(e,t)}},{key:"_update",value:function(e,t){var n=this;e&&(n.data=e,n.openGeoFence&&n.geoFence&&n._validateDatas(e),n.events.triggerEvent("change",{data:n.data}),n.change?n.change&&n.change(e):t&&t(void 0,{responses:e}))}},{key:"_validateDatas",value:function(e){if(e){e instanceof Array||(e=[e]);var t,n=e.length;for(t=0;t<n;t++)this._validateData(e[t])}}},{key:"_validateData",value:function(e){var t=this;e.hits.hits.map(function(n){var r=n._source,i=t._getMeterPerMapUnit(t.geoFence.unit),o=t.geoFence.center[0]*i,a=t.geoFence.center[1]*i,s=r.x*i,l=r.y*i;return t._distance(s,l,o,a)>t.geoFence.radius&&(t.outOfGeoFence&&t.outOfGeoFence(e),t.events.triggerEvent("outOfGeoFence",{data:e})),n})}},{key:"_distance",value:function(e,t,n,r){return Math.sqrt((e-n)*(e-n)+(t-r)*(t-r))}},{key:"_getMeterPerMapUnit",value:function(e){var t;return"meter"===e?t=1:"degree"===e&&(t=2*Math.PI*6378137/360),t}}]),e}();WW.ElasticSearch=b0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var S0=function(){function e(){bR(this,e),this.BUILTIN_OBJECT={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},this._ctx=null,this._canvas=null,this._pixelCtx=null,this._width=null,this._height=null,this._offsetX=0,this._offsetY=0,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Util"}return _R(e,[{key:"clone",value:function(e){var t=this.BUILTIN_OBJECT;if("object"==gR(e)&&null!==e){var n=e;if(e instanceof Array){n=[];for(var r=0,i=e.length;r<i;r++)n[r]=this.clone(e[r])}else if(!t[Object.prototype.toString.call(e)]){n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=this.clone(e[o]))}return n}return e}},{key:"mergeItem",value:function(e,t,n,r){var i=this.BUILTIN_OBJECT;t.hasOwnProperty(n)&&("object"!=gR(e[n])||i[Object.prototype.toString.call(e[n])]?!r&&n in e||(e[n]=t[n]):this.merge(e[n],t[n],r))}},{key:"merge",value:function(e,t,n){for(var r in t)this.mergeItem(e,t,r,n);return e}},{key:"getContext",value:function(){return this._ctx||(this._ctx=document.createElement("canvas").getContext("2d")),this._ctx}},{key:"getPixelContext",value:function(){return this._pixelCtx||(this._canvas=document.createElement("canvas"),this._width=this._canvas.width,this._height=this._canvas.height,this._pixelCtx=this._canvas.getContext("2d")),this._pixelCtx}},{key:"adjustCanvasSize",value:function(e,t){var n,r=this._canvas,i=this._pixelCtx,o=this._width,a=this._height,s=this._offsetX,l=this._offsetY;e+s>o&&(o=e+s+100,r.width=o,n=!0),t+l>a&&(a=t+l+100,r.height=a,n=!0),e<-s&&(s=100*Math.ceil(-e/100),o+=s,r.width=o,n=!0),t<-l&&(l=100*Math.ceil(-t/100),a+=l,r.height=a,n=!0),n&&i.translate(s,l)}},{key:"getPixelOffset",value:function(){return{x:this._offsetX,y:this._offsetY}}},{key:"indexOf",value:function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}},{key:"inherits",value:function(e,t){function n(){}var r=e.prototype;n.prototype=t.prototype,e.prototype=new n;for(var i in r)e.prototype[i]=r[i];e.constructor=e}}]),e}(),_0=function(){function e(){wR(this,e),this.util=new S0,this._ctx=null,this.palette=["#ff9277"," #dddd00"," #ffc877"," #bbe3ff"," #d5ffbb","#bbbbff"," #ddb000"," #b0dd00"," #e2bbff"," #ffbbe3","#ff7777"," #ff9900"," #83dd00"," #77e3ff"," #778fff","#c877ff"," #ff77ab"," #ff6600"," #aa8800"," #77c7ff","#ad77ff"," #ff77ff"," #dd0083"," #777700"," #00aa00","#0088aa"," #8400dd"," #aa0088"," #dd0000"," #772e00"],this._palette=this.palette,this.highlightColor="rgba(0,0,255,1)",this._highlightColor=this.highlightColor,this.colorRegExp=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,this._nameColors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#f0f",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"},this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Color"}return xR(e,[{key:"customPalette",value:function(e){this.palette=e}},{key:"resetPalette",value:function(){this.palette=this._palette}},{key:"getColor",value:function(e,t){return e|=0,t=t||this.palette,t[e%t.length]}},{key:"customHighlight",value:function(e){this.highlightColor=e}},{key:"resetHighlight",value:function(){this.highlightColor=this._highlightColor}},{key:"getHighlightColor",value:function(){return this.highlightColor}},{key:"getRadialGradient",value:function(e,t,n,r,i,o,a){var s=this.util;this._ctx||(this._ctx=s.getContext());for(var l=this._ctx.createRadialGradient(e,t,n,r,i,o),u=0,c=a.length;u<c;u++)l.addColorStop(a[u][0],a[u][1]);return l.__nonRecursion=!0,l}},{key:"getLinearGradient",value:function(e,t,n,r,i){var o=this.util;this._ctx||(this._ctx=o.getContext());for(var a=this._ctx.createLinearGradient(e,t,n,r),s=0,l=i.length;s<l;s++)a.addColorStop(i[s][0],i[s][1]);return a.__nonRecursion=!0,a}},{key:"getStepColors",value:function(e,t,n){e=this.toRGBA(e),t=this.toRGBA(t),e=this.getData(e),t=this.getData(t);for(var r=[],i=(t[0]-e[0])/n,o=(t[1]-e[1])/n,a=(t[2]-e[2])/n,s=(t[3]-e[3])/n,l=0,u=e[0],c=e[1],f=e[2],h=e[3];l<n;l++)r[l]=this.toColor([this.adjust(Math.floor(u),[0,255]),this.adjust(Math.floor(c),[0,255]),this.adjust(Math.floor(f),[0,255]),h.toFixed(4)-0],"rgba"),u+=i,c+=o,f+=a,h+=s;return u=t[0],c=t[1],f=t[2],h=t[3],r[l]=this.toColor([u,c,f,h],"rgba"),r}},{key:"getGradientColors",value:function(e,t){var n=[],r=e.length;if(void 0===t&&(t=20),1===r)n=this.getStepColors(e[0],e[0],t);else if(r>1)for(var i=0,o=r-1;i<o;i++){var a=this.getStepColors(e[i],e[i+1],t);i<o-1&&a.pop(),n=n.concat(a)}return n}},{key:"toColor",value:function(e,t){if(t=t||"rgb",e&&(3===e.length||4===e.length)){if(e=this.map(e,function(e){return e>1?Math.ceil(e):e}),t.indexOf("hex")>-1)return"#"+((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1);if(t.indexOf("hs")>-1){var n=this.map(e.slice(1,3),function(e){return e+"%"});e[1]=n[0],e[2]=n[1]}return t.indexOf("a")>-1?(3===e.length&&e.push(1),e[3]=this.adjust(e[3],[0,1]),t+"("+e.slice(0,4).join(",")+")"):t+"("+e.slice(0,3).join(",")+")"}}},{key:"toArray",value:function(e){e=this.trim(e),e.indexOf("rgba")<0&&(e=this.toRGBA(e));var t=[],n=0;return e.replace(/[\d.]+/g,function(e){n<3?e|=0:e=+e,t[n++]=e}),t}},{key:"convert",value:function(e,t){if(!this.isCalculableColor(e))return e;var n=this.getData(e),r=n[3];return void 0===r&&(r=1),e.indexOf("hsb")>-1?n=this._HSV_2_RGB(n):e.indexOf("hsl")>-1&&(n=this._HSL_2_RGB(n)),t.indexOf("hsb")>-1||t.indexOf("hsv")>-1?n=this._RGB_2_HSB(n):t.indexOf("hsl")>-1&&(n=this._RGB_2_HSL(n)),n[3]=r,this.toColor(n,t)}},{key:"toRGBA",value:function(e){return this.convert(e,"rgba")}},{key:"toRGB",value:function(e){return this.convert(e,"rgb")}},{key:"toHex",value:function(e){return this.convert(e,"hex")}},{key:"toHSVA",value:function(e){return this.convert(e,"hsva")}},{key:"toHSV",value:function(e){return this.convert(e,"hsv")}},{key:"toHSBA",value:function(e){return this.convert(e,"hsba")}},{key:"toHSB",value:function(e){return this.convert(e,"hsb")}},{key:"toHSLA",value:function(e){return this.convert(e,"hsla")}},{key:"toHSL",value:function(e){return this.convert(e,"hsl")}},{key:"toName",value:function(e){for(var t in this._nameColors)if(this.toHex(this._nameColors[t])===this.toHex(e))return t;return null}},{key:"trim",value:function(e){return String(e).replace(/\s+/g,"")}},{key:"normalize",value:function(e){if(this._nameColors[e]&&(e=this._nameColors[e]),e=this.trim(e),e=e.replace(/hsv/i,"hsb"),/^#[\da-f]{3}$/i.test(e)){e=parseInt(e.slice(1),16);var t=(3840&e)<<8,n=(240&e)<<4,r=15&e;e="#"+((1<<24)+(t<<4)+t+(n<<4)+n+(r<<4)+r).toString(16).slice(1)}return e}},{key:"lift",value:function(e,t){if(!this.isCalculableColor(e))return e;var n=t>0?1:-1;void 0===t&&(t=0),t=Math.abs(t)>1?1:Math.abs(t),e=this.toRGB(e);for(var r=this.getData(e),i=0;i<3;i++)r[i]=1===n?r[i]*(1-t)|0:(255-r[i])*t+r[i]|0;return"rgb("+r.join(",")+")"}},{key:"reverse",value:function(e){if(!this.isCalculableColor(e))return e;var t=this.getData(this.toRGBA(e));return t=this.map(t,function(e){return 255-e}),this.toColor(t,"rgb")}},{key:"mix",value:function(e,t,n){if(!this.isCalculableColor(e)||!this.isCalculableColor(t))return e;void 0===n&&(n=.5),n=1-this.adjust(n,[0,1]);for(var r=2*n-1,i=this.getData(this.toRGBA(e)),o=this.getData(this.toRGBA(t)),a=i[3]-o[3],s=((r*a==-1?r:(r+a)/(1+r*a))+1)/2,l=1-s,u=[],c=0;c<3;c++)u[c]=i[c]*s+o[c]*l;var f=i[3]*n+o[3]*(1-n);return f=Math.max(0,Math.min(1,f)),1===i[3]&&1===o[3]?this.toColor(u,"rgb"):(u[3]=f,this.toColor(u,"rgba"))}},{key:"random",value:function(){return"#"+Math.random().toString(16).slice(2,8)}},{key:"getData",value:function(t){t=this.normalize(t);var n=t.match(this.colorRegExp);if(null===n)throw new Error("The color format error");var r,i,o,a=[];if(n[2])r=n[2].replace("#","").split(""),o=[r[0]+r[1],r[2]+r[3],r[4]+r[5]],a=this.map(o,function(t){return e.prototype.adjust.call(this,parseInt(t,16),[0,255])});else if(n[4]){var s=n[4].split(",");i=s[3],o=s.slice(0,3),a=this.map(o,function(t){return t=Math.floor(t.indexOf("%")>0?2.55*parseInt(t,0):t),e.prototype.adjust.call(this,t,[0,255])}),void 0!==i&&a.push(this.adjust(parseFloat(i),[0,1]))}else if(n[5]||n[6]){var l=(n[5]||n[6]).split(","),u=parseInt(l[0],0)/360,c=l[1],f=l[2];i=l[3],a=this.map([c,f],function(t){return e.prototype.adjust.call(this,parseFloat(t)/100,[0,1])}),a.unshift(u),void 0!==i&&a.push(this.adjust(parseFloat(i),[0,1]))}return a}},{key:"alpha",value:function(e,t){if(!this.isCalculableColor(e))return e;null===t&&(t=1);var n=this.getData(this.toRGBA(e));return n[3]=this.adjust(Number(t).toFixed(4),[0,1]),this.toColor(n,"rgba")}},{key:"map",value:function(e,t){if("function"!=typeof t)throw new TypeError;for(var n=e?e.length:0,r=0;r<n;r++)e[r]=t(e[r]);return e}},{key:"adjust",value:function(e,t){return e<=t[0]?e=t[0]:e>=t[1]&&(e=t[1]),e}},{key:"isCalculableColor",value:function(e){return e instanceof Array||"string"==typeof e}},{key:"_HSV_2_RGB",value:function(e){var t,n,r,i=e[0],o=e[1],a=e[2];if(0===o)t=255*a,n=255*a,r=255*a;else{var s=6*i;6===s&&(s=0);var l=0|s,u=a*(1-o),c=a*(1-o*(s-l)),f=a*(1-o*(1-(s-l))),h=0,p=0,y=0;0===l?(h=a,p=f,y=u):1===l?(h=c,p=a,y=u):2===l?(h=u,p=a,y=f):3===l?(h=u,p=c,y=a):4===l?(h=f,p=u,y=a):(h=a,p=u,y=c),t=255*h,n=255*p,r=255*y}return[t,n,r]}},{key:"_HSL_2_RGB",value:function(e){var t,n,r,i=e[0],o=e[1],a=e[2];if(0===o)t=255*a,n=255*a,r=255*a;else{var s;s=a<.5?a*(1+o):a+o-o*a;var l=2*a-s;t=255*this._HUE_2_RGB(l,s,i+1/3),n=255*this._HUE_2_RGB(l,s,i),r=255*this._HUE_2_RGB(l,s,i-1/3)}return[t,n,r]}},{key:"_HUE_2_RGB",value:function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),6*n<1?e+6*(t-e)*n:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}},{key:"_RGB_2_HSB",value:function(e){var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),l=s-a,u=s;if(0===l)t=0,n=0;else{n=l/s;var c=((s-r)/6+l/2)/l,f=((s-i)/6+l/2)/l,h=((s-o)/6+l/2)/l;r===s?t=h-f:i===s?t=1/3+c-h:o===s&&(t=2/3+f-c),t<0&&(t+=1),t>1&&(t-=1)}return t*=360,n*=100,u*=100,[t,n,u]}},{key:"_RGB_2_HSL",value:function(e){var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),l=s-a,u=(s+a)/2;if(0===l)t=0,n=0;else{n=u<.5?l/(s+a):l/(2-s-a);var c=((s-r)/6+l/2)/l,f=((s-i)/6+l/2)/l,h=((s-o)/6+l/2)/l;r===s?t=h-f:i===s?t=1/3+c-h:o===s&&(t=2/3+f-c),t<0&&(t+=1),t>1&&(t-=1)}return t*=360,n*=100,u*=100,[t,n,u]}}]),e}(),w0=new _0,O0=function(){function e(){CR(this,e)}return PR(e,null,[{key:"createCanvas",value:function(e,t){var n=document.createElement("canvas");return n.height=e,n.width=t,n.getContext("2d")}},{key:"getLinearGradient",value:function(e,t,n,r,i){this._ctx||(this._ctx=this.getContext());for(var o=this._ctx.createLinearGradient(e,t,n,r),a=i.length,s=1/(a-1),l=0,u=0;u<a;u++)o.addColorStop(l,i[u]),l+=s;return o.__nonRecursion=!0,o}},{key:"getContext",value:function(){return this._ctx||(this._ctx=document.createElement("canvas").getContext("2d")),this._ctx}},{key:"getStepColors",value:function(e,t,n){e=w0.toRGBA(e),t=w0.toRGBA(t),e=w0.getData(e),t=w0.getData(t);for(var r=[],i=(t[0]-e[0])/n,o=(t[1]-e[1])/n,a=(t[2]-e[2])/n,s=(t[3]-e[3])/n,l=0,u=e[0],c=e[1],f=e[2],h=e[3];l<n;l++)r[l]=w0.toColor([w0.adjust(Math.floor(u),[0,255]),w0.adjust(Math.floor(c),[0,255]),w0.adjust(Math.floor(f),[0,255]),h.toFixed(4)-0],"hex"),u+=i,c+=o,f+=a,h+=s;return u=t[0],c=t[1],f=t[2],h=t[3],r[l]=w0.toColor([u,c,f,h],"hex"),r}},{key:"getGradientColors",value:function(e,t,n){var r,i,o,a=[],s=e.length;if(void 0!==t){if(s>=t)if("RANGE"===n)for(i=0;i<t;i++)a.push(e[i]);else for(i=0;i<t;i++){var l=Math.floor(i/2);if(i%2==0)a.push(e[l]);else{var u=e.length-1-l;a.push(e[u])}}else{for(r=Math.ceil(t/(s-1)),i=0,o=s-1;i<o;i++){var c=this.getStepColors(e[i],e[i+1],r);i<o-1&&c.pop(),a=a.concat(c)}for(var f=a.length-t,h=0;h<f;h++)a.splice(2,1)}return a}}}]),e}();WW.ColorsPickerUtil=O0;var x0=function(){function e(){ER(this,e)}return MR(e,null,[{key:"newInstance",value:function(){return this.geostatsInstance||(this.geostatsInstance=new window.geostats),this.geostatsInstance}},{key:"getInstance",value:function(e){var t=this.newInstance();return t.setSerie(e),t}},{key:"getArrayStatistic",value:function(e,t){return e.length?"Sum"===t||"æ±å"===t?this.getSum(e):"Maximum"===t||"æå¤§å¼"===t?this.getMax(e):"Minimum"===t||"æå°å¼"===t?this.getMin(e):"Average"===t||"å¹³åå¼"===t?this.getMean(e):"Median"===t||"ä¸­ä½æ°"===t?this.getMedian(e):"times"===t||"è®¡æ°"===t?this.getTimes(e):void 0:0}},{key:"getArraySegments",value:function(e,t,n){if("offset"===t)return this.getEqInterval(e,n);if("jenks"===t)return this.getJenks(e,n);if("square"===t){return this.getMin(e)>=0&&this.getSqrtInterval(e,n)}if("logarithm"===t){return this.getMin(e)>0&&this.getGeometricProgression(e,n)}}},{key:"getSum",value:function(e){return this.getInstance(e).sum()}},{key:"getMax",value:function(e){return this.getInstance(e).max()}},{key:"getMin",value:function(e){return this.getInstance(e).min()}},{key:"getMean",value:function(e){return this.getInstance(e).mean()}},{key:"getMedian",value:function(e){return this.getInstance(e).median()}},{key:"getTimes",value:function(e){return e.length}},{key:"getEqInterval",value:function(e,t){return this.getInstance(e).getClassEqInterval(t)}},{key:"getJenks",value:function(e,t){return this.getInstance(e).getClassJenks(t)}},{key:"getSqrtInterval",value:function(e,t){return e=e.map(function(e){return Math.sqrt(e)}),this.getInstance(e).getClassEqInterval(t).map(function(e){return e*e})}},{key:"getGeometricProgression",value:function(e,t){return this.getInstance(e).getClassGeometricProgression(t)}}]),e}();WW.ArrayStatistic=x0;var C0=function(e){var t;if(e===nY.METER)t=1;else if(e===nY.DEGREE)t=2*Math.PI*6378137/360;else if(e===nY.KILOMETER)t=.001;else if(e===nY.INCH)t=1/.025399999918;else{if(e!==nY.FOOT)return t;t=.3048}return t},T0=n(11),P0=n.n(T0),E0=function(){function e(t){LR(this,e),this.env=null,this.parser=null,this.ruleSet=null,this.cartoStr="",this.shaders=null,"string"==typeof t&&(this.cartoStr=t,this.env={frames:[],errors:[],error:function(e){this.errors.push(e)}},this.parser=this.getParser(this.env),this.parse(t),this.shaders=this.toShaders())}return RR(e,[{key:"getParser",value:function(e){function t(){c=p[u],f=l,y=l}function n(){p[u]=c,l=f,y=l}function r(){l>y&&(p[u]=p[u].slice(l-y),y=l)}function i(e){var t,n,i,o;if(e instanceof Function)return e.call(d.parsers);if("string"==typeof e)t=s.charAt(l)===e?e:null,n=1,r();else{if(r(),!(t=e.exec(p[u])))return null;n=t[0].length}if(t){var a=l+=n;for(o=l+p[u].length-n;l<o&&(32===(i=s.charCodeAt(l))||10===i||9===i);)l++;return p[u]=p[u].slice(n+(l-a)),y=l,0===p[u].length&&u<p.length-1&&u++,"string"==typeof t?t:1===t.length?t[0]:t}}function o(e){return"string"==typeof e?s.charAt(l)===e:!!e.test(p[u])}function a(t){var n,r={index:h,filename:e.filename,message:"Parse error.",line:0,column:-1};for(var i in r)0===t[i]&&(t[i]=r[i]);n=t.filename&&m.env.inputs&&m.env.inputs[t.filename]?m.env.inputs[t.filename]:s,t.line=(n.slice(0,t.index).match(/\n/g)||"").length+1;for(var o=t.index;o>=0&&"\n"!==n.charAt(o);o--)t.column++;return new Error([t.filename,t.line,t.column,t.message].join(";"))}var s,l,u,c,f,h,p,y,d,m=this;return this.env=e=e||{},this.env.filename=this.env.filename||null,this.env.inputs=this.env.inputs||{},d={parse:function(t){var n,r=null;if(l=u=y=h=0,p=[],s=t.replace(/\r\n/g,"\n"),e.filename&&(m.env.inputs[e.filename]=s),p=function(e){for(var t,n,i,o,a=0,l=/(?:@\{[\w-]+\}|[^"'`\{\}\/\(\)\\])+/g,u=/\/\*(?:[^*]|\*+[^\/*])*\*+\/|\/\/.*/g,c=/"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'|`((?:[^`]|\\.)*)`/g,f=0,h=e[0],p=0;p<s.length;)if(l.lastIndex=p,(t=l.exec(s))&&t.index===p&&(p+=t[0].length,h.push(t[0])),i=s.charAt(p),u.lastIndex=c.lastIndex=p,(t=c.exec(s))&&t.index===p)p+=t[0].length,h.push(t[0]);else if(n||"/"!==i||"/"!==(o=s.charAt(p+1))&&"*"!==o||!(t=u.exec(s))||t.index!==p){switch(i){case"{":if(!n){f++,h.push(i);break}case"}":if(!n){f--,h.push(i),e[++a]=h=[];break}case"(":if(!n){n=!0,h.push(i);break}case")":if(n){n=!1,h.push(i);break}default:h.push(i)}p++}else p+=t[0].length,h.push(t[0]);return 0!==f&&(r={index:p-1,type:"Parse",message:f>0?"missing closing `}`":"missing opening `{`"}),e.map(function(e){return e.join("")})}([[]]),r)throw a(r);var o=function(e,t){var n=e.specificity,r=t.specificity;return n[0]!=r[0]?r[0]-n[0]:n[1]!=r[1]?r[1]-n[1]:n[2]!=r[2]?r[2]-n[2]:r[3]-n[3]};return n=new WW.CartoCSS.Tree.Ruleset([],i(this.parsers.primary)),n.root=!0,n.toList=function(){return function(e){e.error=function(t){e.errors||(e.errors=new Error("")),e.errors.message?e.errors.message+="\n"+a(t).message:e.errors.message=a(t).message},e.frames=e.frames||[];var t=this.flatten([],[],e);return t.sort(o),t}}(),n},parsers:{primary:function(){for(var e,t=[];(e=i(this.rule)||i(this.ruleset)||i(this.comment))||i(/^[\s\n]+/)||(e=i(this.invalid));)e&&t.push(e);return t},invalid:function(){var e=i(/^[^;\n]*[;\n]/);if(e)return new WW.CartoCSS.Tree.Invalid(e,f)},comment:function(){var e;if("/"===s.charAt(l))return"/"===s.charAt(l+1)?new WW.CartoCSS.Tree.Comment(i(/^\/\/.*/),!0):(e=i(/^\/\*(?:[^*]|\*+[^\/*])*\*+\/\n?/))?new WW.CartoCSS.Tree.Comment(e):void 0},entities:{quoted:function(){if('"'===s.charAt(l)||"'"===s.charAt(l)){var e=i(/^"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'/);return e?new WW.CartoCSS.Tree.Quoted(e[1]||e[2]):void 0}},field:function(){if(i("[")){var e=i(/(^[^\]]+)/);if(i("]"))return e?new WW.CartoCSS.Tree.Field(e[1]):void 0}},comparison:function(){var e=i(/^=~|=|!=|<=|>=|<|>/);if(e)return e},keyword:function(){var e=i(/^[A-Za-z\u4e00-\u9fa5-]+[A-Za-z-0-9\u4e00-\u9fa5_]*/);if(e)return new WW.CartoCSS.Tree.Keyword(e)},call:function(){var e,t;if(e=/^([\w\-]+|%)\(/.exec(p[u])){if("url"===(e=e[1]))return null;l+=e.length;if(i("("),t=i(this.entities.arguments),i(")"))return e?new WW.CartoCSS.Tree.Call(e,t,l):void 0}},arguments:function(){for(var e,t=[];e=i(this.expression);){t.push(e);if(!i(","))break}return t},literal:function(){return i(this.entities.dimension)||i(this.entities.keywordcolor)||i(this.entities.hexcolor)||i(this.entities.quoted)},url:function(){var e;if("u"===s.charAt(l)&&i(/^url\(/)){e=i(this.entities.quoted)||i(this.entities.variable)||i(/^[\-\w%@$\/.&=:;#+?~]+/)||"";return i(")")?new WW.CartoCSS.Tree.URL(void 0!==e.value||e instanceof WW.CartoCSS.Tree.Variable?e:new WW.CartoCSS.Tree.Quoted(e)):new WW.CartoCSS.Tree.Invalid(e,f,"Missing closing ) in URL.")}},variable:function(){var t,n=l;if("@"===s.charAt(l)&&(t=i(/^@[\w-]+/)))return new WW.CartoCSS.Tree.Variable(t,n,e.filename)},hexcolor:function(){var e;if("#"===s.charAt(l)&&(e=i(/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})/)))return new WW.CartoCSS.Tree.Color(e[1])},keywordcolor:function(){var e=p[u].match(/^[a-z]+/);if(e&&e[0]in WW.CartoCSS.Tree.Reference.data.colors)return new WW.CartoCSS.Tree.Color(WW.CartoCSS.Tree.Reference.data.colors[i(/^[a-z]+/)])},dimension:function(){var e=s.charCodeAt(l);if(!(e>57||e<45||47===e)){var t=i(/^(-?\d*\.?\d+(?:[eE][-+]?\d+)?)(\%|\w+)?/);return t?new WW.CartoCSS.Tree.Dimension(t[1],t[2],f):void 0}}},variable:function(){var e;if("@"===s.charAt(l)&&(e=i(/^(@[\w-]+)\s*:/)))return e[1]},entity:function(){var e=i(this.entities.call)||i(this.entities.literal),t=i(this.entities.field)||i(this.entities.variable),n=i(this.entities.url)||i(this.entities.keyword);return e||t||n},end:function(){return i(";")||o("}")},element:function(){var e=i(/^(?:[.#][\w\u4e00-\u9fa5\-]+|\*|Map)/);if(e)return new WW.CartoCSS.Tree.Element(e)},attachment:function(){var e=i(/^::([\w\-]+(?:\/[\w\-]+)*)/);if(e)return e[1]},selector:function(){for(var e,t,n,r,o,u=[],c=new WW.CartoCSS.Tree.Filterset,h=[],p=0,y=0;(n=i(this.element))||(o=i(this.zoom))||(r=i(this.filter))||(e=i(this.attachment));){if(p++,n)u.push(n);else if(o)h.push(o),y++;else if(r){var d=c.add(r);if(d)throw a({message:d,index:l-1});y++}else{if(t)throw a({message:"Encountered second attachment name.",index:l-1});t=e}var m=s.charAt(l);if("{"===m||"}"===m||";"===m||","===m)break}if(p)return new WW.CartoCSS.Tree.Selector(c,h,u,t,y,f)},filter:function(){t();var n,r,o;if(i("[")&&(n=i(/^[a-zA-Z0-9\-_]+/)||i(this.entities.quoted)||i(this.entities.variable)||i(this.entities.keyword)||i(this.entities.field))&&(n instanceof WW.CartoCSS.Tree.Quoted&&(n=new WW.CartoCSS.Tree.Field(n.toString())),(r=i(this.entities.comparison))&&(o=i(this.entities.quoted)||i(this.entities.variable)||i(this.entities.dimension)||i(this.entities.keyword)||i(this.entities.field)))){if(!i("]"))throw a({message:"Missing closing ] of filter.",index:f-1});return n.is||(n=new WW.CartoCSS.Tree.Field(n)),new WW.CartoCSS.Tree.Filter(n,r,o,f,e.filename)}},zoom:function(){t();var e,r;if(i(/^\[\s*zoom/g)&&(e=i(this.entities.comparison))&&(r=i(this.entities.variable)||i(this.entities.dimension))&&i("]"))return new WW.CartoCSS.Tree.Zoom(e,r,f);n()},block:function(){var e;if(i("{")&&(e=i(this.primary))&&i("}"))return e},ruleset:function(){var e,r,o=[];for(t();e=i(this.selector);){for(o.push(e);i(this.comment););if(!i(","))break;for(;i(this.comment););}if(e)for(;i(this.comment););if(o.length>0&&(r=i(this.block))){if(1===o.length&&o[0].elements.length&&"Map"===o[0].elements[0].value){var a=new WW.CartoCSS.Tree.Ruleset(o,r);return a.isMap=!0,a}return new WW.CartoCSS.Tree.Ruleset(o,r)}n()},rule:function(){var r,o,a=s.charAt(l);if(t(),"."!==a&&"#"!==a&&(r=i(this.variable)||i(this.property))){if((o=i(this.value))&&i(this.end))return new WW.CartoCSS.Tree.Rule(r,o,f,e.filename);h=l,n()}},font:function(){for(var e,t=[],n=[];e=i(this.entity);)n.push(e);if(t.push(new WW.CartoCSS.Tree.Expression(n)),i(","))for(;(e=i(this.expression))&&(t.push(e),i(",")););return new WW.CartoCSS.Tree.Value(t)},value:function(){for(var e,t=[];(e=i(this.expression))&&(t.push(e),i(",")););return t.length>1?new WW.CartoCSS.Tree.Value(t.map(function(e){return e.value[0]})):1===t.length?new WW.CartoCSS.Tree.Value(t):void 0},sub:function(){var e;if(i("(")&&(e=i(this.expression))&&i(")"))return e},multiplication:function(){var e,t,n,r;if(e=i(this.operand)){for(;(n=i("/")||i("*")||i("%"))&&(t=i(this.operand));)r=new WW.CartoCSS.Tree.Operation(n,[r||e,t],f);return r||e}},addition:function(){var e,t,n,r;if(e=i(this.multiplication)){for(;(n=i(/^[-+]\s+/)||" "!=s.charAt(l-1)&&(i("+")||i("-")))&&(t=i(this.multiplication));)r=new WW.CartoCSS.Tree.Operation(n,[r||e,t],f);return r||e}},operand:function(){return i(this.sub)||i(this.entity)},expression:function(){for(var e,t=[];e=i(this.addition)||i(this.entity);)t.push(e);if(t.length>0)return new WW.CartoCSS.Tree.Expression(t)},property:function(){var e=i(/^(([a-z][-a-z_0-9]*\/)?\*?-?[-a-z_0-9]+)\s*:/);if(e)return e[1]}}}}},{key:"parse",value:function(e){var t=this.parser;return this.ruleSet=t.parse(e)}},{key:"toShaders",value:function(){if(this.ruleSet){var e=this.ruleSet;if(e){var t=e.toList(this.env);t.reverse();var n={},r=[];this._toShaders(n,r,t);for(var i=[],o={},a=0,s=t.length;a<s;++a){var l=t[a],u=l.attachment,c=n[r[a]],f=[];if(!o[u]){var h=0;for(var p in c)if("zoom"!==p&&"frames"!==p&&"attachment"!==p&&"elements"!=p)if("layer-index"===p){var y=function(e,t){return c[p].join("\n"),null}();Object.defineProperty(f,"layerIndex",{configurable:!0,enumerable:!1,value:y})}else f[h++]=function(e,t){if(!Array.isArray(e))return e;var n=e.join("\n"),r='attributes["FEATUREID"]&&attributes["FEATUREID"]',i=n.indexOf(r);if(i>=0){if(!t.featureFilter){var o=i+r.length,a=n.indexOf(")",o+1),s="featureId&&(featureId"+n.substring(o,a)+")",l=function(e){return!!s};Object.defineProperty(t,"featureFilter",{configurable:!0,enumerable:!1,value:l})}return{property:p,getValue:Function("attributes","zoom","seftFilter","var _value = null; var isExcute=typeof seftFilter=='function'?sefgFilter():seftFilter;if(isExcute){"+n+";} return _value; ")}}return{property:p,getValue:Function("attributes","zoom","var _value = null;"+n+"; return _value; ")}}(c[p],f);Object.defineProperty(f,"attachment",{configurable:!0,enumerable:!1,value:u}),Object.defineProperty(f,"elements",{configurable:!0,enumerable:!1,value:l.elements}),i.push(f),o[r[a]]=!0}Object.defineProperty(f,"zoom",{configurable:!0,enumerable:!1,value:l.zoom})}return i}}return null}},{key:"_toShaders",value:function(e,t,n){for(var r=0,i=n.length;r<i;++r){for(var o=n[r],a=[],s=0,l=o.elements.length;s<l;s++)a.push(o.elements[s]);var u=o.filters.filters,c=[];for(var f in u)c.push(u[f].id);var h=a.join("/")+"::"+o.attachment+"_"+c.join("_");t.push(h);var p=e[h]=e[h]||{};p.zoom=WW.CartoCSS.Tree.Zoom.all;var y=o.toJS(this.env);for(var d in y)(p[d]=p[d]||[]).push(y[d].join("\n"))}}},{key:"getShaders",value:function(){return this.shaders}},{key:"destroy",value:function(){this.cartoStr=null,this.env=null,this.ruleSet=null,this.parser=null,this.shaders=null}}]),e}();WW._mapnik_reference_latest={version:"2.1.1",style:{"filter-mode":{type:["all","first"],doc:"Control the processing behavior of Rule filters within a Style. If 'all' is used then all Rules are processed sequentially independent of whether any previous filters matched. If 'first' is used then it means processing ends after the first match (a positive filter evaluation) and no further Rules in the Style are processed ('first' is usually the default for CSS implementations on top of Mapnik to simplify translation from CSS to Mapnik XML)","default-value":"all","default-meaning":"All Rules in a Style are processed whether they have filters or not and whether or not the filter conditions evaluate to true."},"image-filters":{css:"image-filters","default-value":"none","default-meaning":"no filters",type:"functions",functions:[["agg-stack-blur",2],["emboss",0],["blur",0],["gray",0],["sobel",0],["edge-detect",0],["x-gradient",0],["y-gradient",0],["invert",0],["sharpen",0]],doc:"A list of image filters."},"comp-op":{css:"comp-op","default-value":"src-over","default-meaning":"add the current layer on top of other layers",doc:"Composite operation. This defines how this layer should behave relative to layers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]},opacity:{css:"opacity",type:"float",doc:"An alpha value for the style (which means an alpha applied to all features in separate buffer and then composited back to main buffer)","default-value":1,"default-meaning":"no separate buffer will be used and no alpha will be applied to the style after rendering"}},layer:{name:{"default-value":"",type:"string",required:!0,"default-meaning":"No layer name has been provided",doc:"The name of a layer. Can be anything you wish and is not strictly validated, but ideally unique  in the map"},srs:{"default-value":"",type:"string","default-meaning":"No srs value is provided and the value will be inherited from the Map's srs",doc:"The spatial reference system definition for the layer, aka the projection. Can either be a proj4 literal string like '+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs' or, if the proper proj4 epsg/nad/etc identifier files are installed, a string that uses an id like: '+init=epsg:4326'"},status:{"default-value":!0,type:"boolean","default-meaning":"This layer will be marked as active and available for processing",doc:"A property that can be set to false to disable this layer from being processed"},minzoom:{"default-value":"0",type:"float","default-meaning":"The layer will be visible at the minimum possible scale",doc:"The minimum scale denominator that this layer will be visible at. A layer's visibility is determined by whether its status is true and if the Map scale >= minzoom - 1e-6 and scale < maxzoom + 1e-6"},maxzoom:{"default-value":"1.79769e+308",type:"float","default-meaning":"The layer will be visible at the maximum possible scale",doc:"The maximum scale denominator that this layer will be visible at. The default is the numeric limit of the C++ double type, which may vary slightly by system, but is likely a massive number like 1.79769e+308 and ensures that this layer will always be visible unless the value is reduced. A layer's visibility is determined by whether its status is true and if the Map scale >= minzoom - 1e-6 and scale < maxzoom + 1e-6"},queryable:{"default-value":!1,type:"boolean","default-meaning":"The layer will not be available for the direct querying of data values",doc:"This property was added for GetFeatureInfo/WMS compatibility and is rarely used. It is off by default meaning that in a WMS context the layer will not be able to be queried unless the property is explicitly set to true"},"clear-label-cache":{"default-value":!1,type:"boolean","default-meaning":"The renderer's collision detector cache (used for avoiding duplicate labels and overlapping markers) will not be cleared immediately before processing this layer",
doc:"This property, by default off, can be enabled to allow a user to clear the collision detector cache before a given layer is processed. This may be desirable to ensure that a given layers data shows up on the map even if it normally would not because of collisions with previously rendered labels or markers"},"group-by":{"default-value":"",type:"string","default-meaning":"No special layer grouping will be used during rendering",doc:"https://github.com/mapnik/mapnik/wiki/Grouped-rendering"},"buffer-size":{"default-value":"0",type:"float","default-meaning":"No buffer will be used",doc:"Extra tolerance around the Layer extent (in pixels) used to when querying and (potentially) clipping the layer data during rendering"},"maximum-extent":{"default-value":"none",type:"bbox","default-meaning":"No clipping extent will be used",doc:"An extent to be used to limit the bounds used to query this specific layer data during rendering. Should be minx, miny, maxx, maxy in the coordinates of the Layer."}},symbolizers:{"*":{"image-filters":{css:"image-filters","default-value":"none","default-meaning":"no filters",type:"functions",functions:[["agg-stack-blur",2],["emboss",0],["blur",0],["gray",0],["sobel",0],["edge-detect",0],["x-gradient",0],["y-gradient",0],["invert",0],["sharpen",0]],doc:"A list of image filters."},"comp-op":{css:"comp-op","default-value":"src-over","default-meaning":"add the current layer on top of other layers",doc:"Composite operation. This defines how this layer should behave relative to layers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]},opacity:{css:"opacity",type:"float",doc:"An alpha value for the style (which means an alpha applied to all features in separate buffer and then composited back to main buffer)","default-value":1,"default-meaning":"no separate buffer will be used and no alpha will be applied to the style after rendering"}},map:{"background-color":{css:"background-color","default-value":"none","default-meaning":"transparent",type:"color",doc:"Map Background color"},"background-image":{css:"background-image",type:"uri","default-value":"","default-meaning":"transparent",doc:"An image that is repeated below all features on a map as a background.",description:"Map Background image"},srs:{css:"srs",type:"string","default-value":"+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs","default-meaning":"The proj4 literal of EPSG:4326 is assumed to be the Map's spatial reference and all data from layers within this map will be plotted using this coordinate system. If any layers do not declare an srs value then they will be assumed to be in the same srs as the Map and not transformations will be needed to plot them in the Map's coordinate space",doc:"Map spatial reference (proj4 string)"},"buffer-size":{css:"buffer-size","default-value":"0",type:"float","default-meaning":"No buffer will be used",doc:'Extra tolerance around the map (in pixels) used to ensure labels crossing tile boundaries are equally rendered in each tile (e.g. cut in each tile). Not intended to be used in combination with "avoid-edges".'},"maximum-extent":{css:"","default-value":"none",type:"bbox","default-meaning":"No clipping extent will be used",doc:"An extent to be used to limit the bounds used to query all layers during rendering. Should be minx, miny, maxx, maxy in the coordinates of the Map."},base:{css:"base","default-value":"","default-meaning":"This base path defaults to an empty string meaning that any relative paths to files referenced in styles or layers will be interpreted relative to the application process.",type:"string",doc:"Any relative paths used to reference files will be understood as relative to this directory path if the map is loaded from an in memory object rather than from the filesystem. If the map is loaded from the filesystem and this option is not provided it will be set to the directory of the stylesheet."},"paths-from-xml":{css:"","default-value":!0,"default-meaning":"Paths read from XML will be interpreted from the location of the XML",type:"boolean",doc:"value to control whether paths in the XML will be interpreted from the location of the XML or from the working directory of the program that calls load_map()"},"minimum-version":{css:"","default-value":"none","default-meaning":"Mapnik version will not be detected and no error will be thrown about compatibility",type:"string",doc:"The minumum Mapnik version (e.g. 0.7.2) needed to use certain functionality in the stylesheet"},"font-directory":{css:"font-directory",type:"uri","default-value":"none","default-meaning":"No map-specific fonts will be registered",doc:"Path to a directory which holds fonts which should be registered when the Map is loaded (in addition to any fonts that may be automatically registered)."}},polygon:{fill:{css:"polygon-fill",type:"color","default-value":"rgba(128,128,128,1)","default-meaning":"gray and fully opaque (alpha = 1), same as rgb(128,128,128)",doc:"Fill color to assign to a polygon"},"fill-opacity":{css:"polygon-opacity",type:"float",doc:"The opacity of the polygon","default-value":1,"default-meaning":"opaque"},gamma:{css:"polygon-gamma",type:"float","default-value":1,"default-meaning":"fully antialiased",range:"0-1",doc:"Level of antialiasing of polygon edges"},"gamma-method":{css:"polygon-gamma-method",type:["power","linear","none","threshold","multiply"],"default-value":"power","default-meaning":"pow(x,gamma) is used to calculate pixel gamma, which produces slightly smoother line and polygon antialiasing than the 'linear' method, while other methods are usually only used to disable AA",doc:"An Antigrain Geometry specific rendering hint to control the quality of antialiasing. Under the hood in Mapnik this method is used in combination with the 'gamma' value (which defaults to 1). The methods are in the AGG source at https://github.com/mapnik/mapnik/blob/master/deps/agg/include/agg_gamma_functions.h"},clip:{css:"polygon-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"polygon-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},"geometry-transform":{css:"polygon-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"polygon-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},line:{stroke:{css:"line-color","default-value":"rgba(0,0,0,1)",type:"color","default-meaning":"black and fully opaque (alpha = 1), same as rgb(0,0,0)",doc:"The color of a drawn line"},"stroke-width":{css:"line-width","default-value":1,type:"float",doc:"The width of a line in pixels"},"stroke-opacity":{css:"line-opacity","default-value":1,type:"float","default-meaning":"opaque",doc:"The opacity of a line"},"stroke-linejoin":{css:"line-join","default-value":"miter",type:["miter","round","bevel"],doc:"The behavior of lines when joining"},"stroke-linecap":{css:"line-cap","default-value":"butt",type:["butt","round","square"],doc:"The display of line endings"},"stroke-gamma":{css:"line-gamma",type:"float","default-value":1,"default-meaning":"fully antialiased",range:"0-1",doc:"Level of antialiasing of stroke line"},"stroke-gamma-method":{css:"line-gamma-method",type:["power","linear","none","threshold","multiply"],"default-value":"power","default-meaning":"pow(x,gamma) is used to calculate pixel gamma, which produces slightly smoother line and polygon antialiasing than the 'linear' method, while other methods are usually only used to disable AA",doc:"An Antigrain Geometry specific rendering hint to control the quality of antialiasing. Under the hood in Mapnik this method is used in combination with the 'gamma' value (which defaults to 1). The methods are in the AGG source at https://github.com/mapnik/mapnik/blob/master/deps/agg/include/agg_gamma_functions.h"},"stroke-dasharray":{css:"line-dasharray",type:"numbers",doc:"A pair of length values [a,b], where (a) is the dash length and (b) is the gap length respectively. More than two values are supported for more complex patterns.","default-value":"none","default-meaning":"solid line"},"stroke-dashoffset":{css:"line-dash-offset",type:"numbers",doc:"valid parameter but not currently used in renderers (only exists for experimental svg support in Mapnik which is not yet enabled)","default-value":"none","default-meaning":"solid line"},"stroke-miterlimit":{css:"line-miterlimit",type:"float",doc:"The limit on the ratio of the miter length to the stroke-width. Used to automatically convert miter joins to bevel joins for sharp angles to avoid the miter extending beyond the thickness of the stroking path. Normally will not need to be set, but a larger value can sometimes help avoid jaggy artifacts.","default-value":4,"default-meaning":"Will auto-convert miters to bevel line joins when theta is less than 29 degrees as per the SVG spec: 'miterLength / stroke-width = 1 / sin ( theta / 2 )'"},clip:{css:"line-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"line-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},offset:{css:"line-offset",type:"float","default-value":0,"default-meaning":"no offset",doc:"Offsets a line a number of pixels parallel to its actual path. Postive values move the line left, negative values move it right (relative to the directionality of the line)."},rasterizer:{css:"line-rasterizer",type:["full","fast"],"default-value":"full",doc:"Exposes an alternate AGG rendering method that sacrifices some accuracy for speed."},"geometry-transform":{css:"line-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"line-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},markers:{file:{css:"marker-file",doc:"An SVG file that this marker shows at each placement. If no file is given, the marker will show an ellipse.","default-value":"","default-meaning":"An ellipse or circle, if width equals height",type:"uri"},opacity:{css:"marker-opacity",doc:"The overall opacity of the marker, if set, overrides both the opacity of both the fill and stroke","default-value":1,"default-meaning":"The stroke-opacity and fill-opacity will be used",type:"float"},"fill-opacity":{css:"marker-fill-opacity",doc:"The fill opacity of the marker","default-value":1,"default-meaning":"opaque",type:"float"},stroke:{css:"marker-line-color",doc:"The color of the stroke around a marker shape.","default-value":"black",type:"color"},"stroke-width":{css:"marker-line-width",doc:"The width of the stroke around a marker shape, in pixels. This is positioned on the boundary, so high values can cover the area itself.",type:"float"},"stroke-opacity":{css:"marker-line-opacity","default-value":1,"default-meaning":"opaque",doc:"The opacity of a line",type:"float"},placement:{css:"marker-placement",type:["point","line","interior"],"default-value":"point","default-meaning":"Place markers at the center point (centroid) of the geometry",doc:"Attempt to place markers on a point, in the center of a polygon, or if markers-placement:line, then multiple times along a line. 'interior' placement can be used to ensure that points placed on polygons are forced to be inside the polygon interior"},"multi-policy":{css:"marker-multi-policy",type:["each","whole","largest"],"default-value":"each","default-meaning":"If a feature contains multiple geometries and the placement type is either point or interior then a marker will be rendered for each",doc:"A special setting to allow the user to control rendering behavior for 'multi-geometries' (when a feature contains multiple geometries). This setting does not apply to markers placed along lines. The 'each' policy is default and means all geometries will get a marker. The 'whole' policy means that the aggregate centroid between all geometries will be used. The 'largest' policy means that only the largest (by bounding box areas) feature will get a rendered marker (this is how text labeling behaves by default)."},"marker-type":{css:"marker-type",type:["arrow","ellipse"],"default-value":"ellipse",doc:"The default marker-type. If a SVG file is not given as the marker-file parameter, the renderer provides either an arrow or an ellipse (a circle if height is equal to width)"},width:{css:"marker-width","default-value":10,doc:"The width of the marker, if using one of the default types.",type:"expression"},height:{css:"marker-height","default-value":10,doc:"The height of the marker, if using one of the default types.",type:"expression"},fill:{css:"marker-fill","default-value":"blue",doc:"The color of the area of the marker.",type:"color"},"allow-overlap":{css:"marker-allow-overlap",type:"boolean","default-value":!1,doc:"Control whether overlapping markers are shown or hidden.","default-meaning":"Do not allow makers to overlap with each other - overlapping markers will not be shown."},"ignore-placement":{css:"marker-ignore-placement",type:"boolean","default-value":!1,"default-meaning":"do not store the bbox of this geometry in the collision detector cache",doc:"value to control whether the placement of the feature will prevent the placement of other features"},spacing:{css:"marker-spacing",doc:"Space between repeated labels","default-value":100,type:"float"},"max-error":{css:"marker-max-error",type:"float","default-value":.2,doc:"The maximum difference between actual marker placement and the marker-spacing parameter. Setting a high value can allow the renderer to try to resolve placement conflicts with other symbolizers."},transform:{css:"marker-transform",type:"functions",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]],"default-value":"","default-meaning":"No transformation",doc:"SVG transformation definition"},clip:{css:"marker-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"marker-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},"geometry-transform":{css:"marker-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"marker-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},shield:{name:{css:"shield-name",type:"expression",serialization:"content",doc:'Value to use for a shield"s text label. Data columns are specified using brackets like [column_name]'},file:{css:"shield-file",required:!0,type:"uri","default-value":"none",doc:"Image file to render behind the shield text"},"face-name":{css:"shield-face-name",type:"string",validate:"font",doc:"Font name and style to use for the shield text","default-value":"",required:!0},"unlock-image":{css:"shield-unlock-image",type:"boolean",doc:"This parameter should be set to true if you are trying to position text beside rather than on top of the shield image","default-value":!1,"default-meaning":"text alignment relative to the shield image uses the center of the image as the anchor for text positioning."},size:{css:"shield-size",type:"float",doc:"The size of the shield text in pixels"},fill:{css:"shield-fill",type:"color",doc:"The color of the shield text"},placement:{css:"shield-placement",type:["point","line","vertex","interior"],"default-value":"point",doc:"How this shield should be placed. Point placement attempts to place it on top of points, line places along lines multiple times per feature, vertex places on the vertexes of polygons, and interior attempts to place inside of polygons."},"avoid-edges":{css:"shield-avoid-edges",doc:"Tell positioning algorithm to avoid labeling near intersection edges.",type:"boolean","default-value":!1},"allow-overlap":{css:"shield-allow-overlap",type:"boolean","default-value":!1,doc:"Control whether overlapping shields are shown or hidden.","default-meaning":"Do not allow shields to overlap with other map elements already placed."},"minimum-distance":{css:"shield-min-distance",type:"float","default-value":0,doc:"Minimum distance to the next shield symbol, not necessarily the same shield."},spacing:{css:"shield-spacing",type:"float","default-value":0,doc:"The spacing between repeated occurrences of the same shield on a line"},"minimum-padding":{css:"shield-min-padding","default-value":0,doc:"Determines the minimum amount of padding that a shield gets relative to other shields",type:"float"},"wrap-width":{css:"shield-wrap-width",type:"unsigned","default-value":0,doc:"Length of a chunk of text in characters before wrapping text"},"wrap-before":{css:"shield-wrap-before",type:"boolean","default-value":!1,doc:"Wrap text before wrap-width is reached. If false, wrapped lines will be a bit longer than wrap-width."},"wrap-character":{css:"shield-wrap-character",type:"string","default-value":" ",doc:"Use this character instead of a space to wrap long names."},"halo-fill":{css:"shield-halo-fill",type:"color","default-value":"#FFFFFF","default-meaning":"white",doc:"Specifies the color of the halo around the text."},"halo-radius":{css:"shield-halo-radius",doc:"Specify the radius of the halo in pixels","default-value":0,"default-meaning":"no halo",type:"float"},"character-spacing":{css:"shield-character-spacing",type:"unsigned","default-value":0,doc:"Horizontal spacing between characters (in pixels). Currently works for point placement only, not line placement."},"line-spacing":{css:"shield-line-spacing",doc:"Vertical spacing between lines of multiline labels (in pixels)",type:"unsigned"},dx:{css:"shield-text-dx",type:"float",doc:"Displace text within shield by fixed amount, in pixels, +/- along the X axis.  A positive value will shift the text right","default-value":0},dy:{css:"shield-text-dy",type:"float",doc:"Displace text within shield by fixed amount, in pixels, +/- along the Y axis.  A positive value will shift the text down","default-value":0},"shield-dx":{css:"shield-dx",type:"float",doc:"Displace shield by fixed amount, in pixels, +/- along the X axis.  A positive value will shift the text right","default-value":0},"shield-dy":{css:"shield-dy",type:"float",doc:"Displace shield by fixed amount, in pixels, +/- along the Y axis.  A positive value will shift the text down","default-value":0},opacity:{css:"shield-opacity",type:"float",doc:"(Default 1.0) - opacity of the image used for the shield","default-value":1},"text-opacity":{css:"shield-text-opacity",type:"float",doc:"(Default 1.0) - opacity of the text placed on top of the shield","default-value":1},"horizontal-alignment":{css:"shield-horizontal-alignment",type:["left","middle","right","auto"],doc:"The shield's horizontal alignment from its centerpoint","default-value":"auto"},"vertical-alignment":{css:"shield-vertical-alignment",type:["top","middle","bottom","auto"],doc:"The shield's vertical alignment from its centerpoint","default-value":"middle"},"text-transform":{css:"shield-text-transform",type:["none","uppercase","lowercase","capitalize"],doc:"Transform the case of the characters","default-value":"none"},"justify-alignment":{css:"shield-justify-alignment",type:["left","center","right","auto"],doc:"Define how text in a shield's label is justified","default-value":"auto"},clip:{css:"shield-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},"comp-op":{css:"shield-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},"line-pattern":{file:{css:"line-pattern-file",type:"uri","default-value":"none",required:!0,doc:"An image file to be repeated and warped along a line"},clip:{css:"line-pattern-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"line-pattern-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},"geometry-transform":{css:"line-pattern-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"line-pattern-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},"polygon-pattern":{file:{css:"polygon-pattern-file",type:"uri","default-value":"none",required:!0,doc:"Image to use as a repeated pattern fill within a polygon"},alignment:{css:"polygon-pattern-alignment",type:["local","global"],"default-value":"local",doc:"Specify whether to align pattern fills to the layer or to the map."},gamma:{css:"polygon-pattern-gamma",type:"float","default-value":1,"default-meaning":"fully antialiased",range:"0-1",doc:"Level of antialiasing of polygon pattern edges"},opacity:{css:"polygon-pattern-opacity",type:"float",doc:"(Default 1.0) - Apply an opacity level to the image used for the pattern","default-value":1,"default-meaning":"The image is rendered without modifications"},clip:{css:"polygon-pattern-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"polygon-pattern-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},"geometry-transform":{css:"polygon-pattern-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"polygon-pattern-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},raster:{opacity:{css:"raster-opacity","default-value":1,"default-meaning":"opaque",type:"float",doc:"The opacity of the raster symbolizer on top of other symbolizers."},"filter-factor":{css:"raster-filter-factor","default-value":-1,"default-meaning":"Allow the datasource to choose appropriate downscaling.",type:"float",doc:"This is used by the Raster or Gdal datasources to pre-downscale images using overviews. Higher numbers can sometimes cause much better scaled image output, at the cost of speed."},scaling:{css:"raster-scaling",type:["near","fast","bilinear","bilinear8","bicubic","spline16","spline36","hanning","hamming","hermite","kaiser","quadric","catrom","gaussian","bessel","mitchell","sinc","lanczos","blackman"],"default-value":"near",doc:"The scaling algorithm used to making different resolution versions of this raster layer. Bilinear is a good compromise between speed and accuracy, while lanczos gives the highest quality."},"mesh-size":{css:"raster-mesh-size","default-value":16,"default-meaning":"Reprojection mesh will be 1/16 of the resolution of the source image",type:"unsigned",doc:"A reduced resolution mesh is used for raster reprojection, and the total image size is divided by the mesh-size to determine the quality of that mesh. Values for mesh-size larger than the default will result in faster reprojection but might lead to distortion."},"comp-op":{css:"raster-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},point:{file:{css:"point-file",type:"uri",required:!1,"default-value":"none",doc:"Image file to represent a point"},"allow-overlap":{css:"point-allow-overlap",type:"boolean","default-value":!1,doc:"Control whether overlapping points are shown or hidden.","default-meaning":"Do not allow points to overlap with each other - overlapping markers will not be shown."},"ignore-placement":{css:"point-ignore-placement",type:"boolean","default-value":!1,"default-meaning":"do not store the bbox of this geometry in the collision detector cache",doc:"value to control whether the placement of the feature will prevent the placement of other features"},opacity:{css:"point-opacity",type:"float","default-value":1,"default-meaning":"Fully opaque",doc:"A value from 0 to 1 to control the opacity of the point"},placement:{css:"point-placement",type:["centroid","interior"],doc:"How this point should be placed. Centroid calculates the geometric center of a polygon, which can be outside of it, while interior always places inside of a polygon.","default-value":"centroid"},transform:{css:"point-transform",type:"functions",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]],"default-value":"","default-meaning":"No transformation",doc:"SVG transformation definition"},"comp-op":{css:"point-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},text:{name:{css:"text-name",type:"expression",required:!0,"default-value":"",serialization:"content",doc:"Value to use for a text label. Data columns are specified using brackets like [column_name]"},"face-name":{css:"text-face-name",type:"string",validate:"font",doc:"Font name and style to render a label in",required:!0},size:{css:"text-size",type:"float","default-value":10,doc:"Text size in pixels"},"text-ratio":{css:"text-ratio",doc:"Define the amount of text (of the total) present on successive lines when wrapping occurs","default-value":0,type:"unsigned"},"wrap-width":{css:"text-wrap-width",doc:"Length of a chunk of text in characters before wrapping text","default-value":0,type:"unsigned"},"wrap-before":{css:"text-wrap-before",type:"boolean","default-value":!1,
doc:"Wrap text before wrap-width is reached. If false, wrapped lines will be a bit longer than wrap-width."},"wrap-character":{css:"text-wrap-character",type:"string","default-value":" ",doc:"Use this character instead of a space to wrap long text."},spacing:{css:"text-spacing",type:"unsigned",doc:"Distance between repeated text labels on a line (aka. label-spacing)"},"character-spacing":{css:"text-character-spacing",type:"float","default-value":0,doc:"Horizontal spacing adjustment between characters in pixels"},"line-spacing":{css:"text-line-spacing","default-value":0,type:"unsigned",doc:"Vertical spacing adjustment between lines in pixels"},"label-position-tolerance":{css:"text-label-position-tolerance","default-value":0,type:"unsigned",doc:"Allows the label to be displaced from its ideal position by a number of pixels (only works with placement:line)"},"max-char-angle-delta":{css:"text-max-char-angle-delta",type:"float","default-value":"22.5",doc:"The maximum angle change, in degrees, allowed between adjacent characters in a label. This value internally is converted to radians to the default is 22.5*math.pi/180.0. The higher the value the fewer labels will be placed around around sharp corners."},fill:{css:"text-fill",doc:"Specifies the color for the text","default-value":"#000000",type:"color"},opacity:{css:"text-opacity",doc:"A number from 0 to 1 specifying the opacity for the text","default-value":1,"default-meaning":"Fully opaque",type:"float"},"halo-fill":{css:"text-halo-fill",type:"color","default-value":"#FFFFFF","default-meaning":"white",doc:"Specifies the color of the halo around the text."},"halo-radius":{css:"text-halo-radius",doc:"Specify the radius of the halo in pixels","default-value":0,"default-meaning":"no halo",type:"float"},dx:{css:"text-dx",type:"float",doc:"Displace text by fixed amount, in pixels, +/- along the X axis.  A positive value will shift the text right","default-value":0},dy:{css:"text-dy",type:"float",doc:"Displace text by fixed amount, in pixels, +/- along the Y axis.  A positive value will shift the text down","default-value":0},"vertical-alignment":{css:"text-vertical-alignment",type:["top","middle","bottom","auto"],doc:"Position of label relative to point position.","default-value":"auto","default-meaning":'Default affected by value of dy; "bottom" for dy>0, "top" for dy<0.'},"avoid-edges":{css:"text-avoid-edges",doc:"Tell positioning algorithm to avoid labeling near intersection edges.","default-value":!1,type:"boolean"},"minimum-distance":{css:"text-min-distance",doc:"Minimum permitted distance to the next text symbolizer.",type:"float"},"minimum-padding":{css:"text-min-padding",doc:"Determines the minimum amount of padding that a text symbolizer gets relative to other text",type:"float"},"minimum-path-length":{css:"text-min-path-length",type:"float","default-value":0,"default-meaning":"place labels on all paths",doc:"Place labels only on paths longer than this value."},"allow-overlap":{css:"text-allow-overlap",type:"boolean","default-value":!1,doc:"Control whether overlapping text is shown or hidden.","default-meaning":"Do not allow text to overlap with other text - overlapping markers will not be shown."},orientation:{css:"text-orientation",type:"expression",doc:"Rotate the text."},placement:{css:"text-placement",type:["point","line","vertex","interior"],"default-value":"point",doc:"Control the style of placement of a point versus the geometry it is attached to."},"placement-type":{css:"text-placement-type",doc:'Re-position and/or re-size text to avoid overlaps. "simple" for basic algorithm (using text-placements string,) "dummy" to turn this feature off.',type:["dummy","simple"],"default-value":"dummy"},placements:{css:"text-placements",type:"string","default-value":"",doc:'If "placement-type" is set to "simple", use this "POSITIONS,[SIZES]" string. An example is `text-placements: "E,NE,SE,W,NW,SW";` '},"text-transform":{css:"text-transform",type:["none","uppercase","lowercase","capitalize"],doc:"Transform the case of the characters","default-value":"none"},"horizontal-alignment":{css:"text-horizontal-alignment",type:["left","middle","right","auto"],doc:"The text's horizontal alignment from its centerpoint","default-value":"auto"},"justify-alignment":{css:"text-align",type:["left","right","center","auto"],doc:"Define how text is justified","default-value":"auto","default-meaning":"Auto alignment means that text will be centered by default except when using the `placement-type` parameter - in that case either right or left justification will be used automatically depending on where the text could be fit given the `text-placements` directives"},clip:{css:"text-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},"comp-op":{css:"text-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},building:{fill:{css:"building-fill","default-value":"#FFFFFF",doc:"The color of the buildings walls.",type:"color"},"fill-opacity":{css:"building-fill-opacity",type:"float",doc:"The opacity of the building as a whole, including all walls.","default-value":1},height:{css:"building-height",doc:"The height of the building in pixels.",type:"expression","default-value":"0"}}},colors:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50],transparent:[0,0,0,0]},filter:{value:["true","false","null","point","linestring","polygon","collection"]}},E0.mapnik_reference={version:{latest:WW._mapnik_reference_latest,"2.1.1":WW._mapnik_reference_latest}},WW.CartoCSS=E0,WW.CartoCSS.Tree={},WW.CartoCSS.Tree.operate=function(e,t,n){switch(e){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"%":return t%n;case"/":return t/n}},WW.CartoCSS.Tree.functions={rgb:function(e,t,n){return this.rgba(e,t,n,1)},rgba:function(e,t,n,r){var i=this,o=[e,t,n].map(function(e){return i.number(e)});return r=i.number(r),o.some(isNaN)||isNaN(r)?null:new WW.CartoCSS.Tree.Color(o,r)},stop:function(e){var t,n;return arguments.length>1&&(t=arguments[1]),arguments.length>2&&(n=arguments[2]),{is:"tag",val:e,color:t,mode:n,toString:function(r){return'\n\t<stop value="'+e.ev(r)+'"'+(t?' color="'+t.ev(r)+'" ':"")+(n?' mode="'+n.ev(r)+'" ':"")+"/>"}}},hsl:function(e,t,n){return this.hsla(e,t,n,1)},hsla:function(e,t,n,r){function i(e){return e=e<0?e+1:e>1?e-1:e,6*e<1?a+(o-a)*e*6:2*e<1?o:3*e<2?a+(o-a)*(2/3-e)*6:a}if(e=this.number(e)%360/360,t=this.number(t),n=this.number(n),r=this.number(r),[e,t,n,r].some(isNaN))return null;var o=n<=.5?n*(t+1):n+t-n*t,a=2*n-o;return this.rgba(255*i(e+1/3),255*i(e),255*i(e-1/3),r)},hue:function(e){return"toHSL"in e?new WW.CartoCSS.Tree.Dimension(Math.round(e.toHSL().h)):null},saturation:function(e){return"toHSL"in e?new WW.CartoCSS.Tree.Dimension(Math.round(100*e.toHSL().s),"%"):null},lightness:function(e){return"toHSL"in e?new WW.CartoCSS.Tree.Dimension(Math.round(100*e.toHSL().l),"%"):null},alpha:function(e){return"toHSL"in e?new WW.CartoCSS.Tree.Dimension(e.toHSL().a):null},saturate:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL();return n.s+=t.value/100,n.s=this.clamp(n.s),this.hsla_simple(n)},desaturate:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL();return n.s-=t.value/100,n.s=this.clamp(n.s),this.hsla_simple(n)},lighten:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL();return n.l+=t.value/100,n.l=this.clamp(n.l),this.hsla_simple(n)},darken:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL();return n.l-=t.value/100,n.l=this.clamp(n.l),this.hsla_simple(n)},fadein:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL();return n.a+=t.value/100,n.a=this.clamp(n.a),this.hsla_simple(n)},fadeout:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL();return n.a-=t.value/100,n.a=this.clamp(n.a),this.hsla_simple(n)},spin:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL(),r=(n.h+t.value)%360;return n.h=r<0?360+r:r,this.hsla_simple(n)},replace:function(e,t,n){return"field"===e.is?e.toString+".replace("+t.toString()+", "+n.toString()+")":e.replace(t,n)},mix:function(e,t,n){var r=n.value/100,i=2*r-1,o=e.toHSL().a-t.toHSL().a,a=((i*o==-1?i:(i+o)/(1+i*o))+1)/2,s=1-a,l=[e.rgb[0]*a+t.rgb[0]*s,e.rgb[1]*a+t.rgb[1]*s,e.rgb[2]*a+t.rgb[2]*s],u=e.alpha*r+t.alpha*(1-r);return new WW.CartoCSS.Tree.Color(l,u)},greyscale:function(e){return this.desaturate(e,new WW.CartoCSS.Tree.Dimension(100))},"%":function(e){for(var t=Array.prototype.slice.call(arguments,1),n=e.value,r=0;r<t.length;r++)n=n.replace(/%s/,t[r].value).replace(/%[da]/,t[r].toString());return n=n.replace(/%%/g,"%"),new WW.CartoCSS.Tree.Quoted(n)},hsla_simple:function(e){return this.hsla(e.h,e.s,e.l,e.a)},number:function(e){return e instanceof WW.CartoCSS.Tree.Dimension?parseFloat("%"===e.unit?e.value/100:e.value):"number"==typeof e?e:NaN},clamp:function(e){return Math.min(1,Math.max(0,e))}},WW.CartoCSS.Tree.Call=function(){function e(t,n,r){LR(this,e),this.is="call",this.name=t,this.args=n,this.index=r}return RR(e,[{key:"ev",value:function(e){for(var t=this.args.map(function(t){return t.ev(e)}),n=0;n<t.length;n++)if("undefined"===t[n].is)return{is:"undefined",value:"undefined"};if(this.name in WW.CartoCSS.Tree.functions){if(WW.CartoCSS.Tree.functions[this.name].length<=t.length){var r=WW.CartoCSS.Tree.functions[this.name].apply(WW.CartoCSS.Tree.functions,t);return null===r?(e.error({message:"incorrect arguments given to "+this.name+"()",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):r}return e.error({message:"incorrect number of arguments for "+this.name+"(). "+WW.CartoCSS.Tree.functions[this.name].length+" expected.",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}}var i=WW.CartoCSS.Tree.Reference.mapnikFunctions[this.name];if(void 0===i){var o=P0()(WW.CartoCSS.Tree.Reference.mapnikFunctions),a=this.name,s=o.map(function(e){return[e[0],WW.CartoCSS.Tree.Reference.editDistance(a,e[0]),e[1]]}).sort(function(e,t){return e[1]-t[1]});return e.error({message:"unknown function "+this.name+"(), did you mean "+s[0][0]+"("+s[0][2]+")",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}}return i!==t.length&&-1!==i?(e.error({message:"function "+this.name+"() takes "+i+" arguments and was given "+t.length,index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):(this.args=t,this)}},{key:"toString",value:function(e,t){return this.args.length?this.name+"("+this.args.join(",")+")":this.name}}]),e}(),WW.CartoCSS.Tree.Color=function(){function e(t,n){LR(this,e),this.is="color",Array.isArray(t)?this.rgb=t.slice(0,3):6==t.length?this.rgb=t.match(/.{2}/g).map(function(e){return parseInt(e,16)}):this.rgb=t.split("").map(function(e){return parseInt(e+e,16)}),"number"==typeof n?this.alpha=n:4===t.length?this.alpha=t[3]:this.alpha=1}return RR(e,[{key:"ev",value:function(){return this}},{key:"toString",value:function(){return"rgba("+this.rgb.map(function(e){return Math.round(e)}).concat(this.alpha).join(", ")+")"}},{key:"operate",value:function(e,t,n){var r=[];n instanceof WW.CartoCSS.Tree.Color||(n=n.toColor());for(var i=0;i<3;i++)r[i]=WW.CartoCSS.Tree.operate(t,this.rgb[i],n.rgb[i]);return new WW.CartoCSS.Tree.Color(r)}},{key:"toHSL",value:function(){var e,t,n=this.rgb[0]/255,r=this.rgb[1]/255,i=this.rgb[2]/255,o=this.alpha,a=Math.max(n,r,i),s=Math.min(n,r,i),l=(a+s)/2,u=a-s;if(a===s)e=t=0;else{switch(t=l>.5?u/(2-a-s):u/(a+s),a){case n:e=(r-i)/u+(r<i?6:0);break;case r:e=(i-n)/u+2;break;case i:e=(n-r)/u+4}e/=6}return{h:360*e,s:t,l:l,a:o}}}]),e}(),WW.CartoCSS.Tree.Comment=function(){function e(t,n){LR(this,e),this.value=t,this.silent=!!n}return RR(e,[{key:"toString",value:function(e){return"\x3c!--"+this.value+"--\x3e"}},{key:"ev",value:function(){return this}}]),e}(),WW.CartoCSS.Tree.Definition=function(){function e(t,n){LR(this,e),this.elements=t.elements,this.rules=n,this.ruleIndex={};for(var r=0;r<this.rules.length;r++)"zoom"in this.rules[r]&&(this.rules[r]=this.rules[r].clone()),this.rules[r].zoom=t.zoom,this.ruleIndex[this.rules[r].updateID()]=!0;this.filters=t.filters,this.zoom=t.zoom,this.attachment=t.attachment||"__default__",this.specificity=t.specificity()}return RR(e,[{key:"toString",value:function(){for(var e=this.filters.toString(),t=0;t<this.rules.length;t++)e+="\n    "+this.rules[t];return e}},{key:"toJS",value:function(e){var t={},n=this.zoom,r=this.filters.toJS(e),i=[n];r&&i.push(r),r=i.join(" && ");for(var o in this.rules)!function(n){if(n instanceof WW.CartoCSS.Tree.Rule)t[n.name]=t[n.name]||[],r?t[n.name].push("if("+r+"){"+n.value.toJS(e)+"}"):t[n.name].push(n.value.toJS(e));else if(n instanceof WW.CartoCSS.Tree.Ruleset){var i=n.toJS(e);for(var o in i){t[o]=t[o]||[];for(var a in i[o])t[o].push(i[o][a])}}}(this.rules[o]);return t}}]),e}(),WW.CartoCSS.Tree.Dimension=function(){function e(t,n,r){LR(this,e),this.is="float",this.physical_units=["m","cm","in","mm","pt","pc"],this.screen_units=["px","%"],this.all_units=["m","cm","in","mm","pt","pc","px","%"],this.densities={m:.0254,mm:25.4,cm:2.54,pt:72,pc:6},this.value=parseFloat(t),this.unit=n||null,this.index=r}return RR(e,[{key:"ev",value:function(e){if(this.unit&&this.all_units.indexOf(this.unit)<0)return e.error({message:"Invalid unit: '"+this.unit+"'",index:this.index}),{is:"undefined",value:"undefined"};if(this.unit&&this.physical_units.indexOf(this.unit)>=0){if(!e.ppi)return e.error({message:"ppi is not set, so metric units can't be used",index:this.index}),{is:"undefined",value:"undefined"};this.value=this.value/this.densities[this.unit]*e.ppi,this.unit="px"}return this}},{key:"toColor",value:function(){return new WW.CartoCSS.Tree.Color([this.value,this.value,this.value])}},{key:"round",value:function(){return this.value=Math.round(this.value),this}},{key:"toString",value:function(){return this.value.toString()}},{key:"operate",value:function(e,t,n){return"%"===this.unit&&"%"!==n.unit?(e.error({message:"If two operands differ, the first must not be %",index:this.index}),{is:"undefined",value:"undefined"}):"%"!==this.unit&&"%"===n.unit?"*"===t||"/"===t||"%"===t?(e.error({message:"Percent values can only be added or subtracted from other values",index:this.index}),{is:"undefined",value:"undefined"}):new WW.CartoCSS.Tree.Dimension(WW.CartoCSS.Tree.operate(t,this.value,this.value*n.value*.01),this.unit):new WW.CartoCSS.Tree.Dimension(WW.CartoCSS.Tree.operate(t,this.value,n.value),this.unit||n.unit)}}]),e}(),WW.CartoCSS.Tree.Element=function(){function e(t){LR(this,e),this.value=t.trim(),"#"===this.value[0]&&(this.type="id",this.clean=this.value.replace(/^#/,"")),"."===this.value[0]&&(this.type="class",this.clean=this.value.replace(/^\./,"")),-1!==this.value.indexOf("*")&&(this.type="wildcard")}return RR(e,[{key:"specificity",value:function(){return["id"===this.type?1:0,"class"===this.type?1:0]}},{key:"toString",value:function(){return this.value}}]),e}(),WW.CartoCSS.Tree.Expression=function(){function e(t){LR(this,e),this.is="expression",this.value=t}return RR(e,[{key:"ev",value:function(e){return this.value.length>1?new WW.CartoCSS.Tree.Expression(this.value.map(function(t){return t.ev(e)})):this.value[0].ev(e)}},{key:"toString",value:function(e){return this.value.map(function(t){return t.toString(e)}).join(" ")}}]),e}(),WW.CartoCSS.Tree.Field=function(){function e(t){LR(this,e),this.is="field",this.value=t||""}return RR(e,[{key:"toString",value:function(){return'["'+this.value.toUpperCase()+'"]'}},{key:"ev",value:function(){return this}}]),e}(),WW.CartoCSS.Tree.Filter=function(){function e(t,n,r,i,o){LR(this,e),this.ops={"<":[" &lt; ","numeric"],">":[" &gt; ","numeric"],"=":[" = ","both"],"!=":[" != ","both"],"<=":[" &lt;= ","numeric"],">=":[" &gt;= ","numeric"],"=~":[".match(","string",")"]},this.key=t,this.op=n,this.val=r,this.index=i,this.filename=o,this.id=this.key+this.op+this.val}return RR(e,[{key:"ev",value:function(e){return this.key=this.key.ev(e),this.val=this.val.ev(e),this}},{key:"toString",value:function(){return"["+this.id+"]"}}]),e}(),WW.CartoCSS.Tree.Filterset=function(){function e(){LR(this,e),this.filters={}}return RR(e,[{key:"toJS",value:function(e){var t=[];for(var n in this.filters)t.push(function(e){var t=e.op;"="===t&&(t="==");var n=e.val;void 0!==e._val&&(n=e._val.toString(!0)),e.key&&"scale"===e.key.value?n=+n:"string"!=typeof n&&"object"!==AR(n)||(n="'"+n+"'");var r="attributes";return r+"&&"+r+e.key+"&&"+r+e.key+" "+t+n}(this.filters[n]));return t.join(" && ")}},{key:"toString",value:function(){var e=[];for(var t in this.filters)e.push(this.filters[t].id);return e.sort().join("\t")}},{key:"ev",value:function(e){for(var t in this.filters)this.filters[t].ev(e);return this}},{key:"clone",value:function(){var e=new WW.CartoCSS.Tree.Filterset;for(var t in this.filters)e.filters[t]=this.filters[t];return e}},{key:"cloneWith",value:function(e){var t=[];for(var n in e.filters){var r=this.addable(e.filters[n]);if(!1===r)return!1;!0===r&&t.push(e.filters[n])}if(!t.length)return null;var i=new WW.CartoCSS.Tree.Filterset;for(n in this.filters)i.filters[n]=this.filters[n];for(;n=t.shift();)i.add(n);return i}},{key:"addable",value:function(e){var t=e.key.toString(),n=e.val.toString();switch(n.match(/^[0-9]+(\.[0-9]*)?$/)&&(n=parseFloat(n)),e.op){case"=":return void 0!==this.filters[t+"="]?this.filters[t+"="].val.toString()==n&&null:void 0===this.filters[t+"!="+n]&&(!(void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n)&&(!(void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n)&&(!(void 0!==this.filters[t+">="]&&this.filters[t+">="].val>n)&&!(void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<n))));case"=~":return!0;case"!=":return void 0!==this.filters[t+"="]?this.filters[t+"="].val!==n&&null:void 0!==this.filters[t+"!="+n]?null:void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n?null:void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n?null:void 0!==this.filters[t+">="]&&this.filters[t+">="].val>n?null:!(void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<n)||null;case">":return t+"="in this.filters?!(this.filters[t+"="].val<=n)&&null:!(void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n)&&(!(void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<=n)&&(void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n?null:!(void 0!==this.filters[t+">="]&&this.filters[t+">="].val>n)||null));case">=":return void 0!==this.filters[t+"="]?!(this.filters[t+"="].val<n)&&null:!(void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n)&&(!(void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<n)&&(void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n?null:!(void 0!==this.filters[t+">="]&&this.filters[t+">="].val>=n)||null));case"<":return void 0!==this.filters[t+"="]?!(this.filters[t+"="].val>=n)&&null:!(void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n)&&(!(void 0!==this.filters[t+">="]&&this.filters[t+">="].val>=n)&&(void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n?null:!(void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<n)||null));case"<=":return void 0!==this.filters[t+"="]?!(this.filters[t+"="].val>n)&&null:!(void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n)&&(!(void 0!==this.filters[t+">="]&&this.filters[t+">="].val>n)&&(void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n?null:!(void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<=n)||null))}}},{key:"conflict",value:function(e){var t=e.key.toString(),n=e.val.toString();return isNaN(parseFloat(n))||(n=parseFloat(n)),("="===e.op&&void 0!==this.filters[t+"="]&&n!=this.filters[t+"="].val.toString()||"!="===e.op&&void 0!==this.filters[t+"="]&&n==this.filters[t+"="].val.toString()||"="===e.op&&void 0!==this.filters[t+"!="]&&n===this.filters[t+"!="].val.toString())&&e.toString()+" added to "+this.toString()+" produces an invalid filter"}},{key:"add",value:function(e,t){var n,r=e.key.toString(),i=e.op,o=this.conflict(e);if(o)return o;if("="===i){for(var a in this.filters)this.filters[a].key===r&&delete this.filters[a];this.filters[r+"="]=e}else if("!="===i)this.filters[r+"!="+e.val]=e;else if("=~"===i)this.filters[r+"=~"+e.val]=e;else if(">"===i){for(var s in this.filters)this.filters[s].key===r&&this.filters[s].val<=e.val&&delete this.filters[s];this.filters[r+">"]=e}else if(">="===i){for(var l in this.filters)n=+this.filters[l].val.toString(),this.filters[l].key===r&&n<e.val&&delete this.filters[l];void 0!==this.filters[r+"!="+e.val]?(delete this.filters[r+"!="+e.val],e.op=">",this.filters[r+">"]=e):this.filters[r+">="]=e}else if("<"===i){for(var u in this.filters)n=+this.filters[u].val.toString(),this.filters[u].key===r&&n>=e.val&&delete this.filters[u];this.filters[r+"<"]=e}else if("<="===i){for(var c in this.filters)n=+this.filters[c].val.toString(),this.filters[c].key===r&&n>e.val&&delete this.filters[c];void 0!==this.filters[r+"!="+e.val]?(delete this.filters[r+"!="+e.val],e.op="<",this.filters[r+"<"]=e):this.filters[r+"<="]=e}}}]),e}(),WW.CartoCSS.Tree.Fontset=function e(t,n){LR(this,e),this.fonts=n,this.name="fontset-"+t.effects.length},WW.CartoCSS.Tree.Invalid=function(){function e(t,n,r){LR(this,e),this.is="invalid",this.chunk=t,this.index=n,this.type="syntax",this.message=r||"Invalid code: "+this.chunk}return RR(e,[{key:"ev",value:function(e){return e.error({chunk:this.chunk,index:this.index,type:"syntax",message:this.message||"Invalid code: "+this.chunk}),{is:"undefined"}}}]),e}(),WW.CartoCSS.Tree.Keyword=function(){function e(t){LR(this,e),this.value=t;var n={transparent:"color",true:"boolean",false:"boolean"};this.is=n[t]?n[t]:"keyword"}return RR(e,[{key:"ev",value:function(){return this}}]),RR(e,[{key:"toString",value:function(){return this.value}}]),e}(),WW.CartoCSS.Tree.Literal=function(){function e(t){LR(this,e),this.value=t||"",this.is="field"}return RR(e,[{key:"toString",value:function(){return this.value}},{key:"ev",value:function(){return this}}]),e}(),WW.CartoCSS.Tree.Operation=function(){function e(t,n,r){LR(this,e),this.is="operation",this.op=t.trim(),this.operands=n,this.index=r}return RR(e,[{key:"ev",value:function(e){var t,n=this.operands[0].ev(e),r=this.operands[1].ev(e);return"undefined"===n.is||"undefined"===r.is?{is:"undefined",value:"undefined"}:(n instanceof WW.CartoCSS.Tree.Dimension&&r instanceof WW.CartoCSS.Tree.Color&&("*"===this.op||"+"===this.op?(t=r,r=n,n=t):e.error({name:"OperationError",message:"Can't substract or divide a color from a number",index:this.index})),n instanceof WW.CartoCSS.Tree.Quoted&&r instanceof WW.CartoCSS.Tree.Quoted&&"+"!==this.op?(e.error({message:"Can't subtract, divide, or multiply strings.",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):n instanceof WW.CartoCSS.Tree.Field||r instanceof WW.CartoCSS.Tree.Field||n instanceof WW.CartoCSS.Tree.Literal||r instanceof WW.CartoCSS.Tree.Literal?"color"===n.is||"color"===r.is?(e.error({message:"Can't subtract, divide, or multiply colors in expressions.",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):new WW.CartoCSS.Tree.Literal(n.ev(e).toString(!0)+this.op+r.ev(e).toString(!0)):void 0===n.operate?(e.error({message:"Cannot do math with type "+n.is+".",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):n.operate(e,this.op,r))}}]),e}(),WW.CartoCSS.Tree.Quoted=function(){function e(t){LR(this,e),this.is="string",this.value=t||""}return RR(e,[{key:"toString",value:function(e){var t=this.value.replace(/&/g,"&amp;"),n=t.replace(/\'/g,"\\'").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/\>/g,"&gt;");return!0===e?"'"+n+"'":t}},{key:"ev",value:function(){return this}},{key:"operate",value:function(e,t,n){return new WW.CartoCSS.Tree.Quoted(WW.CartoCSS.Tree.operate(t,this.toString(),n.toString(this.contains_field)))}}]),e}(),WW.CartoCSS.Tree.Reference={_validateValue:{font:function(e,t){return!e.validation_data||!e.validation_data.fonts||-1!=e.validation_data.fonts.indexOf(t)}},setData:function(e){this.data=e,this.selector_cache=function(e){var t={};for(var n in e.symbolizers)for(var r in e.symbolizers[n])e.symbolizers[n][r].hasOwnProperty("css")&&(t[e.symbolizers[n][r].css]=[e.symbolizers[n][r],n,r]);return t}(e),this.mapnikFunctions=function(e){var t={};for(var n in e.symbolizers)for(var r in e.symbolizers[n])if("functions"===e.symbolizers[n][r].type)for(var i=0;i<e.symbolizers[n][r].functions.length;i++){var o=e.symbolizers[n][r].functions[i];t[o[0]]=o[1]}return t}(e),this.required_cache=function(e){var t={};for(var n in e.symbolizers){t[n]=[];for(var r in e.symbolizers[n])e.symbolizers[n][r].required&&t[n].push(e.symbolizers[n][r].css)}return t}(e)},setVersion:function(e){return!!WW.CartoCSS.mapnik_reference.version.hasOwnProperty(e)&&(this.setData(WW.CartoCSS.mapnik_reference.version[e]),!0)},selectorData:function(e,t){if(this.selector_cache&&this.selector_cache[e])return this.selector_cache[e][t]},validSelector:function(e){return!!this.selector_cache[e]},selectorName:function(e){return this.selectorData(e,2)},selector:function(e){return this.selectorData(e,0)},symbolizer:function(e){return this.selectorData(e,1)},requiredProperties:function(e,t){var n=this.required_cache[e];for(var r in n)if(!(n[r]in t))return"Property "+n[r]+" required for defining "+e+" styles."},isFont:function(e){return"font"===this.selector(e).validate},editDistance:function(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;for(var n=[],r=0;r<=t.length;r++)n[r]=[r];for(var i=0;i<=e.length;i++)n[0][i]=i;for(r=1;r<=t.length;r++)for(i=1;i<=e.length;i++)t.charAt(r-1)===e.charAt(i-1)?n[r][i]=n[r-1][i-1]:n[r][i]=Math.min(n[r-1][i-1]+1,Math.min(n[r][i-1]+1,n[r-1][i]+1));return n[t.length][e.length]},validValue:function(e,t,n){var r;if(this.selector(t)){if("keyword"===n.value[0].is)return function(e,t){return"object"===AR(this.selector(t).type)?-1!==this.selector(t).type.indexOf(e.value[0].value):"string"===this.selector(t).type}(n,t);if("undefined"===n.value[0].is)return!0;if("numbers"===this.selector(t).type){for(r in n.value)if("float"!==n.value[r].is)return!1;return!0}if("tags"===this.selector(t).type){if(!n.value)return!1;if(!n.value[0].value)return"tag"===n.value[0].is;for(r=0;r<n.value[0].value.length;r++)if("tag"!==n.value[0].value[r].is)return!1;return!0}if("functions"==this.selector(t).type)return function(e,t){if("string"===e.value[0].is)return!0;for(var n in e.value)for(var r in e.value[n].value){if("call"!==e.value[n].value[r].is)return!1;var i=find(this.selector(t).functions,function(t){return t[0]===e.value[n].value[r].name});if(!(i&&-1===i[1]||i&&i[1]===e.value[n].value[r].args.length))return!1}return!0}(n,t);if("expression"===this.selector(t).type)return!0;if("unsigned"===this.selector(t).type)return"float"===n.value[0].is&&(n.value[0].round(),!0);if(this.selector(t).validate){for(r=0;r<n.value.length;r++)if(this.selector(t).type===n.value[r].is&&this._validateValue[this.selector(t).validate](e,n.value[r].value))return!0;return!1}return this.selector(t).type===n.value[0].is}return!1}},WW.CartoCSS.Tree.Reference.setVersion("latest"),WW.CartoCSS.Tree.Rule=function(){function e(t,n,r,i){LR(this,e),this.is="rule";var o=t.split("/");this.name=o.pop(),this.instance=o.length?o[0]:"__default__",this.value=n instanceof WW.CartoCSS.Tree.Value?n:new WW.CartoCSS.Tree.Value([n]),this.index=r,this.symbolizer=WW.CartoCSS.Tree.Reference.symbolizer(this.name),this.filename=i,this.variable="@"===t.charAt(0)}return RR(e,[{key:"clone",value:function(){var e=Object.create(WW.CartoCSS.Tree.Rule.prototype);return e.name=this.name,e.value=this.value,e.index=this.index,e.instance=this.instance,e.symbolizer=this.symbolizer,e.filename=this.filename,e.variable=this.variable,e}},{key:"updateID",value:function(){return this.id=this.zoom+"#"+this.instance+"#"+this.name}},{key:"toString",value:function(){return"["+WW.CartoCSS.Tree.Zoom.toString(this.zoom)+"] "+this.name+": "+this.value}},{key:"ev",value:function(e){
return new WW.CartoCSS.Tree.Rule(this.name,this.value.ev(e),this.index,this.filename)}}]),e}(),WW.CartoCSS.Tree.Ruleset=function(){function e(t,n){LR(this,e),this.is="ruleset",this.selectors=t,this.rules=n,this._lookups={}}return RR(e,[{key:"ev",value:function(e){var t,n,r=new WW.CartoCSS.Tree.Ruleset(this.selectors,this.rules.slice(0));for(r.root=this.root,e.frames.unshift(r),t=0,n;t<r.rules.length;t++)n=r.rules[t],r.rules[t]=n.ev?n.ev(e):n;return e.frames.shift(),r}},{key:"match",value:function(e){return!e||0===e.length}},{key:"variables",value:function(){return this._variables?this._variables:this._variables=this.rules.reduce(function(e,t){return t instanceof WW.CartoCSS.Tree.Rule&&!0===t.variable&&(e[t.name]=t),e},{})}},{key:"variable",value:function(e){return this.variables()[e]}},{key:"rulesets",value:function(){return this._rulesets?this._rulesets:this._rulesets=this.rules.filter(function(e){return e instanceof WW.CartoCSS.Tree.Ruleset})}},{key:"find",value:function(e,t){t=t||this;var n,r=[],i=e.toString();return i in this._lookups?this._lookups[i]:(this.rulesets().forEach(function(i){if(i!==t)for(var o=0;o<i.selectors.length;o++)if(n=e.match(i.selectors[o])){e.elements.length>1?Array.prototype.push.apply(r,i.find(new WW.CartoCSS.Tree.Selector(null,null,e.elements.slice(1)),t)):r.push(i);break}}),this._lookups[i]=r)}},{key:"evZooms",value:function(e){for(var t=0;t<this.selectors.length;t++){for(var n=WW.CartoCSS.Tree.Zoom.all,r=0;r<this.selectors[t].zoom.length;r++)n=this.selectors[t].zoom[r].ev(e).zoom;this.selectors[t].zoom=n}}},{key:"flatten",value:function(e,t,n){var r,i,o=[];for(0===this.selectors.length&&(n.frames=n.frames.concat(this.rules)),this.evZooms(n),r=0;r<this.selectors.length;r++){var a=this.selectors[r];if(a.filters)if(t.length)for(i=0;i<t.length;i++){var s=t[i],l=s.filters.cloneWith(a.filters);if(null===l){if(s.zoom===a.zoom&&s.attachment===a.attachment&&s.elements.join()===a.elements.join()){o.push(s);continue}l=s.filters}else if(!l)continue;var u=Object.create(WW.CartoCSS.Tree.Selector.prototype);u.filters=l,u.zoom=a.zoom,u.elements=s.elements.concat(a.elements),s.attachment&&a.attachment?u.attachment=s.attachment+"/"+a.attachment:u.attachment=a.attachment||s.attachment,u.conditions=s.conditions+a.conditions,u.index=a.index,o.push(u)}else o.push(a)}var c=[];for(r=0;r<this.rules.length;r++){var f=this.rules[r];f instanceof WW.CartoCSS.Tree.Ruleset?f.flatten(e,o,n):f instanceof WW.CartoCSS.Tree.Rule?c.push(f):f instanceof WW.CartoCSS.Tree.Invalid&&n.error(f)}var h=!!c.length&&c[0].index;for(r=0;r<o.length;r++)!1!==h&&(o[r].index=h),e.push(new WW.CartoCSS.Tree.Definition(o[r],c.slice()));return e}}]),e}(),WW.CartoCSS.Tree.Selector=function(){function e(t,n,r,i,o,a){LR(this,e),this.elements=r||[],this.attachment=i,this.filters=t||{},this.zoom=void 0!==n?n:WW.CartoCSS.Tree.Zoom.all,this.conditions=o,this.index=a}return RR(e,[{key:"specificity",value:function(){return this.elements.reduce(function(e,t){var n=t.specificity();return e[0]+=n[0],e[1]+=n[1],e},[0,0,this.conditions,this.index])}}]),e}(),WW.CartoCSS.Tree.URL=function(){function e(t,n){LR(this,e),this.is="uri",this.value=t,this.paths=n}return RR(e,[{key:"toString",value:function(){return this.value.toString()}},{key:"ev",value:function(e){return new WW.CartoCSS.Tree.URL(this.value.ev(e),this.paths)}}]),e}(),WW.CartoCSS.Tree.Value=function(){function e(t){LR(this,e),this.is="value",this.value=t}return RR(e,[{key:"ev",value:function(e){return 1===this.value.length?this.value[0].ev(e):new WW.CartoCSS.Tree.Value(this.value.map(function(t){return t.ev(e)}))}},{key:"toJS",value:function(e){var t=this.ev(e),n=t.toString();return"color"===t.is||"uri"===t.is||"string"===t.is||"keyword"===t.is?n="'"+n+"'":"field"===t.is?n=n.replace(/\[(.*)\]/g,"attributes['$1']"):t.value&&"object"===AR(t.value)&&(n="["+n+"]"),"_value = "+n+";"}},{key:"toString",value:function(e,t,n,r){return this.value.map(function(t){return t.toString(e,r)}).join(n||", ")}},{key:"clone",value:function(){var e=Object.create(WW.CartoCSS.Tree.Value.prototype);return Array.isArray(e)?e.value=this.value.slice():e.value=this.value,e.is=this.is,e}}]),e}(),WW.CartoCSS.Tree.Variable=function(){function e(t,n,r){LR(this,e),this.is="variable",this.name=t,this.index=n,this.filename=r}return RR(e,[{key:"toString",value:function(){return this.name}},{key:"ev",value:function(e){if(this._css)return this._css;var t=e.frames.filter(function(e){return e.name===this.name}.bind(this));return t.length?t[0].value.ev(e):(e.error({message:"variable "+this.name+" is undefined",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"})}}]),e}(),WW.CartoCSS.Tree.Zoom=function(){function e(t,n,r){LR(this,e),this.op=t,this.value=n,this.index=r}return RR(e,[{key:"setZoom",value:function(e){return this.zoom=e,this}},{key:"ev",value:function(e){var t=parseInt(this.value.ev(e).toString(),10);switch((t>WW.CartoCSS.Tree.Zoom.maxZoom||t<0)&&e.error({message:"Only zoom levels between 0 and "+WW.CartoCSS.Tree.Zoom.maxZoom+" supported.",index:this.index}),this.op){case"=":return this.zoom="zoom && zoom === "+t,this;case">":this.zoom="zoom && zoom > "+t;break;case">=":this.zoom="zoom && zoom >= "+t;break;case"<":this.zoom="zoom && zoom < "+t;break;case"<=":this.zoom="zoom && zoom <= "+t;break;default:return this}return this}},{key:"toString",value:function(){for(var e="",t=0;t<=WW.CartoCSS.Tree.Zoom.maxZoom;t++)e+=this.zoom&1<<t?"X":".";return e}}]),e}(),WW.CartoCSS.Tree.Zoom.all=23,WW.CartoCSS.Tree.Zoom.maxZoom=22,WW.CartoCSS.Tree.Zoom.ranges={0:1e9,1:5e8,2:2e8,3:1e8,4:5e7,5:25e6,6:125e5,7:65e5,8:3e6,9:15e5,10:75e4,11:4e5,12:2e5,13:1e5,14:5e4,15:25e3,16:12500,17:5e3,18:2500,19:1500,20:750,21:500,22:250,23:100};/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var k0=function e(t){NR(this,e),t=t||{},this.fill=!0,this.fillColor="#000000",this.fillOpacity=1,this.stroke=!1,this.strokeColor="#000000",this.strokeOpacity=1,this.strokeWidth=1,this.strokeLinecap="butt",this.strokeLineJoin="miter",this.strokeDashstyle="solid",this.pointRadius=6,this.shadowBlur=0,this.shadowColor="#000000",this.shadowOffsetX=0,this.shadowOffsetY=0,this.label="",this.labelRect=!1,this.fontColor="",this.fontSize=12,this.fontStyle="normal",this.fontVariant="normal",this.fontWeight="normal",this.fontFamily="arial,sans-serif",this.labelPosition="top",this.labelAlign="center",this.labelBaseline="middle",this.labelXOffset=0,this.labelYOffset=0,rQ.extend(this,t)};WW.ThemeStyle=k0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var M0=function(){function e(){IR(this,e),this.refOriginalPosition=[0,0],this.refDataID=null,this.isHoverByRefDataID=!1,this.refDataHoverGroup=null,this.dataInfo=null,this.clickable=!0,this.hoverable=!0,this.style=null,this.highlightStyle={},this.CLASS_NAME="SuperMap.Feature.ShapeParameters"}return FR(e,[{key:"destroy",value:function(){this.refOriginalPosition=null,this.refDataID=null,this.isHoverByRefDataID=null,this.refDataHoverGroup=null,this.dataInfo=null,this.clickable=null,this.hoverable=null,this.style=null,this.highlightStyle=null}}]),e}();WW.Feature=WW.Feature||{},WW.Feature.ShapeParameters=M0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var A0=function(e){function t(e,n){var r;return UR(this,t),r=VR(this,WR(t).call(this,e,n)),r.x=isNaN(e)?0:e,r.y=isNaN(n)?0:n,r.r=6,r.CLASS_NAME="SuperMap.Feature.ShapeParameters.Point",r}return YR(t,e),zR(t,[{key:"destroy",value:function(){this.x=null,this.y=null,this.r=null,JR(WR(t.prototype),"destroy",this).call(this)}}]),t}(M0);WW.Feature=WW.Feature||{},WW.Feature.ShapeParameters.Point=A0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var L0=function(e){function t(e){var n;return KR(this,t),n=eN(this,iN(t).call(this,e)),n.pointList=e,n.CLASS_NAME="SuperMap.Feature.ShapeParameters.Line",n}return oN(t,e),$R(t,[{key:"destroy",value:function(){this.pointList=null,nN(iN(t.prototype),"destroy",this).call(this)}}]),t}(M0);WW.Feature=WW.Feature||{},WW.Feature.ShapeParameters.Line=L0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var j0=function(e){function t(e){var n;return lN(this,t),n=fN(this,dN(t).call(this,e)),n.pointList=e,n.holePolygonPointLists=null,n.CLASS_NAME="SuperMap.Feature.ShapeParameters.Polygon",n}return mN(t,e),cN(t,[{key:"destroy",value:function(){this.pointList=null,this.holePolygonPointLists=null,pN(dN(t.prototype),"destroy",this).call(this)}}]),t}(M0);WW.Feature=WW.Feature||{},WW.Feature.ShapeParameters.Polygon=j0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var R0=function(e){function t(e,n,r,i){var o;return bN(this,t),o=wN(this,TN(t).call(this,e,n,r,i)),o.x=isNaN(e)?0:e,o.y=isNaN(e)?0:n,o.width=isNaN(r)?0:r,o.height=isNaN(i)?0:i,o.CLASS_NAME="SuperMap.Feature.ShapeParameters.Rectangle",o}return PN(t,e),_N(t,[{key:"destroy",value:function(){this.x=null,this.y=null,this.width=null,this.height=null,xN(TN(t.prototype),"destroy",this).call(this)}}]),t}(M0);WW.Feature=WW.Feature||{},WW.Feature.ShapeParameters.Rectangle=R0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var N0=function(e){function t(e,n,r,i,o,a,s){var l;return MN(this,t),l=jN(this,DN(t).call(this,e,n,r,i,o,a,s)),l.x=isNaN(e)?0:e,l.y=isNaN(n)?0:n,l.r=isNaN(r)?0:r,l.startAngle=isNaN(i)?0:i,l.endAngle=isNaN(o)?0:o,l.r0=isNaN(a)?0:a,l.clockWise=s,l.CLASS_NAME="SuperMap.Feature.ShapeParameters.Sector",l}return FN(t,e),LN(t,[{key:"destroy",value:function(){this.x=null,this.y=null,this.r=null,this.startAngle=null,this.endAngle=null,this.r0=null,this.clockWise=null,NN(DN(t.prototype),"destroy",this).call(this)}}]),t}(M0);WW.Feature=WW.Feature||{},WW.Feature.ShapeParameters.Sector=N0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var I0=function(e){function t(e,n,r){var i;return GN(this,t),i=HN(this,YN(t).call(this,e,n,r)),i.x=e,i.y=n,i.text=r,i.CLASS_NAME="SuperMap.Feature.ShapeParameters.Label",i}return QN(t,e),VN(t,[{key:"destroy",value:function(){this.x=null,this.y=null,this.text=null,qN(YN(t.prototype),"destroy",this).call(this)}}]),t}(M0);WW.Feature=WW.Feature||{},WW.Feature.ShapeParameters.Label=I0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var D0=function(e){function t(e,n,r,i,o,a,s,l,u){var c;return ZN(this,t),c=tI(this,oI(t).call(this,e,n,r,i,o,a,s,l,u)),c.x=e,c.y=n,c.image=r,c.width=i,c.height=o,c.sx=a,c.sy=s,c.sWidth=l,c.sHeight=u,c.CLASS_NAME="SuperMap.Feature.ShapeParameters.Image",c}return aI(t,e),eI(t,[{key:"destroy",value:function(){this.x=null,this.y=null,this.image=null,this.width=null,this.height=null,this.sx=null,this.sy=null,this.sWidth=null,this.sHeight=null,rI(oI(t.prototype),"destroy",this).call(this)}}]),t}(M0);WW.Feature=WW.Feature||{},WW.Feature.ShapeParameters.Image=D0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var F0=function(e){function t(e,n,r){var i;return uI(this,t),i=hI(this,mI(t).call(this,e,n,r)),i.x=isNaN(e)?0:e,i.y=isNaN(n)?0:n,i.r=isNaN(r)?0:r,i.CLASS_NAME="SuperMap.Feature.ShapeParameters.Circle",i}return vI(t,e),fI(t,[{key:"destroy",value:function(){this.x=null,this.y=null,this.r=null,yI(mI(t.prototype),"destroy",this).call(this)}}]),t}(M0);WW.Feature=WW.Feature||{},WW.Feature.ShapeParameters.Circle=F0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var B0=function(){function e(){bI(this,e),this._handlers={},this.CLASS_NAME="SuperMap.LevelRenderer.Eventful"}return _I(e,[{key:"destroy",value:function(){this._handlers=null}},{key:"one",value:function(e,t,n){var r=this._handlers;return t&&e?(r[e]||(r[e]=[]),r[e].push({h:t,one:!0,ctx:n||this}),this):this}},{key:"bind",value:function(e,t,n){var r=this._handlers;return t&&e?(r[e]||(r[e]=[]),r[e].push({h:t,one:!1,ctx:n||this}),this):this}},{key:"unbind",value:function(e,t){var n=this._handlers;if(!e)return this._handlers={},this;if(t){if(n[e]){for(var r=[],i=0,o=n[e].length;i<o;i++)n[e][i].h!=t&&r.push(n[e][i]);n[e]=r}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this}},{key:"dispatch",value:function(e){if(this._handlers[e]){var t=arguments,n=t.length;n>3&&(t=Array.prototype.slice.call(t,1));for(var r=this._handlers[e],i=r.length,o=0;o<i;){switch(n){case 1:r[o].h.call(r[o].ctx);break;case 2:r[o].h.call(r[o].ctx,t[1]);break;case 3:r[o].h.call(r[o].ctx,t[1],t[2]);break;default:r[o].h.apply(r[o].ctx,t)}r[o].one?(r.splice(o,1),i--):o++}}return this}},{key:"dispatchWithContext",value:function(e){if(this._handlers[e]){var t=arguments,n=t.length;n>4&&(t=Array.prototype.slice.call(t,1,t.length-1));for(var r=t[t.length-1],i=this._handlers[e],o=i.length,a=0;a<o;){switch(n){case 1:i[a].h.call(r);break;case 2:i[a].h.call(r,t[1]);break;case 3:i[a].h.call(r,t[1],t[2]);break;default:i[a].h.apply(r,t)}i[a].one?(i.splice(a,1),o--):a++}}return this}}]),e}(),U0=function(){function e(){wI(this,e),this.ArrayCtor="undefined"==typeof Float32Array?Array:Float32Array,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Vector"}return xI(e,[{key:"create",value:function(e,t){var n=this.ArrayCtor,r=new n(2);return r[0]=e||0,r[1]=t||0,r}},{key:"copy",value:function(e,t){return e[0]=t[0],e[1]=t[1],e}},{key:"set",value:function(e,t,n){return e[0]=t,e[1]=n,e}},{key:"add",value:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}},{key:"scaleAndAdd",value:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}},{key:"sub",value:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}},{key:"len",value:function(e){return Math.sqrt(this.lenSquare(e))}},{key:"lenSquare",value:function(e){return e[0]*e[0]+e[1]*e[1]}},{key:"mul",value:function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}},{key:"div",value:function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}},{key:"dot",value:function(e,t){return e[0]*t[0]+e[1]*t[1]}},{key:"scale",value:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}},{key:"normalize",value:function(e,t){var n=this.len(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}},{key:"distance",value:function(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}},{key:"distanceSquare",value:function(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}},{key:"negate",value:function(e,t){return e[0]=-t[0],e[1]=-t[1],e}},{key:"lerp",value:function(e,t,n,r){return e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e}},{key:"applyTransform",value:function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}},{key:"min",value:function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}},{key:"max",value:function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}},{key:"length",value:function(e){return this.len(e)}},{key:"lengthSquare",value:function(e){return this.lenSquare(e)}},{key:"dist",value:function(e,t){return this.distance(e,t)}},{key:"distSquare",value:function(e,t){return this.distanceSquare(e,t)}}]),e}(),G0=function(){function e(){CI(this,e),this.vector=new U0,this.EPSILON=1e-4,this.THREE_SQRT=Math.sqrt(3),this.ONE_THIRD=1/3,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Curve"}return PI(e,[{key:"isAroundZero",value:function(e){return e>-this.EPSILON&&e<this.EPSILON}},{key:"isNotAroundZero",value:function(e){return e>this.EPSILON||e<-this.EPSILON}},{key:"cubicAt",value:function(e,t,n,r,i){var o=1-i;return o*o*(o*e+3*i*t)+i*i*(i*r+3*o*n)}},{key:"cubicDerivativeAt",value:function(e,t,n,r,i){var o=1-i;return 3*(((t-e)*o+2*(n-t)*i)*o+(r-n)*i*i)}},{key:"cubicRootAt",value:function(e,t,n,r,i,o){var a=r+3*(t-n)-e,s=3*(n-2*t+e),l=3*(t-e),u=e-i,c=s*s-3*a*l,f=s*l-9*a*u,h=l*l-3*s*u,p=0;if(this.isAroundZero(c)&&this.isAroundZero(f))if(this.isAroundZero(s))o[0]=0;else{var y=-l/s;y>=0&&y<=1&&(o[p++]=y)}else{var d=f*f-4*c*h;if(this.isAroundZero(d)){var m=f/c,v=-s/a+m,g=-m/2;v>=0&&v<=1&&(o[p++]=v),g>=0&&g<=1&&(o[p++]=g)}else if(d>0){var b=Math.sqrt(d),S=c*s+1.5*a*(-f+b),_=c*s+1.5*a*(-f-b);S=S<0?-Math.pow(-S,this.ONE_THIRD):Math.pow(S,this.ONE_THIRD),_=_<0?-Math.pow(-_,this.ONE_THIRD):Math.pow(_,this.ONE_THIRD);var w=(-s-(S+_))/(3*a);w>=0&&w<=1&&(o[p++]=w)}else{var O=(2*c*s-3*a*f)/(2*Math.sqrt(c*c*c)),x=Math.acos(O)/3,C=Math.sqrt(c),T=Math.cos(x),P=(-s-2*C*T)/(3*a),E=(-s+C*(T+this.THREE_SQRT*Math.sin(x)))/(3*a),k=(-s+C*(T-this.THREE_SQRT*Math.sin(x)))/(3*a);P>=0&&P<=1&&(o[p++]=P),E>=0&&E<=1&&(o[p++]=E),k>=0&&k<=1&&(o[p++]=k)}}return p}},{key:"cubicExtrema",value:function(e,t,n,r,i){var o=6*n-12*t+6*e,a=9*t+3*r-3*e-9*n,s=3*t-3*e,l=0;if(this.isAroundZero(a)){if(this.isNotAroundZero(o)){var u=-s/o;u>=0&&u<=1&&(i[l++]=u)}}else{var c=o*o-4*a*s;if(this.isAroundZero(c))i[0]=-o/(2*a);else if(c>0){var f=Math.sqrt(c),h=(-o+f)/(2*a),p=(-o-f)/(2*a);h>=0&&h<=1&&(i[l++]=h),p>=0&&p<=1&&(i[l++]=p)}}return l}},{key:"cubicSubdivide",value:function(e,t,n,r,i,o){var a=(t-e)*i+e,s=(n-t)*i+t,l=(r-n)*i+n,u=(s-a)*i+a,c=(l-s)*i+s,f=(c-u)*i+u;o[0]=e,o[1]=a,o[2]=u,o[3]=f,o[4]=f,o[5]=c,o[6]=l,o[7]=r}},{key:"cubicProjectPoint",value:function(e,t,n,r,i,o,a,s,l,u,c){var f,h=this.vector.create(),p=this.vector.create(),y=this.vector.create(),d=.005,m=1/0;h[0]=l,h[1]=u;for(var v=0;v<1;v+=.05){p[0]=this.cubicAt(e,n,i,a,v),p[1]=this.cubicAt(t,r,o,s,v);var g=this.vector.distSquare(h,p);g<m&&(f=v,m=g)}m=1/0;for(var b=0;b<32&&!(d<this.EPSILON);b++){var S=f-d,_=f+d;p[0]=this.cubicAt(e,n,i,a,S),p[1]=this.cubicAt(t,r,o,s,S);var w=this.vector.distSquare(p,h);if(S>=0&&w<m)f=S,m=w;else{y[0]=this.cubicAt(e,n,i,a,_),y[1]=this.cubicAt(t,r,o,s,_);var O=this.vector.distSquare(y,h);_<=1&&O<m?(f=_,m=O):d*=.5}}return c&&(c[0]=this.cubicAt(e,n,i,a,f),c[1]=this.cubicAt(t,r,o,s,f)),Math.sqrt(m)}},{key:"quadraticAt",value:function(e,t,n,r){var i=1-r;return i*(i*e+2*r*t)+r*r*n}},{key:"quadraticDerivativeAt",value:function(e,t,n,r){return 2*((1-r)*(t-e)+r*(n-t))}},{key:"quadraticRootAt",value:function(e,t,n,r,i){var o=e-2*t+n,a=2*(t-e),s=e-r,l=0;if(this.isAroundZero(o)){if(this.isNotAroundZero(a)){var u=-s/a;u>=0&&u<=1&&(i[l++]=u)}}else{var c=a*a-4*o*s;if(this.isAroundZero(c)){var f=-a/(2*o);f>=0&&f<=1&&(i[l++]=f)}else if(c>0){var h=Math.sqrt(c),p=(-a+h)/(2*o),y=(-a-h)/(2*o);p>=0&&p<=1&&(i[l++]=p),y>=0&&y<=1&&(i[l++]=y)}}return l}},{key:"quadraticExtremum",value:function(e,t,n){var r=e+n-2*t;return 0===r?.5:(e-t)/r}},{key:"quadraticProjectPoint",value:function(e,t,n,r,i,o,a,s,l){var u,c=this.vector.create(),f=this.vector.create(),h=this.vector.create(),p=.005,y=1/0;c[0]=a,c[1]=s;for(var d=0;d<1;d+=.05){f[0]=this.quadraticAt(e,n,i,d),f[1]=this.quadraticAt(t,r,o,d);var m=this.vector.distSquare(c,f);m<y&&(u=d,y=m)}y=1/0;for(var v=0;v<32&&!(p<this.EPSILON);v++){var g=u-p,b=u+p;f[0]=this.quadraticAt(e,n,i,g),f[1]=this.quadraticAt(t,r,o,g);var S=this.vector.distSquare(f,c);if(g>=0&&S<y)u=g,y=S;else{h[0]=this.quadraticAt(e,n,i,b),h[1]=this.quadraticAt(t,r,o,b);var _=this.vector.distSquare(h,c);b<=1&&_<y?(u=b,y=_):p*=.5}}return l&&(l[0]=this.quadraticAt(e,n,i,u),l[1]=this.quadraticAt(t,r,o,u)),Math.sqrt(y)}}]),e}(),z0=function(){function e(){EI(this,e),this.util=new S0,this.curve=new G0,this._ctx=null,this._textWidthCache={},this._textHeightCache={},this._textWidthCacheCounter=0,this._textHeightCacheCounter=0,this.TEXT_CACHE_MAX=5e3,this.PI2=2*Math.PI,this.roots=[-1,-1,-1],this.extrema=[-1,-1],this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Area"}return MI(e,[{key:"normalizeRadian",value:function(e){return e%=this.PI2,e<0&&(e+=this.PI2),e}},{key:"isInside",value:function(e,t,n,r){if(!t||!e)return!1;var i=e.type;this._ctx=this._ctx||this.util.getContext();var o=this._mathMethod(e,t,n,r);if(void 0!==o)return o;if(e.buildPath&&this._ctx.isPointInPath)return this._buildPathMethod(e,this._ctx,t,n,r);switch(i){case"ellipse":case"smicellipse":return!0;case"trochoid":var a="out"==t.location?t.r1+t.r2+t.d:t.r1-t.r2+t.d;return this.isInsideCircle(t,n,r,a);case"rose":return this.isInsideCircle(t,n,r,t.maxr);default:return!1}}},{key:"_mathMethod",value:function(e,t,n,r){switch(e.type){case"bezier-curve":return void 0===t.cpX2?this.isInsideQuadraticStroke(t.xStart,t.yStart,t.cpX1,t.cpY1,t.xEnd,t.yEnd,t.lineWidth,n,r):this.isInsideCubicStroke(t.xStart,t.yStart,t.cpX1,t.cpY1,t.cpX2,t.cpY2,t.xEnd,t.yEnd,t.lineWidth,n,r);case"line":return this.isInsideLine(t.xStart,t.yStart,t.xEnd,t.yEnd,t.lineWidth,n,r);case"broken-line":return this.isInsideBrokenLine(t.pointList,t.lineWidth,n,r);case"smicbroken-line":var i=n,o=r;return e.refOriginalPosition&&(i=n-e.refOriginalPosition[0],o=r-e.refOriginalPosition[1]),this.isInsideBrokenLine(t.pointList,t.lineWidth,i,o);case"ring":return this.isInsideRing(t.x,t.y,t.r0,t.r,n,r);case"smicring":var a=t.x,s=t.y;return e.refOriginalPosition&&(a=t.x+e.refOriginalPosition[0],s=t.y+e.refOriginalPosition[1]),this.isInsideRing(a,s,t.r0,t.r,n,r);case"circle":return this.isInsideCircle(t.x,t.y,t.r,n,r);case"smicpoint":var l=n,u=r;return e.refOriginalPosition&&(l=n-e.refOriginalPosition[0],u=r-e.refOriginalPosition[1]),this.isInsideCircle(t.x,t.y,t.r,l,u);case"sector":var c=t.startAngle*Math.PI/180,f=t.endAngle*Math.PI/180;return t.clockWise||(c=-c,f=-f),this.isInsideSector(t.x,t.y,t.r0,t.r,c,f,!t.clockWise,n,r);case"smicsector":var h=t.startAngle*Math.PI/180,p=t.endAngle*Math.PI/180;t.clockWise||(h=-h,p=-p);var y=t.x,d=t.y;return e.refOriginalPosition&&(y=t.x+e.refOriginalPosition[0],d=t.y+e.refOriginalPosition[1]),this.isInsideSector(y,d,t.r0,t.r,h,p,!t.clockWise,n,r);case"path":return this.isInsidePath(t.pathArray,Math.max(t.lineWidth,5),t.brushType,n,r);case"polygon":case"star":case"smicstar":case"isogon":case"smicisogon":return this.isInsidePolygon(t.pointList,n,r);case"smicpolygon":var m=n,v=r;if(e.refOriginalPosition&&(m=n-e.refOriginalPosition[0],v=r-e.refOriginalPosition[1]),e.holePolygonPointLists&&e.holePolygonPointLists.length>0){for(var g=this.isInsidePolygon(t.pointList,m,v),b=e.holePolygonPointLists,S=!1,_=0,w=b.length;_<w;_++){var O=b[_];!0===this.isInsidePolygon(O,m,v)&&(S=!0)}return!0===g&&!1===S}return this.isInsidePolygon(t.pointList,m,v);case"text":var x=t.__rect||e.getRect(t);return this.isInsideRect(x.x,x.y,x.width,x.height,n,r);case"smictext":var C=e.getTextBackground(t);return this.isInsidePolygon(C,n,r);case"rectangle":case"image":return this.isInsideRect(t.x,t.y,t.width,t.height,n,r);case"smicimage":var T=t.x,P=t.y;return e.refOriginalPosition&&(T=t.x+e.refOriginalPosition[0],P=t.y+e.refOriginalPosition[1]),this.isInsideRect(T,P,t.width,t.height,n,r)}}},{key:"_buildPathMethod",value:function(e,t,n,r,i){return t.beginPath(),e.buildPath(t,n),t.closePath(),t.isPointInPath(r,i)}},{key:"isOutside",value:function(e,t,n,r){return!this.isInside(e,t,n,r)}},{key:"isInsideLine",value:function(e,t,n,r,i,o,a){if(0===i)return!1;var s=Math.max(i,5),l=0,u=0;if(a>t+s&&a>r+s||a<t-s&&a<r-s||o>e+s&&o>n+s||o<e-s&&o<n-s)return!1;if(e===n)return Math.abs(o-e)<=s/2;l=(t-r)/(e-n),u=(e*r-n*t)/(e-n);var c=l*o-a+u;return c*c/(l*l+1)<=s/2*s/2}},{key:"isInsideCubicStroke",value:function(e,t,n,r,i,o,a,s,l,u,c){if(0===l)return!1;var f=Math.max(l,5);return!(c>t+f&&c>r+f&&c>o+f&&c>s+f||c<t-f&&c<r-f&&c<o-f&&c<s-f||u>e+f&&u>n+f&&u>i+f&&u>a+f||u<e-f&&u<n-f&&u<i-f&&u<a-f)&&this.curve.cubicProjectPoint(e,t,n,r,i,o,a,s,u,c,null)<=f/2}},{key:"isInsideQuadraticStroke",value:function(e,t,n,r,i,o,a,s,l){if(0===a)return!1;var u=Math.max(a,5);return!(l>t+u&&l>r+u&&l>o+u||l<t-u&&l<r-u&&l<o-u||s>e+u&&s>n+u&&s>i+u||s<e-u&&s<n-u&&s<i-u)&&this.curve.quadraticProjectPoint(e,t,n,r,i,o,s,l,null)<=u/2}},{key:"isInsideArcStroke",value:function(e,t,n,r,i,o,a,s,l){var u=this.PI2;if(0===a)return!1;var c=Math.max(a,5);s-=e,l-=t;var f=Math.sqrt(s*s+l*l);if(f-c>n||f+c<n)return!1;if(Math.abs(r-i)>=u)return!0;if(o){var h=r;r=this.normalizeRadian(i),i=this.normalizeRadian(h)}else r=this.normalizeRadian(r),i=this.normalizeRadian(i);r>i&&(i+=u);var p=Math.atan2(l,s);return p<0&&(p+=u),p>=r&&p<=i||p+u>=r&&p+u<=i}},{key:"isInsideBrokenLine",value:function(e,t,n,r){for(var i=Math.max(t,10),o=0,a=e.length-1;o<a;o++){var s=e[o][0],l=e[o][1],u=e[o+1][0],c=e[o+1][1];if(this.isInsideLine(s,l,u,c,i,n,r))return!0}return!1}},{key:"isInsideRing",value:function(e,t,n,r,i,o){var a=(i-e)*(i-e)+(o-t)*(o-t);return a<r*r&&a>n*n}},{key:"isInsideRect",value:function(e,t,n,r,i,o){return i>=e&&i<=e+n&&o>=t&&o<=t+r}},{key:"isInsideCircle",value:function(e,t,n,r,i){return(r-e)*(r-e)+(i-t)*(i-t)<n*n}},{key:"isInsideSector",value:function(e,t,n,r,i,o,a,s,l){return this.isInsideArcStroke(e,t,(n+r)/2,i,o,a,r-n,s,l)}},{key:"isInsidePolygon",value:function(e,t,n){for(var r=e.length,i=0,o=0,a=r-1;o<r;o++){var s=e[a][0],l=e[a][1],u=e[o][0],c=e[o][1];i+=this.windingLine(s,l,u,c,t,n),a=o}return 0!==i}},{key:"windingLine",value:function(e,t,n,r,i,o){if(o>t&&o>r||o<t&&o<r)return 0;if(r==t)return 0;var a=r<t?1:-1;return(o-t)/(r-t)*(n-e)+e>i?a:0}},{key:"swapExtrema",value:function(){var e=this.extrema[0];this.extrema[0]=this.extrema[1],this.extrema[1]=e}},{key:"windingCubic",value:function(e,t,n,r,i,o,a,s,l,u){var c=this.curve,f=this.roots,h=this.extrema;if(u>t&&u>r&&u>o&&u>s||u<t&&u<r&&u<o&&u<s)return 0;var p=c.cubicRootAt(t,r,o,s,u,f);if(0===p)return 0;for(var y,d,m=0,v=-1,g=0;g<p;g++){var b=f[g];c.cubicAt(e,n,i,a,b)<l||(v<0&&(v=c.cubicExtrema(t,r,o,s,h),h[1]<h[0]&&v>1&&this.swapExtrema(),y=c.cubicAt(t,r,o,s,h[0]),v>1&&(d=c.cubicAt(t,r,o,s,h[1]))),2==v?b<h[0]?m+=y<t?1:-1:b<h[1]?m+=d<y?1:-1:m+=s<d?1:-1:b<h[0]?m+=y<t?1:-1:m+=s<y?1:-1)}return m}},{key:"windingQuadratic",value:function(e,t,n,r,i,o,a,s){var l=this.curve,u=this.roots;if(s>t&&s>r&&s>o||s<t&&s<r&&s<o)return 0;var c=l.quadraticRootAt(t,r,o,s,u);if(0===c)return 0;var f=l.quadraticExtremum(t,r,o);if(f>=0&&f<=1){for(var h=0,p=l.quadraticAt(t,r,o,f),y=0;y<c;y++){l.quadraticAt(e,n,i,u[y])>a||(u[y]<f?h+=p<t?1:-1:h+=o<p?1:-1)}return h}return l.quadraticAt(e,n,i,u[0])>a?0:o<t?1:-1}},{key:"windingArc",value:function(e,t,n,r,i,o,a,s){var l=this.roots,u=this.PI2;if((s-=t)>n||s<-n)return 0;var c=Math.sqrt(n*n-s*s);if(l[0]=-c,l[1]=c,Math.abs(r-i)>=u){r=0,i=u;var f=o?1:-1;return a>=l[0]+e&&a<=l[1]+e?f:0}if(o){var h=r;r=this.normalizeRadian(i),i=this.normalizeRadian(h)}else r=this.normalizeRadian(r),i=this.normalizeRadian(i);r>i&&(i+=u);for(var p=0,y=0;y<2;y++){var d=l[y];if(d+e>a){var m=Math.atan2(s,d),v=o?1:-1;m<0&&(m=u+m),(m>=r&&m<=i||m+u>=r&&m+u<=i)&&(m>Math.PI/2&&m<1.5*Math.PI&&(v=-v),p+=v)}}return p}},{key:"isInsidePath",value:function(e,t,n,r,i){var o=0,a=0,s=0,l=0,u=0,c=!0,f=!0;n=n||"fill";for(var h="stroke"===n||"both"===n,p="fill"===n||"both"===n,y=0;y<e.length;y++){var d=e[y],m=d.points;if(c||"M"===d.command){if(y>0&&(p&&(o+=this.windingLine(a,s,l,u,r,i)),0!==o))return!0;l=m[m.length-2],u=m[m.length-1],c=!1,f&&"A"!==d.command&&(f=!1,a=l,s=u)}switch(d.command){case"M":a=m[0],s=m[1];break;case"L":if(h&&this.isInsideLine(a,s,m[0],m[1],t,r,i))return!0;p&&(o+=this.windingLine(a,s,m[0],m[1],r,i)),a=m[0],s=m[1];break;case"C":if(h&&this.isInsideCubicStroke(a,s,m[0],m[1],m[2],m[3],m[4],m[5],t,r,i))return!0;p&&(o+=this.windingCubic(a,s,m[0],m[1],m[2],m[3],m[4],m[5],r,i)),a=m[4],s=m[5];break;case"Q":if(h&&this.isInsideQuadraticStroke(a,s,m[0],m[1],m[2],m[3],t,r,i))return!0;p&&(o+=this.windingQuadratic(a,s,m[0],m[1],m[2],m[3],r,i)),a=m[2],s=m[3];break;case"A":var v=m[0],g=m[1],b=m[2],S=m[3],_=m[4],w=m[5],O=Math.cos(_)*b+v,x=Math.sin(_)*S+g;f?(f=!1,l=O,u=x):o+=this.windingLine(a,s,O,x);var C=(r-v)*S/b+v;if(h&&this.isInsideArcStroke(v,g,S,_,_+w,1-m[7],t,C,i))return!0;p&&(o+=this.windingArc(v,g,S,_,_+w,1-m[7],C,i)),a=Math.cos(_+w)*b+v,s=Math.sin(_+w)*S+g;break;case"z":if(h&&this.isInsideLine(a,s,l,u,t,r,i))return!0;c=!0}}return p&&(o+=this.windingLine(a,s,l,u,r,i)),0!==o}},{key:"getTextWidth",value:function(e,t){var n=e+":"+t;if(this._textWidthCache[n])return this._textWidthCache[n];this._ctx=this._ctx||this.util.getContext(),this._ctx.save(),t&&(this._ctx.font=t),e=(e+"").split("\n");for(var r=0,i=0,o=e.length;i<o;i++)r=Math.max(this._ctx.measureText(e[i]).width,r);return this._ctx.restore(),this._textWidthCache[n]=r,++this._textWidthCacheCounter>this.TEXT_CACHE_MAX&&(this._textWidthCacheCounter=0,this._textWidthCache={}),r}},{key:"getTextHeight",value:function(e,t){var n=e+":"+t;if(this._textHeightCache[n])return this._textHeightCache[n];this._ctx=this._ctx||this.util.getContext(),this._ctx.save(),t&&(this._ctx.font=t),e=(e+"").split("\n");var r=(this._ctx.measureText("ZH").width+2)*e.length;return this._ctx.restore(),this._textHeightCache[n]=r,++this._textHeightCacheCounter>this.TEXT_CACHE_MAX&&(this._textHeightCacheCounter=0,this._textHeightCache={}),r}}]),e}(),V0=function(){function e(){AI(this,e),3===arguments.length&&this.computeBoundingBox(arguments),this.CLASS_NAME="SuperMap.LevelRenderer.Tool.ComputeBoundingBox"}return jI(e,[{key:"computeBoundingBox",value:function(e,t,n){if(0!==e.length){for(var r=e[0][0],i=e[0][0],o=e[0][1],a=e[0][1],s=1;s<e.length;s++){var l=e[s];l[0]<r&&(r=l[0]),l[0]>i&&(i=l[0]),l[1]<o&&(o=l[1]),l[1]>a&&(a=l[1])}t[0]=r,t[1]=o,n[0]=i,n[1]=a}}},{key:"cubeBezier",value:function(e,t,n,r,i,o){var a=new G0,s=[];a.cubicExtrema(e[0],t[0],n[0],r[0],s);for(var l=0;l<s.length;l++)s[l]=a.cubicAt(e[0],t[0],n[0],r[0],s[l]);var u=[];a.cubicExtrema(e[1],t[1],n[1],r[1],u);for(var c=0;c<u.length;c++)u[c]=a.cubicAt(e[1],t[1],n[1],r[1],u[c]);s.push(e[0],r[0]),u.push(e[1],r[1]);var f=Math.min.apply(null,s),h=Math.max.apply(null,s),p=Math.min.apply(null,u),y=Math.max.apply(null,u);i[0]=f,i[1]=p,o[0]=h,o[1]=y}},{key:"quadraticBezier",value:function(e,t,n,r,i){var o=new G0,a=o.quadraticExtremum(e[0],t[0],n[0]),s=o.quadraticExtremum(e[1],t[1],n[1]);a=Math.max(Math.min(a,1),0),s=Math.max(Math.min(s,1),0);var l=1-a,u=1-s,c=l*l*e[0]+2*l*a*t[0]+a*a*n[0],f=l*l*e[1]+2*l*a*t[1]+a*a*n[1],h=u*u*e[0]+2*u*s*t[0]+s*s*n[0],p=u*u*e[1]+2*u*s*t[1]+s*s*n[1];r[0]=Math.min(e[0],n[0],c,h),r[1]=Math.min(e[1],n[1],f,p),i[0]=Math.max(e[0],n[0],c,h),i[1]=Math.max(e[1],n[1],f,p)}},{key:"arc",value:function(e,t,n,r,i,o,a,s){var l=new U0,u=l.create(),c=l.create(),f=l.create();if(u[0]=Math.cos(r)*n+e,u[1]=Math.sin(r)*n+t,c[0]=Math.cos(i)*n+e,c[1]=Math.sin(i)*n+t,l.min(a,u,c),l.max(s,u,c),r%=2*Math.PI,r<0&&(r+=2*Math.PI),i%=2*Math.PI,i<0&&(i+=2*Math.PI),r>i&&!o?i+=2*Math.PI:r<i&&o&&(r+=2*Math.PI),o){var h=i;i=r,r=h}for(var p=0;p<i;p+=Math.PI/2)p>r&&(f[0]=Math.cos(p)*n+e,f[1]=Math.sin(p)*n+t,l.min(a,f,a),l.max(s,f,s))}}]),e}(),H0=function(){function e(){RI(this,e),this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Env";var t=this;return function(e){var n=t.os={},r=t.browser={},i=e.match(/Web[kK]it[\/]{0,1}([\d.]+)/),o=e.match(/(Android);?[\s\/]+([\d.]+)?/),a=e.match(/(iPad).*OS\s([\d_]+)/),s=e.match(/(iPod)(.*OS\s([\d_]+))?/),l=!a&&e.match(/(iPhone\sOS)\s([\d_]+)/),u=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),c=u&&e.match(/TouchPad/),f=e.match(/Kindle\/([\d.]+)/),h=e.match(/Silk\/([\d._]+)/),p=e.match(/(BlackBerry).*Version\/([\d.]+)/),y=e.match(/(BB10).*Version\/([\d.]+)/),d=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),m=e.match(/PlayBook/),v=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),g=e.match(/Firefox\/([\d.]+)/),b=e.match(/MSIE ([\d.]+)/),S=i&&e.match(/Mobile\//)&&!v,_=e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!v;return(r.webkit=!!i)&&(r.version=i[1]),o&&(n.android=!0,n.version=o[2]),l&&!s&&(n.ios=n.iphone=!0,n.version=l[2].replace(/_/g,".")),a&&(n.ios=n.ipad=!0,n.version=a[2].replace(/_/g,".")),s&&(n.ios=n.ipod=!0,n.version=s[3]?s[3].replace(/_/g,"."):null),u&&(n.webos=!0,n.version=u[2]),c&&(n.touchpad=!0),p&&(n.blackberry=!0,n.version=p[2]),y&&(n.bb10=!0,n.version=y[2]),d&&(n.rimtabletos=!0,n.version=d[2]),m&&(r.playbook=!0),f&&(n.kindle=!0,n.version=f[1]),h&&(r.silk=!0,r.version=h[1]),!h&&n.android&&e.match(/Kindle Fire/)&&(r.silk=!0),v&&(r.chrome=!0,r.version=v[1]),g&&(r.firefox=!0,r.version=g[1]),b&&(r.ie=!0,r.version=b[1]),S&&(e.match(/Safari/)||n.ios)&&(r.safari=!0),_&&(r.webview=!0),b&&(r.ie=!0,r.version=b[1]),n.tablet=!!(a||m||o&&!e.match(/Mobile/)||g&&e.match(/Tablet/)||b&&!e.match(/Phone/)&&e.match(/Touch/)),n.phone=!(n.tablet||n.ipod||!(o||l||u||p||y||v&&e.match(/Android/)||v&&e.match(/CriOS\/([\d.]+)/)||g&&e.match(/Mobile/)||b&&e.match(/Touch/))),{browser:r,os:n,canvasSupported:!!document.createElement("canvas").getContext}}(navigator.userAgent)}return II(e,[{key:"destory",value:function(){return!0}}]),e}(),J0=function(){function e(){DI(this,e),this.stop="function"==typeof window.addEventListener?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0},this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Event"}return BI(e,[{key:"getX",value:function(e){return void 0!==e.zrenderX&&e.zrenderX||void 0!==e.offsetX&&e.offsetX||void 0!==e.layerX&&e.layerX||void 0!==e.clientX&&e.clientX}},{key:"getY",value:function(e){return void 0!==e.zrenderY&&e.zrenderY||void 0!==e.offsetY&&e.offsetY||void 0!==e.layerY&&e.layerY||void 0!==e.clientY&&e.clientY}},{key:"getDelta",value:function(e){return void 0!==e.zrenderDelta&&e.zrenderDelta||void 0!==e.wheelDelta&&e.wheelDelta||void 0!==e.detail&&-e.detail}}]),e}(),q0=function(){function e(){GI(this,e),this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Http"}return VI(e,[{key:"get",value:function(e,t,n){if("object"===UI(e)){var r=e;e=r.url,t=r.onsuccess,n=r.onerror}var i=window.XMLHttpRequest?new XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");i.open("GET",e,!0),i.onreadystatechange=function(){4==i.readyState&&(i.status>=200&&i.status<300||304===i.status?t&&t(i.responseText):n&&n(),i.onreadystatechange=new Function,i=null)},i.send(null)}}]),e}(),W0=function e(){HI(this,e)};W0.EVENT={RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",MOUSEWHEEL:"mousewheel",MOUSEMOVE:"mousemove",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",GLOBALOUT:"globalout",DRAGSTART:"dragstart",DRAGEND:"dragend",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",touchClickDelay:300},W0.catchBrushException=!1,W0.debugMode=0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Y0=function(){function e(){return JI(this,e),this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Log",function(){if(0!==W0.debugMode)if(1==W0.debugMode)for(var e in arguments)throw new Error(arguments[e]);else if(W0.debugMode>1)for(var t in arguments)console.log(arguments[t])}}return WI(e,[{key:"destory",value:function(){return!0}}]),e}(),Q0=function(){function e(){YI(this,e),this._radians=window.Math.PI/180,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Math"}return XI(e,[{key:"sin",value:function(e,t){return window.Math.sin(t?e*this._radians:e)}},{key:"cos",value:function(e,t){return window.Math.cos(t?e*this._radians:e)}},{key:"degreeToRadian",value:function(e){return e*this._radians}},{key:"radianToDegree",value:function(e){return e/this._radians}}]),e}(),X0=function(){function e(){KI(this,e),this.ArrayCtor="undefined"==typeof Float32Array?Array:Float32Array,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Matrix"}return $I(e,[{key:"create",value:function(){var e=this.ArrayCtor,t=new e(6);return this.identity(t),t}},{key:"identity",value:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}},{key:"copy",value:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}},{key:"mul",value:function(e,t,n){return e[0]=t[0]*n[0]+t[2]*n[1],e[1]=t[1]*n[0]+t[3]*n[1],e[2]=t[0]*n[2]+t[2]*n[3],e[3]=t[1]*n[2]+t[3]*n[3],e[4]=t[0]*n[4]+t[2]*n[5]+t[4],e[5]=t[1]*n[4]+t[3]*n[5]+t[5],e}},{key:"translate",value:function(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}},{key:"rotate",value:function(e,t,n){var r=t[0],i=t[2],o=t[4],a=t[1],s=t[3],l=t[5],u=Math.sin(n),c=Math.cos(n);return e[0]=r*c+a*u,e[1]=-r*u+a*c,e[2]=i*c+s*u,e[3]=-i*u+c*s,e[4]=c*o+u*l,e[5]=c*l-u*o,e}},{key:"scale",value:function(e,t,n){var r=n[0],i=n[1];return e[0]=t[0]*r,e[1]=t[1]*i,e[2]=t[2]*r,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*i,e}},{key:"invert",value:function(e,t){var n=t[0],r=t[2],i=t[4],o=t[1],a=t[3],s=t[5],l=n*a-o*r;return l?(l=1/l,e[0]=a*l,e[1]=-o*l,e[2]=-r*l,e[3]=n*l,e[4]=(r*s-a*i)*l,e[5]=(o*i-n*s)*l,e):null}},{key:"mulVector",value:function(e,t,n){var r=t[0],i=t[2],o=t[4],a=t[1],s=t[3],l=t[5];return e[0]=n[0]*r+n[1]*i+o,e[1]=n[0]*a+n[1]*s+l,e}}]),e}(),K0=function(){function e(){eD(this,e)}return nD(e,null,[{key:"SUtil_smoothBezier",value:function(t,n,r,i,o){o&&2===o||(o=[0,0]);var a,s,l=o,u=[],c=[],f=[],h=[],p=!!i;if(p){a=[1/0,1/0],s=[-1/0,-1/0];for(var y=t.length,d=0;d<y;d++)e.Util_vector.min(a,a,[t[d][0]+l[0],t[d][1]+l[1]]),e.Util_vector.max(s,s,[t[d][0]+l[0],t[d][1]+l[1]]);e.Util_vector.min(a,a,i[0]),e.Util_vector.max(s,s,i[1])}for(var m=t.length,v=0;v<m;v++){var g=[t[v][0]+l[0],t[v][1]+l[1]],b=void 0,S=void 0;if(r)b=[t[v?v-1:m-1][0]+l[0],t[v?v-1:m-1][1]+l[1]],S=[t[(v+1)%m][0]+l[0],t[(v+1)%m][1]+l[1]];else{if(0===v||v===m-1){u.push([t[v][0]+l[0],t[v][1]+l[1]]);continue}b=[t[v-1][0]+l[0],t[v-1][1]+l[1]],S=[t[v+1][0]+l[0],t[v+1][1]+l[1]]}e.Util_vector.sub(c,S,b),e.Util_vector.scale(c,c,n);var _=e.Util_vector.distance(g,b),w=e.Util_vector.distance(g,S),O=_+w;0!==O&&(_/=O,w/=O),e.Util_vector.scale(f,c,-_),e.Util_vector.scale(h,c,w);var x=e.Util_vector.add([],g,f),C=e.Util_vector.add([],g,h);p&&(e.Util_vector.max(x,x,a),e.Util_vector.min(x,x,s),e.Util_vector.max(C,C,a),e.Util_vector.min(C,C,s)),u.push(x),u.push(C)}return r&&u.push(u.shift()),u}},{key:"SUtil_smoothSpline",value:function(t,n,r,i){function o(e,t,n,r,i,o,a){var s=.5*(n-e),l=.5*(r-t);return(2*(t-n)+s+l)*a+(-3*(t-n)-2*s-l)*o+s*i+t}i&&2===i||(i=[0,0]);for(var a=i,s=t.length,l=[],u=0,c=1;c<s;c++)u+=e.Util_vector.distance([t[c-1][0]+a[0],t[c-1][1]+a[1]],[t[c][0]+a[0],t[c][1]+a[1]]);var f=u/5;f=f<s?s:f;for(var h=0;h<f;h++){var p=h/(f-1)*(n?s:s-1),y=Math.floor(p),d=p-y,m=void 0,v=[t[y%s][0]+a[0],t[y%s][1]+a[1]],g=void 0,b=void 0;n?(m=[t[(y-1+s)%s][0]+a[0],t[(y-1+s)%s][1]+a[1]],g=[t[(y+1)%s][0]+a[0],t[(y+1)%s][1]+a[1]],b=[t[(y+2)%s][0]+a[0],t[(y+2)%s][1]+a[1]]):(m=[t[0===y?y:y-1][0]+a[0],t[0===y?y:y-1][1]+a[1]],g=[t[y>s-2?s-1:y+1][0]+a[0],t[y>s-2?s-1:y+1][1]+a[1]],b=[t[y>s-3?s-1:y+2][0]+a[0],t[y>s-3?s-1:y+2][1]+a[1]]);var S=d*d,_=d*S;l.push([o(m[0],v[0],g[0],b[0],d,S,_),o(m[1],v[1],g[1],b[1],d,S,_)])}return l}},{key:"SUtil_dashedLineTo",value:function(e,t,n,r,i,o,a){var s=[5,5];if(o="number"!=typeof o?5:o,e.setLineDash)return s[0]=o,s[1]=o,a&&a instanceof Array?e.setLineDash(a):e.setLineDash(s),e.moveTo(t,n),void e.lineTo(r,i);var l=r-t,u=i-n,c=Math.floor(Math.sqrt(l*l+u*u)/o);l/=c,u/=c;for(var f=!0,h=0;h<c;++h)f?e.moveTo(t,n):e.lineTo(t,n),f=!f,t+=l,n+=u;e.lineTo(r,i)}}]),e}();K0.Util_area=new z0,K0.Util_color=new _0,K0.Util_computeBoundingBox=new V0,K0.Util_curve=new G0,K0.Util_env=new H0,K0.Util_event=new J0,K0.Util_http=new q0,K0.Util_log=new Y0,K0.Util_math=new Q0,K0.Util_matrix=new X0,K0.Util=new S0,K0.Util_vector=new U0;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Z0=function(){function e(){rD(this,e),this.position=[0,0],this.rotation=[0,0,0],this.scale=[1,1,0,0],this.needLocalTransform=!1,this.needTransform=!1,this.CLASS_NAME="SuperMap.LevelRenderer.Transformable",this.lookAt=function(){var e=K0.Util_vector.create();return function(t){function n(e){return e>-5e-5&&e<5e-5}this.transform||(this.transform=K0.Util_matrix.create());var r=this.transform;K0.Util_vector.sub(e,t,this.position),n(e[0])&&n(e[1])||(K0.Util_vector.normalize(e,e),r[2]=e[0]*this.scale[1],r[3]=e[1]*this.scale[1],r[0]=e[1]*this.scale[0],r[1]=-e[0]*this.scale[0],r[4]=this.position[0],r[5]=this.position[1],this.decomposeTransform())}}()}return oD(e,[{key:"destroy",value:function(){this.position=null,this.rotation=null,this.scale=null,this.needLocalTransform=null,this.needTransform=null}},{key:"updateNeedTransform",value:function(){function e(e){return e>5e-5||e<-5e-5}this.needLocalTransform=e(this.rotation[0])||e(this.position[0])||e(this.position[1])||e(this.scale[0]-1)||e(this.scale[1]-1)}},{key:"updateTransform",value:function(){function e(e){return e>5e-5||e<-5e-5}if(this.updateNeedTransform(),this.parent?this.needTransform=this.needLocalTransform||this.parent.needTransform:this.needTransform=this.needLocalTransform,this.needTransform){var t=[0,0],n=this.transform||K0.Util_matrix.create();if(K0.Util_matrix.identity(n),this.needLocalTransform){if(e(this.scale[0])||e(this.scale[1])){t[0]=-this.scale[2]||0,t[1]=-this.scale[3]||0;var r=e(t[0])||e(t[1]);r&&K0.Util_matrix.translate(n,n,t),K0.Util_matrix.scale(n,n,this.scale),r&&(t[0]=-t[0],t[1]=-t[1],K0.Util_matrix.translate(n,n,t))}if(this.rotation instanceof Array){if(0!==this.rotation[0]){t[0]=-this.rotation[1]||0,t[1]=-this.rotation[2]||0;var i=e(t[0])||e(t[1]);i&&K0.Util_matrix.translate(n,n,t),K0.Util_matrix.rotate(n,n,this.rotation[0]),i&&(t[0]=-t[0],t[1]=-t[1],K0.Util_matrix.translate(n,n,t))}}else 0!==this.rotation&&K0.Util_matrix.rotate(n,n,this.rotation);(e(this.position[0])||e(this.position[1]))&&K0.Util_matrix.translate(n,n,this.position)}this.transform=n,this.parent&&this.parent.needTransform&&(this.needLocalTransform?K0.Util_matrix.mul(this.transform,this.parent.transform,this.transform):K0.Util_matrix.copy(this.transform,this.parent.transform))}}},{key:"setTransform",value:function(e){if(this.needTransform){var t=this.transform;e.transform(t[0],t[1],t[2],t[3],t[4],t[5])}}},{key:"decomposeTransform",value:function(){function e(e){return e>5e-5||e<-5e-5}if(this.transform){var t=this.transform,n=t[0]*t[0]+t[1]*t[1],r=this.position,i=this.scale,o=this.rotation;e(n-1)&&(n=Math.sqrt(n));var a=t[2]*t[2]+t[3]*t[3];e(a-1)&&(a=Math.sqrt(a)),r[0]=t[4],r[1]=t[5],i[0]=n,i[1]=a,i[2]=i[3]=0,o[0]=Math.atan2(-t[1]/a,t[0]/n),o[1]=o[2]=0}}}]),e}(),$0=function(e){function t(e){var n;return sD(this,t),n=cD(this,yD(t).call(this,e)),e=e||{},n.id=null,n.style={},n.highlightStyle=null,n.parent=null,n.__dirty=!0,n.__clipShapes=[],n.invisible=!1,n.ignore=!1,n.zlevel=0,n.draggable=!1,n.clickable=!1,n.hoverable=!0,n.z=0,n.refOriginalPosition=[0,0],n.refDataID=null,n.isHoverByRefDataID=!1,n.refDataHoverGroup=null,n.dataInfo=null,rQ.extend(fD(n),e),n.id=n.id||rQ.createUniqueID("smShape_"),n.CLASS_NAME="SuperMap.LevelRenderer.Shape",n.getTansform=function(){var e=[];return function(t,n){var r=[t,n];return this.needTransform&&this.transform&&(K0.Util_matrix.invert(e,this.transform),K0.Util_matrix.mulVector(r,e,[t,n,1]),t==r[0]&&n==r[1]&&this.updateNeedTransform()),r}}(),n}return dD(t,e),uD(t,[{key:"destroy",value:function(){this.id=null,this.style=null,this.highlightStyle=null,this.parent=null,this.__dirty=null,this.__clipShapes=null,this.invisible=null,this.ignore=null,this.zlevel=null,this.draggable=null,this.clickable=null,this.hoverable=null,this.z=null,this.refOriginalPosition=null,this.refDataID=null,this.refDataHoverGroup=null,this.isHoverByRefDataID=null,this.dataInfo=null,hD(yD(t.prototype),"destroy",this).call(this)}},{key:"brush",value:function(e,t){var n=this.beforeBrush(e,t);switch(e.beginPath(),this.buildPath(e,n),n.brushType){case"both":this.setCtxGlobalAlpha(e,"fill",n),e.fill(),n.lineWidth>0&&(this.setCtxGlobalAlpha(e,"stroke",n),e.stroke()),this.setCtxGlobalAlpha(e,"reset",n);break;case"stroke":this.setCtxGlobalAlpha(e,"stroke",n),n.lineWidth>0&&e.stroke(),this.setCtxGlobalAlpha(e,"reset",n);break;default:this.setCtxGlobalAlpha(e,"fill",n),e.fill(),this.setCtxGlobalAlpha(e,"reset",n)}this.drawText(e,n,this.style),this.afterBrush(e)}},{key:"beforeBrush",value:function(e,t){var n=this.style;return this.brushTypeOnly&&(n.brushType=this.brushTypeOnly),t&&(n=this.getHighlightStyle(n,this.highlightStyle||{},this.brushTypeOnly)),"stroke"==this.brushTypeOnly&&(n.strokeColor=n.strokeColor||n.color),e.save(),this.doClip(e),this.setContext(e,n),this.setTransform(e),n}},{key:"afterBrush",value:function(e){e.restore()}},{key:"setContext",value:function(e,t){for(var n=[["color","fillStyle"],["strokeColor","strokeStyle"],["opacity","globalAlpha"],["lineCap","lineCap"],["lineJoin","lineJoin"],["miterLimit","miterLimit"],["lineWidth","lineWidth"],["shadowBlur","shadowBlur"],["shadowColor","shadowColor"],["shadowOffsetX","shadowOffsetX"],["shadowOffsetY","shadowOffsetY"]],r=0,i=n.length;r<i;r++){var o=n[r][0],a=t[o],s=n[r][1];void 0!==a&&(e[s]=a)}}},{key:"doClip",value:function(e){var t=K0.Util_matrix.create();if(this.__clipShapes)for(var n=0;n<this.__clipShapes.length;n++){var r=this.__clipShapes[n];if(r.needTransform){var i=r.transform;K0.Util_matrix.invert(t,i),e.transform(i[0],i[1],i[2],i[3],i[4],i[5])}if(e.beginPath(),r.buildPath(e,r.style),e.clip(),r.needTransform){var o=t;e.transform(o[0],o[1],o[2],o[3],o[4],o[5])}}}},{key:"getHighlightStyle",value:function(e,t,n){var r={};for(var i in e)r[i]=e[i];var o=K0.Util_color.getHighlightColor();"stroke"!=e.brushType?(r.strokeColor=o,r.lineWidth=e.lineWidth||1,r.brushType="both"):"stroke"!=n?(r.strokeColor=o,r.lineWidth=e.lineWidth||1):r.strokeColor=t.strokeColor||K0.Util_color.mix(e.strokeColor,K0.Util_color.toRGB(o));for(var a in t)void 0!==t[a]&&(r[a]=t[a]);return r}},{key:"getHighlightZoom",value:function(){return"text"!=this.type?6:2}},{key:"drift",value:function(e,t){this.position[0]+=e,this.position[1]+=t}},{key:"buildPath",value:function(e,t){K0.Util_log("buildPath not implemented in "+this.type)}},{key:"getRect",value:function(e){K0.Util_log("getRect not implemented in "+this.type)}},{key:"isCover",value:function(e,t){var n=this.getTansform(e,t);e=n[0],t=n[1];var r=this.style.__rect;return r||(r=this.style.__rect=this.getRect(this.style)),e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height&&K0.Util_area.isInside(this,this.style,e,t)}},{key:"drawText",value:function(e,n,r){if(void 0!==n.text&&!1!==n.text){var i=n.textColor||n.color||n.strokeColor;e.fillStyle=i;var o,a,s,l,u=10,c=n.textPosition||this.textPosition||"top",f=[];switch(f=this.refOriginalPosition&&2===this.refOriginalPosition.length?this.refOriginalPosition:[0,0],c){case"inside":case"top":case"bottom":case"left":case"right":if(this.getRect){var h=(r||n).__rect||this.getRect(r||n);switch(c){case"inside":s=h.x+h.width/2,l=h.y+h.height/2,o="center",a="middle","stroke"!=n.brushType&&i==n.color&&(e.fillStyle="#fff");break;case"left":s=h.x-u,l=h.y+h.height/2,o="end",a="middle";break;case"right":s=h.x+h.width+u,l=h.y+h.height/2,o="start",a="middle";break;case"top":s=h.x+h.width/2,l=h.y-u,o="center",a="bottom";break;case"bottom":s=h.x+h.width/2,l=h.y+h.height+u,o="center",a="top"}}break;case"start":case"end":var p=0,y=0,d=0,m=0;if(void 0!==n.pointList){var v=n.pointList;if(v.length<2)return;var g=v.length;switch(c){case"start":p=v[0][0]+f[0],y=v[1][0]+f[0],d=v[0][1]+f[1],m=v[1][1]+f[1];break;case"end":p=v[g-2][0]+f[0],y=v[g-1][0]+f[0],d=v[g-2][1]+f[1],m=v[g-1][1]+f[1]}}else p=n.xStart+f[0]||0,y=n.xEnd+f[0]||0,d=n.yStart+f[1]||0,m=n.yEnd+f[1]||0;switch(c){case"start":o=p<y?"end":"start",a=d<m?"bottom":"top",s=p,l=d;break;case"end":o=p<y?"start":"end",a=d<m?"top":"bottom",s=y,l=m}u-=4,p&&y&&p!=y?s-="end"==o?u:-u:o="center",d!=m?l-="bottom"==a?u:-u:a="middle";break;case"specific":s=n.textX||0,l=n.textY||0,o="start",a="middle"}n.labelXOffset&&!isNaN(n.labelXOffset)&&(s+=n.labelXOffset),n.labelYOffset&&!isNaN(n.labelYOffset)&&(l+=n.labelYOffset),null!=s&&null!=l&&t._fillText(e,n.text,s,l,n.textFont,n.textAlign||o,n.textBaseline||a)}}},{key:"modSelf",value:function(){this.__dirty=!0,this.style&&(this.style.__rect=null),this.highlightStyle&&(this.highlightStyle.__rect=null)}},{key:"isSilent",value:function(){return!(this.hoverable||this.draggable||this.clickable||this.onmousemove||this.onmouseover||this.onmouseout||this.onmousedown||this.onmouseup||this.onclick||this.ondragenter||this.ondragover||this.ondragleave||this.ondrop)}},{key:"setCtxGlobalAlpha",value:function(e,t,n){e.globalAlpha="fill"===t?void 0===n.fillOpacity?void 0===n.opacity?1:n.opacity:n.fillOpacity:"stroke"===t?void 0===n.strokeOpacity?void 0===n.opacity?1:n.opacity:n.strokeOpacity:void 0===n.opacity?1:n.opacity}}],[{key:"_fillText",value:function(e,n,r,i,o,a,s){o&&(e.font=o),e.textAlign=a,e.textBaseline=s;var l=t._getTextRect(n,r,i,o,a,s);n=(n+"").split("\n");var u=K0.Util_area.getTextHeight("ZH",o);switch(s){case"top":i=l.y;break;case"bottom":i=l.y+u;break;default:i=l.y+u/2}for(var c=0,f=n.length;c<f;c++)e.fillText(n[c],r,i),i+=u}},{key:"_getTextRect",value:function(e,t,n,r,i,o){var a=K0.Util_area.getTextWidth(e,r),s=K0.Util_area.getTextHeight("ZH",r);switch(e=(e+"").split("\n"),i){case"end":case"right":t-=a;break;case"center":t-=a/2}switch(o){case"top":break;case"bottom":n-=s*e.length;break;default:n-=s*e.length/2}return{x:t,y:n,width:a,height:s*e.length}}}]),t}(WW.mixin(B0,Z0)),e1=function(e){function t(e){var n;return gD(this,t),n=_D(this,CD(t).call(this,e)),n.type="smicpoint",n.refOriginalPosition&&2===n.refOriginalPosition.length||(n.refOriginalPosition=[0,0]),n.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicPoint",n}return TD(t,e),SD(t,[{key:"destroy",value:function(){this.type=null,OD(CD(t.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition;e.arc(t.x+n[0],t.y+n[1],t.r,0,2*Math.PI,!0)}},{key:"getRect",value:function(e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t=this.refOriginalPosition;if(e.__rect)return e.__rect;var n;return n="stroke"==e.brushType||"fill"==e.brushType?e.lineWidth||1:0,e.__rect={x:Math.round(e.x+t[0]-e.r-n/2),y:Math.round(e.y+t[1]-e.r-n/2),width:2*e.r+n,height:2*e.r+n},e.__rect}}]),t}($0),t1=function(e){function t(e){var n;return kD(this,t),n=LD(this,ID(t).call(this,e)),n.type="smictext",n.refOriginalPosition&&2===n.refOriginalPosition.length||(n.refOriginalPosition=[0,0]),n.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicText",n}return DD(t,e),AD(t,[{key:"destroy",value:function(){this.type=null,RD(ID(t.prototype),"destroy",this).call(this)}},{key:"brush",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition,r=this.style;if(t&&(r=this.getHighlightStyle(r,this.highlightStyle||{})),void 0!==r.text&&!1!==r.text){e.save(),this.doClip(e),this.setContext(e,r),this.setTransform(e),r.textFont&&(e.font=r.textFont),e.textAlign=r.textAlign||"start",e.textBaseline=r.textBaseline||"middle";var i,o=(r.text+"").split("\n"),a=K0.Util_area.getTextHeight("ZH",r.textFont),s=this.getRectNoRotation(r),l=r.x+n[0];i="top"==r.textBaseline?s.y:"bottom"==r.textBaseline?s.y+a:s.y+a/2;for(var u=r.x+n[0],c=r.y+n[1],f=0,h=o.length;f<h;f++){switch(r.labelRect&&(e.fillRect(s.x-2,s.y,s.width+4,s.height),e.fillStyle=r.strokeColor,e.strokeRect(s.x-2,s.y,s.width+4,s.height),e.fillStyle=r.textColor),r.brushType){case"stroke":this.setCtxGlobalAlpha(e,"stroke",r),r.textRotation&&0!==r.textRotation?(e.save(),e.translate(u,c),e.rotate(r.textRotation*Math.PI/180),"top"==r.textBaseline?r.maxWidth?e.strokeText(o[f],0,a*f,r.maxWidth):e.strokeText(o[f],0,a*f):"bottom"==r.textBaseline?r.maxWidth?e.strokeText(o[f],0,a*(f+1)-s.height,r.maxWidth):e.strokeText(o[f],0,a*(f+1)-s.height):r.maxWidth?e.strokeText(o[f],0,a*(f+1)-s.height/2-a/2,r.maxWidth):e.strokeText(o[f],0,a*(f+1)-s.height/2-a/2),e.restore()):r.maxWidth?e.strokeText(o[f],l,i,r.maxWidth):e.strokeText(o[f],l,i),this.setCtxGlobalAlpha(e,"reset",r);break;case"both":r.textRotation&&0!==r.textRotation?(e.save(),e.translate(u,c),e.rotate(r.textRotation*Math.PI/180),"top"==r.textBaseline?r.maxWidth?(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(o[f],0,a*f,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(o[f],0,a*f,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r)):(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(o[f],0,a*f),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(o[f],0,a*f),this.setCtxGlobalAlpha(e,"reset",r)):"bottom"==r.textBaseline?r.maxWidth?(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(o[f],0,a*(f+1)-s.height,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(o[f],0,a*(f+1)-s.height,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r)):(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(o[f],0,a*(f+1)-s.height),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(o[f],0,a*(f+1)-s.height),this.setCtxGlobalAlpha(e,"reset",r)):r.maxWidth?(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(o[f],0,a*(f+1)-s.height/2-a/2,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(o[f],0,a*(f+1)-s.height/2-a/2,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r)):(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(o[f],0,a*(f+1)-s.height/2-a/2),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(o[f],0,a*(f+1)-s.height/2-a/2),this.setCtxGlobalAlpha(e,"reset",r)),e.restore()):r.maxWidth?(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(o[f],l,i,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(o[f],l,i,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r)):(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(o[f],l,i),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(o[f],l,i),this.setCtxGlobalAlpha(e,"reset",r));break;default:this.setCtxGlobalAlpha(e,"fill",r),r.textRotation&&0!==r.textRotation?(e.save(),e.translate(u,c),e.rotate(r.textRotation*Math.PI/180),"top"==r.textBaseline?r.maxWidth?e.fillText(o[f],0,a*f,r.maxWidth):e.fillText(o[f],0,a*f):"bottom"==r.textBaseline?r.maxWidth?e.fillText(o[f],0,a*(f+1)-s.height,r.maxWidth):e.fillText(o[f],0,a*(f+1)-s.height):r.maxWidth?e.fillText(o[f],0,a*(f+1)-s.height/2-a/2,r.maxWidth):e.fillText(o[f],0,a*(f+1)-s.height/2-a/2),e.restore()):r.maxWidth?e.fillText(o[f],l,i,r.maxWidth):e.fillText(o[f],l,i),this.setCtxGlobalAlpha(e,"reset",r)}i+=a}e.restore()}}},{key:"getRect",value:function(e){if(e.__rect)return e.__rect;for(var t,n,r,i,o=this.getTextBackground(e,!0),a=0,s=o.length;a<s;a++){var l=o[a];0==a?(t=l[0],r=l[0],n=l[1],i=l[1]):(l[0]<t&&(t=l[0]),l[0]>r&&(r=l[0]),l[1]<n&&(n=l[1]),l[1]>i&&(i=l[1]))}return e.__rect={x:t,y:n,width:r-t,height:i-n},e.__rect}},{key:"getRectNoRotation",value:function(e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t=this.refOriginalPosition,n=K0.Util_area.getTextHeight("ZH",e.textFont),r=K0.Util_area.getTextWidth(e.text,e.textFont),i=K0.Util_area.getTextHeight(e.text,e.textFont),o=e.x+t[0];"end"==e.textAlign||"right"==e.textAlign?o-=r:"center"==e.textAlign&&(o-=r/2);var a;a="top"==e.textBaseline?e.y+t[1]:"bottom"==e.textBaseline?e.y+t[1]-i:e.y+t[1]-i/2;var s,l=!1;if(e.maxWidth){var u=parseInt(e.maxWidth);u<r&&(s=r,l=!0,r=u),o=e.x+t[0],"end"==e.textAlign||"right"==e.textAlign?o-=r:"center"==e.textAlign&&(o-=r/2)}if(e.textFont){e.textFont.toLowerCase().indexOf("italic")>-1&&(r+=!0===l?n/3*(r/s):n/3)}return{x:o,y:a,width:r,height:i}}},{key:"getTextBackground",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition;if(!t&&e.__textBackground)return e.__textBackground;var r=this.getRectNoRotation(e),i=e.x+n[0],o=e.y+n[1],a=[];if(e.textRotation&&0!==e.textRotation){var s=e.textRotation,l=this.getRotatedLocation(r.x,r.y,i,o,s),u=this.getRotatedLocation(r.x+r.width,r.y,i,o,s),c=this.getRotatedLocation(r.x+r.width,r.y+r.height,i,o,s),f=this.getRotatedLocation(r.x,r.y+r.height,i,o,s);a.push(l),a.push(u),a.push(c),a.push(f)}else{var h=[r.x,r.y],p=[r.x+r.width,r.y],y=[r.x+r.width,r.y+r.height],d=[r.x,r.y+r.height];a.push(h),a.push(p),a.push(y),a.push(d)}return e.__textBackground=a,e.__textBackground}},{key:"getRotatedLocation",value:function(e,t,n,r,i){var o,a,s=new Array;return t=-t,r=-r,i=-i,o=(e-n)*Math.cos(i/180*Math.PI)-(t-r)*Math.sin(i/180*Math.PI)+n,a=(e-n)*Math.sin(i/180*Math.PI)+(t-r)*Math.cos(i/180*Math.PI)+r,s[0]=o,s[1]=-a,s}}]),t}($0),n1=function(e){function t(e){var n;return UD(this,t),n=VD(this,WD(t).call(this,e)),n.type="smiccircle",n.refOriginalPosition&&2===n.refOriginalPosition.length||(n.refOriginalPosition=[0,0]),n.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicCircle",n}return YD(t,e),zD(t,[{key:"destroy",value:function(){this.type=null,JD(WD(t.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition,r=t.x+n[0],i=t.y+n[1];return e.moveTo(r+t.r,i),e.arc(r,i,t.r,0,2*Math.PI,!0),!0}},{key:"getRect",value:function(e){if(e.__rect)return e.__rect;this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t,n=this.refOriginalPosition,r=e.x+n[0],i=e.y+n[1],o=e.r;return t="stroke"==e.brushType||"fill"==e.brushType?e.lineWidth||1:0,e.__rect={x:Math.round(r-o-t/2),y:Math.round(i-o-t/2),width:2*o+t,height:2*o+t},e.__rect}}]),t}($0),r1=function(e){function t(e){var n;return KD(this,t),n=eF(this,iF(t).call(this,e)),n.type="smicpolygon",n.holePolygonPointLists=null,n.refOriginalPosition&&2===n.refOriginalPosition.length||(n.refOriginalPosition=[0,0]),n.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicPolygon",n}return oF(t,e),$D(t,[{key:"destroy",value:function(){this.type=null,this.holePolygonPointLists=null,nF(iF(t.prototype),"destroy",this).call(this)}},{key:"brush",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.style;t&&(n=this.getHighlightStyle(n,this.highlightStyle||{})),e.save(),this.setContext(e,n),this.setTransform(e);var r=!1;"fill"!=n.brushType&&"both"!=n.brushType&&void 0!==n.brushType||(e.beginPath(),"dashed"==n.lineType||"dotted"==n.lineType||"dot"==n.lineType||"dash"==n.lineType||"dashdot"==n.lineType||"longdash"==n.lineType||"longdashdot"==n.lineType?this.buildPath(e,{lineType:"solid",lineWidth:n.lineWidth,pointList:n.pointList}):(this.buildPath(e,n),r=!0),e.closePath(),this.setCtxGlobalAlpha(e,"fill",n),e.fill(),this.setCtxGlobalAlpha(e,"reset",n)),n.lineWidth>0&&("stroke"==n.brushType||"both"==n.brushType)&&(r||(e.beginPath(),this.buildPath(e,n)),this.setCtxGlobalAlpha(e,"stroke",n),e.stroke(),this.setCtxGlobalAlpha(e,"reset",n)),this.drawText(e,n,this.style);var i=rQ.cloneObject(n);if(i.pointList&&this.holePolygonPointLists&&this.holePolygonPointLists.length>0)for(var o=this.holePolygonPointLists,a=o.length,s=0;s<a;s++){var l=o[s];i.pointList=l,e.globalCompositeOperation="destination-out",r=!1,"fill"!=i.brushType&&"both"!=i.brushType&&void 0!==i.brushType||(e.beginPath(),"dashed"==i.lineType||"dotted"==i.lineType||"dot"==i.lineType||"dash"==i.lineType||"dashdot"==i.lineType||"longdash"==i.lineType||"longdashdot"==i.lineType?this.buildPath(e,{lineType:"solid",lineWidth:i.lineWidth,pointList:i.pointList}):(this.buildPath(e,i),r=!0),e.closePath(),this.setCtxGlobalAlpha(e,"fill",i),e.fill(),this.setCtxGlobalAlpha(e,"reset",i)),i.lineWidth>0&&("stroke"==i.brushType||"both"==i.brushType)?(r||(e.beginPath(),this.buildPath(e,i)),e.globalCompositeOperation="source-over",this.setCtxGlobalAlpha(e,"stroke",i),e.stroke(),this.setCtxGlobalAlpha(e,"reset",i)):e.globalCompositeOperation="source-over"}e.restore()}},{key:"buildPath",value:function(e,t){t.showShadow&&(e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY),this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition,r=t.pointList;if(!(r.length<2))if(t.smooth&&"spline"!==t.smooth){var i=K0.SUtil_smoothBezier(r,t.smooth,!0,t.smoothConstraint,n);e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var o,a,s,l=r.length,u=0;u<l;u++)o=i[2*u],a=i[2*u+1],s=[r[(u+1)%l][0]+n[0],r[(u+1)%l][1]+n[1]],e.bezierCurveTo(o[0],o[1],a[0],a[1],s[0],s[1])}else if("spline"===t.smooth&&(r=K0.SUtil_smoothSpline(r,!0,null,n)),t.lineType&&"solid"!=t.lineType){if("dashed"===t.lineType||"dotted"===t.lineType||"dot"===t.lineType||"dash"===t.lineType||"longdash"===t.lineType){var c=t._dashLength||(t.lineWidth||1)*("dashed"==t.lineType?5:1);t._dashLength=c;var f=t.lineWidth||1,h=f,p=f;"dashed"===t.lineType&&(h*=5,p*=5,t.lineCap&&"butt"!==t.lineCap&&(h-=f,p+=f)),"dotted"===t.lineType&&t.lineCap&&"butt"!==t.lineCap&&(h=1,p+=f),"dot"===t.lineType&&(p*=4,t.lineCap&&"butt"!==t.lineCap&&(h=1,p+=f)),"dash"===t.lineType&&(h*=4,p*=4,t.lineCap&&"butt"!==t.lineCap&&(h-=f,p+=f)),"longdash"===t.lineType&&(h*=8,p*=4,t.lineCap&&"butt"!==t.lineCap&&(h-=f,p+=f)),e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var y=1;y<r.length;y++)K0.SUtil_dashedLineTo(e,r[y-1][0]+n[0],r[y-1][1]+n[1],r[y][0]+n[0],r[y][1]+n[1],f,[h,p]);K0.SUtil_dashedLineTo(e,r[r.length-1][0]+n[0],r[r.length-1][1]+n[1],r[0][0]+n[0],r[0][1]+n[1],f,[h,p])}else if("dashdot"===t.lineType||"longdashdot"===t.lineType){var d=t._dashLength||(t.lineWidth||1)*("dashed"==t.lineType?5:1);t._dashLength=d;var m=t.lineWidth||1,v=m,g=m,b=m,S=m;"dashdot"===t.lineType&&(v*=4,g*=4,S*=4,t.lineCap&&"butt"!==t.lineCap&&(v-=m,g+=m,b=1,S+=m)),"longdashdot"===t.lineType&&(v*=8,g*=4,S*=4,t.lineCap&&"butt"!==t.lineCap&&(v-=m,g+=m,b=1,S+=m)),e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var _=1;_<r.length;_++)K0.SUtil_dashedLineTo(e,r[_-1][0]+n[0],r[_-1][1]+n[1],r[_][0]+n[0],r[_][1]+n[1],m,[v,g,b,S]);K0.SUtil_dashedLineTo(e,r[r.length-1][0]+n[0],r[r.length-1][1]+n[1],r[0][0]+n[0],r[0][1]+n[1],m,[v,g,b,S])}}else{e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var w=1;w<r.length;w++)e.lineTo(r[w][0]+n[0],r[w][1]+n[1]);e.lineTo(r[0][0]+n[0],r[0][1]+n[1])}}},{key:"getRect",value:function(e,t){var n;if(t?n=t:(this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]),n=this.refOriginalPosition),e.__rect)return e.__rect;for(var r=Number.MAX_VALUE,i=Number.MIN_VALUE,o=Number.MAX_VALUE,a=Number.MIN_VALUE,s=e.pointList,l=0,u=s.length;l<u;l++)s[l][0]+n[0]<r&&(r=s[l][0]+n[0]),s[l][0]+n[0]>i&&(i=s[l][0]+n[0]),s[l][1]+n[1]<o&&(o=s[l][1]+n[1]),s[l][1]+n[1]>a&&(a=s[l][1]+n[1]);var c;return c="stroke"==e.brushType||"fill"==e.brushType?e.lineWidth||1:0,e.__rect={x:Math.round(r-c/2),y:Math.round(o-c/2),width:i-r+c,height:a-o+c},e.__rect}}]),t}($0),i1=function(e){function t(e){var n;return lF(this,t),n=fF(this,dF(t).call(this,e)),n.brushTypeOnly="stroke",n.textPosition="end",n.type="smicbroken-line",n.refOriginalPosition&&2===n.refOriginalPosition.length||(n.refOriginalPosition=[0,0]),n.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicBrokenLine",n}return mF(t,e),cF(t,[{key:"destroy",value:function(){this.brushTypeOnly=null,this.textPosition=null,this.type=null,pF(dF(t.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition,r=t.pointList;if(!(r.length<2)){var i=Math.min(t.pointList.length,Math.round(t.pointListLength||t.pointList.length));if(t.smooth&&"spline"!==t.smooth){var o=K0.SUtil_smoothBezier(r,t.smooth,!1,t.smoothConstraint,n);e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var a,s,l,u=0;u<i-1;u++)a=o[2*u],s=o[2*u+1],l=[r[u+1][0]+n[0],r[u+1][1]+n[1]],e.bezierCurveTo(a[0],a[1],s[0],s[1],l[0],l[1])}else if("spline"===t.smooth&&(r=K0.SUtil_smoothSpline(r,null,null,n),i=r.length),t.lineType&&"solid"!==t.lineType){if("dashed"===t.lineType||"dotted"===t.lineType||"dot"===t.lineType||"dash"===t.lineType||"longdash"===t.lineType){var c=t.lineWidth||1,f=c,h=c;"dashed"===t.lineType&&(f*=5,h*=5,t.lineCap&&"butt"!==t.lineCap&&(f-=c,h+=c)),"dotted"===t.lineType&&t.lineCap&&"butt"!==t.lineCap&&(f=1,h+=c),"dot"===t.lineType&&(h*=4,t.lineCap&&"butt"!==t.lineCap&&(f=1,h+=c)),"dash"===t.lineType&&(f*=4,h*=4,t.lineCap&&"butt"!==t.lineCap&&(f-=c,h+=c)),"longdash"===t.lineType&&(f*=8,h*=4,t.lineCap&&"butt"!==t.lineCap&&(f-=c,h+=c)),e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var p=1;p<i;p++)K0.SUtil_dashedLineTo(e,r[p-1][0]+n[0],r[p-1][1]+n[1],r[p][0]+n[0],r[p][1]+n[1],c,[f,h])}else if("dashdot"===t.lineType||"longdashdot"===t.lineType){var y=t.lineWidth||1,d=y,m=y,v=y,g=y;"dashdot"===t.lineType&&(d*=4,m*=4,g*=4,t.lineCap&&"butt"!==t.lineCap&&(d-=y,m+=y,v=1,g+=y)),"longdashdot"===t.lineType&&(d*=8,m*=4,g*=4,t.lineCap&&"butt"!==t.lineCap&&(d-=y,m+=y,v=1,g+=y)),y=(t.lineWidth||1)*("dashed"===t.lineType?5:1),e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var b=1;b<i;b++)K0.SUtil_dashedLineTo(e,r[b-1][0]+n[0],r[b-1][1]+n[1],r[b][0]+n[0],r[b][1]+n[1],y,[d,m,v,g])}}else{e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var S=1;S<i;S++)e.lineTo(r[S][0]+n[0],r[S][1]+n[1])}}}},{key:"getRect",value:function(e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t=this.refOriginalPosition;return r1.prototype.getRect.apply(this,[e,t])}}]),t}($0),o1=function(e){function t(e){var n;return bF(this,t),n=wF(this,TF(t).call(this,e)),n.type="smicimage",n._imageCache={},n.refOriginalPosition&&2===n.refOriginalPosition.length||(n.refOriginalPosition=[0,0]),n.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicImage",n}return PF(t,e),_F(t,[{key:"destroy",value:function(){this.type=null,this._imageCache=null,xF(TF(t.prototype),"destroy",this).call(this)}},{key:"brush",value:function(e,n,r){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var i=this.refOriginalPosition,o=this.style||{};n&&(o=this.getHighlightStyle(o,this.highlightStyle||{}));var a=o.image,s=this;if("string"==typeof a){var l=a;this._imageCache[l]?a=this._imageCache[l]:(a=new Image,a.onload=function(){a.onload=null,clearTimeout(t._refreshTimeout),t._needsRefresh.push(s),t._refreshTimeout=setTimeout(function(){r&&r(t._needsRefresh),t._needsRefresh=[]},10)},a.src=l,this._imageCache[l]=a)}if(a){if("IMG"==a.nodeName.toUpperCase())if(window.ActiveXObject){if("complete"!=a.readyState)return}else if(!a.complete)return;var u=o.width||a.width,c=o.height||a.height,f=o.x+i[0],h=o.y+i[1];if(!a.width||!a.height)return;if(e.save(),this.doClip(e),this.setContext(e,o),this.setTransform(e),o.sWidth&&o.sHeight){var p=o.sx+i[0]||0,y=o.sy+i[1]||0;e.drawImage(a,p,y,o.sWidth,o.sHeight,f,h,u,c)}else if(o.sx&&o.sy){var d=o.sx+i[0],m=o.sy+i[1],v=u-d,g=c-m;e.drawImage(a,d,m,v,g,f,h,u,c)}else e.drawImage(a,f,h,u,c);o.width||(o.width=u),o.height||(o.height=c),this.style.width||(this.style.width=u),this.style.height||(this.style.height=c),this.drawText(e,o,this.style),e.restore()}}},{key:"getRect",value:function(e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t=this.refOriginalPosition;return{x:e.x+t[0],y:e.y+t[1],width:e.width,height:e.height}}},{key:"clearCache",value:function(){this._imageCache={}}}]),t}($0);o1._needsRefresh=[],o1._refreshTimeout=null;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var a1=function(e){function t(e){var n;return MF(this,t),n=jF(this,DF(t).call(this,e)),n.type="smicrectangle",n.refOriginalPosition&&2===n.refOriginalPosition.length||(n.refOriginalPosition=[0,0]),n.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicRectangle",n}return FF(t,e),LF(t,[{key:"destroy",value:function(){this.type=null,NF(DF(t.prototype),"destroy",this).call(this)}},{key:"_buildRadiusPath",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n,r,i,o,a=this.refOriginalPosition,s=t.x+a[0],l=t.y+a[1],u=t.width,c=t.height,f=t.radius;"number"==typeof f?n=r=i=o=f:f instanceof Array?1===f.length?n=r=i=o=f[0]:2===f.length?(n=i=f[0],r=o=f[1]):3===f.length?(n=f[0],r=o=f[1],i=f[2]):(n=f[0],r=f[1],i=f[2],o=f[3]):n=r=i=o=0;var h;n+r>u&&(h=n+r,n*=u/h,r*=u/h),i+o>u&&(h=i+o,i*=u/h,o*=u/h),r+i>c&&(h=r+i,r*=c/h,i*=c/h),n+o>c&&(h=n+o,n*=c/h,o*=c/h),e.moveTo(s+n,l),e.lineTo(s+u-r,l),0!==r&&e.quadraticCurveTo(s+u,l,s+u,l+r),e.lineTo(s+u,l+c-i),0!==i&&e.quadraticCurveTo(s+u,l+c,s+u-i,l+c),e.lineTo(s+o,l+c),0!==o&&e.quadraticCurveTo(s,l+c,s,l+c-o),e.lineTo(s,l+n),0!==n&&e.quadraticCurveTo(s,l,s+n,l)}},{key:"buildPath",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition;t.radius?this._buildRadiusPath(e,t):(e.moveTo(t.x+n[0],t.y+n[1]),e.lineTo(t.x+n[0]+t.width,t.y+n[1]),e.lineTo(t.x+n[0]+t.width,t.y+n[1]+t.height),e.lineTo(t.x+n[0],t.y+n[1]+t.height),e.lineTo(t.x+n[0],t.y+n[1])),e.closePath()}},{key:"getRect",value:function(e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t=this.refOriginalPosition;if(e.__rect)return e.__rect;var n;return n="stroke"==e.brushType||"fill"==e.brushType?e.lineWidth||1:0,e.__rect={x:Math.round(e.x+t[0]-n/2),y:Math.round(e.y+t[1]-n/2),width:e.width+n,height:e.height+n},e.__rect}}]),t}($0),s1=function(e){function t(e){var n;return GF(this,t),n=HF(this,YF(t).call(this,e)),n.type="smicsector",n.refOriginalPosition&&2===n.refOriginalPosition.length||(n.refOriginalPosition=[0,0]),n.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicSector",n}return QF(t,e),VF(t,[{key:"destroy",value:function(){this.type=null,qF(YF(t.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition,r=t.x+n[0],i=t.y+n[1],o=t.r0||0,a=t.r,s=t.startAngle,l=t.endAngle,u=t.clockWise||!1;s=K0.Util_math.degreeToRadian(s),l=K0.Util_math.degreeToRadian(l),u||(s=-s,l=-l);var c=K0.Util_math.cos(s),f=K0.Util_math.sin(s);e.moveTo(c*o+r,f*o+i),e.lineTo(c*a+r,f*a+i),e.arc(r,i,a,s,l,!u),e.lineTo(K0.Util_math.cos(l)*o+r,K0.Util_math.sin(l)*o+i),0!==o&&e.arc(r,i,o,l,s,u),e.closePath()}},{key:"getRect",value:function(e){if(e.__rect)return e.__rect;this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t=this.refOriginalPosition,n=K0.Util_vector.create(),r=K0.Util_vector.create(),i=K0.Util_vector.create(),o=K0.Util_vector.create(),a=e.x+t[0],s=e.y+t[1],l=e.r0||0,u=e.r,c=K0.Util_math.degreeToRadian(e.startAngle),f=K0.Util_math.degreeToRadian(e.endAngle),h=e.clockWise;return h||(c=-c,f=-f),l>1?K0.Util_computeBoundingBox.arc(a,s,l,c,f,!h,n,i):(n[0]=i[0]=a,n[1]=i[1]=s),K0.Util_computeBoundingBox.arc(a,s,u,c,f,!h,r,o),K0.Util_vector.min(n,n,r),K0.Util_vector.max(i,i,o),e.__rect={x:n[0],y:n[1],width:i[0]-n[0],height:i[1]-n[1]},e.__rect}}]),t}($0),l1=function(){function e(t){KF(this,e),this.shapeParameters=t,this.CLASS_NAME="SuperMap.Feature.ShapeFactory"}return $F(e,[{key:"destroy",value:function(){this.shapeParameters=null}},{key:"createShape",value:function(t){if(t&&(this.shapeParameters=t),!this.shapeParameters)return null;var n=this.shapeParameters;if(n instanceof A0){var r=new Object;r.x=n.x,r.y=n.y,r.r=n.r,r=rQ.copyAttributesWithClip(r,n.style,["x","y"]);var i=new e1;return i.style=e.transformStyle(r),i.highlightStyle=e.transformStyle(n.highlightStyle),rQ.copyAttributesWithClip(i,n,["x","y","style","highlightStyle"]),i}if(n instanceof L0){if(!n.pointList)return null;var o=new Object;o.pointList=n.pointList,o=rQ.copyAttributesWithClip(o,n.style,["pointList"]);var a=new i1;return a.style=e.transformStyle(o),a.highlightStyle=e.transformStyle(n.highlightStyle),rQ.copyAttributesWithClip(a,n,["pointList","style","highlightStyle"]),a}if(n instanceof j0){if(!n.pointList)return null;var s=new Object;s.pointList=n.pointList,s=rQ.copyAttributesWithClip(s,n.style,["pointList"]);var l=new r1;return l.style=e.transformStyle(s),l.highlightStyle=e.transformStyle(n.highlightStyle),rQ.copyAttributesWithClip(l,n,["pointList","style","highlightStyle"]),l}if(n instanceof R0){if(!n.x&&!n.y&!n.width&!n.height)return null;var u=new Object;u.x=n.x,u.y=n.y,u.width=n.width,u.height=n.height,u=rQ.copyAttributesWithClip(u,n.style,["x","y","width","height"]);var c=new a1;return c.style=e.transformStyle(u),c.highlightStyle=e.transformStyle(n.highlightStyle),rQ.copyAttributesWithClip(c,n,["x","y","width","height","style","highlightStyle"]),c}if(n instanceof N0){var f=new Object;f.x=n.x,f.y=n.y,f.r=n.r,f.startAngle=n.startAngle,f.endAngle=n.endAngle,n.r0&&(f.r0=n.r0),n.clockWise&&(f.clockWise=n.clockWise),f=rQ.copyAttributesWithClip(f,n.style,["x","y","r","startAngle","endAngle","r0","endAngle"]);var h=new s1;return h.style=e.transformStyle(f),h.highlightStyle=e.transformStyle(n.highlightStyle),rQ.copyAttributesWithClip(h,n,["x","y","r","startAngle","endAngle","r0","endAngle","style","highlightStyle"]),h}if(n instanceof I0){var p=new Object;p.x=n.x,p.y=n.y,p.text=n.text,p=rQ.copyAttributesWithClip(p,n.style,["x","y","text"]);var y=new t1;return y.style=e.transformStyle(p),y.highlightStyle=e.transformStyle(n.highlightStyle),rQ.copyAttributesWithClip(y,n,["x","y","text","style","highlightStyle"]),y}if(n instanceof D0){var d=new Object;d.x=n.x,d.y=n.y,n.image&&(d.image=n.image),n.width&&(d.width=n.width),n.height&&(d.height=n.height),n.sx&&(d.sx=n.sx),n.sy&&(d.sy=n.sy),n.sWidth&&(d.sWidth=n.sWidth),n.sHeight&&(d.sHeight=n.sHeight),d=rQ.copyAttributesWithClip(d,n.style,["x","y","image","width","height","sx","sy","sWidth","sHeight"]);var m=new o1;return m.style=e.transformStyle(d),m.highlightStyle=e.transformStyle(n.highlightStyle),rQ.copyAttributesWithClip(m,n,["x","y","image","width","height","style","highlightStyle"]),m}if(n instanceof F0){var v=new Object;v.x=n.x,v.r=n.r,v.y=n.y,v=rQ.copyAttributesWithClip(v,n.style,["x","y","r"]);var g=new n1;return g.style=e.transformStyle(v),g.highlightStyle=e.transformStyle(n.highlightStyle),rQ.copyAttributesWithClip(g,n,["x","y","r","style","highlightStyle","lineWidth","text","textPosition"]),g}return null}}],[{key:"transformStyle",value:function(e){var t={},n=["normal","normal","normal","12","arial,sans-serif"],r=[!0,!1];for(var i in e)switch(i){case"fill":r[0]=e[i];break;case"fillColor":t.color=e[i];break;case"stroke":r[1]=e[i];break;case"strokeWidth":t.lineWidth=e[i];break;case"strokeLinecap":t.lineCap=e[i];break;case"strokeLineJoin":t.lineJoin=e[i];break;case"strokeDashstyle":t.lineType=e[i];break;case"pointRadius":t.r=e[i];break;case"label":t.text=e[i];break;case"labelRect":t.labelRect=e[i];break;case"fontColor":t.textColor=e[i];break;case"fontStyle":n[0]=e[i];break;case"fontVariant":n[1]=e[i];break;case"fontWeight":n[2]=e[i];break;case"fontSize":var o="";e[i]&&e[i].toString().indexOf("px")<0&&(o="px"),n[3]=e[i]+o;break;case"fontFamily":n[4]=e[i];break;case"fontOpacity":t.opacity=e[i];break;case"labelPosition":t.textPosition=e[i];break;case"labelAlign":t.textAlign=e[i];break;case"labelBaseline":t.textBaseline=e[i];break;case"labelRotation":t.textRotation=e[i];break;default:t[i]=e[i]}return t.textFont=n.join(" "),!0===r[0]&&!1===r[1]?t.brushType="fill":!1===r[0]&&!0===r[1]?t.brushType="stroke":!0===r[0]&&!0===r[1]?t.brushType="both":t.brushType="fill",null==t.lineWidth&&(t.lineWidth=1),t}},{key:"Background",value:function(e,t,n){var r=n||{},i=new R0(t[0],t[3],Math.abs(t[2]-t[0]),Math.abs(t[3]-t[1]));return i.style={fillColor:"#f3f3f3"},r.backgroundStyle&&rQ.copyAttributesWithClip(i.style,r.backgroundStyle),r.backgroundRadius&&(i.style.radius=r.backgroundRadius),i.clickable=!1,i.hoverable=!1,e.createShape(i)}},{key:"GraphAxis",value:function(e,t,n,r){var i=t,o=n||{},a=[],s=[],l=!!o.useXReferenceLine&&o.useXReferenceLine,u=o.axisYTick&&!isNaN(o.axisYTick)?o.axisYTick:0,c=[],f=[],h=[];if(0==u){if(h.push([i[0],i[3]-5]),h.push([i[0],i[1]]),o.axis3DParameter&&!isNaN(o.axis3DParameter)&&o.axis3DParameter>=15){var p=parseInt(o.axis3DParameter),y=[i[0]-p,i[1]+p];o.axisUseArrow?(f.push([y[0]+1.5,y[1]-7.5]),f.push([y[0]-1,y[1]+1]),f.push([y[0]+7.5,y[1]-1.5]),h.push([y[0],y[1]])):h.push([y[0],y[1]]),h.push([i[0],i[1]])}h.push([i[2]+5,i[1]])}else{var d=Math.abs(i[1]-i[3])/u,m=i[3];h.push([i[0],m-5]);for(var v=0;v<u;v++){if(h.push([i[0],m]),h.push([i[0]-5,m]),h.push([i[0],m]),l){var g=new L0([[i[0],m],[i[2],m]]);g.style={strokeColor:"#cfcfcf",strokeLinecap:"butt",strokeLineJoin:"round",strokeWidth:1},g.clickable=!1,g.hoverable=!1,o.xReferenceLineStyle&&rQ.copyAttributesWithClip(g.style,o.xReferenceLineStyle),a.push(e.createShape(g))}m+=d}if(h.push([i[0],i[1]]),o.axis3DParameter&&!isNaN(o.axis3DParameter)&&o.axis3DParameter>=15){var b=parseInt(o.axis3DParameter),S=[i[0]-b,i[1]+b];o.axisUseArrow?(f.push([S[0]+1.5,S[1]-7.5]),f.push([S[0]-1,S[1]+1]),f.push([S[0]+7.5,S[1]-1.5]),h.push([S[0],S[1]])):h.push([S[0],S[1]]),h.push([i[0],i[1]])}h.push([i[2]+5,i[1]])}if(o.axisUseArrow){var _=[[i[2]+5,i[1]+4],[i[2]+13,i[1]],[i[2]+5,i[1]-4]],w=[[i[0]-4,i[3]-5],[i[0],i[3]-13],[i[0]+4,i[3]-5]],O=new j0(_);O.style={fillColor:"#008acd"},rQ.copyAttributesWithClip(O.style,o.axisStyle),s.push(e.createShape(O));var x=new j0(w);if(x.style={fillColor:"#008acd"},rQ.copyAttributesWithClip(x.style,o.axisStyle),s.push(e.createShape(x)),o.axis3DParameter&&!isNaN(o.axis3DParameter)&&o.axis3DParameter>=15){var C=new j0(f);C.style={fillColor:"#008acd"},rQ.copyAttributesWithClip(C.style,o.axisStyle),s.push(e.createShape(C))}}c=h;var T=new L0(c);T.style={strokeLinecap:"butt",strokeLineJoin:"round",strokeColor:"#008acd",strokeWidth:1},o.axisStyle&&rQ.copyAttributesWithClip(T.style,o.axisStyle),T.clickable=!1,T.hoverable=!1;var P=[e.createShape(T)],E=[];if(o.axisYLabels&&o.axisYLabels.length&&o.axisYLabels.length>0){var k=o.axisYLabels,M=k.length,A=[0,0];if(o.axisYLabelsOffset&&o.axisYLabelsOffset.length&&(A=o.axisYLabelsOffset),1==M){var L=new I0(i[0]-5+A[0],i[3]+A[1],k[0]);L.style={labelAlign:"right"},o.axisYLabelsStyle&&rQ.copyAttributesWithClip(L.style,o.axisYLabelsStyle),L.clickable=!1,L.hoverable=!1,E.push(e.createShape(L))}else for(var j=i[3],R=Math.abs(i[1]-i[3])/(M-1),N=0;N<M;N++){var I=new I0(i[0]-5+A[0],j+A[1],k[N]);I.style={labelAlign:"right"},o.axisYLabelsStyle&&rQ.copyAttributesWithClip(I.style,o.axisYLabelsStyle),I.clickable=!1,I.hoverable=!1,E.push(e.createShape(I)),j+=R}}var D=[];if(o.axisXLabels&&o.axisXLabels.length&&o.axisXLabels.length>0){var F=o.axisXLabels,B=F.length,U=[0,0];if(o.axisXLabelsOffset&&o.axisXLabelsOffset.length&&(U=o.axisXLabelsOffset),r&&r.xPositions&&r.xPositions.length&&r.xPositions.length==B)for(var G=r.xPositions,z=0;z<B;z++){var V=new I0(G[z]+U[0],i[1]+U[1],F[z]);V.style={labelAlign:"center",labelBaseline:"top"},o.axisXLabelsStyle&&rQ.copyAttributesWithClip(V.style,o.axisXLabelsStyle),V.clickable=!1,V.hoverable=!1,D.push(e.createShape(V))}else if(1==B){var H=new I0(i[0]-5+U[0],i[1]+U[0],F[0]);H.style={labelAlign:"center",labelBaseline:"top"},o.axisXLabelsStyle&&rQ.copyAttributesWithClip(H.style,o.axisXLabelsStyle),H.clickable=!1,H.hoverable=!1,D.push(e.createShape(H))}else for(var J=i[0],q=Math.abs(i[2]-i[0])/(B-1),W=0;W<B;W++){var Y=new I0(J+U[0],i[1]+U[1],F[W]);Y.style={labelAlign:"center",labelBaseline:"top"},o.axisXLabelsStyle&&rQ.copyAttributesWithClip(Y.style,o.axisXLabelsStyle),Y.clickable=!1,Y.hoverable=!1,D.push(e.createShape(Y)),J+=q}}return a.concat(P).concat(E).concat(D).concat(s)}},{key:"ShapeStyleTool",value:function(e,t,n,r,i,o){var a=e||{};if(t&&rQ.copyAttributesWithClip(a,t),n&&n.length&&void 0!==i&&!isNaN(i)&&i>=0&&n[i]&&rQ.copyAttributesWithClip(a,n[i]),r&&r.length&&void 0!==o)for(var s=r,l=s.length,u=parseFloat(o),c=0;c<l;c++)if(s[c].start<=u&&u<s[c].end){rQ.copyAttributesWithClip(a,s[c].style);break}return a}}]),e}();WW.Feature=WW.Feature||{},WW.Feature.ShapeFactory=l1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var u1=function(){function e(t,n){eB(this,e),t&&n&&n.map&&n.renderer&&(this.id=rQ.createUniqueID(this.CLASS_NAME+"_"),this.lonlat=null,this.location=[],this.data=t,this.shapes=[],this.layer=n,this.CLASS_NAME="SuperMap.Feature.Theme")}return nB(e,[{key:"destroy",value:function(){this.data=null,this.id=null,this.lonlat=null,this.location=null,this.shapes=null,this.layer=null}},{key:"getLocalXY",value:function(e){var t=this.layer.map.getResolution(),n=this.layer.map.getExtent();if(e instanceof cQ||e instanceof hQ){return[e.x/t+-n.left/t,n.top/t-e.y/t]}if(e instanceof iQ){return[e.lon/t+-n.left/t,n.top/t-e.lat/t]}return null}}]),e}();WW.Feature=WW.Feature||{},WW.Feature.Theme=u1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var c1=function(e){function t(e,n,r,i,o,a){var s;return iB(this,t),s=sB(this,fB(t).call(this,e,n,r,i,o,a)),s.shapeFactory=new l1,s.shapeParameters=null,s.RelativeCoordinate=!1,s.setting=null,s.origonPoint=null,s.chartBox=null,s.chartBounds=null,s.width=null,s.height=null,s.XOffset=0,s.YOffset=0,s.DVBParameter=null,s.dataViewBox=null,s.DVBCodomain=null,s.DVBCenterPoint=null,s.DVBUnitValue=null,s.DVBOrigonPoint=null,s.DVBWidth=null,s.DVBHeight=null,s.origonPointOffset=null,s.fields=r||[],s.dataValues=null,s.lonlat=o||s.data.geometry.getBounds().getCenterLonLat(),i&&i.width&&i.height&&i.codomain&&(s.setting=i),s.CLASS_NAME="SuperMap.Feature.Theme.Graph",s}return hB(t,e),aB(t,[{key:"destroy",value:function(){this.shapeFactory=null,this.shapeParameters=null,this.width=null,this.height=null,this.origonPoint=null,this.chartBox=null,this.dataViewBox=null,this.chartBounds=null,this.DVBParameter=null,this.DVBOrigonPoint=null,this.DVBCenterPoint=null,this.DVBWidth=null,this.DVBHeight=null,this.DVBCodomain=null,this.DVBUnitValue=null,this.origonPointOffset=null,this.XOffset=null,this.YOffset=null,this.fields=null,this.dataValues=null,this.setting=null,uB(fB(t.prototype),"destroy",this).call(this)}},{key:"initBaseParameter",value:function(){if(!this.setting)return!1;var e=this.setting;if(!(e.width&&e.height&&e.codomain))return!1;var t=void 0===e.decimalNumber||isNaN(e.decimalNumber)?-1:e.decimalNumber,n=u1.getDataValues(this.data,this.fields,t);this.dataValues=n||[],this.width=parseFloat(e.width),this.height=parseFloat(e.height),this.DVBCodomain=e.codomain,this.XOffset=e.XOffset?e.XOffset:0,this.YOffset=e.YOffset?e.YOffset:0,this.origonPoint=[],this.chartBox=[],this.dataViewBox=[],this.DVBParameter=e.dataViewBoxParameter?e.dataViewBoxParameter:[0,0,0,0],this.DVBOrigonPoint=[],this.DVBCenterPoint=[],this.origonPointOffset=[],this.resetLocation();var r=this.width,i=this.height,o=this.location;this.origonPoint=[o[0]-r/2,o[1]-i/2];var a=this.origonPoint;this.chartBox=[a[0],a[1]+i,a[0]+r,a[1]];var s=this.chartBox,l=this.DVBParameter;this.dataViewBox=[s[0]+l[0],s[1]-l[1],s[2]-l[2],s[3]+l[3]];var u=this.dataViewBox;return!(u[0]>=u[2]||u[1]<=u[3])&&(this.DVBOrigonPoint=[u[0],u[3]],this.DVBWidth=Math.abs(u[2]-u[0]),this.DVBHeight=Math.abs(u[1]-u[3]),this.DVBCenterPoint=[this.DVBOrigonPoint[0]+this.DVBWidth/2,this.DVBOrigonPoint[1]+this.DVBHeight/2],this.origonPointOffset=[this.DVBOrigonPoint[0]-a[0],this.DVBOrigonPoint[1]-a[1]],!0)}},{key:"resetLocation",value:function(e){e&&(this.lonlat=e);var t=this.getLocalXY(this.lonlat);t[0]+=this.XOffset,t[1]+=this.YOffset,this.location=t;var n=this.width,r=this.height,i=this.location;return this.chartBounds=new oQ(i[0]-n/2,i[1]+r/2,i[0]+n/2,i[1]-r/2),this.resetLinearGradient(),i}},{key:"resetLinearGradient",value:function(){}},{key:"shapesConvertToRelativeCoordinate",value:function(){for(var e=this.shapes,t=this.location,n=0,r=e.length;n<r;n++){e[n].refOriginalPosition=t;var i=e[n].style;for(var o in i)switch(o){case"pointList":for(var a=i[o],s=0,l=a.length;s<l;s++)a[s][0]-=t[0],a[s][1]-=t[1];break;case"x":i[o]-=t[0];break;case"y":i[o]-=t[1]}}this.RelativeCoordinate=!0}},{key:"assembleShapes",value:function(){}},{key:"getLocalXY",value:function(e){return this.layer.getLocalXY(e)}}]),t}(u1);u1.getDataValues=function(e,t,n){if(!e.attributes)return!1;for(var r=[],i=e.attributes,o=0;o<t.length;o++)for(var a in i)if(a===t[o])try{!isNaN(n)&&n>=0?r.push(parseFloat(i[a].toString()).toFixed(n)):r.push(parseFloat(i[a].toString()))}catch(e){throw new Error("not a number")}return r.length===t.length&&r},WW.Feature.Theme.Graph=c1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var f1=function(e){function t(e,n,r,i,o){var a;return dB(this,t),a=gB(this,wB(t).call(this,e,n,r,i,o)),a.CLASS_NAME="SuperMap.Feature.Theme.Bar",a}return OB(t,e),vB(t,[{key:"destroy",value:function(){SB(wB(t.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var e=[["#00FF00","#00CD00"],["#00CCFF","#5E87A2"],["#00FF66","#669985"],["#CCFF00","#94A25E"],["#FF9900","#A2945E"]],t={showShadow:!0,shadowBlur:8,shadowColor:"rgba(100,100,100,0.8)",shadowOffsetX:2,shadowOffsetY:2},n=this.setting;if(n.barLinearGradient||(n.barLinearGradient=e),n.dataViewBoxParameter||(void 0===n.useAxis||n.useAxis?n.dataViewBoxParameter=[45,15,15,15]:n.dataViewBoxParameter=[5,5,5,5]),this.initBaseParameter()){var r=this.DVBCodomain;this.DVBUnitValue=(r[1]-r[0])/this.DVBHeight;var i=this.dataViewBox,o=this.dataValues;if(!(o.length<1)){for(var a=0,s=o.length;a<s;a++)if(o[a]<r[0]||o[a]>r[1])return;var l=this.calculateXShapeInfo();if(l){var u=l.xPositions,c=l.width;(void 0===n.useBackground||n.useBackground)&&this.shapes.push(l1.Background(this.shapeFactory,this.chartBox,n)),(void 0===n.useAxis||n.useAxis)&&(this.shapes=this.shapes.concat(l1.GraphAxis(this.shapeFactory,i,n,l)));for(var f=0;f<o.length;f++){var h=i[1]-(o[f]-r[0])/this.DVBUnitValue,p=[[u[f]-c/2,i[1]-1],[u[f]+c/2,i[1]-1],[u[f]+c/2,h],[u[f]-c/2,h]],y=new j0(p);if(void 0===n.showShadow||n.showShadow){if(n.barShadowStyle){var d=n.barShadowStyle;d.shadowBlur&&(t.shadowBlur=d.shadowBlur),d.shadowColor&&(t.shadowColor=d.shadowColor),d.shadowOffsetX&&(t.shadowOffsetX=d.shadowOffsetX),d.shadowOffsetY&&(t.shadowOffsetY=d.shadowOffsetY)}y.style={},rQ.copyAttributesWithClip(y.style,t)}y.refDataID=this.data.id,y.dataInfo={field:this.fields[f],value:o[f]},void 0!==n.barHoverAble&&(y.hoverable=n.barHoverAble),void 0!==n.barClickAble&&(y.clickable=n.barClickAble),this.shapes.push(this.shapeFactory.createShape(y))}this.shapesConvertToRelativeCoordinate()}}}}},{key:"calculateXShapeInfo",value:function(){var e=this.dataViewBox,t=this.setting,n=this.dataValues.length;if(n<1)return null;var r,i=[],o=0,a=this.DVBWidth;if(t.xShapeBlank&&t.xShapeBlank.length&&3==t.xShapeBlank.length){r=t.xShapeBlank;var s=a-(r[0]+r[2]+(n-1)*r[1]);if(s<=n)return null;o=s/n}else o=a/(2*n+1),r=[o,o,o];for(var l=0,u=0;u<n;u++)0==u?l=r[0]+o/2:l+=o+r[1],i.push(e[0]+l);return{xPositions:i,width:o}}},{key:"resetLinearGradient",value:function(){if(this.RelativeCoordinate)for(var e=this.shapes.length,t=this.setting.barLinearGradient,n=-1,r=0;r<e;r++){var i=this.shapes[r];if("SuperMap.LevelRenderer.Shape.SmicPolygon"===i.CLASS_NAME){var o=i.style,a=this.location[0]+o.pointList[0][0],s=this.location[0]+o.pointList[1][0];n++,n>=t.length&&(n%=t.length);var l=t[n][0],u=t[n][1],c=new _0,f=c.getLinearGradient(a,0,s,0,[[0,l],[1,u]]);i.style.color=f}}}}]),t}(c1);WW.Feature.Theme.Bar=f1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var h1=function(e){function t(e,n,r,i,o){var a;return TB(this,t),a=kB(this,jB(t).call(this,e,n,r,i,o)),a.CLASS_NAME="SuperMap.Feature.Theme.Bar3D",a}return RB(t,e),EB(t,[{key:"destroy",value:function(){AB(jB(t.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var e=this.setting;if(e.dataViewBoxParameter||(void 0===e.useAxis||e.useAxis?e.dataViewBoxParameter=[45,25,20,20]:e.dataViewBoxParameter=[5,5,5,5]),e.axisUseArrow=void 0===e.axisUseArrow||e.axisUseArrow,e.axisXLabelsOffset=void 0!==e.axisXLabelsOffset?e.axisXLabelsOffset:[-10,10],this.initBaseParameter()){var t=this.DVBCodomain;this.DVBUnitValue=(t[1]-t[0])/this.DVBHeight;var n=this.dataViewBox,r=this.dataValues;if(!(r.length<1)){for(var i=0,o=r.length;i<o;i++)if(r[i]<t[0]||r[i]>t[1])return;var a=this.calculateXShapeInfo();if(a){var s=a.xPositions,l=a.width;(void 0===e.useBackground||e.useBackground)&&this.shapes.push(l1.Background(this.shapeFactory,this.chartBox,e)),(!e.axis3DParameter||isNaN(e.axis3DParameter)||e.axis3DParameter<15)&&(e.axis3DParameter=20),(void 0===e.useAxis||e.useAxis)&&(this.shapes=this.shapes.concat(l1.GraphAxis(this.shapeFactory,n,e,a)));for(var u=e.bar3DParameter&&!isNaN(e.bar3DParameter)?e.bar3DParameter:10,c=0;c<r.length;c++){var f=n[1]-(r[c]-t[0])/this.DVBUnitValue,h=s[c]-l/2,p=s[c]+l/2,y=[[h,f],[p,f],[p-u,f+u],[h-u,f+u]],d=[[p,f],[p-u,f+u],[p-u,n[1]+u],[p,n[1]]],m=[[h-u,n[1]+u],[p-u,n[1]+u],[p-u,f+u],[h-u,f+u]];u<=0&&(m=[[h,n[1]],[p,n[1]],[p,f],[h,f]]);var v=new j0(y),g=new j0(d),b=new j0(m);e.barSideStyle=e.barSideStyle?e.barSideStyle:e.barFaceStyle,e.barSideStyleByFields=e.barSideStyleByFields?e.barSideStyleByFields:e.barFaceStyleByFields,e.barSideStyleByCodomain=e.barSideStyleByCodomain?e.barSideStyleByCodomain:e.barFaceStyleByCodomain,e.barTopStyle=e.barTopStyle?e.barTopStyle:e.barFaceStyle,e.barTopStyleByFields=e.barTopStyleByFields?e.barTopStyleByFields:e.barFaceStyleByFields,e.barTopStyleByCodomain=e.barTopStyleByCodomain?e.barTopStyleByCodomain:e.barFaceStyleByCodomain,b.style=l1.ShapeStyleTool({stroke:!0,strokeColor:"#ffffff",fillColor:"#ee9900"},e.barFaceStyle,e.barFaceStyleByFields,e.barFaceStyleByCodomain,c,r[c]),g.style=l1.ShapeStyleTool({stroke:!0,strokeColor:"#ffffff",fillColor:"#ee9900"},e.barSideStyle,e.barSideStyleByFields,e.barSideStyleByCodomain,c,r[c]),v.style=l1.ShapeStyleTool({stroke:!0,strokeColor:"#ffffff",fillColor:"#ee9900"},e.barTopStyle,e.barTopStyleByFields,e.barTopStyleByCodomain,c,r[c]),e.barSideHoverStyle=e.barSideHoverStyle?e.barSideHoverStyle:e.barFaceHoverStyle,e.barTopHoverStyle=e.barTopHoverStyle?e.barTopHoverStyle:e.barFaceHoverStyle,b.highlightStyle=l1.ShapeStyleTool({stroke:!0},e.barFaceHoverStyle),g.highlightStyle=l1.ShapeStyleTool({stroke:!0},e.barSideHoverStyle),v.highlightStyle=l1.ShapeStyleTool({stroke:!0},e.barTopHoverStyle),v.refDataID=g.refDataID=b.refDataID=this.data.id,v.isHoverByRefDataID=g.isHoverByRefDataID=b.isHoverByRefDataID=!0,v.refDataHoverGroup=g.refDataHoverGroup=b.refDataHoverGroup=rQ.createUniqueID("lr_shg"),v.dataInfo=g.dataInfo=b.dataInfo={field:this.fields[c],value:r[c]},void 0!==e.barHoverAble&&(v.hoverable=g.hoverable=b.hoverable=e.barHoverAble),void 0!==e.barClickAble&&(v.clickable=g.clickable=b.clickable=e.barClickAble),this.shapes.push(this.shapeFactory.createShape(g)),this.shapes.push(this.shapeFactory.createShape(v)),this.shapes.push(this.shapeFactory.createShape(b))}this.shapesConvertToRelativeCoordinate()}}}}},{key:"calculateXShapeInfo",value:function(){var e=this.dataViewBox,t=this.setting,n=this.dataValues.length;if(n<1)return null;var r,i=[],o=0,a=this.DVBWidth;if(t.xShapeBlank&&t.xShapeBlank.length&&3==t.xShapeBlank.length){r=t.xShapeBlank;var s=a-(r[0]+r[2]+(n-1)*r[1]);if(s<=n)return null;o=s/n}else o=a/(2*n+1),r=[o,o,o];for(var l=0,u=0;u<n;u++)0==u?l=r[0]+o/2:l+=o+r[1],i.push(e[0]+l);return{xPositions:i,width:o}}}]),t}(c1);WW.Feature.Theme.Bar3D=h1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var p1=function(e){function t(e,n,r,i,o,a){var s;return DB(this,t),s=UB(this,HB(t).call(this,e,n,r,i,o,a)),s.setting=null,i&&i.codomain&&(s.setting=i,s.DVBCodomain=s.setting.codomain),s.CLASS_NAME="SuperMap.Feature.Theme.RankSymbol",s}return JB(t,e),BB(t,[{key:"destroy",value:function(){this.setting=null,zB(HB(t.prototype),"destroy",this).call(this)}},{key:"initBaseParameter",value:function(){if(!this.setting)return!1;var e=this.setting;e.XOffset&&(this.XOffset=e.XOffset),e.YOffset&&(this.YOffset=e.YOffset),this.XOffset=e.XOffset?e.XOffset:0,this.YOffset=e.YOffset?e.YOffset:0,this.origonPoint=[],this.chartBox=[],this.dataViewBox=[],this.DVBParameter=e.dataViewBoxParameter?e.dataViewBoxParameter:[0,0,0,0],this.DVBOrigonPoint=[],this.DVBCenterPoint=[],this.origonPointOffset=[],this.resetLocation();var t=this.width,n=this.height,r=this.location;this.origonPoint=[r[0]-t/2,r[1]-n/2];var i=this.origonPoint;this.chartBox=[i[0],i[1]+n,i[0]+t,i[1]];var o=this.chartBox,a=this.DVBParameter;this.dataViewBox=[o[0]+a[0],o[1]-a[1],o[2]-a[2],o[3]+a[3]];var s=this.dataViewBox;return!(s[0]>=s[2]||s[1]<=s[3])&&(this.DVBOrigonPoint=[s[0],s[3]],this.DVBWidth=Math.abs(s[2]-s[0]),this.DVBHeight=Math.abs(s[1]-s[3]),this.DVBCenterPoint=[this.DVBOrigonPoint[0]+this.DVBWidth/2,this.DVBOrigonPoint[1]+this.DVBHeight/2],this.origonPointOffset=[this.DVBOrigonPoint[0]-i[0],this.DVBOrigonPoint[1]-i[1]],!0)}}]),t}(c1);WW.Feature.Theme.RankSymbol=p1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var y1=function(e){function t(e,n,r,i,o){var a;return YB(this,t),a=KB(this,tU(t).call(this,e,n,r,i,o)),a.CLASS_NAME="SuperMap.Feature.Theme.Circle",a}return nU(t,e),XB(t,[{key:"destroy",value:function(){$B(tU(t.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){if(!this.setting)return!1;var e=this.setting;if(!e.codomain)return!1;var t=void 0===e.decimalNumber||isNaN(e.decimalNumber)?-1:e.decimalNumber,n=u1.getDataValues(this.data,this.fields,t);this.dataValues=n||[];var r=this.dataValues;e.maxR||(e.maxR=100),e.minR||(e.minR=0);var i=this.DVBCodomain;i&&i[1]-i[0]>0?this.DVBUnitValue=e.maxR/(i[1]-i[0]):this.DVBUnitValue=e.maxR;var o=this.DVBUnitValue,a=r[0]*o+e.minR;if(this.width=2*a,this.height=2*a,this.initBaseParameter()&&(!i||!(r[0]<i[0]||r[0]>i[1]))){var s=this.DVBCenterPoint,l=new F0(s[0],s[1],a);l.style=l1.ShapeStyleTool(null,e.circleStyle,null,null,0),void 0!==e.fillColor?l.style.fillColor=e.fillColor:l.style.fillColor="#ff9277",l.highlightStyle=l1.ShapeStyleTool(null,e.circleHoverStyle),void 0!==e.circleHoverAble&&(l.hoverable=e.circleHoverAble),void 0!==e.circleClickAble&&(l.clickable=e.circleClickAble),l.refDataID=this.data.id,l.dataInfo={field:this.fields[0],r:a,value:r[0]},this.shapes.push(this.shapeFactory.createShape(l)),this.shapesConvertToRelativeCoordinate()}}}]),t}(p1);WW.Feature.Theme.Circle=y1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var d1=function(e){function t(e,n,r,i,o,a){var s;return oU(this,t),s=lU(this,hU(t).call(this,e,n,r,i,o,a)),s.CLASS_NAME="SuperMap.Feature.Theme.Line",s}return pU(t,e),sU(t,[{key:"destroy",value:function(){cU(hU(t.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var e=this.setting;if(e.dataViewBoxParameter||(void 0===e.useAxis||e.useAxis?e.dataViewBoxParameter=[45,15,15,15]:e.dataViewBoxParameter=[5,5,5,5]),this.initBaseParameter()){var t=this.dataViewBox,n=this.DVBCodomain;this.DVBUnitValue=(n[1]-n[0])/this.DVBHeight;var r=this.DVBUnitValue,i=this.dataValues;if(!(i.length<1)){var o=this.calculateXShapeInfo();if(o){var a=o.xPositions;(void 0===e.useBackground||e.useBackground)&&this.shapes.push(l1.Background(this.shapeFactory,this.chartBox,e)),this.shapes=this.shapes.concat(l1.GraphAxis(this.shapeFactory,t,e,o));for(var s,l,u=[],c=[],f=0,h=i.length;f<h;f++){if(i[f]<n[0]||i[f]>n[1])return null;s=a[f],l=t[1]-(i[f]-n[0])/r;var p=new A0(s,l);p.style=l1.ShapeStyleTool({fillColor:"#ee9900"},e.pointStyle,e.pointStyleByFields,e.pointStyleByCodomain,f,i[f]),p.highlightStyle=l1.ShapeStyleTool(null,e.pointHoverStyle),void 0!==e.pointHoverAble&&(p.hoverable=e.pointHoverAble),void 0!==e.pointClickAble&&(p.clickable=e.pointClickAble),p.refDataID=this.data.id,p.dataInfo={field:this.fields[f],value:i[f]},c.push(this.shapeFactory.createShape(p));var y=[s,l];u.push(y)}var d=new L0(u);d.style=l1.ShapeStyleTool({strokeColor:"#ee9900"},e.lineStyle),d.clickable=!1,d.hoverable=!1;var m=this.shapeFactory.createShape(d);this.shapes.push(m),this.shapes=this.shapes.concat(c),this.shapesConvertToRelativeCoordinate()}}}}},{key:"calculateXShapeInfo",value:function(){var e=this.dataViewBox,t=this.setting,n=this.dataValues.length;if(n<1)return null;var r,i=[],o=this.DVBWidth,a=0;if(t.xShapeBlank&&t.xShapeBlank.length&&2==t.xShapeBlank.length){r=t.xShapeBlank;var s=o-(r[0]+r[1]);if(s<=n)return null;a=s/(n-1)}else a=o/(n+1),r=[a,a,a];for(var l=0,u=0;u<n;u++)0==u?l=r[0]:l+=a,i.push(e[0]+l);return{xPositions:i,width:0}}}]),t}(c1);WW.Feature.Theme.Line=d1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var m1=function(e){function t(e,n,r,i,o){var a;return mU(this,t),a=bU(this,OU(t).call(this,e,n,r,i,o)),a.CLASS_NAME="SuperMap.Feature.Theme.Pie",a}return xU(t,e),gU(t,[{key:"destroy",value:function(){_U(OU(t.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var e=this.setting,t=[{fillColor:"#ff9277"},{fillColor:"#dddd00"},{fillColor:"#ffc877"},{fillColor:"#bbe3ff"},{fillColor:"#d5ffbb"},{fillColor:"#bbbbff"},{fillColor:"#ddb000"},{fillColor:"#b0dd00"},{fillColor:"#e2bbff"},{fillColor:"#ffbbe3"},{fillColor:"#ff7777"},{fillColor:"#ff9900"},{fillColor:"#83dd00"},{fillColor:"#77e3ff"},{fillColor:"#778fff"},{fillColor:"#c877ff"},{fillColor:"#ff77ab"},{fillColor:"#ff6600"},{fillColor:"#aa8800"},{fillColor:"#77c7ff"},{fillColor:"#ad77ff"},{fillColor:"#ff77ff"},{fillColor:"#dd0083"},{fillColor:"#777700"},{fillColor:"#00aa00"},{fillColor:"#0088aa"},{fillColor:"#8400dd"},{fillColor:"#aa0088"},{fillColor:"#dd0000"},{fillColor:"#772e00"}];if(this.initBaseParameter()){e.useBackground&&this.shapes.push(l1.Background(this.shapeFactory,this.chartBox,e));var n=this.dataValues;if(!(n.length<1)){for(var r=this.DVBCodomain,i=0;i<n.length;i++)if(n[i]<r[0]||n[i]>r[1])return;for(var o=0,a=0;a<n.length;a++)o+=Math.abs(n[a]);this.DVBUnitValue=360/o;for(var s=this.DVBUnitValue,l=this.DVBCenterPoint,u=0,c=0,f=u,h=this.DVBHeight<this.DVBWidth?this.DVBHeight/2:this.DVBWidth/2,p=0;p<n.length;p++){var y=Math.abs(n[p]);c=0===p?u+y*s:p===y.length-1?f:u+y*s,c-u>=360&&(c=359.9999999);var d=new N0(l[0],l[1],h,u,c);if(void 0===e.sectorStyleByFields){var m=p%t.length;d.style=l1.ShapeStyleTool(null,e.sectorStyle,t,null,m)}else d.style=l1.ShapeStyleTool(null,e.sectorStyle,e.sectorStyleByFields,e.sectorStyleByCodomain,p,n[p]);d.highlightStyle=l1.ShapeStyleTool(null,e.sectorHoverStyle),void 0!==e.sectorHoverAble&&(d.hoverable=e.sectorHoverAble),void 0!==e.sectorClickAble&&(d.clickable=e.sectorClickAble),d.refDataID=this.data.id,d.dataInfo={field:this.fields[p],value:n[p]},this.shapes.push(this.shapeFactory.createShape(d)),u=c}this.shapesConvertToRelativeCoordinate()}}}}]),t}(c1);WW.Feature.Theme.Pie=m1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var v1=function(e){function t(e,n,r,i,o,a){var s;return PU(this,t),s=MU(this,RU(t).call(this,e,n,r,i,o,a)),s.CLASS_NAME="SuperMap.Feature.Theme.Point",s}return NU(t,e),kU(t,[{key:"destroy",value:function(){LU(RU(t.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var e=this.setting;if(e.dataViewBoxParameter||(void 0===e.useAxis||e.useAxis?e.dataViewBoxParameter=[45,15,15,15]:e.dataViewBoxParameter=[5,5,5,5]),this.initBaseParameter()){var t=this.dataViewBox,n=this.DVBCodomain;this.DVBUnitValue=(n[1]-n[0])/this.DVBHeight;var r=this.DVBUnitValue,i=this.dataValues,o=this.calculateXShapeInfo();if(o){var a=o.xPositions;(void 0===e.useBackground||e.useBackground)&&this.shapes.push(l1.Background(this.shapeFactory,this.chartBox,e)),this.shapes=this.shapes.concat(l1.GraphAxis(this.shapeFactory,t,e,o));for(var s,l,u=0,c=i.length;u<c;u++){if(i[u]<n[0]||i[u]>n[1])return null;s=a[u],l=t[1]-(i[u]-n[0])/r;var f=new A0(s,l);f.style=l1.ShapeStyleTool({fillColor:"#ee9900"},e.pointStyle,e.pointStyleByFields,e.pointStyleByCodomain,u,i[u]),f.highlightStyle=l1.ShapeStyleTool(null,e.pointHoverStyle),void 0!==e.pointHoverAble&&(f.hoverable=e.pointHoverAble),void 0!==e.pointClickAble&&(f.clickable=e.pointClickAble),f.refDataID=this.data.id,f.dataInfo={field:this.fields[u],value:i[u]},this.shapes.push(this.shapeFactory.createShape(f))}this.shapesConvertToRelativeCoordinate()}}}},{key:"calculateXShapeInfo",value:function(){var e=this.dataViewBox,t=this.setting,n=this.dataValues.length;if(n<1)return null;var r,i=[],o=this.DVBWidth,a=0;if(t.xShapeBlank&&t.xShapeBlank.length&&2==t.xShapeBlank.length){r=t.xShapeBlank;var s=o-(r[0]+r[1]);if(s<=n)return null;a=s/(n-1)}else a=o/(n+1),r=[a,a,a];for(var l=0,u=0;u<n;u++)0==u?l=r[0]:l+=a,i.push(e[0]+l);return{xPositions:i,width:0}}}]),t}(c1);WW.Feature.Theme.Point=v1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var g1=function(e){function t(e,n,r,i,o){var a;return FU(this,t),a=GU(this,JU(t).call(this,e,n,r,i,o)),a.CLASS_NAME="SuperMap.Feature.Theme.Ring",a}return qU(t,e),UU(t,[{key:"destroy",value:function(){VU(JU(t.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){if(this.initBaseParameter()){var e=[{fillColor:"#ff9277"},{fillColor:"#dddd00"},{fillColor:"#ffc877"},{fillColor:"#bbe3ff"},{fillColor:"#d5ffbb"},{fillColor:"#bbbbff"},{fillColor:"#ddb000"},{fillColor:"#b0dd00"},{fillColor:"#e2bbff"},{fillColor:"#ffbbe3"},{fillColor:"#ff7777"},{fillColor:"#ff9900"},{fillColor:"#83dd00"},{fillColor:"#77e3ff"},{fillColor:"#778fff"},{fillColor:"#c877ff"},{fillColor:"#ff77ab"},{fillColor:"#ff6600"},{fillColor:"#aa8800"},{fillColor:"#77c7ff"},{fillColor:"#ad77ff"},{fillColor:"#ff77ff"},{fillColor:"#dd0083"},{fillColor:"#777700"},{fillColor:"#00aa00"},{fillColor:"#0088aa"},{fillColor:"#8400dd"},{fillColor:"#aa0088"},{fillColor:"#dd0000"},{fillColor:"#772e00"}],t=this.setting;t.useBackground&&this.shapes.push(l1.Background(this.shapeFactory,this.chartBox,t));var n=this.dataValues;if(!(n.length<1)){for(var r=this.DVBCodomain,i=0;i<n.length;i++)if(n[i]<r[0]||n[i]>r[1])return;for(var o=0,a=0;a<n.length;a++)o+=Math.abs(n[a]);this.DVBUnitValue=360/o;for(var s=this.DVBUnitValue,l=this.DVBCenterPoint,u=0,c=0,f=u,h=this.DVBHeight<this.DVBWidth?this.DVBHeight/2:this.DVBWidth/2,p=t.innerRingRadius>=0&&t.innerRingRadius<h,y=void 0!==t.innerRingRadius&&!isNaN(t.innerRingRadius)&&p?t.innerRingRadius:0,d=0;d<n.length;d++){var m=Math.abs(n[d]);c=0===d?u+m*s:d===m.length-1?f:u+m*s;var v=new N0(l[0],l[1],h,u,c,y);if(void 0===t.sectorStyleByFields){var g=d%e.length;v.style=l1.ShapeStyleTool(null,t.sectorStyle,e,null,g)}else v.style=l1.ShapeStyleTool(null,t.sectorStyle,t.sectorStyleByFields,t.sectorStyleByCodomain,d,n[d]);v.highlightStyle=l1.ShapeStyleTool(null,t.sectorHoverStyle),void 0!==t.sectorHoverAble&&(v.hoverable=t.sectorHoverAble),void 0!==t.sectorClickAble&&(v.clickable=t.sectorClickAble),v.refDataID=this.data.id,v.dataInfo={field:this.fields[d],value:n[d]},this.shapes.push(this.shapeFactory.createShape(v)),u=c}this.shapesConvertToRelativeCoordinate()}}}}]),t}(c1);WW.Feature.Theme.Ring=g1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var b1=function(e){function t(e,n,r,i,o){var a;if(QU(this,t),a=ZU(this,nG(t).call(this,e,n)),!e.geometry)return ZU(a);if(!(e.geometry instanceof aQ))return ZU(a);a.dataBounds=e.geometry.getBounds(),a.nodesClipPixel=2,a.isHoverAble=!0,a.isMultiHover=!0,a.isClickAble=!0,a.highlightStyle=null,a.shapeOptions={},a.style=r||{},a.CLASS_NAME="SuperMap.Feature.Theme.Vector",a.style=r||{},i&&rQ.copyAttributesWithClip($U(a),i,["shapeOptions","dataBounds"]),o&&rQ.copyAttributesWithClip(a.shapeOptions,o);var s=e.geometry;return a.lonlat=a.dataBounds.getCenterLonLat(),a.location=a.getLocalXY(a.lonlat),s instanceof pQ?a.lineToTF(s):s instanceof fQ?a.lineToTF(s):s instanceof uQ||(s instanceof lQ?a.multiPointToTF(s):s instanceof yQ?a.multiLineStringToTF(s):s instanceof dQ?a.multiPolygonToTF(s):s instanceof mQ?a.polygonToTF(s):s instanceof sQ||(s instanceof cQ?a.pointToTF(s):s instanceof vQ?a.rectangleToTF(s):s instanceof hQ&&a.geoTextToTF(s))),a}return rG(t,e),KU(t,[{key:"destroy",value:function(){this.style=null,this.dataBounds=null,this.nodesClipPixel=null,this.isHoverAble=null,this.isMultiHover=null,this.isClickAble=null,this.highlightStyle=null,this.shapeOptions=null,eG(nG(t.prototype),"destroy",this).call(this)}},{key:"lineToTF",value:function(e){for(var t=e.components,n=[],r=[],i=this.location,o=[],a=this.nodesClipPixel,s=0;s<t.length;s++){var l=t[s];if(r=[],n=this.getLocalXY(l),r[0]=n[0]-i[0],r[1]=n[1]-i[1],o.length>0){var u=o[o.length-1];if(Math.abs(u[0]-r[0])<=a&&Math.abs(u[1]-r[1])<=a)continue}o.push(r)}if(o.length<2)return null;var c=new Object;c=rQ.copyAttributesWithClip(c,this.style,["pointList"]),c.pointList=o;var f=new i1({style:c,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(f.highlightStyle=this.highlightStyle),f.refOriginalPosition=this.location,f.refDataID=this.data.id,f.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&rQ.copyAttributesWithClip(f,this.shapeOptions),this.shapes.push(f)}},{key:"multiPointToTF",value:function(e){for(var t=e.components,n=[],r=[],i=this.location,o=[],a=this.nodesClipPixel,s=0;s<t.length;s++){var l=t[s];if(r=[],n=this.getLocalXY(l),r[0]=n[0]-i[0],r[1]=n[1]-i[1],o.length>0){var u=o[o.length-1];if(Math.abs(u[0]-r[0])<=a&&Math.abs(u[1]-r[1])<=a)continue}o.push(r);var c=new Object;c.r=6,c=rQ.copyAttributesWithClip(c,this.style),c.x=r[0],c.y=r[1];var f=new e1({style:c,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(f.highlightStyle=this.highlightStyle),f.refOriginalPosition=i,f.refDataID=this.data.id,f.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&rQ.copyAttributesWithClip(f,this.shapeOptions),this.shapes.push(f)}}},{key:"multiLineStringToTF",value:function(e){for(var t=e.components,n=0;n<t.length;n++){var r=t[n];this.lineToTF(r)}}},{key:"multiPolygonToTF",value:function(e){for(var t=e.components,n=0;n<t.length;n++){var r=t[n];this.polygonToTF(r)}}},{key:"pointToTF",value:function(e){var t=this.location,n=this.getLocalXY(e),r=new Object;r.r=6,r=rQ.copyAttributesWithClip(r,this.style),r.x=n[0]-t[0],r.y=n[1]-t[1];var i=new e1({style:r,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(i.highlightStyle=this.highlightStyle),i.refOriginalPosition=t,i.refDataID=this.data.id,i.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&rQ.copyAttributesWithClip(i,this.shapeOptions),this.shapes.push(i)}},{key:"polygonToTF",value:function(e){for(var t=e.components,n=[],r=[],i=this.location,o=[],a=[],s=[],l=this.nodesClipPixel,u=0;u<t.length;u++){var c=t[u].components;if(0===u){o=[];for(var f=0;f<c.length;f++){if(r=[],n=this.getLocalXY(c[f]),r[0]=n[0]-i[0],r[1]=n[1]-i[1],o.length>0){var h=o[o.length-1];if(Math.abs(h[0]-r[0])<=l&&Math.abs(h[1]-r[1])<=l)continue}o.push(r)}}else{a=[];for(var p=0;p<c.length;p++){if(r=[],n=this.getLocalXY(c[p]),r[0]=n[0]-i[0],r[1]=n[1]-i[1],a.length>0){var y=a[a.length-1];if(Math.abs(y[0]-r[0])<=l&&Math.abs(y[1]-r[1])<=l)continue}a.push(r)}}a.length<2||s.push(a)}if(!(o.length<2)){var d={};d=rQ.copyAttributesWithClip(d,this.style,["pointList"]),d.pointList=o;var m=new r1({style:d,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(m.highlightStyle=this.highlightStyle),m.refOriginalPosition=this.location,m.refDataID=this.data.id,m.isHoverByRefDataID=this.isMultiHover,s.length>0&&(m.holePolygonPointLists=s),this.shapeOptions&&rQ.copyAttributesWithClip(m,this.shapeOptions),this.shapes.push(m)}}},{key:"rectangleToTF",value:function(e){var t=this.location,n=new iQ(e.x,e.y),r=this.layer.map.getResolution(),i=this.getLocalXY(n),o=new Object;o.r=6,o=rQ.copyAttributesWithClip(o,this.style),o.x=i[0]-t[0],o.y=i[1]-t[1]-2*e.width/r,o.width=e.width/r,o.height=e.height/r;var a=new a1({style:o,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(a.highlightStyle=this.highlightStyle),a.refOriginalPosition=t,a.refDataID=this.data.id,a.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&rQ.copyAttributesWithClip(a,this.shapeOptions),this.shapes.push(a)}},{key:"geoTextToTF",value:function(e){var t=this.location,n=this.getLocalXY(e),r=new Object;r.r=6,r=rQ.copyAttributesWithClip(r,this.style,["x","y","text"]),r.x=n[0]-t[0],r.y=n[1]-t[1],r.text=e.text;var i=new t1({style:r,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(i.highlightStyle=this.highlightStyle),i.refOriginalPosition=t,i.refDataID=this.data.id,i.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&rQ.copyAttributesWithClip(i,this.shapeOptions),this.shapes.push(i)}},{key:"updateAndAddShapes",value:function(){var e=this.getLocalXY(this.lonlat);this.location=e;for(var t=this.layer.renderer,n=0,r=this.shapes.length;n<r;n++){var i=this.shapes[n];i.refOriginalPosition=e,t.addShape(i)}}},{key:"getShapesCount",value:function(){return this.shapes.length}},{key:"getLocalXY",value:function(e){return this.layer.getLocalXY(e)}}]),t}(u1);WW.Feature.Theme.ThemeVector=b1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var S1=function(e){function t(e){var n;return aG(this,t),n=uG(this,pG(t).call(this,e)),e=e||{},n.id=null,n.type="group",n.clipShape=null,n._children=[],n._storage=null,n.__dirty=!0,n.ignore=!1,rQ.extend(cG(n),e),n.id=n.id||rQ.createUniqueID("smShapeGroup_"),n.CLASS_NAME="SuperMap.LevelRenderer.Group",n}return yG(t,e),lG(t,[{key:"destroy",value:function(){this.id=null,this.type=null,this.clipShape=null,this._children=null,this._storage=null,this.__dirty=null,this.ignore=null,fG(pG(t.prototype),"destroy",this).call(this)}},{key:"children",value:function(){return this._children.slice()}},{key:"childAt",value:function(e){return this._children[e]}},{key:"addChild",value:function(e){e!=this&&e.parent!=this&&(e.parent&&e.parent.removeChild(e),this._children.push(e),e.parent=this,this._storage&&this._storage!==e._storage&&(this._storage.addToMap(e),e instanceof t&&e.addChildrenToStorage(this._storage)))}},{key:"removeChild",value:function(e){var n=rQ.indexOf(this._children,e);this._children.splice(n,1),e.parent=null,this._storage&&(this._storage.delFromMap(e.id),e instanceof t&&e.delChildrenFromStorage(this._storage))}},{key:"eachChild",value:function(e,t){for(var n=!!t,r=0;r<this._children.length;r++){var i=this._children[r];n?e.call(t,i):e(i)}}},{key:"traverse",value:function(e,t){for(var n=!!t,r=0;r<this._children.length;r++){var i=this._children[r];n?e.call(t,i):e(i),"group"===i.type&&i.traverse(e,t)}}},{key:"addChildrenToStorage",value:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.addToMap(n),"group"===n.type&&n.addChildrenToStorage(e)}}},{key:"delChildrenFromStorage",value:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.delFromMap(n.id),"group"===n.type&&n.delChildrenFromStorage(e)}}},{key:"modSelf",value:function(){this.__dirty=!0}}]),t}(WW.mixin(B0,Z0)),_1=function(){function e(){mG(this,e),this._elements={},this._hoverElements=[],this._roots=[],this._shapeList=[],this._shapeListOffset=0,this.CLASS_NAME="SuperMap.LevelRenderer.Storage"}return gG(e,[{key:"destroy",value:function(){this.dispose(),this._shapeList=null,this._shapeListOffset=null}},{key:"iterShape",value:function(e,t){if(!t){t={hover:!1,normal:"down",update:!1}}if(t.hover)for(var n=0,r=this._hoverElements.length;n<r;n++){var i=this._hoverElements[n];if(i.updateTransform(),e(i))return this}switch(t.update&&this.updateShapeList(),t.normal){case"down":for(var o=this._shapeList.length;o--;)if(e(this._shapeList[o]))return this;break;default:for(var a=0,s=this._shapeList.length;a<s;a++)if(e(this._shapeList[a]))return this}return this}},{key:"getHoverShapes",value:function(t){for(var n=[],r=this._hoverElements.length,i=0;i<r;i++){n.push(this._hoverElements[i]);var o=this._hoverElements[i].hoverConnect;if(o){var a;o=o instanceof Array?o:[o];for(var s=0,l=o.length;s<l;s++)(a=o[s].id?o[s]:this.get(o[s]))&&n.push(a)}}if(n.sort(e.shapeCompareFunc),t)for(var u=0,c=n.length;u<c;u++)n[u].updateTransform();return n}},{key:"getShapeList",value:function(e){return e&&this.updateShapeList(),this._shapeList}},{key:"updateShapeList",value:function(){this._shapeListOffset=0;for(var t=this._roots.length,n=0;n<t;n++){var r=this._roots[n];this._updateAndAddShape(r)}this._shapeList.length=this._shapeListOffset;for(var i=this._shapeList.length,o=0;o<i;o++)this._shapeList[o].__renderidx=o;this._shapeList.sort(e.shapeCompareFunc)}},{key:"_updateAndAddShape",value:function(e,t){if(!e.ignore)if(e.updateTransform(),"group"==e.type){e.clipShape&&(e.clipShape.parent=e,e.clipShape.updateTransform(),t?(t=t.slice(),t.push(e.clipShape)):t=[e.clipShape]);for(var n=0;n<e._children.length;n++){var r=e._children[n];r.__dirty=e.__dirty||r.__dirty,this._updateAndAddShape(r,t)}e.__dirty=!1}else e.__clipShapes=t,this._shapeList[this._shapeListOffset++]=e}},{key:"mod",value:function(e,t){var n=this._elements[e];if(n&&(n.modSelf(),t))if(t.parent||t._storage||t.__startClip){var r={};for(var i in t)"parent"!=i&&"_storage"!=i&&"__startClip"!=i&&t.hasOwnProperty(i)&&(r[i]=t[i]);(new S0).merge(n,r,!0)}else(new S0).merge(n,t,!0);return this}},{key:"drift",value:function(e,t,n){var r=this._elements[e];return r&&(r.needTransform=!0,"horizontal"===r.draggable?n=0:"vertical"===r.draggable&&(t=0),(!r.ondrift||r.ondrift&&!r.ondrift(t,n))&&r.drift(t,n)),this}},{key:"addHover",value:function(e){return e.updateNeedTransform(),this._hoverElements.push(e),this}},{key:"delHover",value:function(){return this._hoverElements=[],this}},{key:"hasHoverShape",value:function(){return this._hoverElements.length>0}},{key:"addRoot",value:function(e){e instanceof S1&&e.addChildrenToStorage(this),this.addToMap(e),this._roots.push(e)}},{key:"delRoot",value:function(e){if(void 0===e){for(var t=0;t<this._roots.length;t++){var n=this._roots[t];n instanceof S1&&n.delChildrenFromStorage(this)}return this._elements={},this._hoverElements=[],void(this._roots=[])}if(e instanceof Array)for(var r=e.length,i=0;i<r;i++)this.delRoot(e[i]);else{var o;o="string"==typeof e?this._elements[e]:e;var a=(new S0).indexOf(this._roots,o);a>=0&&(this.delFromMap(o.id),this._roots.splice(a,1),o instanceof S1&&o.delChildrenFromStorage(this))}}},{key:"addToMap",value:function(e){return e instanceof S1&&(e._storage=this),e.modSelf(),this._elements[e.id]=e,this}},{key:"get",value:function(e){return this._elements[e]}},{key:"delFromMap",value:function(e){var t=this._elements[e];return t&&(delete this._elements[e],t instanceof S1&&(t._storage=null)),this}},{key:"dispose",value:function(){this._elements=null,this._roots=null,this._hoverElements=null}}],[{key:"shapeCompareFunc",value:function(e,t){return e.zlevel==t.zlevel?e.z==t.z?e.__renderidx-t.__renderidx:e.z-t.z:e.zlevel-t.zlevel}}]),e}(),w1=function(){function e(t,n){function r(){return!1}CG(this,e),this.root=t,this.storage=n,this._domRoot=null,this._layers={},this._zlevelList=[],this._layerConfig={},this._bgDom=null,this.shapeToImage=null,e.devicePixelRatio=Math.max(window.devicePixelRatio||1,1),this.CLASS_NAME="SuperMap.LevelRenderer.Painter",this.root.innerHTML="",this._width=this._getWidth(),this._height=this._getHeight();var i=document.createElement("div");this._domRoot=i,i.style.position="relative",i.style.overflow="hidden",i.style.width=this._width+"px",i.style.height=this._height+"px",this.root.appendChild(i),this.shapeToImage=this._createShapeToImageProcessor(),this._bgDom=e.createDom(rQ.createUniqueID("SuperMap.Theme_background_"),"div",this),i.appendChild(this._bgDom),this._bgDom.onselectstart=r,this._bgDom.style["-webkit-user-select"]="none",this._bgDom.style["user-select"]="none",this._bgDom.style["-webkit-touch-callout"]="none";var o=new O1(rQ.createUniqueID("_highLightLayer_"),this);this._layers.hover=o,i.appendChild(o.dom),o.initContext(),o.dom.onselectstart=r,o.dom.style["-webkit-user-select"]="none",o.dom.style["user-select"]="none",o.dom.style["-webkit-touch-callout"]="none";var a=this;this.updatePainter=function(e,t){a.refreshShapes(e,t)}}return PG(e,[{key:"destroy",value:function(){this.dispose(),this._zlevelList=null,this._layerConfig=null,this._bgDom=null,this.shapeToImage=null}},{key:"render",value:function(e){return this.refresh(e,!0),this}},{key:"refresh",value:function(e,t){var n=this.storage.getShapeList(!0);return this._paintList(n,t),"function"==typeof e&&e(),this}},{key:"_paintList",value:function(e,t){void 0===t&&(t=!1),this._updateLayerStatus(e);var n,r,i;for(var o in this._layers)"hover"!==o&&(this._layers[o].unusedCount++,this._layers[o].updateTransform());for(var a=[],s=0,l=e.length;s<l;s++){var u=e[s];if(r!==u.zlevel&&(n&&n.needTransform&&i.restore(),n=this.getLayer(u.zlevel),i=n.ctx,r=u.zlevel,n.unusedCount=0,(n.dirty||t)&&n.clear(),n.needTransform&&(i.save(),n.setTransform(i))),i&&u.__startClip){var c=u.__startClip;if(i.save(),c.needTransform){var f=c.transform;K0.Util_matrix.invert(a,f),i.transform(f[0],f[1],f[2],f[3],f[4],f[5])}if(i.beginPath(),c.buildPath(i,c.style),i.clip(),c.needTransform){var h=a;i.transform(h[0],h[1],h[2],h[3],h[4],h[5])}}if((n&&n.dirty||t)&&!u.invisible&&(!u.onbrush||u.onbrush&&!u.onbrush(i,!1)))if(W0.catchBrushException)try{u.brush(i,!1,this.updatePainter)}catch(e){K0.Util_log(e,"brush error of "+u.type,u)}else u.brush(i,!1,this.updatePainter);i&&u.__stopClip&&i.restore(),u.__dirty=!1}i&&n&&n.needTransform&&i.restore();for(var p in this._layers)if("hover"!==p){var y=this._layers[p];y.dirty=!1,1==y.unusedCount&&y.clear()}}},{key:"getLayer",value:function(e){var t=this._layers[e];if(!t){var n=this._zlevelList.length,r=null,i=-1;if(n>0&&e>this._zlevelList[0]){for(i=0;i<n-1&&!(this._zlevelList[i]<e&&this._zlevelList[i+1]>e);i++);r=this._layers[this._zlevelList[i]]}this._zlevelList.splice(i+1,0,e),t=new O1(rQ.createUniqueID("_levelLayer_"+e),this);var o=r?r.dom:this._bgDom;o.nextSibling?o.parentNode.insertBefore(t.dom,o.nextSibling):o.parentNode.appendChild(t.dom),t.initContext(),this._layers[e]=t,this._layerConfig[e]&&(new S0).merge(t,this._layerConfig[e],!0),t.updateTransform()}return t}},{key:"getLayers",value:function(){return this._layers}},{key:"_updateLayerStatus",value:function(e){var t=this._layers,n={};for(var r in t)"hover"!==r&&(n[r]=t[r].elCount,t[r].elCount=0);for(var i=0;i<e.length;i++){var o=e[i],a=o.zlevel,s=t[a];if(s){if(s.elCount++,s.dirty)continue;s.dirty=o.__dirty}}for(var l in t)"hover"!==l&&n[l]!==t[l].elCount&&(t[l].dirty=!0)}},{key:"refreshShapes",value:function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];this.storage.mod(i.id)}return this.refresh(t),this}},{key:"clear",value:function(){for(var e in this._layers)"hover"!=e&&this._layers[e].clear();return this}},{key:"modLayer",value:function(e,t){if(t){this._layerConfig[e]?(new S0).merge(this._layerConfig[e],t,!0):this._layerConfig[e]=t;var n=this._layers[e];n&&(new S0).merge(n,this._layerConfig[e],!0)}}},{key:"delLayer",value:function(e){var t=this._layers[e];t&&(this.modLayer(e,{position:t.position,rotation:t.rotation,scale:t.scale}),t.dom.parentNode.removeChild(t.dom),delete this._layers[e],this._zlevelList.splice((new S0).indexOf(this._zlevelList,e),1))}},{key:"refreshHover",value:function(){this.clearHover();for(var e=this.storage.getHoverShapes(!0),t=0,n=e.length;t<n;t++)this._brushHover(e[t]);return this.storage.delHover(),this}},{key:"clearHover",value:function(){var e=this._layers.hover;return e&&e.clear(),this}},{key:"resize",value:function(){var e=this._domRoot;e.style.display="none";var t=this._getWidth(),n=this._getHeight();if(e.style.display="",this._width!=t||n!=this._height){this._width=t,this._height=n,e.style.width=t+"px",e.style.height=n+"px";for(var r in this._layers)this._layers[r].resize(t,n);this.refresh(null,!0)}return this}},{key:"clearLayer",value:function(e){var t=this._layers[e];t&&t.clear()}},{key:"dispose",value:function(){this.root.innerHTML="",this.root=null,this.storage=null,this._domRoot=null,this._layers=null}},{key:"getDomHover",value:function(){return this._layers.hover.dom}},{key:"toDataURL",value:function(t,n,r){var i=e.createDom(rQ.createUniqueID("SuperMap.Theme.image_"),"canvas",this);this._bgDom.appendChild(i);var o=i.getContext("2d");1!=e.devicePixelRatio&&o.scale(e.devicePixelRatio,e.devicePixelRatio),o.fillStyle=n||"#fff",o.rect(0,0,this._width*e.devicePixelRatio,this._height*e.devicePixelRatio),o.fill();var a=this;this.storage.iterShape(function(e){if(!e.invisible&&(!e.onbrush||e.onbrush&&!e.onbrush(o,!1)))if(W0.catchBrushException)try{e.brush(o,!1,a.updatePainter)}catch(t){K0.Util_log(t,"brush error of "+e.type,e)}else e.brush(o,!1,a.updatePainter)},{normal:"up",update:!0});var s=i.toDataURL(t,r);return o=null,this._bgDom.removeChild(i),s}},{key:"getWidth",value:function(){return this._width}},{key:"getHeight",value:function(){return this._height}},{key:"_getWidth",value:function(){var e=this.root,t=e.currentStyle||document.defaultView.getComputedStyle(e);return((e.clientWidth||parseInt(t.width,10))-parseInt(t.paddingLeft,10)-parseInt(t.paddingRight,10)).toFixed(0)-0}},{key:"_getHeight",value:function(){var e=this.root,t=e.currentStyle||document.defaultView.getComputedStyle(e);return((e.clientHeight||parseInt(t.height,10))-parseInt(t.paddingTop,10)-parseInt(t.paddingBottom,10)).toFixed(0)-0}},{key:"_brushHover",value:function(e){var t=this._layers.hover.ctx;if(!e.onbrush||e.onbrush&&!e.onbrush(t,!0)){var n=this.getLayer(e.zlevel);if(n.needTransform&&(t.save(),n.setTransform(t)),W0.catchBrushException)try{e.brush(t,!0,this.updatePainter)}catch(t){K0.Util_log(t,"hoverBrush error of "+e.type,e)}else e.brush(t,!0,this.updatePainter);n.needTransform&&t.restore()}}},{key:"_shapeToImage",value:function(e,t,n,r,i){var o=document.createElement("canvas"),a=o.getContext("2d"),s=i||window.devicePixelRatio||1;o.style.width=n+"px",o.style.height=r+"px",o.setAttribute("width",n*s),o.setAttribute("height",r*s),a.clearRect(0,0,n*s,r*s);var l={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[0,0,0],t.rotation=0,t.scale=[1,1],t&&t.brush(a,!1);var u=new o1({id:e,style:{x:0,y:0,image:o}});return null!=l.position&&(u.position=t.position=l.position),null!=l.rotation&&(u.rotation=t.rotation=l.rotation),null!=l.scale&&(u.scale=t.scale=l.scale),u}},{key:"_createShapeToImageProcessor",value:function(){var t=this;return function(n,r,i,o){return t._shapeToImage(n,r,i,o,e.devicePixelRatio)}}},{key:"updateHoverLayer",value:function(e){if(!(e instanceof Array))return this;this.clearHover(),this.storage.delHover();for(var t=0;t<e.length;t++)this.storage.addHover(e[t]),this._brushHover(e[t])}}],[{key:"createDom",value:function(t,n,r){var i=document.createElement(n),o=r._width,a=r._height;return i.style.position="absolute",i.style.left=0,i.style.top=0,i.style.width=o+"px",i.style.height=a+"px",i.setAttribute("width",o*e.devicePixelRatio),i.setAttribute("height",a*e.devicePixelRatio),i.setAttribute("id",t),i}}]),e}(),O1=function(e){function t(e,n){function r(){return!1}var i;return CG(this,t),i=SG(this,wG(t).call(this,e,n)),i.dom=null,i.domBack=null,i.ctxBack=null,i.painter=n,i.unusedCount=0,i.config=null,i.dirty=!0,i.elCount=0,i.clearColor=0,i.motionBlur=!1,i.lastFrameAlpha=.7,i.zoomable=!1,i.panable=!1,i.maxZoom=1/0,i.minZoom=0,i.ctx=null,i.dom=w1.createDom(rQ.createUniqueID("SuperMap.Theme"+e),"canvas",n),i.dom.onselectstart=r,i.dom.style["-webkit-user-select"]="none",i.dom.style["user-select"]="none",i.dom.style["-webkit-touch-callout"]="none",i.CLASS_NAME="SuperMap.LevelRenderer.Painter.Layer",i}return OG(t,e),PG(t,[{key:"destroy",value:function(){this.dom=null,this.domBack=null,this.ctxBack=null,this.painter=null,this.unusedCount=null,this.config=null,this.dirty=null,this.elCount=null,this.clearColor=null,this.motionBlur=null,this.lastFrameAlpha=null,this.zoomable=null,this.panable=null,this.maxZoom=null,this.minZoom=null,this.ctx=null,Z0.destroy.apply(this,arguments)}},{key:"initContext",value:function(){this.ctx=this.dom.getContext("2d"),1!=w1.devicePixelRatio&&this.ctx.scale(w1.devicePixelRatio,w1.devicePixelRatio)}},{key:"createBackBuffer",value:function(){this.domBack=w1.createDom(rQ.createUniqueID("SuperMap.Theme.back-"+this.id),"canvas",this.painter),this.ctxBack=this.domBack.getContext("2d"),1!=w1.devicePixelRatio&&this.ctxBack.scale(w1.devicePixelRatio,w1.devicePixelRatio)}},{key:"resize",value:function(e,t){this.dom.style.width=e+"px",this.dom.style.height=t+"px",this.dom.setAttribute("width",e*w1.devicePixelRatio),this.dom.setAttribute("height",t*w1.devicePixelRatio),1!=w1.devicePixelRatio&&this.ctx.scale(w1.devicePixelRatio,w1.devicePixelRatio),this.domBack&&(this.domBack.setAttribute("width",e*w1.devicePixelRatio),this.domBack.setAttribute("height",t*w1.devicePixelRatio),1!=w1.devicePixelRatio&&this.ctxBack.scale(w1.devicePixelRatio,w1.devicePixelRatio))}},{key:"clear",value:function(){var e=this.dom,t=this.ctx,n=e.width,r=e.height,i=this.clearColor,o=this.motionBlur,a=this.lastFrameAlpha;if(o&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(e,0,0,n/w1.devicePixelRatio,r/w1.devicePixelRatio)),i?(t.save(),t.fillStyle=this.config.clearColor,t.fillRect(0,0,n/w1.devicePixelRatio,r/w1.devicePixelRatio),t.restore()):t.clearRect(0,0,n/w1.devicePixelRatio,r/w1.devicePixelRatio),o){var s=this.domBack;t.save(),t.globalAlpha=a,t.drawImage(s,0,0,n/w1.devicePixelRatio,r/w1.devicePixelRatio),t.restore()}}}]),t}(Z0),x1=function(e){function t(e,n,r){function i(e,t){return function(n){return e.call(t,n)}}function o(e,t,n){var r=this;if(r._draggingTarget&&r._draggingTarget.id==e.id||e.isSilent())return!1;var i=r._event;if(e.isCover(t,n)){if(e.hoverable)if(e.isHoverByRefDataID&&!0===e.isHoverByRefDataID){if(e.refDataID){var o=e.refDataID,a=null;e.refDataHoverGroup&&(a=e.refDataHoverGroup);for(var s=r.storage._shapeList,l=0,u=s.length;l<u;l++){var c=s[l];c.refDataID&&o===c.refDataID&&(a?c.refDataHoverGroup&&a===c.refDataHoverGroup&&r.storage.addHover(c):r.storage.addHover(c))}}}else r.storage.addHover(e);for(var f=e.parent;f;){if(f.clipShape&&!f.clipShape.isCover(r._mouseX,r._mouseY))return!1;f=f.parent}return r._lastHover!=e&&(r._processOutShape(i),r._processDragLeave(i),r._lastHover=e,r._processDragEnter(i)),r._processOverShape(i),r._processDragOver(i),r._hasfound=1,!0}return!1}var a;kG(this,t),a=LG(this,jG(t).call(this,e,n,r)),a.root=e,a.storage=n,a.painter=r,a._lastX=0,a._lastY=0,a._mouseX=0,a._mouseY=0,a._findHover=null,a._domHover=null,a._findHover=function(e,t){return function(n,r,i){return e.call(t,n,r,i)}}(o,RG(a)),a._domHover=r.getDomHover(),a.CLASS_NAME="SuperMap.LevelRenderer.Handler";var s={resize:function(e){e=e||window.event,this._lastHover=null,this._isMouseDown=0,this.dispatch(W0.EVENT.RESIZE,e)},click:function(e){e=this._zrenderEventFixed(e);var t=this._lastHover;(t&&t.clickable||!t)&&this._clickThreshold<10&&this._dispatchAgency(t,W0.EVENT.CLICK,e),this._mousemoveHandler(e)},dblclick:function(e){e=e||window.event,e=this._zrenderEventFixed(e);var t=this._lastHover;(t&&t.clickable||!t)&&this._clickThreshold<5&&this._dispatchAgency(t,W0.EVENT.DBLCLICK,e),this._mousemoveHandler(e)},mousewheel:function(e){e=this._zrenderEventFixed(e);var t=e.wheelDelta||-e.detail,n=t>0?1.1:1/1.1,r=this.painter.getLayers(),i=!1;for(var o in r)if("hover"!==o){var a=r[o],s=a.position;if(a.zoomable){a.__zoom=a.__zoom||1;var l=a.__zoom;l*=n,l=Math.max(Math.min(a.maxZoom,l),a.minZoom),n=l/a.__zoom,a.__zoom=l,s[0]-=(this._mouseX-s[0])*(n-1),s[1]-=(this._mouseY-s[1])*(n-1),a.scale[0]*=n,a.scale[1]*=n,a.dirty=!0,i=!0}}i&&this.painter.refresh(),this._dispatchAgency(this._lastHover,W0.EVENT.MOUSEWHEEL,e),this._mousemoveHandler(e)},mousemove:function(e){this._clickThreshold++,e=this._zrenderEventFixed(e),this._lastX=this._mouseX,this._lastY=this._mouseY,this._mouseX=K0.Util_event.getX(e),this._mouseY=K0.Util_event.getY(e);var t=this._mouseX-this._lastX,n=this._mouseY-this._lastY;this._processDragStart(e),this._hasfound=0,this._event=e,this._iterateAndFindHover(),this._hasfound||((!this._draggingTarget||this._lastHover&&this._lastHover!=this._draggingTarget)&&(this._processOutShape(e),this._processDragLeave(e)),this._lastHover=null,this.storage.delHover(),this.painter.clearHover());var r="";if(this._draggingTarget)this.storage.drift(this._draggingTarget.id,t,n),this._draggingTarget.modSelf(),this.storage.addHover(this._draggingTarget);else if(this._isMouseDown){var i=this.painter.getLayers(),o=!1;for(var a in i)if("hover"!==a){var s=i[a];s.panable&&(r="move",s.position[0]+=t,s.position[1]+=n,o=!0,s.dirty=!0)}o&&this.painter.refresh()}this._draggingTarget||this._hasfound&&this._lastHover.draggable?r="move":this._hasfound&&this._lastHover.clickable&&(r="pointer"),this.root.style.cursor=r,this._dispatchAgency(this._lastHover,W0.EVENT.MOUSEMOVE,e),(this._draggingTarget||this._hasfound||this.storage.hasHoverShape())&&this.painter.refreshHover()},mouseout:function(e){e=this._zrenderEventFixed(e);var t=e.toElement||e.relatedTarget;if(t!=this.root)for(;t&&9!=t.nodeType;){if(t==this.root)return void this._mousemoveHandler(e);t=t.parentNode}e.zrenderX=this._lastX,e.zrenderY=this._lastY,this.root.style.cursor="",this._isMouseDown=0,this._processOutShape(e),this._processDrop(e),this._processDragEnd(e),this.painter.refreshHover(),this.dispatch(W0.EVENT.GLOBALOUT,e)},mousedown:function(e){if(this._clickThreshold=0,2==this._lastDownButton)return this._lastDownButton=e.button,void(this._mouseDownTarget=null);this._lastMouseDownMoment=new Date,e=this._zrenderEventFixed(e),this._isMouseDown=1,this._mouseDownTarget=this._lastHover,this._dispatchAgency(this._lastHover,W0.EVENT.MOUSEDOWN,e),this._lastDownButton=e.button},mouseup:function(e){e=this._zrenderEventFixed(e),this.root.style.cursor="",this._isMouseDown=0,this._mouseDownTarget=null,this._dispatchAgency(this._lastHover,W0.EVENT.MOUSEUP,e),this._processDrop(e),this._processDragEnd(e)},touchstart:function(e){e=this._zrenderEventFixed(e,!0),this._lastTouchMoment=new Date,this._mobildFindFixed(e),this._mousedownHandler(e)},touchmove:function(e){e=this._zrenderEventFixed(e,!0),this._mousemoveHandler(e),this._isDragging&&K0.Util_event.stop(e)},touchend:function(e){e=this._zrenderEventFixed(e,!0),this._mouseupHandler(e);var t=new Date;t-this._lastTouchMoment<W0.EVENT.touchClickDelay&&(this._mobildFindFixed(e),this._clickHandler(e),t-this._lastClickMoment<W0.EVENT.touchClickDelay/2&&(this._dblclickHandler(e),this._lastHover&&this._lastHover.clickable&&K0.Util_event.stop(e)),this._lastClickMoment=t),this.painter.clearHover()}};return function(e){for(var t=["resize","click","dblclick","mousewheel","mousemove","mouseout","mouseup","mousedown","touchstart","touchend","touchmove"],n=t.length;n--;){var r=t[n];e["_"+r+"Handler"]=i(s[r],e)}}(RG(a)),window.addEventListener?(window.addEventListener("resize",a._resizeHandler),K0.Util_env.os.tablet||K0.Util_env.os.phone?(e.addEventListener("touchstart",a._touchstartHandler),e.addEventListener("touchmove",a._touchmoveHandler),e.addEventListener("touchend",a._touchendHandler)):(e.addEventListener("click",a._clickHandler),e.addEventListener("dblclick",a._dblclickHandler),e.addEventListener("mousewheel",a._mousewheelHandler),e.addEventListener("mousemove",a._mousemoveHandler),e.addEventListener("mousedown",a._mousedownHandler),e.addEventListener("mouseup",a._mouseupHandler)),e.addEventListener("DOMMouseScroll",a._mousewheelHandler),e.addEventListener("mouseout",a._mouseoutHandler)):(window.attachEvent("onresize",a._resizeHandler),e.attachEvent("onclick",a._clickHandler),e.ondblclick=a._dblclickHandler,e.attachEvent("onmousewheel",a._mousewheelHandler),e.attachEvent("onmousemove",a._mousemoveHandler),e.attachEvent("onmouseout",a._mouseoutHandler),e.attachEvent("onmousedown",a._mousedownHandler),e.attachEvent("onmouseup",a._mouseupHandler)),a}return NG(t,e),AG(t,[{key:"destroy",value:function(){this.dispose(),this._lastX=null,this._lastY=null,this._mouseX=null,this._mouseY=null,this._findHover=null,B0.prototype.destroy.apply(this,arguments)}},{key:"on",value:function(e,t){return this.bind(e,t),this}},{key:"un",value:function(e,t){return this.unbind(e,t),this}},{key:"trigger",value:function(e,t){var n=W0.EVENT;switch(e){case n.RESIZE:case n.CLICK:case n.DBLCLICK:case n.MOUSEWHEEL:case n.MOUSEMOVE:case n.MOUSEDOWN:case n.MOUSEUP:case n.MOUSEOUT:this["_"+e+"Handler"](t)}}},{key:"dispose",value:function(){var e=this.root;window.removeEventListener?(window.removeEventListener("resize",this._resizeHandler),K0.Util_env.os.tablet||K0.Util_env.os.phone?(e.removeEventListener("touchstart",this._touchstartHandler),e.removeEventListener("touchmove",this._touchmoveHandler),e.removeEventListener("touchend",this._touchendHandler)):(e.removeEventListener("click",this._clickHandler),e.removeEventListener("dblclick",this._dblclickHandler),e.removeEventListener("mousewheel",this._mousewheelHandler),e.removeEventListener("mousemove",this._mousemoveHandler),e.removeEventListener("mousedown",this._mousedownHandler),e.removeEventListener("mouseup",this._mouseupHandler)),e.removeEventListener("DOMMouseScroll",this._mousewheelHandler),e.removeEventListener("mouseout",this._mouseoutHandler)):(window.detachEvent("onresize",this._resizeHandler),e.detachEvent("onclick",this._clickHandler),e.detachEvent("dblclick",this._dblclickHandler),e.detachEvent("onmousewheel",this._mousewheelHandler),e.detachEvent("onmousemove",this._mousemoveHandler),e.detachEvent("onmouseout",this._mouseoutHandler),e.detachEvent("onmousedown",this._mousedownHandler),e.detachEvent("onmouseup",this._mouseupHandler)),this.root=null,this._domHover=null,this.storage=null,this.painter=null,this.un()}},{key:"_processDragStart",value:function(e){var t=this._lastHover;if(this._isMouseDown&&t&&t.draggable&&!this._draggingTarget&&this._mouseDownTarget==t){if(t.dragEnableTime&&new Date-this._lastMouseDownMoment<t.dragEnableTime)return;var n=t;this._draggingTarget=n,this._isDragging=1,n.invisible=!0,this.storage.mod(n.id),this._dispatchAgency(n,W0.EVENT.DRAGSTART,e),this.painter.refresh()}}},{key:"_processDragEnter",value:function(e){this._draggingTarget&&this._dispatchAgency(this._lastHover,W0.EVENT.DRAGENTER,e,this._draggingTarget)}},{key:"_processDragOver",value:function(e){this._draggingTarget&&this._dispatchAgency(this._lastHover,W0.EVENT.DRAGOVER,e,this._draggingTarget)}},{key:"_processDragLeave",value:function(e){this._draggingTarget&&this._dispatchAgency(this._lastHover,W0.EVENT.DRAGLEAVE,e,this._draggingTarget)}},{key:"_processDrop",value:function(e){this._draggingTarget&&(this._draggingTarget.invisible=!1,this.storage.mod(this._draggingTarget.id),this.painter.refresh(),this._dispatchAgency(this._lastHover,W0.EVENT.DROP,e,this._draggingTarget))}},{key:"_processDragEnd",value:function(e){this._draggingTarget&&(this._dispatchAgency(this._draggingTarget,W0.EVENT.DRAGEND,e),this._lastHover=null),this._isDragging=0,this._draggingTarget=null}},{key:"_processOverShape",value:function(e){this._dispatchAgency(this._lastHover,W0.EVENT.MOUSEOVER,e)}},{key:"_processOutShape",value:function(e){this._dispatchAgency(this._lastHover,W0.EVENT.MOUSEOUT,e)}},{key:"_dispatchAgency",value:function(e,t,n,r){var i="on"+t,o={type:t,event:n,target:e,cancelBubble:!1},a=e;for(r&&(o.dragged=r);a&&(a[i]&&(o.cancelBubble=a[i](o)),a.dispatch(t,o),a=a.parent,!o.cancelBubble););e?o.cancelBubble||this.dispatch(t,o):r||this.dispatch(t,{type:t,event:n})}},{key:"_iterateAndFindHover",value:function(){for(var e,t=K0.Util_matrix.create(),n=this.storage.getShapeList(),r=[0,0],i=n.length-1;i>=0;i--){var o=n[i];if(void 0!==o.zlevel&&(e=this.painter.getLayer(o.zlevel,e),r[0]=this._mouseX,r[1]=this._mouseY,e.needTransform&&(K0.Util_matrix.invert(t,e.transform),K0.Util_vector.applyTransform(r,r,t))),this._findHover(o,r[0],r[1]))break}}},{key:"_mobildFindFixed",value:function(e){var t=[{x:10},{x:-20},{x:10,y:10},{y:-20}];this._lastHover=null,this._mouseX=e.zrenderX,this._mouseY=e.zrenderY,this._event=e,this._iterateAndFindHover();for(var n=0;!this._lastHover&&n<t.length;n++){var r=t[n];r.x&&(this._mouseX+=r.x),r.y&&(this._mouseX+=r.y),this._iterateAndFindHover()}this._lastHover&&(e.zrenderX=this._mouseX,e.zrenderY=this._mouseY)}},{key:"_zrenderEventFixed",value:function(e,t){if(e.zrenderFixed)return e;if(t){var n="touchend"!=e.type?e.targetTouches[0]:e.changedTouches[0];if(n){var r=this.root.getBoundingClientRect();e.zrenderX=n.clientX-r.left,e.zrenderY=n.clientY-r.top}}else{e=e||window.event;var i=e.toElement||e.relatedTarget||e.srcElement||e.target;i&&i!=this._domHover&&(e.zrenderX=(void 0!==e.offsetX?e.offsetX:e.layerX)+i.offsetLeft,e.zrenderY=(void 0!==e.offsetY?e.offsetY:e.layerY)+i.offsetTop)}return e.zrenderFixed=1,e}},{key:"getLastHoverOne",value:function(){return this._lastHover?this._lastHover:null}}]),t}(B0),C1=function(){function e(){DG(this,e),this.CLASS_NAME="SuperMap.LevelRenderer.Animation.easing"}return BG(e,[{key:"destroy",value:function(){}},{key:"Linear",value:function(e){return e}},{key:"QuadraticIn",value:function(e){return e*e}},{key:"QuadraticOut",value:function(e){return e*(2-e)}},{key:"QuadraticInOut",value:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},{key:"CubicIn",value:function(e){return e*e*e}},{key:"CubicOut",value:function(e){return--e*e*e+1}},{key:"CubicInOut",value:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},{key:"QuarticIn",value:function(e){return e*e*e*e}},{key:"QuarticOut",value:function(e){return 1- --e*e*e*e}},{key:"QuarticInOut",value:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},{key:"QuinticIn",value:function(e){return e*e*e*e*e}},{key:"QuinticOut",value:function(e){return--e*e*e*e*e+1}},{key:"QuinticInOut",value:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},{key:"SinusoidalIn",value:function(e){return 1-Math.cos(e*Math.PI/2)}},{key:"SinusoidalOut",value:function(e){return Math.sin(e*Math.PI/2)}},{key:"SinusoidalInOut",value:function(e){return.5*(1-Math.cos(Math.PI*e))}},{key:"ExponentialIn",value:function(e){return 0===e?0:Math.pow(1024,e-1)}},{key:"ExponentialOut",value:function(e){return 1===e?1:1-Math.pow(2,-10*e)}},{key:"ExponentialInOut",value:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},{key:"CircularIn",value:function(e){return 1-Math.sqrt(1-e*e)}},{key:"CircularOut",value:function(e){return Math.sqrt(1- --e*e)}},{key:"CircularInOut",value:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},{key:"ElasticIn",value:function(e){var t,n=.1;return 0===e?0:1===e?1:(n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))}},{key:"ElasticOut",value:function(e){var t,n=.1;return 0===e?0:1===e?1:(n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)}},{key:"ElasticInOut",value:function(e){var t,n=.1;return 0===e?0:1===e?1:(n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*.5+1)}},{key:"BackIn",value:function(e){var t=1.70158;return e*e*((t+1)*e-t)}},{key:"BackOut",value:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1}},{key:"BackInOut",value:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},{key:"BounceIn",value:function(e){return 1-this.BounceOut(1-e)}},{key:"BounceOut",value:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},{key:"BounceInOut",value:function(e){return e<.5?.5*this.BounceIn(2*e):.5*this.BounceOut(2*e-1)+.5}}]),e}(),T1=function(){function e(t){UG(this,e),this._targetPool=t.target||{},this._targetPool instanceof Array||(this._targetPool=[this._targetPool]),this._life=t.life||1e3,this._delay=t.delay||0,this._startTime=(new Date).getTime()+this._delay,this._endTime=this._startTime+1e3*this._life,this.loop=void 0!==t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this.CLASS_NAME="SuperMap.LevelRenderer.Animation.Clip"}return zG(e,[{key:"destroy",value:function(){}},{key:"step",value:function(e){var t=new C1,n=(e-this._startTime)/this._life;if(!(n<0)){n=Math.min(n,1);var r="string"==typeof this.easing?t[this.easing]:this.easing,i="function"==typeof r?r(n):n;return this.fire("frame",i),1==n?this.loop?(this.restart(),"restart"):(this._needsRemove=!0,"destroy"):null}}},{key:"restart",value:function(){var e=(new Date).getTime(),t=(e-this._startTime)%this._life;this._startTime=(new Date).getTime()-t+this.gap}},{key:"fire",value:function(e,t){for(var n=0,r=this._targetPool.length;n<r;n++)this["on"+e]&&this["on"+e](this._targetPool[n],t)}}]),e}(),P1=function(e){function t(e){var n;return HG(this,t),n=WG(this,YG(t).call(this,e)),e=e||{},n.stage={},n.onframe=function(){},n._clips=[],n._running=!1,n._time=0,rQ.extend(QG(n),e),n.CLASS_NAME="SuperMap.LevelRenderer.Animation",n}return XG(t,e),qG(t,[{key:"add",value:function(e){
this._clips.push(e)}},{key:"remove",value:function(e){var t=(new S0).indexOf(this._clips,e);t>=0&&this._clips.splice(t,1)}},{key:"_update",value:function(){for(var e=(new Date).getTime(),t=e-this._time,n=this._clips,r=n.length,i=[],o=[],a=0;a<r;a++){var s=n[a],l=s.step(e);l&&(i.push(l),o.push(s))}this.stage.update&&this.stage.update();for(var u=0;u<r;)n[u]._needsRemove?(n[u]=n[r-1],n.pop(),r--):u++;r=i.length;for(var c=0;c<r;c++)o[c].fire(i[c]);this._time=e,this.onframe(t),this.dispatch("frame",t)}},{key:"start",value:function(){function e(){n._running&&(n._update(),t(e))}var t=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){setTimeout(e,16)},n=this;this._running=!0,this._time=(new Date).getTime(),t(e)}},{key:"stop",value:function(){this._running=!1}},{key:"clear",value:function(){this._clips=[]}},{key:"animate",value:function(e,t){t=t||{};var n=new E1(e,t.loop,t.getter,t.setter);return n.animation=this,n}}],[{key:"_interpolateNumber",value:function(e,t,n){return(t-e)*n+e}},{key:"_interpolateArray",value:function(e,n,r,i,o){var a=e.length;if(1==o)for(var s=0;s<a;s++)i[s]=t._interpolateNumber(e[s],n[s],r);else for(var l=e[0].length,u=0;u<a;u++)for(var c=0;c<l;c++)i[u][c]=t._interpolateNumber(e[u][c],n[u][c],r)}},{key:"_isArrayLike",value:function(e){switch(VG(e)){case"undefined":case"string":return!1}return void 0!==e.length}},{key:"_catmullRomInterpolateArray",value:function(e,n,r,i,o,a,s,l,u){var c=e.length;if(1==u)for(var f=0;f<c;f++)l[f]=t._catmullRomInterpolate(e[f],n[f],r[f],i[f],o,a,s);else for(var h=e[0].length,p=0;p<c;p++)for(var y=0;y<h;y++)l[p][y]=t._catmullRomInterpolate(e[p][y],n[p][y],r[p][y],i[p][y],o,a,s)}},{key:"_catmullRomInterpolate",value:function(e,t,n,r,i,o,a){var s=.5*(n-e),l=.5*(r-t);return(2*(t-n)+s+l)*a+(-3*(t-n)-2*s-l)*o+s*i+t}},{key:"_cloneValue",value:function(e){var n=Array.prototype.slice;if(t._isArrayLike(e)){var r=e.length;if(t._isArrayLike(e[0])){for(var i=[],o=0;o<r;o++)i.push(n.call(e[o]));return i}return n.call(e)}return e}},{key:"rgba2String",value:function(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}}]),t}(B0),E1=function(){function e(t,n,r,i){function o(e,t){return e[t]}function a(e,t,n){e[t]=n}HG(this,e),this._tracks={},this._target=t,this._loop=n||!1,this._getter=r||o,this._setter=i||a,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[],this.CLASS_NAME="SuperMap.LevelRenderer.Animation.Animator"}return qG(e,[{key:"when",value:function(e,t){for(var n in t)this._tracks[n]||(this._tracks[n]=[],0!==e&&this._tracks[n].push({time:0,value:P1._cloneValue(this._getter(this._target,n))})),this._tracks[n].push({time:parseInt(e,10),value:t[n]});return this}},{key:"during",value:function(e){return this._onframeList.push(e),this}},{key:"start",value:function(e){var t=this,n=this._setter,r=this._getter,i=t._onframeList.length,o="spline"===e,a=function(){if(0===--t._clipCount){t._tracks={};for(var e=t._doneList.length,n=0;n<e;n++)t._doneList[n].call(t)}};for(var s in this._tracks)!function(s,l){var u=s.length;if(u){var c=s[0].value,f=P1._isArrayLike(c),h=!1,p=f&&P1._isArrayLike(c[0])?2:1;s.sort(function(e,t){return e.time-t.time});for(var y=s[u-1].time,d=[],m=[],v=0;v<u;v++){d.push(s[v].time/y);var g=s[v].value;"string"==typeof g&&(g=K0.Util_color.toArray(g),0===g.length&&(g[0]=g[1]=g[2]=0,g[3]=1),h=!0),m.push(g)}var b,S,_,w,O,x,C,T=0,P=0;if(h)var E=[0,0,0,0];var k=function(e,a){if(a<P){for(b=Math.min(T+1,u-1),S=b;S>=0&&!(d[S]<=a);S--);S=Math.min(S,u-2)}else{for(S=T;S<u&&!(d[S]>a);S++);S=Math.min(S-1,u-2)}T=S,P=a;var s=d[S+1]-d[S];if(0!==s){if(_=(a-d[S])/s,o)if(O=m[S],w=m[0===S?S:S-1],x=m[S>u-2?u-1:S+1],C=m[S>u-3?u-1:S+2],f)P1._catmullRomInterpolateArray(w,O,x,C,_,_*_,_*_*_,r(e,l),p);else{var c;c=h?P1.rgba2String(E):P1._catmullRomInterpolate(w,O,x,C,_,_*_,_*_*_),n(e,l,c)}else if(f)P1._interpolateArray(m[S],m[S+1],_,r(e,l),p);else{var y;h?(P1._interpolateArray(m[S],m[S+1],_,E,1),y=P1.rgba2String(E)):y=P1._interpolateNumber(m[S],m[S+1],_),n(e,l,y)}for(S=0;S<i;S++)t._onframeList[S](e,a)}},M=new T1({target:t._target,life:y,loop:t._loop,delay:t._delay,onframe:k,ondestroy:a});e&&"spline"!==e&&(M.easing=e),t._clipList.push(M),t._clipCount++,t.animation.add(M)}}(this._tracks[s],s);return this}},{key:"stop",value:function(){for(var e=0;e<this._clipList.length;e++){var t=this._clipList[e];this.animation.remove(t)}this._clipList=[]}},{key:"delay",value:function(e){return this._delay=e,this}},{key:"done",value:function(e){return e&&this._doneList.push(e),this}}]),e}(),k1=function(){function e(t,n){ZG(this,e),this.id=t,this.storage=new _1,this.painter=new w1(n,this.storage),this.handler=new x1(n,this.storage,this.painter),this.animatingElements=[],this.animation=new P1({stage:{update:e.getFrameCallback(this)}}),this._needsRefreshNextFrame=!1,this.animation.start(),this.CLASS_NAME="SuperMap.LevelRenderer.Render"}return ez(e,[{key:"destroy",value:function(){this.id=null,this.storage=null,this.painter=null,this.handler=null,this.animatingElements=null,this.animation=null,this._needsRefreshNextFrame=null}},{key:"getId",value:function(){return this.id}},{key:"addShape",value:function(e){return this.storage.addRoot(e),this}},{key:"addGroup",value:function(e){return this.storage.addRoot(e),this}},{key:"delShape",value:function(e){return this.storage.delRoot(e),this}},{key:"delGroup",value:function(e){return this.storage.delRoot(e),this}},{key:"modShape",value:function(e,t){return this.storage.mod(e,t),this}},{key:"modGroup",value:function(e,t){return this.storage.mod(e,t),this}},{key:"modLayer",value:function(e,t){return this.painter.modLayer(e,t),this}},{key:"addHoverShape",value:function(e){return this.storage.addHover(e),this}},{key:"render",value:function(e){return this.painter.render(e),this._needsRefreshNextFrame=!1,this}},{key:"refresh",value:function(e){return this.painter.refresh(e),this._needsRefreshNextFrame=!1,this}},{key:"refreshNextFrame",value:function(){return this._needsRefreshNextFrame=!0,this}},{key:"refreshHover",value:function(e){return this.painter.refreshHover(e),this}},{key:"refreshShapes",value:function(e,t){return this.painter.refreshShapes(e,t),this}},{key:"resize",value:function(){return this.painter.resize(),this}},{key:"animate",value:function(e,t,n){if("string"==typeof e&&(e=this.storage.get(e)),e){var r;if(t){for(var i=t.split("."),o=e,a=0,s=i.length;a<s;a++)o&&(o=o[i[a]]);o&&(r=o)}else r=e;if(!r)return void K0.Util_log('Property "'+t+'" is not existed in element '+e.id);var l=this.animatingElements;return void 0===e.__aniCount&&(e.__aniCount=0),0===e.__aniCount&&l.push(e),e.__aniCount++,this.animation.animate(r,{loop:n}).done(function(){if(0===--e.__aniCount){var t=(new S0).indexOf(l,e);l.splice(t,1)}})}K0.Util_log("Element not existed")}},{key:"clearAnimation",value:function(){this.animation.clear()}},{key:"getWidth",value:function(){return this.painter.getWidth()}},{key:"getHeight",value:function(){return this.painter.getHeight()}},{key:"toDataURL",value:function(e,t,n){return this.painter.toDataURL(e,t,n)}},{key:"shapeToImage",value:function(e,t,n){var r=rQ.createUniqueID("SuperMap.LevelRenderer.ToImage_");return this.painter.shapeToImage(r,e,t,n)}},{key:"on",value:function(e,t){return this.handler.on(e,t),this}},{key:"un",value:function(e,t){return this.handler.un(e,t),this}},{key:"trigger",value:function(e,t){return this.handler.trigger(e,t),this.handler.dispatch(e,t),this}},{key:"clear",value:function(){return this.storage.delRoot(),this.painter.clear(),this}},{key:"dispose",value:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=null,this.animatingElements=null,this.storage=null,this.painter=null,this.handler=null}},{key:"updateHoverShapes",value:function(e){return this.painter.updateHoverLayer(e),this}},{key:"getAllShapes",value:function(){return this.storage._shapeList}},{key:"clearAll",value:function(){return this.clear(),this.painter.clearHover(),this}},{key:"getHoverOne",value:function(){return this.handler.getLastHoverOne()}}],[{key:"getFrameCallback",value:function(e){return function(){var t=e.animatingElements;if(t instanceof Array){for(var n=0,r=t.length;n<r;n++)e.storage.mod(t[n].id);(t.length||e._needsRefreshNextFrame)&&e.refresh()}}}}]),e}(),M1=function(){function e(){tz(this,e),e._instances={},e.Tool={},this.version="2.0.4",this.CLASS_NAME="SuperMap.LevelRenderer"}return rz(e,[{key:"destroy",value:function(){this.dispose(),this.version=null}},{key:"init",value:function(t){var n=new k1(rQ.createUniqueID("LRenderer_"),t);return e._instances[n.id]=n,n}},{key:"dispose",value:function(t){if(t)t.dispose(),this.delInstance(t.id);else{for(var n in e._instances)e._instances[n].dispose();e._instances={}}return this}},{key:"getInstance",value:function(t){return e._instances[t]}},{key:"delInstance",value:function(t){return delete e._instances[t],this}}]),e}();WW.LevelRenderer=M1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var A1={EXCEL:"EXCEL",CSV:"CSV",ISERVER:"ISERVER",GEOJSON:"GEOJSON",JSON:"JSON"},L1={fileMaxSize:10485760},j1=function(){function e(t){iz(this,e),this.FileTypes=A1,this.FileConfig=L1,this.loadFileObject=t&&t.loadFileObject?t.loadFileObject:[]}return az(e,[{key:"set",value:function(e,t){this[e]=t}},{key:"get",value:function(e){return this[e]}}]),e}(),R1=function(){function e(){sz(this,e),this._initView()}return uz(e,[{key:"_initView",value:function(){var e=document.createElement("div");e.hidden=!0,e.setAttribute("class","component-messageboxcontainer component-border-bottom-orange");var t=document.createElement("div");t.setAttribute("class","icon"),this.icon=document.createElement("span"),this.icon.setAttribute("class","supermapol-icons-message-warning"),t.appendChild(this.icon),e.appendChild(t);var n=document.createElement("div");n.setAttribute("class","component-messagebox"),n.innerHTML="",e.appendChild(n),this.messageBox=n;var r=document.createElement("div");r.setAttribute("class","component-messagebox__cancelbtncontainer");var i=document.createElement("button");i.setAttribute("class","component-messagebox__cancelBtn"),i.innerHTML="x",i.onclick=this.closeView.bind(this),r.appendChild(i),e.appendChild(r),this.messageBoxContainer=e,document.body.appendChild(this.messageBoxContainer)}},{key:"closeView",value:function(){this.messageBoxContainer.hidden=!0}},{key:"showView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warring";"success"===t?(this.icon.setAttribute("class","supermapol-icons-message-success"),this.messageBoxContainer.setAttribute("class","component-messageboxcontainer component-border-bottom-green")):"failure"===t?(this.icon.setAttribute("class","supermapol-icons-message-failure"),this.messageBoxContainer.setAttribute("class","component-messageboxcontainer component-border-bottom-red")):"warring"===t&&(this.icon.setAttribute("class","supermapol-icons-message-warning"),this.messageBoxContainer.setAttribute("class","component-messageboxcontainer component-border-bottom-orange")),this.messageBox.innerHTML=e,this.messageBoxContainer.hidden=!1}}]),e}();WW.Components.MessageBox=R1;var N1=n(1),I1=n.n(N1),D1={code:null,defaultCode:"en-US",getCode:function(){return WW.Lang.code||WW.Lang.setCode(),WW.Lang.code},setCode:function(){var e=this.getLanguageFromCookie();if(e)return void(WW.Lang.code=e);e=WW.Lang.defaultCode,e="Netscape"===navigator.appName?navigator.language:navigator.browserLanguage,0===e.indexOf("zh")&&(e="zh-CN"),0===e.indexOf("en")&&(e="en-US"),WW.Lang.code=e},getLanguageFromCookie:function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){for(var n=e[t];" "===n.charAt(0);)n=n.substring(1);if(-1!==n.indexOf("language="))return n.substring("language=".length,n.length)}return""},i18n:function(e){var t=WW.Lang[WW.Lang.getCode()],n=t&&t[e];return n||(n=e),n}};WW.Lang=D1,WW.i18n=WW.Lang.i18n;var F1=n(5),B1=n.n(F1),U1={rABS:"undefined"!=typeof FileReader&&FileReader.prototype&&FileReader.prototype.readAsBinaryString,rABF:"undefined"!=typeof FileReader&&FileReader.prototype&&FileReader.prototype.readAsArrayBuffer,rAT:"undefined"!=typeof FileReader&&FileReader.prototype&&FileReader.prototype.readAsText,readFile:function(e,t,n,r,i){A1.JSON===e||A1.GEOJSON===e?this.readTextFile(t,n,r,i):A1.EXCEL!==e&&A1.CSV!==e||this.readXLSXFile(t,n,r,i)},readTextFile:function(e,t,n,r){var i=new FileReader;i.onloadend=function(e){t&&t.call(r,e.target.result)},i.onerror=function(e){n&&n.call(r,e)},this.rAT?i.readAsText(e.file,"utf-8"):i.readAsBinaryString(e.file)},readXLSXFile:function(e,t,n,r){var i=new FileReader;i.onloadend=function(e){var i=new Uint8Array(e.target.result),o=B1.a.read(i,{type:"array"});try{if(o&&o.SheetNames&&o.SheetNames.length>0){var a=o.SheetNames[0],s=B1.a.utils.sheet_to_csv(o.Sheets[a]);t&&t.call(r,s)}}catch(e){n&&n.call(r,e)}},i.onerror=function(e){n&&n.call(r,e)},this.rABF&&i.readAsArrayBuffer(e.file)},processDataToGeoJson:function(e,t,n,r,i){var o=null;if("EXCEL"===e||"CSV"===e)o=this.processExcelDataToGeoJson(t),n&&n.call(i,o);else if("JSON"===e||"GEOJSON"===e){var a=t;"string"==typeof a&&(a=JSON.parse(a)),"ISERVER"===a.type?o=a.data.recordsets[0].features:"FeatureCollection"===a.type?o=a:r&&r.call(i,D1.i18n("msg_dataInWrongGeoJSONFormat")),n&&n.call(i,o)}else r&&r.call(i,D1.i18n("msg_dataInWrongFormat"))},processExcelDataToGeoJson:function(e){for(var t=this.string2Csv(e),n=t.colTitles,r=-1,i=-1,o=0,a=n.length;o<a;o++)this.isXField(n[o])&&(r=o),this.isYField(n[o])&&(i=o);for(var s=[],l=0,u=t.rows.length;l<u;l++){var c=t.rows[l],f=Number(c[r]),h=Number(c[i]),p={};for(var y in t.colTitles){p[t.colTitles[y]]=t.rows[l][y]}var d={type:"Feature",geometry:{type:"Point",coordinates:[f,h]},properties:p};s.push(d)}return s},isXField:function(e){var t=e.toLowerCase();return"x"===t||"smx"===t||"jd"===t||"ç»åº¦"===t||"ä¸ç»"===t||"longitude"===t||"lot"===t||"lon"===t||"lng"===t||"xåæ "===t},isYField:function(e){var t=e.toLowerCase();return"y"===t||"smy"===t||"wd"===t||"çº¬åº¦"===t||"åçº¬"===t||"latitude"===t||"lat"===t||"yåæ "===t},string2Csv:function(e,t){var n=e.split("\n"),r={};r.colTitles=t?[]:n[0].split(","),r.rows=[];for(var i=t?0:1;i<n.length;i++)n[i]&&r.rows.push(n[i].split(","));return r}};WW.Components.FileReaderUtil=U1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var G1=function(){function e(t){cz(this,e),this.datasets=t,this.EVENT_TYPES=["getdatafailed"],this.events=new SQ(this,null,this.EVENT_TYPES)}return hz(e,[{key:"getDatasetInfo",value:function(e){var t=this.datasets.url,n=this;BQ.get(t).then(function(e){return e.json()}).then(function(t){if(t.datasetInfo){var r=t.datasetInfo;n.datasetsInfo={dataSourceName:r.dataSourceName,datasetName:r.name,mapName:t.name},e({result:n.datasetsInfo})}}).catch(function(e){console.log(e),n._fireFailedEvent(e)})}},{key:"getDataFeatures",value:function(e,t){var n,r,i,o=e.result,a={name:o.datasetName+"@"+o.dataSourceName};Object.assign(a,this.datasets.queryInfo),n=new WW.FilterParameter(a),r=new WW.GetFeaturesBySQLParameters({queryParameter:n,datasetNames:[o.dataSourceName+":"+o.datasetName],fromIndex:0,toIndex:1e5}),i=new WW.GetFeaturesBySQLService(o.dataUrl,{eventListeners:{processCompleted:t,processFailed:function(){}}}),i.processAsync(r)}},{key:"getLayerFeatures",value:function(e,t){var n,r,i,o=e.result,a={name:o.mapName};Object.assign(a,this.datasets.queryInfo),n=new WW.FilterParameter(a),r=new WW.QueryBySQLParameters({queryParams:[n],expectCount:1e5}),i=new WW.QueryBySQLService(o.dataUrl,{eventListeners:{processCompleted:t,processFailed:function(){}}}),i.processAsync(r)}},{key:"getDataInfoByIptl",value:function(e){this.getServiceInfo(this.datasets.url,e)}},{key:"getServiceInfo",value:function(e,t){var n=this;BQ.get(e,null,{withCredentials:this.datasets.withCredentials}).then(function(e){return e.json()}).then(function(r){if(!1===r.succeed)return void n._fireFailedEvent(r);if(!(r.dataItemServices&&r.dataItemServices.length>0))return void n.getDatafromContent(e,t);var i,o=r.dataItemServices;o.forEach(function(r){if("RESTDATA"===r.serviceType&&"PUBLISHED"===r.serviceStatus)i=r;else{if("RESTMAP"!==r.serviceType||"PUBLISHED"!==r.serviceStatus)return void n.getDatafromContent(e,t);i=r}}),i&&n.getDatafromRest(i.serviceType,i.address,t)}).catch(function(e){console.log(e),n._fireFailedEvent(e)})}},{key:"getDatafromContent",value:function(e,t){var n=this,r={result:{}},i=this;e+="/content.json?pageSize=9999999&currentPage=1",BQ.get(e,null,{withCredentials:this.datasets.withCredentials}).then(function(e){return e.json()}).then(function(e){if(!1===e.succeed)return void i._fireFailedEvent(e);if(e.type){if("JSON"===e.type||"GEOJSON"===e.type){if(e.content=JSON.parse(e.content.trim()),!e.content.features)return void console.log(D1.i18n("msg_jsonResolveFiled"));var o=n._formatGeoJSON(e.content);r.result.features={type:e.content.type,features:o}}else if("EXCEL"===e.type||"CSV"===e.type){var a=n._excelData2Feature(e.content);r.result.features={type:"FeatureCollection",features:a}}t(r,"content")}},this).catch(function(e){console.log(e),i._fireFailedEvent(e)})}},{key:"getDatafromRest",value:function(e,t,n){var r=this,i=this.datasets.withCredentials;if("RESTDATA"===e){var o,a,s="".concat(t,"/data/datasources");BQ.get(s,null,{withCredentials:i}).then(function(e){return e.json()}).then(function(e){o=e.datasourceNames[0],s="".concat(t,"/data/datasources/").concat(o,"/datasets"),BQ.get(s,null,{withCredentials:i}).then(function(e){return e.json()}).then(function(e){return a=e.datasetNames[0],r.getDatafromRestData("".concat(t,"/data"),[o+":"+a],n),[o+":"+a]}).catch(function(e){r._fireFailedEvent(e)})}).catch(function(e){r._fireFailedEvent(e)})}else{var l,u,c,f="".concat(t,"/maps");BQ.get(f,null,{withCredentials:i}).then(function(e){return e.json()}).then(function(e){l=e[0].name,c=e[0].path,f=f="".concat(t,"/maps/").concat(l,"/layers"),BQ.get(f,null,{withCredentials:i}).then(function(e){return e.json()}).then(function(e){return u=e[0].subLayers.layers[0].caption,r.getDatafromRestMap(u,c,n),u}).catch(function(e){r._fireFailedEvent(e)})}).catch(function(e){r._fireFailedEvent(e)})}}},{key:"getDatafromRestData",value:function(e,t,n){var r=this;this.datasets.queryInfo.attributeFilter=this.datasets.queryInfo.attributeFilter||"SmID>0",this._getFeatureBySQL(e,t,this.datasets.queryInfo,function(e){n(e,"RESTDATA")},function(e){console.log(e),r._fireFailedEvent(e)})}},{key:"getDatafromRestMap",value:function(e,t,n){var r=this;this.datasets.queryInfo.attributeFilter=this.datasets.queryInfo.attributeFilter||"smid=1",this._queryFeatureBySQL(t,e,this.datasets.queryInfo,null,null,function(e){n(e,"RESTMAP")},function(e){console.log(e),r._fireFailedEvent(e)})}},{key:"_getFeatureBySQL",value:function(e,t,n,r,i){var o,a,s,l={name:t.join().replace(":","@")};Object.assign(l,n),o=new SX(l),s=new XK({queryParameter:o,datasetNames:t,fromIndex:0,toIndex:1e5,returnContent:!0}),a=new KK(e,{eventListeners:{processCompleted:function(e){r&&r(e)},processFailed:function(e){i&&i(e)}}}),a.processAsync(s)}},{key:"_queryFeatureBySQL",value:function(e,t,n,r,i,o,a,s,l,u){var c,f,h={name:t};Object.assign(h,n),c=new SX(h),r&&(c.fields=r);var p={queryParams:[c]};u&&(p.queryOption=KW.ATTRIBUTE),s&&(p.startRecord=s),l&&(p.expectCount=l),i&&(p.prjCoordSys={epsgCode:i}),f=new s$(p),this._queryBySQL(e,f,function(e){"processCompleted"===e.type?o(e):a(e)})}},{key:"_queryBySQL",value:function(e,t,n,r){var i=this;new l$(e,{eventListeners:{scope:i,processCompleted:n,processFailed:n},format:i._processFormat(r)}).processAsync(t)}},{key:"_processFormat",value:function(e){return e||YW.GEOJSON}},{key:"_formatGeoJSON",value:function(e){var t=e.features;return t.forEach(function(e,t){e.properties.index=t}),t}},{key:"_excelData2Feature",value:function(e){for(var t=e.colTitles,n=-1,r=-1,i=0,o=t.length;i<o;i++)U1.isXField(t[i])&&(n=i),U1.isYField(t[i])&&(r=i);for(var a=[],s=0,l=e.rows.length;s<l;s++){var u=e.rows[s],c=Number(u[n]),f=Number(u[r]),h={};for(var p in e.colTitles){h[e.colTitles[p]]=e.rows[s][p]}h.index=s+"";var y={type:"Feature",geometry:{type:"Point",coordinates:[c,f]},properties:h};a.push(y)}return a}},{key:"_fireFailedEvent",value:function(e){var t=e?{error:e,message:D1.i18n("msg_getdatafailed")}:{message:D1.i18n("msg_getdatafailed")};this.events.triggerEvent("getdatafailed",t)}}]),e}(),z1=function(){function e(t){pz(this,e),this.datasets=t.datasets,this.xField=[],this.yField=[],this.grid={top:"50px",bottom:"50px",left:"50px",right:"60px"},this.chartType=t.type||"bar",this._initXYField(t.chartOptions),this.EVENT_TYPES=["getdatafailed"],this.events=new SQ(this,null,this.EVENT_TYPES)}return dz(e,[{key:"_initXYField",value:function(e){var t=this;e&&e.length>0&&e.forEach(function(e){e.xAxis&&t.xField.push({field:e.xAxis.field,name:e.xAxis.name}),e.yAxis&&t.yField.push({field:e.yAxis.field,name:e.yAxis.name})})}},{key:"getDatasetInfo",value:function(e){var t=this;this.createChart=e,this.datasets&&this._checkUrl(this.datasets.url)&&(this.chartModel=new G1(this.datasets),"iServer"===this.datasets.type?this.chartModel.getDatasetInfo(this._getDatasetInfoSuccess.bind(this)):"iPortal"===this.datasets.type&&this.chartModel.getDataInfoByIptl(this._getDataInfoSuccess.bind(this)),this.chartModel.events.on({getdatafailed:function(e){t.events.triggerEvent("getdatafailed",e)}}))}},{key:"_getDatasetInfoSuccess",value:function(e){var t=this.datasets.url,n=t.indexOf("rest");if(n>0){var r=t.indexOf("/",n+5),i=t.substring(n+5,r),o=t.substring(0,n+4)+"/data";if("maps"===i){var a=t.indexOf("/",r+1),s=t.substring(r+1,a);o=t.substring(0,n+4)+"/maps/"+s,e.result.dataUrl=o,this._getLayerFeatures(e)}else"data"===i&&(e.result.dataUrl=o,this._getDataFeatures(e))}}},{key:"_getDataInfoSuccess",value:function(e,t){var n=this;"RESTMAP"===t?n._getChartDatasFromLayer(e):n._getChartDatas(e)}},{key:"_getDataFeatures",value:function(e){this.chartModel.getDataFeatures(e,this._getChartDatas.bind(this))}},{key:"_getLayerFeatures",value:function(e){this.chartModel.getLayerFeatures(e,this._getChartDatasFromLayer.bind(this))}},{key:"_getChartDatas",value:function(e){if(e){this.features=e.result.features;var t=this.features.features,n={};if(t.length){var r=t[0],i=[],o=[];for(var a in r.properties)i.push(a),o.push(this._getDataType(r.properties[a]));n={features:t,fieldCaptions:i,fieldTypes:o,fieldValues:[]};for(var s in o){var l=[];for(var u in t){var c=t[u],f=n.fieldCaptions[s],h=c.properties[f];l.push(h)}n.fieldValues.push(l)}this.createChart(n)}}}},{key:"_getChartDatasFromLayer",value:function(e){if(e.result.recordsets){var t=e.result.recordsets[0],n=t.features.features;this.features=t.features;var r={};if(n.length){r={features:t.features,fieldCaptions:t.fieldCaptions,fieldTypes:t.fieldTypes,fieldValues:[]};for(var i in r.fieldCaptions){var o=[];for(var a in n){var s=n[a],l=r.fieldCaptions[i],u=s.properties[l];o.push(u)}r.fieldValues.push(o)}this.createChart(r)}}}},{key:"_createChartOptions",value:function(e){return this.calculatedData=this._createChartDatas(e),this.updateChartOptions(this.chartType)}},{key:"changeType",value:function(e){if(e!==this.chartType)return this.chartType=e,this.updateChartOptions(this.chartType)}},{key:"updateData",value:function(e,t,n){this.updateChart=n,this.xField=[],this.yField=[],this._initXYField(t),e.type=e.type||"iServer",e.withCredentials=e.withCredentials||!1,this.datasets=e,this.getDatasetInfo(this._updateDataSuccess.bind(this))}},{key:"_updateDataSuccess",value:function(e){var t=this._createChartOptions(e);this.updateChart(t)}},{key:"updateChartOptions",value:function(e,t){if(this.calculatedData){var n=this.grid,r=this._createChartSeries(this.calculatedData,e),i=[];for(var o in this.calculatedData.XData)i.push({value:this.calculatedData.XData[o].fieldsData});var a={type:"category",name:this.xField[0].name||"X",data:i,nameTextStyle:{color:"#fff",fontSize:14},splitLine:{show:!1},axisLine:{lineStyle:{color:"#eee"}}},s={type:"value",name:this.yFieldName||"Y",data:{},nameTextStyle:{color:"#fff",fontSize:14},splitLine:{show:!1},axisLine:{lineStyle:{color:"#eee"}}},l={formatter:"{b0}: {c0}"},u="#404a59";return t&&(t.grid&&(n=t.grid),t.tooltip&&(l=t.tooltip),t.backgroundColor&&(u=t.backgroundColor)),{backgroundColor:u,grid:n,series:r,xAxis:a,yAxis:s,tooltip:l}}}},{key:"_createChartDatas",value:function(e){var t=0,n=[],r=e.fieldCaptions,i=this;r.forEach(function(e,n){i.xField[0]&&e===i.xField[0].field&&(t=n)}),this.yFieldName="",this.yField.forEach(function(e,t){0!==t&&(i.yFieldName=i.yFieldName+","),i.yFieldName=i.yFieldName+e.name,r.forEach(function(t,r){t===e.field&&n.push(r)})});var o=this._getAttrData(e,t),a=[];if(n.length>0)n.forEach(function(t){var n=[];for(var r in e.fieldValues[t])n.push({value:e.fieldValues[t][r]});a.push(n)});else{for(var s=[],l=[],u=o.length,c=0;c<u;c++){for(var f=!1,h=0,p=l.length;h<p;h++)if(o[c].fieldsData===l[h].fieldsData){s[h].value++,l[h].recordIndexs.push(c),f=!0;break}f||o[c].fieldsData&&(l.push({fieldsData:o[c].fieldsData,recordIndexs:[c]}),s.push({value:1}))}o=l,a=[s]}return{XData:o,YData:a}}},{key:"_getAttrData",value:function(e,t){0===t&&(this.xField=[{field:e.fieldCaptions[t],name:e.fieldCaptions[t]}]);for(var n=[],r=0,i=e.fieldValues[t].length;r<i;r++){var o=e.fieldValues[t][r];n.push({recordIndexs:r,fieldsData:o})}return n}},{key:"_createChartSeries",value:function(e,t){var n=[];return e.YData.forEach(function(e){var r=0,i=[],o=!0,a=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(o=(l=u.next()).done);o=!0)r=l.value.value,i.push({value:r})}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}var c={type:t,data:i,name:"y"};n.push(c)}),n}},{key:"_isDate",value:function(e){return/((^((1[8-9]\d{2})|([2-9]\d{3}))([-\/\._])(10|12|0?[13578])([-\/\._])(3[01]|[12][0-9]|0?[1-9])$)|(^((1[8-9]\d{2})|([2-9]\d{3}))([-\/\._])(11|0?[469])([-\/\._])(30|[12][0-9]|0?[1-9])$)|(^((1[8-9]\d{2})|([2-9]\d{3}))([-\/\._])(0?2)([-\/\._])(2[0-8]|1[0-9]|0?[1-9])$)|(^([2468][048]00)([-\/\._])(0?2)([-\/\._])(29)$)|(^([3579][26]00)([-\/\._])(0?2)([-\/\._])(29)$)|(^([1][89][0][48])([-\/\._])(0?2)([-\/\._])(29)$)|(^([2-9][0-9][0][48])([-\/\._])(0?2)([-\/\._])(29)$)|(^([1][89][2468][048])([-\/\._])(0?2)([-\/\._])(29)$)|(^([2-9][0-9][2468][048])([-\/\._])(0?2)([-\/\._])(29)$)|(^([1][89][13579][26])([-\/\._])(0?2)([-\/\._])(29)$)|(^([2-9][0-9][13579][26])([-\/\._])(0?2)([-\/\._])(29)$))/gi.test(e)}},{key:"_isNumber",value:function(e){var t=Number(e);return 0===t||!isNaN(t)}},{key:"_getDataType",value:function(e){if(null!==e&&void 0!==e&&""!==e){if(this._isDate(e))return"DATE";if(this._isNumber(e))return"NUMBER"}return"STRING"}},{key:"_checkUrl",value:function(e){return!(""===e||!this._isMatchUrl(e))&&(!/^http[s]?:\/\/localhost/.test(e)&&!/^http[s]?:\/\/127.0.0.1/.test(e))}},{key:"_isMatchUrl",value:function(e){return new RegExp("(https?|http|file|ftp)://[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]").test(e)}},{key:"getStyle",value:function(){return{grid:this.grid,tooltip:this.tooltip,backgroundColor:this.backgroundColor}}},{key:"getFeatures",value:function(){return this.features}},{key:"setStyle",value:function(e){return this.updateChartOptions(this.chartType,e)}}]),e}();WW.Components.ChartViewModel=z1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var V1=function(){function e(t,n){mz(this,e),this.domID=t,this.chartType=n.type||"bar",n.datasets.type=n.datasets.type||"iServer",n.datasets.withCredentials=n.datasets.withCredentials||!1,this.viewModel=new z1(n),this._fillDataToView()}return gz(e,[{key:"onAdd",value:function(e){this.addChart=e}},{key:"_fillDataToView",value:function(){var e=new R1;this.viewModel.getDatasetInfo(this._createChart.bind(this)),this.viewModel.events.on({getdatafailed:function(t){e.showView(t.message)}})}},{key:"getStyle",value:function(){return this.viewModel.getStyle()}},{key:"getFeatures",value:function(){return this.viewModel.getFeatures()}},{key:"setStyle",value:function(e){var t=this.viewModel.setStyle(e);this._updateChart(t)}},{key:"changeType",value:function(e){if(this.chartType!==e){this.chartType=e;var t=this.viewModel.changeType(e);this._updateChart(t)}}},{key:"updateData",value:function(e,t){var n=this;this.viewModel.updateData(e,t,function(e){n._updateChart(e),n.addChart&&n.addChart()})}},{key:"_createChart",value:function(e){this.echart=I1.a.init(document.getElementById(this.domID),null,{renderer:"canvas"});var t=this.viewModel._createChartOptions(e);this.echart.setOption(t),this.addChart&&this.addChart()}},{key:"_updateChart",value:function(e){this.echart&&(this.echart.clear(),this.echart.setOption(e))}}]),e}();WW.Components.Chart=V1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var H1=function(){function e(t){bz(this,e),t=t||{},this.id=t.id?t.id:null,this.rootContainer=null}return _z(e,[{key:"getElement",value:function(){return this.id&&(this.rootContainer.id=this.id),this.rootContainer}},{key:"_initView",value:function(){}},{key:"showView",value:function(){this.rootContainer.hidden=!1}},{key:"closeView",value:function(){this.rootContainer.hidden=!0}}]),e}();WW.Components.TemplateBase=H1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var J1=function(e){function t(e){var n;Oz(this,t),n=Tz(this,Ez(t).call(this,e));var r=e.title?e.title:"";return n._initView(r),n}return kz(t,e),Cz(t,[{key:"_initView",value:function(e){var t=document.createElement("div");t.setAttribute("class","component-container");var n=document.createElement("div");n.setAttribute("class","component-title");var r=document.createElement("div");r.innerHTML=e,n.appendChild(r),t.appendChild(n);var i=document.createElement("div");return i.setAttribute("class","component-content"),t.appendChild(i),this.content=i,this.rootContainer=t,t}},{key:"getContentElement",value:function(){return this.content}},{key:"appendContent",value:function(e){this.content.appendChild(e)}}]),t}(H1);WW.Components.CommonContainer=J1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var q1=function(e){function t(e){var n;return Lz(this,t),n=Nz(this,Dz(t).call(this,e)),n._initView(e),n}return Fz(t,e),Rz(t,[{key:"_initView",value:function(e){var t=this._createElement("div","component-selecttool");if(e.labelName){this._createElement("label","component-selecttool__lable--describe",t).innerHTML=e.labelName}var n=this._createElement("div","component-selecttool--chart",t);n.setAttribute("tabindex","1");var r=this._createElement("div","component-selecttool__name",n);r.title=e.optionsArr[0],r.innerHTML=e.optionsArr[0];var i=this._createElement("div","component-selecttool__trianglebtn--chart",n),o=this._createElement("div","component-triangle-down-img",i),a=this._createElement("div","component-selecttool__content",n),s=this._createElement("div","component-selecttool__content--chart",a),l=this._createElement("div","component-selecttool__scrollarea__content",s);l.setAttribute("tabindex","1"),this.createOptions(l,e.optionsArr),this.optionClickEvent(l,r,e.optionsClickCb),this._selectClickEvent(n,a,o),this.rootContainer=t}},{key:"createOptions",value:function(e,t){for(var n in t){var r=this._createElement("div","component-selecttool__option",e);r.title=t[n],r.innerHTML=t[n]}}},{key:"_selectClickEvent",value:function(e,t,n){e.onclick=function(e){"block"===t.style.display?(t.style.display="none",n.className="component-triangle-down-img"):(t.style.display="block",n.className="triangle-up-img"),e.preventDefault(),e.stopPropagation()},e.onmousedown=function(e){e.target!==this&&(this.focus(),e.preventDefault(),e.stopPropagation())},e.onblur=function(){t.style.display="none",n.className="component-triangle-down-img"}}},{key:"_createElement",value:function(e,t,n){var r=document.createElement(e||"div");return t&&(r.className=t),n&&n.appendChild(r),r}},{key:"optionClickEvent",value:function(e,t,n){for(var r=0;r<e.children.length;r++)!function(r){var i=e.children[r];i.onclick=function(){t.innerHTML=i.innerHTML,t.title=i.title,i.getAttribute("data-value")&&t.setAttribute("data-value",i.getAttribute("data-value")),n&&n(i)}}(r)}}]),t}(H1);WW.Components.Select=q1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var W1=function(e){function t(e){var n;return Gz(this,t),n=Hz(this,qz(t).call(this,e)),n._initView(e),n}return Wz(t,e),Vz(t,[{key:"_initView",value:function(e){var t=document.createElement("div");t.className="component-dropdownbox--container";var n=document.createElement("div");n.setAttribute("tabindex","1"),n.className="component-dropdownbox",t.appendChild(n);var r=document.createElement("div");n.appendChild(r),this._createDropDownOption(e[0],r);var i=document.createElement("div");i.className="component-dropdownbox__triangle-btn",n.appendChild(i);var o=document.createElement("div");o.className="component-triangle-down-img",i.appendChild(o);var a={parentEle:n,dropDownContent:["component-dropdownbox__content component-dropdownbox__content--chart","dropDownContent"],scrollareaContent:"component-selecttool__scrollarea__content",optionsArr:e,triangleBtn:o,dropDownTopContainer:r};this._createDropDownBox(a),this.rootContainer=t}},{key:"_createDropDownBox",value:function(e){var t=e.parentEle,n=e.dropDownTopContainer,r=document.createElement("div");r.className=e.dropDownContent[0],t.appendChild(r);var i=document.createElement("div");i.className=e.scrollareaContent,r.appendChild(i);for(var o=e.optionsArr,a=0;a<o.length;a++)this._createDropDownOption(o[a],i);var s=e.triangleBtn;this._dropDownClickEvent(t,r,s),this._eleOnblur(t,r,s);for(var l=i.children,u=0;u<l.length;u++)!function(e){l[e].onclick=function(){n.innerHTML=l[e].outerHTML}}(u)}},{key:"_createDropDownOption",value:function(e,t){var n=document.createElement("div");n.className="component-dropdownbox__item";var r=e;r.dataValue&&n.setAttribute("data-value",r.dataValue),t.appendChild(n);var i=document.createElement("div");i.className="component-dropdownbox__item__img",n.appendChild(i);var o=document.createElement("div");r.icon.className&&(o.className=r.icon.className),r.icon.background&&(o.style.background=r.icon.background),i.appendChild(o);var a=document.createElement("div");a.className="component-dropdownbox__item__title",a.title=r.title,a.innerHTML=r.title,n.appendChild(a);var s=document.createElement("div");s.className="component-dropdownbox__item__remark",s.title=r.remark,s.innerHTML=r.remark,n.appendChild(s)}},{key:"_dropDownClickEvent",value:function(e,t,n){e.onclick=function(e){"block"===t.style.display?(t.style.display="none",n.className="component-triangle-down-img"):(t.style.display="block",n.className="triangle-up-img"),e.preventDefault(),e.stopPropagation()},e.onmousedown=function(e){e.target!==this&&(this.focus(),e.preventDefault(),e.stopPropagation())}}},{key:"_eleOnblur",value:function(e,t,n){e.onblur=function(){t.style.display="none",n.className="component-triangle-down-img"}}},{key:"_createElement",value:function(e,t,n){var r=document.createElement(e||"div");return t&&(r.className=t),n&&n.appendChild(r),r}}]),t}(H1);WW.Components.DropDownBox=W1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Y1=function(e){function t(e){var n;return Xz(this,t),e=e||{},n=$z(this,tV(t).call(this,e)),e.title=e.title?e.title:"",n._initView(e.title),n}return nV(t,e),Zz(t,[{key:"_initView",value:function(e){var t=document.createElement("div");t.setAttribute("class","component-popcontainer");var n=document.createElement("div");n.setAttribute("class","component-popcontainer__header");var r=document.createElement("label");r.setAttribute("class","component-popcontainer__header__title"),r.innerHTML=e,n.appendChild(r);var i=document.createElement("span");i.setAttribute("class","supermapol-icons-clear component-popcontainer__header__close"),i.onclick=this.closeView.bind(this),t.appendChild(i),t.appendChild(n);var o=document.createElement("div");o.setAttribute("class","component-popcontainer__content"),this.content=o,t.appendChild(o),this.rootContainer=t}},{key:"appendContent",value:function(e){this.content.appendChild(e)}}]),t}(H1);WW.Components.PopContainer=Y1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Q1=function(e){function t(e){var n;return oV(this,t),e.title=e.title?e.title:"å±æ§",n=lV(this,cV(t).call(this,e)),n.rootContainer.firstChild.hidden=!0,e.attributes=e.attributes?e.attributes:[],n._createAttributesTable(e.attributes),n}return fV(t,e),sV(t,[{key:"_createAttributesTable",value:function(e){var t=document.createElement("table");t.setAttribute("class","component-popcontainer__content__table");var n=document.createElement("tbody"),r=!0;for(var i in e){var o=document.createElement("tr");r&&o.setAttribute("class","component-popcontainer__content__td--color");var a=document.createElement("td"),s=document.createElement("Span");s.innerHTML=i,a.appendChild(s);var l=document.createElement("td");l.innerHTML=e[i],o.appendChild(a),o.appendChild(l),n.appendChild(o),r=!r}t.appendChild(n),this.appendContent(t)}}]),t}(Y1);WW.Components.AttributesPopContainer=Q1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var X1=function(e){function t(e){var n;return yV(this,t),n=vV(this,bV(t).call(this,e)),n._initView(),n}return SV(t,e),mV(t,[{key:"_initView",value:function(){var e=document.createElement("div");e.setAttribute("class","component-tabpage");var t=document.createElement("ul");this.header=t;var n=document.createElement("div");n.setAttribute("class","component-tabpage__content"),this.content=n,e.appendChild(t),e.appendChild(n),this.rootContainer=e}},{key:"setTabs",value:function(e){this.removeAllTabs(),this.appendTabs(e)}},{key:"appendTabs",value:function(e){for(var t=0;t<e.length;t++){var n=document.createElement("span");n.index=t,n.appendChild(document.createTextNode(e[t].title)),n.onclick=this._changeTabsPage.bind(this);var r=e[t].content;r.index=t,r.hidden=!0,this.header.appendChild(n),this.content.appendChild(r)}this.header.firstChild.setAttribute("class","on"),this.content.firstChild.hidden=!1}},{key:"removeTab",value:function(e){this.header.removeChild(this.header.children[e]),this.content.removeChild(this.content.children[e])}},{key:"removeAllTabs",value:function(){for(var e=this.header.children.length;e>0;e--)this.header.removeChild(this.header.children[e]),this.content.removeChild(this.content.children[e])}},{key:"_changeTabsPage",value:function(e){for(var t=e.target.index,n=0;n<this.header.children.length;n++)this.header.children[n].setAttribute("class",""),this.content.children[n].hidden=!0,n===t&&(this.header.children[n].setAttribute("class","on"),this.content.children[n].hidden=!1)}}]),t}(H1);WW.Components.IndexTabsPageContainer=X1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var K1=function(e){function t(e){var n;return OV(this,t),n=TV(this,EV(t).call(this,e)),n.rootContainer.classList.add("component-citytabpage--noneBoxShadow"),n.config=e.config,rQ.isArray(n.config)?(n.header.hidden=!0,n._createCityItem("åå¸",n.config),n.content.style.border="none"):(n._createTabs(),n.header.onclick=function(e){for(var t=0;t<n.header.children.length;t++)n.header.children[t].setAttribute("class","");e.target.setAttribute("class","on"),n._createCityContent(e.target.innerHTML)}),n}return kV(t,e),CV(t,[{key:"_createTabs",value:function(){if(rQ.isArray(this.config))for(var e=0;e<this.config.length;e++){var t="";for(var n in this.config[e])t+=n;var r=document.createElement("li");r.innerHTML=t,this.header.appendChild(r)}else for(var i in this.config){var o=document.createElement("li");o.innerHTML=i,this.header.appendChild(o)}this.header.firstChild.setAttribute("class","on"),this._createCityContent(this.header.firstChild.innerHTML)}},{key:"_createCityContent",value:function(e){for(var t=this.content.children.length;t>0;t--)this.content.removeChild(this.content.children[t-1]);var n=this.config[e];for(var r in n)this._createCityItem(r,n[r])}},{key:"_createCityItem",value:function(e,t){var n=document.createElement("div"),r=document.createElement("div");r.setAttribute("class","component-citytabpag__py-key"),r.innerHTML=e,n.appendChild(r);var i=document.createElement("div");i.setAttribute("class","component-citytabpag__content");for(var o=0;o<t.length;o++){var a=document.createElement("span");a.innerHTML=t[o],i.appendChild(a)}"HOT"===e&&(i.style.width="428px"),n.appendChild(i),this.content.appendChild(n)}}]),t}(X1);WW.Components.CityTabsPage=K1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Z1=function(e){function t(e){var n;return LV(this,t),n=NV(this,DV(t).call(this,e)),n.navTabsTitle=null,n.navTabsContent=null,e.tabs=e.tabs?e.tabs:[],n._initView(e.tabs),n}return FV(t,e),RV(t,[{key:"_initView",value:function(e){var t=document.createElement("div");t.setAttribute("class","component-navtabspage");var n=document.createElement("span");n.setAttribute("class","supermapol-icons-close"),n.onclick=this.closeView.bind(this),t.appendChild(n);var r=document.createElement("div");this.navTabsTitle=r,r.setAttribute("class","component-navtabspage__title"),t.appendChild(r);var i=document.createElement("div");this.navTabsContent=i,i.setAttribute("class","component-navtabspage__content"),t.appendChild(i),e.length>0&&this.appendTabs(e),this.rootContainer=t}},{key:"setTabs",value:function(e){this.removeAllTabs(),this.appendTabs(e)}},{key:"appendTabs",value:function(e){for(var t=0;t<e.length;t++){var n=document.createElement("span");n.index=t,n.appendChild(document.createTextNode(e[t].title)),n.onclick=this._changeTabsPage.bind(this);var r=e[t].content;r.index=t,r.hidden=!0,this.navTabsTitle.appendChild(n),this.navTabsContent.appendChild(r)}this.navTabsTitle.firstChild.setAttribute("class","component-navtabspage__tabs--select"),this.navTabsContent.firstChild.hidden=!1}},{key:"removeTab",value:function(e){this.navTabsTitle.removeChild(this.navTabsTitle.children[e]),this.navTabsContent.removeChild(this.navTabsContent.children[e])}},{key:"removeAllTabs",value:function(){for(var e=this.navTabsTitle.children.length;e>0;e--)this.navTabsTitle.removeChild(this.navTabsTitle.children[e]),this.navTabsContent.removeChild(this.navTabsContent.children[e])}},{key:"_changeTabsPage",value:function(e){for(var t=e.target.index,n=0;n<this.navTabsTitle.children.length;n++)this.navTabsTitle.children[n].setAttribute("class",""),this.navTabsContent.children[n].hidden=!0,n===t&&(this.navTabsTitle.children[n].setAttribute("class","component-navtabspage__tabs--select"),this.navTabsContent.children[n].hidden=!1)}}]),t}(H1);WW.Components.NavTabsPage=Z1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var $1=function(e){function t(e){var n;return GV(this,t),e=e||{},n=HV(this,qV(t).call(this,e)),n.currentPage=0,n.pageNumberLis=[],n.currentPageNumberLis=[],n.linkageEvent=null,e.contents=e.contents?e.contents:null,e.pageCounts=e.pageCounts?e.pageCounts:0,n._initView(e.contents,e.pageCounts),n}return WV(t,e),VV(t,[{key:"setLinkageEvent",value:function(e){this.linkageEvent=e}},{key:"_initView",value:function(e,t){var n=document.createElement("div");n.setAttribute("class","component-pagination");var r=document.createElement("div");r.setAttribute("class","component-pagination__content"),n.appendChild(r),this.content=r;var i=document.createElement("ul");i.setAttribute("class","component-pagination__link"),i.onclick=this._changePageEvent.bind(this),n.appendChild(i),this._createLink(i),this.link=i,e&&this.setContent(e),0!==t&&this.setPageLink(t),this.rootContainer=n}},{key:"setContent",value:function(e){this.clearContent(),this.appendContent(e)}},{key:"appendContent",value:function(e){this.content.appendChild(e)}},{key:"clearContent",value:function(){for(var e=this.content.children.length-1;e>=0;e--)this.content.removeChild(this.content.children[e])}},{key:"setPageLink",value:function(e){this.pageNumberLis=[],this.currentPageNumberLis=[],this.clearPageLink(),this._createPageLi(e),this._appendPageLink()}},{key:"_createPageLi",value:function(e){for(var t=0;t<e;t++){var n=document.createElement("li");n.innerHTML=t+1,this.pageNumberLis.push(n)}if(this.pageNumberLis[0].setAttribute("class","active"),this.currentPage=1,e<5)this.currentPageNumberLis=this.pageNumberLis;else for(var r=0;r<5;r++)this.currentPageNumberLis.push(this.pageNumberLis[r])}},{key:"_appendPageLink",value:function(){for(var e=0;e<this.currentPageNumberLis.length;e++)this.link.insertBefore(this.currentPageNumberLis[e],this.link.childNodes[this.link.children.length-2]);for(var t=0;t<this.currentPageNumberLis.length;t++)this.currentPageNumberLis[t].setAttribute("class",""),Number(this.currentPageNumberLis[t].innerHTML)===this.currentPage&&this.currentPageNumberLis[t].setAttribute("class","active");this._changeDisableState(),this.linkageEvent&&this.linkageEvent(this.currentPage)}},{key:"clearPageLink",value:function(){for(var e=this.link.children.length-3;e>1;e--)this.link.removeChild(this.link.children[e])}},{key:"_createLink",value:function(e){for(var t=0;t<4;t++){var n=document.createElement("li");n.setAttribute("class","disable");var r=document.createElement("span");n.appendChild(r),0===t?(r.id="first",r.setAttribute("class","supermapol-icons-first")):1===t?(r.id="prev",r.setAttribute("class","supermapol-icons-prev")):2===t?(r.id="next",r.setAttribute("class","supermapol-icons-next")):3===t&&(r.id="last",r.setAttribute("class","supermapol-icons-last")),e.appendChild(n)}}},{key:"_changePageEvent",value:function(e){var t=e.target;if("disable"!==t.parentElement.classList[0]){var n;if(t.id)n=t.id;else{if(!Number(t.innerHTML))return;n=Number(t.innerHTML)}this._prePageNum(n),this.clearPageLink(),this._appendPageLink()}}},{key:"_changeDisableState",value:function(){this.link.children[0].setAttribute("class",""),this.link.children[1].setAttribute("class",""),this.link.children[this.link.children.length-1].setAttribute("class",""),this.link.children[this.link.children.length-2].setAttribute("class",""),1===this.currentPage&&(this.link.children[0].setAttribute("class","disable"),this.link.children[1].setAttribute("class","disable")),this.currentPage===this.pageNumberLis.length&&(this.link.children[this.link.children.length-1].setAttribute("class","disable"),this.link.children[this.link.children.length-2].setAttribute("class","disable"))}},{key:"_prePageNum",value:function(e){var t=[];if(this.currentPage="first"===e?1:"last"===e?this.pageNumberLis.length:"prev"===e?this.currentPage-1:"next"===e?this.currentPage+1:e,this.pageNumberLis.length<=5)for(var n=0;n<this.pageNumberLis.length;n++)t.push(this.pageNumberLis[n]);else if(this.currentPage<=3)for(var r=0;r<5;r++)t.push(this.pageNumberLis[r]);else if(this.currentPage>=this.pageNumberLis.length-3)for(var i=this.pageNumberLis.length-5;i<this.pageNumberLis.length;i++)t.push(this.pageNumberLis[i]);else for(var o=this.currentPage-3;o<=this.currentPage+1;o++)t.push(this.pageNumberLis[o]);t.length>0&&(this.currentPageNumberLis=t)}}]),t}(H1);WW.Components.PaginationContainer=$1;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var e2={getFileType:function(e){var t=/^.*\.(?:csv)$/i,n=/^.*\.(?:xls|xlsx)$/i,r=/^.*\.(?:geojson|json)$/i;return n.test(e)?A1.EXCEL:t.test(e)?A1.CSV:r.test(e)?A1.GEOJSON:null}},t2={title_dataFlowService:"Data Flow Service",title_distributedAnalysis:"Distributed Analysis",title_clientComputing:"Client Computing",title_dataServiceQuery:"Data Service Query",title_searchCity:"Search city",title_searchLayer:" Search layer",text_input_value_inputDataFlowUrl:"Please enter the data stream service address such as: ws://{serviceRoot}/{dataFlowName}/dataflow/subscribe",text_displayFeaturesInfo:"Display feature information",text_subscribe:"subscribe",text_cancelSubscribe:"unsubscribe",text_densityAnalysis:"Density Analysis",text_CalculateTheValuePerUnitArea:"Calculate the value per unit area within the neighborhood shape",text_option_selectDataset:"Please select a dataset",text_label_dataset:"Dataset",text_option_simplePointDensityAnalysis:"Simple point density analysis",text_option_nuclearDensityAnalysis:"Nuclear density analysis",text_label_analyticalMethod:"Analytical method",text_option_quadrilateral:"Quadrilateral",text_option_hexagon:"hexagon",text_label_meshType:"Mesh type",text_option_notSet:"Not set",text_label_weightField:"Weight field",text_label_gridSizeInMeters:"Grid size",text_label_searchRadius:"Search radius",text_label_queryRange:"Scope of analysis",text_label_areaUnit:"Area unit",text_option_equidistantSegmentation:"Equidistant segmentation",text_option_logarithm:"Logarithm",text_option_equalCountingSegment:"Equal counting segment",text_option_squareRootSegmentation:"Square root segmentation",text_label_thematicMapSegmentationMode:"Thematic map segmentation mode",text_label_thematicMapSegmentationParameters:"Thematic map segmentation parameters",text_option_greenOrangePurpleGradient:"Green orange purple gradient",text_option_greenOrangeRedGradient:"Green orange red gradient",text_option_rainbowGradient:"Rainbow gradient",text_option_spectralGradient:"Spectral gradient",text_option_terrainGradient:"Terrain gradient",text_label_thematicMapColorGradientMode:"Thematic map color gradient mode",text_label_resultLayerName:"Result layer name",text_chooseFile:"Open File",text_isoline:"Isoline",text_extractDiscreteValue:"Extract discrete value generation curve",text_buffer:"Buffer",text_specifyTheDistance:"Specify the distance to create the surrounding area",text_label_analysisLayer:"Analysis layer",text_label_extractField:"Extract field",text_label_extractedValue:"Extracted value",text_label_distanceAttenuation:"Distance attenuation",text_label_gridSize:"gridSize",text_label_bufferRadius:"Buffer radius",text_label_defaultkilometers:"Default 10 kilometers",text_label_kilometer:"kilometer",text_label_unit:"unit",text_retainOriginal:"Retain original object field",text_mergeBuffer:"Merge buffer",text_label_color:"Color",text_label_buffer:"[Buffer]",text_label_isolines:"[Isolines]",text_label_queryRangeTips:"The default is the full range of input data. Example: -74.050, 40.650, -73.850, 40.850",text_label_queryModel:"Query mode",text_label_IDArrayOfFeatures:"ID array of features",text_label_maxFeatures:"The maximum number of features that can be returned",text_label_bufferDistance:"Buffer distance",text_label_queryRange1:"Query range",text_label_spatialQueryMode:"Spatial query mode",text_label_featureFilter:"Feature filter",text_label_geometricObject:"Geometric object",text_label_queryMode:"Query mode",text_label_searchTips:"Search for city locations or layer features",text_label_chooseSearchLayers:"Select a query layer",text_loadSearchCriteria:"Load search criteria",text_saveSearchCriteria:"Save search criteria",btn_analyze:"Analyze",btn_analyzing:"Analyzing",btn_emptyTheAnalysisLayer:"Empty the analysis layer",btn_cancelAnalysis:"Cancel",btn_query:"Query",btn_querying:"Querying",btn_emptyTheRresultLayer:"Clear all result layers","msg_dataReturnedIsEmpty.":"The request is successful and the data returned by the query is empty.",msg_dataFlowServiceHasBeenSubscribed:"The data stream service has been subscribed to.",msg_inputDataFlowUrlFirst:"Please enter the data stream service address first.",msg_datasetOrMethodUnsupport:"This dataset does not support this analysis type. Please reselect the dataset.",msg_selectDataset:"Please select a data set!",msg_setTheWeightField:"Please set the weight field!",msg_theFieldNotSupportAnalysis:"The field you currently select does not support analysis!",msg_resultIsEmpty:"The result of the analysis is empty!",msg_openFileFail:"Failed to open file!",msg_fileTypeUnsupported:"File format is not supported!",msg_fileSizeExceeded:"File size exceeded! The file size should not exceed 10M!",msg_dataInWrongGeoJSONFormat:"Wrong data format! Non standard GEOJSON format data!",msg_dataInWrongFormat:"Wrong data format! Non standard EXCEL, CSV or GEOJSON format data!",msg_searchKeywords:"Search keywords cannot be empty. Please enter your search criteria.",msg_searchGeocodeField:"Did not match the address matching service data!",msg_cityGeocodeField:"The address matching service of the current city is not configured.",msg_getFeatureField:"No related vector features found!",msg_dataflowservicesubscribed:"The data stream service has been subscribed to.",msg_subscribesucceeded:"The data stream service subscription was successful.",msg_crsunsupport:"Does not support the coordinate system of the current map",msg_tilematrixsetunsupport:"Incoming TileMatrixSet is not supported",msg_jsonResolveFiled:"JSON format parsing failureï¼",msg_requestContentFiled:"Failed to request data through iportal!",msg_getdatafailed:"Failed to get data!"};WW.Lang["en-US"]=t2;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var n2={title_dataFlowService:"æ°æ®æµæå¡",title_distributedAnalysis:"åå¸å¼åæ",title_clientComputing:"å®¢æ·ç«¯è®¡ç®",title_dataServiceQuery:"æ°æ®æå¡æ¥è¯¢",title_searchCity:"æç´¢åå¸",title_searchLayer:"æç´¢å¾å±",text_input_value_inputDataFlowUrl:"è¯·è¾å¥æ°æ®æµæå¡å°åå¦:ws://{serviceRoot}/{dataFlowName}/dataflow/subscribe",text_displayFeaturesInfo:"æ¾ç¤ºè¦ç´ ä¿¡æ¯",text_subscribe:"è®¢é",text_cancelSubscribe:"åæ¶è®¢é",text_densityAnalysis:"å¯åº¦åæ",text_CalculateTheValuePerUnitArea:"è®¡ç®ç¹æå®é»åå½¢ç¶åçæ¯åä½é¢ç§¯éå¼",text_option_selectDataset:"è¯·éæ©æ°æ®é",text_label_dataset:"æ°æ®é",text_option_simplePointDensityAnalysis:"ç®åç¹å¯åº¦åæ",text_option_nuclearDensityAnalysis:"æ ¸å¯åº¦åæ",text_label_analyticalMethod:"åææ¹æ³",text_option_quadrilateral:"åè¾¹å½¢",text_option_hexagon:"å­è¾¹å½¢",text_label_meshType:"ç½æ ¼é¢ç±»å",text_option_notSet:"æªè®¾ç½®",text_label_weightField:"æéå­æ®µ",text_label_gridSizeInMeters:"ç½æ ¼å¤§å°",text_label_searchRadius:"æç´¢åå¾",text_label_queryRange:"åæèå´",text_label_areaUnit:"é¢ç§¯åä½",text_option_equidistantSegmentation:"ç­è·ç¦»åæ®µ",text_option_logarithm:"å¯¹æ°",text_option_equalCountingSegment:"ç­è®¡æ°åæ®µ",text_option_squareRootSegmentation:"å¹³æ¹æ ¹åæ®µ",text_label_thematicMapSegmentationMode:"ä¸é¢å¾åæ®µæ¨¡å¼",text_label_thematicMapSegmentationParameters:"ä¸é¢å¾åæ®µåæ°",text_option_greenOrangePurpleGradient:"ç»¿æ©ç´«æ¸å",text_option_greenOrangeRedGradient:"ç»¿æ©çº¢æ¸å",text_option_rainbowGradient:"å½©è¹æ¸å",text_option_spectralGradient:"åè°±æ¸å",text_option_terrainGradient:"å°å½¢æ¸å",text_label_thematicMapColorGradientMode:"ä¸é¢å¾é¢è²æ¸åæ¨¡å¼",text_label_resultLayerName:"ç»æå¾å±åç§°",text_chooseFile:"éæ©æä»¶",text_isoline:"ç­å¼çº¿",text_extractDiscreteValue:"æåç¦»æ£å¼çææ²çº¿",text_buffer:"ç¼å²åº",text_specifyTheDistance:"æå®è·ç¦»åå»ºå¨è¾¹åºå",text_label_analysisLayer:"åæå¾å±",text_label_extractField:"æåå­æ®µ",text_label_extractedValue:"æåå¼",text_label_distanceAttenuation:"è·ç¦»è¡°å",text_label_gridSize:"æ æ ¼å¤§å°",text_label_bufferRadius:"ç¼å²åå¾",text_label_defaultkilometers:"é»è®¤10åç±³",text_option_kilometer:"åç±³",text_label_unit:"åä½",text_retainOriginal:"ä¿çåå¯¹è±¡å­æ®µå±æ§",text_mergeBuffer:"åå¹¶ç¼å²åº",text_label_color:"é¢è²",text_label_buffer:"[ç¼å²åº]",text_label_isolines:"[ç­å¼çº¿]",text_label_queryRangeTips:"é»è®¤ä¸ºè¾å¥æ°æ®çå¨å¹èå´ãèä¾ï¼-74.050,40.650,-73.850,40.850",text_label_IDArrayOfFeatures:"è¦ç´  ID æ°ç»",text_label_maxFeatures:"æå¤å¯è¿åçè¦ç´ æ°é",text_label_bufferDistance:"ç¼å²åºè·ç¦»",text_label_queryRange1:"æ¥è¯¢èå´",text_label_spatialQueryMode:"ç©ºé´æ¥è¯¢æ¨¡å¼",text_label_featureFilter:"è¦ç´ è¿æ»¤å¨",text_label_geometricObject:"å ä½å¯¹è±¡",text_label_queryMode:"æ¥è¯¢æ¨¡å¼",text_label_searchTips:"æç´¢åå¸å°ç¹æå¾å±è¦ç´ ",text_label_chooseSearchLayers:"éæ©æ¥è¯¢å¾å±",text_loadSearchCriteria:"å è½½æç´¢æ¡ä»¶",text_saveSearchCriteria:"ä¿å­æç´¢æ¡ä»¶",btn_analyze:"åæ",btn_analyzing:"åæä¸­",btn_emptyTheAnalysisLayer:"æ¸ç©ºåæå¾å±",btn_cancelAnalysis:"åæ¶",btn_query:"æ¥è¯¢",btn_querying:"æ¥è¯¢ä¸­",btn_emptyTheRresultLayer:"æ¸é¤ææç»æå¾å±",msg_dataFlowServiceHasBeenSubscribed:"å·²è®¢éè¯¥æ°æ®æµæå¡ã",msg_inputDataFlowUrlFirst:"è¯·åè¾å¥æ°æ®æµæå¡å°åã",msg_datasetOrMethodUnsupport:"è¯¥æ°æ®éä¸æ¯ææ¬åæç±»åï¼è¯·éæ°éæ©æ°æ®é",msg_selectDataset:"è¯·éæ©æ°æ®éï¼",msg_setTheWeightField:"è¯·è®¾ç½®æéå­æ®µï¼",msg_theFieldNotSupportAnalysis:"æ¨å½åéæ©çå­æ®µä¸æ¯æåæï¼",msg_resultIsEmpty:"åæçç»æä¸ºç©ºï¼",msg_dataReturnedIsEmpty:"è¯·æ±æåï¼æ¥è¯¢è¿åçæ°æ®ä¸ºç©ºã",msg_openFileFail:"æå¼æä»¶å¤±è´¥ï¼",msg_fileTypeUnsupported:"ä¸æ¯æè¯¥æä»¶æ ¼å¼ï¼",msg_fileSizeExceeded:"æä»¶å¤§å°è¶éï¼æä»¶å¤§å°ä¸å¾è¶è¿ 10Mï¼",msg_dataInWrongGeoJSONFormat:"æ°æ®æ ¼å¼éè¯¯ï¼éæ åç GEOJSON æ ¼å¼æ°æ®ï¼",msg_dataInWrongFormat:"æ°æ®æ ¼å¼éè¯¯ï¼éæ åç EXCEL, CSV æ GEOJSON æ ¼å¼æ°æ®ï¼",msg_searchKeywords:"æç´¢å³é®å­ä¸è½ä¸ºç©ºï¼è¯·è¾å¥æç´¢æ¡ä»¶ã",msg_searchGeocodeField:"æªå¹éå°å°åå¹éæå¡æ°æ®ï¼",msg_cityGeocodeField:"æªéç½®å½ååå¸çå°åå¹éæå¡ã",msg_getFeatureField:"æªæ¥æ¾å°ç¸å³ç¢éè¦ç´ ï¼",msg_dataflowservicesubscribed:"å·²è®¢éè¯¥æ°æ®æµæå¡ã",msg_subscribesucceeded:"æ°æ®æµæå¡è®¢éæåã",msg_crsunsupport:"ä¸æ¯æå½åå°å¾çåæ ç³»",msg_tilematrixsetunsupport:"ä¸æ¯æä¼ å¥çTileMatrixSet",msg_jsonResolveFiled:"jsonæ ¼å¼è§£æå¤±è´¥ï¼",msg_requestContentFiled:"éè¿iportalè¯·æ±æ°æ®å¤±è´¥ï¼",msg_getdatafailed:"è·åæ°æ®å¤±è´¥ï¼"};WW.Lang["zh-CN"]=n2;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var r2=n(0),i2=n.n(r2);/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
i2.a.Projection={};var o2=i2.a.Class.extend({initialize:function(e){this.bounds=e},project:function(e){return new i2.a.Point(e.lng,e.lat)},unproject:function(e){return new i2.a.LatLng(e.y,e.x)}}),a2=function(e){return new o2(e)},s2=i2.a.Class.extend({includes:i2.a.CRS,initialize:function(e){e.origin&&(this.transformation=new i2.a.Transformation(1,-e.origin.x,-1,e.origin.y)),this.projection=i2.a.Projection.NonProjection(e.bounds),this.bounds=e.bounds,this.origin=e.origin,this.resolutions=e.resolutions},scale:function(e){if(!this.resolutions||0===this.resolutions.length){return 1/(Math.max(this.bounds.getSize().x,this.bounds.getSize().y)/256)*Math.pow(2,e)}return 1/this.resolutions[e]},zoom:function(e){if(!this.resolutions||0===this.resolutions.length){var t=Math.max(this.bounds.getSize().x,this.bounds.getSize().y),n=1/(t/256);return Math.log(e/n)/Math.LN2}for(var r=0;r<this.resolutions.length;r++)if(1/this.resolutions[r]==e)return r;return-1},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!1}),l2=function(e){return new s2(e)};i2.a.Projection.NonProjection=a2,i2.a.CRS.NonEarthCRS=l2;var u2=1,c2=2,f2=4,h2=5,p2=484813681109536e-20,y2=Math.PI/2,d2=.16666666666666666,m2=.04722222222222222,v2=.022156084656084655,g2=1e-10,b2=.017453292519943295,S2=57.29577951308232,_2=Math.PI/4,w2=2*Math.PI,O2=3.14159265359,x2={};x2.greenwich=0,x2.lisbon=-9.131906111111,x2.paris=2.337229166667,x2.bogota=-74.080916666667,x2.madrid=-3.687938888889,x2.rome=12.452333333333,x2.bern=7.439583333333,x2.jakarta=106.807719444444,x2.ferro=-17.666666666667,x2.brussels=4.367975,x2.stockholm=18.058277777778,x2.athens=23.7163375,x2.oslo=10.722916666667;var C2={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},T2=/[\s_\-\/\(\)]/g,P2=function(e){var t,n,r,i={},o=e.split("+").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n=t.split("=");return n.push(!0),e[n[0].toLowerCase()]=n[1],e},{}),a={proj:"projName",datum:"datumCode",rf:function(e){i.rf=parseFloat(e)},lat_0:function(e){i.lat0=e*b2},lat_1:function(e){i.lat1=e*b2},lat_2:function(e){i.lat2=e*b2},lat_ts:function(e){i.lat_ts=e*b2},lon_0:function(e){i.long0=e*b2},lon_1:function(e){i.long1=e*b2},lon_2:function(e){i.long2=e*b2},alpha:function(e){i.alpha=parseFloat(e)*b2},lonc:function(e){i.longc=e*b2},x_0:function(e){i.x0=parseFloat(e)},y_0:function(e){i.y0=parseFloat(e)},k_0:function(e){i.k0=parseFloat(e)},k:function(e){i.k0=parseFloat(e)},a:function(e){i.a=parseFloat(e)},b:function(e){i.b=parseFloat(e)},r_a:function(){i.R_A=!0},zone:function(e){i.zone=parseInt(e,10)},south:function(){i.utmSouth=!0},towgs84:function(e){i.datum_params=e.split(",").map(function(e){return parseFloat(e)})},to_meter:function(e){i.to_meter=parseFloat(e)},units:function(e){i.units=e;var t=QV(C2,e);t&&(i.to_meter=t.to_meter)},from_greenwich:function(e){i.from_greenwich=e*b2},pm:function(e){var t=QV(x2,e);i.from_greenwich=(t||parseFloat(e))*b2},nadgrids:function(e){"@null"===e?i.datumCode="none":i.nadgrids=e},axis:function(e){var t="ewnsud";3===e.length&&-1!==t.indexOf(e.substr(0,1))&&-1!==t.indexOf(e.substr(1,1))&&-1!==t.indexOf(e.substr(2,1))&&(i.axis=e)}};for(t in o)n=o[t],t in a?(r=a[t],"function"==typeof r?r(n):i[r]=n):i[t]=n;return"string"==typeof i.datumCode&&"WGS84"!==i.datumCode&&(i.datumCode=i.datumCode.toLowerCase()),i},E2=KV,k2=1,M2=/\s/,A2=/[A-Za-z]/,L2=/[A-Za-z84]/,j2=/[,\]]/,R2=/[\d\.E\-\+]/;XV.prototype.readCharicter=function(){var e=this.text[this.place++];if(4!==this.state)for(;M2.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case k2:return this.neutral(e);case 2:return this.keyword(e);case 4:return this.quoted(e);case 5:return this.afterquote(e);case 3:return this.number(e);case-1:return}},XV.prototype.afterquote=function(e){if('"'===e)return this.word+='"',void(this.state=4);if(j2.test(e))return this.word=this.word.trim(),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in afterquote yet, index '+this.place)},XV.prototype.afterItem=function(e){return","===e?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=k2)):"]"===e?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=k2,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},XV.prototype.number=function(e){if(R2.test(e))return void(this.word+=e);if(j2.test(e))return this.word=parseFloat(this.word),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in number yet, index '+this.place)},XV.prototype.quoted=function(e){if('"'===e)return void(this.state=5);this.word+=e},XV.prototype.keyword=function(e){if(L2.test(e))return void(this.word+=e);if("["===e){var t=[];return t.push(this.word),this.level++,null===this.root?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,void(this.state=k2)}if(j2.test(e))return void this.afterItem(e);throw new Error("havn't handled \""+e+'" in keyword yet, index '+this.place)},XV.prototype.neutral=function(e){if(A2.test(e))return this.word=e,void(this.state=2);if('"'===e)return this.word="",void(this.state=4);if(R2.test(e))return this.word=e,void(this.state=3);if(j2.test(e))return void this.afterItem(e);throw new Error("havn't handled \""+e+'" in neutral yet, index '+this.place)},XV.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var N2=.017453292519943295,I2=function(e){var t=E2(e),n=t.shift(),r=t.shift();t.unshift(["name",r]),t.unshift(["type",n]);var i={};return $V(t,i),rH(i),i};!function(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}(iH);var D2=iH,F2=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],B2=["3857","900913","3785","102113"],U2=fH,G2=function(e,t){e=e||{};var n,r;if(!t)return e;for(r in t)void 0!==(n=t[r])&&(e[r]=n);return e},z2=function(e,t,n){var r=e*t;return n/Math.sqrt(1-r*r)},V2=function(e){return e<0?-1:1},H2=function(e){return Math.abs(e)<=O2?e:e-V2(e)*w2},J2=function(e,t,n){var r=e*n,i=.5*e;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(y2-t))/r},q2=function(e,t){for(var n,r,i=.5*e,o=y2-2*Math.atan(t),a=0;a<=15;a++)if(n=e*Math.sin(o),r=y2-2*Math.atan(t*Math.pow((1-n)/(1+n),i))-o,o+=r,Math.abs(r)<=1e-10)return o;return-9999},W2=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],Y2={init:hH,forward:pH,inverse:yH,names:W2},Q2=["longlat","identity"],X2={init:dH,forward:mH,inverse:mH,names:Q2},K2=[Y2,X2],Z2={},$2=[],e3={start:bH,add:vH,get:gH},t3={};t3.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},t3.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},t3.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},t3.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},t3.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},t3.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},t3.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},t3.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},t3.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},t3.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},t3.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},t3.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},t3.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},t3.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},t3.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},t3.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},t3.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},t3.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},t3.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},t3.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},t3.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},t3.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},t3.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},t3.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},t3.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},t3.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},t3.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},t3.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},t3.hough={a:6378270,rf:297,ellipseName:"Hough"},t3.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},t3.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},t3.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},t3.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},t3.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},t3.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},t3.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},t3.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},t3.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},t3.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},t3.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},t3.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var n3=t3.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};t3.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var r3={};r3.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},r3.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},r3.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},r3.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},r3.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},r3.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},r3.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},r3.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},r3.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},r3.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},r3.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},r3.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},r3.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},r3.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},r3.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},r3.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},r3.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var i3=wH;xH.projections=e3,xH.projections.start();var o3=xH,a3=function(e,t,n){return CH(e,t)?n:e.datum_type===h2||t.datum_type===h2?n:e.es!==t.es||e.a!==t.a||MH(e.datum_type)||MH(t.datum_type)?(n=TH(n,e.es,e.a),MH(e.datum_type)&&(n=EH(n,e.datum_type,e.datum_params)),MH(t.datum_type)&&(n=kH(n,t.datum_type,t.datum_params)),PH(n,t.es,t.a,t.b)):n},s3=function(e,t,n){var r,i,o,a=n.x,s=n.y,l=n.z||0,u={};for(o=0;o<3;o++)if(!t||2!==o||void 0!==n.z)switch(0===o?(r=a,i="x"):1===o?(r=s,i="y"):(r=l,i="z"),e.axis[o]){case"e":u[i]=r;break;case"w":u[i]=-r;break;case"n":u[i]=r;break;case"s":u[i]=-r;break;case"u":void 0!==n[i]&&(u.z=r);break;case"d":void 0!==n[i]&&(u.z=-r);break;default:return null}return u},l3=function(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t},u3=function(e){AH(e.x),AH(e.y)},c3=o3("WGS84"),f3=IH,h3=6,p3="AJSAJS",y3="AFAFAF",d3=65,m3=73,v3=79,g3=86,b3=90,S3={forward:DH,inverse:FH,toPoint:BH};eJ.fromMGRS=function(e){return new eJ(BH(e))},eJ.prototype.toMGRS=function(e){return DH([this.x,this.y],e)};var _3=eJ,w3=.01068115234375,O3=function(e){var t=[];t[0]=1-e*(.25+e*(.046875+e*(.01953125+e*w3))),t[1]=e*(.75-e*(.046875+e*(.01953125+e*w3)));var n=e*e;return t[2]=n*(.46875-e*(.013020833333333334+.007120768229166667*e)),n*=e,t[3]=n*(.3645833333333333-.005696614583333333*e),t[4]=n*e*.3076171875,t},x3=function(e,t,n,r){return n*=t,t*=t,r[0]*e-n*(r[1]+t*(r[2]+t*(r[3]+t*r[4])))},C3=function(e,t,n){for(var r=1/(1-t),i=e,o=20;o;--o){var a=Math.sin(i),s=1-t*a*a;if(s=(x3(i,a,Math.cos(i),n)-e)*(s*Math.sqrt(s))*r,i-=s,Math.abs(s)<g2)return i}return i},T3=["Transverse_Mercator","Transverse Mercator","tmerc"],P3={init:tJ,forward:nJ,inverse:rJ,names:T3},E3=function(e){var t=Math.exp(e);return t=(t-1/t)/2},k3=function(e,t){e=Math.abs(e),t=Math.abs(t);var n=Math.max(e,t),r=Math.min(e,t)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))},M3=function(e){var t=1+e,n=t-1;return 0===n?e:e*Math.log(t)/n},A3=function(e){var t=Math.abs(e);return t=M3(t*(1+t/(k3(1,t)+1))),e<0?-t:t},L3=function(e,t){for(var n,r=2*Math.cos(2*t),i=e.length-1,o=e[i],a=0;--i>=0;)n=r*o-a+e[i],a=o,o=n;return t+n*Math.sin(2*t)},j3=function(e,t){for(var n,r=2*Math.cos(t),i=e.length-1,o=e[i],a=0;--i>=0;)n=r*o-a+e[i],a=o,o=n;return Math.sin(t)*n},R3=function(e){var t=Math.exp(e);return t=(t+1/t)/2},N3=function(e,t,n){for(var r,i,o=Math.sin(t),a=Math.cos(t),s=E3(n),l=R3(n),u=2*a*l,c=-2*o*s,f=e.length-1,h=e[f],p=0,y=0,d=0;--f>=0;)r=y,i=p,y=h,p=d,h=u*y-r-c*p+e[f],d=c*y-i+u*p;return u=o*l,c=a*s,[u*h-c*d,u*d+c*h]},I3=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"],D3={init:iJ,forward:oJ,inverse:aJ,names:I3},F3=function(e,t){if(void 0===e){if((e=Math.floor(30*(H2(t)+Math.PI)/Math.PI)+1)<0)return 0;if(e>60)return 60}return e},B3=["Universal Transverse Mercator System","utm"],U3={init:sJ,names:B3,dependsOn:"etmerc"},G3=function(e,t){return Math.pow((1-e)/(1+e),t)},z3=20,V3=["gauss"],H3={init:lJ,forward:uJ,inverse:cJ,names:V3},J3=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"],q3={init:fJ,forward:hJ,inverse:pJ,names:J3},W3=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],Y3={init:dJ,forward:mJ,inverse:vJ,names:W3,ssfn_:yJ},Q3=["somerc"],X3={init:gJ,forward:bJ,inverse:SJ,names:Q3},K3=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"],Z3={init:_J,forward:wJ,inverse:OJ,names:K3},$3=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"],e5={init:xJ,forward:CJ,inverse:TJ,names:$3},t5=["Krovak","krovak"],n5={init:PJ,forward:EJ,inverse:kJ,names:t5},r5=function(e,t,n,r,i){return e*i-t*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)},i5=function(e){return 1-.25*e*(1+e/16*(3+1.25*e))},o5=function(e){return.375*e*(1+.25*e*(1+.46875*e))},a5=function(e){return.05859375*e*e*(1+.75*e)},s5=function(e){return e*e*e*(35/3072)},l5=function(e,t,n){var r=t*n;return e/Math.sqrt(1-r*r)},u5=function(e){return Math.abs(e)<y2?e:e-V2(e)*Math.PI},c5=function(e,t,n,r,i){var o,a;o=e/t;for(var s=0;s<15;s++)if(a=(e-(t*o-n*Math.sin(2*o)+r*Math.sin(4*o)-i*Math.sin(6*o)))/(t-2*n*Math.cos(2*o)+4*r*Math.cos(4*o)-6*i*Math.cos(6*o)),o+=a,Math.abs(a)<=1e-10)return o;return NaN},f5=["Cassini","Cassini_Soldner","cass"],h5={init:MJ,forward:AJ,inverse:LJ,names:f5},p5=function(e,t){var n;return e>1e-7?(n=e*t,(1-e*e)*(t/(1-n*n)-.5/e*Math.log((1-n)/(1+n)))):2*t},y5=.3333333333333333,d5=.17222222222222222,m5=.10257936507936508,v5=.06388888888888888,g5=.0664021164021164,b5=.016415012942191543,S5=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],_5={init:jJ,forward:RJ,inverse:NJ,names:S5,S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},w5=function(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)},O5=["Albers_Conic_Equal_Area","Albers","aea"],x5={init:FJ,forward:BJ,inverse:UJ,names:O5,phi1z:GJ},C5=["gnom"],T5={init:zJ,forward:VJ,inverse:HJ,names:C5},P5=function(e,t){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-n)<1e-6)return t<0?-1*y2:y2;for(var r,i,o,a,s=Math.asin(.5*t),l=0;l<30;l++)if(i=Math.sin(s),o=Math.cos(s),a=e*i,r=Math.pow(1-a*a,2)/(2*o)*(t/(1-e*e)-i/(1-a*a)+.5/e*Math.log((1-a)/(1+a))),s+=r,Math.abs(r)<=1e-10)return s;return NaN},E5=["cea"],k5={init:JJ,forward:qJ,inverse:WJ,names:E5},M5=["Equirectangular","Equidistant_Cylindrical","eqc"],A5={init:YJ,forward:QJ,inverse:XJ,names:M5},L5=20,j5=["Polyconic","poly"],R5={init:KJ,forward:ZJ,inverse:$J,names:j5},N5=["New_Zealand_Map_Grid","nzmg"],I5={init:eq,forward:tq,inverse:nq,names:N5},D5=["Miller_Cylindrical","mill"],F5={init:rq,forward:iq,inverse:oq,names:D5},B5=20,U5=["Sinusoidal","sinu"],G5={init:aq,forward:sq,inverse:lq,names:U5},z5=["Mollweide","moll"],V5={init:uq,forward:cq,inverse:fq,names:z5},H5=["Equidistant_Conic","eqdc"],J5={init:hq,forward:pq,inverse:yq,names:H5},q5=["Van_der_Grinten_I","VanDerGrinten","vandg"],W5={init:dq,forward:mq,inverse:vq,names:q5},Y5=["Azimuthal_Equidistant","aeqd"],Q5={init:gq,forward:bq,inverse:Sq,names:Y5},X5=["ortho"],K5={init:_q,forward:wq,inverse:Oq,names:X5},Z5={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},$5={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4},e8=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"],t8={init:xq,forward:Cq,inverse:Tq,names:e8},n8=[[1,2.2199e-17,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],r8=[[-5.20417e-18,.0124,1.21431e-18,-8.45284e-11],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],i8=.8487,o8=1.3523,a8=S2/5,s8=1/a8,l8=18,u8=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},c8=function(e,t){return e[1]+t*(2*e[2]+3*t*e[3])},f8=["Robinson","robin"],h8={init:Mq,forward:Aq,inverse:Lq,names:f8},p8=["Geocentric","geocentric","geocent","Geocent"],y8={init:jq,forward:Rq,inverse:Nq,names:p8};f3.defaultDatum="WGS84",f3.Proj=o3,f3.WGS84=new f3.Proj("WGS84"),f3.Point=_3,f3.toPoint=l3,f3.defs=D2,f3.transform=jH,f3.mgrs=S3,f3.version="__VERSION__",function(e){e.Proj.projections.add(P3),e.Proj.projections.add(D3),e.Proj.projections.add(U3),e.Proj.projections.add(q3),e.Proj.projections.add(Y3),e.Proj.projections.add(X3),e.Proj.projections.add(Z3),e.Proj.projections.add(e5),e.Proj.projections.add(n5),e.Proj.projections.add(h5),e.Proj.projections.add(_5),e.Proj.projections.add(x5),e.Proj.projections.add(T5),e.Proj.projections.add(k5),e.Proj.projections.add(A5),e.Proj.projections.add(R5),e.Proj.projections.add(I5),e.Proj.projections.add(F5),e.Proj.projections.add(G5),e.Proj.projections.add(V5),e.Proj.projections.add(J5),e.Proj.projections.add(W5),e.Proj.projections.add(Q5),e.Proj.projections.add(K5),e.Proj.projections.add(t8),e.Proj.projections.add(h8),e.Proj.projections.add(y8)}(f3);var d8=f3;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
window.proj4=d8,window.Proj4js=d8,i2.a.Proj={},i2.a.Proj._isProj4Obj=function(e){return void 0!==e.inverse&&void 0!==e.forward},i2.a.Proj.Projection=i2.a.Class.extend({initialize:function(e,t,n){var r=i2.a.Proj._isProj4Obj(e);this._proj=r?e:this._projFromCodeDef(e,t);var i=n;i2.a.Util.isArray(n)&&(i=i2.a.bounds(n)),this.bounds=r?t:i},project:function(e){var t=this._proj.forward([e.lng,e.lat]);return new i2.a.Point(t[0],t[1])},unproject:function(e,t){this.bounds&&(e.x=e.x<this.bounds.min.x?this.bounds.min.x:e.x>this.bounds.max.x?this.bounds.max.x:e.x,e.y=e.y<this.bounds.min.y?this.bounds.min.y:e.y>this.bounds.max.y?this.bounds.max.y:e.y);var n=this._proj.inverse([e.x,e.y]);return new i2.a.LatLng(n[1],n[0],t)},_projFromCodeDef:function(e,t){if(t)d8.defs(e,t);else if(void 0===d8.defs[e]){var n=e.split(":");if(n.length>3&&(e=n[n.length-3]+":"+n[n.length-1]),void 0===d8.defs[e])throw"No projection definition for code "+e}return d8(e)},getUnits:function(){return this._proj.oProj.units||"degrees"}});var m8=i2.a.Class.extend({includes:i2.a.CRS,options:{transformation:new i2.a.Transformation(1,0,-1,0)},initialize:function(e,t){var n,r,i;if(i2.a.Proj._isProj4Obj(e)?(r=e,n=r.srsCode,t=t||{},this.projection=new i2.a.Proj.Projection(r,t.bounds)):(n=e,t=t||{},i=t.def||"",this.projection=new i2.a.Proj.Projection(n,i,t.bounds)),i2.a.Util.setOptions(this,t),this.code=n,this.transformation=this.options.transformation,this.options.dpi=this.options.dpi||96,this.options.bounds&&(this.options.bounds=i2.a.bounds(this.options.bounds)),!this.options.origin&&this.options.bounds&&(this.options.origin=[this.options.bounds.min.x,this.options.bounds.max.y]),this.options.origin&&(this.options.origin instanceof i2.a.Point&&(this.options.origin=[this.options.origin.x,this.options.origin.y]),this.transformation=new i2.a.Transformation(1,-this.options.origin[0],-1,this.options.origin[1])),this.options.scales&&this.options.scales.length>0)this.scales=this.options.scales,this._scales=this._toProj4Scales(this.options.scales,this.options.dpi);else if(this.options.scaleDenominators&&this.options.scaleDenominators.length>0){this.scales=[];for(var o=0;o<this.options.scaleDenominators.length;o++)this.scales[o]=1/this.options.scaleDenominators[o];this._scales=this._toProj4Scales(this.scales,this.options.dpi)}else if(this.options.resolutions&&this.options.resolutions.length>0){this._scales=[];for(var a=this.options.resolutions.length-1;a>=0;a--)this.options.resolutions[a]&&(this._scales[a]=1/this.options.resolutions[a])}else this.options.bounds&&(this._scales=this._getDefaultProj4ScalesByBounds(this.options.bounds));this._rectify(),this.infinite=!this.options.bounds},_rectify:function(){if(this._scales&&(this.resolutions||(this.resolutions=[],this.resolutions=this._proj4ScalesToResolutions(this._scales)),!this.scales)){this.scales=[];for(var e=0;e<this.resolutions.length;e++){var t=this.resolutions[e]*this.options.dpi*(1/.0254)*this._getMeterPerMapUnit(this.projection.getUnits());this.scales[e]=1/t}}},scale:function(e){var t,n,r,i,o=Math.floor(e);return e===o?this._scales[e]:(t=this._scales[o],n=this._scales[o+1],r=n-t,i=e-o,t+r*i)},zoom:function(e){var t,n,r,i=this._closestElement(this._scales,e),o=this._scales.indexOf(i);return i?e===i?o:(n=o+1,void 0===(t=this._scales[n])?o:(r=t-i,(e-i)/r+o)):0},distance:i2.a.CRS.Earth.distance,R:i2.a.CRS.Earth.R,_closestElement:function(e,t){for(var n,r=e.length;r--;)e[r]<=t&&(void 0===n||n<e[r])&&(n=e[r]);return n},_proj4ScalesToResolutions:function(e){var t=[];if(!e)return t;for(var n=0;n<e.length;n++)t[n]=1/e[n];return t},_toProj4Scales:function(e,t){var n=[];if(!e)return n;for(var r=0;r<e.length;r++){var i=this.projection?this._getMeterPerMapUnit(this.projection.getUnits()):1;n[r]=1/(.0254/((t||96)*e[r])/i)}return n},_getMeterPerMapUnit:function(e){var t=1;return"meter"===e?t=1:"degrees"===e?t=2*Math.PI*6378137/360:"kilometer"===e?t=.001:"inch"===e?t=1/.025399999918:"feet"===e&&(t=.3048),t},_getDefaultProj4ScalesByBounds:function(e){if(!e)return[];for(var t=e.getSize(),n=Math.max(t.x,t.y),r=n/256,i=[],o=0;o<23;o++)i[o]=Math.pow(2,o)/r;return i}}),v8=function(e,t){return new m8(e,t)};i2.a.Proj.CRS=v8;for(var g8=i2.a.CRS.Baidu=i2.a.extend({},i2.a.CRS.EPSG3857,{code:"Baidu",scale:function(e){return 6378137*Math.PI*2/Math.pow(2,18-e)},transformation:function(){var e=.5/(6378137*Math.PI);return new i2.a.Transformation(e,0,-e,0)}()}),b8=[],S8=1;S8<19;S8++)b8.push(1.40625/Math.pow(2,S8));for(var _8=i2.a.CRS.TianDiTu_WGS84=i2.a.Proj.CRS("EPSG:4326",{origin:[-180,90],resolutions:b8,bounds:i2.a.bounds([-180,-90],[180,90])}),w8=[],O8=1;O8<19;O8++)w8.push(156543.03392804062/Math.pow(2,O8));var x8=i2.a.CRS.TianDiTu_Mercator=i2.a.Proj.CRS("EPSG:3857",{origin:[-20037508.3427892,20037508.3427892],resolutions:w8,bounds:i2.a.bounds([-20037508.3427892,-20037508.3427892],[20037508.3427892,20037508.3427892])});i2.a.CRS.BaiduCRS=g8,i2.a.CRS.TianDiTu_WGS84CRS=_8,i2.a.CRS.TianDiTu_MercatorCRS=x8;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var C8={Prefix:"<a href='https://leafletjs.com' title='A JS library for interactive maps'>Leaflet</a>\n                with <span>Â© <a href='https://iclient.supermap.io' title='SuperMap iClient' target='_blank'>SuperMap iClient</a></span>",Common:{attribution:"Map Data <span>Â© <a href='http://support.supermap.com.cn/product/iServer.aspx' title='SuperMap iServer' target='_blank'>SuperMap iServer</a></span>"},Online:{attribution:"Map Data <span>Â© <a href='https://www.supermapol.com' title='SuperMap Online' target='_blank'>SuperMap Online</a></span>"},ECharts:{attribution:"Â© 2018 ç¾åº¦ ECharts"},MapV:{attribution:"Â© 2018 ç¾åº¦ MapV "},Turf:{attribution:"<span>Â© <a href='https://turfjs.org/' title='turfjs' target='_blank'>turfjs</a></span>"},Baidu:{attribution:"Map Data Â© 2018 Baidu - GS(2016)2089å· - Data Â© é¿å°ä¸æ¹"},Cloud:{attribution:"Map Data Â©2014 SuperMap - GS(2014)6070å·-dataÂ©Navinfo"},Tianditu:{attribution:"Map Data <a href='https://www.tianditu.gov.cn' target='_blank'><img style='background-color:transparent;bottom:2px;opacity:1;' src='https://api.tianditu.gov.cn/img/map/logo.png' width='53px' height='22px' opacity='0'></a>"}},T8=C8;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
i2.a.supermap=i2.a.supermap||{},i2.a.supermap.control=i2.a.supermap.control||{},i2.a.supermap.components=i2.a.supermap.components||{},i2.a.Control.Attribution.include({options:{position:"bottomright",prefix:T8.Prefix}}),i2.a.Map.include({latLngToAccurateContainerPoint:function(e){var t=this.project(i2.a.latLng(e)),n=t._subtract(this.getPixelOrigin());return i2.a.point(n).add(this._getMapPanePos())}}),function(e){e.map(function(e){return e.defaultFunction=e.prototype.toGeoJSON,e.include({toGeoJSON:function(t){return e.defaultFunction.call(this,t||10)}}),e})}([i2.a.Polyline,i2.a.Polygon,i2.a.Marker,i2.a.CircleMarker,i2.a.Circle,i2.a.LayerGroup]);/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var P8=i2.a.Evented.extend({options:{url:null,proxy:null,serverType:null,withCredentials:!1,crossOrigin:null},initialize:function(e,t){e&&(e=e.indexOf("/")!==e.length-1?e:e.substr(0,e.length-1)),this.url=e,i2.a.setOptions(this,t),this.fire("initialized",this)},destroy:function(){this.fire("destroy",this)}});i2.a.supermap.ServiceBase=P8;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var E8=P8.extend({options:{projection:null},initialize:function(e,t){t=t||{},i2.a.setOptions(this,t),t.projection&&(this.options.projection=t.projection),P8.prototype.initialize.call(this,e,t)},getMapInfo:function(e){var t=this;new qZ(t.url,{proxy:t.options.proxy,withCredentials:t.options.withCredentials,crossOrigin:t.options.crossOrigin,headers:t.options.headers,serverType:t.options.serverType,eventListeners:{scope:t,processCompleted:e,processFailed:e},projection:t.options.projection}).processAsync()},getTilesets:function(e){var t=this;new V$(t.url,{proxy:t.options.proxy,withCredentials:t.options.withCredentials,crossOrigin:t.options.crossOrigin,headers:t.options.headers,serverType:t.options.serverType,eventListeners:{scope:t,processCompleted:e,processFailed:e}}).processAsync()}}),k8=function(e,t){return new E8(e,t)};i2.a.supermap.mapService=k8;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var M8=i2.a.Control.extend({options:{layer:null,position:"topleft",title:"switch tile version",tooltip:"top",collapsed:!0,nextText:"+",lastText:"-",ico:"V",orientation:"horizontal",switch:!0},onAdd:function(){"vertical"!==this.options.orientation&&(this.options.orientation="horizontal");var e=this._initLayout();return this.options.layer&&this.setLayer(this.options.layer),e},setContent:function(e){var t=i2.a.Util.extend({},e);this.setVersionName(t.desc).setToolTip(t.desc)},setVersionName:function(e){var t=e;return e||(t=this.getValue()),this._sliderValue.innerHTML=t,this},setToolTip:function(e){return this.tooltip.innerHTML=e,this},updateLength:function(e){e>0&&(this.length=e,this.max=this.length-1,this.slider.setAttribute("max",this.max))},setLayer:function(e){e&&(this.options.layer=e);var t=this,n=t.options.layer;n.on("tilesetsinfoloaded",function(e){var n=e&&e.tileVersions;t.update(n)}),n.on("tileversionschanged",function(e){var n=e&&e.tileVersion;t.setContent(n)}),t.getTileSetsInfo()},update:function(e){this.tileVersions=e,this.updateLength(this.tileVersions.length)},getTileSetsInfo:function(){var e=this;e.options.layer&&new E8(e.options.layer._url).getTilesets(function(t){e.options.layer.setTileSetsInfo(t.result)})},removeLayer:function(){this.options.layer=null},nextTilesVersion:function(){return this.firstLoad?(this.options.layer.nextTilesVersion(),this.firstLoad=!1,this):parseInt(this.slider.value)>this.max-1?this:(this.slider.value=parseInt(this.slider.value)+1,this.options.layer.nextTilesVersion(),this)},lastTilesVersion:function(){return parseInt(this.slider.value)<this.min+1?this:(this.slider.value=parseInt(this.slider.value)-1,this.options.layer.lastTilesVersion(),this)},tilesVersion:function(e){for(var t=this.options.layer,n=this.tileVersions,r=n.length,i=0;i<r;i++)if(n[i].name==e){t.updateCurrentTileSetsIndex(i),t.changeTilesVersion();break}},getValue:function(){return this.slider.value},getVersion:function(){var e=this.tileVersions[this.getValue()];return e&&e.name},_initLayout:function(){var e="leaflet-control-ctv";this._container=i2.a.DomUtil.create("div",e+" "+e+"-"+this.options.orientation),this._sliderBtn=i2.a.DomUtil.create("a",e+"-toggle",this._container),this._sliderBtn.setAttribute("title",this.options.title),this._sliderBtn.innerHTML=this.options.ico,this._sliderValue=i2.a.DomUtil.create("p",e+"-value",this._container),this._sliderValue.innerHTML=this.options.ico;return this._sliderContent=i2.a.DomUtil.create("div","leaflet-ctv-slider-main  tooltip",this._container),this.tooltip=i2.a.DomUtil.create("span","tooltip-text  tooltip-"+this.options.tooltip,this._sliderContent),this.tooltip.innerHTML=this.options.ico,this.options.switch&&(this._next=i2.a.DomUtil.create("a","leaflet-ctv-slider-incdec leaflet-ctv-slider-next",this._sliderContent),this._next.innerHTML=this.options.nextText,i2.a.DomEvent.on(this._next,"click",this.nextTilesVersion,this),i2.a.DomUtil.addClass(this._container,e+"-incdec")),this._sliderContainer=i2.a.DomUtil.create("div","leaflet-ctv-slider-container",this._sliderContent),this.slider=i2.a.DomUtil.create("input","leaflet-ctv-slider",this._sliderContainer),this.min=null==this.min||isNaN(this.min)?0:parseInt(this.min),this.slider.setAttribute("title",this.options.title),this.slider.setAttribute("id","slider"),this.slider.setAttribute("type","range"),this.slider.setAttribute("min",this.min),this.slider.setAttribute("max",0),this.slider.setAttribute("step",1),this.slider.setAttribute("value",0),this.firstLoad=!0,"oninput"in this.slider||"onchange"in this.slider?i2.a.DomEvent.on(this.slider,"change",this._tilesVersion,this):this.slider.onpropertychange=this._tilesVersion,this.options.switch&&(this._last=i2.a.DomUtil.create("a","leaflet-ctv-slider-incdec leaflet-ctv-slider-last",this._sliderContent),this._last.innerHTML=this.options.lastText,i2.a.DomEvent.on(this._last,"click",this.lastTilesVersion,this)),"vertical"===this.options.orientation?(this.slider.style.width="170px",this._sliderContainer.style.height="170px"):this._sliderContainer.style.width="150px",i2.a.DomEvent.disableClickPropagation(this._container),this.options.collapsed?(i2.a.Browser.android||i2.a.DomEvent.on(this._container,"mouseenter",this._expand,this).on(this._container,"mouseleave",this._collapse,this),i2.a.Browser.touch?i2.a.DomEvent.on(this._sliderBtn,"click",i2.a.DomEvent.stop).on(this._sliderBtn,"click",this._expand,this):i2.a.DomEvent.on(this._sliderBtn,"focus",this._expand,this)):this._expand(),this._container},_expand:function(){i2.a.DomUtil.addClass(this._container,"leaflet-control-ctv-expanded")},_collapse:function(){i2.a.DomUtil.removeClass(this._container,"leaflet-control-ctv-expanded")},_tilesVersion:function(){var e=this.getVersion();this.tilesVersion(e)}});i2.a.Map.mergeOptions({changeTileVersionControl:!1}),i2.a.Map.addInitHook(function(){this.options.changeTileVersionControl&&(this.changeTileVersionControl=new M8,this.addControl(this.changeTileVersionControl))});var A8=function(e){return new M8(e)};i2.a.supermap.control.changeTileVersion=A8;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var L8=i2.a.Control.extend({options:{position:"bottomright",imageUrl:null,link:null,width:null,height:null,alt:"SuperMap iClient"},onAdd:function(){var e=i2.a.DomUtil.create("div","iclient-leaflet-logo");e.style.marginTop=0,e.style.marginBottom=0,e.style.marginLeft=0,e.style.marginRight=0;var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF4AAAAdCAYAAAAjHtusAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozYWZlOGIwMi01MWE3LTRiZjYtYWVkYS05MGQ2ZTQ4YjZiMmUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODg0NkFBQUE3RjEzMTFFNzhFRjJFQkY4RjcxQjc1NjIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODg0NkFBQTk3RjEzMTFFNzhFRjJFQkY4RjcxQjc1NjIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4MWI3NzdhNC1lZmEyLTQ1MzUtOGQzNi03MmRjNDkyODMzN2UiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpjYTYzODVjMi1jNDQ1LTExN2EtYTc0ZC1lM2I5MzJlMGE4Y2QiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5q1HM0AAAF/ElEQVR42tSabYhUVRjHZ7W01C1uaCRW4F3oi9SXCUnwQ9gsGUFvOEtQH1bLu5VS9sbYh5KicjYt29qiGQwVg2xWWKgocob91AvC+CWsoJqB3qHMSdTMpZyeU/+Df07n3pk7997Z6cBv99z7nHvOvf/z/pxJNZvNVI/jCKXmv6EquAmVkxPSlvtp2GItr0/96fFQForChJAWDiVYTkMYMu4XBFcYjLOwWS3sNwmn8NGzZ0h4Flv/zwIdchAnh/slCGmmKUNIBzYPaXOUr0vPuEjD71JAPh7l61embzinhV3V8nnCGmGT8LwlzSL8/yUh4Tfjo9T/CgnCIYNKycA2Qq21AcHU/VHE80Idoo3Qs0W6p0UtUnkZvEMDeVcCyqxEafF7hL8Qf0oYsIj+lfC9cH1CwhchWAGCtZO+AooQOkdC1Km1VtCb63StW73uFSzgKFUkNwBbmZGGmqowhvg8ZNpH9oXChcIcYRdeNomgxLkaH+S1SGubAxyIpFv+Zp+0DYjrAS00j/dem2VGEl6FJ4Qa4quEu8j2hTCJ+GJhe4JjfQMf6JCYPPbysMPxBlp0BUKOogEF9Rg9/heNvNKYfM0KsZUZaYxX4STGrzJa+zbhPeFH2DcK10KItcI+pI0rVElwXl1ULaKnIJhDw0oRQpTQc1zcbwRU8ATy4DR6yMlTzwkqMziEWHvubJ4Nk4ZtHdnqwvwY17xq3Z4FjrG+z2Kdrdf2ZSGD+xlLPh6t1R0jP9fI22ZzKI92yvQl7EbmBxI4S7Y+vIAOL87QZqsc5uNnssxZIcfYjXT9snCR7jjobidp+FkxA2v+Cq1QervMDmp4P7Xs3YZtE9kOC3P/By6JGaETl8ElwueYTNTDq4UDsKnd7YfCNbT239LF1udS72xYJt1UWxNfN4IIP4bWuTpEja01JtMFZFsm/AHbtHBlDE6yasA4moYTrUbvdBTXHqUrAH4uSadbyzF+vbBM2IsNkS3MNa5305JxqfA02T4TnkX8XOH1mPw8ruVejpxbI9hZD2Cz1U7LdrrUvjP/WfZinNZhr6V27hP+FPZh9aLvLxVO4DllX0G2OcKnlO/DCblxaz6uXBtmi+8mBaP3/SP8IuEIiTRoPPQm2TaEmEyXo0JU+F0YiPFD0hhOsiE/vqeEVwyTgF8L51OilcIZ2I4Ll5NttvAJPfukUeB2sk0ZPSbKIUUJpCII7+DasWy08uhNNazT0wGHI7mAtB7KqMKm38HhDdAUibTVKGicbB8YAqrJ9DRsp43JdB4qUof1HQrPE6XTQWu3Ce/inVzjXhXpMiTwUYugNVQ+p80jrUsV5EH0POKeuXO9QjhFq5GryNYvfEMCDhsftYVsB9ETtG0V9ZjfhCURhbcJFpfwVZ9jvhxsLHwTYtp2svlWQw3vXL8UnqHVSIG8l8ex+tHhBXgjddgqHEZ8ufAA2aaEnYgrF/KrPXrEmMUqZ9THLW06xhoBaVueQpkug+ewOUphE3Qv2Q5gGamXYa+QbVq4O+DQ5FHyZqrjxNt7UHh9uuRa0F7HjCF8o9PCTOGnscM7g2u1Hl9C9oeEnxC/1ajZg8JLiM9Hj9GHJseMShwL2DO0G5yEWn3Zh1QUods5CPkIoqlwAZxhXMsb6HrcEPBxchhdJ6wj29vCW4hfLOzo8J3rltYX50nXQAATSf/K4DEaGlTLvplsk/QCpoD60EQ7gLYZc8H9wq+I3yncEOEcNhuz6HWf3XEiwU/4Y8YEqVp2P10rt+8REvBGw026i4aDcbL9jF8r8Blmf4fCOzhViiscskygXRdehf3CO4hfigmTBXyQrl8TFtD1IzQX3CbcQrY3hPcRv4z8OmHPXwchVNln2MmE7BX6VwIFi/he6uxvb6JM3m0fdqvx/ATidxg2JeC7VDErAw5NzGfvwRJVheEIQ8Mg/pdwIM+UOmi9Q8ivCsrIy0tF+wVbEcLrd3Pb2XisEb4Tdlhsi4WP4RBbaLGrHfC3PrvMIezy9rTpGm5lz9LOMG15xvFxD/j5gjzjjDbMOzk+9zzt3v5bgAEAibzFeFHVgYkAAAAASUVORK5CYII=";this.options.imageUrl&&(t=this.options.imageUrl);var n=this.options.alt,r="94px",i="29px",o="width:"+r+";height:"+i+";";this.options.imageUrl&&(r=this.options.width,i=this.options.height,o="width:"+r+";height:"+i+";",r&&i||(o=""));var a=this.options.link||"https://iclient.supermap.io";return e.innerHTML="<a href='"+a+"' target='_blank' style='border: none;display: block;'><img src="+t+" alt='"+n+"' style='border: none;"+o+"margin-right:5px;margin-bottom:2px;white-space: nowrap'></a>",e}});i2.a.Map.mergeOptions({logoControl:!0}),i2.a.Map.addInitHook(function(){!this._logoAdded&&this.options.logoControl&&(!0===this.options.logoControl?this.logoControl=new L8:this.options.logoControl instanceof i2.a.Control&&(this.logoControl=this.options.logoControl),this.logoControl&&(this.addControl(this.logoControl),this._logoAdded=!0))});var j8=function(e){return new L8(e)};i2.a.supermap.control.logo=j8;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var R8=function(){function e(){Iq(this,e)}return Fq(e,null,[{key:"toSuperMapBounds",value:function(e){return e&&-1!==["FeatureCollection","Feature"].indexOf(e.type)&&(e=i2.a.geoJSON(e).getBounds()),e instanceof i2.a.LatLngBounds?new oQ(e.getSouthWest().lng,e.getSouthWest().lat,e.getNorthEast().lng,e.getNorthEast().lat):e instanceof i2.a.Bounds?new oQ(e.min.x,e.min.y,e.max.x,e.max.y):this.isArray(e)?new oQ(e[0],e[1],e[2],e[3]):new oQ}},{key:"isArray",value:function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{key:"toProcessingParam",value:function(e){var t={};if(e.length<1)t="";else{for(var n=[],r=0;r<e.length;r++){var i={};i.x=e[r][0],i.y=e[r][1],n.push(i)}t.type="REGION",t.points=n}return t}}]),e}();i2.a.supermap.CommontypesConversion=R8;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var N8={};i2.a.Util.supermap_callbacks=N8;var I8=function(e){return e?(new MQ).toGeoJSON(e):e},D8=function(e){if(!e)return e;var t,n=new MQ;if(-1!=["FeatureCollection","Feature","Geometry"].indexOf(e.type))t=n.read(e,e.type);else if("function"==typeof e.toGeoJSON){var r=e.toGeoJSON();t=r?n.read(r,r.type):e}var i=t;return i2.a.Util.isArray(t)&&(1===t.length?i=t[0]:t.length>1&&(i=[],t.map(function(e){return i.push(e.geometry),e}))),i&&i.geometry?i.geometry:i},F8=C0,B8=function(e,t,n){var r=F8(n),i=e*t*(1/.0254)*r;return i=1/i},U8=function(e,t,n){var r=F8(n),i=e*t*(1/.0254)*r;return i=1/i},G8=function(e,t,n,r){return r=r||6378137,n=n||"",e>0&&t>0?(e=i2.a.Util.NormalizeScale(e),"degree"===n.toLowerCase()||"degrees"===n.toLowerCase()||"dd"===n.toLowerCase()?254/t/e/(2*Math.PI*r/360)/1e4:254/t/e/1e4):-1},z8=function(e){return e>1?1/e:e};i2.a.Util.toGeoJSON=I8,i2.a.Util.toSuperMapGeometry=D8,i2.a.Util.resolutionToScale=B8,i2.a.Util.scaleToResolution=U8,i2.a.Util.getMeterPerMapUnit=F8,i2.a.Util.GetResolutionFromScaleDpi=G8,i2.a.Util.NormalizeScale=z8;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var V8=function(e){function t(e){var t=e.geometry;if(!rQ.isArray(t.coordinates))throw"Geometry must have coordinates array: "+t;if(!s[t.type.toLowerCase()])throw"Unsupported geometry type: "+t.type;try{t.coordinates=s[t.type.toLowerCase()].apply(this,[t.coordinates])}catch(e){throw e}return e.geometry=t,e}function n(e){var t=r.unproject({x:e[0],y:e[1]}),n=i.project(t);return[n.x,n.y]}var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i2.a.CRS.EPSG4326,i=arguments.length>2?arguments[2]:void 0,o=null,a=null;if(-1===["FeatureCollection","Feature","Geometry"].indexOf(e.type))if(e.toGeoJSON)e=e.toGeoJSON();else if(e instanceof i2.a.LatLngBounds)e=i2.a.rectangle(e).toGeoJSON();else{if(!(e instanceof i2.a.Bounds))throw new Error("This tool only supports data conversion in geojson format or Vector Layers of Leaflet.");e=i2.a.rectangle([[e.getTopLeft().x,e.getTopLeft().y],[e.getBottomRight().x,e.getBottomRight().y]]).toGeoJSON()}var s={point:function(e){return a(e)},multipoint:function(e){return s.linestring.apply(this,[e])},linestring:function(e){for(var t=[],n=null,r=0,i=e.length;r<i;++r){try{n=s.point.apply(this,[e[r]])}catch(e){throw e}t.push(n)}return t},multilinestring:function(e){return s.polygon.apply(this,[e])},polygon:function(e){for(var t,n=[],r=0,i=e.length;r<i;++r){try{t=s.linestring.apply(this,[e[r]])}catch(e){throw e}n.push(t)}return n},multipolygon:function(e){for(var t=[],n=null,r=0,i=e.length;r<i;++r){try{n=s.polygon.apply(this,[e[r]])}catch(e){throw e}t.push(n)}return t}};return function(e,n){if(o=e,a=n,"Feature"===e.type)o=t(e);else if("FeatureCollection"===e.type){for(var r=[],i=0;i<e.features.length;++i)try{r.push(t(e.features[i]))}catch(e){r=null}o.features=r}return o}(e,n)};i2.a.Util.transform=V8;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var H8=i2.a.TileLayer.extend({url:"http://online{num}.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles={styles}&udt=20150815&scaler=1",options:{minZoom:3,maxZoom:19,bounds:i2.a.latLngBounds(i2.a.latLng(-85.0511287798,-180),i2.a.latLng(85.0511287798,180)),retina:i2.a.Browser.retina,attribution:T8.Baidu.attribution},initialize:function(e,t){e&&(this.url=e),i2.a.setOptions(this,t),this.options.retina&&(this.options.maxZoom=18),i2.a.stamp(this)},getTileUrl:function(e){var t=i2.a.Util.template(this.url,{num:Math.abs((e.x+e.y)%8)+1,x:e.x,y:-e.y-1,z:this._getZoomForUrl(),styles:this.options.retina?"ph":"pl"});return this.options.tileProxy&&(t=this.options.tileProxy+encodeURIComponent(t)),t}}),J8=function(e,t){return new H8(e,t)};i2.a.supermap.baiduTileLayer=J8;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var q8=i2.a.TileLayer.extend({defaultURL:"http://t2.supermapcloud.com/FileService/image",options:{mapName:"quanguo",type:"web",minZoom:3,maxZoom:18,attribution:T8.Cloud.attribution},initialize:function(e,t){i2.a.setOptions(this,t);var n=e||this.defaultURL;this._url=n+"?map="+this.options.mapName+"&type="+this.options.type,i2.a.stamp(this)},getTileUrl:function(e){var t=this._url,n=t+"&x="+e.x+"&y="+e.y+"&z="+e.z;return this.options.tileProxy&&(n=this.options.tileProxy+encodeURIComponent(n)),n}}),W8=function(e,t){return new q8(e,t)};i2.a.supermap.cloudTileLayer=W8;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Y8=r2.Layer.extend({options:{layersID:null,redirect:!1,transparent:!0,cacheEnabled:!0,clipRegionEnabled:!1,clipRegion:null,prjCoordSys:null,overlapDisplayed:!1,overlapDisplayedOptions:null,opacity:1,alt:"",pane:"tilePane",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:"",serverType:QW.ISERVER,attribution:T8.Common.attribution,updateInterval:150,tileProxy:null,format:"png"},initialize:function(e,t){this._url=e,r2.Util.setOptions(this,t)},onAdd:function(e){this.update=r2.Util.throttle(this.update,this.options.updateInterval,this),e.on("moveend",this.update,this),this._currentImage&&this._currentImage._bounds.equals(this._map.getBounds())?e.addLayer(this._currentImage):this._currentImage&&(this._map.removeLayer(this._currentImage),this._currentImage=null),this.update()},onRemove:function(){this._currentImage&&this._map.removeLayer(this._currentImage),this._map.off("moveend",this.update,this)},bringToFront:function(){return this.options.position="front",this._currentImage&&this._currentImage.bringToFront(),this},bringToBack:function(){return this.options.position="back",this._currentImage&&this._currentImage.bringToBack(),this},getOpacity:function(){return this.options.opacity},setOpacity:function(e){return this.options.opacity=e,this._currentImage&&this._currentImage.setOpacity(e),this},getImageUrl:function(e){var t=r2.Util.getParamString(e)+this._initLayerUrl();return t=this._url+"/image."+this.options.format+t,t=this._appendCredential(t),this.options.tileProxy&&(t=this.options.tileProxy+encodeURIComponent(t)),this.options.cacheEnabled||(t+="&_t="+(new Date).getTime()),t},_getImageParams:function(){var e=this._calculateImageSize();return{viewBounds:this._compriseBounds(this._calculateBounds()),width:e.x,height:e.y}},_initLayerUrl:function(){var e=this,t="&";return t+=encodeURI(e._initAllRequestParams().join("&"))},_initAllRequestParams:function(){var e=this,t=e.options||{},n=[],r=!0===t.redirect&&t.redirect;n.push("redirect="+r);var i=!0===t.transparent&&t.transparent;n.push("transparent="+i);var o=!1!==t.cacheEnabled||t.cacheEnabled;return n.push("cacheEnabled="+o),t.prjCoordSys&&n.push("prjCoordSys="+JSON.stringify(t.prjCoordSys)),t.layersID&&n.push("layersID="+t.layersID),t.rasterfunction&&n.push("rasterfunction="+JSON.stringify(t.rasterfunction)),t.clipRegionEnabled&&t.clipRegion&&(n.push("clipRegionEnabled="+t.clipRegionEnabled),n.push("clipRegion="+JSON.stringify(kQ.fromGeometry(r2.Util.toSuperMapGeometry(t.clipRegion))))),!1===t.overlapDisplayed?(n.push("overlapDisplayed=false"),t.overlapDisplayedOptions&&n.push("overlapDisplayedOptions="+e.overlapDisplayedOptions.toString())):n.push("overlapDisplayed=true"),n},_requestImage:function(e,t){var n=this.getImageUrl(e);this._loadImage(n,t)},_loadImage:function(e,t){if(this._map){var n=new r2.ImageOverlay(e,t,{opacity:0,alt:this.options.alt,zIndex:this.options.zIndex,className:this.options.className,errorOverlayUrl:this.options.error,crossOrigin:this.options.crossOrigin,pane:this.options.pane||this.getPane(),interactive:this.options.interactive}).addTo(this._map),r=function e(r){n.off("error",e,this);var i=this._map;if(i){var o=r.target,a=this._currentImage;o._bounds&&o._bounds.equals(t)&&o._bounds.equals(i.getBounds())?(this._currentImage=o,"front"===this.options.position&&this.bringToFront(),"back"===this.options.position&&this.bringToBack(),this._currentImage._map&&this._currentImage.setOpacity(this.options.opacity),a&&i.removeLayer(a),a&&a._map&&a._map.removeLayer(a)):i.removeLayer(o),this.fire("load",{bounds:t})}};n.once("load",r,this),n.once("error",function(){this._map.removeLayer(n),this.fire("error"),n.off("load",r,this)},this),this.fire("loading",{bounds:t})}},update:function(){if(this._map){var e=this._map.getZoom(),t=this._map.getBounds();if(e>this._map.options.maxZoom||e<this._map.options.zoom)return void(this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null));var n=this._getImageParams();n?this._requestImage(n,t):this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null)}},_calculateBounds:function(){var e=this._map.getPixelBounds(),t=this._map.unproject(e.getBottomLeft()),n=this._map.unproject(e.getTopRight()),r=this._map.options.crs.project(n),i=this._map.options.crs.project(t);return i2.a.bounds(r,i)},_compriseBounds:function(e){var t={leftBottom:{x:e.getBottomLeft().x,y:e.getTopRight().y},rightTop:{x:e.getTopRight().x,y:e.getBottomLeft().y}};return JSON.stringify(t)},_calculateImageSize:function(){var e=this._map,t=e.getPixelBounds(),n=e.getSize(),r=e.unproject(t.getBottomLeft()),i=e.unproject(t.getTopRight()),o=e.latLngToLayerPoint(i).y,a=e.latLngToLayerPoint(r).y;return(o>0||a<n.y)&&(n.y=a-o),n},_appendCredential:function(e){var t,n,r=e;switch(this.options.serverType){case QW.IPORTAL:n=UQ.getToken(this._url),t=n?new gQ(n,"token"):null,t||(n=UQ.getKey(this._url),t=n?new gQ(n,"key"):null);break;case QW.ONLINE:n=UQ.getKey(this._url),t=n?new gQ(n,"key"):null;break;default:n=UQ.getToken(this._url),t=n?new gQ(n,"token"):null}return t&&(r+="&"+t.getUrlParameters()),r}}),Q8=function(e,t){return new Y8(e,t)};i2.a.supermap.imageMapLayer=Q8;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var X8=i2.a.TileLayer.extend({options:{version:"1.0.0",style:"",tilematrixSet:"",format:"image/png",tileSize:256,matrixIds:null,layer:"",requestEncoding:"KVP",attribution:""},initialize:function(e,t){this._url=e,i2.a.setOptions(this,t);var n=this.options;if("REST"===n.requestEncoding){var r={"image/png":"png","image/png8":"png","image/png24":"png","image/png32":"png",png:"png","image/jpeg":"jpg","image/jpg":"jpg",jpeg:"jpg",jpg:"jpg"};this.formatSuffix="."+(r[n.format]||n.format.split("/").pop()||"png")}else n.requestEncoding="KVP"},getTileUrl:function(e){var t=this._getZoomForUrl(),n=this.options.matrixIds?this.options.matrixIds[t].identifier:t,r=i2.a.Util.template(this._url,{s:this._getSubdomain(e)}),i={service:"WMTS",request:"GetTile",version:this.options.version,style:this.options.style,tilematrixSet:this.options.tilematrixSet,format:this.options.format,width:this.options.tileSize,height:this.options.tileSize,layer:this.options.layer,tilematrix:n,tilerow:e.y,tilecol:e.x};if(this.options.tileProxy&&(r=this.options.tileProxy+r),"KVP"===this.options.requestEncoding)r+=i2.a.Util.getParamString(i,r);else if("REST"===this.options.requestEncoding){var o="/"+i.layer+"/"+i.style+"/"+i.tilematrixSet+"/"+i.tilematrix+"/"+i.tilerow+"/"+i.tilecol+this.formatSuffix;r+=o}return r}}),K8=function(e,t){return new X8(e,t)};i2.a.supermap.wmtsLayer=K8;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Z8=X8.extend({layerLabelMap:{vec:"cva",ter:"cta",img:"cia"},layerZoomMap:{vec:18,ter:14,img:18},options:{layerType:"vec",isLabel:!1,attribution:T8.Tianditu.attribution,url:"https://t{s}.tianditu.gov.cn/{layer}_{proj}/wmts?",zoomOffset:1,key:"",dpi:96,style:"default",format:"tiles",subdomains:[0,1,2,3,4,5,6,7]},initialize:function(e){e=e||{},i2.a.setOptions(this,e),this.options.layer=this.options.isLabel?this.layerLabelMap[this.options.layerType]:this.options.layerType,this.options.maxZoom=this.layerZoomMap[this.options.layerType]-1,X8.prototype.initialize.call(this,this.options.url,this.options),i2.a.stamp(this)},onAdd:function(e){this.options.tilematrixSet="EPSG:4326"===e.options.crs.code?"c":"w",this.options.key&&(this._url="".concat(this._url,"tk=").concat(this.options.key)),this._url=this._url.replace("{layer}",this.options.layer).replace("{proj}",this.options.tilematrixSet),X8.prototype.onAdd.call(this,e)}}),$8=function(e){return new Z8(e)};i2.a.supermap.tiandituTileLayer=$8;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var e4=i2.a.TileLayer.extend({options:{layersID:null,redirect:!1,transparent:!0,cacheEnabled:!0,clipRegionEnabled:!1,clipRegion:null,prjCoordSys:null,overlapDisplayed:!1,overlapDisplayedOptions:null,tileversion:null,crs:null,serverType:QW.ISERVER,format:"png",tileProxy:null,attribution:T8.Common.attribution,subdomains:null},initialize:function(e,t){this._url=e,i2.a.TileLayer.prototype.initialize.apply(this,arguments),i2.a.setOptions(this,t),i2.a.stamp(this),this.tileSetsIndex=-1,this.tempIndex=-1},onAdd:function(e){this._crs=this.options.crs||e.options.crs,i2.a.TileLayer.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this.getScaleFromCoords(e),n=this._getLayerUrl(),r=n+"&scale="+t+"&x="+e.x+"&y="+e.y;return this.options.tileProxy&&(r=this.options.tileProxy+encodeURIComponent(r)),this.options.cacheEnabled||(r+="&_t="+(new Date).getTime()),this.options.subdomains&&(r=i2.a.Util.template(r,{s:this._getSubdomain(e)})),r},getScale:function(e){var t=this,n=e||t._map.getZoom();return t.scales[n]},getScaleFromCoords:function(e){var t,n=this;return n.scales&&n.scales[e.z]?n.scales[e.z]:(n.scales=n.scales||{},t=n.getDefaultScale(e),n.scales[e.z]=t,t)},getDefaultScale:function(e){var t=this,n=t._crs;if(n.scales)return n.scales[e.z];var r=t._tileCoordsToBounds(e),i=n.project(r.getNorthEast()),o=n.project(r.getSouthWest()),a=t.options.tileSize,s=Math.max(Math.abs(i.x-o.x)/a,Math.abs(i.y-o.y)/a),l=nY.METER;if(n.code){var u=n.code.split(":");if(u&&u.length>1){var c=parseInt(u[1]);l=c&&c>=4e3&&c<=5e3?nY.DEGREE:nY.METER}}return B8(s,96,l)},setTileSetsInfo:function(e){this.tileSets=e,i2.a.Util.isArray(this.tileSets)&&(this.tileSets=this.tileSets[0]),this.tileSets&&(this.fire("tilesetsinfoloaded",{tileVersions:this.tileSets.tileVersions}),this.changeTilesVersion())},lastTilesVersion:function(){this.tempIndex=this.tileSetsIndex-1,this.changeTilesVersion()},nextTilesVersion:function(){this.tempIndex=this.tileSetsIndex+1,this.changeTilesVersion()},changeTilesVersion:function(){var e=this;if(null!=e.tileSets&&!(e.tempIndex===e.tileSetsIndex||this.tempIndex<0)){var t=e.tileSets.tileVersions;if(t&&e.tempIndex<t.length&&e.tempIndex>=0){var n=t[e.tempIndex].name;e.mergeTileVersionParam(n)&&(e.tileSetsIndex=e.tempIndex,e.fire("tileversionschanged",{tileVersion:t[e.tempIndex]}))}}},updateCurrentTileSetsIndex:function(e){this.tempIndex=e},mergeTileVersionParam:function(e){return!!e&&(this.requestParams.tileversion=e,this._paramsChanged=!0,this.redraw(),this._paramsChanged=!1,!0)},_getLayerUrl:function(){return this._paramsChanged&&(this._layerUrl=this._createLayerUrl()),this._layerUrl||this._createLayerUrl()},_createLayerUrl:function(){var e=this,t=e._url+"/tileImage."+this.options.format+"?";return t+=encodeURI(e._getRequestParamString()),t=this._appendCredential(t),this._layerUrl=t,t},_getRequestParamString:function(){this.requestParams=this.requestParams||this._getAllRequestParams();var e=[];for(var t in this.requestParams)e.push(t+"="+this.requestParams[t]);return e.join("&")},_getAllRequestParams:function(){var e=this,t=e.options||{},n={},r=this.options.tileSize;r instanceof i2.a.Point||(r=i2.a.point(r,r)),n.width=r.x,n.height=r.y,n.redirect=!0===t.redirect,n.transparent=!0===t.transparent,n.cacheEnabled=!(!1===t.cacheEnabled),t.prjCoordSys&&(n.prjCoordSys=JSON.stringify(t.prjCoordSys)),t.layersID&&(n.layersID=t.layersID.toString()),t.clipRegionEnabled&&t.clipRegion&&(t.clipRegion=kQ.fromGeometry(D8(t.clipRegion)),n.clipRegionEnabled=t.clipRegionEnabled,n.clipRegion=JSON.stringify(t.clipRegion));var i=e._crs;if(i.options&&i.options.origin)n.origin=JSON.stringify({x:i.options.origin[0],y:i.options.origin[1]});else if(i.projection&&i.projection.bounds){var o=i.projection.bounds,a=i2.a.point(o.min.x,o.max.y);n.origin=JSON.stringify({x:a.x,y:a.y})}return!1===t.overlapDisplayed?(n.overlapDisplayed=!1,t.overlapDisplayedOptions&&(n.overlapDisplayedOptions=e.overlapDisplayedOptions.toString())):n.overlapDisplayed=!0,!0===n.cacheEnabled&&t.tileversion&&(n.tileversion=t.tileversion.toString()),t.rasterfunction&&(n.rasterfunction=JSON.stringify(t.rasterfunction)),n},_appendCredential:function(e){var t,n,r=e;switch(this.options.serverType){case QW.IPORTAL:n=UQ.getToken(this._url),t=n?new gQ(n,"token"):null,t||(n=UQ.getKey(this._url),t=n?new gQ(n,"key"):null);break;case QW.ONLINE:n=UQ.getKey(this._url),t=n?new gQ(n,"key"):null;break;default:n=UQ.getToken(this._url),t=n?new gQ(n,"token"):null}return t&&(r+="&"+t.getUrlParameters()),r}}),t4=function(e,t){return new e4(e,t)};i2.a.supermap.tiledMapLayer=t4;var n4=n(3),r4=n.n(n4),i4={TEXT:{fontSize:"14px",fontFamily:"Arial Unicode MS Regular,Microsoft YaHei",textAlign:"left",color:"rgba(255,255,255,0)",fillColor:"rgba(80,80,80,1)",weight:1,globalAlpha:1},POINT:{fillColor:"#ffcc00",color:"#cc3333",weight:1,radius:3,opacity:1},LINE:{color:"rgba(0,0,0,0)",weight:1,lineCap:"butt",lineJoin:"round",dashOffset:0,dashArray:[],opacity:1},REGION:{color:"rgba(0,0,0,0)",fillColor:"rgba(0,0,0,0)",weight:1,lineCap:"butt",lineJoin:"round",dashOffset:0,opacity:1,fillOpacity:1,dashArray:[]}};i2.a.supermap.DefaultStyle=i4;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var o4={TEXT:{"text-size":"fontSize","text-face-name":"fontFamily","text-align":"textAlign","text-name":"textName","text-weight":"fontWeight","text-halo-color":"color","text-fill":"fillColor","text-comp-op":"globalCompositeOperation"},POINT:{"point-file":"iconUrl","point-fill":"fillColor","point-radius":"radius","point-halo-color":"color","point-comp-op":"globalCompositeOperation"},LINE:{"line-color":"color","line-width":"weight","line-cap":"lineCap","line-join":"lineJoin","line-dash-offset":"dashOffset","line-opacity":"opacity","line-dasharray":"dashArray","line-comp-op":"globalCompositeOperation"},REGION:{"line-color":"color","line-width":"weight","line-cap":"lineCap","line-join":"lineJoin","line-dash-offset":"dashOffset","line-opacity":"opacity","line-dasharray":"dashArray","polygon-fill":"fillColor","polygon-opacity":"fillOpacity","polygon-comp-op":"globalCompositeOperation"}},a4={lineWidth:{leafletStyle:"weight",type:"number",unit:"mm",defaultValue:.1},fillForeColor:{leafletStyle:"fillColor",type:"color",defaultValue:"rgba(0,0,0,0)"},foreColor:{leafletStyle:"color",type:"color",defaultValue:"rgba(0,0,0,0)"},markerSize:{leafletStyle:"markerSize",type:"number",unit:"mm",defaultValue:2.4},lineColor:{leafletStyle:"color",type:"color",defaultValue:"#000000"}},s4={clear:"",src:"",dst:"","src-over":"source-over","dst-over":"destination-over","src-in":"source-in","dst-in":"destination-in","src-out":"source-out","dst-out":"destination-out","src-atop":"source-atop","dst-atop":"destination-atop",xor:"xor",plus:"lighter",minus:"",multiply:"",screen:"",overlay:"",darken:"",lighten:"lighter","color-dodge":"","color-burn":"","hard-light":"","soft-light":"",difference:"",exclusion:"",contrast:"",invert:"","invert-rgb":"","grain-merge":"","grain-extract":"",hue:"",saturation:"",color:"",value:""};i2.a.supermap.CartoStyleMap=o4,i2.a.supermap.ServerStyleMap=a4,i2.a.supermap.CompOpMap=s4;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var l4=function(){function e(t){Bq(this,e),this.cartoCSS=null,this.mapUrl=t}return Gq(e,[{key:"pretreatedCartoCSS",value:function(e,t){t&&(e=this.processCharacters(e)),this.cartoCSS=this.cartoCSS||{};var n=new E0(e).getShaders();if(n)for(var r=0;r<n.length;r++){var i=n[r].elements[0],o=n[r].attachment;this.cartoCSS[i.clean]=this.cartoCSS[i.clean]||{},this.cartoCSS[i.clean][o]=this.cartoCSS[i.clean][o]||[],this.cartoCSS[i.clean][o].push(n[r])}}},{key:"processCharacters",value:function(e){var t=e;if(t){var n=this;t=t.replace(/[@]/gi,"___"),t=t.replace(/\\#/gi,"#");var r={};return n.layersInfo&&Object.keys(n.layersInfo).sort().forEach(function(e){for(var n=e.replace(/[@#\s]/gi,"___"),i=e,o=Object.keys(r),a=o.length;a>-1;a--)if(e.indexOf(o[a])>-1){i=e.replace(o[a],r[o[a]]);break}i=i.replace(/[#]/gi,"#"),r[e]=n,t=t.replace(new RegExp(i,"g"),n)}),t=t.replace(/[#]/gi,"\n#"),t=t.replace(/\[zoom/gi,"[scale")}}},{key:"pickShader",value:function(e){if(!this.cartoCSS)return null;var t=e.replace(/[@#\s]/gi,"___");return this.cartoCSS[t]}},{key:"getDefaultStyle",value:function(e){var t={},n=i4[e];for(var r in n){var i=n[r];t[r]=i}return t}},{key:"getStyleFromiPortalMarker",value:function(e){return 0==e.indexOf("./")?null:(0==e.indexOf("http://support.supermap.com.cn:8092/static/portal")&&(e=e.replace("http://support.supermap.com.cn:8092/static/portal","http://support.supermap.com.cn:8092/apps/viewer/static")),i2.a.icon({iconUrl:e,iconSize:i2.a.point(48,43),iconAnchor:i2.a.point(24,43),popupAnchor:i2.a.point(0,-43)}))}},{key:"getStyleFromiPortalStyle",value:function(e,t,n){var r=n?JSON.parse(n):null,i={};if("Point"===t||"MultiPoint"===t){var o=r||e.pointStyle;return o.externalGraphic?0==o.externalGraphic.indexOf("./")?null:(0==o.externalGraphic.indexOf("http://support.supermap.com.cn:8092/static/portal")&&(o.externalGraphic=o.externalGraphic.replace("http://support.supermap.com.cn:8092/static/portal","http://support.supermap.com.cn:8092/apps/viewer/static")),i2.a.icon({iconUrl:o.externalGraphic,iconSize:i2.a.point(o.graphicWidth,o.graphicHeight),iconAnchor:i2.a.point(-o.graphicXOffset,-o.graphicYOffset),popupAnchor:i2.a.point(0,-o.graphicHeight)})):(i.radius=o.pointRadius,i.color=o.strokeColor,i.opacity=o.strokeOpacity,i.lineCap=o.strokeLineCap,i.weight=o.strokeWidth,i.fillColor=o.fillColor,i.fillOpacity=o.fillOpacity,i.dashArray=this.dashStyle(o,1),i)}if("LineString"===t||"MultiLineString"===t||"Box"===t){var a=r||e.lineStyle;return i.color=a.strokeColor,i.opacity=a.strokeOpacity,i.fillOpacity=a.fillOpacity,i.lineCap=a.strokeLineCap,i.weight=a.strokeWidth,i.dashArray=this.dashStyle(a,1),i}if("Polygon"===t||"MultiPolygon"===t){var s=r||e.polygonStyle;return i.color=s.strokeColor,i.opacity=s.strokeOpacity,i.lineCap=s.strokeLineCap,i.weight=s.strokeWidth,i.fillColor=s.fillColor,i.fillOpacity=s.fillOpacity,i.dashArray=this.dashStyle(s,1),i}}},{key:"dashStyle",value:function(e,t){if(!e)return[];var n=e.strokeWidth*t,r=e.strokeDashstyle;switch(r){case"solid":return[];case"dot":return[1,4*n];case"dash":return[4*n,4*n];case"dashdot":return[4*n,4*n,1,4*n];case"longdash":return[8*n,4*n];case"longdashdot":return[8*n,4*n,1,4*n];default:return r?rQ.isArray(r)?r:(r=eQ.trim(r).replace(/\s+/g,","),r.replace(/\[|\]/gi,"").split(",")):[]}}},{key:"getValidStyleFromCarto",value:function(e,t,n,r,i){if(!n)return null;var o=r.type,a=r.properties.attributes||{},s=this.getDefaultStyle(o);i=void 0===i||i,a.FEATUREID=r.properties.id,a.SCALE=t;for(var l,u,c=o4[o],f=0,h=n.length;f<h;f++){var p=n[f],y=c[p.property],d=p.getValue(a,e,!0);if(null!==d&&y)if("fontSize"===y)i&&(d*=.8),l=d+"px",s.fontSize=l;else if("fontName"===y)u=d,s.fontName=u;else{if("globalCompositeOperation"===y){if(!(d=s4[d]))continue}else if(i&&"iconUrl"===y){d=this.mapUrl+"/tileFeature/symbols/"+d.replace(/(___)/gi,"@"),d=d.replace(/(__0__0__)/gi,"__8__8__"),s.iconUrl=d;continue}"weight"===y&&d<1&&(d=Math.ceil(d)),s[y]=d}}return s}},{key:"getValidStyleFromLayerInfo",value:function(e,t){var n=e.type,r=this.getDefaultStyle(n),i=t&&t.layerStyle;if(!i)return r;if("POINT"===n){var o=Math.ceil(i.markerSize*WW.DOTS_PER_INCH*WW.INCHES_PER_UNIT.mm)||8,a={transparent:!0,resourceType:"SYMBOLMARKER",picWidth:o,picHeight:o,style:JSON.stringify(i)};return r.iconUrl=rQ.urlAppend(this.mapUrl+"/symbol.png",rQ.getParameterString(a)),r.iconSize=[o,o],r}if("TEXT"===n){if(i=e.properties.textStyle||t.layerStyle,r.fontWeight=i.bold?i.fontWeight:"normal",i.fontHeight){var s=i.fontHeight*WW.DOTS_PER_INCH*WW.INCHES_PER_UNIT.mm*.85;r.fontSize=s+"px",r.textHeight=s}if(i.fontName&&(r.fontFamily=i.fontName.indexOf("@")?i.fontName.replace(/@/g,""):i.fontName),i.align){var l=i.align.replace(/TOP|MIDDLE|BASELINE|BOTTOM/,"");r.textAlign=l.toLowerCase()}return r.weight=i.outline?i.outlineWidth:0,i.backColor&&(r.color="rgba("+i.backColor.red+","+i.backColor.green+","+i.backColor.blue+",1)"),i.foreColor&&(r.fillColor="rgba("+i.foreColor.red+","+i.foreColor.green+","+i.foreColor.blue+",1)"),r.rotation=i.rotation||0,r}var u=i.fillSymbolID>7?0:i.fillSymbolID,c=i.lineSymbolID>5?0:i.lineSymbolID;for(var f in i){var h=a4[f];if(h){var p=h.leafletStyle;switch(h.type){case"number":var y=i[f];h.unit&&(y=y*WW.DOTS_PER_INCH*WW.INCHES_PER_UNIT[h.unit]*2.5),r[p]=y;break;case"color":var d=i[f],m=void 0,v=1;if("fillColor"===p)0!==u&&1!==u||(v=1-u,m="rgba("+d.red+","+d.green+","+d.blue+","+v+")");else if("color"===p){if(0===c||5===c)v=0===c?1:0;else{var g=[1,0];switch(c){case 1:g=[9.7,3.7];break;case 2:g=[3.7,3.7];break;case 3:g=[9.7,3.7,2.3,3.7];break;case 4:g=[9.7,3.7,2.3,3.7,2.3,3.7]}r.lineDasharray=g}m="rgba("+d.red+","+d.green+","+d.blue+","+v+")"}r[p]=m}}}return t.textField&&(r.textAlign="LEFT"),r}}]),e}();i2.a.supermap.CartoCSSToLeaflet=l4;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var u4=i2.a.Class.extend({initialize:function(e){e=e||{};var t=e.latLng||e._latLng;this._latLng=i2.a.latLng(t.lat,t.lng),this._style=e.style||e._canvas,this.attributes=e.attributes,this.id=e.id?e.id:null},getId:function(){return this.id},setId:function(e){this.id=e},setLatLng:function(e){this._latLng=e},setCanvas:function(e){this._style=e},setAttributes:function(e){this.attributes=e},getLatLng:function(){return this._latLng},getCanvas:function(){return this._style},getAttributes:function(){return this.attributes},setStyle:function(e){this._style=e},getStyle:function(){return this._style}}),c4=function(e){return new u4(e)};i2.a.supermap.graphic=c4;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var f4=i2.a.Class.extend({initialize:function(e,t){this.geometry=e,this.attributes=t},toFeature:function(){var e,t=this.geometry,n=[];if(t.toGeoJSON)return e=t.toGeoJSON(),e.properties=this.attributes,(new MQ).read(e)[0];if(3===t.length)t=new hQ(t[1],t[0],t[2]);else if(2===t.length)t=new cQ(n[0],n[1]);else if(t instanceof i2.a.LatLng)t=new cQ(t.lng,t.lat);else if(t instanceof i2.a.Point)t=new cQ(t.x,t.y);else if(t instanceof i2.a.CircleMarker){var r=t.getLatLng();t=new cQ(r.lng,r.lat)}return new wQ(t,this.attributes)},reverseLatLngs:function(e){i2.a.Util.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++)e[t]=[e[t].lng,e[t].lat];return e}}),h4=function(e,t){return new f4(e,t)};i2.a.supermap.themeFeature=h4;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var p4=i2.a.Layer.extend({options:{alwaysMapCRS:!1,id:rQ.createUniqueID("themeLayer_"),opacity:1,TFEvents:[],attribution:T8.Common.attribution},initialize:function(e,t){i2.a.Util.setOptions(this,t),this.name=e,this.features=[],this.TFEvents=this.options.TFEvents,this.levelRenderer=new M1,this.movingOffset=[0,0]},getEvents:function(){var e=this,t={zoomend:e._reset,moveend:e._reset,resize:e._resize};return this._map._zoomAnimated&&(t.zoomanim=e._zoomAnim),t},onRemove:function(e){var t=this;i2.a.DomUtil.remove(t.container),e.off("mousemove",t.mouseMoveHandler)},onAdd:function(e){var t=this;if(t.map=t._map=e,t._initContainer(),!t.levelRenderer)return void e.removeLayer(t);var n=e.getSize();t.container.style.width=n.x+"px",t.container.style.height=n.y+"px",t._updateOpacity(),t.renderer=t.levelRenderer.init(t.container),t.renderer.clear(),t.features&&t.features.length>0&&t._reset(),t.addTFEvents(),t.mouseMoveHandler=function(e){var n=e.layerPoint;t.currentMousePosition=i2.a.point(n.x+t.movingOffset[0],n.y+t.movingOffset[1])},e.on("mousemove",t.mouseMoveHandler),t.update(e.getBounds())},addFeatures:function(e){},redrawThematicFeatures:function(e){},destroyFeatures:function(e){if(void 0===e&&(e=this.features),e){this.removeFeatures(e);for(var t=e.length-1;t>=0;t--)e[t].destroy()}},removeFeatures:function(e){var t=this;if(e&&0!==e.length){if(e===t.features)return t.removeAllFeatures();i2.a.Util.isArray(e)||(e=[e]);for(var n=[],r=e.length-1;r>=0;r--){var i=e[r],o=i2.a.Util.indexOf(t.features,i);-1!==o?t.features.splice(o,1):n.push(i)}for(var a=[],s=0,l=t.features.length;s<l;s++)i=t.features[s],a.push(i);t.features=[],t.addFeatures(a),t.renderer&&(t._map?t.redrawThematicFeatures(t._map.getBounds()):t.redrawThematicFeatures());var u=0==n.length;t.fire("featuresremoved",{features:n,succeed:u})}},removeAllFeatures:function(){var e=this;e.renderer&&e.renderer.clear(),e.features=[],e.fire("featuresremoved",{features:[],succeed:!0})},getFeatures:function(){for(var e=this,t=e.features.length,n=new Array(t),r=0;r<t;++r)n[r]=e.features[r];return n},getFeatureBy:function(e,t){var n=this,r=null;for(var i in n.features)if(n.features[i][e]===t){r=n.features[i];break}return r},getFeatureById:function(e){return this.getFeatureBy("id",e)},getFeaturesByAttribute:function(e,t){var n,r=this,i=[];for(var o in r.features)(n=r.features[o])&&n.attributes&&n.attributes[e]===t&&i.push(n);return i},update:function(e){var t=this._map.containerPointToLayerPoint([0,0]);i2.a.DomUtil.setPosition(this.container,t);var n=this;n.renderer&&n.redrawThematicFeatures(e),n.currentMousePosition&&(n.currentMousePosition=i2.a.point(n.currentMousePosition.x-n.movingOffset[0],n.currentMousePosition.y-n.movingOffset[1])),n.movingOffset=[0,0],n._zoom=n._map.getZoom(),n._center=n._map.getCenter()},setOpacity:function(e){var t=this;e!==t.options.opacity&&(isNaN(e)||(t.options.opacity=e,t._updateOpacity()))},redraw:function(){var e=this;return!!e.renderer&&(e._map?e.redrawThematicFeatures(e._map.getBounds()):e.redrawThematicFeatures(),!0)},on:function(e,t,n){return this.renderer?this.renderer.on(e,t):i2.a.Layer.prototype.on.call(this,e,t),this},off:function(e,t,n){var r=this;return r.renderer?r.renderer.un(e,t):i2.a.Layer.prototype.off.call(this,e,t),this},fire:function(e,t,n){return this.renderer&&this.renderer.trigger(e,t),i2.a.Layer.prototype.fire.call(this,e,t,n),this},addTFEvents:function(){for(var e=this,t=e.TFEvents,n=t.length,r=0;r<n;r++)e.renderer.on(t[r][0],t[r][1])},getLocalXY:function(e){if(!this._map)return e;var t=e;i2.a.Util.isArray(e)&&(t=i2.a.point(e[0],e[1])),e instanceof i2.a.Point||(t=e instanceof cQ||e instanceof hQ?i2.a.point(e.x,e.y):i2.a.point(e.lon,e.lat));var n=this._map.latLngToAccurateContainerPoint(this.options.alwaysMapCRS?this._map.options.crs.unproject(t):i2.a.latLng(t.y,t.x));return[n.x,n.y]},toiClientFeature:function(e){rQ.isArray(e)||(e=[e]);for(var t=[],n=0;n<e.length;n++)if(e[n]instanceof f4)t.push(e[n].toFeature());else if(e[n]instanceof wQ)t.push(e[n]);else if(-1!=["FeatureCollection","Feature","Geometry"].indexOf(e[n].type)){var r=new MQ;t=t.concat(r.read(e[n]))}else{if(!e[n].geometry||!e[n].geometry.parts)throw new Error("features[".concat(n,"]'s type is not be supported."));t.push(p$.fromJson(e[n]).toFeature())}return t},toFeature:function(e){return this.toiClientFeature(e)},_initContainer:function(){var e=this.getPane(),t=this._map.options.zoomAnimation&&i2.a.Browser.any3d,n="themeLayer leaflet-layer leaflet-zoom-"+(t?"animated":"hide");this.container=i2.a.DomUtil.create("div",n,e);var r=i2.a.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);this.container.id=this.options.id,this.container.style[r]="50% 50%",this.container.style.position="absolute",this.container.style.zIndex=200},_zoomAnim:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._getCenterOffset(e.center)._multiplyBy(-t).subtract(this._map._getMapPanePos());i2.a.DomUtil.setTransform?i2.a.DomUtil.setTransform(this.container,n,t):this.container.style[i2.a.DomUtil.TRANSFORM]=i2.a.DomUtil.getTranslateString(n)+" scale("+t+")"},_updateOpacity:function(){var e=this;rQ.modifyDOMElement(e.container,null,null,null,null,null,null,e.options.opacity),null!==e._map&&e._map.fire("changelayer",{layer:e,property:"opacity"})},_reset:function(){var e=this,t=e._map.getBounds();e.update(t);var n=e._map.getSize(),r=this._map.containerPointToLayerPoint([0,0]);i2.a.DomUtil.setPosition(this.container,r),parseFloat(e.container.width)!==parseFloat(n.x)&&(e.container.width=n.x+"px"),parseFloat(e.container.height)!==parseFloat(n.y)&&(e.container.height=n.y+"px"),e.redraw()},_resize:function(){var e=this,t=e._map.getSize();e.container.style.width=t.x+"px",e.container.style.height=t.y+"px",e.renderer.resize()}}),y4=p4.extend({options:{nodesClipPixel:2,isHoverAble:!1,isMultiHover:!1,isClickAble:!0,isAllowFeatureStyle:!1},initialize:function(e,t){p4.prototype.initialize.call(this,e,t),i2.a.Util.setOptions(this,t);var n=this;n.cache={},n.cacheFields=[],n.style={},n.highlightStyle={}},addFeatures:function(e){var t=this;t.fire("beforefeaturesadded",{features:e}),this.features=this.toiClientFeature(e),t.isCustomSetMaxCacheCount||(t.maxCacheCount=5*t.features.length),t.renderer&&(t._map?t.redrawThematicFeatures(t._map.getBounds()):t.redrawThematicFeatures())},removeFeatures:function(e){this.clearCache(),p4.prototype.removeFeatures.call(this,arguments)},removeAllFeatures:function(){this.clearCache(),p4.prototype.removeAllFeatures.call(this,arguments)},redrawThematicFeatures:function(e){var t=this,n=t.renderer.getHoverOne(),r=null;if(n&&n.refDataID&&(r=n.refDataID),this.options.alwaysMapCRS&&e&&e instanceof i2.a.LatLngBounds){var i=this._map.options.crs;e=i2.a.bounds(i.project(e.getSouthWest()),i.project(e.getNorthEast()))}e=R8.toSuperMapBounds(e),t.renderer.clearAll();for(var o=t.features,a=t.cache,s=t.cacheFields,l=t._map.getZoom(),u=t.maxCacheCount,c=0,f=o.length;c<f;c++){var h=o[c],p=h.geometry.getBounds();if(!e||e.intersectsBounds(p)){var y=h.id+"_zoom_"+l.toString();if(a[y])a[y].updateAndAddShapes();else{var d=t.createThematicFeature(o[c]);if(!(d.getShapesCount()<1)&&(a[y]=d,s.push(y),s.length>u)){var m=s[0];s.splice(0,1),delete a[m]}}}}if(t.renderer.render(),r&&t.options.isHoverAble&&t.options.isMultiHover){var v=this.getShapesByFeatureID(r);this.renderer.updateHoverShapes(v)}},createThematicFeature:function(e){var t=this,n=t.getStyleByData(e);e.style&&t.isAllowFeatureStyle&&(n=rQ.copyAttributesWithClip(e.style));var r={};r.nodesClipPixel=t.options.nodesClipPixel,r.isHoverAble=t.options.isHoverAble,r.isMultiHover=t.options.isMultiHover,r.isClickAble=t.options.isClickAble,r.highlightStyle=l1.transformStyle(t.highlightStyle);for(var i=new b1(e,t,l1.transformStyle(n),r),o=0;o<i.shapes.length;o++)t.renderer.addShape(i.shapes[o]);return i},redraw:function(){return this.clearCache(),p4.prototype.redraw.apply(this,arguments)},clearCache:function(){this.cache={},this.cacheFields=[]},clear:function(){var e=this;e.renderer.clearAll(),e.renderer.refresh(),e.removeAllFeatures(),e.clearCache()},getCacheCount:function(){return this.cacheFields.length},setMaxCacheCount:function(e){isNaN(e)||(this.maxCacheCount=e,this.isCustomSetMaxCacheCount=!0)},getShapesByFeatureID:function(e){var t=this,n=[],r=t.renderer.getAllShapes();if(!e)return r;for(var i=0,o=r.length;i<o;i++){var a=r[i];a.refDataID&&e===a.refDataID&&n.push(a)}return n}}),d4=y4.extend({initialize:function(e,t){y4.prototype.initialize.call(this,e,t),this.style=[],this.themeField=null,this.styleGroups=[]},getStyleByData:function(e){var t=this,n=e,r=rQ.copyAttributesWithClip({},t.style),i=t.styleGroups,o=!1,a=null,s=t.styleGroups&&t.styleGroups.length>0;if(t.themeField&&s&&n.attributes){var l=t.themeField,u=n.attributes;for(var c in u)if(l===c){o=!0,a=u[c];break}}if(o)for(var f=0,h=i.length;f<h;f++)if(a.toString()===i[f].value.toString()){var p=i[f].style;r=rQ.copyAttributesWithClip(r,p)}return r}}),m4=function(e,t){return new d4(e,t)};i2.a.supermap.uniqueThemeLayer=m4;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var v4=y4.extend({initialize:function(e,t){y4.prototype.initialize.call(this,e,t),this.style=[],this.themeField=null,this.styleGroups=[]},getStyleByData:function(e){var t=this,n=e,r=rQ.copyAttributesWithClip({},t.style),i=t.styleGroups,o=!1,a=null,s=t.styleGroups&&t.styleGroups.length>0;if(t.themeField&&s&&n.attributes){var l=t.themeField,u=n.attributes;for(var c in u)if(l===c){o=!0,a=u[c];break}}if(o)for(var f=0,h=i.length;f<h;f++){var p=f===h-1?a>=i[f].start&&a<=i[f].end:a>=i[f].start&&a<i[f].end;if(p){var y=i[f].style;r=rQ.copyAttributesWithClip(r,y)}}return r}}),g4=function(e,t){return new v4(e,t)};i2.a.supermap.rangeThemeLayer=g4;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var b4=y4.extend({options:{isOverLay:!0,isAvoid:!0},initialize:function(e,t){y4.prototype.initialize.call(this,e,t),i2.a.Util.setOptions(this,t),this.style=[],this.themeField=null,this.styleGroups=[],this.defaultStyle={fontColor:"#000000",fontOpacity:1,fontSize:"12px",fontStyle:"normal",fontWeight:"normal",labelAlign:"cm",labelXOffset:0,labelYOffset:0,labelRotation:0,fill:!1,fillColor:"#ee9900",fillOpacity:.4,stroke:!1,strokeColor:"#ee9900",strokeOpacity:1,strokeWidth:1,strokeLinecap:"round",strokeDashstyle:"solid",labelRect:!0,labelSelect:!0,_isGeoTextStrategyStyle:!0},this.getPxBoundsMode=0,this.labelFeatures=[]},onAdd:function(e){y4.prototype.onAdd.call(this,e),this.container.style.zIndex=200},redrawThematicFeatures:function(e){if(this.features.length>0&&0==this.labelFeatures.length)for(var t=this.setLabelsStyle(this.features),n=0,r=t.length;n<r;n++)this.labelFeatures.push(t[n]);this.features=this.getDrawnLabels(this.labelFeatures),y4.prototype.redrawThematicFeatures.call(this,e)},removeFeatures:function(e){this.labelFeatures=[],y4.prototype.removeFeatures.call(this,arguments)},removeAllFeatures:function(){this.labelFeatures=[],y4.prototype.removeAllFeatures.call(this,arguments)},getDrawnLabels:function(e){for(var t,n,r,i,o=[],a=[],s={labelAlign:"cm",labelXOffset:0,labelYOffset:0},l=this._map,u=l.getSize(),c=l.getZoom(),f=0,h=e.length;f<h;f++){n=e[f],(n.isStyleChange||void 0===n.isStyleChange)&&(n=this.setStyle(n));var p=this.getLabelPxLocation(n);if(p.x>=0&&p.x<=u.x&&p.y>=0&&p.y<=u.y){if(n.style.minZoomLevel>-1&&c<=n.style.minZoomLevel)continue;if(n.style.maxZoomLevel>-1&&c>n.style.maxZoomLevel)continue;var y=null;n.isStyleChange?(n.isStyleChange=null,y=this.calculateLabelBounds(n,p)):y=n.geometry.bsInfo.w&&n.geometry.bsInfo.h?this.calculateLabelBounds2(n,p):this.calculateLabelBounds(n,p);var d=new oQ(0,u.y,u.x,0),m=y.length;if(this.options.isAvoid){var v=this.getAvoidInfo(d,y);if(v){if("left"===v.aspectW){n.style.labelXOffset+=v.offsetX;for(var g=0;g<m;g++)y[g].x+=v.offsetX}else if("right"===v.aspectW){n.style.labelXOffset+=-v.offsetX;for(var b=0;b<m;b++)y[b].x+=-v.offsetX}if("top"===v.aspectH){n.style.labelYOffset+=v.offsetY;for(var S=0;S<m;S++)y[S].y+=v.offsetY}else if("bottom"===v.aspectH){n.style.labelYOffset+=-v.offsetY;for(var _=0;_<m;_++)y[_].y+=-v.offsetY}n.isStyleChange=!0}}if(this.options.isOverLay){var w=!1;if(0!=f)for(var O=0;O<a.length;O++)if(this.isQuadrilateralOverLap(y,a[O])){w=!0;break}if(w)continue;a.push(y)}for(var x=[],C=0;C<m-1;C++)x.push(l.containerPointToLatLng(y[C]));var T=x[3],P=x[1],E=new oQ(T.lng,T.lat,P.lng,P.lat),k=E.getCenterLonLat(),M=new hQ(k.lon,k.lat,n.attributes[this.themeField]);M.calculateBounds(),r=rQ.cloneObject(n.style),i=rQ.cloneObject(rQ.copyAttributes(r,s)),t=new wQ(M,n.attributes,i),t.id=n.id,t.fid=n.fid,o.push(t)}}return o},getStyleByData:function(e){var t=e;if(t.style=rQ.copyAttributes(t.style,this.defaultStyle),this.style&&this.style.fontSize&&parseFloat(this.style.fontSize)<12&&(this.style.fontSize="12px"),t.style=rQ.copyAttributes(t.style,this.style),this.themeField&&this.styleGroups&&t.attributes){var n=this.themeField,r=t.attributes,i=this.styleGroups,o=!1,a=null;for(var s in r)if(n===s){o=!0,a=r[s];break}if(o)for(var l=0,u=i.length;l<u;l++)if(a>=i[l].start&&a<i[l].end){var c=i[l].style;c&&c.fontSize&&parseFloat(c.fontSize)<12&&(c.fontSize="12px"),t.style=rQ.copyAttributes(t.style,c)}t.style.label=t.attributes[this.themeField]}return t.style},setLabelsStyle:function(e){for(var t,n=[],r=0,i=e.length;r<i;r++){var o=e[r];if("SuperMap.Geometry.GeoText"!==o.geometry.CLASS_NAME)return e;(o.geometry.bsInfo.w||o.geometry.bsInfo.h)&&(o.geometry.bsInfo.w=null,o.geometry.bsInfo.h=null,o.geometry.labelWTmp=null),t=this.setStyle(o),t.layer=this.layer,n.push(t)}return n},setStyle:function(e){var t=e;if(t.style=rQ.copyAttributes(t.style,this.defaultStyle),this.style&&this.style.fontSize&&parseFloat(this.style.fontSize)<12&&(this.style.fontSize="12px"),t.style=rQ.copyAttributes(t.style,this.style),this.groupField&&this.styleGroups&&t.attributes){var n=this.groupField,r=t.attributes,i=this.styleGroups,o=!1,a=null;for(var s in r)if(n===s){o=!0,a=r[s];break}if(o)for(var l=0,u=i.length;l<u;l++)if(a>=i[l].start&&a<i[l].end){var c=i[l].style;c&&c.fontSize&&parseFloat(c.fontSize)<12&&(c.fontSize="12px"),t.style=rQ.copyAttributes(t.style,c)}}return t.style.label=t.geometry.text,t},getLabelPxLocation:function(e){var t=e.geometry,n=e.style,r=t.getCentroid(),i=this._map.latLngToContainerPoint(this.options.alwaysMapCRS?this._map.options.crs.unproject(i2.a.point(r.x,r.y)):i2.a.latLng(r.y,r.x)),o=i2.a.point(i.x,i.y);if(n.labelXOffset||n.labelYOffset){var a=isNaN(n.labelXOffset)?0:n.labelXOffset,s=isNaN(n.labelYOffset)?0:n.labelYOffset,l=o.add(i2.a.point(a,-s));return i2.a.point(l.x,l.y)}return i2.a.point(o.x,o.y)},calculateLabelBounds:function(e,t){var n=e.geometry,r=null,i=null;if(0==this.getPxBoundsMode)r=n.getLabelPxBoundsByText(t,e.style);else{if(1!==this.getPxBoundsMode)return null;i=this.getLabelInfo(e.geometry.getCentroid(),e.style),r=n.getLabelPxBoundsByLabel(t,i.w,i.h,e.style)}var o=[];return o=e.style.labelRotation%180==0?[{x:r.left,y:r.top},{x:r.right,y:r.top},{x:r.right,y:r.bottom},{x:r.left,y:r.bottom},{x:r.left,y:r.top}]:this.rotationBounds(r,t,e.style.labelRotation),n.bounds=new oQ(o[1].x,o[3].y,o[2].x,o[4].y),o},calculateLabelBounds2:function(e,t){var n,r,i,o,a,s=e.geometry.bsInfo,l=e.style,u=rQ.cloneObject(t);if(l.labelAlign&&"cm"!==l.labelAlign)switch(l.labelAlign){case"lt":u.x+=s.w/2,u.y+=s.h/2;break;case"lm":u.x+=s.w/2;break;case"lb":u.x+=s.w/2,u.y-=s.h/2;break;case"ct":u.y+=s.h/2;break;case"cb":u.y-=s.h/2;break;case"rt":u.x-=s.w/2,u.y+=s.h/2;break;case"rm":u.x-=s.w/2;break;case"rb":u.x-=s.w/2,u.y-=s.h/2}r=u.x-s.w/2,i=u.y+s.h/2,a=l.fontStyle&&"italic"===l.fontStyle?u.x+s.w/2+parseInt(parseFloat(l.fontSize)/2):u.x+s.w/2,o=u.y-s.h/2,n=new oQ(r,i,a,o);var c=[];return c=l.labelRotation%180==0?[{x:n.left,y:n.top},{x:n.right,y:n.top},{x:n.right,y:n.bottom},{x:n.left,y:n.bottom},{x:n.left,y:n.top}]:this.rotationBounds(n,t,l.labelRotation),e.geometry.bounds=new oQ(c[1].x,c[3].y,c[2].x,c[4].y),c},getLabelInfo:function(e,t){var n={l:"left",r:"right",t:"top",b:"bottom"},r={l:0,r:-1,t:0,b:-1};t=rQ.extend({fontColor:"#000000",labelAlign:"cm"},t);var i=this.getLocalXY(e),o=0;if(t.labelXOffset||t.labelYOffset){var a=isNaN(t.labelXOffset)?0:t.labelXOffset,s=isNaN(t.labelYOffset)?0:t.labelYOffset;i[0]+=a,i[1]-=s}var l=document.createElement("canvas");l.globalAlpha=0,l.lineWidth=1;var u=l.getContext("2d");u.fillStyle=t.fontColor,u.globalAlpha=t.fontOpacity||1;var c,f,h,p=[t.fontStyle?t.fontStyle:"normal","normal",t.fontWeight?t.fontWeight:"normal",t.fontSize?t.fontSize:"1em",t.fontFamily?t.fontFamily:"sans-serif"].join(" "),y=t.label.split("\n"),d=y.length;if(u.fillText){u.font=p,u.textAlign=n[t.labelAlign[0]]||"center",u.textBaseline=n[t.labelAlign[1]]||"middle",c=r[t.labelAlign[1]],null==c&&(c=-.5),f=u.measureText("Mg").height||u.measureText("xx").width,i[1]+=f*c*(d-1);for(var m=0;m<d;m++)h=u.measureText(y[m]).width,o<h&&(o=h)}else if(u.mozDrawText){u.mozTextStyle=p,c=r[t.labelAlign[1]],null==c&&(c=-.5),f=u.mozMeasureText("xx"),i[1]+=f*(1+c*d);for(var v=0;v<d;v++)h=u.measureText(y[v]).width,o<h&&(o=h)}var g={};return o?(g.w=o,g.h=t.fontSize,g.rows=y.length,g):null},rotationBounds:function(e,t,n){var r=i2.a.point(e.left,e.top),i=i2.a.point(e.right,e.top),o=i2.a.point(e.right,e.bottom),a=i2.a.point(e.left,e.bottom),s=[];s.push(this.getRotatedLocation(r.x,r.y,t.x,t.y,n)),s.push(this.getRotatedLocation(i.x,i.y,t.x,t.y,n)),s.push(this.getRotatedLocation(o.x,o.y,t.x,t.y,n)),s.push(this.getRotatedLocation(a.x,a.y,t.x,t.y,n));for(var l=[],u=0;u<s.length;u++)l.push({x:s[u].x,y:s[u].y});return l.push({x:s[0].x,y:s[0].y}),l},getRotatedLocation:function(e,t,n,r,i){var o,a,s={};return t=-t,r=-r,i=-i,o=(e-n)*Math.cos(i/180*Math.PI)-(t-r)*Math.sin(i/180*Math.PI)+n,a=(e-n)*Math.sin(i/180*Math.PI)+(t-r)*Math.cos(i/180*Math.PI)+r,s.x=o,s.y=-a,s},getAvoidInfo:function(e,t){function n(t){if(!e.contains(t.x,t.y)){if(t.y<e.top){var n=Math.abs(e.top-t.y);n>l&&(l=n,u="top")}if(t.y>e.bottom){var r=Math.abs(t.y-e.bottom);r>l&&(l=r,u="bottom")}if(t.x<e.left){var i=Math.abs(e.left-t.x);i>s&&(s=i,c="left")}if(t.x>e.right){var o=Math.abs(t.x-e.right);o>s&&(s=o,c="right")}}}if(5!==t.length)return null;for(var r=[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom},{x:e.left,y:e.top}],i=!1,o=r.length,a=t.length,s=0,l=0,u="",c="",f=0;f<o-1;f++)for(var h=0;h<a-1;h++){var p=rQ.lineIntersection(r[f],r[f+1],t[h],t[h+1]);"SuperMap.Geometry.Point"===p.CLASS_NAME&&(n(t[h]),n(t[h+1]),i=!0)}return i?{aspectW:c,aspectH:u,offsetX:s,offsetY:l}:null},isQuadrilateralOverLap:function(e,t){var n=e.length,r=t.length;if(5!==n||5!==r)return null;for(var i=!1,o=0;o<n;o++)if(this.isPointInPoly(e[o],t)){i=!0;break}for(var a=0;a<r;a++)if(this.isPointInPoly(t[a],e)){i=!0;break}for(var s=0;s<n-1&&!i;s++)for(var l=0;l<r-1;l++){var u=rQ.lineIntersection(e[s],e[s+1],t[l],t[l+1]);if("SuperMap.Geometry.Point"===u.CLASS_NAME){i=!0;break}}return i},isPointInPoly:function(e,t){for(var n=!1,r=-1,i=t.length,o=i-1;++r<i;o=r)(t[r].y<=e.y&&e.y<t[o].y||t[o].y<=e.y&&e.y<t[r].y)&&e.x<(t[o].x-t[r].x)*(e.y-t[r].y)/(t[o].y-t[r].y)+t[r].x&&(n=!n);return n}}),S4=function(e,t){return new b4(e,t)};i2.a.supermap.labelThemeLayer=S4;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var _4=P8.extend({initialize:function(e,t){P8.prototype.initialize.call(this,e,t)},getFeaturesByIDs:function(e,t,n){var r=this;new QK(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},getFeaturesByBounds:function(e,t,n){var r=this;new VK(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},getFeaturesByBuffer:function(e,t,n){var r=this;new JK(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},getFeaturesBySQL:function(e,t,n){var r=this;new KK(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},getFeaturesByGeometry:function(e,t,n){var r=this;new WK(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},editFeatures:function(e,t){if(e&&e.dataSourceName&&e.dataSetName){var n=this,r=n.url;r+="/datasources/"+e.dataSourceName+"/datasets/"+e.dataSetName;new tK(r,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{processCompleted:t,processFailed:t}}).processAsync(n._processParams(e))}},_processParams:function(e){if(!e)return{};e.returnContent=null==e.returnContent||e.returnContent,e.fromIndex=e.fromIndex?e.fromIndex:0,e.toIndex=e.toIndex?e.toIndex:-1,e.isUseBatch=null!=e.isUseBatch&&e.isUseBatch,e.bounds&&(e.bounds=R8.toSuperMapBounds(e.bounds)),e.geometry&&(e.geometry=D8(e.geometry)),e.editType&&(e.editType=e.editType.toLowerCase());var t=this;if(e.features){var n=[];i2.a.Util.isArray(e.features)?e.features.map(function(e){return n.push(t._createServerFeature(e)),e}):n.push(t._createServerFeature(e.features)),e.features=n}return e},_createServerFeature:function(e){var t,n={},r=[],i=[];t=e||{};for(var o in t.properties)r.push(o),i.push(t.properties[o]);return n.fieldNames=r,n.fieldValues=i,t.id&&(n.id=t.id),n.geometry=D8(t),n},_processFormat:function(e){return e||YW.GEOJSON}}),w4=function(e,t){return new _4(e,t)};i2.a.supermap.featureService=w4;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var O4=i2.a.Path.extend({options:{fontStyle:"normal",fontWeight:"normal",fontSize:"1em",fontFamily:"sans-serif",textAlign:"center",textBaseline:"middle",vfactor:-.5,labelRotation:0,globalAlpha:1,label:""},initialize:function(e,t){i2.a.Util.setOptions(this,t),this._latlng=e},setLatLng:function(e){return this._latlng=e,this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._clickTolerance(),t=[e,e];this._pxBounds=new i2.a.Bounds(this._point.subtract(t),this._point.add(t))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateUnicode(this)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._clickTolerance()}}),x4=function(e,t){return new O4(e,t)};i2.a.Canvas.include({_updateUnicode:function(e){if(this._drawing){var t={x:e._point.x,y:e._point.y},n=this._ctx,r=[e.options.fontStyle,"normal",e.options.fontWeight,e.options.fontSize,e.options.fontFamily].join(" "),i=e.options.label.replace(/^&#x/,"");i=String.fromCharCode(parseInt(i,16));var o=i.split("\n"),a=o.length;if(n.fillStyle=e.options.fontColor,n.globalAlpha=1,e.options.fontOpacity>=0&&e.options.fontOpacity<1&&(n.globalAlpha=e.options.fontOpacity),n.fillText){n.font=r,n.textAlign=e.options.textAlign,n.textBaseline=e.options.textBaseline;var s=e.options.vfactor,l=n.measureText("Mg").height||n.measureText("xx").width;t.y+=l*s*(a-1);for(var u=0;u<a;u++)0!=e.options.labelRotation?(n.save(),n.translate(t.x,t.y),n.rotate(e.options.labelRotation*Math.PI/180),n.fillText(o[u],0,l*u),n.restore()):n.fillText(o[u],t.x,t.y)}else if(n.mozDrawText){n.mozTextStyle=r;var c=e.options.textAlign,f=e.options.vfactor,h=n.mozMeasureText("xx");t.y+=h*(1+f*a);for(var p=0;p<a;p++){var y=t.x+c*n.mozMeasureText(o[p]),d=t.y+p*h;n.translate(y,d),n.mozDrawText(o[p]),n.translate(-y,-d)}}}}}),i2.a.supermap.unicodeMarker=x4;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var C4=i2.a.LayerGroup.extend({options:{map:"map",server:"https://www.supermapol.com",featureLayerPopupEnable:!0,featureLayerPopup:null,credentialValue:null,credentialKey:"key",attribution:T8.Online.attribution},defaultFeatureLayerPopup:function(e){return e.feature.properties.attributes.title+":"+e.feature.properties.attributes.description},initialize:function(e,t){(e||t)&&(this._layers={},i2.a.setOptions(this,t),this.id=e,this.load(),this.cartoCSSToLeaflet=new l4)},load:function(){this.options.server.indexOf("http://")<0&&this.options.server.indexOf("https://")<0&&(this.options.server="http://"+this.options.server);var e=this.options.server+"/web/maps/"+this.id+".json";this.options.credentialValue&&(e+="?"+this.options.credentialKey+"="+this.options.credentialValue);var t=this;BQ.get(e).then(function(e){return e.json()}).then(function(e){if(e){var n=e.layers;t.mapInfo=e,t.createLayersByJson(n)}})},addLayerWrapper:function(e,t,n){return t&&this.createMap(n),this.addLayer(e),e.labelLayer&&this.addLayer(e.labelLayer),this},createLayersByJson:function(e){if(i2.a.Util.isArray(e)&&0!==e.length){this.layers=[];for(var t=[],n=0;n<e.length;n++){var r=e[n];r._originIndex=n;"BASE_LAYER"===(r.layerType=r.layerType||"BASE_LAYER")?(r.isBaseLayer=!0,this.createLayer(r.type,r)):t.unshift(r)}for(;t.length>0;){var i=t.pop(),o=i.type,a=i.layerType=i.layerType||"BASE_LAYER";"OVERLAY_LAYER"!==a&&(o=a),this.createLayer(o,i)}this.fire("maploaded",{map:this._map})}},createCRS:function(e,t,n,r,i){return e<0?new s2({bounds:i,origin:r,resolutions:n}):910112===e||910102===e?i2.a.CRS.BaiduCRS:(910111===e&&(e=3857),910101===e&&(e=4326),i2.a.Proj.CRS("EPSG:"+e,{origin:r,resolutions:n,bounds:i}))},createMap:function(e){var t=e.crs||i2.a.CRS.EPSG3857,n=i2.a.latLngBounds(t.unproject(e.bounds.min),t.unproject(e.bounds.max));this._map=i2.a.map(this.options.map,{center:n.getCenter(),maxZoom:e.maxZoom||22,minZoom:e.minZoom||0,zoom:e.zoom||0,crs:t,renderer:i2.a.canvas()}),t instanceof s2?this._map.setZoom(e.zoom?e.zoom+2:2,{maxZoom:e.maxZoom||22}):this._map.fitBounds(n,{maxZoom:e.maxZoom||22})},getResolutionsFromScales:function(e,t,n,r){for(var i=[],o=0;o<e.length;o++)i.push(i2.a.Util.GetResolutionFromScaleDpi(e[o],t,n,r));return i},createLayer:function(e,t){var n=t.prjCoordSys,r=n&&n.epsgCode||this.mapInfo.epsgCode,i=this.mapInfo.center||t.center,o=this.mapInfo.level||t.level,a=this.mapInfo.extent||t.bounds,s=t.scales,l=t.isBaseLayer,u=t.opacity,c=i2.a.bounds([a.leftBottom.x,a.leftBottom.y],[a.rightTop.x,a.rightTop.y]),f=t.bounds?i2.a.bounds([t.bounds.leftBottom.x,t.bounds.leftBottom.y],[t.bounds.rightTop.x,t.bounds.rightTop.y]):c;i||(i=f.getCenter());var h,p=i2.a.point(f.min.x,f.max.y),y=s?this.getResolutionsFromScales(s,96,t.units):null,d=this.createCRS(r,n?n.type:"",y,p,f),m={bounds:c,center:i2.a.point(i.x,i.y),crs:d,zoom:o};switch(e){case"SUPERMAP_REST":h=t4(t.url,{transparent:!0,opacity:u});break;case"SUPERMAP_REST_VECTOR":break;case"TIANDITU_VEC":case"TIANDITU_IMG":case"TIANDITU_TER":m.crs=4326===r?i2.a.CRS.TianDiTu_WGS84:i2.a.CRS.TianDiTu_Mercator,m.minZoom=1,m.zoom=1+m.zoom,h=this.createTiandituLayer(t);break;case"BAIDU":m.crs=i2.a.CRS.BaiduCRS,m.zoom=3+m.zoom,m.minZoom=3,h=J8();break;case"BING":break;case"WMS":h=this.createWmsLayer(t);break;case"WMTS":m.resolutions=this.getResolutionsFromScales(s,90.71446714322,t.units);var v=t.identifier,g=v.substring(v.indexOf("_")+1);h=K8(t.url,{layer:g,style:"default",tilematrixSet:v,format:"image/png"});break;case"CLOUD":m.crs=i2.a.CRS.EPSG3857,m.zoom=3+m.zoom,m.minZoom=3,h=W8(t.url,{opacity:u});break;case"MARKER_LAYER":h=this.createMarkersLayer(t,d);break;case"FEATURE_LAYER":"ANIMATORVECTOR"==t.identifier||(h="THEME"==t.identifier?this.createThemeLayer(t):this.createVectorLayer(t,d));break;default:throw new Error("unSupported Layer Type")}h&&t.isVisible&&this.addLayerWrapper(h,l,m)},createTiandituLayer:function(e){var t=e.type.split("_")[1].toLowerCase(),n="OVERLAY_LAYER"===e.layerType;return new Z8({layerType:t,isLabel:n})},createMarkersLayer:function(e,t){var n=this,r=e.markers||[],i=function(e){var n=t.unproject(i2.a.point(e[0],e[1]));return new i2.a.LatLng(n.lat,n.lng,e[2])},o=i2.a.geoJSON(i2.a.Util.toGeoJSON(r),{pointToLayer:function(e,t){var n=new i2.a.Marker(t);return n.setStyle=function(e){e&&n.setIcon(e)},n},coordsToLatLng:i,style:function(e){return n.cartoCSSToLeaflet.getStyleFromiPortalMarker(e.properties.icon)}});return this.options.featureLayerPopupEnable&&o.bindPopup(this.options.featureLayerPopup||this.defaultFeatureLayerPopup),o},createWmsLayer:function(e){var t=e.url,n=e.opacity,r=e.subLayers;return r&&"undefined"!==r&&"null"!==r||(r="0"),i2.a.tileLayer.wms(t,{layers:r,format:"image/png",transparent:!0,noWrap:!0,opacity:n})},createVectorLayer:function(e,t){var n=this,r=e.style,i=e.opacity,o=this,a=function(e){var n=t.unproject(i2.a.point(e[0],e[1]));return new i2.a.LatLng(n.lat,n.lng,e[2])};if(!e.url){var s=i2.a.geoJSON(i2.a.Util.toGeoJSON(e.features),{pointToLayer:function(e,t){var n=new i2.a.Marker(t);return n.setStyle=function(e){e&&n.setIcon(e)},n},coordsToLatLng:a,style:function(e){var t=o.cartoCSSToLeaflet.getStyleFromiPortalStyle(r||{},e.geometry.type,e.properties.style);return t.dashArray&&0==t.dashArray.length&&(t.dashArray=null),t},opacity:i});return this.options.featureLayerPopupEnable&&s.bindPopup(this.options.featureLayerPopup||this.defaultFeatureLayerPopup),s}for(var l=e.url,u=e.name,c=e.features,f=0;f<c.length;f++){var h=c[f];h.visible&&this.getFeaturesBySQL(l,u,h.name,"",YW.GEOJSON,function(e){var t=i2.a.geoJSON(e.result,{pointToLayer:function(e,t){var n=new i2.a.Marker(t);return n.setStyle=function(e){e&&n.setIcon(e)},n},coordsToLatLng:a,style:function(e){return this.cartoCSSToLeaflet.getStyleFromiPortalStyle(r||{},e.geometry.type,e.properties.style)},opacity:i});n.options.featureLayerPopupEnable&&t.bindPopup(o.options.featureLayerPopup||o.defaultFeatureLayerPopup),n.addLayer(t)})}},getFeaturesBySQL:function(e,t,n,r,i,o){r=r||"SMID > 0";var a=new XK({queryParameter:{name:n+"@"+t,attributeFilter:r},datasetNames:[t+":"+n],fromIndex:0,toIndex:1e5});w4(e).getFeaturesBySQL(a,o,i)},createThemeLayer:function(e){var t,n=this,r=e.themeSettings&&JSON.parse(e.themeSettings),i=r.type;if(e.themeSettings=r,t="HEAT"===i?this.createHeatLayer(e,r):"UNIQUE"===i?this.createUniqueLayer(e,r):"RANGE"===i?this.createRangeLayer(e,r):this.createBaseThemeLayer(e,r),t&&(this.addFeature2ThemeLayer(e,t),t.on("add",function(e){n.registerThemeEvent(e.target)})),r&&r.labelField){var o=this.createLabelLayer(e,r);o.on("add",function(e){n.registerThemeEvent(e.target)}),t.labelLayer=o}return t},createBaseThemeLayer:function(e,t){var n=e.style,r=e.opacity,i=t.vectorType,o=n.pointStyle;o.fill="LINE"!==i;var a={};a.radius=o.pointRadius,a.color=o.strokeColor,a.opacity=o.strokeOpacity,a.lineCap=o.strokeLineCap,a.weight=o.strokeWidth,a.fillColor=o.fillColor,a.fillOpacity=o.fillOpacity;var s=function(e,t){return i2.a.circleMarker(t,a)};return o.unicode&&(s=function(e,t){return new O4(t,o)}),i2.a.geoJSON({type:"GeometryCollection",geometries:[]},{pointToLayer:s,opacity:r})},createUniqueLayer:function(e,t){for(var n=e.title,r=t.field,i=[],o=t.settings,a=e.isVisible,s=e.opacity,l=t.vectorType,u=0;u<o.length;u++){var c={};c.value=o[u].value,c.style=o[u].style,i.push(c)}var f=new d4(n,{opacity:s,visibility:a});this.registerThemeEvent(f),f.style=e.style.pointStyle,f.style.fill="LINE"!==l,f.style.stroke=!0,f.themeField=r,f.styleGroups=i;var h=this;return f.on("click",function(e){if(e.target&&e.target.refDataID){var t=f.getFeatureById(e.target.refDataID);h.events.triggerEvent("uniquefeatureclicked",t,f)}}),f},createRangeLayer:function(e,t){var n=e.title,r=t.field,i=[],o=t.settings,a=e.isVisible,s=e.opacity,l=t.vectorType,u=e.style.pointStyle;u.fill="LINE"!==l;for(var c=0;c<o.length;c++){var f={};f.start=o[c].start,f.end=o[c].end,f.style=o[c].style,i.push(f)}var h=new v4(n,{visibility:a,opacity:s});return this.registerThemeEvent(h),h.style=e.style.pointStyle,h.style.stroke=!0,h.themeField=r,h.styleGroups=i,h},createLabelLayer:function(e,t){var n,r=e.title,i=t.labelField,o=t.settings,a=e.isVisible;n=!o||o.length>0?{fillColor:"#ffffff"}:o[0].style;var s=i2.a.Util.extend(new k0,n);s.fontWeight="bold",s.fontSize="14px",s.labelRect=!0,s.strokeColor=s.fillColor,s.fontColor=t.labelColor,t.labelFont&&(s.fontFamily=t.labelFont);var l=new b4(r,{visibility:a,opacity:.7});return this.registerThemeEvent(l),l.style=s,l.themeField=i,l.styleGroups=[],l},createHeatLayer:function(e,t){for(var n,r=t.colors||["blue","cyan","lime","yellow","red"],i={},o=0,a=r.length,s=1;o<a;o++)i[s/a]=r[o],s++;var l=t.settings[0].radius;return"åç±³"!==t.heatUnit&&"km"!==t.heatUnit||(l=1e3*t.heatRadius),t.settings[0]&&t.settings[0].featureWeight&&(n=t.settings[0].featureWeight),i2.a.heatLayer([],{radius:l/2,minOpacity:e.opacity,gradient:i,blur:l/2,featureWeight:n})},addFeature2ThemeLayer:function(e,t){function n(n){if(t&&t.labelLayer instanceof b4&&i.addFeature2LabelLayer(t.labelLayer,n,e),i2.a.HeatLayer&&t instanceof i2.a.HeatLayer){for(var r=[],o=0,a=n.length;o<a;o++){var s=n[o].geometry;r[o]=i2.a.latLng(s.y,s.x),t.options.featureWeight&&(r[o]=[r[o].lat,r[o].lng,parseFloat(n[o].attributes[t.options.featureWeight])])}t.setLatLngs(r)}else t instanceof i2.a.GeoJSON?t.addData((new MQ).toGeoJSON(n)):t.addFeatures(n)}var r=this;if("FEATURE_LAYER"===e.layerType&&"THEME"===e.identifier){var i=this,o=!!e.datasourceName,a=e.cartoCSS;if(a)var s=this.getCartoCSS2Obj(a).needTransform,l=this.getCartoCSS2Obj(a).isAddFile;var u,c,f,h=e.url,p=e.credential,y=e.themeSettings,d=y.filter;if(l){var m=JSON.parse(e.datasourceName),v=this.getSQLFromFilter(d);if(h)this.getFeatureFromFileAdded(e,function(r){var o,a,l=[];if("EXCEL"===r.type||"CSV"===r.type){o=i.parseFeatureFromEXCEL.apply(i,[r.content.rows,r.content.colTitles,!1,m]);for(var u=0,c=o.length;u<c;u++)a=r4()({attr:o[u].attributes},v),a.length>0&&l.push(o[u])}else{o=i.parseFeatureFromJson(r.content);for(var f=0,h=o.length;f<h;f++)a=r4()({attr:o[f].attributes},v),a.length>0&&l.push(o[f])}var p=e.prjCoordSys&&e.prjCoordSys.epsgCode;s?i.changeFeatureLayerEpsgCode(p,"4326",t,l,function(e){n(e)}):n(l)},function(){});else{for(var g=[],b=e.features,S=0,_=b.length;S<_;S++){var w=b[S];if(r4()({attr:w.attributes},v).length>0){var O=w.geometry.points[0].x,x=w.geometry.points[0].y,C=new cQ(O,x),T=new wQ(C,w.attributes,w.style);g.push(T)}}n(g)}}else if(o){var P=e.datasourceName;u=e.subLayers&&JSON.parse(e.subLayers),c=u.length&&u.length>0?u[0]:u,f=c&&c.name,this.getFeaturesBySQL(e.url,P,f,y.filter,YW.ISERVER,function(i){var o,a,l=i.result,u=[];if(l&&l.features){o=l.features;for(var c=0,f=o.length;c<f;c++)a=p$.fromJson(o[c]).toFeature(),u.push(a);var h=e.prjCoordSys&&e.prjCoordSys.epsgCode;s?r.changeFeatureLayerEpsgCode(h,"4326",t,u,function(e){n(e)}):n(o)}})}else{u=e.subLayers&&JSON.parse(e.subLayers),c=u.length&&u.length>0?u[0]:u,f=c&&c.name;var E=e.prjCoordSys&&e.prjCoordSys.epsgCode;this.getFeaturesBySQL(h,p,f,d,YW.ISERVER,function(e){s?i.changeFeatureLayerEpsgCode(E,"4326",t,e,function(e){n(e)}):n(e)})}}},addFeature2LabelLayer:function(e,t,n){if(t){var r,i,o=n.themeSettings;o="string"==typeof o?JSON.parse(n.themeSettings):n.themeSettings;for(var a,s=o.labelField,l=e.style,u=[],c=n.styleString&&JSON.parse(n.styleString),f=0;f<t.length;f++){a=this.getLabelLngLat(o.vectorType,t[f]),this.setLabelOffset(o.vectorType,c,t[f],l),r=t[f];var h=r.attributes;i=new f4([a.lat,a.lng,h[s]],h),u.push(i)}e.style=l,e.addFeatures(u)}},setLabelOffset:function(e,t,n,r){if("POINT"===e){var i=t.pointStyle.pointRadius||0,o=t.pointStyle.strokeWidth||0,a=parseInt(t.pointStyle.fontSize)||0;r.labelXOffset=0,r.labelYOffset=t.pointStyle.unicode?20+a:25+(i+o)}},getLabelLngLat:function(e,t){var n={};if("POINT"===e){var r=t.geometry;n.lng=r.x,n.lat=r.y}else if("LINE"===e){var i,o,a=t.geometry.components;if(a[0].x)i=a.length,o=parseInt(i/2),n.lng=a[o].x,n.lat=a[o].y;else{var s=a[0].components;i=s.length,o=parseInt(i/2),n.lng=s[o].x,n.lat=s[o].y}}else{var l=t.geometry.getCentroid();n.lng=l.x,n.lat=l.y}return n},changeFeatureLayerEpsgCode:function(e,t,n,r,i){var o,a,s=this,l=[];if(e&&t){if(r&&r.length>0){for(o=0,a=r.length;o<a;o++){var u=r[o],c=u.geometry,f=c.getVertices();l=l.concat(f)}e="EPSG:"+e,t="EPSG:"+t,s.coordsTransform(e,t,l,function(e,t){return function(e){var n=e.length;for(o=0;o<n;o++){var r=l[o],a=e[o];r.x=a.x,r.y=a.y,r.calculateBounds()}for(o=0,n=t.length;o<n;o++){var u=t[o],c=u.geometry;c.components&&s.calculateComponents(c.components),c.calculateBounds()}i&&i.call(s,t)}}(0,r))}return!0}},calculateComponents:function(e){if(e)if(e.components)this.calculateComponents(e.components);else for(var t=0,n=e.length;t<n;t++){var r=e[t];r.components&&this.calculateComponents(r.components),r.calculateBounds()}},coordsTransform:function(e,t,n,r){var i,o=this.SERVER_TYPE_MAP[e],a=this.SERVER_TYPE_MAP[t];if(e!==t&&o&&a){var s=this.SERVER_TYPE_MAP["EPSG:3857"],l=this.SERVER_TYPE_MAP["EPSG:4326"];if(o!==s&&o!==l||a!==s&&a!==l){var u=o+"_"+a;this.postTransform(u,n,r)}else this.projTransform(e,t,n,r)}else{if(n&&void 0!==n.length){i=[];for(var c=0,f=n.length;c<f;c++){var h={x:n[c].x,y:n[c].y};i.push(h)}}else i={x:n.x,y:n.y};r&&r.call(this,i)}},projTransform:function(e,t,n,r){var i,o=this;if(d8){if(n&&void 0!==n.length){i=[];for(var a=0,s=n.length;a<s;a++){var l=d8(e,t,[n[a].x,n[a].y]);i.push({x:l[0],y:l[1]})}}else i=d8(e,t,[n.x,n.y]),i={x:i[0],y:i[1]};r&&(o.fire("coordconvertsuccess",{newCoor:i}),r.call(o,i))}},postTransform:function(e,t,n){var r=this,i=this,o=[];if(!e)return n.call(i,null);if(t&&void 0!==t.length)for(var a=0,s=t.length;a<s;a++)o.push({x:t[a].x,y:t[a].y});else o=[{x:t.x,y:t.y}];if(0===o.length)return n.call(i,null);var l={convertType:e,points:o},u=this.server+"/apps/viewer/coordconvert.json";l=JSON.stringify(l);var c={};!rQ.isInTheSameDomain(u)&&this.proxy&&(c.proxy=this.proxy),BQ.post(u,l,c).then(function(e){return e.json()}).then(function(e){var i=e;t||void 0===t.length||(i=i[0]),r.fire("coordconvertsuccess",{newCoors:i}),n.call(r,i)}).catch(function(e){r.actived&&r.fire("coordconvertfailed",{err:e})})},getSQLFromFilter:function(e){return e?" *  where ("+(e=e.replace(/=/g,"==").replace(/and|AND/g,"&&").replace(/or|OR/g,"||").replace(/>==/g,">=").replace(/<==/g,"<="))+")":" * where (1==1||1>=0)"},getAttributesObjFromTable:function(e,t){if(0!==e.length&&0!==t.length){for(var n=[],r=0;r<e.length;r++){for(var i={},o=0;o<t.length;o++)i[t[o]]=e[r][o];n.push(i)}return n}},parseFeatureFromEXCEL:function(e,t,n,r){for(var i=this.getAttributesObjFromTable(e,t),o=[],a=0,s=i.length;a<s;a++){var l=i[a][r.lon],u=i[a][r.lat];if(l&&u){l=parseFloat(l),u=parseFloat(u);var c,f=new cQ(l,u);c=n?new u4(f,i[a],null):new wQ(f,i[a],null),o.push(c)}}return o},parseFeatureFromJson:function(e){var t=new MQ,n=t.read(e);if(null==n){var r=JSON.parse(e.replace(/'/,'"'));(r.isAnalyseResult||"MapEditor"===r.type||"DataInsights"===r.type||"ISERVER"===r.type)&&(r=r.data.recordsets[0].features),t=new MQ,n=t.read(r)}for(var i=0,o=n.length;i<o;i++)n[i].attributes=n[i].attributes.properties||n[i].attributes;return n},getFeatureFromFileAdded:function(e,t,n,r){var i=r?e.url+"?currentPage=1&&pageSize=9999999":e.url;BQ.get(i).then(function(e){return e.json()}).then(function(e){t&&t(e)}).catch(function(e){return n&&n(e)})},getCartoCSS2Obj:function(e){var t,n=!1;return e.indexOf("}")>-1?(e=JSON.parse(e),n=e.needTransform,t=e.isAddFile):"needTransform"===e?(n=!0,t=!1):t="true"===e,{isAddFile:t,needTransform:n}},registerThemeEvent:function(e){var t=this;e.on("click",function(n){if(e.map){t.selectedFeature&&(t.fire("featureunselected",{feature:t.selectedFeature}),t.selectedFeature=null);var r;n.target&&n.target.refDataID&&(r=e.getFeatureById(n.target.refDataID)),r&&(t.selectedFeature=r,t.fire("featureselected",{feature:r}))}}),e.on("mousemove",function(n){if(e.map&&n.target&&n.target.refDataID){var r;n.target&&n.target.refDataID&&(r=e.getFeatureById(n.target.refDataID)),r&&t.fire("featuremousemove",{feature:r})}})},SERVER_TYPE_MAP:{"EPSG:4326":"WGS84","EPSG:3857":"MERCATOR","EPSG:900913":"MERCATOR","EPSG:102113":"MERCATOR","EPSG:910101":"GCJ02","EPSG:910111":"GCJ02MERCATOR","EPSG:910102":"BD","EPSG:910112":"BDMERCATOR"}}),T4=function(e,t){return new C4(e,t)};i2.a.supermap.webmap=T4;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var P4=P8.extend({options:{geometry:null,prjCoordSys:null,excludeField:null},initialize:function(e,t){t=t||{},i2.a.setOptions(this,t),t.projection&&(this.options.prjCoordSys=t.projection),P8.prototype.initialize.call(this,e,t),this.dataFlow=new VX(e,t),this.dataFlow.events.on({broadcastSocketConnected:this._defaultEvent,broadcastSocketError:this._defaultEvent,broadcastFailed:this._defaultEvent,broadcastSucceeded:this._defaultEvent,subscribeSocketConnected:this._defaultEvent,subscribeSocketError:this._defaultEvent,messageSucceeded:this._defaultEvent,setFilterParamSucceeded:this._defaultEvent,scope:this})},initBroadcast:function(){return this.dataFlow.initBroadcast(),this},broadcast:function(e){this.dataFlow.broadcast(e)},initSubscribe:function(){return this.dataFlow.initSubscribe(),this},setExcludeField:function(e){return this.dataFlow.setExcludeField(e),this.options.excludeField=e,this},setGeometry:function(e){return this.dataFlow.setGeometry(e),this.options.geometry=e,this},unSubscribe:function(){this.dataFlow.unSubscribe()},unBroadcast:function(){this.dataFlow.unBroadcast()},_defaultEvent:function(e){this.fire(e.eventType||e.type,e)}}),E4=function(e,t){return new P4(e,t)};i2.a.supermap.dataFlowService=E4;var k4=n(6),M4=k4.baiduMapLayer?k4.baiduMapLayer.__proto__:Function,A4=function(e){function t(e,n,r,i){var o;if(Vq(this,t),o=qq(this,Xq(t).call(this,e,r,i)),!M4)return qq(o);var a=Wq(o);return i=i||{},a.init(i),a.argCheck(i),o.canvasLayer=n,o.clickEvent=o.clickEvent.bind(Wq(o)),o.mousemoveEvent=o.mousemoveEvent.bind(Wq(o)),o._moveStartEvent=o.moveStartEvent.bind(Wq(o)),o._moveEndEvent=o.moveEndEvent.bind(Wq(o)),o._zoomStartEvent=o.zoomStartEvent.bind(Wq(o)),o.bindEvent(),o}return Kq(t,e),Jq(t,[{key:"clickEvent",value:function(e){var n=this.map.containerPointToLayerPoint([0,0]),r=this.devicePixelRatio=this.canvasLayer.devicePixelRatio=window.devicePixelRatio||1,i=e.layerPoint;Yq(Xq(t.prototype),"clickEvent",this).call(this,i2.a.point((i.x-n.x)/r,(i.y-n.y)/r),e)}},{key:"mousemoveEvent",value:function(e){var n=e.layerPoint;Yq(Xq(t.prototype),"mousemoveEvent",this).call(this,n,e)}},{key:"bindEvent",value:function(){var e=this.map;this.options.methods&&(this.options.methods.click&&e.on("click",this.clickEvent),this.options.methods.mousemove&&e.on("mousemove",this.mousemoveEvent)),this.map.on("movestart",this._moveStartEvent),this.map.on("moveend",this._moveEndEvent),this.map.on("zoomstart",this._zoomStartEvent)}},{key:"destroy",value:function(){this.unbindEvent(),this.clearData(),this.animator&&this.animator.stop(),this.animator=null,this.canvasLayer=null}},{key:"unbindEvent",value:function(){var e=this.map;this.options.methods&&(this.options.methods.click&&e.off("click",this.clickEvent),this.options.methods.mousemove&&e.off("mousemove",this.mousemoveEvent)),this.map.off("movestart",this._moveStartEvent),this.map.off("moveend",this._moveEndEvent),this.map.off("zoomstart",this._zoomStartEvent)}},{key:"getContext",value:function(){return this.canvasLayer.getCanvas().getContext(this.context)}},{key:"addData",value:function(e,t){var n=e;e&&e.get&&(n=e.get()),this.dataSet.add(n),this.update({options:t})}},{key:"update",value:function(e){var n=e||{},r=n.data;r&&r.get&&(r=r.get()),void 0!=r&&this.dataSet.set(r),Yq(Xq(t.prototype),"update",this).call(this,{options:n.options})}},{key:"getData",value:function(){return this.dataSet}},{key:"removeData",value:function(e){if(this.dataSet){var t=this.dataSet.get({filter:function(t){return null==e||"function"!=typeof e||!e(t)}});this.dataSet.set(t),this.update({options:null})}}},{key:"clearData",value:function(){this.dataSet&&this.dataSet.clear(),this.update({options:null})}},{key:"_canvasUpdate",value:function(e){if(this.canvasLayer){var t=this,n=t.options.animation,r=this.getContext(),i=this.map;if(t.isEnabledTime()){if(void 0===e)return void this.clear(r);"2d"===this.context&&(r.save(),r.globalCompositeOperation="destination-out",r.fillStyle="rgba(0, 0, 0, .1)",r.fillRect(0,0,r.canvas.width,r.canvas.height),r.restore())}else this.clear(r);if("2d"===this.context)for(var o in t.options)r[o]=t.options[o];else r.clear(r.COLOR_BUFFER_BIT);if(!(t.options.minZoom&&i.getZoom()<t.options.minZoom||t.options.maxZoom&&i.getZoom()>t.options.maxZoom)){var a=i.getBounds(),s=a.getEast()-a.getWest(),l=a.getNorth()-a.getSouth(),u=i.getSize(),c=s/u.x,f=l/u.y,h=F8("DEGREE")*c,p=this.canvasLayer.getTopLeft(),y=i.latLngToAccurateContainerPoint(p),d={transferCoordinate:function(e){var n;n="2d"===t.context?i.latLngToAccurateContainerPoint(i2.a.latLng(e[1],e[0])):{x:(e[0]-p.lng)/c,y:(p.lat-e[1])/f};var r={x:n.x-y.x,y:n.y-y.y};return[r.x,r.y]}};void 0!==e&&(d.filter=function(t){var r=n.trails||10;return e&&t.time>e-r&&t.time<e});var m=t.dataSet.get(d);this.processData(m);var v=i.latLngToContainerPoint(i2.a.latLng(0,0)),g={x:v.x-y.x,y:v.y-y.y};"m"===t.options.unit?(t.options.size&&(t.options._size=t.options.size/h),t.options.width&&(t.options._width=t.options.width/h),t.options.height&&(t.options._height=t.options.height/h)):(t.options._size=t.options.size,t.options._height=t.options.height,t.options._width=t.options.width),this.drawContext(r,m,t.options,g),t.options.updateCallback&&t.options.updateCallback(e)}}}},{key:"init",value:function(e){var t=this;t.options=e,this.initDataRange(e),this.context=t.options.context||"2d",t.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(t.options.zIndex),this.initAnimator()}},{key:"addAnimatorEvent",value:function(){}},{key:"moveStartEvent",value:function(){var e=this.options.animation;this.isEnabledTime()&&this.animator&&(this.steps.step=e.stepsRange.start,this._hide())}},{key:"moveEndEvent",value:function(){this.canvasLayer.draw(),this._show()}},{key:"zoomStartEvent",value:function(){this._hide()}},{key:"clear",value:function(e){e&&e.clearRect&&e.clearRect(0,0,e.canvas.width,e.canvas.height)}},{key:"_hide",value:function(){this.canvasLayer.canvas.style.display="none"}},{key:"_show",value:function(){this.canvasLayer.canvas.style.display="block"}},{key:"draw",value:function(){this.canvasLayer.draw()}}]),t}(M4),L4=i2.a.Layer.extend({options:{attributionPrefix:null,attribution:T8.MapV.attribution},initialize:function(e,t,n){n=n||{},this.dataSet=e||{},this.mapVOptions=t||{},this.render=this.render.bind(this),i2.a.Util.setOptions(this,n),this.options.attributionPrefix&&(this.options.attribution=this.options.attributionPrefix+this.options.attribution),this.canvas=this._createCanvas(),i2.a.stamp(this)},onAdd:function(e){this._map=e;var t=this.getPane(),n=this.container=i2.a.DomUtil.create("div","leaflet-layer leaflet-zoom-animated",t);n.appendChild(this.canvas);var r=e.getSize();n.style.width=r.x+"px",n.style.height=r.y+"px",this.renderer=new A4(e,this,this.dataSet,this.mapVOptions),this.draw(),this.fire("loaded")},onRemove:function(){i2.a.DomUtil.remove(this.container),this.renderer.destroy()},addData:function(e,t){this.renderer.addData(e,t)},update:function(e){this.renderer.update(e)},getData:function(){return this.renderer&&(this.dataSet=this.renderer.getData()),this.dataSet},removeData:function(e){this.renderer&&this.renderer.removeData(e)},clearData:function(){this.renderer.clearData()},draw:function(){return this._reset()},setZIndex:function(e){this.canvas.style.zIndex=e},render:function(){this.renderer._canvasUpdate()},getCanvas:function(){return this.canvas},getContainer:function(){return this.container},getTopLeft:function(){var e,t=this._map;if(t){e=t.getBounds().getNorthWest()}return e},_createCanvas:function(){var e=document.createElement("canvas");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=this.options.zIndex||600;var t="undefined"==typeof window?{}:window,n=this.devicePixelRatio=t.devicePixelRatio||1;return this.mapVOptions.context&&"2d"!==this.mapVOptions.context||e.getContext("2d").scale(n,n),e},_resize:function(){var e=this.canvas;if(e){var t=this._map,n=t.getSize();e.width=n.x,e.height=n.y,e.style.width=n.x+"px",e.style.height=n.y+"px";var r=t.getBounds(),i=t.latLngToLayerPoint(r.getNorthWest());i2.a.DomUtil.setPosition(e,i)}},_reset:function(){this._resize(),this._render()},redraw:function(){this._resize(),this._render()},_render:function(){this.render()}}),j4=function(e,t,n){return new L4(e,t,n)};i2.a.supermap.mapVLayer=j4;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var R4=L4.extend({initialize:function(e,t){t=t||{},i2.a.Util.setOptions(this,t),this.data=[],this.mapVOptions={draw:"simple"},L4.prototype.initialize.call(this,new window.mapv.DataSet([]),this.mapVOptions,t),this.idCache={},this.url=e,this._last=new Date,this._imageCache={}},onMessageSuccessed:function(e){var t=this,n=e.featureResult.properties.id,r=e.featureResult.geometry,i={geometry:e.featureResult.geometry};if("Point"===r.type&&this.options.pointToLayer){var o=this.options.pointToLayer(e.featureResult,i2.a.latLng(r.coordinates[1],r.coordinates[0]));if(o instanceof i2.a.Marker){this.mapVOptions.draw="icon";var a=o.options.icon,s=a._getIconUrl("icon"),l=a.options.iconSize?a.options.iconSize[0]:null,u=a.options.iconSize?a.options.iconSize[1]:null,c="".concat(s,"_").concat(l,"_").concat(u),f=this._imageCache[c];f||(f=a.createIcon(),this._imageCache[c]=f,f.onload=function(){t.update({data:t.data,options:t.mapVOptions})}),i.icon=f,(a.options.iconSize||f.style.height)&&(this.mapVOptions.offset={x:0,y:-(a.options.iconSize[1]||f.style.height)/2}),this.options.deg&&(i.deg=this.options.deg,"function"==typeof i.deg&&this.idCache[n]&&this.data[this.idCache[n]]&&(i.deg=i.deg(e.featureResult,i2.a.latLng(r.coordinates[1],r.coordinates[0]),this.data[this.idCache[n]])))}if(o instanceof i2.a.CircleMarker){this.mapVOptions.draw="simple";var h=this._toMapvStyle(o);for(var p in h)h.hasOwnProperty(p)&&(i[p]=h[p])}}else if(this.options.style){var y=this._toMapvStyle(this.options.style(e.featureResult));for(var d in y)y.hasOwnProperty(d)&&(i[d]=y[d])}void 0==this.idCache[n]?(this.data.push(i),this.idCache[n]=this.data.length-1):this.data[this.idCache[n]]=i,new Date-this._last>200&&(this._last=new Date,this.update({data:this.data,options:this.mapVOptions}))},_toMapvStyle:function(e){var t={draw:"simple"};return t.strokeStyle=e.color,t.lineWidth=e.width,t.globalAlpha=e.fillOpacity||e.opacity,t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.fillStyle=e.fillColor,t.size=e.radius,t}}),N4=i2.a.GeoJSON.extend({initialize:function(e,t){t=t||{},t.style&&!t.pointToLayer&&(t.pointToLayer=function(e,n){return i2.a.circleMarker(n,t.style())}),i2.a.Util.setOptions(this,t),this._layers={},i2.a.stamp(this),this.url=e,this.idCache={}},onMessageSuccessed:function(e){var t=e.featureResult,n=e.featureResult.properties[this.options.idField],r=null;void 0!==n&&this.idCache[n]?(r=this.getLayer(this.idCache[n]),this._updateLayerData(r,t)):(r=i2.a.GeoJSON.geometryToLayer(t,this.options),r.feature=i2.a.GeoJSON.asFeature(t),this.addLayer(r),void 0!==n&&(this.idCache[n]=this.getLayerId(r))),this.options.onEachFeature&&this.options.onEachFeature(t,r)},_updateLayerData:function(e,t){t.properties&&(e.feature.properties=t.properties);var n=[];switch(t.geometry.type){case"Point":n=i2.a.GeoJSON.coordsToLatLng(t.geometry.coordinates),e.setLatLng(n);break;case"LineString":n=i2.a.GeoJSON.coordsToLatLngs(t.geometry.coordinates,0),e.setLatLngs(n);break;case"MultiLineString":case"Polygon":n=i2.a.GeoJSON.coordsToLatLngs(t.geometry.coordinates,1),e.setLatLngs(n);break;case"MultiPolygon":n=i2.a.GeoJSON.coordsToLatLngs(t.geometry.coordinates,2),e.setLatLngs(n)}}}),I4=i2.a.LayerGroup.extend({options:{geometry:null,prjCoordSys:null,excludeField:null,idField:"id",render:"normal"},initialize:function(e,t){t=t||{},i2.a.Util.setOptions(this,t),this.url=e,this._layers={},this.dataService=new P4(this.url,{geometry:this.options.geometry,prjCoordSys:this.options.prjCoordSys,excludeField:this.options.excludeField})},onAdd:function(e){var t=this;this.dataService.initSubscribe(),this.dataService.on("subscribeSocketConnected",function(e){return t.fire("subscribesucceeded",e)}),this.dataService.on("subscribeSocketError",function(e){return t.fire("subscribefailed",e)}),this.dataService.on("messageSucceeded",function(e){return t._onMessageSuccessed(e)}),this.dataService.on("setFilterParamSucceeded",function(e){return t.fire("setfilterparamsucceeded",e)}),"mapv"===this.options.render?this.addLayer(new R4(this.url,this.options)):this.addLayer(new N4(this.url,this.options)),i2.a.LayerGroup.prototype.onAdd.call(this,e)},onRemove:function(e){i2.a.LayerGroup.prototype.onRemove.call(this,e),this.dataService&&this.dataService.unSubscribe()},setExcludeField:function(e){return this.dataService.setExcludeField(e),this.options.excludeField=e,this},setGeometry:function(e){return this.dataService.setGeometry(e),this.options.geometry=e,this},_onMessageSuccessed:function(e){var t=this;this.getLayers().map(function(n){return n.onMessageSuccessed&&(n.onMessageSuccessed(e),t.fire("dataupdated",{layer:n,data:e.featureResult})),n})}}),D4=function(e,t){return new I4(e,t)};i2.a.supermap.dataFlowLayer=D4;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var F4=i2.a.Layer.extend({includes:[],_echartsContainer:null,_map:null,_ec:null,_echartsOptions:null,options:{attribution:T8.ECharts.attribution,loadWhileAnimating:!1},initialize:function(e,t){i2.a.Util.setOptions(this,t),this.setOption(e)},setOption:function(e,t,n){var r=e.baseOption||e;r.LeafletMap=r.LeafletMap||{roam:!0},r.animation=!0===r.animation,this._echartsOptions=e,this._ec&&this._ec.setOption(e,t,n)},getEcharts:function(){return this._ec},_disableEchartsContainer:function(){this._echartsContainer.style.visibility="hidden"},_enableEchartsContainer:function(){this._echartsContainer.style.visibility="visible"},onAdd:function(e){this._map=e,this._initEchartsContainer(),this._ec=I1.a.init(this._echartsContainer),this._ec.leafletMap=e;var t=this;e.on("zoomstart",function(){t._disableEchartsContainer()}),!t.options.loadWhileAnimating&&e.on("movestart",function(){t._disableEchartsContainer()}),I1.a.registerAction({type:"LeafletMapLayout",event:"LeafletMapLayout",update:"updateLayout"},function(e){}),I1.a.registerCoordinateSystem("leaflet",$q),I1.a.extendComponentModel({type:"LeafletMap",getBMap:function(){return this.__LeafletMap},defaultOption:{roam:!1}}),I1.a.extendComponentView({type:"LeafletMap",render:function(e,n,r){function i(e){e&&e.clearRect&&e.clearRect(0,0,e.canvas.width,e.canvas.height)}function o(){a||(r.dispatchAction({type:"LeafletMapLayout"}),t._enableEchartsContainer())}var a=!0,s=n.scheduler.ecInstance.leafletMap,l=r.getZr().painter.getViewportRoot(),u=s.options.zoomAnimation&&i2.a.Browser.any3d;l.className=" leaflet-layer leaflet-zoom-"+(u?"animated":"hide")+" echarts-layer";var c=i2.a.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);l.style[c]="50% 50%";var f=e.coordinateSystem,h=r.getZr().painter.getLayers(),p=function(){if(!a){var n=t._map.containerPointToLayerPoint([0,0]),o=[n.x||0,n.y||0];if(l.style.left=o[0]+"px",l.style.top=o[1]+"px",!t.options.loadWhileAnimating){for(var s in h)h.hasOwnProperty(s)&&h[s]&&i(h[s].ctx);t._enableEchartsContainer()}f.setMapOffset(o),e.__mapOffset=o,r.dispatchAction({type:"LeafletMapLayout"})}};t._oldMoveHandler&&s.off(t.options.loadWhileAnimating?"move":"moveend",t._oldMoveHandler),t._oldZoomEndHandler&&s.off("zoomend",t._oldZoomEndHandler),s.on(t.options.loadWhileAnimating?"move":"moveend",p),s.on("zoomend",o),t._oldMoveHandler=p,t._oldZoomEndHandler=o,a=!1}}),this._ec.setOption(this._echartsOptions)},onRemove:function(){this._ec.clear(),this._ec.dispose(),delete this._ec,i2.a.DomUtil.remove(this._echartsContainer),this._oldZoomEndHandler&&(this._map.off("zoomend",this._oldZoomEndHandler),this._oldZoomEndHandler=null),this._oldMoveHandler&&(this._map.off(this.options.loadWhileAnimating?"move":"moveend",this._oldMoveHandler),this._oldMoveHandler=null),this._resizeHandler&&(this._map.off("resize",this._resizeHandler),this._resizeHandler=null),delete this._map},_initEchartsContainer:function(){function e(e){var t=e.newSize;r._echartsContainer.style.width=t.x+"px",r._echartsContainer.style.height=t.y+"px",r._ec.resize()}var t=this._map.getSize(),n=document.createElement("div");n.style.position="absolute",n.style.height=t.y+"px",n.style.width=t.x+"px",n.style.zIndex=10,this._echartsContainer=n,this.getPane().appendChild(this._echartsContainer);var r=this;this._map.on("resize",e),this._resizeHandler=e}});$q.prototype.dimensions=["lng","lat"],$q.prototype.setMapOffset=function(e){this._mapOffset=e},$q.prototype.getBMap=function(){return this._LeafletMap},$q.prototype.prepareCustoms=function(){function e(e,n){return n=n||[0,0],t.map([0,1],function(t){var r=n[t],i=e[t]/2,o=[],a=[];return o[t]=r-i,a[t]=r+i,o[1-t]=a[1-t]=n[1-t],Math.abs(this.dataToPoint(o)[t]-this.dataToPoint(a)[t])},this)}var t=I1.a.util,n=this.getViewRect();return{coordSys:{type:"leaflet",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:t.bind(this.dataToPoint,this),size:t.bind(e,this)}}},$q.prototype.dataToPoint=function(e){null===e[1]&&(e[1]=i2.a.CRS.EPSG3857.projection.MAX_LATITUDE);var t=this._LeafletMap.latLngToLayerPoint([e[1],e[0]]),n=this._mapOffset;return[t.x-n[0],t.y-n[1]]},$q.prototype.fixLat=function(e){return e>=90?89.99999999999999:e<=-90?-89.99999999999999:e},$q.prototype.pointToData=function(e){var t=this._mapOffset,n=this._LeafletMap.layerPointToLatLng([e[0]+t[0],e[1]+t[1]]);return[n.lng,n.lat]},$q.prototype.getViewRect=function(){var e=this._LeafletMap.getSize();return new I1.a.graphic.BoundingRect(0,0,e.x,e.y)},$q.prototype.getRoamTransform=function(){return I1.a.matrix.create()},$q.dimensions=$q.prototype.dimensions,$q.create=function(e){var t,n=e.scheduler.ecInstance.leafletMap;e.eachComponent("LeafletMap",function(e){t||(t=new $q(n)),e.coordinateSystem=t,e.coordinateSystem.setMapOffset(e.__mapOffset||[0,0])}),e.eachSeries(function(e){e.get("coordinateSystem")&&"leaflet"!==e.get("coordinateSystem")||(t||(t=new $q(n)),e.coordinateSystem=t,e.animation=!0===e.animation)})};var B4=function(e,t){return new F4(e,t)};i2.a.supermap.echartsLayer=B4;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var U4=function(){function e(){eW(this,e)}return nW(e,null,[{key:"supportWebGL",value:function(){return rW("webgl")}},{key:"supportWebGL2",value:function(){return rW("webgl2")}},{key:"supportCanvas",value:function(){return rW("2d")}}]),e}(),G4=i2.a.Class.extend({options:{radius:10,angele:60,spaceAngle:0,count:3,fill:!1,stroke:!0,color:"#3388ff",weight:1,lineCap:"round",lineJoin:"round",fillColor:"#66ccff",fillOpacity:.2,fillRule:"evenodd",opacity:1,strokeWidth:1},initialize:function(e){e=e||{},i2.a.Util.setOptions(this,e),this._canvas=document.createElement("canvas"),this._canvas.width=2*(this.options.radius+this.options.weight),this._canvas.height=2*(this.options.radius+this.options.weight),this._ctx=this._canvas.getContext("2d");var t=void 0===this.options.strokeWidth?1:this.options.strokeWidth;this.options.width=2*(this.options.radius+t)+1,this._initStyle()},getStyle:function(){return this._canvas},drawSector:function(e,t,n,r,i,o){i=i/180*Math.PI,o=o/180*Math.PI,e.moveTo(t,n),e.lineTo(t+r*Math.cos(i),n+r*Math.sin(i)),e.arc(t,n,r,i,o),e.lineTo(t,n)},_initStyle:function(){var e=0,t=this.options,n=t.angle;if(t.spaceAngle=360/t.count-t.angle,!(t.spaceAngle<0)){this._ctx.beginPath(),this.anchor=[t.width/2,t.width/2];for(var r=0;r<t.count;r++)this.drawSector(this._ctx,this.anchor[0],this.anchor[1],t.radius,e,n),e=n+t.spaceAngle,n=e+t.angle;this._fillStroke()}},_fillStroke:function(){var e=this.options;e.fill&&(this._ctx.globalAlpha=e.fillOpacity,this._ctx.fillStyle=e.fillColor||e.color,this._ctx.fill(e.fillRule||"evenodd")),e.stroke&&0!==e.weight&&(this._ctx.globalAlpha=e.opacity,this._ctx.lineWidth=e.weight,this._ctx.strokeStyle=e.color,this._ctx.lineCap=e.lineCap,this._ctx.lineJoin=e.lineJoin,this._ctx.stroke())}}),z4=function(e){return new G4(e)};i2.a.supermap.cloverStyle=z4;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var V4=i2.a.Class.extend({options:{stroke:!0,color:"#3388ff",weight:1,opacity:1,lineCap:"round",lineJoin:"round",fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",radius:3},initialize:function(e){e=e||{},i2.a.Util.setOptions(this,e),this._canvas=document.createElement("canvas"),this._canvas.width=2*(this.options.radius+this.options.weight),this._canvas.height=2*(this.options.radius+this.options.weight),this._ctx=this._canvas.getContext("2d"),this._initStyle()},getCanvas:function(){return this._canvas},getStyle:function(){return this._canvas},_initStyle:function(){this._ctx.beginPath(),this._ctx.arc(this._canvas.width/2,this._canvas.height/2,this.options.radius,0,2*Math.PI),this._fillStroke()},_fillStroke:function(){var e=this.options;e.fill&&(this._ctx.globalAlpha=e.fillOpacity,this._ctx.fillStyle=e.fillColor||e.color,this._ctx.fill(e.fillRule||"evenodd")),e.stroke&&0!==e.weight&&(this._ctx.globalAlpha=e.opacity,this._ctx.lineWidth=e.weight,this._ctx.strokeStyle=e.color,this._ctx.lineCap=e.lineCap,this._ctx.lineJoin=e.lineJoin,this._ctx.stroke())}}),H4=function(e){return new V4(e)};i2.a.supermap.circleStyle=H4;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var J4=i2.a.Class.extend({options:{img:null,origin:[0,0],anchor:null,size:null},initialize:function(e){e=e||{},i2.a.Util.setOptions(this,e),this._canvas=document.createElement("canvas"),this._canvas.width=2*(this.options.radius+this.options.weight),this._canvas.height=2*(this.options.radius+this.options.weight),this._ctx=this._canvas.getContext("2d")},getStyle:function(){return this.options}}),q4=function(e){return new J4(e)};i2.a.supermap.imageStyle=q4;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var W4=i2.a.Util.falseFn,Y4=i2.a.Class.extend({initialize:function(e,t){this.layer=e,t=t||{},i2.a.Util.setOptions(this,t)},getRenderer:function(){return this.options.renderer},update:function(){this.getRenderer()._clear(),this.getRenderer()._draw()},_handleClick:function(e){var t=this,n=t.layer,r=n._map,i=n._getGraphicsInBounds();e.target=null;for(var o=i.length-1;o>=0;o--){var a=void 0,s=void 0,l=void 0,u=r.latLngToLayerPoint(i[o].getLatLng()),c=i[o].getStyle();if(!c&&this.defaultStyle&&(c=this.defaultStyle),c.img){var f=c.img.width,h=c.img.height;c.size&&c.size[0]&&c.size[1]&&(f=c.size[0],h=c.size[1]);var p=c.anchor||[f/2,h/2];a=i2.a.point(u.x-p[0],u.y-p[1]),s=i2.a.point(a.x+f,a.y+h)}else a=i2.a.point(u.x-c.width/2,u.y-c.height/2),s=i2.a.point(u.x+c.width/2,u.y+c.height/2);if(l=i2.a.bounds(a,s),l.contains(r.latLngToLayerPoint(e.latlng)))return this.layer._renderer._ctx.canvas.style.cursor="pointer",e.target=i[o],void("click"===e.type&&n.options.onClick&&n.options.onClick.call(n,i[o],e));this.layer._renderer._ctx.canvas.style.cursor="auto"}},_clearBuffer:W4});i2.a.Canvas.include({drawGraphics:function(e,t){var n=this;n._drawing&&e.forEach(function(e){var r=e.getStyle();!r&&t&&(r=t),r.img?n._drawImage.call(n,n._ctx,r,e.getLatLng()):n._drawCanvas.call(n,n._ctx,r,e.getLatLng())})},_drawCanvas:function(e,t,n){var r=t,i=this._map.latLngToLayerPoint(n),o=i.x-r.width/2,a=i.y-r.height/2,s=r.width,l=r.height;e.drawImage(r,o,a,s,l)},_drawImage:function(e,t,n){var r,i;if(t.size){var o=t.size;r=o[0],i=o[1]}else r=t.img.width,i=t.img.height;var a=this._coordinateToPoint(n),s=i2.a.point(a),l=i2.a.point(t.anchor||[r/2,i/2]);a=[s.x-l.x,s.y-l.y],e.drawImage(t.img,a[0],a[1],r,i)},_coordinateToPoint:function(e){if(!this._map)return e;var t=e;i2.a.Util.isArray(e)?t=i2.a.latLng(e[0],e[1]):e instanceof i2.a.LatLng&&(t=i2.a.latLng(e.lat,e.lng));var n=this._map.latLngToLayerPoint(t);return[n.x,n.y]}});/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Q4=i2.a.Util.falseFn,X4=function(){for(var e=document.createElement("div"),t=["transform","WebkitTransform","MozTransform","OTransform","msTransform"],n=0;n<t.length;n++){var r=t[n];if(void 0!==e.style[r])return r}return t[0]}(),K4=i2.a.Class.extend({initialize:function(e,t){this.layer=e;var n=t||{};i2.a.Util.setOptions(this,n),this.options.radius=this._pixelToMeter(this.options.radius),this._initContainer()},getRenderer:function(){return this},update:function(e){e&&e.length>-1&&(this._data=e),this._renderLayer.setChangeFlags({dataChanged:!0,propsChanged:!0,viewportChanged:!0,updateTriggersChanged:!0}),this._refreshData();var t=this._getLayerState();t.data=this._data||[],this._layerDefaultStyleCache=null,this._renderLayer.setNeedsRedraw(!0),this._renderLayer.setState(t)},drawGraphics:function(e){this._clearBuffer();var t=this.layer._map.getSize();this._container.width!==t.x&&(this._container.width=t.x),this._container.height!==t.y&&(this._container.height=t.y);var n=this.layer._map.getPanes().mapPane,r=n._leaflet_pos;this._container.style[X4]="translate("+-Math.round(r.x)+"px,"+-Math.round(r.y)+"px)",this._data=e||[],this._renderLayer||this._createInnerRender(),this._draw()},_initContainer:function(){this._container=this._createCanvas(this.options.width,this.options.height),this._layerContainer=this.options.container,this._wrapper=i2.a.DomUtil.create("div","deck-wrapper",this._layerContainer),this._wrapper.appendChild(this._container)},_createCanvas:function(e,t){var n=i2.a.DomUtil.create("canvas","graphicLayer  leaflet-layer leaflet-zoom-hide");return n.oncontextmenu=i2.a.Util.falseFn,n.width=e,n.height=t,n.style.width=e+"px",n.style.height=t+"px",n},_pixelToMeter:function(e){var t=this.layer._map.getBounds();return e*((t.getEast()-t.getWest())/this.layer._map.getSize().x*(6378137*Math.PI/180))},_createInnerRender:function(){var e=this,t=this._getLayerState(),n=t.color,r=t.radius,i=t.opacity,o=t.highlightColor,a=t.radiusScale,s=t.radiusMinPixels,l=t.radiusMaxPixels,u=t.strokeWidth,c=t.outline,f={id:"scatter-plot",data:e._data,pickable:Boolean(this.options.onClick)||Boolean(this.options.onHover),autoHighlight:!0,color:n,opacity:i,radius:r,radiusScale:a,highlightColor:o,radiusMinPixels:s,radiusMaxPixels:l,strokeWidth:u,outline:c,getPosition:function(e){if(!e)return[0,0,0];var t=e.getLatLng();return t&&[t.lng,t.lat,0]},getColor:function(t){var n=e._getLayerDefaultStyle(),r=t&&t.options;return r&&r.color||n.color},getRadius:function(t){var n=e._getLayerDefaultStyle(),r=t&&t.getStyle();return r&&r.radius||n.radius},updateTriggers:{getColor:[n],getRadius:[r]}},h=this;this.options.onClick&&(f.onClick=function(){h._container.style.cursor="pointer",h.options.onClick.apply(h,arguments)}),this.options.onHover&&(f.onHover=function(){h._container.style.cursor="pointer",h.options.onHover.apply(h,arguments)}),e._renderLayer=new window.DeckGL.ScatterplotLayer(f)},_getLayerDefaultStyle:function(){if(this._layerDefaultStyleCache)return this._layerDefaultStyleCache;var e=this.layer.options,t=e.color,n=e.opacity,r=e.radius,i=e.radiusScale,o=e.radiusMinPixels,a=e.radiusMaxPixels,s=e.strokeWidth,l=e.outline;return r=this._pixelToMeter(r),this._layerDefaultStyleCache={color:t,opacity:n,radius:r,radiusScale:i,radiusMinPixels:o,radiusMaxPixels:a,strokeWidth:s,outline:l},this._layerDefaultStyleCache},_getLayerState:function(){var e=this.layer.getState();return e.zoom=e.zoom-1,e},_draw:function(){var e=this._getLayerState();this._refreshData(),e.data=this._data||[];var t={};for(var n in e)t[n]=e[n];this._layerDefaultStyleCache=null,this._renderLayer.setNeedsRedraw(!0),t.layers=[this._renderLayer],t.canvas=this._container,t.onBeforeRender=this._onBeforeRender.bind(this),t.onAfterRender=this._onAfterRender.bind(this),this.deckGL?this.deckGL.setProps(t):this.deckGL=new window.DeckGL.experimental.DeckGLJS(t)},_clearBuffer:function(){if(this.deckGL){var e=this.deckGL.layerManager;e&&e.context.gl.clear(e.context.gl.COLOR_BUFFER_BIT)}return this},_refreshData:function(){var e=this._data||[],t=i2.a.Util.isArray(e)?[].concat(e):[e];this._renderLayer.props.data||(this._renderLayer.props.data=[]),this._renderLayer.props.data.length=0;for(var n=0;n<t.length;n++)this._renderLayer.props.data.push(t[n]);this._data=this._renderLayer.props.data},_handleClick:Q4,_onBeforeRender:Q4,_onAfterRender:Q4,_removePath:function(){return this._wrapper.parentElement.removeChild(this._wrapper),this._container=null,this._wrapper=null,this},_initPath:Q4,_addPath:Q4}),Z4=["canvas","webgl"],$4={color:[0,0,0,255],opacity:.8,radius:10,radiusScale:1,radiusMinPixels:0,radiusMaxPixels:Number.MAX_SAFE_INTEGER,strokeWidth:1,outline:!1},e6=i2.a.Path.extend({initialize:function(e,t){this.graphics=[].concat(e);var n=t||{};n.pane="overlayPane",i2.a.Util.setOptions(this,n),this.options.render=this.options.render||Z4[0],U4.supportWebGL2()||(this.options.render=Z4[0]),this.on("click mousemove dblclick mousedown mouseup mouseout contextmenu",this._handleClick,this)},getEvents:function(){return{resize:this._resize.bind(this),moveend:this._moveEnd.bind(this)}},onAdd:function(e){this._map=e,this.defaultStyle=this._getDefaultStyle(this.options),this._renderer=this._createRenderer(),this._container=this._renderer._container,this.addInteractiveTarget(this._container),i2.a.Path.prototype.onAdd.call(this)},onRemove:function(){this.off("click mousemove dblclick mousedown mouseup contextmenu",this._handleClick,this),this._renderer._removePath(this)},setGraphics:function(e){this.graphics=this.graphics||[],this.graphics.length=0;var t=i2.a.Util.isArray(e)?[].concat(e):[e];this.graphics=[].concat(t),this.update()},addGraphics:function(e){this.graphics=this.graphics||[];var t=i2.a.Util.isArray(e)?[].concat(e):[e];this.graphics=this.graphics.concat(t),this.update()},getGraphicBy:function(e,t){var n=null;for(var r in this.graphics)if(this.graphics[r][e]===t){n=this.graphics[r];break}return n},getGraphicById:function(e){return this.getGraphicBy("id",e)},getGraphicsByAttribute:function(e,t){var n,r=[];for(var i in this.graphics)(n=this.graphics[i])&&n.attributes&&n.attributes[e]===t&&r.push(n);return r},removeGraphics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e||0===e.length||e===this.graphics)return this.graphics.length=0,void this.update();rQ.isArray(e)||(e=[e]);for(var t=e.length-1;t>=0;t--){var n=e[t],r=rQ.indexOf(this.graphics,n);-1!==r&&this.graphics.splice(r,1)}this.update()},setStyle:function(e){var t=this.options,n={color:t.color,radius:t.radius,opacity:t.opacity,highlightColor:t.highlightColor,radiusScale:t.radiusScale,radiusMinPixels:t.radiusMinPixels,radiusMaxPixels:t.radiusMaxPixels,strokeWidth:t.strokeWidth,outline:t.outline};this.options=i2.a.Util.extend(this.options,n,e),this.defaultStyle=this._getDefaultStyle(this.options),this.update()},update:function(){this._layerRenderer.update(this.graphics)},clear:function(){this.removeGraphics()},getRenderer:function(){return this._renderer},getState:function(){var e=this._map,t=e.getSize().x,n=e.getSize().y,r=e.getCenter(),i=r.lng,o=r.lat,a=e.getZoom(),s=e.getMaxZoom(),l={longitude:i,latitude:o,zoom:a,maxZoom:s,pitch:0,bearing:0},u={};for(var c in l)u[c]=l[c];u.width=t,u.height=n;var f=this.options;return u.color=f.color,u.radius=f.radius,u.opacity=f.opacity,u.highlightColor=f.highlightColor,u.radiusScale=f.radiusScale,u.radiusMinPixels=f.radiusMinPixels,u.radiusMaxPixels=f.radiusMaxPixels,u.strokeWidth=f.strokeWidth,u.outline=f.outline,u},_resize:function(){var e=this._map.getSize();this._container.width=e.x,this._container.height=e.y,this._container.style.width=e.x+"px",this._container.style.height=e.y+"px";var t=this._map.containerPointToLayerPoint([0,0]);i2.a.DomUtil.setPosition(this._container,t),this._update()},_moveEnd:function(){this._layerRenderer instanceof K4&&this._update()},_createRenderer:function(){var e,t=this._map,n=t.getSize().x,r=t.getSize().y;if(this.options.render===Z4[0])e=new Y4(this,{width:n,height:r,renderer:t.getRenderer(this)});else{var i=i2.a.Util.setOptions({},$4),o=i2.a.Util.setOptions({options:i},this.options);o=i2.a.Util.setOptions(this,o),o.container=t.getPane("overlayPane"),o.width=n,o.height=r,e=new K4(this,o)}return e.defaultStyle=this.defaultStyle,this._layerRenderer=e,this._layerRenderer.getRenderer()},_update:function(){this._map&&this._updatePath()},_updatePath:function(){var e=this._getGraphicsInBounds();this._renderer.drawGraphics(e,this.defaultStyle)},_project:function(){var e=this;e._getGraphicsInBounds().map(function(t){var n=e._map.latLngToLayerPoint(t.getLatLng()),r=e._clickTolerance(),i=[t._anchor+r,t._anchor+r];return t._pxBounds=new i2.a.Bounds(n.subtract(i),n.add(i)),t}),e._pxBounds=i2.a.bounds(i2.a.point(0,0),i2.a.point(this._container.width,this._container.height))},_getDefaultStyle:function(e){var t={};if(e.color){t.fill=!0;var n=this.toRGBA(e.color);t.color=n,t.fillColor=n}return e.opacity&&(t.opacity=e.opacity,t.fillOpacity=e.opacity),e.radius&&(t.radius=e.radius),e.strokeWidth&&(t.weight=e.strokeWidth),e.outline&&(t.stroke=e.outline),new V4(t).getStyle()},toRGBA:function(e){return"rgba(".concat(e[0],",").concat(e[1],",").concat(e[2],",").concat((e[3]||255)/255,")")},_getGraphicsInBounds:function(){var e=this,t=[],n=e._map.getBounds();return this.graphics.map(function(e){return n.contains(e.getLatLng())&&t.push(e),e}),t},_handleClick:function(e){this._layerRenderer._handleClick(e)},beforeAdd:i2.a.Util.falseFn,_containsPoint:i2.a.Util.falseFn}),t6=function(e,t){return new e6(e,t)};i2.a.supermap.graphicLayer=t6;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var n6=p4.extend({options:{isOverLay:!0},initialize:function(e,t,n){var r=[];r.push(e),r.push(n),p4.prototype.initialize.apply(this,r),this.chartsType=t,this.themeFields=n&&n.themeFields?n.themeFields:null,this.charts=n&&n.charts?n.charts:[],this.cache=n&&n.cache?n.cache:{},this.chartsSetting=n&&n.chartsSetting?n.chartsSetting:{}},setChartsType:function(e){this.chartsType=e,this.redraw()},addFeatures:function(e){var t=this;t.fire("beforefeaturesadded",{features:e}),this.features=this.toiClientFeature(e),t.renderer&&(t._map?t.redrawThematicFeatures(t._map.getBounds()):t.redrawThematicFeatures())},redrawThematicFeatures:function(e){var t=this;t.renderer.clearAll();var n=t.features;if(this.options.alwaysMapCRS&&e&&e instanceof i2.a.LatLngBounds){var r=this._map.options.crs;e=i2.a.bounds(r.project(e.getSouthWest()),r.project(e.getNorthEast()))}e=R8.toSuperMapBounds(e);for(var i=0,o=n.length;i<o;i++){var a=n[i],s=a.geometry.getBounds();if(!e||e.intersectsBounds(s)){var l=t.cache,u=a.id;if(!l[u]){l[u]=u;var c=t.createThematicFeature(a),f=t.overlayWeightField&&a.attributes[t.overlayWeightField]&&!isNaN(a.attributes[t.overlayWeightField]);c&&f&&(c.__overlayWeight=a.attributes[t.overlayWeightField]),c&&t.charts.push(c)}}}t.drawCharts()},createThematicFeature:function(e){var t,n=this;return u1[n.chartsType]&&n.themeFields&&n.chartsSetting&&(t=new u1[n.chartsType](e,n,n.themeFields,n.chartsSetting)),!!t&&(t.assembleShapes(),t)},drawCharts:function(){var e=this;e.renderer&&(e.overlayWeightField&&e._sortChart(),e.options&&!e.options.isOverLay?e._addOverlayShape():e._addNoOverlayShape(),e.renderer.render())},getShapesByFeatureID:function(e){var t=this,n=[],r=t.renderer.getAllShapes();if(!e)return r;for(var i=0,o=r.length;i<o;i++){var a=r[i];a.refDataID&&e===a.refDataID&&n.push(a)}return n},isQuadrilateralOverLap:function(e,t){var n=this,r=e.length,i=t.length;if(5!==r||5!==i)return null;for(var o=!1,a=0;a<r;a++)if(n.isPointInPoly(e[a],t)){o=!0;break}for(var s=0;s<i;s++)if(n.isPointInPoly(t[s],e)){o=!0;break}for(var l=0;l<r-1&&!o;l++)for(var u=0;u<i-1;u++){var c=rQ.lineIntersection(e[l],e[l+1],t[u],t[u+1]);if("SuperMap.Geometry.Point"===c.CLASS_NAME){o=!0;break}}return o},isPointInPoly:function(e,t){for(var n=!1,r=-1,i=t.length,o=i-1;++r<i;o=r)(t[r].y<=e.y&&e.y<t[o].y||t[o].y<=e.y&&e.y<t[r].y)&&e.x<(t[o].x-t[r].x)*(e.y-t[r].y)/(t[o].y-t[r].y)+t[r].x&&(n=!n);return n},isChartInMap:function(e,t){for(var n=e,r=!1,i=0,o=t.length;i<o;i++){var a=t[i];if(a.x>=n.left&&a.x<=n.right&&a.y>=n.top&&a.y<=n.bottom){r=!0;break}}return r},clearCache:function(){this.cache={},this.charts=[]},removeFeatures:function(e){var t=this;t.clearCache(),p4.prototype.removeFeatures.apply(t,arguments)},removeAllFeatures:function(){var e=this;e.clearCache(),p4.prototype.removeAllFeatures.apply(e,arguments)},redraw:function(){var e=this;return e.clearCache(),p4.prototype.redraw.apply(e,arguments)},clear:function(){var e=this;e.renderer&&(e.renderer.clearAll(),e.renderer.refresh()),e.removeAllFeatures(),e.clearCache()},getWeightFieldValue:function(e,t,n){if((void 0===n||isNaN(n))&&(n=0),!e.attributes)return n;var r=e.attributes[t];return(void 0===r||isNaN(r))&&(r=n),r},_sortChart:function(){var e=this;e.charts&&e.charts.sort(function(e,t){return void 0===e.__overlayWeight&&void 0===t.__overlayWeight?0:void 0!==e.__overlayWeight&&void 0===t.__overlayWeight?-1:void 0===e.__overlayWeight&&void 0!==t.__overlayWeight?1:void 0!==e.__overlayWeight&&void 0!==t.__overlayWeight?parseFloat(e.__overlayWeight)<parseFloat(t.__overlayWeight)?1:-1:0})},_addOverlayShape:function(){for(var e=this,t=e.charts,n=0,r=t.length;n<r;n++)for(var i=t[n],o=i.resetLocation(),a=i.shapes,s=0,l=a.length;s<l;s++)a[s].refOriginalPosition=o,e.renderer.addShape(a[s])},_addNoOverlayShape:function(){var e=this,t=e._map.getBounds(),n=this._map.options.crs;this.options.alwaysMapCRS&&(t=i2.a.bounds(n.project(t.getSouthWest()),n.project(t.getNorthEast()))),t=R8.toSuperMapBounds(t);for(var r=e.charts,i=[],o=e.getLocalXY(new iQ(t.left,t.top)),a=e.getLocalXY(new iQ(t.right,t.bottom)),s=new oQ(o[0],a[1],a[0],o[1]),l=0,u=r.length;l<u;l++){var c=r[l],f=c.resetLocation(),h=c.chartBounds,p=[{x:h.left,y:h.top},{x:h.left,y:h.bottom},{x:h.right,y:h.bottom},{x:h.right,y:h.top},{x:h.left,y:h.top}];if(!s||e.isChartInMap(s,p)){for(var y=!1,d=0;d<i.length;d++)if(e.isQuadrilateralOverLap(p,i[d])){y=!0;break}if(!y){i.push(p);for(var m=c.shapes,v=0,g=m.length;v<g;v++)m[v].refOriginalPosition=f,e.renderer.addShape(m[v])}}}}}),r6=function(e,t,n){return new n6(e,t,n)};i2.a.supermap.graphThemeLayer=r6;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var i6=n6.extend({initialize:function(e,t,n){n6.prototype.initialize.apply(this,arguments),this.symbolType=t,this.symbolSetting={}},setSymbolType:function(e){this.symbolType=e,this.redraw()},createThematicFeature:function(e){var t,n=this;return u1[n.symbolType]&&n.themeField&&n.symbolSetting&&(t=new u1[n.symbolType](e,n,[n.themeField],n.symbolSetting)),!!t&&(t.assembleShapes(),t)}}),o6=function(e,t,n){return new i6(e,t,n)};i2.a.supermap.rankSymbolThemeLayer=o6;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var a6=i2.a.SVG.extend({initialize:function(e,t,n){i2.a.SVG.prototype.initialize.call(this,n),this._tileCoord=e,this._size=t,this._initContainer(),this._container.setAttribute("width",this._size.x),this._container.setAttribute("height",this._size.y),this._container.setAttribute("viewBox",[0,0,this._size.x,this._size.y].join(" ")),this._layers={}},getCoord:function(){return this._tileCoord},getContainer:function(){return this._container},onAdd:i2.a.Util.falseFn,addTo:function(e){if(this._map=e,this.options.interactive)for(var t in this._layers){var n=this._layers[t];n._path.style.pointerEvents="auto",this._map._targets[i2.a.stamp(n._path)]=n}},removeFrom:function(e){var t=e||this._map;if(this.options.interactive)for(var n in this._layers){var r=this._layers[n];delete t._targets[i2.a.stamp(r._path)]}delete this._map},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup||(this._rootGroup=this._container),this._rootGroup.appendChild(e._path),this._layers[i2.a.stamp(e)]=e},_updateIcon:function(e){var t=e._path=i2.a.SVG.create("image"),n=e.options,r=n.iconUrl;if(n.iconSize){var i=i2.a.point(n.iconSize),o=i&&i.divideBy(2,!0),a=e._point.subtract(o);t.setAttribute("x",a.x),t.setAttribute("y",a.y),t.setAttribute("width",i.x+"px"),t.setAttribute("height",i.y+"px")}else{var s=new Image;s.src=r,i2.a.DomEvent.on(s,"load",function(){var n=i2.a.point([s.width,s.height]),r=n&&n.divideBy(2,!0),i=e._point.subtract(r);t.setAttribute("x",i.x),t.setAttribute("y",i.y),t.setAttribute("width",n.x+"px"),t.setAttribute("height",n.y+"px")})}t.setAttribute("href",r)}}),s6=i2.a.Canvas.extend({initialize:function(e,t,n){i2.a.Canvas.prototype.initialize.call(this,n),this._tileCoord=e,this._size=t,this._initContainer(),this._container.setAttribute("width",this._size.x),this._container.setAttribute("height",this._size.y),this._layers={},this._drawnLayers={},this._drawing=!0,n.interactive&&(this._container.style.pointerEvents="auto")},getCoord:function(){return this._tileCoord},getContainer:function(){return this._container},getOffset:function(){return this._tileCoord.scaleBy(this._size).subtract(this._map.getPixelOrigin())},onAdd:i2.a.Util.falseFn,addTo:function(e){this._map=e},removeFrom:function(e){delete this._map},_updateDashArray:function(e){var t=e.options.dashArray;if(t&&"string"==typeof t){var n,r=t.split(","),i=[];for(n=0;n<r.length;n++)i.push(Number(r[n]));e.options._dashArray=i}else e.options._dashArray=t},_onClick:function(e){var t,n,r=this._map.mouseEventToLayerPoint(e).subtract(this.getOffset());for(var i in this._layers)t=this._layers[i],t.options.interactive&&t._containsPoint(r)&&!this._map._draggableMoved(t)&&(n=t);n&&(i2.a.DomEvent.stop(e),this._fireEvent([n],e))},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e).subtract(this.getOffset());this._handleMouseHover(e,t)}},_updateIcon:function(e){if(this._drawing){var t=e.options,n=this._ctx,r=e._getImage();if(t.iconSize&&r.complete){var i=i2.a.point(t.iconSize),o=i&&i.divideBy(2,!0),a=e._point.subtract(o);n.drawImage(r,a.x,a.y,i.x,i.y)}else i2.a.DomEvent.on(r,"load",function(){var t=i2.a.point([r.width,r.height]),i=t&&t.divideBy(2,!0),o=e._point.subtract(i);n.drawImage(r,o.x,o.y,t.x,t.y)});this._drawnLayers[e._leaflet_id]=e}}}),l6={LABEL:"LABEL",TEXT:"TEXT",POINT:"POINT",LINE:"LINE",REGION:"REGION"},u6=i2.a.Class.extend({initialize:function(e){this.properties=e.properties,this.type=e.type,this.layerName=e.layerName},render:function(e,t){this._renderer=e,this._container=e._container,this.options=t,e._initPath(this),e._updateStyle(this);var n=this.getElement();n&&this.layerName&&i2.a.DomUtil.addClass(n,this.layerName)},updateStyle:function(e,t){this.options=t,e._updateStyle(this)},getElement:function(){return this._path||this._renderer._container},_getPixelBounds:function(){for(var e=this._parts,t=i2.a.bounds([]),n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++)t.extend(r[i]);var o=this._clickTolerance(),a=new i2.a.Point(o,o);return t.min._subtract(a),t.max._add(a),t},_clickTolerance:i2.a.Path.prototype._clickTolerance}),c6=i2.a.Path.extend({includes:u6.prototype,options:{color:"white",fillColor:"black",fill:!0,fillOpacity:1,opacity:.6,weight:1,rotation:0,stroke:!0,fontFamily:"Arial Unicode MS Regular",fontSize:14,fontWeight:"normal",textAlign:"center",offsetX:1,offsetY:1},initialize:function(e,t){u6.prototype.initialize.call(this,e),this._makeFeatureParts(e,t),this.options.offsetX=t||1,this.options.offsetY=t||1},render:function(e,t){if(this.properties.texts&&(this._text=this.properties.texts[0]),!this._text){var n=this.properties.attributes;this._text=n&&this.properties.textField?n[this.properties.textField]||"":""}var r=this.options;this._pxBounds=i2.a.bounds(this._point,this._point),u6.prototype.render.apply(this,[e,t]),this.options=i2.a.Util.extend(r,t),this._updatePath()},_makeFeatureParts:function(e,t){t=t||{x:1,y:1};var n=e.geometry[0];"object"===iW(n[0])&&"x"in n[0]?(this._point=i2.a.point(n[0]).scaleBy(t),this._empty=i2.a.Util.falseFn):(this._point=i2.a.point(n).scaleBy(t),this._empty=i2.a.Util.falseFn)},makeInteractive:function(){this._updateBounds()},updateStyle:function(e,t){return this._updateBounds(),u6.prototype.updateStyle.call(this,e,t)},_updateBounds:function(){var e=this._renderer._getTextWidth(this),t=[e/2,e/2];this._pxBounds=i2.a.bounds(this._point.subtract(t),this._point.add(t))},_updatePath:function(){this._renderer._updateText(this)},_containsPoint:function(e){return!1}});s6.include({_getTextWidth:function(e){return this._ctx.measureText(e._text).width},_updateText:function(e){if(this._drawing&&!e._empty()){var t=this.getContainer(),n=this._map.getSize();t.width=n.x,t.height=n.y,t.style.width=n.x+"px",t.style.height=n.y+"px";var r=this._ctx,i=e.options,o=i.offsetX||1,a=i.offsetY||1,s=e._point.subtract(i2.a.point(o,a));i.fill&&(this._drawnLayers[e._leaflet_id]=e,r.fillRect(0,0,n.x,n.y),r.font=[i.fontWeight?i.fontWeight:"normal",i.fontSize?i.fontSize:"14px",i.fontFamily?i.fontFamily:"Arial Unicode MS Regular,Microsoft Yahei"].join(" "),r.textAlign=i.textAlign,r.lineWidth=i.weight,r.fillStyle=i.fillColor,r.fillText(e._text,s.x,s.y),r.strokeStyle=i.color,r.strokeText(e._text,s.x,s.y),r.rotate(i.rotation))}}}),a6.include({_getTextWidth:function(e){return e._path.getComputedTextLength()||0},_initPath:function(e){var t;c6&&e instanceof c6?(t=e._path=i2.a.SVG.create("text"),t.textContent=e._text):t=e._path=i2.a.SVG.create("path"),e.options.className&&i2.a.DomUtil.addClass(t,e.options.className),e.options.interactive&&i2.a.DomUtil.addClass(t,"leaflet-interactive"),this._updateStyle(e),this._layers[i2.a.stamp(e)]=e},_updateText:function(e){var t=e._path,n=e.options,r=n.offsetX||1,i=n.offsetY||1,o=e._point.subtract(i2.a.point(r,i));t.setAttribute("x",o.x),t.setAttribute("y",o.y),n.rotation=n.rotation||0,t.setAttribute("transform","rotate("+n.rotation/Math.PI*180+" "+o.x+" "+o.y+")"),t.setAttribute("text-anchor","center"===n.textAlign?"middle":n.textAlign),t.style.fontSize=n.fontSize,t.style.fontFamily=n.fontFamily,t.style.fontWeight=n.fontWeight||"normal",t.style.glyphOrientationVertical=n.rotation||"",n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-linejoin","round"),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight>1?n.weight/10:n.weight)):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity)):t.setAttribute("fill","none")}});/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var f6=i2.a.CircleMarker.extend({includes:u6.prototype,statics:{iconCache:{}},initialize:function(e,t){u6.prototype.initialize.call(this,e),this._makeFeatureParts(e,t)},getLatLng:function(){return this._renderer._map.layerPointToLatLng(this._point)},render:function(e,t){u6.prototype.render.call(this,e,t),this._radius=t.radius||i2.a.CircleMarker.prototype.options.radius,this._updatePath()},_makeFeatureParts:function(e,t){t=t||{x:1,y:1};var n=e.geometry[0];"object"===oW(n[0])&&"x"in n[0]?(this._point=i2.a.point(n[0]).scaleBy(t),this._empty=i2.a.Util.falseFn):(this._point=i2.a.point(n).scaleBy(t),this._empty=i2.a.Util.falseFn)},makeInteractive:function(){this._updateBounds()},updateStyle:function(e,t){return this._radius=t.radius||this._radius,this._updateBounds(),u6.prototype.updateStyle.call(this,e,t)},_updateBounds:function(){if(this.options.iconUrl&&this.options.iconSize){var e=i2.a.point(this.options.iconSize),t=e&&e.divideBy(2,!0),n=this._point.subtract(t);this._pxBounds=new i2.a.Bounds(n,n.add(e))}else i2.a.CircleMarker.prototype._updateBounds.call(this)},_updatePath:function(){this.options.iconUrl?this._renderer._updateIcon(this):i2.a.CircleMarker.prototype._updatePath.call(this)},_getImage:function(){if(!this.options.iconUrl)return null;var e=this.options.iconUrl,t=f6.iconCache[e];if(!t){var n=this.options.iconSize||[50,50];t=f6.iconCache[e]=this._createIcon(e,n)}return t},_createIcon:function(e,t){var n=e;if(!n)throw new Error("iconUrl not set in Icon options (see the docs).");var r=document.createElement("img");r.src=n,r.className="leaflet-marker-icon "+(this.layerName||"");var i=t;if("number"==typeof i&&(i=[i,i]),i){var o=i2.a.point(i),a=i2.a.point(o&&o.divideBy(2,!0));o&&(r.style.width=o.x+"px",r.style.height=o.y+"px"),a&&(r.style.marginLeft=-a.x+"px",r.style.marginTop=-a.y+"px")}return r.onload=function(){i||(r.style.width=this.width+"px",r.style.height=this.height+"px")},r},_containsPoint:function(e){return this.options.iconUrl?this._pxBounds.contains(e):i2.a.CircleMarker.prototype._containsPoint.call(this,e)}}),h6={_makeFeatureParts:function(e,t){t=t||{x:1,y:1};var n,r=e.geometry;this._parts=[];for(var i=0;i<r.length;i++){for(var o=r[i],a=[],s=0;s<o.length;s++)n=o[s],a.push(i2.a.point(n).scaleBy(t));this._parts.push(a)}},makeInteractive:function(){this._pxBounds=this._getPixelBounds()}},p6=i2.a.Polyline.extend({includes:[u6.prototype,h6],initialize:function(e,t){u6.prototype.initialize.call(this,e),this._makeFeatureParts(e,t)},render:function(e,t){t.fill=!1,u6.prototype.render.call(this,e,t),this._updatePath()},updateStyle:function(e,t){t.fill=!1,u6.prototype.updateStyle.call(this,e,t)}}),y6=i2.a.Polygon.extend({includes:[u6.prototype,h6],initialize:function(e,t){u6.prototype.initialize.call(this,e),this._makeFeatureParts(e,t)},render:function(e,t){u6.prototype.render.call(this,e,t),this._updatePath()}}),d6=n(12),m6=n.n(d6),v6=n(13),g6=i2.a.Class.extend({initialize:function(e){this.url=e},getTile:function(){var e=this;return BQ.get(e.url,null,{timeout:1e4}).then(function(e){return e.ok?e.blob().then(function(e){var t=new FileReader;return new Promise(function(n){t.addEventListener("loadend",function(){var e=new m6.a(t.result);return n(new v6.VectorTile(e))}),t.readAsArrayBuffer(e)})}):{layers:[]}}).then(function(t){return e._processVectorTileSpec(t)})},_processVectorTileSpec:function(e){var t=[];for(var n in e.layers){for(var r=[],i=0;i<e.layers[n].length;i++){var o=e.layers[n].feature(i);switch(o.geometry=o.loadGeometry(),o.layerName=n,o.properties={attributes:i2.a.Util.extend({},o.properties),id:o.id},o.type){case 1:o.type=l6.POINT;break;case 2:o.type=l6.LINE;break;case 3:o.type=l6.REGION}r.push(o)}var a={};a.features=r,a.layerName=n,a.extent=e.layers[n].extent,t.push(a)}return t}}),b6=i2.a.Class.extend({initialize:function(e){this.url=e},getTile:function(){var e=this;return BQ.get(e.url,null,{timeout:1e4}).then(function(e){return e.json()}).then(function(t){return e._processRecordSets(t,e)})},_processRecordSets:function(e,t){var n=e.recordsets;if(!(n=t._convertToGeoJSON(n)))return null;for(var r=0;r<n.length;r++){for(var i=n[r],o=0;o<i.features.length;o++){var a=i.features[o];a=t._convertToVectorLayerFeature(a,t),a.layerName=i.layerName,i.features[o]=a}i.extent=256,delete i.fieldTypes,delete i.fields}return n},_convertToVectorLayerFeature:function(e,t){if(e.geometry){var n,r,i,o,a={},s=e.geometry,l=s.type,u=s.coordinates,c=e.properties,f=c.id;if("Point"===l)a=c&&c.texts?t._createFeature(f,l6.TEXT,[u],c):t._createFeature(f,l6.POINT,[u],c);else if("MultiPoint"===l)a=t._createFeature(f,l6.POINT,u,c);else if("LineString"===l)a=t._createFeature(f,l6.LINE,[u],c);else if("MultiLineString"===l||"Polygon"===l){for(i=[],n=0;n<u.length;n++)o=u[n],"Polygon"===l&&(o.outer=0===n),i.push(o);var h="Polygon"===l?l6.REGION:l6.LINE;a=t._createFeature(f,h,i,c)}else{if("MultiPolygon"!==l)throw new Error("Illegal GeoJSON object");for(i=[],n=0;n<u.length;n++)for(r=0;r<u[n].length;r++)o=u[n][r],o.outer=0===r,i.push(o);a=t._createFeature(f,l6.REGION,i,c)}return a}},_convertToGeoJSON:function(e){if(e){for(var t=0;t<e.length;t++){for(var n=e[t],r=0;r<n.features.length;r++){for(var i=n.features[r],o=[],a=0,s=0;s<i.geometry.parts.length;s++){for(var l=2*i.geometry.parts[s],u=0,c=a;u<l;u+=2,c+=2){var f=i.geometry.points[c],h=i.geometry.points[c+1];o.push({x:f,y:h})}a+=l}i.geometry.points=o}n.features=I8(n.features).features}return e}},_createFeature:function(e,t,n,r){return{id:e,type:t,geometry:n,properties:r}}}),S6={JSON:"JSON",MVT:"MVT",PBF:"PBF"};i2.a.supermap.VectorTileFormat=S6;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var _6=i2.a.Class.extend({initialize:function(e,t){this.layer=e.layer,this.tileSize=e.layer.getTileSize(),this.format=e.format,this.coords=e.coords,this.renderer=e.renderer,this.done=t,this.layer._textVectorTiles={}},renderTile:function(){var e,t=this,n=t.layer,r=t.coords,i=n._getTileUrl(r),o=[S6.MVT,S6.PBF];e=o.indexOf(t.format.toUpperCase())>-1?new g6(i):new b6(i),e.getTile().then(function(e){t.render(e,r)})},render:function(e,t){if(e){for(var n=this,r=n.renderer,i=n.layer,o=0;o<e.length;o++){var a=e[o],s=a.layerName;i._dataLayerNames[s]=!0;for(var l=n.tileSize.divideBy(a.extent),u=i.getLayerStyleInfo(a.layerName),c=0;c<a.features.length;c++){var f=a.features[c];if(f){u&&u.type===l6.LABEL&&f.type===l6.POINT&&f.properties.attributes&&(f.type=l6.TEXT);var h=n._getStyleOptions(t,f,s,n);if(h.length){var p=n._createFeatureLayer(f,l);if(p){var y={scope:n,coords:t,renderer:r};if(!n._extractTextLayer(f,p,h,y)){for(var d=0;d<h.length;d++){var m=n._validateStyle(h[d],f.type);p.render(r,m),r._addPath(p)}i.options.interactive&&p.makeInteractive();var v=i._getFeatureKey(f.id,s);r._features[v]={layerName:s,feature:p}}}}}}}i._map&&r.addTo(i._map),i2.a.Util.requestAnimFrame(n.done.bind(t,null,n.layer._vectorTiles[n.layer._tileCoordsToKey(t)]))}},_extractTextLayer:function(e,t,n,r){if(e.type!==l6.TEXT)return!1;var i=r.scope,o=r.coords,a=i.layer,s=a._tileCoordsToKey(o),l=e.id,u=e.layerName,c=a._textVectorTiles[s];return c||(c={layers:{},coords:o,renderer:r.renderer}),c.layers[l]={layer:t,style:n,layerName:u},a._textVectorTiles[s]=c,!0},_getStyleOptions:function(e,t,n,r){var i=r,o=i.layer,a=o.getVectorTileLayerStyle(e,t)||i._defaultStyle(t.type),s=t.id,l=o._getFeatureKey(s,n),u=o._overriddenStyles[l];return a=u||a,a=a instanceof Function?a(t.properties,e.z):a,a=a instanceof Array?a:[a]},_createFeatureLayer:function(e,t){var n;switch(e.type){case l6.POINT:n=new f6(e,t);break;case l6.LINE:n=new p6(e,t);break;case l6.REGION:n=new y6(e,t);break;case l6.TEXT:n=new c6(e,t)}var r=this.layer;return n&&r.options.interactive&&n.addEventParent(r),n},_validateStyle:function(e,t){switch(i2.a.Path.prototype.options.weight=1,i2.a.Path.prototype.options.fillOpacity=1,t){case l6.POINT:return i2.a.extend({},i2.a.CircleMarker.prototype.options,e);case l6.LINE:return i2.a.extend({},i2.a.Polyline.prototype.options,e);case l6.REGION:return i2.a.extend({},i2.a.Polygon.prototype.options,e);case l6.TEXT:return i2.a.extend({},c6.prototype.options,e)}},_defaultStyle:function(e){var t=i2.a.Path.prototype.options;switch(t.weight=1,t.fillOpacity=1,t.radius=3,e){case l6.POINT:return i2.a.extend({},t,i2.a.CircleMarker.prototype.options);case l6.LINE:return i2.a.extend({},t,i2.a.Polyline.prototype.options);case l6.REGION:return i2.a.extend({},t,i2.a.Polygon.prototype.options);case l6.TEXT:return i2.a.extend({},t,c6.prototype.options)}}}),w6=i2.a.GridLayer.extend({options:{vectorTileLayerStyles:null,renderer:"SVG",format:S6.JSON,interactive:!0,maxZoom:23},initialize:function(e){var t=this;i2.a.setOptions(t,e),i2.a.GridLayer.prototype.initialize.call(t,e),t._vectorTiles={},t._overriddenStyles={},t.vectorTileLayerStyles=t.options.vectorTileLayerStyles,t.on("tileunload",function(e){var n=t._tileCoordsToKey(e.coords),r=t._vectorTiles[n];r&&t._map&&r.removeFrom(t._map),delete t._vectorTiles[n]},t),t.on("tileerror ",t._renderText,t),t.on("load",t._renderText,t),t._dataLayerNames={}},createTile:function(e,t){var n=this,r=n.getTileSize(),i=null;return i="Canvas"===n.options.renderer?new s6(e,r,n.options):new a6(e,r,n.options),n._vectorTiles[n._tileCoordsToKey(e)]=i,i._features={},new _6({layer:n,format:n.options.format,coords:e,renderer:i},t).renderTile(),i.getContainer()},getStyles:function(){return this.vectorTileLayerStyles},getStyle:function(e){return this.vectorTileLayerStyles&&this.vectorTileLayerStyles[e]},setFeatureStyle:function(e,t,n){var r=this._getFeatureKey(e,t);this._overriddenStyles[r]=n;for(var i in this._vectorTiles){var o=this._vectorTiles[i],a=o._features,s=a[r];if(s){var l=s.feature;this._updateStyles(l,o,n)}}return this},resetFeatureStyle:function(e,t){var n=this._getFeatureKey(e,t);delete this._overriddenStyles[n];for(var r in this._vectorTiles){var i=this._vectorTiles[r],o=i._features[n];if(o){var a=o.feature,s=this.vectorTileLayerStyles[o.layerName];this._updateStyles(a,i,s)}}return this},getDataLayerNames:function(){return Object.keys(this._dataLayerNames)},_removeAllTiles:function(){i2.a.GridLayer.prototype._removeAllTiles.call(this),this._textVectorTiles={}},_renderText:function(){var e=this._textVectorTiles;for(var t in e){var n=e[t],r=n.renderer;for(var i in n.layers){for(var o=n.layers[i],a=o.style,s=o.layer,l=0;l<a.length;l++)s.render(r,a[l]),r._addPath(s);this.options.interactive&&s.makeInteractive()}}},_getFeatureKey:function(e,t){return e=e||0,t=t||"null",e+"_"+t},_updateStyles:function(e,t,n){(n=n instanceof Function?n(e.properties,t.getCoord().z):n)instanceof Array||(n=[n]);for(var r=0;r<n.length;r++){var i=this._extendStyle(n[r],e.type);e.updateStyle(t,i)}},_extendStyle:function(e,t){switch(t){case l6.POINT:return i2.a.extend({},i2.a.CircleMarker.prototype.options,e);case l6.LINE:return i2.a.extend({},i2.a.Polyline.prototype.options,e);case l6.REGION:return i2.a.extend({},i2.a.Polygon.prototype.options,e);case l6.TEXT:return i2.a.extend({},c6.prototype.options,e)}}}),O6=w6.extend({options:{serverType:null,crs:null,cartoCSS:null,layerNames:null,layersID:null,serverCartoCSSStyle:!0,processCharacters:!1,returnAttributes:!1,expands:null,cacheEnabled:!1,tileTemplate:null,subdomains:"abc",timeout:1e4,attribution:T8.Common.attribution},initialize:function(e,t){t=t||{},t.noWrap=null==t.noWrap||t.noWrap,i2.a.setOptions(this,t),w6.prototype.initialize.call(this,t),i2.a.stamp(this);var n=this;if(!e||e.indexOf("http")<0)return e="",this;n.url=e,e.indexOf("/")===e.length-1&&(e=e.substr(0,e.length-1),n.url=e),this.cartoCSSToLeaflet=new l4(n.url),n.initLayersInfo(),!n.options.serverCartoCSSStyle&&n.options.cartoCSS&&n.setClientCartoCSS(n.options.cartoCSS)},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._map=e,this._initLayerUrl(),!this.options.tileTemplate&&this.options.serverCartoCSSStyle||this._initGrid()},initLayersInfo:function(){var e=this,t=e.url+"/layers.json";BQ.get(t,null,{timeout:e.options.timeout}).then(function(e){return e.json()}).then(function(t){if(e.layersInfoInitialized=!0,e.layersInfo=t,e.layersInfo){for(var n={},r=0,i=e.layersInfo.length;r<i;r++)for(var o=e.layersInfo[r].subLayers.layers,a=0,s=o.length;a<s;a++)o[a].layerIndex=s-a,n[o[a].name]=o[a];e.layersInfo=n,e.cartoCSSToLeaflet.layersInfo=n,e.options.serverCartoCSSStyle&&e.getVectorStylesFromServer()}}).catch(function(e){console.error("error",e)})},getLayerStyleInfo:function(e){var t,n=this;if(n.layersStyles=n.layersStyles||{},t=n.layersStyles[e])return t;if(!n.layersInfo)return{};var r=n.layersInfo[e];if(!r)return null;switch(t={layerIndex:r.layerIndex,ugcLayerType:r.ugcLayerType},r.ugcLayerType){case"VECTOR":t.layerStyle=r.style?r.style:null;break;case"THEME":var i=r.theme;t.layerStyle=i?i.defaultStyle:null,i&&"LABEL"===i.type&&(t.type=i.type,t.textField=i.labelExpression);break;default:r.style&&(t.layerStyle=r.style)}return n.layersStyles[e]=t,t},getVectorStylesFromServer:function(){var e=this,t=e.url+"/tileFeature/vectorstyles.json";BQ.get(t,null,{timeout:e.options.timeout}).then(function(e){return e.json()}).then(function(t){if(!t||!t.style)return null;t.style&&"cartoCSS"===t.type&&e.setServerCartoCSS(t.style),e.options&&e.setClientCartoCSS(e.options.cartoCSS),e._initGrid()}).catch(function(e){console.error("error",e)})},setServerCartoCSS:function(e){this.cartoCSSToLeaflet.pretreatedCartoCSS(e,!0)},setClientCartoCSS:function(e){var t=!1;this.options.processCharacters&&(t=this.options.processCharacters),this.cartoCSSToLeaflet.pretreatedCartoCSS(e,t)},getVectorTileLayerStyle:function(e,t){if(!t)return null;var n=this,r=t.layerName,i=n.getLayerStyleInfo(r);if(i&&i.textField){var o=i.textField;if(o&&o.indexOf(".")){var a=o.split(".");o=a&&a.length>0&&a[a.length-1]}t.properties.textField=o}n.vectorTileLayerStyles=n.vectorTileLayerStyles||{};var s=n.vectorTileLayerStyles[r];if(s)return t=this._mergeFeatureTextField(t,s),s;var l=this.getScaleFromCoords(e),u=this.cartoCSSToLeaflet.pickShader(r)||[];s=[];for(var c in u)for(var f=u[c],h=0;h<f.length;h++){var p=this.cartoCSSToLeaflet.getValidStyleFromCarto(e.z,l,f[h],t,this.options.serverCartoCSSStyle);p&&s.push(p)}return t=this._mergeFeatureTextField(t,s),"TEXT"!==t.type&&0!==s.length||(s=this.cartoCSSToLeaflet.getValidStyleFromLayerInfo(t,i),"TEXT"===t.type&&(s.textName="["+t.properties.textField+"]")),n.vectorTileLayerStyles[r]=s,s},getScale:function(e){var t=this,n=e||t._map.getZoom();return t.scales[n]},getScaleFromCoords:function(e){var t,n=this;return n.scales&&n.scales[e.z]?n.scales[e.z]:(n.scales=n.scales||{},t=n.getDefaultScale(e),n.scales[e.z]=t,t)},getDefaultScale:function(e){var t=this,n=t._crs;if(n.scales)return n.scales[e.z];var r=t._tileCoordsToBounds(e),i=n.project(r.getNorthEast()),o=n.project(r.getSouthWest()),a=t.options.tileSize,s=Math.max(Math.abs(i.x-o.x)/a,Math.abs(i.y-o.y)/a),l=nY.METER;if(n.code){var u=n.code.split(":");if(u&&u.length>1){var c=parseInt(u[1]);l=c&&c>=4e3&&c<=5e3?nY.DEGREE:nY.METER}}return B8(s,96,l)},_mergeFeatureTextField:function(e,t){if(!this.options.serverCartoCSSStyle||!t||"TEXT"!==e.type)return e;var n=t;i2.a.Util.isArray(t)||(n=[t]);for(var r=0;r<n.length;r++){var i=n[r].textName;i&&e.properties&&(e.properties.textField=i.substring(1,i.length-1))}return e},_getTileUrl:function(e){var t=this;return t.options.tileTemplate?t._getTileTemplateUrl(e):t._getDefaultTileUrl(e)},_getTileTemplateUrl:function(e){var t=this,n=t.options.tileTemplate,r={s:t._getSubdomain(e),x:e.x,y:e.y,z:e.z};if(t._map&&!t._map.options.crs.infinite){var i=t._globalTileRange.max.y-e.y;t.options.tms&&(r.y=i),r["-y"]=i}return i2.a.Util.template(n,i2.a.extend(r,t.options))},_initGrid:function(){w6.prototype.onAdd.call(this,this._map)},_getSubdomain:i2.a.TileLayer.prototype._getSubdomain,_getDefaultTileUrl:function(e){var t=e.x,n=e.y,r=this._tileUrl+"&x="+t+"&y="+n;return r+="&scale="+this.getScaleFromCoords(e)},_initLayerUrl:function(){var e=this.options;if(this.url){var t=e.format.toString().toLowerCase();this._tileUrl=this.url+"/tileFeature."+t+"?",this._tileUrl+=encodeURI(this._createURLParam(e))}},_createURLParam:function(e){var t=[],n=this._getCredential();if(n&&t.push(n),e.layersID&&t.push("layersID="+e.layersID),e.layerNames){i2.a.Util.isArray(e.layerNames)||(e.layerNames=[e.layerNames]);var r="["+e.layerNames.join(",")+"]";t.push("layerNames="+r)}var i=this._crs;if(i.options&&i.options.origin)t.push("origin="+JSON.stringify({x:i.options.origin[0],y:i.options.origin[1]}));else if(i.projection&&i.projection.bounds){var o=i.projection.bounds,a=i2.a.point(o.min.x,o.max.y);t.push("origin="+JSON.stringify({x:a.x,y:a.y}))}e.expands&&t.push("expands="+e.expands),t.push("returnAttributes="+e.returnAttributes),t.push("cacheEnabled="+e.cacheEnabled);var s=this.options.tileSize;return t.push("width="+s),t.push("height="+s),t.join("&")},_getCredential:function(e){var t,n;switch(this.options.serverType){case QW.IPORTAL:n=UQ.getToken(e),t=n?new gQ(n,"token"):null,t||(n=UQ.getKey(e),t=n?new gQ(n,"key"):null);break;case QW.ONLINE:n=UQ.getKey(e),t=n?new gQ(n,"key"):null;break;default:n=UQ.getToken(e),t=n?new gQ(n,"token"):null}return t?t.getUrlParameters():null}}),x6=function(e,t){return new O6(e,t)};i2.a.supermap.tiledVectorLayer=x6;var C6=n(7),T6=i2.a.GeoJSON.extend({turfMap:{"Measurement.along":["line","distance","units"],"Measurement.area":["geojson"],"Measurement.bbox":["geojson"],"Measurement.bboxPolygon":["bbox"],"Measurement.bearing":["start","end","final"],"Measurement.center":["geojson","properties"],"Measurement.centerOfMass":["geojson","properties"],"Measurement.centroid":["geojson","properties"],"Measurement.destination":["origin","distance","bearing","units"],"Measurement.distance":["from","to","units"],"Measurement.envelope":["geojson"],"Measurement.length":["geojson","units"],"Measurement.midpoint":["point1","point2"],"Measurement.pointOnFeature":["geojson"],"Measurement.polygonTangents":["point","polygon"],"Measurement.rhumbBearing":["start","end","final"],"Measurement.rhumbDestination":["origin","distance","bearing","units"],"Measurement.rhumbDistance":["from","to","units"],"Measurement.square":["bbox"],"Measurement.greatCircle":["start","end","properties","npoints","offset"],"CoordinateMutation.cleanCoords":["geojson","mutate"],"CoordinateMutation.flip":["geojson","mutate"],"CoordinateMutation.rewind":["geojson","reverse","mutate"],"CoordinateMutation.round":["num","precision"],"CoordinateMutation.truncate":["geojson","precision","coordinates","mutate"],"Transformation.bboxClip":["feature","bbox"],"Transformation.bezierSpline":["line","resolution","sharpness"],"Transformation.buffer":["geojson","radius","units","steps"],"Transformation.circle":["center","radius","steps","units","properties"],"Transformation.clone":["geojson"],"Transformation.concave":["points","maxEdge","units"],"Transformation.convex":["geojson","concavity"],"Transformation.difference":["polygon1","polygon2"],"Transformation.dissolve":["featureCollection","propertyName"],"Transformation.intersect":["poly1","poly2"],"Transformation.lineOffset":["geojson","distance","units"],"Transformation.simplify":["feature","tolerance","highQuality"],"Transformation.tesselate":["poly"],"Transformation.transformRotate":["geojson","angle","pivot","mutate"],"Transformation.transformTranslate":["geojson","distance","direction","units","zTranslation","mutate"],"Transformation.transformScale":["geojson","factor","origin","mutate"],"Transformation.union":["A"],"Transformation.voronoi":["points","bbox"],"featureConversion.combine":["fc"],"featureConversion.explode":["geojson"],"featureConversion.flatten":["geojson"],"featureConversion.lineStringToPolygon":["lines","properties","autoComplete","orderCoords"],"featureConversion.polygonize":["geojson"],"featureConversion.polygonToLineString":["polygon","properties"],"Misc.kinks":["featureIn"],"Misc.lineArc":["center","radius","bearing1","bearing2","steps","units"],"Misc.lineChunk":["geojson","segmentLength","units","reverse"],"Misc.lineIntersect":["line1","line2"],"Misc.lineOverlap":["line1","line2"],"Misc.lineSegment":["geojson"],"Misc.lineSlice":["startPt","stopPt","line"],"Misc.lineSliceAlong":["line","startDist","stopDist","units"],"Misc.lineSplit":["line","splitter"],"Misc.mask":["polygon","mask"],"Misc.pointOnLine":["lines","pt","units"],"Misc.sector":["center","radius","bearing1","bearing2","steps","units"],"Misc.shortestPath":["start","end","obstacles","units","resolution"],"Misc.unkinkPolygon":["geojson"],"Helper.featureCollection":["features","bbox","id"],"Helper.feature":["geometry","properties","bbox","id"],"Helper.geometryCollection":["geometries","properties","bbox","id"],"Helper.lineString":["coordinates","properties","bbox","id"],"Helper.multiLineString":["coordinates","properties","bbox","id"],"Helper.multiPoint":["coordinates","properties","bbox","id"],"Helper.multiPolygon":["coordinates","properties","bbox","id"],"Helper.point":["coordinates","properties","bbox","id"],"Helper.polygon":["coordinates","properties","bbox","id"],"Data.sample":["featurecollection","num"],"Interpolation.interpolate":["points","cellSize","gridType","property","units","weight"],"Interpolation.isobands":["pointGrid","breaks","zProperty","commonProperties","breaksProperties"],"Interpolation.isolines":["pointGrid","breaks","zProperty","commonProperties","breaksProperties"],"Interpolation.planepoint":["point","triangle"],"Interpolation.tin":["points","z"],"Joins.pointsWithinPolygon":["points","polygons"],"Joins.tag":["points","polygons","field","outField","mask","properties"],"Grids.hexGrid":["bbox","cellSide","units","triangles"],"Grids.pointGrid":["bbox","cellSide","units","mask","properties"],"Grids.squareGrid":["bbox","cellSide","units","mask","properties"],"Grids.triangleGrid":["bbox","cellSide","units","mask","properties"],"Classification.nearestPoint":["targetPoint","points"],"Aggregation.collect":["polygons","points","inProperty","outProperty"],"Aggregation.clustersDbscan":["points","maxDistance","units","minPoints","mutate"],"Aggregation.clustersKmeans":["points","numberOfClusters","mutate"],"Meta.coordAll":["geojson"],"Meta.coordEach":["geojson","callback","excludeWrapCoord"],"Meta.coordReduce":["geojson","callback","initialValue","excludeWrapCoord"],"Meta.featureEach":["geojson","callback"],"Meta.featureReduce":["geojson","callback","initialValue"],"Meta.flattenEach":["geojson","callback"],"Meta.flattenReduce":["geojson","callback","initialValue"],"Meta.getCoord":["coord"],"Meta.getCoords":["coords"],"Meta.getGeom":["geojson"],"Meta.getGeomType":["geojson","name"],"Meta.geomEach":["geojson","callback"],"Meta.geomReduce":["geojson","callback","initialValue"],"Meta.propEach":["geojson","callback"],"Meta.propReduce":["geojson","callback","initialValue"],"Meta.segmentEach":["geojson","callback"],"Meta.segmentReduce":["geojson","callback","initialValue"],"Meta.getCluster":["geojson","filter"],"Meta.clusterEach":["geojson","property","callback"],"Meta.clusterReduce":["geojson","property","callback","initialValue"],"Assertions.collectionOf":["featureCollection","type","name"],"Assertions.containsNumber":["coordinates"],"Assertions.geojsonType":["value","type","name"],"Assertions.featureOf":["feature","type","name"],"Booleans.booleanClockwise":["line"],"Booleans.booleanContains":["feature1","feature2"],"Booleans.booleanCrosses":["feature1","feature2"],"Booleans.booleanDisjoint":["feature1","feature2"],"Booleans.booleanEqual":["feature1","feature2"],"Booleans.booleanOverlap":["feature1","feature2"],"Booleans.booleanParallel":["feature1","feature2"],"Booleans.booleanPointInPolygon":["point","polygon","ignoreBoundary"],"Booleans.booleanPointOnLine":["point","linestring","ignoreEndVertices"],"UnitConversion.bearingToAngle":["bearing"],"UnitConversion.convertArea":["area","originalUnit","finalUnit"],"UnitConversion.convertLength":["length","originalUnit","finalUnit"],"UnitConversion.degreesToradians":["degrees"],"UnitConversion.lengthToRadians":["distance","units"],"UnitConversion.lengthToDegrees":["distance","units"],"UnitConversion.radiansToLength":["radians","units"],"UnitConversion.radiansToDegrees":["radians"],"UnitConversion.toMercator":["geojson","mutate"],"UnitConversion.toWgs84":["geojson","mutate"]},options:{attribution:T8.Turf.attribution},initialize:function(e){e=e||{},i2.a.Util.setOptions(this,e),i2.a.stamp(this),this._layers={}},turfOptionMap:{"Measurement.along":["line","distance",{units:""}],"Measurement.bboxPolygon":["bbox",{properties:"",id:""}],"Measurement.bearing":["start","end",{final:""}],"Measurement.center":["geojson",{properties:""}],"Measurement.destination":["origin","distance","bearing",{units:"",properties:""}],"Measurement.distance":["from","to",{units:""}],"Measurement.length":["geojson",{units:""}],"Measurement.rhumbBearing":["start","end",{final:""}],"Measurement.rhumbDestination":["origin","distance","bearing",{units:"",properties:""}],"Measurement.rhumbDistance":["from","to",{units:""}],"Measurement.greatCircle":["start","end",{properties:"",npoints:"",offset:""}],"CoordinateMutation.cleanCoords":["geojson",{mutate:""}],"CoordinateMutation.flip":["geojson",{mutate:""}],"CoordinateMutation.rewind":["geojson",{mutate:"",reverse:""}],"CoordinateMutation.truncate":["geojson",{precision:"",coordinates:"",mutate:""}],"Transformation.bezierSpline":["line",{resolution:"",sharpness:""}],"Transformation.buffer":["geojson","radius",{units:"",steps:""}],"Transformation.circle":["center","radius",{units:"",steps:"",properties:""}],"Transformation.concave":["points",{maxEdge:"",units:""}],"Transformation.convex":["geojson",{concavity:""}],"Transformation.dissolve":["featureCollection",{propertyName:""}],"Transformation.lineOffset":["geojson","distance",{units:""}],"Transformation.simplify":["geojson",{tolerance:"",highQuality:""}],"Transformation.transformRotate":["geojson","angle",{pivot:"",mutate:""}],"Transformation.transformTranslate":["geojson","distance","direction",{units:"",zTranslation:"",mutate:""}],"Transformation.transformScale":["geojson","factor",{origin:"",mutate:""}],"Transformation.voronoi":["points",{bbox:""}],"featureConversion.lineStringToPolygon":["lines",{properties:"",autoComplete:"",orderCoords:""}],"featureConversion.polygonToLineString":["polygon",{properties:""}],"Misc.lineArc":["center","radius","bearing1","bearing2",{steps:"",units:""}],"Misc.lineChunk":["geojson","segmentLength",{units:"",reverse:""}],"Misc.lineOverlap":["line1","line2",{tolerance:""}],"Misc.lineSliceAlong":["line","startDist","stopDist",{units:""}],"Misc.pointOnLine":["lines","pt",{units:""}],"Misc.sector":["center","radius","bearing1","bearing2",{units:"",steps:"",properties:""}],"Misc.shortestPath":["start","end",{obstacles:"",units:"",resolution:""}],"Helper.feature":["geometry","properties",{bbox:"",id:""}],"Helper.geometryCollection":["geometries","properties",{bbox:"",id:""}],"Helper.lineString":["coordinates","properties",{bbox:"",id:""}],"Helper.multiLineString":["coordinates","properties",{bbox:"",id:""}],"Helper.multiPoint":["coordinates","properties",{bbox:"",id:""}],"Helper.multiPolygon":["coordinates","properties",{bbox:"",id:""}],"Helper.point":["coordinates","properties",{bbox:"",id:""}],"Helper.polygon":["coordinates","properties",{bbox:"",id:""}],"Interpolation.interpolate":["points","cellSize",{gridType:"",property:"",units:"",weight:""}],"Interpolation.isobands":["pointGrid","breaks",{zProperty:"",commonProperties:"",breaksProperties:""}],"Interpolation.isolines":["pointGrid","breaks",{zProperty:"",commonProperties:"",breaksProperties:""}],"Grids.hexGrid":["bbox","cellSide",{units:"",triangles:"",properties:"",mask:""}],"Grids.pointGrid":["bbox","cellSide",{units:"",mask:"",properties:""}],"Grids.squareGrid":["bbox","cellSide",{units:"",mask:"",properties:""}],"Grids.triangleGrid":["bbox","cellSide",{units:"",mask:"",properties:""}],"Aggregation.clustersDbscan":["points","maxDistance",{units:"",minPoints:"",mutate:""}],"Aggregation.clustersKmeans":["points",{numberOfClusters:"",mutate:""}],"Booleans.booleanPointInPolygon":["point","polygon",{ignoreBoundary:""}],"Booleans.booleanPointOnLine":["point","linestring",{ignoreEndVertices:""}],"UnitConversion.toMercator":["geojson",{mutate:""}],"UnitConversion.toWgs84":["geojson",{mutate:""}]},process:function(e,t,n,r){var i;try{i=C6[e.split(".")[1]].apply(this,this.parse(e,t))}catch(n){i=C6[e.split(".")[1]].apply(this,this.parseOption(e,t))}r=null==r||r,r&&this.addData([i]),n&&n(i)},parse:function(e,t){if("Transformation.union"===e)return t.A;var n=[],r=this.turfMap[e];return r&&r.map(function(e){return n.push(t[e]),t[e]}),n},parseOption:function(e,t){var n=[];return this.turfOptionMap[e].map(function(e){if(e instanceof Object){var r=e;Object.keys(r).forEach(function(e){r[e]=t[e]}),n.push(r)}else n.push(t[e]);return t}),n}}),P6=function(e){return new T6(e)};i2.a.supermap.turfLayer=P6;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var E6=i2.a.Layer.extend({options:{alwaysMapCRS:!1,id:rQ.createUniqueID("heatMapLayer_"),featureWeight:null,opacity:1,colors:["blue","cyan","lime","yellow","red"],useGeoUnit:!1,radius:50,attribution:T8.Common.attribution},initialize:function(e,t){i2.a.Util.setOptions(this,t),this.name=e,this.features=[],this.maxWeight=null,this.minWeight=null,this.rootCanvas=null,this.canvasContext=null,this.maxWidth=null,this.maxHeight=null,this.id=this.options.id,this.featureWeight=this.options.featureWeight,this.colors=this.options.colors,this.useGeoUnit=this.options.useGeoUnit,this.opacity=this.options.opacity,this.radius=this.options.radius,this.blur=this.options.blur,this.movingOffset=[0,0]},onRemove:function(e){var t=this;i2.a.DomUtil.remove(t.rootCanvas),e.off("mousemove",t.mouseMoveHandler)},onAdd:function(e){var t=this;if(t._map=e,t._createCanvasContainer(),!t.rootCanvas)return void e.removeLayer(t);var n=e.getSize();t.rootCanvas.width=t.maxWidth=n.x,t.rootCanvas.height=t.maxHeight=n.y,t._updateOpacity(),t.mouseMoveHandler=function(e){var n=e.layerPoint;t.currentMousePosition=i2.a.point(n.x+t.movingOffset[0],n.y+t.movingOffset[1])},e.on("mousemove",t.mouseMoveHandler),t.update()},addFeatures:function(e){this.features=this.toiClientFeature(e),this.refresh()},refresh:function(){if(0!==this.features.length&&this._map){var e=this._map.getBounds();this.updateHeatPoints(e)}},updateHeatPoints:function(e){this.features&&this.features.length>0?this.convertFastToPixelPoints(e):this.canvasContext.clearRect(0,0,this.maxWidth,this.maxWidth)},convertFastToPixelPoints:function(e){var t,n,r,i,o,a,s,l=[],u=e.getEast()-e.getWest(),c=e.getNorth()-e.getSouth(),f=this._map.getSize();i=u/f.x>c/f.y?u/f.x:c/f.y,this.useRadius=this.useGeoUnit?parseInt(this.radius/i):this.radius;for(var h=0;h<this.features.length;h++){var p=this.features[h],y=p.geometry,d=this.getLocalXY(new iQ(y.x,y.y));this.featureWeight?(d.weight=p.attributes[this.featureWeight],this.maxWeight||(o=o||d.weight,a=a||d.weight,o=Math.max(o,d.weight),a=Math.min(a,d.weight))):d.weight=1,t=Math.floor(d[0]),n=Math.floor(d[1]),r=d.weight,l.push([t,n,r])}this.maxWeight?this.draw(l,this.maxWeight):(s=o&&a?(o+a)/2:1,this.draw(l,s))},draw:function(e,t){if(!(this.maxHeight>0&&this.maxWidth>0))return!1;var n=this.canvasContext;this.canvasContext.clearRect(0,0,this.maxWidth,this.maxHeight),this.drawCircle(this.useRadius),this.createGradient();for(var r=0;r<e.length;r++){var i=e[r];this.canvasContext.globalAlpha=Math.max(i[2]/t,.05),this.canvasContext.drawImage(this.circle,i[0]-this.useRadius,i[1]-this.useRadius)}var o=n.getImageData(0,0,this.maxWidth,this.maxHeight);this.colorize(o.data,this.grad),n.putImageData(o,0,0)},colorize:function(e,t){for(var n,r=0;r<e.length;r+=4)(n=4*e[r+3])&&(e[r]=t[n],e[r+1]=t[n+1],e[r+2]=t[n+2])},drawCircle:function(e){var t=this.blur||e/2,n=this.circle=document.createElement("canvas"),r=n.getContext("2d");n.height=2*e,n.width=2*e,r.shadowOffsetX=r.shadowOffsetY=2*e,r.shadowBlur=t,r.shadowColor="#000000",r.beginPath(),r.arc(-e,-e,e/2,0,2*Math.PI,!0),r.closePath(),r.fill()},createGradient:function(){var e=this.colors,t=document.createElement("canvas"),n=t.getContext("2d"),r=n.createLinearGradient(0,0,0,256);t.height=256,t.width=1;for(var i=1,o=0,a=e.length;o<a;o++)r.addColorStop(i/a,e[o]),i++;n.fillStyle=r,n.fillRect(0,0,1,256),this.grad=n.getImageData(0,0,1,256).data},update:function(){var e=this._map.containerPointToLayerPoint([0,0]);i2.a.DomUtil.setPosition(this.rootCanvas,e);var t=this;t.refresh(),t.currentMousePosition&&(t.currentMousePosition=i2.a.point(t.currentMousePosition.x-t.movingOffset[0],t.currentMousePosition.y-t.movingOffset[1])),t.movingOffset=[0,0],t._zoom=t._map.getZoom(),t._center=t._map.getCenter()},getLocalXY:function(e){if(!this._map)return e;var t=e;i2.a.Util.isArray(e)&&(t=i2.a.point(e[0],e[1])),e instanceof i2.a.Point||(t=e instanceof cQ||e instanceof hQ?i2.a.point(e.x,e.y):i2.a.point(e.lon,e.lat));var n=this._map.latLngToContainerPoint(this.options.alwaysMapCRS?this._map.options.crs.unproject(t):i2.a.latLng(t.y,t.x));return[n.x,n.y]},setOpacity:function(e){var t=this;e!==t.options.opacity&&(e&&(t.options.opacity=e),t._updateOpacity())},removeFeatures:function(e){if(e&&0!==e.length&&this.features&&0!==this.features.length){if(e===this.features)return this.removeAllFeatures();rQ.isArray(e)||(e=[e]);for(var t,n,r=[],i=0,o=e.length;i<o;i++)t=e[i],n=rQ.indexOf(this.features,t),-1!==n?this.features.splice(n,1):r.push(t);var a=0==r.length;this._map.fire("featuresremoved",{features:r,succeed:a}),this.refresh()}},removeAllFeatures:function(){this.features=[],this.refresh()},_createCanvasContainer:function(){var e=this.getPane(),t=this._map.options.zoomAnimation&&i2.a.Browser.any3d,n="heatMapLayer leaflet-layer leaflet-zoom-"+(t?"animated":"hide");this.rootCanvas=i2.a.DomUtil.create("canvas",n,e);var r=i2.a.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);this.rootCanvas.id=this.id,this.rootCanvas.style[r]="50% 50%",this.rootCanvas.style.position="absolute",this.rootCanvas.style.zIndex=200,rQ.modifyDOMElement(this.rootCanvas,null,null,null,null,null,null,this.opacity),this.canvasContext=this.rootCanvas.getContext("2d")},_updateOpacity:function(){var e=this;rQ.modifyDOMElement(e.rootCanvas,null,null,null,null,null,null,e.options.opacity),null!==e._map&&e._map.fire("changelayer",{layer:e,property:"opacity"})},getEvents:function(){var e=this,t={zoomend:e._reset,moveend:e._reset,resize:e._resize};return this._map._zoomAnimated&&(t.zoomanim=e._zoomAnim),t},toiClientFeature:function(e){i2.a.Util.isArray(e)||(e=[e]);for(var t=[],n=0,r=e.length;n<r;n++)if(e[n]instanceof M6)t.push(e[n].toFeature());else if(-1!=["FeatureCollection","Feature","Geometry"].indexOf(e[n].type)){var i=new MQ;t=t.concat(i.read(e[n]))}else{if(!e[n].geometry||!e[n].geometry.parts)throw new Error("Features's type does not match, please check.");t.push(p$.fromJson(e[n]).toFeature())}return t},_zoomAnim:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._getCenterOffset(e.center)._multiplyBy(-t).subtract(this._map._getMapPanePos());i2.a.DomUtil.setTransform?i2.a.DomUtil.setTransform(this.rootCanvas,n,t):this.rootCanvas.style[i2.a.DomUtil.TRANSFORM]=i2.a.DomUtil.getTranslateString(n)+" scale("+t+")"},_reset:function(){var e=this;e.update();var t=e._map.getSize(),n=this._map.containerPointToLayerPoint([0,0]);i2.a.DomUtil.setPosition(this.rootCanvas,n),parseFloat(e.rootCanvas.width)!==parseFloat(t.x)&&(e.rootCanvas.width=t.x),parseFloat(e.rootCanvas.height)!==parseFloat(t.y)&&(e.rootCanvas.height=t.y),e.refresh()},_resize:function(){var e=this,t=e._map.getSize();e.maxWidth=t.x,e.maxHeight=t.y}}),k6=function(e,t){return new E6(e,t)};i2.a.supermap.heatMapLayer=k6;var M6=i2.a.Class.extend({initialize:function(e,t){this.geometry=e,this.attributes=t},toFeature:function(){var e=this.geometry,t=[];if(e instanceof i2.a.LatLng)t=[e.lng,e.lat];else if(e instanceof i2.a.Point)t=[e.x,e.y];else if(e instanceof i2.a.CircleMarker){var n=e.getLatLng();t=[n.lng,n.lat]}else t=e;return 2===t.length&&(e=new cQ(t[0],t[1])),new wQ(e,this.attributes)}}),A6=function(e,t){return new M6(e,t)};i2.a.supermap.heatMapFeature=A6;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var L6=P8.extend({initialize:function(e,t){P8.prototype.initialize.call(this,e,t)},code:function(e,t){var n=this;new sX(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).code(n.url+"/geocoding",e)},decode:function(e,t){var n=this;new sX(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).decode(n.url+"/geodecoding",e)}}),j6=function(e,t){return new L6(e,t)};i2.a.supermap.addressMatchService=j6;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var R6=P8.extend({initialize:function(e,t){P8.prototype.initialize.call(this,e,t)},queryChart:function(e,t,n){var r=this,i=r._processParams(e),o=r._processFormat(n);new IX(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:o}).processAsync(i)},getChartFeatureInfo:function(e){var t=this,n=t.url.concat();n+="/chartFeatureInfoSpecs",new LX(n,{proxy:t.options.proxy,withCredentials:t.options.withCredentials,crossOrigin:t.options.crossOrigin,headers:t.options.headers,serverType:t.options.serverType,eventListeners:{scope:t,processCompleted:e,processFailed:e}}).processAsync()},_processParams:function(e){if(!e)return{};e.returnContent=null==e.returnContent||e.returnContent,e.chartQueryFilterParameters&&!i2.a.Util.isArray(e.chartQueryFilterParameters)&&(e.chartQueryFilterParameters=[e.chartQueryFilterParameters]),e.bounds&&(e.bounds=R8.toSuperMapBounds(e.bounds))},_processFormat:function(e){return e||YW.GEOJSON}}),N6=function(e,t){return new R6(e,t)};i2.a.supermap.chartService=N6;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var I6=P8.extend({initialize:function(e,t){P8.prototype.initialize.call(this,e,t)},getFields:function(e,t){var n=this;new ZK(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t},datasource:e.datasource,dataset:e.dataset}).processAsync()},getFieldStatisticsInfo:function(e,t){if(e instanceof vK){var n=this,r=e.fieldName,i=e.statisticMode;i&&!i2.a.Util.isArray(i)&&(i=[i]),n.currentStatisticResult={fieldName:r},n._statisticsCallback=t,i.forEach(function(t){n.currentStatisticResult[t]=null,n._fieldStatisticRequest(e.datasource,e.dataset,r,t)})}},_fieldStatisticRequest:function(e,t,n,r){var i=this;new gK(i.url,{eventListeners:{scope:i,processCompleted:i._processCompleted,processFailed:i._statisticsCallback},datasource:e,dataset:t,field:n,statisticMode:r,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers}).processAsync()},_processCompleted:function(e){var t=this,n=!0,r=e.result;this.currentStatisticResult&&null==t.currentStatisticResult[r.mode]&&(this.currentStatisticResult[r.mode]=r.result);for(var i in t.currentStatisticResult)if(null==t.currentStatisticResult[i]){n=!1;break}n&&t._statisticsCallback({result:t.currentStatisticResult})}}),D6=function(e,t){return new I6(e,t)};i2.a.supermap.fieldService=D6;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var F6=P8.extend({initialize:function(e,t){P8.prototype.initialize.call(this,e,t)},getGridCellInfos:function(e,t){if(e instanceof $K){var n=this;new eZ(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)}}}),B6=function(e,t){return new F6(e,t)};i2.a.supermap.gridCellInfosService=B6;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var U6=P8.extend({initialize:function(e,t){P8.prototype.initialize.call(this,e,t)},getLayersInfo:function(e){var t=this;new LZ(t.url,{proxy:t.options.proxy,withCredentials:t.options.withCredentials,crossOrigin:t.options.crossOrigin,headers:t.options.headers,serverType:t.options.serverType,eventListeners:{processCompleted:e,processFailed:e}}).processAsync()},setLayerInfo:function(e,t){if(e instanceof y$){var n=this,r=e.resourceID,i=e.tempLayerName,o=e.layerInfo;if(r&&i){var a=n.url.concat();a+="/tempLayersSet/"+r+"/"+i;new d$(a,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{processCompleted:t,processFailed:t}}).processAsync(o)}}},setLayersInfo:function(e,t){if(e instanceof m$){var n=this,r=e.resourceID,i=!!e.isTempLayers&&e.isTempLayers,o=e.layersInfo;if((!i||r)&&o){new v$(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{processCompleted:t,processFailed:t},resourceID:r,isTempLayers:i}).processAsync(o)}}},setLayerStatus:function(e,t){if(e instanceof g$){var n=this;new b$(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{processCompleted:t,processFailed:t}}).processAsync(e)}}}),G6=function(e,t){return new U6(e,t)};i2.a.supermap.layerInfoService=G6;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var z6=P8.extend({initialize:function(e,t){P8.prototype.initialize.call(this,e,t)},measureDistance:function(e,t){return this.measure(tY.DISTANCE,e,t),this},measureArea:function(e,t){return this.measure(tY.AREA,e,t),this},measure:function(e,t,n){if(t instanceof QZ){var r=this;t.geometry&&(t.geometry=D8(t.geometry));new XZ(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,measureMode:e,eventListeners:{scope:r,processCompleted:n,processFailed:n}}).processAsync(t)}}}),V6=function(e,t){return new z6(e,t)};i2.a.supermap.measureService=V6;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var H6=P8.extend({initialize:function(e,t){P8.prototype.initialize.call(this,e,t)},sinksFacilityAnalyst:function(e,t){var n=this;new iK(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)},sourcesFacilityAnalyst:function(e,t){var n=this;new aK(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)},traceUpFacilityAnalyst:function(e,t){var n=this;new hK(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)},traceDownFacilityAnalyst:function(e,t){var n=this;new cK(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)},upstreamFacilityAnalyst:function(e,t){var n=this;new yK(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)}}),J6=function(e,t){return new H6(e,t)};i2.a.supermap.networkAnalyst3DService=J6;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var q6=P8.extend({initialize:function(e,t){P8.prototype.initialize.call(this,e,t)},burstPipelineAnalyst:function(e,t){var n=this;new AX(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(n._processParams(e))},computeWeightMatrix:function(e,t){var n=this;new zX(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(n._processParams(e))},findClosestFacilities:function(e,t,n){var r=this;new SK(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},streamFacilityAnalyst:function(e,t,n){var r=this;new lK(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},findLocation:function(e,t,n){var r=this;new wK(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},findPath:function(e,t,n){var r=this;new TK(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},findTSPPaths:function(e,t,n){var r=this;new MK(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},findMTSPPaths:function(e,t,n){var r=this;new xK(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},findServiceAreas:function(e,t,n){var r=this;new EK(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},updateEdgeWeight:function(e,t){var n=this;new Z$(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)},updateTurnNodeWeight:function(e,t){var n=this;new e0(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)},_processParams:function(e){if(!e)return{};if(e.centers&&i2.a.Util.isArray(e.centers)&&e.centers.map(function(t,n){return e.centers[n]=t instanceof i2.a.LatLng?{x:t.lng,y:t.lat}:t,e.centers[n]}),e.nodes&&i2.a.Util.isArray(e.nodes)&&e.nodes.map(function(t,n){return e.nodes[n]=t instanceof i2.a.LatLng?{x:t.lng,y:t.lat}:t,e.nodes[n]}),e.event&&e.event instanceof i2.a.LatLng&&(e.event={x:e.event.lng,y:e.event.lat}),e.facilities&&i2.a.Util.isArray(e.facilities)&&e.facilities.map(function(t,n){return e.facilities[n]=t instanceof i2.a.LatLng?{x:t.lng,y:t.lat}:t,e.facilities[n]}),e.parameter&&e.parameter.barrierPoints){var t=e.parameter.barrierPoints;i2.a.Util.isArray(t)?t.map(function(t,n){return e.parameter.barrierPoints[n]=t instanceof i2.a.LatLng?{x:t.lng,y:t.lat}:t,e.parameter.barrierPoints[n]}):e.parameter.barrierPoints=[t instanceof i2.a.LatLng?{x:t.lng,y:t.lat}:t]}return e},_processFormat:function(e){return e||YW.GEOJSON}}),W6=function(e,t){return new q6(e,t)};i2.a.supermap.networkAnalystService=W6;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Y6=P8.extend({initialize:function(e,t){t=t||{},i2.a.setOptions(this,t),P8.prototype.initialize.call(this,e,t),this.kernelDensityJobs={},this.summaryMeshJobs={},this.queryJobs={},this.summaryRegionJobs={},this.vectorClipJobs={},this.overlayGeoJobs={},this.buffersJobs={},this.topologyValidatorJobs={},this.summaryAttributesJobs={}},getKernelDensityJobs:function(e,t){var n=this,r=n._processFormat(t);new UZ(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getKernelDensityJobs()},getKernelDensityJob:function(e,t,n){var r=this,i=r._processFormat(n);new UZ(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i}).getKernelDensityJob(e)},addKernelDensityJob:function(e,t,n,r){var i=this,o=i._processParams(e),a=i._processFormat(r);new UZ(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.kernelDensityJobs[e.id]=e.state}},format:a}).addKernelDensityJob(o,n)},getKernelDensityJobState:function(e){return this.kernelDensityJobs[e]},getSummaryMeshJobs:function(e,t){var n=this,r=n._processFormat(t);new P$(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getSummaryMeshJobs()},getSummaryMeshJob:function(e,t,n){var r=this,i=r._processFormat(n);new P$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i}).getSummaryMeshJob(e)},addSummaryMeshJob:function(e,t,n,r){var i=this,o=i._processParams(e),a=i._processFormat(r);new P$(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.summaryMeshJobs[e.id]=e.state}},format:a}).addSummaryMeshJob(o,n)},getSummaryMeshJobState:function(e){return this.summaryMeshJobs[e]},getQueryJobs:function(e,t){var n=this,r=n._processFormat(t);new _$(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getQueryJobs()},getQueryJob:function(e,t,n){var r=this,i=r._processFormat(n);new _$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i}).getQueryJob(e)},addQueryJob:function(e,t,n,r){var i=this,o=i._processParams(e),a=i._processFormat(r);new _$(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.queryJobs[e.id]=e.state}},format:a}).addQueryJob(o,n)},getQueryJobState:function(e){return this.queryJobs[e]},getSummaryRegionJobs:function(e,t){var n=this,r=n._processFormat(t);new k$(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getSummaryRegionJobs()},getSummaryRegionJob:function(e,t,n){var r=this,i=r._processFormat(n);new k$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i}).getSummaryRegionJob(e)},addSummaryRegionJob:function(e,t,n,r){var i=this,o=i._processParams(e),a=i._processFormat(r);new k$(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.summaryRegionJobs[e.id]=e.state}},format:a}).addSummaryRegionJob(o,n)},getSummaryRegionJobState:function(e){return this.summaryRegionJobs[e]},getVectorClipJobs:function(e,t){var n=this,r=n._processFormat(t);new n0(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getVectorClipJobs()},getVectorClipJob:function(e,t,n){var r=this,i=r._processFormat(n);new n0(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i}).getVectorClipJob(e)},addVectorClipJob:function(e,t,n,r){var i=this,o=i._processParams(e),a=i._processFormat(r);new n0(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.vectorClipJobs[e.id]=e.state}},format:a}).addVectorClipJob(o,n)},getVectorClipJobState:function(e){return this.vectorClipJobs[e]},getOverlayGeoJobs:function(e,t){var n=this,r=n._processFormat(t);new $Z(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getOverlayGeoJobs()},getOverlayGeoJob:function(e,t,n){var r=this,i=r._processFormat(n);new $Z(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i}).getOverlayGeoJob(e)},addOverlayGeoJob:function(e,t,n,r){var i=this,o=i._processParams(e),a=i._processFormat(r);new $Z(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.overlayGeoJobs[e.id]=e.state}},format:a}).addOverlayGeoJob(o,n)},getoverlayGeoJobState:function(e){return this.overlayGeoJobs[e]},getBuffersJobs:function(e,t){var n=this,r=n._processFormat(t);new EX(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getBuffersJobs()},getBuffersJob:function(e,t,n){var r=this,i=r._processFormat(n);new EX(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i}).getBuffersJob(e)},addBuffersJob:function(e,t,n,r){var i=this,o=i._processParams(e),a=i._processFormat(r);new EX(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.buffersJobs[e.id]=e.state}},format:a}).addBuffersJob(o,n)},getBuffersJobState:function(e){return this.buffersJobs[e]},getTopologyValidatorJobs:function(e,t){var n=this,r=n._processFormat(t);new J$(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getTopologyValidatorJobs()},getTopologyValidatorJob:function(e,t,n){var r=this,i=r._processFormat(n);new J$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i}).getTopologyValidatorJob(e)},addTopologyValidatorJob:function(e,t,n,r){var i=this,o=i._processParams(e),a=i._processFormat(r);new J$(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.topologyValidatorJobs[e.id]=e.state}},format:a}).addTopologyValidatorJob(o,n)},getTopologyValidatorJobState:function(e){return this.topologyValidatorJobs[e]},getSummaryAttributesJobs:function(e,t){var n=this,r=n._processFormat(t);new C$(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getSummaryAttributesJobs()},getSummaryAttributesJob:function(e,t,n){var r=this,i=r._processFormat(n);new C$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i}).getSummaryAttributesJob(e)},addSummaryAttributesJob:function(e,t,n,r){var i=this,o=i._processParams(e),a=i._processFormat(r);new C$(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.summaryAttributesJobs[e.id]=e.state}},format:a}).addSummaryAttributesJob(o,n)},getSummaryAttributesJobState:function(e){return this.summaryAttributesJobs[e]},_processFormat:function(e){return e||YW.GEOJSON},_processParams:function(e){return e?(e.bounds&&(e.bounds=R8.toSuperMapBounds(e.bounds)),e.query&&(e.query=R8.toSuperMapBounds(e.query)),e.geometryQuery&&(e.geometryQuery=R8.toProcessingParam(e.geometryQuery)),e.geometryClip&&(e.geometryClip=R8.toProcessingParam(e.geometryClip)),e):{}}}),Q6=function(e,t){return new Y6(e,t)};i2.a.supermap.processingService=Q6;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var X6=P8.extend({initialize:function(e,t){P8.prototype.initialize.call(this,e,t)},queryByBounds:function(e,t,n){var r=this;new n$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},queryByDistance:function(e,t,n){var r=this;new i$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},queryBySQL:function(e,t,n){var r=this;new l$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},queryByGeometry:function(e,t,n){var r=this;new a$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},_processParams:function(e){return e?(e.returnContent=null==e.returnContent||e.returnContent,e.queryParams&&!i2.a.Util.isArray(e.queryParams)&&(e.queryParams=[e.queryParams]),e.bounds&&(e.bounds=R8.toSuperMapBounds(e.bounds)),e.geometry&&(e.geometry instanceof i2.a.Point?e.geometry=new cQ(e.geometry.x,e.geometry.y):e.geometry=D8(e.geometry)),e):{}},_processFormat:function(e){return e||YW.GEOJSON}}),K6=function(e,t){return new X6(e,t)};i2.a.supermap.queryService=K6;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Z6=P8.extend({initialize:function(e,t){P8.prototype.initialize.call(this,e,t)},getAreaSolarRadiationResult:function(e,t,n){var r=this;new hX(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(e)},bufferAnalysis:function(e,t,n){var r=this;new OX(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},densityAnalysis:function(e,t,n){var r=this;new $X(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},generateSpatialData:function(e,t,n){var r=this;new LK(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(e)},geoRelationAnalysis:function(e,t,n){var r=this;new BK(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(e)},interpolationAnalysis:function(e,t,n){var r=this;new FZ(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},mathExpressionAnalysis:function(e,t,n){var r=this;new YZ(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},overlayAnalysis:function(e,t,n){var r=this;new KZ(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},routeCalculateMeasure:function(e,t,n){var r=this;new c$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},routeLocate:function(e,t,n){var r=this;new h$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},surfaceAnalysis:function(e,t,n){var r=this;new A$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},terrainCurvatureCalculate:function(e,t,n){var r=this;new j$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(e)},thiessenAnalysis:function(e,t,n){var r=this;new G$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},geometrybatchAnalysis:function(e,t,n){for(var r=this,i=new z$(r.url,{serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}),o=[],a=0;a<e.length;a++){var s=e[a];o.push({analystName:s.analystName,param:r._processParams(s.param)})}i.processAsync(o)},_processParams:function(e){if(!e)return{};if(e.bounds&&(e.bounds=R8.toSuperMapBounds(e.bounds)),e.inputPoints)for(var t=0;t<e.inputPoints.length;t++){var n=e.inputPoints[t];i2.a.Util.isArray(n)&&(e.inputPoints[t]={x:n[0],y:n[1],tag:n[2]})}if(e.points)for(var r=0;r<e.points.length;r++){var i=e.points[r];i2.a.Util.isArray(i)?e.points[r]={x:i[0],y:i[1]}:i instanceof i2.a.LatLng?e.points[r]={x:i.lng,y:i.lat}:e.points[r]={x:i.x,y:i.y}}if(e.point&&(i2.a.Util.isArray(e.point)?e.point={x:e.point[0],y:e.point[1]}:e.point instanceof i2.a.LatLng?e.point={x:e.point.lng,y:e.point.lat}:e.point={x:e.point.x,y:e.point.y}),e.extractRegion&&(e.extractRegion=D8(e.extractRegion)),e.extractParameter&&e.extractParameter.clipRegion&&(e.extractParameter.clipRegion=D8(e.extractParameter.clipRegion)),e.clipParam&&e.clipParam.clipRegion&&(e.clipParam.clipRegion=D8(e.clipParam.clipRegion)),e.sourceGeometry){var o=null;e.sourceGeometrySRID&&(o=e.sourceGeometrySRID),e.sourceGeometry=D8(e.sourceGeometry),o&&(e.sourceGeometry.SRID=o),delete e.sourceGeometry.sourceGeometrySRID}if(e.operateGeometry&&(e.operateGeometry=D8(e.operateGeometry)),e.sourceGeometries){for(var a=[],s=0;s<e.sourceGeometries.length;s++)a.push(D8(e.sourceGeometries[s]));e.sourceGeometries=a}if(e.operateGeometries){for(var l=[],u=0;u<e.operateGeometries.length;u++)l.push(D8(e.operateGeometries[u]));e.operateGeometries=l}if(e.sourceRoute&&e.sourceRoute instanceof i2.a.Polyline){var c={};c.type="LINEM",c.parts=[e.sourceRoute.getLatLngs().length],c.points=[];for(var f=0;f<e.sourceRoute.getLatLngs().length;f++){var h=e.sourceRoute.getLatLngs()[f];c.points=c.points.concat({x:h.lng,y:h.lat,measure:h.alt})}e.sourceRoute=c}return e.operateRegions&&i2.a.Util.isArray(e.operateRegions)&&e.operateRegions.map(function(t,n){return e.operateRegions[n]=D8(t),e.operateRegions[n]}),e},_processFormat:function(e){return e||YW.GEOJSON}}),$6=function(e,t){return new Z6(e,t)};i2.a.supermap.spatialAnalystService=$6;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var e9=P8.extend({initialize:function(e,t){P8.prototype.initialize.call(this,e,t)},getThemeInfo:function(e,t){var n=this;new U$(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)}}),t9=function(e,t){return new e9(e,t)};i2.a.supermap.themeService=t9;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var n9=P8.extend({initialize:function(e,t){P8.prototype.initialize.call(this,e,t)},queryStop:function(e,t){var n=this;new O$(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)},analysisTransferPath:function(e,t){var n=this;new Y$(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(n._processParams(e))},analysisTransferSolution:function(e,t){var n=this;new X$(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(n._processParams(e))},_processParams:function(e){return e?(e.points&&i2.a.Util.isArray(e.points)&&e.points.map(function(t,n){return e.points[n]=t instanceof i2.a.LatLng?{x:t.lng,y:t.lat}:t,e.points[n]}),e):{}}}),r9=function(e,t){return new n9(e,t)};i2.a.supermap.trafficTransferAnalystService=r9;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
* This program are made available under the terms of the Apache License, Version 2.0
* which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var i9=i2.a.Control.extend({options:{position:"topright",style:function(e,t){return t?i2.a.circleMarker(t,{fillColor:"blue",weight:1,opacity:1,color:"blue",fillOpacity:.6}):{fillColor:"blue",weight:1,opacity:1,color:"blue",fillOpacity:.6}},onEachFeature:null},initialize:function(e){i2.a.setOptions(this,e),this._event=new i2.a.Evented,this.rootContainer=null},onAdd:function(e){return this.map=e,this.rootContainer=this._initView(),this.rootContainer},on:function(e,t){this._event.on(e,t)},off:function(e,t){this._event.off(e,t)},_initView:function(){},_preventMapEvent:function(e,t){e&&t&&(e.addEventListener("mouseover",function(){t.dragging.disable(),t.scrollWheelZoom.disable(),t.doubleClickZoom.disable()}),e.addEventListener("mouseout",function(){t.dragging.enable(),t.scrollWheelZoom.enable(),t.doubleClickZoom.enable()}))}}),o9=function(e){return new i9(e)};i2.a.supermap.components.componentsViewBase=o9;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var a9=i2.a.Evented.extend({initialize:function(){this.fileModel=new j1},readFile:function(e){var t=e.target,n=t.files[0];if(n.size>this.fileModel.FileConfig.fileMaxSize)return this.fire("filesizeexceed",{messageType:"warring",message:D1.i18n("msg_fileSizeExceeded")}),!1;var r=t.value,i=n.name,o=e2.getFileType(i);if(!o)return this.fire("errorfileformat",{messageType:"failure",message:D1.i18n("msg_fileTypeUnsupported")}),!1;""!==i&&(this.fileModel.set("loadFileObject",{file:n,filePath:r,fileName:i,fileType:o}),this._readData())},_readData:function(){var e=this,t=this,n=this.fileModel.loadFileObject.fileType;U1.readFile(n,{file:this.fileModel.loadFileObject.file,path:this.fileModel.loadFileObject.filePath},function(r){U1.processDataToGeoJson(n,r,function(t){t&&e.fire("openfilesucceeded",{result:t,layerName:e.fileModel.loadFileObject.fileName.split(".")[0]})},function(e){t.fire("openfilefailed",{messageType:"failure",message:e})},e)},function(){t.fire("openfilefailed",{messageType:"failure",message:D1.i18n("msg_openFileFail")})},this)}}),s9=function(e){return new a9(e)};i2.a.supermap.components.openFileViewModel=s9,i2.a.supermap.components.util=e2;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var l9=i9.extend({options:{layer:null},initialize:function(e){i9.prototype.initialize.apply(this,[e]),this.viewModel=new a9},setViewStyle:function(e,t){this.rootContainer.style[e]=t},_initView:function(){var e=this,t=i2.a.DomUtil.create("div","component-openfile");return t.id="openFile",this.fileSelect=i2.a.DomUtil.create("div","",t),this.label=i2.a.DomUtil.create("label","component-openfile__span--select",this.fileSelect),this.label.htmlFor="input_file",i2.a.DomUtil.create("div","supermapol-icons-upload",this.label),i2.a.DomUtil.create("span","component-openfile__span",this.label).appendChild(document.createTextNode(D1.i18n("text_chooseFile"))),this.fileInput=i2.a.DomUtil.create("input","component-openfile__input",this.fileSelect),this.fileInput.id="input_file",this.fileInput.type="file",this.fileInput.accept=".json,.geojson,.csv,.xls,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel",this.fileInput.onchange=function(t){e.messageBox.closeView(),e.viewModel.readFile(t)},this.messageBox=new R1,this.viewModel.on("filesizeexceed",function(t){e.messageBox.showView(t.message,t.messageType)}),this.viewModel.on("errorfileformat",function(t){e.messageBox.showView(t.message,t.messageType)}),this.viewModel.on("openfilefailed",function(t){e.messageBox.showView(t.message,t.messageType),e._event.fire("openfilefailed",t)}),this.viewModel.on("readdatafail",function(t){e.messageBox.showView(t.message,t.messageType)}),this.viewModel.on("openfilesucceeded",function(t){e._event.fire("openfilesucceeded",t)}),this._preventMapEvent(t,this.map),t}}),u9=function(e){return new l9(e)};i2.a.supermap.components.openFile=u9;var c9={HOT:{HOT:["åäº¬å¸","ä¸æµ·å¸","å¹¿å·å¸","æ·±å³å¸","åäº¬å¸","æ­å·å¸","å¤©æ´¥å¸","éåºå¸","æé½å¸","éå²å¸","èå·å¸","æ é¡å¸","å¸¸å·å¸","æ¸©å·å¸","æ­¦æ±å¸","é¿æ²å¸","åæå¸","ä¸äºå¸","åè¥å¸","ç³å®¶åºå¸"]},AB:{A:["é¿æåç","éå±±å¸","å®åºå¸","å®é³å¸","é¿åèæç¾æèªæ²»å·","å®é¡ºå¸","é¿éå°åº","å®åº·å¸","é¿åèå°åº","é¿åæ³°å°åº","é¿æå°å¸"],B:["åäº¬å¸","ä¿å®å¸","åå¤´å¸","å·´å½¦æ·å°å¸","æ¬æºªå¸","ç½å±±å¸","ç½åå¸","èå å¸","äº³å·å¸","æ»¨å·å¸","åæµ·å¸","ç¾è²å¸","ç½æ²é»æèªæ²»å¿","ä¿äº­é»æèæèªæ²»å¿","å·´ä¸­å¸","æ¯èå°åº","ä¿å±±å¸","å®é¸¡å¸","ç½é¶å¸","åå°å¡æèå¤èªæ²»å·","å·´é³é­æ¥èå¤èªæ²»å·","ååº"]},CD:{C:["éåºå¸","æé½å¸","å¸¸å·å¸","é¿æ²å¸","æ¿å¾·å¸","æ²§å·å¸","é¿æ²»å¸","èµ¤å³°å¸","æé³å¸","é¿æ¥å¸","æ»å·å¸","å·¢æ¹å¸","æ± å·å¸","å¸¸å¾·å¸","é´å·å¸","æ½®å·å¸","å´å·¦å¸","æ¾è¿å¿","ææ±é»æèªæ²»å¿","æ¥éå½æèªæ²»å·","æé½å°åº","æååæèªæ²»å·"],D:["å¤§åå¸","å¤§è¿å¸","ä¸¹ä¸å¸","å¤§åºå¸","å¤§å´å®å²­å°åº","ä¸è¥å¸","å¾·å·å¸","ä¸èå¸","åå·å¸","ä¸æ¹å¸","å®å®å¿","å¾·é³å¸","è¾¾å·å¸","å¤§çç½æèªæ²»å·","å¾·å®å£ææ¯é¢æèªæ²»å·","è¿ªåºèæèªæ²»å·","å®è¥¿å¸","ä¸åº","å¤§ååº","å¤§å åº"]},EFG:{E:["éå°å¤æ¯å¸","éå·å¸","æ©æ½åå®¶æèæèªæ²»å·"],F:["æé¡ºå¸","éæ°å¸","éé³å¸","ç¦å·å¸","æå·å¸","ä½å±±å¸","é²åæ¸¯å¸"],G:["å¹¿å·å¸","èµ£å·å¸","æ¡æå¸","è´µæ¸¯å¸","å¹¿åå¸","å¹¿å®å¸","è´µé³å¸","åºåå¸","é«éå¸","é«éå¿","çåèæèªæ²»å·","çå­èæèªæ²»å·"]},H:{H:["æ­å·å¸","åè¥å¸","é¯é¸å¸","è¡¡æ°´å¸","å¼åæµ©ç¹å¸","å¼ä¼¦è´å°å¸","è«è¦å²å¸","åå°æ»¨å¸","é¹¤å²å¸","é»æ²³å¸","æ·®å®å¸","æ¹å·å¸","æ·®åå¸","æ·®åå¸","é»å±±å¸","èæ³½å¸","é¹¤å£å¸","é»ç³å¸","é»åå¸","è¡¡é³å¸","æåå¸","æ å·å¸","æ²³æºå¸","è´ºå·å¸","æ²³æ± å¸","æµ·å£å¸","çº¢æ²³åå°¼æå½æèªæ²»å·","æ±ä¸­å¸","æµ·ä¸å°åº","æµ·åèæèªæ²»å·","é»åèæèªæ²»å·","æµ·åèæèªæ²»å·","ææ´èæèªæ²»å·","æµ·è¥¿èå¤æèæèªæ²»å·","åå¯å°åº","åç°å°åº","è±è²å¿","é»å¤§ä»åº","è±å°çå åº"]},J:{J:["æåå¸","æä¸­å¸","é¦å·å¸","åæå¸","é¸¡è¥¿å¸","ä½³æ¨æ¯å¸","åå´å¸","éåå¸","æ¯å¾·éå¸","ä¹æ±å¸","åå®å¸","æµåå¸","æµå®å¸","ç¦ä½å¸","æµæºå¸","èé¨å¸","èå·å¸","æ±é¨å¸","æ¹æ±å¸","æ­é³å¸","åå³ªå³å¸","éæå¸","éæ³å¸","åºéå¸","åä¹å¸","åä¹å¿","ä¹é¾ååº","åæ¨¡å åº"]},KL:{K:["å¼å°å¸","ææå¸","åæçä¾å¸","åå­åèæ¯å°åå­èªæ²»å·","åä»å°åº"],L:["å»åå¸","ä¸´æ±¾å¸","åæ¢å¸","è¾½é³å¸","è¾½æºå¸","è¿äºæ¸¯å¸","ä¸½æ°´å¸","å­å®å¸","é¾å²©å¸","è±èå¸","ä¸´æ²å¸","èåå¸","æ´é³å¸","æ¼¯æ²³å¸","å¨åºå¸","æ³å·å¸","æ¥å®¾å¸","ä¸´é«å¿","ä¹ä¸é»æèªæ²»å¿","éµæ°´é»æèªæ²»å¿","æ³¸å·å¸","ä¹å±±å¸","åå±±å½æèªæ²»å·","å­çæ°´å¸","ä¸½æ±å¸","ä¸´æ²§å¸","æè¨å¸","æèå°åº","å°å·å¸","éåå¸","ä¸´å¤åæèªæ²»å·"]},MNP:{M:["ç¡ä¸¹æ±å¸","é©¬éå±±å¸","èåå¸","æ¢å·å¸","ç»µé³å¸","çå±±å¸","èæ å¿"],N:["åäº¬å¸","åæå¸","åéå¸","å®æ³¢å¸","åå¹³å¸","å®å¾·å¸","åé³å¸","åå®å¸","åæ²ç¾¤å²","åæ±å¸","ååå¸","ææ±ååæèªæ²»å·","é£æ²å°åº","åæå¿"],P:["çé¦å¸","èç°å¸","èä¹¡å¸","å¹³é¡¶å±±å¸","æ¿®é³å¸","ææè±å¸","å¹³åå¸","å±ä¸å¿","æ¾æ¹å¿"]},QR:{Q:["éå²å¸","ç§¦çå²å¸","é½é½åå°å¸","é»è¥¿åå¸ä¾æèæèªæ²»å·","ä¸å°æ²³å¸","è¡¢å·å¸","æ³å·å¸","æ½æ±å¸","æ¸è¿å¸","é¦å·å¸","ç¼æµ·å¸","æ²éå¸","åºé³å¸","èæ¹¾åº","é»ä¸åèæä¾æèªæ²»å·","é»åå¸ä¾æèæèªæ²»å·","ç¼ä¸­é»æèæèªæ²»å¿"],R:["æ¥ç§å¸","æ¥ååå°åº"]},S:{S:["ä¸æµ·å¸","æ·±å³å¸","èå·å¸","ç³å®¶åºå¸","ä¸äºå¸","æå·å¸","æ²é³å¸","åå¹³å¸","æ¾åå¸","åé¸­å±±å¸","ç»¥åå¸","å®¿è¿å¸","ç»å´å¸","å®¿å·å¸","ä¸æå¸","ä¸é¥¶å¸","ä¸é¨å³¡å¸","åä¸å¸","åå °å¸","éå·å¸","éµé³å¸","é¶å³å¸","æ±å¤´å¸","æ±å°¾å¸","ä¸äºå¸","éå®å¸","æèå¸","å±±åå°åº","åæ´å¸","ç³å´å±±å¸","ç³æ²³å­å¸","æ·±æ°´ååº","æ²ç°åº","ç¥åæ¶æåº","å£å®å¤å°¼å åº","å£æ¹æµåå åº"]},T:{T:["å¤©æ´¥å¸","åå±±å¸","å¤ªåå¸","éè¾½å¸","éå²­å¸","éåå¸","æ³°å·å¸","å°å·å¸","ééµå¸","æ³°å®å¸","å¤©é¨å¸","å±¯æå¿","éä»å°åº","éå·å¸","å¤©æ°´å¸","åé²çªå°åº","å¡åå°åº","å¾æ¨èåå¸","å°åå¸","å°ä¸­å¸","å°åå¸","å°åå¿","æ¡å­å¿","å°ä¸­å¿","å°åå¿","å°ä¸å¿","å±¯é¨åº"]},W:{W:["æ é¡å¸","æ¸©å·å¸","æ­¦æ±å¸","ä¹æµ·å¸","ä¹å°å¯å¸å¸","èæ¹å¸","æ½åå¸","å¨æµ·å¸","æ¢§å·å¸","äºæå±±å¸","ææå¸","ä¸å®å¸","æå±±å£®æèæèªæ²»å·","æ¸­åå¸","æ­¦å¨å¸","å´å¿ å¸","ä¹é²æ¨é½å¸","äºå®¶æ¸ å¸","æ¹¾ä»åº","æå¾·å åº"]},X:{X:["é¢å°å¸","å¿»å·å¸","å´å®ç","å¾å·å¸","å®£åå¸","å¦é¨å¸","æ°ä½å¸","æ°ä¹¡å¸","è®¸æå¸","ä¿¡é³å¸","è¥æ¨å¸","å­æå¸","å¸å®å¸","ä»æ¡å¸","æ¹æ½­å¸","è¥¿å®å¸","å¸é³å¸","è¥¿å®å¸","æ°ç«¹å¸","æ°ç«¹å¿","è¥¿è´¡åº","é¡æé­åç","è¥¿æ²ç¾¤å²","æ¹è¥¿åå®¶æèæèªæ²»å·","è¥¿åççº³å£æèªæ²»å·"]},Y:{Y:["é³æ³å¸","è¿åå¸","è¥å£å¸","å»¶è¾¹æé²æèªæ²»å·","ä¼æ¥å¸","çåå¸","æ¬å·å¸","é¹°æ½­å¸","å®æ¥å¸","çå°å¸","å®æå¸","å²³é³å¸","çé³å¸","æ°¸å·å¸","é³æ±å¸","äºæµ®å¸","çæå¸","å®å®¾å¸","éå®å¸","çæºªå¸","å»¶å®å¸","æ¦æå¸","çæ èæèªæ²»å·","é¶å·å¸","ä¼çåè¨åèªæ²»å·","å®å°å¿","äºæå¿","æ²¹å°æºåº","åæåº"]},Z:{Z:["éå·å¸","å¼ å®¶å£å¸","éæ±å¸","èå±±å¸","æ¼³å·å¸","æ·åå¸","æ£åºå¸","å¨å£å¸","é©»é©¬åºå¸","æ ªæ´²å¸","å¼ å®¶çå¸","ç æµ·å¸","èåºå¸","ä¸­å±±å¸","èªè´¡å¸","èµé³å¸","éµä¹å¸","æ­éå¸","å¼ æå¸","ä¸­å«å¸","å½°åå¿","ä¸­è¥¿åº","ä¸­æ²ç¾¤å²çå²ç¤åå¶æµ·å"]}},f9=function(){function e(t){aW(this,e),this.layers=[],t&&t.length>0&&this.addLayers(t),this.currentLayerDataModel=null}return lW(e,[{key:"addLayers",value:function(e,t,n,r){for(var i=0;i<e.length;i++){var o=e[i].layerName;if(e[i].layer instanceof i2.a.GeoJSON){var a=new h9(e[i].layer);this.layers[o]=a,t&&t.call(r,{layerName:o,layer:a})}else n&&n.call(r,"")}}},{key:"setCurrentLayerDataModel",value:function(e){this.layers[e]&&(this.currentLayerDataModel=this.layers[e])}}]),e}();i2.a.supermap.components.GeoJsonLayersDataModel=f9;var h9=function(){function e(t){if(aW(this,e),this.layer=t,this.features=t.getLayers(),this.attributeNames=[],this.features[0].feature.properties)for(var n in this.features[0].feature.properties)this.attributeNames.push(n);this.operatingAttributeNames=[],this.attributes={}}return lW(e,[{key:"setOperatingAttributeNames",value:function(e){this.operatingAttributeNames=e}},{key:"getAllAttributeNames",value:function(){return this.attributeNames}},{key:"getAttributeNamesByType",value:function(e){if(this.features[0].feature.properties){var t=this.features[0].feature.properties,n=[];if("Num"===e)for(var r in t)isNaN(t[r])||n.push(r);else n=this.attributeNames;return n}}},{key:"getAllFeatures",value:function(){return this.features}},{key:"getAttributeValueByAttributeName",value:function(e){if(this.attributes[e])return this.attributes[e];this.attributes[e]=[];for(var t=0;t<this.features.length;t++)this.attributes[e].push([this.features[t].feature.properties[e]]);return this.attributes[e]}},{key:"getFeaturesByKeyWord",value:function(e){var t=[],n=new RegExp(e.toLowerCase()),r=this;return this.features.forEach(function(e){if(!e.feature.properties)return null;var i,o=e.feature.properties;i=r.operatingAttributeNames.length>0?r.operatingAttributeNames:r.attributeNames;for(var a=0,s=i.length;a<s;a++)if(o[i[a]]&&n.test(o[i[a]].toString().toLowerCase())){var l=i[a],u=o[i[a]];e.filterAttribute={filterAttributeName:l,filterAttributeValue:u},t.push(e);break}}),t}}]),e}(),p9=i2.a.Evented.extend({options:{cityGeoCodingConfig:{addressUrl:"https://www.supermapol.com/iserver/services/localsearch/rest/searchdatas/China/poiinfos",key:"fvV2osxwuZWlY0wJb8FEb2i5"}},initialize:function(e,t){if(!e)return new Error("Cannot find map, fileModel.map cannot be null.");this.map=e,i2.a.Util.setOptions(this,t),this.dataModel=new f9,this.geoCodeParam={keyWords:"åäº¬å¸",city:"åäº¬å¸",pageSize:this.options.pageSize,pageNum:this.options.pageNum},this.searchCache={}},search:function(e,t){t?this.searchFromLayer(e,t):this.searchFromCityLocalSearchService(e)},searchFromLayer:function(e,t){if(this.dataModel.layers[t]){var n=this.dataModel.layers[t].getFeaturesByKeyWord(e);n&&n.length>0?this.fire("searchlayersucceeded",{result:n}):this.fire("searchfailed",{searchType:"searchLayersField"})}},searchFromCityLocalSearchService:function(e){if(this.searchCache[e])this.fire("geocodesucceeded",{result:this.searchCache[e]});else{this.geoCodeParam.keyWords=e||this.geoCodeParam.city;var t=this,n=this._getSearchUrl(this.geoCodeParam);BQ.get(n).then(function(e){return e.json()}).then(function(e){if(e.error||0===e.poiInfos.length)return void t.fire("searchfailed",{searchType:"searchGeocodeField"});if(e.poiInfos){var n=t._dataToGeoJson(e.poiInfos,t.geoCodeParam);t.fire("geocodesucceeded",{result:n})}})}},addSearchLayers:function(e){var t=this;this.dataModel.addLayers(e,function(e){t.fire("newlayeradded",{layerName:e.layerName})},null,this)},panToLayer:function(e){this.dataModel.layers[e]&&this.map.flyToBounds(this.dataModel.layers[e].layer.getBounds())},panToCity:function(e){this.geoCodeParam.keyWords=e,this.geoCodeParam.city=e;var t=this,n=this._getSearchUrl(this.geoCodeParam);BQ.get(n).then(function(e){return e.json()}).then(function(e){if(e.poiInfos.length>0){var n=i2.a.latLng(e.poiInfos[0].location.y,e.poiInfos[0].location.x);t.map.setView(n,8)}else t.fire("searchfailed",{searchType:"cityGeocodeField"})})},_dataToGeoJson:function(e,t){for(var n=[],r=0;r<e.length;r++){var i={type:"Feature",geometry:{type:"Point",coordinates:[e[r].location.x,e[r].location.y]},properties:{name:e[r].name||t.keyWords,address:e[r].formatedAddress||e[r].address}};n.push(i)}return n},_getSearchUrl:function(e){return this.options.cityGeoCodingConfig.addressUrl+".json?keywords=".concat(e.keyWords,"&city=").concat(e.city,"&pageSize=").concat(e.pageSize,"&pageNum=").concat(e.pageNum,"&key=").concat(this.options.cityGeoCodingConfig.key)}}),y9=function(e){return new p9(e)};i2.a.supermap.components.searchViewModel=y9;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var d9=i9.extend({options:{cityConfig:c9,cityGeoCodingConfig:{addressUrl:"https://www.supermapol.com/iserver/services/localsearch/rest/searchdatas/China/poiinfos",key:"fvV2osxwuZWlY0wJb8FEb2i5"},isGeoCoding:!0,pageSize:10,pageNum:1,perPageDataNum:8},initialize:function(e){i9.prototype.initialize.apply(this,[e]),this.currentSearchLayerName="",this.isSearchLayer=!1,this.perPageDataNum=this.options.perPageDataNum},onAdd:function(e){return this.viewModel=new p9(e,this.options),i9.prototype.onAdd.apply(this,[e])},addSearchLayer:function(e){this.viewModel.addSearchLayers(e)},_initView:function(){var e=this,t=this,n=document.createElement("div");n.setAttribute("class","component-search-container");var r=document.createElement("div");r.setAttribute("class","component-search");var i=document.createElement("div");i.setAttribute("class","component-search__settings");var o=document.createElement("div");o.setAttribute("class","component-search__settings__name"),i.appendChild(o);var a=document.createElement("span");a.setAttribute("class","supermapol-icons-solid-down-triangle"),i.appendChild(a);var s=null;if(this.options.isGeoCoding){var l=new K1({config:this.options.cityConfig});s=l.getElement(),l.content.onclick=function(t){"SPAN"===t.target.nodeName&&t.target.innerText&&(e.viewModel.panToCity(t.target.innerHTML),e.messageBox.closeView(),o.removeChild(o.firstChild),o.insertBefore(document.createTextNode(t.target.innerHTML),o.firstChild),e.isSearchLayer=!1)},o.appendChild(document.createTextNode(l.content.getElementsByTagName("span")[0].innerText))}var u=function(){var e=document.createElement("div");e.setAttribute("class","component-search__layers");var n=document.createElement("div");n.setAttribute("class","component-search-layers-content"),e.appendChild(n);var r=document.createElement("div");r.setAttribute("class","component-search__layers__header");var i=document.createElement("div");i.setAttribute("class","load-btn"),r.appendChild(i);var a=document.createElement("span");a.setAttribute("class","supermapol-icons-poi-load"),i.appendChild(a);var s=document.createElement("span");s.appendChild(document.createTextNode(D1.i18n("text_loadSearchCriteria"))),i.appendChild(s);var l=document.createElement("div");l.setAttribute("class","save-btn"),r.appendChild(l);var u=document.createElement("span");u.setAttribute("class","supermapol-icons-poi-save"),l.appendChild(u);var c=document.createElement("span");c.appendChild(document.createTextNode(D1.i18n("text_saveSearchCriteria"))),l.appendChild(c);var f=document.createElement("div");return f.setAttribute("class","component-search__layers__body"),f.onclick=function(e){t.clearSearchResult();var n=null;if("component-search__layers__itme__singleselect"===e.target.classList[0])n=e.target;else{if("component-single-default-img"!==e.target.classList[0]&&"single-label"!==e.target.classList[0])return;n=e.target.parentNode}document.getElementsByClassName("component-single-checked-img").length>0&&document.getElementsByClassName("component-single-checked-img")[0].setAttribute("class","component-single-default-img"),n.firstChild.setAttribute("class","component-single-checked-img"),t.currentSearchLayerName=n.lastChild.innerText,t.isSearchLayer=!0,o.removeChild(o.firstChild),o.insertBefore(document.createTextNode(t.currentSearchLayerName),o.firstChild),t.viewModel.panToLayer(t.currentSearchLayerName),t.messageBox.closeView()},n.appendChild(f),e}(),c=[];s&&c.push({title:D1.i18n("title_searchCity"),content:s}),c.push({title:D1.i18n("title_searchLayer"),content:u});var f=new Z1({tabs:c}),h=f.getElement();f.closeView(),r.appendChild(h),i.onclick=function(){h.hidden?f.showView():f.closeView()},r.appendChild(i),o.innerText||o.appendChild(document.createTextNode(D1.i18n("text_label_chooseSearchLayers")));var p=document.createElement("div");p.setAttribute("class","component-search__input");var y=document.createElement("input");y.type="text",y.placeholder=D1.i18n("text_label_searchTips"),p.appendChild(y),this.poiInput=y;var d=document.createElement("span");d.setAttribute("class","supermapol-icons-close"),d.hidden=!0,p.appendChild(d),r.appendChild(p);var m=document.createElement("div");m.setAttribute("class","component-search-icon supermapol-icons-search"),m.onclick=function(){v.closeView(),e.clearSearchResult(),e.messageBox.closeView(),f.closeView();var t=e.poiInput.value.trim();if(""===t)return void e.messageBox.showView(D1.i18n("msg_searchKeywords"));e.isSearchLayer?e.viewModel.search(t,e.currentSearchLayerName):e.viewModel.search(t)},y.onkeypress=function(e){if(13==e.which){var t=document.createEvent("HTMLEvents");t.initEvent("click",!1,!0),m.dispatchEvent(t)}},r.appendChild(m);var v=new $1;this._resultDomObj=v;var g=function(){var e=v.getElement();return e.style.position="absolute",e.style.top="44px",e.style.right="0",v.closeView(),v.content.onclick=function(e){var n=null;if("component-search-result-info"===e.target.parentNode.className)n=e.target.parentNode.parentNode;else if("component-search__resultitme"===e.target.parentNode.className)n=e.target.parentNode;else{if("component-search__resultitme"!==e.target.className)return;n=e.target}document.getElementsByClassName("component-search__resultitme-selected").length>0&&document.getElementsByClassName("component-search__resultitme-selected")[0].classList.remove("component-search__resultitme-selected"),n.firstChild.classList.add("component-search__resultitme-selected");var r=n.children[1].firstChild.innerText;t._linkageFeature(r)},e}();return r.appendChild(g),d.onclick=function(t){e.clearSearchResult(),y.value="",t.target.hidden=!0,v.closeView()},y.oninput=function(){d.hidden=!1},this.messageBox=new R1,this._addViewModelListener(),n.appendChild(r),this._preventMapEvent(n,this.map),n},_createSearchLayerItem:function(e){var t=document.createElement("div");t.setAttribute("class","component-search__layers__itme");var n=document.createElement("div");n.setAttribute("class","component-search__layers__itme__singleselect");var r=document.createElement("div");r.setAttribute("class","component-single-default-img"),n.appendChild(r);var i=document.createElement("span");i.setAttribute("class","single-label"),i.innerHTML=e,n.appendChild(i),t.appendChild(n),document.getElementsByClassName("component-search__layers__body")[0].appendChild(t)},_createResultItem:function(e,t){var n=document.createElement("div");n.setAttribute("class","component-search__resultitme");var r=document.createElement("div");"Point"===e||"MultiPoint"===e?r.setAttribute("class","supermapol-icons-marker-layer component-search-result-icon"):"LineString"===e||"MultiLineString "===e?r.setAttribute("class","supermapol-icons-line-layer component-search-result-icon"):"Polygon"===e||"MultiPolygon"===e?r.setAttribute("class","supermapol-icons-polygon-layer component-search-result-icon"):r.setAttribute("class","supermapol-icons-point-layer component-search-result-icon"),n.appendChild(r);var i=document.createElement("div");i.setAttribute("class","component-search-result-info");var o=document.createElement("div");i.appendChild(o);var a=document.createElement("div");return t.name?(o.innerHTML=t.name,a.innerHTML=t.address,i.appendChild(a)):o.innerHTML=t.filterAttributeName+": "+t.filterAttributeValue,n.appendChild(i),document.createElement("div").setAttribute("class","component-checkbox component-checkbox-default-img"),n},_addViewModelListener:function(){var e=this;this.viewModel.on("searchlayerschanged",function(t){for(var n=0;n<t.length;n++)e._createSearchLayerItem(t[n])}),this.viewModel.on("newlayeradded",function(t){e._createSearchLayerItem(t.layerName)}),this.viewModel.on("searchlayersucceeded",function(t){var n=t.result;e.clearSearchResult(),e.searchResultLayer=i2.a.featureGroup(n,{pointToLayer:e.options.style,style:e.options.style}).bindPopup(function(e){if(e.feature.properties)return new Q1({attributes:e.feature.properties}).getElement()}).addTo(e.map),e.searchResultLayer.eachLayer(function(t){e.options.onEachFeature?e.options.onEachFeature(t.toGeoJSON(),t):e._featureOnclickEvent.bind(e)(t.toGeoJSON(),t)}),e.searchLayersData=n,e._prepareResultData(n),e._event.fire("searchlayersucceeded",{result:e.searchResultLayer.toGeoJSON()})}),this.viewModel.on("geocodesucceeded",function(t){var n=t.result;e.clearSearchResult(),e.searchResultLayer=i2.a.geoJSON(n,{pointToLayer:e.options.style,style:e.options.style,onEachFeature:e.options.onEachFeature||e._featureOnclickEvent.bind(e)}).bindPopup(function(e){if(e.feature.properties)return new Q1({attributes:e.feature.properties}).getElement()}).addTo(e.map),e.searchLayersData=n,e._prepareResultData(n),e._event.fire("geocodesucceeded",{result:n})}),this.viewModel.on("searchfailed",function(t){var n="";n="searchGeocodeField"===t.searchType?D1.i18n("msg_searchGeocodeField"):"cityGeocodeField"===t.searchType?D1.i18n("msg_cityGeocodeField"):D1.i18n("msg_getFeatureField"),e.messageBox.showView(n),e._event.fire("searchfailed",{message:n})})},_prepareResultData:function(e){function t(e){r._createResultListByPageNum(e,r.currentResult)}this.currentResult=e;var n=Math.ceil(e.length/this.perPageDataNum);this._resultDomObj.setPageLink(n),this._createResultListByPageNum(1,e),this._resultDomObj.showView(),this._resultDomObj.setLinkageEvent(t);var r=this},_createResultListByPageNum:function(e,t){var n,r=0;1===e&&t.length<this.perPageDataNum?n=t.length-1:e*this.perPageDataNum>t.length?(r=this.perPageDataNum*(e-1),n=t.length-1):(r=this.perPageDataNum*(e-1),n=e*this.perPageDataNum-1);for(var i=document.createElement("div"),o=r;o<=n;o++){var a=void 0,s="Point";t[o].filterAttribute?(s=t[o].feature.geometry.type,a=t[o].filterAttribute):a=t[o].properties,i.appendChild(this._createResultItem(s,a))}this._resultDomObj.setContent(i),this._resultDomObj.showView(),i.firstChild.getElementsByClassName("component-search-result-icon")[0].classList.add("component-search__resultitme-selected");var l=i.firstChild.getElementsByClassName("component-search-result-info")[0].firstChild.innerText;!this._selectMarkerFeature&&this._linkageFeature(l)},_flyToBounds:function(e){var t=e.getSouthWest(),n=e.getNorthEast();t.lat===n.lat&&t.lng===n.lng?this.map.flyTo(t):this.map.fitBounds(e)},_linkageFeature:function(e){var t=this,n="";n=this.isSearchLayer?e.split(":")[1].trim():e,this._selectFeature&&this._selectFeature.addTo(this.map),this.searchResultLayer.eachLayer(function(e){(!n||e.filterAttribute&&e.filterAttribute.filterAttributeValue===n||e.feature.properties&&e.feature.properties.name===n)&&(e.remove(),t._setSelectedLayerStyle(e))})},clearSearchResult:function(){this.searchResultLayer&&(this.map.closePopup(),!this.isSearchLayer&&this.map.removeLayer(this.searchResultLayer),this._selectMarkerFeature&&this.map.removeLayer(this._selectMarkerFeature),this._selectFeaturethis&&this.map.removeLayer(this._selectFeature),this._selectMarkerFeature=null,this._selectFeature=null,this.searchResultLayer=null,this.currentResult=null)},_featureOnclickEvent:function(e,t){var n=this;t.on("click",function(){var r=document.getElementsByClassName("component-pagination__link")[0];n._resultDomObj._changePageEvent({target:r.children[0].children[0]}),n._selectFeature&&n._selectFeature.addTo(n.map),t.remove();for(var i,o,a=0;a<n.searchLayersData.length;a++){var s=n.searchLayersData[a];if(s.properties&&s.properties.name===e.properties.name||s.filterAttribute&&s.filterAttribute.filterAttributeName+": "+s.filterAttribute.filterAttributeValue==t.filterAttribute.filterAttributeName+": "+t.filterAttribute.filterAttributeValue){o=a%n.perPageDataNum,i=parseInt(a/n.perPageDataNum)+1;break}}if(i>1)for(var l=1;l<i;l++){var u=void 0;u=document.getElementsByClassName("component-pagination__link")[0],n._resultDomObj._changePageEvent({target:u.children[u.children.length-2].children[0]})}var c=document.getElementsByClassName("component-search-result-info"),f=c[o].children[0];if(f.innerHTML===e.properties.name||f.innerHTML===t.filterAttribute.filterAttributeName+": "+t.filterAttribute.filterAttributeValue){var h=c[o].parentNode;document.getElementsByClassName("component-search__resultitme-selected").length>0&&document.getElementsByClassName("component-search__resultitme-selected")[0].classList.remove("component-search__resultitme-selected"),h.firstChild.classList.add("component-search__resultitme-selected"),n._setSelectedLayerStyle(t)}},this)},_setSelectedLayerStyle:function(e){this._selectMarkerFeature&&this._selectMarkerFeature.remove(),this._selectMarkerFeature=null,this._selectFeature=e,this._selectMarkerFeature=i2.a.geoJSON(e.toGeoJSON(),{pointToLayer:function(e,t){return i2.a.marker(t,{icon:i2.a.divIcon({className:"component-select-marker-icon",iconAnchor:[15,0]})})},style:{fillColor:"red",weight:1,opacity:1,color:"red",fillOpacity:.2}}).addTo(this.map),this._selectMarkerFeature.bindPopup(function(){return new Q1({attributes:e.feature.properties}).getElement()},{closeOnClick:!1}).openPopup().addTo(this.map),this._flyToBounds(this.searchResultLayer.getBounds());var t;e.getLatLng?t=e.getLatLng():e.getCenter&&(t=e.getCenter()),this.map.setView(t)}}),m9=function(e){return new d9(e)};i2.a.supermap.components.search=m9;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var v9=i2.a.Evented.extend({options:{_defaultLayerOptions:{style:null,onEachFeature:function(e,t){var n="å±æ§ä¿¡æ¯å¦ä¸ï¼<br>";for(var r in e.properties)n+=r+": "+e.properties[r]+"<br>";t.bindPopup(n)}}},initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return new Error("Cannot find map, fileModel.map cannot be null.");this.map=e,i2.a.Util.extend(this.options._defaultLayerOptions,t),this.options._defaultLayerOptions.pointToLayer=this.options._defaultLayerOptions.style,this.popupsStatus=!0,this.dataFlowStatus=!1,this.dataFlowUrl="",this.currentFeatures=[],this.dataFlowLayer=null},subscribe:function(e){var t=this;if(this.dataFlowUrl===e){if(this.dataFlowStatus)return void this.fire("dataflowservicesubscribed")}else this.dataFlowUrl=e;this.dataFlowStatus=!0,this.dataFlowLayer&&(this.dataFlowLayer.remove(),this.dataFlowLayer=null);var n=new I4(e,this.options._defaultLayerOptions);n.on("subscribesucceeded",function(e){t.fire("subscribesucceeded",{result:e})}),n.on("subscribefailed",function(e){t.fire("subscribefailed",{result:e})}),n.on("dataupdated",function(e){t.fire("dataupdated",{result:e});var n=e.layer.getBounds(),r=R8.toSuperMapBounds(t.map.getBounds()),i=R8.toSuperMapBounds(n);r.intersectsBounds(i)||(i.left===i.right&&i.top===i.bottom?t.map.setView(n.getCenter()):t.map.flyToBounds(n)),t.popupsStatus&&t.openPopups()}),n.addTo(this.map),this.dataFlowLayer=n},cancelSubscribe:function(){this.dataFlowLayer&&(this.dataFlowStatus=!1,this.dataFlowLayer.dataService.unSubscribe(),this.dataFlowLayer.remove(),this.dataFlowLayer=null)},openPopups:function(){if(this.popupsStatus=!0,this.dataFlowLayer)for(var e=this.dataFlowLayer.getLayers(),t=0;t<e.length;t++)for(var n=0;n<e[t].getLayers().length;n++)e[t].getLayers()[n].openPopup()},closePopups:function(){if(this.popupsStatus=!1,this.dataFlowLayer)for(var e=this.dataFlowLayer.getLayers(),t=0;t<e.length;t++)for(var n=0;n<e[t].getLayers().length;n++)e[t].getLayers()[n].closePopup()}}),g9=function(e){return new v9(e)};i2.a.supermap.components.dataFlowViewModel=g9;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var b9=i9.extend({initialize:function(e){i9.prototype.initialize.apply(this,[e])},onAdd:function(e){var t={};return this.options.style&&(t.style=this.options.style),this.options.onEachFeature&&(t.style=this.options.onEachFeature),this.viewModel=new v9(e,t),i9.prototype.onAdd.apply(this,[e])},_initView:function(){var e=this,t=new J1({title:D1.i18n("title_dataFlowService")}),n=t.getElement(),r=t.getContentElement();r.style.padding="10px 18px";var i=document.createElement("div");i.setAttribute("class","component-dataflow__container");var o=document.createElement("div");o.setAttribute("class","component-input-default");var a=document.createElement("input");a.setAttribute("class","component-input-default"),a.type="text",a.placeholder=D1.i18n("text_input_value_inputDataFlowUrl"),a.title=D1.i18n("text_input_value_inputDataFlowUrl"),o.appendChild(a);var s=document.createElement("span");s.setAttribute("class","supermapol-icons-close"),s.hidden=!0,s.onclick=function(e){a.value="",e.target.hidden=!0},a.oninput=function(){s.hidden=!1},o.appendChild(s),i.appendChild(o),r.appendChild(i);var l=document.createElement("div");l.setAttribute("class","component-dataflow__container");var u=document.createElement("div");u.setAttribute("class","component-checkbox-container");var c=document.createElement("div");c.setAttribute("class","component-checkbox-default component-checkbox-selected-img"),c.checked=!0,u.appendChild(c);var f=document.createElement("div");f.setAttribute("class","component-label component-label-selected"),f.innerHTML=D1.i18n("text_displayFeaturesInfo"),u.appendChild(f),c.onclick=function(t){t.target.checked=!t.target.checked,t.target.checked?(f.setAttribute("class","component-label component-label-selected"),t.target.setAttribute("class","component-checkbox-default component-checkbox-selected-img"),e.viewModel.openPopups()):(f.setAttribute("class","component-label"),t.target.setAttribute("class","component-checkbox-default component-checkbox-default-img"),e.viewModel.closePopups())},l.appendChild(u),r.appendChild(l);var h=document.createElement("div");h.setAttribute("class","component-dataflow__container component-init-center");var p=document.createElement("button");p.setAttribute("class","component-button-default"),p.innerHTML=D1.i18n("text_subscribe"),p.onclick=function(){var t=a.value;if(""===t)return void e.messageBox.showView(D1.i18n("msg_inputDataFlowUrlFirst"));e.viewModel.subscribe(t)},h.appendChild(p);var y=document.createElement("button");return y.setAttribute("class","component-button-default"),y.innerHTML=D1.i18n("text_cancelSubscribe"),y.onclick=function(){e.viewModel.cancelSubscribe()},h.appendChild(y),r.appendChild(h),this.messageBox=new R1,this.viewModel.on("dataflowservicesubscribed",function(){e.messageBox.showView(D1.i18n("msg_dataflowservicesubscribed"))}),this.viewModel.on("subscribesucceeded",function(){e.messageBox.showView(D1.i18n("msg_subscribesucceeded"))}),this.viewModel.on("dataupdated",function(t){e.messageBox.closeView(),e._event.fire("dataupdated",t)}),this._preventMapEvent(n,this.map),n}}),S9=function(e){return new b9(e)};i2.a.supermap.components.dataFlow=S9;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var _9=function e(t,n){uW(this,e),this.layerName=t,this.layer=n},w9=function(e,t){return new _9(e,t)};i2.a.supermap.components.geoJSONLayerWithName=w9;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var O9=function(e){function t(){return fW(this,t),yW(this,mW(t).apply(this,arguments))}return vW(t,e),pW(t,[{key:"initialize",value:function(e){this.workerUrl=e,this.turfLayers=[]}},{key:"getLayersData",value:function(e){for(var t={},n={},r={},i={},o=0;o<e;o++)e[o]=new _9(e[o].layerName,e[o].layer);this.geoJsonLayersDataModel=new f9(e);for(var a=[],s=0;s<e.length;s++)a[e[s].layerName]={fields:e[s].fields,layer:e[s].layer.toGeoJSON()};for(var l in this.geoJsonLayersDataModel.layers){var u=void 0;u=a[l].fields?a[l].fields:this.geoJsonLayersDataModel.layers[l].getAttributeNamesByType("Num");for(var c=[],f=0;f<u.length;f++){c[u[f]]=this.geoJsonLayersDataModel.layers[l].getAttributeValueByAttributeName(u[f]);for(var h=c[u[f]],p=0;p<h.length;p++)""!=h[p]&&void 0!==h[p]||(h.splice(p,1),p-=1),h[p]=parseFloat(h[p]);c[u[f]]=Array.from(new Set(h.sort(function(e,t){return e-t})))}var y={layerName:l,fields:u,fieldsValue:c,features:a[l].layer},d=a[l].layer.features[0].geometry.type;"Point"===d?n[l]=y:"LineString"===d?r[l]=y:"Polygon"===d&&(i[l]=y)}return t.point=n,t.lineString=r,t.polygon=i,t}},{key:"analysis",value:function(e,t){this.geoJsonLayersDataModel.setCurrentLayerDataModel(e.analysisLayers),this.worker=new Worker(this.workerUrl);var n=this.geoJsonLayersDataModel.currentLayerDataModel.layer.toGeoJSON();if("isolines"===e.analysisMethod){for(var r=e.analysisFieldsValue.split(","),i=n,o=0;o<r.length;o++)r[o]=parseFloat(r[o]);var a=this,s={pointGrid:i,analysisMethod:e.analysisMethod,breaks:r,zProperty:e.analysisFields,analysisCellSize:e.analysisCellSize,options:{gridType:"point",property:e.analysisFields,weight:Number(e.analysisBreaks)}};this.worker.postMessage(s),this.worker.onmessage=function(n){if(0===n.data.features.length)a.fire("analysisfailed");else{a.fire("analysissucceeded",{data:n.data});var r=i2.a.geoJSON(n.data,{style:{color:"#1060C2",weight:3},onEachFeature:function(e,t){e.properties&&t.bindPopup(new Q1(e.properties).getElement()),t.on({mouseover:function(){t.setStyle({color:"#ffffff",weight:5})},mouseout:function(){t.setStyle({color:"#1060C2",weight:3})},click:function(){t.setStyle({color:"#ffffff",weight:5})}})}}).addTo(t);a.turfLayers.push(r),a.fire("layerloaded",{layer:r,name:e.resultLayersName}),a.worker.terminate()}}}else if("buffer"===e.analysisMethod){var l=this,u={analysisMethod:"buffer",radius:e.radius,unit:e.unit,isSave:e.isSaveStatus,isUnion:e.isUnion,geoJson:n};this.worker.postMessage(u),this.worker.onmessage=function(n){var r=i2.a.geoJSON(n.data,{style:{color:"#ffffff",fillColor:"#1060C2",fillOpacity:.5,weight:1.5},onEachFeature:function(e,t){e.properties&&t.bindPopup(new Q1(e.properties).getElement()),t.on({mouseover:function(){t.setStyle({color:"#ffffff",fillColor:"rgb(46,40,79)",fillOpacity:.5,weight:5})},mouseout:function(){t.setStyle({color:"#ffffff",fillColor:"#1060C2",fillOpacity:.5,weight:1.5})},click:function(){t.setStyle({color:"#ffffff",fillColor:"rgb(46,40,79)",fillOpacity:.5,weight:2})}})}}).addTo(t);l.turfLayers.push(r),l.fire("layerloaded",{layer:r,name:e.resultLayersName}),l.worker.terminate()}}}},{key:"clearLayers",value:function(){for(var e in this.turfLayers)this.turfLayers[e].clearLayers();this.fire("layersremoved",{layers:this.turfLayers})}},{key:"cancelAnalysis",value:function(){this.worker.terminate()}}]),t}(i2.a.Evented),x9=function(e){return new O9(e)};i2.a.supermap.components.clientComputationViewModel=x9;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var C9=i9.extend({initialize:function(e,t){if(!e)throw new Error("workerUrl is required");this.workerUrl=e,i9.prototype.initialize.apply(this,[t])},onAdd:function(e){return this.map=e,i9.prototype.onAdd.apply(this,[e])},addLayer:function(e){this.layers=this.layers||[],this.layers.push(e);var t=this.viewModel.getLayersData(this.layers);this.fillDataToView(t)},fillDataToView:function(e){if(e){this.fillData=e;var t=document.getElementById("dropDownTop").getAttribute("data-value"),n={};switch(t){case"isolines":case"buffer":n=e.point}if("{}"!=JSON.stringify(n)){var r=[];for(var i in n)r.push(i);var o=document.getElementById("layersSelect"),a=document.getElementById("layerSelectName");o.innerHTML="",a.title=r[0],a.innerHTML=r[0],this._createOptions(o,r),this.layerSelectObj.optionClickEvent(o,a,this.layersSelectOnchange);var s=n[a.title],l=s.fields,u=s.fieldsValue;this.currentData=s,this.currentFillData=n;var c=document.getElementById("fieldsSelect");c.innerHTML="";var f=document.getElementById("fieldsSelectName");f.innerHTML=l[0],f.title=l[0],this._createOptions(c,l),this.fieldsSelectObj.optionClickEvent(c,f,this.fieldsSelectOnchange);var h=f.title,p=document.getElementById("getValueTextArea");p.value=u[h].toString().replace(/,/g,",\r\n"),p.setAttribute("data-value",u[h]);var y=document.getElementById("resultLayersName");switch(document.getElementById("dropDownTop").getAttribute("data-value")){case"isolines":y.value=D1.i18n("text_label_isolines")+a.title;break;case"buffer":y.value=D1.i18n("text_label_buffer")+a.title}}}},_initView:function(){function e(e){if(this.currentData){var t=this.currentData,n=e.title;M.value=t.fieldsValue[n].toString().replace(/,/g,",\r\n"),M.setAttribute("data-value",t.fieldsValue[n])}}function t(e){if(this.currentData){var t=e.title,n=this.currentFillData[t];this.currentData=n,C.innerHTML="",this._createOptions(C,n.fields);var r=document.getElementById("fieldsSelectName"),i=n.fields[0];r.title=i,r.innerHTML=i;var o=i;this.fieldsSelectObj.optionClickEvent(C,r,this.fieldsSelectOnchange),M.value=n.fieldsValue[o].toString().replace(/,/g,",\r\n"),M.setAttribute("data-value",n.fieldsValue[o]);switch(document.getElementById("dropDownTop").getAttribute("data-value")){case"buffer":K.value=D1.i18n("text_label_buffer")+t;break;case"isolines":K.value=D1.i18n("text_label_isolines")+t}}}function n(){var e=document.getElementById("dropDownTop"),t=e.getAttribute("data-value"),n=document.getElementById("resultLayersName").value;return{analysisMethod:t,analysisLayers:v.title,analysisFields:x.title,analysisFieldsValue:M.value.replace(/[\r\n]/g,"").split(",").toString(),analysisBreaks:L.value,analysisCellSize:R.value,resultLayersName:n}}function r(){var e=document.getElementById("dropDownTop"),t=document.getElementById("resultLayersName").value,n=v.title;return{analysisMethod:e.getAttribute("data-value"),analysisLayers:n,radius:F.value,unit:z.title,resultLayersName:t,isSaveStatus:se,isUnion:le}}var i=this;this.workerUrl&&(this.viewModel=new O9(this.workerUrl));var o=new J1({title:D1.i18n("title_clientComputing")}).getElement();o.classList.add("component-analysis"),o.children[0].style.fontSize="12px";var a=[{title:D1.i18n("text_isoline"),dataValue:"isolines",remark:D1.i18n("text_extractDiscreteValue"),icon:{className:"component-analyst-isoline-img"}},{title:D1.i18n("text_buffer"),dataValue:"buffer",remark:D1.i18n("text_specifyTheDistance"),icon:{className:"component-analyst-buffer-img"}}],s=o.children[1];s.classList.add("component-content--scroll"),s.classList.add("component-content--analysis");var l=new W1(a).getElement();s.appendChild(l);var u=l.children[0].children[0],c=l.children[0].children[2].children[0];u.children[0].id="dropDownTop";var f=i2.a.DomUtil.create("div","component-analysis__container",s),h=i2.a.DomUtil.create("div","component-analysis__container__analysisLayer",f),p=i2.a.DomUtil.create("div","component-analysis__selecttool",h);p.id="layerSelectControl";var y={optionsArr:[""],labelName:D1.i18n("text_label_analysisLayer")},d=new q1(y),m=d.getElement();this.layerSelectObj=d,p.appendChild(m);var v=m.children[1].children[0];v.id="layerSelectName",m.children[1].children[2].children[0].children[0].id="layersSelect";var g=i2.a.DomUtil.create("div","component-analysis__container__analysistype",f),b=i2.a.DomUtil.create("div","component-clientcomputation__isoline",g),S={optionsArr:[""],labelName:D1.i18n("text_label_extractField"),optionsClickCb:this.fieldsSelectOnchange},_=i2.a.DomUtil.create("div","component-analysis__selecttool",b),w=new q1(S),O=w.getElement();this.fieldsSelectObj=w;var x=O.children[1].children[0];x.id="fieldsSelectName";var C=O.children[1].children[2].children[0].children[0];C.id="fieldsSelect",_.appendChild(O);var T=i2.a.DomUtil.create("div","component-analysis__container",b);i2.a.DomUtil.create("span","component-textarea__name",T).innerHTML=D1.i18n("text_label_extractedValue");var P=i2.a.DomUtil.create("div","component-textarea",T);P.id="getValueText";var E=i2.a.DomUtil.create("div","",P),k=i2.a.DomUtil.create("div","component-scrollarea-content",E);k.setAttribute("tabindex","1");var M=i2.a.DomUtil.create("textarea","component-textarea__content",k);M.id="getValueTextArea",M.setAttribute("rows","20");var A=i2.a.DomUtil.create("div","",b);i2.a.DomUtil.create("span","",A).innerHTML=D1.i18n("text_label_distanceAttenuation");var L=i2.a.DomUtil.create("input","",A);L.value="3";var j=i2.a.DomUtil.create("div","",b);i2.a.DomUtil.create("span","",j).innerHTML=D1.i18n("text_label_gridSize");var R=i2.a.DomUtil.create("input","",j);R.value="30";var N=i2.a.DomUtil.create("div","component-clientcomputation__buffer hidden",g),I=i2.a.DomUtil.create("div","component-clientcomputation__buffer--radius",N);i2.a.DomUtil.create("span","",I).innerHTML=D1.i18n("text_label_bufferRadius");var D=i2.a.DomUtil.create("div","",I),F=i2.a.DomUtil.create("input","buffer-radius-input",D);F.id="bufferRadiusInput",F.value="10",F.setAttribute("placeholder",D1.i18n("text_label_defaultkilometers"));var B=i2.a.DomUtil.create("div","component-clientcomputation__buffer--unit",D);B.id="bufferUnit";var U={optionsArr:[D1.i18n("text_option_kilometer")],labelName:D1.i18n("text_label_unit")},G=new q1(U).getElement(),z=G.children[1].children[0];z.id="bufferUnitSelectName",G.children[1].children[2].children[0].children[0].id="bufferUnitSelect",G.children[0].style.display="none",B.appendChild(G);var V=i2.a.DomUtil.create("div","",I),H=i2.a.DomUtil.create("div","component-clientcomputation__buffer--issaveattrs",V);H.id="saveAttrsContainer";var J=i2.a.DomUtil.create("div","checkbox checkbox-fault",H);J.id="saveAttrsCheckbox";var q=i2.a.DomUtil.create("div","lable",H);q.id="saveAttrsLabel",q.innerHTML=D1.i18n("text_retainOriginal");var W=i2.a.DomUtil.create("div","component-clientcomputation__buffer--isunion",V);W.id="isUnionContainer";var Y=i2.a.DomUtil.create("div","checkbox checkbox-fault",W);Y.id="isUnionCheckbox";var Q=i2.a.DomUtil.create("div","lable",W);Q.innerHTML=D1.i18n("text_mergeBuffer"),Q.id="isUnionLabel";var X=i2.a.DomUtil.create("div","component-analysis__container__resultLayersName",f);i2.a.DomUtil.create("span","",X).innerHTML=D1.i18n("text_label_resultLayerName");var K=i2.a.DomUtil.create("input","",X);K.id="resultLayersName";var Z=i2.a.DomUtil.create("div","component-analysis__container__analysisbtn",f),$=i2.a.DomUtil.create("div","component-analysis__analysisbtn",Z),ee=i2.a.DomUtil.create("button","component-analysis__analysisbtn--analysis",$);ee.innerHTML=D1.i18n("btn_analyze");var te=i2.a.DomUtil.create("div","component-analysis__analysisbtn--analysing-container hidden",$),ne=i2.a.DomUtil.create("div","component-analysis__analysisbtn--analysising",te),re=i2.a.DomUtil.create("div","component-analysis__svg-container",ne);re.id="analyse_background",re.innerHTML='<svg class="component-analysis__svg-rotate" width="16px" height="16px" version="1.1" xmlns="http://www.w3.org/2000/svg">\n            <path id="ring" fill="#FFF" transform="translate(8,8)" d="M 0 0 v -8 A 8 8 0 1 1 -8.00 0 z"></path>\n            <circle cx="8" cy="8" r="6" fill="#38ADF5"></circle>\n            <rect class="svg-top" x="8" y="0" rx="2" ry="2" width="2" height="2" style="fill: rgb(255, 255, 255); stroke-width: 0;"></rect>\n            <rect class="svg-left" x="0" y="8" rx="2" ry="2" width="2" height="2" style="fill: rgb(255, 255, 255); stroke-width: 0;"></rect>\n        </svg>',i2.a.DomUtil.create("span","",ne).innerHTML=D1.i18n("btn_analyzing");var ie=i2.a.DomUtil.create("button","component-analysis__analysisbtn--cancel",te);ie.innerHTML=D1.i18n("btn_cancelAnalysis");var oe=i2.a.DomUtil.create("button","component-analysis__analysisbtn--analysis component-analysis__analysisbtn--deletelayers",$);oe.innerHTML=D1.i18n("btn_emptyTheAnalysisLayer");for(var ae=0;ae<c.children.length;ae++)!function(e){c.children[e].onclick=function(){u.innerHTML=c.children[e].outerHTML,u.children[0].id="dropDownTop";var t=document.getElementById("layersSelect"),n=document.getElementById("layerSelectName"),r=c.children[e].getAttribute("data-value"),o={};switch(r){case"buffer":b.classList.add("hidden"),N.classList.remove("hidden"),s.style.height="422px",K.value=D1.i18n("text_label_buffer")+n.title,o=i.fillData.point;break;case"isolines":b.classList.remove("hidden"),N.classList.add("hidden"),s.style.height="712px",K.value=D1.i18n("text_label_isolines")+n.title,o=i.fillData.point}if(i.currentFillData!==o){if(t.innerHTML="","{}"==JSON.stringify(o))return K.value="",n.title="",void(n.innerHTML="");var a=[];for(var l in o)a.push(l);n.title=a[0],n.innerHTML=a[0],i._createOptions(t,a),i.layerSelectObj.optionClickEvent(t,n,i.layersSelectOnchange),"buffer"===r?K.value=D1.i18n("text_label_buffer")+a[0]:"isolines"===r&&(K.value=D1.i18n("text_label_isolines")+a[0]),i.currentData=o[n.title],i.currentFillData=o}}}(ae);this.fieldsSelectOnchange=e.bind(this),this.layersSelectOnchange=t.bind(this);var se=!0;q.classList.add("selected"),J.classList.add("checkbox-active"),H.onclick=function(){se?(J.classList.add("checkbox-fault"),J.classList.remove("checkbox-active"),q.classList.remove("selected"),se=!1):(J.classList.add("checkbox-active"),J.classList.remove("checkbox-fault"),q.classList.add("selected"),se=!0,le&&(Y.classList.add("checkbox-fault"),Y.classList.remove("checkbox-active"),le=!1))};var le=!1;return W.onclick=function(){le?(Y.classList.add("checkbox-fault"),Y.classList.remove("checkbox-active"),Q.classList.remove("selected"),le=!1):(Y.classList.add("checkbox-active"),Y.classList.remove("checkbox-fault"),Q.classList.add("selected"),le=!0,se&&(J.classList.add("checkbox-fault"),J.classList.remove("checkbox-active"),se=!1))},this.messageBox=new R1,ee.onclick=function(){te.style.display="block",ee.style.display="none";var e,t=document.getElementById("dropDownTop"),o=t.getAttribute("data-value");switch(o){case"isolines":e=n();break;case"buffer":e=r()}i.viewModel.analysis(e,i.map),i.viewModel.on("layerloaded",function(e){te.style.display="none",ee.style.display="block",i._event.fire("analysissucceeded",{layer:e.layer,name:e.name})}),i.viewModel.on("analysisfailed",function(){te.style.display="none",ee.style.display="block",i.messageBox.showView(D1.i18n("msg_resultIsEmpty"),"failure"),i._event.fire("analysisfailed")})},ie.onclick=function(){te.style.display="none",ee.style.display="block",i.viewModel.cancelAnalysis()},oe.onclick=function(){i.viewModel.on("layersremoved",function(e){i._event.fire("layersremoved",{layers:e.layers})}),i.viewModel.clearLayers()},this._preventMapEvent(o,this.map),o},_createOptions:function(e,t){for(var n in t){var r=document.createElement("div"),i=t[n];r.className="component-selecttool__option",r.title=i,r.innerHTML=i,r.setAttribute("data-value",i),e.appendChild(r)}}}),T9=function(e){return new C9(e)};i2.a.supermap.components.clientComputation=T9;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var P9=function e(t){bW(this,e),this.layerName=t.layerName,this.layer=t.layer,this.fields=t.fields||null},E9=function(e){return new P9(e)};i2.a.supermap.components.clientComputationLayer=E9;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var k9=function(e){function t(){return _W(this,t),xW(this,TW(t).apply(this,arguments))}return PW(t,e),OW(t,[{key:"initialize",value:function(e){this.processingUrl=e}},{key:"getDatasetsName",value:function(){var e=this.processingUrl;this.dataset=[],this.dataset.datasetNames=[],this.dataset.childUrl=[];var t="http://"+e.split("/")[2],n=t+"/iserver/services/datacatalog/rest/datacatalog/sharefile.json",r=t+"/iserver/services/datacatalog/rest/datacatalog/relationship/datasets.json",i=this;BQ.get(n).then(function(e){return e.json()}).then(function(e){i.dataset.datasetNames=i.dataset.datasetNames.concat(e.datasetNames),i.dataset.childUrl=i.dataset.childUrl.concat(e.childUriList);var t=i;BQ.get(r).then(function(e){return e.json()}).then(function(e){t.dataset.datasetNames=t.dataset.datasetNames.concat(e.datasetNames),t.dataset.childUrl=t.dataset.childUrl.concat(e.childUriList);var n=[];for(var r in t.dataset.datasetNames)n[t.dataset.datasetNames[r]]=t.dataset.childUrl[r];t.fire("datasetsloaded",{result:{dataset:t.dataset,datasetHash:n}})})})}},{key:"getDatasetInfo",value:function(e){var t,n=this;BQ.get(e).then(function(e){return e.json()}).then(function(e){var r=e.datasetInfo;"LINE"===r.datasetType||"LINE"===r.type?t="LINE":"POINT"===r.datasetType||"POINT"===r.type||"CSV"===r.type?t="POINT":"REGION"!==r.datasetType&&"REGION"!==r.type||(t="REGION");var i=[],o=r.fieldInfos||r.fieldInfo||null;if(o){for(var a in o)i.push(o[a].name);n.fire("datasetinfoloaded",{result:{type:t,fields:i}})}else{var s=e.childUriList[0].replace("//fields","/fields");BQ.get(s).then(function(e){return e.json()}).then(function(e){var r=e.fieldNames,i=[];for(var o in r)i.push(r[o]);n.fire("datasetinfoloaded",{result:{type:t,fields:i}})})}})}}]),t}(i2.a.Evented);i2.a.supermap.components.DistributedAnalysisModel=k9;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var M9=function(e){function t(){return MW(this,t),jW(this,NW(t).apply(this,arguments))}return IW(t,e),LW(t,[{key:"initialize",value:function(e){this.processingUrl=e}},{key:"getDatasetsName",value:function(){var e=this.processingUrl;this.resultLayers=[],this.datasetNames=[],this.distributedAnalysisModel=new k9(e),this.distributedAnalysisModel.getDatasetsName();var t=this;this.distributedAnalysisModel.on("datasetsloaded",function(e){t.fire("datasetsloaded",{result:e.result})})}},{key:"getDatasetInfo",value:function(e){this.distributedAnalysisModel.getDatasetInfo(e);var t=this;this.distributedAnalysisModel.on("datasetinfoloaded",function(e){var n=e.result.type,r=e.result.fields;t.fire("datasetinfoloaded",{result:{type:n,fields:r}})})}},{key:"analysis",value:function(e,t){var n=new Y6(this.processingUrl);if(e.analysisParam instanceof BZ){var r=e.analysisParam,i=this;n.addKernelDensityJob(r,function(n){if(n.error)return void i.fire("analysisfailed",{error:n.error});n.result.setting.serviceInfo.targetServiceInfos.map(function(n){return"RESTMAP"===n.serviceType&&BQ.get(n.serviceAddress+"/maps").then(function(e){return e.json()}).then(function(n){var r=n[0].path;i.fire("analysissucceed",{result:n});var o=i2.a.supermap.tiledMapLayer(r,{noWrap:!0,transparent:!0});i.resultLayers.push(o),o.addTo(t);var a=new Date,s=e.resultLayerName||a.getTime();i.fire("layerloaded",{layer:o,name:s})}),n})})}}},{key:"clearLayers",value:function(){for(var e in this.resultLayers)this.resultLayers[e].remove();this.fire("layersremoved",{layers:this.resultLayers}),this.resultLayers=[]}}]),t}(i2.a.Evented),A9=function(e){return new M9(e)};i2.a.supermap.components.distributedAnalysisViewModel=A9;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var L9=i9.extend({initialize:function(e,t){i9.prototype.initialize.apply(this,[t]),this.viewModel=new M9(e)},onAdd:function(e){return this._fillDataToView(),i9.prototype.onAdd.apply(this,[e])},_fillDataToView:function(){var e=this;this.viewModel.on("datasetsloaded",function(t){var n=t.result.dataset.datasetNames;e.datasetSelect.innerHTML="",e._createOptions(e.datasetSelect,n),e.datasetSelectObj.optionClickEvent(e.datasetSelect,e.datasetSelectName,e.datasetSelectOnchange),e.dataHash=t.result.datasetHash}),this.viewModel.getDatasetsName()},_initView:function(){function e(e){"NOTSET"!==e.getAttribute("data-value")?(te.classList.remove("hidden"),ne.classList.remove("hidden")):(te.classList.add("hidden"),ne.classList.add("hidden"))}function t(e){if(this.messageBox.closeView(),this.dataHash){j.innerHTML="";var t=this.dataHash[e.title],n=this;this.viewModel.on("datasetinfoloaded",function(e){L.title=D1.i18n("text_option_notSet"),L.innerHTML=D1.i18n("text_option_notSet"),j.innerHTML="";var t=l.getAttribute("data-value"),r=e.result.type,i=e.result.fields;"density"===t&&("REGION"===r||"LINE"===r?n.messageBox.showView(D1.i18n("msg_datasetOrMethodUnsupport"),"failure"):(n.messageBox.closeView(),n._createOptions(j,i),n.weightFieldsSelectObj.optionClickEvent(j,L)))}),this.viewModel.getDatasetInfo(t)}}function n(){var e,t=l.getAttribute("data-value"),n=T.getAttribute("data-value"),r=k.getAttribute("data-value"),i=I.value,o=G.title,a=q.title,s=Q.title,u=ie.getAttribute("data-value"),c=Z.getAttribute("data-value"),f=new Date,h=se.value||f.getTime();e="NOTSET"===c?"":{rangeMode:c,rangeCount:te.value,colorGradientType:u};var p;return"density"===t&&(p=new BZ({datasetName:m.title,method:n,meshType:r,resolution:U.value,fields:L.title,radius:J.value,meshSizeUnit:o,radiusUnit:a,areaUnit:s,query:i,mappingParameters:new CX({rangeMode:e.rangeMode,rangeCount:e.rangeCount,colorGradientType:e.colorGradientType})})),{analysisParam:p,resultLayerName:h}}var r=this,i=new J1({title:D1.i18n("title_distributedAnalysis")}).getElement();i.classList.add("component-analysis"),i.children[0].style.fontSize="12px";var o=i2.a.DomUtil.create("div","component-content component-content--scroll component-content--analysis",i),a=[{title:D1.i18n("text_densityAnalysis"),dataValue:"density",remark:D1.i18n("text_CalculateTheValuePerUnitArea"),icon:{className:"component-analyst-density-img"}}],s=new W1(a).getElement();o.appendChild(s);var l=s.children[0].children[0].children[0],u=i2.a.DomUtil.create("div","component-analysis__container",o),c=i2.a.DomUtil.create("div","analysistype",u),f=i2.a.DomUtil.create("div","component-analysis__container__analysisLayer",c),h=i2.a.DomUtil.create("div","component-analysis__selecttool",f),p={optionsArr:[D1.i18n("text_option_selectDataset")],labelName:D1.i18n("text_label_dataset"),optionsClickCb:t.bind(this)},y=new q1(p),d=y.getElement();this.datasetSelectObj=y,h.appendChild(d);var m=d.children[1].children[0];this.datasetSelectName=m;var v=d.children[1].children[2].children[0].children[0];v.children[0].style.display="none",this.datasetSelect=v;var g=i2.a.DomUtil.create("div","component-analysis__idw",f),b=[{optionsArr:[D1.i18n("text_option_simplePointDensityAnalysis"),D1.i18n("text_option_nuclearDensityAnalysis")],labelName:D1.i18n("text_label_analyticalMethod")},{optionsArr:[D1.i18n("text_option_quadrilateral"),D1.i18n("text_option_hexagon")],labelName:D1.i18n("text_label_meshType")}],S=i2.a.DomUtil.create("div","component-analysis__idw__selecttool",g);for(var _ in b){var w=new q1(b[_]).getElement();S.appendChild(w)}var O={optionsArr:[D1.i18n("text_option_notSet")],labelName:D1.i18n("text_label_weightField")},x=new q1(O),C=x.getElement();S.appendChild(C),this.weightFieldsSelectObj=x;var T=S.children[0].children[1].children[0];T.setAttribute("data-value","0");var P=S.children[0].children[1].children[2].children[0].children[0],E=["0","1"];this._setEleAtribute(E,"data-value",P.children);var k=S.children[1].children[1].children[0];k.setAttribute("data-value","0");var M=S.children[1].children[1].children[2].children[0].children[0],A=["0","1"];this._setEleAtribute(A,"data-value",M.children);var L=S.children[2].children[1].children[0],j=S.children[2].children[1].children[2].children[0].children[0],R=[{spanName:D1.i18n("text_label_queryRange"),value:""}];for(var N in R)this._creatInputBox(R[N],S);var I=S.children[3].children[1];I.setAttribute("placeholder",D1.i18n("text_label_queryRangeTips")),I.title=D1.i18n("text_label_queryRangeTips");var D={optionsArr:["Meter","Kilometer","Yard","Foot","Mile"]},F={labelName:D1.i18n("text_label_gridSizeInMeters"),selectOptions:D},B=this._creatUnitSelectBox(F,S),U=B.children[1].children[0];U.value="1000";var G=B.children[1].children[1].children[0].children[0].children[0],z={optionsArr:["Meter","Kilometer","Yard","Foot","Mile"]},V={labelName:D1.i18n("text_label_searchRadius"),selectOptions:z},H=this._creatUnitSelectBox(V,S),J=H.children[1].children[0];J.value="300";var q=H.children[1].children[1].children[0].children[0].children[0],W={labelName:D1.i18n("text_label_areaUnit"),optionsArr:["SquareMile","SquareMeter","Hectare","Acre","SquareFoot","SquareYard"]},Y=new q1(W).getElement();S.appendChild(Y);var Q=Y.children[1].children[0],X=i2.a.DomUtil.create("div","range-content",c),K={optionsArr:[D1.i18n("text_option_notSet"),D1.i18n("text_option_equidistantSegmentation"),D1.i18n("text_option_logarithm"),D1.i18n("text_option_equalCountingSegment"),D1.i18n("text_option_squareRootSegmentation")],labelName:D1.i18n("text_label_thematicMapSegmentationMode"),optionsClickCb:e};X.appendChild(new q1(K).getElement());var Z=X.children[0].children[1].children[0];Z.setAttribute("data-value","NOTSET");var $=X.children[0].children[1].children[2].children[0].children[0],ee=["NOTSET","EQUALINTERVAL","LOGARITHM","QUANTILE","SQUAREROOT"];this._setEleAtribute(ee,"data-value",$.children);var te=this._creatInputBox({spanName:D1.i18n("text_label_thematicMapSegmentationParameters"),value:"20"},X);te.classList.add("hidden");var ne=new q1({optionsArr:[D1.i18n("text_option_greenOrangePurpleGradient"),D1.i18n("text_option_greenOrangeRedGradient"),D1.i18n("text_option_rainbowGradient"),D1.i18n("text_option_spectralGradient"),D1.i18n("text_option_terrainGradient")],labelName:D1.i18n("text_label_thematicMapColorGradientMode")}).getElement();X.appendChild(ne),ne.classList.add("hidden");var re=ne.children[1].children[2].children[0].children[0],ie=ne.children[1].children[0];ie.setAttribute("data-value","GREENORANGEVIOLET");var oe=["GREENORANGEVIOLET","GREENORANGERED","RAINBOW","SPECTRUM","TERRAIN"];this._setEleAtribute(oe,"data-value",re.children);var ae=i2.a.DomUtil.create("div","",c);i2.a.DomUtil.create("span","",ae).innerHTML=D1.i18n("text_label_resultLayerName");var se=i2.a.DomUtil.create("input","component-distributeanalysis__input",ae),le=i2.a.DomUtil.create("div","component-analysis__container__analysisbtn",u),ue=i2.a.DomUtil.create("div","component-analysis__analysisbtn",le),ce=i2.a.DomUtil.create("button","component-analysis__analysisbtn--analysis",ue);ce.innerHTML=D1.i18n("btn_analyze");var fe=i2.a.DomUtil.create("div","component-analysis__analysisbtn--analysing-container hidden",ue),he=i2.a.DomUtil.create("div","component-analysis__analysisbtn--analysising",fe);he.style.width="200px",i2.a.DomUtil.create("div","component-analysis__svg-container",he).innerHTML='<svg class="component-analysis__svg-rotate" width="16px" height="16px" version="1.1" xmlns="http://www.w3.org/2000/svg">\n            <path id="ring" fill="#FFF" transform="translate(8,8)" d="M 0 0 v -8 A 8 8 0 1 1 -8.00 0 z"></path>\n            <circle cx="8" cy="8" r="6" fill="#38ADF5"></circle>\n            <rect class="svg-top" x="8" y="0" rx="2" ry="2" width="2" height="2" style="fill: rgb(255, 255, 255); stroke-width: 0;"></rect>\n            <rect class="svg-left" x="0" y="8" rx="2" ry="2" width="2" height="2" style="fill: rgb(255, 255, 255); stroke-width: 0;"></rect>\n        </svg>',i2.a.DomUtil.create("span","",he).innerHTML=D1.i18n("btn_analyzing");var pe=i2.a.DomUtil.create("button","component-analysis__analysisbtn--analysis component-analysis__analysisbtn--deletelayers",ue);return pe.id="deleteLayersBtn",pe.innerHTML=D1.i18n("btn_emptyTheAnalysisLayer"),this.messageBox=new R1,this.datasetSelectOnchange=t.bind(this),ce.onclick=function(){r.messageBox.closeView();var e=n();m.title===D1.i18n("text_option_selectDataset")?r.messageBox.showView(D1.i18n("msg_selectDataset"),"failure"):L.title===D1.i18n("text_option_notSet")?r.messageBox.showView(D1.i18n("msg_setTheWeightField"),"failure"):(r.messageBox.closeView(),fe.style.display="block",ce.style.display="none",r.viewModel.on("layerloaded",function(e){fe.style.display="none",ce.style.display="block",r._event.fire("analysissucceeded",{layer:e.layer,name:e.name})}),r.viewModel.on("analysisfailed",function(e){r.messageBox.showView(D1.i18n("msg_theFieldNotSupportAnalysis"),"failure"),fe.style.display="none",ce.style.display="block",r._event.fire("analysisfailed",{error:e.error})}),r.viewModel.analysis(e,r.map))},pe.onclick=function(){r.viewModel.on("layersremoved",function(e){r._event.fire("layersremoved",{layers:e.layers})}),r.viewModel.clearLayers()},this._preventMapEvent(i,this.map),i},_createOptions:function(e,t){for(var n in t){var r=document.createElement("div");r.className="component-selecttool__option",r.title=t[n],r.innerHTML=t[n],r.setAttribute("data-value",t[n]),e.appendChild(r)}},_creatInputBox:function(e,t){var n=i2.a.DomUtil.create("div","",t);i2.a.DomUtil.create("span","",n).innerHTML=e.spanName;var r=i2.a.DomUtil.create("input","",n);return r.value=e.value,r.className="component-distributeanalysis__input",n},_creatUnitSelectBox:function(e,t){var n=i2.a.DomUtil.create("div","component-clientcomputation__buffer--radius",t);i2.a.DomUtil.create("span","",n).innerHTML=e.labelName;var r=i2.a.DomUtil.create("div","",n);i2.a.DomUtil.create("input","buffer-radius-input",r);var i=i2.a.DomUtil.create("div","component-clientcomputation__buffer--unit",r),o=e.selectOptions,a=new q1(o).getElement();return i.appendChild(a),n},_setEleAtribute:function(e,t,n){for(var r=0;r<n.length;r++)n[r].setAttribute(t,e[r])}}),j9=function(e){return new L9(e)};i2.a.supermap.components.distributedAnalysis=j9;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var R9=function(e){function t(){return BW(this,t),zW(this,HW(t).apply(this,arguments))}return JW(t,e),GW(t,[{key:"initialize",value:function(e){this.dataserviceUrl=e,this.resultLayers=[]}},{key:"getFeatures",value:function(e,t){var n=this.dataserviceUrl,r=this,i=i2.a.supermap.featureService(n);e instanceof YK?i.getFeaturesByIDs(e,function(e){r._getQureyResult(e,t)}):e instanceof XK?i.getFeaturesBySQL(e,function(e){r._getQureyResult(e,t)}):e instanceof GK?i.getFeaturesByBounds(e,function(e){r._getQureyResult(e,t)}):e instanceof HK?i.getFeaturesByBuffer(e,function(e){r._getQureyResult(e,t)}):e instanceof qK&&i.getFeaturesByGeometry(e,function(e){r._getQureyResult(e,t)})}},{key:"_getQureyResult",value:function(e,t){if(e.error)return void this.fire("getfeaturesfailed",{error:e.error});var n=i2.a.geoJSON(e.result.features,{onEachFeature:function(e,t){t.bindPopup("ID: "+e.properties.SMID)},pointToLayer:function(e,t){return i2.a.circleMarker(t,{radius:6})}}).addTo(t);this.resultLayers.push(n),this.fire("getfeaturessucceeded",{result:e.result.features})}},{key:"clearLayers",value:function(){for(var e in this.resultLayers)this.resultLayers[e].remove();this.resultLayers=[]}}]),t}(i2.a.Evented),N9=function e(t){return new e(t)};i2.a.supermap.components.dataServiceQueryViewModel=N9;/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var I9=i9.extend({initialize:function(e,t,n){if(i9.prototype.initialize.apply(this,[n]),this.dataServiceUrl=e,!t||0===t.length)throw new Error("Please configure the dataset of the queryï¼");t instanceof Array?this.dataSetNames=t:this.dataSetNames=t.split(" ")},onAdd:function(e){return i9.prototype.onAdd.apply(this,[e])},onRemove:function(){this.map.off("pm:create")},setDataSetNames:function(e){e instanceof Array?this.dataSetNames=e:this.dataSetNames=e.split(" ")},setGetFeatureMode:function(e){this.getFeatureMode=e,this._getFeatureModeOnchange(this.getFeatureMode)},setDataServiceUrl:function(e){this.dataServiceUrl=e,this.viewModel=new R9(this.dataServiceUrl)},_getFeatureModeOnchange:function(e){var t;t=e&&"{}"!=JSON.stringify(e)?e:["ID","SQL","BOUNDS","BUFFER","SPATIAL"];var n=document.getElementById("queryModelControl");n.innerHTML="",this.creatQueryModeSelect(t,n)},_initView:function(){function e(e,t){var n;if(e instanceof Array&&e.length>1){var r={optionsArr:e,labelName:D1.i18n("text_label_queryMode"),optionsClickCb:this.queryModeltOnchange},i=new q1(r).getElement();t.appendChild(i),n=i.children[1].children[0],i.children[1].classList.add("dataservice-select");var o=i.children[1];o.classList.add("dataservice-select"),o.classList.add("querymodel-select")}else{i2.a.DomUtil.create("span","",f).innerHTML=D1.i18n("text_label_queryMode"),n=i2.a.DomUtil.create("div","component-servicequery__querymode-selectname",f);var a=i2.a.DomUtil.create("span","",n);e instanceof Array?a.innerHTML=e[0]:a.innerHTML=e,n.title=a.innerHTML,this.queryModeltOnchange(n)}return n.id="queryModelSelectName",n}function t(e){var t;switch(t=e.title?e.title:e,b.classList.add("hidden"),P.classList.add("hidden"),O.classList.add("hidden"),L.classList.add("hidden"),j.classList.add("hidden"),A.classList.remove("bounds"),F.classList.add("hidden"),y.innerHTML=D1.i18n("text_label_featureFilter"),g.value="SMID<10","BUFFER"!==t&&"SPATIAL"!==t||(P.classList.remove("hidden"),E.innerHTML=D1.i18n("text_label_geometricObject"),D.value='{"type":"Feature","properties":{},"geometry":{"type":"Point","coordinates":[84.90234375,40.25390625]}}',L.classList.remove("hidden"),j.classList.remove("hidden")),t){case"ID":y.innerHTML=D1.i18n("text_label_IDArrayOfFeatures"),g.value="[1,2,3]";break;case"SQL":b.classList.remove("hidden");break;case"BOUNDS":P.classList.remove("hidden"),E.innerHTML=D1.i18n("text_label_queryRange"),D.value='{"leftBottom":{"x":-5,"y":-5},"rightTop":{"x":5,"y":5}}',A.classList.add("bounds");break;case"BUFFER":O.classList.remove("hidden");break;case"SPATIAL":F.classList.remove("hidden")}}function n(){var e,t=Q.dataSetNames,n=document.getElementById("queryModelSelectName"),r=n.title,i=g.value;if("ID"===r){var o=g.value,a=o.substring(1,o.length-1).split(",");e=new YK({IDs:a,datasetNames:t})}else if("SQL"===r){var s=w.value;e=new XK({queryParameter:{attributeFilter:i},datasetNames:t,maxFeatures:s})}else if("BOUNDS"===r){if(!X){var l=JSON.parse(D.value);X=i2.a.bounds([l.leftBottom.x,l.leftBottom.y],[l.rightTop.x,l.rightTop.y])}e=new GK({attributeFilter:i,datasetNames:t,bounds:X})}else if("BUFFER"===r){var u=T.value,c=JSON.parse(D.value),f=K||c;e=new HK({attributeFilter:i,datasetNames:t,bufferDistance:u,geometry:f})}else if("SPATIAL"===r){var h=z.title,p=JSON.parse(D.value),y=K||p;e=new qK({attributeFilter:i,datasetNames:t,spatialQueryMode:h,geometry:y})}return e}var r=this;this.viewModel=new R9(this.dataServiceUrl),this.messageBox=new R1;var i=new J1({title:D1.i18n("title_dataServiceQuery")}).getElement();i.classList.add("component-servicequery__container"),i.children[0].classList.add("component-servicequery__title");var o=i.children[1];o.classList.add("component-content--scroll"),o.classList.add("data-services");var a,s=i2.a.DomUtil.create("div","component-analysis__container",o),l=i2.a.DomUtil.create("div","component-servicequery__analysistype",s),u=i2.a.DomUtil.create("div","component-analysis__container__analysisLayer",l),c=this.options.getFeatureMode;a=c&&"{}"!=JSON.stringify(c)?c:["ID","SQL","BOUNDS","BUFFER","SPATIAL"];var f=i2.a.DomUtil.create("div","",u);f.id="queryModelContainer";var h=i2.a.DomUtil.create("div","component-analysis__selecttool",f);h.id="queryModelControl",this.creatQueryModeSelect=e.bind(this),this.queryModeltOnchange=t.bind(this),this.creatQueryModeSelect(a,h);var p=i2.a.DomUtil.create("div","component-analysis__container component-textarea--dataservice__container",u),y=i2.a.DomUtil.create("span","textarea-name",p);y.innerHTML=D1.i18n("text_label_IDArrayOfFeatures");var d=i2.a.DomUtil.create("div","component-textarea component-textarea--dataservice",p);d.id="getfeaturesIdArr";var m=i2.a.DomUtil.create("div","scrollarea",d),v=i2.a.DomUtil.create("div","component-scrollarea-content",m);v.setAttribute("tabindex","1");var g=i2.a.DomUtil.create("textarea","component-textarea__content",v);g.value="[1,2,3]",g.id="getValueTextArea";var b=i2.a.DomUtil.create("div","component-servicequery__maxfeatures-container hidden",u),S={spanName:D1.i18n("text_label_maxFeatures"),value:"1000"},_=this._creatInputBox(S,b),w=_.children[1];w.classList.add("max-features-input");var O=i2.a.DomUtil.create("div","component-servicequery__distance-container hidden",u),x={spanName:D1.i18n("text_label_bufferDistance"),value:"10"},C=this._creatInputBox(x,O),T=C.children[1],P=i2.a.DomUtil.create("div","component-analysis__container component-textarea--dataservice__container hidden",u),E=i2.a.DomUtil.create("span","textarea-name",P),k=i2.a.DomUtil.create("div","",P),M=i2.a.DomUtil.create("div","component-servicequery__rangeicon-container",k);E.innerHTML=D1.i18n("text_label_queryRange1");var A=i2.a.DomUtil.create("div","component-servicequery__rangeicon supermapol-icons-polygon-layer bounds",M),L=i2.a.DomUtil.create("div","component-servicequery__rangeicon supermapol-icons-line-layer hidden",M),j=i2.a.DomUtil.create("div","component-servicequery__rangeicon supermapol-icons-point-layer hidden",M),R=i2.a.DomUtil.create("div","component-textarea component-textarea--rangequery",k);R.id="getfeaturesIdArr";var N=i2.a.DomUtil.create("div","",R),I=i2.a.DomUtil.create("div","component-scrollarea-content",N);I.setAttribute("tabindex","1");var D=i2.a.DomUtil.create("textarea","component-textarea__content component-textarea--rangequery__content",I);D.value='{"leftBottom":{"x":-5,"y":-5},"rightTop":{"x":5,"y":5}}';var F=i2.a.DomUtil.create("div","component-servicequery__spatialquerymode-container hidden",u),B={optionsArr:["CONTAIN","CROSS","DISJOINT","IDENTITY","INTERSECT","NONE","OVERLAP","TOUCH","WITHIN"],labelName:D1.i18n("text_label_spatialQueryMode")},U=i2.a.DomUtil.create("div","component-analysis__selecttool",F),G=new q1(B).getElement();G.children[1].classList.add("dataservice-select"),U.appendChild(G);var z=G.children[1].children[0];z.id="spatialQueryModeSelectName",G.children[1].children[2].classList.add("component-servicequery__spatialquerymode__selectcontent");var V=i2.a.DomUtil.create("div","component-analysis__container__analysisbtn",u),H=i2.a.DomUtil.create("div","component-analysis__analysisbtn",V),J=i2.a.DomUtil.create("button","component-analysis__analysisbtn--analysis",H);J.innerHTML=D1.i18n("btn_query");var q=i2.a.DomUtil.create("div","component-analysis__analysisbtn--analysing-container hidden",H),W=i2.a.DomUtil.create("div","component-analysis__analysisbtn--analysising component-servicequery__querybtn--querying",q);i2.a.DomUtil.create("div","component-analysis__svg-container",W).innerHTML='<svg class="component-analysis__svg-rotate" width="16px" height="16px" version="1.1" xmlns="http://www.w3.org/2000/svg">\n             <path id="ring" fill="#FFF" transform="translate(8,8)" d="M 0 0 v -8 A 8 8 0 1 1 -8.00 0 z"></path>\n             <circle cx="8" cy="8" r="6" fill="#38ADF5"></circle>\n             <rect class="svg-top" x="8" y="0" rx="2" ry="2" width="2" height="2" style="fill: rgb(255, 255, 255); stroke-width: 0;"></rect>\n             <rect class="svg-left" x="0" y="8" rx="2" ry="2" width="2" height="2" style="fill: rgb(255, 255, 255); stroke-width: 0;"></rect>\n         </svg>',i2.a.DomUtil.create("span","",W).innerHTML=D1.i18n("btn_querying");var Y=i2.a.DomUtil.create("button","component-analysis__analysisbtn--analysis component-analysis__analysisbtn--deletelayers",H);Y.innerHTML=D1.i18n("btn_emptyTheRresultLayer"),t(a[0]);var Q=this;J.onclick=function(){r.messageBox.closeView(),q.style.display="block",J.style.display="none";var e=n();r.viewModel.on("getfeaturessucceeded",function(e){q.style.display="none",J.style.display="block",0===e.result.features.length&&r.messageBox.showView(D1.i18n("msg_dataReturnedIsEmpty"),"success"),r._event.fire("getfeaturessucceeded",{result:e.result})}),r.viewModel.on("getfeaturesfailed",function(e){q.style.display="none",J.style.display="block",r.messageBox.showView(e.error.errorMsg,"failure"),r._event.fire("getfeaturesfailed",{error:e.error})}),r.viewModel.getFeatures(e,r.map)};var X,K;return A.onclick=function(e){var t=document.getElementById("queryModelSelectName"),n=t.title;K&&K.remove(),"BOUNDS"===n?r.map.pm.enableDraw("Rectangle"):r.map.pm.enableDraw("Poly"),e.stopPropagation(),e.preventDefault()},L.onclick=function(e){K&&K.remove(),r.map.pm.enableDraw("Line"),e.stopPropagation(),e.preventDefault()},j.onclick=function(e){K&&K.remove(),r.map.pm.enableDraw("Marker"),e.stopPropagation(),e.preventDefault()},this.map.on("pm:create",function(e){if("Rectangle"===e.shape){K=e.layer;var t=K.getBounds();X=i2.a.bounds([t._southWest.lng,t._southWest.lat],[t._northEast.lng,t._northEast.lat]);var n={leftBottom:{x:t._southWest.lng,y:t._southWest.lat},rightTop:{x:t._northEast.lng,y:t._northEast.lat}};D.value=JSON.stringify(n)}"Marker"===e.shape&&(K=e.layer,D.value=JSON.stringify(e.layer.toGeoJSON()),r.map.pm.disableDraw("Marker")),"Line"===e.shape&&(K=e.layer,D.value=JSON.stringify(e.layer.toGeoJSON())),"Polygon"===e.shape&&(K=e.layer,D.value=JSON.stringify(e.layer.toGeoJSON()))}),Y.onclick=function(){r.viewModel.clearLayers()},this._preventMapEvent(i,this.map),i},_creatInputBox:function(e,t){var n=i2.a.DomUtil.create("div","",t);return i2.a.DomUtil.create("span","",n).innerHTML=e.spanName,i2.a.DomUtil.create("input","",n).value=e.value,n}}),D9=function(e,t,n){return new I9(e,t,n)};i2.a.supermap.components.dataServiceQuery=D9,/* CopyrightÂ© 2000 - 2020 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
n.d(t,"OpenFileView",function(){return l9}),n.d(t,"openFileView",function(){return u9}),n.d(t,"OpenFileViewModel",function(){return a9}),n.d(t,"openFileViewModel",function(){return s9}),n.d(t,"SearchView",function(){return d9}),n.d(t,"searchView",function(){return m9}),n.d(t,"DataFlowView",function(){return b9}),n.d(t,"dataFlowView",function(){return S9}),n.d(t,"clientComputationView",function(){return T9}),n.d(t,"ClientComputationView",function(){return C9}),n.d(t,"ClientComputationViewModel",function(){return O9}),n.d(t,"ClientComputationLayer",function(){return P9}),n.d(t,"clientComputationLayer",function(){return E9}),n.d(t,"GeoJSONLayerWithName",function(){return _9}),n.d(t,"geoJSONLayerWithName",function(){return w9}),n.d(t,"GeoJsonLayersDataModel",function(){return f9}),n.d(t,"GeoJsonLayerDataModel",function(){return h9}),n.d(t,"DistributedAnalysisView",function(){return L9}),n.d(t,"distributedAnalysisView",function(){return j9}),n.d(t,"DistributedAnalysisViewModel",function(){return M9}),n.d(t,"DataServiceQueryView",function(){return I9}),n.d(t,"dataServiceQueryView",function(){return D9}),n.d(t,"DataServiceQueryViewModel",function(){return R9}),n.d(t,"dataServiceQueryViewModel",function(){return N9}),n.d(t,"SuperMap",function(){return WW}),n.d(t,"DataFormat",function(){return YW}),n.d(t,"ServerType",function(){return QW}),n.d(t,"GeometryType",function(){return XW}),n.d(t,"QueryOption",function(){return KW}),n.d(t,"JoinType",function(){return ZW}),n.d(t,"EngineType",function(){return iY}),n.d(t,"MeasureMode",function(){return tY}),n.d(t,"SpatialRelationType",function(){return eY}),n.d(t,"DataReturnMode",function(){return TY}),n.d(t,"Unit",function(){return nY}),n.d(t,"BufferRadiusUnit",function(){return rY}),n.d(t,"SpatialQueryMode",function(){return $W}),n.d(t,"ThemeGraphTextFormat",function(){return oY}),n.d(t,"ThemeGraphType",function(){return aY}),n.d(t,"GraphAxesTextDisplayMode",function(){return sY}),n.d(t,"GraduatedMode",function(){return lY}),n.d(t,"RangeMode",function(){return uY}),n.d(t,"ThemeType",function(){return cY}),n.d(t,"ColorGradientType",function(){return fY}),n.d(t,"TextAlignment",function(){return hY}),n.d(t,"FillGradientMode",function(){return pY}),n.d(t,"SideType",function(){return gY}),n.d(t,"AlongLineDirection",function(){return yY}),n.d(t,"LabelBackShape",function(){return dY}),n.d(t,"LabelOverLengthMode",function(){return mY}),n.d(t,"DirectionType",function(){return vY}),n.d(t,"OverlayOperationType",function(){return wY}),n.d(t,"SupplyCenterType",function(){return bY}),n.d(t,"TurnType",function(){return SY}),n.d(t,"BufferEndType",function(){return _Y}),n.d(t,"SmoothMethod",function(){return xY}),n.d(t,"SurfaceAnalystMethod",function(){return CY}),n.d(t,"ColorSpaceType",function(){return AY}),n.d(t,"ChartType",function(){return GY}),n.d(t,"EditType",function(){return PY}),n.d(t,"TransferTactic",function(){return EY}),n.d(t,"TransferPreference",function(){return kY}),n.d(t,"GridType",function(){return MY}),n.d(t,"ClientType",function(){return UY}),n.d(t,"LayerType",function(){return LY}),n.d(t,"UGCLayerType",function(){return jY}),n.d(t,"StatisticMode",function(){return RY}),n.d(t,"PixelFormat",function(){return NY}),n.d(t,"SearchMode",function(){return IY}),n.d(t,"SummaryType",function(){return qY}),n.d(t,"InterpolationAlgorithmType",function(){return DY}),n.d(t,"VariogramMode",function(){return FY}),n.d(t,"Exponent",function(){return BY}),n.d(t,"ClipAnalystMode",function(){return zY}),n.d(t,"AnalystAreaUnit",function(){return VY}),n.d(t,"AnalystSizeUnit",function(){return HY}),n.d(t,"StatisticAnalystMode",function(){return JY}),n.d(t,"TopologyValidatorRule",function(){return WY}),n.d(t,"OutputType",function(){return OY}),n.d(t,"AggregationQueryBuilderType",function(){return QY}),n.d(t,"AggregationType",function(){return YY}),n.d(t,"GetFeatureMode",function(){return XY}),n.d(t,"TimeFlowControl",function(){return jQ}),n.d(t,"IManager",function(){return VQ}),n.d(t,"IManagerServiceBase",function(){return GQ}),n.d(t,"IManagerCreateNodeParam",function(){return zQ}),n.d(t,"IPortal",function(){return QQ}),n.d(t,"IPortalQueryParam",function(){return JQ}),n.d(t,"IPortalResource",function(){return WQ}),n.d(t,"IPortalQueryResult",function(){return qQ}),n.d(t,"IPortalShareParam",function(){return YQ}),n.d(t,"IPortalShareEntity",function(){return XQ}),n.d(t,"IPortalServiceBase",function(){return HQ}),n.d(t,"IPortalUser",function(){return rX}),n.d(t,"IPortalAddResourceParam",function(){return KQ}),n.d(t,"IPortalRegisterServiceParam",function(){return ZQ}),n.d(t,"IPortalAddDataParam",function(){return $Q}),n.d(t,"IPortalDataMetaInfoParam",function(){return eX}),n.d(t,"IPortalDataStoreInfoParam",function(){return tX}),n.d(t,"IPortalDataConnectionInfoParam",function(){return nX}),n.d(t,"Online",function(){return h0}),n.d(t,"OnlineData",function(){return f0}),n.d(t,"OnlineQueryDatasParameter",function(){return p0}),n.d(t,"ServiceStatus",function(){return a0}),n.d(t,"DataItemType",function(){return s0}),n.d(t,"DataItemOrderBy",function(){return l0}),n.d(t,"FilterField",function(){return u0}),n.d(t,"OnlineServiceBase",function(){return c0}),n.d(t,"KeyServiceParameter",function(){return y0}),n.d(t,"SecurityManager",function(){return UQ}),n.d(t,"ServerInfo",function(){return d0}),n.d(t,"TokenServiceParameter",function(){return m0}),n.d(t,"ElasticSearch",function(){return b0}),n.d(t,"FetchRequest",function(){return BQ}),n.d(t,"ColorsPickerUtil",function(){return O0}),n.d(t,"ArrayStatistic",function(){return x0}),n.d(t,"AreaSolarRadiationParameters",function(){return cX}),n.d(t,"AggregationParameter",function(){return uX}),n.d(t,"AggQueryBuilderParameter",function(){return lX}),n.d(t,"BufferAnalystParameters",function(){return dX}),n.d(t,"BufferDistance",function(){return pX}),n.d(t,"BuffersAnalystJobsParameter",function(){return TX}),n.d(t,"BufferSetting",function(){return yX}),n.d(t,"BurstPipelineAnalystParameters",function(){return kX}),n.d(t,"ChartQueryFilterParameter",function(){return jX}),n.d(t,"ChartQueryParameters",function(){return RX}),n.d(t,"ClipParameter",function(){return DX}),n.d(t,"ColorDictionary",function(){return FX}),n.d(t,"ComputeWeightMatrixParameters",function(){return GX}),n.d(t,"DataReturnOption",function(){return mX}),n.d(t,"DatasetBufferAnalystParameters",function(){return _X}),n.d(t,"DatasetInfo",function(){return HX}),n.d(t,"DatasetOverlayAnalystParameters",function(){return qX}),n.d(t,"DatasetSurfaceAnalystParameters",function(){return QX}),n.d(t,"DatasetThiessenAnalystParameters",function(){return KX}),n.d(t,"DatasourceConnectionInfo",function(){return gX}),n.d(t,"DensityKernelAnalystParameters",function(){return ZX}),n.d(t,"EditFeaturesParameters",function(){return eK}),n.d(t,"FacilityAnalyst3DParameters",function(){return nK}),n.d(t,"FacilityAnalystSinks3DParameters",function(){return rK}),n.d(t,"FacilityAnalystSources3DParameters",function(){return oK}),n.d(t,"FacilityAnalystStreamParameters",function(){return sK}),n.d(t,"FacilityAnalystTracedown3DParameters",function(){return uK}),n.d(t,"FacilityAnalystTraceup3DParameters",function(){return fK}),n.d(t,"FacilityAnalystUpstream3DParameters",function(){return pK}),n.d(t,"FieldParameters",function(){return mK}),n.d(t,"FilterAggParameter",function(){return dK}),n.d(t,"FieldStatisticsParameters",function(){return vK}),n.d(t,"FilterParameter",function(){return SX}),n.d(t,"FindClosestFacilitiesParameters",function(){return bK}),n.d(t,"FindLocationParameters",function(){return _K}),n.d(t,"FindMTSPPathsParameters",function(){return OK}),n.d(t,"FindPathParameters",function(){return CK}),n.d(t,"FindServiceAreasParameters",function(){return PK}),n.d(t,"FindTSPPathsParameters",function(){return kK}),n.d(t,"GenerateSpatialDataParameters",function(){return AK}),n.d(t,"GeoBoundingBoxQueryBuilderParameter",function(){return jK}),n.d(t,"GeoCodingParameter",function(){return oX}),n.d(t,"GeoDecodingParameter",function(){return aX}),n.d(t,"GeoHashGridAggParameter",function(){return RK}),n.d(t,"GeometryBufferAnalystParameters",function(){return wX}),n.d(t,"GeometryOverlayAnalystParameters",function(){return NK}),n.d(t,"GeometrySurfaceAnalystParameters",function(){return IK}),n.d(t,"GeometryThiessenAnalystParameters",function(){return DK}),n.d(t,"GeoRelationAnalystParameters",function(){return FK}),n.d(t,"GetFeaturesByBoundsParameters",function(){return GK}),n.d(t,"GetFeaturesByBufferParameters",function(){return HK}),n.d(t,"GetFeaturesByGeometryParameters",function(){return qK}),n.d(t,"GetFeaturesByIDsParameters",function(){return YK}),n.d(t,"GetFeaturesBySQLParameters",function(){return XK}),n.d(t,"GetGridCellInfosParameters",function(){return $K}),n.d(t,"Grid",function(){return kZ}),n.d(t,"Image",function(){return D0}),n.d(t,"InterpolationAnalystParameters",function(){return jZ}),n.d(t,"InterpolationIDWAnalystParameters",function(){return IZ}),n.d(t,"InterpolationKrigingAnalystParameters",function(){return DZ}),n.d(t,"InterpolationRBFAnalystParameters",function(){return RZ}),n.d(t,"JoinItem",function(){return vX}),n.d(t,"KernelDensityJobParameter",function(){return BZ}),n.d(t,"LabelImageCell",function(){return zZ}),n.d(t,"LabelMatrixCell",function(){return GZ}),n.d(t,"LabelMixedTextStyle",function(){return lZ}),n.d(t,"LabelSymbolCell",function(){return VZ}),n.d(t,"LabelThemeCell",function(){return HZ}),n.d(t,"LayerStatus",function(){return JZ}),n.d(t,"LinkItem",function(){return bX}),n.d(t,"MathExpressionAnalysisParameters",function(){return WZ}),n.d(t,"MeasureParameters",function(){return QZ}),n.d(t,"OutputSetting",function(){return xX}),n.d(t,"MappingParameters",function(){return CX}),n.d(t,"OverlapDisplayedOptions",function(){return CZ}),n.d(t,"OverlayAnalystParameters",function(){return JX}),n.d(t,"OverlayGeoJobParameter",function(){return ZZ}),n.d(t,"PointWithMeasure",function(){return PQ}),n.d(t,"QueryByBoundsParameters",function(){return e$}),n.d(t,"QueryByDistanceParameters",function(){return r$}),n.d(t,"QueryByGeometryParameters",function(){return o$}),n.d(t,"QueryBySQLParameters",function(){return s$}),n.d(t,"QueryParameters",function(){return NX});n.d(t,"Route",function(){return EQ}),n.d(t,"RouteCalculateMeasureParameters",function(){return u$}),n.d(t,"RouteLocatorParameters",function(){return f$}),n.d(t,"ServerColor",function(){return CQ}),n.d(t,"ServerFeature",function(){return p$}),n.d(t,"ServerGeometry",function(){return kQ}),n.d(t,"ServerStyle",function(){return TQ}),n.d(t,"ServerTextStyle",function(){return rZ}),n.d(t,"ServerTheme",function(){return EZ}),n.d(t,"SetLayerInfoParameters",function(){return y$}),n.d(t,"SetLayersInfoParameters",function(){return m$}),n.d(t,"SetLayerStatusParameters",function(){return g$}),n.d(t,"SingleObjectQueryJobsParameter",function(){return S$}),n.d(t,"StopQueryParameters",function(){return w$}),n.d(t,"SummaryAttributesJobsParameter",function(){return x$}),n.d(t,"SummaryMeshJobParameter",function(){return T$}),n.d(t,"SummaryRegionJobParameter",function(){return E$}),n.d(t,"SupplyCenter",function(){return M$}),n.d(t,"SurfaceAnalystParameters",function(){return YX}),n.d(t,"SurfaceAnalystParametersSetting",function(){return WX}),n.d(t,"TerrainCurvatureCalculationParameters",function(){return L$}),n.d(t,"Theme",function(){return nZ}),n.d(t,"ThemeDotDensity",function(){return bZ}),n.d(t,"ThemeFlow",function(){return aZ}),n.d(t,"ThemeGraduatedSymbol",function(){return _Z}),n.d(t,"ThemeGraduatedSymbolStyle",function(){return SZ}),n.d(t,"ThemeGraph",function(){return gZ}),n.d(t,"ThemeGraphAxes",function(){return yZ}),n.d(t,"ThemeGraphItem",function(){return vZ}),n.d(t,"ThemeGraphSize",function(){return dZ}),n.d(t,"ThemeGraphText",function(){return mZ}),n.d(t,"ThemeGridRange",function(){return N$}),n.d(t,"ThemeGridRangeItem",function(){return R$}),n.d(t,"ThemeGridUnique",function(){return D$}),n.d(t,"ThemeGridUniqueItem",function(){return I$}),n.d(t,"ThemeLabel",function(){return hZ}),n.d(t,"ThemeLabelAlongLine",function(){return cZ}),n.d(t,"ThemeLabelBackground",function(){return fZ}),n.d(t,"ThemeLabelItem",function(){return iZ}),n.d(t,"ThemeLabelText",function(){return uZ}),n.d(t,"ThemeLabelUniqueItem",function(){return F$}),n.d(t,"ThemeMemoryData",function(){return tZ}),n.d(t,"ThemeOffset",function(){return sZ}),n.d(t,"ThemeParameters",function(){return B$}),n.d(t,"ThemeRange",function(){return OZ}),n.d(t,"ThemeRangeItem",function(){return wZ}),n.d(t,"ThemeUnique",function(){return pZ}),n.d(t,"ThemeUniqueItem",function(){return oZ}),n.d(t,"ThiessenAnalystParameters",function(){return XX}),n.d(t,"TopologyValidatorJobsParameter",function(){return H$}),n.d(t,"TransferLine",function(){return q$}),n.d(t,"TransferPathParameters",function(){return W$}),n.d(t,"TransferSolutionParameters",function(){return Q$}),n.d(t,"TransportationAnalystParameter",function(){return UX}),n.d(t,"TransportationAnalystResultSetting",function(){return BX}),n.d(t,"UGCLayer",function(){return xZ}),n.d(t,"UGCMapLayer",function(){return TZ}),n.d(t,"UGCSubLayer",function(){return PZ}),n.d(t,"UpdateEdgeWeightParameters",function(){return K$}),n.d(t,"UpdateTurnNodeWeightParameters",function(){return $$}),n.d(t,"Vector",function(){return AZ}),n.d(t,"VectorClipJobsParameter",function(){return t0}),n.d(t,"FileTypes",function(){return A1}),n.d(t,"FileConfig",function(){return L1}),n.d(t,"FileModel",function(){return j1}),n.d(t,"MessageBox",function(){return R1}),n.d(t,"CommonContainer",function(){return J1}),n.d(t,"DropDownBox",function(){return W1}),n.d(t,"Select",function(){return q1}),n.d(t,"AttributesPopContainer",function(){return Q1}),n.d(t,"PopContainer",function(){return Y1}),n.d(t,"IndexTabsPageContainer",function(){return X1}),n.d(t,"CityTabsPage",function(){return K1}),n.d(t,"NavTabsPage",function(){return Z1}),n.d(t,"PaginationContainer",function(){return $1}),n.d(t,"ComponentsUtil",function(){return e2}),n.d(t,"FileReaderUtil",function(){return U1}),n.d(t,"ChartView",function(){return V1}),n.d(t,"ChartViewModel",function(){return z1}),n.d(t,"Logo",function(){return L8}),n.d(t,"logo",function(){return j8}),n.d(t,"ChangeTileVersion",function(){return M8}),n.d(t,"changeTileVersion",function(){return A8}),n.d(t,"CommontypesConversion",function(){return R8}),n.d(t,"BaiduCRS",function(){return g8}),n.d(t,"TianDiTu_WGS84CRS",function(){return _8}),n.d(t,"TianDiTu_MercatorCRS",function(){return x8}),n.d(t,"NonProjection",function(){return o2}),n.d(t,"nonProjection",function(){return a2}),n.d(t,"NonEarthCRS",function(){return s2}),n.d(t,"nonEarthCRS",function(){return l2}),n.d(t,"CRS",function(){return m8}),n.d(t,"crs",function(){return v8}),n.d(t,"toGeoJSON",function(){return I8}),n.d(t,"toSuperMapGeometry",function(){return D8}),n.d(t,"getMeterPerMapUnit",function(){return F8}),n.d(t,"resolutionToScale",function(){return B8}),n.d(t,"scaleToResolution",function(){return U8}),n.d(t,"GetResolutionFromScaleDpi",function(){return G8}),n.d(t,"NormalizeScale",function(){return z8}),n.d(t,"BaiduTileLayer",function(){return H8}),n.d(t,"baiduTileLayer",function(){return J8}),n.d(t,"CloudTileLayer",function(){return q8}),n.d(t,"cloudTileLayer",function(){return W8}),n.d(t,"ImageMapLayer",function(){return Y8}),n.d(t,"imageMapLayer",function(){return Q8}),n.d(t,"TiandituTileLayer",function(){return Z8}),n.d(t,"tiandituTileLayer",function(){return $8}),n.d(t,"TiledMapLayer",function(){return e4}),n.d(t,"tiledMapLayer",function(){return t4}),n.d(t,"WMTSLayer",function(){return X8}),n.d(t,"wmtsLayer",function(){return K8}),n.d(t,"WebMap",function(){return C4}),n.d(t,"webMap",function(){return T4}),n.d(t,"DataFlowLayer",function(){return I4}),n.d(t,"dataFlowLayer",function(){return D4}),n.d(t,"EchartsLayer",function(){return F4}),n.d(t,"echartsLayer",function(){return B4}),n.d(t,"LeafletMapCoordSys",function(){return $q}),n.d(t,"GraphicLayer",function(){return e6}),n.d(t,"graphicLayer",function(){return t6}),n.d(t,"GraphThemeLayer",function(){return n6}),n.d(t,"graphThemeLayer",function(){return r6}),n.d(t,"LabelThemeLayer",function(){return b4}),n.d(t,"labelThemeLayer",function(){return S4}),n.d(t,"MapVLayer",function(){return L4}),n.d(t,"mapVLayer",function(){return j4}),n.d(t,"RangeThemeLayer",function(){return v4}),n.d(t,"rangeThemeLayer",function(){return g4}),n.d(t,"RankSymbolThemeLayer",function(){return i6}),n.d(t,"rankSymbolThemeLayer",function(){return o6}),n.d(t,"TileVectorLayer",function(){return O6}),n.d(t,"tiledVectorLayer",function(){return x6}),n.d(t,"TurfLayer",function(){return T6}),n.d(t,"turfLayer",function(){return P6}),n.d(t,"UnicodeMarker",function(){return O4}),n.d(t,"unicodeMarker",function(){return x4}),n.d(t,"UniqueThemeLayer",function(){return d4}),n.d(t,"uniqueThemeLayer",function(){return m4}),n.d(t,"VectorTileFormat",function(){return S6}),n.d(t,"CartoCSSToLeaflet",function(){return l4}),n.d(t,"DefaultStyle",function(){return i4}),n.d(t,"CartoStyleMap",function(){return o4}),n.d(t,"ServerStyleMap",function(){return a4}),n.d(t,"CompOpMap",function(){return s4}),n.d(t,"ImageStyle",function(){return J4}),n.d(t,"imageStyle",function(){return q4}),n.d(t,"CircleStyle",function(){return V4}),n.d(t,"circleStyle",function(){return H4}),n.d(t,"Graphic",function(){return u4}),n.d(t,"graphic",function(){return c4}),n.d(t,"CloverStyle",function(){return G4}),n.d(t,"cloverStyle",function(){return z4}),n.d(t,"MapVRenderer",function(){return A4}),n.d(t,"GeoFeatureThemeLayer",function(){return y4}),n.d(t,"ThemeFeature",function(){return f4}),n.d(t,"themeFeature",function(){return h4}),n.d(t,"ThemeLayer",function(){return p4}),n.d(t,"CanvasRenderer",function(){return s6}),n.d(t,"LineSymbolizer",function(){return p6}),n.d(t,"PointSymbolizer",function(){return f6}),n.d(t,"RegionSymbolizer",function(){return y6}),n.d(t,"SVGRenderer",function(){return a6}),n.d(t,"Symbolizer",function(){return u6}),n.d(t,"PolyBase",function(){return h6}),n.d(t,"TextSymbolizer",function(){return c6}),n.d(t,"VectorFeatureType",function(){return l6}),n.d(t,"VectorGrid",function(){return w6}),n.d(t,"VectorTile",function(){return _6}),n.d(t,"VectorTileJSON",function(){return b6}),n.d(t,"VectorTilePBF",function(){return g6}),n.d(t,"AddressMatchService",function(){return L6}),n.d(t,"addressMatchService",function(){return j6}),n.d(t,"ChartService",function(){return R6}),n.d(t,"chartService",function(){return N6}),n.d(t,"DataFlowService",function(){return P4}),n.d(t,"dataFlowService",function(){return E4}),n.d(t,"FeatureService",function(){return _4}),n.d(t,"featureService",function(){return w4}),n.d(t,"FieldService",function(){return I6}),n.d(t,"fieldService",function(){return D6}),n.d(t,"GridCellInfosService",function(){return F6}),n.d(t,"gridCellInfosService",function(){return B6}),n.d(t,"LayerInfoService",function(){return U6}),n.d(t,"layerInfoService",function(){return G6}),n.d(t,"MapService",function(){return E8}),n.d(t,"mapService",function(){return k8}),n.d(t,"MeasureService",function(){return z6}),n.d(t,"measureService",function(){return V6}),n.d(t,"NetworkAnalyst3DService",function(){return H6}),n.d(t,"networkAnalyst3DService",function(){return J6}),n.d(t,"NetworkAnalystService",function(){return q6}),n.d(t,"networkAnalystService",function(){return W6}),n.d(t,"ProcessingService",function(){return Y6}),n.d(t,"processingService",function(){return Q6}),n.d(t,"QueryService",function(){return X6}),n.d(t,"queryService",function(){return K6}),n.d(t,"ServiceBase",function(){return P8}),n.d(t,"SpatialAnalystService",function(){return Z6}),n.d(t,"spatialAnalystService",function(){return $6});n.d(t,"ThemeService",function(){return e9}),n.d(t,"themeService",function(){return t9}),n.d(t,"TrafficTransferAnalystService",function(){return n9}),n.d(t,"trafficTransferAnalystService",function(){return r9})},function(e,t,n){"use strict";n.r(t);n(26),n(32),n(37),n(42),n(54),n(55),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69)},function(e,t){},,,,,,function(e,t){},,,,,function(e,t){},,,,,function(e,t){},,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){}]);