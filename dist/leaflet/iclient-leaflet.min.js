/*!
 * 
 *          iclient-leaflet.(http://iclient.supermap.io)
 *          CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd
 *          license: Apache-2.0
 *          version: v10.0.0
 *         
 */
!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(t){return e[t]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=16)}([function(e,t){e.exports=L},function(e,t){e.exports=function(){try{return echarts}catch(e){return{}}}()},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){var t=l(e,N),n=t[0],r=t[1];I.pathway=l(n,A);for(var i=0,a=I.pathway.length;i<a;i++)I.pathway[i]=l(I.pathway[i],L),I.pathway[i][0]==M&&I.pathway[i].shift(),0===I.pathway[i].length&&I.pathway.splice(i,1);for(var s=-1,u=-1,c=0;c<r.length;){if(r[c]===j)s=c;else if(r[c]===R&&(u=c)>s&&-1!==s){var f="gr_"+(new Date).getTime();I.groups[f]=r.substring(s+1,u),r=r.replace(j+I.groups[f]+R,f),c=-1}c+=1}o(D,r)}function o(e,t){var n=s(t,b),r=s(t,g);if(n!==Number.MAX_VALUE||r!==Number.MAX_VALUE)if(n<r){e.and=e.and||[];var i=l(t,b);e.and.push(i[0]),o(e.and,i[1])}else{e.or=e.or||[];var i=l(t,g);e.or.push(i[0]),o(e.or,i[1])}else I.groups[t]?(t=I.groups[t],o(e,t)):(Array.isArray(e)?e.push(t):e.or=[t],a(D.or?D.or:D.and))}function a(e){for(var t in e)if(e.hasOwnProperty(t))if(Array.isArray(e[t]))a(e[t]);else if("string"==typeof e[t])if(u(e[t],x)){var n=l(e[t],x);e[t]={ne:[n[0],n[1]]}}else if(u(e[t],C)){var n=l(e[t],C);e[t]={nreq:[n[0],n[1]]}}else if(u(e[t],O)){var n=l(e[t],O);e[t]={req:[n[0],n[1]]}}else if(u(e[t],P)){var n=l(e[t],P);e[t]={ge:[n[0],n[1]]}}else if(u(e[t],T)){var n=l(e[t],T);e[t]={gt:[n[0],n[1]]}}else if(u(e[t],k)){var n=l(e[t],k);e[t]={le:[n[0],n[1]]}}else if(u(e[t],E)){var n=l(e[t],E);e[t]={lt:[n[0],n[1]]}}else if(u(e[t],w)){var n=l(e[t],w);e[t]={eq:[n[0],n[1]]}}}function s(e,t){var n=e.indexOf(t);return-1===n?Number.MAX_VALUE:n}function l(e,t){return e.split(t).map(function(e){return e.trim()})}function u(e,t){return e.indexOf(t)>-1}function c(e,t){var n=l(t,L),r=e;for(var i in n){if(!r.hasOwnProperty(n[i]))return"";r=r[n[i]]}return r=v.isDate(r)?r.valueOf():v.isDateString(r)?v.parseDateFromString(r):r.toString()}function f(e,t){var n=!1;for(var r in e){var i=r===S?h:r===_?f:p;if(n=n||i(e[r],t),F.trace&&B(I.step,"======((( or",e[r],n),n)return n}return n}function h(e,t){var n=!0;for(var r in e){var i=r===S?h:r===_?f:p;if(n=n&&i(e[r],t),F.trace&&B(I.step,"======((( and",e[r],n),!n)return n}return n}function p(e,t){if(I.step+=1,e.or){var n=f(e.or,t);return F.trace&&B(I.step,"OR",e,n),n}if(e.and){var n=h(e.and,t);return F.trace&&B(I.step,"AND",e,n),n}if("object"===r(e))return e.eq?c(t,e.eq[0])===e.eq[1]:e.ne?c(t,e.ne[0])!==e.ne[1]:e.req?u(c(t,e.req[0]),e.req[1]):e.nreq?!u(c(t,e.nreq[0]),e.nreq[1]):e.gt?c(t,e.gt[0])>e.gt[1]:e.ge?c(t,e.ge[0])>=e.ge[1]:e.lt?c(t,e.lt[0])<e.lt[1]:e.le?c(t,e.le[0])<=e.le[1]:p(e,t)}function y(e){var t=[];for(var n in e)p(D,e[n])&&t.push(e[n]);return t}function d(e){return e&&I.pathway.length>0?e.map(function(e){for(var t={},n=0,r=I.pathway.length;n<r;n++){var i=I.pathway[n].join(L);t[i]=c(e,i)}return t}):e}function m(e,t,n){return I={pathway:[],groups:{},step:0},D={},n=n||{trace:!1},F=n,i(t),d(y(e))}var v=n(21),b="&&",g="||",S="and",_="or",w="=",O="~",x="!"+w,C="!"+O,T=">",P=">=",E="<",k="<=",M="*",A=",",L=".",j="(",R=")",N="where",I={pathway:[],groups:{}},D={},F={},B=console.log;void 0!==e.exports&&(e.exports=m),"undefined"!=typeof window&&(window.Query=m)},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}e.exports=r},function(e,t,n){var r,i,o;!function(n,a){i=[t,e],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(0,function(e,t){"use strict";function n(){return"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random())}function r(e){try{delete window[e]}catch(t){window[e]=void 0}}function i(e){var t=document.getElementById(e);document.getElementsByTagName("head")[0].removeChild(t)}function o(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=e,s=t.timeout||a.timeout,l=t.jsonpCallback||a.jsonpCallback,u=void 0;return new Promise(function(a,c){var f=t.jsonpCallbackFunction||n(),h=l+"_"+f;window[f]=function(e){a({ok:!0,json:function(){return Promise.resolve(e)}}),u&&clearTimeout(u),i(h),r(f)},o+=-1===o.indexOf("?")?"?":"&";var p=document.createElement("script");p.setAttribute("src",""+o+l+"="+f),p.id=h,document.getElementsByTagName("head")[0].appendChild(p),u=setTimeout(function(){c(new Error("JSONP request to "+e+" timed out")),r(f),i(h)},s)})}var a={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};t.exports=o})},function(e,t){e.exports=function(){try{return XLSX}catch(e){return{}}}()},function(e,t){e.exports=function(){try{return mapv}catch(e){return{}}}()},function(e,t){e.exports=function(){try{return turf}catch(e){return{}}}()},function(e){e.exports=JSON.parse('{"a":"2.5.0"}')},function(e,t,n){"use strict";function r(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(i,this,t),this.length=this._features.length}function i(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(o(n))}function o(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}var a=n(10);e.exports=r,r.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new a(this._pbf,t,this.extent,this._keys,this._values)}},function(e,t,n){"use strict";function r(e,t,n,r,o){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=o,e.readFields(i,this,t)}function i(e,t,n){1==e?t.id=n.readVarint():2==e?o(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function o(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}function a(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],o=0;o<t;o++){var a=s(e[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[e[o]]):n.push(e[o]))}return n&&i.push(n),i}function s(e){for(var t,n,r=0,i=0,o=e.length,a=o-1;i<o;a=i++)t=e[i],n=e[a],r+=(n.x-t.x)*(t.y+n.y);return r}var l=n(24);e.exports=r,r.types=["Unknown","Point","LineString","Polygon"],r.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,i=0,o=0,a=0,s=[];e.pos<n;){if(!i){var u=e.readVarint();r=7&u,i=u>>3}if(i--,1===r||2===r)o+=e.readSVarint(),a+=e.readSVarint(),1===r&&(t&&s.push(t),t=[]),t.push(new l(o,a));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&s.push(t),s},r.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,l=1/0,u=-1/0;e.pos<t;){if(!r){var c=e.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)i+=e.readSVarint(),o+=e.readSVarint(),i<a&&(a=i),i>s&&(s=i),o<l&&(l=o),o>u&&(u=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,u]},r.prototype.toGeoJSON=function(e,t,n){function i(e){for(var t=0;t<e.length;t++){var n=e[t],r=180-360*(n.y+c)/l;e[t]=[360*(n.x+u)/l-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}var o,s,l=this.extent*Math.pow(2,n),u=this.extent*e,c=this.extent*t,f=this.loadGeometry(),h=r.types[this.type];switch(this.type){case 1:var p=[];for(o=0;o<f.length;o++)p[o]=f[o][0];f=p,i(f);break;case 2:for(o=0;o<f.length;o++)i(f[o]);break;case 3:for(f=a(f),o=0;o<f.length;o++)for(s=0;s<f[o].length;s++)i(f[o][s])}1===f.length?f=f[0]:h="Multi"+h;var y={type:"Feature",geometry:{type:h,coordinates:f},properties:this.properties};return"id"in this&&(y.id=this.id),y}},function(e,t,n){(function(t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(r){function i(){}function o(e,t){return function(){e.apply(t,arguments)}}function a(e){if("object"!==n(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(e,this)}function s(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,a._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?l:u)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void u(t.promise,e)}l(t.promise,r)})}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===n(t)||"function"==typeof t)){var r=t.then;if(t instanceof a)return e._state=3,e._value=t,void c(e);if("function"==typeof r)return void h(o(r,t),e)}e._state=1,e._value=t,c(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&a._immediateFn(function(){e._handled||a._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)s(e,e._deferreds[t]);e._deferreds=null}function f(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function h(e,t){var n=!1;try{e(function(e){n||(n=!0,l(t,e))},function(e){n||(n=!0,u(t,e))})}catch(e){if(n)return;n=!0,u(t,e)}}var p=setTimeout;a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(i);return s(this,new f(e,t,n)),n},a.all=function(e){var t=Array.prototype.slice.call(e);return new a(function(e,r){function i(a,s){try{if(s&&("object"===n(s)||"function"==typeof s)){var l=s.then;if("function"==typeof l)return void l.call(s,function(e){i(a,e)},r)}t[a]=s,0==--o&&e(t)}catch(e){r(e)}}if(0===t.length)return e([]);for(var o=t.length,a=0;a<t.length;a++)i(a,t[a])})},a.resolve=function(e){return e&&"object"===n(e)&&e.constructor===a?e:new a(function(t){t(e)})},a.reject=function(e){return new a(function(t,n){n(e)})},a.race=function(e){return new a(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},a._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){p(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},a._setImmediateFn=function(e){a._immediateFn=e},a._setUnhandledRejectionFn=function(e){a._unhandledRejectionFn=e},e.exports?e.exports=a:r.Promise||(r.Promise=a)}(this)}).call(this,n(17).setImmediate)},function(e,t){e.exports=function(){try{return elasticsearch}catch(e){return{}}}()},function(e,t,n){(function(t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function i(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function o(e,t){return r(t,function(t){return[t,e[t]]})}function a(e,t){return null==e?void 0:e[t]}function s(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function l(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function u(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function c(e,t){var n=ae(e)||g(e)?i(e.length,String):[],r=n.length,o=!!r;for(var a in e)!t&&!H.call(e,a)||o&&("length"==a||d(a,r))||n.push(a);return n}function f(e){return J.call(e)}function h(e){return!(!x(e)||m(e))&&(w(e)||s(e)?q:R).test(b(e))}function p(e){if(!v(e))return Q(e);var t=[];for(var n in Object(e))H.call(e,n)&&"constructor"!=n&&t.push(n);return t}function y(e,t){var n=a(e,t);return h(n)?n:void 0}function d(e,t){return!!(t=null==t?P:t)&&("number"==typeof e||N.test(e))&&e>-1&&e%1==0&&e<t}function m(e){return!!z&&z in e}function v(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||U)}function b(e){if(null!=e){try{return V.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function g(e){return _(e)&&H.call(e,"callee")&&(!W.call(e,"callee")||J.call(e)==E)}function S(e){return null!=e&&O(e.length)&&!w(e)}function _(e){return C(e)&&S(e)}function w(e){var t=x(e)?J.call(e):"";return t==k||t==M}function O(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=P}function x(e){var t=n(e);return!!e&&("object"==t||"function"==t)}function C(e){return!!e&&"object"==n(e)}function T(e){return S(e)?c(e):p(e)}var P=9007199254740991,E="[object Arguments]",k="[object Function]",M="[object GeneratorFunction]",A="[object Map]",L="[object Set]",j=/[\\^$.*+?()[\]{}|]/g,R=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,I="object"==(void 0===t?"undefined":n(t))&&t&&t.Object===Object&&t,D="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,F=I||D||Function("return this")(),B=Function.prototype,U=Object.prototype,G=F["__core-js_shared__"],z=function(){var e=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),V=B.toString,H=U.hasOwnProperty,J=U.toString,q=RegExp("^"+V.call(H).replace(j,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=U.propertyIsEnumerable,Q=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),Y=y(F,"DataView"),X=y(F,"Map"),K=y(F,"Promise"),Z=y(F,"Set"),$=y(F,"WeakMap"),ee=b(Y),te=b(X),ne=b(K),re=b(Z),ie=b($),oe=f;(Y&&"[object DataView]"!=oe(new Y(new ArrayBuffer(1)))||X&&oe(new X)!=A||K&&"[object Promise]"!=oe(K.resolve())||Z&&oe(new Z)!=L||$&&"[object WeakMap]"!=oe(new $))&&(oe=function(e){var t=J.call(e),n="[object Object]"==t?e.constructor:void 0,r=n?b(n):void 0;if(r)switch(r){case ee:return"[object DataView]";case te:return A;case ne:return"[object Promise]";case re:return L;case ie:return"[object WeakMap]"}return t});var ae=Array.isArray,se=function(e){return function(t){var n=oe(t);return n==A?l(t):n==L?u(t):o(t,e(t))}}(T);e.exports=se}).call(this,n(3))},function(e,t,n){"use strict";function r(e){this.buf=ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}function i(e,t,n){var r,i,o=n.buf;if(i=o[n.pos++],r=(112&i)>>4,i<128)return a(e,r,t);if(i=o[n.pos++],r|=(127&i)<<3,i<128)return a(e,r,t);if(i=o[n.pos++],r|=(127&i)<<10,i<128)return a(e,r,t);if(i=o[n.pos++],r|=(127&i)<<17,i<128)return a(e,r,t);if(i=o[n.pos++],r|=(127&i)<<24,i<128)return a(e,r,t);if(i=o[n.pos++],r|=(1&i)<<31,i<128)return a(e,r,t);throw new Error("Expected varint not more than 10 bytes")}function o(e){return e.type===r.Bytes?e.readVarint()+e.pos:e.pos+1}function a(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function s(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(n=~(-e%4294967296),r=~(-e/4294967296),4294967295^n?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),l(n,r,t),u(r,t)}function l(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos]=127&e}function u(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}function c(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.ceil(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function f(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function h(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function p(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function y(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function d(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function m(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function v(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function b(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function g(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function S(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function _(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function w(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function O(e,t,n){for(var r="",i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s>n)break;var l,u,c;1===s?o<128&&(a=o):2===s?128==(192&(l=e[i+1]))&&(a=(31&o)<<6|63&l)<=127&&(a=null):3===s?(l=e[i+1],u=e[i+2],128==(192&l)&&128==(192&u)&&((a=(15&o)<<12|(63&l)<<6|63&u)<=2047||a>=55296&&a<=57343)&&(a=null)):4===s&&(l=e[i+1],u=e[i+2],c=e[i+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&((a=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c)<=65535||a>=1114112)&&(a=null)),null===a?(a=65533,s=1):a>65535&&(a-=65536,r+=String.fromCharCode(a>>>10&1023|55296),a=56320|1023&a),r+=String.fromCharCode(a),i+=s}return r}function x(e,t,n){for(var r,i,o=0;o<t.length;o++){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}e.exports=r;var C=n(22);r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;r.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=S(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=w(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=S(this.buf,this.pos)+4294967296*S(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=S(this.buf,this.pos)+4294967296*w(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=C.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=C.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return n=r[this.pos++],t=127&n,n<128?t:(n=r[this.pos++],t|=(127&n)<<7,n<128?t:(n=r[this.pos++],t|=(127&n)<<14,n<128?t:(n=r[this.pos++],t|=(127&n)<<21,n<128?t:(n=r[this.pos],t|=(15&n)<<28,i(t,e,this)))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=O(this.buf,this.pos,e);return this.pos=e,t},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){var n=o(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===r.Varint)for(;this.buf[this.pos++]>127;);else if(t===r.Bytes)this.pos=this.readVarint()+this.pos;else if(t===r.Fixed32)this.pos+=4;else{if(t!==r.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),_(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),_(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),_(this.buf,-1&e,this.pos),_(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),_(this.buf,-1&e,this.pos),_(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){if((e=+e||0)>268435455||e<0)return void s(e,this);this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127)))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=x(this.buf,e,this.pos);var n=this.pos-t;n>=128&&c(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),C.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),C.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&c(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,r.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){this.writeMessage(e,f,t)},writePackedSVarint:function(e,t){this.writeMessage(e,h,t)},writePackedBoolean:function(e,t){this.writeMessage(e,d,t)},writePackedFloat:function(e,t){this.writeMessage(e,p,t)},writePackedDouble:function(e,t){this.writeMessage(e,y,t)},writePackedFixed32:function(e,t){this.writeMessage(e,m,t)},writePackedSFixed32:function(e,t){this.writeMessage(e,v,t)},writePackedFixed64:function(e,t){this.writeMessage(e,b,t)},writePackedSFixed64:function(e,t){this.writeMessage(e,g,t)},writeBytesField:function(e,t){this.writeTag(e,r.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,r.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,r.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,r.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}},function(e,t,n){e.exports.VectorTile=n(23),e.exports.VectorTileFeature=n(10),e.exports.VectorTileLayer=n(9)},function(e,t,n){n(25),e.exports=n(26)},function(e,t,n){(function(e){function r(e,t){this._id=e,this._clearFn=t}var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;t.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(18),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(3))},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[l]=r,s(l),l++}function i(e){delete u[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(c)setTimeout(a,0,e);else{var t=u[e];if(t){c=!0;try{o(t)}finally{i(e),c=!1}}}}if(!e.setImmediate){var s,l=1,u={},c=!1,f=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var e=f.documentElement;s=function(t){var n=f.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(a,0,e)}}(),h.setImmediate=r,h.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(3),n(19))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){d&&p&&(d=!1,p.length?y=p.concat(y):m=-1,y.length&&s())}function s(){if(!d){var e=i(a);d=!0;for(var t=y.length;t;){for(p=y,y=[];++m<t;)p&&p[m].run();m=-1,t=y.length}p=null,d=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,f,h=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,y=[],d=!1,m=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];y.push(new l(e,t)),1!==y.length||d||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,n){!function(t){"use strict";function n(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function r(e){return"string"!=typeof e&&(e=String(e)),e}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader;return t.readAsArrayBuffer(e),a(t)}function l(e,t){var n=new FileReader,r=t.headers.map["content-type"]?t.headers.map["content-type"].toString():"",i=/charset\=[0-9a-zA-Z\-\_]*;?/,o=e.type.match(i)||r.match(i),s=[e];return o&&s.push(o[0].replace(/^charset\=/,"").replace(/;$/,"")),n.readAsText.apply(n,s),a(n)}function u(){return this.bodyUsed=!1,this._initBody=function(e,t){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(d.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e,this._options=t;else if(d.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(e){if(!d.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText=""},d.blob?(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return l(this._bodyBlob,this._options);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=o(this);return e||Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(e){var t=e.toUpperCase();return m.indexOf(t)>-1?t:e}function f(e,t){t=t||{};var n=t.body;if(f.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e
;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=c(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n,t)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function p(e){var t=new i;return e.getAllResponseHeaders().trim().split("\n").forEach(function(e){var n=e.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();t.append(r,i)}),t}function y(e,t){t||(t={}),this._initBody(e,t),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof i?t.headers:new i(t.headers),this.url=t.url||""}if(t.__disableNativeFetch||!t.fetch){i.prototype.append=function(e,t){e=n(e),t=r(t);var i=this.map[e];i||(i=[],this.map[e]=i),i.push(t)},i.prototype.delete=function(e){delete this.map[n(e)]},i.prototype.get=function(e){var t=this.map[n(e)];return t?t[0]:null},i.prototype.getAll=function(e){return this.map[n(e)]||[]},i.prototype.has=function(e){return this.map.hasOwnProperty(n(e))},i.prototype.set=function(e,t){this.map[n(e)]=[r(t)]},i.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){e.call(t,r,n,this)},this)},this)};var d={blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t},m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this)},u.call(f.prototype),u.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var v=[301,302,303,307,308];y.redirect=function(e,t){if(-1===v.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},t.Headers=i,t.Request=f,t.Response=y,t.fetch=function(e,t){return new Promise(function(n,r){function i(){return"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0}function o(){if(4===s.readyState){var e=1223===s.status?204:s.status;if(e<100||e>599){if(l)return;return l=!0,void r(new TypeError("Network request failed"))}var t={status:e,statusText:s.statusText,headers:p(s),url:i()},o="response"in s?s.response:s.responseText;l||(l=!0,n(new y(o,t)))}}var a;a=f.prototype.isPrototypeOf(e)&&!t?e:new f(e,t);var s=new XMLHttpRequest,l=!1;s.onreadystatechange=o,s.onload=o,s.onerror=function(){l||(l=!0,r(new TypeError("Network request failed")))},s.open(a.method,a.url,!0);try{"include"===a.credentials&&("withCredentials"in s?s.withCredentials=!0:console&&console.warn&&console.warn("withCredentials is not supported, you can ignore this warning"))}catch(e){console&&console.warn&&console.warn("set withCredentials error:"+e)}"responseType"in s&&d.blob&&(s.responseType="blob"),a.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),s.send(void 0===a._bodyInit?null:a._bodyInit)})},t.fetch.polyfill=!0,e.exports&&(e.exports=t.fetch)}}("undefined"!=typeof self?self:this)},function(e,t){function n(e){return Object.prototype.toString.call(e)}function r(e){return"[object Date]"===n(e)}function i(e){return"[object String]"===n(e)}function o(e){return i(e)&&!isNaN(Date.parse(e))}function a(e){return"number"==typeof e}function s(e){return Date.parse(e)}e.exports={getObjectType:n,isDate:r,isString:i,isDateString:o,parseDateFromString:s,isNumber:a}},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,h=n?-1:1,p=e[t+f];for(f+=h,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=u}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,y=r?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+f>=1?h/l:h*Math.pow(2,1-f),t*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*l-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=y,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+p]=255&a,p+=y,a/=256,u-=8);e[n+p-y]|=128*d}},function(e,t,n){"use strict";function r(e,t){this.layers=e.readFields(i,{},t)}function i(e,t,n){if(3===e){var r=new o(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}var o=n(9);e.exports=r},function(e,t,n){"use strict";function r(e,t){this.x=e,this.y=t}e.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,i=n*this.x+t*this.y;return this.x=r,this.y=i,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.x+n*(this.x-t.x)-r*(this.y-t.y),o=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=i,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(e){return e instanceof r?e:Array.isArray(e)?new r(e[0],e[1]):e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}function x(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t,n){return(T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=P(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function P(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function N(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?V(e):t}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t,n){return t&&Y(e.prototype,t),n&&Y(e,n),e}function K(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?Z(e):t}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e,t,n){return($="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ee(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ee(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=te(e)););return e}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t,n){return t&&ae(e.prototype,t),n&&ae(e,n),e}function le(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?ue(e):t}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e,t,n){return(ce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=fe(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function fe(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=he(e)););return e}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t,n){return t&&ve(e.prototype,t),n&&ve(e,n),e}function ge(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?Se(e):t}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e,t,n){return(_e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=we(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function we(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Oe(e)););return e}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t,n){return t&&Ee(e.prototype,t),n&&Ee(e,n),e}function Me(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?Ae(e):t}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Le(e,t,n){return(Le="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=je(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function je(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Re(e)););return e}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Be(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?Ue(e):t}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?We(e):t}function We(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ye(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t,n){return t&&$e(e.prototype,t),n&&$e(e,n),e}function tt(e,t){return!t||"object"!==Ke(t)&&"function"!=typeof t?nt(e):t}function nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function it(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ut(e,t,n){return t&&lt(e.prototype,t),n&&lt(e,n),e}function ct(e,t){return!t||"object"!==at(t)&&"function"!=typeof t?ft(e):t}function ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e,t,n){return t&&mt(e.prototype,t),n&&mt(e,n),e}function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e,t,n){return t&&St(e.prototype,t),n&&St(e,n),e}function wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xt(e,t,n){return t&&Ot(e.prototype,t),n&&Ot(e,n),e}function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t,n){return t&&Pt(e.prototype,t),n&&Pt(e,n),e}function kt(e,t){return!t||"object"!==Ct(t)&&"function"!=typeof t?Mt(e):t}function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function At(e,t,n){return(At="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Lt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Lt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jt(e)););return e}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nt(e,t)}function Nt(e,t){return(Nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function It(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e,t,n){return t&&Dt(e.prototype,t),n&&Dt(e,n),e}function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e,t,n){return t&&Gt(e.prototype,t),n&&Gt(e,n),e}function Vt(e,t){return!t||"object"!==Bt(t)&&"function"!=typeof t?Ht(e):t}function Ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}function Wt(e,t){return(Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t,n){return t&&Yt(e.prototype,t),n&&Yt(e,n),e}function Kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $t(e,t,n){return t&&Zt(e.prototype,t),n&&Zt(e,n),e}function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rn(e,t,n){return t&&nn(e.prototype,t),n&&nn(e,n),e}function on(e,t){return!t||"object"!==en(t)&&"function"!=typeof t?sn(e):t}function an(e){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ln(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&un(e,t)}function un(e,t){return(un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cn(e){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pn(e,t,n){return t&&hn(e.prototype,t),n&&hn(e,n),e}function yn(e,t){return!t||"object"!==cn(t)&&"function"!=typeof t?mn(e):t}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bn(e,t)}function bn(e,t){return(bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _n(e,t,n){return t&&Sn(e.prototype,t),n&&Sn(e,n),e}function wn(e){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function On(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cn(e,t,n){return t&&xn(e.prototype,t),n&&xn(e,n),e}function Tn(e,t){return!t||"object"!==wn(t)&&"function"!=typeof t?Pn(e):t}function Pn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function En(e,t,n){return(En="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=kn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function kn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Mn(e)););return e}function Mn(e){return(Mn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function An(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ln(e,t)}function Ln(e,t){return(Ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jn(e){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function In(e,t,n){return t&&Nn(e.prototype,t),n&&Nn(e,n),e}function Dn(e,t){return!t||"object"!==jn(t)&&"function"!=typeof t?Fn(e):t}function Fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bn(e){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Un(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gn(e,t)}function Gn(e,t){return(Gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hn(e,t,n){return t&&Vn(e.prototype,t),n&&Vn(e,n),e}function Jn(e){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qn(e,t,n){return t&&Wn(e.prototype,t),n&&Wn(e,n),e}function Yn(e,t){return!t||"object"!==Jn(t)&&"function"!=typeof t?Xn(e):t}function Xn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kn(e,t,n){return(Kn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Zn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Zn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$n(e)););return e}function $n(e){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function er(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tr(e,t)}function tr(e,t){return(tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nr(e){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function or(e,t,n){return t&&ir(e.prototype,t),n&&ir(e,n),e}function ar(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e,t,n){return t&&sr(e.prototype,t),n&&sr(e,n),e}function ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cr(e){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pr(e,t,n){return t&&hr(e.prototype,t),n&&hr(e,n),e}function yr(e,t){return!t||"object"!==cr(t)&&"function"!=typeof t?dr(e):t}function dr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mr(e){return(mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&br(e,t)}function br(e,t){return(br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function gr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Or(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cr(e,t,n){return t&&xr(e.prototype,t),n&&xr(e,n),e}function Tr(e){return(Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kr(e,t,n){return t&&Er(e.prototype,t),n&&Er(e,n),e}function Mr(e,t){return!t||"object"!==Tr(t)&&"function"!=typeof t?Lr(e):t}function Ar(e){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rr(e,t)}function Rr(e,t){return(Rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nr(e){return(Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ir(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fr(e,t,n){return t&&Dr(e.prototype,t),n&&Dr(e,n),e}function Br(e,t){return!t||"object"!==Nr(t)&&"function"!=typeof t?Gr(e):t}function Ur(e){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vr(e,t)}function Vr(e,t){return(Vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hr(e){return(Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wr(e,t,n){return t&&qr(e.prototype,t),n&&qr(e,n),e}function Qr(e,t){return!t||"object"!==Hr(t)&&"function"!=typeof t?Xr(e):t}function Yr(e){return(Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zr(e,t)}function Zr(e,t){return(Zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $r(e){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ei(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ni(e,t,n){return t&&ti(e.prototype,t),n&&ti(e,n),e}function ri(e,t){return!t||"object"!==$r(t)&&"function"!=typeof t?oi(e):t}function ii(e){return(ii=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ai(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&si(e,t)}function si(e,t){return(si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function li(e){return(li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ui(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fi(e,t,n){return t&&ci(e.prototype,t),n&&ci(e,n),e}function hi(e,t){return!t||"object"!==li(t)&&"function"!=typeof t?yi(e):t}function pi(e){return(pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function di(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mi(e,t)}function mi(e,t){return(mi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Si(e){return(Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oi(e,t,n){return t&&wi(e.prototype,t),n&&wi(e,n),e}function xi(e,t){return!t||"object"!==Si(t)&&"function"!=typeof t?Ti(e):t}function Ci(e){return(Ci=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ti(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ei(e,t)}function Ei(e,t){return(Ei=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ki(e){return(ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Li(e,t,n){return t&&Ai(e.prototype,t),n&&Ai(e,n),e}function ji(e,t){return!t||"object"!==ki(t)&&"function"!=typeof t?Ri(e):t}function Ri(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ni(e){return(Ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ii(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Di(e,t)}function Di(e,t){return(Di=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function Fi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ui(e,t,n){return t&&Bi(e.prototype,t),n&&Bi(e,n),e}function Gi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vi(e,t,n){return t&&zi(e.prototype,t),n&&zi(e,n),e}function Hi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ji(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qi(e,t,n){return t&&Ji(e.prototype,t),n&&Ji(e,n),e}function Wi(e){return(Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xi(e,t,n){return t&&Yi(e.prototype,t),n&&Yi(e,n),e}function Ki(e,t){return!t||"object"!==Wi(t)&&"function"!=typeof t?Zi(e):t}function Zi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $i(e,t,n){return($i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=eo(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function eo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=to(e)););return e}function to(e){return(to=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function no(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ro(e,t)}function ro(e,t){return(ro=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function io(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ao(e,t,n){return t&&oo(e.prototype,t),n&&oo(e,n),e}function so(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uo(e,t,n){return t&&lo(e.prototype,t),n&&lo(e,n),e}function co(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ho(e,t,n){return t&&fo(e.prototype,t),n&&fo(e,n),e}function po(e){return(po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vo(e,t,n){return t&&mo(e.prototype,t),n&&mo(e,n),e}function bo(e,t){return!t||"object"!==po(t)&&"function"!=typeof t?go(e):t}function go(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function So(e,t,n){return(So="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_o(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _o(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wo(e)););return e}function wo(e){return(wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xo(e,t)}function xo(e,t){return(xo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Co(e){return(Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function To(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Po(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Eo(e,t,n){return t&&Po(e.prototype,t),n&&Po(e,n),e}function ko(e,t){return!t||"object"!==Co(t)&&"function"!=typeof t?Mo(e):t}function Mo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ao(e,t,n){return(Ao="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Lo(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Lo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jo(e)););return e}function jo(e){return(jo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ro(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&No(e,t)}function No(e,t){return(No=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Io(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Do(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fo(e,t,n){return t&&Do(e.prototype,t),n&&Do(e,n),e}function Bo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Go(e,t,n){return t&&Uo(e.prototype,t),n&&Uo(e,n),e}function zo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ho(e,t,n){return t&&Vo(e.prototype,t),n&&Vo(e,n),e}function Jo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wo(e,t,n){return t&&qo(e.prototype,t),n&&qo(e,n),e}function Qo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xo(e,t,n){return t&&Yo(e.prototype,t),n&&Yo(e,n),e}function Ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $o(e,t,n){return t&&Zo(e.prototype,t),n&&Zo(e,n),e}function ea(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function na(e,t,n){return t&&ta(e.prototype,t),n&&ta(e,n),e}function ra(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ia(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oa(e,t,n){return t&&ia(e.prototype,t),n&&ia(e,n),e}function aa(e){return(aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function la(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ua(e,t,n){return t&&la(e.prototype,t),n&&la(e,n),e}function ca(e,t){return!t||"object"!==aa(t)&&"function"!=typeof t?fa(e):t}function fa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ha(e,t,n){return(ha="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=pa(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function pa(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ya(e)););return e}function ya(e){return(ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function da(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ma(e,t)}function ma(e,t){return(ma=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function va(e){return(va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ba(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sa(e,t,n){return t&&ga(e.prototype,t),n&&ga(e,n),e}function _a(e,t){return!t||"object"!==va(t)&&"function"!=typeof t?wa(e):t}function wa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oa(e,t,n){return(Oa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=xa(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function xa(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ca(e)););return e}function Ca(e){return(Ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ta(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pa(e,t)}function Pa(e,t){return(Pa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ea(e){return(Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ka(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Aa(e,t,n){return t&&Ma(e.prototype,t),n&&Ma(e,n),e}function La(e,t){return!t||"object"!==Ea(t)&&"function"!=typeof t?ja(e):t}function ja(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ra(e,t,n){return(Ra="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Na(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Na(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ia(e)););return e}function Ia(e){return(Ia=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Da(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fa(e,t)}function Fa(e,t){return(Fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ba(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ua(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ga(e,t,n){return t&&Ua(e.prototype,t),n&&Ua(e,n),e}function za(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Va(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ha(e,t,n){return t&&Va(e.prototype,t),n&&Va(e,n),e}function Ja(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wa(e,t,n){return t&&qa(e.prototype,t),n&&qa(e,n),e}function Qa(e){return(Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ya(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ka(e,t,n){return t&&Xa(e.prototype,t),n&&Xa(e,n),e}function Za(e,t){return!t||"object"!==Qa(t)&&"function"!=typeof t?$a(e):t}function $a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function es(e,t,n){return(es="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ts(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ts(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ns(e)););return e}function ns(e){return(ns=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&is(e,t)}function is(e,t){return(is=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function os(e){return(os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function as(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ss(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ls(e,t,n){return t&&ss(e.prototype,t),n&&ss(e,n),e}function us(e,t){return!t||"object"!==os(t)&&"function"!=typeof t?cs(e):t}function cs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fs(e,t,n){return(fs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=hs(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function hs(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ps(e)););return e}function ps(e){return(ps=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ys(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ds(e,t)}function ds(e,t){return(ds=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ms(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bs(e,t,n){return t&&vs(e.prototype,t),n&&vs(e,n),e}function gs(e){return(gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ss(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ws(e,t,n){return t&&_s(e.prototype,t),n&&_s(e,n),e}function Os(e,t){return!t||"object"!==gs(t)&&"function"!=typeof t?xs(e):t}function xs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cs(e,t,n){return(Cs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ts(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ts(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ps(e)););return e}function Ps(e){return(Ps=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Es(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ks(e,t)}function ks(e,t){return(ks=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ms(e){return(Ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function As(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ls(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function js(e,t,n){return t&&Ls(e.prototype,t),n&&Ls(e,n),e}function Rs(e,t){return!t||"object"!==Ms(t)&&"function"!=typeof t?Ns(e):t}function Ns(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Is(e,t,n){return(Is="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ds(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ds(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Fs(e)););return e}function Fs(e){return(Fs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Us(e,t)}function Us(e,t){return(Us=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gs(e){return(Gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hs(e,t,n){return t&&Vs(e.prototype,t),n&&Vs(e,n),e}function Js(e,t){return!t||"object"!==Gs(t)&&"function"!=typeof t?qs(e):t}function qs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ws(e,t,n){return(Ws="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Qs(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Qs(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ys(e)););return e}function Ys(e){return(Ys=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ks(e,t)}function Ks(e,t){return(Ks=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function el(e,t,n){return t&&$s(e.prototype,t),n&&$s(e,n),e}function tl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rl(e,t,n){return t&&nl(e.prototype,t),n&&nl(e,n),e}function il(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ol(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function al(e,t,n){return t&&ol(e.prototype,t),n&&ol(e,n),e}function sl(e){return(sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ll(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ul(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cl(e,t,n){return t&&ul(e.prototype,t),n&&ul(e,n),e}function fl(e,t){return!t||"object"!==sl(t)&&"function"!=typeof t?pl(e):t}function hl(e){return(hl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dl(e,t)}function dl(e,t){return(dl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ml(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bl(e,t,n){return t&&vl(e.prototype,t),n&&vl(e,n),e}function gl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _l(e,t,n){return t&&Sl(e.prototype,t),n&&Sl(e,n),e}function wl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ol(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xl(e,t,n){return t&&Ol(e.prototype,t),n&&Ol(e,n),e}function Cl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pl(e,t,n){return t&&Tl(e.prototype,t),n&&Tl(e,n),e}function El(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ml(e,t,n){return t&&kl(e.prototype,t),n&&kl(e,n),e}function Al(e){return(Al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ll(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rl(e,t,n){return t&&jl(e.prototype,t),n&&jl(e,n),e}function Nl(e,t){return!t||"object"!==Al(t)&&"function"!=typeof t?Il(e):t}function Il(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dl(e,t,n){return(Dl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Fl(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Fl(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Bl(e)););return e}function Bl(e){return(Bl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ul(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gl(e,t)}function Gl(e,t){return(Gl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zl(e){return(zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jl(e,t,n){return t&&Hl(e.prototype,t),n&&Hl(e,n),e}function ql(e,t){return!t||"object"!==zl(t)&&"function"!=typeof t?Ql(e):t}function Wl(e){return(Wl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ql(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xl(e,t)}function Xl(e,t){return(Xl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $l(e,t,n){return t&&Zl(e.prototype,t),n&&Zl(e,n),e}function eu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nu(e,t,n){return t&&tu(e.prototype,t),n&&tu(e,n),e}function ru(e){return(ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ou(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function au(e,t,n){return t&&ou(e.prototype,t),n&&ou(e,n),e}function su(e,t){return!t||"object"!==ru(t)&&"function"!=typeof t?lu(e):t}function lu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uu(e,t,n){return(uu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=cu(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function cu(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fu(e)););return e}function fu(e){return(fu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pu(e,t)}function pu(e,t){return(pu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function du(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mu(e,t,n){return t&&du(e.prototype,t),n&&du(e,n),e}function vu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gu(e,t,n){return t&&bu(e.prototype,t),n&&bu(e,n),e}function Su(e){return(Su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _u(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ou(e,t,n){return t&&wu(e.prototype,t),n&&wu(e,n),e}function xu(e,t){return!t||"object"!==Su(t)&&"function"!=typeof t?Cu(e):t}function Cu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tu(e,t,n){return(Tu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Pu(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Pu(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Eu(e)););return e}function Eu(e){return(Eu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ku(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mu(e,t)}function Mu(e,t){return(Mu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Au(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ju(e,t,n){return t&&Lu(e.prototype,t),n&&Lu(e,n),e}function Ru(e){return(Ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Du(e,t,n){return t&&Iu(e.prototype,t),n&&Iu(e,n),e}function Fu(e,t){return!t||"object"!==Ru(t)&&"function"!=typeof t?Bu(e):t}function Bu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uu(e,t,n){return(Uu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Gu(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Gu(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zu(e)););return e}function zu(e){return(zu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hu(e,t)}function Hu(e,t){return(Hu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ju(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wu(e,t,n){return t&&qu(e.prototype,t),n&&qu(e,n),e}function Qu(e){return(Qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ku(e,t,n){return t&&Xu(e.prototype,t),n&&Xu(e,n),e}function Zu(e,t){return!t||"object"!==Qu(t)&&"function"!=typeof t?$u(e):t}function $u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ec(e,t,n){return(ec="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=tc(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function tc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nc(e)););return e}function nc(e){return(nc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ic(e,t)}function ic(e,t){return(ic=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ac(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sc(e,t,n){return t&&ac(e.prototype,t),n&&ac(e,n),e}function lc(e){return(lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fc(e,t,n){return t&&cc(e.prototype,t),n&&cc(e,n),e}function hc(e,t){return!t||"object"!==lc(t)&&"function"!=typeof t?pc(e):t}function pc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yc(e,t,n){return(yc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=dc(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function dc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mc(e)););return e}function mc(e){return(mc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bc(e,t)}function bc(e,t){return(bc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _c(e,t,n){return t&&Sc(e.prototype,t),n&&Sc(e,n),e}function wc(e){return(wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cc(e,t,n){return t&&xc(e.prototype,t),n&&xc(e,n),e}function Tc(e,t){return!t||"object"!==wc(t)&&"function"!=typeof t?Pc(e):t}function Pc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ec(e,t,n){return(Ec="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=kc(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function kc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Mc(e)););return e}function Mc(e){return(Mc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ac(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lc(e,t)}function Lc(e,t){return(Lc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jc(e){return(jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ic(e,t,n){return t&&Nc(e.prototype,t),n&&Nc(e,n),e}function Dc(e,t){return!t||"object"!==jc(t)&&"function"!=typeof t?Fc(e):t}function Fc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bc(e){return(Bc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Uc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gc(e,t)}function Gc(e,t){return(Gc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zc(e){return(zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jc(e,t,n){return t&&Hc(e.prototype,t),n&&Hc(e,n),e}function qc(e,t){return!t||"object"!==zc(t)&&"function"!=typeof t?Wc(e):t}function Wc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qc(e,t,n){return(Qc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Yc(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Yc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xc(e)););return e}function Xc(e){return(Xc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zc(e,t)}function Zc(e,t){return(Zc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $c(e){return($c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ef(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nf(e,t,n){return t&&tf(e.prototype,t),n&&tf(e,n),e}function rf(e,t){return!t||"object"!==$c(t)&&"function"!=typeof t?of(e):t}function of(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function af(e,t,n){return(af="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=sf(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function sf(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=lf(e)););return e}function lf(e){return(lf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cf(e,t)}function cf(e,t){return(cf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ff(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pf(e,t,n){return t&&hf(e.prototype,t),n&&hf(e,n),e}function yf(e){return(yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function df(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vf(e,t,n){return t&&mf(e.prototype,t),n&&mf(e,n),e}function bf(e,t){return!t||"object"!==yf(t)&&"function"!=typeof t?gf(e):t}function gf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sf(e,t,n){return(Sf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_f(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wf(e)););return e}function wf(e){return(wf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Of(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xf(e,t)}function xf(e,t){return(xf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cf(e){return(Cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ef(e,t,n){return t&&Pf(e.prototype,t),n&&Pf(e,n),e}function kf(e,t){return!t||"object"!==Cf(t)&&"function"!=typeof t?Mf(e):t}function Mf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Af(e,t,n){return(Af="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Lf(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Lf(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jf(e)););return e}function jf(e){return(jf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nf(e,t)}function Nf(e,t){return(Nf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function If(e){return(If="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Df(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ff(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bf(e,t,n){return t&&Ff(e.prototype,t),n&&Ff(e,n),e}function Uf(e,t){return!t||"object"!==If(t)&&"function"!=typeof t?Gf(e):t}function Gf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zf(e,t,n){return(zf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Vf(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Vf(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Hf(e)););return e}function Hf(e){return(Hf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qf(e,t)}function qf(e,t){return(qf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wf(e){return(Wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xf(e,t,n){return t&&Yf(e.prototype,t),n&&Yf(e,n),e}function Kf(e,t){return!t||"object"!==Wf(t)&&"function"!=typeof t?Zf(e):t}function Zf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $f(e,t,n){return($f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=eh(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function eh(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=th(e)););return e}function th(e){return(th=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rh(e,t)}function rh(e,t){return(rh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ih(e){return(ih="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ah(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sh(e,t,n){return t&&ah(e.prototype,t),n&&ah(e,n),e}function lh(e,t){return!t||"object"!==ih(t)&&"function"!=typeof t?uh(e):t}function uh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ch(e,t,n){return(ch="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=fh(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function fh(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hh(e)););return e}function hh(e){return(hh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ph(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yh(e,t)}function yh(e,t){return(yh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dh(e){return(dh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bh(e,t,n){return t&&vh(e.prototype,t),n&&vh(e,n),e}function gh(e,t){return!t||"object"!==dh(t)&&"function"!=typeof t?Sh(e):t}function Sh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _h(e,t,n){return(_h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=wh(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function wh(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Oh(e)););return e}function Oh(e){return(Oh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ch(e,t)}function Ch(e,t){return(Ch=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Th(e){return(Th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ph(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kh(e,t,n){return t&&Eh(e.prototype,t),n&&Eh(e,n),e}function Mh(e,t){return!t||"object"!==Th(t)&&"function"!=typeof t?Ah(e):t}function Ah(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lh(e,t,n){return(Lh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=jh(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function jh(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Rh(e)););return e}function Rh(e){return(Rh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ih(e,t)}function Ih(e,t){return(Ih=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dh(e){return(Dh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uh(e,t,n){return t&&Bh(e.prototype,t),n&&Bh(e,n),e}function Gh(e,t){return!t||"object"!==Dh(t)&&"function"!=typeof t?zh(e):t}function zh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vh(e,t,n){return(Vh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Hh(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Hh(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Jh(e)););return e}function Jh(e){return(Jh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wh(e,t)}function Wh(e,t){return(Wh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xh(e,t,n){return t&&Yh(e.prototype,t),n&&Yh(e,n),e}function Kh(e){return(Kh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ep(e,t,n){return t&&$h(e.prototype,t),n&&$h(e,n),e}function tp(e,t){return!t||"object"!==Kh(t)&&"function"!=typeof t?rp(e):t}function np(e){return(np=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ip(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&op(e,t)}function op(e,t){return(op=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ap(e){return(ap="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function up(e,t,n){return t&&lp(e.prototype,t),n&&lp(e,n),e}function cp(e,t){return!t||"object"!==ap(t)&&"function"!=typeof t?fp(e):t}function fp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hp(e,t,n){return(hp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=pp(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function pp(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yp(e)););return e}function yp(e){return(yp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mp(e,t)}function mp(e,t){return(mp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gp(e,t,n){return t&&bp(e.prototype,t),n&&bp(e,n),e}function Sp(e){return(Sp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Op(e,t,n){return t&&wp(e.prototype,t),n&&wp(e,n),e}function xp(e,t){return!t||"object"!==Sp(t)&&"function"!=typeof t?Cp(e):t}function Cp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tp(e,t,n){return(Tp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Pp(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Pp(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ep(e)););return e}function Ep(e){return(Ep=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mp(e,t)}function Mp(e,t){return(Mp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ap(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jp(e,t,n){return t&&Lp(e.prototype,t),n&&Lp(e,n),e}function Rp(e){return(Rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Np(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ip(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dp(e,t,n){return t&&Ip(e.prototype,t),n&&Ip(e,n),e}function Fp(e,t){return!t||"object"!==Rp(t)&&"function"!=typeof t?Bp(e):t}function Bp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Up(e,t,n){return(Up="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Gp(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Gp(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zp(e)););return e}function zp(e){return(zp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hp(e,t)}function Hp(e,t){return(Hp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
function qp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wp(e,t,n){return t&&qp(e.prototype,t),n&&qp(e,n),e}function Qp(e){return(Qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kp(e,t,n){return t&&Xp(e.prototype,t),n&&Xp(e,n),e}function Zp(e,t){return!t||"object"!==Qp(t)&&"function"!=typeof t?$p(e):t}function $p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ey(e,t,n){return(ey="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ty(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ty(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ny(e)););return e}function ny(e){return(ny=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ry(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iy(e,t)}function iy(e,t){return(iy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ay(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sy(e,t,n){return t&&ay(e.prototype,t),n&&ay(e,n),e}function ly(e){return(ly="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fy(e,t,n){return t&&cy(e.prototype,t),n&&cy(e,n),e}function hy(e,t){return!t||"object"!==ly(t)&&"function"!=typeof t?py(e):t}function py(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yy(e,t,n){return(yy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=dy(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function dy(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=my(e)););return e}function my(e){return(my=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vy(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&by(e,t)}function by(e,t){return(by=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _y(e,t,n){return t&&Sy(e.prototype,t),n&&Sy(e,n),e}function wy(e){return(wy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cy(e,t,n){return t&&xy(e.prototype,t),n&&xy(e,n),e}function Ty(e,t){return!t||"object"!==wy(t)&&"function"!=typeof t?Py(e):t}function Py(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ey(e,t,n){return(Ey="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ky(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ky(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=My(e)););return e}function My(e){return(My=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ay(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ly(e,t)}function Ly(e,t){return(Ly=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ry(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ny(e,t,n){return t&&Ry(e.prototype,t),n&&Ry(e,n),e}function Iy(e){return(Iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function By(e,t,n){return t&&Fy(e.prototype,t),n&&Fy(e,n),e}function Uy(e,t){return!t||"object"!==Iy(t)&&"function"!=typeof t?Gy(e):t}function Gy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zy(e,t,n){return(zy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Vy(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Vy(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Hy(e)););return e}function Hy(e){return(Hy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jy(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qy(e,t)}function qy(e,t){return(qy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yy(e,t,n){return t&&Qy(e.prototype,t),n&&Qy(e,n),e}function Xy(e){return(Xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ky(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $y(e,t,n){return t&&Zy(e.prototype,t),n&&Zy(e,n),e}function ed(e,t){return!t||"object"!==Xy(t)&&"function"!=typeof t?td(e):t}function td(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nd(e,t,n){return(nd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=rd(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function rd(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=id(e)););return e}function id(e){return(id=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function od(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ad(e,t)}function ad(e,t){return(ad=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sd(e){return(sd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ld(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ud(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cd(e,t,n){return t&&ud(e.prototype,t),n&&ud(e,n),e}function fd(e,t){return!t||"object"!==sd(t)&&"function"!=typeof t?hd(e):t}function hd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pd(e,t,n){return(pd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=yd(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function yd(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dd(e)););return e}function dd(e){return(dd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function md(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vd(e,t)}function vd(e,t){return(vd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bd(e){return(bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _d(e,t,n){return t&&Sd(e.prototype,t),n&&Sd(e,n),e}function wd(e,t){return!t||"object"!==bd(t)&&"function"!=typeof t?Od(e):t}function Od(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xd(e,t,n){return(xd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Cd(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Cd(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Td(e)););return e}function Td(e){return(Td=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ed(e,t)}function Ed(e,t){return(Ed=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kd(e){return(kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Md(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ad(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ld(e,t,n){return t&&Ad(e.prototype,t),n&&Ad(e,n),e}function jd(e,t){return!t||"object"!==kd(t)&&"function"!=typeof t?Rd(e):t}function Rd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nd(e,t,n){return(Nd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Id(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Id(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Dd(e)););return e}function Dd(e){return(Dd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bd(e,t)}function Bd(e,t){return(Bd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ud(e){return(Ud="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vd(e,t,n){return t&&zd(e.prototype,t),n&&zd(e,n),e}function Hd(e,t){return!t||"object"!==Ud(t)&&"function"!=typeof t?Jd(e):t}function Jd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qd(e,t,n){return(qd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Wd(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Wd(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Qd(e)););return e}function Qd(e){return(Qd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xd(e,t)}function Xd(e,t){return(Xd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kd(e){return(Kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function em(e,t,n){return t&&$d(e.prototype,t),n&&$d(e,n),e}function tm(e,t){return!t||"object"!==Kd(t)&&"function"!=typeof t?nm(e):t}function nm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rm(e,t,n){return(rm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=im(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function im(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=om(e)););return e}function om(e){return(om=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function am(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sm(e,t)}function sm(e,t){return(sm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function um(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cm(e,t,n){return t&&um(e.prototype,t),n&&um(e,n),e}function fm(e){return(fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ym(e,t,n){return t&&pm(e.prototype,t),n&&pm(e,n),e}function dm(e,t){return!t||"object"!==fm(t)&&"function"!=typeof t?mm(e):t}function mm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vm(e,t,n){return(vm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=bm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function bm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gm(e)););return e}function gm(e){return(gm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sm(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_m(e,t)}function _m(e,t){return(_m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Om(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xm(e,t,n){return t&&Om(e.prototype,t),n&&Om(e,n),e}function Cm(e){return(Cm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Em(e,t,n){return t&&Pm(e.prototype,t),n&&Pm(e,n),e}function km(e,t){return!t||"object"!==Cm(t)&&"function"!=typeof t?Mm(e):t}function Mm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Am(e,t,n){return(Am="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Lm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Lm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jm(e)););return e}function jm(e){return(jm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rm(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nm(e,t)}function Nm(e,t){return(Nm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Im(e){return(Im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bm(e,t,n){return t&&Fm(e.prototype,t),n&&Fm(e,n),e}function Um(e,t){return!t||"object"!==Im(t)&&"function"!=typeof t?Gm(e):t}function Gm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zm(e,t,n){return(zm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Vm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Vm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Hm(e)););return e}function Hm(e){return(Hm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jm(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qm(e,t)}function qm(e,t){return(qm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wm(e){return(Wm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ym(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xm(e,t,n){return t&&Ym(e.prototype,t),n&&Ym(e,n),e}function Km(e,t){return!t||"object"!==Wm(t)&&"function"!=typeof t?Zm(e):t}function Zm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $m(e,t,n){return($m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ev(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ev(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tv(e)););return e}function tv(e){return(tv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rv(e,t)}function rv(e,t){return(rv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function iv(e){return(iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ov(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function av(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sv(e,t,n){return t&&av(e.prototype,t),n&&av(e,n),e}function lv(e,t){return!t||"object"!==iv(t)&&"function"!=typeof t?uv(e):t}function uv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cv(e,t,n){return(cv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=fv(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function fv(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hv(e)););return e}function hv(e){return(hv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yv(e,t)}function yv(e,t){return(yv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dv(e){return(dv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bv(e,t,n){return t&&vv(e.prototype,t),n&&vv(e,n),e}function gv(e,t){return!t||"object"!==dv(t)&&"function"!=typeof t?Sv(e):t}function Sv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _v(e,t,n){return(_v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=wv(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function wv(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ov(e)););return e}function Ov(e){return(Ov=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cv(e,t)}function Cv(e,t){return(Cv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tv(e){return(Tv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ev(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kv(e,t,n){return t&&Ev(e.prototype,t),n&&Ev(e,n),e}function Mv(e,t){return!t||"object"!==Tv(t)&&"function"!=typeof t?Av(e):t}function Av(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lv(e,t,n){return(Lv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=jv(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function jv(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Rv(e)););return e}function Rv(e){return(Rv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Iv(e,t)}function Iv(e,t){return(Iv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dv(e){return(Dv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uv(e,t,n){return t&&Bv(e.prototype,t),n&&Bv(e,n),e}function Gv(e,t){return!t||"object"!==Dv(t)&&"function"!=typeof t?zv(e):t}function zv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vv(e,t,n){return(Vv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Hv(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Hv(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Jv(e)););return e}function Jv(e){return(Jv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wv(e,t)}function Wv(e,t){return(Wv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qv(e){return(Qv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kv(e,t,n){return t&&Xv(e.prototype,t),n&&Xv(e,n),e}function Zv(e,t){return!t||"object"!==Qv(t)&&"function"!=typeof t?$v(e):t}function $v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eb(e,t,n){return(eb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=tb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function tb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nb(e)););return e}function nb(e){return(nb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rb(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ib(e,t)}function ib(e,t){return(ib=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ob(e){return(ob="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ab(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lb(e,t,n){return t&&sb(e.prototype,t),n&&sb(e,n),e}function ub(e,t){return!t||"object"!==ob(t)&&"function"!=typeof t?cb(e):t}function cb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fb(e,t,n){return(fb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=hb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function hb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pb(e)););return e}function pb(e){return(pb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)})(e)}function yb(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&db(e,t)}function db(e,t){return(db=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mb(e){return(mb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gb(e,t,n){return t&&bb(e.prototype,t),n&&bb(e,n),e}function Sb(e,t){return!t||"object"!==mb(t)&&"function"!=typeof t?_b(e):t}function _b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wb(e,t,n){return(wb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ob(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ob(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xb(e)););return e}function xb(e){return(xb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cb(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tb(e,t)}function Tb(e,t){return(Tb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pb(e){return(Pb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Eb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mb(e,t,n){return t&&kb(e.prototype,t),n&&kb(e,n),e}function Ab(e,t){return!t||"object"!==Pb(t)&&"function"!=typeof t?Lb(e):t}function Lb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jb(e,t,n){return(jb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Rb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Rb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Nb(e)););return e}function Nb(e){return(Nb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ib(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Db(e,t)}function Db(e,t){return(Db=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fb(e){return(Fb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ub(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gb(e,t,n){return t&&Ub(e.prototype,t),n&&Ub(e,n),e}function zb(e,t){return!t||"object"!==Fb(t)&&"function"!=typeof t?Vb(e):t}function Vb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hb(e,t,n){return(Hb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Jb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Jb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qb(e)););return e}function qb(e){return(qb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wb(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qb(e,t)}function Qb(e,t){return(Qb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kb(e,t,n){return t&&Xb(e.prototype,t),n&&Xb(e,n),e}function Zb(e){return(Zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tg(e,t,n){return t&&eg(e.prototype,t),n&&eg(e,n),e}function ng(e,t){return!t||"object"!==Zb(t)&&"function"!=typeof t?rg(e):t}function rg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ig(e,t,n){return(ig="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=og(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function og(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ag(e)););return e}function ag(e){return(ag=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sg(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lg(e,t)}function lg(e,t){return(lg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ug(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fg(e,t,n){return t&&cg(e.prototype,t),n&&cg(e,n),e}function hg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yg(e,t,n){return t&&pg(e.prototype,t),n&&pg(e,n),e}function dg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vg(e,t,n){return t&&mg(e.prototype,t),n&&mg(e,n),e}function bg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sg(e,t,n){return t&&gg(e.prototype,t),n&&gg(e,n),e}function _g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Og(e,t,n){return t&&wg(e.prototype,t),n&&wg(e,n),e}function xg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tg(e,t,n){return t&&Cg(e.prototype,t),n&&Cg(e,n),e}function Pg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kg(e,t,n){return t&&Eg(e.prototype,t),n&&Eg(e,n),e}function Mg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ag(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lg(e,t,n){return t&&Ag(e.prototype,t),n&&Ag(e,n),e}function jg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ng(e,t,n){return t&&Rg(e.prototype,t),n&&Rg(e,n),e}function Ig(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fg(e,t,n){return t&&Dg(e.prototype,t),n&&Dg(e,n),e}function Bg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ug(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gg(e,t,n){return t&&Ug(e.prototype,t),n&&Ug(e,n),e}function zg(e){return(zg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jg(e,t,n){return t&&Hg(e.prototype,t),n&&Hg(e,n),e}function qg(e,t){return!t||"object"!==zg(t)&&"function"!=typeof t?Wg(e):t}function Wg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qg(e,t,n){return(Qg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Yg(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Yg(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xg(e)););return e}function Xg(e){return(Xg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kg(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zg(e,t)}function Zg(e,t){return(Zg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $g(e){return($g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nS(e,t,n){return t&&tS(e.prototype,t),n&&tS(e,n),e}function rS(e,t){return!t||"object"!==$g(t)&&"function"!=typeof t?iS(e):t}function iS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oS(e,t,n){return(oS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=aS(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function aS(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=sS(e)););return e}function sS(e){return(sS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lS(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uS(e,t)}function uS(e,t){return(uS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hS(e,t,n){return t&&fS(e.prototype,t),n&&fS(e,n),e}function pS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dS(e,t,n){return t&&yS(e.prototype,t),n&&yS(e,n),e}function mS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bS(e,t,n){return t&&vS(e.prototype,t),n&&vS(e,n),e}function gS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _S(e,t,n){return t&&SS(e.prototype,t),n&&SS(e,n),e}function wS(e){return(wS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function OS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function CS(e,t,n){return t&&xS(e.prototype,t),n&&xS(e,n),e}function TS(e,t){return!t||"object"!==wS(t)&&"function"!=typeof t?PS(e):t}function PS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ES(e,t,n){return(ES="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=kS(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function kS(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=MS(e)););return e}function MS(e){return(MS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function AS(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LS(e,t)}function LS(e,t){return(LS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jS(e){return(jS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IS(e,t,n){return t&&NS(e.prototype,t),n&&NS(e,n),e}function DS(e,t){return!t||"object"!==jS(t)&&"function"!=typeof t?BS(e):t}function FS(e){return(FS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function US(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GS(e,t)}function GS(e,t){return(GS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HS(e,t,n){return t&&VS(e.prototype,t),n&&VS(e,n),e}function JS(e){return(JS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function QS(e,t,n){return t&&WS(e.prototype,t),n&&WS(e,n),e}function YS(e,t){return!t||"object"!==JS(t)&&"function"!=typeof t?XS(e):t}function XS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KS(e,t,n){return(KS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ZS(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ZS(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$S(e)););return e}function $S(e){return($S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function e_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&t_(e,t)}function t_(e,t){return(t_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function n_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i_(e,t,n){return t&&r_(e.prototype,t),n&&r_(e,n),e}function o_(e){return(o_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l_(e,t,n){return t&&s_(e.prototype,t),n&&s_(e,n),e}function u_(e,t){return!t||"object"!==o_(t)&&"function"!=typeof t?c_(e):t}function c_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f_(e,t,n){return(f_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=h_(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function h_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p_(e)););return e}function p_(e){return(p_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d_(e,t)}function d_(e,t){return(d_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b_(e,t,n){return t&&v_(e.prototype,t),n&&v_(e,n),e}function g_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function __(e,t,n){return t&&S_(e.prototype,t),n&&S_(e,n),e}function w_(e){return(w_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C_(e,t,n){return t&&x_(e.prototype,t),n&&x_(e,n),e}function T_(e,t){return!t||"object"!==w_(t)&&"function"!=typeof t?P_(e):t}function P_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E_(e,t,n){return(E_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=k_(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function k_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=M_(e)););return e}function M_(e){return(M_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L_(e,t)}function L_(e,t){return(L_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j_(e){return(j_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I_(e,t,n){return t&&N_(e.prototype,t),n&&N_(e,n),e}function D_(e,t){return!t||"object"!==j_(t)&&"function"!=typeof t?F_(e):t}function F_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B_(e,t,n){return(B_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=U_(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function U_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=G_(e)););return e}function G_(e){return(G_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V_(e,t)}function V_(e,t){return(V_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H_(e){return(H_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W_(e,t,n){return t&&q_(e.prototype,t),n&&q_(e,n),e}function Q_(e,t){return!t||"object"!==H_(t)&&"function"!=typeof t?Y_(e):t}function Y_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X_(e,t,n){return(X_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=K_(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function K_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Z_(e)););return e}function Z_(e){return(Z_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ew(e,t)}function ew(e,t){return(ew=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tw(e){return(tw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iw(e,t,n){return t&&rw(e.prototype,t),n&&rw(e,n),e}function ow(e,t){return!t||"object"!==tw(t)&&"function"!=typeof t?aw(e):t}function aw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sw(e,t,n){return(sw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=lw(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function lw(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=uw(e)););return e}function uw(e){return(uw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cw(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fw(e,t)}function fw(e,t){return(fw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hw(e){return(hw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dw(e,t,n){return t&&yw(e.prototype,t),n&&yw(e,n),e}function mw(e,t){return!t||"object"!==hw(t)&&"function"!=typeof t?vw(e):t}function vw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bw(e,t,n){return(bw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=gw(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function gw(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Sw(e)););return e}function Sw(e){return(Sw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ww(e,t)}function ww(e,t){return(ww=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ow(e){return(Ow="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tw(e,t,n){return t&&Cw(e.prototype,t),n&&Cw(e,n),e}function Pw(e,t){return!t||"object"!==Ow(t)&&"function"!=typeof t?Ew(e):t}function Ew(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kw(e,t,n){return(kw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Mw(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Mw(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Aw(e)););return e}function Aw(e){return(Aw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lw(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jw(e,t)}function jw(e,t){return(jw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rw(e){return(Rw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dw(e,t,n){return t&&Iw(e.prototype,t),n&&Iw(e,n),e}function Fw(e,t){return!t||"object"!==Rw(t)&&"function"!=typeof t?Bw(e):t}function Bw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uw(e,t,n){return(Uw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Gw(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Gw(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zw(e)););return e}function zw(e){return(zw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vw(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hw(e,t)}function Hw(e,t){return(Hw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ww(e,t,n){return t&&qw(e.prototype,t),n&&qw(e,n),e}function Qw(e){return(Qw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kw(e,t,n){return t&&Xw(e.prototype,t),n&&Xw(e,n),e}function Zw(e,t){return!t||"object"!==Qw(t)&&"function"!=typeof t?$w(e):t}function $w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eO(e,t,n){return(eO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=tO(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function tO(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nO(e)););return e}function nO(e){return(nO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rO(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iO(e,t)}function iO(e,t){return(iO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oO(e){return(oO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lO(e,t,n){return t&&sO(e.prototype,t),n&&sO(e,n),e}function uO(e,t){return!t||"object"!==oO(t)&&"function"!=typeof t?cO(e):t}function cO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fO(e,t,n){return(fO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=hO(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function hO(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pO(e)););return e}function pO(e){return(pO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yO(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dO(e,t)}function dO(e,t){return(dO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mO(e){return(mO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gO(e,t,n){return t&&bO(e.prototype,t),n&&bO(e,n),e}function SO(e,t){return!t||"object"!==mO(t)&&"function"!=typeof t?_O(e):t}function _O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wO(e,t,n){return(wO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=OO(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function OO(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xO(e)););return e}function xO(e){return(xO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CO(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TO(e,t)}function TO(e,t){return(TO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function PO(e){return(PO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function MO(e,t,n){return t&&kO(e.prototype,t),n&&kO(e,n),e}function AO(e,t){return!t||"object"!==PO(t)&&"function"!=typeof t?LO(e):t}function LO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jO(e,t,n){return(jO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=RO(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function RO(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=NO(e)););return e}function NO(e){return(NO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function IO(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DO(e,t)}function DO(e,t){return(DO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function FO(e){return(FO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GO(e,t,n){return t&&UO(e.prototype,t),n&&UO(e,n),e}function zO(e,t){return!t||"object"!==FO(t)&&"function"!=typeof t?VO(e):t}function VO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HO(e,t,n){return(HO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=JO(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function JO(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qO(e)););return e}function qO(e){return(qO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WO(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&QO(e,t)}function QO(e,t){return(QO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function YO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KO(e,t,n){return t&&XO(e.prototype,t),n&&XO(e,n),e}function ZO(e){return(ZO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ex(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tx(e,t,n){return t&&ex(e.prototype,t),n&&ex(e,n),e}function nx(e,t){return!t||"object"!==ZO(t)&&"function"!=typeof t?rx(e):t}function rx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ix(e,t,n){return(ix="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ox(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ox(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ax(e)););return e}function ax(e){return(ax=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lx(e,t)}function lx(e,t){return(lx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ux(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cx(e){return(cx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function px(e,t,n){return t&&hx(e.prototype,t),n&&hx(e,n),e}function yx(e,t){return!t||"object"!==cx(t)&&"function"!=typeof t?mx(e):t}function dx(e){return(dx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bx(e,t)}function bx(e,t){return(bx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gx(e){return(gx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wx(e,t,n){return t&&_x(e.prototype,t),n&&_x(e,n),e}function Ox(e,t){return!t||"object"!==gx(t)&&"function"!=typeof t?Cx(e):t}function xx(e){return(xx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Px(e,t)}function Px(e,t){return(Px=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ex(e){return(Ex="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ax(e,t,n){return t&&Mx(e.prototype,t),n&&Mx(e,n),e}function Lx(e,t){return!t||"object"!==Ex(t)&&"function"!=typeof t?Rx(e):t}function jx(e){return(jx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ix(e,t)}function Ix(e,t){return(Ix=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bx(e,t,n){return t&&Fx(e.prototype,t),n&&Fx(e,n),e}function Ux(e){return(Ux="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vx(e,t,n){return t&&zx(e.prototype,t),n&&zx(e,n),e}function Hx(e,t){return!t||"object"!==Ux(t)&&"function"!=typeof t?Jx(e):t}function Jx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qx(e,t,n){return(qx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Wx(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Wx(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Qx(e)););return e}function Qx(e){return(Qx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xx(e,t)}function Xx(e,t){return(Xx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $x(e,t,n){return t&&Zx(e.prototype,t),n&&Zx(e,n),e}function eC(e){return(eC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rC(e,t,n){return t&&nC(e.prototype,t),n&&nC(e,n),e}function iC(e,t){return!t||"object"!==eC(t)&&"function"!=typeof t?oC(e):t}function oC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aC(e,t,n){return(aC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=sC(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function sC(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=lC(e)););return e}function lC(e){return(lC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cC(e,t)}function cC(e,t){return(cC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pC(e,t,n){return t&&hC(e.prototype,t),n&&hC(e,n),e}function yC(e){return(yC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vC(e,t,n){return t&&mC(e.prototype,t),n&&mC(e,n),e}function bC(e,t){return!t||"object"!==yC(t)&&"function"!=typeof t?gC(e):t}function gC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SC(e,t,n){return(SC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_C(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _C(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wC(e)););return e}function wC(e){return(wC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function OC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xC(e,t)}function xC(e,t){return(xC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function CC(e){return(CC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EC(e,t,n){return t&&PC(e.prototype,t),n&&PC(e,n),e}function kC(e,t){return!t||"object"!==CC(t)&&"function"!=typeof t?MC(e):t}function MC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AC(e,t,n){return(AC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=LC(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function LC(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jC(e)););return e}function jC(e){return(jC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NC(e,t)}function NC(e,t){return(NC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function IC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function FC(e,t,n){return t&&DC(e.prototype,t),n&&DC(e,n),e}function BC(e){return(BC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zC(e,t,n){return t&&GC(e.prototype,t),n&&GC(e,n),e}function VC(e,t){return!t||"object"!==BC(t)&&"function"!=typeof t?HC(e):t}function HC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JC(e,t,n){return(JC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=qC(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function qC(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=WC(e)););return e}function WC(e){return(WC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function QC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&YC(e,t)}function YC(e,t){return(YC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function XC(e){return(XC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $C(e,t,n){return t&&ZC(e.prototype,t),n&&ZC(e,n),e}function eT(e,t){return!t||"object"!==XC(t)&&"function"!=typeof t?tT(e):t}function tT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nT(e,t,n){return(nT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=rT(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function rT(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=iT(e)););return e}function iT(e){return(iT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aT(e,t)}function aT(e,t){return(aT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sT(e){return(sT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cT(e,t,n){return t&&uT(e.prototype,t),n&&uT(e,n),e}function fT(e,t){return!t||"object"!==sT(t)&&"function"!=typeof t?hT(e):t}function hT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pT(e,t,n){return(pT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=yT(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function yT(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dT(e)););return e}function dT(e){return(dT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vT(e,t)}function vT(e,t){return(vT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bT(e){return(bT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ST(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _T(e,t,n){return t&&ST(e.prototype,t),n&&ST(e,n),e}function wT(e,t){return!t||"object"!==bT(t)&&"function"!=typeof t?OT(e):t}function OT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xT(e,t,n){return(xT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=CT(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function CT(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=TT(e)););return e}function TT(e){return(TT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ET(e,t)}function ET(e,t){return(ET=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kT(e){return(kT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LT(e,t,n){return t&&AT(e.prototype,t),n&&AT(e,n),e}function jT(e,t){return!t||"object"!==kT(t)&&"function"!=typeof t?RT(e):t}function RT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NT(e,t,n){return(NT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=IT(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function IT(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=DT(e)););return e}function DT(e){return(DT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BT(e,t)}function BT(e,t){return(BT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function UT(e){return(UT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VT(e,t,n){return t&&zT(e.prototype,t),n&&zT(e,n),e}function HT(e,t){return!t||"object"!==UT(t)&&"function"!=typeof t?JT(e):t}function JT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qT(e,t,n){return(qT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=WT(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function WT(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=QT(e)););return e}function QT(e){return(QT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function YT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&XT(e,t)}function XT(e,t){return(XT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function KT(e){return(KT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eP(e,t,n){return t&&$T(e.prototype,t),n&&$T(e,n),e}function tP(e,t){return!t||"object"!==KT(t)&&"function"!=typeof t?nP(e):t}function nP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rP(e,t,n){return(rP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=iP(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function iP(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oP(e)););return e}function oP(e){return(oP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sP(e,t)}function sP(e,t){return(sP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lP(e){return(lP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}
function fP(e,t,n){return t&&cP(e.prototype,t),n&&cP(e,n),e}function hP(e,t){return!t||"object"!==lP(t)&&"function"!=typeof t?pP(e):t}function pP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yP(e,t,n){return(yP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=dP(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function dP(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mP(e)););return e}function mP(e){return(mP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bP(e,t)}function bP(e,t){return(bP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gP(e){return(gP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wP(e,t,n){return t&&_P(e.prototype,t),n&&_P(e,n),e}function OP(e,t){return!t||"object"!==gP(t)&&"function"!=typeof t?xP(e):t}function xP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CP(e,t,n){return(CP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=TP(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function TP(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=PP(e)););return e}function PP(e){return(PP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function EP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kP(e,t)}function kP(e,t){return(kP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function MP(e){return(MP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jP(e,t,n){return t&&LP(e.prototype,t),n&&LP(e,n),e}function RP(e,t){return!t||"object"!==MP(t)&&"function"!=typeof t?NP(e):t}function NP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IP(e,t,n){return(IP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=DP(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function DP(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=FP(e)););return e}function FP(e){return(FP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UP(e,t)}function UP(e,t){return(UP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function GP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VP(e,t,n){return t&&zP(e.prototype,t),n&&zP(e,n),e}function HP(e){return(HP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function WP(e,t,n){return t&&qP(e.prototype,t),n&&qP(e,n),e}function QP(e,t){return!t||"object"!==HP(t)&&"function"!=typeof t?YP(e):t}function YP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XP(e,t,n){return(XP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=KP(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function KP(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ZP(e)););return e}function ZP(e){return(ZP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eE(e,t)}function eE(e,t){return(eE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rE(e,t,n){return t&&nE(e.prototype,t),n&&nE(e,n),e}function iE(e){return(iE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sE(e,t,n){return t&&aE(e.prototype,t),n&&aE(e,n),e}function lE(e,t){return!t||"object"!==iE(t)&&"function"!=typeof t?uE(e):t}function uE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cE(e,t,n){return(cE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=fE(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function fE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hE(e)););return e}function hE(e){return(hE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pE(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yE(e,t)}function yE(e,t){return(yE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vE(e,t,n){return t&&mE(e.prototype,t),n&&mE(e,n),e}function bE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SE(e,t,n){return t&&gE(e.prototype,t),n&&gE(e,n),e}function _E(e){return(_E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xE(e,t,n){return t&&OE(e.prototype,t),n&&OE(e,n),e}function CE(e,t){return!t||"object"!==_E(t)&&"function"!=typeof t?TE(e):t}function TE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PE(e,t,n){return(PE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=EE(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function EE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=kE(e)););return e}function kE(e){return(kE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ME(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&AE(e,t)}function AE(e,t){return(AE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function LE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RE(e,t,n){return t&&jE(e.prototype,t),n&&jE(e,n),e}function NE(e){return(NE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function FE(e,t,n){return t&&DE(e.prototype,t),n&&DE(e,n),e}function BE(e,t){return!t||"object"!==NE(t)&&"function"!=typeof t?UE(e):t}function UE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GE(e,t,n){return(GE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=zE(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function zE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=VE(e)););return e}function VE(e){return(VE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function HE(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&JE(e,t)}function JE(e,t){return(JE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function QE(e,t,n){return t&&WE(e.prototype,t),n&&WE(e,n),e}function YE(e){return(YE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZE(e,t,n){return t&&KE(e.prototype,t),n&&KE(e,n),e}function $E(e,t){return!t||"object"!==YE(t)&&"function"!=typeof t?ek(e):t}function ek(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tk(e,t,n){return(tk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=nk(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function nk(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=rk(e)););return e}function rk(e){return(rk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ik(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ok(e,t)}function ok(e,t){return(ok=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ak(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lk(e,t,n){return t&&sk(e.prototype,t),n&&sk(e,n),e}function uk(e){return(uk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hk(e,t,n){return t&&fk(e.prototype,t),n&&fk(e,n),e}function pk(e,t){return!t||"object"!==uk(t)&&"function"!=typeof t?yk(e):t}function yk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dk(e,t,n){return(dk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=mk(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function mk(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vk(e)););return e}function vk(e){return(vk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bk(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gk(e,t)}function gk(e,t){return(gk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wk(e,t,n){return t&&_k(e.prototype,t),n&&_k(e,n),e}function Ok(e){return(Ok="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ck(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tk(e,t,n){return t&&Ck(e.prototype,t),n&&Ck(e,n),e}function Pk(e,t){return!t||"object"!==Ok(t)&&"function"!=typeof t?Ek(e):t}function Ek(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kk(e,t,n){return(kk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Mk(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Mk(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ak(e)););return e}function Ak(e){return(Ak=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lk(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jk(e,t)}function jk(e,t){return(jk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ik(e,t,n){return t&&Nk(e.prototype,t),n&&Nk(e,n),e}function Dk(e){return(Dk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uk(e,t,n){return t&&Bk(e.prototype,t),n&&Bk(e,n),e}function Gk(e,t){return!t||"object"!==Dk(t)&&"function"!=typeof t?zk(e):t}function zk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vk(e,t,n){return(Vk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Hk(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Hk(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Jk(e)););return e}function Jk(e){return(Jk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qk(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wk(e,t)}function Wk(e,t){return(Wk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xk(e,t,n){return t&&Yk(e.prototype,t),n&&Yk(e,n),e}function Kk(e){return(Kk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eM(e,t,n){return t&&$k(e.prototype,t),n&&$k(e,n),e}function tM(e,t){return!t||"object"!==Kk(t)&&"function"!=typeof t?nM(e):t}function nM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rM(e,t,n){return(rM="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=iM(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function iM(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oM(e)););return e}function oM(e){return(oM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aM(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sM(e,t)}function sM(e,t){return(sM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cM(e,t,n){return t&&uM(e.prototype,t),n&&uM(e,n),e}function fM(e){return(fM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yM(e,t,n){return t&&pM(e.prototype,t),n&&pM(e,n),e}function dM(e,t){return!t||"object"!==fM(t)&&"function"!=typeof t?mM(e):t}function mM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vM(e,t,n){return(vM="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=bM(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function bM(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gM(e)););return e}function gM(e){return(gM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SM(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_M(e,t)}function _M(e,t){return(_M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xM(e,t,n){return t&&OM(e.prototype,t),n&&OM(e,n),e}function CM(e){return(CM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EM(e,t,n){return t&&PM(e.prototype,t),n&&PM(e,n),e}function kM(e,t){return!t||"object"!==CM(t)&&"function"!=typeof t?MM(e):t}function MM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AM(e,t,n){return(AM="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=LM(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function LM(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jM(e)););return e}function jM(e){return(jM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RM(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NM(e,t)}function NM(e,t){return(NM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function IM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function FM(e,t,n){return t&&DM(e.prototype,t),n&&DM(e,n),e}function BM(e){return(BM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zM(e,t,n){return t&&GM(e.prototype,t),n&&GM(e,n),e}function VM(e,t){return!t||"object"!==BM(t)&&"function"!=typeof t?HM(e):t}function HM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JM(e,t,n){return(JM="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=qM(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function qM(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=WM(e)););return e}function WM(e){return(WM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function QM(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&YM(e,t)}function YM(e,t){return(YM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function XM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZM(e,t,n){return t&&KM(e.prototype,t),n&&KM(e,n),e}function $M(e){return($M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nA(e,t,n){return t&&tA(e.prototype,t),n&&tA(e,n),e}function rA(e,t){return!t||"object"!==$M(t)&&"function"!=typeof t?iA(e):t}function iA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oA(e,t,n){return(oA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=aA(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function aA(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=sA(e)););return e}function sA(e){return(sA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uA(e,t)}function uA(e,t){return(uA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hA(e,t,n){return t&&fA(e.prototype,t),n&&fA(e,n),e}function pA(e){return(pA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mA(e,t,n){return t&&dA(e.prototype,t),n&&dA(e,n),e}function vA(e,t){return!t||"object"!==pA(t)&&"function"!=typeof t?bA(e):t}function bA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gA(e,t,n){return(gA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=SA(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function SA(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_A(e)););return e}function _A(e){return(_A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OA(e,t)}function OA(e,t){return(OA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TA(e,t,n){return t&&CA(e.prototype,t),n&&CA(e,n),e}function PA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kA(e,t,n){return t&&EA(e.prototype,t),n&&EA(e,n),e}function MA(e){return(MA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jA(e,t,n){return t&&LA(e.prototype,t),n&&LA(e,n),e}function RA(e,t){return!t||"object"!==MA(t)&&"function"!=typeof t?NA(e):t}function NA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IA(e,t,n){return(IA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=DA(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function DA(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=FA(e)););return e}function FA(e){return(FA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,writable:!0,configurable:!0}}),t&&UA(e,t)}function UA(e,t){return(UA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function GA(e){return(GA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HA(e,t,n){return t&&VA(e.prototype,t),n&&VA(e,n),e}function JA(e,t){return!t||"object"!==GA(t)&&"function"!=typeof t?qA(e):t}function qA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WA(e,t,n){return(WA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=QA(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function QA(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=YA(e)););return e}function YA(e){return(YA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function XA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&KA(e,t)}function KA(e,t){return(KA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ZA(e){return(ZA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tL(e,t,n){return t&&eL(e.prototype,t),n&&eL(e,n),e}function nL(e,t){return!t||"object"!==ZA(t)&&"function"!=typeof t?rL(e):t}function rL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iL(e,t,n){return(iL="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=oL(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function oL(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=aL(e)););return e}function aL(e){return(aL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lL(e,t)}function lL(e,t){return(lL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uL(e){return(uL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hL(e,t,n){return t&&fL(e.prototype,t),n&&fL(e,n),e}function pL(e,t){return!t||"object"!==uL(t)&&"function"!=typeof t?yL(e):t}function yL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dL(e,t,n){return(dL="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=mL(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function mL(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vL(e)););return e}function vL(e){return(vL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gL(e,t)}function gL(e,t){return(gL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function SL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wL(e,t,n){return t&&_L(e.prototype,t),n&&_L(e,n),e}function OL(e){return(OL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TL(e,t,n){return t&&CL(e.prototype,t),n&&CL(e,n),e}function PL(e,t){return!t||"object"!==OL(t)&&"function"!=typeof t?EL(e):t}function EL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kL(e,t,n){return(kL="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ML(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ML(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=AL(e)););return e}function AL(e){return(AL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function LL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jL(e,t)}function jL(e,t){return(jL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function RL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IL(e,t,n){return t&&NL(e.prototype,t),n&&NL(e,n),e}function DL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BL(e,t,n){return t&&FL(e.prototype,t),n&&FL(e,n),e}function UL(e){return(UL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VL(e,t,n){return t&&zL(e.prototype,t),n&&zL(e,n),e}function HL(e,t){return!t||"object"!==UL(t)&&"function"!=typeof t?JL(e):t}function JL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qL(e,t,n){return(qL="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=WL(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function WL(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=QL(e)););return e}function QL(e){return(QL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function YL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&XL(e,t)}function XL(e,t){return(XL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function KL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $L(e,t,n){return t&&ZL(e.prototype,t),n&&ZL(e,n),e}function ej(e){return(ej="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rj(e,t,n){return t&&nj(e.prototype,t),n&&nj(e,n),e}function ij(e,t){return!t||"object"!==ej(t)&&"function"!=typeof t?oj(e):t}function oj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aj(e,t,n){return(aj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=sj(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function sj(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=lj(e)););return e}function lj(e){return(lj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uj(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cj(e,t)}function cj(e,t){return(cj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pj(e,t,n){return t&&hj(e.prototype,t),n&&hj(e,n),e}function yj(e){return(yj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vj(e,t,n){return t&&mj(e.prototype,t),n&&mj(e,n),e}function bj(e,t){return!t||"object"!==yj(t)&&"function"!=typeof t?gj(e):t}function gj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sj(e,t,n){return(Sj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_j(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _j(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wj(e)););return e}function wj(e){return(wj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oj(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xj(e,t)}function xj(e,t){return(xj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pj(e,t,n){return t&&Tj(e.prototype,t),n&&Tj(e,n),e}function Ej(e){return(Ej="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Aj(e,t,n){return t&&Mj(e.prototype,t),n&&Mj(e,n),e}function Lj(e,t){return!t||"object"!==Ej(t)&&"function"!=typeof t?jj(e):t}function jj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rj(e,t,n){return(Rj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Nj(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Nj(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ij(e)););return e}function Ij(e){return(Ij=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dj(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fj(e,t)}function Fj(e,t){return(Fj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gj(e,t,n){return t&&Uj(e.prototype,t),n&&Uj(e,n),e}function zj(e){return(zj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jj(e,t,n){return t&&Hj(e.prototype,t),n&&Hj(e,n),e}function qj(e,t){return!t||"object"!==zj(t)&&"function"!=typeof t?Wj(e):t}function Wj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qj(e,t,n){return(Qj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Yj(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Yj(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xj(e)););return e}function Xj(e){return(Xj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kj(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zj(e,t)}function Zj(e,t){return(Zj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tR(e,t,n){return t&&eR(e.prototype,t),n&&eR(e,n),e}function nR(e){return(nR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oR(e,t,n){return t&&iR(e.prototype,t),n&&iR(e,n),e}function aR(e,t){return!t||"object"!==nR(t)&&"function"!=typeof t?sR(e):t}function sR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lR(e,t,n){return(lR="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=uR(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function uR(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=cR(e)););return e}function cR(e){return(cR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hR(e,t)}function hR(e,t){return(hR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pR(e){return(pR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mR(e,t,n){return t&&dR(e.prototype,t),n&&dR(e,n),e}function vR(e,t){return!t||"object"!==pR(t)&&"function"!=typeof t?bR(e):t}function bR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gR(e,t,n){return(gR="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=SR(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function SR(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_R(e)););return e}function _R(e){return(_R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OR(e,t)}function OR(e,t){return(OR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TR(e,t,n){return t&&CR(e.prototype,t),n&&CR(e,n),e}function PR(e){return(PR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ER(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function MR(e,t,n){return t&&kR(e.prototype,t),n&&kR(e,n),e}function AR(e,t){return!t||"object"!==PR(t)&&"function"!=typeof t?jR(e):t}function LR(e){return(LR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NR(e,t)}function NR(e,t){return(NR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function IR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function FR(e,t,n){return t&&DR(e.prototype,t),n&&DR(e,n),e}function BR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GR(e,t,n){return t&&UR(e.prototype,t),n&&UR(e,n),e}/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function zR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HR(e,t,n){return t&&VR(e.prototype,t),n&&VR(e,n),e}function JR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function QR(e,t,n){return t&&WR(e.prototype,t),n&&WR(e,n),e}function YR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KR(e,t,n){return t&&XR(e.prototype,t),n&&XR(e,n),e}/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function ZR(e){return(ZR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tN(e,t,n){return t&&eN(e.prototype,t),n&&eN(e,n),e}function nN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iN(e,t,n){return t&&rN(e.prototype,t),n&&rN(e,n),e}function oN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sN(e,t,n){return t&&aN(e.prototype,t),n&&aN(e,n),e}function lN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cN(e,t,n){return t&&uN(e.prototype,t),n&&uN(e,n),e}function fN(e){return(fN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yN(e,t,n){return t&&pN(e.prototype,t),n&&pN(e,n),e}function dN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function mN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bN(e,t,n){return t&&vN(e.prototype,t),n&&vN(e,n),e}function gN(e){return(gN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wN(e,t,n){return t&&_N(e.prototype,t),n&&_N(e,n),e}function ON(e,t){return!t||"object"!==gN(t)&&"function"!=typeof t?xN(e):t}function xN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CN(e,t,n){return(CN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=TN(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function TN(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=PN(e)););return e}function PN(e){return(PN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function EN(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kN(e,t)}function kN(e,t){return(kN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function MN(e){return(MN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jN(e,t,n){return t&&LN(e.prototype,t),n&&LN(e,n),e}function RN(e,t){return!t||"object"!==MN(t)&&"function"!=typeof t?NN(e):t}function NN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IN(e,t,n){return(IN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=DN(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function DN(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=FN(e)););return e}function FN(e){return(FN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BN(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UN(e,t)}function UN(e,t){return(UN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function GN(e){return(GN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HN(e,t,n){return t&&VN(e.prototype,t),n&&VN(e,n),e}function JN(e,t){return!t||"object"!==GN(t)&&"function"!=typeof t?qN(e):t}function qN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WN(e,t,n){return(WN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=QN(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function QN(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=YN(e)););return e}function YN(e){return(YN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function XN(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&KN(e,t)}function KN(e,t){return(KN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ZN(e){return(ZN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tI(e,t,n){return t&&eI(e.prototype,t),n&&eI(e,n),e}function nI(e,t){return!t||"object"!==ZN(t)&&"function"!=typeof t?rI(e):t}function rI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iI(e,t,n){return(iI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=oI(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function oI(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=aI(e)););return e}function aI(e){return(aI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sI(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lI(e,t)}function lI(e,t){return(lI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uI(e){return(uI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hI(e,t,n){return t&&fI(e.prototype,t),n&&fI(e,n),e}function pI(e,t){return!t||"object"!==uI(t)&&"function"!=typeof t?yI(e):t}function yI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dI(e,t,n){return(dI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=mI(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function mI(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vI(e)););return e}function vI(e){return(vI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bI(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gI(e,t)}function gI(e,t){return(gI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function SI(e){return(SI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OI(e,t,n){return t&&wI(e.prototype,t),n&&wI(e,n),e}function xI(e,t){return!t||"object"!==SI(t)&&"function"!=typeof t?CI(e):t}function CI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TI(e,t,n){return(TI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=PI(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function PI(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=EI(e)););return e}function EI(e){return(EI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kI(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MI(e,t)}function MI(e,t){return(MI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function AI(e){return(AI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RI(e,t,n){return t&&jI(e.prototype,t),n&&jI(e,n),e}function NI(e,t){return!t||"object"!==AI(t)&&"function"!=typeof t?II(e):t}function II(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DI(e,t,n){return(DI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=FI(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function FI(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=BI(e)););return e}function BI(e){return(BI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function UI(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GI(e,t)}function GI(e,t){return(GI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zI(e){return(zI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function JI(e,t,n){return t&&HI(e.prototype,t),n&&HI(e,n),e}function qI(e,t){return!t||"object"!==zI(t)&&"function"!=typeof t?WI(e):t}function WI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QI(e,t,n){return(QI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=YI(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function YI(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=XI(e)););return e}function XI(e){return(XI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function KI(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZI(e,t)}function ZI(e,t){return(ZI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tD(e,t,n){return t&&eD(e.prototype,t),n&&eD(e,n),e}function nD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iD(e,t,n){return t&&rD(e.prototype,t),n&&rD(e,n),e}function oD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sD(e,t,n){return t&&aD(e.prototype,t),n&&aD(e,n),e}function lD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cD(e,t,n){return t&&uD(e.prototype,t),n&&uD(e,n),e}function fD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pD(e,t,n){return t&&hD(e.prototype,t),n&&hD(e,n),e}function yD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mD(e,t,n){return t&&dD(e.prototype,t),n&&dD(e,n),e}function vD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gD(e,t,n){return t&&bD(e.prototype,t),n&&bD(e,n),e}function SD(e){return(SD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OD(e,t,n){return t&&wD(e.prototype,t),n&&wD(e,n),e}function xD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PD(e,t,n){return t&&TD(e.prototype,t),n&&TD(e,n),e}function ED(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function MD(e,t,n){return t&&kD(e.prototype,t),n&&kD(e,n),e}function AD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jD(e,t,n){return t&&LD(e.prototype,t),n&&LD(e,n),e}function RD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ND(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ID(e,t,n){return t&&ND(e.prototype,t),n&&ND(e,n),e}function DD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BD(e,t,n){return t&&FD(e.prototype,t),n&&FD(e,n),e}function UD(e){return(UD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VD(e,t,n){return t&&zD(e.prototype,t),n&&zD(e,n),e}function HD(e,t){return!t||"object"!==UD(t)&&"function"!=typeof t?JD(e):t}function JD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qD(e,t,n){return(qD="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=WD(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function WD(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=QD(e)););return e}function QD(e){return(QD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function YD(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&XD(e,t)}function XD(e,t){return(XD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function KD(e){return(KD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eF(e,t,n){return t&&$D(e.prototype,t),n&&$D(e,n),e}function tF(e,t){return!t||"object"!==KD(t)&&"function"!=typeof t?nF(e):t}function nF(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rF(e,t,n){return(rF="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=iF(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function iF(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oF(e)););return e}function oF(e){return(oF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aF(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sF(e,t)}function sF(e,t){return(sF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lF(e){return(lF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fF(e,t,n){return t&&cF(e.prototype,t),n&&cF(e,n),e}function hF(e,t){return!t||"object"!==lF(t)&&"function"!=typeof t?pF(e):t}function pF(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yF(e,t,n){return(yF="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=dF(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function dF(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mF(e)););return e}function mF(e){return(mF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vF(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bF(e,t)}function bF(e,t){return(bF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gF(e){return(gF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wF(e,t,n){return t&&_F(e.prototype,t),n&&_F(e,n),e}function OF(e,t){return!t||"object"!==gF(t)&&"function"!=typeof t?xF(e):t}function xF(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CF(e,t,n){return(CF="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=TF(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function TF(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=PF(e)););return e}function PF(e){return(PF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function EF(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kF(e,t)}function kF(e,t){return(kF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function MF(e){return(MF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jF(e,t,n){return t&&LF(e.prototype,t),n&&LF(e,n),e}function RF(e,t){return!t||"object"!==MF(t)&&"function"!=typeof t?NF(e):t}function NF(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IF(e,t,n){return(IF="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=DF(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function DF(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=FF(e)););return e}function FF(e){return(FF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BF(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UF(e,t)}function UF(e,t){return(UF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function GF(e){return(GF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HF(e,t,n){return t&&VF(e.prototype,t),n&&VF(e,n),e}function JF(e,t){return!t||"object"!==GF(t)&&"function"!=typeof t?qF(e):t}function qF(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WF(e,t,n){return(WF="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=QF(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function QF(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=YF(e)););return e}function YF(e){return(YF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function XF(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&KF(e,t)}function KF(e,t){return(KF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ZF(e){return(ZF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tB(e,t,n){return t&&eB(e.prototype,t),n&&eB(e,n),e}function nB(e,t){return!t||"object"!==ZF(t)&&"function"!=typeof t?rB(e):t}function rB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iB(e,t,n){return(iB="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=oB(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function oB(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=aB(e)););return e}function aB(e){return(aB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sB(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lB(e,t)}function lB(e,t){return(lB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uB(e){return(uB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hB(e,t,n){return t&&fB(e.prototype,t),n&&fB(e,n),e}function pB(e,t){return!t||"object"!==uB(t)&&"function"!=typeof t?yB(e):t}function yB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dB(e,t,n){return(dB="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=mB(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function mB(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vB(e)););return e}function vB(e){return(vB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bB(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gB(e,t)}function gB(e,t){return(gB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function SB(e){return(SB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OB(e,t,n){return t&&wB(e.prototype,t),n&&wB(e,n),e}function xB(e,t){return!t||"object"!==SB(t)&&"function"!=typeof t?CB(e):t}function CB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TB(e,t,n){return(TB="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=PB(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function PB(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=EB(e)););return e}function EB(e){return(EB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kB(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MB(e,t)}function MB(e,t){return(MB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function AB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jB(e,t,n){return t&&LB(e.prototype,t),n&&LB(e,n),e}function RB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IB(e,t,n){return t&&NB(e.prototype,t),n&&NB(e,n),e}function DB(e){return(DB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UB(e,t,n){return t&&BB(e.prototype,t),n&&BB(e,n),e}function GB(e,t){return!t||"object"!==DB(t)&&"function"!=typeof t?zB(e):t}function zB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VB(e,t,n){return(VB="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=HB(e,t);if(r){
var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function HB(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=JB(e)););return e}function JB(e){return(JB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qB(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WB(e,t)}function WB(e,t){return(WB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function QB(e){return(QB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KB(e,t,n){return t&&XB(e.prototype,t),n&&XB(e,n),e}function ZB(e,t){return!t||"object"!==QB(t)&&"function"!=typeof t?$B(e):t}function $B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eU(e,t,n){return(eU="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=tU(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function tU(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nU(e)););return e}function nU(e){return(nU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rU(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iU(e,t)}function iU(e,t){return(iU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oU(e){return(oU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lU(e,t,n){return t&&sU(e.prototype,t),n&&sU(e,n),e}function uU(e,t){return!t||"object"!==oU(t)&&"function"!=typeof t?cU(e):t}function cU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fU(e,t,n){return(fU="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=hU(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function hU(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pU(e)););return e}function pU(e){return(pU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yU(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dU(e,t)}function dU(e,t){return(dU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mU(e){return(mU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gU(e,t,n){return t&&bU(e.prototype,t),n&&bU(e,n),e}function SU(e,t){return!t||"object"!==mU(t)&&"function"!=typeof t?_U(e):t}function _U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wU(e,t,n){return(wU="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=OU(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function OU(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xU(e)););return e}function xU(e){return(xU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CU(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TU(e,t)}function TU(e,t){return(TU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function PU(e){return(PU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function MU(e,t,n){return t&&kU(e.prototype,t),n&&kU(e,n),e}function AU(e,t){return!t||"object"!==PU(t)&&"function"!=typeof t?LU(e):t}function LU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jU(e,t,n){return(jU="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=RU(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function RU(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=NU(e)););return e}function NU(e){return(NU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function IU(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DU(e,t)}function DU(e,t){return(DU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function FU(e){return(FU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GU(e,t,n){return t&&UU(e.prototype,t),n&&UU(e,n),e}function zU(e,t){return!t||"object"!==FU(t)&&"function"!=typeof t?VU(e):t}function VU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HU(e,t,n){return(HU="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=JU(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function JU(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qU(e)););return e}function qU(e){return(qU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WU(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&QU(e,t)}function QU(e,t){return(QU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function YU(e){return(YU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZU(e,t,n){return t&&KU(e.prototype,t),n&&KU(e,n),e}function $U(e,t){return!t||"object"!==YU(t)&&"function"!=typeof t?eG(e):t}function eG(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tG(e,t,n){return(tG="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=nG(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function nG(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=rG(e)););return e}function rG(e){return(rG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function iG(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oG(e,t)}function oG(e,t){return(oG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function aG(e){return(aG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uG(e,t,n){return t&&lG(e.prototype,t),n&&lG(e,n),e}function cG(e,t){return!t||"object"!==aG(t)&&"function"!=typeof t?fG(e):t}function fG(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hG(e,t,n){return(hG="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=pG(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function pG(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yG(e)););return e}function yG(e){return(yG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dG(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mG(e,t)}function mG(e,t){return(mG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vG(e){return(vG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SG(e,t,n){return t&&gG(e.prototype,t),n&&gG(e,n),e}function _G(e,t){return!t||"object"!==vG(t)&&"function"!=typeof t?wG(e):t}function wG(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OG(e,t,n){return(OG="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=xG(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function xG(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=CG(e)););return e}function CG(e){return(CG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TG(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PG(e,t)}function PG(e,t){return(PG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function EG(e){return(EG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AG(e,t,n){return t&&MG(e.prototype,t),n&&MG(e,n),e}function LG(e,t){return!t||"object"!==EG(t)&&"function"!=typeof t?jG(e):t}function jG(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RG(e,t,n){return(RG="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=NG(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function NG(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=IG(e)););return e}function IG(e){return(IG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DG(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FG(e,t)}function FG(e,t){return(FG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function BG(e){return(BG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zG(e,t,n){return t&&GG(e.prototype,t),n&&GG(e,n),e}function VG(e,t){return!t||"object"!==BG(t)&&"function"!=typeof t?HG(e):t}function HG(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JG(e,t,n){return(JG="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=qG(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function qG(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=WG(e)););return e}function WG(e){return(WG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function QG(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&YG(e,t)}function YG(e,t){return(YG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function XG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZG(e,t,n){return t&&KG(e.prototype,t),n&&KG(e,n),e}function $G(e){return($G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ez(e,t){return!t||"object"!==$G(t)&&"function"!=typeof t?tz(e):t}function tz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nz(e){return(nz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rz(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iz(e,t)}function iz(e,t){return(iz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function az(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sz(e,t,n){return t&&az(e.prototype,t),n&&az(e,n),e}function lz(e){return(lz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fz(e,t,n){return t&&cz(e.prototype,t),n&&cz(e,n),e}function hz(e,t){return!t||"object"!==lz(t)&&"function"!=typeof t?yz(e):t}function pz(e){return(pz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dz(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mz(e,t)}function mz(e,t){return(mz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gz(e,t,n){return t&&bz(e.prototype,t),n&&bz(e,n),e}function Sz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wz(e,t,n){return t&&_z(e.prototype,t),n&&_z(e,n),e}function Oz(e){return(Oz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tz(e,t,n){return t&&Cz(e.prototype,t),n&&Cz(e,n),e}function Pz(e,t){return!t||"object"!==Oz(t)&&"function"!=typeof t?kz(e):t}function Ez(e){return(Ez=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mz(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Az(e,t)}function Az(e,t){return(Az=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rz(e,t,n){return t&&jz(e.prototype,t),n&&jz(e,n),e}function Nz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dz(e,t,n){return t&&Iz(e.prototype,t),n&&Iz(e,n),e}function Fz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uz(e,t,n){return t&&Bz(e.prototype,t),n&&Bz(e,n),e}function Gz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vz(e,t,n){return t&&zz(e.prototype,t),n&&zz(e,n),e}function Hz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qz(e,t,n){return t&&Jz(e.prototype,t),n&&Jz(e,n),e}function Wz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yz(e,t,n){return t&&Qz(e.prototype,t),n&&Qz(e,n),e}function Xz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zz(e,t,n){return t&&Kz(e.prototype,t),n&&Kz(e,n),e}function $z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tV(e,t,n){return t&&eV(e.prototype,t),n&&eV(e,n),e}function nV(e){return(nV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oV(e,t,n){return t&&iV(e.prototype,t),n&&iV(e,n),e}function aV(e,t){return!t||"object"!==nV(t)&&"function"!=typeof t?sV(e):t}function sV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lV(e){return(lV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uV(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cV(e,t)}function cV(e,t){return(cV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fV(e){return(fV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yV(e,t,n){return t&&pV(e.prototype,t),n&&pV(e,n),e}function dV(e,t){return!t||"object"!==fV(t)&&"function"!=typeof t?mV(e):t}function mV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vV(e){return(vV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bV(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gV(e,t)}function gV(e,t){return(gV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function SV(e){return(SV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OV(e,t,n){return t&&wV(e.prototype,t),n&&wV(e,n),e}function xV(e,t){return!t||"object"!==SV(t)&&"function"!=typeof t?CV(e):t}function CV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TV(e){return(TV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PV(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EV(e,t)}function EV(e,t){return(EV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kV(e){return(kV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LV(e,t,n){return t&&AV(e.prototype,t),n&&AV(e,n),e}function jV(e,t){return!t||"object"!==kV(t)&&"function"!=typeof t?RV(e):t}function RV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NV(e){return(NV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function IV(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DV(e,t)}function DV(e,t){return(DV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function FV(e){return(FV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GV(e,t,n){return t&&UV(e.prototype,t),n&&UV(e,n),e}function zV(e,t){return!t||"object"!==FV(t)&&"function"!=typeof t?VV(e):t}function VV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HV(e){return(HV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function JV(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qV(e,t)}function qV(e,t){return(qV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function WV(e){return(WV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XV(e,t,n){return t&&YV(e.prototype,t),n&&YV(e,n),e}function KV(e,t){return!t||"object"!==WV(t)&&"function"!=typeof t?ZV(e):t}function ZV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $V(e){return($V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eH(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tH(e,t)}function tH(e,t){return(tH=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nH(e){return(nH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oH(e,t,n){return t&&iH(e.prototype,t),n&&iH(e,n),e}function aH(e,t){return!t||"object"!==nH(t)&&"function"!=typeof t?sH(e):t}function sH(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lH(e){return(lH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uH(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cH(e,t)}function cH(e,t){return(cH=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fH(e){return(fH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yH(e,t,n){return t&&pH(e.prototype,t),n&&pH(e,n),e}function dH(e,t){return!t||"object"!==fH(t)&&"function"!=typeof t?mH(e):t}function mH(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vH(e){return(vH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bH(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gH(e,t)}function gH(e,t){return(gH=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function SH(e){return(SH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OH(e,t,n){return t&&wH(e.prototype,t),n&&wH(e,n),e}function xH(e,t){return!t||"object"!==SH(t)&&"function"!=typeof t?CH(e):t}function CH(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TH(e){return(TH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PH(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EH(e,t)}function EH(e,t){return(EH=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kH(e,t){if(e[t])return e[t];for(var n,r=Object.keys(e),i=t.toLowerCase().replace(o3,""),o=-1;++o<r.length;)if(n=r[o],n.toLowerCase().replace(o3,"")===i)return e[n]}function MH(e){if("string"!=typeof e)throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=l3}function AH(e){return new MH(e).output()}function LH(e,t,n){Array.isArray(t)&&(n.unshift(t),t=null);var r=t?{}:e,i=n.reduce(function(e,t){return jH(t,e),e},r);t&&(e[t]=i)}function jH(e,t){if(!Array.isArray(e))return void(t[e]=!0);var n=e.shift();if("PARAMETER"===n&&(n=e.shift()),1===e.length)return Array.isArray(e[0])?(t[n]={},void jH(e[0],t[n])):void(t[n]=e[0]);if(!e.length)return void(t[n]=!0);if("TOWGS84"===n)return void(t[n]=e);Array.isArray(n)||(t[n]={});var r;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return t[n]={name:e[0].toLowerCase(),convert:e[1]},void(3===e.length&&jH(e[2],t[n]));case"SPHEROID":case"ELLIPSOID":return t[n]={name:e[0],a:e[1],rf:e[2]},void(4===e.length&&jH(e[3],t[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return e[0]=["name",e[0]],void LH(t,n,e);default:for(r=-1;++r<e.length;)if(!Array.isArray(e[r]))return jH(e,t[n]);return LH(t,n,e)}}function RH(e){return(RH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NH(e,t){var n=t[0],r=t[1];!(n in e)&&r in e&&(e[n]=e[r],3===t.length&&(e[n]=t[2](e[n])))}function IH(e){return e*y3}function DH(e){function t(t){return t*(e.to_meter||1)}"GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):"object"===RH(e.PROJECTION)?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&("GEOGCS"===e.type?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var n=e.GEOGCS;"GEOGCS"===e.type&&(n=e),n&&(n.DATUM?e.datumCode=n.DATUM.name.toLowerCase():e.datumCode=n.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==e.datumCode&&"new_zealand_1949"!==e.datumCode||(e.datumCode="nzgd49"),"wgs_1984"===e.datumCode&&("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"_ferro"===e.datumCode.slice(-6)&&(e.datumCode=e.datumCode.slice(0,-6)),"_jakarta"===e.datumCode.slice(-8)&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),n.DATUM&&n.DATUM.SPHEROID&&(e.ellps=n.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=n.DATUM.SPHEROID.a,e.rf=parseFloat(n.DATUM.SPHEROID.rf,10)),n.DATUM&&n.DATUM.TOWGS84&&(e.datum_params=n.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),"ch1903+"===e.datumCode&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",IH],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",IH],["x0","false_easting",t],["y0","false_northing",t],["long0","central_meridian",IH],["lat0","latitude_of_origin",IH],["lat0","standard_parallel_1",IH],["lat1","standard_parallel_1",IH],["lat2","standard_parallel_2",IH],["azimuth","Azimuth"],["alpha","azimuth",IH],["srsCode","name"]].forEach(function(t){return NH(e,t)}),e.long0||!e.longc||"Albers_Conic_Equal_Area"!==e.projName&&"Lambert_Azimuthal_Equal_Area"!==e.projName||(e.long0=e.longc),e.lat_ts||!e.lat1||"Stereographic_South_Pole"!==e.projName&&"Polar Stereographic (variant B)"!==e.projName||(e.lat0=IH(e.lat1>0?90:-90),e.lat_ts=e.lat1)}function FH(e){var t=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?FH[e]=a3(arguments[1]):FH[e]=d3(arguments[1]):FH[e]=n}else if(1===arguments.length){if(Array.isArray(e))return e.map(function(e){Array.isArray(e)?FH.apply(t,e):FH(e)});if("string"==typeof e){if(e in FH)return FH[e]}else"EPSG"in e?FH["EPSG:"+e.EPSG]=e:"ESRI"in e?FH["ESRI:"+e.ESRI]=e:"IAU2000"in e?FH["IAU2000:"+e.IAU2000]=e:console.log(e);return}}function BH(e){return"string"==typeof e}function UH(e){return e in m3}function GH(e){return v3.some(function(t){return e.indexOf(t)>-1})}function zH(e){var t=kH(e,"authority");if(t){var n=kH(t,"epsg");return n&&b3.indexOf(n)>-1}}function VH(e){var t=kH(e,"extension");if(t)return kH(t,"proj4")}function HH(e){return"+"===e[0]}function JH(e){if(!BH(e))return e;if(UH(e))return m3[e];if(GH(e)){var t=d3(e);if(zH(t))return m3["EPSG:3857"];var n=VH(t);return n?a3(n):t}return HH(e)?a3(e):void 0}function qH(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=_3(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function WH(e){var t=e.x,n=e.y;if(n*$2>90&&n*$2<-90&&t*$2>180&&t*$2<-180)return null;var r,i;if(Math.abs(Math.abs(n)-W2)<=K2)return null;if(this.sphere)r=this.x0+this.a*this.k0*O3(t-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(e3+.5*n));else{var o=Math.sin(n),a=x3(this.e,n,o);r=this.x0+this.a*this.k0*O3(t-this.long0),i=this.y0-this.a*this.k0*Math.log(a)}return e.x=r,e.y=i,e}function QH(e){var t,n,r=e.x-this.x0,i=e.y-this.y0;if(this.sphere)n=W2-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var o=Math.exp(-i/(this.a*this.k0));if(-9999===(n=C3(this.e,o)))return null}return t=O3(this.long0+r/(this.a*this.k0)),e.x=t,e.y=n,e}function YH(){}function XH(e){return e}function KH(e,t){var n=L3.length;return e.names?(L3[n]=e,e.names.forEach(function(e){A3[e.toLowerCase()]=n}),this):(console.log(t),!0)}function ZH(e){if(!e)return!1;var t=e.toLowerCase();return void 0!==A3[t]&&L3[A3[t]]?L3[A3[t]]:void 0}function $H(){M3.forEach(KH)}function eJ(e,t,n,r){var i=e*e,o=t*t,a=(i-o)/i,s=0;return r?(e*=1-a*(Q2+a*(Y2+a*X2)),i=e*e,a=0):s=Math.sqrt(a),{es:a,e:s,ep2:(i-o)/o}}function tJ(e,t,n,r,i){if(!e){var o=kH(R3,r);o||(o=N3),e=o.a,t=o.b,n=o.rf}return n&&!t&&(t=(1-1/n)*e),(0===n||Math.abs(e-t)<K2)&&(i=!0,t=e),{a:e,b:t,rf:n,sphere:i}}function nJ(e,t,n,r,i,o){var a={};return a.datum_type=void 0===e||"none"===e?J2:H2,t&&(a.datum_params=t.map(parseFloat),0===a.datum_params[0]&&0===a.datum_params[1]&&0===a.datum_params[2]||(a.datum_type=z2),a.datum_params.length>3&&(0===a.datum_params[3]&&0===a.datum_params[4]&&0===a.datum_params[5]&&0===a.datum_params[6]||(a.datum_type=V2,a.datum_params[3]*=q2,a.datum_params[4]*=q2,a.datum_params[5]*=q2,a.datum_params[6]=a.datum_params[6]/1e6+1))),a.a=n,a.b=r,a.es=i,a.ep2=o,a}function rJ(e){return(rJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iJ(e,t){if(!(this instanceof iJ))return new iJ(e);t=t||function(e){if(e)throw e};var n=g3(e);if("object"!==rJ(n))return void t(e);var r=iJ.projections.get(n.projName);if(!r)return void t(e);if(n.datumCode&&"none"!==n.datumCode){var i=kH(I3,n.datumCode);i&&(n.datum_params=i.towgs84?i.towgs84.split(","):null,n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var o=tJ(n.a,n.b,n.rf,n.ellps,n.sphere),a=eJ(o.a,o.b,o.rf,n.R_A),s=n.datum||D3(n.datumCode,n.datum_params,o.a,o.b,a.es,a.ep2);S3(this,n),S3(this,r),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=a.es,this.e=a.e,this.ep2=a.ep2,this.datum=s,this.init(),t(null,this)}function oJ(e,t){return e.datum_type===t.datum_type&&(!(e.a!==t.a||Math.abs(e.es-t.es)>5e-11)&&(e.datum_type===z2?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type!==V2||e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6]))}function aJ(e,t,n){var r,i,o,a,s=e.x,l=e.y,u=e.z?e.z:0;if(l<-W2&&l>-1.001*W2)l=-W2;else if(l>W2&&l<1.001*W2)l=W2;else{if(l<-W2)return{x:-1/0,y:-1/0,z:e.z};if(l>W2)return{x:1/0,y:1/0,z:e.z}}return s>Math.PI&&(s-=2*Math.PI),i=Math.sin(l),a=Math.cos(l),o=i*i,r=n/Math.sqrt(1-t*o),{x:(r+u)*a*Math.cos(s),y:(r+u)*a*Math.sin(s),z:(r*(1-t)+u)*i}}function sJ(e,t,n,r){var i,o,a,s,l,u,c,f,h,p,y,d,m,v,b,g,S=e.x,_=e.y,w=e.z?e.z:0;if(i=Math.sqrt(S*S+_*_),o=Math.sqrt(S*S+_*_+w*w),i/n<1e-12){if(v=0,o/n<1e-12)return b=W2,g=-r,{x:e.x,y:e.y,z:e.z}}else v=Math.atan2(_,S);a=w/o,s=i/o,l=1/Math.sqrt(1-t*(2-t)*s*s),f=s*(1-t)*l,h=a*l,m=0;do{m++,c=n/Math.sqrt(1-t*h*h),g=i*f+w*h-c*(1-t*h*h),u=t*c/(c+g),l=1/Math.sqrt(1-u*(2-u)*s*s),p=s*(1-u)*l,y=a*l,d=y*f-p*h,f=p,h=y}while(d*d>1e-24&&m<30);return b=Math.atan(y/Math.abs(p)),{x:v,y:b,z:g}}function lJ(e,t,n){if(t===z2)return{x:e.x+n[0],y:e.y+n[1],z:e.z+n[2]};if(t===V2){var r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=n[6];return{x:u*(e.x-l*e.y+s*e.z)+r,y:u*(l*e.x+e.y-a*e.z)+i,z:u*(-s*e.x+a*e.y+e.z)+o}}}function uJ(e,t,n){if(t===z2)return{x:e.x-n[0],y:e.y-n[1],z:e.z-n[2]};if(t===V2){var r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=n[6],c=(e.x-r)/u,f=(e.y-i)/u,h=(e.z-o)/u;return{x:c+l*f-s*h,y:-l*c+f+a*h,z:s*c-a*f+h}}}function cJ(e){return e===z2||e===V2}function fJ(e){if("function"==typeof Number.isFinite){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof e||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function hJ(e,t){return(e.datum.datum_type===z2||e.datum.datum_type===V2)&&"WGS84"!==t.datumCode||(t.datum.datum_type===z2||t.datum.datum_type===V2)&&"WGS84"!==e.datumCode}function pJ(e,t,n){var r;return Array.isArray(n)&&(n=G3(n)),z3(n),e.datum&&t.datum&&hJ(e,t)&&(r=new F3("WGS84"),n=pJ(e,r,n),e=r),"enu"!==e.axis&&(n=U3(e,!1,n)),"longlat"===e.projName?n={x:n.x*Z2,y:n.y*Z2}:(e.to_meter&&(n={x:n.x*e.to_meter,y:n.y*e.to_meter}),n=e.inverse(n)),e.from_greenwich&&(n.x+=e.from_greenwich),n=B3(e.datum,t.datum,n),t.from_greenwich&&(n={x:n.x-t.from_greenwich,y:n.y}),"longlat"===t.projName?n={x:n.x*$2,y:n.y*$2}:(n=t.forward(n),t.to_meter&&(n={x:n.x/t.to_meter,y:n.y/t.to_meter})),"enu"!==t.axis?U3(t,!0,n):n}function yJ(e,t,n){var r,i,o;return Array.isArray(n)?(r=pJ(e,t,n),3===n.length?[r.x,r.y,r.z]:[r.x,r.y]):(i=pJ(e,t,n),o=Object.keys(n),2===o.length?i:(o.forEach(function(e){"x"!==e&&"y"!==e&&(i[e]=n[e])}),i))}function dJ(e){return e instanceof F3?e:e.oProj?e.oProj:F3(e)}function mJ(e,t,n){e=dJ(e);var r,i=!1;return void 0===t?(t=e,e=V3,i=!0):(void 0!==t.x||Array.isArray(t))&&(n=t,t=e,e=V3,i=!0),t=dJ(t),n?yJ(e,t,n):(r={forward:function(n){return yJ(e,t,n)},inverse:function(n){return yJ(t,e,n)}},i&&(r.oProj=t),r)}function vJ(e,t){return t=t||5,CJ(wJ({lat:e[1],lon:e[0]}),t)}function bJ(e){var t=OJ(kJ(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function gJ(e){var t=OJ(kJ(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function SJ(e){return e*(Math.PI/180)}function _J(e){return e/Math.PI*180}function wJ(e){var t,n,r,i,o,a,s,l,u,c=e.lat,f=e.lon,h=6378137,p=SJ(c),y=SJ(f);u=Math.floor((f+180)/6)+1,180===f&&(u=60),
c>=56&&c<64&&f>=3&&f<12&&(u=32),c>=72&&c<84&&(f>=0&&f<9?u=31:f>=9&&f<21?u=33:f>=21&&f<33?u=35:f>=33&&f<42&&(u=37)),t=6*(u-1)-180+3,l=SJ(t),n=.006739496752268451,r=h/Math.sqrt(1-.00669438*Math.sin(p)*Math.sin(p)),i=Math.tan(p)*Math.tan(p),o=n*Math.cos(p)*Math.cos(p),a=Math.cos(p)*(y-l),s=h*(.9983242984503243*p-.002514607064228144*Math.sin(2*p)+2639046602129982e-21*Math.sin(4*p)-3.418046101696858e-9*Math.sin(6*p));var d=.9996*r*(a+(1-i+o)*a*a*a/6+(5-18*i+i*i+72*o-58*n)*a*a*a*a*a/120)+5e5,m=.9996*(s+r*Math.tan(p)*(a*a/2+(5-i+9*o+4*o*o)*a*a*a*a/24+(61-58*i+i*i+600*o-330*n)*a*a*a*a*a*a/720));return c<0&&(m+=1e7),{northing:Math.round(m),easting:Math.round(d),zoneNumber:u,zoneLetter:xJ(c)}}function OJ(e){var t=e.northing,n=e.easting,r=e.zoneLetter,i=e.zoneNumber;if(i<0||i>60)return null;var o,a,s,l,u,c,f,h,p,y,d=6378137,m=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),v=n-5e5,b=t;r<"N"&&(b-=1e7),h=6*(i-1)-180+3,o=.006739496752268451,f=b/.9996,p=f/6367449.145945056,y=p+(3*m/2-27*m*m*m/32)*Math.sin(2*p)+(21*m*m/16-55*m*m*m*m/32)*Math.sin(4*p)+151*m*m*m/96*Math.sin(6*p),a=d/Math.sqrt(1-.00669438*Math.sin(y)*Math.sin(y)),s=Math.tan(y)*Math.tan(y),l=o*Math.cos(y)*Math.cos(y),u=.99330562*d/Math.pow(1-.00669438*Math.sin(y)*Math.sin(y),1.5),c=v/(.9996*a);var g=y-a*Math.tan(y)/u*(c*c/2-(5+3*s+10*l-4*l*l-9*o)*c*c*c*c/24+(61+90*s+298*l+45*s*s-252*o-3*l*l)*c*c*c*c*c*c/720);g=_J(g);var S=(c-(1+2*s+l)*c*c*c/6+(5-2*l+28*s-3*l*l+8*o+24*s*s)*c*c*c*c*c/120)/Math.cos(y);S=h+_J(S);var _;if(e.accuracy){var w=OJ({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});_={top:w.lat,right:w.lon,bottom:g,left:S}}else _={lat:g,lon:S};return _}function xJ(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function CJ(e,t){var n="00000"+e.easting,r="00000"+e.northing;return e.zoneNumber+e.zoneLetter+TJ(e.easting,e.northing,e.zoneNumber)+n.substr(n.length-5,t)+r.substr(r.length-5,t)}function TJ(e,t,n){var r=PJ(n);return EJ(Math.floor(e/1e5),Math.floor(t/1e5)%20,r)}function PJ(e){var t=e%J3;return 0===t&&(t=J3),t}function EJ(e,t,n){var r=n-1,i=q3.charCodeAt(r),o=W3.charCodeAt(r),a=i+e-1,s=o+t,l=!1;return a>Z3&&(a=a-Z3+Q3-1,l=!0),(a===Y3||i<Y3&&a>Y3||(a>Y3||i<Y3)&&l)&&a++,(a===X3||i<X3&&a>X3||(a>X3||i<X3)&&l)&&++a===Y3&&a++,a>Z3&&(a=a-Z3+Q3-1),s>K3?(s=s-K3+Q3-1,l=!0):l=!1,(s===Y3||o<Y3&&s>Y3||(s>Y3||o<Y3)&&l)&&s++,(s===X3||o<X3&&s>X3||(s>X3||o<X3)&&l)&&++s===Y3&&s++,s>K3&&(s=s-K3+Q3-1),String.fromCharCode(a)+String.fromCharCode(s)}function kJ(e){if(e&&0===e.length)throw"MGRSPoint coverting from nothing";for(var t,n=e.length,r=null,i="",o=0;!/[A-Z]/.test(t=e.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+e;i+=t,o++}var a=parseInt(i,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+e;var s=e.charAt(o++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+e;r=e.substring(o,o+=2);for(var l=PJ(a),u=MJ(r.charAt(0),l),c=AJ(r.charAt(1),l);c<LJ(s);)c+=2e6;var f=n-o;if(f%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var h,p,y,d,m,v=f/2,b=0,g=0;return v>0&&(h=1e5/Math.pow(10,v),p=e.substring(o,o+v),b=parseFloat(p)*h,y=e.substring(o+v),g=parseFloat(y)*h),d=b+u,m=g+c,{easting:d,northing:m,zoneLetter:s,zoneNumber:a,accuracy:h}}function MJ(e,t){for(var n=q3.charCodeAt(t-1),r=1e5,i=!1;n!==e.charCodeAt(0);){if(n++,n===Y3&&n++,n===X3&&n++,n>Z3){if(i)throw"Bad character: "+e;n=Q3,i=!0}r+=1e5}return r}function AJ(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var n=W3.charCodeAt(t-1),r=0,i=!1;n!==e.charCodeAt(0);){if(n++,n===Y3&&n++,n===X3&&n++,n>K3){if(i)throw"Bad character: "+e;n=Q3,i=!0}r+=1e5}return r}function LJ(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function jJ(e){return(jJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RJ(e,t,n){if(!(this instanceof RJ))return new RJ(e,t,n);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if("object"===jJ(e))this.x=e.x,this.y=e.y,this.z=e.z||0;else if("string"==typeof e&&void 0===t){var r=e.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=e,this.y=t,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}function NJ(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=r5(this.es),this.ml0=i5(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function IJ(e){var t,n,r,i=e.x,o=e.y,a=O3(i-this.long0),s=Math.sin(o),l=Math.cos(o);if(this.es){var u=l*a,c=Math.pow(u,2),f=this.ep2*Math.pow(l,2),h=Math.pow(f,2),p=Math.abs(l)>K2?Math.tan(o):0,y=Math.pow(p,2),d=Math.pow(y,2);t=1-this.es*Math.pow(s,2),u/=Math.sqrt(t);var m=i5(o,s,l,this.en);n=this.a*(this.k0*u*(1+c/6*(1-y+f+c/20*(5-18*y+d+14*f-58*y*f+c/42*(61+179*d-d*y-479*y)))))+this.x0,r=this.a*(this.k0*(m-this.ml0+s*a*u/2*(1+c/12*(5-y+9*f+4*h+c/30*(61+d-58*y+270*f-330*y*f+c/56*(1385+543*d-d*y-3111*y))))))+this.y0}else{var v=l*Math.sin(a);if(Math.abs(Math.abs(v)-1)<K2)return 93;if(n=.5*this.a*this.k0*Math.log((1+v)/(1-v))+this.x0,r=l*Math.cos(a)/Math.sqrt(1-Math.pow(v,2)),(v=Math.abs(r))>=1){if(v-1>K2)return 93;r=0}else r=Math.acos(r);o<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return e.x=n,e.y=r,e}function DJ(e){var t,n,r,i,o=(e.x-this.x0)*(1/this.a),a=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+a/this.k0,n=o5(t,this.es,this.en),Math.abs(n)<W2){var s=Math.sin(n),l=Math.cos(n),u=Math.abs(l)>K2?Math.tan(n):0,c=this.ep2*Math.pow(l,2),f=Math.pow(c,2),h=Math.pow(u,2),p=Math.pow(h,2);t=1-this.es*Math.pow(s,2);var y=o*Math.sqrt(t)/this.k0,d=Math.pow(y,2);t*=u,r=n-t*d/(1-this.es)*.5*(1-d/12*(5+3*h-9*c*h+c-4*f-d/30*(61+90*h-252*c*h+45*p+46*c-d/56*(1385+3633*h+4095*p+1574*p*h)))),i=O3(this.long0+y*(1-d/6*(1+2*h+c-d/20*(5+28*h+24*p+8*c*h+6*c-d/42*(61+662*h+1320*p+720*p*h))))/l)}else r=W2*w3(a),i=0;else{var m=Math.exp(o/this.k0),v=.5*(m-1/m),b=this.lat0+a/this.k0,g=Math.cos(b);t=Math.sqrt((1-Math.pow(g,2))/(1+Math.pow(v,2))),r=Math.asin(t),a<0&&(r=-r),i=0===v&&0===g?0:O3(Math.atan2(v,g)+this.long0)}return e.x=i,e.y=r,e}function FJ(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),n=t;this.cgb[0]=t*(2+t*(-2/3+t*(t*(116/45+t*(26/45+t*(-2854/675)))-2))),this.cbg[0]=t*(t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))-2),n*=t,this.cgb[1]=n*(7/3+t*(t*(-227/45+t*(2704/315+t*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),n*=t,this.cgb[2]=n*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=n*(-26/15+t*(34/21+t*(1.6+t*(-12686/2835)))),n*=t,this.cgb[3]=n*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=n*(1237/630+t*(t*(-24832/14175)-2.4)),n*=t,this.cgb[4]=n*(4174/315+t*(-144838/6237)),this.cbg[4]=n*(-734/315+t*(109598/31185)),n*=t,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=t*(t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))-.5),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=n*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=n*(13/48+t*(t*(557/1440+t*(281/630+t*(-1983433/1935360)))-.6)),n*=t,this.utg[2]=n*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=n*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),n*=t,this.utg[3]=n*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=n*(49561/161280+t*(-179/168+t*(6601661/7257600))),n*=t,this.utg[4]=n*(-4583/161280+t*(108847/3991680)),this.gtu[4]=n*(34729/80640+t*(-3418889/1995840)),n*=t,this.utg[5]=-.03233083094085698*n,this.gtu[5]=.6650675310896665*n;var r=h5(this.cbg,this.lat0);this.Zb=-this.Qn*(r+p5(this.gtu,2*r))}function BJ(e){var t=O3(e.x-this.long0),n=e.y;n=h5(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),o=Math.sin(t),a=Math.cos(t);n=Math.atan2(r,a*i),t=Math.atan2(o*i,u5(r,i*a)),t=f5(Math.tan(t));var s=d5(this.gtu,2*n,2*t);n+=s[0],t+=s[1];var l,u;return Math.abs(t)<=2.623395162778?(l=this.a*(this.Qn*t)+this.x0,u=this.a*(this.Qn*n+this.Zb)+this.y0):(l=1/0,u=1/0),e.x=l,e.y=u,e}function UJ(e){var t=(e.x-this.x0)*(1/this.a),n=(e.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,t/=this.Qn;var r,i;if(Math.abs(t)<=2.623395162778){var o=d5(this.utg,2*n,2*t);n+=o[0],t+=o[1],t=Math.atan(l5(t));var a=Math.sin(n),s=Math.cos(n),l=Math.sin(t),u=Math.cos(t);n=Math.atan2(a*u,u5(l,u*s)),t=Math.atan2(l,u*s),r=O3(t+this.long0),i=h5(this.cgb,n)}else r=1/0,i=1/0;return e.x=r,e.y=i,e}function GJ(){var e=b5(this.zone,this.long0);if(void 0===e)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*Z2,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,v5.init.apply(this),this.forward=v5.forward,this.inverse=v5.inverse}function zJ(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+e3)/(Math.pow(Math.tan(.5*this.lat0+e3),this.C)*_5(this.e*e,this.ratexp))}function VJ(e){var t=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+e3),this.C)*_5(this.e*Math.sin(n),this.ratexp))-W2,e.x=this.C*t,e}function HJ(e){for(var t=e.x/this.C,n=e.y,r=Math.pow(Math.tan(.5*n+e3)/this.K,1/this.C),i=w5;i>0&&(n=2*Math.atan(r*_5(this.e*Math.sin(e.y),-.5*this.e))-W2,!(Math.abs(n-e.y)<1e-14));--i)e.y=n;return i?(e.x=t,e.y=n,e):null}function JJ(){x5.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function qJ(e){var t,n,r,i;return e.x=O3(e.x-this.long0),x5.forward.apply(this,[e]),t=Math.sin(e.y),n=Math.cos(e.y),r=Math.cos(e.x),i=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*n*r),e.x=i*n*Math.sin(e.x),e.y=i*(this.cosc0*t-this.sinc0*n*r),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function WJ(e){var t,n,r,i,o;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,o=Math.sqrt(e.x*e.x+e.y*e.y)){var a=2*Math.atan2(o,this.R2);t=Math.sin(a),n=Math.cos(a),i=Math.asin(n*this.sinc0+e.y*t*this.cosc0/o),r=Math.atan2(e.x*t,o*this.cosc0*n-e.y*this.sinc0*t)}else i=this.phic0,r=0;return e.x=r,e.y=i,x5.inverse.apply(this,[e]),e.x=O3(e.x+this.long0),e}function QJ(e,t,n){return t*=n,Math.tan(.5*(W2+e))*Math.pow((1-t)/(1+t),.5*n)}function YJ(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=K2&&(this.k0=.5*(1+w3(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=K2&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=K2&&(this.k0=.5*this.cons*_3(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/x3(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=_3(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-W2,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function XJ(e){var t,n,r,i,o,a,s=e.x,l=e.y,u=Math.sin(l),c=Math.cos(l),f=O3(s-this.long0);return Math.abs(Math.abs(s-this.long0)-Math.PI)<=K2&&Math.abs(l+this.lat0)<=K2?(e.x=NaN,e.y=NaN,e):this.sphere?(t=2*this.k0/(1+this.sinlat0*u+this.coslat0*c*Math.cos(f)),e.x=this.a*t*c*Math.sin(f)+this.x0,e.y=this.a*t*(this.coslat0*u-this.sinlat0*c*Math.cos(f))+this.y0,e):(n=2*Math.atan(this.ssfn_(l,u,this.e))-W2,i=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=K2?(o=x3(this.e,l*this.con,this.con*u),a=2*this.a*this.k0*o/this.cons,e.x=this.x0+a*Math.sin(s-this.long0),e.y=this.y0-this.con*a*Math.cos(s-this.long0),e):(Math.abs(this.sinlat0)<K2?(t=2*this.a*this.k0/(1+i*Math.cos(f)),e.y=t*r):(t=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*i*Math.cos(f))),e.y=t*(this.cosX0*r-this.sinX0*i*Math.cos(f))+this.y0),e.x=t*i*Math.sin(f)+this.x0,e))}function KJ(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,o,a=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var s=2*Math.atan(a/(2*this.a*this.k0));return t=this.long0,(n=this.lat0,a<=K2)?(e.x=t,e.y=n,e):(n=Math.asin(Math.cos(s)*this.sinlat0+e.y*Math.sin(s)*this.coslat0/a),t=O3(Math.abs(this.coslat0)<K2?this.lat0>0?this.long0+Math.atan2(e.x,-1*e.y):this.long0+Math.atan2(e.x,e.y):this.long0+Math.atan2(e.x*Math.sin(s),a*this.coslat0*Math.cos(s)-e.y*this.sinlat0*Math.sin(s))),e.x=t,e.y=n,e)}if(Math.abs(this.coslat0)<=K2){if(a<=K2)return n=this.lat0,t=this.long0,e.x=t,e.y=n,e;e.x*=this.con,e.y*=this.con,r=a*this.cons/(2*this.a*this.k0),n=this.con*C3(this.e,r),t=this.con*O3(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else i=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,a<=K2?o=this.X0:(o=Math.asin(Math.cos(i)*this.sinX0+e.y*Math.sin(i)*this.cosX0/a),t=O3(this.long0+Math.atan2(e.x*Math.sin(i),a*this.cosX0*Math.cos(i)-e.y*this.sinX0*Math.sin(i)))),n=-1*C3(this.e,Math.tan(.5*(W2+o)));return e.x=t,e.y=n,e}function ZJ(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),n=this.a,r=this.rf,i=1/r,o=2*i-Math.pow(i,2),a=this.e=Math.sqrt(o);this.R=this.k0*n*Math.sqrt(1-o)/(1-o*Math.pow(t,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+e/2)),u=Math.log((1+a*t)/(1-a*t));this.K=s-this.alpha*l+this.alpha*a/2*u}function $J(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),r=-this.alpha*(t+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),o=this.alpha*(e.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),s=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return e.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,e.x=this.R*a+this.x0,e}function eq(e){for(var t=e.x-this.x0,n=e.y-this.y0,r=t/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),a=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),s=this.lambda0+a/this.alpha,l=0,u=o,c=-1e3,f=0;Math.abs(u-c)>1e-7;){if(++f>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),c=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=s,e.y=u,e}function tq(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var e=Math.sin(this.lat0),t=Math.cos(this.lat0),n=this.e*e;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(t,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var r=x3(this.e,this.lat0,e),i=this.bl/t*Math.sqrt((1-this.es)/(1-n*n));i*i<1&&(i=1);var o,a;if(isNaN(this.longc)){var s=x3(this.e,this.lat1,Math.sin(this.lat1)),l=x3(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(i+Math.sqrt(i*i-1))*Math.pow(r,this.bl):this.el=(i-Math.sqrt(i*i-1))*Math.pow(r,this.bl);var u=Math.pow(s,this.bl),c=Math.pow(l,this.bl);o=this.el/u,a=.5*(o-1/o);var f=(this.el*this.el-c*u)/(this.el*this.el+c*u),h=(c-u)/(c+u),p=O3(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(f*Math.tan(.5*this.bl*p)/h)/this.bl,this.long0=O3(this.long0);var y=O3(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*y)/a),this.alpha=Math.asin(i*Math.sin(this.gamma0))}else o=this.lat0>=0?i+Math.sqrt(i*i-1):i-Math.sqrt(i*i-1),this.el=o*Math.pow(r,this.bl),a=.5*(o-1/o),this.gamma0=Math.asin(Math.sin(this.alpha)/i),this.long0=this.longc-Math.asin(a*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(i*i-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(i*i-1),Math.cos(this.alpha))}function nq(e){var t,n,r,i=e.x,o=e.y,a=O3(i-this.long0);if(Math.abs(Math.abs(o)-W2)<=K2)r=o>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(e3+r*this.gamma0*.5)),t=-1*r*W2*this.al/this.bl;else{var s=x3(this.e,o,Math.sin(o)),l=this.el/Math.pow(s,this.bl),u=.5*(l-1/l),c=.5*(l+1/l),f=Math.sin(this.bl*a),h=(u*Math.sin(this.gamma0)-f*Math.cos(this.gamma0))/c;n=Math.abs(Math.abs(h)-1)<=K2?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-h)/(1+h))/this.bl,t=Math.abs(Math.cos(this.bl*a))<=K2?this.al*this.bl*a:this.al*Math.atan2(u*Math.cos(this.gamma0)+f*Math.sin(this.gamma0),Math.cos(this.bl*a))/this.bl}return this.no_rot?(e.x=this.x0+t,e.y=this.y0+n):(t-=this.uc,e.x=this.x0+n*Math.cos(this.alpha)+t*Math.sin(this.alpha),e.y=this.y0+t*Math.cos(this.alpha)-n*Math.sin(this.alpha)),e}function rq(e){var t,n;this.no_rot?(n=e.y-this.y0,t=e.x-this.x0):(n=(e.x-this.x0)*Math.cos(this.alpha)-(e.y-this.y0)*Math.sin(this.alpha),t=(e.y-this.y0)*Math.cos(this.alpha)+(e.x-this.x0)*Math.sin(this.alpha),t+=this.uc);var r=Math.exp(-1*this.bl*n/this.al),i=.5*(r-1/r),o=.5*(r+1/r),a=Math.sin(this.bl*t/this.al),s=(a*Math.cos(this.gamma0)+i*Math.sin(this.gamma0))/o,l=Math.pow(this.el/Math.sqrt((1+s)/(1-s)),1/this.bl);return Math.abs(s-1)<K2?(e.x=this.long0,e.y=W2):Math.abs(s+1)<K2?(e.x=this.long0,e.y=-1*W2):(e.y=C3(this.e,l),e.x=O3(this.long0-Math.atan2(i*Math.cos(this.gamma0)-a*Math.sin(this.gamma0),Math.cos(this.bl*t/this.al))/this.bl)),e}function iq(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<K2)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),n=Math.cos(this.lat1),r=_3(this.e,t,n),i=x3(this.e,this.lat1,t),o=Math.sin(this.lat2),a=Math.cos(this.lat2),s=_3(this.e,o,a),l=x3(this.e,this.lat2,o),u=x3(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>K2?this.ns=Math.log(r/s)/Math.log(i/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function oq(e){var t=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=K2&&(n=w3(n)*(W2-2*K2));var r,i,o=Math.abs(Math.abs(n)-W2);if(o>K2)r=x3(this.e,n,Math.sin(n)),i=this.a*this.f0*Math.pow(r,this.ns);else{if((o=n*this.ns)<=0)return null;i=0}var a=this.ns*O3(t-this.long0);return e.x=this.k0*(i*Math.sin(a))+this.x0,e.y=this.k0*(this.rh-i*Math.cos(a))+this.y0,e}function aq(e){var t,n,r,i,o,a=(e.x-this.x0)/this.k0,s=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(a*a+s*s),n=1):(t=-Math.sqrt(a*a+s*s),n=-1);var l=0;if(0!==t&&(l=Math.atan2(n*a,n*s)),0!==t||this.ns>0){if(n=1/this.ns,r=Math.pow(t/(this.a*this.f0),n),-9999===(i=C3(this.e,r)))return null}else i=-W2;return o=O3(l/this.ns+this.long0),e.x=o,e.y=i,e}function sq(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function lq(e){var t,n,r,i,o,a,s,l=e.x,u=e.y,c=O3(l-this.long0);return t=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/t)-this.s45),r=-c*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),o=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),a=this.n*o,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),e.y=s*Math.cos(a)/1,e.x=s*Math.sin(a)/1,this.czech||(e.y*=-1,e.x*=-1),e}function uq(e){var t,n,r,i,o,a,s,l,u=e.x;e.x=e.y,e.y=u,this.czech||(e.y*=-1,e.x*=-1),a=Math.sqrt(e.x*e.x+e.y*e.y),o=Math.atan2(e.y,e.x),i=o/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(t)),e.x=this.long0-n/this.alfa,s=t,l=0;var c=0;do{e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-e.y)<1e-10&&(l=1),s=e.y,c+=1}while(0===l&&c<15);return c>=15?null:e}function cq(){this.sphere||(this.e0=F5(this.es),this.e1=B5(this.es),this.e2=U5(this.es),this.e3=G5(this.es),this.ml0=this.a*D5(this.e0,this.e1,this.e2,this.e3,this.lat0))}function fq(e){var t,n,r=e.x,i=e.y;if(r=O3(r-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var o=Math.sin(i),a=Math.cos(i),s=z5(this.a,this.e,o),l=Math.tan(i)*Math.tan(i),u=r*Math.cos(i),c=u*u,f=this.es*a*a/(1-this.es),h=this.a*D5(this.e0,this.e1,this.e2,this.e3,i);t=s*u*(1-c*l*(1/6-(8-l+8*f)*c/120)),n=h-this.ml0+s*o/a*c*(.5+(5-l+6*f)*c/24)}return e.x=t+this.x0,e.y=n+this.y0,e}function hq(e){e.x-=this.x0,e.y-=this.y0;var t,n,r=e.x/this.a,i=e.y/this.a;if(this.sphere){var o=i+this.lat0;t=Math.asin(Math.sin(o)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(o))}else{var a=this.ml0/this.a+i,s=H5(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-W2)<=K2)return e.x=this.long0,e.y=W2,i<0&&(e.y*=-1),e;var l=z5(this.a,this.e,Math.sin(s)),u=l*l*l/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(s),2),f=r*this.a/l,h=f*f;t=s-l*Math.tan(s)/u*f*f*(.5-(1+3*c)*f*f/24),n=f*(1-h*(c/3+(1+3*c)*c*h/15))/Math.cos(s)}return e.x=O3(n+this.long0),e.y=V5(t),e}function pq(){var e=Math.abs(this.lat0);if(Math.abs(e-W2)<K2?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<K2?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var t;switch(this.qp=W5(this.e,1),this.mmf=.5/(1-this.es),this.apa=mq(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=W5(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function yq(e){var t,n,r,i,o,a,s,l,u,c,f=e.x,h=e.y;if(f=O3(f-this.long0),this.sphere){if(o=Math.sin(h),c=Math.cos(h),r=Math.cos(f),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+c*r:1+this.sinph0*o+this.cosph0*c*r)<=K2)return null;n=Math.sqrt(2/n),t=n*c*Math.sin(f),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*c*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(h+this.phi0)<K2)return null;n=e3-.5*h,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),t=n*Math.sin(f),n*=r}}else{switch(s=0,l=0,u=0,r=Math.cos(f),i=Math.sin(f),o=Math.sin(h),a=W5(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(s=a/this.qp,l=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:u=1+this.sinb1*s+this.cosb1*l*r;break;case this.EQUIT:u=1+l*r;break;case this.N_POLE:u=W2+h,a=this.qp-a;break;case this.S_POLE:u=h-W2,a=this.qp+a}if(Math.abs(u)<K2)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),n=this.mode===this.OBLIQ?this.ymf*u*(this.cosb1*s-this.sinb1*l*r):(u=Math.sqrt(2/(1+l*r)))*s*this.ymf,t=this.xmf*u*l*i;break;case this.N_POLE:case this.S_POLE:a>=0?(t=(u=Math.sqrt(a))*i,n=r*(this.mode===this.S_POLE?u:-u)):t=n=0}}return e.x=this.a*t+this.x0,e.y=this.a*n+this.y0,e}function dq(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,o,a,s,l=e.x/this.a,u=e.y/this.a;if(this.sphere){var c,f=0,h=0;if(c=Math.sqrt(l*l+u*u),(n=.5*c)>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(h=Math.sin(n),f=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(c)<=K2?0:Math.asin(u*h/c),l*=h,u=f*c;break;case this.OBLIQ:n=Math.abs(c)<=K2?this.phi0:Math.asin(f*this.sinph0+u*h*this.cosph0/c),l*=h*this.cosph0,u=(f-Math.sin(n)*this.sinph0)*c;break;case this.N_POLE:u=-u,n=W2-n;break;case this.S_POLE:n-=W2}t=0!==u||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(l,u):0}else{if(s=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(l/=this.dd,u*=this.dd,(a=Math.sqrt(l*l+u*u))<K2)return e.x=0,e.y=this.phi0,e;i=2*Math.asin(.5*a/this.rq),r=Math.cos(i),l*=i=Math.sin(i),this.mode===this.OBLIQ?(s=r*this.sinb1+u*i*this.cosb1/a,o=this.qp*s,u=a*this.cosb1*r-u*this.sinb1*i):(s=u*i/a,o=this.qp*s,u=a*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(u=-u),!(o=l*l+u*u))return e.x=0,e.y=this.phi0,e;s=1-o/this.qp,this.mode===this.S_POLE&&(s=-s)}t=Math.atan2(l,u),n=vq(Math.asin(s),this.apa)}return e.x=O3(this.long0+t),e.y=n,e}function mq(e){var t,n=[];return n[0]=e*Q5,t=e*e,n[0]+=t*Y5,n[1]=t*K5,t*=e,n[0]+=t*X5,n[1]+=t*Z5,n[2]=t*$5,n}function vq(e,t){var n=e+e;return e+t[0]*Math.sin(n)+t[1]*Math.sin(n+n)+t[2]*Math.sin(n+n+n)}function bq(){Math.abs(this.lat1+this.lat2)<K2||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=_3(this.e3,this.sin_po,this.cos_po),this.qs1=W5(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=_3(this.e3,this.sin_po,this.cos_po),this.qs2=W5(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=W5(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>K2?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function gq(e){var t=e.x,n=e.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=W5(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,o=this.ns0*O3(t-this.long0),a=i*Math.sin(o)+this.x0,s=this.rh-i*Math.cos(o)+this.y0;return e.x=a,e.y=s,e}function Sq(e){var t,n,r,i,o,a;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),r=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),r=-1),i=0,0!==t&&(i=Math.atan2(r*e.x,r*e.y)),r=t*this.ns0/this.a,this.sphere?a=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,a=this.phi1z(this.e3,n)),o=O3(i/this.ns0+this.long0),e.x=o,e.y=a,e}function _q(e,t){var n,r,i,o,a,s=n8(.5*t);if(e<K2)return s;for(var l=e*e,u=1;u<=25;u++)if(n=Math.sin(s),r=Math.cos(s),i=e*n,o=1-i*i,a=.5*o*o/r*(t/(1-l)-n/o+.5/e*Math.log((1-i)/(1+i))),s+=a,Math.abs(a)<=1e-7)return s;return null}function wq(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function Oq(e){var t,n,r,i,o,a,s,l,u=e.x,c=e.y;return r=O3(u-this.long0),t=Math.sin(c),n=Math.cos(c),i=Math.cos(r),a=this.sin_p14*t+this.cos_p14*n*i,o=1,a>0||Math.abs(a)<=K2?(s=this.x0+this.a*o*n*Math.sin(r)/a,l=this.y0+this.a*o*(this.cos_p14*t-this.sin_p14*n*i)/a):(s=this.x0+this.infinity_dist*n*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*n*i)),e.x=s,e.y=l,e}function xq(e){var t,n,r,i,o,a;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(i=Math.atan2(t,this.rc),n=Math.sin(i),r=Math.cos(i),a=n8(r*this.sin_p14+e.y*n*this.cos_p14/t),o=Math.atan2(e.x*n,t*this.cos_p14*r-e.y*this.sin_p14*n),o=O3(this.long0+o)):(a=this.phic0,o=0),e.x=o,e.y=a,e}function Cq(){this.sphere||(this.k0=_3(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Tq(e){var t,n,r=e.x,i=e.y,o=O3(r-this.long0);if(this.sphere)t=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var a=W5(this.e,Math.sin(i));t=this.x0+this.a*this.k0*o,n=this.y0+this.a*a*.5/this.k0}return e.x=t,e.y=n,e}function Pq(e){e.x-=this.x0,e.y-=this.y0;var t,n;return this.sphere?(t=O3(this.long0+e.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=s8(this.e,2*e.y*this.k0/this.a),t=O3(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=n,e}function Eq(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function kq(e){var t=e.x,n=e.y,r=O3(t-this.long0),i=V5(n-this.lat0);return e.x=this.x0+this.a*r*this.rc,e.y=this.y0+this.a*i,e}function Mq(e){var t=e.x,n=e.y;return e.x=O3(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=V5(this.lat0+(n-this.y0)/this.a),e}function Aq(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=F5(this.es),this.e1=B5(this.es),this.e2=U5(this.es),this.e3=G5(this.es),this.ml0=this.a*D5(this.e0,this.e1,this.e2,this.e3,this.lat0)}function Lq(e){var t,n,r,i=e.x,o=e.y,a=O3(i-this.long0);if(r=a*Math.sin(o),this.sphere)Math.abs(o)<=K2?(t=this.a*a,n=-1*this.a*this.lat0):(t=this.a*Math.sin(r)/Math.tan(o),n=this.a*(V5(o-this.lat0)+(1-Math.cos(r))/Math.tan(o)));else if(Math.abs(o)<=K2)t=this.a*a,n=-1*this.ml0;else{var s=z5(this.a,this.e,Math.sin(o))/Math.tan(o);t=s*Math.sin(r),n=this.a*D5(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+s*(1-Math.cos(r))}return e.x=t+this.x0,e.y=n+this.y0,e}function jq(e){var t,n,r,i,o,a,s,l,u;if(r=e.x-this.x0,i=e.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=K2)t=O3(r/this.a+this.long0),n=0;else{a=this.lat0+i/this.a,s=r*r/this.a/this.a+a*a,l=a;var c;for(o=h8;o;--o)if(c=Math.tan(l),u=-1*(a*(l*c+1)-l-.5*(l*l+s)*c)/((l-a)/c-1),l+=u,Math.abs(u)<=K2){n=l;break}t=O3(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=K2)n=0,t=O3(this.long0+r/this.a);else{a=(this.ml0+i)/this.a,s=r*r/this.a/this.a+a*a,l=a;var f,h,p,y,d;for(o=h8;o;--o)if(d=this.e*Math.sin(l),f=Math.sqrt(1-d*d)*Math.tan(l),h=this.a*D5(this.e0,this.e1,this.e2,this.e3,l),p=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),y=h/this.a,u=(a*(f*y+1)-y-.5*f*(y*y+s))/(this.es*Math.sin(2*l)*(y*y+s-2*a*y)/(4*f)+(a-y)*(f*p-2/Math.sin(2*l))-p),l-=u,Math.abs(u)<=K2){n=l
;break}f=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),t=O3(this.long0+Math.asin(r*f/this.a)/Math.sin(n))}return e.x=t,e.y=n,e}function Rq(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function Nq(e){var t,n=e.x,r=e.y,i=r-this.lat0,o=n-this.long0,a=i/q2*1e-5,s=o,l=1,u=0;for(t=1;t<=10;t++)l*=a,u+=this.A[t]*l;var c,f,h=u,p=s,y=1,d=0,m=0,v=0;for(t=1;t<=6;t++)c=y*h-d*p,f=d*h+y*p,y=c,d=f,m=m+this.B_re[t]*y-this.B_im[t]*d,v=v+this.B_im[t]*y+this.B_re[t]*d;return e.x=v*this.a+this.x0,e.y=m*this.a+this.y0,e}function Iq(e){var t,n,r,i=e.x,o=e.y,a=i-this.x0,s=o-this.y0,l=s/this.a,u=a/this.a,c=1,f=0,h=0,p=0;for(t=1;t<=6;t++)n=c*l-f*u,r=f*l+c*u,c=n,f=r,h=h+this.C_re[t]*c-this.C_im[t]*f,p=p+this.C_im[t]*c+this.C_re[t]*f;for(var y=0;y<this.iterations;y++){var d,m,v=h,b=p,g=l,S=u;for(t=2;t<=6;t++)d=v*h-b*p,m=b*h+v*p,v=d,b=m,g+=(t-1)*(this.B_re[t]*v-this.B_im[t]*b),S+=(t-1)*(this.B_im[t]*v+this.B_re[t]*b);v=1,b=0;var _=this.B_re[1],w=this.B_im[1];for(t=2;t<=6;t++)d=v*h-b*p,m=b*h+v*p,v=d,b=m,_+=t*(this.B_re[t]*v-this.B_im[t]*b),w+=t*(this.B_im[t]*v+this.B_re[t]*b);var O=_*_+w*w;h=(g*_+S*w)/O,p=(S*_-g*w)/O}var x=h,C=p,T=1,P=0;for(t=1;t<=9;t++)T*=x,P+=this.D[t]*T;var E=this.lat0+P*q2*1e5,k=this.long0+C;return e.x=k,e.y=E,e}function Dq(){}function Fq(e){var t=e.x,n=e.y,r=O3(t-this.long0),i=this.x0+this.a*r,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return e.x=i,e.y=o,e}function Bq(e){e.x-=this.x0,e.y-=this.y0;var t=O3(this.long0+e.x/this.a),n=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=n,e}function Uq(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=r5(this.es)}function Gq(e){var t,n,r=e.x,i=e.y;if(r=O3(r-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(i),a=g8;a;--a){var s=(this.m*i+Math.sin(i)-o)/(this.m+Math.cos(i));if(i-=s,Math.abs(s)<K2)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;t=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var l=Math.sin(i),u=Math.cos(i);n=this.a*i5(i,l,u,this.en),t=this.a*r*u/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=n,e}function zq(e){var t,n,r,i;return e.x-=this.x0,r=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,r/=this.C_x*(this.m+Math.cos(t)),this.m?t=n8((this.m*t+Math.sin(t))/this.n):1!==this.n&&(t=n8(Math.sin(t)/this.n)),r=O3(r+this.long0),t=V5(t)):(t=o5(e.y/this.a,this.es,this.en),i=Math.abs(t),i<W2?(i=Math.sin(t),n=this.long0+e.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(t)),r=O3(n)):i-K2<W2&&(r=this.long0)),e.x=r,e.y=t,e}function Vq(){}function Hq(e){for(var t=e.x,n=e.y,r=O3(t-this.long0),i=n,o=Math.PI*Math.sin(n);;){var a=-(i+Math.sin(i)-o)/(1+Math.cos(i));if(i+=a,Math.abs(a)<K2)break}i/=2,Math.PI/2-Math.abs(n)<K2&&(r=0);var s=.900316316158*this.a*r*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return e.x=s,e.y=l,e}function Jq(e){var t,n;e.x-=this.x0,e.y-=this.y0,n=e.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),t=Math.asin(n);var r=O3(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*t+Math.sin(2*t))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return e.x=r,e.y=i,e}function qq(){Math.abs(this.lat1+this.lat2)<K2||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=F5(this.es),this.e1=B5(this.es),this.e2=U5(this.es),this.e3=G5(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=_3(this.e,this.sinphi,this.cosphi),this.ml1=D5(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<K2?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=_3(this.e,this.sinphi,this.cosphi),this.ml2=D5(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=D5(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function Wq(e){var t,n=e.x,r=e.y;if(this.sphere)t=this.a*(this.g-r);else{var i=D5(this.e0,this.e1,this.e2,this.e3,r);t=this.a*(this.g-i)}var o=this.ns*O3(n-this.long0),a=this.x0+t*Math.sin(o),s=this.y0+this.rh-t*Math.cos(o);return e.x=a,e.y=s,e}function Qq(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,n,r,i;this.ns>=0?(n=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(n=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var o=0;if(0!==n&&(o=Math.atan2(t*e.x,t*e.y)),this.sphere)return i=O3(this.long0+o/this.ns),r=V5(this.g-n/this.a),e.x=i,e.y=r,e;var a=this.g-n/this.a;return r=H5(a,this.e0,this.e1,this.e2,this.e3),i=O3(this.long0+o/this.ns),e.x=i,e.y=r,e}function Yq(){this.R=this.a}function Xq(e){var t,n,r=e.x,i=e.y,o=O3(r-this.long0);Math.abs(i)<=K2&&(t=this.x0+this.R*o,n=this.y0);var a=n8(2*Math.abs(i/Math.PI));(Math.abs(o)<=K2||Math.abs(Math.abs(i)-W2)<=K2)&&(t=this.x0,n=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*a):this.y0+Math.PI*this.R*-Math.tan(.5*a));var s=.5*Math.abs(Math.PI/o-o/Math.PI),l=s*s,u=Math.sin(a),c=Math.cos(a),f=c/(u+c-1),h=f*f,p=f*(2/u-1),y=p*p,d=Math.PI*this.R*(s*(f-y)+Math.sqrt(l*(f-y)*(f-y)-(y+l)*(h-y)))/(y+l);o<0&&(d=-d),t=this.x0+d;var m=l+f;return d=Math.PI*this.R*(p*m-s*Math.sqrt((y+l)*(l+1)-m*m))/(y+l),n=i>=0?this.y0+d:this.y0-d,e.x=t,e.y=n,e}function Kq(e){var t,n,r,i,o,a,s,l,u,c,f,h,p;return e.x-=this.x0,e.y-=this.y0,f=Math.PI*this.R,r=e.x/f,i=e.y/f,o=r*r+i*i,a=-Math.abs(i)*(1+o),s=a-2*i*i+r*r,l=-2*a+1+2*i*i+o*o,p=i*i/l+(2*s*s*s/l/l/l-9*a*s/l/l)/27,u=(a-s*s/3/l)/l,c=2*Math.sqrt(-u/3),f=3*p/u/c,Math.abs(f)>1&&(f=f>=0?1:-1),h=Math.acos(f)/3,n=e.y>=0?(-c*Math.cos(h+Math.PI/3)-s/3/l)*Math.PI:-(-c*Math.cos(h+Math.PI/3)-s/3/l)*Math.PI,t=Math.abs(r)<K2?this.long0:O3(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(r*r-i*i)+o*o))/2/r),e.x=t,e.y=n,e}function Zq(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function $q(e){var t,n,r,i,o,a,s,l,u,c,f,h,p,y,d,m,v,b,g,S,_,w,O,x=e.x,C=e.y,T=Math.sin(e.y),P=Math.cos(e.y),E=O3(x-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=K2?(e.x=this.x0+this.a*(W2-C)*Math.sin(E),e.y=this.y0-this.a*(W2-C)*Math.cos(E),e):Math.abs(this.sin_p12+1)<=K2?(e.x=this.x0+this.a*(W2+C)*Math.sin(E),e.y=this.y0+this.a*(W2+C)*Math.cos(E),e):(b=this.sin_p12*T+this.cos_p12*P*Math.cos(E),m=Math.acos(b),v=m/Math.sin(m),e.x=this.x0+this.a*v*P*Math.sin(E),e.y=this.y0+this.a*v*(this.cos_p12*T-this.sin_p12*P*Math.cos(E)),e):(t=F5(this.es),n=B5(this.es),r=U5(this.es),i=G5(this.es),Math.abs(this.sin_p12-1)<=K2?(o=this.a*D5(t,n,r,i,W2),a=this.a*D5(t,n,r,i,C),e.x=this.x0+(o-a)*Math.sin(E),e.y=this.y0-(o-a)*Math.cos(E),e):Math.abs(this.sin_p12+1)<=K2?(o=this.a*D5(t,n,r,i,W2),a=this.a*D5(t,n,r,i,C),e.x=this.x0+(o+a)*Math.sin(E),e.y=this.y0+(o+a)*Math.cos(E),e):(s=T/P,l=z5(this.a,this.e,this.sin_p12),u=z5(this.a,this.e,T),c=Math.atan((1-this.es)*s+this.es*l*this.sin_p12/(u*P)),f=Math.atan2(Math.sin(E),this.cos_p12*Math.tan(c)-this.sin_p12*Math.cos(E)),g=0===f?Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.abs(Math.abs(f)-Math.PI)<=K2?-Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.asin(Math.sin(E)*Math.cos(c)/Math.sin(f)),h=this.e*this.sin_p12/Math.sqrt(1-this.es),p=this.e*this.cos_p12*Math.cos(f)/Math.sqrt(1-this.es),y=h*p,d=p*p,S=g*g,_=S*g,w=_*g,O=w*g,m=l*g*(1-S*d*(1-d)/6+_/8*y*(1-2*d)+w/120*(d*(4-7*d)-3*h*h*(1-7*d))-O/48*y),e.x=this.x0+m*Math.sin(f),e.y=this.y0+m*Math.cos(f),e))}function eW(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,o,a,s,l,u,c,f,h,p,y,d,m,v,b,g,S,_,w,O;if(this.sphere){if((t=Math.sqrt(e.x*e.x+e.y*e.y))>2*W2*this.a)return;return n=t/this.a,r=Math.sin(n),i=Math.cos(n),o=this.long0,Math.abs(t)<=K2?a=this.lat0:(a=n8(i*this.sin_p12+e.y*r*this.cos_p12/t),s=Math.abs(this.lat0)-W2,o=O3(Math.abs(s)<=K2?this.lat0>=0?this.long0+Math.atan2(e.x,-e.y):this.long0-Math.atan2(-e.x,e.y):this.long0+Math.atan2(e.x*r,t*this.cos_p12*i-e.y*this.sin_p12*r))),e.x=o,e.y=a,e}return l=F5(this.es),u=B5(this.es),c=U5(this.es),f=G5(this.es),Math.abs(this.sin_p12-1)<=K2?(h=this.a*D5(l,u,c,f,W2),t=Math.sqrt(e.x*e.x+e.y*e.y),p=h-t,a=H5(p/this.a,l,u,c,f),o=O3(this.long0+Math.atan2(e.x,-1*e.y)),e.x=o,e.y=a,e):Math.abs(this.sin_p12+1)<=K2?(h=this.a*D5(l,u,c,f,W2),t=Math.sqrt(e.x*e.x+e.y*e.y),p=t-h,a=H5(p/this.a,l,u,c,f),o=O3(this.long0+Math.atan2(e.x,e.y)),e.x=o,e.y=a,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),m=Math.atan2(e.x,e.y),y=z5(this.a,this.e,this.sin_p12),v=Math.cos(m),b=this.e*this.cos_p12*v,g=-b*b/(1-this.es),S=3*this.es*(1-g)*this.sin_p12*this.cos_p12*v/(1-this.es),_=t/y,w=_-g*(1+g)*Math.pow(_,3)/6-S*(1+3*g)*Math.pow(_,4)/24,O=1-g*w*w/2-_*w*w*w/6,d=Math.asin(this.sin_p12*Math.cos(w)+this.cos_p12*Math.sin(w)*v),o=O3(this.long0+Math.asin(Math.sin(m)*Math.sin(w)/Math.cos(d))),a=Math.atan((1-this.es*O*this.sin_p12/Math.sin(d))*Math.tan(d)/(1-this.es)),e.x=o,e.y=a,e)}function tW(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function nW(e){var t,n,r,i,o,a,s,l,u=e.x,c=e.y;return r=O3(u-this.long0),t=Math.sin(c),n=Math.cos(c),i=Math.cos(r),a=this.sin_p14*t+this.cos_p14*n*i,o=1,(a>0||Math.abs(a)<=K2)&&(s=this.a*o*n*Math.sin(r),l=this.y0+this.a*o*(this.cos_p14*t-this.sin_p14*n*i)),e.x=s,e.y=l,e}function rW(e){var t,n,r,i,o,a,s;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),n=n8(t/this.a),r=Math.sin(n),i=Math.cos(n),a=this.long0,Math.abs(t)<=K2?(s=this.lat0,e.x=a,e.y=s,e):(s=n8(i*this.sin_p14+e.y*r*this.cos_p14/t),o=Math.abs(this.lat0)-W2,Math.abs(o)<=K2?(a=O3(this.lat0>=0?this.long0+Math.atan2(e.x,-e.y):this.long0-Math.atan2(-e.x,e.y)),e.x=a,e.y=s,e):(a=O3(this.long0+Math.atan2(e.x*r,t*this.cos_p14*i-e.y*this.sin_p14*r)),e.x=a,e.y=s,e))}function iW(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=W2-e3/2?this.face=L8.TOP:this.lat0<=-(W2-e3/2)?this.face=L8.BOTTOM:Math.abs(this.long0)<=e3?this.face=L8.FRONT:Math.abs(this.long0)<=W2+e3?this.face=this.long0>0?L8.RIGHT:L8.LEFT:this.face=L8.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function oW(e){var t,n,r,i,o,a,s={x:0,y:0},l={value:0};if(e.x-=this.long0,t=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(e.y)):e.y,n=e.x,this.face===L8.TOP)i=W2-t,n>=e3&&n<=W2+e3?(l.value=j8.AREA_0,r=n-W2):n>W2+e3||n<=-(W2+e3)?(l.value=j8.AREA_1,r=n>0?n-n3:n+n3):n>-(W2+e3)&&n<=-e3?(l.value=j8.AREA_2,r=n+W2):(l.value=j8.AREA_3,r=n);else if(this.face===L8.BOTTOM)i=W2+t,n>=e3&&n<=W2+e3?(l.value=j8.AREA_0,r=-n+W2):n<e3&&n>=-e3?(l.value=j8.AREA_1,r=-n):n<-e3&&n>=-(W2+e3)?(l.value=j8.AREA_2,r=-n-W2):(l.value=j8.AREA_3,r=n>0?-n+n3:-n-n3);else{var u,c,f,h,p,y,d;this.face===L8.RIGHT?n=lW(n,+W2):this.face===L8.BACK?n=lW(n,+n3):this.face===L8.LEFT&&(n=lW(n,-W2)),h=Math.sin(t),p=Math.cos(t),y=Math.sin(n),d=Math.cos(n),u=p*d,c=p*y,f=h,this.face===L8.FRONT?(i=Math.acos(u),r=sW(i,f,c,l)):this.face===L8.RIGHT?(i=Math.acos(c),r=sW(i,f,-u,l)):this.face===L8.BACK?(i=Math.acos(-u),r=sW(i,f,-c,l)):this.face===L8.LEFT?(i=Math.acos(-c),r=sW(i,f,u,l)):(i=r=0,l.value=j8.AREA_0)}return a=Math.atan(12/n3*(r+Math.acos(Math.sin(r)*Math.cos(e3))-W2)),o=Math.sqrt((1-Math.cos(i))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(r))))),l.value===j8.AREA_1?a+=W2:l.value===j8.AREA_2?a+=n3:l.value===j8.AREA_3&&(a+=1.5*n3),s.x=o*Math.cos(a),s.y=o*Math.sin(a),s.x=s.x*this.a+this.x0,s.y=s.y*this.a+this.y0,e.x=s.x,e.y=s.y,e}function aW(e){var t,n,r,i,o,a,s,l,u,c={lam:0,phi:0},f={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,n=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),t=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?f.value=j8.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(f.value=j8.AREA_1,t-=W2):e.x<0&&-e.x>=Math.abs(e.y)?(f.value=j8.AREA_2,t=t<0?t+n3:t-n3):(f.value=j8.AREA_3,t+=W2),u=n3/12*Math.tan(t),o=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),a=Math.atan(o),r=Math.cos(t),i=Math.tan(n),s=1-r*r*i*i*(1-Math.cos(Math.atan(1/Math.cos(a)))),s<-1?s=-1:s>1&&(s=1),this.face===L8.TOP)l=Math.acos(s),c.phi=W2-l,f.value===j8.AREA_0?c.lam=a+W2:f.value===j8.AREA_1?c.lam=a<0?a+n3:a-n3:f.value===j8.AREA_2?c.lam=a-W2:c.lam=a;else if(this.face===L8.BOTTOM)l=Math.acos(s),c.phi=l-W2,f.value===j8.AREA_0?c.lam=-a+W2:f.value===j8.AREA_1?c.lam=-a:f.value===j8.AREA_2?c.lam=-a-W2:c.lam=a<0?-a-n3:-a+n3;else{var h,p,y;h=s,u=h*h,y=u>=1?0:Math.sqrt(1-u)*Math.sin(a),u+=y*y,p=u>=1?0:Math.sqrt(1-u),f.value===j8.AREA_1?(u=p,p=-y,y=u):f.value===j8.AREA_2?(p=-p,y=-y):f.value===j8.AREA_3&&(u=p,p=y,y=-u),this.face===L8.RIGHT?(u=h,h=-p,p=u):this.face===L8.BACK?(h=-h,p=-p):this.face===L8.LEFT&&(u=h,h=p,p=-u),c.phi=Math.acos(-y)-W2,c.lam=Math.atan2(p,h),this.face===L8.RIGHT?c.lam=lW(c.lam,-W2):this.face===L8.BACK?c.lam=lW(c.lam,-n3):this.face===L8.LEFT&&(c.lam=lW(c.lam,+W2))}if(0!==this.es){var d,m,v;d=c.phi<0?1:0,m=Math.tan(c.phi),v=this.b/Math.sqrt(m*m+this.one_minus_f_squared),c.phi=Math.atan(Math.sqrt(this.a*this.a-v*v)/(this.one_minus_f*v)),d&&(c.phi=-c.phi)}return c.lam+=this.long0,e.x=c.lam,e.y=c.phi,e}function sW(e,t,n,r){var i;return e<K2?(r.value=j8.AREA_0,i=0):(i=Math.atan2(t,n),Math.abs(i)<=e3?r.value=j8.AREA_0:i>e3&&i<=W2+e3?(r.value=j8.AREA_1,i-=W2):i>W2+e3||i<=-(W2+e3)?(r.value=j8.AREA_2,i=i>=0?i-n3:i+n3):(r.value=j8.AREA_3,i+=W2)),i}function lW(e,t){var n=e+t;return n<-n3?n+=t3:n>+n3&&(n-=t3),n}function uW(e,t,n,r){for(var i=t;r;--r){var o=e(i);if(i-=o,Math.abs(o)<n)break}return i}function cW(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function fW(e){var t=O3(e.x-this.long0),n=Math.abs(e.y),r=Math.floor(n*U8);r<0?r=0:r>=z8&&(r=z8-1),n=$2*(n-G8*r);var i={x:V8(I8[r],n)*t,y:V8(D8[r],n)};return e.y<0&&(i.y=-i.y),i.x=i.x*this.a*F8+this.x0,i.y=i.y*this.a*B8+this.y0,i}function hW(e){var t={x:(e.x-this.x0)/(this.a*F8),y:Math.abs(e.y-this.y0)/(this.a*B8)};if(t.y>=1)t.x/=I8[z8][0],t.y=e.y<0?-W2:W2;else{var n=Math.floor(t.y*z8);for(n<0?n=0:n>=z8&&(n=z8-1);;)if(D8[n][0]>t.y)--n;else{if(!(D8[n+1][0]<=t.y))break;++n}var r=D8[n],i=5*(t.y-r[0])/(D8[n+1][0]-r[0]);i=uW(function(e){return(V8(r,e)-t.y)/H8(r,e)},i,K2,100),t.x/=V8(I8[n],i),t.y=(5*n+i)*Z2,e.y<0&&(t.y=-t.y)}return t.x=O3(t.x+this.long0),t}/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
function pW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dW(e,t,n){return t&&yW(e.prototype,t),n&&yW(e,n),e}function mW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bW(e,t,n){return t&&vW(e.prototype,t),n&&vW(e,n),e}function gW(e){return(gW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wW(e,t,n){return t&&_W(e.prototype,t),n&&_W(e,n),e}function OW(e,t){return!t||"object"!==gW(t)&&"function"!=typeof t?xW(e):t}function xW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CW(e,t,n){return(CW="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=TW(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function TW(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=PW(e)););return e}function PW(e){return(PW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function EW(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kW(e,t)}function kW(e,t){return(kW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function MW(e){this._LeafletMap=e,this.dimensions=["lng","lat"],this._mapOffset=[0,0]}function AW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jW(e,t,n){return t&&LW(e.prototype,t),n&&LW(e,n),e}function RW(e){var t=document.createElement("canvas");return t&&t.getContext(e)}function NW(e){return(NW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IW(e){return(IW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BW(e,t,n){return t&&FW(e.prototype,t),n&&FW(e,n),e}function UW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GW(e){return(GW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HW(e,t,n){return t&&VW(e.prototype,t),n&&VW(e,n),e}function JW(e,t){return!t||"object"!==GW(t)&&"function"!=typeof t?qW(e):t}function qW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WW(e){return(WW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function QW(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&YW(e,t)}function YW(e,t){return(YW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function XW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KW(e){return(KW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eQ(e,t,n){return t&&$W(e.prototype,t),n&&$W(e,n),e}function tQ(e,t){return!t||"object"!==KW(t)&&"function"!=typeof t?nQ(e):t}function nQ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rQ(e){return(rQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function iQ(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oQ(e,t)}function oQ(e,t){return(oQ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function aQ(e){return(aQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uQ(e,t,n){return t&&lQ(e.prototype,t),n&&lQ(e,n),e}function cQ(e,t){return!t||"object"!==aQ(t)&&"function"!=typeof t?fQ(e):t}function fQ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hQ(e){return(hQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pQ(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yQ(e,t)}function yQ(e,t){return(yQ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dQ(e){return(dQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bQ(e,t,n){return t&&vQ(e.prototype,t),n&&vQ(e,n),e}function gQ(e,t){return!t||"object"!==dQ(t)&&"function"!=typeof t?SQ(e):t}function SQ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _Q(e){return(_Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wQ(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OQ(e,t)}function OQ(e,t){return(OQ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.r(t);/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var xQ=window.SuperMap=window.SuperMap||{};xQ.Components=window.SuperMap.Components||{};/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var CQ=xQ.DataFormat={GEOJSON:"GEOJSON",ISERVER:"ISERVER"},TQ=xQ.ServerType={ISERVER:"ISERVER",IPORTAL:"IPORTAL",ONLINE:"ONLINE"},PQ=xQ.GeometryType={LINE:"LINE",LINEM:"LINEM",POINT:"POINT",REGION:"REGION",POINTEPS:"POINTEPS",LINEEPS:"LINEEPS",REGIONEPS:"REGIONEPS",ELLIPSE:"ELLIPSE",CIRCLE:"CIRCLE",TEXT:"TEXT",RECTANGLE:"RECTANGLE",UNKNOWN:"UNKNOWN"},EQ=xQ.QueryOption={ATTRIBUTE:"ATTRIBUTE",ATTRIBUTEANDGEOMETRY:"ATTRIBUTEANDGEOMETRY",GEOMETRY:"GEOMETRY"},kQ=xQ.JoinType={INNERJOIN:"INNERJOIN",LEFTJOIN:"LEFTJOIN"},MQ=xQ.SpatialQueryMode={CONTAIN:"CONTAIN",CROSS:"CROSS",DISJOINT:"DISJOINT",IDENTITY:"IDENTITY",INTERSECT:"INTERSECT",NONE:"NONE",OVERLAP:"OVERLAP",TOUCH:"TOUCH",WITHIN:"WITHIN"},AQ=xQ.SpatialRelationType={CONTAIN:"CONTAIN",INTERSECT:"INTERSECT",WITHIN:"WITHIN"},LQ=xQ.MeasureMode={DISTANCE:"DISTANCE",AREA:"AREA"},jQ=xQ.Unit={METER:"METER",KILOMETER:"KILOMETER",MILE:"MILE",YARD:"YARD",DEGREE:"DEGREE",MILLIMETER:"MILLIMETER",CENTIMETER:"CENTIMETER",INCH:"INCH",DECIMETER:"DECIMETER",FOOT:"FOOT",SECOND:"SECOND",MINUTE:"MINUTE",RADIAN:"RADIAN"},RQ=xQ.BufferRadiusUnit={CENTIMETER:"CENTIMETER",DECIMETER:"DECIMETER",FOOT:"FOOT",INCH:"INCH",KILOMETER:"KILOMETER",METER:"METER",MILE:"MILE",MILLIMETER:"MILLIMETER",YARD:"YARD"},NQ=xQ.EngineType={IMAGEPLUGINS:"IMAGEPLUGINS",OGC:"OGC",ORACLEPLUS:"ORACLEPLUS",SDBPLUS:"SDBPLUS",SQLPLUS:"SQLPLUS",UDB:"UDB"},IQ=xQ.ThemeGraphTextFormat={CAPTION:"CAPTION",CAPTION_PERCENT:"CAPTION_PERCENT",CAPTION_VALUE:"CAPTION_VALUE",PERCENT:"PERCENT",VALUE:"VALUE"},DQ=xQ.ThemeGraphType={AREA:"AREA",BAR:"BAR",BAR3D:"BAR3D",LINE:"LINE",PIE:"PIE",PIE3D:"PIE3D",POINT:"POINT",RING:"RING",ROSE:"ROSE",ROSE3D:"ROSE3D",STACK_BAR:"STACK_BAR",STACK_BAR3D:"STACK_BAR3D",STEP:"STEP"},FQ=xQ.GraphAxesTextDisplayMode={ALL:"ALL",NONE:"NONE",YAXES:"YAXES"},BQ=xQ.GraduatedMode={CONSTANT:"CONSTANT",LOGARITHM:"LOGARITHM",SQUAREROOT:"SQUAREROOT"},UQ=xQ.RangeMode={CUSTOMINTERVAL:"CUSTOMINTERVAL",EQUALINTERVAL:"EQUALINTERVAL",LOGARITHM:"LOGARITHM",QUANTILE:"QUANTILE",SQUAREROOT:"SQUAREROOT",STDDEVIATION:"STDDEVIATION"},GQ=xQ.ThemeType={DOTDENSITY:"DOTDENSITY",GRADUATEDSYMBOL:"GRADUATEDSYMBOL",GRAPH:"GRAPH",LABEL:"LABEL",RANGE:"RANGE",UNIQUE:"UNIQUE"},zQ=xQ.ColorGradientType={BLACK_WHITE:"BLACKWHITE",BLUE_BLACK:"BLUEBLACK",BLUE_RED:"BLUERED",BLUE_WHITE:"BLUEWHITE",CYAN_BLACK:"CYANBLACK",CYAN_BLUE:"CYANBLUE",CYAN_GREEN:"CYANGREEN",CYAN_WHITE:"CYANWHITE",GREEN_BLACK:"GREENBLACK",GREEN_BLUE:"GREENBLUE",GREEN_ORANGE_VIOLET:"GREENORANGEVIOLET",GREEN_RED:"GREENRED",GREEN_WHITE:"GREENWHITE",PINK_BLACK:"PINKBLACK",PINK_BLUE:"PINKBLUE",PINK_RED:"PINKRED",PINK_WHITE:"PINKWHITE",RAIN_BOW:"RAINBOW",RED_BLACK:"REDBLACK",RED_WHITE:"REDWHITE",SPECTRUM:"SPECTRUM",TERRAIN:"TERRAIN",YELLOW_BLACK:"YELLOWBLACK",YELLOW_BLUE:"YELLOWBLUE",YELLOW_GREEN:"YELLOWGREEN",YELLOW_RED:"YELLOWRED",YELLOW_WHITE:"YELLOWWHITE"},VQ=xQ.TextAlignment={TOPLEFT:"TOPLEFT",TOPCENTER:"TOPCENTER",TOPRIGHT:"TOPRIGHT",BASELINELEFT:"BASELINELEFT",BASELINECENTER:"BASELINECENTER",BASELINERIGHT:"BASELINERIGHT",BOTTOMLEFT:"BOTTOMLEFT",BOTTOMCENTER:"BOTTOMCENTER",BOTTOMRIGHT:"BOTTOMRIGHT",MIDDLELEFT:"MIDDLELEFT",MIDDLECENTER:"MIDDLECENTER",MIDDLERIGHT:"MIDDLERIGHT"},HQ=xQ.FillGradientMode={NONE:"NONE",LINEAR:"LINEAR",RADIAL:"RADIAL",CONICAL:"CONICAL",SQUARE:"SQUARE"},JQ=xQ.AlongLineDirection={NORMAL:"ALONG_LINE_NORMAL",LB_TO_RT:"LEFT_BOTTOM_TO_RIGHT_TOP",LT_TO_RB:"LEFT_TOP_TO_RIGHT_BOTTOM",RB_TO_LT:"RIGHT_BOTTOM_TO_LEFT_TOP",RT_TO_LB:"RIGHT_TOP_TO_LEFT_BOTTOM"},qQ=xQ.LabelBackShape={DIAMOND:"DIAMOND",ELLIPSE:"ELLIPSE",MARKER:"MARKER",NONE:"NONE",RECT:"RECT",ROUNDRECT:"ROUNDRECT",TRIANGLE:"TRIANGLE"},WQ=xQ.LabelOverLengthMode={NEWLINE:"NEWLINE",NONE:"NONE",OMIT:"OMIT"},QQ=xQ.DirectionType={EAST:"EAST",NONE:"NONE",NORTH:"NORTH",SOURTH:"SOURTH",WEST:"WEST"},YQ=xQ.SideType={LEFT:"LEFT",MIDDLE:"MIDDLE",NONE:"NONE",RIGHT:"RIGHT"},XQ=xQ.SupplyCenterType={FIXEDCENTER:"FIXEDCENTER",NULL:"NULL",OPTIONALCENTER:"OPTIONALCENTER"},KQ=xQ.TurnType={AHEAD:"AHEAD",BACK:"BACK",END:"END",LEFT:"LEFT",NONE:"NONE",RIGHT:"RIGHT"},ZQ=xQ.BufferEndType={FLAT:"FLAT",ROUND:"ROUND"},$Q=xQ.OverlayOperationType={CLIP:"CLIP",ERASE:"ERASE",IDENTITY:"IDENTITY",INTERSECT:"INTERSECT",UNION:"UNION",UPDATE:"UPDATE",XOR:"XOR"},eY=xQ.OutputType={INDEXEDHDFS:"INDEXEDHDFS",UDB:"UDB",MONGODB:"MONGODB",PG:"PG"},tY=xQ.SmoothMethod={BSPLINE:"BSPLINE",POLISH:"POLISH"},nY=xQ.SurfaceAnalystMethod={ISOLINE:"ISOLINE",ISOREGION:"ISOREGION"},rY=xQ.DataReturnMode={DATASET_AND_RECORDSET:"DATASET_AND_RECORDSET",DATASET_ONLY:"DATASET_ONLY",RECORDSET_ONLY:"RECORDSET_ONLY"},iY=xQ.EditType={ADD:"add",UPDATE:"update",DELETE:"delete"},oY=xQ.TransferTactic={LESS_TIME:"LESS_TIME",LESS_TRANSFER:"LESS_TRANSFER",LESS_WALK:"LESS_WALK",MIN_DISTANCE:"MIN_DISTANCE"},aY=xQ.TransferPreference={BUS:"BUS",SUBWAY:"SUBWAY",NO_SUBWAY:"NO_SUBWAY",NONE:"NONE"},sY=xQ.GridType={CROSS:"CROSS",GRID:"GRID",POINT:"POINT"},lY=xQ.ColorSpaceType={CMYK:"CMYK",RGB:"RGB"},uY=xQ.LayerType={UGC:"UGC",WMS:"WMS",WFS:"WFS",CUSTOM:"CUSTOM"},cY=xQ.UGCLayerType={THEME:"THEME",VECTOR:"VECTOR",GRID:"GRID",IMAGE:"IMAGE"},fY=xQ.StatisticMode={AVERAGE:"AVERAGE",MAX:"MAX",MIN:"MIN",STDDEVIATION:"STDDEVIATION",SUM:"SUM",VARIANCE:"VARIANCE"},hY=xQ.PixelFormat={BIT16:"BIT16",BIT32:"BIT32",BIT64:"BIT64",SINGLE:"SINGLE",DOUBLE:"DOUBLE",UBIT1:"UBIT1",UBIT4:"UBIT4",UBIT8:"UBIT8",UBIT24:"UBIT24",UBIT32:"UBIT32"},pY=xQ.SearchMode={KDTREE_FIXED_COUNT:"KDTREE_FIXED_COUNT",KDTREE_FIXED_RADIUS:"KDTREE_FIXED_RADIUS",NONE:"NONE",QUADTREE:"QUADTREE"},yY=xQ.InterpolationAlgorithmType={KRIGING:"KRIGING",SimpleKriging:"SimpleKriging",UniversalKriging:"UniversalKriging"},dY=xQ.VariogramMode={EXPONENTIAL:"EXPONENTIAL",GAUSSIAN:"GAUSSIAN",SPHERICAL:"SPHERICAL"},mY=xQ.Exponent={EXP1:"EXP1",EXP2:"EXP2"},vY=xQ.ClientType={IP:"IP",REFERER:"Referer",REQUESTIP:"RequestIP",NONE:"NONE",SERVER:"SERVER",WEB:"WEB"},bY=xQ.ChartType={BAR:"Bar",BAR3D:"Bar3D",CIRCLE:"Circle",PIE:"Pie",POINT:"Point",LINE:"Line",RING:"Ring"},gY=xQ.ClipAnalystMode={CLIP:"clip",INTERSECT:"intersect"},SY=xQ.AnalystAreaUnit={SQUAREMETER:"SquareMeter",SQUAREKILOMETER:"SquareKiloMeter",HECTARE:"Hectare",ARE:"Are",ACRE:"Acre",SQUAREFOOT:"SquareFoot",SQUAREYARD:"SquareYard",SQUAREMILE:"SquareMile"},_Y=xQ.AnalystSizeUnit={METER:"Meter",KILOMETER:"Kilometer",YARD:"Yard",FOOT:"Foot",MILE:"Mile"},wY=xQ.StatisticAnalystMode={MAX:"max",MIN:"min",AVERAGE:"average",SUM:"sum",VARIANCE:"variance",STDDEVIATION:"stdDeviation"},OY=xQ.SummaryType={SUMMARYMESH:"SUMMARYMESH",SUMMARYREGION:"SUMMARYREGION"},xY=xQ.TopologyValidatorRule={REGIONNOOVERLAP:"REGIONNOOVERLAP",REGIONNOOVERLAPWITH:"REGIONNOOVERLAPWITH",REGIONCONTAINEDBYREGION:"REGIONCONTAINEDBYREGION",REGIONCOVEREDBYREGION:"REGIONCOVEREDBYREGION",LINENOOVERLAP:"LINENOOVERLAP",LINENOOVERLAPWITH:"LINENOOVERLAPWITH",POINTNOIDENTICAL:"POINTNOIDENTICAL"},CY=xQ.AggregationType={GEOHASH_GRID:"geohash_grid",FILTER:"filter"},TY=xQ.AggregationQueryBuilderType={GEO_BOUNDING_BOX:"geo_bounding_box"},PY=xQ.GetFeatureMode={BOUNDS:"BOUNDS",BUFFER:"BUFFER",ID:"ID",SPATIAL:"SPATIAL",SQL:"SQL"},EY=xQ.RasterFunctionType={NDVI:"NDVI",HILLSHADE:"HILLSHADE"},kY=function(){function e(t,n){r(this,e),this.w=t?parseFloat(t):0,this.h=t?parseFloat(n):0,this.CLASS_NAME="SuperMap.Size"}return o(e,[{key:"toString",value:function(){return"w="+this.w+",h="+this.h}},{key:"clone",value:function(){return new e(this.w,this.h)}},{key:"equals",value:function(e){var t=!1;return null!=e&&(t=this.w===e.w&&this.h===e.h||isNaN(this.w)&&isNaN(this.h)&&isNaN(e.w)&&isNaN(e.h)),t}},{key:"destroy",value:function(){this.w=null,this.h=null}}]),e}();xQ.Size=kY;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var MY=function(){function e(t,n,r){a(this,e),this.x=t?parseFloat(t):0,this.y=n?parseFloat(n):0,this.mode=r,this.CLASS_NAME="SuperMap.Pixel",xQ.Pixel.Mode={LeftTop:"lefttop",RightTop:"righttop",RightBottom:"rightbottom",LeftBottom:"leftbottom"}}return l(e,[{key:"toString",value:function(){return"x="+this.x+",y="+this.y}},{key:"clone",value:function(){return new e(this.x,this.y,this.mode)}},{key:"equals",value:function(e){var t=!1;return null!=e&&(t=this.x==e.x&&this.y==e.y||isNaN(this.x)&&isNaN(this.y)&&isNaN(e.x)&&isNaN(e.y)),t}},{key:"distanceTo",value:function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}},{key:"add",value:function(t,n){if(null==t||null==n)throw new TypeError("Pixel.add cannot receive null values");return new e(this.x+t,this.y+n)}},{key:"offset",value:function(e){var t=this.clone();return e&&(t=this.add(e.x,e.y)),t}},{key:"destroy",value:function(){this.x=null,this.y=null,this.mode=null}}]),e}();xQ.Pixel=MY,/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
xQ.inherit=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n;var r,i,o;for(r=2,i=arguments.length;r<i;r++)o=arguments[r],"function"==typeof o&&(o=o.prototype),xQ.Util.extend(e.prototype,o)},xQ.mixin=function(){function e(e,t){var n=Object.getOwnPropertyNames(t);Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t)));for(var r=0;r<n.length;r++){var i=n[r];if("constructor"!==i&&"prototype"!==i&&"name"!==i&&"length"!==i){var o=Object.getOwnPropertyDescriptor(t,i);window.ActiveXObject?Object.defineProperty(e,i,o||{}):Object.defineProperty(e,i,o)}}}for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=function t(r){u(this,t);for(var i=0;i<n.length;i++)e(this,new n[i](r))},o=0;o<n.length;o++){var a=n[o];e(i,a),e(i.prototype,a.prototype),e(i.prototype,new a)}return i};var AY=xQ.String={startsWith:function(e,t){return 0==e.indexOf(t)},contains:function(e,t){return-1!=e.indexOf(t)},trim:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},camelize:function(e){for(var t=e.split("-"),n=t[0],r=1,i=t.length;r<i;r++){var o=t[r];n+=o.charAt(0).toUpperCase()+o.substring(1)}return n},format:function(e,t,n){t||(t=window);var r=function(e,r){for(var i,o=r.split(/\.+/),a=0;a<o.length;a++)0==a&&(i=t),i=i[o[a]];return"function"==typeof i&&(i=n?i.apply(null,n):i()),void 0===i?"undefined":i};return e.replace(xQ.String.tokenRegEx,r)},tokenRegEx:/\$\{([\w.]+?)\}/g,numberRegEx:/^([+-]?)(?=\d|\.\d)\d*(\.\d*)?([Ee]([+-]?\d+))?$/,isNumeric:function(e){return xQ.String.numberRegEx.test(e)},numericIf:function(e){return xQ.String.isNumeric(e)?parseFloat(e):e}},LY=xQ.Number={decimalSeparator:".",thousandsSeparator:",",limitSigDigs:function(e,t){var n=0;return t>0&&(n=parseFloat(e.toPrecision(t))),n},format:function(e,t,n,r){t=void 0!==t?t:0,n=void 0!==n?n:xQ.Number.thousandsSeparator,r=void 0!==r?r:xQ.Number.decimalSeparator,null!=t&&(e=parseFloat(e.toFixed(t)));var i=e.toString().split(".");1===i.length&&null==t&&(t=0);var o=i[0];if(n)for(var a=/(-?[0-9]+)([0-9]{3})/;a.test(o);)o=o.replace(a,"$1"+n+"$2");var s;if(0==t)s=o;else{var l=i.length>1?i[1]:"0";null!=t&&(l+=new Array(t-l.length+1).join("0")),s=o+r+l}return s}};Number.prototype.limitSigDigs||(Number.prototype.limitSigDigs=function(e){return LY.limitSigDigs(this,e)});var jY=xQ.Function={bind:function(e,t){var n=Array.prototype.slice.apply(arguments,[2]);return function(){var r=n.concat(Array.prototype.slice.apply(arguments,[0]));return e.apply(t,r)}},bindAsEventListener:function(e,t){return function(n){return e.call(t,n||window.event)}},False:function(){return!1},True:function(){return!0},Void:function(){}},RY=(xQ.Array={filter:function(e,t,n){var r=[];if(Array.prototype.filter)r=e.filter(t,n);else{var i=e.length;if("function"!=typeof t)throw new TypeError;for(var o=0;o<i;o++)if(o in e){var a=e[o];t.call(n,a,o,e)&&r.push(a)}}return r}},xQ.Util=xQ.Util||{});xQ.Util.extend=function(e,t){if(e=e||{},t){for(var n in t){var r=t[n];void 0!==r&&(e[n]=r)}!("function"==typeof window.Event&&t instanceof window.Event)&&t.hasOwnProperty&&t.hasOwnProperty("toString")&&(e.toString=t.toString)}return e},xQ.Util.copy=function(e,t){e=e||{};var n;if(t)for(var r in e)void 0!==(n=t[r])&&(e[r]=n)},xQ.Util.reset=function(e){e=e||{};for(var t in e)if(e.hasOwnProperty(t)){if("object"===c(e[t])&&e[t]instanceof Array){for(var n in e[t])e[t][n].destroy&&e[t][n].destroy();e[t].length=0}else"object"===c(e[t])&&e[t]instanceof Object&&e[t].destroy&&e[t].destroy();e[t]=null}},xQ.Util.getElement=function(){for(var e=[],t=0,n=arguments.length;t<n;t++){var r=arguments[t];if("string"==typeof r&&(r=document.getElementById(r)),1===arguments.length)return r;e.push(r)}return e},xQ.Util.isElement=function(e){return!(!e||1!==e.nodeType)},xQ.Util.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},xQ.Util.removeItem=function(e,t){for(var n=e.length-1;n>=0;n--)e[n]===t&&e.splice(n,1);return e},xQ.Util.indexOf=function(e,t){if(null==e)return-1;if("function"==typeof e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},xQ.Util.modifyDOMElement=function(e,t,n,r,i,o,a,s){t&&(e.id=t),n&&(e.style.left=n.x+"px",e.style.top=n.y+"px"),r&&(e.style.width=r.w+"px",e.style.height=r.h+"px"),i&&(e.style.position=i),o&&(e.style.border=o),a&&(e.style.overflow=a),parseFloat(s)>=0&&parseFloat(s)<1?(e.style.filter="alpha(opacity="+100*s+")",e.style.opacity=s):1===parseFloat(s)&&(e.style.filter="",e.style.opacity="")},xQ.Util.applyDefaults=function(e,t){e=e||{};var n="function"==typeof window.Event&&t instanceof window.Event;for(var r in t)(void 0===e[r]||!n&&t.hasOwnProperty&&t.hasOwnProperty(r)&&!e.hasOwnProperty(r))&&(e[r]=t[r]);return!n&&t&&t.hasOwnProperty&&t.hasOwnProperty("toString")&&!e.hasOwnProperty("toString")&&(e.toString=t.toString),e},xQ.Util.getParameterString=function(e){var t=[];for(var n in e){var r=e[n];if(null!=r&&"function"!=typeof r){var i;if("object"===c(r)&&r.constructor===Array){for(var o,a=[],s=0,l=r.length;s<l;s++)o=r[s],a.push(encodeURIComponent(null===o||void 0===o?"":o));i=a.join(",")}else i=encodeURIComponent(r);t.push(encodeURIComponent(n)+"="+i)}}return t.join("&")},xQ.Util.urlAppend=function(e,t){var n=e;if(t){var r=(e+" ").split(/[?&]/);n+=" "===r.pop()?t:r.length?"&"+t:"?"+t}return n},xQ.Util.DEFAULT_PRECISION=14,xQ.Util.toFloat=function(e,t){return null==t&&(t=xQ.Util.DEFAULT_PRECISION),"number"!=typeof e&&(e=parseFloat(e)),0===t?e:parseFloat(e.toPrecision(t))},xQ.Util.rad=function(e){return e*Math.PI/180},xQ.Util.getParameters=function(e){e=null===e||void 0===e?window.location.href:e;var t="";if(xQ.String.contains(e,"?")){var n=e.indexOf("?")+1,r=xQ.String.contains(e,"#")?e.indexOf("#"):e.length;t=e.substring(n,r)}for(var i={},o=t.split(/[&;]/),a=0,s=o.length;a<s;++a){var l=o[a].split("=");if(l[0]){var u=l[0];try{u=decodeURIComponent(u)}catch(e){u=unescape(u)}var c=(l[1]||"").replace(/\+/g," ");try{c=decodeURIComponent(c)}catch(e){c=unescape(c)}c=c.split(","),1==c.length&&(c=c[0]),i[u]=c}}return i},xQ.Util.lastSeqID=0,xQ.Util.createUniqueID=function(e){return null==e&&(e="id_"),xQ.Util.lastSeqID+=1,e+xQ.Util.lastSeqID},xQ.INCHES_PER_UNIT={inches:1,ft:12,mi:63360,m:39.3701,km:39370.1,dd:4374754,yd:36},xQ.INCHES_PER_UNIT.in=xQ.INCHES_PER_UNIT.inches,xQ.INCHES_PER_UNIT.degrees=xQ.INCHES_PER_UNIT.dd,xQ.INCHES_PER_UNIT.nmi=1852*xQ.INCHES_PER_UNIT.m,xQ.METERS_PER_INCH=.0254000508001016,xQ.Util.extend(xQ.INCHES_PER_UNIT,{Inch:xQ.INCHES_PER_UNIT.inches,Meter:1/xQ.METERS_PER_INCH,Foot:.3048006096012192/xQ.METERS_PER_INCH,IFoot:.3048/xQ.METERS_PER_INCH,ClarkeFoot:.3047972651151/xQ.METERS_PER_INCH,SearsFoot:.30479947153867626/xQ.METERS_PER_INCH,GoldCoastFoot:.3047997101815088/xQ.METERS_PER_INCH,IInch:.0254/xQ.METERS_PER_INCH,MicroInch:254e-7/xQ.METERS_PER_INCH,Mil:2.54e-8/xQ.METERS_PER_INCH,Centimeter:.01/xQ.METERS_PER_INCH,Kilometer:1e3/xQ.METERS_PER_INCH,Yard:.9144018288036576/xQ.METERS_PER_INCH,SearsYard:.914398414616029/xQ.METERS_PER_INCH,IndianYard:.9143985307444408/xQ.METERS_PER_INCH,IndianYd37:.91439523/xQ.METERS_PER_INCH,IndianYd62:.9143988/xQ.METERS_PER_INCH,IndianYd75:.9143985/xQ.METERS_PER_INCH,IndianFoot:.30479951/xQ.METERS_PER_INCH,IndianFt37:.30479841/xQ.METERS_PER_INCH,IndianFt62:.3047996/xQ.METERS_PER_INCH,IndianFt75:.3047995/xQ.METERS_PER_INCH,Mile:1609.3472186944373/xQ.METERS_PER_INCH,IYard:.9144/xQ.METERS_PER_INCH,IMile:1609.344/xQ.METERS_PER_INCH,NautM:1852/xQ.METERS_PER_INCH,"Lat-66":110943.31648893273/xQ.METERS_PER_INCH,"Lat-83":110946.25736872235/xQ.METERS_PER_INCH,Decimeter:.1/xQ.METERS_PER_INCH,Millimeter:.001/xQ.METERS_PER_INCH,Dekameter:10/xQ.METERS_PER_INCH,Decameter:10/xQ.METERS_PER_INCH,Hectometer:100/xQ.METERS_PER_INCH,GermanMeter:1.0000135965/xQ.METERS_PER_INCH,CaGrid:.999738/xQ.METERS_PER_INCH,ClarkeChain:20.1166194976/xQ.METERS_PER_INCH,GunterChain:20.11684023368047/xQ.METERS_PER_INCH,BenoitChain:20.116782494375872/xQ.METERS_PER_INCH,SearsChain:20.11676512155/xQ.METERS_PER_INCH,ClarkeLink:.201166194976/xQ.METERS_PER_INCH,GunterLink:.2011684023368047/xQ.METERS_PER_INCH,BenoitLink:.20116782494375873/xQ.METERS_PER_INCH,SearsLink:.2011676512155/xQ.METERS_PER_INCH,Rod:5.02921005842012/xQ.METERS_PER_INCH,IntnlChain:20.1168/xQ.METERS_PER_INCH,IntnlLink:.201168/xQ.METERS_PER_INCH,Perch:5.02921005842012/xQ.METERS_PER_INCH,Pole:5.02921005842012/xQ.METERS_PER_INCH,Furlong:201.1684023368046/xQ.METERS_PER_INCH,Rood:3.778266898/xQ.METERS_PER_INCH,CapeFoot:.3047972615/xQ.METERS_PER_INCH,Brealey:375/xQ.METERS_PER_INCH,ModAmFt:.304812252984506/xQ.METERS_PER_INCH,Fathom:1.8288/xQ.METERS_PER_INCH,"NautM-UK":1853.184/xQ.METERS_PER_INCH,"50kilometers":5e4/xQ.METERS_PER_INCH,"150kilometers":15e4/xQ.METERS_PER_INCH}),xQ.Util.extend(xQ.INCHES_PER_UNIT,{mm:xQ.INCHES_PER_UNIT.Meter/1e3,cm:xQ.INCHES_PER_UNIT.Meter/100,dm:100*xQ.INCHES_PER_UNIT.Meter,km:1e3*xQ.INCHES_PER_UNIT.Meter,kmi:xQ.INCHES_PER_UNIT.nmi,fath:xQ.INCHES_PER_UNIT.Fathom,ch:xQ.INCHES_PER_UNIT.IntnlChain,link:xQ.INCHES_PER_UNIT.IntnlLink,"us-in":xQ.INCHES_PER_UNIT.inches,"us-ft":xQ.INCHES_PER_UNIT.Foot,"us-yd":xQ.INCHES_PER_UNIT.Yard,"us-ch":xQ.INCHES_PER_UNIT.GunterChain,"us-mi":xQ.INCHES_PER_UNIT.Mile,"ind-yd":xQ.INCHES_PER_UNIT.IndianYd37,"ind-ft":xQ.INCHES_PER_UNIT.IndianFt37,"ind-ch":20.11669506/xQ.METERS_PER_INCH}),xQ.DOTS_PER_INCH=96,xQ.Util.normalizeScale=function(e){return e>1?1/e:e},xQ.Util.getResolutionFromScale=function(e,t){var n;if(e){null==t&&(t="degrees");n=1/(xQ.Util.normalizeScale(e)*xQ.INCHES_PER_UNIT[t]*xQ.DOTS_PER_INCH)}return n},xQ.Util.getScaleFromResolution=function(e,t){return null==t&&(t="degrees"),e*xQ.INCHES_PER_UNIT[t]*xQ.DOTS_PER_INCH},xQ.IS_GECKO=function(){var e=navigator.userAgent.toLowerCase();return-1===e.indexOf("webkit")&&-1!==e.indexOf("gecko")}(),xQ.Browser=function(){var e,t="",n="",r="pc",i=navigator.userAgent.toLowerCase();return i.indexOf("msie")>-1||i.indexOf("trident")>-1&&i.indexOf("rv")>-1?(t="msie",e=i.match(/msie ([\d.]+)/)||i.match(/rv:([\d.]+)/)):i.indexOf("chrome")>-1?(t="chrome",e=i.match(/chrome\/([\d.]+)/)):i.indexOf("firefox")>-1?(t="firefox",e=i.match(/firefox\/([\d.]+)/)):i.indexOf("opera")>-1?(t="opera",e=i.match(/version\/([\d.]+)/)):i.indexOf("safari")>-1&&(t="safari",e=i.match(/version\/([\d.]+)/)),n=e?e[1]:"",i.indexOf("ipad")>-1||i.indexOf("ipod")>-1||i.indexOf("iphone")>-1?r="apple":i.indexOf("android")>-1&&(e=i.match(/version\/([\d.]+)/),n=e?e[1]:"",r="android"),{name:t,version:n,device:r}}(),xQ.Util.getBrowser=function(){return xQ.Browser},xQ.Util.isSupportCanvas=function(){var e=!0,t=xQ.Util.getBrowser();return document.createElement("canvas").getContext?("firefox"===t.name&&parseFloat(t.version)<5&&(e=!1),"safari"===t.name&&parseFloat(t.version)<4&&(e=!1),"opera"===t.name&&parseFloat(t.version)<10&&(e=!1),"msie"===t.name&&parseFloat(t.version)<9&&(e=!1)):e=!1,e}(),xQ.Util.supportCanvas=function(){return xQ.Util.isSupportCanvas},xQ.INCHES_PER_UNIT.degree=xQ.INCHES_PER_UNIT.dd,xQ.INCHES_PER_UNIT.meter=xQ.INCHES_PER_UNIT.m,xQ.INCHES_PER_UNIT.foot=xQ.INCHES_PER_UNIT.ft,xQ.INCHES_PER_UNIT.inch=xQ.INCHES_PER_UNIT.inches,xQ.INCHES_PER_UNIT.mile=xQ.INCHES_PER_UNIT.mi,xQ.INCHES_PER_UNIT.kilometer=xQ.INCHES_PER_UNIT.km,xQ.INCHES_PER_UNIT.yard=xQ.INCHES_PER_UNIT.yd,xQ.Util.isInTheSameDomain=function(e){if(!e)return!0;var t=e.indexOf("//"),n=document.location.toString(),r=n.indexOf("//");if(-1===t)return!0;var i,o=i=e.substring(0,t),a=n.substring(r+2);r=a.indexOf("/");var s=a.indexOf(":"),l=a.substring(0,r),u=document.location.protocol;if(-1!==s||(l+=":"+("http:"===u.toLowerCase()?80:443)),u.toLowerCase()!==o.toLowerCase())return!1;o=e.substring(t+2);var c=o.indexOf(":");t=o.indexOf("/");var f,h=o.substring(0,t);return-1!==c?f=o.substring(0,c):(f=o.substring(0,t),h+=":"+("http:"===i.toLowerCase()?80:443)),f===document.domain&&h===l},xQ.Util.calculateDpi=function(e,t,n,r,i){if(e&&t&&n){var o=e.getWidth(),a=e.getHeight(),s=t.w,l=t.h;i=i||6378137,r=r||"degrees";var u;if("degree"===r.toLowerCase()||"degrees"===r.toLowerCase()||"dd"===r.toLowerCase()){var c=o/s,f=a/l;u=254/(c>f?c:f)/n/(2*Math.PI*i/360)/1e4}else{u=254/(o/s)/n/1e4}return u}},xQ.Util.toJSON=function(e){var t=e;if(null==t)return null;switch(t.constructor){case String:return t='"'+t.replace(/(["\\])/g,"\\$1")+'"',t=t.replace(/\n/g,"\\n"),t=t.replace(/\r/g,"\\r"),t=t.replace("<","&lt;"),t=t.replace(">","&gt;"),t=t.replace(/%/g,"%25"),t=t.replace(/&/g,"%26");case Array:for(var n=[],r=0,i=t.length;r<i;r++)n.push(xQ.Util.toJSON(t[r]));return"["+n.join(",")+"]";case Number:return isFinite(t)?String(t):null;case Boolean:return String(t);case Date:return"{'__type':\"System.DateTime\",'Year':"+t.getFullYear()+",'Month':"+(t.getMonth()+1)+",'Day':"+t.getDate()+",'Hour':"+t.getHours()+",'Minute':"+t.getMinutes()+",'Second':"+t.getSeconds()+",'Millisecond':"+t.getMilliseconds()+",'TimezoneOffset':"+t.getTimezoneOffset()+"}";default:if(null!=t.toJSON&&"function"==typeof t.toJSON)return t.toJSON();if("object"===c(t)){if(t.length){for(var o=[],a=0,s=t.length;a<s;a++)o.push(xQ.Util.toJSON(t[a]));return"["+o.join(",")+"]"}var l=[];for(var u in t)"function"!=typeof t[u]&&"CLASS_NAME"!==u&&"parent"!==u&&l.push("'"+u+"':"+xQ.Util.toJSON(t[u]));return l.length>0?"{"+l.join(",")+"}":"{}"}return t.toString()}},xQ.Util.getResolutionFromScaleDpi=function(e,t,n,r){return r=r||6378137,n=n||"",e>0&&t>0?(e=xQ.Util.normalizeScale(e),"degree"===n.toLowerCase()||"degrees"===n.toLowerCase()||"dd"===n.toLowerCase()?254/t/e/(2*Math.PI*r/360)/1e4:254/t/e/1e4):-1},xQ.Util.getScaleFromResolutionDpi=function(e,t,n,r){return r=r||6378137,n=n||"",e>0&&t>0?"degree"===n.toLowerCase()||"degrees"===n.toLowerCase()||"dd"===n.toLowerCase()?254/t/e/(2*Math.PI*r/360)/1e4:254/t/e/1e4:-1},xQ.Util.transformResult=function(e){return e.responseText&&"string"==typeof e.responseText&&(e=JSON.parse(e.responseText)),e},xQ.Util.copyAttributes=function(e,t){if(e=e||{},t)for(var n in t){var r=t[n];void 0!==r&&"CLASS_NAME"!==n&&"function"!=typeof r&&(e[n]=r)}return e},xQ.Util.copyAttributesWithClip=function(e,t,n){if(e=e||{},t)for(var r in t){var i=!1;if(n&&n.length)for(var o=0,a=n.length;o<a;o++)if(r===n[o]){i=!0;break}if(!0!==i){var s=t[r];void 0!==s&&"CLASS_NAME"!==r&&"function"!=typeof s&&(e[r]=s)}}return e},xQ.Util.cloneObject=function(e){if(null===e||"object"!==c(e))return e;if(e instanceof Date){var t=new Date;return t.setTime(e.getTime()),t}if(e instanceof Array){return e.slice(0)}if(e instanceof Object){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=xQ.Util.cloneObject(e[r]));return n}throw new Error("Unable to copy obj! Its type isn't supported.")},xQ.Util.lineIntersection=function(e,t,n,r){var i,o,a=null,s=(r.x-n.x)*(e.y-n.y)-(r.y-n.y)*(e.x-n.x),l=(t.x-e.x)*(e.y-n.y)-(t.y-e.y)*(e.x-n.x),u=(r.y-n.y)*(t.x-e.x)-(r.x-n.x)*(t.y-e.y);if(0!=u)i=s/u,o=l/u,a=i>=0&&o<=1&&i<=1&&o>=0?new xQ.Geometry.Point(e.x+i*(t.x-e.x),e.y+i*(t.y-e.y)):"No Intersection";else if(0==s&&0==l){var c=Math.max(e.y,t.y),f=Math.min(e.y,t.y),h=Math.max(e.x,t.x),p=Math.min(e.x,t.x);a=(n.y>=f&&n.y<=c||r.y>=f&&r.y<=c)&&n.x>=p&&n.x<=h||r.x>=p&&r.x<=h?"Coincident":"Parallel"}else a="Parallel";return a},xQ.Util.getTextBounds=function(e,t,n){document.body.appendChild(n),n.style.width="auto",n.style.height="auto",e.fontSize&&(n.style.fontSize=e.fontSize),e.fontFamily&&(n.style.fontFamily=e.fontFamily),e.fontWeight&&(n.style.fontWeight=e.fontWeight),n.style.position="relative",n.style.visibility="hidden",n.style.display="inline-block",n.innerHTML=t;var r=n.clientWidth,i=n.clientHeight;return document.body.removeChild(n),{textWidth:r,textHeight:i}};/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var NY=function(){function e(t,n){f(this,e),RY.isArray(t)&&(n=t[1],t=t[0]),this.lon=t?RY.toFloat(t):0,this.lat=n?RY.toFloat(n):0,this.CLASS_NAME="SuperMap.LonLat"}return p(e,[{key:"toString",value:function(){return"lon="+this.lon+",lat="+this.lat}},{key:"toShortString",value:function(){return this.lon+","+this.lat}},{key:"clone",value:function(){return new e(this.lon,this.lat)}},{key:"add",value:function(t,n){if(null==t||null==n)throw new TypeError("LonLat.add cannot receive null values");return new e(this.lon+RY.toFloat(t),this.lat+RY.toFloat(n))}},{key:"equals",value:function(e){var t=!1;return null!=e&&(t=this.lon===e.lon&&this.lat===e.lat||isNaN(this.lon)&&isNaN(this.lat)&&isNaN(e.lon)&&isNaN(e.lat)),t}},{key:"wrapDateLine",value:function(e){var t=this.clone();if(e){for(;t.lon<e.left;)t.lon+=e.getWidth();for(;t.lon>e.right;)t.lon-=e.getWidth()}return t}},{key:"destroy",value:function(){this.lon=null,this.lat=null}}],[{key:"fromString",value:function(t){var n=t.split(",");return new e(n[0],n[1])}},{key:"fromArray",value:function(t){var n=RY.isArray(t);return new e(n&&t[0],n&&t[1])}}]),e}(),IY=function(){function e(t,n,r,i){y(this,e),RY.isArray(t)&&(i=t[3],r=t[2],n=t[1],t=t[0]),this.left=null!=t?RY.toFloat(t):this.left,this.bottom=null!=n?RY.toFloat(n):this.bottom,this.right=null!=r?RY.toFloat(r):this.right,this.top=null!=i?RY.toFloat(i):this.top,this.centerLonLat=null,this.CLASS_NAME="SuperMap.Bounds"}return m(e,[{key:"clone",value:function(){return new e(this.left,this.bottom,this.right,this.top)}},{key:"equals",value:function(e){var t=!1;return null!=e&&(t=this.left===e.left&&this.right===e.right&&this.top===e.top&&this.bottom===e.bottom),t}},{key:"toString",value:function(){return[this.left,this.bottom,this.right,this.top].join(",")}},{key:"toArray",value:function(e){return!0===e?[this.bottom,this.left,this.top,this.right]:[this.left,this.bottom,this.right,this.top]}},{key:"toBBOX",value:function(e,t){null==e&&(e=6);var n=Math.pow(10,e),r=Math.round(this.left*n)/n,i=Math.round(this.bottom*n)/n,o=Math.round(this.right*n)/n,a=Math.round(this.top*n)/n;return!0===t?i+","+r+","+a+","+o:r+","+i+","+o+","+a}},{key:"getWidth",value:function(){return this.right-this.left}},{key:"getHeight",value:function(){return this.top-this.bottom}},{key:"getSize",value:function(){return new kY(this.getWidth(),this.getHeight())}},{key:"getCenterPixel",value:function(){return new MY((this.left+this.right)/2,(this.bottom+this.top)/2)}},{key:"getCenterLonLat",value:function(){return this.centerLonLat||(this.centerLonLat=new NY((this.left+this.right)/2,(this.bottom+this.top)/2)),this.centerLonLat}},{key:"scale",value:function(t,n){t=t||1,null==n&&(n=this.getCenterLonLat());var r,i;return"SuperMap.LonLat"===n.CLASS_NAME?(r=n.lon,i=n.lat):(r=n.x,i=n.y),new e((this.left-r)*t+r,(this.bottom-i)*t+i,(this.right-r)*t+r,(this.top-i)*t+i)}},{key:"add",value:function(t,n){if(null==t||null==n)throw new TypeError("Bounds.add cannot receive null values");return new e(this.left+t,this.bottom+n,this.right+t,this.top+n)}},{key:"extend",value:function(t){var n=null;if(t){switch(t.CLASS_NAME){case"SuperMap.LonLat":n=new e(t.lon,t.lat,t.lon,t.lat);break;case"SuperMap.Geometry.Point":n=new e(t.x,t.y,t.x,t.y);break;case"SuperMap.Bounds":n=t}n&&(this.centerLonLat=null,(null==this.left||n.left<this.left)&&(this.left=n.left),(null==this.bottom||n.bottom<this.bottom)&&(this.bottom=n.bottom),(null==this.right||n.right>this.right)&&(this.right=n.right),(null==this.top||n.top>this.top)&&(this.top=n.top))}}},{key:"containsLonLat",value:function(e,t){"boolean"==typeof t&&(t={inclusive:t}),t=t||{};var n=this.contains(e.lon,e.lat,t.inclusive),r=t.worldBounds;if(r&&!n){var i=r.getWidth(),o=(r.left+r.right)/2,a=Math.round((e.lon-o)/i);n=this.containsLonLat({lon:e.lon-a*i,lat:e.lat},{inclusive:t.inclusive})}return n}},{key:"containsPixel",value:function(e,t){return this.contains(e.x,e.y,t)}},{key:"contains",value:function(e,t,n){if(null==n&&(n=!0),null==e||null==t)return!1;var r=!1;return r=n?e>=this.left&&e<=this.right&&t>=this.bottom&&t<=this.top:e>this.left&&e<this.right&&t>this.bottom&&t<this.top,r}},{key:"intersectsBounds",value:function(e,t){if("boolean"==typeof t&&(t={inclusive:t}),t=t||{},t.worldBounds){var n=this.wrapDateLine(t.worldBounds);e=e.wrapDateLine(t.worldBounds)}else n=this;null==t.inclusive&&(t.inclusive=!0);var r=!1,i=n.left===e.right||n.right===e.left||n.top===e.bottom||n.bottom===e.top;if(t.inclusive||!i){var o=e.bottom>=n.bottom&&e.bottom<=n.top||n.bottom>=e.bottom&&n.bottom<=e.top,a=e.top>=n.bottom&&e.top<=n.top||n.top>e.bottom&&n.top<e.top,s=e.left>=n.left&&e.left<=n.right||n.left>=e.left&&n.left<=e.right,l=e.right>=n.left&&e.right<=n.right||n.right>=e.left&&n.right<=e.right;r=(o||a)&&(s||l)}if(t.worldBounds&&!r){var u=t.worldBounds,c=u.getWidth(),f=!u.containsBounds(n),h=!u.containsBounds(e);f&&!h?(e=e.add(-c,0),r=n.intersectsBounds(e,{inclusive:t.inclusive})):h&&!f&&(n=n.add(-c,0),r=e.intersectsBounds(n,{inclusive:t.inclusive}))}return r}},{key:"containsBounds",value:function(e,t,n){null==t&&(t=!1),null==n&&(n=!0);var r=this.contains(e.left,e.bottom,n),i=this.contains(e.right,e.bottom,n),o=this.contains(e.left,e.top,n),a=this.contains(e.right,e.top,n);return t?r||i||o||a:r&&i&&o&&a}},{key:"determineQuadrant",value:function(e){var t="",n=this.getCenterLonLat();return t+=e.lat<n.lat?"b":"t",t+=e.lon<n.lon?"l":"r"}},{key:"wrapDateLine",value:function(e,t){t=t||{};var n=t.leftTolerance||0,r=t.rightTolerance||0,i=this.clone();if(e){for(var o=e.getWidth();i.left<e.left&&i.right-r<=e.left;)i=i.add(o,0);for(;i.left+n>=e.right&&i.right>e.right;)i=i.add(-o,0);var a=i.left+n;a<e.right&&a>e.left&&i.right-r>e.right&&(i=i.add(-o,0))}return i}},{key:"toServerJSONObject",value:function(){return{rightTop:{x:this.right,y:this.top},leftBottom:{x:this.left,y:this.bottom},left:this.left,right:this.right,top:this.top,bottom:this.bottom}}},{key:"destroy",value:function(){this.left=null,this.right=null,this.top=null,this.bottom=null,this.centerLonLat=null}}],[{key:"fromString",value:function(t,n){var r=t.split(",");return e.fromArray(r,n)}},{key:"fromArray",value:function(t,n){return!0===n?new e(t[1],t[0],t[3],t[2]):new e(t[0],t[1],t[2],t[3])}},{key:"fromSize",value:function(t){return new e(0,t.h,t.w,0)}},{key:"oppositeQuadrant",value:function(e){var t="";return t+="t"===e.charAt(0)?"b":"t",t+="l"===e.charAt(1)?"r":"l"}}]),e}();xQ.Bounds=IY;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var DY=function(){function e(){v(this,e),this.CLASS_NAME="SuperMap.Geometry",this.id=RY.createUniqueID(this.CLASS_NAME+"_"),this.parent=null,this.bounds=null,this.SRID=null}return g(e,[{key:"destroy",value:function(){this.id=null,this.bounds=null,this.SRID=null}},{key:"clone",value:function(){return new e}},{key:"setBounds",value:function(e){e&&(this.bounds=e.clone())}},{key:"clearBounds",value:function(){this.bounds=null,this.parent&&this.parent.clearBounds()}},{key:"extendBounds",value:function(e){this.getBounds()?this.bounds.extend(e):this.setBounds(e)}},{key:"getBounds",value:function(){return null==this.bounds&&this.calculateBounds(),this.bounds}},{key:"calculateBounds",value:function(){}},{key:"getVertices",value:function(e){}},{key:"getArea",value:function(){return 0}}]),e}();xQ.Geometry=DY;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var FY=function(e){function t(e){var n;return _(this,t),n=x(this,E(t).call(this)),n.components=[],n.componentTypes=null,null!=e&&n.addComponents(e),n.CLASS_NAME="SuperMap.Geometry.Collection",n.geometryType="Collection",n}return k(t,e),O(t,[{key:"destroy",value:function(){this.components.length=0,this.components=null,T(E(t.prototype),"destroy",this).call(this)}},{key:"clone",value:function(){for(var e=new t,n=0,r=this.components.length;n<r;n++)e.addComponent(this.components[n].clone());return RY.applyDefaults(e,this),e}},{key:"getComponentsString",value:function(){for(var e=[],t=0,n=this.components.length;t<n;t++)e.push(this.components[t].toShortString());return e.join(",")}},{key:"calculateBounds",value:function(){this.bounds=null;var e=new IY,t=this.components;if(t)for(var n=0,r=t.length;n<r;n++)e.extend(t[n].getBounds());null!=e.left&&null!=e.bottom&&null!=e.right&&null!=e.top&&this.setBounds(e)}},{key:"addComponents",value:function(e){RY.isArray(e)||(e=[e]);for(var t=0,n=e.length;t<n;t++)this.addComponent(e[t])}},{key:"addComponent",value:function(e,t){var n=!1;if(e&&(null==this.componentTypes||RY.indexOf(this.componentTypes,e.CLASS_NAME)>-1)){if(null!=t&&t<this.components.length){var r=this.components.slice(0,t),i=this.components.slice(t,this.components.length);r.push(e),this.components=r.concat(i)}else this.components.push(e);e.parent=this,this.clearBounds(),n=!0}return n}},{key:"removeComponents",value:function(e){var t=!1;RY.isArray(e)||(e=[e]);for(var n=e.length-1;n>=0;--n)t=this.removeComponent(e[n])||t;return t}},{key:"removeComponent",value:function(e){return RY.removeItem(this.components,e),this.clearBounds(),!0}},{key:"getArea",value:function(){for(var e=0,t=0,n=this.components.length;t<n;t++)e+=this.components[t].getArea();return e}},{key:"equals",value:function(e){var t=!0;if(e&&e.CLASS_NAME&&this.CLASS_NAME===e.CLASS_NAME)if(RY.isArray(e.components)&&e.components.length===this.components.length){for(var n=0,r=this.components.length;n<r;++n)if(!this.components[n].equals(e.components[n])){t=!1;break}}else t=!1;else t=!1;return t}},{key:"getVertices",value:function(e){for(var t=[],n=0,r=this.components.length;n<r;++n)Array.prototype.push.apply(t,this.components[n].getVertices(e));return t}}]),t}(DY);xQ.Geometry.Collection=FY;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var BY=function(e){function t(e){var n;return L(this,t),n=N(this,D(t).call(this,e)),n.componentTypes=["SuperMap.Geometry.Point"],n.CLASS_NAME="SuperMap.Geometry.MultiPoint",n.geometryType="MultiPoint",n}return F(t,e),R(t,[{key:"addPoint",value:function(e,t){this.addComponent(e,t)}},{key:"removePoint",value:function(e){this.removeComponent(e)}}]),t}(FY);xQ.Geometry.MultiPoint=BY;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var UY=function(e){function t(e){var n;return G(this,t),n=z(this,H(t).call(this,e)),n.componentTypes=["SuperMap.Geometry.Point","SuperMap.PointWithMeasure"],n.CLASS_NAME="SuperMap.Geometry.Curve",n.geometryType="Curve",n}return J(t,e),t}(BY);xQ.Geometry.Curve=UY;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var GY=function(e){function t(e,n,r,i){var o;return Q(this,t),o=K(this,te(t).call(this,e,n,r,i)),o.x=parseFloat(e),o.y=parseFloat(n),o.tag=i||0==i?parseFloat(i):null,o.type=r||"Point",o.CLASS_NAME="SuperMap.Geometry.Point",o.geometryType="Point",o}return ne(t,e),X(t,[{key:"clone",value:function(e){return null==e&&(e=new t(this.x,this.y)),RY.applyDefaults(e,this),e}},{key:"calculateBounds",value:function(){this.bounds=new IY(this.x,this.y,this.x,this.y)}},{key:"equals",value:function(e){var t=!1;return null!=e&&(t=this.x===e.x&&this.y===e.y||isNaN(this.x)&&isNaN(this.y)&&isNaN(e.x)&&isNaN(e.y)),t}},{key:"move",value:function(e,t){this.x=this.x+e,this.y=this.y+t,this.clearBounds()}},{key:"toShortString",value:function(){return this.x+", "+this.y}},{key:"destroy",value:function(){this.x=null,this.y=null,this.tag=null,$(te(t.prototype),"destroy",this).call(this)}},{key:"getVertices",value:function(e){return[this]}}]),t}(DY);xQ.Geometry.Point=GY;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var zY=function(e){function t(e){var n;return oe(this,t),n=le(this,he(t).call(this,e)),n.CLASS_NAME="SuperMap.Geometry.LineString",n.geometryType="LineString",n}return pe(t,e),se(t,[{key:"removeComponent",value:function(e){var n=this.components&&this.components.length>2;return n&&ce(he(t.prototype),"removeComponent",this).apply(this,arguments),n}},{key:"getSortedSegments",value:function(){function e(e,t){return e.x1-t.x1}for(var t,n,r=this.components.length-1,i=new Array(r),o=0;o<r;++o)t=this.components[o],n=this.components[o+1],t.x<n.x?i[o]={x1:t.x,y1:t.y,x2:n.x,y2:n.y}:i[o]={x1:n.x,y1:n.y,x2:t.x,y2:t.y};return i.sort(e)}},{key:"getVertices",value:function(e){return!0===e?[this.components[0],this.components[this.components.length-1]]:!1===e?this.components.slice(1,this.components.length-1):this.components.slice()}}],[{key:"calculateCircle",value:function(e){if(e.length<3)return e;var t={},n=e[0],r=e[1],i=e[2],o=0,a=0,s=!0,l=0,u=0,c=0,f=[],h=(i.y-n.y)/(i.x-n.x),p=i.y-h*i.x;if(i.x!=n.x&&i.y!=n.y&&r.y==h*r.x+p||i.x==n.x&&r.x==n.x||i.y==n.y&&r.y==n.y||i.x==n.x&&i.y==n.y||i.x==r.x&&i.y==r.y||n.x==r.x&&n.y==r.y)f.push(n),f.push(r),f.push(i);else{var y=(r.x*r.x+r.y*r.y-(n.x*n.x+n.y*n.y))*(2*(i.y-n.y))-(i.x*i.x+i.y*i.y-(n.x*n.x+n.y*n.y))*(2*(r.y-n.y)),d=2*(r.x-n.x)*(i.x*i.x+i.y*i.y-(n.x*n.x+n.y*n.y))-2*(i.x-n.x)*(r.x*r.x+r.y*r.y-(n.x*n.x+n.y*n.y)),m=4*((r.x-n.x)*(i.y-n.y)-(i.x-n.x)*(r.y-n.y));t.x=y/m,t.y=d/m,o=Math.sqrt((n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y));var v=(n.x-i.x)*(n.x-i.x)+(n.y-i.y)*(n.y-i.y),b=(2*o*o-v)/(2*o*o);b=b>=1?1:b,b=b<=-1?-1:b,c=180*Math.acos(b)/Math.PI,c=i.x==n.x?t.x>n.x&&r.x>n.x||t.x<n.x&&r.x<n.x?360-c:c:t.y>h*t.x+p&&r.y>h*r.x+p||t.y<h*t.x+p&&r.y<h*r.x+p?360-c:c,a=c/72,i.y!=n.y?i.x==n.x?i.y>n.y?r.x<n.x&&(s=!1):r.x>n.x&&(s=!1):i.x<n.x?r.y<h*r.x+p&&(s=!1):r.y>h*r.x+p&&(s=!1):i.x>n.x?r.y>n.y&&(s=!1):r.y<n.y&&(s=!1);var g=(n.y-t.y)/(n.x-t.x),S=g>=0?180*Math.atan(g)/Math.PI:Math.abs(180*Math.atan(g)/Math.PI)+90,_=Math.abs(t.y);n.y==_&&_==i.y&&n.x<i.x&&(S+=180);var w=n.y-t.y;f.push(n);for(var O=1;O<72;O++){l=a*O,u=S,s?w>=0?g>=0?u+=l:u=180-(u-90)+l:u=g>0?u-180+l:90-u+l:w>=0?g>=0?u-=l:u=180-(u-90)-l:u=g>=0?u-180-l:90-u-l,u=u*Math.PI/180;var x=t.x+o*Math.cos(u),C=t.y+o*Math.sin(u);f.push(new GY(x,C))}f.push(i)}return f}},{key:"createLineEPS",value:function(e){var n=[],r=e.length;if(r<2)return e;for(var i=0;i<r;){if("LTypeArc"==e[i].type){var o=t.createLineArc(n,i,r,e);n=o[0],i=o[1]}else n.push(e[i]),i++}return n}},{key:"createLineArc",value:function(e,n,r,i){if(0==n){var o=t.addPointEPS(i,n,r,"LTypeArc");Array.prototype.push.apply(e,o[0]),n=o[1]+1}else if(n==r-1){var a=[i[n-1],i[n]],s=t.calculateCircle(a);Array.prototype.push.apply(e,s),n++}else{var l=t.addPointEPS(i,n,r,"LTypeArc");e.pop(),Array.prototype.push.apply(e,l[0]),n=l[1]+1}return[e,n]}},{key:"addPointEPS",value:function(e,n,r,i){var o=[],a=n+1;0==n?Array.prototype.push.apply(o,[e[n],e[n+1]]):n==r-1?Array.prototype.push.apply(o,[e[n-1],e[n]]):Array.prototype.push.apply(o,[e[n-1],e[n],e[n+1]]);var s;return"LTypeCurve"==i?s=t.calculatePointsFBZN(o):"LTypeArc"==i&&(s=t.calculateCircle(o)),[s,a]}}]),t}(UY);xQ.Geometry.LineString=zY;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var VY=function(e){function t(e,n,r){var i;return me(this,t),i=ge(this,Oe(t).call(this,e,n,r)),i.x=parseFloat(e),i.y=parseFloat(n),i.text=r.toString(),i.bsInfo={h:null,w:null},i.element=document.createElement("span"),i.CLASS_NAME="SuperMap.Geometry.GeoText",i.geometryType="GeoText",i}return xe(t,e),be(t,[{key:"destroy",value:function(){_e(Oe(t.prototype),"destroy",this).call(this),this.x=null,this.y=null,this.text=null}},{key:"getCentroid",value:function(){return new GY(this.x,this.y)}},{key:"clone",value:function(e){return null==e&&(e=new t(this.x,this.y,this.text)),RY.applyDefaults(e,this),e}},{key:"calculateBounds",value:function(){this.bounds=new IY(this.x,this.y,this.x,this.y)}},{key:"getLabelPxBoundsByLabel",value:function(e,t,n,r){var i,o,a,s,l=RY.cloneObject(e),u=r.label||this.text,c=u.split("\n"),f=c.length;if(t=parseFloat(t),n=parseFloat(n),f>1&&(n=parseFloat(n)*f),r.labelAlign&&"cm"!==r.labelAlign)switch(r.labelAlign){case"lt":l.x+=t/2,l.y+=n/2;break;case"lm":l.x+=t/2;break;case"lb":l.x+=t/2,l.y-=n/2;break;case"ct":l.y+=n/2;break;case"cb":l.y-=n/2;break;case"rt":l.x-=t/2,l.y+=n/2;break;case"rm":l.x-=t/2;break;case"rb":l.x-=t/2,l.y-=n/2}return this.bsInfo.h=n,this.bsInfo.w=t,i=l.x-parseFloat(t)/2,o=l.y+parseFloat(n)/2,s=l.x+parseFloat(t)/2,a=l.y-parseFloat(n)/2,new IY(i,o,s,a)}},{key:"getLabelPxBoundsByText",value:function(e,t){var n,r,i,o,a=this.getLabelPxSize(t),s=RY.cloneObject(e);if(t.labelAlign&&"cm"!==t.labelAlign)switch(t.labelAlign){case"lt":s.x+=a.w/2,s.y+=a.h/2;break;case"lm":s.x+=a.w/2;break;case"lb":s.x+=a.w/2,s.y-=a.h/2;break;case"ct":s.y+=a.h/2;break;case"cb":s.y-=a.h/2;break;case"rt":s.x-=a.w/2,s.y+=a.h/2;break;case"rm":s.x-=a.w/2;break;case"rb":s.x-=a.w/2,s.y-=a.h/2}return this.bsInfo.h=a.h,this.bsInfo.w=a.w,n=s.x-a.w/2,r=s.y+a.h/2,o=t.fontStyle&&"italic"===t.fontStyle?s.x+a.w/2+parseInt(parseFloat(t.fontSize)/2):s.x+a.w/2,i=s.y-a.h/2,new IY(n,r,o,i)}},{key:"getLabelPxSize",value:function(e){var t,n,r=parseFloat(e.strokeWidth);t=e.label||this.text,n=e.fontSize?parseFloat(e.fontSize):parseFloat("12px");var i,o,a=t.split("\n"),s=a.length;o=s>1?n*s+s+r+.2*n:n+r+.2*n+1,i=0,this.labelWTmp&&i<this.labelWTmp&&(i=this.labelWTmp);for(var l=0;l<s;l++){var u=this.getTextCount(a[l]),c=this.labelWTmp=RY.getTextBounds(e,a[l],this.element).textWidth+1*u.textC+r;i<c&&(i=c)}var f=new Object;return f.h=o,f.w=i,f}},{key:"getTextCount",value:function(e){for(var t={},n=0,r=0,i=0;i<e.length;i++)e.charCodeAt(i)>255?n++:r++;return t.cnC=n,t.enC=r,t.textC=e.length,t}}]),t}(DY);xQ.Geometry.GeoText=VY;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var HY=function(e){function t(e){var n;return Pe(this,t),n=Me(this,Re(t).call(this,e)),n.componentTypes=["SuperMap.Geometry.Point"],n.CLASS_NAME="SuperMap.Geometry.LinearRing",n.geometryType="LinearRing",n}return Ne(t,e),ke(t,[{key:"addComponent",value:function(e,n){var r=!1,i=this.components.pop();null==n&&e.equals(i)||(r=Le(Re(t.prototype),"addComponent",this).apply(this,arguments));var o=this.components[0];return Le(Re(t.prototype),"addComponent",this).apply(this,[o]),r}},{key:"removeComponent",value:function(e){var n=this.components&&this.components.length>3;if(n){this.components.pop(),Le(Re(t.prototype),"removeComponent",this).apply(this,arguments);var r=this.components[0];Le(Re(t.prototype),"addComponent",this).apply(this,[r])}return n}},{key:"getArea",value:function(){var e=0;if(this.components&&this.components.length>2){for(var t=0,n=0,r=this.components.length;n<r-1;n++){var i=this.components[n],o=this.components[n+1];t+=(i.x+o.x)*(o.y-i.y)}e=-t/2}return e}},{key:"getVertices",value:function(e){return!0===e?[]:this.components.slice(0,this.components.length-1)}}]),t}(zY);xQ.Geometry.LinearRing=HY;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var JY=function(e){function t(e){var n;return Fe(this,t),n=Be(this,Ge(t).call(this,e)),n.componentTypes=["SuperMap.Geometry.LineString"],n.CLASS_NAME="SuperMap.Geometry.MultiLineString",n.geometryType="MultiLineString",n}return ze(t,e),t}(FY);xQ.Geometry.MultiLineString=JY;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var qY=function(e){function t(e){var n;return Je(this,t),n=qe(this,Qe(t).call(this,e)),n.componentTypes=["SuperMap.Geometry.Polygon"],n.CLASS_NAME="SuperMap.Geometry.MultiPolygon",n.geometryType="MultiPolygon",n}return Ye(t,e),t}(FY);xQ.Geometry.MultiPolygon=qY;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var WY=function(e){function t(e){var n;return Ze(this,t),n=tt(this,rt(t).call(this,e)),n.componentTypes=["SuperMap.Geometry.LinearRing"],n.CLASS_NAME="SuperMap.Geometry.Polygon",n.geometryType="Polygon",n}return it(t,e),et(t,[{key:"getArea",value:function(){var e=0;if(this.components&&this.components.length>0){e+=Math.abs(this.components[0].getArea());for(var t=1,n=this.components.length;t<n;t++)e-=Math.abs(this.components[t].getArea())}return e}}]),t}(FY);xQ.Geometry.Polygon=WY;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var QY=function(e){function t(e,n,r,i){var o;return st(this,t),o=ct(this,ht(t).call(this,e,n,r,i)),o.x=e,o.y=n,o.width=r,o.height=i,o.CLASS_NAME="SuperMap.Geometry.Rectangle",o.geometryType="Rectangle",o}return pt(t,e),ut(t,[{key:"calculateBounds",value:function(){this.bounds=new IY(this.x,this.y,this.x+this.width,this.y+this.height)}},{key:"getArea",value:function(){return this.width*this.height}}]),t}(DY);xQ.Geometry.Rectangle=QY;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var YY=function(){function e(t,n){dt(this,e),this.value=t||"",this.name=n||"token",this.CLASS_NAME="SuperMap.Credential"}return vt(e,[{key:"getUrlParameters",value:function(){return this.name+"="+this.value}},{key:"getValue",value:function(){return this.value}},{key:"destroy",value:function(){this.value=null,this.name=null}}]),e}();YY.CREDENTIAL=null,xQ.Credential=YY;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var XY=(xQ.Date={toISOString:function(){if("toISOString"in Date.prototype)return function(e){return e.toISOString()};var e=function(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n};return function(t){return isNaN(t.getTime())?"Invalid Date":t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1,2)+"-"+e(t.getUTCDate(),2)+"T"+e(t.getUTCHours(),2)+":"+e(t.getUTCMinutes(),2)+":"+e(t.getUTCSeconds(),2)+"."+e(t.getUTCMilliseconds(),3)+"Z"}}(),parse:function(e){var t,n=e.match(/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:(?:T(\d{1,2}):(\d{2}):(\d{2}(?:\.\d+)?)(Z|(?:[+-]\d{1,2}(?::(\d{2}))?)))|Z)?$/);if(n&&(n[1]||n[7])){var r=parseInt(n[1],10)||0,i=parseInt(n[2],10)-1||0,o=parseInt(n[3],10)||1;t=new Date(Date.UTC(r,i,o));var a=n[7];if(a){var s=parseInt(n[4],10),l=parseInt(n[5],10),u=parseFloat(n[6]),c=0|u,f=Math.round(1e3*(u-c));if(t.setUTCHours(s,l,c,f),"Z"!==a){var h=parseInt(a,10),p=parseInt(n[8],10)||0,y=-1e3*(60*h*60+60*p);t=new Date(t.getTime()+y)}}}else t=new Date("invalid");return t}},xQ.Event={observers:!1,KEY_SPACE:32,KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,element:function(e){return e.target||e.srcElement},isSingleTouch:function(e){return e.touches&&1===e.touches.length},isMultiTouch:function(e){return e.touches&&e.touches.length>1},isLeftClick:function(e){return e.which&&1===e.which||e.button&&1===e.button},isRightClick:function(e){return e.which&&3===e.which||e.button&&2===e.button},stop:function(e,t){t||(e.preventDefault?e.preventDefault():e.returnValue=!1),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},findElement:function(e,t){for(var n=xQ.Event.element(e);n.parentNode&&(!n.tagName||n.tagName.toUpperCase()!=t.toUpperCase());)n=n.parentNode;return n},observe:function(e,t,n,r){var i=RY.getElement(e);if(r=r||!1,"keypress"===t&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||i.attachEvent)&&(t="keydown"),this.observers||(this.observers={}),!i._eventCacheID){var o="eventCacheID_";i.id&&(o=i.id+"_"+o),i._eventCacheID=RY.createUniqueID(o)}var a=i._eventCacheID;this.observers[a]||(this.observers[a]=[]),this.observers[a].push({element:i,name:t,observer:n,useCapture:r}),i.addEventListener?"mousewheel"===t?i.addEventListener(t,n,{useCapture:r,passive:!1}):i.addEventListener(t,n,r):i.attachEvent&&i.attachEvent("on"+t,n)},stopObservingElement:function(e){var t=RY.getElement(e),n=t._eventCacheID;this._removeElementObservers(xQ.Event.observers[n])},_removeElementObservers:function(e){if(e)for(var t=e.length-1;t>=0;t--){var n=e[t],r=new Array(n.element,n.name,n.observer,n.useCapture);xQ.Event.stopObserving.apply(this,r)}},stopObserving:function(e,t,n,r){r=r||!1;var i=RY.getElement(e),o=i._eventCacheID;"keypress"===t&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||i.detachEvent)&&(t="keydown");var a=!1,s=xQ.Event.observers[o];if(s)for(var l=0;!a&&l<s.length;){var u=s[l];if(u.name===t&&u.observer===n&&u.useCapture===r){s.splice(l,1),0==s.length&&delete xQ.Event.observers[o],a=!0;break}l++}return a&&(i.removeEventListener?i.removeEventListener(t,n,r):i&&i.detachEvent&&i.detachEvent("on"+t,n)),a},unloadCache:function(){if(xQ.Event&&xQ.Event.observers){for(var e in xQ.Event.observers){var t=xQ.Event.observers[e];xQ.Event._removeElementObservers.apply(this,[t])}xQ.Event.observers=!1}},CLASS_NAME:"SuperMap.Event"});xQ.Event=XY,xQ.Event.observe(window,"unload",xQ.Event.unloadCache,!1);/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var KY=function(){function e(t,n,r,i,o){if(gt(this,e),this.BROWSER_EVENTS=["mouseover","mouseout","mousedown","mouseup","mousemove","click","dblclick","rightclick","dblrightclick","resize","focus","blur","touchstart","touchmove","touchend","keydown","MSPointerDown","MSPointerUp","pointerdown","pointerup","MSGestureStart","MSGestureChange","MSGestureEnd","contextmenu"],this.listeners={},this.object=t,this.element=null,this.eventTypes=[],this.eventHandler=null,this.fallThrough=i,this.includeXY=!1,this.extensions={},this.extensionCount={},this.clearMouseListener=null,RY.extend(this,o),null!=r)for(var a=0,s=r.length;a<s;a++)this.addEventType(r[a]);null!=n&&this.attachToElement(n),this.CLASS_NAME="SuperMap.Events"}return _t(e,[{key:"destroy",value:function(){for(var e in this.extensions)"boolean"!=typeof this.extensions[e]&&this.extensions[e].destroy();this.extensions=null,this.element&&(XY.stopObservingElement(this.element),this.element.hasScrollEvent&&XY.stopObserving(window,"scroll",this.clearMouseListener)),this.element=null,this.listeners=null,this.object=null,this.eventTypes=null,this.fallThrough=null,this.eventHandler=null}},{key:"addEventType",value:function(e){this.listeners[e]||(this.eventTypes.push(e),this.listeners[e]=[])}},{key:"attachToElement",value:function(e){this.element?XY.stopObservingElement(this.element):(this.eventHandler=jY.bindAsEventListener(this.handleBrowserEvent,this),this.clearMouseListener=jY.bind(this.clearMouseCache,this)),this.element=e;for(var t=0,n=this.BROWSER_EVENTS.length;t<n;t++){var r=this.BROWSER_EVENTS[t];this.addEventType(r),XY.observe(e,r,this.eventHandler)}XY.observe(e,"dragstart",XY.stop)}},{key:"on",value:function(e){for(var t in e)"scope"!==t&&e.hasOwnProperty(t)&&this.register(t,e.scope,e[t])}},{key:"register",value:function(t,n,r,i){if(t in e&&!this.extensions[t]&&(this.extensions[t]=new e[t](this)),null!=r&&-1!==RY.indexOf(this.eventTypes,t)){null==n&&(n=this.object);var o=this.listeners[t];o||(o=[],this.listeners[t]=o,this.extensionCount[t]=0);var a={obj:n,func:r};i?(o.splice(this.extensionCount[t],0,a),"object"===bt(i)&&i.extension&&this.extensionCount[t]++):o.push(a)}}},{key:"registerPriority",value:function(e,t,n){this.register(e,t,n,!0)}},{key:"un",value:function(e){for(var t in e)"scope"!==t&&e.hasOwnProperty(t)&&this.unregister(t,e.scope,e[t])}},{key:"unregister",value:function(e,t,n){null==t&&(t=this.object);var r=this.listeners[e];if(null!=r)for(var i=0,o=r.length;i<o;i++)if(r[i].obj===t&&r[i].func===n){r.splice(i,1);break}}},{key:"remove",value:function(e){null!=this.listeners[e]&&(this.listeners[e]=[])}},{key:"triggerEvent",value:function(e,t){var n=this.listeners[e];if(n&&0!=n.length){null==t&&(t={}),t.object=this.object,t.element=this.element,t.type||(t.type=e),n=n.slice();for(var r,i=0,o=n.length;i<o;i++){var a=n[i];if(void 0!=(r=a.func.apply(a.obj,[t]))&&!1===r)break}return this.fallThrough||XY.stop(t,!0),r}}},{key:"handleBrowserEvent",value:function(e){var t=e.type,n=this.listeners[t];if(n&&0!=n.length){var r=e.touches;if(r&&r[0]){for(var i,o=0,a=0,s=r.length,l=0;l<s;++l)i=r[l],o+=i.clientX,a+=i.clientY;e.clientX=o/s,e.clientY=a/s}this.includeXY&&(e.xy=this.getMousePosition(e)),this.triggerEvent(t,e)}}},{key:"clearMouseCache",value:function(){this.element.scrolls=null,this.element.lefttop=null;var e=document.body;e&&(0==e.scrollTop&&0==e.scrollLeft||!navigator.userAgent.match(/iPhone/i))&&(this.element.offsets=null)}},{key:"getMousePosition",value:function(e){if(this.includeXY?this.element.hasScrollEvent||(XY.observe(window,"scroll",this.clearMouseListener),this.element.hasScrollEvent=!0):this.clearMouseCache(),!this.element.scrolls){var t=RY.getViewportElement();this.element.scrolls=[t.scrollLeft,t.scrollTop]}return this.element.lefttop||(this.element.lefttop=[document.documentElement.clientLeft||0,document.documentElement.clientTop||0]),this.element.offsets||(this.element.offsets=RY.pagePosition(this.element)),new MY(e.clientX+this.element.scrolls[0]-this.element.offsets[0]-this.element.lefttop[0],e.clientY+this.element.scrolls[1]-this.element.offsets[1]-this.element.lefttop[1])}}]),e}();xQ.Events=KY,xQ.Events.prototype.BROWSER_EVENTS=["mouseover","mouseout","mousedown","mouseup","mousemove","click","dblclick","rightclick","dblrightclick","resize","focus","blur","touchstart","touchmove","touchend","keydown","MSPointerDown","MSPointerUp","pointerdown","pointerup","MSGestureStart","MSGestureChange","MSGestureEnd","contextmenu"];/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var ZY=function(){function e(t,n,r){wt(this,e),this.CLASS_NAME="SuperMap.Feature",this.layer=t,this.id=RY.createUniqueID(this.CLASS_NAME+"_"),this.lonlat=n,this.data=null!=r?r:{}}return xt(e,[{key:"destroy",value:function(){this.id=null,this.lonlat=null,this.data=null}}]),e}();xQ.Feature=ZY;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var $Y=function(e){function t(e,n,r){var i;return Tt(this,t),i=kt(this,jt(t).call(this,null,null,n)),i.fid=null,i.geometry=e||null,i.attributes={},n&&(i.attributes=RY.extend(i.attributes,n)),i.bounds=null,i.state=null,i.style=r||null,i.url=null,i.lonlat=null,i.CLASS_NAME="SuperMap.Feature.Vector",xQ.State={UNKNOWN:"Unknown",INSERT:"Insert",UPDATE:"Update",DELETE:"Delete"},t.style={default:{fillColor:"#ee9900",fillOpacity:.4,hoverFillColor:"white",hoverFillOpacity:.8,strokeColor:"#ee9900",strokeOpacity:1,strokeWidth:1,strokeLinecap:"round",strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"inherit",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},select:{fillColor:"blue",fillOpacity:.4,hoverFillColor:"white",hoverFillOpacity:.8,strokeColor:"blue",strokeOpacity:1,strokeWidth:2,strokeLinecap:"round",strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"pointer",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},temporary:{fillColor:"#66cccc",fillOpacity:.2,hoverFillColor:"white",hoverFillOpacity:.8,strokeColor:"#66cccc",strokeOpacity:1,strokeLinecap:"round",strokeWidth:2,strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"default",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},delete:{display:"none"}},i}return Rt(t,e),Et(t,[{key:"destroy",value:function(){this.layer&&(this.layer.removeFeatures(this),this.layer=null),this.geometry=null,At(jt(t.prototype),"destroy",this).call(this)}},{key:"clone",value:function(){return new t(this.geometry?this.geometry.clone():null,this.attributes,this.style)}},{key:"toState",value:function(e){if(e===xQ.State.UPDATE)switch(this.state){case xQ.State.UNKNOWN:case xQ.State.DELETE:this.state=e;break;case xQ.State.UPDATE:case xQ.State.INSERT:}else if(e===xQ.State.INSERT)switch(this.state){case xQ.State.UNKNOWN:break;default:this.state=e}else if(e===xQ.State.DELETE)switch(this.state){case xQ.State.INSERT:case xQ.State.DELETE:break;case xQ.State.UNKNOWN:case xQ.State.UPDATE:this.state=e}else e===xQ.State.UNKNOWN&&(this.state=e)}}]),t}(ZY);xQ.Feature.Vector=$Y;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var eX=function(){function e(t){It(this,e),this.data=null,this.keepData=!1,RY.extend(this,t),this.options=t,this.CLASS_NAME="SuperMap.Format"}return Ft(e,[{key:"destroy",value:function(){}},{key:"read",value:function(e){}},{key:"write",value:function(e){}}]),e}();xQ.Format=eX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var tX=function(e){function t(e){var n;return Ut(this,t),n=Vt(this,Jt(t).call(this,e)),n.indent="    ",n.space=" ",n.newline="\n",n.level=0,n.pretty=!1,n.nativeJSON=function(){return!(!window.JSON||"function"!=typeof JSON.parse||"function"!=typeof JSON.stringify)}(),n.CLASS_NAME="SuperMap.Format.JSON",n.serialize={object:function(e){if(null==e)return"null";if(e.constructor===Date)return this.serialize.date.apply(this,[e]);if(e.constructor===Array)return this.serialize.array.apply(this,[e]);var t=["{"];this.level+=1;var n,r,i,o=!1;for(n in e)e.hasOwnProperty(n)&&(r=this.write.apply(this,[n,this.pretty]),i=this.write.apply(this,[e[n],this.pretty]),null!=r&&null!=i&&(o&&t.push(","),t.push(this.writeNewline(),this.writeIndent(),r,":",this.writeSpace(),i),o=!0));return this.level-=1,t.push(this.writeNewline(),this.writeIndent(),"}"),t.join("")},array:function(e){var t,n=["["];this.level+=1;for(var r=0,i=e.length;r<i;++r)null!=(t=this.write.apply(this,[e[r],this.pretty]))&&(r>0&&n.push(","),n.push(this.writeNewline(),this.writeIndent(),t));return this.level-=1,n.push(this.writeNewline(),this.writeIndent(),"]"),n.join("")},string:function(e){var t={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return/["\\\x00-\x1f]/.test(e)?'"'+e.replace(/([\x00-\x1f\\"])/g,function(e,n){var r=t[n];return r||(r=n.charCodeAt(),"\\u00"+Math.floor(r/16).toString(16)+(r%16).toString(16))})+'"':'"'+e+'"'},number:function(e){return isFinite(e)?String(e):"null"},boolean:function(e){return String(e)},date:function(e){function t(e){return e<10?"0"+e:e}return'"'+e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+"T"+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())+'"'}},n}return qt(t,e),zt(t,[{key:"read",value:function(e,t){var n;if(this.nativeJSON)try{n=JSON.parse(e,t)}catch(e){}return this.keepData&&(this.data=n),n}},{key:"write",value:function(e,t){this.pretty=!!t;var n=null,r=Bt(e);if(this.serialize[r])try{n=!this.pretty&&this.nativeJSON?JSON.stringify(e):this.serialize[r].apply(this,[e])}catch(e){}return n}},{key:"writeIndent",value:function(){var e=[];if(this.pretty)for(var t=0;t<this.level;++t)e.push(this.indent);return e.join("")}},{key:"writeNewline",value:function(){return this.pretty?this.newline:""}},{key:"writeSpace",value:function(){return this.pretty?this.space:""}}]),t}(eX);xQ.Format.JSON=tX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var nX=function(){function e(t,n,r){Qt(this,e),this.red=t||0==t?t:255,this.green=n||0,this.blue=r||0,this.CLASS_NAME="SuperMap.ServerColor"}return Xt(e,[{key:"destroy",value:function(){var e=this;e.red=null,e.green=null,e.blue=null}}],[{key:"fromJson",value:function(t){if(t){var n=new e,r=255;null!==t.red&&(r=Number(t.red)),n.red=r;var i=0;null!==t.green&&(i=Number(t.green)),n.green=i;var o=0;return null!==t.blue&&(o=Number(t.blue)),n.blue=o,n}}}]),e}();xQ.ServerColor=nX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var rX=function(){function e(t){Kt(this,e),this.fillBackColor=new nX(255,255,255),this.fillBackOpaque=!1,this.fillForeColor=new nX(255,0,0),this.fillGradientMode=null,this.fillGradientAngle=0,this.fillGradientOffsetRatioX=0,this.fillGradientOffsetRatioY=0,this.fillOpaqueRate=100,this.fillSymbolID=0,this.lineColor=new nX(0,0,0),this.lineSymbolID=0,this.lineWidth=1,this.markerAngle=0,this.markerSize=1,this.markerSymbolID=-1,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.ServerStyle"}return $t(e,[{key:"destroy",value:function(){var e=this;e.fillBackColor&&(e.fillBackColor.destroy(),e.fillBackColor=null),e.fillBackOpaque=null,e.fillForeColor&&(e.fillForeColor.destroy(),e.fillForeColor=null),e.fillGradientMode=null,e.fillGradientAngle=null,e.fillGradientOffsetRatioX=null,e.fillGradientOffsetRatioY=null,e.fillOpaqueRate=null,e.fillSymbolID=null,e.lineColor&&(e.lineColor.destroy(),e.lineColor=null),e.lineSymbolID=null,e.lineWidth=null,e.markerAngle=null,e.markerSize=null,e.markerSymbolID=null}},{key:"toServerJSONObject",value:function(){var e={};return e=RY.copyAttributes(e,this)}}],[{key:"fromJson",value:function(t){if(t)return new e({fillBackColor:nX.fromJson(t.fillBackColor),fillBackOpaque:t.fillBackOpaque,fillForeColor:nX.fromJson(t.fillForeColor),fillGradientMode:t.fillGradientMode,fillGradientAngle:t.fillGradientAngle,fillGradientOffsetRatioX:t.fillGradientOffsetRatioX,fillGradientOffsetRatioY:t.fillGradientOffsetRatioY,fillOpaqueRate:t.fillOpaqueRate,fillSymbolID:t.fillSymbolID,lineColor:nX.fromJson(t.lineColor),lineSymbolID:t.lineSymbolID,lineWidth:t.lineWidth,markerAngle:t.markerAngle,markerSize:t.markerSize,markerSymbolID:t.markerSymbolID})}}]),e}();xQ.ServerStyle=rX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var iX=function(e){function t(e){var n;return tn(this,t),n=on(this,an(t).call(this,e)),n.measure=null,e&&RY.extend(sn(n),e),n.CLASS_NAME="SuperMap.PointWithMeasure",n}return ln(t,e),rn(t,[{key:"equals",value:function(e){var t=!1;if(null!=e){var n=this.x===e.x&&this.y===e.y&&this.measure===e.measure,r=isNaN(this.x)&&isNaN(this.y)&&isNaN(this.measure),i=isNaN(e.x)&&isNaN(e.y)&&isNaN(e.measure);t=n||r&&i}return t}},{key:"toJson",value:function(){var e="{";return null!=this.measure&&void 0!=this.measure&&(e+='"measure":'+this.measure+","),e+='"x":'+this.x+",",e+='"y":'+this.y,e+="}"}},{key:"destroy",value:function(){var e=this;e.measure=null,e.x=null,e.y=null}}],[{key:"fromJson",value:function(e){if(e)return new t({x:e.x,y:e.y,measure:e.measure})}}]),t}(GY);xQ.PointWithMeasure=iX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var oX=function(e){function t(e,n){var r;return fn(this,t),r=yn(this,dn(t).call(this,e,n)),r.id=null,r.center=null,r.style=null,r.length=null,r.maxM=null,r.minM=null,r.parts=null,r.points=null,r.type=null,r.componentTypes=["SuperMap.Geometry.LinearRing","SuperMap.Geometry.LineString"],n&&RY.extend(mn(r),n),r.CLASS_NAME="SuperMap.Route",r.geometryType="LINEM",r}return vn(t,e),pn(t,[{key:"toJson",value:function(){var e="{";if(null!=this.id&&void 0!=this.id&&(e+='"id":'+this.id+","),null!=this.center&&void 0!=this.center&&(e+='"center":'+this.center+","),null!=this.style&&void 0!=this.style&&(e+='"style":'+this.style+","),null!=this.length&&void 0!=this.length&&(e+='"length":'+this.length+","),null!=this.maxM&&void 0!=this.maxM&&(e+='"maxM":'+this.maxM+","),null!=this.minM&&void 0!=this.minM&&(e+='"minM":'+this.minM+","),null!=this.type&&void 0!=this.type&&(e+='"type":"'+this.type+'",'),null!=this.parts&&void 0!=this.parts){e+='"parts":['+this.parts[0];for(var t=1;t<this.parts.length;t++)e+=","+this.parts[t];e+="],"}if(null!=this.components&&this.components.length>0){e+='"points":[';for(var n=0,r=this.components.length;n<r;n++)for(var i=0,o=this.components[n].components.length;i<o;i++)e+=this.components[n].components[i].toJson()+",";e=e.replace(/,$/g,""),e+="]"}return e=e.replace(/,$/g,""),e+="}"}},{key:"destroy",value:function(){var e=this;e.id=null,e.center=null,e.style=null,e.length=null,e.maxM=null,e.minM=null,e.type=null,e.parts=null,e.components.length=0,e.components=null,e.componentTypes=null}}],[{key:"fromJson",value:function(e){if(e){var n=e.parts||[],r=e.points||[],i=n.length,o=[];if(!(i>0))return null;for(var a=0,s=0,l=[];a<i;a++){for(var u=0;u<n[a];u++)l.push(iX.fromJson(r[s+u]));s+=n[a],l[0].equals(l[n[a]-1])?o.push(new HY(l)):o.push(new zY(l)),l=[]}return new t(o,{id:e.id,center:e.center,style:e.style,length:e.length,maxM:e.maxM,minM:e.minM,type:e.type,parts:e.parts})}}}]),t}(FY);xQ.Route=oX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var aX=function(){function e(t){gn(this,e),this.id=0,this.style=null,this.parts=null,this.points=null,this.type=null,this.prjCoordSys=null,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.ServerGeometry"}return _n(e,[{key:"destroy",value:function(){var e=this;e.id=null,e.style=null,e.parts=null,e.partTopo=null,e.points=null,e.type=null,e.prjCoordSys=null}},{key:"toGeometry",value:function(){var e=this;switch(e.type.toUpperCase()){case PQ.POINT:return e.toGeoPoint();case PQ.LINE:return e.toGeoLine();case PQ.LINEM:return e.toGeoLinem();case PQ.REGION:return e.toGeoRegion();case PQ.POINTEPS:return e.toGeoPoint();case PQ.LINEEPS:return e.toGeoLineEPS();case PQ.REGIONEPS:return e.toGeoRegionEPS()}}},{key:"toGeoPoint",value:function(){var e=this,t=e.parts||[],n=e.points||[],r=t.length;if(r>0){if(1===r)return new GY(n[0].x,n[0].y);for(var i=[],o=0;o<r;o++)i.push(new GY(n[o].x,n[o].y));return new BY(i)}return null}},{key:"toGeoLine",value:function(){var e=this,t=e.parts||[],n=e.points||[],r=t.length;if(r>0){if(1===r){for(var i=[],o=0;o<t[0];o++)i.push(new GY(n[o].x,n[o].y));return i[0].equals(i[t[0]-1])?new HY(i):new zY(i)}for(var a=[],s=0;s<r;s++){for(var l=[],u=0;u<t[s];u++)l.push(new GY(n[u].x,n[u].y));a.push(new zY(l)),n.splice(0,t[s])}return new JY(a)}return null}},{key:"toGeoLineEPS",value:function(){var e,t,n,r,i,o=this,a=o.parts||[],s=o.points||[],l=a.length;if(l>0){if(1===l){for(e=0,n=[];e<a[0];e++)n.push(new GY(s[e].x,s[e].y,s[e].type));return n[0].equals(n[a[0]-1])?(i=zY.createLineEPS(n),new HY(i)):(i=zY.createLineEPS(n),new zY(i))}for(e=0,r=[];e<l;e++){for(t=0,n=[];t<a[e];t++)n.push(new GY(s[t].x,s[t].y));i=zY.createLineEPS(n),r.push(new zY(i)),s.splice(0,a[e])}return new JY(r)}return null}},{key:"toGeoLinem",value:function(){var e=this;return oX.fromJson(e)}},{key:"toGeoRegion",value:function(){var t=this,n=t.parts||[],r=t.partTopo||[],i=t.points||[],o=n.length;if(o<=0)return null;var a=[],s=[];if(1==o){for(var l=0;l<i.length;l++)s.push(new GY(i[l].x,i[l].y));return a.push(new WY([new HY(s)])),new qY(a)}for(var u=[],c=[],f=[],h=[],p=[],y=0,d=0;y<o;y++){for(var m=0;m<n[y];m++)s.push(new GY(i[d+m].x,i[d+m].y));d+=n[y];var v=new WY([new HY(s)]);s=[],f.push(v),0===r.length&&h.push(v.getBounds()),p.push(1),c.push(v.getArea())}if(e.bubbleSort(c,f,r,h),0===r.length){for(var b=[],g=1;g<f.length;g++)for(var S=g-1;S>=0;S--)if(b[g]=-1,h[S].containsBounds(h[g])){p[g]=-1*p[S],p[g]<0&&(b[g]=S);break}for(var _=0;_<f.length;_++)p[_]>0?a.push(f[_]):(a[b[_]].components=a[b[_]].components.concat(f[_].components),a.push(""))}else{a=new Array;for(var w=0;w<f.length;w++)if(r[w]&&-1==r[w]?u=u.concat(f[w].components):(u.length>0&&a.length>0&&(a[a.length-1].components=a[a.length-1].components.concat(u),u=[]),a.push(f[w])),w==o-1){var O=a.length;if(O)a[O-1].components=a[O-1].components.concat(u);else for(var x=0,C=u.length;x<C;x++)a.push(new WY(u))}}return new qY(a)}},{key:"toGeoRegionEPS",value:function(){var t=this,n=t.parts||[],r=t.partTopo||[],i=t.points||[],o=n.length;if(o<=0)return null;var a,s=[],l=[];if(1==o){for(var u=0;u<i.length;u++)l.push(new GY(i[u].x,i[u].y));return a=zY.createLineEPS(l),s.push(new WY([new HY(a)])),new qY(s)}for(var c=[],f=[],h=[],p=[],y=[],d=0,m=0;d<o;d++){for(var v=0;v<n[d];v++)l.push(new GY(i[m+v].x,i[m+v].y));m+=n[d],a=zY.createLineEPS(l);var b=new WY([new HY(a)]);l=[],h.push(b),0===r.length&&p.push(b.getBounds()),y.push(1),f.push(b.getArea())}if(e.bubbleSort(f,h,r,p),0===r.length){for(var g=[],S=1;S<h.length;S++)for(var _=S-1;_>=0;_--)if(g[S]=-1,p[_].containsBounds(p[S])){y[S]=-1*y[_],y[S]<0&&(g[S]=_);break}for(var w=0;w<h.length;w++)y[w]>0?s.push(h[w]):(s[g[w]].components=s[g[w]].components.concat(h[w].components),s.push(""))}else{s=new Array;for(var O=0;O<h.length;O++)if(r[O]&&-1==r[O]?c=c.concat(h[O].components):(c.length>0&&s.length>0&&(s[s.length-1].components=s[s.length-1].components.concat(c),c=[]),s.push(h[O])),O==o-1){var x=s.length;if(x)s[x-1].components=s[x-1].components.concat(c);else for(var C=0,T=c.length;C<T;C++)s.push(new WY(c))}}return new qY(s)}}],[{key:"fromJson",value:function(t){if(t)return new e({id:t.id,style:rX.fromJson(t.style),parts:t.parts,partTopo:t.partTopo,points:t.points,center:t.center,length:t.length,maxM:t.maxM,minM:t.minM,type:t.type})}},{key:"fromGeometry",value:function(t){if(t){var n=0,r=[],i=[],o=null,a=t.components,s=t.CLASS_NAME,l={epsgCode:t.SRID};if(isNaN(t.id)||(n=t.id),"SuperMap.Geometry.LinearRing"!=s&&"SuperMap.Geometry.LineString"!=s&&(t instanceof BY||t instanceof JY)){for(var u=a.length,c=0;c<u;c++){var f=a[c].getVertices().length;r.push(f);for(var h=0;h<f;h++)i.push(new GY(a[c].getVertices()[h].x,a[c].getVertices()[h].y))}o="SuperMap.Geometry.MultiPoint"==s?PQ.POINT:PQ.LINE}else if(t instanceof qY){for(var p=a.length,y=0;y<p;y++)for(var d=a[y],m=d.components,v=m.length,b=0;b<v;b++){var g=m[b].getVertices().length+1;r.push(g);for(var S=0;S<g-1;S++)i.push(new GY(m[b].getVertices()[S].x,m[b].getVertices()[S].y));i.push(new GY(m[b].getVertices()[0].x,m[b].getVertices()[0].y))}o=PQ.REGION}else if(t instanceof WY){for(var _=a.length,w=0;w<_;w++){var O=a[w].getVertices().length+1;r.push(O);for(var x=0;x<O-1;x++)i.push(new GY(a[w].getVertices()[x].x,a[w].getVertices()[x].y));i.push(new GY(a[w].getVertices()[0].x,a[w].getVertices()[0].y))}o=PQ.REGION}else{for(var C=t.getVertices().length,T=0;T<C;T++)i.push(new GY(t.getVertices()[T].x,t.getVertices()[T].y));t instanceof HY&&(i.push(new GY(t.getVertices()[0].x,t.getVertices()[0].y)),C++),r.push(C),o=t instanceof GY?PQ.POINT:PQ.LINE}return new e({id:n,style:null,parts:r,points:i,type:o,prjCoordSys:l})}}},{key:"IsClockWise",value:function(e){var t=e.length;if(t<3)return 0;var n=e[0].y*(e[t-1].x-e[1].x);e.push(e[0]);for(var r=1;r<t;r++)n+=e[r].y*(e[r-1].x-e[r+1].x);return.5*n}},{key:"bubbleSort",value:function(e,t,n,r){for(var i=0;i<e.length;i++)for(var o=0;o<e.length;o++)if(e[i]>e[o]){var a=e[o];e[o]=e[i],e[i]=a;var s=t[o];if(t[o]=t[i],t[i]=s,n&&n.length>0){var l=n[o];n[o]=n[i],n[i]=l}if(r&&r.length>0){var u=r[o];r[o]=r[i],r[i]=u}}}}]),e}();xQ.ServerGeometry=aX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var sX=function(e){function t(e){var n;return On(this,t),n=Tn(this,Mn(t).call(this,e)),n.ignoreExtraDims=!0,n.CLASS_NAME="SuperMap.Format.GeoJSON",n.parseCoords={point:function(e){if(!1===this.ignoreExtraDims&&2!=e.length)throw"Only 2D points are supported: "+e;return new GY(e[0],e[1])},multipoint:function(e){for(var t=[],n=null,r=0,i=e.length;r<i;++r){try{n=this.parseCoords.point.apply(this,[e[r]])}catch(e){throw e}t.push(n)}return new BY(t)},linestring:function(e){for(var t=[],n=null,r=0,i=e.length;r<i;++r){try{n=this.parseCoords.point.apply(this,[e[r]])}catch(e){throw e}t.push(n)}return new zY(t)},multilinestring:function(e){for(var t=[],n=null,r=0,i=e.length;r<i;++r){try{n=this.parseCoords.linestring.apply(this,[e[r]])}catch(e){throw e}t.push(n)}return new JY(t)},polygon:function(e){for(var t,n,r=[],i=0,o=e.length;i<o;++i){try{n=this.parseCoords.linestring.apply(this,[e[i]])}catch(e){throw e}t=new HY(n.components),r.push(t)}return new WY(r)},multipolygon:function(e){for(var t=[],n=null,r=0,i=e.length;r<i;++r){try{n=this.parseCoords.polygon.apply(this,[e[r]])}catch(e){throw e}t.push(n)}return new qY(t)},box:function(e){if(2!=e.length)throw"GeoJSON box coordinates must have 2 elements";return new WY([new HY([new GY(e[0][0],e[0][1]),new GY(e[1][0],e[0][1]),new GY(e[1][0],e[1][1]),new GY(e[0][0],e[1][1]),new GY(e[0][0],e[0][1])])])}},n.extract={feature:function(e){var t=this.extract.geometry.apply(this,[e.geometry]),n={type:"Feature",properties:this.createAttributes(e),geometry:t};return e.geometry&&"TEXT"===e.geometry.type&&(n.properties.texts=e.geometry.texts,n.properties.textStyle=e.geometry.textStyle),e.fid&&(n.id=e.fid),e.ID&&(n.id=e.ID),n},geometry:function(e){if(null==e)return null;!e.parts&&e.points&&(e.parts=[e.points.length]);var t,n=new aX(e).toGeometry()||e,r=n.geometryType||n.type;"LinearRing"===r&&(r="LineString"),"LINEM"===r&&(r="MultiLineString"),t=this.extract[r.toLowerCase()].apply(this,[n]),r="TEXT"===r?"Point":r;return"Collection"===r?{type:"GeometryCollection",geometries:t}:{type:r,coordinates:t}},point:function(e){var t=[e.x,e.y];for(var n in e)"x"===n||"y"===n||null===e[n]||isNaN(e[n])||t.push(e[n]);return t},text:function(e){return[e.points[0].x,e.points[0].y]},multipoint:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extract.point.apply(this,[e.components[n]]));return t},linestring:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extract.point.apply(this,[e.components[n]]));return t},multilinestring:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extract.linestring.apply(this,[e.components[n]]));return t},polygon:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extract.linestring.apply(this,[e.components[n]]));return t},multipolygon:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extract.polygon.apply(this,[e.components[n]]));return t},collection:function(e){for(var t=e.components.length,n=new Array(t),r=0;r<t;++r)n[r]=this.extract.geometry.apply(this,[e.components[r]]);return n}},n}return An(t,e),Cn(t,[{key:"read",value:function(e,n,r){n=n||"FeatureCollection";var i=null,o=null;if(o="string"==typeof e?En(Mn(t.prototype),"read",this).call(this,e,r):e){if("string"!=typeof o.type);else if(this.isValidType(o,n))switch(n){case"Geometry":try{i=this.parseGeometry(o)}catch(e){}break;case"Feature":try{i=this.parseFeature(o),i.type="Feature"}catch(e){}break;case"FeatureCollection":switch(i=[],o.type){case"Feature":try{i.push(this.parseFeature(o))}catch(e){i=null}break;case"FeatureCollection":for(var a=0,s=o.features.length;a<s;++a)try{i.push(this.parseFeature(o.features[a]))}catch(e){i=null}break;default:try{var l=this.parseGeometry(o);i.push(new $Y(l))}catch(e){i=null}}}}else;return i}},{key:"write",value:function(e,n){return En(Mn(t.prototype),"write",this).call(this,this.toGeoJSON(e),n)}},{key:"fromGeoJSON",value:function(e,t,n){var r=this,i=this.read(e,t,n);return RY.isArray(i)?i.map(function(e){return r._toiSevrerFeature(e)}):this._toiSevrerFeature(i)}},{key:"toGeoJSON",value:function(e){function t(e){return e.hasOwnProperty("parts")&&e.hasOwnProperty("points")}var n={type:null};if(RY.isArray(e)){n.type="FeatureCollection";var r=e.length;n.features=new Array(r);for(var i=0;i<r;++i){var o=e[i];if(t(o)){var a={};a.geometry=o,n.features[i]=this.extract.feature.apply(this,[a])}else n.features[i]=this.extract.feature.apply(this,[o])}}else if(t(e)){var s={};s.geometry=e,n=this.extract.feature.apply(this,[s])}else n=this.extract.feature.apply(this,[e]);return n}},{key:"isValidType",value:function(e,t){var n=!1;switch(t){case"Geometry":-1==RY.indexOf(["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","Box","GeometryCollection"],e.type)||(n=!0);break;case"FeatureCollection":n=!0;break;default:e.type==t&&(n=!0)}return n}},{key:"parseFeature",value:function(e){var t,n,r,i;r=e.properties?e.properties:{},i=e.geometry&&e.geometry.bbox||e.bbox;try{n=this.parseGeometry(e.geometry)}catch(e){throw e}return t=new $Y(n,r),i&&(t.bounds=IY.fromArray(i)),e.id&&(t.fid=e.id),t}},{key:"parseGeometry",value:function(e){if(null==e)return null;var t;if("GeometryCollection"==e.type){if(!RY.isArray(e.geometries))throw"GeometryCollection must have geometries array: "+e;for(var n=e.geometries.length,r=new Array(n),i=0;i<n;++i)r[i]=this.parseGeometry.apply(this,[e.geometries[i]]);t=new FY(r)}else{if(!RY.isArray(e.coordinates))throw"Geometry must have coordinates array: "+e;if(!this.parseCoords[e.type.toLowerCase()])throw"Unsupported geometry type: "+e.type;try{t=this.parseCoords[e.type.toLowerCase()].apply(this,[e.coordinates])}catch(e){throw e}}return t}},{key:"createCRSObject",value:function(e){var t=e.layer.projection.toString(),n={};if(t.match(/epsg:/i)){var r=parseInt(t.substring(t.indexOf(":")+1));n=4326==r?{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}}:{type:"name",properties:{name:"EPSG:"+r}}}return n}},{key:"_toiSevrerFeature",value:function(e){var t=e.attributes,n=[],r=[];for(var i in t)n.push(i),r.push(t[i]);var o={fieldNames:n,fieldValues:r,geometry:aX.fromGeometry(e.geometry)};return o.geometry.id=e.fid,o}},{key:"createAttributes",value:function(e){if(!e)return null;var t={};!function(e,t){if(e.hasOwnProperty("fieldNames")&&e.hasOwnProperty("fieldValues")){var n=e.fieldNames,r=e.fieldValues;for(var i in n)t[n[i]]=r[i]}}(e,t);var n=["fieldNames","fieldValues","geometry","stringID","ID"];for(var r in e)n.indexOf(r)>-1||(t[r]=e[r]);return t}}]),t}(tX);xQ.Format.GeoJSON=sX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var lX=function(e){function t(e){var n;return Rn(this,t),n=Dn(this,Bn(t).call(this,e)),n.regExes={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},n.CLASS_NAME="SuperMap.Format.WKT",n.extract={point:function(e){return e.x+" "+e.y},multipoint:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push("("+this.extract.point.apply(this,[e.components[n]])+")");return t.join(",")},linestring:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extract.point.apply(this,[e.components[n]]));return t.join(",")},multilinestring:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push("("+this.extract.linestring.apply(this,[e.components[n]])+")");return t.join(",")},polygon:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push("("+this.extract.linestring.apply(this,[e.components[n]])+")");return t.join(",")},multipolygon:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push("("+this.extract.polygon.apply(this,[e.components[n]])+")");return t.join(",")},collection:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extractGeometry.apply(this,[e.components[n]]));return t.join(",")}},n.parse={point:function(e){var t=AY.trim(e).split(this.regExes.spaces);return new $Y(new GY(t[0],t[1]))},multipoint:function(e){for(var t,n=AY.trim(e).split(","),r=[],i=0,o=n.length;i<o;++i)t=n[i].replace(this.regExes.trimParens,"$1"),r.push(this.parse.point.apply(this,[t]).geometry);return new $Y(new BY(r))},linestring:function(e){for(var t=AY.trim(e).split(","),n=[],r=0,i=t.length;r<i;++r)n.push(this.parse.point.apply(this,[t[r]]).geometry);return new $Y(new zY(n))},multilinestring:function(e){for(var t,n=AY.trim(e).split(this.regExes.parenComma),r=[],i=0,o=n.length;i<o;++i)t=n[i].replace(this.regExes.trimParens,"$1"),r.push(this.parse.linestring.apply(this,[t]).geometry);return new $Y(new JY(r))},polygon:function(e){for(var t,n,r,i=AY.trim(e).split(this.regExes.parenComma),o=[],a=0,s=i.length;a<s;++a)t=i[a].replace(this.regExes.trimParens,"$1"),n=this.parse.linestring.apply(this,[t]).geometry,r=new HY(n.components),o.push(r);return new $Y(new WY(o))},multipolygon:function(e){for(var t,n=AY.trim(e).split(this.regExes.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)t=n[i].replace(this.regExes.trimParens,"$1"),r.push(this.parse.polygon.apply(this,[t]).geometry);return new $Y(new qY(r))},geometrycollection:function(e){e=e.replace(/,\s*([A-Za-z])/g,"|$1");for(var t=AY.trim(e).split("|"),n=[],r=0,i=t.length;r<i;++r)n.push(this.read(t[r]));return n}},n}return Un(t,e),In(t,[{key:"read",value:function(e){var t,n,r;e=e.replace(/[\n\r]/g," ");var i=this.regExes.typeStr.exec(e);return i&&(n=i[1].toLowerCase(),r=i[2],this.parse[n]&&(t=this.parse[n].apply(this,[r]))),t}},{key:"write",value:function(e){var t,n,r;e.constructor===Array?(t=e,r=!0):(t=[e],r=!1);var i=[];r&&i.push("GEOMETRYCOLLECTION(");for(var o=0,a=t.length;o<a;++o)r&&o>0&&i.push(","),n=t[o].geometry,i.push(this.extractGeometry(n));return r&&i.push(")"),i.join("")}},{key:"extractGeometry",value:function(e){var t=e.CLASS_NAME.split(".")[2].toLowerCase();return this.extract[t]?("collection"===t?"GEOMETRYCOLLECTION":t.toUpperCase())+"("+this.extract[t].apply(this,[e])+")":null}}]),t}(eX);xQ.Format.WKT=lX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var uX=function(){function e(t){zn(this,e);var n=this;t=t||{},this.speed=t.speed&&t.speed>=0?t.speed:1,this.frequency=t.speed&&t.frequency>=0?t.frequency:1e3,this.startTime=t.startTime&&null!=t.startTime?t.startTime:0,this.endTime=t.endTime&&null!=t.endTime&&t.endTime>=n.startTime?t.endTime:+new Date,this.repeat=void 0===t.repeat||t.repeat,this.reverse=void 0!==t.reverse&&t.reverse,this.currentTime=null,this.oldTime=null,this.running=!1,this.EVENT_TYPES=["start","pause","stop"],n.events=new KY(this,null,this.EVENT_TYPES),n.speed=Number(n.speed),n.frequency=Number(n.frequency),n.startTime=Number(n.startTime),n.endTime=Number(n.endTime),n.startTime=Date.parse(new Date(n.startTime)),n.endTime=Date.parse(new Date(n.endTime)),n.currentTime=n.startTime,this.CLASS_NAME="SuperMap.TimeControlBase"}return Hn(e,[{key:"updateOptions",value:function(e){var t=this;e=e||{},e.speed&&e.speed>=0&&(t.speed=e.speed,t.speed=Number(t.speed)),e.speed&&e.frequency>=0&&(t.frequency=e.frequency,t.frequency=Number(t.frequency)),e.startTime&&null!=e.startTime&&(t.startTime=e.startTime,t.startTime=Date.parse(new Date(t.startTime))),e.endTime&&null!=e.endTime&&e.endTime>=t.startTime&&(t.endTime=e.endTime,t.endTime=Date.parse(new Date(t.endTime))),null!=e.repeat&&(t.repeat=e.repeat),null!=e.reverse&&(t.reverse=e.reverse)}},{key:"start",value:function(){var e=this;e.running||(e.running=!0,e.tick(),e.events.triggerEvent("start",e.currentTime))}},{key:"pause",value:function(){var e=this;e.running=!1,e.events.triggerEvent("pause",e.currentTime)}},{key:"stop",value:function(){var e=this;e.currentTime=e.startTime,e.running&&(e.running=!1),e.events.triggerEvent("stop",e.currentTime)}},{key:"toggle",value:function(){var e=this;e.running?e.pause():e.start()}},{key:"setSpeed",value:function(e){var t=this;return e>=0&&(t.speed=e,!0)}},{key:"getSpeed",value:function(){return this.speed}},{key:"setFrequency",value:function(e){var t=this;return e>=0&&(t.frequency=e,!0)}},{key:"getFrequency",value:function(){return this.frequency}},{key:"setStartTime",value:function(e){var t=this;return!((e=Date.parse(new Date(e)))>t.endTime)&&(t.startTime=e,t.currentTime<t.startTime&&(t.currentTime=t.startTime,t.tick()),!0)}},{key:"getStartTime",value:function(){return this.startTime}},{key:"setEndTime",value:function(e){var t=this;return t.endTime=Date.parse(new Date(t.endTime)),!(e<t.startTime)&&(t.endTime=e,t.currentTime>=t.endTime&&(t.currentTime=t.startTime,t.tick()),!0)}},{key:"getEndTime",value:function(){return this.endTime}},{key:"setCurrentTime",value:function(e){var t=this;return t.currentTime=Date.parse(new Date(t.currentTime)),e>=t.startTime&&e<=t.endTime&&(t.currentTime=e,t.startTime=t.currentTime,t.tick(),!0)}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"setRepeat",value:function(e){this.repeat=e}},{key:"getRepeat",value:function(){return this.repeat}},{key:"setReverse",value:function(e){this.reverse=e}},{key:"getReverse",value:function(){return this.reverse}},{key:"getRunning",value:function(){return this.running}},{key:"destroy",value:function(){var e=this;e.speed=null,e.frequency=null,e.startTime=null,e.endTime=null,e.currentTime=null,e.repeat=null,e.running=!1,e.reverse=null}},{key:"tick",value:function(){}}]),e}();xQ.TimeControlBase=uX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var cX=function(e){function t(e,n){var r;qn(this,t),r=Yn(this,$n(t).call(this,n));var i=Xn(r);return i.callback=e,Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),i.update=i.update.bind(i),i.oldTime=i.currentTime,i.CLASS_NAME="SuperMap.TimeFlowControl",r}return er(t,e),Qn(t,[{key:"updateOptions",value:function(e){e=e||{},Kn($n(t.prototype),"updateOptions",this).call(this,e)}},{key:"start",value:function(){var e=this;e.running||(e.running=!0,e.reverse?e.currentTime===e.startTime&&(e.oldTime=e.endTime,e.currentTime=e.oldTime):e.oldTime===e.endTime&&(e.currentTime=e.startTime,e.oldTime=e.currentTime),e.tick())}},{key:"stop",value:function(){Kn($n(t.prototype),"stop",this).call(this);var e=this;e.oldTime=e.currentTime,e.running&&(e.running=!1),e.intervalId&&window.clearTimeout(e.intervalId)}},{key:"destroy",value:function(){Kn($n(t.prototype),"destroy",this).call(this);var e=this;e.oldTime=null,e.callback=null}},{key:"tick",value:function(){var e=this;e.intervalId&&window.clearInterval(e.intervalId),e.intervalId=null,e.update(),e.intervalId=window.setInterval(e.update,e.frequency)}},{key:"update",value:function(){var e=this;if(e.running)if(e.callback&&e.callback(e.currentTime),e.reverse){if(e.currentTime===e.startTime){if(!e.repeat)return e.running=!1,null;e.oldTime=e.endTime,e.currentTime=e.oldTime}else e.currentTime=e.oldTime,e.oldTime-=e.speed;e.oldTime<=e.startTime&&(e.oldTime=e.startTime)}else{if(e.currentTime===e.endTime){if(!e.repeat)return e.running=!1,e.stop(),null;e.stop(),e.currentTime=e.startTime,e.oldTime=e.currentTime,e.start()}else e.oldTime=e.currentTime,e.currentTime+=e.speed;e.currentTime>=e.endTime&&(e.currentTime=e.endTime)}}}]),t}(uX);xQ.TimeFlowControl=cX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var fX=n(11),hX=n.n(fX);/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
window.Promise=hX.a;var pX=(n(20),n(4)),yX=n.n(pX),dX=window.fetch,mX=(xQ.setCORS=function(e){xQ.CORS=e},xQ.isCORS=function(){return void 0!=xQ.CORS?xQ.CORS:window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest}),vX=(xQ.setRequestTimeout=function(e){return xQ.RequestTimeout=e},xQ.getRequestTimeout=function(){return xQ.RequestTimeout||45e3}),bX=xQ.FetchRequest={commit:function(e,t,n,r){switch(e=e?e.toUpperCase():e){case"GET":return this.get(t,n,r);case"POST":return this.post(t,n,r);case"PUT":return this.put(t,n,r);case"DELETE":return this.delete(t,n,r);default:return this.get(t,n,r)}},supportDirectRequest:function(e,t){return!!RY.isInTheSameDomain(e)||(void 0!=t.crossOrigin?t.crossOrigin:mX()||t.proxy)},get:function(e,t,n){n=n||{};if(e=RY.urlAppend(e,this._getParameterString(t||{})),e=this._processUrl(e,n),!this.supportDirectRequest(e,n)){e=e.replace(".json",".jsonp");var r={url:e,data:t};return xQ.Util.RequestJSONPPromise.GET(r)}return this.urlIsLong(e)?this._postSimulatie("GET",e.substring(0,e.indexOf("?")-1),t,n):this._fetch(e,t,n,"GET")},delete:function(e,t,n){n=n||{};if(e=RY.urlAppend(e,this._getParameterString(t||{})),e=this._processUrl(e,n),!this.supportDirectRequest(e,n)){e=e.replace(".json",".jsonp");var r={url:e+="&_method=DELETE",data:t};return xQ.Util.RequestJSONPPromise.DELETE(r)}return this.urlIsLong(e)?this._postSimulatie("DELETE",e.substring(0,e.indexOf("?")-1),t,n):this._fetch(e,t,n,"DELETE")},post:function(e,t,n){if(n=n||{},!this.supportDirectRequest(e,n)){e=e.replace(".json",".jsonp");var r={url:e+="&_method=POST",data:t};return xQ.Util.RequestJSONPPromise.POST(r)}return this._fetch(this._processUrl(e,n),t,n,"POST")},put:function(e,t,n){if(n=n||{},e=this._processUrl(e,n),!this.supportDirectRequest(e,n)){e=e.replace(".json",".jsonp");var r={url:e+="&_method=PUT",data:t};return xQ.Util.RequestJSONPPromise.PUT(r)}return this._fetch(e,t,n,"PUT")},urlIsLong:function(e){for(var t=0,n=null,r=0,i=e.length;r<i;r++)n=e.charCodeAt(r),n<127?t++:128<=n&&n<=2047?t+=2:2048<=n&&n<=65535&&(t+=3);return!(t<2e3)},_postSimulatie:function(e,t,n,r){return t+=(t.indexOf("?")>-1?"&":"?")+"_method="+e,"string"!=typeof n&&(n=JSON.stringify(n)),this.post(t,n,r)},_processUrl:function(e,t){if(this._isMVTRequest(e))return e;if(-1===e.indexOf(".json")&&!t.withoutFormatSuffix)if(e.indexOf("?")<0)e+=".json";else{var n=e.split("?");2===n.length&&(e=n[0]+".json?"+n[1])}return t&&t.proxy&&("function"==typeof t.proxy?e=t.proxy(e):(e=decodeURIComponent(e),e=t.proxy+encodeURIComponent(e))),e},_fetch:function(e,t,n,r){return n=n||{},n.headers=n.headers||{},n.headers["Content-Type"]||(n.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8"),n.timeout?this._timeout(n.timeout,dX(e,{method:r,headers:n.headers,body:"PUT"===r||"POST"===r?t:void 0,credentials:n.withCredentials?"include":"omit",mode:"cors",timeout:vX()}).then(function(e){return e})):dX(e,{method:r,body:"PUT"===r||"POST"===r?t:void 0,headers:n.headers,credentials:n.withCredentials?"include":"omit",mode:"cors",timeout:vX()}).then(function(e){return e})},_fetchJsonp:function(e,t){return t=t||{},yX()(e,{method:"GET",timeout:t.timeout}).then(function(e){return e})},_timeout:function(e,t){return new Promise(function(n,r){setTimeout(function(){r(new Error("timeout"))},e),t.then(n,r)})},_getParameterString:function(e){var t=[];for(var n in e){var r=e[n];if(null!=r&&"function"!=typeof r){var i;if("object"===nr(r)&&r.constructor===Array){for(var o,a=[],s=0,l=r.length;s<l;s++)o=r[s],a.push(encodeURIComponent(null===o||void 0===o?"":o));i="["+a.join(",")+"]"}else i=encodeURIComponent(r);t.push(encodeURIComponent(n)+"="+i)}}return t.join("&")},_isMVTRequest:function(e){return e.indexOf(".mvt")>-1||e.indexOf(".pbf")>-1}};xQ.Util.RequestJSONPPromise={limitLength:1500,queryKeys:[],queryValues:[],supermap_callbacks:{},addQueryStrings:function(e){var t=this;for(var n in e){t.queryKeys.push(n),"string"!=typeof e[n]&&(e[n]=xQ.Util.toJSON(e[n]));var r=encodeURIComponent(e[n]);t.queryValues.push(r)}},issue:function(e){for(var t=this,n=t.getUid(),r=e.url,i=[],o=new Promise(function(e){t.supermap_callbacks[n]=function(r){delete t.supermap_callbacks[n],e(r)}}),a=r,s=0,l=t.queryKeys?t.queryKeys.length:0,u=0;u<l;u++)if(a.length+t.queryKeys[u].length+2>=t.limitLength){if(0==s)return!1;i.push(a),a=r,s=0,u--}else if(a.length+t.queryKeys[u].length+2+t.queryValues[u].length>t.limitLength)for(var c=t.queryValues[u];c.length>0;){var f=t.limitLength-a.length-t.queryKeys[u].length-2;a.indexOf("?")>-1?a+="&":a+="?";var h=c.substring(0,f);"%"===h.substring(f-1,f)?(f-=1,h=c.substring(0,f)):"%"===h.substring(f-2,f-1)&&(f-=2,h=c.substring(0,f)),a+=t.queryKeys[u]+"="+h,c=c.substring(f),h.length>0&&(i.push(a),a=r,s=0)}else s++,a.indexOf("?")>-1?a+="&":a+="?",a+=t.queryKeys[u]+"="+t.queryValues[u];return i.push(a),t.send(i,"SuperMap.Util.RequestJSONPPromise.supermap_callbacks["+n+"]",e&&e.proxy),o},getUid:function(){return 1e3*(new Date).getTime()+Math.floor(1e17*Math.random())},send:function(e,t,n){var r=e.length;if(r>0)for(var i=(new Date).getTime(),o=0;o<r;o++){var a=e[o];a.indexOf("?")>-1?a+="&":a+="?",a+="sectionCount="+r,a+="&sectionIndex="+o,a+="&jsonpUserID="+i,n&&(a=decodeURIComponent(a),a=n+encodeURIComponent(a)),yX()(a,{jsonpCallbackFunction:t,timeout:3e4})}},GET:function(e){var t=this;return t.queryKeys.length=0,t.queryValues.length=0,t.addQueryStrings(e.params),t.issue(e)},POST:function(e){var t=this;return t.queryKeys.length=0,t.queryValues.length=0,t.addQueryStrings({requestEntity:e.data}),t.issue(e)},PUT:function(e){var t=this;return t.queryKeys.length=0,t.queryValues.length=0,t.addQueryStrings({requestEntity:e.data}),t.issue(e)},DELETE:function(e){var t=this;return t.queryKeys.length=0,t.queryValues.length=0,t.addQueryStrings({requestEntity:e.data}),t.issue(e)}};/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var gX=function(){function e(){rr(this,e)}return or(e,null,[{key:"generateToken",value:function(e,t){var n=this.servers[e];if(n)return bX.post(n.tokenServiceUrl,JSON.stringify(t.toJSON())).then(function(e){return e.text()})}},{key:"registerServers",value:function(e){this.servers=this.servers||{},RY.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var n=e[t];this.servers[n.server]=n}}},{key:"registerToken",value:function(e,t){if(this.tokens=this.tokens||{},e&&t){var n=this._getTokenStorageKey(e);this.tokens[n]=t}}},{key:"registerKey",value:function(e,t){if(this.keys=this.keys||{},e&&!(e.length<1)&&t){e=RY.isArray(e)?e:[e];for(var n=0;n<e.length;n++){var r=this._getUrlRestString(e[0])||e[0];this.keys[r]=t}}}},{key:"getServerInfo",value:function(e){return this.servers=this.servers||{},this.servers[e]}},{key:"getToken",value:function(e){if(e){this.tokens=this.tokens||{};var t=this._getTokenStorageKey(e);return this.tokens[t]}}},{key:"getKey",value:function(e){this.keys=this.keys||{};var t=this._getUrlRestString(e)||e;return this.keys[t]}},{key:"loginiServer",value:function(e,t,n,r){e+="/"===e.substr(e.length-1,1)?"services/security/login.json":"/services/security/login.json";var i={username:t&&t.toString(),password:n&&n.toString(),rememberme:r};i=JSON.stringify(i);var o={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}};return bX.post(e,i,o).then(function(e){return e.json()})}},{key:"logoutiServer",value:function(e){e+="/"===e.substr(e.length-1,1)?"services/security/logout":"/services/security/logout";var t={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},withoutFormatSuffix:!0};return bX.get(e,"",t).then(function(){return!0}).catch(function(){return!1})}},{key:"loginOnline",value:function(t,n){var r=e.SSO+"/login?service="+t;this._open(r,n)}},{key:"loginiPortal",value:function(e,t,n){e+="/"===e.substr(e.length-1,1)?"web/login.json":"/web/login.json";var r={username:t&&t.toString(),password:n&&n.toString()};r=JSON.stringify(r);var i={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},withCredentials:!0};return bX.post(e,r,i).then(function(e){return e.json()})}},{key:"logoutiPortal",value:function(e){e+="/"===e.substr(e.length-1,1)?"services/security/logout":"/services/security/logout";var t={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},withCredentials:!0,withoutFormatSuffix:!0};return bX.get(e,"",t).then(function(){return!0}).catch(function(){return!1})}},{key:"loginManager",value:function(e,t,n){if(!RY.isInTheSameDomain(e)){var r=!n||n.isNewTab;return void this._open(e,r)}var i=e.substr(e.length-1,1),o="/"===i?e+"icloud/security/tokens.json":e+"/icloud/security/tokens.json",a=t||{},s={username:a.userName&&a.userName.toString(),password:a.password&&a.password.toString()};s=JSON.stringify(s);var l={headers:{Accept:"*/*","Content-Type":"application/json"}},u=this;return bX.post(o,s,l).then(function(e){e.text().then(function(e){return u.imanagerToken=e,e})})}},{key:"destroyAllCredentials",value:function(){this.keys=null,this.tokens=null,this.servers=null}},{key:"destroyToken",value:function(e){if(e){var t=this._getTokenStorageKey(e);this.tokens=this.tokens||{},this.tokens[t]&&delete this.tokens[t]}}},{key:"destroyKey",value:function(e){if(e){this.keys=this.keys||{};var t=this._getUrlRestString(e)||e;this.keys[t]&&delete this.keys[t]}}},{key:"_open",value:function(e,t){t=null==t||t;var n=window.screen.availWidth/2-this.INNER_WINDOW_WIDTH/2,r=window.screen.availHeight/2-this.INNER_WINDOW_HEIGHT/2,i="height="+this.INNER_WINDOW_HEIGHT+", width="+this.INNER_WINDOW_WIDTH+",top="+r+", left="+n+",toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no";t?window.open(e,"login"):window.open(e,"login",i)}},{key:"_getTokenStorageKey",value:function(e){var t=/(.*?):\/\/([^\/]+)/i,n=e.match(t);return n?n[0]:e}},{key:"_getUrlRestString",value:function(e){if(!e)return e;var t=/(http|https):\/\/(.*\/rest)/i,n=e.match(t);return n?n[0]:e}}]),e}();gX.INNER_WINDOW_WIDTH=600,gX.INNER_WINDOW_HEIGHT=600,gX.SSO="https://sso.supermap.com",gX.ONLINE="http://www.supermapol.com",xQ.SecurityManager=gX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var SX=function(){function e(t,n){if(ar(this,e),t){var r=t.substr(t.length-1,1);this.serviceUrl="/"===r?t.substr(0,t.length-2):t}this.options=n||{},this.CLASS_NAME="SuperMap.iManagerServiceBase"}return lr(e,[{key:"request",value:function(e,t,n,r){r=r||{headers:{Accept:"*/*","Content-Type":"application/json"}},r.hasOwnProperty("withCredentials")||(r.withCredentials=!0),r.crossOrigin=this.options.crossOrigin,r.headers=this.options.headers;var i=gX.imanagerToken;return i&&(r.headers||(r.headers=[]),r.headers["X-Auth-Token"]=i),n&&(n=JSON.stringify(n)),bX.commit(e,t,n,r).then(function(e){return e.json()})}}]),e}();xQ.iManagerServiceBase=SX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var _X=function e(t){ur(this,e),t=t||{},this.nodeSpec="SMALL",this.nodeCount=1,this.nodeName="",this.password="",this.description="",this.physicalMachineName="",this.ips=[],this.userName="",RY.extend(this,t)};xQ.iManagerCreateNodeParam=_X;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var wX=function(e){function t(e){return fr(this,t),yr(this,mr(t).call(this,e))}return vr(t,e),pr(t,[{key:"load",value:function(){return this.request("GET",this.serviceUrl+"/web/api/service.json")}},{key:"createIServer",value:function(e){return this.request("POST",this.serviceUrl+"/icloud/web/nodes/server.json",new _X(e))}},{key:"createIPortal",value:function(e){return this.request("POST",this.serviceUrl+"/icloud/web/nodes/portal.json",new _X(e))}},{key:"iServerList",value:function(){return this.request("GET",this.serviceUrl+"/icloud/web/nodes/server.json")}},{key:"iPortalList",value:function(){return this.request("GET",this.serviceUrl+"/icloud/web/nodes/portal.json")}},{key:"startNodes",value:function(e){return this.request("POST",this.serviceUrl+"/icloud/web/nodes/started.json",e)}},{key:"stopNodes",value:function(e){return this.request("POST",this.serviceUrl+"/icloud/web/nodes/stopped.json",e)}}]),t}(SX);xQ.iManager=wX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var OX=function e(t){gr(this,e),t=t||{},this.tags=[],this.userNames="",this.types=[],this.checkStatus="",this.offline=!1,this.orderBy="",this.orderType="",this.keywords=[],this.currentPage=0,this.pageSize=0,this.isBatch=!1,this.dirIds=[],this.isNotInDir=!1,this.filterFields=[],this.authorizedOnly=!1,RY.extend(this,t)};xQ.iPortalServicesQueryParam=OX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var xX=function e(t){Sr(this,e),t=t||{},this.userNames=null,this.tags=null,this.suggest=!1,this.sourceTypes=null,this.keywords=null,this.epsgCode=null,this.orderBy=null,this.currentPage=null,this.pageSize=null,this.dirIds=null,this.isNotInDir=!1,this.updateStart=null,this.updateEnd=null,this.visitStart=null,this.visitEnd=null,this.filterFields=null,RY.extend(this,t)};xQ.iPortalMapsQueryParam=xX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var CX=function e(t){_r(this,e),t=t||{},this.createEnd=null,this.createStart=null,this.filterFields=null,this.orderBy=null,this.tags=null,this.userNames=null,this.currentPage=null,this.keywords=null,this.pageSize=null,this.currentUser=null,this.departmentIds=null,this.dirIds=null,this.groupIds=null,this.isNotInDir=!1,this.permissionType=null,this.resourceIds=null,this.returnSubDir=null,this.searchScope=null,RY.extend(this,t)};xQ.iPortalInsightsQueryParam=CX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var TX=function e(t){wr(this,e),t=t||{},this.tags=null,this.userNames=null,this.orderBy=null,this.orderType=null,this.keywords=null,this.currentPage=null,this.pageSize=null,this.dirIds=null,this.isNotInDir=!1,this.filterFields=null,this.createStart=null,this.createEnd=null,RY.extend(this,t)};xQ.iPortalScenesQueryParam=TX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var PX=function(){function e(t,n){Or(this,e),n=n||{},this.serviceUrl=t,this.serverType=TQ.iPortal,this.CLASS_NAME="SuperMap.iPortalServiceBase",this.withCredentials=n.withCredentials||!1,this.crossOrigin=n.crossOrigin,this.headers=n.headers}return Cr(e,[{key:"request",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{headers:this.headers,crossOrigin:this.crossOrigin,withCredentials:this.withCredentials};return t=this.createCredentialUrl(t),bX.commit(e,t,n,r).then(function(e){return e.json()})}},{key:"createCredentialUrl",value:function(e){var t=e,n=this.getCredential();if(n){var r=t.substring(t.length-1,t.length);t.indexOf("?")>-1&&"?"===r?t+=n.getUrlParameters():t.indexOf("?")>-1&&"?"!==r?t+="&"+n.getUrlParameters():t+="?"+n.getUrlParameters()}return t}},{key:"getCredential",value:function(){var e,t=gX.getToken(this.serviceUrl);return e=t?new YY(t,"token"):null,e||(t=this.getKey(),e=t?new YY(t,"key"):null),e}},{key:"getKey",value:function(){}}]),e}();xQ.iPortalServiceBase=PX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var EX=function(e){function t(e,n){var r;return Pr(this,t),r=Mr(this,Ar(t).call(this,e,n)),n=n||{},r.addedMapNames=null,r.addedSceneNames=null,r.authorizeSetting=[],r.checkStatus="",r.createTime=0,r.description="",r.enable=!0,r.id=0,r.isBatch=!1,r.isDataItemService=!1,r.linkPage=null,r.mapInfos=[],r.metadata=null,r.nickname="",r.offline=!1,r.proxiedUrl=null,r.resTitle="",r.scenes=[],r.serviceRootUrlId=null,r.tags=[],r.thumbnail=null,r.type="",r.updateTime=0,r.userName="",r.verifyReason=null,r.version=null,r.visitCount=0,RY.extend(Lr(r),n),r.serviceUrl=e,r.id&&(r.serviceUrl=e+"/"+r.id),r}return jr(t,e),kr(t,[{key:"load",value:function(){var e=this;return e.request("GET",e.serviceUrl+".json").then(function(t){if(t.error)return t;for(var n in t)e[n]=t[n]})}},{key:"update",value:function(){var e={authorizeSetting:this.authorizeSetting,metadata:this.metadata,tags:this.tags,thumbnail:this.thumbnail},t={headers:Object.assign({"Content-Type":"application/x-www-form-urlencoded"},this.headers||{})};return this.request("PUT",this.serviceUrl,JSON.stringify(e),t)}}]),t}(PX);xQ.iPortalService=EX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var kX=function(e){function t(e,n){var r;return Ir(this,t),r=Br(this,Ur(t).call(this,e)),n=n||{},r.authorizeSetting=[],r.center="",r.controls=null,r.checkStatus="",r.createTime=0,r.description="",r.epsgCode=0,r.extent="",r.id=0,r.isDefaultBottomMap=!1,r.layers=[],r.level=null,r.nickname="",r.sourceType="",r.status=null,r.tags=[],r.thumbnail="",r.title="",r.units=null,r.updateTime=0,r.userName="",r.visitCount=0,RY.extend(Gr(r),n),r.mapUrl=e,r}return zr(t,e),Fr(t,[{key:"load",value:function(){var e=this;return e.request("GET",e.mapUrl+".json").then(function(t){if(t.error)return t;for(var n in t)e[n]=t[n]})}},{key:"update",value:function(){var e={units:this.units,level:this.level,center:this.center,controls:this.controls,description:this.description,epsgCode:this.epsgCode,extent:this.extent,status:this.status,tags:this.tags,layers:this.layers,title:this.title,thumbnail:this.thumbnail,sourceType:this.sourceType,authorizeSetting:this.authorizeSetting},t={headers:{"Content-Type":"application/x-www-form-urlencoded"}};return this.request("PUT",this.mapUrl,JSON.stringify(e),t)}}]),t}(PX);xQ.iPortalMap=kX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var MX=function(e){function t(e,n){var r;return Jr(this,t),r=Qr(this,Yr(t).call(this,e)),n=n||{},r.authorizeSetting=[],r.name="",r.checkStatus="",r.createTime=0,r.description="",r.id=0,r.nickname="",r.tags=[],r.thumbnail="",r.updateTime=0,r.userName="",r.visitCount=0,RY.extend(Xr(r),n),r.insightUrl=e,r}return Kr(t,e),Wr(t,[{key:"load",value:function(){var e=this;return e.request("GET",e.insightUrl+".json").then(function(t){if(t.error)return t;for(var n in t)e[n]=t[n]})}},{key:"update",value:function(){var e={authorizeSetting:this.authorizeSetting,description:this.description,tags:this.tags,thumbnail:this.thumbnail,name:this.name},t={headers:{"Content-Type":"application/x-www-form-urlencoded"}};return this.request("PUT",this.insightUrl,JSON.stringify(e),t)}}]),t}(PX);xQ.iPortalInsight=MX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var AX=function(e){function t(e,n){var r;return ei(this,t),r=ri(this,ii(t).call(this,e)),n=n||{},r.authorizeSetting=[],r.content=null,r.createTime=0,r.description="",r.id=0,r.layers=[],r.name="",r.nickname="",r.tags=[],r.thumbnail="",r.title="",r.updateTime=0,r.url="",r.userName="",r.visitCount=0,RY.extend(oi(r),n),r.sceneUrl=e,r}return ai(t,e),ni(t,[{key:"load",value:function(){var e=this;return e.request("GET",e.sceneUrl+".json").then(function(t){if(t.error)return t;for(var n in t)e[n]=t[n]})}},{key:"update",value:function(){var e={authorizeSetting:this.authorizeSetting,name:this.name,tags:this.tags,description:this.description,thumbnail:this.thumbnail},t={headers:{"Content-Type":"application/x-www-form-urlencoded"}};return this.request("PUT",this.sceneUrl,JSON.stringify(e),t)}}]),t}(PX);xQ.iPortalScene=AX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var LX=function(e){function t(e,n){var r;return ui(this,t),r=hi(this,pi(t).call(this,e)),n=n||{},r.authorizeSetting=[],r.content="",r.createTime=0,r.description="",r.id=0,r.name="",r.nickname="",r.tags=[],r.thumbnail="",r.updateTime=0,r.userName="",r.visitCount=0,RY.extend(yi(r),n),r.mapdashboardUrl=e,r}return di(t,e),fi(t,[{key:"load",value:function(){var e=this;return e.request("GET",e.mapdashboardUrl+".json").then(function(t){if(t.error)return t;for(var n in t)e[n]=t[n]})}},{key:"update",value:function(){var e={authorizeSetting:this.authorizeSetting,description:this.description,name:this.name,tags:this.tags,thumbnail:this.thumbnail},t={headers:{"Content-Type":"application/x-www-form-urlencoded"}};return this.request("PUT",this.mapdashboardUrl,JSON.stringify(e),t)}}]),t}(PX);xQ.iPortalMapdashboard=LX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var jX=function e(t){vi(this,e),t=t||{},this.userNames=null,this.tags=null,this.orderBy=null,this.filterFields=null,this.currentUser=null,this.dirIds=null,this.returnSubDir=!1,this.isNotInDir=!1,this.groupIds=null,this.departmentIds=null,this.resourceIds=null,this.searchScope=null,this.permissionType=null,this.keywords=null,this.currentPage=null,this.pageSize=null,this.orderType=null,RY.extend(this,t)};xQ.iPortalMapdashboardsQueryParam=jX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var RX=function e(t){bi(this,e),t=t||{},this.resourceType="",this.pageSize=12,this.currentPage=1,this.orderBy="UPDATETIME",this.orderType="DESC",this.searchType="PUBLIC",this.tags=[],this.dirIds=[],this.resourceSubTypes=[],this.aggregationTypes=[],this.text="",this.groupIds=[],this.departmentIds=[],RY.extend(this,t)};xQ.iPortalQueryParam=RX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var NX=function e(t){gi(this,e),t=t||{},this.content=[],this.total=0,this.currentPage=1,this.pageSize=12,this.aggregations=null,RY.extend(this,t)};xQ.iPortalQueryResult=NX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var IX=function(e){function t(e,n){var r;return _i(this,t),r=xi(this,Ci(t).call(this,e)),n=n||{},r.authorizeSetting=[],r.bounds="",r.bounds4326="",r.checkStatus="",r.createTime=0,r.description=null,r.dirId=null,r.epsgCode=0,r.heatLevel=0,r.id=0,r.name="",r.personalDirId=null,r.resourceId=0,r.resourceSubType=null,r.resourceType=null,r.serviceRootUrlId=null,r.tags=null,r.thumbnail=null,r.updateTime=0,r.userName="",RY.extend(Ti(r),n),r.resourceUrl=e+"/web/"+r.resourceType.replace("_","").toLowerCase()+"s/"+r.resourceId,r.withCredentials&&(r.resourceUrl=e+"/web/mycontent/"+r.resourceType.replace("_","").toLowerCase()+"s/"+r.resourceId),r}return Pi(t,e),Oi(t,[{key:"load",value:function(){var e=this;return e.request("GET",e.resourceUrl+".json").then(function(t){if(t.error)return t;for(var n in t)e[n]=t[n]})}},{key:"update",value:function(){var e={units:this.units,level:this.level,center:this.center,controls:this.controls,description:this.description,epsgCode:this.epsgCode,extent:this.extent,status:this.status,tags:this.tags,layers:this.layers,title:this.title,thumbnail:this.thumbnail,sourceType:this.sourceType,authorizeSetting:this.authorizeSetting},t={headers:{"Content-Type":"application/x-www-form-urlencoded"}};return this.request("PUT",this.resourceUrl,JSON.stringify(e),t)}}]),t}(PX);xQ.iPortalResource=IX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var DX=function(e){function t(e,n){var r;return Mi(this,t),r=ji(this,Ni(t).call(this,e,n)),r.iportalUrl=e,n=n||{},r.withCredentials=n.withCredentials||!1,r}return Ii(t,e),Li(t,[{key:"load",value:function(){return bX.get(this.iportalUrl+"/web")}},{key:"queryResources",value:function(e){if(!(e instanceof RX))return null;var t=this,n=this.iportalUrl+"/gateway/catalog/resource/search.json";return e.t=(new Date).getTime(),this.request("GET",n,e).then(function(e){var n=[];e.content.forEach(function(e){n.push(new IX(t.iportalUrl,e))});var r=new NX;return r.content=n,r.total=e.total,r.currentPage=e.currentPage,r.pageSize=e.pageSize,r.aggregations=e.aggregations,r})}},{key:"queryServices",value:function(e){if(!(e instanceof OX))return null;var t=this.iportalUrl+"/web/services";return this.request("GET",t,e).then(function(e){var n=[];return e.content.map(function(e){return n.push(new EX(t,e)),e}),n})}},{key:"deleteServices",value:function(e){var t=this.iportalUrl+"/web/services";return this.request("DELETE",t,{ids:e})}},{key:"queryService",value:function(e){var t=this.iportalUrl+"/web/services/"+e,n=new EX(t);return n.load().then(function(){return n})}},{key:"queryMaps",value:function(e){if(!(e instanceof xX))return null;var t;return t=this.withCredentials?this.iportalUrl+"/web/mycontent/maps":this.iportalUrl+"/web/maps",this.request("GET",t,e).then(function(e){var n={content:[]},r=[];return e.content&&e.content.length>0&&(e.content.map(function(e){return r.push(new kX(t+"/"+e.id,e)),e}),n.content=r,n.currentPage=e.currentPage,n.pageSize=e.pageSize,n.total=e.total,n.totalPage=e.totalPage),n})}},{key:"queryMapdashboards",value:function(e){if(!(e instanceof jX))return null;var t;return t=this.withCredentials?this.iportalUrl+"web/mycontent/mapdashboards":this.iportalUrl+"/web/mapdashboards",this.request("GET",t,e).then(function(e){var n={content:[]},r=[];return e.content&&e.content.length>0&&(e.content.map(function(e){return r.push(new LX(t+"/"+e.id,e)),e}),n.content=r,n.currentPage=e.currentPage,n.pageSize=e.pageSize,n.total=e.total,n.totalPage=e.totalPage),n})}},{key:"deleteMapdashboards",value:function(e){var t=this.iportalUrl+"/web/mapdashboardsworkspaces.json";return this.request("DELETE",t,{ids:encodeURI(JSON.stringify(e))})}},{key:"queryMapdashboard",value:function(e){var t=this.iportalUrl+"/web/mapdashboards/"+e,n=new LX(t);return n.load().then(function(){return n})}},{key:"queryInsights",value:function(e){if(!(e instanceof CX))return null;var t;return t=this.withCredentials?this.iportalUrl+"web/mycontent/insightsworkspaces":this.iportalUrl+"/web/insightsworkspaces",this.request("GET",t,e).then(function(e){var n={content:[]},r=[];return e.content&&e.content.length>0&&(e.content.map(function(e){return r.push(new MX(t+"/"+e.id,e)),e}),n.content=r,n.currentPage=e.currentPage,n.pageSize=e.pageSize,n.total=e.total,n.totalPage=e.totalPage),n})}},{key:"deleteInsights",value:function(e){var t=this.iportalUrl+"/web/insightsworkspaces.json";return this.request("DELETE",t,{ids:encodeURI(JSON.stringify(e))})}},{key:"queryInsight",value:function(e){var t=this.iportalUrl+"/web/insightsworkspaces/"+e,n=new MX(t);return n.load().then(function(){return n})}},{key:"updateInsightAttrs",value:function(e,t){var n=this.iportalUrl+"/web/insightsworkspaces/"+e+"/attributes.json";return new MX(n,t).update()}},{key:"deleteScenes",value:function(e){var t=this.iportalUrl+"/web/scenes.json";return this.request("DELETE",t,{ids:encodeURI(JSON.stringify(e))})}},{key:"queryScenes",value:function(e){if(!(e instanceof TX))return null;var t;return t=this.withCredentials?this.iportalUrl+"/web/mycontent/scenes":this.iportalUrl+"/web/scenes",this.request("GET",t,e).then(function(e){var n={content:[]},r=[];return e.content&&e.content.length>0&&(e.content.map(function(e){return r.push(new AX(t+"/"+e.id,e)),e}),n.content=r,n.currentPage=e.currentPage,n.pageSize=e.pageSize,n.total=e.total,n.totalPage=e.totalPage),n})}},{key:"queryScene",value:function(e){var t=this.iportalUrl+"/web/scenes/"+e,n=new AX(t);return n.load().then(function(){return n})}},{key:"updateSceneAttrs",value:function(e,t){var n=this.iportalUrl+"/web/scenes/"+e+"/attributes.json";return new AX(n,t).update()}}]),t}(PX);xQ.iPortal=DX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var FX=function(){function e(t,n){Fi(this,e);var r=this;this.EVENT_TYPES=["processCompleted","processFailed"],this.events=null,this.eventListeners=null,this.url=null,this.urls=null,this.proxy=null,this.serverType=null,this.index=null,this.length=null,this.options=null,this.totalTimes=null,this.POLLING_TIMES=3,this._processSuccess=null,this._processFailed=null,this.isInTheSameDomain=null,this.withCredentials=!1,RY.isArray(t)?(r.urls=t,r.length=t.length,r.totalTimes=r.length,1===r.length?r.url=t[0]:(r.index=parseInt(Math.random()*r.length),r.url=t[r.index])):(r.totalTimes=1,r.url=t),RY.isArray(t)&&!r.isServiceSupportPolling()&&(r.url=t[0],r.totalTimes=1),r.serverType=r.serverType||TQ.ISERVER,n=n||{},this.crossOrigin=n.crossOrigin,this.headers=n.headers,RY.extend(this,n),r.isInTheSameDomain=RY.isInTheSameDomain(r.url),r.events=new KY(r,null,r.EVENT_TYPES,!0),r.eventListeners instanceof Object&&r.events.on(r.eventListeners),this.CLASS_NAME="SuperMap.CommonServiceBase"}return Ui(e,[{key:"destroy",value:function(){var e=this;RY.isArray(e.urls)&&(e.urls=null,e.index=null,e.length=null,e.totalTimes=null),e.url=null,e.options=null,e._processSuccess=null,e._processFailed=null,e.isInTheSameDomain=null,e.EVENT_TYPES=null,e.events&&(e.events.destroy(),e.events=null),e.eventListeners&&(e.eventListeners=null)}},{key:"request",value:function(e){var t=this;e.url=e.url||t.url,e.proxy=e.proxy||t.proxy,e.withCredentials=void 0!=e.withCredentials?e.withCredentials:t.withCredentials,e.crossOrigin=void 0!=e.crossOrigin?e.crossOrigin:t.crossOrigin,e.headers=e.headers||t.headers,e.isInTheSameDomain=t.isInTheSameDomain;var n=this.getCredential(e.url);if(n){var r=e.url.substring(e.url.length-1,e.url.length);e.url.indexOf("?")>-1&&"?"===r?e.url+=n.getUrlParameters():e.url.indexOf("?")>-1&&"?"!==r?e.url+="&"+n.getUrlParameters():e.url+="?"+n.getUrlParameters()}t.calculatePollingTimes(),t._processSuccess=e.success,t._processFailed=e.failure,e.scope=t,e.success=t.getUrlCompleted,e.failure=t.getUrlFailed,t.options=e,t._commit(t.options)}},{key:"getCredential",value:function(e){var t,n,r=e;switch(this.serverType){case TQ.IPORTAL:n=gX.getToken(r),t=n?new YY(n,"token"):null,t||(n=gX.getKey(r),t=n?new YY(n,"key"):null);break;case TQ.ONLINE:n=gX.getKey(r),t=n?new YY(n,"key"):null;break;default:n=gX.getToken(r),t=n?new YY(n,"token"):null}return t}},{key:"getUrlCompleted",value:function(e){this._processSuccess(e)}},{key:"getUrlFailed",value:function(e){var t=this;t.totalTimes>0?(t.totalTimes--,t.ajaxPolling()):t._processFailed(e)}},{key:"ajaxPolling",value:function(){var e=this,t=e.options.url,n=/^http:\/\/([a-z]{9}|(\d+\.){3}\d+):\d{0,4}/;e.index=parseInt(Math.random()*e.length),e.url=e.urls[e.index],t=t.replace(n,n.exec(e.url)[0]),e.options.url=t,e.options.isInTheSameDomain=RY.isInTheSameDomain(t),e._commit(e.options)}},{key:"calculatePollingTimes",value:function(){var e=this;e.times?e.totalTimes>e.POLLING_TIMES?e.times>e.POLLING_TIMES?e.totalTimes=e.POLLING_TIMES:e.totalTimes=e.times:e.times<e.totalTimes&&(e.totalTimes=e.times):e.totalTimes>e.POLLING_TIMES&&(e.totalTimes=e.POLLING_TIMES),e.totalTimes--}},{key:"isServiceSupportPolling",value:function(){var e=this;return!("SuperMap.REST.ThemeService"===e.CLASS_NAME||"SuperMap.REST.EditFeaturesService"===e.CLASS_NAME)}},{key:"serviceProcessCompleted",value:function(e){e=RY.transformResult(e),this.events.triggerEvent("processCompleted",{result:e})}},{key:"serviceProcessFailed",value:function(e){e=RY.transformResult(e);var t=e.error||e;this.events.triggerEvent("processFailed",{error:t})}},{key:"_commit",value:function(e){"POST"!==e.method&&"PUT"!==e.method||(e.params&&(e.url=RY.urlAppend(e.url,RY.getParameterString(e.params||{}))),e.params=e.data),bX.commit(e.method,e.url,e.params,{headers:e.headers,withCredentials:e.withCredentials,crossOrigin:e.crossOrigin,timeout:e.async?0:null,proxy:e.proxy}).then(function(e){return e.text?e.text():e.json?e.json():e}).then(function(t){var n=t;if("string"==typeof t&&(n=(new tX).read(t)),(!n||n.error||n.code>=300&&304!==n.code)&&(n=n&&n.error?{error:n.error}:{error:n}),n.error){(e.scope?jY.bind(e.failure,e.scope):e.failure)(n)}else{n.succeed=void 0==n.succeed||n.succeed;(e.scope?jY.bind(e.success,e.scope):e.success)(n)}}).catch(function(t){(e.scope?jY.bind(e.failure,e.scope):e.failure)(t)})}}]),e}();xQ.CommonServiceBase=FX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var BX=function(){function e(t){if(Gi(this,e),t.filters){var n=[];t.filters.split(",").map(function(e){return n.push('"'+e+'"'),e}),t.filters=n}this.address=null,this.fromIndex=null,this.toIndex=null,this.filters=null,this.prjCoordSys=null,this.maxReturn=null,RY.extend(this,t)}return Vi(e,[{key:"destroy",value:function(){this.address=null,this.fromIndex=null,this.toIndex=null,this.filters=null,this.prjCoordSys=null,this.maxReturn=null}}]),e}();xQ.GeoCodingParameter=BX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var UX=function(){function e(t){if(Hi(this,e),t.filters){var n=[];t.filters.split(",").map(function(e){return n.push('"'+e+'"'),e}),t.filters=n}this.x=null,this.y=null,this.fromIndex=null,this.toIndex=null,this.filters=null,this.prjCoordSys=null,this.maxReturn=null,this.geoDecodingRadius=null,RY.extend(this,t)}return qi(e,[{key:"destroy",value:function(){this.x=null,this.y=null,this.fromIndex=null,this.toIndex=null,this.filters=null,this.prjCoordSys=null,this.maxReturn=null,this.geoDecodingRadius=null}}]),e}();xQ.GeoDecodingParameter=UX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var GX=function(e){function t(e,n){var r;return Qi(this,t),r=Ki(this,to(t).call(this,e,n)),r.options=n||{},r.CLASS_NAME="SuperMap.AddressMatchService",r}return no(t,e),Xi(t,[{key:"destroy",value:function(){$i(to(t.prototype),"destroy",this).call(this)}},{key:"code",value:function(e,t){t instanceof BX&&this.processAsync(e,t)}},{key:"decode",value:function(e,t){t instanceof UX&&this.processAsync(e,t)}},{key:"processAsync",value:function(e,t){var n=this,r=this.headers,i=this.crossOrigin,o=this.proxy;bX.get(e,t,{headers:r,crossOrigin:i,proxy:o}).then(function(e){return e.json()}).then(function(e){e?n.serviceProcessCompleted(e):n.serviceProcessFailed(e)}).catch(function(e){n.eventListeners.processFailed({error:e})})}},{key:"serviceProcessCompleted",value:function(e){$i(to(t.prototype),"serviceProcessCompleted",this).call(this,e)}},{key:"serviceProcessFailed",value:function(e){$i(to(t.prototype),"serviceProcessFailed",this).call(this,e)}}]),t}(FX);xQ.AddressMatchService=GX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var zX=function(){function e(t){io(this,e),this.name=null,this.queryType=null,this.CLASS_NAME="SuperMap.AggQueryBuilderParameter",RY.extend(this,t)}return ao(e,[{key:"destroy",value:function(){var e=this;e.name=null,e.queryType=null}}]),e}();xQ.AggQueryBuilderParameter=zX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var VX=function(){function e(t){so(this,e),this.aggName=null,this.aggType=null,this.aggFieldName=null,this.subAgg=null,this.CLASS_NAME="SuperMap.AggregationParameter",RY.extend(this,t)}return uo(e,[{key:"destroy",value:function(){var e=this;e.aggName=null,e.aggFieldName=null,e.aggType=null,e.subAgg&&(e.subAgg=null)}}]),e}();xQ.AggregationParameter=VX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var HX=function(){function e(t){co(this,e),this.dataset=null,this.targetDatasourceName=null,this.totalGridName=null,this.diffuseDatasetGridName=null,this.durationDatasetGridName=null,this.directDatasetGridName=null,this.latitude=null,this.timeMode="MULTIDAYS",this.dayStart=null,this.dayEnd=null,this.hourStart=null,this.hourEnd=null,this.transmittance=null,this.hourInterval=null,this.dayInterval=null,this.deleteExistResultDataset=!1,RY.extend(this,t),this.CLASS_NAME="SuperMap.AreaSolarRadiationParameters"}return ho(e,[{key:"destroy",value:function(){var e=this;e.dataset=null,e.zFactor=1,e.averageCurvatureName=null,e.profileCurvatureName=null,e.planCurvatureName=null,e.deleteExistResultDataset=!0}}],[{key:"toObject",value:function(e,t){var n={};for(var r in e)if("dataset"!==r){var i="latitude"===r||"timeMode"===r||"dayStart"===r,o="dayEnd"===r||"hourStart"===r||"hourEnd"===r,a="transmittance"===r||"hourInterval"===r||"dayInterval"===r;i||o||a?n[r]=e[r]:t[r]=e[r]}t.parameter=n}}]),e}();xQ.AreaSolarRadiationParameters=HX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var JX=function(e){function t(e,n){var r;return yo(this,t),r=bo(this,wo(t).call(this,e,n)),r.format=CQ.GEOJSON,r.CLASS_NAME="SuperMap.SpatialAnalystBase",r}return Oo(t,e),vo(t,[{key:"destroy",value:function(){So(wo(t.prototype),"destroy",this).call(this),this.format=null}},{key:"serviceProcessCompleted",value:function(e){var t,n=this;if((e=RY.transformResult(e))&&n.format===CQ.GEOJSON&&"function"==typeof n.toGeoJSONResult)if(RY.isArray(e)){for(var r=0;r<e.length;r++)e[r]=n.toGeoJSONResult(e[r]);t=e}else t=n.toGeoJSONResult(e);t||(t=e),n.events.triggerEvent("processCompleted",{result:t})}},{key:"toGeoJSONResult",value:function(e){if(!e)return null;e.result&&e.result.resultGeometry&&(e=e.result);var t=new sX;if(e.recordsets)for(var n=0,r=e.recordsets,i=r.length;n<i;n++)r[n].features&&(r[n].features=t.toGeoJSON(r[n].features));else e.recordset&&e.recordset.features&&(e.recordset.features=t.toGeoJSON(e.recordset.features));return e.resultGeometry&&(e.resultGeometry=t.toGeoJSON(e.resultGeometry)),e.regions&&(e.regions=t.toGeoJSON(e.regions)),e}}]),t}(FX);xQ.SpatialAnalystBase=JX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var qX=function(e){function t(e,n){var r;return To(this,t),r=ko(this,jo(t).call(this,e,n)),r.CLASS_NAME="SuperMap.AreaSolarRadiationService",r}return Ro(t,e),Eo(t,[{key:"destroy",value:function(){Ao(jo(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof HX){var t=this;"/"!==t.url.substr(t.url.length-1,1)&&(t.url+="/");var n={};e instanceof HX&&(t.url+="datasets/"+e.dataset+"/solarradiation"),HX.toObject(e,n);var r=RY.toJSON(n);t.url+=".json?returnContent=true",t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}]),t}(JX);xQ.AreaSolarRadiationService=qX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var WX=function(){function e(t){Io(this,e),this.exp=null,this.value=100,RY.extend(this,t),this.CLASS_NAME="SuperMap.BufferDistance"}return Fo(e,[{key:"destroy",value:function(){this.exp=null,this.value=null}}]),e}();xQ.BufferDistance=WX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var QX=function(){function e(t){Bo(this,e),this.endType=ZQ.FLAT,this.leftDistance=new WX,this.rightDistance=new WX,this.semicircleLineSegment=4,this.radiusUnit=RQ.METER,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.BufferSetting"}return Go(e,[{key:"destroy",value:function(){var e=this;e.endType=null,e.leftDistance&&(e.leftDistance.destroy(),e.leftDistance=null),e.rightDistance&&(e.rightDistance.destroy(),e.rightDistance=null),e.semicircleLineSegment=null,e.radiusUnit=null}}]),e}();xQ.BufferSetting=QX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var YX=function(){function e(t){zo(this,e),this.bufferSetting=new QX,RY.extend(this,t),this.CLASS_NAME="SuperMap.BufferAnalystParameters"}return Ho(e,[{key:"destroy",value:function(){var e=this;e.bufferSetting&&(e.bufferSetting.destroy(),e.bufferSetting=null)}}]),e}();xQ.BufferAnalystParameters=YX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var XX=function(){function e(t){Jo(this,e),this.expectCount=1e3,this.dataset=null,this.dataReturnMode=rY.RECORDSET_ONLY,this.deleteExistResultDataset=!0,RY.extend(this,t),this.CLASS_NAME="SuperMap.DataReturnOption"}return Wo(e,[{key:"destroy",value:function(){var e=this;e.expectCount=null,e.dataset=null,e.dataReturnMode=null,e.deleteExistResultDataset=null}}]),e}();xQ.DataReturnOption=XX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var KX=function(){function e(t){Qo(this,e),this.foreignTableName=null,this.joinFilter=null,this.joinType=null,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.JoinItem"}return Xo(e,[{key:"destroy",value:function(){var e=this;e.foreignTableName=null,e.joinFilter=null,e.joinType=null}},{key:"toServerJSONObject",value:function(){var e={};return e=RY.copyAttributes(e,this)}}]),e}();xQ.JoinItem=KX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var ZX=function(){function e(t){Ko(this,e),this.alias=null,this.connect=null,this.dataBase=null,this.driver=null,this.engineType=null,this.exclusive=null,this.OpenLinkTable=null,this.password=null,this.readOnly=null,this.server=null,this.user=null,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.DatasourceConnectionInfo"}return $o(e,[{key:"destroy",value:function(){var e=this;e.alias=null,e.connect=null,e.dataBase=null,e.driver=null,e.engineType=null,e.exclusive=null,e.OpenLinkTable=null,e.password=null,e.readOnly=null,e.server=null,e.user=null}}]),e}();xQ.DatasourceConnectionInfo=ZX;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var $X=function(){function e(t){ea(this,e),this.datasourceConnectionInfo=null,this.foreignKeys=null,this.foreignTable=null,this.linkFields=null,this.linkFilter=null,this.name=null,this.primaryKeys=null,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.LinkItem"}return na(e,[{key:"destroy",value:function(){var e=this;e.datasourceConnectionInfo instanceof ZX&&(e.datasourceConnectionInfo.destroy(),e.datasourceConnectionInfo=null),e.foreignKeys=null,e.foreignTable=null,e.linkFields=null,e.linkFilter=null,e.name=null,e.primaryKeys=null}}]),e}();xQ.LinkItem=$X;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var eK=function(){function e(t){ra(this,e),this.attributeFilter=null,this.name=null,this.joinItems=null,this.linkItems=null,this.ids=null,this.orderBy=null,this.groupBy=null,this.fields=null,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.FilterParameter"}return oa(e,[{key:"destroy",value:function(){var e=this;if(e.attributeFilter=null,e.name=null,e.joinItems){for(var t=0,n=e.joinItems,r=n.length;t<r;t++)n[t].destroy();e.joinItems=null}if(e.linkItems){for(var i=0,o=e.linkItems,a=o.length;i<a;i++)o[i].destroy();e.linkItems=null}e.ids=null,e.orderBy=null,e.groupBy=null,e.fields=null}}]),e}();xQ.FilterParameter=eK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var tK=function(e){function t(e){var n;return sa(this,t),n=ca(this,ya(t).call(this,e)),n.dataset=null,n.filterQueryParameter=new eK,n.resultSetting=new XX,n.isAttributeRetained=!0,n.isUnion=!1,RY.extend(fa(n),e),n.CLASS_NAME="SuperMap.DatasetBufferAnalystParameters",n}return da(t,e),ua(t,[{key:"destroy",value:function(){ha(ya(t.prototype),"destroy",this).call(this);var e=this;e.dataset=null,e.filterQueryParameter&&(e.filterQueryParameter.destroy(),e.filterQueryParameter=null),e.resultSetting&&(e.resultSetting.destroy(),e.resultSetting=null),e.isAttributeRetained=null,e.isUnion=null}}],[{key:"toObject",value:function(e,t){for(var n in e)if("bufferSetting"===n)e.bufferSetting.radiusUnit=e.bufferSetting.radiusUnit.toUpperCase(),t.bufferAnalystParameter=e.bufferSetting;else if("resultSetting"===n)t.dataReturnOption=e.resultSetting;else{if("dataset"===n)continue;t[n]=e[n]}}}]),t}(YX);xQ.DatasetBufferAnalystParameters=tK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var nK=function(e){function t(e){var n;return ba(this,t),n=_a(this,Ca(t).call(this,e)),n.sourceGeometry=null,n.sourceGeometrySRID=null,e&&RY.extend(wa(n),e),n.CLASS_NAME=" SuperMap.GeometryBufferAnalystParameters",n}return Ta(t,e),Sa(t,[{key:"destroy",value:function(){Oa(Ca(t.prototype),"destroy",this).call(this);var e=this;e.sourceGeometry&&(e.sourceGeometry.destroy(),e.sourceGeometry=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)if("bufferSetting"===n){var r={};for(var i in e.bufferSetting)r[i]=e.bufferSetting[i];t.analystParameter=r}else"sourceGeometry"===n?t.sourceGeometry=aX.fromGeometry(e.sourceGeometry):t[n]=e[n]}}]),t}(YX);xQ.GeometryBufferAnalystParameters=nK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var rK=function(e){function t(e,n){var r;return ka(this,t),r=La(this,Ia(t).call(this,e,n)),r.mode=null,n&&RY.extend(ja(r),n),r.CLASS_NAME="SuperMap.BufferAnalystService",r}return Da(t,e),Aa(t,[{key:"destroy",value:function(){Ra(Ia(t.prototype),"destroy",this).call(this),this.mode=null}},{key:"processAsync",value:function(e){var t={},n=this;"/"!==n.url.substr(n.url.length-1,1)&&(n.url+="/"),e instanceof tK?(n.mode="datasets",n.url+="datasets/"+e.dataset+"/buffer",tK.toObject(e,t)):e instanceof nK&&(n.mode="geometry",n.url+="geometry/buffer",nK.toObject(e,t));var r=RY.toJSON(t);n.url+=".json?returnContent=true",n.request({method:"POST",data:r,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}]),t}(JX);xQ.BufferAnalystService=rK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var iK=function(){function e(t){Ba(this,e),this.type=eY.UDB,this.datasetName="analystResult",this.datasourceInfo=null,this.outputPath="",RY.extend(this,t),this.CLASS_NAME="SuperMap.OutputSetting"}return Ga(e,[{key:"destroy",value:function(){var e=this;e.type=null,e.datasetName=null,e.outputPath=null,e.datasourceInfo instanceof ZX&&(e.datasourceInfo.destroy(),e.datasourceInfo=null)}}]),e}();xQ.OutputSetting=iK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var oK=function(){function e(t){za(this,e),this.items=null,this.numericPrecision=1,this.rangeMode=UQ.EQUALINTERVAL,this.rangeCount="",this.colorGradientType=zQ.YELLOW_RED,RY.extend(this,t),this.CLASS_NAME="SuperMap.MappingParameters"}return Ha(e,[{key:"destroy",value:function(){var e=this;if(e.items){if(e.items.length>0)for(var t in e.items)e.items[t].destroy(),e.items[t]=null;e.items=null}e.numericPrecision=null,e.rangeMode=null,e.rangeCount=null,e.colorGradientType=null}}]),e}();xQ.MappingParameters=oK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var aK=function(){function e(t){if(Ja(this,e),this.datasetName="",this.bounds="",this.distance="",this.distanceField="",this.distanceUnit=_Y.METER,this.dissolveField="",this.output=null,this.mappingParameters=null,!t)return this;RY.extend(this,t),this.CLASS_NAME="SuperMap.BuffersAnalystJobsParameter"}return Wa(e,[{key:"destroy",value:function(){this.datasetName=null,this.bounds=null,this.distance=null,this.distanceField=null,this.distanceUnit=null,this.dissolveField=null,this.output instanceof iK&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof oK&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!==n?"output"!==n?(t.analyst=t.analyst||{},"bounds"===n&&e[n]?t.analyst[n]=e[n].toBBOX():t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):(t.input=t.input||{},t.input[n]=e[n])}}]),e}();xQ.BuffersAnalystJobsParameter=aK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var sK=function(e){function t(e,n){var r;return Ya(this,t),n=n||{},n.EVENT_TYPES=["processCompleted","processFailed","processRunning"],r=Za(this,ns(t).call(this,e,n)),r.CLASS_NAME="SuperMap.ProcessingServiceBase",r}return rs(t,e),Ka(t,[{key:"destroy",value:function(){es(ns(t.prototype),"destroy",this).call(this)}},{key:"getJobs",value:function(e){var t=this;bX.get(t._processUrl(e),null,{proxy:t.proxy}).then(function(e){return e.json()}).then(function(e){t.events.triggerEvent("processCompleted",{result:e})}).catch(function(e){t.eventListeners.processFailed({error:e})})}},{key:"addJob",value:function(e,t,n,r){var i=this,o=null;t&&t instanceof n&&(o=new Object,n.toObject(t,o));var a=Object.assign({"Content-Type":"application/x-www-form-urlencoded"},i.headers||{}),s={proxy:i.proxy,headers:a,withCredentials:i.withCredentials,crossOrigin:i.crossOrigin,isInTheSameDomain:i.isInTheSameDomain};bX.post(i._processUrl(e),JSON.stringify(o),s).then(function(e){return e.json()}).then(function(e){e.succeed?i.serviceProcessCompleted(e,r):i.serviceProcessFailed(e)}).catch(function(e){i.serviceProcessFailed({error:e})})}},{key:"serviceProcessCompleted",value:function(e,t){e=RY.transformResult(e),t=t||1e3;var n=this;if(e)var r=setInterval(function(){bX.get(n._processUrl(e.newResourceLocation),{_t:(new Date).getTime()}).then(function(e){return e.json()}).then(function(e){n.events.triggerEvent("processRunning",{id:e.id,state:e.state}),"LOST"!==e.state.runState&&"KILLED"!==e.state.runState&&"FAILED"!==e.state.runState||(clearInterval(r),n.events.triggerEvent("processFailed",{error:e.state.errorMsg,state:e.state.runState})),"FINISHED"===e.state.runState&&e.setting.serviceInfo&&(clearInterval(r),n.events.triggerEvent("processCompleted",{result:e}))}).catch(function(e){clearInterval(r),n.events.triggerEvent("processFailed",{error:e})})},t)}},{key:"serviceProcessFailed",value:function(e){es(ns(t.prototype),"serviceProcessFailed",this).call(this,e)}},{key:"_processUrl",value:function(e){return-1===e.indexOf(".json")&&(e+=".json"),gX.getToken(e)&&(e+="?token="+gX.getToken(e)),e}}]),t}(FX);xQ.ProcessingServiceBase=sK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var lK=function(e){function t(e,n){var r;return as(this,t),r=us(this,ps(t).call(this,e,n)),r.url+="/spatialanalyst/buffers",r.CLASS_NAME="SuperMap.BuffersAnalystJobsService",r}return ys(t,e),ls(t,[{key:"destroy",value:function(){fs(ps(t.prototype),"destroy",this).call(this)}},{key:"getBuffersJobs",value:function(){fs(ps(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getBuffersJob",value:function(e){fs(ps(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addBuffersJob",value:function(e,n){fs(ps(t.prototype),"addJob",this).call(this,this.url,e,aK,n)}}]),t}(sK);xQ.BuffersAnalystJobsService=lK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var uK=function(){function e(t){ms(this,e);var n=this;this.sourceNodeIDs=null,this.edgeID=null,this.nodeID=null,this.isUncertainDirectionValid=!1,RY.extend(n,t),this.CLASS_NAME="SuperMap.BurstPipelineAnalystParameters"}return bs(e,[{key:"destroy",value:function(){var e=this;e.sourceNodeIDs=null,e.edgeID=null,e.nodeID=null,e.isUncertainDirectionValid=null}}]),e}();xQ.BurstPipelineAnalystParameters=uK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var cK=function(e){function t(e,n){var r;return Ss(this,t),r=Os(this,Ps(t).call(this,e,n)),r.format=CQ.GEOJSON,r.CLASS_NAME="SuperMap.NetworkAnalystServiceBase",r}return Es(t,e),ws(t,[{key:"destroy",value:function(){Cs(Ps(t.prototype),"destroy",this).call(this),this.format=null}},{key:"serviceProcessCompleted",value:function(e){var t,n=this;e=RY.transformResult(e),e&&n.format===CQ.GEOJSON&&"function"==typeof n.toGeoJSONResult&&(t=n.toGeoJSONResult(e)),t||(t=e),n.events.triggerEvent("processCompleted",{result:t})}},{key:"toGeoJSONResult",value:function(e){return null}}]),t}(FX);xQ.NetworkAnalystServiceBase=cK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var fK=function(e){function t(e,n){var r;return As(this,t),r=Rs(this,Fs(t).call(this,e,n)),r.CLASS_NAME="SuperMap.BurstPipelineAnalystService",r}return Bs(t,e),js(t,[{key:"destroy",value:function(){Is(Fs(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(!(e instanceof uK))return null;var t,n=this,r=n.url.substr(n.url.length-1,1);if(n.url=n.url+("/"===r?"burstAnalyse":"/burstAnalyse")+".json?",t={sourceNodeIDs:e.sourceNodeIDs,isUncertainDirectionValid:e.isUncertainDirectionValid},null!==e.edgeID&&null!==e.nodeID)throw new Error("edgeID and nodeID cannot be null at the same time.");if(null===e.edgeID&&null===e.nodeID)throw new Error("edgeID and nodeID cannot be null at the same time.");null!==e.edgeID?t.edgeID=e.edgeID:t.nodeID=e.nodeID,n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}]),t}(cK);xQ.BurstPipelineAnalystService=fK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var hK=function(e){function t(e,n){var r;return zs(this,t),r=Js(this,Ys(t).call(this,e,n)),r.CLASS_NAME="SuperMap.ChartFeatureInfoSpecsService",r}return Xs(t,e),Hs(t,[{key:"destroy",value:function(){Ws(Ys(t.prototype),"destroy",this).call(this),RY.reset(this)}},{key:"processAsync",value:function(){var e=this,t=e.url.substr(e.url.length-1,1);e.isTempLayers?e.url+=".json?":(e.url+="/"===t?"":"/",e.url+="chartFeatureInfoSpecs.json?"),e.request({method:"GET",params:null,scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}}]),t}(FX);xQ.ChartFeatureInfoSpecsService=hK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var pK=function(){function e(t){Zs(this,e),this.isQueryPoint=null,this.isQueryLine=null,this.isQueryRegion=null,this.attributeFilter=null,this.chartFeatureInfoSpecCode=null,RY.extend(this,t),this.CLASS_NAME="SuperMap.ChartQueryFilterParameter"}return el(e,[{key:"destroy",value:function(){var e=this;e.isQueryPoint=null,e.isQueryLine=null,e.isQueryRegion=null,e.attributeFilter=null,e.chartFeatureInfoSpecCode=null}},{key:"toJson",value:function(){var e="";return e+='"isQueryPoint":'+this.isQueryPoint+",",e+='"isQueryLine":'+this.isQueryLine+",",e+='"isQueryRegion":'+this.isQueryRegion+",",this.attributeFilter&&(e+='"attributeFilter": "'+this.attributeFilter+'",'),e+='"chartFeatureInfoSpecCode":'+this.chartFeatureInfoSpecCode,e="{"+e+"}"}}]),e}();xQ.ChartQueryFilterParameter=pK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var yK=function(){function e(t){tl(this,e),this.queryMode=null,this.bounds=null,this.chartLayerNames=null,this.chartQueryFilterParameters=null,this.returnContent=!0,this.startRecord=0,this.expectCount=null,RY.extend(this,t),this.CLASS_NAME="SuperMap.ChartQueryParameters"}return rl(e,[{key:"destroy",value:function(){var e=this;e.queryMode=null,e.bounds=null,e.chartLayerNames=null,e.chartQueryFilterParameters=null,e.returnContent=!0,e.startRecord=0,e.expectCount=null}},{key:"getVariablesJson",value:function(){var e="";if(e+='"queryMode":"'+this.queryMode+'",',this.chartLayerNames&&this.chartLayerNames.length){for(var t=[],n=this.chartLayerNames.length,r=0;r<n;r++)t.push('"'+this.chartLayerNames[r]+'"');e+='"chartLayerNames":'+("["+t.join(",")+"]")+","}if("ChartBoundsQuery"===this.queryMode&&this.bounds&&(e+='"bounds":{"leftBottom":{"x":'+this.bounds.left+',"y":'+this.bounds.bottom+'},"rightTop":{"x":'+this.bounds.right+',"y":'+this.bounds.top+"}},"),this.chartQueryFilterParameters&&this.chartQueryFilterParameters.length){for(var i=[],o=this.chartQueryFilterParameters.length,a=0;a<o;a++){var s=this.chartQueryFilterParameters[a];s instanceof pK&&i.push(s.toJson())}var l="["+i.join(",")+"]";l='"chartQueryParams":'+l+",",l+='"startRecord":'+this.startRecord+",",l+='"expectCount":'+this.expectCount,l="{"+l+"}",e+='"chartQueryParameters":'+l}return e="{"+e+"}"}}]),e}();xQ.ChartQueryParameters=yK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var dK=function(){function e(t){il(this,e),t&&(this.customParams=null,this.prjCoordSys=null,this.expectCount=1e5,this.networkType=PQ.LINE,this.queryOption=EQ.ATTRIBUTEANDGEOMETRY,this.queryParams=null,this.startRecord=0,this.holdTime=10,this.returnCustomResult=!1,this.returnFeatureWithFieldCaption=!1,RY.extend(this,t),this.CLASS_NAME="SuperMap.QueryParameters")}return al(e,[{key:"destroy",value:function(){var e=this;if(e.customParams=null,e.expectCount=null,e.networkType=null,e.queryOption=null,e.queryParams){for(var t=0,n=e.queryParams,r=n.length;t<r;t++)n[t].destroy();e.queryParams=null}e.startRecord=null,e.holdTime=null,e.returnCustomResult=null,e.prjCoordSys=null}}]),e}();xQ.QueryParameters=dK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var mK=function(e){function t(e,n){var r;ll(this,t),r=fl(this,hl(t).call(this,e,n)),n=n||{},r.returnContent=null,r.format=CQ.GEOJSON,RY.extend(pl(r),n);var i,o=pl(r);return n.format&&(o.format=n.format.toUpperCase()),o.url?(i=o.url.substr(o.url.length-1,1),o.url+="/"===i?"queryResults.json?":"/queryResults.json?",r.CLASS_NAME="SuperMap.ChartQueryService",r):fl(r)}return yl(t,e),cl(t,[{key:"destroy",value:function(){var e=this;FX.prototype.destroy.apply(this,arguments),e.returnContent=null,e.format=null}},{key:"processAsync",value:function(e){if(e instanceof yK){var t,n=this;n.returnContent=e.returnContent,t=e.getVariablesJson(),n.returnContent&&(n.url+="returnContent="+n.returnContent),n.request({method:"POST",data:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"serviceProcessCompleted",value:function(e){var t=this;if((e=RY.transformResult(e))&&e.recordsets&&t.format===CQ.GEOJSON)for(var n=0,r=e.recordsets,i=r.length;n<i;n++)if(r[n].features){var o=new sX;r[n].features=o.toGeoJSON(r[n].features)}t.events.triggerEvent("processCompleted",{result:e})}},{key:"getQueryParameters",value:function(e){return new dK({queryMode:e.queryMode,bounds:e.bounds,chartLayerNames:e.chartLayerNames,chartQueryFilterParameters:e.chartQueryFilterParameters,returnContent:e.returnContent})}}]),t}(FX);xQ.ChartQueryService=mK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var vK=function(){function e(t){ml(this,e),this.clipDatasetName=null,this.clipDatasourceName=null,this.clipRegion=null,this.isClipInRegion=!0,this.isExactClip=null,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.ClipParameter"}return bl(e,[{key:"destroy",value:function(){var e=this;e.clipDatasetName=null,e.clipDatasourceName=null,e.clipRegion=null,e.isClipInRegion=null,e.isExactClip=null}},{key:"toJSON",value:function(){return RY.toJSON({isClipInRegion:this.isClipInRegion,clipDatasetName:this.clipDatasetName,clipDatasourceName:this.clipDatasourceName,isExactClip:this.isExactClip,clipRegion:aX.fromGeometry(this.clipRegion)})}}]),e}();xQ.ClipParameter=vK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var bK=function(){function e(t){gl(this,e),t=t||{},this.elevation=null,this.color=null,RY.extend(this,t);var n=this,r=n.color;r&&(n.color=new nX(r.red,r.green,r.blue)),this.CLASS_NAME="SuperMap.ColorDictionary"}return _l(e,[{key:"destroy",value:function(){RY.reset(this)}},{key:"toServerJSONObject",value:function(){var e={};return e=RY.copyAttributes(e,this)}}]),e}();xQ.ColorDictionary=bK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var gK=function(){function e(t){wl(this,e),t&&(this.returnEdgeFeatures=!1,this.returnEdgeGeometry=!1,this.returnEdgeIDs=!1,this.returnNodeFeatures=!1,this.returnNodeGeometry=!1,this.returnNodeIDs=!1,this.returnPathGuides=!1,this.returnRoutes=!1,RY.extend(this,t),this.CLASS_NAME="SuperMap.TransportationAnalystResultSetting")}return xl(e,[{key:"destroy",value:function(){var e=this;e.returnEdgeFeatures=null,e.returnEdgeGeometry=null,e.returnEdgeIDs=null,e.returnNodeFeatures=null,e.returnNodeGeometry=null,e.returnNodeIDs=null,e.returnPathGuides=null,e.returnRoutes=null}}]),e}();xQ.TransportationAnalystResultSetting=gK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var SK=function(){function e(t){Cl(this,e),t&&(this.barrierEdgeIDs=null,this.barrierNodeIDs=null,this.barrierPoints=null,this.weightFieldName=null,this.turnWeightField=null,this.resultSetting=new gK,RY.extend(this,t),this.CLASS_NAME="SuperMap.TransportationAnalystParameter")}return Pl(e,[{key:"destroy",value:function(){var e=this;if(e.barrierEdgeIDs=null,e.barrierNodeIDs=null,e.weightFieldName=null,e.turnWeightField=null,e.resultSetting&&(e.resultSetting.destroy(),e.resultSetting=null),e.barrierPoints&&e.barrierPoints.length)for(var t in e.barrierPoints)e.barrierPoints[t].destroy();e.barrierPoints=null}}]),e}();xQ.TransportationAnalystParameter=SK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var _K=function(){function e(t){El(this,e),this.isAnalyzeById=!1,this.nodes=null,this.parameter=new SK,RY.extend(this,t),this.CLASS_NAME="SuperMap.ComputeWeightMatrixParameters"}return Ml(e,[{key:"destroy",value:function(){var e=this;e.isAnalyzeById=null,e.nodes=null,e.parameter&&(e.parameter.destroy(),e.parameter=null)}}]),e}();xQ.ComputeWeightMatrixParameters=_K;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var wK=function(e){function t(e,n){var r;return Ll(this,t),r=Nl(this,Bl(t).call(this,e,n)),r.CLASS_NAME="SuperMap.ComputeWeightMatrixService",r}return Ul(t,e),Rl(t,[{key:"destroy",value:function(){Dl(Bl(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof _K){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"weightmatrix":"/weightmatrix")+".json?",t={parameter:RY.toJSON(e.parameter),nodes:n.getJson(e.isAnalyzeById,e.nodes)},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJson",value:function(e,t){var n="[",r=t?t.length:0;if(!1===e)for(var i=0;i<r;i++)i>0&&(n+=","),n+='{"x":'+t[i].x+',"y":'+t[i].y+"}";else if(!0===e)for(var o=0;o<r;o++)o>0&&(n+=","),n+=t[o];return n+="]"}}]),t}(cK);xQ.ComputeWeightMatrixService=wK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var OK=function(e){function t(e,n){var r;Vl(this,t),n=n||{},n.EVENT_TYPES=["broadcastSocketConnected","broadcastSocketError","broadcastFailed","broadcastSucceeded","subscribeSocketConnected","subscribeSocketError","messageSucceeded","setFilterParamSucceeded"],r=ql(this,Wl(t).call(this,e,n)),r.geometry=null,r.prjCoordSys=null,r.excludeField=null;var i=Ql(r);return"/"!==i.url.substr(i.url.length-1,1)&&(i.url+="/"),RY.extend(i,n),r.CLASS_NAME="SuperMap.DataFlowService",r}return Yl(t,e),Jl(t,[{key:"initBroadcast",value:function(){var e=this;return this.broadcastWebSocket=this._connect(e.url+"broadcast"),this.broadcastWebSocket.onopen=function(t){e.broadcastWebSocket.isOpen=!0,t.eventType="broadcastSocketConnected",e.events.triggerEvent("broadcastSocketConnected",t)},this.broadcastWebSocket.onclose=function(t){e.broadcastWebSocket.isOpen=!1,t.eventType="broadcastSocketConnected",e.events.triggerEvent("broadcastSocketConnected",t)},this.broadcastWebSocket.onerror=function(t){t.eventType="broadcastSocketError",e.events.triggerEvent("broadcastSocketError",t)},this}},{key:"broadcast",value:function(e){if(!this.broadcastWebSocket||!this.broadcastWebSocket.isOpen)return void this.events.triggerEvent("broadcastFailed");this.broadcastWebSocket.send(JSON.stringify(e)),this.events.triggerEvent("broadcastSucceeded")}},{key:"initSubscribe",value:function(){var e=this;return this.subscribeWebSocket=this._connect(this.url+"subscribe"),this.subscribeWebSocket.onopen=function(t){e.subscribeWebSocket.send(e._getFilterParams()),t.eventType="subscribeSocketConnected",e.events.triggerEvent("subscribeSocketConnected",t)},this.subscribeWebSocket.onerror=function(t){t.eventType="subscribeSocketError",e.events.triggerEvent("subscribeSocketError",t)},this.subscribeWebSocket.onmessage=function(t){e._onMessage(t)},this}},{key:"setExcludeField",value:function(e){return this.excludeField=e,this.subscribeWebSocket.send(this._getFilterParams()),this}},{key:"setGeometry",value:function(e){return this.geometry=e,this.subscribeWebSocket.send(this._getFilterParams()),this}},{key:"unSubscribe",value:function(){this.subscribeWebSocket&&(this.subscribeWebSocket.close(),this.subscribeWebSocket=null)}},{key:"unBroadcast",value:function(){this.broadcastWebSocket&&(this.broadcastWebSocket.close(),this.broadcastWebSocket=null)}},{key:"destroy",value:function(){FX.prototype.destroy.apply(this,arguments);var e=this;e.geometry=null,e.prjCoordSys=null,e.excludeField=null,this.unBroadcast(),this.unSubscribe()}},{key:"_getFilterParams",value:function(){var e={filterParam:{prjCoordSys:this.prjCoordSys,excludeField:this.excludeField,geometry:this.geometry}};return RY.toJSON(e)}},{key:"_onMessage",value:function(e){if(e.data&&e.data.indexOf("filterParam")>=0){var t=JSON.parse(e.data);return e.filterParam=t,e.eventType="setFilterParamSucceeded",void this.events.triggerEvent("setFilterParamSucceeded",e)}var n=JSON.parse(e.data);e.featureResult=n,e.eventType="messageSucceeded",this.events.triggerEvent("messageSucceeded",e)}},{key:"_connect",value:function(e){if(e=this._appendCredentials(e),"WebSocket"in window)return new WebSocket(e);if("MozWebSocket"in window){return new(0,window.MozWebSocket)(e)}return console.log("no WebSocket"),null}},{key:"_appendCredentials",value:function(e){var t=gX.getToken(e);return t&&(e+="?token="+t),e}}]),t}(FX);xQ.DataFlowService=OK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var xK=function(){function e(t){Kl(this,e),t=t||{},this.bounds=null,this.dataSourceName=null,this.description=null,this.encodeType=null,this.isReadOnly=null,this.name=null,this.prjCoordSys=null,this.tableName=null,this.type=null,RY.extend(this,t);var n=this.bounds;n&&(this.bounds=new IY(n.leftBottom.x,n.leftBottom.y,n.rightTop.x,n.rightTop.y)),this.CLASS_NAME="SuperMap.DatasetInfo"}return $l(e,[{key:"destroy",value:function(){RY.reset(this)}},{key:"toServerJSONObject",value:function(){var e={};return e=RY.copyAttributes(e,this),e.bounds&&e.bounds.toServerJSONObject&&(e.bounds=e.bounds.toServerJSONObject()),e}}]),e}();xQ.DatasetInfo=xK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var CK=function(){function e(t){eu(this,e),this.operation=$Q.UNION,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.OverlayAnalystParameters"}return nu(e,[{key:"destroy",value:function(){this.operation=null}}]),e}();xQ.OverlayAnalystParameters=CK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var TK=function(e){function t(e){var n;return iu(this,t),n=su(this,fu(t).call(this,e)),n.operateDataset=null,n.operateDatasetFields=[],n.operateDatasetFilter=new eK,n.operateRegions=[],n.sourceDataset=null,n.sourceDatasetFields=[],n.sourceDatasetFilter=new eK,n.tolerance=0,n.resultSetting=new XX,RY.extend(lu(n),e),n.CLASS_NAME="SuperMap.DatasetOverlayAnalystParameters",n}return hu(t,e),au(t,[{key:"destroy",value:function(){uu(fu(t.prototype),"destroy",this).call(this);var e=this;if(e.operateDataset=null,e.operateDatasetFields=null,e.operateDatasetFilter&&(e.operateDatasetFilter.destroy(),e.operateDatasetFilter=null),e.operateRegions){for(var n=0,r=e.operateRegions,i=r.length;n<i;n++)r[n].destroy();e.operateRegions=null}e.sourceDataset=null,e.sourceDatasetFields=null,e.sourceDatasetFilter&&(e.sourceDatasetFilter.destroy(),e.sourceDatasetFilter=null),e.tolerance=null,e.resultSetting&&(e.resultSetting.destroy(),e.resultSetting=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)if("sourceDataset"!==n)if("operateRegions"===n){t.operateRegions=[];var r=e.operateRegions;for(var i in r)r.hasOwnProperty(i)&&(t.operateRegions[i]=aX.fromGeometry(r[i]))}else"resultSetting"===n?t.dataReturnOption=e.resultSetting:t[n]=e[n]}}]),t}(CK);xQ.DatasetOverlayAnalystParameters=TK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var PK=function(){function e(t){yu(this,e),this.clipRegion=null,this.datumValue=0,this.expectedZValues=null,this.interval=0,this.resampleTolerance=0,this.smoothMethod=tY.BSPLINE,this.smoothness=0,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.SurfaceAnalystParametersSetting"}return mu(e,[{key:"destroy",value:function(){var e=this;e.clipRegion&&(e.clipRegion.destroy(),e.clipRegion=null),e.datumValue=null,e.expectedZValues=null,e.interval=null,e.resampleTolerance=null,e.smoothMethod=null,e.smoothness=null}},{key:"toJSON",value:function(){var e="'datumValue':"+RY.toJSON(this.datumValue);if(e+=",'interval':"+RY.toJSON(this.interval),e+=",'resampleTolerance':"+RY.toJSON(this.resampleTolerance),e+=",'smoothMethod':"+RY.toJSON(this.smoothMethod),e+=",'smoothness':"+RY.toJSON(this.smoothness),null!=this.expectedZValues&&(e+=",'expectedZValues':"+RY.toJSON(this.expectedZValues)),null!=this.clipRegion){var t=this.clipRegion;this.clipRegion instanceof DY&&this.clipRegion.components&&(t=aX.fromGeometry(this.clipRegion)),e+=",'clipRegion':"+RY.toJSON(t)}return"{"+e+"}"}}]),e}();xQ.SurfaceAnalystParametersSetting=PK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var EK=function(){function e(t){vu(this,e),this.resolution=0,this.extractParameter=new PK,this.resultSetting=new XX,this.surfaceAnalystMethod=nY.ISOLINE,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.SurfaceAnalystParameters"}return gu(e,[{key:"destroy",value:function(){var e=this;e.resolution=null,e.extractParameter&&(e.extractParameter.destroy(),e.extractParameter=null),e.resultSetting&&(e.resultSetting.destroy(),e.resultSetting=null),e.surfaceAnalystMethod=null}}]),e}();xQ.SurfaceAnalystParameters=EK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var kK=function(e){function t(e){var n;return _u(this,t),n=xu(this,Eu(t).call(this,e)),n.dataset=null,n.filterQueryParameter=new eK,n.zValueFieldName=null,e&&RY.extend(Cu(n),e),n.CLASS_NAME="SuperMap.DatasetSurfaceAnalystParameters",n}return ku(t,e),Ou(t,[{key:"destroy",value:function(){Tu(Eu(t.prototype),"destroy",this).call(this);var e=this;e.dataset=null,e.filterQueryParameter&&(e.filterQueryParameter.destroy(),e.filterQueryParameter=null),e.zValueFieldName=null}}],[{key:"toObject",value:function(e,t){for(var n in e)if("filterQueryParameter"===n&&(t.filterQueryParameter=e.filterQueryParameter),"extractParameter"===n)e.extractParameter.clipRegion instanceof DY&&e.extractParameter.clipRegion.components&&(e.extractParameter.clipRegion=aX.fromGeometry(e.extractParameter.clipRegion)),t.extractParameter=e.extractParameter;else{if("dataset"===n)continue;if("surfaceAnalystMethod"===n)continue;t[n]=e[n]}}}]),t}(EK);xQ.DatasetSurfaceAnalystParameters=kK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var MK=function(){function e(t){Au(this,e),t&&(this.clipRegion=null,this.createResultDataset=!1,this.resultDatasetName=null,this.resultDatasourceName=null,this.returnResultRegion=!0,RY.extend(this,t),this.CLASS_NAME="SuperMap.ThiessenAnalystParameters")}return ju(e,[{key:"destroy",value:function(){var e=this;e.clipRegion&&(e.clipRegion.destroy(),e.clipRegion=null),e.createResultDataset=null,e.resultDatasetName=null,e.resultDatasourceName=null,e.returnResultRegion=null}}]),e}();xQ.ThiessenAnalystParameters=MK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var AK=function(e){function t(e){var n;return Nu(this,t),n=Fu(this,zu(t).call(this,e)),n.filterQueryParameter=null,n.dataset=null,e&&RY.extend(Bu(n),e),n.CLASS_NAME="SuperMap.DatasetThiessenAnalystParameters",n}return Vu(t,e),Du(t,[{key:"destroy",value:function(){Uu(zu(t.prototype),"destroy",this).call(this);var e=this;e.filterQueryParameter&&(e.filterQueryParameter.destroy(),e.filterQueryParameter=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"clipRegion"===n?t.clipRegion=aX.fromGeometry(e.clipRegion):t[n]=e[n]}}]),t}(MK);xQ.DatasetThiessenAnalystParameters=AK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var LK=function(){function e(t){Ju(this,e),this.dataset=null,this.bounds=null,this.fieldName=null,this.resultGridDatasetResolution=null,this.searchRadius=null,this.targetDatasource=null,this.resultGridName=null,this.deleteExistResultDataset=!1,RY.extend(this,t),this.CLASS_NAME="SuperMap.DensityKernelAnalystParameters"}return Wu(e,[{key:"destroy",value:function(){var e=this;e.dataset=null,e.bounds=null,e.fieldName=null,e.resultGridDatasetResolution=null,e.searchRadius=null,e.targetDatasource=null,e.resultGridName=null,e.deleteExistResultDataset=null}}],[{key:"toObject",value:function(e,t){for(var n in e)"dataset"!==n&&(t[n]=e[n])}}]),e}();xQ.DensityKernelAnalystParameters=LK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var jK=function(e){function t(e,n){var r;return Yu(this,t),r=Zu(this,nc(t).call(this,e,n)),r.mode=null,n&&RY.extend($u(r),n),r.CLASS_NAME="SuperMap.DensityAnalystService",r}return rc(t,e),Ku(t,[{key:"destroy",value:function(){ec(nc(t.prototype),"destroy",this).call(this),this.mode=null}},{key:"processAsync",value:function(e){var t=this;"/"!==t.url.substr(t.url.length-1,1)&&(t.url+="/");var n=new Object;e instanceof LK&&(t.url+="datasets/"+e.dataset+"/densityanalyst/kernel",t.mode="kernel"),LK.toObject(e,n);var r=RY.toJSON(n);t.url+=".json?returnContent=true",t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}]),t}(JX);xQ.DensityAnalystService=jK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var RK=function(){function e(t){oc(this,e),this.dataSourceName=null,this.dataSetName=null,this.features=null,this.editType=iY.ADD,this.IDs=null,this.returnContent=!1,this.isUseBatch=!1,RY.extend(this,t),this.CLASS_NAME="SuperMap.EditFeaturesParameters"}return sc(e,[{key:"destroy",value:function(){var e=this;e.dataSourceName=null,e.dataSetName=null,e.features=null,e.editType=null,e.IDs=null,e.returnContent=null}}],[{key:"toJsonParameters",value:function(e){var t,n,r;if(e.editType===iY.DELETE){if(null===e.IDs)return;r={ids:e.IDs}}else if(r=[],e.features){n=e.features.length;for(var i=0;i<n;i++)t=e.features[i],t.geometry=aX.fromGeometry(t.geometry),r.push(t)}return RY.toJSON(r)}}]),e}();xQ.EditFeaturesParameters=RK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var NK=function(e){function t(e,n){var r;uc(this,t),r=hc(this,mc(t).call(this,e,n)),r.returnContent=!1,r.isUseBatch=!1,n&&RY.extend(pc(r),n);var i,o=pc(r);return i=o.url.substr(o.url.length-1,1),o.url+="/"==i?"features.json?":"/features.json?",r.CLASS_NAME="SuperMap.EditFeaturesService",r}return vc(t,e),fc(t,[{key:"destroy",value:function(){yc(mc(t.prototype),"destroy",this).call(this);var e=this;e.returnContent=null,e.isUseBatch=null,e.fromIndex=null,e.toIndex=null}},{key:"processAsync",value:function(e){if(e instanceof RK){var t=this,n="POST",r="",i=e.editType,o=null;t.returnContent=e.returnContent,t.isUseBatch=e.isUseBatch,o=RK.toJsonParameters(e),i===iY.DELETE?(r=RY.toJSON(e.IDs),t.url+="ids="+r,n="DELETE",o=r):i===iY.UPDATE?n="PUT":(t.isUseBatch&&(t.url+="isUseBatch="+t.isUseBatch,t.returnContent=!1),t.returnContent&&(t.url+="returnContent="+t.returnContent,n="POST")),t.request({method:n,data:o,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}]),t}(FX);xQ.EditFeaturesService=NK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var IK=function(){function e(t){gc(this,e),this.edgeID=null,this.nodeID=null,this.weightName=null,this.isUncertainDirectionValid=!1,RY.extend(this,t),this.CLASS_NAME="SuperMap.FacilityAnalyst3DParameters"}return _c(e,[{key:"destroy",value:function(){var e=this;e.edgeID=null,e.nodeID=null,e.weightName=null,e.isUncertainDirectionValid=null}}]),e}();xQ.FacilityAnalyst3DParameters=IK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var DK=function(e){function t(e){var n;return Oc(this,t),n=Tc(this,Mc(t).call(this,e)),n.CLASS_NAME="SuperMap.FacilityAnalystSinks3DParameters",n}return Ac(t,e),Cc(t,[{key:"destroy",value:function(){Ec(Mc(t.prototype),"destroy",this).call(this)}}]),t}(IK);xQ.FacilityAnalystSinks3DParameters=DK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var FK=function(e){function t(e,n){var r;return Rc(this,t),r=Dc(this,Bc(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FacilityAnalystSinks3DService",r}return Uc(t,e),Ic(t,[{key:"destroy",value:function(){FX.prototype.destroy.apply(this,arguments)}},{key:"processAsync",value:function(e){if(e instanceof DK){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"sinks":"/sinks")+".json?",t={edgeID:e.edgeID,nodeID:e.nodeID,weightName:e.weightName,isUncertainDirectionValid:e.isUncertainDirectionValid},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}]),t}(FX);xQ.FacilityAnalystSinks3DService=FK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var BK=function(e){function t(e){var n;return Vc(this,t),n=qc(this,Xc(t).call(this,e)),n.CLASS_NAME="SuperMap.FacilityAnalystSources3DParameters",n}return Kc(t,e),Jc(t,[{key:"destroy",value:function(){Qc(Xc(t.prototype),"destroy",this).call(this)}}]),t}(IK);xQ.FacilityAnalystSources3DParameters=BK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var UK=function(e){function t(e,n){var r;return ef(this,t),r=rf(this,lf(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FacilityAnalystSources3DService",r}return uf(t,e),nf(t,[{key:"destroy",value:function(){af(lf(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof BK){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"sources":"/sources")+".json?",t={edgeID:e.edgeID,nodeID:e.nodeID,weightName:e.weightName,isUncertainDirectionValid:e.isUncertainDirectionValid},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}]),t}(FX);xQ.FacilityAnalystSources3DService=UK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var GK=function(){function e(t){ff(this,e),this.sourceNodeIDs=null,this.edgeID=null,this.nodeID=null,this.isUncertainDirectionValid=!1,this.queryType=null,RY.extend(this,t),this.CLASS_NAME="SuperMap.FacilityAnalystStreamParameters"}return pf(e,[{key:"destroy",value:function(){var e=this;e.edgeID=null,e.nodeID=null,e.weightName=null,e.isUncertainDirectionValid=null,e.type=null}}]),e}();xQ.FacilityAnalystStreamParameters=GK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var zK=function(e){function t(e,n){var r;return df(this,t),r=bf(this,wf(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FacilityAnalystStreamService",r}return Of(t,e),vf(t,[{key:"destroy",value:function(){Sf(wf(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof GK){var t,n=this,r=n.url.substr(n.url.length-1,1);if(0===e.queryType)n.url=n.url+("/"===r?"upstreamcirticalfaclilities":"/upstreamcirticalfaclilities")+".json?";else{if(1!==e.queryType)return;n.url=n.url+("/"===r?"downstreamcirticalfaclilities":"/downstreamcirticalfaclilities")+".json?"}t={sourceNodeIDs:e.sourceNodeIDs,isUncertainDirectionValid:e.isUncertainDirectionValid},null!==e.edgeID&&null!==e.nodeID||null===e.edgeID&&null===e.nodeID||(null!==e.edgeID?t.edgeID=e.edgeID:t.nodeID=e.nodeID,n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed}))}}}]),t}(cK);xQ.FacilityAnalystStreamService=zK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var VK=function(e){function t(e){var n;return Tf(this,t),n=kf(this,jf(t).call(this,e)),n.CLASS_NAME="SuperMap.FacilityAnalystTracedown3DParameters",n}return Rf(t,e),Ef(t,[{key:"destroy",value:function(){Af(jf(t.prototype),"destroy",this).call(this)}}]),t}(IK);xQ.FacilityAnalystTracedown3DParameters=VK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var HK=function(e){function t(e,n){var r;return Df(this,t),r=Uf(this,Hf(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FacilityAnalystTracedown3DService",r}return Jf(t,e),Bf(t,[{key:"destroy",value:function(){zf(Hf(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof VK){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"tracedownresult":"/tracedownresult")+".json?",t={edgeID:e.edgeID,nodeID:e.nodeID,weightName:e.weightName,isUncertainDirectionValid:e.isUncertainDirectionValid},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}]),t}(FX);xQ.FacilityAnalystTracedown3DService=HK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var JK=function(e){function t(e){var n;return Qf(this,t),n=Kf(this,th(t).call(this,e)),n.CLASS_NAME="SuperMap.FacilityAnalystTraceup3DParameters",n}return nh(t,e),Xf(t,[{key:"destroy",value:function(){$f(th(t.prototype),"destroy",this).call(this)}}]),t}(IK);xQ.FacilityAnalystTraceup3DParameters=JK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var qK=function(e){function t(e,n){var r;return oh(this,t),r=lh(this,hh(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FacilityAnalystTraceup3DService",r}return ph(t,e),sh(t,[{key:"destroy",value:function(){ch(hh(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof JK){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"traceupresult":"/traceupresult")+".json?",t={edgeID:e.edgeID,nodeID:e.nodeID,weightName:e.weightName,isUncertainDirectionValid:e.isUncertainDirectionValid},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}]),t}(FX);xQ.FacilityAnalystTraceup3DService=qK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var WK=function(e){function t(e){var n;return mh(this,t),n=gh(this,Oh(t).call(this,e)),e=e||{},n.sourceNodeIDs=null,RY.extend(Sh(n),e),n.CLASS_NAME="SuperMap.FacilityAnalystUpstream3DParameters",n}return xh(t,e),bh(t,[{key:"destroy",value:function(){_h(Oh(t.prototype),"destroy",this).call(this),this.sourceNodeIDs=null}}]),t}(IK);xQ.FacilityAnalystUpstream3DParameters=WK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var QK=function(e){function t(e,n){var r;return Ph(this,t),r=Mh(this,Rh(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FacilityAnalystUpstream3DService",r}return Nh(t,e),kh(t,[{key:"destroy",value:function(){Lh(Rh(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof WK){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"upstreamcirticalfaclilities":"/upstreamcirticalfaclilities")+".json?",t={sourceNodeIDs:e.sourceNodeIDs,edgeID:e.edgeID,nodeID:e.nodeID,isUncertainDirectionValid:e.isUncertainDirectionValid},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}]),t}(FX);xQ.FacilityAnalystUpstream3DService=QK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var YK=function(e){function t(e){var n;return Fh(this,t),n=Gh(this,Jh(t).call(this,e)),n.filterParam=null,n.aggType=CY.FILTER,n.CLASS_NAME="SuperMap.FilterAggParameter",RY.extend(zh(n),e),n}return qh(t,e),Uh(t,[{key:"destroy",value:function(){Vh(Jh(t.prototype),"destroy",this).call(this);var e=this;e.filterParam&&(e.filterParam=null)}}]),t}(VX);xQ.FilterAggParameter=YK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var XK=function(){function e(t){Qh(this,e),this.datasource=null,this.dataset=null,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.FieldParameters"}return Xh(e,[{key:"destroy",value:function(){var e=this;e.datasource=null,e.dataset=null}}]),e}();xQ.FieldParameters=XK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var KK=function(e){function t(e){var n;return Zh(this,t),n=tp(this,np(t).call(this,e)),n.fieldName=null,n.statisticMode=null,e&&RY.extend(rp(n),e),n.CLASS_NAME="SuperMap.FieldStatisticsParameters",n}return ip(t,e),ep(t,[{key:"destroy",value:function(){var e=this;e.fieldName=null,e.statisticMode=null}}]),t}(XK);xQ.FieldStatisticsParameters=KK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var ZK=function(e){function t(e,n){var r;return sp(this,t),r=cp(this,yp(t).call(this,e,n)),r.datasource=null,r.dataset=null,r.field=null,r.statisticMode=null,n&&RY.extend(fp(r),n),r.CLASS_NAME="SuperMap.FieldStatisticService",r}return dp(t,e),up(t,[{key:"destroy",value:function(){hp(yp(t.prototype),"destroy",this).call(this);var e=this;e.datasource=null,e.dataset=null,e.field=null,e.statisticMode=null}},{key:"processAsync",value:function(){var e=this,t=e.url.substr(e.url.length-1,1),n="datasources/"+e.datasource+"/datasets/"+e.dataset+"/fields/"+e.field+"/"+e.statisticMode;e.url+="/"==t?n+".json?":"/"+n+".json?",e.request({method:"GET",data:null,scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}}]),t}(FX);xQ.FieldStatisticService=ZK;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var $K=function(){function e(t){vp(this,e),this.event=null,this.expectFacilityCount=1,this.facilities=null,this.fromEvent=!1,this.isAnalyzeById=!1,this.maxWeight=0,this.parameter=new SK,RY.extend(this,t),this.CLASS_NAME="SuperMap.FindClosestFacilitiesParameters"}return gp(e,[{key:"destroy",value:function(){var e=this;e.event=null,e.expectFacilityCount=null,e.facilities=null,e.fromEvent=null,e.isAnalyzeById=null,e.maxWeight=null,e.parameter&&(e.parameter.destroy(),e.parameter=null)}}]),e}();xQ.FindClosestFacilitiesParameters=$K;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var eZ=function(e){function t(e,n){var r;return _p(this,t),r=xp(this,Ep(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FindClosestFacilitiesService",r}return kp(t,e),Op(t,[{key:"destroy",value:function(){Tp(Ep(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof $K){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"closestfacility":"/closestfacility")+".json?",t={expectFacilityCount:e.expectFacilityCount,fromEvent:e.fromEvent,maxWeight:e.maxWeight,parameter:RY.toJSON(e.parameter),event:RY.toJSON(e.event),facilities:n.getJson(e.isAnalyzeById,e.facilities)},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJson",value:function(e,t){var n="[",r=t?t.length:0;if(!1===e)for(var i=0;i<r;i++)i>0&&(n+=","),n+='{"x":'+t[i].x+',"y":'+t[i].y+"}";else if(!0===e)for(var o=0;o<r;o++)o>0&&(n+=","),n+=t[o];return n+="]"}},{key:"toGeoJSONResult",value:function(e){if(!e||!e.facilityPathList)return e;var t=new sX;return e.facilityPathList.map(function(e){return e.route&&(e.route=t.toGeoJSON(e.route)),e.pathGuideItems&&(e.pathGuideItems=t.toGeoJSON(e.pathGuideItems)),e.edgeFeatures&&(e.edgeFeatures=t.toGeoJSON(e.edgeFeatures)),e.nodeFeatures&&(e.nodeFeatures=t.toGeoJSON(e.nodeFeatures)),e}),e}}]),t}(cK);xQ.FindClosestFacilitiesService=eZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var tZ=function(){function e(t){Ap(this,e),this.expectedSupplyCenterCount=null,this.isFromCenter=!1,this.supplyCenters=null,this.turnWeightField=null,this.weightName=null,RY.extend(this,t),this.CLASS_NAME="SuperMap.FindLocationParameters"}return jp(e,[{key:"destroy",value:function(){var e=this;if(e.expectedSupplyCenterCount=null,e.isFromCenter=null,e.turnWeightField=null,e.weightName=null,e.supplyCenters){for(var t=0,n=e.supplyCenters,r=n.length;t<r;t++)n[t].destroy();e.supplyCenters=null}}}]),e}();xQ.FindLocationParameters=tZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var nZ=function(e){function t(e,n){var r;return Np(this,t),r=Fp(this,zp(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FindLocationService",r}return Vp(t,e),Dp(t,[{key:"destroy",value:function(){Up(zp(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof tZ){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"location":"/location")+".json?",t={isFromCenter:e.isFromCenter,expectedSupplyCenterCount:e.expectedSupplyCenterCount,weightName:e.weightName,turnWeightField:e.turnWeightField,returnEdgeFeature:!0,returnEdgeGeometry:!0,returnNodeFeature:!0,mapParameter:RY.toJSON(e.mapParameter),supplyCenters:n.getCentersJson(e.supplyCenters)},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getCentersJson",value:function(e){for(var t="[",n=e?e.length:0,r=0;r<n;r++)r>0&&(t+=","),t+=RY.toJSON(e[r]);return t+="]"}},{key:"toGeoJSONResult",value:function(e){if(!e)return null;var t=new sX;return e.demandResults&&(e.demandResults=t.toGeoJSON(e.demandResults)),e.supplyResults&&(e.supplyResults=t.toGeoJSON(e.supplyResults)),e}}]),t}(cK);xQ.FindLocationService=nZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var rZ=function(){function e(t){Jp(this,e),this.centers=null,this.hasLeastTotalCost=!1,this.isAnalyzeById=!1,this.nodes=null,this.parameter=new SK,RY.extend(this,t),this.CLASS_NAME="SuperMap.FindMTSPPathsParameters"}return Wp(e,[{key:"destroy",value:function(){var e=this;e.centers=null,e.hasLeastTotalCost=null,e.isAnalyzeById=null,e.nodes=null,e.maxWeight=null,e.parameter&&(e.parameter.destroy(),e.parameter=null)}}]),e}();xQ.FindMTSPPathsParameters=rZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var iZ=function(e){function t(e,n){var r;return Yp(this,t),r=Zp(this,ny(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FindMTSPPathsService",r}return ry(t,e),Kp(t,[{key:"destroy",value:function(){ey(ny(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof rZ){var t,n=this,r=n.getJson(e.isAnalyzeById,e.centers),i=n.getJson(e.isAnalyzeById,e.nodes);n.url=n.url+"/mtsppath.json?",t={centers:r,nodes:i,parameter:RY.toJSON(e.parameter),hasLeastTotalCost:e.hasLeastTotalCost},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJson",value:function(e,t){var n="[",r=t?t.length:0;if(!1===e)for(var i=0;i<r;i++)i>0&&(n+=","),n+='{"x":'+t[i].x+',"y":'+t[i].y+"}";else if(!0===e)for(var o=0;o<r;o++)o>0&&(n+=","),n+=t[o];return n+="]"}},{key:"toGeoJSONResult",value:function(e){if(!e||!e.pathList)return null;var t=new sX;return e.pathList.map(function(e){return e.route&&(e.route=t.toGeoJSON(e.route)),e.pathGuideItems&&(e.pathGuideItems=t.toGeoJSON(e.pathGuideItems)),e.edgeFeatures&&(e.edgeFeatures=t.toGeoJSON(e.edgeFeatures)),e.nodeFeatures&&(e.nodeFeatures=t.toGeoJSON(e.nodeFeatures)),e}),e}}]),t}(cK);xQ.FindMTSPPathsService=iZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var oZ=function(){function e(t){oy(this,e),this.isAnalyzeById=!1,this.hasLeastEdgeCount=null,this.nodes=null,this.parameter=new SK,RY.extend(this,t),this.CLASS_NAME="SuperMap.FindPathParameters"}return sy(e,[{key:"destroy",value:function(){var e=this;e.isAnalyzeById=null,e.hasLeastEdgeCount=null,e.nodes=null,e.parameter&&(e.parameter.destroy(),e.parameter=null)}}]),e}();xQ.FindPathParameters=oZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var aZ=function(e){function t(e,n){var r;return uy(this,t),r=hy(this,my(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FindPathService",r}return vy(t,e),fy(t,[{key:"destroy",value:function(){yy(my(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof oZ){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"path":"/path")+".json?",t={hasLeastEdgeCount:e.hasLeastEdgeCount,parameter:RY.toJSON(e.parameter),nodes:n.getJson(e.isAnalyzeById,e.nodes)},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJson",value:function(e,t){var n="[",r=t?t.length:0;if(!1===e)for(var i=0;i<r;i++)i>0&&(n+=","),n+='{"x":'+t[i].x+',"y":'+t[i].y+"}";else if(!0===e)for(var o=0;o<r;o++)o>0&&(n+=","),n+=t[o];return n+="]"}},{key:"toGeoJSONResult",value:function(e){if(!e||!e.pathList||e.pathList.length<1)return null;var t=new sX;return e.pathList.forEach(function(e){e.route&&(e.route=t.toGeoJSON(e.route)),e.pathGuideItems&&(e.pathGuideItems=t.toGeoJSON(e.pathGuideItems)),e.edgeFeatures&&(e.edgeFeatures=t.toGeoJSON(e.edgeFeatures)),e.nodeFeatures&&(e.nodeFeatures=t.toGeoJSON(e.nodeFeatures))}),e}}]),t}(cK);xQ.FindPathService=aZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var sZ=function(){function e(t){gy(this,e),this.isAnalyzeById=!1,this.isCenterMutuallyExclusive=!1,this.centers=null,this.isFromCenter=!1,this.weights=null,this.parameter=new SK,RY.extend(this,t),this.CLASS_NAME="SuperMap.FindServiceAreasParameters"}return _y(e,[{key:"destroy",value:function(){var e=this;e.isAnalyzeById=null,e.isCenterMutuallyExclusive=null,e.centers=null,e.isFromCenter=null,e.weights=null,e.parameter&&(e.parameter.destroy(),e.parameter=null)}}]),e}();xQ.FindServiceAreasParameters=sZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var lZ=function(e){function t(e,n){var r;return Oy(this,t),r=Ty(this,My(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FindServiceAreasService",r}return Ay(t,e),Cy(t,[{key:"destroy",value:function(){Ey(My(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof sZ){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"servicearea":"/servicearea")+".json?",t={isFromCenter:e.isFromCenter,isCenterMutuallyExclusive:e.isCenterMutuallyExclusive,parameter:RY.toJSON(e.parameter),centers:n.getJson(e.isAnalyzeById,e.centers),weights:n.getJson(!0,e.weights)},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJson",value:function(e,t){var n="[",r=t?t.length:0;if(!1===e)for(var i=0;i<r;i++)i>0&&(n+=","),n+='{"x":'+t[i].x+',"y":'+t[i].y+"}";else if(!0===e)for(var o=0;o<r;o++)o>0&&(n+=","),n+=t[o];return n+="]"}},{key:"toGeoJSONResult",value:function(e){if(!e||!e.serviceAreaList)return e;var t=new sX;return e.serviceAreaList.map(function(e){return e.serviceRegion&&(e.serviceRegion=t.toGeoJSON(e.serviceRegion)),e.edgeFeatures&&(e.edgeFeatures=t.toGeoJSON(e.edgeFeatures)),e.nodeFeatures&&(e.nodeFeatures=t.toGeoJSON(e.nodeFeatures)),e.routes&&(e.routes=t.toGeoJSON(e.routes)),e}),e}}]),t}(cK);xQ.FindServiceAreasService=lZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var uZ=function(){function e(t){jy(this,e),this.endNodeAssigned=!1,this.isAnalyzeById=!1,this.nodes=null,this.parameter=new SK,RY.extend(this,t),this.CLASS_NAME="SuperMap.FindTSPPathsParameters"}return Ny(e,[{key:"destroy",value:function(){var e=this;e.endNodeAssigned=null,e.isAnalyzeById=null,e.nodes=null,e.parameter&&(e.parameter.destroy(),e.parameter=null)}}]),e}();xQ.FindTSPPathsParameters=uZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var cZ=function(e){function t(e,n){var r;return Dy(this,t),r=Uy(this,Hy(t).call(this,e,n)),r.CLASS_NAME="SuperMap.FindTSPPathsService",r}return Jy(t,e),By(t,[{key:"destroy",value:function(){zy(Hy(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof uZ){var t,n=this,r=n.url.substr(n.url.length-1,1);n.url=n.url+("/"===r?"tsppath":"/tsppath")+".json?",t={parameter:xQ.Util.toJSON(e.parameter),endNodeAssigned:e.endNodeAssigned,nodes:n.getNodesJson(e)},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getNodesJson",value:function(e){var t,n,r,i,o="";if(!1===e.isAnalyzeById){for(t="[",n=0,i=e.nodes,r=i.length;n<r;n++)n>0&&(t+=","),t+='{"x":'+i[n].x+',"y":'+i[n].y+"}";t+="]",o+=t}else if(!0===e.isAnalyzeById){for(var a="[",s=e.nodes,l=s.length,u=0;u<l;u++)u>0&&(a+=","),a+=s[u];a+="]",o+=a}return o}},{key:"toGeoJSONResult",value:function(e){if(!e||!e.tspPathList)return null;var t=new sX;return e.tspPathList.forEach(function(e){e.route&&(e.route=t.toGeoJSON(e.route)),e.pathGuideItems&&(e.pathGuideItems=t.toGeoJSON(e.pathGuideItems)),e.edgeFeatures&&(e.edgeFeatures=t.toGeoJSON(e.edgeFeatures)),e.nodeFeatures&&(e.nodeFeatures=t.toGeoJSON(e.nodeFeatures))}),e}}]),t}(cK);xQ.FindTSPPathsService=cZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var fZ=function(){function e(t){Wy(this,e),this.routeTable=null,this.routeIDField=null,this.attributeFilter=null,this.eventTable=null,this.eventRouteIDField=null,this.measureField=null,this.measureStartField=null,this.measureEndField=null,this.measureOffsetField=null,this.errorInfoField=null,this.retainedFields=null,this.dataReturnOption=null,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.GenerateSpatialDataParameters"}return Yy(e,[{key:"destroy",value:function(){var e=this;e.routeTable&&(e.routeTable=null),e.routeIDField=null,e.attributeFilter=null,e.eventTable=null,e.eventRouteIDField=null,e.measureField=null,e.measureStartField=null,e.measureEndField=null,e.measureOffsetField=null,e.errorInfoField=null,e.dataReturnOption&&(e.dataReturnOption.destroy(),e.dataReturnOption=null)}}]),e}();xQ.GenerateSpatialDataParameters=fZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var hZ=function(e){function t(e,n){var r;return Ky(this,t),r=ed(this,id(t).call(this,e,n)),r.CLASS_NAME="SuperMap.GenerateSpatialDataService",r}return od(t,e),$y(t,[{key:"destroy",value:function(){nd(id(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof fZ){var t,n=this;t=n.getJsonParameters(e),n.request({method:"POST",data:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJsonParameters",value:function(e){var t,n="datasets/"+e.routeTable+"/linearreferencing/generatespatialdata",r=this;return t=r.url.substr(r.url.length-1,1),r.url+="/"===t?n+".json":"/"+n+".json",r.url+="?returnContent=true",RY.toJSON(e)}}]),t}(JX);xQ.GenerateSpatialDataService=hZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var pZ=function(e){function t(e){var n;return ld(this,t),n=fd(this,dd(t).call(this,e)),n.bounds=null,n.queryType=TY.GEO_BOUNDING_BOX,n.CLASS_NAME="SuperMap.GeoBoundingBoxQueryBuilderParameter",RY.extend(hd(n),e),n}return md(t,e),cd(t,[{key:"destroy",value:function(){pd(dd(t.prototype),"destroy",this).call(this),this.bounds=null,this.queryType=null}}]),t}(zX);xQ.GeoBoundingBoxQueryBuilderParameter=pZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var yZ=function(e){function t(e){var n;return gd(this,t),n=wd(this,Td(t).call(this,e)),n.precision=5,n.aggType=CY.GEOHASH_GRID,RY.extend(Od(n),e),n.CLASS_NAME="SuperMap.GeoHashGridAggParameter",n}return Pd(t,e),_d(t,[{key:"destroy",value:function(){xd(Td(t.prototype),"destroy",this).call(this),this.aggType=null}}],[{key:"toJsonParameters",value:function(e){var t={aggName:e.aggName,aggFieldName:e.aggFieldName,aggType:e.aggType,precision:e.precision};return e.subAgg&&(t.subAgg=e.subAgg),RY.toJson(t)}}]),t}(VX);xQ.GeoHashGridAggParameter=yZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var dZ=function(e){function t(e){var n;return Md(this,t),n=jd(this,Dd(t).call(this,e)),e&&e.operateGeometry&&(n.operateGeometry=e.operateGeometry),e&&e.sourceGeometry&&(n.sourceGeometry=e.sourceGeometry),e&&e.operateGeometries&&(n.operateGeometries=e.operateGeometries),e&&e.sourceGeometries&&(n.sourceGeometries=e.sourceGeometries),e&&RY.extend(Rd(n),e),n.CLASS_NAME="SuperMap.GeometryOverlayAnalystParameters",n}return Fd(t,e),Ld(t,[{key:"destroy",value:function(){Nd(Dd(t.prototype),"destroy",this).call(this);var e=this;e.sourceGeometry&&(e.sourceGeometry.destroy(),e.sourceGeometry=null),e.sourceGeometries&&(e.sourceGeometries.destroy(),e.sourceGeometries=null),e.sourceGeometry&&(e.sourceGeometry.destroy(),e.sourceGeometry=null),e.operateGeometries&&(e.operateGeometries.destroy(),e.operateGeometries=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)if("sourceGeometry"===n)t.sourceGeometry=aX.fromGeometry(e.sourceGeometry);else if("sourceGeometries"===n){for(var r=[],i=0;i<e.sourceGeometries.length;i++)r.push(aX.fromGeometry(e.sourceGeometries[i]));t.sourceGeometries=r}else if("operateGeometry"===n)t.operateGeometry=aX.fromGeometry(e.operateGeometry);else if("operateGeometries"===n){for(var o=[],a=0;a<e.operateGeometries.length;a++)o.push(aX.fromGeometry(e.operateGeometries[a]));t.operateGeometries=o}else t[n]=e[n]}}]),t}(CK);xQ.GeometryOverlayAnalystParameters=dZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var mZ=function(e){function t(e){var n;return Gd(this,t),n=Hd(this,Qd(t).call(this,e)),n.points=null,n.zValues=null,e&&RY.extend(Jd(n),e),n.CLASS_NAME="SuperMap.GeometrySurfaceAnalystParameters",n}return Yd(t,e),Vd(t,[{key:"destroy",value:function(){qd(Qd(t.prototype),"destroy",this).call(this);var e=this;if(e.points){for(var n=0,r=e.points,i=r.length;n<i;n++)r[n].destroy();e.points=null}e.zValues=null}}]),t}(EK);xQ.GeometrySurfaceAnalystParameters=mZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var vZ=function(e){function t(e){var n;return Zd(this,t),n=tm(this,om(t).call(this,e)),n.points=null,e&&RY.extend(nm(n),e),n.CLASS_NAME="SuperMap.GeometryThiessenAnalystParameters",n}return am(t,e),em(t,[{key:"destroy",value:function(){rm(om(t.prototype),"destroy",this).call(this);var e=this;if(e.points){for(var n=e.points.length-1;n>=0;n--)e.points[n].destroy();e.points=null}}}],[{key:"toObject",value:function(e,t){for(var n in e)"clipRegion"===n?t.clipRegion=aX.fromGeometry(e.clipRegion):t[n]=e[n]}}]),t}(MK);xQ.GeometryThiessenAnalystParameters=vZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var bZ=function(){function e(t){lm(this,e),this.dataset=null,this.sourceFilter=null,this.referenceFilter=null,this.spatialRelationType=null,this.isBorderInside=null,this.returnFeature=null,this.returnGeoRelatedOnly=null,this.startRecord=0,this.expectCount=500,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.GeoRelationAnalystParameters"}return cm(e,[{key:"destroy",value:function(){var e=this;e.sourceFilter&&e.sourceFilter.destroy(),e.sourceFilter=null,e.referenceFilter&&e.referenceFilter.destroy(),e.referenceFilter=null,e.dataset=null,e.spatialRelationType=null,e.isBorderInside=null,e.returnFeature=null,e.returnGeoRelatedOnly=null,e.startRecord=null,e.expectCount=null}}]),e}();xQ.GeoRelationAnalystParameters=bZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var gZ=function(e){function t(e,n){var r;return hm(this,t),r=dm(this,gm(t).call(this,e,n)),r.CLASS_NAME="SuperMap.GeoRelationAnalystService",r}return Sm(t,e),ym(t,[{key:"destroy",value:function(){vm(gm(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof bZ){var t=this,n=t.url.substr(t.url.length-1,1);t.url+="/"===n?"datasets/"+e.dataset+"/georelation":"/datasets/"+e.dataset+"/georelation";var r=xQ.Util.toJSON(e);t.url+=".json?returnContent=true",t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}]),t}(JX);xQ.GeoRelationAnalystService=gZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var SZ=function(){function e(t){wm(this,e),this.datasetNames=null,this.returnContent=!0,this.fromIndex=0,this.toIndex=19,this.returnCountOnly=!1,this.maxFeatures=null,this.aggregations=null,RY.extend(this,t),this.CLASS_NAME="SuperMap.GetFeaturesParametersBase"}return xm(e,[{key:"destroy",value:function(){var e=this;e.datasetNames=null,e.returnContent=null,e.fromIndex=null,e.toIndex=null,e.maxFeatures=null,e.aggregation&&(e.aggregation=null)}}]),e}();xQ.GetFeaturesParametersBase=SZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var _Z=function(e){function t(e){var n;return Tm(this,t),n=km(this,jm(t).call(this,e)),n.getFeatureMode=t.getFeatureMode.BOUNDS,n.bounds=null,n.fields=null,n.attributeFilter=null,n.spatialQueryMode=MQ.CONTAIN,RY.extend(Mm(n),e),n.CLASS_NAME="SuperMap.GetFeaturesByBoundsParameters",n}return Rm(t,e),Em(t,[{key:"destroy",value:function(){Am(jm(t.prototype),"destroy",this).call(this);var e=this;if(e.bounds&&(e.bounds.destroy(),e.bounds=null),e.fields){for(;e.fields.length>0;)e.fields.pop();e.fields=null}e.attributeFilter=null,e.spatialQueryMode=null,e.getFeatureMode=null}}],[{key:"toJsonParameters",value:function(e){var n,r,i;return r={leftBottom:{x:e.bounds.left,y:e.bounds.bottom},rightTop:{x:e.bounds.right,y:e.bounds.top}},i={datasetNames:e.datasetNames,getFeatureMode:t.getFeatureMode.BOUNDS,bounds:r,spatialQueryMode:e.spatialQueryMode},e.fields&&(n=new eK,n.name=e.datasetNames,n.fields=e.fields,i.queryParameter=n),e.attributeFilter&&(i.attributeFilter=e.attributeFilter,i.getFeatureMode=t.getFeatureMode.BOUNDS_ATTRIBUTEFILTER),e.maxFeatures&&!isNaN(e.maxFeatures)&&(i.maxFeatures=e.maxFeatures),RY.toJSON(i)}}]),t}(SZ);_Z.getFeatureMode={BOUNDS:"BOUNDS",BOUNDS_ATTRIBUTEFILTER:"BOUNDS_ATTRIBUTEFILTER"},xQ.GetFeaturesByBoundsParameters=_Z;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var wZ=function(e){function t(e,n){var r;Dm(this,t),r=Um(this,Hm(t).call(this,e,n)),n=n||{},r.returnContent=!0,r.fromIndex=0,r.toIndex=19,r.maxFeatures=null,r.format=CQ.GEOJSON,RY.extend(Gm(r),n);var i,o=Gm(r);return n.format&&(o.format=n.format.toUpperCase()),i=o.url.substr(o.url.length-1,1),o.url+="/"==i?"featureResults.json?":"/featureResults.json?",r.CLASS_NAME="SuperMap.GetFeaturesServiceBase",r}return Jm(t,e),Bm(t,[{key:"destroy",value:function(){zm(Hm(t.prototype),"destroy",this).call(this);var e=this;e.returnContent=null,e.fromIndex=null,e.toIndex=null,e.maxFeatures=null,e.format=null}},{key:"processAsync",value:function(e){if(e){var t=this,n=null,r=!0;t.returnContent=e.returnContent,t.fromIndex=e.fromIndex,t.toIndex=e.toIndex,t.maxFeatures=e.maxFeatures,t.returnContent&&(t.url+="returnContent="+t.returnContent,r=!1);null!=t.fromIndex&&null!=t.toIndex&&!isNaN(t.fromIndex)&&!isNaN(t.toIndex)&&t.fromIndex>=0&&t.toIndex>=0&&!r&&(t.url+="&fromIndex="+t.fromIndex+"&toIndex="+t.toIndex),e.returnCountOnly&&(t.url+="&returnCountOnly="+e.returnContent),n=t.getJsonParameters(e),t.request({method:"POST",data:n,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}},{key:"serviceProcessCompleted",value:function(e){var t=this;if(e=RY.transformResult(e),t.format===CQ.GEOJSON&&e.features){var n=new sX;e.features=n.toGeoJSON(e.features)}t.events.triggerEvent("processCompleted",{result:e})}}]),t}(FX);xQ.GetFeaturesServiceBase=wZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var OZ=function(e){function t(e,n){var r;return Qm(this,t),r=Km(this,tv(t).call(this,e,n)),r.CLASS_NAME="SuperMap.GetFeaturesByBoundsService",r}return nv(t,e),Xm(t,[{key:"destroy",value:function(){$m(tv(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){return _Z.toJsonParameters(e)}}]),t}(wZ);xQ.GetFeaturesByBoundsService=OZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var xZ=function(e){function t(e){var n;return ov(this,t),n=lv(this,hv(t).call(this,e)),n.bufferDistance=null,n.attributeFilter=null,n.geometry=null,n.fields=null,RY.extend(uv(n),e),n.CLASS_NAME="SuperMap.GetFeaturesByBufferParameters",n}return pv(t,e),sv(t,[{key:"destroy",value:function(){cv(hv(t.prototype),"destroy",this).call(this);var e=this;if(e.bufferDistance=null,e.attributeFilter=null,e.fields){for(;e.fields.length>0;)e.fields.pop();e.fields=null}e.geometry&&(e.geometry.destroy(),e.geometry=null)}}],[{key:"toJsonParameters",value:function(e){var t,n,r;return r=aX.fromGeometry(e.geometry),n={datasetNames:e.datasetNames,getFeatureMode:"BUFFER",bufferDistance:e.bufferDistance,geometry:r},e.fields&&(t=new eK,t.name=e.datasetNames,t.fields=e.fields,n.queryParameter=t),e.attributeFilter&&(n.attributeFilter=e.attributeFilter,n.getFeatureMode="BUFFER_ATTRIBUTEFILTER"),e.maxFeatures&&!isNaN(e.maxFeatures)&&(n.maxFeatures=e.maxFeatures),RY.toJSON(n)}}]),t}(SZ);xQ.GetFeaturesByBufferParameters=xZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var CZ=function(e){function t(e,n){var r;return mv(this,t),r=gv(this,Ov(t).call(this,e,n)),r.CLASS_NAME="SuperMap.GetFeaturesByBufferService",r}return xv(t,e),bv(t,[{key:"destroy",value:function(){_v(Ov(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){if(e instanceof xZ)return xQ.GetFeaturesByBufferParameters.toJsonParameters(e)}}]),t}(wZ);xQ.GetFeaturesByBufferService=CZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var TZ=function(e){function t(e){var n;return Pv(this,t),n=Mv(this,Rv(t).call(this,e)),n.getFeatureMode="SPATIAL",n.geometry=null,n.fields=null,n.attributeFilter=null,n.spatialQueryMode=MQ.CONTAIN,RY.extend(Av(n),e),n.CLASS_NAME="SuperMap.GetFeaturesByGeometryParameters",n}return Nv(t,e),kv(t,[{key:"destroy",value:function(){Lv(Rv(t.prototype),"destroy",this).call(this);var e=this;if(e.geometry&&(e.geometry.destroy(),e.geometry=null),e.fields){for(;e.fields.length>0;)e.fields.pop();e.fields=null}e.attributeFilter=null,e.spatialQueryMode=null,e.getFeatureMode=null}}],[{key:"toJsonParameters",value:function(e){var t,n,r;return n=aX.fromGeometry(e.geometry),r={datasetNames:e.datasetNames,getFeatureMode:"SPATIAL",geometry:n,spatialQueryMode:e.spatialQueryMode},e.fields&&(t=new eK,t.name=e.datasetNames,t.fields=e.fields,r.queryParameter=t),e.attributeFilter&&(r.attributeFilter=e.attributeFilter,r.getFeatureMode="SPATIAL_ATTRIBUTEFILTER"),e.maxFeatures&&!isNaN(e.maxFeatures)&&(r.maxFeatures=e.maxFeatures),RY.toJSON(r)}}]),t}(SZ);xQ.GetFeaturesByGeometryParameters=TZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var PZ=function(e){function t(e,n){var r;return Fv(this,t),r=Gv(this,Jv(t).call(this,e,n)),r.CLASS_NAME="SuperMap.GetFeaturesByGeometryService",r}return qv(t,e),Uv(t,[{key:"destroy",value:function(){Vv(Jv(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){return TZ.toJsonParameters(e)}}]),t}(wZ);xQ.GetFeaturesByGeometryService=PZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var EZ=function(e){function t(e){var n;return Yv(this,t),n=Zv(this,nb(t).call(this,e)),n.getFeatureMode="ID",n.IDs=null,n.fields=null,RY.extend($v(n),e),n.CLASS_NAME="SuperMap.GetFeaturesByIDsParameters",n}return rb(t,e),Kv(t,[{key:"destroy",value:function(){eb(nb(t.prototype),"destroy",this).call(this);var e=this;if(e.IDs=null,e.getFeatureMode=null,e.fields){for(;e.fields.length>0;)e.fields.pop();e.fields=null}}}],[{key:"toJsonParameters",value:function(e){var t,n;return t={datasetNames:e.datasetNames,getFeatureMode:"ID",ids:e.IDs},e.fields&&(n=new eK,n.name=e.datasetNames,n.fields=e.fields,t.queryParameter=n),RY.toJSON(t)}}]),t}(SZ);xQ.GetFeaturesByIDsParameters=EZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var kZ=function(e){function t(e,n){var r;return ab(this,t),r=ub(this,pb(t).call(this,e,n)),r.CLASS_NAME="SuperMap.GetFeaturesByIDsService",r}return yb(t,e),lb(t,[{key:"destroy",value:function(){fb(pb(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){return EZ.toJsonParameters(e)}}]),t}(wZ);xQ.GetFeaturesByIDsService=kZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var MZ=function(e){function t(e){var n;return vb(this,t),n=Sb(this,xb(t).call(this,e)),n.getFeatureMode="SQL",n.queryParameter=null,RY.extend(_b(n),e),n.CLASS_NAME="SuperMap.GetFeaturesBySQLParameters",n}return Cb(t,e),gb(t,[{key:"destroy",value:function(){wb(xb(t.prototype),"destroy",this).call(this);var e=this;e.getFeatureMode=null,e.queryParameter&&(e.queryParameter.destroy(),e.queryParameter=null)}}],[{key:"toJsonParameters",value:function(e){var t={datasetNames:e.datasetNames,getFeatureMode:"SQL",queryParameter:e.queryParameter};return e.maxFeatures&&!isNaN(e.maxFeatures)&&(t.maxFeatures=e.maxFeatures),e.aggregations&&(t.aggregations=e.aggregations),RY.toJSON(t)}}]),t}(SZ);xQ.GetFeaturesBySQLParameters=MZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var AZ=function(e){function t(e,n){var r;return Eb(this,t),r=Ab(this,Nb(t).call(this,e,n)),r.CLASS_NAME="SuperMap.GetFeaturesBySQLService",r}return Ib(t,e),Mb(t,[{key:"destroy",value:function(){jb(Nb(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){return MZ.toJsonParameters(e)}}]),t}(wZ);xQ.GetFeaturesBySQLService=AZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var LZ=function(e){function t(e,n){var r;return Bb(this,t),r=zb(this,qb(t).call(this,e,n)),r.datasource=null,r.dataset=null,n&&RY.extend(Vb(r),n),r.CLASS_NAME="SuperMap.GetFieldsService",r}return Wb(t,e),Gb(t,[{key:"destroy",value:function(){Hb(qb(t.prototype),"destroy",this).call(this);var e=this;e.datasource=null,e.dataset=null}},{key:"processAsync",value:function(){var e=this,t=e.url.substr(e.url.length-1,1),n="datasources/"+e.datasource+"/datasets/"+e.dataset;e.url+="/"==t?n+"/fields.json?":"/"+n+"/fields.json?",e.request({method:"GET",data:null,scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}}]),t}(FX);xQ.GetFieldsService=LZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var jZ=function(){function e(t){Yb(this,e),this.datasetName=null,this.dataSourceName=null,this.X=null,this.Y=null,RY.extend(this,t),this.CLASS_NAME="SuperMap.GetGridCellInfosParameters"}return Kb(e,[{key:"destroy",value:function(){var e=this;e.datasetName=null,e.dataSourceName=null,e.X=null,e.Y=null}}]),e}();xQ.GetGridCellInfosParameters=jZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var RZ=function(e){function t(e,n){var r;return $b(this,t),r=ng(this,ag(t).call(this,e,n)),r.datasetName=null,r.dataSourceName=null,r.datasetType=null,r.X=null,r.Y=null,n&&RY.extend(rg(r),n),r.CLASS_NAME="SuperMap.GetGridCellInfosService",r}return sg(t,e),tg(t,[{key:"destroy",value:function(){ig(ag(t.prototype),"destroy",this).call(this);var e=this;e.X=null,e.Y=null,e.datasetName=null,e.dataSourceName=null,e.datasetType=null}},{key:"processAsync",value:function(e){if(e instanceof jZ){RY.extend(this,e);var t=this,n=t.url.substr(t.url.length-1,1);t.url+="/"==n?"datasources/"+t.dataSourceName+"/datasets/"+t.datasetName+".json":"/datasources/"+t.dataSourceName+"/datasets/"+t.datasetName+".json",t.queryRequest(t.getDatasetInfoCompleted,t.getDatasetInfoFailed)}}},{key:"queryRequest",value:function(e,t){var n=this;n.request({method:"GET",data:null,scope:n,success:e,failure:t})}},{key:"getDatasetInfoCompleted",value:function(e){var t=this;e=RY.transformResult(e),t.datasetType=e.datasetInfo.type,t.queryGridInfos()}},{key:"queryGridInfos",value:function(){var e=this,t=/\.json/,n=t.exec(e.url).index,r=e.url.substring(n),i=e.url.substring(0,e.url.length-r.length);"GRID"==e.datasetType?e.url=i+"/gridValue"+r:e.url=i+"/imageValue"+r,null!=e.X&&null!=e.Y&&(e.url+="?x="+e.X+"&y="+e.Y),e.queryRequest(e.serviceProcessCompleted,e.serviceProcessFailed)}},{key:"getDatasetInfoFailed",value:function(e){this.serviceProcessFailed(e)}}]),t}(FX);xQ.GetGridCellInfosService=RZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var NZ=function(){function e(t,n){ug(this,e),this.srcData=t,this.targetData=n,this.CLASS_NAME="SuperMap.ThemeMemoryData"}return fg(e,[{key:"destroy",value:function(){var e=this;e.srcData=null,e.targetData=null}},{key:"toJSON",value:function(){if(this.srcData&&this.targetData){for(var e="",t=Math.min(this.srcData.length,this.targetData.length),n=0;n<t;n++)e+="'"+this.srcData[n]+"':'"+this.targetData[n]+"',";return n>0&&(e=e.substring(0,e.length-1)),"{"+e+"}"}return null}}]),e}();xQ.ThemeMemoryData=NZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var IZ=function(){function e(t,n){if(hg(this,e),!t)return this;this.memoryData=null,this.type=t,n&&RY.extend(this,n),this.CLASS_NAME="SuperMap.Theme"}return yg(e,[{key:"destroy",value:function(){var e=this;e.memoryData&&(e.memoryData.destroy(),e.memoryData=null),e.type=null}},{key:"toServerJSONObject",value:function(){}}]),e}();xQ.Theme=IZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var DZ=function(){function e(t){dg(this,e),this.align=VQ.BASELINECENTER,this.backColor=new nX(255,255,255),this.foreColor=new nX(0,0,0),this.backOpaque=!1,this.sizeFixed=!0,this.fontHeight=6,this.fontWidth=0,this.fontWeight=400,this.fontName="Times New Roman",this.bold=!1,this.italic=!1,this.italicAngle=0,this.shadow=!1,this.strikeout=!1,this.outline=!1,this.opaqueRate=0,this.underline=!1,this.rotation=0,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.ServerTextStyle"}return vg(e,[{key:"destroy",value:function(){var e=this;e.align=null,e.backColor&&(e.backColor.destroy(),e.backColor=null),e.foreColor&&(e.foreColor.destroy(),e.foreColor=null),e.backOpaque=null,e.sizeFixed=null,e.fontHeight=null,e.fontWidth=null,e.fontWeight=null,e.fontName=null,e.bold=null,e.italic=null,e.italicAngle=null,e.shadow=null,e.strikeout=null,e.outline=null,e.opaqueRate=null,e.underline=null,e.rotation=null}}],[{key:"fromObj",value:function(t){var n=new e(t);return RY.copy(n,t),n.backColor=nX.fromJson(t.backColor),n.foreColor=nX.fromJson(t.foreColor),n}}]),e}();xQ.ServerTextStyle=DZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var FZ=function(){function e(t){bg(this,e),this.caption=null,this.end=0,this.start=0,this.visible=!0,this.style=new DZ,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.ThemeLabelItem"}return Sg(e,[{key:"destroy",value:function(){var e=this;e.caption=null,e.end=null,e.start=null,e.style&&(e.style.destroy(),e.style=null),e.visible=null}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return RY.copy(n,t),n}}}]),e}();xQ.ThemeLabelItem=FZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var BZ=function(){function e(t){_g(this,e),this.caption=null,this.style=new rX,this.unique=null,this.visible=!0,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.ThemeUniqueItem"}return Og(e,[{key:"destroy",value:function(){var e=this;e.caption=null,e.unique=null,e.style&&(e.style.destroy(),e.style=null),e.visible=null}},{key:"toServerJSONObject",value:function(){var e={};return e=RY.copyAttributes(e,this),e.style&&e.style.toServerJSONObject&&(e.style=e.style.toServerJSONObject()),e}}],[{key:"fromObj",value:function(t){var n=new e;return RY.copy(n,t),n.style=rX.fromJson(t.style),n}}]),e}();xQ.ThemeUniqueItem=BZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var UZ=function(){function e(t){xg(this,e),this.flowEnabled=!1,this.leaderLineDisplayed=!1,this.leaderLineStyle=new rX,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.ThemeFlow"}return Tg(e,[{key:"destroy",value:function(){var e=this;e.flowEnabled=null,e.leaderLineDisplayed=null,e.leaderLineStyle&&(e.leaderLineStyle.destroy(),e.leaderLineStyle=null)}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return RY.copy(n,t),n.leaderLineStyle=rX.fromJson(t.leaderLineStyle),n}}}]),e}();xQ.ThemeFlow=UZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var GZ=function(){function e(t){Pg(this,e),this.offsetFixed=!1,this.offsetX="0.0",this.offsetY="0.0",t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.ThemeOffset"}return kg(e,[{key:"destroy",value:function(){var e=this;e.offsetFixed=null,e.offsetX=null,e.offsetY=null}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return RY.copy(n,t),n}}}]),e}();xQ.ThemeOffset=GZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var zZ=function(){function e(t){Mg(this,e),this.defaultStyle=null,this.separator=null,this.separatorEnabled=!1,this.splitIndexes=null,this.styles=new DZ,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.LabelMixedTextStyle"}return Lg(e,[{key:"destroy",value:function(){var e=this;if(e.defaultStyle&&(e.defaultStyle.destroy(),e.defaultStyle=null),e.separator=null,e.separatorEnabled=null,e.splitIndexes&&(e.splitIndexes=null),e.styles){for(var t=0,n=e.styles,r=n.length;t<r;t++)n[t].destroy();e.styles=null}}}],[{key:"fromObj",value:function(t){if(t){var n=new e,r=t.styles;if(RY.copy(n,t),n.defaultStyle=new DZ(t.defaultStyle),r){n.styles=[];for(var i=0,o=r.length;i<o;i++)n.styles.push(new DZ(r[i]))}return n}}}]),e}();xQ.LabelMixedTextStyle=zZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var VZ=function(){function e(t){jg(this,e),this.maxTextHeight=0,this.maxTextWidth=0,this.minTextHeight=0,this.minTextWidth=0,this.uniformStyle=new DZ,this.uniformMixedStyle=null,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.ThemeLabelText"}return Ng(e,[{key:"destroy",value:function(){var e=this;e.maxTextHeight=null,e.maxTextWidth=null,e.minTextHeight=null,e.minTextWidth=null,e.uniformStyle&&(e.uniformStyle.destroy(),e.uniformStyle=null),e.uniformMixedStyle&&(e.uniformMixedStyle.destroy(),e.uniformMixedStyle=null)}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return RY.copy(n,t),n.uniformStyle=DZ.fromObj(t.uniformStyle),n.uniformMixedStyle=zZ.fromObj(t.uniformMixedStyle),n}}}]),e}();xQ.ThemeLabelText=VZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var HZ=function(){function e(t){Ig(this,e),this.isAlongLine=!0,this.alongLineDirection=JQ.LB_TO_RT,this.angleFixed=!1,this.repeatedLabelAvoided=!1,this.repeatIntervalFixed=!1,this.labelRepeatInterval=0,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.ThemeLabelAlongLine"}return Fg(e,[{key:"destroy",value:function(){var e=this;e.isAlongLine=null,e.alongLineDirection=null,e.angleFixed=null,e.repeatedLabelAvoided=null,e.repeatIntervalFixed=null,e.labelRepeatInterval=null}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return RY.copy(n,t),n}}}]),e}();xQ.ThemeLabelAlongLine=HZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var JZ=function(){function e(t){Bg(this,e),this.labelBackShape=qQ.NONE,this.backStyle=new rX,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.ThemeLabelBackground"}return Gg(e,[{key:"destroy",value:function(){var e=this;e.labelBackShape=null,e.backStyle&&(e.backStyle.destroy(),e.backStyle=null)}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return n.labelBackShape=t.labelBackShape,n.backStyle=rX.fromJson(t.backStyle),n}}}]),e}();xQ.ThemeLabelBackground=JZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var qZ=function(e){function t(e){var n;return Vg(this,t),n=qg(this,Xg(t).call(this,"LABEL",e)),n.alongLine=new HZ,n.background=new JZ,n.flow=new UZ,n.items=null,n.uniqueItems=null,n.labelExpression=null,n.labelOverLengthMode=WQ.NONE,n.matrixCells=null,n.maxLabelLength=256,n.numericPrecision=0,n.offset=new GZ,n.overlapAvoided=!0,n.rangeExpression=null,n.uniqueExpression=null,n.smallGeometryLabeled=!1,n.text=new VZ,n.textSpace=0,e&&RY.extend(Wg(n),e),n.CLASS_NAME="SuperMap.ThemeLabel",n}return Kg(t,e),Jg(t,[{key:"destroy",value:function(){Qg(Xg(t.prototype),"destroy",this).call(this);var e=this;if(e.alongLine=null,e.background&&(e.background.destroy(),e.background=null),e.flow=null,e.items){for(var n=0,r=e.items,i=r.length;n<i;n++)r[n].destroy();e.items=null}if(e.uniqueItems){for(var o=0,a=e.uniqueItems,s=a.length;o<s;o++)a[o].destory();e.uniqueItems=null}e.labelExpression=null,e.labelOverLengthMode=null,e.matrixCells=null,e.maxLabelLength=null,e.numericPrecision=null,e.overlapAvoided=null,e.rangeExpression=null,e.uniqueExpression=null,e.offset&&(e.offset.destroy(),e.offset=null),e.overlapAvoided=null,e.smallGeometryLabeled=null,e.text&&(e.text.destroy(),e.text=null),e.textSpace=null}},{key:"toJSON",value:function(){return RY.toJSON(this.toServerJSONObject())}},{key:"toServerJSONObject",value:function(){var e={};return e.type=this.type,e.memoryData=this.memoryData,this.alongLine&&(e.alongLine=this.alongLine.isAlongLine,e.alongLineDirection=this.alongLine.alongLineDirection,e.angleFixed=this.alongLine.angleFixed,e.isLabelRepeated=this.alongLine.isLabelRepeated,e.labelRepeatInterval=this.alongLine.labelRepeatInterval,e.repeatedLabelAvoided=this.alongLine.repeatedLabelAvoided,e.repeatIntervalFixed=this.alongLine.repeatIntervalFixed),this.offset&&(e.offsetFixed=this.offset.offsetFixed,e.offsetX=this.offset.offsetX,e.offsetY=this.offset.offsetY),this.flow&&(e.flowEnabled=this.flow.flowEnabled,e.leaderLineDisplayed=this.flow.leaderLineDisplayed,e.leaderLineStyle=this.flow.leaderLineStyle),this.text&&(e.maxTextHeight=this.text.maxTextHeight,e.maxTextWidth=this.text.maxTextWidth,e.minTextHeight=this.text.minTextHeight,e.minTextWidth=this.text.minTextWidth,e.uniformStyle=this.text.uniformStyle,e.uniformMixedStyle=this.text.uniformMixedStyle),this.background&&(e.labelBackShape=this.background.labelBackShape,e.backStyle=this.background.backStyle),e.labelOverLengthMode=this.labelOverLengthMode,e.maxLabelLength=this.maxLabelLength,e.smallGeometryLabeled=this.smallGeometryLabeled,e.rangeExpression=this.rangeExpression,e.uniqueExpression=this.uniqueExpression,e.numericPrecision=this.numericPrecision,e.items=this.items,e.uniqueItems=this.uniqueItems,e.labelExpression=this.labelExpression,e.overlapAvoided=this.overlapAvoided,e.matrixCells=this.matrixCells,e.textSpace=this.textSpace,e}}],[{key:"fromObj",value:function(e){if(e){var n=new t,r=e.items,i=e.uniqueItems,o=e.matrixCells;if(e.matrixCells=null,RY.copy(n,e),n.alongLine=HZ.fromObj(e),n.background=JZ.fromObj(e),n.flow=new UZ({flowEnabled:e.flowEnabled,leaderLineDisplayed:e.leaderLineDisplayed,leaderLineStyle:e.leaderLineStyle}),r){n.items=[];for(var a=0,s=r.length;a<s;a++)n.items.push(FZ.fromObj(r[a]))}if(i){n.uniqueItems=[];for(var l=0,u=i.length;l<u;l++)n.uniqueItems.push(BZ.fromObj(i[l]))}if(o){n.matrixCells=[];for(var c=0,f=o.length;c<f;c++);}return n.offset=GZ.fromObj(e),n.text=VZ.fromObj(e),n}}}]),t}(IZ);xQ.ThemeLabel=qZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var WZ=function(e){function t(e){var n;return eS(this,t),n=rS(this,sS(t).call(this,"UNIQUE",e)),n.defaultStyle=new rX,n.items=null,n.uniqueExpression=null,n.colorGradientType=zQ.YELLOW_RED,e&&RY.extend(iS(n),e),n.CLASS_NAME="SuperMap.ThemeUnique",n}return lS(t,e),nS(t,[{key:"destroy",value:function(){oS(sS(t.prototype),"destroy",this).call(this);var e=this;if(e.uniqueExpression=null,e.colorGradientType=null,e.items){if(e.items.length>0)for(var n in e.items)e.items[n].destroy(),e.items[n]=null;e.items=null}e.defaultStyle&&(e.defaultStyle.destroy(),e.defaultStyle=null)}},{key:"toServerJSONObject",value:function(){var e={};if(e=RY.copyAttributes(e,this),e.defaultStyle&&e.defaultStyle.toServerJSONObject&&(e.defaultStyle=e.defaultStyle.toServerJSONObject()),e.items){for(var t=[],n=e.items.length,r=0;r<n;r++)t.push(e.items[r].toServerJSONObject());e.items=t}return e}}],[{key:"fromObj",value:function(e){var n=new t,r=e.items,i=r?r.length:0;RY.extend(n,e),n.items=[],n.defaultStyle=rX.fromJson(e.defaultStyle);for(var o=0;o<i;o++)n.items.push(BZ.fromObj(r[o]));return n}}]),t}(IZ);xQ.ThemeUnique=WZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var QZ=function(){function e(t){cS(this,e),this.axesColor=new nX(0,0,0),this.axesDisplayed=!1,this.axesGridDisplayed=!1,this.axesTextDisplayed=!1,this.axesTextStyle=new DZ,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.ThemeGraphAxes"}return hS(e,[{key:"destroy",value:function(){var e=this;e.axesColor&&(e.axesColor.destroy(),e.axesColor=null),e.axesDisplayed=null,e.axesGridDisplayed=null,e.axesTextDisplayed=null,e.axesTextStyle&&(e.axesTextStyle.destroy(),e.axesTextStyle=null)}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return RY.copy(n,t),n.axesColor=nX.fromJson(t.axesColor),n.axesTextStyle=DZ.fromObj(t.axesTextStyle),n}}}]),e}();xQ.ThemeGraphAxes=QZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var YZ=function(){function e(t){pS(this,e),this.maxGraphSize=0,this.minGraphSize=0,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.ThemeGraphSize"}return dS(e,[{key:"destroy",value:function(){var e=this;e.maxGraphSize=null,e.minGraphSize=null}}],[{key:"fromObj",value:function(t){var n=new e;return RY.copy(n,t),n}}]),e}();xQ.ThemeGraphSize=YZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var XZ=function(){function e(t){mS(this,e),this.graphTextDisplayed=!1,this.graphTextFormat=IQ.CAPTION,this.graphTextStyle=new DZ,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.ThemeGraphText"}return bS(e,[{key:"destroy",value:function(){var e=this;e.graphTextDisplayed=null,e.graphTextFormat=null,e.graphTextStyle&&(e.graphTextStyle.destroy(),e.graphTextStyle=null)}}],[{key:"fromObj",value:function(t){var n=new e;return RY.copy(n,t),n.graphTextStyle=DZ.fromObj(t.graphTextStyle),n}}]),e}();xQ.ThemeGraphText=XZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var KZ=function(){function e(t){gS(this,e),this.caption=null,this.graphExpression=null,this.memoryDoubleValues=null,this.uniformStyle=new rX,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.ThemeGraphItem"}return _S(e,[{key:"destroy",value:function(){var e=this;e.caption=null,e.graphExpression=null,e.memoryDoubleValues=null,e.uniformStyle=null}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return RY.copy(n,t),n.uniformStyle=rX.fromJson(t.uniformStyle),n}}}]),e}();xQ.ThemeGraphItem=KZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var ZZ=function(e){function t(e){var n;return OS(this,t),n=TS(this,MS(t).call(this,"GRAPH",e)),n.barWidth=0,n.flow=new UZ,n.graduatedMode=BQ.CONSTANT,n.graphAxes=new QZ,n.graphSize=new YZ,n.graphSizeFixed=!1,n.graphText=new XZ,n.graphType=DQ.AREA,n.graphAxesTextDisplayMode=FQ.NONE,n.items=null,n.memoryKeys=null,n.negativeDisplayed=!1,n.offset=new GZ,n.overlapAvoided=!0,n.roseAngle=0,n.startAngle=0,e&&RY.extend(PS(n),e),n.CLASS_NAME="SuperMap.ThemeGraph",n}return AS(t,e),CS(t,[{key:"destroy",value:function(){ES(MS(t.prototype),"destroy",this).call(this);var e=this;if(e.barWidth=null,e.flow&&(e.flow.destroy(),e.flow=null),e.graduatedMode=null,e.graphAxes&&(e.graphAxes.destroy(),e.graphAxes=null),e.graphSize&&(e.graphSize.destroy(),e.graphSize=null),e.graphSizeFixed=null,e.graphText&&(e.graphText.destroy(),e.graphText=null),e.graphType=null,e.items){for(var n=0,r=e.items,i=r.length;n<i;n++)r[n].destroy();e.items=null}e.memoryKeys=null,e.negativeDisplayed=null,e.offset&&(e.offset.destroy(),e.offset=null),e.overlapAvoided=null,e.roseAngle=null,e.startAngle=null,e.graphAxesTextDisplayMode=null}},{key:"toJSON",value:function(){return RY.toJSON(this.toServerJSONObject())}},{key:"toServerJSONObject",value:function(){var e={};return e.type=this.type,this.graphText&&(e.graphTextDisplayed=this.graphText.graphTextDisplayed,e.graphTextFormat=this.graphText.graphTextFormat,e.graphTextStyle=this.graphText.graphTextStyle),this.flow&&(e.flowEnabled=this.flow.flowEnabled,e.leaderLineDisplayed=this.flow.leaderLineDisplayed,e.leaderLineStyle=this.flow.leaderLineStyle),this.graphAxes&&(e.axesColor=this.graphAxes.axesColor,e.axesDisplayed=this.graphAxes.axesDisplayed,e.axesGridDisplayed=this.graphAxes.axesGridDisplayed,e.axesTextDisplayed=this.graphAxes.axesTextDisplayed,e.axesTextStyle=this.graphAxes.axesTextStyle),this.graphSize&&(e.maxGraphSize=this.graphSize.maxGraphSize,e.minGraphSize=this.graphSize.minGraphSize),this.offset&&(e.offsetFixed=this.offset.offsetFixed,e.offsetX=this.offset.offsetX,e.offsetY=this.offset.offsetY),e.barWidth=this.barWidth,e.graduatedMode=this.graduatedMode,e.graphSizeFixed=this.graphSizeFixed,e.graphType=this.graphType,e.graphAxesTextDisplayMode=this.graphAxesTextDisplayMode,e.items=this.items,e.memoryKeys=this.memoryKeys,e.negativeDisplayed=this.negativeDisplayed,e.overlapAvoided=this.overlapAvoided,e.roseAngle=this.roseAngle,e.startAngle=this.startAngle,e}}],[{key:"fromObj",value:function(e){var n=new t,r=e.items,i=r?r.length:0;RY.copy(n,e),n.items=[],n.flow=UZ.fromObj(e),n.graphAxes=QZ.fromObj(e),n.graphSize=YZ.fromObj(e),n.graphText=XZ.fromObj(e),n.offset=GZ.fromObj(e);for(var o=0;o<i;o++)n.items.push(KZ.fromObj(r[o]));return n}}]),t}(IZ);xQ.ThemeGraph=ZZ;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var $Z=function(e){function t(e){var n;return RS(this,t),n=DS(this,FS(t).call(this,"DOTDENSITY",e)),n.dotExpression=null,n.style=new rX,n.value=null,e&&RY.extend(BS(n),e),n.CLASS_NAME="SuperMap.ThemeDotDensity",n}return US(t,e),IS(t,[{key:"destroy",value:function(){var e=this;e.dotExpression=null,e.value=null,e.style&&(e.style.destroy(),e.style=null)}},{key:"toServerJSONObject",value:function(){var e={};return e=RY.copyAttributes(e,this),e.style&&e.style.toServerJSONObject&&(e.style=e.style.toServerJSONObject()),e}}],[{key:"fromObj",value:function(e){if(e){var n=new t;return RY.copy(n,e),n.style=rX.fromJson(e.style),n}}}]),t}(IZ);xQ.ThemeDotDensity=$Z;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var e$=function(){function e(t){zS(this,e),this.negativeDisplayed=!1,this.negativeStyle=new rX,this.positiveStyle=new rX,this.zeroDisplayed=!1,this.zeroStyle=new rX,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.ThemeGraduatedSymbolStyle"}return HS(e,[{key:"destroy",value:function(){var e=this;e.negativeDisplayed=null,e.negativeStyle=null,e.positiveStyle=null,e.zeroDisplayed=null,e.zeroStyle=null}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return RY.copy(n,t),n.negativeStyle=rX.fromJson(t.negativeStyle),n.positiveStyle=rX.fromJson(t.positiveStyle),n.zeroStyle=rX.fromJson(t.zeroStyle),n}}}]),e}();xQ.ThemeGraduatedSymbolStyle=e$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var t$=function(e){function t(e){var n;return qS(this,t),n=YS(this,$S(t).call(this,"GRADUATEDSYMBOL",e)),n.baseValue=0,n.expression=null,n.flow=new UZ,n.graduatedMode=xQ.GraduatedMode.CONSTAN,n.offset=new GZ,n.style=new e$,e&&RY.extend(XS(n),e),n.CLASS_NAME="SuperMap.ThemeGraduatedSymbol",n}return e_(t,e),QS(t,[{key:"destroy",value:function(){KS($S(t.prototype),"destroy",this).call(this);var e=this;e.expression=null,e.flow&&(e.flow.destroy(),e.flow=null),e.graduatedMode=BQ.CONSTANT,e.offset&&(e.offset.destroy(),e.offset=null),e.style&&(e.style.destroy(),e.style=null)}},{key:"toJSON",value:function(){return RY.toJSON(this.toServerJSONObject())}},{key:"toServerJSONObject",value:function(){var e={};return e.type=this.type,e.memoryData=this.memoryData,e.baseValue=this.baseValue,e.expression=this.expression,e.graduatedMode=this.graduatedMode,this.flow&&(e.flowEnabled=this.flow.flowEnabled,e.leaderLineDisplayed=this.flow.leaderLineDisplayed,e.leaderLineStyle=this.flow.leaderLineStyle),this.offset&&(e.offsetFixed=this.offset.offsetFixed,e.offsetX=this.offset.offsetX,e.offsetY=this.offset.offsetY),this.style&&(e.negativeStyle=this.style.negativeStyle,e.negativeDisplayed=this.style.negativeDisplayed,e.positiveStyle=this.style.positiveStyle,e.zeroDisplayed=this.style.zeroDisplayed,e.zeroStyle=this.style.zeroStyle),e}}],[{key:"fromObj",value:function(e){if(e){var t=new xQ.ThemeGraduatedSymbol;return RY.copy(t,e),t.flow=UZ.fromObj(e),t.offset=GZ.fromObj(e),t.style=e$.fromObj(e),t}}}]),t}(IZ);xQ.ThemeGraduatedSymbol=t$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var n$=function(){function e(t){n_(this,e),this.caption=null,this.end=0,this.start=0,this.style=new rX,this.visible=!0,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.ThemeRangeItem"}return i_(e,[{key:"destroy",value:function(){var e=this;e.caption=null,e.end=null,e.start=null,e.style&&(e.style.destroy(),e.style=null),e.visible=null}},{key:"toServerJSONObject",value:function(){var e={};return e=RY.copyAttributes(e,this),e.style&&e.style.toServerJSONObject&&(e.style=e.style.toServerJSONObject()),e}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return RY.copy(n,t),n.style=rX.fromJson(t.style),n}}}]),e}();xQ.ThemeRangeItem=n$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var r$=function(e){function t(e){var n;return a_(this,t),n=u_(this,p_(t).call(this,"RANGE",e)),n.precision="1.0E-12",n.items=null,n.rangeExpression=null,n.rangeMode=UQ.EQUALINTERVAL,n.rangeParameter=0,n.colorGradientType=zQ.YELLOW_RED,e&&RY.extend(c_(n),e),n.CLASS_NAME="SuperMap.ThemeRange",n}return y_(t,e),l_(t,[{key:"destroy",value:function(){f_(p_(t.prototype),"destroy",this).call(this);var e=this;if(e.items){if(e.items.length>0)for(var n in e.items)e.items[n].destroy(),e.items[n]=null;e.items=null}e.rangeExpression=null,e.rangeMode=null,e.rangeParameter=null,e.colorGradientType=null}}],[{key:"fromObj",value:function(e){if(e){var n=new t;RY.copy(n,e);var r=e.items,i=r?r.length:0;n.items=[];for(var o=0;o<i;o++)n.items.push(n$.fromObj(r[o]));return n}}}]),t}(IZ);xQ.ThemeRange=r$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var i$=function(){function e(t){m_(this,e),t=t||{},this.bounds=null,this.caption=null,this.description=null,this.name=null,this.queryable=null,this.subLayers=null,this.type=null,this.visible=null,RY.extend(this,t),this.CLASS_NAME="SuperMap.UGCLayer"}return b_(e,[{key:"destroy",value:function(){var e=this;RY.reset(e)}},{key:"fromJson",value:function(e){e=e||{},RY.extend(this,e);var t=this.bounds;t&&(this.bounds=new IY(t.leftBottom.x,t.leftBottom.y,t.rightTop.x,t.rightTop.y))}},{key:"toServerJSONObject",value:function(){var e={};return e=RY.copyAttributes(e,this),e.bounds&&e.bounds.toServerJSONObject&&(e.bounds=e.bounds.toServerJSONObject()),e}}]),e}();xQ.UGCLayer=i$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var o$=function(){function e(t){g_(this,e),t=t||{},this.allowPointOverlap=!0,this.allowPointWithTextDisplay=!0,this.allowTextOverlap=!1,this.allowTextAndPointOverlap=!0,this.allowThemeGraduatedSymbolOverlap=!1,this.allowThemeGraphOverlap=!1,this.horizontalOverlappedSpaceSize=0,this.verticalOverlappedSpaceSize=0,RY.extend(this,t),this.ugcLayer=new i$(t),this.CLASS_NAME="SuperMap.OverlapDisplayedOptions"}return __(e,[{key:"destroy",value:function(){RY.reset(this)}},{key:"fromJson",value:function(e){this.ugcLayer.fromJson.apply(this,[e])}},{key:"toServerJSONObject",value:function(){return this.ugcLayer.toServerJSONObject.apply(this,arguments)}},{key:"toString",value:function(){var e=this.ugcLayer.toServerJSONObject.apply(this,arguments),t="{";for(var n in e)e.hasOwnProperty(n)&&(t+="'"+n+"':"+e[n]+",");return t=t.substr(0,t.length-1),t+="}"}}]),e}();xQ.OverlapDisplayedOptions=o$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var a$=function(e){function t(e){var n;return O_(this,t),e=e||{},n=T_(this,M_(t).call(this,e)),n.completeLineSymbolDisplayed=null,n.maxScale=null,n.minScale=null,n.minVisibleGeometrySize=null,n.opaqueRate=null,n.symbolScalable=null,n.symbolScale=null,n.overlapDisplayed=null,n.overlapDisplayedOptions=null,n.CLASS_NAME="SuperMap.UGCMapLayer",n}return A_(t,e),C_(t,[{key:"destroy",value:function(){E_(M_(t.prototype),"destroy",this).call(this),RY.reset(this)}},{key:"fromJson",value:function(e){E_(M_(t.prototype),"fromJson",this).call(this,e)}},{key:"toServerJSONObject",value:function(){return E_(M_(t.prototype),"toServerJSONObject",this).call(this)}}]),t}(i$);xQ.UGCMapLayer=a$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var s$=function(e){function t(e){var n;return R_(this,t),e=e||{},n=D_(this,G_(t).call(this,e)),n.datasetInfo=null,n.displayFilter=null,n.joinItems=null,n.representationField=null,n.ugcLayerType=null,n.CLASS_NAME="SuperMap.UGCSubLayer",n}return z_(t,e),I_(t,[{key:"fromJson",value:function(e){if(B_(G_(t.prototype),"fromJson",this).call(this,e),this.datasetInfo&&(this.datasetInfo=new xK(this.datasetInfo)),this.joinItems&&this.joinItems.length){for(var n=[],r=0;r<this.joinItems.length;r++)n[r]=new KX(this.joinItems[r]);this.joinItems=n}}},{key:"destroy",value:function(){B_(G_(t.prototype),"destroy",this).call(this),RY.reset(this)}},{key:"toServerJSONObject",value:function(){var e=B_(G_(t.prototype),"toServerJSONObject",this).call(this);if(e.joinItems){for(var n=[],r=0;r<e.joinItems.length;r++)e.joinItems[r].toServerJSONObject&&(n[r]=e.joinItems[r].toServerJSONObject());e.joinItems=n}return e.datasetInfo&&e.datasetInfo.toServerJSONObject&&(e.datasetInfo=e.datasetInfo.toServerJSONObject()),e}}]),t}(a$);xQ.UGCSubLayer=s$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var l$=function(e){function t(e){var n;return J_(this,t),e=e||{},n=Q_(this,Z_(t).call(this,e)),n.theme=null,n.themeElementPosition=null,n.CLASS_NAME="SuperMap.ServerTheme",n}return $_(t,e),W_(t,[{key:"destroy",value:function(){X_(Z_(t.prototype),"destroy",this).call(this),RY.reset(this)}},{key:"fromJson",value:function(e){X_(Z_(t.prototype),"fromJson",this).call(this,e);var n=this.theme;switch(n&&n.type){case"LABEL":this.theme=qZ.fromObj(n);break;case"UNIQUE":this.theme=WZ.fromObj(n);break;case"GRAPH":this.theme=ZZ.fromObj(n);break;case"DOTDENSITY":this.theme=$Z.fromObj(n);break;case"GRADUATEDSYMBOL":this.theme=t$.fromObj(n);break;case"RANGE":this.theme=r$.fromObj(n)}this.themeElementPosition&&(this.themeElementPosition=new NY(this.themeElementPosition.x,this.themeElementPosition.y))}},{key:"toServerJSONObject",value:function(){var e=X_(Z_(t.prototype),"toServerJSONObject",this).call(this);return e.themeElementPosition&&e.themeElementPosition.toServerJSONObject&&(e.themeElementPosition=e.themeElementPosition.toServerJSONObject()),e.theme&&e.theme.toServerJSONObject&&(e.theme=e.theme.toServerJSONObject()),e}}]),t}(s$);xQ.ServerTheme=l$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var u$=function(e){function t(e){var n;return nw(this,t),e=e||{},n=ow(this,uw(t).call(this,e)),n.colorDictionarys=null,n.brightness=null,n.colorGradientType=null,n.colors=null,n.contrast=null,n.dashStyle=null,n.gridType=null,n.horizontalSpacing=null,n.sizeFixed=null,n.solidStyle=null,n.specialColor=null,n.specialValue=null,n.specialValueTransparent=null,n.verticalSpacing=null,n.CLASS_NAME="SuperMap.Grid",n}return cw(t,e),iw(t,[{key:"destroy",value:function(){sw(uw(t.prototype),"destroy",this).call(this),RY.reset(this)}},{key:"fromJson",value:function(e){if(sw(uw(t.prototype),"fromJson",this).call(this,e),this.specialColor&&(this.specialColor=new nX(this.specialColor.red,this.specialColor.green,this.specialColor.blue)),this.colors){var n,r=[];for(var i in this.colors)n=this.colors[i],r.push(new nX(n.red,n.green,n.blue));this.colors=r}if(this.dashStyle&&(this.dashStyle=new rX(this.dashStyle)),this.solidStyle&&(this.solidStyle=new rX(this.solidStyle)),this.colorDictionary){var o,a=[];for(var s in this.colorDictionary)o=this.colorDictionary[s],a.push(new bK({elevation:s,color:o}));this.colorDictionarys=a}delete this.colorDictionary}},{key:"toServerJSONObject",value:function(){var e=sw(uw(t.prototype),"toServerJSONObject",this).call(this);return e.dashStyle&&e.dashStyle.toServerJSONObject&&(e.dashStyle=e.dashStyle.toServerJSONObject()),e.solidStyle&&e.solidStyle.toServerJSONObject&&(e.solidStyle=e.solidStyle.toServerJSONObject()),e}}]),t}(s$);xQ.Grid=u$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var c$=function(e){function t(e){var n;return pw(this,t),e=e||{},n=mw(this,Sw(t).call(this,e)),n.brightness=null,n.colorSpaceType=null,n.contrast=null,n.displayBandIndexes=null,n.transparent=null,n.transparentColor=null,n.transparentColorTolerance=null,n.CLASS_NAME="SuperMap.Image",n}return _w(t,e),dw(t,[{key:"destroy",value:function(){bw(Sw(t.prototype),"destroy",this).call(this),RY.reset(this)}},{key:"fromJson",value:function(e){bw(Sw(t.prototype),"fromJson",this).call(this,e),this.transparentColor&&(this.transparentColor=new nX(this.transparentColor.red,this.transparentColor.green,this.transparentColor.blue))}},{key:"toServerJSONObject",value:function(){return bw(Sw(t.prototype),"toServerJSONObject",this).call(this)}}]),t}(s$);xQ.Image=c$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var f$=function(e){function t(e){var n;return xw(this,t),e=e||{},n=Pw(this,Aw(t).call(this,e)),n.style=null,n.CLASS_NAME="SuperMap.Vector",n}return Lw(t,e),Tw(t,[{key:"destroy",value:function(){kw(Aw(t.prototype),"destroy",this).call(this),RY.reset(this)}},{key:"fromJson",value:function(e){kw(Aw(t.prototype),"fromJson",this).call(this,e);var n=this.style;n&&(this.style=new rX(n))}},{key:"toServerJSONObject",value:function(){var e=xQ.toServerJSONObject();return e.style&&e.style.toServerJSONObject&&(e.style=e.style.toServerJSONObject()),e}}]),t}(s$);xQ.Vector=f$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var h$=function(e){function t(e,n){var r;return Nw(this,t),r=Fw(this,zw(t).call(this,e,n)),r.isTempLayers=!1,n&&RY.extend(Bw(r),n),r.CLASS_NAME="SuperMap.GetLayersInfoService",r}return Vw(t,e),Dw(t,[{key:"destroy",value:function(){Uw(zw(t.prototype),"destroy",this).call(this),RY.reset(this)}},{key:"processAsync",value:function(){var e=this,t=e.url.substr(e.url.length-1,1);e.isTempLayers?e.url+=".json?":(e.url+="/"===t?"":"/",e.url+="layers.json?"),e.request({method:"GET",params:null,scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}},{key:"serviceProcessCompleted",value:function(e){var t,n,r,i=this;e=RY.transformResult(e),t=!!e&&e.length>0,n=t?e[0].subLayers.layers:null,r=n?n.length:0,i.handleLayers(r,n),i.events.triggerEvent("processCompleted",{result:e[0]})}},{key:"handleLayers",value:function(e,t){var n,r=this;if(e)for(var i=0;i<e;i++)if(t[i].subLayers&&t[i].subLayers.layers&&t[i].subLayers.layers.length>0)r.handleLayers(t[i].subLayers.layers.length,t[i].subLayers.layers);else{var o=t[i].ugcLayerType;switch(o){case"THEME":n=new l$,n.fromJson(t[i]),t[i]=n;break;case"GRID":n=new u$,n.fromJson(t[i]),t[i]=n;break;case"IMAGE":n=new c$,n.fromJson(t[i]),t[i]=n;break;case"VECTOR":n=new f$,n.fromJson(t[i]),t[i]=n}}}}]),t}(FX);xQ.GetLayersInfoService=h$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var p$=function(){function e(t){Jw(this,e),t&&(this.bounds=null,this.searchRadius=0,this.zValueFieldName=null,this.zValueScale=1,this.resolution=null,this.filterQueryParameter=null,this.outputDatasetName=null,this.outputDatasourceName=null,this.pixelFormat=null,this.dataset=null,this.inputPoints=null,this.InterpolationAnalystType="dataset",this.clipParam=null,RY.extend(this,t),this.CLASS_NAME="SuperMap.InterpolationAnalystParameters")}return Ww(e,[{key:"destroy",value:function(){var e=this;e.bounds=null,e.searchRadius=null,e.zValueFieldName=null,e.zValueScale=null,e.resolution=null,e.filterQueryParameter=null,e.outputDatasetName=null,e.pixelFormat=null}}],[{key:"toObject",value:function(e,t){for(var n in e)if("inputPoints"===n&&"geometry"===e.InterpolationAnalystType){for(var r=[],i=0;i<e.inputPoints.length;i++){var o=e.inputPoints[i],a={x:o.x,y:o.y,z:o.tag};r.push(a)}t[n]=r}else t[n]=e[n]}}]),e}();xQ.InterpolationAnalystParameters=p$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var y$=function(e){function t(e){var n;return Yw(this,t),n=Zw(this,nO(t).call(this,e)),n.smooth=.1,n.tension=40,n.searchMode=null,n.expectedCount=12,n.maxPointCountForInterpolation=200,n.maxPointCountInNode=50,e&&RY.extend($w(n),e),n.CLASS_NAME="SuperMap.InterpolationRBFAnalystParameters",n}return rO(t,e),Kw(t,[{key:"destroy",value:function(){eO(nO(t.prototype),"destroy",this).call(this);var e=this;e.smooth=null,e.tension=null,e.searchMode=null,e.expectedCount=null,e.maxPointCountForInterpolation=null,e.maxPointCountInNode=null}}],[{key:"toObject",value:function(e,t){for(var n in e)t[n]=e[n]}}]),t}(p$);xQ.InterpolationRBFAnalystParameters=y$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var d$=function(e){function t(e){var n;return aO(this,t),n=uO(this,pO(t).call(this,e)),e&&RY.extend(cO(n),e),n.CLASS_NAME="SuperMap.InterpolationDensityAnalystParameters",n}return yO(t,e),lO(t,[{key:"destroy",value:function(){fO(pO(t.prototype),"destroy",this).call(this)}}]),t}(p$);xQ.InterpolationDensityAnalystParameters=d$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var m$=function(e){function t(e){var n;return vO(this,t),n=SO(this,xO(t).call(this,e)),n.power=2,n.searchMode=null,n.expectedCount=12,e&&RY.extend(_O(n),e),n.CLASS_NAME="SuperMap.InterpolationIDWAnalystParameters",n}return CO(t,e),gO(t,[{key:"destroy",value:function(){wO(xO(t.prototype),"destroy",this).call(this);var e=this;e.power=null,e.searchMode=null,e.expectedCount=null}}]),t}(p$);xQ.InterpolationIDWAnalystParameters=m$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var v$=function(e){function t(e){var n;return EO(this,t),n=AO(this,NO(t).call(this,e)),n.type=null,n.mean=null,n.angle=0,n.nugget=0,n.range=0,n.sill=0,n.variogramMode=dY.SPHERICAL,n.exponent=mY.EXP1,n.searchMode=null,n.expectedCount=12,n.maxPointCountForInterpolation=200,n.maxPointCountInNode=50,e&&RY.extend(LO(n),e),n.CLASS_NAME="SuperMap.InterpolationKrigingAnalystParameters",n}return IO(t,e),MO(t,[{key:"destroy",value:function(){jO(NO(t.prototype),"destroy",this).call(this);var e=this;e.type=null,e.mean=null,e.angle=null,e.nugget=null,e.range=null,e.sill=null,e.variogramMode=null,e.exponent=null,e.searchMode=null,e.expectedCount=null,e.maxPointCountForInterpolation=null,e.maxPointCountInNode=null}}]),t}(p$);xQ.InterpolationKrigingAnalystParameters=v$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var b$=function(e){function t(e,n){var r;return BO(this,t),r=zO(this,qO(t).call(this,e,n)),r.mode=null,n&&RY.extend(VO(r),n),r}return WO(t,e),GO(t,[{key:"destroy",value:function(){HO(qO(t.prototype),"destroy",this).call(this),this.mode=null,this.CLASS_NAME="SuperMap.InterpolationAnalystService"}},{key:"processAsync",value:function(e){var t={},n=this;"/"!==n.url.substr(n.url.length-1,1)&&(n.url+="/"),e instanceof d$?(n.mode="Density","geometry"===e.InterpolationAnalystType?n.url+="geometry/interpolation/density":n.url+="datasets/"+e.dataset+"/interpolation/density"):e instanceof m$?(n.mode="IDW","geometry"===e.InterpolationAnalystType?n.url+="geometry/interpolation/idw":n.url+="datasets/"+e.dataset+"/interpolation/idw"):e instanceof y$?(n.mode="RBF","geometry"===e.InterpolationAnalystType?n.url+="geometry/interpolation/rbf":n.url+="datasets/"+e.dataset+"/interpolation/rbf"):e instanceof v$&&(n.mode="Kriging","geometry"===e.InterpolationAnalystType?n.url+="geometry/interpolation/kriging":n.url+="datasets/"+e.dataset+"/interpolation/kriging"),p$.toObject(e,t);var r=RY.toJSON(t);n.url+=".json?returnContent=true",n.request({method:"POST",data:r,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}]),t}(JX);xQ.InterpolationAnalystService=b$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var g$=function(){function e(t){YO(this,e),t&&(this.datasetName="",this.query="",this.resolution=80,this.method=0,this.meshType=0,this.fields="",this.radius=300,this.meshSizeUnit=_Y.METER,this.radiusUnit=_Y.METER,this.areaUnit=SY.SQUAREMILE,this.output=null,this.mappingParameters=null,RY.extend(this,t),this.CLASS_NAME="SuperMap.KernelDensityJobParameter")}return KO(e,[{key:"destroy",value:function(){this.datasetName=null,this.query=null,this.resolution=null,this.method=null,this.radius=null,this.meshType=null,this.fields=null,this.meshSizeUnit=null,this.radiusUnit=null,this.areaUnit=null,this.output instanceof iK&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof oK&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!==n?"output"!==n?(t.analyst=t.analyst||{},"query"===n&&e[n]?t.analyst[n]=e[n].toBBOX():t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):(t.input=t.input||{},t.input[n]=e[n])}}]),e}();xQ.KernelDensityJobParameter=g$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var S$=function(e){function t(e,n){var r;return $O(this,t),r=nx(this,ax(t).call(this,e,n)),r.url+="/spatialanalyst/density",r.CLASS_NAME="SuperMap.KernelDensityJobsService",r}return sx(t,e),tx(t,[{key:"destroy",value:function(){ix(ax(t.prototype),"destroy",this).call(this)}},{key:"getKernelDensityJobs",value:function(){ix(ax(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getKernelDensityJob",value:function(e){ix(ax(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addKernelDensityJob",value:function(e,n){ix(ax(t.prototype),"addJob",this).call(this,this.url,e,g$,n)}}]),t}(sK);xQ.KernelDensityJobsService=S$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var _$=function e(){ux(this,e),this.CLASS_NAME="LabelMatrixCell"};xQ.LabelMatrixCell=_$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var w$=function(e){function t(e){var n;return fx(this,t),n=yx(this,dx(t).call(this,e)),n.height=0,n.pathField=null,n.rotation=0,n.width=0,n.sizeFixed=!1,n.type="IMAGE",e&&RY.extend(mx(n),e),n.CLASS_NAME="SuperMap.LabelImageCell",n}return vx(t,e),px(t,[{key:"destroy",value:function(){var e=this;e.height=null,e.pathField=null,e.rotation=null,e.width=null,e.sizeFixed=null}}]),t}(_$);xQ.LabelImageCell=w$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var O$=function(e){function t(e){var n;return Sx(this,t),n=Ox(this,xx(t).call(this,e)),n.style=new rX,n.symbolIDField=null,n.type="SYMBOL",e&&RY.extend(Cx(n),e),n.CLASS_NAME="SuperMap.LabelSymbolCell",n}return Tx(t,e),wx(t,[{key:"destroy",value:function(){var e=this;e.style&&(e.style.destroy(),e.style=null),e.symbolIDField=null}}]),t}(_$);xQ.LabelSymbolCell=O$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var x$=function(e){function t(e){var n;return kx(this,t),n=Lx(this,jx(t).call(this,e)),n.themeLabel=new qZ,n.type="THEME",e&&RY.extend(Rx(n),e),n.CLASS_NAME=" SuperMap.LabelThemeCell",n}return Nx(t,e),Ax(t,[{key:"destroy",value:function(){var e=this;e.themeLabel&&(e.themeLabel.destroy(),e.themeLabel=null)}}]),t}(_$);xQ.LabelThemeCell=x$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var C$=function(){function e(t){Dx(this,e),this.layerName=null,this.isVisible=null,this.displayFilter=null,this.fieldValuesDisplayFilter=null,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.LayerStatus"}return Bx(e,[{key:"destroy",value:function(){var e=this;e.layerName=null,e.isVisible=null,e.displayFilter=null}},{key:"toJSON",value:function(){var e="{";e+='"type":"UGC",';var t=[];return this.layerName&&(t.push('"name":"'+this.layerName+'"'),t.push('"visible":'+this.isVisible)),this.displayFilter&&t.push('"displayFilter":"'+this.displayFilter+'"'),(this.minScale||0==this.minScale)&&t.push('"minScale":'+this.minScale),(this.maxScale||0==this.maxScale)&&t.push('"maxScale":'+this.maxScale),this.fieldValuesDisplayFilter&&t.push('"fieldValuesDisplayFilter":'+RY.toJSON(this.fieldValuesDisplayFilter)),e+=t,e+="}"}}]),e}();xQ.LayerStatus=C$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var T$=function(e){function t(e,n){var r;Gx(this,t),r=Hx(this,Qx(t).call(this,e,n)),r.projection=null,r.CLASS_NAME="SuperMap.MapService",n&&RY.extend(Jx(r),n);var i=Jx(r);if(i.projection){var o=i.projection.split(":");o instanceof Array&&(2===o.length&&(i.url+='?prjCoordSys={"epsgCode":'+o[1]+"}"),1===o.length&&(i.url+='?prjCoordSys={"epsgCode":'+o[0]+"}"))}return r}return Yx(t,e),Vx(t,[{key:"destroy",value:function(){qx(Qx(t.prototype),"destroy",this).call(this);var e=this;e.events&&(e.events.un(e.eventListeners),e.events.listeners=null,e.events.destroy(),e.events=null,e.eventListeners=null)}},{key:"processAsync",value:function(){var e=this;e.request({method:"GET",scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}},{key:"serviceProcessCompleted",value:function(e){var t=this;e=RY.transformResult(e);var n=e.code>=200&&e.code<300||0==e.code||304===e.code,r=e.code&&n;!e.code||r?t.events&&t.events.triggerEvent("processCompleted",{result:e}):t.events.triggerEvent("processFailed",{error:e})}}]),t}(FX);xQ.MapService=T$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var P$=function(){function e(t){Kx(this,e),t&&(this.dataset=null,this.extractRegion=null,this.expression=null,this.isZip=!1,this.ignoreNoValue=!1,this.targetDatasource=null,this.resultGridName=null,this.deleteExistResultDataset=!1,RY.extend(this,t),this.CLASS_NAME="SuperMap.MathExpressionAnalysisParameters")}return $x(e,[{key:"destroy",value:function(){var e=this;e.dataset=null,e.bounds=null,e.expression=null,e.isZip=!0,e.ignoreNoValue=!0,e.targetDatasource=null,e.resultGridName=null,e.deleteExistResultDataset=null}}],[{key:"toObject",value:function(e,t){for(var n in e)if("dataset"!==n&&(t[n]=e[n]),"extractRegion"===n&&e[n]){for(var r=e[n].components[0].components,i={},o=[],a=r.length,s=0;s<a-1;s++){var l={};l.x=r[s].x,l.y=r[s].y,o.push(l)}i.points=o,i.type="REGION",t[n]=i}}}]),e}();xQ.MathExpressionAnalysisParameters=P$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var E$=function(e){function t(e,n){var r;return tC(this,t),r=iC(this,lC(t).call(this,e,n)),r.CLASS_NAME="SuperMap.MathExpressionAnalysisService",r}return uC(t,e),rC(t,[{key:"destroy",value:function(){aC(lC(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){var t=this;"/"!==t.url.substr(t.url.length-1,1)&&(t.url+="/");var n={};e instanceof P$&&(t.url+="datasets/"+e.dataset+"/mathanalyst"),P$.toObject(e,n);var r=RY.toJSON(n);t.url+=".json?returnContent=true",t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}]),t}(JX);xQ.MathExpressionAnalysisService=E$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var k$=function(){function e(t,n){fC(this,e),t&&(this.geometry=t,this.unit=jQ.METER,this.prjCoordSys=null,this.distanceMode=null,n&&RY.extend(this,n),this.CLASS_NAME="SuperMap.MeasureParameters")}return pC(e,[{key:"destroy",value:function(){var e=this;e.geometry=null,e.unit=null,e.prjCoordSys=null}}]),e}();xQ.MeasureParameters=k$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var M$=function(e){function t(e,n){var r;return dC(this,t),r=bC(this,wC(t).call(this,e,n)),r.measureMode=LQ.DISTANCE,n&&RY.extend(gC(r),n),r.CLASS_NAME="SuperMap.MeasureService",r}return OC(t,e),vC(t,[{key:"destroy",value:function(){SC(wC(t.prototype),"destroy",this).call(this),this.measureMode=null}},{key:"processAsync",value:function(e){if(e instanceof k$){var t=this,n=e.geometry,r=0,i=null,o=null;if(n){o=t.url.substr(t.url.length-1,1),t.measureMode===LQ.AREA?t.url+="/"===o?"area.json?":"/area.json?":t.url+="/"===o?"distance.json?":"/distance.json?";var a=aX.fromGeometry(n);if(a){r=a.parts[0],i=a.points.splice(0,r);var s,l,u;e.prjCoordSys?("object"===yC(e.prjCoordSys)?(l=e.prjCoordSys.projCode,s='{"epsgCode"'+l.substring(l.indexOf(":"),l.length)+"}"):"string"==typeof e.prjCoordSys&&(s='{"epsgCode"'+e.prjCoordSys.substring(e.prjCoordSys.indexOf(":"),e.prjCoordSys.length)+"}"),u={point2Ds:RY.toJSON(i),unit:e.unit,prjCoordSys:s}):u={point2Ds:RY.toJSON(i),unit:e.unit},t.request({method:"GET",params:u,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}}}]),t}(FX);xQ.MeasureService=M$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var A$=function(e){function t(e,n){var r;return TC(this,t),r=kC(this,jC(t).call(this,e,n)),r.mode=null,n&&RY.extend(MC(r),n),r.CLASS_NAME="SuperMap.OverlayAnalystService",r}return RC(t,e),EC(t,[{key:"destroy",value:function(){AC(jC(t.prototype),"destroy",this).call(this),this.mode=null}},{key:"processAsync",value:function(e){var t={},n=this;"/"!==n.url.substr(n.url.length-1,1)&&(n.url+="/"),e instanceof TK?(n.mode="datasets",n.url+="datasets/"+e.sourceDataset+"/overlay.json?returnContent=true",TK.toObject(e,t)):e instanceof dZ&&(n.mode="geometry",e.operateGeometries&&e.sourceGeometries?n.url+="geometry/overlay/batch.json?returnContent=true&ignoreAnalystParam=true":n.url+="geometry/overlay.json?returnContent=true",dZ.toObject(e,t));var r=RY.toJSON(t);n.request({method:"POST",data:r,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}]),t}(JX);xQ.OverlayAnalystService=A$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var L$=function(){function e(t){IC(this,e),t&&(this.datasetName="",this.datasetOverlay="",this.mode="",this.srcFields="",this.overlayFields="",this.output=null,this.mappingParameters=null,RY.extend(this,t),this.CLASS_NAME="SuperMap.OverlayGeoJobParameter")}return FC(e,[{key:"destroy",value:function(){this.datasetName=null,this.datasetOverlay=null,this.mode=null,this.srcFields=null,this.overlayFields=null,this.output instanceof iK&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof oK&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!=n?"output"!==n?(t.analyst=t.analyst||{},t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):(t.input=t.input||{},t.input[n]=e[n])}}]),e}();xQ.OverlayGeoJobParameter=L$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var j$=function(e){function t(e,n){var r;return UC(this,t),r=VC(this,WC(t).call(this,e,n)),r.url+="/spatialanalyst/overlay",r.CLASS_NAME="SuperMap.OverlayGeoJobsService",r}return QC(t,e),zC(t,[{key:"destroy",value:function(){JC(WC(t.prototype),"destroy",this).call(this)}},{key:"getOverlayGeoJobs",value:function(){JC(WC(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getOverlayGeoJob",value:function(e){JC(WC(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addOverlayGeoJob",value:function(e,n){JC(WC(t.prototype),"addJob",this).call(this,this.url,e,L$,n)}}]),t}(sK);xQ.OverlayGeoJobsService=j$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var R$=function(e){function t(e){var n;return KC(this,t),e?(n=eT(this,iT(t).call(this,e)),n.returnContent=!0,n.bounds=null,RY.extend(tT(n),e),n.CLASS_NAME="SuperMap.QueryByBoundsParameters",n):eT(n)}return oT(t,e),$C(t,[{key:"destroy",value:function(){nT(iT(t.prototype),"destroy",this).call(this);var e=this;e.returnContent=null,e.bounds&&(e.bounds=null)}}]),t}(dK);xQ.QueryByBoundsParameters=R$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var N$=function(e){function t(e,n){var r;lT(this,t),r=fT(this,dT(t).call(this,e,n)),r.returnContent=!1,r.format=CQ.GEOJSON,r.returnFeatureWithFieldCaption=!1,n&&RY.extend(hT(r),n),r.CLASS_NAME="SuperMap.QueryService";var i,o=hT(r);return o.url?(n&&n.format&&(o.format=n.format.toUpperCase()),i=o.url.substr(o.url.length-1,1),o.url+="/"===i?"queryResults.json?":"/queryResults.json?",r):fT(r)}return mT(t,e),cT(t,[{key:"destroy",value:function(){pT(dT(t.prototype),"destroy",this).call(this);var e=this;e.returnContent=null,e.format=null}},{key:"processAsync",value:function(e){if(e instanceof dK){var t=this,n=null,r=null;t.returnContent=e.returnContent,r=t.getJsonParameters(e),t.returnContent?t.url+="returnContent="+t.returnContent:(n=e.returnCustomResult)&&(t.url+="returnCustomResult="+n),t.returnFeatureWithFieldCaption=e.returnFeatureWithFieldCaption,t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}},{key:"serviceProcessCompleted",value:function(e){var t=this;e=RY.transformResult(e);var n=new sX;if(e&&e.recordsets)for(var r=0,i=e.recordsets,o=i.length;r<o;r++)i[r].features&&(!0===t.returnFeatureWithFieldCaption&&i[r].features.map(function(e){return e.fieldNames=i[r].fieldCaptions,e}),t.format===CQ.GEOJSON&&(i[r].features=n.toGeoJSON(i[r].features)));t.events.triggerEvent("processCompleted",{result:e})}},{key:"getQueryParameters",value:function(e){return new dK({customParams:e.customParams,expectCount:e.expectCount,networkType:e.networkType,queryOption:e.queryOption,queryParams:e.queryParams,startRecord:e.startRecord,prjCoordSys:e.prjCoordSys,holdTime:e.holdTime})}}]),t}(FX);xQ.QueryService=N$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var I$=function(e){function t(e,n){var r;return gT(this,t),r=wT(this,TT(t).call(this,e,n)),r.CLASS_NAME="SuperMap.QueryByBoundsService",r}return PT(t,e),_T(t,[{key:"destroy",value:function(){xT(TT(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){if(!(e instanceof R$))return null;var t=this,n="",r=null,i=e.bounds;return r=t.getQueryParameters(e),n+="'queryMode':'BoundsQuery','queryParameters':",n+=RY.toJSON(r),n+=",'bounds': {'rightTop':{'y':"+i.top+",'x':"+i.right+"},'leftBottom':{'y':"+i.bottom+",'x':"+i.left+"}}",n="{"+n+"}"}}]),t}(N$);xQ.QueryByBoundsService=I$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var D$=function(e){function t(e){var n;return MT(this,t),e?(n=jT(this,DT(t).call(this,e)),n.distance=0,n.geometry=null,n.isNearest=null,n.returnContent=!0,RY.extend(RT(n),e),n.CLASS_NAME="SuperMap.QueryByDistanceParameters",n):jT(n)}return FT(t,e),LT(t,[{key:"destroy",value:function(){NT(DT(t.prototype),"destroy",this).call(this);var e=this;e.returnContent=null,e.distance=null,e.isNearest=null,e.geometry&&(e.geometry.destroy(),e.geometry=null)}}]),t}(dK);xQ.QueryByDistanceParameters=D$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var F$=function(e){function t(e,n){var r;return GT(this,t),r=HT(this,QT(t).call(this,e,n)),r.CLASS_NAME="SuperMap.QueryByDistanceService",r}return YT(t,e),VT(t,[{key:"destroy",value:function(){qT(QT(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){if(e instanceof D$){var t=this,n="",r=t.getQueryParameters(e),i=aX.fromGeometry(e.geometry);return n+=e.isNearest?"'queryMode':'FindNearest','queryParameters':":"'queryMode':'DistanceQuery','queryParameters':",n+=RY.toJSON(r),n+=",'geometry':"+RY.toJSON(i)+",'distance':"+e.distance,n="{"+n+"}"}}}]),t}(N$);xQ.QueryByDistanceService=F$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var B$=function(e){function t(e){var n;return ZT(this,t),e?(n=tP(this,oP(t).call(this,e)),n.returnContent=!0,n.geometry=null,n.spatialQueryMode=MQ.INTERSECT,RY.extend(nP(n),e),n.CLASS_NAME="SuperMap.QueryByGeometryParameters",n):tP(n)}return aP(t,e),eP(t,[{key:"destroy",value:function(){rP(oP(t.prototype),"destroy",this).call(this);var e=this;e.returnContent=null,e.geometry=null,e.spatialQueryMode=null}}]),t}(dK);xQ.QueryByGeometryParameters=B$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var U$=function(e){function t(e,n){var r;return uP(this,t),r=hP(this,mP(t).call(this,e,n)),r.CLASS_NAME="SuperMap.QueryByGeometryService",r}return vP(t,e),fP(t,[{key:"destroy",value:function(){yP(mP(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){if(e instanceof B$){var t=this,n="",r=null,i=e.geometry,o=aX.fromGeometry(i);return r=t.getQueryParameters(e),n+="'queryMode':'SpatialQuery','queryParameters':",n+=RY.toJSON(r)+",'geometry':"+RY.toJSON(o)+",'spatialQueryMode':"+RY.toJSON(e.spatialQueryMode),n="{"+n+"}"}}}]),t}(N$);xQ.QueryByGeometryService=U$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var G$=function(e){function t(e){var n;return SP(this,t),e?(n=OP(this,PP(t).call(this,e)),n.returnContent=!0,RY.extend(xP(n),e),n.CLASS_NAME="SuperMap.QueryBySQLParameters",n):OP(n)}return EP(t,e),wP(t,[{key:"destroy",value:function(){CP(PP(t.prototype),"destroy",this).call(this),this.returnContent=null}}]),t}(dK);xQ.QueryBySQLParameters=G$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var z$=function(e){function t(e,n){var r;return AP(this,t),r=RP(this,FP(t).call(this,e,n)),r.CLASS_NAME="SuperMap.QueryBySQLService",r}return BP(t,e),jP(t,[{key:"destroy",value:function(){IP(FP(t.prototype),"destroy",this).call(this)}},{key:"getJsonParameters",value:function(e){if(e instanceof G$){var t=this,n="",r=null;return r=t.getQueryParameters(e),n+="'queryMode':'SqlQuery','queryParameters':",n+=RY.toJSON(r),n="{"+n+"}"}}}]),t}(N$);xQ.QueryBySQLService=z$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var V$=function(){function e(t){if(GP(this,e),!t)return this;this.sourceRoute=null,this.point=null,this.tolerance=null,this.isIgnoreGap=!1,RY.extend(this,t),this.CLASS_NAME="SuperMap.RouteCalculateMeasureParameters"}return VP(e,[{key:"destroy",value:function(){var e=this;e.sourceRoute=null,e.point=null,e.tolerance&&(e.tolerance=null),e.isIgnoreGap&&(e.isIgnoreGap=!1)}}]),e}();xQ.RouteCalculateMeasureParameters=V$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var H$=function(e){function t(e,n){var r;return JP(this,t),r=QP(this,ZP(t).call(this,e,n)),r.CLASS_NAME="SuperMap.RouteCalculateMeasureService",r}return $P(t,e),WP(t,[{key:"destroy",value:function(){XP(ZP(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof V$){var t,n=this;t=n.getJsonParameters(e),n.request({method:"POST",data:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJsonParameters",value:function(e){var t,n="geometry/calculatemeasure",r=this;return t=r.url.substr(r.url.length-1,1),r.url+="/"===t?n+".json":"/"+n+".json",r.url+="?returnContent=true",RY.toJSON(e)}}]),t}(JX);xQ.RouteCalculateMeasureService=H$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var J$=function(){function e(t){if(tE(this,e),!t)return this;this.sourceRoute=null,this.dataset=null,this.routeIDField=null,this.routeID=null,this.type=null,this.measure=null,this.offset=0,this.isIgnoreGap=!1,this.startMeasure=null,this.endMeasure=null;var n=t.sourceRoute,r={};if(n&&n instanceof DY&&n.components){r.type=n.type,r.parts=n.parts;for(var i=[],o=0,a=n.components.length;o<a;o++)i=i.concat(n.components[o].components);r.points=i,t.sourceRoute=r}RY.extend(this,t),this.CLASS_NAME="SuperMap.RouteLocatorParameters"}return rE(e,[{key:"destroy",value:function(){var e=this;e.sourceRoute=null,e.type=null,e.measure=null,e.offset=0,e.isIgnoreGap=!1,e.startMeasure=null,e.endMeasure=null,e.dataset=null,e.routeID=null,e.routeIDField=null}}]),e}();xQ.RouteLocatorParameters=J$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var q$=function(e){function t(e,n){var r;return oE(this,t),r=lE(this,hE(t).call(this,e,n)),r.CLASS_NAME="SuperMap.RouteLocatorService",r}return pE(t,e),sE(t,[{key:"destroy",value:function(){cE(hE(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof J$){var t,n=this;t=n.getJsonParameters(e),n.request({method:"POST",data:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJsonParameters",value:function(e){var t,n="geometry/routelocator",r=this;return t=r.url.substr(r.url.length-1,1),e.dataset&&(n="datasets/"+e.dataset+"/linearreferencing/routelocator",e.sourceRoute=null),r.url+="/"===t?n+".json":"/"+n+".json",r.url+="?returnContent=true",RY.toJSON(e)}}]),t}(JX);xQ.RouteLocatorService=q$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var W$=function(){function e(t){dE(this,e),this.fieldNames=null,this.fieldValues=null,this.geometry=null,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.ServerFeature"}return vE(e,[{key:"destroy",value:function(){var e=this;e.fieldNames=null,e.fieldValues=null,e.geometry&&(e.geometry.destroy(),e.geometry=null)}},{key:"toFeature",value:function(){var e,t,n,r,i={},o=this;e=o.fieldNames,t=o.fieldValues;for(var a in e)i[e[a]]=t[a];return o.geometry&&(n=o.geometry.toGeometry()),r=new $Y(n,i),o.geometry&&o.geometry.id&&(r.fid=o.geometry.id),r}}],[{key:"fromJson",value:function(t){var n=null;if(t)return n=t.geometry,n&&(n=aX.fromJson(n)),new e({fieldNames:t.fieldNames,fieldValues:t.fieldValues,geometry:n})}}]),e}();xQ.ServerFeature=W$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Q$=function(){function e(t){bE(this,e),t=t||{},this.resourceID=null,this.tempLayerName=null,this.layerInfo=null,RY.extend(this,t),this.CLASS_NAME="SuperMap.SetLayerInfoParameters"}return SE(e,[{key:"destroy",value:function(){var e=this;e.resourceID=null,e.tempLayerName=null,e.layerInfo=null}}]),e}();xQ.SetLayerInfoParameters=Q$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Y$=function(e){function t(e,n){var r;return wE(this,t),r=CE(this,kE(t).call(this,e,n)),n&&RY.extend(TE(r),n),r.CLASS_NAME="SuperMap.SetLayerInfoService",r}return ME(t,e),xE(t,[{key:"destroy",value:function(){PE(kE(t.prototype),"destroy",this).call(this),RY.reset(this)}},{key:"processAsync",value:function(e){if(e){var t=this;t.url+=".json";var n=RY.toJSON(e);t.request({method:"PUT",data:n,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}]),t}(FX);xQ.SetLayerInfoService=Y$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var X$=function(){function e(t){LE(this,e),t=t||{},this.isTempLayers=null,this.resourceID=null,this.layersInfo=null,RY.extend(this,t),this.CLASS_NAME="SuperMap.SetLayersInfoParameters"}return RE(e,[{key:"destroy",value:function(){var e=this;e.isTempLayers=null,e.resourceID=null,e.layersInfo=null}}]),e}();xQ.SetLayersInfoParameters=X$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var K$=function(e){function t(e,n){var r;return IE(this,t),r=BE(this,VE(t).call(this,e,n)),r.resourceID=null,r.isTempLayers=!1,n&&xQ.Util.extend(UE(r),n),r.CLASS_NAME="SuperMap.SetLayersInfoService",r}return HE(t,e),FE(t,[{key:"destroy",value:function(){GE(VE(t.prototype),"destroy",this).call(this),RY.reset(this)}},{key:"processAsync",value:function(e){if(e){var t,n,r=[],i=this,o="";n=i.url.substr(i.url.length-1,1),i.url+="/"===n?"":"/",i.isTempLayers?(i.url+="tempLayersSet/"+i.resourceID,o="PUT"):(i.url+="tempLayersSet",o="POST"),i.url+=".json?",e.subLayers||(e.subLayers={layers:[]}),e.subLayers.layers||(e.subLayers.layers=[]);var a=e.subLayers.layers,s=a.length;for(var l in a){if("GRID"===a[l].ugcLayerType){var u={},c=a[l].colorDictionarys;for(var f in c){u[c[f].elevation]=c[f].color}}a[l].colorDictionary=u,delete a[l].colorDictionarys}for(var h=0;h<s;h++)a[h].toJsonObject?r.push(a[h].toJsonObject()):r.push(a[h]);t=RY.extend(t,e),t.subLayers={layers:r},t.object=null;var p=RY.toJSON([t]);i.request({method:o,data:p,scope:i,success:i.serviceProcessCompleted,failure:i.serviceProcessFailed})}}}]),t}(FX);xQ.SetLayersInfoService=K$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Z$=function(){function e(t){qE(this,e),this.layerStatusList=[],this.holdTime=15,this.resourceID=null,t&&RY.extend(this,t)}return QE(e,[{key:"destroy",value:function(){var e=this;e.layerStatusList=null,e.holdTime=null,e.resourceID=null}},{key:"toJSON",value:function(){var e="{";e+='"layers":[';for(var t=[],n=0,r=this.layerStatusList.length;n<r;n++)t.push(this.layerStatusList[n].toJSON());return e+=t,e+="]",e+="}"}}]),e}();xQ.SetLayerStatusParameters=Z$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var $$=function(e){function t(e,n){var r;return XE(this,t),r=$E(this,rk(t).call(this,e,n)),r.lastparams=null,r.mapUrl=e,n&&RY.extend(ek(r),n),r.CLASS_NAME="SuperMap.SetLayerStatusService",r}return ik(t,e),ZE(t,[{key:"destroy",value:function(){tk(rk(t.prototype),"destroy",this).call(this),RY.reset(this)}},{key:"processAsync",value:function(e){if(e instanceof Z$){var t=this;t.url=t.mapUrl;var n=t.url.substr(t.url.length-1,1);if(t.url+="/"===n?"":"/",null==e.resourceID)t.url+="tempLayersSet",t.url+=".json?",t.lastparams=e,t.request({method:"POST",scope:t,success:t.createTempLayerComplete,failure:t.serviceProcessFailed});else{t.url+="tempLayersSet/"+e.resourceID,t.url+=".json?",t.url+="elementRemain=true&reference="+e.resourceID+"&holdTime="+e.holdTime.toString();var r="[{";r+='"type":"UGC",',null!=e.layerStatusList&&e.layerStatusList.length>0&&(r+='"subLayers":'+e.toJSON()),r+=',"visible":true,',r+='"name":"'+this.getMapName(this.mapUrl)+'"',r+="}]",t.request({method:"PUT",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}},{key:"createTempLayerComplete",value:function(e){var t=this;e=RY.transformResult(e),e.succeed&&(t.lastparams.resourceID=e.newResourceID),t.processAsync(t.lastparams)}},{key:"getMapName",value:function(e){var t=e;"/"===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1));var n=t.lastIndexOf("/");return t.substring(n+1,t.length)}},{key:"serviceProcessCompleted",value:function(e){var t=this;e=RY.transformResult(e),null!=e&&null!=t.lastparams&&(e.newResourceID=t.lastparams.resourceID),t.events.triggerEvent("processCompleted",{result:e})}}]),t}(FX);xQ.SetLayerStatusService=$$;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var e0=function(){function e(t){ak(this,e),t&&(this.datasetName="",this.datasetQuery="",this.geometryQuery="",this.mode=MQ.CONTAIN,this.output=null,this.mappingParameters=null,RY.extend(this,t),this.CLASS_NAME="SuperMap.SingleObjectQueryJobsParameter")}return lk(e,[{key:"destroy",value:function(){this.datasetName=null,this.datasetQuery=null,this.geometryQuery=null,this.mode=null,this.output instanceof iK&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof oK&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!==n?"output"!==n?(t.analyst=t.analyst||{},t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):(t.input=t.input||{},t.input[n]=e[n])}}]),e}();xQ.SingleObjectQueryJobsParameter=e0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var t0=function(e){function t(e,n){var r;return ck(this,t),r=pk(this,vk(t).call(this,e,n)),r.url+="/spatialanalyst/query",r.CLASS_NAME="SuperMap.SingleObjectQueryJobsService",r}return bk(t,e),hk(t,[{key:"destroy",value:function(){dk(vk(t.prototype),"destroy",this).call(this)}},{key:"getQueryJobs",value:function(){dk(vk(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getQueryJob",value:function(e){dk(vk(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addQueryJob",value:function(e,n){dk(vk(t.prototype),"addJob",this).call(this,this.url,e,e0,n)}}]),t}(sK);xQ.SingleObjectQueryJobsService=t0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var n0=function(){function e(t){Sk(this,e),t=t||{},this.keyWord=null,this.returnPosition=!1,RY.extend(this,t),this.CLASS_NAME="SuperMap.StopQueryParameters"}return wk(e,[{key:"destroy",value:function(){RY.reset(this)}}]),e}();xQ.StopQueryParameters=n0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var r0=function(e){function t(e,n){var r;return xk(this,t),r=Pk(this,Ak(t).call(this,e,n)),n=n||{},RY.extend(Ek(r),n),r.CLASS_NAME="SuperMap.StopQueryService",r}return Lk(t,e),Tk(t,[{key:"destroy",value:function(){kk(Ak(t.prototype),"destroy",this).call(this),RY.reset(this)}},{key:"processAsync",value:function(e){if(e instanceof n0){var t,n=this;t=n.url.substr(n.url.length-1,1),n.url+="/"===t?"":"/",n.url+="stops/keyword/"+e.keyWord,n.url+=".json?",n.request({method:"GET",params:{returnPosition:e.returnPosition},scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}]),t}(FX);xQ.StopQueryService=r0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var i0=function(){function e(t){Rk(this,e),t&&(this.datasetName="",this.groupField="",this.attributeField="",this.statisticModes="",this.output=null,this.mappingParameters=null,RY.extend(this,t),this.CLASS_NAME="SuperMap.SummaryAttributesJobsParameter")}return Ik(e,[{key:"destroy",value:function(){this.datasetName=null,this.groupField=null,this.attributeField=null,this.statisticModes=null,this.output instanceof iK&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof oK&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!==n?"output"!==n?(t.analyst=t.analyst||{},t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):(t.input=t.input||{},t.input[n]=e[n])}}]),e}();xQ.SummaryAttributesJobsParameter=i0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var o0=function(e){function t(e,n){var r;return Fk(this,t),r=Gk(this,Jk(t).call(this,e,n)),r.url+="/spatialanalyst/summaryattributes",r.CLASS_NAME="SuperMap.SummaryAttributesJobsService",r}return qk(t,e),Uk(t,[{key:"destroy",value:function(){Vk(Jk(t.prototype),"destroy",this).call(this)}},{key:"getSummaryAttributesJobs",value:function(){Vk(Jk(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getSummaryAttributesJob",value:function(e){Vk(Jk(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addSummaryAttributesJob",value:function(e,n){Vk(Jk(t.prototype),"addJob",this).call(this,this.url,e,i0,n)}}]),t}(sK);xQ.SummaryAttributesJobsService=o0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var a0=function(){function e(t){Qk(this,e),t&&(this.datasetName="",this.regionDataset="",this.query="",this.resolution=100,this.meshType=0,this.statisticModes=wY.AVERAGE,this.fields="",this.type=OY.SUMMARYMESH,this.output=null,this.mappingParameters=null,RY.extend(this,t),this.CLASS_NAME="SuperMap.SummaryMeshJobParameter")}return Xk(e,[{key:"destroy",value:function(){this.datasetName=null,this.query=null,this.resolution=null,this.statisticModes=null,this.meshType=null,this.fields=null,this.regionDataset=null,this.type=null,this.output instanceof iK&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof oK&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!==n?"type"!==n?"output"!==n?("SUMMARYMESH"===e.type&&"regionDataset"!==n||"SUMMARYREGION"===e.type&&!function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}(["meshType","resolution","query"],n))&&(t.analyst=t.analyst||{},"query"===n&&e[n]?t.analyst[n]=e[n].toBBOX():t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):t.type=e[n]:(t.input=t.input||{},t.input[n]=e[n])}}]),e}();xQ.SummaryMeshJobParameter=a0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var s0=function(e){function t(e,n){var r;return Zk(this,t),r=tM(this,oM(t).call(this,e,n)),r.url+="/spatialanalyst/aggregatepoints",r.CLASS_NAME="SuperMap.SummaryMeshJobsService",r}return aM(t,e),eM(t,[{key:"destroy",value:function(){rM(oM(t.prototype),"destroy",this).call(this)}},{key:"getSummaryMeshJobs",value:function(){rM(oM(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getSummaryMeshJob",value:function(e){rM(oM(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addSummaryMeshJob",value:function(e,n){rM(oM(t.prototype),"addJob",this).call(this,this.url,e,a0,n)}}]),t}(sK);xQ.SummaryMeshJobsService=s0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var l0=function(){function e(t){lM(this,e),t&&(this.datasetName="",this.regionDataset="",this.sumShape=!0,this.query="",this.standardSummaryFields=!1,this.standardFields="",this.standardStatisticModes="",this.weightedSummaryFields=!1,this.weightedFields="",this.weightedStatisticModes="",this.meshType=0,this.resolution=100,this.meshSizeUnit=_Y.METER,this.type=OY.SUMMARYMESH,this.output=null,this.mappingParameters=null,RY.extend(this,t),this.CLASS_NAME="SuperMap.SummaryRegionJobParameter")}return cM(e,[{key:"destroy",value:function(){this.datasetName=null,this.sumShape=null,this.regionDataset=null,this.query=null,this.standardSummaryFields=null,this.standardFields=null,this.standardStatisticModes=null,this.weightedSummaryFields=null,this.weightedFields=null,this.weightedStatisticModes=null,this.meshType=null,this.resolution=null,this.meshSizeUnit=null,this.type=null,this.output instanceof iK&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof oK&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!==n?"type"!==n&&"type"!==n?"output"!==n?("SUMMARYREGION"===e.type||"SUMMARYMESH"===e.type&&"regionDataset"!==n)&&(t.analyst=t.analyst||{},"query"===n&&e[n]?t.analyst[n]=e[n].toBBOX():t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):t.type=e[n]:(t.input=t.input||{},t.input[n]=e[n])}}]),e}();xQ.SummaryRegionJobParameter=l0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var u0=function(e){function t(e,n){var r;return hM(this,t),r=dM(this,gM(t).call(this,e,n)),r.url+="/spatialanalyst/summaryregion",r.CLASS_NAME="SuperMap.SummaryRegionJobsService",r}return SM(t,e),yM(t,[{key:"destroy",value:function(){vM(gM(t.prototype),"destroy",this).call(this)}},{key:"getSummaryRegionJobs",value:function(){vM(gM(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getSummaryRegionJob",value:function(e){vM(gM(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addSummaryRegionJob",value:function(e,n){vM(gM(t.prototype),"addJob",this).call(this,this.url,e,l0,n)}}]),t}(sK);xQ.SummaryRegionJobsService=u0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var c0=function(){function e(t){wM(this,e),this.maxWeight=null,this.nodeID=null,this.resourceValue=null,this.type=null,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.SupplyCenter"}return xM(e,[{key:"destroy",value:function(){var e=this;e.maxWeight=null,e.nodeID=null,e.resourceValue=null,e.type=null}}],[{key:"fromJson",value:function(t){if(t)return new e({maxWeight:t.maxWeight,nodeID:t.nodeID,resourceValue:t.resourceValue,type:t.type})}}]),e}();xQ.SupplyCenter=c0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var f0=function(e){function t(e,n){var r;return TM(this,t),r=kM(this,jM(t).call(this,e,n)),r.CLASS_NAME="SuperMap.SurfaceAnalystService",r}return RM(t,e),EM(t,[{key:"destroy",value:function(){AM(jM(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof EK){var t,n=this;t=n.getJsonParameters(e),n.request({method:"POST",data:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}},{key:"getJsonParameters",value:function(e){var t,n="",r={},i=this;if(e instanceof kK)t=i.url.substr(i.url.length-1,1),i.url+="/"===t?"datasets/"+e.dataset+"/"+e.surfaceAnalystMethod.toLowerCase()+".json?returnContent=true":"/datasets/"+e.dataset+"/"+e.surfaceAnalystMethod.toLowerCase()+".json?returnContent=true",kK.toObject(e,r),n=RY.toJSON(r);else{if(!(e instanceof mZ))return;t=i.url.substr(i.url.length-1,1),i.url+="/"===t?"geometry/"+e.surfaceAnalystMethod.toLowerCase()+".json?returnContent=true":"/geometry/"+e.surfaceAnalystMethod.toLowerCase()+".json?returnContent=true",n=RY.toJSON(e)}return n}}]),t}(JX);xQ.SurfaceAnalystService=f0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var h0=function(){function e(t){IM(this,e),t&&(this.dataset=null,this.zFactor=1,this.averageCurvatureName=null,this.profileCurvatureName="",this.planCurvatureName="",this.deleteExistResultDataset=!1,RY.extend(this,t),this.CLASS_NAME="SuperMap.TerrainCurvatureCalculationParameters")}return FM(e,[{key:"destroy",value:function(){var e=this;e.dataset=null,e.zFactor=1,e.averageCurvatureName=null,e.profileCurvatureName=null,e.planCurvatureName=null,e.deleteExistResultDataset=!0}}],[{key:"toObject",value:function(e,t){for(var n in e)"dataset"!==n&&(t[n]=e[n])}}]),e}();xQ.TerrainCurvatureCalculationParameters=h0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var p0=function(e){function t(e,n){var r;return UM(this,t),r=VM(this,WM(t).call(this,e,n)),r.CLASS_NAME="SuperMap.TerrainCurvatureCalculationService",r}return QM(t,e),zM(t,[{key:"destroy",value:function(){JM(WM(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){var t=this;"/"!==t.url.substr(t.url.length-1,1)&&(t.url+="/");var n={};e instanceof h0&&(t.url+="datasets/"+e.dataset+"/terraincalculation/curvature"),h0.toObject(e,n);var r=xQ.Util.toJSON(n);t.url+=".json?returnContent=true",t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}]),t}(JX);xQ.TerrainCurvatureCalculationService=p0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var y0=function(){function e(t){XM(this,e),this.caption=null,this.color=new nX,this.end=0,this.start=0,this.visible=!0,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.ThemeGridRangeItem"}return ZM(e,[{key:"destroy",value:function(){var e=this;e.caption=null,e.end=null,e.start=null,e.color&&(e.color.destroy(),e.color=null),e.visible=null}},{key:"toServerJSONObject",value:function(){var e={};return e=RY.copyAttributes(e,this),e.color&&e.color.toServerJSONObject&&(e.color=e.color.toServerJSONObject()),e}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return RY.copy(n,t),n.color=nX.fromJson(t.color),n}}}]),e}();xQ.ThemeGridRangeItem=y0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var d0=function(e){function t(e){var n;return eA(this,t),n=rA(this,sA(t).call(this,"GRIDRANGE",e)),n.items=null,n.rangeMode=UQ.EQUALINTERVAL,n.rangeParameter=0,n.colorGradientType=zQ.YELLOW_RED,n.reverseColor=!1,e&&RY.extend(iA(n),e),n.CLASS_NAME="SuperMap.ThemeGridRange",n}return lA(t,e),nA(t,[{key:"destroy",value:function(){oA(sA(t.prototype),"destroy",this).call(this);var e=this;if(e.items){if(e.items.length>0)for(var n in e.items)e.items[n].destroy(),e.items[n]=null;e.items=null}e.reverseColor=null,e.rangeMode=null,e.rangeParameter=null,e.colorGradientType=null}}],[{key:"fromObj",value:function(e){if(e){var n=new t;RY.copy(n,e);var r=e.items,i=r?r.length:0;n.items=[];for(var o=0;o<i;o++)n.items.push(y0.fromObj(r[o]));return n}}}]),t}(IZ);xQ.ThemeGridRange=d0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var m0=function(){function e(t){cA(this,e),this.caption=null,this.color=new nX,this.unique=null,this.visible=!0,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.ThemeGridUniqueItem"}return hA(e,[{key:"destroy",value:function(){var e=this;e.caption=null,e.unique=null,e.color&&(e.color.destroy(),e.color=null),e.visible=null}},{key:"toServerJSONObject",value:function(){var e={};return e=RY.copyAttributes(e,this),e.color&&e.color.toServerJSONObject&&(e.color=e.color.toServerJSONObject()),e}}],[{key:"fromObj",value:function(t){var n=new e;return RY.copy(n,t),n.color=nX.fromJson(t.color),n}}]),e}();xQ.ThemeGridUniqueItem=m0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var v0=function(e){function t(e){var n;return yA(this,t),n=vA(this,_A(t).call(this,"GRIDUNIQUE",e)),n.defaultcolor=new nX,n.items=null,e&&RY.extend(bA(n),e),n.CLASS_NAME="SuperMap.ThemeGridUnique",n}return wA(t,e),mA(t,[{key:"destroy",value:function(){gA(_A(t.prototype),"destroy",this).call(this);var e=this;if(e.items){if(e.items.length>0)for(var n in e.items)e.items[n].destroy(),e.items[n]=null;e.items=null}e.defaultcolor&&(e.defaultcolor.destroy(),e.defaultcolor=null)}},{key:"toServerJSONObject",value:function(){var e={};if(e=RY.copyAttributes(e,this),e.defaultcolor&&e.defaultcolor.toServerJSONObject&&(e.defaultcolor=e.defaultcolor.toServerJSONObject()),e.items){for(var t=[],n=e.items.length,r=0;r<n;r++)t.push(e.items[r].toServerJSONObject());e.items=t}return e}}],[{key:"fromObj",value:function(e){var n=new t,r=e.items,i=r?r.length:0;RY.extend(n,e),n.items=[],n.defaultcolor=nX.fromJson(e.defaultcolor);for(var o=0;o<i;o++)n.items.push(m0.fromObj(r[o]));return n}}]),t}(IZ);xQ.ThemeGridUnique=v0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var b0=function(){function e(t){xA(this,e),this.caption=null,this.unique=null,this.offsetX=0,this.offsetY=0,this.visible=!0,this.style=new DZ,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.ThemeLabelUniqueItem"}return TA(e,[{key:"destroy",value:function(){var e=this;e.unique=null,e.caption=null,e.offsetX=null,e.offsetY=null,e.style&&(e.style.destroy(),e.style=null),e.visible=null}}],[{key:"fromObj",value:function(t){if(t){var n=new e;return RY.copy(n,t),n}}}]),e}();xQ.ThemeLabelUniqueItem=b0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var g0=function(){function e(t){PA(this,e),this.datasetNames=null,this.dataSourceNames=null,this.joinItems=null,this.themes=null,this.displayFilters=null,this.displayOrderBys=null,this.fieldValuesDisplayFilter=null,t&&RY.extend(this,t),this.CLASS_NAME="SuperMap.ThemeParameters"}return kA(e,[{key:"destroy",value:function(){var e=this;if(e.datasetNames=null,e.dataSourceNames=null,e.joinItems){for(var t=0,n=e.joinItems,r=n.length;t<r;t++)n[t].destroy();e.joinItems=null}if(e.themes){for(var i=0,o=e.themes,a=o.length;i<a;i++)o[i].destroy();e.themes=null}}}]),e}();xQ.ThemeParameters=g0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var S0=function(e){function t(e,n){var r;AA(this,t),r=RA(this,FA(t).call(this,e,n)),n&&xQ.Util.extend(NA(r),n);var i,o=NA(r);return i=o.url.substr(o.url.length-1,1),o.url+="/"===i?"tempLayersSet.json?":"/tempLayersSet.json?",r.CLASS_NAME="SuperMap.ThemeService",r}return BA(t,e),jA(t,[{key:"destroy",value:function(){IA(FA(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof g0){var t=this,n=null;n=t.getJsonParameters(e),t.request({method:"POST",data:n,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}},{key:"getJsonParameters",value:function(e){var t,n="",r=null,i=null,o=null;n+="[{'type': 'UGC','subLayers': {'layers': [";for(var a=0;a<e.themes.length;a++){r=e.themes[a];var s=RY.toJSON(r);if(s=s.slice(0,-1),n+="{'theme': "+s+"},'type': 'UGC','ugcLayerType': 'THEME',",i=e.displayFilters,i&&i.length>0&&(1===i.length?n+="'displayFilter':\""+i[0]+'",':n+="'displayFilter':\""+i[a]+'",'),o=e.displayOrderBy,o&&o.length>0&&(1===o.length?n+="'displayOrderBy':'"+o[0]+"',":n+="'displayOrderBy':'"+o[a]+"',"),t=e.fieldValuesDisplayFilter,t&&(n+="'fieldValuesDisplayFilter':"+RY.toJSON(t)+","),e.joinItems&&e.joinItems.length>0&&e.joinItems[a]&&(n+="'joinItems':["+RY.toJSON(e.joinItems[a])+"],"),e.datasetNames&&e.dataSourceNames){var l=e.datasetNames[a]?a:e.datasetNames.length-1,u=e.dataSourceNames[a]?a:e.dataSourceNames.length-1;n+="'datasetInfo': {'name': '"+e.datasetNames[l]+"','dataSourceName': '"+e.dataSourceNames[u]+"'}},"}else n+="},"}e.themes&&e.themes.length>0&&(n=n.substring(0,n.length-1)),n+="]},";var c=this.url.split("/");return n+="'name': '"+c[c.length-2]+"'}]"}}]),t}(FX);xQ.ThemeService=S0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var _0=function(e){function t(e,n){var r;return zA(this,t),r=JA(this,YA(t).call(this,e,n)),r.mode=null,n&&RY.extend(qA(r),n),r.CLASS_NAME="SuperMap.ThiessenAnalystService",r}return XA(t,e),HA(t,[{key:"destroy",value:function(){WA(YA(t.prototype),"destroy",this).call(this),this.mode=null}},{key:"processAsync",value:function(e){var t={},n=this;"/"!==n.url.substr(n.url.length-1,1)&&(n.url+="/"),e instanceof AK?(n.mode="datasets",n.url+="datasets/"+e.dataset+"/thiessenpolygon",AK.toObject(e,t)):e instanceof vZ&&(n.mode="geometry",n.url+="geometry/thiessenpolygon",vZ.toObject(e,t));var r=RY.toJSON(t);n.url+=".json?returnContent=true",n.request({method:"POST",data:r,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}]),t}(JX);xQ.ThiessenAnalystService=_0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var w0=function(e){function t(e,n){var r;return $A(this,t),r=nL(this,aL(t).call(this,e,n)),n&&RY.extend(rL(r),n),r.CLASS_NAME="SuperMap.GeometryBatchAnalystService",r}return sL(t,e),tL(t,[{key:"processAsync",value:function(e){var t=this;"/"!==t.url.substr(t.url.length-1,1)&&(t.url+="/"),t.url+="geometry/batchanalyst.json?returnContent=true&ignoreAnalystParam=true";var n=t._processParams(e),r=RY.toJSON(n);t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}},{key:"_processParams",value:function(e){var t=this;if(RY.isArray(e)){var n=[];return e.map(function(e){return n.push(t._toJSON(e)),e}),n}}},{key:"_toJSON",value:function(e){var t={};if("buffer"===e.analystName)t.analystName="buffer",t.param={},nK.toObject(e.param,t.param);else if("overlay"===e.analystName)t.analystName="overlay",t.param={},dZ.toObject(e.param,t.param);else if("interpolationDensity"===e.analystName)t.analystName="interpolationDensity",t.param={},p$.toObject(e.param,t.param);else if("interpolationidw"===e.analystName)t.analystName="interpolationidw",t.param={},p$.toObject(e.param,t.param);else if("interpolationRBF"===e.analystName)t.analystName="interpolationRBF",t.param={},p$.toObject(e.param,t.param);else if("interpolationKriging"===e.analystName)t.analystName="interpolationKriging",t.param={},p$.toObject(e.param,t.param);else{if("thiessenpolygon"!==e.analystName)return e;t.analystName="thiessenpolygon",t.param={},vZ.toObject(e.param,t.param)}return t}},{key:"destroy",value:function(){iL(aL(t.prototype),"destroy",this).call(this)}}]),t}(JX);xQ.GeometryBatchAnalystService=w0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var O0=function(e){function t(e,n){var r;return cL(this,t),r=pL(this,vL(t).call(this,e,n)),r.CLASS_NAME="SuperMap.TilesetsService",r}return bL(t,e),hL(t,[{key:"destroy",value:function(){dL(vL(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(){if(this.url){var e=this,t=e.url.substr(e.url.length-1,1);e.url=e.url+("/"===t?"tilesets":"/tilesets")+".json?",e.request({method:"GET",scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}}}]),t}(FX);xQ.TilesetsService=O0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var x0=function(){function e(t){SL(this,e),t&&(this.datasetName="",this.datasetTopology="",this.tolerance="",this.rule=xY.REGIONNOOVERLAP,this.output=null,this.mappingParameters=null,RY.extend(this,t),this.CLASS_NAME="SuperMap.TopologyValidatorJobsParameter")}return wL(e,[{key:"destroy",value:function(){this.datasetName=null,this.datasetTopology=null,this.tolerance=null,this.rule=null,this.output instanceof iK&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof oK&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!==n?"output"!==n?(t.analyst=t.analyst||{},t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):(t.input=t.input||{},t.input[n]=e[n])}}]),e}();xQ.TopologyValidatorJobsParameter=x0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var C0=function(e){function t(e,n){var r;return xL(this,t),r=PL(this,AL(t).call(this,e,n)),r.url+="/spatialanalyst/topologyvalidator",r.CLASS_NAME="SuperMap.TopologyValidatorJobsService",r}return LL(t,e),TL(t,[{key:"destroy",value:function(){kL(AL(t.prototype),"destroy",this).call(this)}},{key:"getTopologyValidatorJobs",value:function(){kL(AL(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getTopologyValidatorJob",value:function(e){kL(AL(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addTopologyValidatorJob",value:function(e,n){kL(AL(t.prototype),"addJob",this).call(this,this.url,e,x0,n)}}]),t}(sK);xQ.TopologyValidatorJobsService=C0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var T0=function(){function e(t){RL(this,e),t=t||{},this.lineID=null,this.lineName=null,this.lineAliasName=null,this.startStopIndex=null,this.startStopName=null,this.startStopAliasName=null,this.endStopIndex=null,this.endStopName=null,this.endStopAliasName=null,RY.extend(this,t),this.CLASS_NAME="SuperMap.TransferLine"}return IL(e,[{key:"destroy",value:function(){RY.reset(this)}}],[{key:"fromJson",value:function(t){if(t)return new e({lineID:t.lineID,lineName:t.lineName,lineAliasName:t.lineAliasName,startStopIndex:t.startStopIndex,startStopName:t.startStopName,startStopAliasName:t.startStopAliasName,endStopIndex:t.endStopIndex,endStopName:t.endStopName,endStopAliasName:t.endStopAliasName})}}]),e}();xQ.TransferLine=T0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var P0=function(){function e(t){DL(this,e),t=t||{},this.transferLines=null,this.points=null,RY.extend(this,t),this.CLASS_NAME="SuperMap.TransferPathParameters"}return BL(e,[{key:"destroy",value:function(){RY.reset(this)}}],[{key:"toJson",value:function(e){if(e)return RY.toJSON(e)}}]),e}();xQ.TransferPathParameters=P0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var E0=function(e){function t(e,n){var r;return GL(this,t),r=HL(this,QL(t).call(this,e,n)),r.CLASS_NAME="SuperMap.TransferPathService",r}return YL(t,e),VL(t,[{key:"destroy",value:function(){qL(QL(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof P0){var t,n,r=this;n=r.url.substr(r.url.length-1,1),r.url+="/"===n?"":"/",r.url+="path.json?",t={points:RY.toJSON(e.points),transferLines:RY.toJSON(e.transferLines)},r.request({method:"GET",params:t,scope:r,success:r.serviceProcessCompleted,failure:r.serviceProcessFailed})}}}]),t}(FX);xQ.TransferPathService=E0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var k0=function(){function e(t){KL(this,e),t=t||{},this.solutionCount=6,this.transferPreference=aY.NONE,this.transferTactic=oY.LESS_TIME,this.walkingRatio=null,this.points=!1,this.evadeLines=null,this.evadeStops=null,this.priorLines=null,this.priorStops=null,this.travelTime=null,RY.extend(this,t),this.CLASS_NAME="SuperMap.TransferSolutionParameters"}return $L(e,[{key:"destroy",value:function(){RY.reset(this)}}],[{key:"toJson",value:function(e){if(e)return RY.toJSON(e)}}]),e}();xQ.TransferSolutionParameters=k0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var M0=function(e){function t(e,n){var r;return tj(this,t),r=ij(this,lj(t).call(this,e,n)),r.CLASS_NAME="SuperMap.TransferSolutionService",r}return uj(t,e),rj(t,[{key:"destroy",value:function(){aj(lj(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof k0){var t,n,r=this;n=r.url.substr(r.url.length-1,1),r.url+="/"===n?"":"/",r.url+="solutions.json?",t={points:RY.toJSON(e.points),walkingRatio:e.walkingRatio,transferTactic:e.transferTactic,solutionCount:e.solutionCount,transferPreference:e.transferPreference},e.evadeLines&&(t.evadeLines=RY.toJSON(e.evadeLines)),e.evadeStops&&(t.evadeStops=RY.toJSON(e.evadeStops)),e.priorLines&&(t.priorLines=RY.toJSON(e.priorLines)),e.priorStops&&(t.priorStops=RY.toJSON(e.priorStops)),e.travelTime&&(t.travelTime=e.travelTime),r.request({method:"GET",params:t,scope:r,success:r.serviceProcessCompleted,failure:r.serviceProcessFailed})}}}]),t}(FX);xQ.TransferSolutionService=M0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var A0=function(){function e(t){fj(this,e),t&&(this.edgeId="",this.fromNodeId="",this.toNodeId="",this.weightField="",this.edgeWeight="",RY.extend(this,t),this.CLASS_NAME="SuperMap.UpdateEdgeWeightParameters")}return pj(e,[{key:"destroy",value:function(){this.edgeId=null,this.fromNodeId=null,this.toNodeId=null,this.weightField=null,this.edgeWeight=null}}]),e}();xQ.UpdateEdgeWeightParameters=A0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var L0=function(e){function t(e,n){var r;return dj(this,t),r=bj(this,wj(t).call(this,e,n)),r.CLASS_NAME="SuperMap.UpdateEdgeWeightService",r}return Oj(t,e),vj(t,[{key:"destroy",value:function(){Sj(wj(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof A0){var t=this,n=t.url.substr(t.url.length-1,1),r=t.parse(e);"/"===n&&t.url.splice(t.url.length-1,1),t.url=t.url+r+".json?";var i=e.edgeWeight?e.edgeWeight:null;t.request({method:"PUT",scope:t,data:i,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}},{key:"parse",value:function(e){if(e){var t="";for(var n in e)if(""!==e[n]&&"edgeWeight"!==e[n])switch(n){case"edgeId":t+="/edgeweight/"+e[n];break;case"fromNodeId":t+="/fromnode/"+e[n];break;case"toNodeId":t+="/tonode/"+e[n];break;case"weightField":t+="/weightfield/"+e[n]}return t}}}]),t}(cK);xQ.UpdateEdgeWeightService=L0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var j0=function(){function e(t){Cj(this,e),t&&(this.nodeId="",this.fromEdgeId="",this.toEdgeId="",this.weightField="",this.turnNodeWeight="",RY.extend(this,t),this.CLASS_NAME="SuperMap.UpdateTurnNodeWeightParameters")}return Pj(e,[{key:"destroy",value:function(){this.nodeId=null,this.fromEdgeId=null,this.toEdgeId=null,this.weightField=null,this.turnNodeWeight=null}}]),e}();xQ.UpdateTurnNodeWeightParameters=j0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var R0=function(e){function t(e,n){var r;return kj(this,t),r=Lj(this,Ij(t).call(this,e,n)),r.CLASS_NAME="SuperMap.UpdateTurnNodeWeightService",r}return Dj(t,e),Aj(t,[{key:"destroy",value:function(){Rj(Ij(t.prototype),"destroy",this).call(this)}},{key:"processAsync",value:function(e){if(e instanceof j0){var t=this,n=t.url.substr(t.url.length-1,1),r=t.parse(e);"/"===n&&t.url.splice(t.url.length-1,1),t.url=t.url+r+".json?";var i=e.turnNodeWeight?e.turnNodeWeight:null;t.request({method:"PUT",scope:t,data:i,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}},{key:"parse",value:function(e){if(e){var t="";for(var n in e)if(""!==e[n]&&"turnNodeWeight"!==e[n])switch(n){case"nodeId":t+="/turnnodeweight/"+e[n];break;case"fromEdgeId":t+="/fromedge/"+e[n];break;case"toEdgeId":t+="/toedge/"+e[n];break;case"weightField":t+="/weightfield/"+e[n]}return t}}}]),t}(cK);xQ.UpdateTurnNodeWeightService=R0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var N0=function(){function e(t){Bj(this,e),t=t||{},this.datasetName="",this.datasetVectorClip="",this.geometryClip="",this.mode=gY.CLIP,this.output=null,this.mappingParameters=null,RY.extend(this,t),this.CLASS_NAME="SuperMap.VectorClipJobsParameter"}return Gj(e,[{key:"destroy",value:function(){this.datasetName=null,this.datasetVectorClip=null,this.geometryClip=null,this.mode=null,this.output instanceof iK&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof oK&&(this.mappingParameters.destroy(),this.mappingParameters=null)}}],[{key:"toObject",value:function(e,t){for(var n in e)"datasetName"!==n?"output"!==n?(t.analyst=t.analyst||{},t.analyst[n]=e[n],"mappingParameters"===n&&(t.analyst[n]=t.analyst[n]||{},t.analyst.mappingParameters=e[n])):(t.output=t.output||{},t.output=e[n]):(t.input=t.input||{},t.input[n]=e[n])}}]),e}();xQ.VectorClipJobsParameter=N0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var I0=function(e){function t(e,n){var r;return Vj(this,t),r=qj(this,Xj(t).call(this,e,n)),r.url+="/spatialanalyst/vectorclip",r.CLASS_NAME="SuperMap.VectorClipJobsService",r}return Kj(t,e),Jj(t,[{key:"destroy",value:function(){Qj(Xj(t.prototype),"destroy",this).call(this)}},{key:"getVectorClipJobs",value:function(){Qj(Xj(t.prototype),"getJobs",this).call(this,this.url)}},{key:"getVectorClipJob",value:function(e){Qj(Xj(t.prototype),"getJobs",this).call(this,this.url+"/"+e)}},{key:"addVectorClipJob",value:function(e,n){Qj(Xj(t.prototype),"addJob",this).call(this,this.url,e,N0,n)}}]),t}(sK);xQ.VectorClipJobsService=I0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var D0=function(){function e(t){$j(this,e),t=t||{},this.type=null,RY.extend(this,t),this.CLASS_NAME="SuperMap.RasterFunctionParameter"}return tR(e,[{key:"destroy",value:function(){this.type=null}}]),e}();xQ.RasterFunctionParameter=D0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var F0=function(e){function t(e){var n;return rR(this,t),n=aR(this,cR(t).call(this,e)),n.redIndex=0,n.nirIndex=1,n.colorMap="0:ffffe5ff;0.1:f7fcb9ff;0.2:d9f0a3ff;0.3:addd8eff;0.4:78c679ff;0.5:41ab5dff;0.6:238443ff;0.7:006837ff;1:004529ff",n.type=EY.NDVI,RY.extend(sR(n),e),n.CLASS_NAME="SuperMap.NDVIParameter",n}return fR(t,e),oR(t,[{key:"destroy",value:function(){lR(cR(t.prototype),"destroy",this).call(this),this.redIndex=null,this.nirIndex=null,this.colorMap=null}},{key:"toJSON",value:function(){return{redIndex:this.redIndex,nirIndex:this.nirIndex,colorMap:this.colorMap,type:this.type}}}]),t}(D0);xQ.NDVIParameter=F0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var B0=function(e){function t(e){var n;return yR(this,t),n=vR(this,_R(t).call(this,e)),n.altitude=45,n.azimuth=315,n.zFactor=1,n.type=EY.HILLSHADE,RY.extend(bR(n),e),n.CLASS_NAME="SuperMap.HillshadeParameter",n}return wR(t,e),mR(t,[{key:"destroy",value:function(){gR(_R(t.prototype),"destroy",this).call(this),this.altitude=null,this.azimuth=null,this.zFactor=null}},{key:"toJSON",value:function(){return{altitude:this.altitude,azimuth:this.azimuth,zFactor:this.zFactor,type:this.type}}}]),t}(D0);xQ.HillshadeParameter=B0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var U0=xQ.ServiceStatus={DOES_NOT_INVOLVE:"DOES_NOT_INVOLVE",PUBLISH_FAILED:"PUBLISH_FAILED",PUBLISHED:"PUBLISHED",PUBLISHING:"PUBLISHING",UNPUBLISHED:"UNPUBLISHED",UNPUBLISHED_FAILED:"UNPUBLISHED_FAILED"},G0=xQ.DataItemType={AUDIO:"AUDIO",COLOR:"COLOR",COLORSCHEME:"COLORSCHEME",CSV:"CSV",EXCEL:"EXCEL",FILLSYMBOL:"FILLSYMBOL",IMAGE:"IMAGE",LAYERTEMPLATE:"LAYERTEMPLATE",LAYOUTTEMPLATE:"LAYOUTTEMPLATE",LINESYMBOL:"LINESYMBOL",MAPTEMPLATE:"MAPTEMPLATE",MARKERSYMBOL:"MARKERSYMBOL",MBTILES:"MBTILES",PHOTOS:"PHOTOS",SHP:"SHP",SMTILES:"SMTILES",SVTILES:"SVTILES",THEMETEMPLATE:"THEMETEMPLATE",TPK:"TPK",UDB:"UDB",UGCV5:"UGCV5",UNKNOWN:"UNKNOWN",VIDEO:"VIDEO",WORKENVIRONMENT:"WORKENVIRONMENT",WORKSPACE:"WORKSPACE"},z0=xQ.DataItemOrderBy={FILENAME:"FILENAME",ID:"ID",LASTMODIFIEDTIME:"LASTMODIFIEDTIME",NICKNAME:"NICKNAME",SERVICESTATUS:"SERVICESTATUS",SIZE:"SIZE",STATUS:"STATUS",TYPE:"TYPE",UPDATETIME:"UPDATETIME",USERNAME:"USERNAME"},V0=xQ.FilterField={LINKPAGE:"LINKPAGE",MAPTITLE:"MAPTITLE",NICKNAME:"NICKNAME",RESTITLE:"RESTITLE",USERNAME:"USERNAME"},H0=function(){function e(t){xR(this,e),t=t||{},RY.extend(this,t),this.serverType=TQ.ONLINE,this.CLASS_NAME="SuperMap.OnlineServiceBase"}return TR(e,[{key:"request",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t=this.createCredentialUrl(t),r.crossOrigin=this.options.crossOrigin,r.headers=this.options.headers,bX.commit(e,t,n,r).then(function(e){return e.json()})}},{key:"createCredentialUrl",value:function(e){var t=e,n=this.getCredential();if(n){var r="key="+n,i=t.substring(t.length-1,t.length);t.indexOf("?")>-1&&"?"===i?t+=r:t.indexOf("?")>-1&&"?"!==i?t+="&"+r:t+="?"+r}return t}},{key:"getCredential",value:function(){}}]),e}();xQ.OnlineServiceBase=H0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var J0=function(e){function t(e,n){var r;return ER(this,t),r=AR(this,LR(t).call(this,e)),n=n||{},r.MD5=null,r.type=null,r.userName=null,r.fileName=null,r.size=null,r.serviceStatus=null,r.serviceId=null,r.id=null,r.lastModfiedTime=null,r.status=null,r.storageId=null,r.publishInfo=null,r.authorizeSetting=null,r.nickname=null,r.tags=[],r.description=null,r.dataItemServices=null,r.coordType=null,r.dataCheckResult=null,r.dataMetaInfo=null,r.thumbnail=null,RY.extend(jR(r),n),r.id&&(r.serviceUrl=e+"/"+r.id),r.CLASS_NAME="SuperMap.OnlineData",r}return RR(t,e),MR(t,[{key:"load",value:function(){if(this.serviceUrl){var e=this;return e.request("GET",this.serviceUrl).then(function(t){RY.extend(e,t)})}}},{key:"getPublishedServices",value:function(){return this.dataItemServices}},{key:"getAuthorizeSetting",value:function(){return this.authorizeSetting}}]),t}(H0);xQ.OnlineData=J0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var q0=function(){function e(){IR(this,e),this.rootUrl="http://www.supermapol.com",this.webUrl=this.rootUrl+"/web";var t=this.webUrl+"/mycontent";this.mDatasUrl=t+"/datas",this.CLASS_NAME="SuperMap.Online"}return FR(e,[{key:"load",value:function(){return bX.get(this.rootUrl).then(function(e){return e})}},{key:"login",value:function(){gX.loginOnline(this.rootUrl,!0)}},{key:"queryDatas",value:function(e){var t=this,n=t.mDatasUrl;return e&&(e=e.toJSON()),bX.get(n,e).then(function(e){if(e&&e.content&&!(e.content.length<1)){for(var n=[],r=e.content,i=r.length,o=0;o<i;o++){var a=r[o],s=new J0(t.mDatasUrl,a);n.push(s)}return n}})}}]),e}();xQ.Online=q0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var W0=function(){function e(t){BR(this,e),t=t||{},this.userNames=null,this.types=null,this.fileName=null,this.serviceStatuses=null,this.serviceId=null,this.ids=null,this.keywords=null,this.orderBy=null,this.tags=null,this.filterFields=null,RY.extend(this,t),this.CLASS_NAME="SuperMap.OnlineQueryDatasParameter"}return GR(e,[{key:"toJSON",value:function(){var e=this,t={types:e.types,fileName:e.fileName,serviceStatuses:e.serviceStatuses,serviceId:e.serviceId,ids:e.ids,keywords:e.keywords,orderBy:e.orderBy,tags:e.tags,filterFields:e.filterFields};for(var n in t)null==t[n]&&delete t[n];return t}}]),e}();xQ.OnlineQueryDatasParameter=W0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Q0=function(){function e(t){zR(this,e),this.name=null,this.serviceIds=null,this.clientType=vY.SERVER,this.limitation=null,RY.extend(this,t),this.CLASS_NAME="SuperMap.KeyServiceParameter"}return HR(e,[{key:"toJSON",value:function(){return{name:this.name,serviceIds:this.serviceIds,clientType:this.clientType,limitation:this.limitation}}}]),e}();xQ.KeyServiceParameter=Q0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Y0=function e(t,n){JR(this,e),this.type=t,this.server=null,this.tokenServiceUrl=null,this.keyServiceUrl=null,RY.extend(this,n),this.CLASS_NAME="SuperMap.ServerInfo",this.type=this.type||TQ.ISERVER,this.server||console.error("server url require is not  undefined");var r="/services/security/tokens.json";this.type===TQ.ISERVER&&this.server.indexOf("iserver")<0&&(r="/iserver"+r),this.tokenServiceUrl||(this.tokenServiceUrl=this.server+r),this.keyServiceUrl||(this.type===TQ.IPORTAL?this.keyServiceUrl=this.server+"/web/mycontent/keys/register.json":this.type===TQ.ONLINE&&(this.keyServiceUrl=this.server+"/web/mycontent/keys.json"))};xQ.ServerInfo=Y0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var X0=function(){function e(t){qR(this,e),this.userName=null,this.password=null,this.clientType=vY.NONE,this.ip=null,this.referer=null,this.expiration=60,RY.extend(this,t),this.CLASS_NAME="SuperMap.TokenServiceParameter"}return QR(e,[{key:"toJSON",value:function(){return{userName:this.userName,password:this.password,clientType:this.clientType,ip:this.ip,referer:this.referer,expiration:this.expiration}}}]),e}();xQ.TokenServiceParameter=X0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var K0=n(12),Z0=n.n(K0),$0=function(){function e(t,n){YR(this,e),n=n||{},this.url=t,this.client=new Z0.a.Client({host:this.url}),this.change=null,this.openGeoFence=!1,this.outOfGeoFence=null,this.geoFence=null,this.EVENT_TYPES=["change","error","outOfGeoFence"],this.events=new KY(this,null,this.EVENT_TYPES),this.eventListeners=null,RY.extend(this,n),this.eventListeners instanceof Object&&this.events.on(this.eventListeners)}return KR(e,[{key:"setGeoFence",value:function(e){this.geoFence=e}},{key:"bulk",value:function(e,t){return this.client.bulk(e,t)}},{key:"clearScroll",value:function(e,t){return this.client.clearScroll(e,t)}},{key:"count",value:function(e,t){return this.client.count(e,t)}},{key:"create",value:function(e,t){return this.client.create(e,t)}},{key:"delete",value:function(e,t){return this.client.delete(e,t)}},{key:"deleteByQuery",value:function(e,t){return this.client.deleteByQuery(e,t)}},{key:"deleteScript",value:function(e,t){return this.client.deleteScript(e,t)}},{key:"deleteTemplate",value:function(e,t){return this.client.deleteTemplate(e,t)}},{key:"exists",value:function(e,t){return this.client.exists(e,t)}},{key:"existsSource",value:function(e,t){return this.client.existsSource(e,t)}},{key:"explain",value:function(e,t){return this.client.explain(e,t)}},{key:"fieldCaps",value:function(e,t){return this.client.fieldCaps(e,t)}},{key:"get",value:function(e,t){return this.client.get(e,t)}},{key:"getScript",value:function(e,t){return this.client.getScript(e,t)}},{key:"getSource",value:function(e,t){return this.client.getSource(e,t)}},{key:"getTemplate",value:function(e,t){return this.client.getTemplate(e,t)}},{key:"index",value:function(e,t){return this.client.index(e,t)}},{key:"info",value:function(e,t){return this.client.info(e,t)}},{key:"mget",value:function(e,t){return this.client.mget(e,t)}},{key:"msearch",value:function(e,t){var n=this;return n.client.msearch(e).then(function(e){return n._update(e.responses,t),e},function(e){return t(e),n.events.triggerEvent("error",{error:e}),e})}},{key:"msearchTemplate",value:function(e,t){return this.client.msearchTemplate(e,t)}},{key:"mtermvectors",value:function(e,t){return this.client.mtermvectors(e,t)}},{key:"ping",value:function(e,t){return this.client.ping(e,t)}},{key:"putScript",value:function(e,t){return this.client.putScript(e,t)}},{key:"putTemplate",value:function(e,t){return this.client.putTemplate(e,t)}},{key:"reindex",value:function(e,t){return this.client.reindex(e,t)}},{key:"reindexRessrottle",value:function(e,t){return this.client.reindexRessrottle(e,t)}},{key:"renderSearchTemplate",value:function(e,t){return this.client.renderSearchTemplate(e,t)}},{key:"scroll",value:function(e,t){return this.client.scroll(e,t)}},{key:"search",value:function(e,t){var n=this;return n.client.search(e).then(function(e){return n._update(e.responses,t),e},function(e){return t(e),n.events.triggerEvent("error",{error:e}),e})}},{key:"searchShards",value:function(e,t){return this.client.searchShards(e,t)}},{key:"searchTemplate",value:function(e,t){return this.client.searchTemplate(e,t)}},{key:"suggest",value:function(e,t){return this.client.suggest(e,t)}},{key:"termvectors",value:function(e,t){return this.client.termvectors(e,t)}},{key:"update",value:function(e,t){return this.client.update(e,t)}},{key:"updateByQuery",value:function(e,t){return this.client.updateByQuery(e,t)}},{key:"_update",value:function(e,t){var n=this;e&&(n.data=e,n.openGeoFence&&n.geoFence&&n._validateDatas(e),n.events.triggerEvent("change",{data:n.data}),n.change?n.change&&n.change(e):t&&t(void 0,{responses:e}))}},{key:"_validateDatas",value:function(e){if(e){e instanceof Array||(e=[e]);var t,n=e.length;for(t=0;t<n;t++)this._validateData(e[t])}}},{key:"_validateData",value:function(e){var t=this;e.hits.hits.map(function(n){var r=n._source,i=t._getMeterPerMapUnit(t.geoFence.unit),o=t.geoFence.center[0]*i,a=t.geoFence.center[1]*i,s=r.x*i,l=r.y*i;return t._distance(s,l,o,a)>t.geoFence.radius&&(t.outOfGeoFence&&t.outOfGeoFence(e),t.events.triggerEvent("outOfGeoFence",{data:e})),n})}},{key:"_distance",value:function(e,t,n,r){return Math.sqrt((e-n)*(e-n)+(t-r)*(t-r))}},{key:"_getMeterPerMapUnit",value:function(e){var t;return"meter"===e?t=1:"degree"===e&&(t=2*Math.PI*6378137/360),t}}]),e}();xQ.ElasticSearch=$0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var e1=function(){function e(){$R(this,e),this.BUILTIN_OBJECT={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},this._ctx=null,this._canvas=null,this._pixelCtx=null,this._width=null,this._height=null,this._offsetX=0,this._offsetY=0,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Util"}return tN(e,[{key:"clone",value:function(e){var t=this.BUILTIN_OBJECT;if("object"==ZR(e)&&null!==e){var n=e;if(e instanceof Array){n=[];for(var r=0,i=e.length;r<i;r++)n[r]=this.clone(e[r])}else if(!t[Object.prototype.toString.call(e)]){n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=this.clone(e[o]))}return n}return e}},{key:"mergeItem",value:function(e,t,n,r){var i=this.BUILTIN_OBJECT;t.hasOwnProperty(n)&&("object"!=ZR(e[n])||i[Object.prototype.toString.call(e[n])]?!r&&n in e||(e[n]=t[n]):this.merge(e[n],t[n],r))}},{key:"merge",value:function(e,t,n){for(var r in t)this.mergeItem(e,t,r,n);return e}},{key:"getContext",value:function(){return this._ctx||(this._ctx=document.createElement("canvas").getContext("2d")),this._ctx}},{key:"getPixelContext",value:function(){return this._pixelCtx||(this._canvas=document.createElement("canvas"),this._width=this._canvas.width,this._height=this._canvas.height,this._pixelCtx=this._canvas.getContext("2d")),this._pixelCtx}},{key:"adjustCanvasSize",value:function(e,t){var n,r=this._canvas,i=this._pixelCtx,o=this._width,a=this._height,s=this._offsetX,l=this._offsetY;e+s>o&&(o=e+s+100,r.width=o,n=!0),t+l>a&&(a=t+l+100,r.height=a,n=!0),e<-s&&(s=100*Math.ceil(-e/100),o+=s,r.width=o,n=!0),t<-l&&(l=100*Math.ceil(-t/100),a+=l,r.height=a,n=!0),n&&i.translate(s,l)}},{key:"getPixelOffset",value:function(){return{x:this._offsetX,y:this._offsetY}}},{key:"indexOf",value:function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}},{key:"inherits",value:function(e,t){function n(){}var r=e.prototype;n.prototype=t.prototype,e.prototype=new n;for(var i in r)e.prototype[i]=r[i];e.constructor=e}}]),e}(),t1=function(){function e(){nN(this,e),this.util=new e1,this._ctx=null,this.palette=["#ff9277"," #dddd00"," #ffc877"," #bbe3ff"," #d5ffbb","#bbbbff"," #ddb000"," #b0dd00"," #e2bbff"," #ffbbe3","#ff7777"," #ff9900"," #83dd00"," #77e3ff"," #778fff","#c877ff"," #ff77ab"," #ff6600"," #aa8800"," #77c7ff","#ad77ff"," #ff77ff"," #dd0083"," #777700"," #00aa00","#0088aa"," #8400dd"," #aa0088"," #dd0000"," #772e00"],this._palette=this.palette,this.highlightColor="rgba(0,0,255,1)",this._highlightColor=this.highlightColor,this.colorRegExp=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,this._nameColors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#f0f",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"},this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Color"}return iN(e,[{key:"customPalette",value:function(e){this.palette=e}},{key:"resetPalette",value:function(){this.palette=this._palette}},{key:"getColor",value:function(e,t){return e|=0,t=t||this.palette,t[e%t.length]}},{key:"customHighlight",value:function(e){this.highlightColor=e}},{key:"resetHighlight",value:function(){this.highlightColor=this._highlightColor}},{key:"getHighlightColor",value:function(){return this.highlightColor}},{key:"getRadialGradient",value:function(e,t,n,r,i,o,a){var s=this.util;this._ctx||(this._ctx=s.getContext());for(var l=this._ctx.createRadialGradient(e,t,n,r,i,o),u=0,c=a.length;u<c;u++)l.addColorStop(a[u][0],a[u][1]);return l.__nonRecursion=!0,l}},{key:"getLinearGradient",value:function(e,t,n,r,i){var o=this.util;this._ctx||(this._ctx=o.getContext());for(var a=this._ctx.createLinearGradient(e,t,n,r),s=0,l=i.length;s<l;s++)a.addColorStop(i[s][0],i[s][1]);return a.__nonRecursion=!0,a}},{key:"getStepColors",value:function(e,t,n){e=this.toRGBA(e),t=this.toRGBA(t),e=this.getData(e),t=this.getData(t);for(var r=[],i=(t[0]-e[0])/n,o=(t[1]-e[1])/n,a=(t[2]-e[2])/n,s=(t[3]-e[3])/n,l=0,u=e[0],c=e[1],f=e[2],h=e[3];l<n;l++)r[l]=this.toColor([this.adjust(Math.floor(u),[0,255]),this.adjust(Math.floor(c),[0,255]),this.adjust(Math.floor(f),[0,255]),h.toFixed(4)-0],"rgba"),u+=i,c+=o,f+=a,h+=s;return u=t[0],c=t[1],f=t[2],h=t[3],r[l]=this.toColor([u,c,f,h],"rgba"),r}},{key:"getGradientColors",value:function(e,t){var n=[],r=e.length;if(void 0===t&&(t=20),1===r)n=this.getStepColors(e[0],e[0],t);else if(r>1)for(var i=0,o=r-1;i<o;i++){var a=this.getStepColors(e[i],e[i+1],t);i<o-1&&a.pop(),n=n.concat(a)}return n}},{key:"toColor",value:function(e,t){if(t=t||"rgb",e&&(3===e.length||4===e.length)){if(e=this.map(e,function(e){return e>1?Math.ceil(e):e}),t.indexOf("hex")>-1)return"#"+((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1);if(t.indexOf("hs")>-1){var n=this.map(e.slice(1,3),function(e){return e+"%"});e[1]=n[0],e[2]=n[1]}return t.indexOf("a")>-1?(3===e.length&&e.push(1),e[3]=this.adjust(e[3],[0,1]),t+"("+e.slice(0,4).join(",")+")"):t+"("+e.slice(0,3).join(",")+")"}}},{key:"toArray",value:function(e){e=this.trim(e),e.indexOf("rgba")<0&&(e=this.toRGBA(e));var t=[],n=0;return e.replace(/[\d.]+/g,function(e){n<3?e|=0:e=+e,t[n++]=e}),t}},{key:"convert",value:function(e,t){if(!this.isCalculableColor(e))return e;var n=this.getData(e),r=n[3];return void 0===r&&(r=1),e.indexOf("hsb")>-1?n=this._HSV_2_RGB(n):e.indexOf("hsl")>-1&&(n=this._HSL_2_RGB(n)),t.indexOf("hsb")>-1||t.indexOf("hsv")>-1?n=this._RGB_2_HSB(n):t.indexOf("hsl")>-1&&(n=this._RGB_2_HSL(n)),n[3]=r,this.toColor(n,t)}},{key:"toRGBA",value:function(e){return this.convert(e,"rgba")}},{key:"toRGB",value:function(e){return this.convert(e,"rgb")}},{key:"toHex",value:function(e){return this.convert(e,"hex")}},{key:"toHSVA",value:function(e){return this.convert(e,"hsva")}},{key:"toHSV",value:function(e){return this.convert(e,"hsv")}},{key:"toHSBA",value:function(e){return this.convert(e,"hsba")}},{key:"toHSB",value:function(e){return this.convert(e,"hsb")}},{key:"toHSLA",value:function(e){return this.convert(e,"hsla")}},{key:"toHSL",value:function(e){return this.convert(e,"hsl")}},{key:"toName",value:function(e){for(var t in this._nameColors)if(this.toHex(this._nameColors[t])===this.toHex(e))return t;return null}},{key:"trim",value:function(e){return String(e).replace(/\s+/g,"")}},{key:"normalize",value:function(e){if(this._nameColors[e]&&(e=this._nameColors[e]),e=this.trim(e),e=e.replace(/hsv/i,"hsb"),/^#[\da-f]{3}$/i.test(e)){e=parseInt(e.slice(1),16);var t=(3840&e)<<8,n=(240&e)<<4,r=15&e;e="#"+((1<<24)+(t<<4)+t+(n<<4)+n+(r<<4)+r).toString(16).slice(1)}return e}},{key:"lift",value:function(e,t){if(!this.isCalculableColor(e))return e;var n=t>0?1:-1;void 0===t&&(t=0),t=Math.abs(t)>1?1:Math.abs(t),e=this.toRGB(e);for(var r=this.getData(e),i=0;i<3;i++)r[i]=1===n?r[i]*(1-t)|0:(255-r[i])*t+r[i]|0;return"rgb("+r.join(",")+")"}},{key:"reverse",value:function(e){if(!this.isCalculableColor(e))return e;var t=this.getData(this.toRGBA(e));return t=this.map(t,function(e){return 255-e}),this.toColor(t,"rgb")}},{key:"mix",value:function(e,t,n){if(!this.isCalculableColor(e)||!this.isCalculableColor(t))return e;void 0===n&&(n=.5),n=1-this.adjust(n,[0,1]);for(var r=2*n-1,i=this.getData(this.toRGBA(e)),o=this.getData(this.toRGBA(t)),a=i[3]-o[3],s=((r*a==-1?r:(r+a)/(1+r*a))+1)/2,l=1-s,u=[],c=0;c<3;c++)u[c]=i[c]*s+o[c]*l;var f=i[3]*n+o[3]*(1-n);return f=Math.max(0,Math.min(1,f)),1===i[3]&&1===o[3]?this.toColor(u,"rgb"):(u[3]=f,this.toColor(u,"rgba"))}},{key:"random",value:function(){return"#"+Math.random().toString(16).slice(2,8)}},{key:"getData",value:function(t){t=this.normalize(t);var n=t.match(this.colorRegExp);if(null===n)throw new Error("The color format error");var r,i,o,a=[];if(n[2])r=n[2].replace("#","").split(""),o=[r[0]+r[1],r[2]+r[3],r[4]+r[5]],a=this.map(o,function(t){return e.prototype.adjust.call(this,parseInt(t,16),[0,255])});else if(n[4]){var s=n[4].split(",");i=s[3],o=s.slice(0,3),a=this.map(o,function(t){return t=Math.floor(t.indexOf("%")>0?2.55*parseInt(t,0):t),e.prototype.adjust.call(this,t,[0,255])}),void 0!==i&&a.push(this.adjust(parseFloat(i),[0,1]))}else if(n[5]||n[6]){var l=(n[5]||n[6]).split(","),u=parseInt(l[0],0)/360,c=l[1],f=l[2];i=l[3],a=this.map([c,f],function(t){return e.prototype.adjust.call(this,parseFloat(t)/100,[0,1])}),a.unshift(u),void 0!==i&&a.push(this.adjust(parseFloat(i),[0,1]))}return a}},{key:"alpha",value:function(e,t){if(!this.isCalculableColor(e))return e;null===t&&(t=1);var n=this.getData(this.toRGBA(e));return n[3]=this.adjust(Number(t).toFixed(4),[0,1]),this.toColor(n,"rgba")}},{key:"map",value:function(e,t){if("function"!=typeof t)throw new TypeError;for(var n=e?e.length:0,r=0;r<n;r++)e[r]=t(e[r]);return e}},{key:"adjust",value:function(e,t){return e<=t[0]?e=t[0]:e>=t[1]&&(e=t[1]),e}},{key:"isCalculableColor",value:function(e){return e instanceof Array||"string"==typeof e}},{key:"_HSV_2_RGB",value:function(e){var t,n,r,i=e[0],o=e[1],a=e[2];if(0===o)t=255*a,n=255*a,r=255*a;else{var s=6*i;6===s&&(s=0);var l=0|s,u=a*(1-o),c=a*(1-o*(s-l)),f=a*(1-o*(1-(s-l))),h=0,p=0,y=0;0===l?(h=a,p=f,y=u):1===l?(h=c,p=a,y=u):2===l?(h=u,p=a,y=f):3===l?(h=u,p=c,y=a):4===l?(h=f,p=u,y=a):(h=a,p=u,y=c),t=255*h,n=255*p,r=255*y}return[t,n,r]}},{key:"_HSL_2_RGB",value:function(e){var t,n,r,i=e[0],o=e[1],a=e[2];if(0===o)t=255*a,n=255*a,r=255*a;else{var s;s=a<.5?a*(1+o):a+o-o*a;var l=2*a-s;t=255*this._HUE_2_RGB(l,s,i+1/3),n=255*this._HUE_2_RGB(l,s,i),r=255*this._HUE_2_RGB(l,s,i-1/3)}return[t,n,r]}},{key:"_HUE_2_RGB",value:function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),6*n<1?e+6*(t-e)*n:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}},{key:"_RGB_2_HSB",value:function(e){var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),l=s-a,u=s;if(0===l)t=0,n=0;else{n=l/s;var c=((s-r)/6+l/2)/l,f=((s-i)/6+l/2)/l,h=((s-o)/6+l/2)/l;r===s?t=h-f:i===s?t=1/3+c-h:o===s&&(t=2/3+f-c),t<0&&(t+=1),t>1&&(t-=1)}return t*=360,n*=100,u*=100,[t,n,u]}},{key:"_RGB_2_HSL",value:function(e){var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),l=s-a,u=(s+a)/2;if(0===l)t=0,n=0;else{n=u<.5?l/(s+a):l/(2-s-a);var c=((s-r)/6+l/2)/l,f=((s-i)/6+l/2)/l,h=((s-o)/6+l/2)/l;r===s?t=h-f:i===s?t=1/3+c-h:o===s&&(t=2/3+f-c),t<0&&(t+=1),t>1&&(t-=1)}return t*=360,n*=100,u*=100,[t,n,u]}}]),e}(),n1=new t1,r1=function(){function e(){oN(this,e)}return sN(e,null,[{key:"createCanvas",value:function(e,t){var n=document.createElement("canvas");return n.height=e,n.width=t,n.getContext("2d")}},{key:"getLinearGradient",value:function(e,t,n,r,i){this._ctx||(this._ctx=this.getContext());for(var o=this._ctx.createLinearGradient(e,t,n,r),a=i.length,s=1/(a-1),l=0,u=0;u<a;u++)o.addColorStop(l,i[u]),l+=s;return o.__nonRecursion=!0,o}},{key:"getContext",value:function(){return this._ctx||(this._ctx=document.createElement("canvas").getContext("2d")),this._ctx}},{key:"getStepColors",value:function(e,t,n){e=n1.toRGBA(e),t=n1.toRGBA(t),e=n1.getData(e),t=n1.getData(t);for(var r=[],i=(t[0]-e[0])/n,o=(t[1]-e[1])/n,a=(t[2]-e[2])/n,s=(t[3]-e[3])/n,l=0,u=e[0],c=e[1],f=e[2],h=e[3];l<n;l++)r[l]=n1.toColor([n1.adjust(Math.floor(u),[0,255]),n1.adjust(Math.floor(c),[0,255]),n1.adjust(Math.floor(f),[0,255]),h.toFixed(4)-0],"hex"),u+=i,c+=o,f+=a,h+=s;return u=t[0],c=t[1],f=t[2],h=t[3],r[l]=n1.toColor([u,c,f,h],"hex"),r}},{key:"getGradientColors",value:function(e,t,n){var r,i,o,a=[],s=e.length;if(void 0!==t){if(s>=t)if("RANGE"===n)for(i=0;i<t;i++)a.push(e[i]);else for(i=0;i<t;i++){var l=Math.floor(i/2);if(i%2==0)a.push(e[l]);else{var u=e.length-1-l;a.push(e[u])}}else{for(r=Math.ceil(t/(s-1)),i=0,o=s-1;i<o;i++){var c=this.getStepColors(e[i],e[i+1],r);i<o-1&&c.pop(),a=a.concat(c)}for(var f=a.length-t,h=0;h<f;h++)a.splice(2,1)}return a}}}]),e}();xQ.ColorsPickerUtil=r1;var i1=function(){function e(){lN(this,e)}return cN(e,null,[{key:"newInstance",value:function(){return this.geostatsInstance||(this.geostatsInstance=new window.geostats),this.geostatsInstance}},{key:"getInstance",value:function(e){var t=this.newInstance();return t.setSerie(e),t}},{key:"getArrayStatistic",value:function(e,t){return e.length?"Sum"===t||"æ±å"===t?this.getSum(e):"Maximum"===t||"æå¤§å¼"===t?this.getMax(e):"Minimum"===t||"æå°å¼"===t?this.getMin(e):"Average"===t||"å¹³åå¼"===t?this.getMean(e):"Median"===t||"ä¸­ä½æ°"===t?this.getMedian(e):"times"===t||"è®¡æ°"===t?this.getTimes(e):void 0:0}},{key:"getArraySegments",value:function(e,t,n){if("offset"===t)return this.getEqInterval(e,n);if("jenks"===t)return this.getJenks(e,n);if("square"===t){return this.getMin(e)>=0&&this.getSqrtInterval(e,n)}if("logarithm"===t){return this.getMin(e)>0&&this.getGeometricProgression(e,n)}}},{key:"getSum",value:function(e){return this.getInstance(e).sum()}},{key:"getMax",value:function(e){return this.getInstance(e).max()}},{key:"getMin",value:function(e){return this.getInstance(e).min()}},{key:"getMean",value:function(e){return this.getInstance(e).mean()}},{key:"getMedian",value:function(e){return this.getInstance(e).median()}},{key:"getTimes",value:function(e){return e.length}},{key:"getEqInterval",value:function(e,t){return this.getInstance(e).getClassEqInterval(t)}},{key:"getJenks",value:function(e,t){return this.getInstance(e).getClassJenks(t)}},{key:"getSqrtInterval",value:function(e,t){return e=e.map(function(e){return Math.sqrt(e)}),this.getInstance(e).getClassEqInterval(t).map(function(e){return e*e})}},{key:"getGeometricProgression",value:function(e,t){return this.getInstance(e).getClassGeometricProgression(t)}}]),e}();xQ.ArrayStatistic=i1;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var o1=n(13),a1=n.n(o1),s1=function(){function e(t){hN(this,e),this.env=null,this.parser=null,this.ruleSet=null,this.cartoStr="",this.shaders=null,"string"==typeof t&&(this.cartoStr=t,this.env={frames:[],errors:[],error:function(e){this.errors.push(e)}},this.parser=this.getParser(this.env),this.parse(t),this.shaders=this.toShaders())}return yN(e,[{key:"getParser",value:function(e){function t(){c=p[u],f=l,y=l}function n(){p[u]=c,l=f,y=l}function r(){l>y&&(p[u]=p[u].slice(l-y),y=l)}function i(e){var t,n,i,o;if(e instanceof Function)return e.call(d.parsers);if("string"==typeof e)t=s.charAt(l)===e?e:null,n=1,r();else{if(r(),!(t=e.exec(p[u])))return null;n=t[0].length}if(t){var a=l+=n;for(o=l+p[u].length-n;l<o&&(32===(i=s.charCodeAt(l))||10===i||9===i);)l++;return p[u]=p[u].slice(n+(l-a)),y=l,0===p[u].length&&u<p.length-1&&u++,"string"==typeof t?t:1===t.length?t[0]:t}}function o(e){return"string"==typeof e?s.charAt(l)===e:!!e.test(p[u])}function a(t){var n,r={index:h,filename:e.filename,message:"Parse error.",line:0,column:-1};for(var i in r)0===t[i]&&(t[i]=r[i]);n=t.filename&&m.env.inputs&&m.env.inputs[t.filename]?m.env.inputs[t.filename]:s,t.line=(n.slice(0,t.index).match(/\n/g)||"").length+1;for(var o=t.index;o>=0&&"\n"!==n.charAt(o);o--)t.column++;return new Error([t.filename,t.line,t.column,t.message].join(";"))}var s,l,u,c,f,h,p,y,d,m=this;return this.env=e=e||{},this.env.filename=this.env.filename||null,this.env.inputs=this.env.inputs||{},d={parse:function(t){var n,r=null;if(l=u=y=h=0,p=[],s=t.replace(/\r\n/g,"\n"),e.filename&&(m.env.inputs[e.filename]=s),p=function(e){for(var t,n,i,o,a=0,l=/(?:@\{[\w-]+\}|[^"'`\{\}\/\(\)\\])+/g,u=/\/\*(?:[^*]|\*+[^\/*])*\*+\/|\/\/.*/g,c=/"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'|`((?:[^`]|\\.)*)`/g,f=0,h=e[0],p=0;p<s.length;)if(l.lastIndex=p,(t=l.exec(s))&&t.index===p&&(p+=t[0].length,h.push(t[0])),i=s.charAt(p),u.lastIndex=c.lastIndex=p,(t=c.exec(s))&&t.index===p)p+=t[0].length,h.push(t[0]);else if(n||"/"!==i||"/"!==(o=s.charAt(p+1))&&"*"!==o||!(t=u.exec(s))||t.index!==p){switch(i){case"{":if(!n){f++,h.push(i);break}case"}":if(!n){f--,h.push(i),e[++a]=h=[];break}case"(":if(!n){n=!0,h.push(i);break}case")":if(n){n=!1,h.push(i);break}default:h.push(i)}p++}else p+=t[0].length,h.push(t[0]);return 0!==f&&(r={index:p-1,type:"Parse",message:f>0?"missing closing `}`":"missing opening `{`"}),e.map(function(e){return e.join("")})}([[]]),r)throw a(r);var o=function(e,t){var n=e.specificity,r=t.specificity;return n[0]!=r[0]?r[0]-n[0]:n[1]!=r[1]?r[1]-n[1]:n[2]!=r[2]?r[2]-n[2]:r[3]-n[3]};return n=new xQ.CartoCSS.Tree.Ruleset([],i(this.parsers.primary)),n.root=!0,n.toList=function(){return function(e){e.error=function(t){e.errors||(e.errors=new Error("")),e.errors.message?e.errors.message+="\n"+a(t).message:e.errors.message=a(t).message},e.frames=e.frames||[];var t=this.flatten([],[],e);return t.sort(o),t}}(),n},parsers:{primary:function(){for(var e,t=[];(e=i(this.rule)||i(this.ruleset)||i(this.comment))||i(/^[\s\n]+/)||(e=i(this.invalid));)e&&t.push(e);return t},invalid:function(){var e=i(/^[^;\n]*[;\n]/);if(e)return new xQ.CartoCSS.Tree.Invalid(e,f)},comment:function(){var e;if("/"===s.charAt(l))return"/"===s.charAt(l+1)?new xQ.CartoCSS.Tree.Comment(i(/^\/\/.*/),!0):(e=i(/^\/\*(?:[^*]|\*+[^\/*])*\*+\/\n?/))?new xQ.CartoCSS.Tree.Comment(e):void 0},entities:{quoted:function(){if('"'===s.charAt(l)||"'"===s.charAt(l)){var e=i(/^"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'/);return e?new xQ.CartoCSS.Tree.Quoted(e[1]||e[2]):void 0}},field:function(){if(i("[")){var e=i(/(^[^\]]+)/);if(i("]"))return e?new xQ.CartoCSS.Tree.Field(e[1]):void 0}},comparison:function(){var e=i(/^=~|=|!=|<=|>=|<|>/);if(e)return e},keyword:function(){var e=i(/^[A-Za-z\u4e00-\u9fa5-]+[A-Za-z-0-9\u4e00-\u9fa5_]*/);if(e)return new xQ.CartoCSS.Tree.Keyword(e)},call:function(){var e,t;if(e=/^([\w\-]+|%)\(/.exec(p[u])){if("url"===(e=e[1]))return null;l+=e.length;if(i("("),t=i(this.entities.arguments),i(")"))return e?new xQ.CartoCSS.Tree.Call(e,t,l):void 0}},arguments:function(){for(var e,t=[];e=i(this.expression);){t.push(e);if(!i(","))break}return t},literal:function(){return i(this.entities.dimension)||i(this.entities.keywordcolor)||i(this.entities.hexcolor)||i(this.entities.quoted)},url:function(){var e;if("u"===s.charAt(l)&&i(/^url\(/)){e=i(this.entities.quoted)||i(this.entities.variable)||i(/^[\-\w%@$\/.&=:;#+?~]+/)||"";return i(")")?new xQ.CartoCSS.Tree.URL(void 0!==e.value||e instanceof xQ.CartoCSS.Tree.Variable?e:new xQ.CartoCSS.Tree.Quoted(e)):new xQ.CartoCSS.Tree.Invalid(e,f,"Missing closing ) in URL.")}},variable:function(){var t,n=l;if("@"===s.charAt(l)&&(t=i(/^@[\w-]+/)))return new xQ.CartoCSS.Tree.Variable(t,n,e.filename)},hexcolor:function(){var e;if("#"===s.charAt(l)&&(e=i(/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})/)))return new xQ.CartoCSS.Tree.Color(e[1])},keywordcolor:function(){var e=p[u].match(/^[a-z]+/);if(e&&e[0]in xQ.CartoCSS.Tree.Reference.data.colors)return new xQ.CartoCSS.Tree.Color(xQ.CartoCSS.Tree.Reference.data.colors[i(/^[a-z]+/)])},dimension:function(){var e=s.charCodeAt(l);if(!(e>57||e<45||47===e)){var t=i(/^(-?\d*\.?\d+(?:[eE][-+]?\d+)?)(\%|\w+)?/);return t?new xQ.CartoCSS.Tree.Dimension(t[1],t[2],f):void 0}}},variable:function(){var e;if("@"===s.charAt(l)&&(e=i(/^(@[\w-]+)\s*:/)))return e[1]},entity:function(){var e=i(this.entities.call)||i(this.entities.literal),t=i(this.entities.field)||i(this.entities.variable),n=i(this.entities.url)||i(this.entities.keyword);return e||t||n},end:function(){return i(";")||o("}")},element:function(){var e=i(/^(?:[.#][\w\u4e00-\u9fa5\-]+|\*|Map)/);if(e)return new xQ.CartoCSS.Tree.Element(e)},attachment:function(){var e=i(/^::([\w\-]+(?:\/[\w\-]+)*)/);if(e)return e[1]},selector:function(){for(var e,t,n,r,o,u=[],c=new xQ.CartoCSS.Tree.Filterset,h=[],p=0,y=0;(n=i(this.element))||(o=i(this.zoom))||(r=i(this.filter))||(e=i(this.attachment));){if(p++,n)u.push(n);else if(o)h.push(o),y++;else if(r){var d=c.add(r);if(d)throw a({message:d,index:l-1});y++}else{if(t)throw a({message:"Encountered second attachment name.",index:l-1});t=e}var m=s.charAt(l);if("{"===m||"}"===m||";"===m||","===m)break}if(p)return new xQ.CartoCSS.Tree.Selector(c,h,u,t,y,f)},filter:function(){t();var n,r,o;if(i("[")&&(n=i(/^[a-zA-Z0-9\-_]+/)||i(this.entities.quoted)||i(this.entities.variable)||i(this.entities.keyword)||i(this.entities.field))&&(n instanceof xQ.CartoCSS.Tree.Quoted&&(n=new xQ.CartoCSS.Tree.Field(n.toString())),(r=i(this.entities.comparison))&&(o=i(this.entities.quoted)||i(this.entities.variable)||i(this.entities.dimension)||i(this.entities.keyword)||i(this.entities.field)))){if(!i("]"))throw a({message:"Missing closing ] of filter.",index:f-1});return n.is||(n=new xQ.CartoCSS.Tree.Field(n)),new xQ.CartoCSS.Tree.Filter(n,r,o,f,e.filename)}},zoom:function(){t();var e,r;if(i(/^\[\s*zoom/g)&&(e=i(this.entities.comparison))&&(r=i(this.entities.variable)||i(this.entities.dimension))&&i("]"))return new xQ.CartoCSS.Tree.Zoom(e,r,f);n()},block:function(){var e;if(i("{")&&(e=i(this.primary))&&i("}"))return e},ruleset:function(){var e,r,o=[];for(t();e=i(this.selector);){for(o.push(e);i(this.comment););if(!i(","))break;for(;i(this.comment););}if(e)for(;i(this.comment););if(o.length>0&&(r=i(this.block))){if(1===o.length&&o[0].elements.length&&"Map"===o[0].elements[0].value){var a=new xQ.CartoCSS.Tree.Ruleset(o,r);return a.isMap=!0,a}return new xQ.CartoCSS.Tree.Ruleset(o,r)}n()},rule:function(){var r,o,a=s.charAt(l);if(t(),"."!==a&&"#"!==a&&(r=i(this.variable)||i(this.property))){if((o=i(this.value))&&i(this.end))return new xQ.CartoCSS.Tree.Rule(r,o,f,e.filename);h=l,n()}},font:function(){for(var e,t=[],n=[];e=i(this.entity);)n.push(e);if(t.push(new xQ.CartoCSS.Tree.Expression(n)),i(","))for(;(e=i(this.expression))&&(t.push(e),i(",")););return new xQ.CartoCSS.Tree.Value(t)},value:function(){for(var e,t=[];(e=i(this.expression))&&(t.push(e),i(",")););return t.length>1?new xQ.CartoCSS.Tree.Value(t.map(function(e){return e.value[0]})):1===t.length?new xQ.CartoCSS.Tree.Value(t):void 0},sub:function(){var e;if(i("(")&&(e=i(this.expression))&&i(")"))return e},multiplication:function(){var e,t,n,r;if(e=i(this.operand)){for(;(n=i("/")||i("*")||i("%"))&&(t=i(this.operand));)r=new xQ.CartoCSS.Tree.Operation(n,[r||e,t],f);return r||e}},addition:function(){var e,t,n,r;if(e=i(this.multiplication)){for(;(n=i(/^[-+]\s+/)||" "!=s.charAt(l-1)&&(i("+")||i("-")))&&(t=i(this.multiplication));)r=new xQ.CartoCSS.Tree.Operation(n,[r||e,t],f);return r||e}},operand:function(){return i(this.sub)||i(this.entity)},expression:function(){for(var e,t=[];e=i(this.addition)||i(this.entity);)t.push(e);if(t.length>0)return new xQ.CartoCSS.Tree.Expression(t)},property:function(){var e=i(/^(([a-z][-a-z_0-9]*\/)?\*?-?[-a-z_0-9]+)\s*:/);if(e)return e[1]}}}}},{key:"parse",value:function(e){var t=this.parser;return this.ruleSet=t.parse(e)}},{key:"toShaders",value:function(){if(this.ruleSet){var e=this.ruleSet;if(e){var t=e.toList(this.env);t.reverse();var n={},r=[];this._toShaders(n,r,t);for(var i=[],o={},a=0,s=t.length;a<s;++a){var l=t[a],u=l.attachment,c=n[r[a]],f=[];if(!o[u]){var h=0;for(var p in c)if("zoom"!==p&&"frames"!==p&&"attachment"!==p&&"elements"!=p)if("layer-index"===p){var y=function(e,t){return c[p].join("\n"),null}();Object.defineProperty(f,"layerIndex",{configurable:!0,enumerable:!1,value:y})}else f[h++]=function(e,t){if(!Array.isArray(e))return e;var n=e.join("\n"),r='attributes["FEATUREID"]&&attributes["FEATUREID"]',i=n.indexOf(r);if(i>=0){if(!t.featureFilter){var o=i+r.length,a=n.indexOf(")",o+1),s="featureId&&(featureId"+n.substring(o,a)+")",l=function(e){return!!s};Object.defineProperty(t,"featureFilter",{configurable:!0,enumerable:!1,value:l})}return{property:p,getValue:Function("attributes","zoom","seftFilter","var _value = null; var isExcute=typeof seftFilter=='function'?sefgFilter():seftFilter;if(isExcute){"+n+";} return _value; ")}}return{property:p,getValue:Function("attributes","zoom","var _value = null;"+n+"; return _value; ")}}(c[p],f);Object.defineProperty(f,"attachment",{configurable:!0,enumerable:!1,value:u}),Object.defineProperty(f,"elements",{configurable:!0,enumerable:!1,value:l.elements}),i.push(f),o[r[a]]=!0}Object.defineProperty(f,"zoom",{configurable:!0,enumerable:!1,value:l.zoom})}return i}}return null}},{key:"_toShaders",value:function(e,t,n){for(var r=0,i=n.length;r<i;++r){for(var o=n[r],a=[],s=0,l=o.elements.length;s<l;s++)a.push(o.elements[s]);var u=o.filters.filters,c=[];for(var f in u)c.push(u[f].id);var h=a.join("/")+"::"+o.attachment+"_"+c.join("_");t.push(h);var p=e[h]=e[h]||{};p.zoom=xQ.CartoCSS.Tree.Zoom.all;var y=o.toJS(this.env);for(var d in y)(p[d]=p[d]||[]).push(y[d].join("\n"))}}},{key:"getShaders",value:function(){return this.shaders}},{key:"destroy",value:function(){this.cartoStr=null,this.env=null,this.ruleSet=null,this.parser=null,this.shaders=null}}]),e}();xQ._mapnik_reference_latest={version:"2.1.1",style:{"filter-mode":{type:["all","first"],doc:"Control the processing behavior of Rule filters within a Style. If 'all' is used then all Rules are processed sequentially independent of whether any previous filters matched. If 'first' is used then it means processing ends after the first match (a positive filter evaluation) and no further Rules in the Style are processed ('first' is usually the default for CSS implementations on top of Mapnik to simplify translation from CSS to Mapnik XML)","default-value":"all","default-meaning":"All Rules in a Style are processed whether they have filters or not and whether or not the filter conditions evaluate to true."},"image-filters":{css:"image-filters","default-value":"none","default-meaning":"no filters",type:"functions",functions:[["agg-stack-blur",2],["emboss",0],["blur",0],["gray",0],["sobel",0],["edge-detect",0],["x-gradient",0],["y-gradient",0],["invert",0],["sharpen",0]],doc:"A list of image filters."},"comp-op":{css:"comp-op","default-value":"src-over","default-meaning":"add the current layer on top of other layers",doc:"Composite operation. This defines how this layer should behave relative to layers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]},opacity:{css:"opacity",type:"float",doc:"An alpha value for the style (which means an alpha applied to all features in separate buffer and then composited back to main buffer)","default-value":1,"default-meaning":"no separate buffer will be used and no alpha will be applied to the style after rendering"}},layer:{name:{"default-value":"",type:"string",required:!0,"default-meaning":"No layer name has been provided",doc:"The name of a layer. Can be anything you wish and is not strictly validated, but ideally unique  in the map"},srs:{"default-value":"",type:"string","default-meaning":"No srs value is provided and the value will be inherited from the Map's srs",doc:"The spatial reference system definition for the layer, aka the projection. Can either be a proj4 literal string like '+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs' or, if the proper proj4 epsg/nad/etc identifier files are installed, a string that uses an id like: '+init=epsg:4326'"},status:{"default-value":!0,type:"boolean","default-meaning":"This layer will be marked as active and available for processing",doc:"A property that can be set to false to disable this layer from being processed"},minzoom:{"default-value":"0",type:"float","default-meaning":"The layer will be visible at the minimum possible scale",doc:"The minimum scale denominator that this layer will be visible at. A layer's visibility is determined by whether its status is true and if the Map scale >= minzoom - 1e-6 and scale < maxzoom + 1e-6"},maxzoom:{"default-value":"1.79769e+308",type:"float","default-meaning":"The layer will be visible at the maximum possible scale",doc:"The maximum scale denominator that this layer will be visible at. The default is the numeric limit of the C++ double type, which may vary slightly by system, but is likely a massive number like 1.79769e+308 and ensures that this layer will always be visible unless the value is reduced. A layer's visibility is determined by whether its status is true and if the Map scale >= minzoom - 1e-6 and scale < maxzoom + 1e-6"},queryable:{"default-value":!1,type:"boolean","default-meaning":"The layer will not be available for the direct querying of data values",doc:"This property was added for GetFeatureInfo/WMS compatibility and is rarely used. It is off by default meaning that in a WMS context the layer will not be able to be queried unless the property is explicitly set to true"},"clear-label-cache":{"default-value":!1,type:"boolean","default-meaning":"The renderer's collision detector cache (used for avoiding duplicate labels and overlapping markers) will not be cleared immediately before processing this layer",doc:"This property, by default off, can be enabled to allow a user to clear the collision detector cache before a given layer is processed. This may be desirable to ensure that a given layers data shows up on the map even if it normally would not because of collisions with previously rendered labels or markers"},"group-by":{"default-value":"",type:"string","default-meaning":"No special layer grouping will be used during rendering",doc:"https://github.com/mapnik/mapnik/wiki/Grouped-rendering"},"buffer-size":{"default-value":"0",type:"float","default-meaning":"No buffer will be used",doc:"Extra tolerance around the Layer extent (in pixels) used to when querying and (potentially) clipping the layer data during rendering"},"maximum-extent":{"default-value":"none",type:"bbox","default-meaning":"No clipping extent will be used",doc:"An extent to be used to limit the bounds used to query this specific layer data during rendering. Should be minx, miny, maxx, maxy in the coordinates of the Layer."}},symbolizers:{"*":{"image-filters":{css:"image-filters","default-value":"none","default-meaning":"no filters",type:"functions",functions:[["agg-stack-blur",2],["emboss",0],["blur",0],["gray",0],["sobel",0],["edge-detect",0],["x-gradient",0],["y-gradient",0],["invert",0],["sharpen",0]],doc:"A list of image filters."},"comp-op":{css:"comp-op","default-value":"src-over","default-meaning":"add the current layer on top of other layers",doc:"Composite operation. This defines how this layer should behave relative to layers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]},opacity:{css:"opacity",type:"float",doc:"An alpha value for the style (which means an alpha applied to all features in separate buffer and then composited back to main buffer)","default-value":1,"default-meaning":"no separate buffer will be used and no alpha will be applied to the style after rendering"}},map:{"background-color":{css:"background-color","default-value":"none","default-meaning":"transparent",type:"color",doc:"Map Background color"},"background-image":{css:"background-image",type:"uri","default-value":"","default-meaning":"transparent",doc:"An image that is repeated below all features on a map as a background.",description:"Map Background image"},srs:{css:"srs",type:"string","default-value":"+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs","default-meaning":"The proj4 literal of EPSG:4326 is assumed to be the Map's spatial reference and all data from layers within this map will be plotted using this coordinate system. If any layers do not declare an srs value then they will be assumed to be in the same srs as the Map and not transformations will be needed to plot them in the Map's coordinate space",doc:"Map spatial reference (proj4 string)"},"buffer-size":{css:"buffer-size","default-value":"0",type:"float","default-meaning":"No buffer will be used",doc:'Extra tolerance around the map (in pixels) used to ensure labels crossing tile boundaries are equally rendered in each tile (e.g. cut in each tile). Not intended to be used in combination with "avoid-edges".'},"maximum-extent":{css:"","default-value":"none",type:"bbox","default-meaning":"No clipping extent will be used",doc:"An extent to be used to limit the bounds used to query all layers during rendering. Should be minx, miny, maxx, maxy in the coordinates of the Map."},base:{css:"base","default-value":"","default-meaning":"This base path defaults to an empty string meaning that any relative paths to files referenced in styles or layers will be interpreted relative to the application process.",type:"string",doc:"Any relative paths used to reference files will be understood as relative to this directory path if the map is loaded from an in memory object rather than from the filesystem. If the map is loaded from the filesystem and this option is not provided it will be set to the directory of the stylesheet."},"paths-from-xml":{css:"","default-value":!0,"default-meaning":"Paths read from XML will be interpreted from the location of the XML",type:"boolean",doc:"value to control whether paths in the XML will be interpreted from the location of the XML or from the working directory of the program that calls load_map()"},"minimum-version":{css:"","default-value":"none","default-meaning":"Mapnik version will not be detected and no error will be thrown about compatibility",type:"string",doc:"The minumum Mapnik version (e.g. 0.7.2) needed to use certain functionality in the stylesheet"},"font-directory":{css:"font-directory",type:"uri","default-value":"none","default-meaning":"No map-specific fonts will be registered",doc:"Path to a directory which holds fonts which should be registered when the Map is loaded (in addition to any fonts that may be automatically registered)."}},polygon:{fill:{css:"polygon-fill",type:"color","default-value":"rgba(128,128,128,1)","default-meaning":"gray and fully opaque (alpha = 1), same as rgb(128,128,128)",doc:"Fill color to assign to a polygon"},"fill-opacity":{css:"polygon-opacity",type:"float",doc:"The opacity of the polygon","default-value":1,"default-meaning":"opaque"},gamma:{css:"polygon-gamma",type:"float","default-value":1,"default-meaning":"fully antialiased",range:"0-1",doc:"Level of antialiasing of polygon edges"},"gamma-method":{css:"polygon-gamma-method",type:["power","linear","none","threshold","multiply"],"default-value":"power","default-meaning":"pow(x,gamma) is used to calculate pixel gamma, which produces slightly smoother line and polygon antialiasing than the 'linear' method, while other methods are usually only used to disable AA",doc:"An Antigrain Geometry specific rendering hint to control the quality of antialiasing. Under the hood in Mapnik this method is used in combination with the 'gamma' value (which defaults to 1). The methods are in the AGG source at https://github.com/mapnik/mapnik/blob/master/deps/agg/include/agg_gamma_functions.h"},clip:{css:"polygon-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"polygon-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},"geometry-transform":{css:"polygon-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"polygon-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},line:{stroke:{css:"line-color","default-value":"rgba(0,0,0,1)",type:"color","default-meaning":"black and fully opaque (alpha = 1), same as rgb(0,0,0)",doc:"The color of a drawn line"},"stroke-width":{css:"line-width","default-value":1,type:"float",doc:"The width of a line in pixels"},"stroke-opacity":{css:"line-opacity","default-value":1,type:"float","default-meaning":"opaque",doc:"The opacity of a line"},"stroke-linejoin":{css:"line-join","default-value":"miter",type:["miter","round","bevel"],doc:"The behavior of lines when joining"},"stroke-linecap":{css:"line-cap","default-value":"butt",type:["butt","round","square"],doc:"The display of line endings"},"stroke-gamma":{css:"line-gamma",type:"float","default-value":1,"default-meaning":"fully antialiased",range:"0-1",doc:"Level of antialiasing of stroke line"},"stroke-gamma-method":{css:"line-gamma-method",type:["power","linear","none","threshold","multiply"],"default-value":"power","default-meaning":"pow(x,gamma) is used to calculate pixel gamma, which produces slightly smoother line and polygon antialiasing than the 'linear' method, while other methods are usually only used to disable AA",doc:"An Antigrain Geometry specific rendering hint to control the quality of antialiasing. Under the hood in Mapnik this method is used in combination with the 'gamma' value (which defaults to 1). The methods are in the AGG source at https://github.com/mapnik/mapnik/blob/master/deps/agg/include/agg_gamma_functions.h"},"stroke-dasharray":{css:"line-dasharray",type:"numbers",doc:"A pair of length values [a,b], where (a) is the dash length and (b) is the gap length respectively. More than two values are supported for more complex patterns.","default-value":"none","default-meaning":"solid line"},"stroke-dashoffset":{css:"line-dash-offset",type:"numbers",doc:"valid parameter but not currently used in renderers (only exists for experimental svg support in Mapnik which is not yet enabled)","default-value":"none","default-meaning":"solid line"},"stroke-miterlimit":{css:"line-miterlimit",type:"float",doc:"The limit on the ratio of the miter length to the stroke-width. Used to automatically convert miter joins to bevel joins for sharp angles to avoid the miter extending beyond the thickness of the stroking path. Normally will not need to be set, but a larger value can sometimes help avoid jaggy artifacts.","default-value":4,"default-meaning":"Will auto-convert miters to bevel line joins when theta is less than 29 degrees as per the SVG spec: 'miterLength / stroke-width = 1 / sin ( theta / 2 )'"},clip:{css:"line-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"line-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},offset:{css:"line-offset",type:"float","default-value":0,"default-meaning":"no offset",doc:"Offsets a line a number of pixels parallel to its actual path. Postive values move the line left, negative values move it right (relative to the directionality of the line)."},rasterizer:{css:"line-rasterizer",type:["full","fast"],"default-value":"full",doc:"Exposes an alternate AGG rendering method that sacrifices some accuracy for speed."},"geometry-transform":{css:"line-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"line-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},markers:{file:{css:"marker-file",doc:"An SVG file that this marker shows at each placement. If no file is given, the marker will show an ellipse.","default-value":"","default-meaning":"An ellipse or circle, if width equals height",type:"uri"},opacity:{css:"marker-opacity",doc:"The overall opacity of the marker, if set, overrides both the opacity of both the fill and stroke","default-value":1,"default-meaning":"The stroke-opacity and fill-opacity will be used",type:"float"},"fill-opacity":{css:"marker-fill-opacity",doc:"The fill opacity of the marker","default-value":1,"default-meaning":"opaque",type:"float"},stroke:{css:"marker-line-color",doc:"The color of the stroke around a marker shape.","default-value":"black",type:"color"},"stroke-width":{css:"marker-line-width",doc:"The width of the stroke around a marker shape, in pixels. This is positioned on the boundary, so high values can cover the area itself.",type:"float"},"stroke-opacity":{css:"marker-line-opacity","default-value":1,"default-meaning":"opaque",doc:"The opacity of a line",type:"float"},placement:{css:"marker-placement",type:["point","line","interior"],"default-value":"point","default-meaning":"Place markers at the center point (centroid) of the geometry",doc:"Attempt to place markers on a point, in the center of a polygon, or if markers-placement:line, then multiple times along a line. 'interior' placement can be used to ensure that points placed on polygons are forced to be inside the polygon interior"},"multi-policy":{css:"marker-multi-policy",type:["each","whole","largest"],"default-value":"each","default-meaning":"If a feature contains multiple geometries and the placement type is either point or interior then a marker will be rendered for each",doc:"A special setting to allow the user to control rendering behavior for 'multi-geometries' (when a feature contains multiple geometries). This setting does not apply to markers placed along lines. The 'each' policy is default and means all geometries will get a marker. The 'whole' policy means that the aggregate centroid between all geometries will be used. The 'largest' policy means that only the largest (by bounding box areas) feature will get a rendered marker (this is how text labeling behaves by default)."},"marker-type":{css:"marker-type",type:["arrow","ellipse"],"default-value":"ellipse",doc:"The default marker-type. If a SVG file is not given as the marker-file parameter, the renderer provides either an arrow or an ellipse (a circle if height is equal to width)"},width:{css:"marker-width","default-value":10,doc:"The width of the marker, if using one of the default types.",type:"expression"},height:{css:"marker-height","default-value":10,doc:"The height of the marker, if using one of the default types.",type:"expression"},fill:{css:"marker-fill","default-value":"blue",doc:"The color of the area of the marker.",type:"color"},"allow-overlap":{css:"marker-allow-overlap",type:"boolean","default-value":!1,doc:"Control whether overlapping markers are shown or hidden.","default-meaning":"Do not allow makers to overlap with each other - overlapping markers will not be shown."},"ignore-placement":{css:"marker-ignore-placement",type:"boolean","default-value":!1,"default-meaning":"do not store the bbox of this geometry in the collision detector cache",doc:"value to control whether the placement of the feature will prevent the placement of other features"},spacing:{css:"marker-spacing",doc:"Space between repeated labels","default-value":100,type:"float"},"max-error":{css:"marker-max-error",type:"float","default-value":.2,doc:"The maximum difference between actual marker placement and the marker-spacing parameter. Setting a high value can allow the renderer to try to resolve placement conflicts with other symbolizers."},transform:{css:"marker-transform",type:"functions",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]],"default-value":"","default-meaning":"No transformation",doc:"SVG transformation definition"},clip:{css:"marker-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"marker-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},"geometry-transform":{css:"marker-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",
doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"marker-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},shield:{name:{css:"shield-name",type:"expression",serialization:"content",doc:'Value to use for a shield"s text label. Data columns are specified using brackets like [column_name]'},file:{css:"shield-file",required:!0,type:"uri","default-value":"none",doc:"Image file to render behind the shield text"},"face-name":{css:"shield-face-name",type:"string",validate:"font",doc:"Font name and style to use for the shield text","default-value":"",required:!0},"unlock-image":{css:"shield-unlock-image",type:"boolean",doc:"This parameter should be set to true if you are trying to position text beside rather than on top of the shield image","default-value":!1,"default-meaning":"text alignment relative to the shield image uses the center of the image as the anchor for text positioning."},size:{css:"shield-size",type:"float",doc:"The size of the shield text in pixels"},fill:{css:"shield-fill",type:"color",doc:"The color of the shield text"},placement:{css:"shield-placement",type:["point","line","vertex","interior"],"default-value":"point",doc:"How this shield should be placed. Point placement attempts to place it on top of points, line places along lines multiple times per feature, vertex places on the vertexes of polygons, and interior attempts to place inside of polygons."},"avoid-edges":{css:"shield-avoid-edges",doc:"Tell positioning algorithm to avoid labeling near intersection edges.",type:"boolean","default-value":!1},"allow-overlap":{css:"shield-allow-overlap",type:"boolean","default-value":!1,doc:"Control whether overlapping shields are shown or hidden.","default-meaning":"Do not allow shields to overlap with other map elements already placed."},"minimum-distance":{css:"shield-min-distance",type:"float","default-value":0,doc:"Minimum distance to the next shield symbol, not necessarily the same shield."},spacing:{css:"shield-spacing",type:"float","default-value":0,doc:"The spacing between repeated occurrences of the same shield on a line"},"minimum-padding":{css:"shield-min-padding","default-value":0,doc:"Determines the minimum amount of padding that a shield gets relative to other shields",type:"float"},"wrap-width":{css:"shield-wrap-width",type:"unsigned","default-value":0,doc:"Length of a chunk of text in characters before wrapping text"},"wrap-before":{css:"shield-wrap-before",type:"boolean","default-value":!1,doc:"Wrap text before wrap-width is reached. If false, wrapped lines will be a bit longer than wrap-width."},"wrap-character":{css:"shield-wrap-character",type:"string","default-value":" ",doc:"Use this character instead of a space to wrap long names."},"halo-fill":{css:"shield-halo-fill",type:"color","default-value":"#FFFFFF","default-meaning":"white",doc:"Specifies the color of the halo around the text."},"halo-radius":{css:"shield-halo-radius",doc:"Specify the radius of the halo in pixels","default-value":0,"default-meaning":"no halo",type:"float"},"character-spacing":{css:"shield-character-spacing",type:"unsigned","default-value":0,doc:"Horizontal spacing between characters (in pixels). Currently works for point placement only, not line placement."},"line-spacing":{css:"shield-line-spacing",doc:"Vertical spacing between lines of multiline labels (in pixels)",type:"unsigned"},dx:{css:"shield-text-dx",type:"float",doc:"Displace text within shield by fixed amount, in pixels, +/- along the X axis.  A positive value will shift the text right","default-value":0},dy:{css:"shield-text-dy",type:"float",doc:"Displace text within shield by fixed amount, in pixels, +/- along the Y axis.  A positive value will shift the text down","default-value":0},"shield-dx":{css:"shield-dx",type:"float",doc:"Displace shield by fixed amount, in pixels, +/- along the X axis.  A positive value will shift the text right","default-value":0},"shield-dy":{css:"shield-dy",type:"float",doc:"Displace shield by fixed amount, in pixels, +/- along the Y axis.  A positive value will shift the text down","default-value":0},opacity:{css:"shield-opacity",type:"float",doc:"(Default 1.0) - opacity of the image used for the shield","default-value":1},"text-opacity":{css:"shield-text-opacity",type:"float",doc:"(Default 1.0) - opacity of the text placed on top of the shield","default-value":1},"horizontal-alignment":{css:"shield-horizontal-alignment",type:["left","middle","right","auto"],doc:"The shield's horizontal alignment from its centerpoint","default-value":"auto"},"vertical-alignment":{css:"shield-vertical-alignment",type:["top","middle","bottom","auto"],doc:"The shield's vertical alignment from its centerpoint","default-value":"middle"},"text-transform":{css:"shield-text-transform",type:["none","uppercase","lowercase","capitalize"],doc:"Transform the case of the characters","default-value":"none"},"justify-alignment":{css:"shield-justify-alignment",type:["left","center","right","auto"],doc:"Define how text in a shield's label is justified","default-value":"auto"},clip:{css:"shield-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},"comp-op":{css:"shield-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},"line-pattern":{file:{css:"line-pattern-file",type:"uri","default-value":"none",required:!0,doc:"An image file to be repeated and warped along a line"},clip:{css:"line-pattern-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"line-pattern-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},"geometry-transform":{css:"line-pattern-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"line-pattern-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},"polygon-pattern":{file:{css:"polygon-pattern-file",type:"uri","default-value":"none",required:!0,doc:"Image to use as a repeated pattern fill within a polygon"},alignment:{css:"polygon-pattern-alignment",type:["local","global"],"default-value":"local",doc:"Specify whether to align pattern fills to the layer or to the map."},gamma:{css:"polygon-pattern-gamma",type:"float","default-value":1,"default-meaning":"fully antialiased",range:"0-1",doc:"Level of antialiasing of polygon pattern edges"},opacity:{css:"polygon-pattern-opacity",type:"float",doc:"(Default 1.0) - Apply an opacity level to the image used for the pattern","default-value":1,"default-meaning":"The image is rendered without modifications"},clip:{css:"polygon-pattern-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"polygon-pattern-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},"geometry-transform":{css:"polygon-pattern-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"polygon-pattern-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},raster:{opacity:{css:"raster-opacity","default-value":1,"default-meaning":"opaque",type:"float",doc:"The opacity of the raster symbolizer on top of other symbolizers."},"filter-factor":{css:"raster-filter-factor","default-value":-1,"default-meaning":"Allow the datasource to choose appropriate downscaling.",type:"float",doc:"This is used by the Raster or Gdal datasources to pre-downscale images using overviews. Higher numbers can sometimes cause much better scaled image output, at the cost of speed."},scaling:{css:"raster-scaling",type:["near","fast","bilinear","bilinear8","bicubic","spline16","spline36","hanning","hamming","hermite","kaiser","quadric","catrom","gaussian","bessel","mitchell","sinc","lanczos","blackman"],"default-value":"near",doc:"The scaling algorithm used to making different resolution versions of this raster layer. Bilinear is a good compromise between speed and accuracy, while lanczos gives the highest quality."},"mesh-size":{css:"raster-mesh-size","default-value":16,"default-meaning":"Reprojection mesh will be 1/16 of the resolution of the source image",type:"unsigned",doc:"A reduced resolution mesh is used for raster reprojection, and the total image size is divided by the mesh-size to determine the quality of that mesh. Values for mesh-size larger than the default will result in faster reprojection but might lead to distortion."},"comp-op":{css:"raster-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},point:{file:{css:"point-file",type:"uri",required:!1,"default-value":"none",doc:"Image file to represent a point"},"allow-overlap":{css:"point-allow-overlap",type:"boolean","default-value":!1,doc:"Control whether overlapping points are shown or hidden.","default-meaning":"Do not allow points to overlap with each other - overlapping markers will not be shown."},"ignore-placement":{css:"point-ignore-placement",type:"boolean","default-value":!1,"default-meaning":"do not store the bbox of this geometry in the collision detector cache",doc:"value to control whether the placement of the feature will prevent the placement of other features"},opacity:{css:"point-opacity",type:"float","default-value":1,"default-meaning":"Fully opaque",doc:"A value from 0 to 1 to control the opacity of the point"},placement:{css:"point-placement",type:["centroid","interior"],doc:"How this point should be placed. Centroid calculates the geometric center of a polygon, which can be outside of it, while interior always places inside of a polygon.","default-value":"centroid"},transform:{css:"point-transform",type:"functions",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]],"default-value":"","default-meaning":"No transformation",doc:"SVG transformation definition"},"comp-op":{css:"point-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},text:{name:{css:"text-name",type:"expression",required:!0,"default-value":"",serialization:"content",doc:"Value to use for a text label. Data columns are specified using brackets like [column_name]"},"face-name":{css:"text-face-name",type:"string",validate:"font",doc:"Font name and style to render a label in",required:!0},size:{css:"text-size",type:"float","default-value":10,doc:"Text size in pixels"},"text-ratio":{css:"text-ratio",doc:"Define the amount of text (of the total) present on successive lines when wrapping occurs","default-value":0,type:"unsigned"},"wrap-width":{css:"text-wrap-width",doc:"Length of a chunk of text in characters before wrapping text","default-value":0,type:"unsigned"},"wrap-before":{css:"text-wrap-before",type:"boolean","default-value":!1,doc:"Wrap text before wrap-width is reached. If false, wrapped lines will be a bit longer than wrap-width."},"wrap-character":{css:"text-wrap-character",type:"string","default-value":" ",doc:"Use this character instead of a space to wrap long text."},spacing:{css:"text-spacing",type:"unsigned",doc:"Distance between repeated text labels on a line (aka. label-spacing)"},"character-spacing":{css:"text-character-spacing",type:"float","default-value":0,doc:"Horizontal spacing adjustment between characters in pixels"},"line-spacing":{css:"text-line-spacing","default-value":0,type:"unsigned",doc:"Vertical spacing adjustment between lines in pixels"},"label-position-tolerance":{css:"text-label-position-tolerance","default-value":0,type:"unsigned",doc:"Allows the label to be displaced from its ideal position by a number of pixels (only works with placement:line)"},"max-char-angle-delta":{css:"text-max-char-angle-delta",type:"float","default-value":"22.5",doc:"The maximum angle change, in degrees, allowed between adjacent characters in a label. This value internally is converted to radians to the default is 22.5*math.pi/180.0. The higher the value the fewer labels will be placed around around sharp corners."},fill:{css:"text-fill",doc:"Specifies the color for the text","default-value":"#000000",type:"color"},opacity:{css:"text-opacity",doc:"A number from 0 to 1 specifying the opacity for the text","default-value":1,"default-meaning":"Fully opaque",type:"float"},"halo-fill":{css:"text-halo-fill",type:"color","default-value":"#FFFFFF","default-meaning":"white",doc:"Specifies the color of the halo around the text."},"halo-radius":{css:"text-halo-radius",doc:"Specify the radius of the halo in pixels","default-value":0,"default-meaning":"no halo",type:"float"},dx:{css:"text-dx",type:"float",doc:"Displace text by fixed amount, in pixels, +/- along the X axis.  A positive value will shift the text right","default-value":0},dy:{css:"text-dy",type:"float",doc:"Displace text by fixed amount, in pixels, +/- along the Y axis.  A positive value will shift the text down","default-value":0},"vertical-alignment":{css:"text-vertical-alignment",type:["top","middle","bottom","auto"],doc:"Position of label relative to point position.","default-value":"auto","default-meaning":'Default affected by value of dy; "bottom" for dy>0, "top" for dy<0.'},"avoid-edges":{css:"text-avoid-edges",doc:"Tell positioning algorithm to avoid labeling near intersection edges.","default-value":!1,type:"boolean"},"minimum-distance":{css:"text-min-distance",doc:"Minimum permitted distance to the next text symbolizer.",type:"float"},"minimum-padding":{css:"text-min-padding",doc:"Determines the minimum amount of padding that a text symbolizer gets relative to other text",type:"float"},"minimum-path-length":{css:"text-min-path-length",type:"float","default-value":0,"default-meaning":"place labels on all paths",doc:"Place labels only on paths longer than this value."},"allow-overlap":{css:"text-allow-overlap",type:"boolean","default-value":!1,doc:"Control whether overlapping text is shown or hidden.","default-meaning":"Do not allow text to overlap with other text - overlapping markers will not be shown."},orientation:{css:"text-orientation",type:"expression",doc:"Rotate the text."},placement:{css:"text-placement",type:["point","line","vertex","interior"],"default-value":"point",doc:"Control the style of placement of a point versus the geometry it is attached to."},"placement-type":{css:"text-placement-type",doc:'Re-position and/or re-size text to avoid overlaps. "simple" for basic algorithm (using text-placements string,) "dummy" to turn this feature off.',type:["dummy","simple"],"default-value":"dummy"},placements:{css:"text-placements",type:"string","default-value":"",doc:'If "placement-type" is set to "simple", use this "POSITIONS,[SIZES]" string. An example is `text-placements: "E,NE,SE,W,NW,SW";` '},"text-transform":{css:"text-transform",type:["none","uppercase","lowercase","capitalize"],doc:"Transform the case of the characters","default-value":"none"},"horizontal-alignment":{css:"text-horizontal-alignment",type:["left","middle","right","auto"],doc:"The text's horizontal alignment from its centerpoint","default-value":"auto"},"justify-alignment":{css:"text-align",type:["left","right","center","auto"],doc:"Define how text is justified","default-value":"auto","default-meaning":"Auto alignment means that text will be centered by default except when using the `placement-type` parameter - in that case either right or left justification will be used automatically depending on where the text could be fit given the `text-placements` directives"},clip:{css:"text-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},"comp-op":{css:"text-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},building:{fill:{css:"building-fill","default-value":"#FFFFFF",doc:"The color of the buildings walls.",type:"color"},"fill-opacity":{css:"building-fill-opacity",type:"float",doc:"The opacity of the building as a whole, including all walls.","default-value":1},height:{css:"building-height",doc:"The height of the building in pixels.",type:"expression","default-value":"0"}}},colors:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50],transparent:[0,0,0,0]},filter:{value:["true","false","null","point","linestring","polygon","collection"]}},s1.mapnik_reference={version:{latest:xQ._mapnik_reference_latest,"2.1.1":xQ._mapnik_reference_latest}},xQ.CartoCSS=s1,xQ.CartoCSS.Tree={},xQ.CartoCSS.Tree.operate=function(e,t,n){switch(e){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"%":return t%n;case"/":return t/n}},xQ.CartoCSS.Tree.functions={rgb:function(e,t,n){return this.rgba(e,t,n,1)},rgba:function(e,t,n,r){var i=this,o=[e,t,n].map(function(e){return i.number(e)});return r=i.number(r),o.some(isNaN)||isNaN(r)?null:new xQ.CartoCSS.Tree.Color(o,r)},stop:function(e){var t,n;return arguments.length>1&&(t=arguments[1]),arguments.length>2&&(n=arguments[2]),{is:"tag",val:e,color:t,mode:n,toString:function(r){return'\n\t<stop value="'+e.ev(r)+'"'+(t?' color="'+t.ev(r)+'" ':"")+(n?' mode="'+n.ev(r)+'" ':"")+"/>"}}},hsl:function(e,t,n){return this.hsla(e,t,n,1)},hsla:function(e,t,n,r){function i(e){return e=e<0?e+1:e>1?e-1:e,6*e<1?a+(o-a)*e*6:2*e<1?o:3*e<2?a+(o-a)*(2/3-e)*6:a}if(e=this.number(e)%360/360,t=this.number(t),n=this.number(n),r=this.number(r),[e,t,n,r].some(isNaN))return null;var o=n<=.5?n*(t+1):n+t-n*t,a=2*n-o;return this.rgba(255*i(e+1/3),255*i(e),255*i(e-1/3),r)},hue:function(e){return"toHSL"in e?new xQ.CartoCSS.Tree.Dimension(Math.round(e.toHSL().h)):null},saturation:function(e){return"toHSL"in e?new xQ.CartoCSS.Tree.Dimension(Math.round(100*e.toHSL().s),"%"):null},lightness:function(e){return"toHSL"in e?new xQ.CartoCSS.Tree.Dimension(Math.round(100*e.toHSL().l),"%"):null},alpha:function(e){return"toHSL"in e?new xQ.CartoCSS.Tree.Dimension(e.toHSL().a):null},saturate:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL();return n.s+=t.value/100,n.s=this.clamp(n.s),this.hsla_simple(n)},desaturate:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL();return n.s-=t.value/100,n.s=this.clamp(n.s),this.hsla_simple(n)},lighten:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL();return n.l+=t.value/100,n.l=this.clamp(n.l),this.hsla_simple(n)},darken:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL();return n.l-=t.value/100,n.l=this.clamp(n.l),this.hsla_simple(n)},fadein:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL();return n.a+=t.value/100,n.a=this.clamp(n.a),this.hsla_simple(n)},fadeout:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL();return n.a-=t.value/100,n.a=this.clamp(n.a),this.hsla_simple(n)},spin:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL(),r=(n.h+t.value)%360;return n.h=r<0?360+r:r,this.hsla_simple(n)},replace:function(e,t,n){return"field"===e.is?e.toString+".replace("+t.toString()+", "+n.toString()+")":e.replace(t,n)},mix:function(e,t,n){var r=n.value/100,i=2*r-1,o=e.toHSL().a-t.toHSL().a,a=((i*o==-1?i:(i+o)/(1+i*o))+1)/2,s=1-a,l=[e.rgb[0]*a+t.rgb[0]*s,e.rgb[1]*a+t.rgb[1]*s,e.rgb[2]*a+t.rgb[2]*s],u=e.alpha*r+t.alpha*(1-r);return new xQ.CartoCSS.Tree.Color(l,u)},greyscale:function(e){return this.desaturate(e,new xQ.CartoCSS.Tree.Dimension(100))},"%":function(e){for(var t=Array.prototype.slice.call(arguments,1),n=e.value,r=0;r<t.length;r++)n=n.replace(/%s/,t[r].value).replace(/%[da]/,t[r].toString());return n=n.replace(/%%/g,"%"),new xQ.CartoCSS.Tree.Quoted(n)},hsla_simple:function(e){return this.hsla(e.h,e.s,e.l,e.a)},number:function(e){return e instanceof xQ.CartoCSS.Tree.Dimension?parseFloat("%"===e.unit?e.value/100:e.value):"number"==typeof e?e:NaN},clamp:function(e){return Math.min(1,Math.max(0,e))}},xQ.CartoCSS.Tree.Call=function(){function e(t,n,r){hN(this,e),this.is="call",this.name=t,this.args=n,this.index=r}return yN(e,[{key:"ev",value:function(e){for(var t=this.args.map(function(t){return t.ev(e)}),n=0;n<t.length;n++)if("undefined"===t[n].is)return{is:"undefined",value:"undefined"};if(this.name in xQ.CartoCSS.Tree.functions){if(xQ.CartoCSS.Tree.functions[this.name].length<=t.length){var r=xQ.CartoCSS.Tree.functions[this.name].apply(xQ.CartoCSS.Tree.functions,t);return null===r?(e.error({message:"incorrect arguments given to "+this.name+"()",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):r}return e.error({message:"incorrect number of arguments for "+this.name+"(). "+xQ.CartoCSS.Tree.functions[this.name].length+" expected.",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}}var i=xQ.CartoCSS.Tree.Reference.mapnikFunctions[this.name];if(void 0===i){var o=a1()(xQ.CartoCSS.Tree.Reference.mapnikFunctions),a=this.name,s=o.map(function(e){return[e[0],xQ.CartoCSS.Tree.Reference.editDistance(a,e[0]),e[1]]}).sort(function(e,t){return e[1]-t[1]});return e.error({message:"unknown function "+this.name+"(), did you mean "+s[0][0]+"("+s[0][2]+")",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}}return i!==t.length&&-1!==i?(e.error({message:"function "+this.name+"() takes "+i+" arguments and was given "+t.length,index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):(this.args=t,this)}},{key:"toString",value:function(e,t){return this.args.length?this.name+"("+this.args.join(",")+")":this.name}}]),e}(),xQ.CartoCSS.Tree.Color=function(){function e(t,n){hN(this,e),this.is="color",Array.isArray(t)?this.rgb=t.slice(0,3):6==t.length?this.rgb=t.match(/.{2}/g).map(function(e){return parseInt(e,16)}):this.rgb=t.split("").map(function(e){return parseInt(e+e,16)}),"number"==typeof n?this.alpha=n:4===t.length?this.alpha=t[3]:this.alpha=1}return yN(e,[{key:"ev",value:function(){return this}},{key:"toString",value:function(){return"rgba("+this.rgb.map(function(e){return Math.round(e)}).concat(this.alpha).join(", ")+")"}},{key:"operate",value:function(e,t,n){var r=[];n instanceof xQ.CartoCSS.Tree.Color||(n=n.toColor());for(var i=0;i<3;i++)r[i]=xQ.CartoCSS.Tree.operate(t,this.rgb[i],n.rgb[i]);return new xQ.CartoCSS.Tree.Color(r)}},{key:"toHSL",value:function(){var e,t,n=this.rgb[0]/255,r=this.rgb[1]/255,i=this.rgb[2]/255,o=this.alpha,a=Math.max(n,r,i),s=Math.min(n,r,i),l=(a+s)/2,u=a-s;if(a===s)e=t=0;else{switch(t=l>.5?u/(2-a-s):u/(a+s),a){case n:e=(r-i)/u+(r<i?6:0);break;case r:e=(i-n)/u+2;break;case i:e=(n-r)/u+4}e/=6}return{h:360*e,s:t,l:l,a:o}}}]),e}(),xQ.CartoCSS.Tree.Comment=function(){function e(t,n){hN(this,e),this.value=t,this.silent=!!n}return yN(e,[{key:"toString",value:function(e){return"\x3c!--"+this.value+"--\x3e"}},{key:"ev",value:function(){return this}}]),e}(),xQ.CartoCSS.Tree.Definition=function(){function e(t,n){hN(this,e),this.elements=t.elements,this.rules=n,this.ruleIndex={};for(var r=0;r<this.rules.length;r++)"zoom"in this.rules[r]&&(this.rules[r]=this.rules[r].clone()),this.rules[r].zoom=t.zoom,this.ruleIndex[this.rules[r].updateID()]=!0;this.filters=t.filters,this.zoom=t.zoom,this.attachment=t.attachment||"__default__",this.specificity=t.specificity()}return yN(e,[{key:"toString",value:function(){for(var e=this.filters.toString(),t=0;t<this.rules.length;t++)e+="\n    "+this.rules[t];return e}},{key:"toJS",value:function(e){var t={},n=this.zoom,r=this.filters.toJS(e),i=[n];r&&i.push(r),r=i.join(" && ");for(var o in this.rules)!function(n){if(n instanceof xQ.CartoCSS.Tree.Rule)t[n.name]=t[n.name]||[],r?t[n.name].push("if("+r+"){"+n.value.toJS(e)+"}"):t[n.name].push(n.value.toJS(e));else if(n instanceof xQ.CartoCSS.Tree.Ruleset){var i=n.toJS(e);for(var o in i){t[o]=t[o]||[];for(var a in i[o])t[o].push(i[o][a])}}}(this.rules[o]);return t}}]),e}(),xQ.CartoCSS.Tree.Dimension=function(){function e(t,n,r){hN(this,e),this.is="float",this.physical_units=["m","cm","in","mm","pt","pc"],
this.screen_units=["px","%"],this.all_units=["m","cm","in","mm","pt","pc","px","%"],this.densities={m:.0254,mm:25.4,cm:2.54,pt:72,pc:6},this.value=parseFloat(t),this.unit=n||null,this.index=r}return yN(e,[{key:"ev",value:function(e){if(this.unit&&this.all_units.indexOf(this.unit)<0)return e.error({message:"Invalid unit: '"+this.unit+"'",index:this.index}),{is:"undefined",value:"undefined"};if(this.unit&&this.physical_units.indexOf(this.unit)>=0){if(!e.ppi)return e.error({message:"ppi is not set, so metric units can't be used",index:this.index}),{is:"undefined",value:"undefined"};this.value=this.value/this.densities[this.unit]*e.ppi,this.unit="px"}return this}},{key:"toColor",value:function(){return new xQ.CartoCSS.Tree.Color([this.value,this.value,this.value])}},{key:"round",value:function(){return this.value=Math.round(this.value),this}},{key:"toString",value:function(){return this.value.toString()}},{key:"operate",value:function(e,t,n){return"%"===this.unit&&"%"!==n.unit?(e.error({message:"If two operands differ, the first must not be %",index:this.index}),{is:"undefined",value:"undefined"}):"%"!==this.unit&&"%"===n.unit?"*"===t||"/"===t||"%"===t?(e.error({message:"Percent values can only be added or subtracted from other values",index:this.index}),{is:"undefined",value:"undefined"}):new xQ.CartoCSS.Tree.Dimension(xQ.CartoCSS.Tree.operate(t,this.value,this.value*n.value*.01),this.unit):new xQ.CartoCSS.Tree.Dimension(xQ.CartoCSS.Tree.operate(t,this.value,n.value),this.unit||n.unit)}}]),e}(),xQ.CartoCSS.Tree.Element=function(){function e(t){hN(this,e),this.value=t.trim(),"#"===this.value[0]&&(this.type="id",this.clean=this.value.replace(/^#/,"")),"."===this.value[0]&&(this.type="class",this.clean=this.value.replace(/^\./,"")),-1!==this.value.indexOf("*")&&(this.type="wildcard")}return yN(e,[{key:"specificity",value:function(){return["id"===this.type?1:0,"class"===this.type?1:0]}},{key:"toString",value:function(){return this.value}}]),e}(),xQ.CartoCSS.Tree.Expression=function(){function e(t){hN(this,e),this.is="expression",this.value=t}return yN(e,[{key:"ev",value:function(e){return this.value.length>1?new xQ.CartoCSS.Tree.Expression(this.value.map(function(t){return t.ev(e)})):this.value[0].ev(e)}},{key:"toString",value:function(e){return this.value.map(function(t){return t.toString(e)}).join(" ")}}]),e}(),xQ.CartoCSS.Tree.Field=function(){function e(t){hN(this,e),this.is="field",this.value=t||""}return yN(e,[{key:"toString",value:function(){return'["'+this.value.toUpperCase()+'"]'}},{key:"ev",value:function(){return this}}]),e}(),xQ.CartoCSS.Tree.Filter=function(){function e(t,n,r,i,o){hN(this,e),this.ops={"<":[" &lt; ","numeric"],">":[" &gt; ","numeric"],"=":[" = ","both"],"!=":[" != ","both"],"<=":[" &lt;= ","numeric"],">=":[" &gt;= ","numeric"],"=~":[".match(","string",")"]},this.key=t,this.op=n,this.val=r,this.index=i,this.filename=o,this.id=this.key+this.op+this.val}return yN(e,[{key:"ev",value:function(e){return this.key=this.key.ev(e),this.val=this.val.ev(e),this}},{key:"toString",value:function(){return"["+this.id+"]"}}]),e}(),xQ.CartoCSS.Tree.Filterset=function(){function e(){hN(this,e),this.filters={}}return yN(e,[{key:"toJS",value:function(e){var t=[];for(var n in this.filters)t.push(function(e){var t=e.op;"="===t&&(t="==");var n=e.val;void 0!==e._val&&(n=e._val.toString(!0)),e.key&&"scale"===e.key.value?n=+n:"string"!=typeof n&&"object"!==fN(n)||(n="'"+n+"'");var r="attributes";return r+"&&"+r+e.key+"&&"+r+e.key+" "+t+n}(this.filters[n]));return t.join(" && ")}},{key:"toString",value:function(){var e=[];for(var t in this.filters)e.push(this.filters[t].id);return e.sort().join("\t")}},{key:"ev",value:function(e){for(var t in this.filters)this.filters[t].ev(e);return this}},{key:"clone",value:function(){var e=new xQ.CartoCSS.Tree.Filterset;for(var t in this.filters)e.filters[t]=this.filters[t];return e}},{key:"cloneWith",value:function(e){var t=[];for(var n in e.filters){var r=this.addable(e.filters[n]);if(!1===r)return!1;!0===r&&t.push(e.filters[n])}if(!t.length)return null;var i=new xQ.CartoCSS.Tree.Filterset;for(n in this.filters)i.filters[n]=this.filters[n];for(;n=t.shift();)i.add(n);return i}},{key:"addable",value:function(e){var t=e.key.toString(),n=e.val.toString();switch(n.match(/^[0-9]+(\.[0-9]*)?$/)&&(n=parseFloat(n)),e.op){case"=":return void 0!==this.filters[t+"="]?this.filters[t+"="].val.toString()==n&&null:void 0===this.filters[t+"!="+n]&&(!(void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n)&&(!(void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n)&&(!(void 0!==this.filters[t+">="]&&this.filters[t+">="].val>n)&&!(void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<n))));case"=~":return!0;case"!=":return void 0!==this.filters[t+"="]?this.filters[t+"="].val!==n&&null:void 0!==this.filters[t+"!="+n]?null:void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n?null:void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n?null:void 0!==this.filters[t+">="]&&this.filters[t+">="].val>n?null:!(void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<n)||null;case">":return t+"="in this.filters?!(this.filters[t+"="].val<=n)&&null:!(void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n)&&(!(void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<=n)&&(void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n?null:!(void 0!==this.filters[t+">="]&&this.filters[t+">="].val>n)||null));case">=":return void 0!==this.filters[t+"="]?!(this.filters[t+"="].val<n)&&null:!(void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n)&&(!(void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<n)&&(void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n?null:!(void 0!==this.filters[t+">="]&&this.filters[t+">="].val>=n)||null));case"<":return void 0!==this.filters[t+"="]?!(this.filters[t+"="].val>=n)&&null:!(void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n)&&(!(void 0!==this.filters[t+">="]&&this.filters[t+">="].val>=n)&&(void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n?null:!(void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<n)||null));case"<=":return void 0!==this.filters[t+"="]?!(this.filters[t+"="].val>n)&&null:!(void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n)&&(!(void 0!==this.filters[t+">="]&&this.filters[t+">="].val>n)&&(void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n?null:!(void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<=n)||null))}}},{key:"conflict",value:function(e){var t=e.key.toString(),n=e.val.toString();return isNaN(parseFloat(n))||(n=parseFloat(n)),("="===e.op&&void 0!==this.filters[t+"="]&&n!=this.filters[t+"="].val.toString()||"!="===e.op&&void 0!==this.filters[t+"="]&&n==this.filters[t+"="].val.toString()||"="===e.op&&void 0!==this.filters[t+"!="]&&n===this.filters[t+"!="].val.toString())&&e.toString()+" added to "+this.toString()+" produces an invalid filter"}},{key:"add",value:function(e,t){var n,r=e.key.toString(),i=e.op,o=this.conflict(e);if(o)return o;if("="===i){for(var a in this.filters)this.filters[a].key===r&&delete this.filters[a];this.filters[r+"="]=e}else if("!="===i)this.filters[r+"!="+e.val]=e;else if("=~"===i)this.filters[r+"=~"+e.val]=e;else if(">"===i){for(var s in this.filters)this.filters[s].key===r&&this.filters[s].val<=e.val&&delete this.filters[s];this.filters[r+">"]=e}else if(">="===i){for(var l in this.filters)n=+this.filters[l].val.toString(),this.filters[l].key===r&&n<e.val&&delete this.filters[l];void 0!==this.filters[r+"!="+e.val]?(delete this.filters[r+"!="+e.val],e.op=">",this.filters[r+">"]=e):this.filters[r+">="]=e}else if("<"===i){for(var u in this.filters)n=+this.filters[u].val.toString(),this.filters[u].key===r&&n>=e.val&&delete this.filters[u];this.filters[r+"<"]=e}else if("<="===i){for(var c in this.filters)n=+this.filters[c].val.toString(),this.filters[c].key===r&&n>e.val&&delete this.filters[c];void 0!==this.filters[r+"!="+e.val]?(delete this.filters[r+"!="+e.val],e.op="<",this.filters[r+"<"]=e):this.filters[r+"<="]=e}}}]),e}(),xQ.CartoCSS.Tree.Fontset=function e(t,n){hN(this,e),this.fonts=n,this.name="fontset-"+t.effects.length},xQ.CartoCSS.Tree.Invalid=function(){function e(t,n,r){hN(this,e),this.is="invalid",this.chunk=t,this.index=n,this.type="syntax",this.message=r||"Invalid code: "+this.chunk}return yN(e,[{key:"ev",value:function(e){return e.error({chunk:this.chunk,index:this.index,type:"syntax",message:this.message||"Invalid code: "+this.chunk}),{is:"undefined"}}}]),e}(),xQ.CartoCSS.Tree.Keyword=function(){function e(t){hN(this,e),this.value=t;var n={transparent:"color",true:"boolean",false:"boolean"};this.is=n[t]?n[t]:"keyword"}return yN(e,[{key:"ev",value:function(){return this}}]),yN(e,[{key:"toString",value:function(){return this.value}}]),e}(),xQ.CartoCSS.Tree.Literal=function(){function e(t){hN(this,e),this.value=t||"",this.is="field"}return yN(e,[{key:"toString",value:function(){return this.value}},{key:"ev",value:function(){return this}}]),e}(),xQ.CartoCSS.Tree.Operation=function(){function e(t,n,r){hN(this,e),this.is="operation",this.op=t.trim(),this.operands=n,this.index=r}return yN(e,[{key:"ev",value:function(e){var t,n=this.operands[0].ev(e),r=this.operands[1].ev(e);return"undefined"===n.is||"undefined"===r.is?{is:"undefined",value:"undefined"}:(n instanceof xQ.CartoCSS.Tree.Dimension&&r instanceof xQ.CartoCSS.Tree.Color&&("*"===this.op||"+"===this.op?(t=r,r=n,n=t):e.error({name:"OperationError",message:"Can't substract or divide a color from a number",index:this.index})),n instanceof xQ.CartoCSS.Tree.Quoted&&r instanceof xQ.CartoCSS.Tree.Quoted&&"+"!==this.op?(e.error({message:"Can't subtract, divide, or multiply strings.",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):n instanceof xQ.CartoCSS.Tree.Field||r instanceof xQ.CartoCSS.Tree.Field||n instanceof xQ.CartoCSS.Tree.Literal||r instanceof xQ.CartoCSS.Tree.Literal?"color"===n.is||"color"===r.is?(e.error({message:"Can't subtract, divide, or multiply colors in expressions.",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):new xQ.CartoCSS.Tree.Literal(n.ev(e).toString(!0)+this.op+r.ev(e).toString(!0)):void 0===n.operate?(e.error({message:"Cannot do math with type "+n.is+".",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):n.operate(e,this.op,r))}}]),e}(),xQ.CartoCSS.Tree.Quoted=function(){function e(t){hN(this,e),this.is="string",this.value=t||""}return yN(e,[{key:"toString",value:function(e){var t=this.value.replace(/&/g,"&amp;"),n=t.replace(/\'/g,"\\'").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/\>/g,"&gt;");return!0===e?"'"+n+"'":t}},{key:"ev",value:function(){return this}},{key:"operate",value:function(e,t,n){return new xQ.CartoCSS.Tree.Quoted(xQ.CartoCSS.Tree.operate(t,this.toString(),n.toString(this.contains_field)))}}]),e}(),xQ.CartoCSS.Tree.Reference={_validateValue:{font:function(e,t){return!e.validation_data||!e.validation_data.fonts||-1!=e.validation_data.fonts.indexOf(t)}},setData:function(e){this.data=e,this.selector_cache=function(e){var t={};for(var n in e.symbolizers)for(var r in e.symbolizers[n])e.symbolizers[n][r].hasOwnProperty("css")&&(t[e.symbolizers[n][r].css]=[e.symbolizers[n][r],n,r]);return t}(e),this.mapnikFunctions=function(e){var t={};for(var n in e.symbolizers)for(var r in e.symbolizers[n])if("functions"===e.symbolizers[n][r].type)for(var i=0;i<e.symbolizers[n][r].functions.length;i++){var o=e.symbolizers[n][r].functions[i];t[o[0]]=o[1]}return t}(e),this.required_cache=function(e){var t={};for(var n in e.symbolizers){t[n]=[];for(var r in e.symbolizers[n])e.symbolizers[n][r].required&&t[n].push(e.symbolizers[n][r].css)}return t}(e)},setVersion:function(e){return!!xQ.CartoCSS.mapnik_reference.version.hasOwnProperty(e)&&(this.setData(xQ.CartoCSS.mapnik_reference.version[e]),!0)},selectorData:function(e,t){if(this.selector_cache&&this.selector_cache[e])return this.selector_cache[e][t]},validSelector:function(e){return!!this.selector_cache[e]},selectorName:function(e){return this.selectorData(e,2)},selector:function(e){return this.selectorData(e,0)},symbolizer:function(e){return this.selectorData(e,1)},requiredProperties:function(e,t){var n=this.required_cache[e];for(var r in n)if(!(n[r]in t))return"Property "+n[r]+" required for defining "+e+" styles."},isFont:function(e){return"font"===this.selector(e).validate},editDistance:function(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;for(var n=[],r=0;r<=t.length;r++)n[r]=[r];for(var i=0;i<=e.length;i++)n[0][i]=i;for(r=1;r<=t.length;r++)for(i=1;i<=e.length;i++)t.charAt(r-1)===e.charAt(i-1)?n[r][i]=n[r-1][i-1]:n[r][i]=Math.min(n[r-1][i-1]+1,Math.min(n[r][i-1]+1,n[r-1][i]+1));return n[t.length][e.length]},validValue:function(e,t,n){var r;if(this.selector(t)){if("keyword"===n.value[0].is)return function(e,t){return"object"===fN(this.selector(t).type)?-1!==this.selector(t).type.indexOf(e.value[0].value):"string"===this.selector(t).type}(n,t);if("undefined"===n.value[0].is)return!0;if("numbers"===this.selector(t).type){for(r in n.value)if("float"!==n.value[r].is)return!1;return!0}if("tags"===this.selector(t).type){if(!n.value)return!1;if(!n.value[0].value)return"tag"===n.value[0].is;for(r=0;r<n.value[0].value.length;r++)if("tag"!==n.value[0].value[r].is)return!1;return!0}if("functions"==this.selector(t).type)return function(e,t){if("string"===e.value[0].is)return!0;for(var n in e.value)for(var r in e.value[n].value){if("call"!==e.value[n].value[r].is)return!1;var i=find(this.selector(t).functions,function(t){return t[0]===e.value[n].value[r].name});if(!(i&&-1===i[1]||i&&i[1]===e.value[n].value[r].args.length))return!1}return!0}(n,t);if("expression"===this.selector(t).type)return!0;if("unsigned"===this.selector(t).type)return"float"===n.value[0].is&&(n.value[0].round(),!0);if(this.selector(t).validate){for(r=0;r<n.value.length;r++)if(this.selector(t).type===n.value[r].is&&this._validateValue[this.selector(t).validate](e,n.value[r].value))return!0;return!1}return this.selector(t).type===n.value[0].is}return!1}},xQ.CartoCSS.Tree.Reference.setVersion("latest"),xQ.CartoCSS.Tree.Rule=function(){function e(t,n,r,i){hN(this,e),this.is="rule";var o=t.split("/");this.name=o.pop(),this.instance=o.length?o[0]:"__default__",this.value=n instanceof xQ.CartoCSS.Tree.Value?n:new xQ.CartoCSS.Tree.Value([n]),this.index=r,this.symbolizer=xQ.CartoCSS.Tree.Reference.symbolizer(this.name),this.filename=i,this.variable="@"===t.charAt(0)}return yN(e,[{key:"clone",value:function(){var e=Object.create(xQ.CartoCSS.Tree.Rule.prototype);return e.name=this.name,e.value=this.value,e.index=this.index,e.instance=this.instance,e.symbolizer=this.symbolizer,e.filename=this.filename,e.variable=this.variable,e}},{key:"updateID",value:function(){return this.id=this.zoom+"#"+this.instance+"#"+this.name}},{key:"toString",value:function(){return"["+xQ.CartoCSS.Tree.Zoom.toString(this.zoom)+"] "+this.name+": "+this.value}},{key:"ev",value:function(e){return new xQ.CartoCSS.Tree.Rule(this.name,this.value.ev(e),this.index,this.filename)}}]),e}(),xQ.CartoCSS.Tree.Ruleset=function(){function e(t,n){hN(this,e),this.is="ruleset",this.selectors=t,this.rules=n,this._lookups={}}return yN(e,[{key:"ev",value:function(e){var t,n,r=new xQ.CartoCSS.Tree.Ruleset(this.selectors,this.rules.slice(0));for(r.root=this.root,e.frames.unshift(r),t=0,n;t<r.rules.length;t++)n=r.rules[t],r.rules[t]=n.ev?n.ev(e):n;return e.frames.shift(),r}},{key:"match",value:function(e){return!e||0===e.length}},{key:"variables",value:function(){return this._variables?this._variables:this._variables=this.rules.reduce(function(e,t){return t instanceof xQ.CartoCSS.Tree.Rule&&!0===t.variable&&(e[t.name]=t),e},{})}},{key:"variable",value:function(e){return this.variables()[e]}},{key:"rulesets",value:function(){return this._rulesets?this._rulesets:this._rulesets=this.rules.filter(function(e){return e instanceof xQ.CartoCSS.Tree.Ruleset})}},{key:"find",value:function(e,t){t=t||this;var n,r=[],i=e.toString();return i in this._lookups?this._lookups[i]:(this.rulesets().forEach(function(i){if(i!==t)for(var o=0;o<i.selectors.length;o++)if(n=e.match(i.selectors[o])){e.elements.length>1?Array.prototype.push.apply(r,i.find(new xQ.CartoCSS.Tree.Selector(null,null,e.elements.slice(1)),t)):r.push(i);break}}),this._lookups[i]=r)}},{key:"evZooms",value:function(e){for(var t=0;t<this.selectors.length;t++){for(var n=xQ.CartoCSS.Tree.Zoom.all,r=0;r<this.selectors[t].zoom.length;r++)n=this.selectors[t].zoom[r].ev(e).zoom;this.selectors[t].zoom=n}}},{key:"flatten",value:function(e,t,n){var r,i,o=[];for(0===this.selectors.length&&(n.frames=n.frames.concat(this.rules)),this.evZooms(n),r=0;r<this.selectors.length;r++){var a=this.selectors[r];if(a.filters)if(t.length)for(i=0;i<t.length;i++){var s=t[i],l=s.filters.cloneWith(a.filters);if(null===l){if(s.zoom===a.zoom&&s.attachment===a.attachment&&s.elements.join()===a.elements.join()){o.push(s);continue}l=s.filters}else if(!l)continue;var u=Object.create(xQ.CartoCSS.Tree.Selector.prototype);u.filters=l,u.zoom=a.zoom,u.elements=s.elements.concat(a.elements),s.attachment&&a.attachment?u.attachment=s.attachment+"/"+a.attachment:u.attachment=a.attachment||s.attachment,u.conditions=s.conditions+a.conditions,u.index=a.index,o.push(u)}else o.push(a)}var c=[];for(r=0;r<this.rules.length;r++){var f=this.rules[r];f instanceof xQ.CartoCSS.Tree.Ruleset?f.flatten(e,o,n):f instanceof xQ.CartoCSS.Tree.Rule?c.push(f):f instanceof xQ.CartoCSS.Tree.Invalid&&n.error(f)}var h=!!c.length&&c[0].index;for(r=0;r<o.length;r++)!1!==h&&(o[r].index=h),e.push(new xQ.CartoCSS.Tree.Definition(o[r],c.slice()));return e}}]),e}(),xQ.CartoCSS.Tree.Selector=function(){function e(t,n,r,i,o,a){hN(this,e),this.elements=r||[],this.attachment=i,this.filters=t||{},this.zoom=void 0!==n?n:xQ.CartoCSS.Tree.Zoom.all,this.conditions=o,this.index=a}return yN(e,[{key:"specificity",value:function(){return this.elements.reduce(function(e,t){var n=t.specificity();return e[0]+=n[0],e[1]+=n[1],e},[0,0,this.conditions,this.index])}}]),e}(),xQ.CartoCSS.Tree.URL=function(){function e(t,n){hN(this,e),this.is="uri",this.value=t,this.paths=n}return yN(e,[{key:"toString",value:function(){return this.value.toString()}},{key:"ev",value:function(e){return new xQ.CartoCSS.Tree.URL(this.value.ev(e),this.paths)}}]),e}(),xQ.CartoCSS.Tree.Value=function(){function e(t){hN(this,e),this.is="value",this.value=t}return yN(e,[{key:"ev",value:function(e){return 1===this.value.length?this.value[0].ev(e):new xQ.CartoCSS.Tree.Value(this.value.map(function(t){return t.ev(e)}))}},{key:"toJS",value:function(e){var t=this.ev(e),n=t.toString();return"color"===t.is||"uri"===t.is||"string"===t.is||"keyword"===t.is?n="'"+n+"'":"field"===t.is?n=n.replace(/\[(.*)\]/g,"attributes['$1']"):t.value&&"object"===fN(t.value)&&(n="["+n+"]"),"_value = "+n+";"}},{key:"toString",value:function(e,t,n,r){return this.value.map(function(t){return t.toString(e,r)}).join(n||", ")}},{key:"clone",value:function(){var e=Object.create(xQ.CartoCSS.Tree.Value.prototype);return Array.isArray(e)?e.value=this.value.slice():e.value=this.value,e.is=this.is,e}}]),e}(),xQ.CartoCSS.Tree.Variable=function(){function e(t,n,r){hN(this,e),this.is="variable",this.name=t,this.index=n,this.filename=r}return yN(e,[{key:"toString",value:function(){return this.name}},{key:"ev",value:function(e){if(this._css)return this._css;var t=e.frames.filter(function(e){return e.name===this.name}.bind(this));return t.length?t[0].value.ev(e):(e.error({message:"variable "+this.name+" is undefined",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"})}}]),e}(),xQ.CartoCSS.Tree.Zoom=function(){function e(t,n,r){hN(this,e),this.op=t,this.value=n,this.index=r}return yN(e,[{key:"setZoom",value:function(e){return this.zoom=e,this}},{key:"ev",value:function(e){var t=parseInt(this.value.ev(e).toString(),10);switch((t>xQ.CartoCSS.Tree.Zoom.maxZoom||t<0)&&e.error({message:"Only zoom levels between 0 and "+xQ.CartoCSS.Tree.Zoom.maxZoom+" supported.",index:this.index}),this.op){case"=":return this.zoom="zoom && zoom === "+t,this;case">":this.zoom="zoom && zoom > "+t;break;case">=":this.zoom="zoom && zoom >= "+t;break;case"<":this.zoom="zoom && zoom < "+t;break;case"<=":this.zoom="zoom && zoom <= "+t;break;default:return this}return this}},{key:"toString",value:function(){for(var e="",t=0;t<=xQ.CartoCSS.Tree.Zoom.maxZoom;t++)e+=this.zoom&1<<t?"X":".";return e}}]),e}(),xQ.CartoCSS.Tree.Zoom.all=23,xQ.CartoCSS.Tree.Zoom.maxZoom=22,xQ.CartoCSS.Tree.Zoom.ranges={0:1e9,1:5e8,2:2e8,3:1e8,4:5e7,5:25e6,6:125e5,7:65e5,8:3e6,9:15e5,10:75e4,11:4e5,12:2e5,13:1e5,14:5e4,15:25e3,16:12500,17:5e3,18:2500,19:1500,20:750,21:500,22:250,23:100};/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var l1=function e(t){dN(this,e),t=t||{},this.fill=!0,this.fillColor="#000000",this.fillOpacity=1,this.stroke=!1,this.strokeColor="#000000",this.strokeOpacity=1,this.strokeWidth=1,this.strokeLinecap="butt",this.strokeLineJoin="miter",this.strokeDashstyle="solid",this.pointRadius=6,this.shadowBlur=0,this.shadowColor="#000000",this.shadowOffsetX=0,this.shadowOffsetY=0,this.label="",this.labelRect=!1,this.fontColor="",this.fontSize=12,this.fontStyle="normal",this.fontVariant="normal",this.fontWeight="normal",this.fontFamily="arial,sans-serif",this.labelPosition="top",this.labelAlign="center",this.labelBaseline="middle",this.labelXOffset=0,this.labelYOffset=0,RY.extend(this,t)};xQ.ThemeStyle=l1;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var u1=function(){function e(){mN(this,e),this.refOriginalPosition=[0,0],this.refDataID=null,this.isHoverByRefDataID=!1,this.refDataHoverGroup=null,this.dataInfo=null,this.clickable=!0,this.hoverable=!0,this.style=null,this.highlightStyle={},this.CLASS_NAME="SuperMap.Feature.ShapeParameters"}return bN(e,[{key:"destroy",value:function(){this.refOriginalPosition=null,this.refDataID=null,this.isHoverByRefDataID=null,this.refDataHoverGroup=null,this.dataInfo=null,this.clickable=null,this.hoverable=null,this.style=null,this.highlightStyle=null}}]),e}();xQ.Feature=xQ.Feature||{},xQ.Feature.ShapeParameters=u1;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var c1=function(e){function t(e,n){var r;return SN(this,t),r=ON(this,PN(t).call(this,e,n)),r.x=isNaN(e)?0:e,r.y=isNaN(n)?0:n,r.r=6,r.CLASS_NAME="SuperMap.Feature.ShapeParameters.Point",r}return EN(t,e),wN(t,[{key:"destroy",value:function(){this.x=null,this.y=null,this.r=null,CN(PN(t.prototype),"destroy",this).call(this)}}]),t}(u1);xQ.Feature=xQ.Feature||{},xQ.Feature.ShapeParameters.Point=c1;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var f1=function(e){function t(e){var n;return AN(this,t),n=RN(this,FN(t).call(this,e)),n.pointList=e,n.CLASS_NAME="SuperMap.Feature.ShapeParameters.Line",n}return BN(t,e),jN(t,[{key:"destroy",value:function(){this.pointList=null,IN(FN(t.prototype),"destroy",this).call(this)}}]),t}(u1);xQ.Feature=xQ.Feature||{},xQ.Feature.ShapeParameters.Line=f1;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var h1=function(e){function t(e){var n;return zN(this,t),n=JN(this,YN(t).call(this,e)),n.pointList=e,n.holePolygonPointLists=null,n.CLASS_NAME="SuperMap.Feature.ShapeParameters.Polygon",n}return XN(t,e),HN(t,[{key:"destroy",value:function(){this.pointList=null,this.holePolygonPointLists=null,WN(YN(t.prototype),"destroy",this).call(this)}}]),t}(u1);xQ.Feature=xQ.Feature||{},xQ.Feature.ShapeParameters.Polygon=h1;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var p1=function(e){function t(e,n,r,i){var o;return $N(this,t),o=nI(this,aI(t).call(this,e,n,r,i)),o.x=isNaN(e)?0:e,o.y=isNaN(e)?0:n,o.width=isNaN(r)?0:r,o.height=isNaN(i)?0:i,o.CLASS_NAME="SuperMap.Feature.ShapeParameters.Rectangle",o}return sI(t,e),tI(t,[{key:"destroy",value:function(){this.x=null,this.y=null,this.width=null,this.height=null,iI(aI(t.prototype),"destroy",this).call(this)}}]),t}(u1);xQ.Feature=xQ.Feature||{},xQ.Feature.ShapeParameters.Rectangle=p1;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var y1=function(e){function t(e,n,r,i,o,a,s){var l;return cI(this,t),l=pI(this,vI(t).call(this,e,n,r,i,o,a,s)),l.x=isNaN(e)?0:e,l.y=isNaN(n)?0:n,l.r=isNaN(r)?0:r,l.startAngle=isNaN(i)?0:i,l.endAngle=isNaN(o)?0:o,l.r0=isNaN(a)?0:a,l.clockWise=s,l.CLASS_NAME="SuperMap.Feature.ShapeParameters.Sector",l}return bI(t,e),hI(t,[{key:"destroy",value:function(){this.x=null,this.y=null,this.r=null,this.startAngle=null,this.endAngle=null,this.r0=null,this.clockWise=null,dI(vI(t.prototype),"destroy",this).call(this)}}]),t}(u1);xQ.Feature=xQ.Feature||{},xQ.Feature.ShapeParameters.Sector=y1;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var d1=function(e){function t(e,n,r){var i;return _I(this,t),i=xI(this,EI(t).call(this,e,n,r)),i.x=e,i.y=n,i.text=r,i.CLASS_NAME="SuperMap.Feature.ShapeParameters.Label",i}return kI(t,e),OI(t,[{key:"destroy",value:function(){this.x=null,this.y=null,this.text=null,TI(EI(t.prototype),"destroy",this).call(this)}}]),t}(u1);xQ.Feature=xQ.Feature||{},xQ.Feature.ShapeParameters.Label=d1;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var m1=function(e){function t(e,n,r,i,o,a,s,l,u){var c;return LI(this,t),c=NI(this,BI(t).call(this,e,n,r,i,o,a,s,l,u)),c.x=e,c.y=n,c.image=r,c.width=i,c.height=o,c.sx=a,c.sy=s,c.sWidth=l,c.sHeight=u,c.CLASS_NAME="SuperMap.Feature.ShapeParameters.Image",c}return UI(t,e),RI(t,[{key:"destroy",value:function(){this.x=null,this.y=null,this.image=null,this.width=null,this.height=null,this.sx=null,this.sy=null,this.sWidth=null,this.sHeight=null,DI(BI(t.prototype),"destroy",this).call(this)}}]),t}(u1);xQ.Feature=xQ.Feature||{},xQ.Feature.ShapeParameters.Image=m1;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var v1=function(e){function t(e,n,r){var i;return VI(this,t),i=qI(this,XI(t).call(this,e,n,r)),i.x=isNaN(e)?0:e,i.y=isNaN(n)?0:n,i.r=isNaN(r)?0:r,i.CLASS_NAME="SuperMap.Feature.ShapeParameters.Circle",i}return KI(t,e),JI(t,[{key:"destroy",value:function(){this.x=null,this.y=null,this.r=null,QI(XI(t.prototype),"destroy",this).call(this)}}]),t}(u1);xQ.Feature=xQ.Feature||{},xQ.Feature.ShapeParameters.Circle=v1;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var b1=function(){function e(){$I(this,e),this._handlers={},this.CLASS_NAME="SuperMap.LevelRenderer.Eventful"}return tD(e,[{key:"destroy",value:function(){this._handlers=null}},{key:"one",value:function(e,t,n){var r=this._handlers;return t&&e?(r[e]||(r[e]=[]),r[e].push({h:t,one:!0,ctx:n||this}),this):this}},{key:"bind",value:function(e,t,n){var r=this._handlers;return t&&e?(r[e]||(r[e]=[]),r[e].push({h:t,one:!1,ctx:n||this}),this):this}},{key:"unbind",value:function(e,t){var n=this._handlers;if(!e)return this._handlers={},this;if(t){if(n[e]){for(var r=[],i=0,o=n[e].length;i<o;i++)n[e][i].h!=t&&r.push(n[e][i]);n[e]=r}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this}},{key:"dispatch",value:function(e){if(this._handlers[e]){var t=arguments,n=t.length;n>3&&(t=Array.prototype.slice.call(t,1));for(var r=this._handlers[e],i=r.length,o=0;o<i;){switch(n){case 1:r[o].h.call(r[o].ctx);break;case 2:r[o].h.call(r[o].ctx,t[1]);break;case 3:r[o].h.call(r[o].ctx,t[1],t[2]);break;default:r[o].h.apply(r[o].ctx,t)}r[o].one?(r.splice(o,1),i--):o++}}return this}},{key:"dispatchWithContext",value:function(e){if(this._handlers[e]){var t=arguments,n=t.length;n>4&&(t=Array.prototype.slice.call(t,1,t.length-1));for(var r=t[t.length-1],i=this._handlers[e],o=i.length,a=0;a<o;){switch(n){case 1:i[a].h.call(r);break;case 2:i[a].h.call(r,t[1]);break;case 3:i[a].h.call(r,t[1],t[2]);break;default:i[a].h.apply(r,t)}i[a].one?(i.splice(a,1),o--):a++}}return this}}]),e}(),g1=function(){function e(){nD(this,e),this.ArrayCtor="undefined"==typeof Float32Array?Array:Float32Array,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Vector"}return iD(e,[{key:"create",value:function(e,t){var n=this.ArrayCtor,r=new n(2);return r[0]=e||0,r[1]=t||0,r}},{key:"copy",value:function(e,t){return e[0]=t[0],e[1]=t[1],e}},{key:"set",value:function(e,t,n){return e[0]=t,e[1]=n,e}},{key:"add",value:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}},{key:"scaleAndAdd",value:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}},{key:"sub",value:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}},{key:"len",value:function(e){return Math.sqrt(this.lenSquare(e))}},{key:"lenSquare",value:function(e){return e[0]*e[0]+e[1]*e[1]}},{key:"mul",value:function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}},{key:"div",value:function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}},{key:"dot",value:function(e,t){return e[0]*t[0]+e[1]*t[1]}},{key:"scale",value:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}},{key:"normalize",value:function(e,t){var n=this.len(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}},{key:"distance",value:function(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}},{key:"distanceSquare",value:function(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}},{key:"negate",value:function(e,t){return e[0]=-t[0],e[1]=-t[1],e}},{key:"lerp",value:function(e,t,n,r){return e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e}},{key:"applyTransform",value:function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}},{key:"min",value:function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}},{key:"max",value:function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}},{key:"length",value:function(e){return this.len(e)}},{key:"lengthSquare",value:function(e){return this.lenSquare(e)}},{key:"dist",value:function(e,t){return this.distance(e,t)}},{key:"distSquare",value:function(e,t){return this.distanceSquare(e,t)}}]),e}(),S1=function(){function e(){oD(this,e),this.vector=new g1,this.EPSILON=1e-4,this.THREE_SQRT=Math.sqrt(3),this.ONE_THIRD=1/3,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Curve"}return sD(e,[{key:"isAroundZero",value:function(e){return e>-this.EPSILON&&e<this.EPSILON}},{key:"isNotAroundZero",value:function(e){return e>this.EPSILON||e<-this.EPSILON}},{key:"cubicAt",value:function(e,t,n,r,i){var o=1-i;return o*o*(o*e+3*i*t)+i*i*(i*r+3*o*n)}},{key:"cubicDerivativeAt",value:function(e,t,n,r,i){var o=1-i;return 3*(((t-e)*o+2*(n-t)*i)*o+(r-n)*i*i)}},{key:"cubicRootAt",value:function(e,t,n,r,i,o){var a=r+3*(t-n)-e,s=3*(n-2*t+e),l=3*(t-e),u=e-i,c=s*s-3*a*l,f=s*l-9*a*u,h=l*l-3*s*u,p=0;if(this.isAroundZero(c)&&this.isAroundZero(f))if(this.isAroundZero(s))o[0]=0;else{var y=-l/s;y>=0&&y<=1&&(o[p++]=y)}else{var d=f*f-4*c*h;if(this.isAroundZero(d)){var m=f/c,v=-s/a+m,b=-m/2;v>=0&&v<=1&&(o[p++]=v),b>=0&&b<=1&&(o[p++]=b)}else if(d>0){var g=Math.sqrt(d),S=c*s+1.5*a*(-f+g),_=c*s+1.5*a*(-f-g);S=S<0?-Math.pow(-S,this.ONE_THIRD):Math.pow(S,this.ONE_THIRD),_=_<0?-Math.pow(-_,this.ONE_THIRD):Math.pow(_,this.ONE_THIRD);var w=(-s-(S+_))/(3*a);w>=0&&w<=1&&(o[p++]=w)}else{var O=(2*c*s-3*a*f)/(2*Math.sqrt(c*c*c)),x=Math.acos(O)/3,C=Math.sqrt(c),T=Math.cos(x),P=(-s-2*C*T)/(3*a),E=(-s+C*(T+this.THREE_SQRT*Math.sin(x)))/(3*a),k=(-s+C*(T-this.THREE_SQRT*Math.sin(x)))/(3*a);P>=0&&P<=1&&(o[p++]=P),E>=0&&E<=1&&(o[p++]=E),k>=0&&k<=1&&(o[p++]=k)}}return p}},{key:"cubicExtrema",value:function(e,t,n,r,i){var o=6*n-12*t+6*e,a=9*t+3*r-3*e-9*n,s=3*t-3*e,l=0;if(this.isAroundZero(a)){if(this.isNotAroundZero(o)){var u=-s/o;u>=0&&u<=1&&(i[l++]=u)}}else{var c=o*o-4*a*s;if(this.isAroundZero(c))i[0]=-o/(2*a);else if(c>0){var f=Math.sqrt(c),h=(-o+f)/(2*a),p=(-o-f)/(2*a);h>=0&&h<=1&&(i[l++]=h),p>=0&&p<=1&&(i[l++]=p)}}return l}},{key:"cubicSubdivide",value:function(e,t,n,r,i,o){var a=(t-e)*i+e,s=(n-t)*i+t,l=(r-n)*i+n,u=(s-a)*i+a,c=(l-s)*i+s,f=(c-u)*i+u;o[0]=e,o[1]=a,o[2]=u,o[3]=f,o[4]=f,o[5]=c,o[6]=l,o[7]=r}},{key:"cubicProjectPoint",value:function(e,t,n,r,i,o,a,s,l,u,c){var f,h=this.vector.create(),p=this.vector.create(),y=this.vector.create(),d=.005,m=1/0;h[0]=l,h[1]=u;for(var v=0;v<1;v+=.05){p[0]=this.cubicAt(e,n,i,a,v),p[1]=this.cubicAt(t,r,o,s,v);var b=this.vector.distSquare(h,p);b<m&&(f=v,m=b)}m=1/0;for(var g=0;g<32&&!(d<this.EPSILON);g++){var S=f-d,_=f+d;p[0]=this.cubicAt(e,n,i,a,S),p[1]=this.cubicAt(t,r,o,s,S);var w=this.vector.distSquare(p,h);if(S>=0&&w<m)f=S,m=w;else{y[0]=this.cubicAt(e,n,i,a,_),y[1]=this.cubicAt(t,r,o,s,_);var O=this.vector.distSquare(y,h);_<=1&&O<m?(f=_,m=O):d*=.5}}return c&&(c[0]=this.cubicAt(e,n,i,a,f),c[1]=this.cubicAt(t,r,o,s,f)),Math.sqrt(m)}},{key:"quadraticAt",value:function(e,t,n,r){var i=1-r;return i*(i*e+2*r*t)+r*r*n}},{key:"quadraticDerivativeAt",value:function(e,t,n,r){return 2*((1-r)*(t-e)+r*(n-t))}},{key:"quadraticRootAt",value:function(e,t,n,r,i){var o=e-2*t+n,a=2*(t-e),s=e-r,l=0;if(this.isAroundZero(o)){if(this.isNotAroundZero(a)){var u=-s/a;u>=0&&u<=1&&(i[l++]=u)}}else{var c=a*a-4*o*s;if(this.isAroundZero(c)){var f=-a/(2*o);f>=0&&f<=1&&(i[l++]=f)}else if(c>0){var h=Math.sqrt(c),p=(-a+h)/(2*o),y=(-a-h)/(2*o);p>=0&&p<=1&&(i[l++]=p),y>=0&&y<=1&&(i[l++]=y)}}return l}},{key:"quadraticExtremum",value:function(e,t,n){var r=e+n-2*t;return 0===r?.5:(e-t)/r}},{key:"quadraticProjectPoint",value:function(e,t,n,r,i,o,a,s,l){var u,c=this.vector.create(),f=this.vector.create(),h=this.vector.create(),p=.005,y=1/0;c[0]=a,c[1]=s;for(var d=0;d<1;d+=.05){f[0]=this.quadraticAt(e,n,i,d),f[1]=this.quadraticAt(t,r,o,d);var m=this.vector.distSquare(c,f);m<y&&(u=d,y=m)}y=1/0;for(var v=0;v<32&&!(p<this.EPSILON);v++){var b=u-p,g=u+p;f[0]=this.quadraticAt(e,n,i,b),f[1]=this.quadraticAt(t,r,o,b);var S=this.vector.distSquare(f,c);if(b>=0&&S<y)u=b,y=S;else{h[0]=this.quadraticAt(e,n,i,g),h[1]=this.quadraticAt(t,r,o,g);var _=this.vector.distSquare(h,c);g<=1&&_<y?(u=g,y=_):p*=.5}}return l&&(l[0]=this.quadraticAt(e,n,i,u),l[1]=this.quadraticAt(t,r,o,u)),Math.sqrt(y)}}]),e}(),_1=function(){function e(){lD(this,e),this.util=new e1,this.curve=new S1,this._ctx=null,this._textWidthCache={},this._textHeightCache={},this._textWidthCacheCounter=0,this._textHeightCacheCounter=0,this.TEXT_CACHE_MAX=5e3,this.PI2=2*Math.PI,this.roots=[-1,-1,-1],this.extrema=[-1,-1],this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Area"}return cD(e,[{key:"normalizeRadian",value:function(e){return e%=this.PI2,e<0&&(e+=this.PI2),e}},{key:"isInside",value:function(e,t,n,r){if(!t||!e)return!1;var i=e.type;this._ctx=this._ctx||this.util.getContext();var o=this._mathMethod(e,t,n,r);if(void 0!==o)return o;if(e.buildPath&&this._ctx.isPointInPath)return this._buildPathMethod(e,this._ctx,t,n,r);switch(i){case"ellipse":case"smicellipse":return!0;case"trochoid":var a="out"==t.location?t.r1+t.r2+t.d:t.r1-t.r2+t.d;return this.isInsideCircle(t,n,r,a);case"rose":return this.isInsideCircle(t,n,r,t.maxr);default:return!1}}},{key:"_mathMethod",value:function(e,t,n,r){switch(e.type){case"bezier-curve":return void 0===t.cpX2?this.isInsideQuadraticStroke(t.xStart,t.yStart,t.cpX1,t.cpY1,t.xEnd,t.yEnd,t.lineWidth,n,r):this.isInsideCubicStroke(t.xStart,t.yStart,t.cpX1,t.cpY1,t.cpX2,t.cpY2,t.xEnd,t.yEnd,t.lineWidth,n,r);case"line":return this.isInsideLine(t.xStart,t.yStart,t.xEnd,t.yEnd,t.lineWidth,n,r);case"broken-line":return this.isInsideBrokenLine(t.pointList,t.lineWidth,n,r);case"smicbroken-line":var i=n,o=r;return e.refOriginalPosition&&(i=n-e.refOriginalPosition[0],o=r-e.refOriginalPosition[1]),this.isInsideBrokenLine(t.pointList,t.lineWidth,i,o);case"ring":return this.isInsideRing(t.x,t.y,t.r0,t.r,n,r);case"smicring":var a=t.x,s=t.y;return e.refOriginalPosition&&(a=t.x+e.refOriginalPosition[0],s=t.y+e.refOriginalPosition[1]),this.isInsideRing(a,s,t.r0,t.r,n,r);case"circle":return this.isInsideCircle(t.x,t.y,t.r,n,r);case"smicpoint":var l=n,u=r;return e.refOriginalPosition&&(l=n-e.refOriginalPosition[0],u=r-e.refOriginalPosition[1]),this.isInsideCircle(t.x,t.y,t.r,l,u);case"sector":var c=t.startAngle*Math.PI/180,f=t.endAngle*Math.PI/180;return t.clockWise||(c=-c,f=-f),this.isInsideSector(t.x,t.y,t.r0,t.r,c,f,!t.clockWise,n,r);case"smicsector":var h=t.startAngle*Math.PI/180,p=t.endAngle*Math.PI/180;t.clockWise||(h=-h,p=-p);var y=t.x,d=t.y;return e.refOriginalPosition&&(y=t.x+e.refOriginalPosition[0],d=t.y+e.refOriginalPosition[1]),this.isInsideSector(y,d,t.r0,t.r,h,p,!t.clockWise,n,r);case"path":return this.isInsidePath(t.pathArray,Math.max(t.lineWidth,5),t.brushType,n,r);case"polygon":case"star":case"smicstar":case"isogon":case"smicisogon":return this.isInsidePolygon(t.pointList,n,r);case"smicpolygon":var m=n,v=r;if(e.refOriginalPosition&&(m=n-e.refOriginalPosition[0],v=r-e.refOriginalPosition[1]),e.holePolygonPointLists&&e.holePolygonPointLists.length>0){for(var b=this.isInsidePolygon(t.pointList,m,v),g=e.holePolygonPointLists,S=!1,_=0,w=g.length;_<w;_++){var O=g[_];!0===this.isInsidePolygon(O,m,v)&&(S=!0)}return!0===b&&!1===S}return this.isInsidePolygon(t.pointList,m,v);case"text":var x=t.__rect||e.getRect(t);return this.isInsideRect(x.x,x.y,x.width,x.height,n,r);case"smictext":var C=e.getTextBackground(t);return this.isInsidePolygon(C,n,r);case"rectangle":case"image":return this.isInsideRect(t.x,t.y,t.width,t.height,n,r);case"smicimage":var T=t.x,P=t.y;return e.refOriginalPosition&&(T=t.x+e.refOriginalPosition[0],P=t.y+e.refOriginalPosition[1]),this.isInsideRect(T,P,t.width,t.height,n,r)}}},{key:"_buildPathMethod",value:function(e,t,n,r,i){return t.beginPath(),e.buildPath(t,n),t.closePath(),t.isPointInPath(r,i)}},{key:"isOutside",value:function(e,t,n,r){return!this.isInside(e,t,n,r)}},{key:"isInsideLine",value:function(e,t,n,r,i,o,a){if(0===i)return!1;var s=Math.max(i,5),l=0,u=0;if(a>t+s&&a>r+s||a<t-s&&a<r-s||o>e+s&&o>n+s||o<e-s&&o<n-s)return!1;if(e===n)return Math.abs(o-e)<=s/2;l=(t-r)/(e-n),u=(e*r-n*t)/(e-n);var c=l*o-a+u;return c*c/(l*l+1)<=s/2*s/2}},{key:"isInsideCubicStroke",value:function(e,t,n,r,i,o,a,s,l,u,c){if(0===l)return!1;var f=Math.max(l,5);return!(c>t+f&&c>r+f&&c>o+f&&c>s+f||c<t-f&&c<r-f&&c<o-f&&c<s-f||u>e+f&&u>n+f&&u>i+f&&u>a+f||u<e-f&&u<n-f&&u<i-f&&u<a-f)&&this.curve.cubicProjectPoint(e,t,n,r,i,o,a,s,u,c,null)<=f/2}},{key:"isInsideQuadraticStroke",value:function(e,t,n,r,i,o,a,s,l){if(0===a)return!1;var u=Math.max(a,5);return!(l>t+u&&l>r+u&&l>o+u||l<t-u&&l<r-u&&l<o-u||s>e+u&&s>n+u&&s>i+u||s<e-u&&s<n-u&&s<i-u)&&this.curve.quadraticProjectPoint(e,t,n,r,i,o,s,l,null)<=u/2}},{key:"isInsideArcStroke",value:function(e,t,n,r,i,o,a,s,l){var u=this.PI2;if(0===a)return!1;var c=Math.max(a,5);s-=e,l-=t;var f=Math.sqrt(s*s+l*l);if(f-c>n||f+c<n)return!1;if(Math.abs(r-i)>=u)return!0;if(o){var h=r;r=this.normalizeRadian(i),i=this.normalizeRadian(h)}else r=this.normalizeRadian(r),i=this.normalizeRadian(i);r>i&&(i+=u);var p=Math.atan2(l,s);return p<0&&(p+=u),p>=r&&p<=i||p+u>=r&&p+u<=i}},{key:"isInsideBrokenLine",value:function(e,t,n,r){for(var i=Math.max(t,10),o=0,a=e.length-1;o<a;o++){var s=e[o][0],l=e[o][1],u=e[o+1][0],c=e[o+1][1];if(this.isInsideLine(s,l,u,c,i,n,r))return!0}return!1}},{key:"isInsideRing",value:function(e,t,n,r,i,o){var a=(i-e)*(i-e)+(o-t)*(o-t);return a<r*r&&a>n*n}},{key:"isInsideRect",value:function(e,t,n,r,i,o){return i>=e&&i<=e+n&&o>=t&&o<=t+r}},{key:"isInsideCircle",value:function(e,t,n,r,i){return(r-e)*(r-e)+(i-t)*(i-t)<n*n}},{key:"isInsideSector",value:function(e,t,n,r,i,o,a,s,l){return this.isInsideArcStroke(e,t,(n+r)/2,i,o,a,r-n,s,l)}},{key:"isInsidePolygon",value:function(e,t,n){for(var r=e.length,i=0,o=0,a=r-1;o<r;o++){var s=e[a][0],l=e[a][1],u=e[o][0],c=e[o][1];i+=this.windingLine(s,l,u,c,t,n),a=o}return 0!==i}},{key:"windingLine",value:function(e,t,n,r,i,o){if(o>t&&o>r||o<t&&o<r)return 0;if(r==t)return 0;var a=r<t?1:-1;return(o-t)/(r-t)*(n-e)+e>i?a:0}},{key:"swapExtrema",value:function(){var e=this.extrema[0];this.extrema[0]=this.extrema[1],this.extrema[1]=e}},{key:"windingCubic",value:function(e,t,n,r,i,o,a,s,l,u){var c=this.curve,f=this.roots,h=this.extrema;if(u>t&&u>r&&u>o&&u>s||u<t&&u<r&&u<o&&u<s)return 0;var p=c.cubicRootAt(t,r,o,s,u,f);if(0===p)return 0;for(var y,d,m=0,v=-1,b=0;b<p;b++){var g=f[b];c.cubicAt(e,n,i,a,g)<l||(v<0&&(v=c.cubicExtrema(t,r,o,s,h),h[1]<h[0]&&v>1&&this.swapExtrema(),y=c.cubicAt(t,r,o,s,h[0]),v>1&&(d=c.cubicAt(t,r,o,s,h[1]))),2==v?g<h[0]?m+=y<t?1:-1:g<h[1]?m+=d<y?1:-1:m+=s<d?1:-1:g<h[0]?m+=y<t?1:-1:m+=s<y?1:-1)}return m}},{key:"windingQuadratic",value:function(e,t,n,r,i,o,a,s){var l=this.curve,u=this.roots;if(s>t&&s>r&&s>o||s<t&&s<r&&s<o)return 0;var c=l.quadraticRootAt(t,r,o,s,u);if(0===c)return 0;var f=l.quadraticExtremum(t,r,o);if(f>=0&&f<=1){for(var h=0,p=l.quadraticAt(t,r,o,f),y=0;y<c;y++){l.quadraticAt(e,n,i,u[y])>a||(u[y]<f?h+=p<t?1:-1:h+=o<p?1:-1)}return h}return l.quadraticAt(e,n,i,u[0])>a?0:o<t?1:-1}},{key:"windingArc",value:function(e,t,n,r,i,o,a,s){var l=this.roots,u=this.PI2;if((s-=t)>n||s<-n)return 0;var c=Math.sqrt(n*n-s*s);if(l[0]=-c,l[1]=c,Math.abs(r-i)>=u){r=0,i=u;var f=o?1:-1;return a>=l[0]+e&&a<=l[1]+e?f:0}if(o){var h=r;r=this.normalizeRadian(i),i=this.normalizeRadian(h)}else r=this.normalizeRadian(r),i=this.normalizeRadian(i);r>i&&(i+=u);for(var p=0,y=0;y<2;y++){var d=l[y];if(d+e>a){var m=Math.atan2(s,d),v=o?1:-1;m<0&&(m=u+m),(m>=r&&m<=i||m+u>=r&&m+u<=i)&&(m>Math.PI/2&&m<1.5*Math.PI&&(v=-v),p+=v)}}return p}},{key:"isInsidePath",value:function(e,t,n,r,i){var o=0,a=0,s=0,l=0,u=0,c=!0,f=!0;n=n||"fill";for(var h="stroke"===n||"both"===n,p="fill"===n||"both"===n,y=0;y<e.length;y++){var d=e[y],m=d.points;if(c||"M"===d.command){if(y>0&&(p&&(o+=this.windingLine(a,s,l,u,r,i)),0!==o))return!0;l=m[m.length-2],u=m[m.length-1],c=!1,f&&"A"!==d.command&&(f=!1,a=l,s=u)}switch(d.command){case"M":a=m[0],s=m[1];break;case"L":if(h&&this.isInsideLine(a,s,m[0],m[1],t,r,i))return!0;p&&(o+=this.windingLine(a,s,m[0],m[1],r,i)),a=m[0],s=m[1];break;case"C":if(h&&this.isInsideCubicStroke(a,s,m[0],m[1],m[2],m[3],m[4],m[5],t,r,i))return!0;p&&(o+=this.windingCubic(a,s,m[0],m[1],m[2],m[3],m[4],m[5],r,i)),a=m[4],s=m[5];break;case"Q":if(h&&this.isInsideQuadraticStroke(a,s,m[0],m[1],m[2],m[3],t,r,i))return!0;p&&(o+=this.windingQuadratic(a,s,m[0],m[1],m[2],m[3],r,i)),a=m[2],s=m[3];break;case"A":var v=m[0],b=m[1],g=m[2],S=m[3],_=m[4],w=m[5],O=Math.cos(_)*g+v,x=Math.sin(_)*S+b;f?(f=!1,l=O,u=x):o+=this.windingLine(a,s,O,x);var C=(r-v)*S/g+v;if(h&&this.isInsideArcStroke(v,b,S,_,_+w,1-m[7],t,C,i))return!0;p&&(o+=this.windingArc(v,b,S,_,_+w,1-m[7],C,i)),a=Math.cos(_+w)*g+v,s=Math.sin(_+w)*S+b;break;case"z":if(h&&this.isInsideLine(a,s,l,u,t,r,i))return!0;c=!0}}return p&&(o+=this.windingLine(a,s,l,u,r,i)),0!==o}},{key:"getTextWidth",value:function(e,t){var n=e+":"+t;if(this._textWidthCache[n])return this._textWidthCache[n];this._ctx=this._ctx||this.util.getContext(),this._ctx.save(),t&&(this._ctx.font=t),e=(e+"").split("\n");for(var r=0,i=0,o=e.length;i<o;i++)r=Math.max(this._ctx.measureText(e[i]).width,r);return this._ctx.restore(),this._textWidthCache[n]=r,++this._textWidthCacheCounter>this.TEXT_CACHE_MAX&&(this._textWidthCacheCounter=0,this._textWidthCache={}),r}},{key:"getTextHeight",value:function(e,t){var n=e+":"+t;if(this._textHeightCache[n])return this._textHeightCache[n];this._ctx=this._ctx||this.util.getContext(),this._ctx.save(),t&&(this._ctx.font=t),e=(e+"").split("\n");var r=(this._ctx.measureText("ZH").width+2)*e.length;return this._ctx.restore(),this._textHeightCache[n]=r,++this._textHeightCacheCounter>this.TEXT_CACHE_MAX&&(this._textHeightCacheCounter=0,this._textHeightCache={}),r}}]),e}(),w1=function(){function e(){fD(this,e),3===arguments.length&&this.computeBoundingBox(arguments),this.CLASS_NAME="SuperMap.LevelRenderer.Tool.ComputeBoundingBox"}return pD(e,[{key:"computeBoundingBox",value:function(e,t,n){if(0!==e.length){for(var r=e[0][0],i=e[0][0],o=e[0][1],a=e[0][1],s=1;s<e.length;s++){var l=e[s];l[0]<r&&(r=l[0]),l[0]>i&&(i=l[0]),l[1]<o&&(o=l[1]),l[1]>a&&(a=l[1])}t[0]=r,t[1]=o,n[0]=i,n[1]=a}}},{key:"cubeBezier",value:function(e,t,n,r,i,o){var a=new S1,s=[];a.cubicExtrema(e[0],t[0],n[0],r[0],s);for(var l=0;l<s.length;l++)s[l]=a.cubicAt(e[0],t[0],n[0],r[0],s[l]);var u=[];a.cubicExtrema(e[1],t[1],n[1],r[1],u);for(var c=0;c<u.length;c++)u[c]=a.cubicAt(e[1],t[1],n[1],r[1],u[c]);s.push(e[0],r[0]),u.push(e[1],r[1]);var f=Math.min.apply(null,s),h=Math.max.apply(null,s),p=Math.min.apply(null,u),y=Math.max.apply(null,u);i[0]=f,i[1]=p,o[0]=h,o[1]=y}},{key:"quadraticBezier",value:function(e,t,n,r,i){var o=new S1,a=o.quadraticExtremum(e[0],t[0],n[0]),s=o.quadraticExtremum(e[1],t[1],n[1]);a=Math.max(Math.min(a,1),0),s=Math.max(Math.min(s,1),0);var l=1-a,u=1-s,c=l*l*e[0]+2*l*a*t[0]+a*a*n[0],f=l*l*e[1]+2*l*a*t[1]+a*a*n[1],h=u*u*e[0]+2*u*s*t[0]+s*s*n[0],p=u*u*e[1]+2*u*s*t[1]+s*s*n[1];r[0]=Math.min(e[0],n[0],c,h),r[1]=Math.min(e[1],n[1],f,p),i[0]=Math.max(e[0],n[0],c,h),i[1]=Math.max(e[1],n[1],f,p)}},{key:"arc",value:function(e,t,n,r,i,o,a,s){var l=new g1,u=l.create(),c=l.create(),f=l.create();if(u[0]=Math.cos(r)*n+e,u[1]=Math.sin(r)*n+t,c[0]=Math.cos(i)*n+e,c[1]=Math.sin(i)*n+t,l.min(a,u,c),l.max(s,u,c),r%=2*Math.PI,r<0&&(r+=2*Math.PI),i%=2*Math.PI,i<0&&(i+=2*Math.PI),r>i&&!o?i+=2*Math.PI:r<i&&o&&(r+=2*Math.PI),o){var h=i;i=r,r=h}for(var p=0;p<i;p+=Math.PI/2)p>r&&(f[0]=Math.cos(p)*n+e,f[1]=Math.sin(p)*n+t,l.min(a,f,a),l.max(s,f,s))}}]),e}(),O1=function(){function e(){yD(this,e),this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Env";var t=this;return function(e){var n=t.os={},r=t.browser={},i=e.match(/Web[kK]it[\/]{0,1}([\d.]+)/),o=e.match(/(Android);?[\s\/]+([\d.]+)?/),a=e.match(/(iPad).*OS\s([\d_]+)/),s=e.match(/(iPod)(.*OS\s([\d_]+))?/),l=!a&&e.match(/(iPhone\sOS)\s([\d_]+)/),u=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),c=u&&e.match(/TouchPad/),f=e.match(/Kindle\/([\d.]+)/),h=e.match(/Silk\/([\d._]+)/),p=e.match(/(BlackBerry).*Version\/([\d.]+)/),y=e.match(/(BB10).*Version\/([\d.]+)/),d=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),m=e.match(/PlayBook/),v=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),b=e.match(/Firefox\/([\d.]+)/),g=e.match(/MSIE ([\d.]+)/),S=i&&e.match(/Mobile\//)&&!v,_=e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!v;return(r.webkit=!!i)&&(r.version=i[1]),o&&(n.android=!0,n.version=o[2]),l&&!s&&(n.ios=n.iphone=!0,n.version=l[2].replace(/_/g,".")),a&&(n.ios=n.ipad=!0,n.version=a[2].replace(/_/g,".")),s&&(n.ios=n.ipod=!0,n.version=s[3]?s[3].replace(/_/g,"."):null),u&&(n.webos=!0,n.version=u[2]),c&&(n.touchpad=!0),p&&(n.blackberry=!0,n.version=p[2]),y&&(n.bb10=!0,n.version=y[2]),d&&(n.rimtabletos=!0,n.version=d[2]),m&&(r.playbook=!0),f&&(n.kindle=!0,n.version=f[1]),h&&(r.silk=!0,r.version=h[1]),!h&&n.android&&e.match(/Kindle Fire/)&&(r.silk=!0),v&&(r.chrome=!0,r.version=v[1]),b&&(r.firefox=!0,r.version=b[1]),g&&(r.ie=!0,r.version=g[1]),S&&(e.match(/Safari/)||n.ios)&&(r.safari=!0),_&&(r.webview=!0),g&&(r.ie=!0,r.version=g[1]),n.tablet=!!(a||m||o&&!e.match(/Mobile/)||b&&e.match(/Tablet/)||g&&!e.match(/Phone/)&&e.match(/Touch/)),n.phone=!(n.tablet||n.ipod||!(o||l||u||p||y||v&&e.match(/Android/)||v&&e.match(/CriOS\/([\d.]+)/)||b&&e.match(/Mobile/)||g&&e.match(/Touch/))),{browser:r,os:n,canvasSupported:!!document.createElement("canvas").getContext}}(navigator.userAgent)}return mD(e,[{key:"destory",value:function(){return!0}}]),e}(),x1=function(){function e(){vD(this,e),this.stop="function"==typeof window.addEventListener?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0},this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Event"}return gD(e,[{key:"getX",value:function(e){return void 0!==e.zrenderX&&e.zrenderX||void 0!==e.offsetX&&e.offsetX||void 0!==e.layerX&&e.layerX||void 0!==e.clientX&&e.clientX}},{key:"getY",value:function(e){return void 0!==e.zrenderY&&e.zrenderY||void 0!==e.offsetY&&e.offsetY||void 0!==e.layerY&&e.layerY||void 0!==e.clientY&&e.clientY}},{key:"getDelta",value:function(e){return void 0!==e.zrenderDelta&&e.zrenderDelta||void 0!==e.wheelDelta&&e.wheelDelta||void 0!==e.detail&&-e.detail}}]),e}(),C1=function(){function e(){_D(this,e),this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Http"}return OD(e,[{key:"get",value:function(e,t,n){if("object"===SD(e)){var r=e;e=r.url,t=r.onsuccess,n=r.onerror}var i=window.XMLHttpRequest?new XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");i.open("GET",e,!0),i.onreadystatechange=function(){4==i.readyState&&(i.status>=200&&i.status<300||304===i.status?t&&t(i.responseText):n&&n(),i.onreadystatechange=new Function,i=null)},i.send(null)}}]),e}(),T1=function e(){xD(this,e)};T1.EVENT={RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",MOUSEWHEEL:"mousewheel",MOUSEMOVE:"mousemove",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",GLOBALOUT:"globalout",DRAGSTART:"dragstart",DRAGEND:"dragend",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",touchClickDelay:300},T1.catchBrushException=!1,T1.debugMode=0;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var P1=function(){function e(){return CD(this,e),this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Log",function(){if(0!==T1.debugMode)if(1==T1.debugMode)for(var e in arguments)throw new Error(arguments[e]);else if(T1.debugMode>1)for(var t in arguments)console.log(arguments[t])}}return PD(e,[{key:"destory",value:function(){return!0}}]),e}(),E1=function(){function e(){ED(this,e),this._radians=window.Math.PI/180,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Math"}return MD(e,[{key:"sin",value:function(e,t){return window.Math.sin(t?e*this._radians:e)}},{key:"cos",value:function(e,t){return window.Math.cos(t?e*this._radians:e)}},{key:"degreeToRadian",value:function(e){return e*this._radians}},{key:"radianToDegree",value:function(e){return e/this._radians}}]),e}(),k1=function(){function e(){AD(this,e),this.ArrayCtor="undefined"==typeof Float32Array?Array:Float32Array,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Matrix"}return jD(e,[{key:"create",value:function(){var e=this.ArrayCtor,t=new e(6);return this.identity(t),t}},{key:"identity",value:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}},{key:"copy",value:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}},{key:"mul",value:function(e,t,n){return e[0]=t[0]*n[0]+t[2]*n[1],e[1]=t[1]*n[0]+t[3]*n[1],e[2]=t[0]*n[2]+t[2]*n[3],e[3]=t[1]*n[2]+t[3]*n[3],e[4]=t[0]*n[4]+t[2]*n[5]+t[4],e[5]=t[1]*n[4]+t[3]*n[5]+t[5],e}},{key:"translate",value:function(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}},{key:"rotate",value:function(e,t,n){var r=t[0],i=t[2],o=t[4],a=t[1],s=t[3],l=t[5],u=Math.sin(n),c=Math.cos(n);return e[0]=r*c+a*u,e[1]=-r*u+a*c,e[2]=i*c+s*u,e[3]=-i*u+c*s,e[4]=c*o+u*l,e[5]=c*l-u*o,e}},{key:"scale",value:function(e,t,n){var r=n[0],i=n[1];return e[0]=t[0]*r,e[1]=t[1]*i,e[2]=t[2]*r,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*i,e}},{key:"invert",value:function(e,t){var n=t[0],r=t[2],i=t[4],o=t[1],a=t[3],s=t[5],l=n*a-o*r;return l?(l=1/l,e[0]=a*l,e[1]=-o*l,e[2]=-r*l,e[3]=n*l,e[4]=(r*s-a*i)*l,e[5]=(o*i-n*s)*l,e):null}},{key:"mulVector",value:function(e,t,n){var r=t[0],i=t[2],o=t[4],a=t[1],s=t[3],l=t[5];return e[0]=n[0]*r+n[1]*i+o,e[1]=n[0]*a+n[1]*s+l,e}}]),e}(),M1=function(){function e(){RD(this,e)}return ID(e,null,[{key:"SUtil_smoothBezier",value:function(t,n,r,i,o){o&&2===o||(o=[0,0]);var a,s,l=o,u=[],c=[],f=[],h=[],p=!!i;if(p){a=[1/0,1/0],s=[-1/0,-1/0];for(var y=t.length,d=0;d<y;d++)e.Util_vector.min(a,a,[t[d][0]+l[0],t[d][1]+l[1]]),e.Util_vector.max(s,s,[t[d][0]+l[0],t[d][1]+l[1]]);e.Util_vector.min(a,a,i[0]),e.Util_vector.max(s,s,i[1])}for(var m=t.length,v=0;v<m;v++){var b=[t[v][0]+l[0],t[v][1]+l[1]],g=void 0,S=void 0;if(r)g=[t[v?v-1:m-1][0]+l[0],t[v?v-1:m-1][1]+l[1]],S=[t[(v+1)%m][0]+l[0],t[(v+1)%m][1]+l[1]];else{if(0===v||v===m-1){u.push([t[v][0]+l[0],t[v][1]+l[1]]);continue}g=[t[v-1][0]+l[0],t[v-1][1]+l[1]],S=[t[v+1][0]+l[0],t[v+1][1]+l[1]]}e.Util_vector.sub(c,S,g),e.Util_vector.scale(c,c,n);var _=e.Util_vector.distance(b,g),w=e.Util_vector.distance(b,S),O=_+w;0!==O&&(_/=O,w/=O),e.Util_vector.scale(f,c,-_),e.Util_vector.scale(h,c,w);var x=e.Util_vector.add([],b,f),C=e.Util_vector.add([],b,h);p&&(e.Util_vector.max(x,x,a),e.Util_vector.min(x,x,s),e.Util_vector.max(C,C,a),e.Util_vector.min(C,C,s)),u.push(x),u.push(C)}return r&&u.push(u.shift()),u}},{key:"SUtil_smoothSpline",value:function(t,n,r,i){function o(e,t,n,r,i,o,a){var s=.5*(n-e),l=.5*(r-t);return(2*(t-n)+s+l)*a+(-3*(t-n)-2*s-l)*o+s*i+t}i&&2===i||(i=[0,0]);for(var a=i,s=t.length,l=[],u=0,c=1;c<s;c++)u+=e.Util_vector.distance([t[c-1][0]+a[0],t[c-1][1]+a[1]],[t[c][0]+a[0],t[c][1]+a[1]]);var f=u/5;f=f<s?s:f;for(var h=0;h<f;h++){var p=h/(f-1)*(n?s:s-1),y=Math.floor(p),d=p-y,m=void 0,v=[t[y%s][0]+a[0],t[y%s][1]+a[1]],b=void 0,g=void 0;n?(m=[t[(y-1+s)%s][0]+a[0],t[(y-1+s)%s][1]+a[1]],b=[t[(y+1)%s][0]+a[0],t[(y+1)%s][1]+a[1]],g=[t[(y+2)%s][0]+a[0],t[(y+2)%s][1]+a[1]]):(m=[t[0===y?y:y-1][0]+a[0],t[0===y?y:y-1][1]+a[1]],b=[t[y>s-2?s-1:y+1][0]+a[0],t[y>s-2?s-1:y+1][1]+a[1]],g=[t[y>s-3?s-1:y+2][0]+a[0],t[y>s-3?s-1:y+2][1]+a[1]]);var S=d*d,_=d*S;l.push([o(m[0],v[0],b[0],g[0],d,S,_),o(m[1],v[1],b[1],g[1],d,S,_)])}return l}},{key:"SUtil_dashedLineTo",value:function(e,t,n,r,i,o,a){var s=[5,5];if(o="number"!=typeof o?5:o,e.setLineDash)return s[0]=o,s[1]=o,a&&a instanceof Array?e.setLineDash(a):e.setLineDash(s),e.moveTo(t,n),void e.lineTo(r,i);var l=r-t,u=i-n,c=Math.floor(Math.sqrt(l*l+u*u)/o);l/=c,u/=c;for(var f=!0,h=0;h<c;++h)f?e.moveTo(t,n):e.lineTo(t,n),f=!f,t+=l,n+=u;e.lineTo(r,i)}}]),e}();M1.Util_area=new _1,M1.Util_color=new t1,M1.Util_computeBoundingBox=new w1,M1.Util_curve=new S1,M1.Util_env=new O1,M1.Util_event=new x1,M1.Util_http=new C1,M1.Util_log=new P1,M1.Util_math=new E1,M1.Util_matrix=new k1,M1.Util=new e1,M1.Util_vector=new g1;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var A1=function(){function e(){DD(this,e),this.position=[0,0],this.rotation=[0,0,0],this.scale=[1,1,0,0],this.needLocalTransform=!1,this.needTransform=!1,this.CLASS_NAME="SuperMap.LevelRenderer.Transformable",this.lookAt=function(){var e=M1.Util_vector.create();return function(t){function n(e){return e>-5e-5&&e<5e-5}this.transform||(this.transform=M1.Util_matrix.create());var r=this.transform;M1.Util_vector.sub(e,t,this.position),n(e[0])&&n(e[1])||(M1.Util_vector.normalize(e,e),r[2]=e[0]*this.scale[1],r[3]=e[1]*this.scale[1],r[0]=e[1]*this.scale[0],r[1]=-e[0]*this.scale[0],r[4]=this.position[0],r[5]=this.position[1],this.decomposeTransform())}}()}return BD(e,[{key:"destroy",value:function(){this.position=null,this.rotation=null,this.scale=null,this.needLocalTransform=null,this.needTransform=null}},{key:"updateNeedTransform",value:function(){function e(e){return e>5e-5||e<-5e-5}this.needLocalTransform=e(this.rotation[0])||e(this.position[0])||e(this.position[1])||e(this.scale[0]-1)||e(this.scale[1]-1)}},{key:"updateTransform",value:function(){function e(e){return e>5e-5||e<-5e-5}if(this.updateNeedTransform(),this.parent?this.needTransform=this.needLocalTransform||this.parent.needTransform:this.needTransform=this.needLocalTransform,this.needTransform){var t=[0,0],n=this.transform||M1.Util_matrix.create();if(M1.Util_matrix.identity(n),this.needLocalTransform){if(e(this.scale[0])||e(this.scale[1])){t[0]=-this.scale[2]||0,t[1]=-this.scale[3]||0;var r=e(t[0])||e(t[1]);r&&M1.Util_matrix.translate(n,n,t),M1.Util_matrix.scale(n,n,this.scale),r&&(t[0]=-t[0],t[1]=-t[1],M1.Util_matrix.translate(n,n,t))}if(this.rotation instanceof Array){if(0!==this.rotation[0]){t[0]=-this.rotation[1]||0,t[1]=-this.rotation[2]||0;var i=e(t[0])||e(t[1]);i&&M1.Util_matrix.translate(n,n,t),M1.Util_matrix.rotate(n,n,this.rotation[0]),i&&(t[0]=-t[0],t[1]=-t[1],M1.Util_matrix.translate(n,n,t))}}else 0!==this.rotation&&M1.Util_matrix.rotate(n,n,this.rotation);(e(this.position[0])||e(this.position[1]))&&M1.Util_matrix.translate(n,n,this.position)}this.transform=n,this.parent&&this.parent.needTransform&&(this.needLocalTransform?M1.Util_matrix.mul(this.transform,this.parent.transform,this.transform):M1.Util_matrix.copy(this.transform,this.parent.transform))}}},{key:"setTransform",value:function(e){if(this.needTransform){var t=this.transform;e.transform(t[0],t[1],t[2],t[3],t[4],t[5])}}},{key:"decomposeTransform",value:function(){function e(e){return e>5e-5||e<-5e-5}if(this.transform){var t=this.transform,n=t[0]*t[0]+t[1]*t[1],r=this.position,i=this.scale,o=this.rotation;e(n-1)&&(n=Math.sqrt(n));var a=t[2]*t[2]+t[3]*t[3];e(a-1)&&(a=Math.sqrt(a)),r[0]=t[4],r[1]=t[5],i[0]=n,i[1]=a,i[2]=i[3]=0,o[0]=Math.atan2(-t[1]/a,t[0]/n),o[1]=o[2]=0}}}]),e}(),L1=function(e){function t(e){var n;return GD(this,t),n=HD(this,QD(t).call(this,e)),e=e||{},n.id=null,n.style={},n.highlightStyle=null,n.parent=null,n.__dirty=!0,n.__clipShapes=[],n.invisible=!1,n.ignore=!1,n.zlevel=0,n.draggable=!1,n.clickable=!1,n.hoverable=!0,n.z=0,n.refOriginalPosition=[0,0],n.refDataID=null,n.isHoverByRefDataID=!1,n.refDataHoverGroup=null,n.dataInfo=null,RY.extend(JD(n),e),n.id=n.id||RY.createUniqueID("smShape_"),n.CLASS_NAME="SuperMap.LevelRenderer.Shape",n.getTansform=function(){var e=[];return function(t,n){var r=[t,n];return this.needTransform&&this.transform&&(M1.Util_matrix.invert(e,this.transform),M1.Util_matrix.mulVector(r,e,[t,n,1]),t==r[0]&&n==r[1]&&this.updateNeedTransform()),r}}(),n}return YD(t,e),VD(t,[{key:"destroy",value:function(){this.id=null,this.style=null,this.highlightStyle=null,this.parent=null,this.__dirty=null,this.__clipShapes=null,this.invisible=null,this.ignore=null,this.zlevel=null,this.draggable=null,this.clickable=null,this.hoverable=null,this.z=null,this.refOriginalPosition=null,this.refDataID=null,this.refDataHoverGroup=null,this.isHoverByRefDataID=null,this.dataInfo=null,qD(QD(t.prototype),"destroy",this).call(this)}},{key:"brush",value:function(e,t){var n=this.beforeBrush(e,t);switch(e.beginPath(),this.buildPath(e,n),n.brushType){case"both":this.setCtxGlobalAlpha(e,"fill",n),e.fill(),n.lineWidth>0&&(this.setCtxGlobalAlpha(e,"stroke",n),e.stroke()),this.setCtxGlobalAlpha(e,"reset",n);break;case"stroke":this.setCtxGlobalAlpha(e,"stroke",n),n.lineWidth>0&&e.stroke(),this.setCtxGlobalAlpha(e,"reset",n);break;default:this.setCtxGlobalAlpha(e,"fill",n),e.fill(),this.setCtxGlobalAlpha(e,"reset",n)}this.drawText(e,n,this.style),this.afterBrush(e)}},{key:"beforeBrush",value:function(e,t){var n=this.style;return this.brushTypeOnly&&(n.brushType=this.brushTypeOnly),t&&(n=this.getHighlightStyle(n,this.highlightStyle||{},this.brushTypeOnly)),"stroke"==this.brushTypeOnly&&(n.strokeColor=n.strokeColor||n.color),e.save(),this.doClip(e),this.setContext(e,n),this.setTransform(e),n}},{key:"afterBrush",value:function(e){e.restore()}},{key:"setContext",value:function(e,t){for(var n=[["color","fillStyle"],["strokeColor","strokeStyle"],["opacity","globalAlpha"],["lineCap","lineCap"],["lineJoin","lineJoin"],["miterLimit","miterLimit"],["lineWidth","lineWidth"],["shadowBlur","shadowBlur"],["shadowColor","shadowColor"],["shadowOffsetX","shadowOffsetX"],["shadowOffsetY","shadowOffsetY"]],r=0,i=n.length;r<i;r++){var o=n[r][0],a=t[o],s=n[r][1];void 0!==a&&(e[s]=a)}}},{key:"doClip",value:function(e){var t=M1.Util_matrix.create();if(this.__clipShapes)for(var n=0;n<this.__clipShapes.length;n++){var r=this.__clipShapes[n];if(r.needTransform){var i=r.transform;M1.Util_matrix.invert(t,i),e.transform(i[0],i[1],i[2],i[3],i[4],i[5])}if(e.beginPath(),r.buildPath(e,r.style),e.clip(),r.needTransform){var o=t;e.transform(o[0],o[1],o[2],o[3],o[4],o[5])}}}},{key:"getHighlightStyle",value:function(e,t,n){var r={};for(var i in e)r[i]=e[i];var o=M1.Util_color.getHighlightColor();"stroke"!=e.brushType?(r.strokeColor=o,r.lineWidth=e.lineWidth||1,r.brushType="both"):"stroke"!=n?(r.strokeColor=o,r.lineWidth=e.lineWidth||1):r.strokeColor=t.strokeColor||M1.Util_color.mix(e.strokeColor,M1.Util_color.toRGB(o));for(var a in t)void 0!==t[a]&&(r[a]=t[a]);return r}},{key:"getHighlightZoom",value:function(){return"text"!=this.type?6:2}},{key:"drift",value:function(e,t){this.position[0]+=e,this.position[1]+=t}},{key:"buildPath",value:function(e,t){M1.Util_log("buildPath not implemented in "+this.type)}},{key:"getRect",value:function(e){M1.Util_log("getRect not implemented in "+this.type)}},{key:"isCover",value:function(e,t){var n=this.getTansform(e,t);e=n[0],t=n[1];var r=this.style.__rect;return r||(r=this.style.__rect=this.getRect(this.style)),e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height&&M1.Util_area.isInside(this,this.style,e,t)}},{key:"drawText",value:function(e,n,r){if(void 0!==n.text&&!1!==n.text){var i=n.textColor||n.color||n.strokeColor;e.fillStyle=i;var o,a,s,l,u=10,c=n.textPosition||this.textPosition||"top",f=[];switch(f=this.refOriginalPosition&&2===this.refOriginalPosition.length?this.refOriginalPosition:[0,0],c){case"inside":case"top":case"bottom":case"left":case"right":if(this.getRect){var h=(r||n).__rect||this.getRect(r||n);switch(c){case"inside":s=h.x+h.width/2,l=h.y+h.height/2,o="center",a="middle","stroke"!=n.brushType&&i==n.color&&(e.fillStyle="#fff");break;case"left":s=h.x-u,l=h.y+h.height/2,o="end",a="middle";break;case"right":s=h.x+h.width+u,l=h.y+h.height/2,o="start",a="middle";break;case"top":s=h.x+h.width/2,l=h.y-u,o="center",a="bottom";break;case"bottom":s=h.x+h.width/2,l=h.y+h.height+u,o="center",a="top"}}break;case"start":case"end":var p=0,y=0,d=0,m=0;if(void 0!==n.pointList){var v=n.pointList;if(v.length<2)return;var b=v.length;switch(c){case"start":p=v[0][0]+f[0],y=v[1][0]+f[0],d=v[0][1]+f[1],m=v[1][1]+f[1];break;case"end":p=v[b-2][0]+f[0],y=v[b-1][0]+f[0],d=v[b-2][1]+f[1],m=v[b-1][1]+f[1]}}else p=n.xStart+f[0]||0,y=n.xEnd+f[0]||0,d=n.yStart+f[1]||0,m=n.yEnd+f[1]||0;switch(c){case"start":o=p<y?"end":"start",a=d<m?"bottom":"top",s=p,l=d;break;case"end":o=p<y?"start":"end",a=d<m?"top":"bottom",s=y,l=m}u-=4,p&&y&&p!=y?s-="end"==o?u:-u:o="center",d!=m?l-="bottom"==a?u:-u:a="middle";break;case"specific":s=n.textX||0,l=n.textY||0,o="start",a="middle"}n.labelXOffset&&!isNaN(n.labelXOffset)&&(s+=n.labelXOffset),n.labelYOffset&&!isNaN(n.labelYOffset)&&(l+=n.labelYOffset),null!=s&&null!=l&&t._fillText(e,n.text,s,l,n.textFont,n.textAlign||o,n.textBaseline||a)}}},{key:"modSelf",value:function(){this.__dirty=!0,this.style&&(this.style.__rect=null),this.highlightStyle&&(this.highlightStyle.__rect=null)}},{key:"isSilent",value:function(){return!(this.hoverable||this.draggable||this.clickable||this.onmousemove||this.onmouseover||this.onmouseout||this.onmousedown||this.onmouseup||this.onclick||this.ondragenter||this.ondragover||this.ondragleave||this.ondrop)}},{key:"setCtxGlobalAlpha",value:function(e,t,n){e.globalAlpha="fill"===t?void 0===n.fillOpacity?void 0===n.opacity?1:n.opacity:n.fillOpacity:"stroke"===t?void 0===n.strokeOpacity?void 0===n.opacity?1:n.opacity:n.strokeOpacity:void 0===n.opacity?1:n.opacity}}],[{key:"_fillText",value:function(e,n,r,i,o,a,s){o&&(e.font=o),e.textAlign=a,e.textBaseline=s;var l=t._getTextRect(n,r,i,o,a,s);n=(n+"").split("\n");var u=M1.Util_area.getTextHeight("ZH",o);switch(s){case"top":i=l.y;break;case"bottom":i=l.y+u;break;default:i=l.y+u/2}for(var c=0,f=n.length;c<f;c++)e.fillText(n[c],r,i),i+=u}},{key:"_getTextRect",value:function(e,t,n,r,i,o){var a=M1.Util_area.getTextWidth(e,r),s=M1.Util_area.getTextHeight("ZH",r);switch(e=(e+"").split("\n"),i){case"end":case"right":t-=a;break;case"center":t-=a/2}switch(o){case"top":break;case"bottom":n-=s*e.length;break;default:n-=s*e.length/2}return{x:t,y:n,width:a,height:s*e.length}}}]),t}(xQ.mixin(b1,A1)),j1=function(e){function t(e){var n;return ZD(this,t),n=tF(this,oF(t).call(this,e)),n.type="smicpoint",n.refOriginalPosition&&2===n.refOriginalPosition.length||(n.refOriginalPosition=[0,0]),n.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicPoint",n}return aF(t,e),eF(t,[{key:"destroy",value:function(){this.type=null,rF(oF(t.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition;e.arc(t.x+n[0],t.y+n[1],t.r,0,2*Math.PI,!0)}},{key:"getRect",value:function(e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t=this.refOriginalPosition;if(e.__rect)return e.__rect;var n;return n="stroke"==e.brushType||"fill"==e.brushType?e.lineWidth||1:0,e.__rect={x:Math.round(e.x+t[0]-e.r-n/2),y:Math.round(e.y+t[1]-e.r-n/2),width:2*e.r+n,height:2*e.r+n},e.__rect}}]),t}(L1),R1=function(e){function t(e){var n;return uF(this,t),n=hF(this,mF(t).call(this,e)),n.type="smictext",n.refOriginalPosition&&2===n.refOriginalPosition.length||(n.refOriginalPosition=[0,0]),n.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicText",n}return vF(t,e),fF(t,[{key:"destroy",value:function(){this.type=null,yF(mF(t.prototype),"destroy",this).call(this)}},{key:"brush",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition,r=this.style;if(t&&(r=this.getHighlightStyle(r,this.highlightStyle||{})),void 0!==r.text&&!1!==r.text){e.save(),this.doClip(e),this.setContext(e,r),this.setTransform(e),r.textFont&&(e.font=r.textFont),e.textAlign=r.textAlign||"start",e.textBaseline=r.textBaseline||"middle";var i,o=(r.text+"").split("\n"),a=M1.Util_area.getTextHeight("ZH",r.textFont),s=this.getRectNoRotation(r),l=r.x+n[0];i="top"==r.textBaseline?s.y:"bottom"==r.textBaseline?s.y+a:s.y+a/2;for(var u=r.x+n[0],c=r.y+n[1],f=0,h=o.length;f<h;f++){switch(r.labelRect&&(e.fillRect(s.x-2,s.y,s.width+4,s.height),e.fillStyle=r.strokeColor,e.strokeRect(s.x-2,s.y,s.width+4,s.height),e.fillStyle=r.textColor),r.brushType){case"stroke":this.setCtxGlobalAlpha(e,"stroke",r),r.textRotation&&0!==r.textRotation?(e.save(),e.translate(u,c),e.rotate(r.textRotation*Math.PI/180),"top"==r.textBaseline?r.maxWidth?e.strokeText(o[f],0,a*f,r.maxWidth):e.strokeText(o[f],0,a*f):"bottom"==r.textBaseline?r.maxWidth?e.strokeText(o[f],0,a*(f+1)-s.height,r.maxWidth):e.strokeText(o[f],0,a*(f+1)-s.height):r.maxWidth?e.strokeText(o[f],0,a*(f+1)-s.height/2-a/2,r.maxWidth):e.strokeText(o[f],0,a*(f+1)-s.height/2-a/2),e.restore()):r.maxWidth?e.strokeText(o[f],l,i,r.maxWidth):e.strokeText(o[f],l,i),this.setCtxGlobalAlpha(e,"reset",r);break;case"both":r.textRotation&&0!==r.textRotation?(e.save(),e.translate(u,c),e.rotate(r.textRotation*Math.PI/180),"top"==r.textBaseline?r.maxWidth?(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(o[f],0,a*f,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(o[f],0,a*f,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r)):(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(o[f],0,a*f),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(o[f],0,a*f),this.setCtxGlobalAlpha(e,"reset",r)):"bottom"==r.textBaseline?r.maxWidth?(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(o[f],0,a*(f+1)-s.height,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(o[f],0,a*(f+1)-s.height,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r)):(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(o[f],0,a*(f+1)-s.height),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(o[f],0,a*(f+1)-s.height),this.setCtxGlobalAlpha(e,"reset",r)):r.maxWidth?(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(o[f],0,a*(f+1)-s.height/2-a/2,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(o[f],0,a*(f+1)-s.height/2-a/2,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r)):(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(o[f],0,a*(f+1)-s.height/2-a/2),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(o[f],0,a*(f+1)-s.height/2-a/2),this.setCtxGlobalAlpha(e,"reset",r)),e.restore()):r.maxWidth?(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(o[f],l,i,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(o[f],l,i,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r)):(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(o[f],l,i),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(o[f],l,i),this.setCtxGlobalAlpha(e,"reset",r));break;default:this.setCtxGlobalAlpha(e,"fill",r),r.textRotation&&0!==r.textRotation?(e.save(),e.translate(u,c),e.rotate(r.textRotation*Math.PI/180),"top"==r.textBaseline?r.maxWidth?e.fillText(o[f],0,a*f,r.maxWidth):e.fillText(o[f],0,a*f):"bottom"==r.textBaseline?r.maxWidth?e.fillText(o[f],0,a*(f+1)-s.height,r.maxWidth):e.fillText(o[f],0,a*(f+1)-s.height):r.maxWidth?e.fillText(o[f],0,a*(f+1)-s.height/2-a/2,r.maxWidth):e.fillText(o[f],0,a*(f+1)-s.height/2-a/2),e.restore()):r.maxWidth?e.fillText(o[f],l,i,r.maxWidth):e.fillText(o[f],l,i),this.setCtxGlobalAlpha(e,"reset",r)}i+=a}e.restore()}}},{key:"getRect",value:function(e){if(e.__rect)return e.__rect;for(var t,n,r,i,o=this.getTextBackground(e,!0),a=0,s=o.length;a<s;a++){var l=o[a];0==a?(t=l[0],r=l[0],n=l[1],i=l[1]):(l[0]<t&&(t=l[0]),l[0]>r&&(r=l[0]),l[1]<n&&(n=l[1]),l[1]>i&&(i=l[1]))}return e.__rect={x:t,y:n,width:r-t,height:i-n},e.__rect}},{key:"getRectNoRotation",value:function(e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t=this.refOriginalPosition,n=M1.Util_area.getTextHeight("ZH",e.textFont),r=M1.Util_area.getTextWidth(e.text,e.textFont),i=M1.Util_area.getTextHeight(e.text,e.textFont),o=e.x+t[0];"end"==e.textAlign||"right"==e.textAlign?o-=r:"center"==e.textAlign&&(o-=r/2);var a;a="top"==e.textBaseline?e.y+t[1]:"bottom"==e.textBaseline?e.y+t[1]-i:e.y+t[1]-i/2;var s,l=!1;if(e.maxWidth){var u=parseInt(e.maxWidth);u<r&&(s=r,l=!0,r=u),o=e.x+t[0],"end"==e.textAlign||"right"==e.textAlign?o-=r:"center"==e.textAlign&&(o-=r/2)}if(e.textFont){e.textFont.toLowerCase().indexOf("italic")>-1&&(r+=!0===l?n/3*(r/s):n/3)}return{x:o,y:a,width:r,height:i}}},{key:"getTextBackground",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition;if(!t&&e.__textBackground)return e.__textBackground;var r=this.getRectNoRotation(e),i=e.x+n[0],o=e.y+n[1],a=[];if(e.textRotation&&0!==e.textRotation){var s=e.textRotation,l=this.getRotatedLocation(r.x,r.y,i,o,s),u=this.getRotatedLocation(r.x+r.width,r.y,i,o,s),c=this.getRotatedLocation(r.x+r.width,r.y+r.height,i,o,s),f=this.getRotatedLocation(r.x,r.y+r.height,i,o,s);a.push(l),a.push(u),a.push(c),a.push(f)}else{var h=[r.x,r.y],p=[r.x+r.width,r.y],y=[r.x+r.width,r.y+r.height],d=[r.x,r.y+r.height];a.push(h),a.push(p),a.push(y),a.push(d)}return e.__textBackground=a,e.__textBackground}},{key:"getRotatedLocation",value:function(e,t,n,r,i){var o,a,s=new Array;return t=-t,r=-r,i=-i,o=(e-n)*Math.cos(i/180*Math.PI)-(t-r)*Math.sin(i/180*Math.PI)+n,a=(e-n)*Math.sin(i/180*Math.PI)+(t-r)*Math.cos(i/180*Math.PI)+r,s[0]=o,s[1]=-a,s}}]),t}(L1),N1=function(e){function t(e){var n;return SF(this,t),n=OF(this,PF(t).call(this,e)),n.type="smiccircle",n.refOriginalPosition&&2===n.refOriginalPosition.length||(n.refOriginalPosition=[0,0]),n.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicCircle",n}return EF(t,e),wF(t,[{key:"destroy",value:function(){this.type=null,CF(PF(t.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition,r=t.x+n[0],i=t.y+n[1];return e.moveTo(r+t.r,i),e.arc(r,i,t.r,0,2*Math.PI,!0),!0}},{key:"getRect",value:function(e){if(e.__rect)return e.__rect;this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t,n=this.refOriginalPosition,r=e.x+n[0],i=e.y+n[1],o=e.r;return t="stroke"==e.brushType||"fill"==e.brushType?e.lineWidth||1:0,e.__rect={x:Math.round(r-o-t/2),y:Math.round(i-o-t/2),width:2*o+t,height:2*o+t},e.__rect}}]),t}(L1),I1=function(e){function t(e){var n;return AF(this,t),n=RF(this,FF(t).call(this,e)),n.type="smicpolygon",n.holePolygonPointLists=null,n.refOriginalPosition&&2===n.refOriginalPosition.length||(n.refOriginalPosition=[0,0]),n.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicPolygon",n}return BF(t,e),jF(t,[{key:"destroy",value:function(){this.type=null,this.holePolygonPointLists=null,IF(FF(t.prototype),"destroy",this).call(this)}},{key:"brush",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.style;t&&(n=this.getHighlightStyle(n,this.highlightStyle||{})),e.save(),this.setContext(e,n),this.setTransform(e);var r=!1;"fill"!=n.brushType&&"both"!=n.brushType&&void 0!==n.brushType||(e.beginPath(),"dashed"==n.lineType||"dotted"==n.lineType||"dot"==n.lineType||"dash"==n.lineType||"dashdot"==n.lineType||"longdash"==n.lineType||"longdashdot"==n.lineType?this.buildPath(e,{lineType:"solid",lineWidth:n.lineWidth,pointList:n.pointList}):(this.buildPath(e,n),r=!0),e.closePath(),this.setCtxGlobalAlpha(e,"fill",n),e.fill(),this.setCtxGlobalAlpha(e,"reset",n)),n.lineWidth>0&&("stroke"==n.brushType||"both"==n.brushType)&&(r||(e.beginPath(),this.buildPath(e,n)),this.setCtxGlobalAlpha(e,"stroke",n),e.stroke(),this.setCtxGlobalAlpha(e,"reset",n)),this.drawText(e,n,this.style);var i=RY.cloneObject(n);if(i.pointList&&this.holePolygonPointLists&&this.holePolygonPointLists.length>0)for(var o=this.holePolygonPointLists,a=o.length,s=0;s<a;s++){var l=o[s];i.pointList=l,e.globalCompositeOperation="destination-out",r=!1,"fill"!=i.brushType&&"both"!=i.brushType&&void 0!==i.brushType||(e.beginPath(),"dashed"==i.lineType||"dotted"==i.lineType||"dot"==i.lineType||"dash"==i.lineType||"dashdot"==i.lineType||"longdash"==i.lineType||"longdashdot"==i.lineType?this.buildPath(e,{lineType:"solid",lineWidth:i.lineWidth,pointList:i.pointList}):(this.buildPath(e,i),r=!0),e.closePath(),this.setCtxGlobalAlpha(e,"fill",i),e.fill(),this.setCtxGlobalAlpha(e,"reset",i)),i.lineWidth>0&&("stroke"==i.brushType||"both"==i.brushType)?(r||(e.beginPath(),this.buildPath(e,i)),e.globalCompositeOperation="source-over",this.setCtxGlobalAlpha(e,"stroke",i),e.stroke(),this.setCtxGlobalAlpha(e,"reset",i)):e.globalCompositeOperation="source-over"}e.restore()}},{key:"buildPath",value:function(e,t){t.showShadow&&(e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY),this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition,r=t.pointList;if(!(r.length<2))if(t.smooth&&"spline"!==t.smooth){var i=M1.SUtil_smoothBezier(r,t.smooth,!0,t.smoothConstraint,n);e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var o,a,s,l=r.length,u=0;u<l;u++)o=i[2*u],a=i[2*u+1],s=[r[(u+1)%l][0]+n[0],r[(u+1)%l][1]+n[1]],e.bezierCurveTo(o[0],o[1],a[0],a[1],s[0],s[1])}else if("spline"===t.smooth&&(r=M1.SUtil_smoothSpline(r,!0,null,n)),t.lineType&&"solid"!=t.lineType){if("dashed"===t.lineType||"dotted"===t.lineType||"dot"===t.lineType||"dash"===t.lineType||"longdash"===t.lineType){var c=t._dashLength||(t.lineWidth||1)*("dashed"==t.lineType?5:1);t._dashLength=c;var f=t.lineWidth||1,h=f,p=f;"dashed"===t.lineType&&(h*=5,p*=5,t.lineCap&&"butt"!==t.lineCap&&(h-=f,p+=f)),"dotted"===t.lineType&&t.lineCap&&"butt"!==t.lineCap&&(h=1,p+=f),"dot"===t.lineType&&(p*=4,t.lineCap&&"butt"!==t.lineCap&&(h=1,p+=f)),"dash"===t.lineType&&(h*=4,p*=4,t.lineCap&&"butt"!==t.lineCap&&(h-=f,p+=f)),"longdash"===t.lineType&&(h*=8,p*=4,t.lineCap&&"butt"!==t.lineCap&&(h-=f,p+=f)),e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var y=1;y<r.length;y++)M1.SUtil_dashedLineTo(e,r[y-1][0]+n[0],r[y-1][1]+n[1],r[y][0]+n[0],r[y][1]+n[1],f,[h,p]);M1.SUtil_dashedLineTo(e,r[r.length-1][0]+n[0],r[r.length-1][1]+n[1],r[0][0]+n[0],r[0][1]+n[1],f,[h,p])}else if("dashdot"===t.lineType||"longdashdot"===t.lineType){var d=t._dashLength||(t.lineWidth||1)*("dashed"==t.lineType?5:1);t._dashLength=d;var m=t.lineWidth||1,v=m,b=m,g=m,S=m;"dashdot"===t.lineType&&(v*=4,b*=4,S*=4,t.lineCap&&"butt"!==t.lineCap&&(v-=m,b+=m,g=1,S+=m)),"longdashdot"===t.lineType&&(v*=8,b*=4,S*=4,t.lineCap&&"butt"!==t.lineCap&&(v-=m,b+=m,g=1,S+=m)),e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var _=1;_<r.length;_++)M1.SUtil_dashedLineTo(e,r[_-1][0]+n[0],r[_-1][1]+n[1],r[_][0]+n[0],r[_][1]+n[1],m,[v,b,g,S]);M1.SUtil_dashedLineTo(e,r[r.length-1][0]+n[0],r[r.length-1][1]+n[1],r[0][0]+n[0],r[0][1]+n[1],m,[v,b,g,S])}}else{e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var w=1;w<r.length;w++)e.lineTo(r[w][0]+n[0],r[w][1]+n[1]);e.lineTo(r[0][0]+n[0],r[0][1]+n[1])}}},{key:"getRect",value:function(e,t){var n;if(t?n=t:(this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]),n=this.refOriginalPosition),e.__rect)return e.__rect;for(var r=Number.MAX_VALUE,i=Number.MIN_VALUE,o=Number.MAX_VALUE,a=Number.MIN_VALUE,s=e.pointList,l=0,u=s.length;l<u;l++)s[l][0]+n[0]<r&&(r=s[l][0]+n[0]),s[l][0]+n[0]>i&&(i=s[l][0]+n[0]),s[l][1]+n[1]<o&&(o=s[l][1]+n[1]),s[l][1]+n[1]>a&&(a=s[l][1]+n[1]);var c;return c="stroke"==e.brushType||"fill"==e.brushType?e.lineWidth||1:0,e.__rect={x:Math.round(r-c/2),y:Math.round(o-c/2),width:i-r+c,height:a-o+c},e.__rect}}]),t}(L1),D1=function(e){function t(e){var n;return zF(this,t),n=JF(this,YF(t).call(this,e)),n.brushTypeOnly="stroke",n.textPosition="end",n.type="smicbroken-line",n.refOriginalPosition&&2===n.refOriginalPosition.length||(n.refOriginalPosition=[0,0]),n.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicBrokenLine",n}return XF(t,e),HF(t,[{key:"destroy",value:function(){this.brushTypeOnly=null,this.textPosition=null,this.type=null,WF(YF(t.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition,r=t.pointList;if(!(r.length<2)){var i=Math.min(t.pointList.length,Math.round(t.pointListLength||t.pointList.length));if(t.smooth&&"spline"!==t.smooth){var o=M1.SUtil_smoothBezier(r,t.smooth,!1,t.smoothConstraint,n);e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var a,s,l,u=0;u<i-1;u++)a=o[2*u],s=o[2*u+1],l=[r[u+1][0]+n[0],r[u+1][1]+n[1]],e.bezierCurveTo(a[0],a[1],s[0],s[1],l[0],l[1])}else if("spline"===t.smooth&&(r=M1.SUtil_smoothSpline(r,null,null,n),i=r.length),t.lineType&&"solid"!==t.lineType){if("dashed"===t.lineType||"dotted"===t.lineType||"dot"===t.lineType||"dash"===t.lineType||"longdash"===t.lineType){var c=t.lineWidth||1,f=c,h=c;"dashed"===t.lineType&&(f*=5,h*=5,t.lineCap&&"butt"!==t.lineCap&&(f-=c,h+=c)),"dotted"===t.lineType&&t.lineCap&&"butt"!==t.lineCap&&(f=1,h+=c),"dot"===t.lineType&&(h*=4,t.lineCap&&"butt"!==t.lineCap&&(f=1,h+=c)),"dash"===t.lineType&&(f*=4,h*=4,t.lineCap&&"butt"!==t.lineCap&&(f-=c,h+=c)),"longdash"===t.lineType&&(f*=8,h*=4,t.lineCap&&"butt"!==t.lineCap&&(f-=c,h+=c)),e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var p=1;p<i;p++)M1.SUtil_dashedLineTo(e,r[p-1][0]+n[0],r[p-1][1]+n[1],r[p][0]+n[0],r[p][1]+n[1],c,[f,h])}else if("dashdot"===t.lineType||"longdashdot"===t.lineType){var y=t.lineWidth||1,d=y,m=y,v=y,b=y;"dashdot"===t.lineType&&(d*=4,m*=4,b*=4,t.lineCap&&"butt"!==t.lineCap&&(d-=y,m+=y,v=1,b+=y)),"longdashdot"===t.lineType&&(d*=8,m*=4,b*=4,t.lineCap&&"butt"!==t.lineCap&&(d-=y,m+=y,v=1,b+=y)),y=(t.lineWidth||1)*("dashed"===t.lineType?5:1),e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var g=1;g<i;g++)M1.SUtil_dashedLineTo(e,r[g-1][0]+n[0],r[g-1][1]+n[1],r[g][0]+n[0],r[g][1]+n[1],y,[d,m,v,b])}}else{e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var S=1;S<i;S++)e.lineTo(r[S][0]+n[0],r[S][1]+n[1])}}}},{key:"getRect",value:function(e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t=this.refOriginalPosition;return I1.prototype.getRect.apply(this,[e,t])}}]),t}(L1),F1=function(e){function t(e){var n;return $F(this,t),n=nB(this,aB(t).call(this,e)),n.type="smicimage",n._imageCache={},n.refOriginalPosition&&2===n.refOriginalPosition.length||(n.refOriginalPosition=[0,0]),n.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicImage",n}return sB(t,e),tB(t,[{key:"destroy",value:function(){this.type=null,this._imageCache=null,iB(aB(t.prototype),"destroy",this).call(this)}},{key:"brush",value:function(e,n,r){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var i=this.refOriginalPosition,o=this.style||{};n&&(o=this.getHighlightStyle(o,this.highlightStyle||{}));var a=o.image,s=this;if("string"==typeof a){var l=a;this._imageCache[l]?a=this._imageCache[l]:(a=new Image,a.onload=function(){a.onload=null,clearTimeout(t._refreshTimeout),t._needsRefresh.push(s),t._refreshTimeout=setTimeout(function(){r&&r(t._needsRefresh),t._needsRefresh=[]},10)},a.src=l,this._imageCache[l]=a)}if(a){if("IMG"==a.nodeName.toUpperCase())if(window.ActiveXObject){if("complete"!=a.readyState)return}else if(!a.complete)return;var u=o.width||a.width,c=o.height||a.height,f=o.x+i[0],h=o.y+i[1];if(!a.width||!a.height)return;if(e.save(),this.doClip(e),this.setContext(e,o),this.setTransform(e),o.sWidth&&o.sHeight){var p=o.sx+i[0]||0,y=o.sy+i[1]||0;e.drawImage(a,p,y,o.sWidth,o.sHeight,f,h,u,c)}else if(o.sx&&o.sy){var d=o.sx+i[0],m=o.sy+i[1],v=u-d,b=c-m;e.drawImage(a,d,m,v,b,f,h,u,c)}else e.drawImage(a,f,h,u,c);o.width||(o.width=u),o.height||(o.height=c),this.style.width||(this.style.width=u),this.style.height||(this.style.height=c),this.drawText(e,o,this.style),e.restore()}}},{key:"getRect",value:function(e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t=this.refOriginalPosition;return{x:e.x+t[0],y:e.y+t[1],width:e.width,height:e.height}}},{key:"clearCache",value:function(){this._imageCache={}}}]),t}(L1);F1._needsRefresh=[],F1._refreshTimeout=null;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var B1=function(e){function t(e){var n;return cB(this,t),n=pB(this,vB(t).call(this,e)),n.type="smicrectangle",n.refOriginalPosition&&2===n.refOriginalPosition.length||(n.refOriginalPosition=[0,0]),n.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicRectangle",n}return bB(t,e),hB(t,[{key:"destroy",value:function(){this.type=null,dB(vB(t.prototype),"destroy",this).call(this)}},{key:"_buildRadiusPath",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n,r,i,o,a=this.refOriginalPosition,s=t.x+a[0],l=t.y+a[1],u=t.width,c=t.height,f=t.radius;"number"==typeof f?n=r=i=o=f:f instanceof Array?1===f.length?n=r=i=o=f[0]:2===f.length?(n=i=f[0],r=o=f[1]):3===f.length?(n=f[0],r=o=f[1],i=f[2]):(n=f[0],r=f[1],i=f[2],o=f[3]):n=r=i=o=0;var h;n+r>u&&(h=n+r,n*=u/h,r*=u/h),i+o>u&&(h=i+o,i*=u/h,o*=u/h),r+i>c&&(h=r+i,r*=c/h,i*=c/h),n+o>c&&(h=n+o,n*=c/h,o*=c/h),e.moveTo(s+n,l),e.lineTo(s+u-r,l),0!==r&&e.quadraticCurveTo(s+u,l,s+u,l+r),e.lineTo(s+u,l+c-i),0!==i&&e.quadraticCurveTo(s+u,l+c,s+u-i,l+c),e.lineTo(s+o,l+c),0!==o&&e.quadraticCurveTo(s,l+c,s,l+c-o),e.lineTo(s,l+n),0!==n&&e.quadraticCurveTo(s,l,s+n,l)}},{key:"buildPath",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition;t.radius?this._buildRadiusPath(e,t):(e.moveTo(t.x+n[0],t.y+n[1]),e.lineTo(t.x+n[0]+t.width,t.y+n[1]),e.lineTo(t.x+n[0]+t.width,t.y+n[1]+t.height),e.lineTo(t.x+n[0],t.y+n[1]+t.height),e.lineTo(t.x+n[0],t.y+n[1])),e.closePath()}},{key:"getRect",value:function(e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t=this.refOriginalPosition;if(e.__rect)return e.__rect;var n;return n="stroke"==e.brushType||"fill"==e.brushType?e.lineWidth||1:0,e.__rect={x:Math.round(e.x+t[0]-n/2),y:Math.round(e.y+t[1]-n/2),width:e.width+n,height:e.height+n},e.__rect}}]),t}(L1),U1=function(e){function t(e){var n;return _B(this,t),n=xB(this,EB(t).call(this,e)),n.type="smicsector",n.refOriginalPosition&&2===n.refOriginalPosition.length||(n.refOriginalPosition=[0,0]),n.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicSector",n}return kB(t,e),OB(t,[{key:"destroy",value:function(){this.type=null,TB(EB(t.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition,r=t.x+n[0],i=t.y+n[1],o=t.r0||0,a=t.r,s=t.startAngle,l=t.endAngle,u=t.clockWise||!1;s=M1.Util_math.degreeToRadian(s),l=M1.Util_math.degreeToRadian(l),u||(s=-s,l=-l);var c=M1.Util_math.cos(s),f=M1.Util_math.sin(s);e.moveTo(c*o+r,f*o+i),e.lineTo(c*a+r,f*a+i),e.arc(r,i,a,s,l,!u),e.lineTo(M1.Util_math.cos(l)*o+r,M1.Util_math.sin(l)*o+i),0!==o&&e.arc(r,i,o,l,s,u),e.closePath()}},{key:"getRect",value:function(e){if(e.__rect)return e.__rect;this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t=this.refOriginalPosition,n=M1.Util_vector.create(),r=M1.Util_vector.create(),i=M1.Util_vector.create(),o=M1.Util_vector.create(),a=e.x+t[0],s=e.y+t[1],l=e.r0||0,u=e.r,c=M1.Util_math.degreeToRadian(e.startAngle),f=M1.Util_math.degreeToRadian(e.endAngle),h=e.clockWise;return h||(c=-c,f=-f),l>1?M1.Util_computeBoundingBox.arc(a,s,l,c,f,!h,n,i):(n[0]=i[0]=a,n[1]=i[1]=s),M1.Util_computeBoundingBox.arc(a,s,u,c,f,!h,r,o),M1.Util_vector.min(n,n,r),M1.Util_vector.max(i,i,o),e.__rect={x:n[0],y:n[1],width:i[0]-n[0],height:i[1]-n[1]},e.__rect}}]),t}(L1),G1=function(){function e(t){AB(this,e),this.shapeParameters=t,this.CLASS_NAME="SuperMap.Feature.ShapeFactory"}return jB(e,[{key:"destroy",value:function(){this.shapeParameters=null}},{key:"createShape",value:function(t){if(t&&(this.shapeParameters=t),!this.shapeParameters)return null;var n=this.shapeParameters;if(n instanceof c1){var r=new Object;r.x=n.x,r.y=n.y,r.r=n.r,r=RY.copyAttributesWithClip(r,n.style,["x","y"]);var i=new j1;return i.style=e.transformStyle(r),i.highlightStyle=e.transformStyle(n.highlightStyle),RY.copyAttributesWithClip(i,n,["x","y","style","highlightStyle"]),i}if(n instanceof f1){if(!n.pointList)return null;var o=new Object;o.pointList=n.pointList,o=RY.copyAttributesWithClip(o,n.style,["pointList"]);var a=new D1;return a.style=e.transformStyle(o),a.highlightStyle=e.transformStyle(n.highlightStyle),RY.copyAttributesWithClip(a,n,["pointList","style","highlightStyle"]),a}if(n instanceof h1){if(!n.pointList)return null;var s=new Object;s.pointList=n.pointList,s=RY.copyAttributesWithClip(s,n.style,["pointList"]);var l=new I1;return l.style=e.transformStyle(s),l.highlightStyle=e.transformStyle(n.highlightStyle),RY.copyAttributesWithClip(l,n,["pointList","style","highlightStyle"]),l}if(n instanceof p1){if(!n.x&&!n.y&!n.width&!n.height)return null;var u=new Object;u.x=n.x,u.y=n.y,u.width=n.width,u.height=n.height,u=RY.copyAttributesWithClip(u,n.style,["x","y","width","height"]);var c=new B1;return c.style=e.transformStyle(u),c.highlightStyle=e.transformStyle(n.highlightStyle),RY.copyAttributesWithClip(c,n,["x","y","width","height","style","highlightStyle"]),c}if(n instanceof y1){var f=new Object;f.x=n.x,f.y=n.y,f.r=n.r,f.startAngle=n.startAngle,f.endAngle=n.endAngle,n.r0&&(f.r0=n.r0),n.clockWise&&(f.clockWise=n.clockWise),f=RY.copyAttributesWithClip(f,n.style,["x","y","r","startAngle","endAngle","r0","endAngle"]);var h=new U1;return h.style=e.transformStyle(f),h.highlightStyle=e.transformStyle(n.highlightStyle),RY.copyAttributesWithClip(h,n,["x","y","r","startAngle","endAngle","r0","endAngle","style","highlightStyle"]),h}if(n instanceof d1){var p=new Object;p.x=n.x,p.y=n.y,p.text=n.text,p=RY.copyAttributesWithClip(p,n.style,["x","y","text"]);var y=new R1;return y.style=e.transformStyle(p),y.highlightStyle=e.transformStyle(n.highlightStyle),RY.copyAttributesWithClip(y,n,["x","y","text","style","highlightStyle"]),y}if(n instanceof m1){var d=new Object;d.x=n.x,d.y=n.y,n.image&&(d.image=n.image),n.width&&(d.width=n.width),n.height&&(d.height=n.height),n.sx&&(d.sx=n.sx),n.sy&&(d.sy=n.sy),n.sWidth&&(d.sWidth=n.sWidth),n.sHeight&&(d.sHeight=n.sHeight),d=RY.copyAttributesWithClip(d,n.style,["x","y","image","width","height","sx","sy","sWidth","sHeight"]);var m=new F1;return m.style=e.transformStyle(d),m.highlightStyle=e.transformStyle(n.highlightStyle),RY.copyAttributesWithClip(m,n,["x","y","image","width","height","style","highlightStyle"]),m}if(n instanceof v1){var v=new Object;v.x=n.x,v.r=n.r,v.y=n.y,v=RY.copyAttributesWithClip(v,n.style,["x","y","r"]);var b=new N1;return b.style=e.transformStyle(v),b.highlightStyle=e.transformStyle(n.highlightStyle),RY.copyAttributesWithClip(b,n,["x","y","r","style","highlightStyle","lineWidth","text","textPosition"]),b}return null}}],[{key:"transformStyle",value:function(e){var t={},n=["normal","normal","normal","12","arial,sans-serif"],r=[!0,!1];for(var i in e)switch(i){case"fill":r[0]=e[i];break;case"fillColor":t.color=e[i];break;case"stroke":r[1]=e[i];break;case"strokeWidth":t.lineWidth=e[i];break;case"strokeLinecap":t.lineCap=e[i];break;case"strokeLineJoin":t.lineJoin=e[i];break;case"strokeDashstyle":t.lineType=e[i];break;case"pointRadius":t.r=e[i];break;case"label":t.text=e[i];break;case"labelRect":t.labelRect=e[i];break;case"fontColor":t.textColor=e[i];break;case"fontStyle":n[0]=e[i];break;case"fontVariant":n[1]=e[i];break;case"fontWeight":n[2]=e[i];break;case"fontSize":var o="";e[i]&&e[i].toString().indexOf("px")<0&&(o="px"),n[3]=e[i]+o;break;case"fontFamily":n[4]=e[i];break;case"fontOpacity":t.opacity=e[i];break;case"labelPosition":t.textPosition=e[i];break;case"labelAlign":t.textAlign=e[i];break;case"labelBaseline":t.textBaseline=e[i];break;case"labelRotation":t.textRotation=e[i];break;default:t[i]=e[i]}return t.textFont=n.join(" "),!0===r[0]&&!1===r[1]?t.brushType="fill":!1===r[0]&&!0===r[1]?t.brushType="stroke":!0===r[0]&&!0===r[1]?t.brushType="both":t.brushType="fill",null==t.lineWidth&&(t.lineWidth=1),t}},{key:"Background",value:function(e,t,n){var r=n||{},i=new p1(t[0],t[3],Math.abs(t[2]-t[0]),Math.abs(t[3]-t[1]));return i.style={fillColor:"#f3f3f3"},r.backgroundStyle&&RY.copyAttributesWithClip(i.style,r.backgroundStyle),r.backgroundRadius&&(i.style.radius=r.backgroundRadius),i.clickable=!1,i.hoverable=!1,e.createShape(i)}},{key:"GraphAxis",value:function(e,t,n,r){var i=t,o=n||{},a=[],s=[],l=!!o.useXReferenceLine&&o.useXReferenceLine,u=o.axisYTick&&!isNaN(o.axisYTick)?o.axisYTick:0,c=[],f=[],h=[];if(0==u){if(h.push([i[0],i[3]-5]),h.push([i[0],i[1]]),o.axis3DParameter&&!isNaN(o.axis3DParameter)&&o.axis3DParameter>=15){var p=parseInt(o.axis3DParameter),y=[i[0]-p,i[1]+p];o.axisUseArrow?(f.push([y[0]+1.5,y[1]-7.5]),f.push([y[0]-1,y[1]+1]),f.push([y[0]+7.5,y[1]-1.5]),h.push([y[0],y[1]])):h.push([y[0],y[1]]),h.push([i[0],i[1]])}h.push([i[2]+5,i[1]])}else{var d=Math.abs(i[1]-i[3])/u,m=i[3];h.push([i[0],m-5]);for(var v=0;v<u;v++){if(h.push([i[0],m]),h.push([i[0]-5,m]),h.push([i[0],m]),l){var b=new f1([[i[0],m],[i[2],m]]);b.style={strokeColor:"#cfcfcf",strokeLinecap:"butt",strokeLineJoin:"round",strokeWidth:1},b.clickable=!1,b.hoverable=!1,o.xReferenceLineStyle&&RY.copyAttributesWithClip(b.style,o.xReferenceLineStyle),a.push(e.createShape(b))}m+=d}if(h.push([i[0],i[1]]),o.axis3DParameter&&!isNaN(o.axis3DParameter)&&o.axis3DParameter>=15){var g=parseInt(o.axis3DParameter),S=[i[0]-g,i[1]+g];o.axisUseArrow?(f.push([S[0]+1.5,S[1]-7.5]),f.push([S[0]-1,S[1]+1]),f.push([S[0]+7.5,S[1]-1.5]),h.push([S[0],S[1]])):h.push([S[0],S[1]]),h.push([i[0],i[1]])}h.push([i[2]+5,i[1]])}if(o.axisUseArrow){var _=[[i[2]+5,i[1]+4],[i[2]+13,i[1]],[i[2]+5,i[1]-4]],w=[[i[0]-4,i[3]-5],[i[0],i[3]-13],[i[0]+4,i[3]-5]],O=new h1(_);O.style={fillColor:"#008acd"},RY.copyAttributesWithClip(O.style,o.axisStyle),s.push(e.createShape(O));var x=new h1(w);if(x.style={fillColor:"#008acd"},RY.copyAttributesWithClip(x.style,o.axisStyle),s.push(e.createShape(x)),o.axis3DParameter&&!isNaN(o.axis3DParameter)&&o.axis3DParameter>=15){var C=new h1(f);C.style={fillColor:"#008acd"},RY.copyAttributesWithClip(C.style,o.axisStyle),s.push(e.createShape(C))}}c=h;var T=new f1(c);T.style={strokeLinecap:"butt",strokeLineJoin:"round",strokeColor:"#008acd",strokeWidth:1},o.axisStyle&&RY.copyAttributesWithClip(T.style,o.axisStyle),T.clickable=!1,T.hoverable=!1;var P=[e.createShape(T)],E=[];if(o.axisYLabels&&o.axisYLabels.length&&o.axisYLabels.length>0){var k=o.axisYLabels,M=k.length,A=[0,0];if(o.axisYLabelsOffset&&o.axisYLabelsOffset.length&&(A=o.axisYLabelsOffset),1==M){var L=new d1(i[0]-5+A[0],i[3]+A[1],k[0]);L.style={labelAlign:"right"},o.axisYLabelsStyle&&RY.copyAttributesWithClip(L.style,o.axisYLabelsStyle),L.clickable=!1,L.hoverable=!1,E.push(e.createShape(L))}else for(var j=i[3],R=Math.abs(i[1]-i[3])/(M-1),N=0;N<M;N++){var I=new d1(i[0]-5+A[0],j+A[1],k[N]);I.style={labelAlign:"right"},o.axisYLabelsStyle&&RY.copyAttributesWithClip(I.style,o.axisYLabelsStyle),I.clickable=!1,I.hoverable=!1,E.push(e.createShape(I)),j+=R}}var D=[];if(o.axisXLabels&&o.axisXLabels.length&&o.axisXLabels.length>0){var F=o.axisXLabels,B=F.length,U=[0,0];if(o.axisXLabelsOffset&&o.axisXLabelsOffset.length&&(U=o.axisXLabelsOffset),r&&r.xPositions&&r.xPositions.length&&r.xPositions.length==B)for(var G=r.xPositions,z=0;z<B;z++){var V=new d1(G[z]+U[0],i[1]+U[1],F[z]);V.style={labelAlign:"center",labelBaseline:"top"},o.axisXLabelsStyle&&RY.copyAttributesWithClip(V.style,o.axisXLabelsStyle),V.clickable=!1,V.hoverable=!1,D.push(e.createShape(V))}else if(1==B){var H=new d1(i[0]-5+U[0],i[1]+U[0],F[0]);H.style={labelAlign:"center",labelBaseline:"top"},o.axisXLabelsStyle&&RY.copyAttributesWithClip(H.style,o.axisXLabelsStyle),H.clickable=!1,H.hoverable=!1,D.push(e.createShape(H))}else for(var J=i[0],q=Math.abs(i[2]-i[0])/(B-1),W=0;W<B;W++){var Q=new d1(J+U[0],i[1]+U[1],F[W]);Q.style={labelAlign:"center",labelBaseline:"top"},o.axisXLabelsStyle&&RY.copyAttributesWithClip(Q.style,o.axisXLabelsStyle),Q.clickable=!1,Q.hoverable=!1,D.push(e.createShape(Q)),J+=q}}return a.concat(P).concat(E).concat(D).concat(s)}},{key:"ShapeStyleTool",value:function(e,t,n,r,i,o){var a=e||{};if(t&&RY.copyAttributesWithClip(a,t),n&&n.length&&void 0!==i&&!isNaN(i)&&i>=0&&n[i]&&RY.copyAttributesWithClip(a,n[i]),r&&r.length&&void 0!==o)for(var s=r,l=s.length,u=parseFloat(o),c=0;c<l;c++)if(s[c].start<=u&&u<s[c].end){RY.copyAttributesWithClip(a,s[c].style);break}return a}}]),e}();xQ.Feature=xQ.Feature||{},xQ.Feature.ShapeFactory=G1;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var z1=function(){function e(t,n){RB(this,e),t&&n&&n.map&&n.renderer&&(this.id=RY.createUniqueID(this.CLASS_NAME+"_"),this.lonlat=null,this.location=[],this.data=t,this.shapes=[],this.layer=n,this.CLASS_NAME="SuperMap.Feature.Theme")}return IB(e,[{key:"destroy",value:function(){this.data=null,this.id=null,this.lonlat=null,this.location=null,this.shapes=null,this.layer=null}},{key:"getLocalXY",value:function(e){var t=this.layer.map.getResolution(),n=this.layer.map.getExtent();if(e instanceof GY||e instanceof VY){return[e.x/t+-n.left/t,n.top/t-e.y/t]}if(e instanceof NY){return[e.lon/t+-n.left/t,n.top/t-e.lat/t]}return null}}]),e}();xQ.Feature=xQ.Feature||{},xQ.Feature.Theme=z1;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var V1=function(e){function t(e,n,r,i,o,a){var s;return FB(this,t),s=GB(this,JB(t).call(this,e,n,r,i,o,a)),s.shapeFactory=new G1,s.shapeParameters=null,s.RelativeCoordinate=!1,s.setting=null,s.origonPoint=null,s.chartBox=null,s.chartBounds=null,s.width=null,s.height=null,s.XOffset=0,s.YOffset=0,s.DVBParameter=null,s.dataViewBox=null,s.DVBCodomain=null,s.DVBCenterPoint=null,s.DVBUnitValue=null,s.DVBOrigonPoint=null,s.DVBWidth=null,s.DVBHeight=null,s.origonPointOffset=null,s.fields=r||[],s.dataValues=null,s.lonlat=o||s.data.geometry.getBounds().getCenterLonLat(),i&&i.width&&i.height&&i.codomain&&(s.setting=i),s.CLASS_NAME="SuperMap.Feature.Theme.Graph",s}return qB(t,e),UB(t,[{key:"destroy",value:function(){this.shapeFactory=null,this.shapeParameters=null,this.width=null,this.height=null,this.origonPoint=null,this.chartBox=null,this.dataViewBox=null,this.chartBounds=null,this.DVBParameter=null,this.DVBOrigonPoint=null,this.DVBCenterPoint=null,this.DVBWidth=null,this.DVBHeight=null,this.DVBCodomain=null,this.DVBUnitValue=null,this.origonPointOffset=null,this.XOffset=null,this.YOffset=null,this.fields=null,this.dataValues=null,this.setting=null,VB(JB(t.prototype),"destroy",this).call(this)}},{key:"initBaseParameter",value:function(){if(!this.setting)return!1;var e=this.setting;if(!(e.width&&e.height&&e.codomain))return!1;var t=void 0===e.decimalNumber||isNaN(e.decimalNumber)?-1:e.decimalNumber,n=z1.getDataValues(this.data,this.fields,t);this.dataValues=n||[],this.width=parseFloat(e.width),this.height=parseFloat(e.height),this.DVBCodomain=e.codomain,this.XOffset=e.XOffset?e.XOffset:0,this.YOffset=e.YOffset?e.YOffset:0,this.origonPoint=[],this.chartBox=[],this.dataViewBox=[],this.DVBParameter=e.dataViewBoxParameter?e.dataViewBoxParameter:[0,0,0,0],this.DVBOrigonPoint=[],this.DVBCenterPoint=[],this.origonPointOffset=[],this.resetLocation();var r=this.width,i=this.height,o=this.location;this.origonPoint=[o[0]-r/2,o[1]-i/2];var a=this.origonPoint;this.chartBox=[a[0],a[1]+i,a[0]+r,a[1]];var s=this.chartBox,l=this.DVBParameter;this.dataViewBox=[s[0]+l[0],s[1]-l[1],s[2]-l[2],s[3]+l[3]];var u=this.dataViewBox;return!(u[0]>=u[2]||u[1]<=u[3])&&(this.DVBOrigonPoint=[u[0],u[3]],this.DVBWidth=Math.abs(u[2]-u[0]),this.DVBHeight=Math.abs(u[1]-u[3]),this.DVBCenterPoint=[this.DVBOrigonPoint[0]+this.DVBWidth/2,this.DVBOrigonPoint[1]+this.DVBHeight/2],this.origonPointOffset=[this.DVBOrigonPoint[0]-a[0],this.DVBOrigonPoint[1]-a[1]],!0)}},{key:"resetLocation",value:function(e){e&&(this.lonlat=e);var t=this.getLocalXY(this.lonlat);t[0]+=this.XOffset,t[1]+=this.YOffset,this.location=t;var n=this.width,r=this.height,i=this.location;return this.chartBounds=new IY(i[0]-n/2,i[1]+r/2,i[0]+n/2,i[1]-r/2),this.resetLinearGradient(),i}},{key:"resetLinearGradient",value:function(){}},{key:"shapesConvertToRelativeCoordinate",value:function(){for(var e=this.shapes,t=this.location,n=0,r=e.length;n<r;n++){e[n].refOriginalPosition=t;var i=e[n].style;for(var o in i)switch(o){case"pointList":for(var a=i[o],s=0,l=a.length;s<l;s++)a[s][0]-=t[0],a[s][1]-=t[1];break;case"x":i[o]-=t[0];break;case"y":i[o]-=t[1]}}this.RelativeCoordinate=!0}},{key:"assembleShapes",value:function(){}},{key:"getLocalXY",value:function(e){return this.layer.getLocalXY(e)}}]),t}(z1);z1.getDataValues=function(e,t,n){if(!e.attributes)return!1;for(var r=[],i=e.attributes,o=0;o<t.length;o++)for(var a in i)if(a===t[o])try{!isNaN(n)&&n>=0?r.push(parseFloat(i[a].toString()).toFixed(n)):r.push(parseFloat(i[a].toString()))}catch(e){throw new Error("not a number")}return r.length===t.length&&r},xQ.Feature.Theme.Graph=V1;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var H1=function(e){function t(e,n,r,i,o){var a;return YB(this,t),a=ZB(this,nU(t).call(this,e,n,r,i,o)),a.CLASS_NAME="SuperMap.Feature.Theme.Bar",a}return rU(t,e),KB(t,[{key:"destroy",value:function(){eU(nU(t.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var e=[["#00FF00","#00CD00"],["#00CCFF","#5E87A2"],["#00FF66","#669985"],["#CCFF00","#94A25E"],["#FF9900","#A2945E"]],t={showShadow:!0,shadowBlur:8,shadowColor:"rgba(100,100,100,0.8)",shadowOffsetX:2,shadowOffsetY:2},n=this.setting;if(n.barLinearGradient||(n.barLinearGradient=e),n.dataViewBoxParameter||(void 0===n.useAxis||n.useAxis?n.dataViewBoxParameter=[45,15,15,15]:n.dataViewBoxParameter=[5,5,5,5]),this.initBaseParameter()){var r=this.DVBCodomain;this.DVBUnitValue=(r[1]-r[0])/this.DVBHeight;var i=this.dataViewBox,o=this.dataValues;if(!(o.length<1)){for(var a=0,s=o.length;a<s;a++)if(o[a]<r[0]||o[a]>r[1])return;var l=this.calculateXShapeInfo();if(l){var u=l.xPositions,c=l.width;(void 0===n.useBackground||n.useBackground)&&this.shapes.push(G1.Background(this.shapeFactory,this.chartBox,n)),(void 0===n.useAxis||n.useAxis)&&(this.shapes=this.shapes.concat(G1.GraphAxis(this.shapeFactory,i,n,l)));for(var f=0;f<o.length;f++){var h=i[1]-(o[f]-r[0])/this.DVBUnitValue,p=[[u[f]-c/2,i[1]-1],[u[f]+c/2,i[1]-1],[u[f]+c/2,h],[u[f]-c/2,h]],y=new h1(p);if(void 0===n.showShadow||n.showShadow){if(n.barShadowStyle){var d=n.barShadowStyle;d.shadowBlur&&(t.shadowBlur=d.shadowBlur),d.shadowColor&&(t.shadowColor=d.shadowColor),d.shadowOffsetX&&(t.shadowOffsetX=d.shadowOffsetX),d.shadowOffsetY&&(t.shadowOffsetY=d.shadowOffsetY)}y.style={},RY.copyAttributesWithClip(y.style,t)}y.refDataID=this.data.id,y.dataInfo={field:this.fields[f],value:o[f]},void 0!==n.barHoverAble&&(y.hoverable=n.barHoverAble),void 0!==n.barClickAble&&(y.clickable=n.barClickAble),this.shapes.push(this.shapeFactory.createShape(y))}this.shapesConvertToRelativeCoordinate()}}}}},{key:"calculateXShapeInfo",value:function(){var e=this.dataViewBox,t=this.setting,n=this.dataValues.length;if(n<1)return null;var r,i=[],o=0,a=this.DVBWidth;if(t.xShapeBlank&&t.xShapeBlank.length&&3==t.xShapeBlank.length){r=t.xShapeBlank;var s=a-(r[0]+r[2]+(n-1)*r[1]);if(s<=n)return null;o=s/n}else o=a/(2*n+1),r=[o,o,o];for(var l=0,u=0;u<n;u++)0==u?l=r[0]+o/2:l+=o+r[1],i.push(e[0]+l);return{xPositions:i,width:o}}},{key:"resetLinearGradient",value:function(){if(this.RelativeCoordinate)for(var e=this.shapes.length,t=this.setting.barLinearGradient,n=-1,r=0;r<e;r++){var i=this.shapes[r];if("SuperMap.LevelRenderer.Shape.SmicPolygon"===i.CLASS_NAME){var o=i.style,a=this.location[0]+o.pointList[0][0],s=this.location[0]+o.pointList[1][0];n++,n>=t.length&&(n%=t.length);var l=t[n][0],u=t[n][1],c=new t1,f=c.getLinearGradient(a,0,s,0,[[0,l],[1,u]]);i.style.color=f}}}}]),t}(V1);xQ.Feature.Theme.Bar=H1;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var J1=function(e){function t(e,n,r,i,o){var a;return aU(this,t),a=uU(this,pU(t).call(this,e,n,r,i,o)),a.CLASS_NAME="SuperMap.Feature.Theme.Bar3D",a}return yU(t,e),lU(t,[{key:"destroy",value:function(){fU(pU(t.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var e=this.setting;if(e.dataViewBoxParameter||(void 0===e.useAxis||e.useAxis?e.dataViewBoxParameter=[45,25,20,20]:e.dataViewBoxParameter=[5,5,5,5]),e.axisUseArrow=void 0===e.axisUseArrow||e.axisUseArrow,e.axisXLabelsOffset=void 0!==e.axisXLabelsOffset?e.axisXLabelsOffset:[-10,10],this.initBaseParameter()){var t=this.DVBCodomain;this.DVBUnitValue=(t[1]-t[0])/this.DVBHeight;var n=this.dataViewBox,r=this.dataValues;if(!(r.length<1)){for(var i=0,o=r.length;i<o;i++)if(r[i]<t[0]||r[i]>t[1])return;var a=this.calculateXShapeInfo();if(a){var s=a.xPositions,l=a.width;(void 0===e.useBackground||e.useBackground)&&this.shapes.push(G1.Background(this.shapeFactory,this.chartBox,e)),(!e.axis3DParameter||isNaN(e.axis3DParameter)||e.axis3DParameter<15)&&(e.axis3DParameter=20),(void 0===e.useAxis||e.useAxis)&&(this.shapes=this.shapes.concat(G1.GraphAxis(this.shapeFactory,n,e,a)));for(var u=e.bar3DParameter&&!isNaN(e.bar3DParameter)?e.bar3DParameter:10,c=0;c<r.length;c++){var f=n[1]-(r[c]-t[0])/this.DVBUnitValue,h=s[c]-l/2,p=s[c]+l/2,y=[[h,f],[p,f],[p-u,f+u],[h-u,f+u]],d=[[p,f],[p-u,f+u],[p-u,n[1]+u],[p,n[1]]],m=[[h-u,n[1]+u],[p-u,n[1]+u],[p-u,f+u],[h-u,f+u]];u<=0&&(m=[[h,n[1]],[p,n[1]],[p,f],[h,f]]);var v=new h1(y),b=new h1(d),g=new h1(m);e.barSideStyle=e.barSideStyle?e.barSideStyle:e.barFaceStyle,e.barSideStyleByFields=e.barSideStyleByFields?e.barSideStyleByFields:e.barFaceStyleByFields,e.barSideStyleByCodomain=e.barSideStyleByCodomain?e.barSideStyleByCodomain:e.barFaceStyleByCodomain,e.barTopStyle=e.barTopStyle?e.barTopStyle:e.barFaceStyle,e.barTopStyleByFields=e.barTopStyleByFields?e.barTopStyleByFields:e.barFaceStyleByFields,e.barTopStyleByCodomain=e.barTopStyleByCodomain?e.barTopStyleByCodomain:e.barFaceStyleByCodomain,g.style=G1.ShapeStyleTool({stroke:!0,strokeColor:"#ffffff",fillColor:"#ee9900"},e.barFaceStyle,e.barFaceStyleByFields,e.barFaceStyleByCodomain,c,r[c]),b.style=G1.ShapeStyleTool({stroke:!0,strokeColor:"#ffffff",fillColor:"#ee9900"},e.barSideStyle,e.barSideStyleByFields,e.barSideStyleByCodomain,c,r[c]),v.style=G1.ShapeStyleTool({stroke:!0,strokeColor:"#ffffff",fillColor:"#ee9900"},e.barTopStyle,e.barTopStyleByFields,e.barTopStyleByCodomain,c,r[c]),e.barSideHoverStyle=e.barSideHoverStyle?e.barSideHoverStyle:e.barFaceHoverStyle,e.barTopHoverStyle=e.barTopHoverStyle?e.barTopHoverStyle:e.barFaceHoverStyle,g.highlightStyle=G1.ShapeStyleTool({stroke:!0},e.barFaceHoverStyle),b.highlightStyle=G1.ShapeStyleTool({stroke:!0},e.barSideHoverStyle),v.highlightStyle=G1.ShapeStyleTool({stroke:!0},e.barTopHoverStyle),v.refDataID=b.refDataID=g.refDataID=this.data.id,v.isHoverByRefDataID=b.isHoverByRefDataID=g.isHoverByRefDataID=!0,v.refDataHoverGroup=b.refDataHoverGroup=g.refDataHoverGroup=RY.createUniqueID("lr_shg"),v.dataInfo=b.dataInfo=g.dataInfo={field:this.fields[c],value:r[c]},void 0!==e.barHoverAble&&(v.hoverable=b.hoverable=g.hoverable=e.barHoverAble),void 0!==e.barClickAble&&(v.clickable=b.clickable=g.clickable=e.barClickAble),this.shapes.push(this.shapeFactory.createShape(b)),this.shapes.push(this.shapeFactory.createShape(v)),this.shapes.push(this.shapeFactory.createShape(g))}this.shapesConvertToRelativeCoordinate()}}}}},{key:"calculateXShapeInfo",value:function(){var e=this.dataViewBox,t=this.setting,n=this.dataValues.length;if(n<1)return null;var r,i=[],o=0,a=this.DVBWidth;if(t.xShapeBlank&&t.xShapeBlank.length&&3==t.xShapeBlank.length){r=t.xShapeBlank;var s=a-(r[0]+r[2]+(n-1)*r[1]);if(s<=n)return null;o=s/n}else o=a/(2*n+1),r=[o,o,o];for(var l=0,u=0;u<n;u++)0==u?l=r[0]+o/2:l+=o+r[1],i.push(e[0]+l);return{xPositions:i,width:o}}}]),t}(V1);xQ.Feature.Theme.Bar3D=J1;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var q1=function(e){function t(e,n,r,i,o,a){var s;return vU(this,t),s=SU(this,xU(t).call(this,e,n,r,i,o,a)),s.setting=null,i&&i.codomain&&(s.setting=i,s.DVBCodomain=s.setting.codomain),s.CLASS_NAME="SuperMap.Feature.Theme.RankSymbol",s}return CU(t,e),gU(t,[{key:"destroy",value:function(){this.setting=null,wU(xU(t.prototype),"destroy",this).call(this)}},{key:"initBaseParameter",value:function(){if(!this.setting)return!1;var e=this.setting;e.XOffset&&(this.XOffset=e.XOffset),e.YOffset&&(this.YOffset=e.YOffset),this.XOffset=e.XOffset?e.XOffset:0,this.YOffset=e.YOffset?e.YOffset:0,this.origonPoint=[],this.chartBox=[],this.dataViewBox=[],this.DVBParameter=e.dataViewBoxParameter?e.dataViewBoxParameter:[0,0,0,0],this.DVBOrigonPoint=[],this.DVBCenterPoint=[],this.origonPointOffset=[],this.resetLocation();var t=this.width,n=this.height,r=this.location;this.origonPoint=[r[0]-t/2,r[1]-n/2];var i=this.origonPoint;this.chartBox=[i[0],i[1]+n,i[0]+t,i[1]];var o=this.chartBox,a=this.DVBParameter;this.dataViewBox=[o[0]+a[0],o[1]-a[1],o[2]-a[2],o[3]+a[3]];var s=this.dataViewBox;return!(s[0]>=s[2]||s[1]<=s[3])&&(this.DVBOrigonPoint=[s[0],s[3]],this.DVBWidth=Math.abs(s[2]-s[0]),this.DVBHeight=Math.abs(s[1]-s[3]),this.DVBCenterPoint=[this.DVBOrigonPoint[0]+this.DVBWidth/2,this.DVBOrigonPoint[1]+this.DVBHeight/2],this.origonPointOffset=[this.DVBOrigonPoint[0]-i[0],this.DVBOrigonPoint[1]-i[1]],!0)}}]),t}(V1);xQ.Feature.Theme.RankSymbol=q1;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var W1=function(e){function t(e,n,r,i,o){var a;return EU(this,t),a=AU(this,NU(t).call(this,e,n,r,i,o)),a.CLASS_NAME="SuperMap.Feature.Theme.Circle",a}return IU(t,e),MU(t,[{key:"destroy",value:function(){jU(NU(t.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){if(!this.setting)return!1;var e=this.setting;if(!e.codomain)return!1;var t=void 0===e.decimalNumber||isNaN(e.decimalNumber)?-1:e.decimalNumber,n=z1.getDataValues(this.data,this.fields,t);this.dataValues=n||[];var r=this.dataValues;e.maxR||(e.maxR=100),e.minR||(e.minR=0);var i=this.DVBCodomain;i&&i[1]-i[0]>0?this.DVBUnitValue=e.maxR/(i[1]-i[0]):this.DVBUnitValue=e.maxR;var o=this.DVBUnitValue,a=r[0]*o+e.minR;if(this.width=2*a,this.height=2*a,this.initBaseParameter()&&(!i||!(r[0]<i[0]||r[0]>i[1]))){var s=this.DVBCenterPoint,l=new v1(s[0],s[1],a);l.style=G1.ShapeStyleTool(null,e.circleStyle,null,null,0),void 0!==e.fillColor?l.style.fillColor=e.fillColor:l.style.fillColor="#ff9277",l.highlightStyle=G1.ShapeStyleTool(null,e.circleHoverStyle),void 0!==e.circleHoverAble&&(l.hoverable=e.circleHoverAble),void 0!==e.circleClickAble&&(l.clickable=e.circleClickAble),l.refDataID=this.data.id,l.dataInfo={field:this.fields[0],r:a,value:r[0]},this.shapes.push(this.shapeFactory.createShape(l)),this.shapesConvertToRelativeCoordinate()}}}]),t}(q1);xQ.Feature.Theme.Circle=W1;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Q1=function(e){function t(e,n,r,i,o,a){var s;return BU(this,t),s=zU(this,qU(t).call(this,e,n,r,i,o,a)),s.CLASS_NAME="SuperMap.Feature.Theme.Line",s}return WU(t,e),GU(t,[{key:"destroy",value:function(){HU(qU(t.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var e=this.setting;if(e.dataViewBoxParameter||(void 0===e.useAxis||e.useAxis?e.dataViewBoxParameter=[45,15,15,15]:e.dataViewBoxParameter=[5,5,5,5]),this.initBaseParameter()){var t=this.dataViewBox,n=this.DVBCodomain;this.DVBUnitValue=(n[1]-n[0])/this.DVBHeight;var r=this.DVBUnitValue,i=this.dataValues;if(!(i.length<1)){var o=this.calculateXShapeInfo();if(o){var a=o.xPositions;(void 0===e.useBackground||e.useBackground)&&this.shapes.push(G1.Background(this.shapeFactory,this.chartBox,e)),this.shapes=this.shapes.concat(G1.GraphAxis(this.shapeFactory,t,e,o));for(var s,l,u=[],c=[],f=0,h=i.length;f<h;f++){if(i[f]<n[0]||i[f]>n[1])return null;s=a[f],l=t[1]-(i[f]-n[0])/r;var p=new c1(s,l);p.style=G1.ShapeStyleTool({fillColor:"#ee9900"},e.pointStyle,e.pointStyleByFields,e.pointStyleByCodomain,f,i[f]),p.highlightStyle=G1.ShapeStyleTool(null,e.pointHoverStyle),void 0!==e.pointHoverAble&&(p.hoverable=e.pointHoverAble),void 0!==e.pointClickAble&&(p.clickable=e.pointClickAble),p.refDataID=this.data.id,p.dataInfo={field:this.fields[f],value:i[f]},c.push(this.shapeFactory.createShape(p));var y=[s,l];u.push(y)}var d=new f1(u);d.style=G1.ShapeStyleTool({strokeColor:"#ee9900"},e.lineStyle),d.clickable=!1,d.hoverable=!1;var m=this.shapeFactory.createShape(d);this.shapes.push(m),this.shapes=this.shapes.concat(c),this.shapesConvertToRelativeCoordinate()}}}}},{key:"calculateXShapeInfo",value:function(){var e=this.dataViewBox,t=this.setting,n=this.dataValues.length;if(n<1)return null;var r,i=[],o=this.DVBWidth,a=0;if(t.xShapeBlank&&t.xShapeBlank.length&&2==t.xShapeBlank.length){r=t.xShapeBlank;var s=o-(r[0]+r[1]);if(s<=n)return null;a=s/(n-1)}else a=o/(n+1),r=[a,a,a];for(var l=0,u=0;u<n;u++)0==u?l=r[0]:l+=a,i.push(e[0]+l);return{xPositions:i,width:0}}}]),t}(V1);xQ.Feature.Theme.Line=Q1;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Y1=function(e){function t(e,n,r,i,o){var a;return XU(this,t),a=$U(this,rG(t).call(this,e,n,r,i,o)),a.CLASS_NAME="SuperMap.Feature.Theme.Pie",a}return iG(t,e),ZU(t,[{key:"destroy",value:function(){tG(rG(t.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var e=this.setting,t=[{fillColor:"#ff9277"},{fillColor:"#dddd00"},{fillColor:"#ffc877"},{fillColor:"#bbe3ff"},{fillColor:"#d5ffbb"},{fillColor:"#bbbbff"},{fillColor:"#ddb000"},{fillColor:"#b0dd00"},{fillColor:"#e2bbff"},{fillColor:"#ffbbe3"},{fillColor:"#ff7777"},{fillColor:"#ff9900"},{fillColor:"#83dd00"},{fillColor:"#77e3ff"},{fillColor:"#778fff"},{fillColor:"#c877ff"},{fillColor:"#ff77ab"},{fillColor:"#ff6600"},{fillColor:"#aa8800"},{fillColor:"#77c7ff"},{fillColor:"#ad77ff"},{fillColor:"#ff77ff"},{fillColor:"#dd0083"},{fillColor:"#777700"},{fillColor:"#00aa00"},{fillColor:"#0088aa"},{fillColor:"#8400dd"},{fillColor:"#aa0088"},{fillColor:"#dd0000"},{fillColor:"#772e00"}];if(this.initBaseParameter()){e.useBackground&&this.shapes.push(G1.Background(this.shapeFactory,this.chartBox,e));var n=this.dataValues;if(!(n.length<1)){for(var r=this.DVBCodomain,i=0;i<n.length;i++)if(n[i]<r[0]||n[i]>r[1])return;for(var o=0,a=0;a<n.length;a++)o+=Math.abs(n[a]);this.DVBUnitValue=360/o;for(var s=this.DVBUnitValue,l=this.DVBCenterPoint,u=0,c=0,f=u,h=this.DVBHeight<this.DVBWidth?this.DVBHeight/2:this.DVBWidth/2,p=0;p<n.length;p++){var y=Math.abs(n[p]);c=0===p?u+y*s:p===y.length-1?f:u+y*s,c-u>=360&&(c=359.9999999);var d=new y1(l[0],l[1],h,u,c);if(void 0===e.sectorStyleByFields){var m=p%t.length;d.style=G1.ShapeStyleTool(null,e.sectorStyle,t,null,m)}else d.style=G1.ShapeStyleTool(null,e.sectorStyle,e.sectorStyleByFields,e.sectorStyleByCodomain,p,n[p]);d.highlightStyle=G1.ShapeStyleTool(null,e.sectorHoverStyle),void 0!==e.sectorHoverAble&&(d.hoverable=e.sectorHoverAble),void 0!==e.sectorClickAble&&(d.clickable=e.sectorClickAble),d.refDataID=this.data.id,d.dataInfo={field:this.fields[p],value:n[p]},this.shapes.push(this.shapeFactory.createShape(d)),u=c}this.shapesConvertToRelativeCoordinate()}}}}]),t}(V1);xQ.Feature.Theme.Pie=Y1;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var X1=function(e){function t(e,n,r,i,o,a){var s;return sG(this,t),s=cG(this,yG(t).call(this,e,n,r,i,o,a)),s.CLASS_NAME="SuperMap.Feature.Theme.Point",s}return dG(t,e),uG(t,[{key:"destroy",value:function(){hG(yG(t.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var e=this.setting;if(e.dataViewBoxParameter||(void 0===e.useAxis||e.useAxis?e.dataViewBoxParameter=[45,15,15,15]:e.dataViewBoxParameter=[5,5,5,5]),this.initBaseParameter()){var t=this.dataViewBox,n=this.DVBCodomain;this.DVBUnitValue=(n[1]-n[0])/this.DVBHeight;var r=this.DVBUnitValue,i=this.dataValues,o=this.calculateXShapeInfo();if(o){var a=o.xPositions;(void 0===e.useBackground||e.useBackground)&&this.shapes.push(G1.Background(this.shapeFactory,this.chartBox,e)),this.shapes=this.shapes.concat(G1.GraphAxis(this.shapeFactory,t,e,o));for(var s,l,u=0,c=i.length;u<c;u++){if(i[u]<n[0]||i[u]>n[1])return null;s=a[u],l=t[1]-(i[u]-n[0])/r;var f=new c1(s,l);f.style=G1.ShapeStyleTool({fillColor:"#ee9900"},e.pointStyle,e.pointStyleByFields,e.pointStyleByCodomain,u,i[u]),f.highlightStyle=G1.ShapeStyleTool(null,e.pointHoverStyle),void 0!==e.pointHoverAble&&(f.hoverable=e.pointHoverAble),void 0!==e.pointClickAble&&(f.clickable=e.pointClickAble),f.refDataID=this.data.id,f.dataInfo={field:this.fields[u],value:i[u]},this.shapes.push(this.shapeFactory.createShape(f))}this.shapesConvertToRelativeCoordinate()}}}},{key:"calculateXShapeInfo",value:function(){var e=this.dataViewBox,t=this.setting,n=this.dataValues.length;if(n<1)return null;var r,i=[],o=this.DVBWidth,a=0;if(t.xShapeBlank&&t.xShapeBlank.length&&2==t.xShapeBlank.length){r=t.xShapeBlank;var s=o-(r[0]+r[1]);if(s<=n)return null;a=s/(n-1)}else a=o/(n+1),r=[a,a,a];for(var l=0,u=0;u<n;u++)0==u?l=r[0]:l+=a,i.push(e[0]+l);return{xPositions:i,width:0}}}]),t}(V1);xQ.Feature.Theme.Point=X1;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var K1=function(e){function t(e,n,r,i,o){var a;return bG(this,t),a=_G(this,CG(t).call(this,e,n,r,i,o)),a.CLASS_NAME="SuperMap.Feature.Theme.Ring",a}return TG(t,e),SG(t,[{key:"destroy",value:function(){OG(CG(t.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){if(this.initBaseParameter()){var e=[{fillColor:"#ff9277"},{fillColor:"#dddd00"},{fillColor:"#ffc877"},{fillColor:"#bbe3ff"},{fillColor:"#d5ffbb"},{fillColor:"#bbbbff"},{fillColor:"#ddb000"},{fillColor:"#b0dd00"},{fillColor:"#e2bbff"},{fillColor:"#ffbbe3"},{fillColor:"#ff7777"},{fillColor:"#ff9900"},{fillColor:"#83dd00"},{fillColor:"#77e3ff"},{fillColor:"#778fff"},{fillColor:"#c877ff"},{fillColor:"#ff77ab"},{fillColor:"#ff6600"},{fillColor:"#aa8800"},{fillColor:"#77c7ff"},{fillColor:"#ad77ff"},{fillColor:"#ff77ff"},{fillColor:"#dd0083"},{fillColor:"#777700"},{fillColor:"#00aa00"},{fillColor:"#0088aa"},{fillColor:"#8400dd"},{fillColor:"#aa0088"},{fillColor:"#dd0000"},{fillColor:"#772e00"}],t=this.setting;t.useBackground&&this.shapes.push(G1.Background(this.shapeFactory,this.chartBox,t));var n=this.dataValues;if(!(n.length<1)){for(var r=this.DVBCodomain,i=0;i<n.length;i++)if(n[i]<r[0]||n[i]>r[1])return;for(var o=0,a=0;a<n.length;a++)o+=Math.abs(n[a]);this.DVBUnitValue=360/o;for(var s=this.DVBUnitValue,l=this.DVBCenterPoint,u=0,c=0,f=u,h=this.DVBHeight<this.DVBWidth?this.DVBHeight/2:this.DVBWidth/2,p=t.innerRingRadius>=0&&t.innerRingRadius<h,y=void 0!==t.innerRingRadius&&!isNaN(t.innerRingRadius)&&p?t.innerRingRadius:0,d=0;d<n.length;d++){var m=Math.abs(n[d]);c=0===d?u+m*s:d===m.length-1?f:u+m*s;var v=new y1(l[0],l[1],h,u,c,y);if(void 0===t.sectorStyleByFields){var b=d%e.length;v.style=G1.ShapeStyleTool(null,t.sectorStyle,e,null,b)}else v.style=G1.ShapeStyleTool(null,t.sectorStyle,t.sectorStyleByFields,t.sectorStyleByCodomain,d,n[d]);v.highlightStyle=G1.ShapeStyleTool(null,t.sectorHoverStyle),void 0!==t.sectorHoverAble&&(v.hoverable=t.sectorHoverAble),void 0!==t.sectorClickAble&&(v.clickable=t.sectorClickAble),v.refDataID=this.data.id,v.dataInfo={field:this.fields[d],value:n[d]},this.shapes.push(this.shapeFactory.createShape(v)),u=c}this.shapesConvertToRelativeCoordinate()}}}}]),t}(V1);xQ.Feature.Theme.Ring=K1;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Z1=function(e){function t(e,n,r,i,o){var a;if(kG(this,t),a=LG(this,IG(t).call(this,e,n)),!e.geometry)return LG(a);if(!(e.geometry instanceof DY))return LG(a);a.dataBounds=e.geometry.getBounds(),a.nodesClipPixel=2,a.isHoverAble=!0,a.isMultiHover=!0,a.isClickAble=!0,a.highlightStyle=null,a.shapeOptions={},a.style=r||{},a.CLASS_NAME="SuperMap.Feature.Theme.Vector",a.style=r||{},i&&RY.copyAttributesWithClip(jG(a),i,["shapeOptions","dataBounds"]),o&&RY.copyAttributesWithClip(a.shapeOptions,o);var s=e.geometry;return a.lonlat=a.dataBounds.getCenterLonLat(),a.location=a.getLocalXY(a.lonlat),s instanceof HY?a.lineToTF(s):s instanceof zY?a.lineToTF(s):s instanceof UY||(s instanceof BY?a.multiPointToTF(s):s instanceof JY?a.multiLineStringToTF(s):s instanceof qY?a.multiPolygonToTF(s):s instanceof WY?a.polygonToTF(s):s instanceof FY||(s instanceof GY?a.pointToTF(s):s instanceof QY?a.rectangleToTF(s):s instanceof VY&&a.geoTextToTF(s))),a}return DG(t,e),AG(t,[{key:"destroy",value:function(){this.style=null,this.dataBounds=null,this.nodesClipPixel=null,this.isHoverAble=null,this.isMultiHover=null,this.isClickAble=null,this.highlightStyle=null,this.shapeOptions=null,RG(IG(t.prototype),"destroy",this).call(this)}},{key:"lineToTF",value:function(e){for(var t=e.components,n=[],r=[],i=this.location,o=[],a=this.nodesClipPixel,s=0;s<t.length;s++){var l=t[s];if(r=[],n=this.getLocalXY(l),r[0]=n[0]-i[0],r[1]=n[1]-i[1],o.length>0){var u=o[o.length-1];if(Math.abs(u[0]-r[0])<=a&&Math.abs(u[1]-r[1])<=a)continue}o.push(r)}if(o.length<2)return null;var c=new Object;c=RY.copyAttributesWithClip(c,this.style,["pointList"]),c.pointList=o;var f=new D1({style:c,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(f.highlightStyle=this.highlightStyle),f.refOriginalPosition=this.location,f.refDataID=this.data.id,f.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&RY.copyAttributesWithClip(f,this.shapeOptions),this.shapes.push(f)}},{key:"multiPointToTF",value:function(e){for(var t=e.components,n=[],r=[],i=this.location,o=[],a=this.nodesClipPixel,s=0;s<t.length;s++){var l=t[s];if(r=[],n=this.getLocalXY(l),r[0]=n[0]-i[0],r[1]=n[1]-i[1],o.length>0){var u=o[o.length-1];if(Math.abs(u[0]-r[0])<=a&&Math.abs(u[1]-r[1])<=a)continue}o.push(r);var c=new Object;c.r=6,c=RY.copyAttributesWithClip(c,this.style),c.x=r[0],c.y=r[1];var f=new j1({style:c,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(f.highlightStyle=this.highlightStyle),f.refOriginalPosition=i,f.refDataID=this.data.id,f.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&RY.copyAttributesWithClip(f,this.shapeOptions),this.shapes.push(f)}}},{key:"multiLineStringToTF",value:function(e){for(var t=e.components,n=0;n<t.length;n++){var r=t[n];this.lineToTF(r)}}},{key:"multiPolygonToTF",value:function(e){for(var t=e.components,n=0;n<t.length;n++){var r=t[n];this.polygonToTF(r)}}},{key:"pointToTF",value:function(e){var t=this.location,n=this.getLocalXY(e),r=new Object;r.r=6,r=RY.copyAttributesWithClip(r,this.style),r.x=n[0]-t[0],r.y=n[1]-t[1];var i=new j1({style:r,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(i.highlightStyle=this.highlightStyle),i.refOriginalPosition=t,i.refDataID=this.data.id,i.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&RY.copyAttributesWithClip(i,this.shapeOptions),this.shapes.push(i)}},{key:"polygonToTF",value:function(e){for(var t=e.components,n=[],r=[],i=this.location,o=[],a=[],s=[],l=this.nodesClipPixel,u=0;u<t.length;u++){var c=t[u].components;if(0===u){o=[];for(var f=0;f<c.length;f++){if(r=[],n=this.getLocalXY(c[f]),r[0]=n[0]-i[0],r[1]=n[1]-i[1],o.length>0){var h=o[o.length-1];if(Math.abs(h[0]-r[0])<=l&&Math.abs(h[1]-r[1])<=l)continue}o.push(r)}}else{a=[];for(var p=0;p<c.length;p++){if(r=[],n=this.getLocalXY(c[p]),r[0]=n[0]-i[0],r[1]=n[1]-i[1],a.length>0){var y=a[a.length-1];if(Math.abs(y[0]-r[0])<=l&&Math.abs(y[1]-r[1])<=l)continue}a.push(r)}}a.length<2||s.push(a)}if(!(o.length<2)){var d={};d=RY.copyAttributesWithClip(d,this.style,["pointList"]),d.pointList=o;var m=new I1({style:d,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(m.highlightStyle=this.highlightStyle),m.refOriginalPosition=this.location,m.refDataID=this.data.id,m.isHoverByRefDataID=this.isMultiHover,s.length>0&&(m.holePolygonPointLists=s),this.shapeOptions&&RY.copyAttributesWithClip(m,this.shapeOptions),this.shapes.push(m)}}},{key:"rectangleToTF",value:function(e){var t=this.location,n=new NY(e.x,e.y),r=this.layer.map.getResolution(),i=this.getLocalXY(n),o=new Object;o.r=6,o=RY.copyAttributesWithClip(o,this.style),o.x=i[0]-t[0],o.y=i[1]-t[1]-2*e.width/r,o.width=e.width/r,o.height=e.height/r;var a=new B1({style:o,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(a.highlightStyle=this.highlightStyle),a.refOriginalPosition=t,a.refDataID=this.data.id,a.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&RY.copyAttributesWithClip(a,this.shapeOptions),this.shapes.push(a)}},{key:"geoTextToTF",value:function(e){var t=this.location,n=this.getLocalXY(e),r=new Object;r.r=6,r=RY.copyAttributesWithClip(r,this.style,["x","y","text"]),r.x=n[0]-t[0],r.y=n[1]-t[1],r.text=e.text;var i=new R1({style:r,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(i.highlightStyle=this.highlightStyle),i.refOriginalPosition=t,i.refDataID=this.data.id,i.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&RY.copyAttributesWithClip(i,this.shapeOptions),this.shapes.push(i)}},{key:"updateAndAddShapes",value:function(){var e=this.getLocalXY(this.lonlat);this.location=e;for(var t=this.layer.renderer,n=0,r=this.shapes.length;n<r;n++){var i=this.shapes[n];i.refOriginalPosition=e,t.addShape(i)}}},{key:"getShapesCount",value:function(){return this.shapes.length}},{key:"getLocalXY",value:function(e){return this.layer.getLocalXY(e)}}]),t}(z1);xQ.Feature.Theme.ThemeVector=Z1;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var $1=function(e){function t(e){var n;return UG(this,t),n=VG(this,WG(t).call(this,e)),e=e||{},n.id=null,n.type="group",n.clipShape=null,n._children=[],n._storage=null,n.__dirty=!0,n.ignore=!1,RY.extend(HG(n),e),n.id=n.id||RY.createUniqueID("smShapeGroup_"),n.CLASS_NAME="SuperMap.LevelRenderer.Group",n}return QG(t,e),zG(t,[{key:"destroy",value:function(){this.id=null,this.type=null,this.clipShape=null,this._children=null,this._storage=null,this.__dirty=null,this.ignore=null,JG(WG(t.prototype),"destroy",this).call(this)}},{key:"children",value:function(){return this._children.slice()}},{key:"childAt",value:function(e){return this._children[e]}},{key:"addChild",value:function(e){e!=this&&e.parent!=this&&(e.parent&&e.parent.removeChild(e),this._children.push(e),e.parent=this,this._storage&&this._storage!==e._storage&&(this._storage.addToMap(e),e instanceof t&&e.addChildrenToStorage(this._storage)))}},{key:"removeChild",value:function(e){var n=RY.indexOf(this._children,e);this._children.splice(n,1),e.parent=null,this._storage&&(this._storage.delFromMap(e.id),e instanceof t&&e.delChildrenFromStorage(this._storage))}},{key:"eachChild",value:function(e,t){for(var n=!!t,r=0;r<this._children.length;r++){var i=this._children[r];n?e.call(t,i):e(i)}}},{key:"traverse",value:function(e,t){for(var n=!!t,r=0;r<this._children.length;r++){var i=this._children[r];n?e.call(t,i):e(i),"group"===i.type&&i.traverse(e,t)}}},{key:"addChildrenToStorage",value:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.addToMap(n),"group"===n.type&&n.addChildrenToStorage(e)}}},{key:"delChildrenFromStorage",value:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.delFromMap(n.id),"group"===n.type&&n.delChildrenFromStorage(e)}}},{key:"modSelf",value:function(){this.__dirty=!0}}]),t}(xQ.mixin(b1,A1)),e2=function(){function e(){XG(this,e),this._elements={},this._hoverElements=[],this._roots=[],this._shapeList=[],this._shapeListOffset=0,this.CLASS_NAME="SuperMap.LevelRenderer.Storage"}return ZG(e,[{key:"destroy",value:function(){this.dispose(),this._shapeList=null,this._shapeListOffset=null}},{key:"iterShape",value:function(e,t){if(!t){t={hover:!1,normal:"down",update:!1}}if(t.hover)for(var n=0,r=this._hoverElements.length;n<r;n++){var i=this._hoverElements[n];if(i.updateTransform(),e(i))return this}switch(t.update&&this.updateShapeList(),t.normal){case"down":for(var o=this._shapeList.length;o--;)if(e(this._shapeList[o]))return this;break;default:for(var a=0,s=this._shapeList.length;a<s;a++)if(e(this._shapeList[a]))return this}return this}},{key:"getHoverShapes",value:function(t){for(var n=[],r=this._hoverElements.length,i=0;i<r;i++){n.push(this._hoverElements[i]);var o=this._hoverElements[i].hoverConnect;if(o){var a;o=o instanceof Array?o:[o];for(var s=0,l=o.length;s<l;s++)(a=o[s].id?o[s]:this.get(o[s]))&&n.push(a)}}if(n.sort(e.shapeCompareFunc),t)for(var u=0,c=n.length;u<c;u++)n[u].updateTransform();return n}},{key:"getShapeList",value:function(e){return e&&this.updateShapeList(),this._shapeList}},{key:"updateShapeList",value:function(){this._shapeListOffset=0;for(var t=this._roots.length,n=0;n<t;n++){var r=this._roots[n];this._updateAndAddShape(r)}this._shapeList.length=this._shapeListOffset;for(var i=this._shapeList.length,o=0;o<i;o++)this._shapeList[o].__renderidx=o;this._shapeList.sort(e.shapeCompareFunc)}},{key:"_updateAndAddShape",value:function(e,t){if(!e.ignore)if(e.updateTransform(),"group"==e.type){e.clipShape&&(e.clipShape.parent=e,e.clipShape.updateTransform(),t?(t=t.slice(),t.push(e.clipShape)):t=[e.clipShape]);for(var n=0;n<e._children.length;n++){var r=e._children[n];r.__dirty=e.__dirty||r.__dirty,this._updateAndAddShape(r,t)}e.__dirty=!1}else e.__clipShapes=t,this._shapeList[this._shapeListOffset++]=e}},{key:"mod",value:function(e,t){var n=this._elements[e];if(n&&(n.modSelf(),t))if(t.parent||t._storage||t.__startClip){var r={};for(var i in t)"parent"!=i&&"_storage"!=i&&"__startClip"!=i&&t.hasOwnProperty(i)&&(r[i]=t[i]);(new e1).merge(n,r,!0)}else(new e1).merge(n,t,!0);return this}},{key:"drift",value:function(e,t,n){var r=this._elements[e];return r&&(r.needTransform=!0,"horizontal"===r.draggable?n=0:"vertical"===r.draggable&&(t=0),(!r.ondrift||r.ondrift&&!r.ondrift(t,n))&&r.drift(t,n)),this}},{key:"addHover",value:function(e){return e.updateNeedTransform(),this._hoverElements.push(e),this}},{key:"delHover",value:function(){return this._hoverElements=[],this}},{key:"hasHoverShape",value:function(){return this._hoverElements.length>0}},{key:"addRoot",value:function(e){e instanceof $1&&e.addChildrenToStorage(this),this.addToMap(e),this._roots.push(e)}},{key:"delRoot",value:function(e){if(void 0===e){for(var t=0;t<this._roots.length;t++){var n=this._roots[t];n instanceof $1&&n.delChildrenFromStorage(this)}return this._elements={},this._hoverElements=[],void(this._roots=[])}if(e instanceof Array)for(var r=e.length,i=0;i<r;i++)this.delRoot(e[i]);else{var o;o="string"==typeof e?this._elements[e]:e;var a=(new e1).indexOf(this._roots,o);a>=0&&(this.delFromMap(o.id),this._roots.splice(a,1),o instanceof $1&&o.delChildrenFromStorage(this))}}},{key:"addToMap",value:function(e){return e instanceof $1&&(e._storage=this),e.modSelf(),this._elements[e.id]=e,this}},{key:"get",value:function(e){return this._elements[e]}},{key:"delFromMap",value:function(e){var t=this._elements[e];return t&&(delete this._elements[e],t instanceof $1&&(t._storage=null)),this}},{key:"dispose",value:function(){this._elements=null,this._roots=null,this._hoverElements=null}}],[{key:"shapeCompareFunc",value:function(e,t){return e.zlevel==t.zlevel?e.z==t.z?e.__renderidx-t.__renderidx:e.z-t.z:e.zlevel-t.zlevel}}]),e}(),t2=function(){function e(t,n){function r(){return!1}oz(this,e),this.root=t,this.storage=n,this._domRoot=null,this._layers={},this._zlevelList=[],this._layerConfig={},this._bgDom=null,this.shapeToImage=null,e.devicePixelRatio=Math.max(window.devicePixelRatio||1,1),this.CLASS_NAME="SuperMap.LevelRenderer.Painter",this.root.innerHTML="",this._width=this._getWidth(),this._height=this._getHeight();var i=document.createElement("div");this._domRoot=i,i.style.position="relative",i.style.overflow="hidden",i.style.width=this._width+"px",i.style.height=this._height+"px",this.root.appendChild(i),this.shapeToImage=this._createShapeToImageProcessor(),this._bgDom=e.createDom(RY.createUniqueID("SuperMap.Theme_background_"),"div",this),i.appendChild(this._bgDom),this._bgDom.onselectstart=r,this._bgDom.style["-webkit-user-select"]="none",this._bgDom.style["user-select"]="none",this._bgDom.style["-webkit-touch-callout"]="none";var o=new n2(RY.createUniqueID("_highLightLayer_"),this);this._layers.hover=o,i.appendChild(o.dom),o.initContext(),o.dom.onselectstart=r,o.dom.style["-webkit-user-select"]="none",o.dom.style["user-select"]="none",o.dom.style["-webkit-touch-callout"]="none";var a=this;this.updatePainter=function(e,t){a.refreshShapes(e,t)}}return sz(e,[{key:"destroy",value:function(){this.dispose(),this._zlevelList=null,this._layerConfig=null,this._bgDom=null,this.shapeToImage=null}},{key:"render",value:function(e){return this.refresh(e,!0),this}},{key:"refresh",value:function(e,t){var n=this.storage.getShapeList(!0);return this._paintList(n,t),"function"==typeof e&&e(),this}},{key:"_paintList",value:function(e,t){void 0===t&&(t=!1),this._updateLayerStatus(e);var n,r,i;for(var o in this._layers)"hover"!==o&&(this._layers[o].unusedCount++,this._layers[o].updateTransform());for(var a=[],s=0,l=e.length;s<l;s++){var u=e[s];if(r!==u.zlevel&&(n&&n.needTransform&&i.restore(),n=this.getLayer(u.zlevel),i=n.ctx,r=u.zlevel,n.unusedCount=0,(n.dirty||t)&&n.clear(),n.needTransform&&(i.save(),n.setTransform(i))),i&&u.__startClip){var c=u.__startClip;if(i.save(),c.needTransform){var f=c.transform;M1.Util_matrix.invert(a,f),i.transform(f[0],f[1],f[2],f[3],f[4],f[5])}if(i.beginPath(),c.buildPath(i,c.style),i.clip(),c.needTransform){var h=a;i.transform(h[0],h[1],h[2],h[3],h[4],h[5])}}if((n&&n.dirty||t)&&!u.invisible&&(!u.onbrush||u.onbrush&&!u.onbrush(i,!1)))if(T1.catchBrushException)try{u.brush(i,!1,this.updatePainter)}catch(e){M1.Util_log(e,"brush error of "+u.type,u)}else u.brush(i,!1,this.updatePainter);i&&u.__stopClip&&i.restore(),u.__dirty=!1}i&&n&&n.needTransform&&i.restore();for(var p in this._layers)if("hover"!==p){var y=this._layers[p];y.dirty=!1,1==y.unusedCount&&y.clear()}}},{key:"getLayer",value:function(e){var t=this._layers[e];if(!t){var n=this._zlevelList.length,r=null,i=-1;if(n>0&&e>this._zlevelList[0]){for(i=0;i<n-1&&!(this._zlevelList[i]<e&&this._zlevelList[i+1]>e);i++);r=this._layers[this._zlevelList[i]]}this._zlevelList.splice(i+1,0,e),t=new n2(RY.createUniqueID("_levelLayer_"+e),this);var o=r?r.dom:this._bgDom;o.nextSibling?o.parentNode.insertBefore(t.dom,o.nextSibling):o.parentNode.appendChild(t.dom),t.initContext(),this._layers[e]=t,this._layerConfig[e]&&(new e1).merge(t,this._layerConfig[e],!0),t.updateTransform()}return t}},{key:"getLayers",value:function(){return this._layers}},{key:"_updateLayerStatus",value:function(e){var t=this._layers,n={};for(var r in t)"hover"!==r&&(n[r]=t[r].elCount,t[r].elCount=0);for(var i=0;i<e.length;i++){var o=e[i],a=o.zlevel,s=t[a];if(s){if(s.elCount++,s.dirty)continue;s.dirty=o.__dirty}}for(var l in t)"hover"!==l&&n[l]!==t[l].elCount&&(t[l].dirty=!0)}},{key:"refreshShapes",value:function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];this.storage.mod(i.id)}return this.refresh(t),this}},{key:"clear",value:function(){for(var e in this._layers)"hover"!=e&&this._layers[e].clear();return this}},{key:"modLayer",value:function(e,t){if(t){this._layerConfig[e]?(new e1).merge(this._layerConfig[e],t,!0):this._layerConfig[e]=t;var n=this._layers[e];n&&(new e1).merge(n,this._layerConfig[e],!0)}}},{key:"delLayer",value:function(e){var t=this._layers[e];t&&(this.modLayer(e,{position:t.position,rotation:t.rotation,scale:t.scale}),t.dom.parentNode.removeChild(t.dom),delete this._layers[e],this._zlevelList.splice((new e1).indexOf(this._zlevelList,e),1))}},{key:"refreshHover",value:function(){this.clearHover();for(var e=this.storage.getHoverShapes(!0),t=0,n=e.length;t<n;t++)this._brushHover(e[t]);return this.storage.delHover(),this}},{key:"clearHover",value:function(){var e=this._layers.hover;return e&&e.clear(),this}},{key:"resize",value:function(){var e=this._domRoot;e.style.display="none";var t=this._getWidth(),n=this._getHeight();if(e.style.display="",this._width!=t||n!=this._height){this._width=t,this._height=n,e.style.width=t+"px",e.style.height=n+"px";for(var r in this._layers)this._layers[r].resize(t,n);this.refresh(null,!0)}return this}},{key:"clearLayer",value:function(e){var t=this._layers[e];t&&t.clear()}},{key:"dispose",value:function(){this.root.innerHTML="",this.root=null,this.storage=null,this._domRoot=null,this._layers=null}},{key:"getDomHover",value:function(){return this._layers.hover.dom}},{key:"toDataURL",value:function(t,n,r){var i=e.createDom(RY.createUniqueID("SuperMap.Theme.image_"),"canvas",this);this._bgDom.appendChild(i);var o=i.getContext("2d");1!=e.devicePixelRatio&&o.scale(e.devicePixelRatio,e.devicePixelRatio),o.fillStyle=n||"#fff",o.rect(0,0,this._width*e.devicePixelRatio,this._height*e.devicePixelRatio),o.fill();var a=this;this.storage.iterShape(function(e){if(!e.invisible&&(!e.onbrush||e.onbrush&&!e.onbrush(o,!1)))if(T1.catchBrushException)try{e.brush(o,!1,a.updatePainter)}catch(t){M1.Util_log(t,"brush error of "+e.type,e)}else e.brush(o,!1,a.updatePainter)},{normal:"up",update:!0});var s=i.toDataURL(t,r);return o=null,this._bgDom.removeChild(i),s}},{key:"getWidth",value:function(){return this._width}},{key:"getHeight",value:function(){return this._height}},{key:"_getWidth",value:function(){var e=this.root,t=e.currentStyle||document.defaultView.getComputedStyle(e);return((e.clientWidth||parseInt(t.width,10))-parseInt(t.paddingLeft,10)-parseInt(t.paddingRight,10)).toFixed(0)-0}},{key:"_getHeight",value:function(){var e=this.root,t=e.currentStyle||document.defaultView.getComputedStyle(e);return((e.clientHeight||parseInt(t.height,10))-parseInt(t.paddingTop,10)-parseInt(t.paddingBottom,10)).toFixed(0)-0}},{key:"_brushHover",value:function(e){var t=this._layers.hover.ctx;if(!e.onbrush||e.onbrush&&!e.onbrush(t,!0)){var n=this.getLayer(e.zlevel);if(n.needTransform&&(t.save(),n.setTransform(t)),T1.catchBrushException)try{e.brush(t,!0,this.updatePainter)}catch(t){M1.Util_log(t,"hoverBrush error of "+e.type,e)}else e.brush(t,!0,this.updatePainter);n.needTransform&&t.restore()}}},{key:"_shapeToImage",value:function(e,t,n,r,i){var o=document.createElement("canvas"),a=o.getContext("2d"),s=i||window.devicePixelRatio||1;o.style.width=n+"px",o.style.height=r+"px",o.setAttribute("width",n*s),o.setAttribute("height",r*s),a.clearRect(0,0,n*s,r*s);var l={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[0,0,0],t.rotation=0,t.scale=[1,1],t&&t.brush(a,!1);var u=new F1({id:e,style:{x:0,y:0,image:o}});return null!=l.position&&(u.position=t.position=l.position),null!=l.rotation&&(u.rotation=t.rotation=l.rotation),null!=l.scale&&(u.scale=t.scale=l.scale),u}},{key:"_createShapeToImageProcessor",value:function(){var t=this;return function(n,r,i,o){return t._shapeToImage(n,r,i,o,e.devicePixelRatio)}}},{key:"updateHoverLayer",value:function(e){if(!(e instanceof Array))return this;this.clearHover(),this.storage.delHover();for(var t=0;t<e.length;t++)this.storage.addHover(e[t]),this._brushHover(e[t])}}],[{key:"createDom",value:function(t,n,r){var i=document.createElement(n),o=r._width,a=r._height;return i.style.position="absolute",i.style.left=0,i.style.top=0,i.style.width=o+"px",i.style.height=a+"px",i.setAttribute("width",o*e.devicePixelRatio),i.setAttribute("height",a*e.devicePixelRatio),i.setAttribute("id",t),i}}]),e}(),n2=function(e){function t(e,n){function r(){return!1}var i;return oz(this,t),i=ez(this,nz(t).call(this,e,n)),i.dom=null,i.domBack=null,i.ctxBack=null,i.painter=n,i.unusedCount=0,i.config=null,i.dirty=!0,i.elCount=0,i.clearColor=0,i.motionBlur=!1,i.lastFrameAlpha=.7,i.zoomable=!1,i.panable=!1,i.maxZoom=1/0,i.minZoom=0,i.ctx=null,i.dom=t2.createDom(RY.createUniqueID("SuperMap.Theme"+e),"canvas",n),i.dom.onselectstart=r,i.dom.style["-webkit-user-select"]="none",i.dom.style["user-select"]="none",i.dom.style["-webkit-touch-callout"]="none",i.CLASS_NAME="SuperMap.LevelRenderer.Painter.Layer",i}return rz(t,e),sz(t,[{key:"destroy",value:function(){this.dom=null,this.domBack=null,this.ctxBack=null,this.painter=null,this.unusedCount=null,this.config=null,this.dirty=null,this.elCount=null,this.clearColor=null,this.motionBlur=null,this.lastFrameAlpha=null,this.zoomable=null,this.panable=null,this.maxZoom=null,this.minZoom=null,this.ctx=null,A1.destroy.apply(this,arguments)}},{key:"initContext",value:function(){this.ctx=this.dom.getContext("2d"),1!=t2.devicePixelRatio&&this.ctx.scale(t2.devicePixelRatio,t2.devicePixelRatio)}},{key:"createBackBuffer",value:function(){this.domBack=t2.createDom(RY.createUniqueID("SuperMap.Theme.back-"+this.id),"canvas",this.painter),this.ctxBack=this.domBack.getContext("2d"),1!=t2.devicePixelRatio&&this.ctxBack.scale(t2.devicePixelRatio,t2.devicePixelRatio)}},{key:"resize",value:function(e,t){this.dom.style.width=e+"px",this.dom.style.height=t+"px",this.dom.setAttribute("width",e*t2.devicePixelRatio),this.dom.setAttribute("height",t*t2.devicePixelRatio),1!=t2.devicePixelRatio&&this.ctx.scale(t2.devicePixelRatio,t2.devicePixelRatio),this.domBack&&(this.domBack.setAttribute("width",e*t2.devicePixelRatio),this.domBack.setAttribute("height",t*t2.devicePixelRatio),1!=t2.devicePixelRatio&&this.ctxBack.scale(t2.devicePixelRatio,t2.devicePixelRatio))}},{key:"clear",value:function(){var e=this.dom,t=this.ctx,n=e.width,r=e.height,i=this.clearColor,o=this.motionBlur,a=this.lastFrameAlpha;if(o&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(e,0,0,n/t2.devicePixelRatio,r/t2.devicePixelRatio)),i?(t.save(),t.fillStyle=this.config.clearColor,t.fillRect(0,0,n/t2.devicePixelRatio,r/t2.devicePixelRatio),t.restore()):t.clearRect(0,0,n/t2.devicePixelRatio,r/t2.devicePixelRatio),o){var s=this.domBack;t.save(),t.globalAlpha=a,t.drawImage(s,0,0,n/t2.devicePixelRatio,r/t2.devicePixelRatio),t.restore()}}}]),t}(A1),r2=function(e){function t(e,n,r){function i(e,t){return function(n){return e.call(t,n)}}function o(e,t,n){var r=this;if(r._draggingTarget&&r._draggingTarget.id==e.id||e.isSilent())return!1;var i=r._event;if(e.isCover(t,n)){if(e.hoverable)if(e.isHoverByRefDataID&&!0===e.isHoverByRefDataID){if(e.refDataID){var o=e.refDataID,a=null;e.refDataHoverGroup&&(a=e.refDataHoverGroup);for(var s=r.storage._shapeList,l=0,u=s.length;l<u;l++){var c=s[l];c.refDataID&&o===c.refDataID&&(a?c.refDataHoverGroup&&a===c.refDataHoverGroup&&r.storage.addHover(c):r.storage.addHover(c))}}}else r.storage.addHover(e);for(var f=e.parent;f;){if(f.clipShape&&!f.clipShape.isCover(r._mouseX,r._mouseY))return!1;f=f.parent}return r._lastHover!=e&&(r._processOutShape(i),r._processDragLeave(i),r._lastHover=e,r._processDragEnter(i)),r._processOverShape(i),r._processDragOver(i),r._hasfound=1,!0}return!1}var a;uz(this,t),a=hz(this,pz(t).call(this,e,n,r)),a.root=e,a.storage=n,a.painter=r,a._lastX=0,a._lastY=0,a._mouseX=0,a._mouseY=0,a._findHover=null,a._domHover=null,a._findHover=function(e,t){return function(n,r,i){return e.call(t,n,r,i)}}(o,yz(a)),a._domHover=r.getDomHover(),a.CLASS_NAME="SuperMap.LevelRenderer.Handler";var s={resize:function(e){e=e||window.event,this._lastHover=null,this._isMouseDown=0,this.dispatch(T1.EVENT.RESIZE,e)},click:function(e){e=this._zrenderEventFixed(e);var t=this._lastHover;(t&&t.clickable||!t)&&this._clickThreshold<10&&this._dispatchAgency(t,T1.EVENT.CLICK,e),this._mousemoveHandler(e)},dblclick:function(e){e=e||window.event,e=this._zrenderEventFixed(e);var t=this._lastHover;(t&&t.clickable||!t)&&this._clickThreshold<5&&this._dispatchAgency(t,T1.EVENT.DBLCLICK,e),this._mousemoveHandler(e)},mousewheel:function(e){e=this._zrenderEventFixed(e);var t=e.wheelDelta||-e.detail,n=t>0?1.1:1/1.1,r=this.painter.getLayers(),i=!1;for(var o in r)if("hover"!==o){var a=r[o],s=a.position;if(a.zoomable){a.__zoom=a.__zoom||1;var l=a.__zoom;l*=n,l=Math.max(Math.min(a.maxZoom,l),a.minZoom),n=l/a.__zoom,a.__zoom=l,s[0]-=(this._mouseX-s[0])*(n-1),s[1]-=(this._mouseY-s[1])*(n-1),a.scale[0]*=n,a.scale[1]*=n,a.dirty=!0,i=!0}}i&&this.painter.refresh(),this._dispatchAgency(this._lastHover,T1.EVENT.MOUSEWHEEL,e),this._mousemoveHandler(e)},mousemove:function(e){this._clickThreshold++,e=this._zrenderEventFixed(e),this._lastX=this._mouseX,this._lastY=this._mouseY,this._mouseX=M1.Util_event.getX(e),this._mouseY=M1.Util_event.getY(e);var t=this._mouseX-this._lastX,n=this._mouseY-this._lastY;this._processDragStart(e),this._hasfound=0,this._event=e,this._iterateAndFindHover(),this._hasfound||((!this._draggingTarget||this._lastHover&&this._lastHover!=this._draggingTarget)&&(this._processOutShape(e),this._processDragLeave(e)),this._lastHover=null,this.storage.delHover(),this.painter.clearHover());var r="";if(this._draggingTarget)this.storage.drift(this._draggingTarget.id,t,n),this._draggingTarget.modSelf(),this.storage.addHover(this._draggingTarget);else if(this._isMouseDown){var i=this.painter.getLayers(),o=!1;for(var a in i)if("hover"!==a){var s=i[a];s.panable&&(r="move",s.position[0]+=t,s.position[1]+=n,o=!0,s.dirty=!0)}o&&this.painter.refresh()}this._draggingTarget||this._hasfound&&this._lastHover.draggable?r="move":this._hasfound&&this._lastHover.clickable&&(r="pointer"),this.root.style.cursor=r,this._dispatchAgency(this._lastHover,T1.EVENT.MOUSEMOVE,e),(this._draggingTarget||this._hasfound||this.storage.hasHoverShape())&&this.painter.refreshHover()},mouseout:function(e){e=this._zrenderEventFixed(e);var t=e.toElement||e.relatedTarget;if(t!=this.root)for(;t&&9!=t.nodeType;){if(t==this.root)return void this._mousemoveHandler(e);t=t.parentNode}e.zrenderX=this._lastX,e.zrenderY=this._lastY,this.root.style.cursor="",this._isMouseDown=0,this._processOutShape(e),this._processDrop(e),this._processDragEnd(e),this.painter.refreshHover(),this.dispatch(T1.EVENT.GLOBALOUT,e)},mousedown:function(e){if(this._clickThreshold=0,2==this._lastDownButton)return this._lastDownButton=e.button,void(this._mouseDownTarget=null);this._lastMouseDownMoment=new Date,e=this._zrenderEventFixed(e),this._isMouseDown=1,this._mouseDownTarget=this._lastHover,this._dispatchAgency(this._lastHover,T1.EVENT.MOUSEDOWN,e),this._lastDownButton=e.button},mouseup:function(e){e=this._zrenderEventFixed(e),this.root.style.cursor="",this._isMouseDown=0,this._mouseDownTarget=null,this._dispatchAgency(this._lastHover,T1.EVENT.MOUSEUP,e),this._processDrop(e),this._processDragEnd(e)},touchstart:function(e){e=this._zrenderEventFixed(e,!0),this._lastTouchMoment=new Date,this._mobildFindFixed(e),this._mousedownHandler(e)},touchmove:function(e){e=this._zrenderEventFixed(e,!0),this._mousemoveHandler(e),this._isDragging&&M1.Util_event.stop(e)},touchend:function(e){e=this._zrenderEventFixed(e,!0),this._mouseupHandler(e);var t=new Date;t-this._lastTouchMoment<T1.EVENT.touchClickDelay&&(this._mobildFindFixed(e),this._clickHandler(e),t-this._lastClickMoment<T1.EVENT.touchClickDelay/2&&(this._dblclickHandler(e),this._lastHover&&this._lastHover.clickable&&M1.Util_event.stop(e)),this._lastClickMoment=t),this.painter.clearHover()}};return function(e){for(var t=["resize","click","dblclick","mousewheel","mousemove","mouseout","mouseup","mousedown","touchstart","touchend","touchmove"],n=t.length;n--;){var r=t[n];e["_"+r+"Handler"]=i(s[r],e)}}(yz(a)),window.addEventListener?(window.addEventListener("resize",a._resizeHandler),M1.Util_env.os.tablet||M1.Util_env.os.phone?(e.addEventListener("touchstart",a._touchstartHandler),e.addEventListener("touchmove",a._touchmoveHandler),e.addEventListener("touchend",a._touchendHandler)):(e.addEventListener("click",a._clickHandler),e.addEventListener("dblclick",a._dblclickHandler),e.addEventListener("mousewheel",a._mousewheelHandler),e.addEventListener("mousemove",a._mousemoveHandler),e.addEventListener("mousedown",a._mousedownHandler),e.addEventListener("mouseup",a._mouseupHandler)),e.addEventListener("DOMMouseScroll",a._mousewheelHandler),e.addEventListener("mouseout",a._mouseoutHandler)):(window.attachEvent("onresize",a._resizeHandler),e.attachEvent("onclick",a._clickHandler),e.ondblclick=a._dblclickHandler,e.attachEvent("onmousewheel",a._mousewheelHandler),e.attachEvent("onmousemove",a._mousemoveHandler),e.attachEvent("onmouseout",a._mouseoutHandler),e.attachEvent("onmousedown",a._mousedownHandler),e.attachEvent("onmouseup",a._mouseupHandler)),a}return dz(t,e),fz(t,[{key:"destroy",value:function(){this.dispose(),this._lastX=null,this._lastY=null,this._mouseX=null,this._mouseY=null,this._findHover=null,b1.prototype.destroy.apply(this,arguments)}},{key:"on",value:function(e,t){return this.bind(e,t),this}},{key:"un",value:function(e,t){return this.unbind(e,t),this}},{key:"trigger",value:function(e,t){var n=T1.EVENT;switch(e){case n.RESIZE:case n.CLICK:case n.DBLCLICK:case n.MOUSEWHEEL:case n.MOUSEMOVE:case n.MOUSEDOWN:case n.MOUSEUP:case n.MOUSEOUT:this["_"+e+"Handler"](t)}}},{key:"dispose",value:function(){var e=this.root;window.removeEventListener?(window.removeEventListener("resize",this._resizeHandler),M1.Util_env.os.tablet||M1.Util_env.os.phone?(e.removeEventListener("touchstart",this._touchstartHandler),e.removeEventListener("touchmove",this._touchmoveHandler),e.removeEventListener("touchend",this._touchendHandler)):(e.removeEventListener("click",this._clickHandler),e.removeEventListener("dblclick",this._dblclickHandler),e.removeEventListener("mousewheel",this._mousewheelHandler),e.removeEventListener("mousemove",this._mousemoveHandler),e.removeEventListener("mousedown",this._mousedownHandler),e.removeEventListener("mouseup",this._mouseupHandler)),e.removeEventListener("DOMMouseScroll",this._mousewheelHandler),e.removeEventListener("mouseout",this._mouseoutHandler)):(window.detachEvent("onresize",this._resizeHandler),e.detachEvent("onclick",this._clickHandler),e.detachEvent("dblclick",this._dblclickHandler),e.detachEvent("onmousewheel",this._mousewheelHandler),e.detachEvent("onmousemove",this._mousemoveHandler),e.detachEvent("onmouseout",this._mouseoutHandler),e.detachEvent("onmousedown",this._mousedownHandler),e.detachEvent("onmouseup",this._mouseupHandler)),this.root=null,this._domHover=null,this.storage=null,this.painter=null,this.un()}},{key:"_processDragStart",value:function(e){var t=this._lastHover;if(this._isMouseDown&&t&&t.draggable&&!this._draggingTarget&&this._mouseDownTarget==t){if(t.dragEnableTime&&new Date-this._lastMouseDownMoment<t.dragEnableTime)return;var n=t;this._draggingTarget=n,this._isDragging=1,n.invisible=!0,this.storage.mod(n.id),this._dispatchAgency(n,T1.EVENT.DRAGSTART,e),this.painter.refresh()}}},{key:"_processDragEnter",value:function(e){this._draggingTarget&&this._dispatchAgency(this._lastHover,T1.EVENT.DRAGENTER,e,this._draggingTarget)}},{key:"_processDragOver",value:function(e){this._draggingTarget&&this._dispatchAgency(this._lastHover,T1.EVENT.DRAGOVER,e,this._draggingTarget)}},{key:"_processDragLeave",value:function(e){this._draggingTarget&&this._dispatchAgency(this._lastHover,T1.EVENT.DRAGLEAVE,e,this._draggingTarget)}},{key:"_processDrop",value:function(e){this._draggingTarget&&(this._draggingTarget.invisible=!1,this.storage.mod(this._draggingTarget.id),this.painter.refresh(),this._dispatchAgency(this._lastHover,T1.EVENT.DROP,e,this._draggingTarget))}},{key:"_processDragEnd",value:function(e){this._draggingTarget&&(this._dispatchAgency(this._draggingTarget,T1.EVENT.DRAGEND,e),this._lastHover=null),this._isDragging=0,this._draggingTarget=null}},{key:"_processOverShape",value:function(e){this._dispatchAgency(this._lastHover,T1.EVENT.MOUSEOVER,e)}},{key:"_processOutShape",value:function(e){this._dispatchAgency(this._lastHover,T1.EVENT.MOUSEOUT,e)}},{key:"_dispatchAgency",value:function(e,t,n,r){var i="on"+t,o={type:t,event:n,target:e,cancelBubble:!1},a=e;for(r&&(o.dragged=r);a&&(a[i]&&(o.cancelBubble=a[i](o)),a.dispatch(t,o),a=a.parent,!o.cancelBubble););e?o.cancelBubble||this.dispatch(t,o):r||this.dispatch(t,{type:t,event:n})}},{key:"_iterateAndFindHover",value:function(){for(var e,t=M1.Util_matrix.create(),n=this.storage.getShapeList(),r=[0,0],i=n.length-1;i>=0;i--){var o=n[i];if(void 0!==o.zlevel&&(e=this.painter.getLayer(o.zlevel,e),r[0]=this._mouseX,r[1]=this._mouseY,e.needTransform&&(M1.Util_matrix.invert(t,e.transform),M1.Util_vector.applyTransform(r,r,t))),this._findHover(o,r[0],r[1]))break}}},{key:"_mobildFindFixed",value:function(e){var t=[{x:10},{x:-20},{x:10,y:10},{y:-20}];this._lastHover=null,this._mouseX=e.zrenderX,this._mouseY=e.zrenderY,this._event=e,this._iterateAndFindHover();for(var n=0;!this._lastHover&&n<t.length;n++){var r=t[n];r.x&&(this._mouseX+=r.x),r.y&&(this._mouseX+=r.y),this._iterateAndFindHover()}this._lastHover&&(e.zrenderX=this._mouseX,e.zrenderY=this._mouseY)}},{key:"_zrenderEventFixed",value:function(e,t){if(e.zrenderFixed)return e;if(t){var n="touchend"!=e.type?e.targetTouches[0]:e.changedTouches[0];if(n){var r=this.root.getBoundingClientRect();e.zrenderX=n.clientX-r.left,e.zrenderY=n.clientY-r.top}}else{e=e||window.event;var i=e.toElement||e.relatedTarget||e.srcElement||e.target;i&&i!=this._domHover&&(e.zrenderX=(void 0!==e.offsetX?e.offsetX:e.layerX)+i.offsetLeft,e.zrenderY=(void 0!==e.offsetY?e.offsetY:e.layerY)+i.offsetTop)}return e.zrenderFixed=1,e}},{key:"getLastHoverOne",value:function(){return this._lastHover?this._lastHover:null}}]),t}(b1),i2=function(){function e(){vz(this,e),this.CLASS_NAME="SuperMap.LevelRenderer.Animation.easing"}return gz(e,[{key:"destroy",value:function(){}},{key:"Linear",value:function(e){return e}},{key:"QuadraticIn",value:function(e){return e*e}},{key:"QuadraticOut",value:function(e){return e*(2-e)}},{key:"QuadraticInOut",value:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},{key:"CubicIn",value:function(e){return e*e*e}},{key:"CubicOut",value:function(e){return--e*e*e+1}},{key:"CubicInOut",value:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},{key:"QuarticIn",value:function(e){return e*e*e*e}},{key:"QuarticOut",value:function(e){return 1- --e*e*e*e}},{key:"QuarticInOut",value:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},{key:"QuinticIn",value:function(e){return e*e*e*e*e}},{key:"QuinticOut",value:function(e){return--e*e*e*e*e+1}},{key:"QuinticInOut",value:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},{key:"SinusoidalIn",value:function(e){return 1-Math.cos(e*Math.PI/2)}},{key:"SinusoidalOut",value:function(e){return Math.sin(e*Math.PI/2)}},{key:"SinusoidalInOut",value:function(e){return.5*(1-Math.cos(Math.PI*e))}},{key:"ExponentialIn",value:function(e){return 0===e?0:Math.pow(1024,e-1)}},{key:"ExponentialOut",value:function(e){return 1===e?1:1-Math.pow(2,-10*e)}},{key:"ExponentialInOut",value:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},{key:"CircularIn",value:function(e){return 1-Math.sqrt(1-e*e)}},{key:"CircularOut",value:function(e){return Math.sqrt(1- --e*e)}},{key:"CircularInOut",value:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},{key:"ElasticIn",value:function(e){var t,n=.1;return 0===e?0:1===e?1:(n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))}},{key:"ElasticOut",value:function(e){var t,n=.1;return 0===e?0:1===e?1:(n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)}},{key:"ElasticInOut",value:function(e){var t,n=.1;return 0===e?0:1===e?1:(n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*.5+1)}},{key:"BackIn",value:function(e){var t=1.70158;return e*e*((t+1)*e-t)}},{key:"BackOut",value:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1}},{key:"BackInOut",value:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},{key:"BounceIn",value:function(e){return 1-this.BounceOut(1-e)}},{key:"BounceOut",value:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},{key:"BounceInOut",value:function(e){return e<.5?.5*this.BounceIn(2*e):.5*this.BounceOut(2*e-1)+.5}}]),e}(),o2=function(){function e(t){Sz(this,e),this._targetPool=t.target||{},this._targetPool instanceof Array||(this._targetPool=[this._targetPool]),this._life=t.life||1e3,this._delay=t.delay||0,this._startTime=(new Date).getTime()+this._delay,this._endTime=this._startTime+1e3*this._life,this.loop=void 0!==t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this.CLASS_NAME="SuperMap.LevelRenderer.Animation.Clip"}return wz(e,[{key:"destroy",value:function(){}},{key:"step",value:function(e){var t=new i2,n=(e-this._startTime)/this._life;if(!(n<0)){n=Math.min(n,1);var r="string"==typeof this.easing?t[this.easing]:this.easing,i="function"==typeof r?r(n):n;return this.fire("frame",i),1==n?this.loop?(this.restart(),"restart"):(this._needsRemove=!0,"destroy"):null}}},{key:"restart",value:function(){var e=(new Date).getTime(),t=(e-this._startTime)%this._life;this._startTime=(new Date).getTime()-t+this.gap}},{key:"fire",value:function(e,t){for(var n=0,r=this._targetPool.length;n<r;n++)this["on"+e]&&this["on"+e](this._targetPool[n],t)}}]),e}(),a2=function(e){function t(e){var n;return xz(this,t),n=Pz(this,Ez(t).call(this,e)),e=e||{},n.stage={},n.onframe=function(){},n._clips=[],n._running=!1,n._time=0,RY.extend(kz(n),e),n.CLASS_NAME="SuperMap.LevelRenderer.Animation",n}return Mz(t,e),Tz(t,[{key:"add",value:function(e){
this._clips.push(e)}},{key:"remove",value:function(e){var t=(new e1).indexOf(this._clips,e);t>=0&&this._clips.splice(t,1)}},{key:"_update",value:function(){for(var e=(new Date).getTime(),t=e-this._time,n=this._clips,r=n.length,i=[],o=[],a=0;a<r;a++){var s=n[a],l=s.step(e);l&&(i.push(l),o.push(s))}this.stage.update&&this.stage.update();for(var u=0;u<r;)n[u]._needsRemove?(n[u]=n[r-1],n.pop(),r--):u++;r=i.length;for(var c=0;c<r;c++)o[c].fire(i[c]);this._time=e,this.onframe(t),this.dispatch("frame",t)}},{key:"start",value:function(){function e(){n._running&&(n._update(),t(e))}var t=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){setTimeout(e,16)},n=this;this._running=!0,this._time=(new Date).getTime(),t(e)}},{key:"stop",value:function(){this._running=!1}},{key:"clear",value:function(){this._clips=[]}},{key:"animate",value:function(e,t){t=t||{};var n=new s2(e,t.loop,t.getter,t.setter);return n.animation=this,n}}],[{key:"_interpolateNumber",value:function(e,t,n){return(t-e)*n+e}},{key:"_interpolateArray",value:function(e,n,r,i,o){var a=e.length;if(1==o)for(var s=0;s<a;s++)i[s]=t._interpolateNumber(e[s],n[s],r);else for(var l=e[0].length,u=0;u<a;u++)for(var c=0;c<l;c++)i[u][c]=t._interpolateNumber(e[u][c],n[u][c],r)}},{key:"_isArrayLike",value:function(e){switch(Oz(e)){case"undefined":case"string":return!1}return void 0!==e.length}},{key:"_catmullRomInterpolateArray",value:function(e,n,r,i,o,a,s,l,u){var c=e.length;if(1==u)for(var f=0;f<c;f++)l[f]=t._catmullRomInterpolate(e[f],n[f],r[f],i[f],o,a,s);else for(var h=e[0].length,p=0;p<c;p++)for(var y=0;y<h;y++)l[p][y]=t._catmullRomInterpolate(e[p][y],n[p][y],r[p][y],i[p][y],o,a,s)}},{key:"_catmullRomInterpolate",value:function(e,t,n,r,i,o,a){var s=.5*(n-e),l=.5*(r-t);return(2*(t-n)+s+l)*a+(-3*(t-n)-2*s-l)*o+s*i+t}},{key:"_cloneValue",value:function(e){var n=Array.prototype.slice;if(t._isArrayLike(e)){var r=e.length;if(t._isArrayLike(e[0])){for(var i=[],o=0;o<r;o++)i.push(n.call(e[o]));return i}return n.call(e)}return e}},{key:"rgba2String",value:function(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}}]),t}(b1),s2=function(){function e(t,n,r,i){function o(e,t){return e[t]}function a(e,t,n){e[t]=n}xz(this,e),this._tracks={},this._target=t,this._loop=n||!1,this._getter=r||o,this._setter=i||a,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[],this.CLASS_NAME="SuperMap.LevelRenderer.Animation.Animator"}return Tz(e,[{key:"when",value:function(e,t){for(var n in t)this._tracks[n]||(this._tracks[n]=[],0!==e&&this._tracks[n].push({time:0,value:a2._cloneValue(this._getter(this._target,n))})),this._tracks[n].push({time:parseInt(e,10),value:t[n]});return this}},{key:"during",value:function(e){return this._onframeList.push(e),this}},{key:"start",value:function(e){var t=this,n=this._setter,r=this._getter,i=t._onframeList.length,o="spline"===e,a=function(){if(0===--t._clipCount){t._tracks={};for(var e=t._doneList.length,n=0;n<e;n++)t._doneList[n].call(t)}};for(var s in this._tracks)!function(s,l){var u=s.length;if(u){var c=s[0].value,f=a2._isArrayLike(c),h=!1,p=f&&a2._isArrayLike(c[0])?2:1;s.sort(function(e,t){return e.time-t.time});for(var y=s[u-1].time,d=[],m=[],v=0;v<u;v++){d.push(s[v].time/y);var b=s[v].value;"string"==typeof b&&(b=M1.Util_color.toArray(b),0===b.length&&(b[0]=b[1]=b[2]=0,b[3]=1),h=!0),m.push(b)}var g,S,_,w,O,x,C,T=0,P=0;if(h)var E=[0,0,0,0];var k=function(e,a){if(a<P){for(g=Math.min(T+1,u-1),S=g;S>=0&&!(d[S]<=a);S--);S=Math.min(S,u-2)}else{for(S=T;S<u&&!(d[S]>a);S++);S=Math.min(S-1,u-2)}T=S,P=a;var s=d[S+1]-d[S];if(0!==s){if(_=(a-d[S])/s,o)if(O=m[S],w=m[0===S?S:S-1],x=m[S>u-2?u-1:S+1],C=m[S>u-3?u-1:S+2],f)a2._catmullRomInterpolateArray(w,O,x,C,_,_*_,_*_*_,r(e,l),p);else{var c;c=h?a2.rgba2String(E):a2._catmullRomInterpolate(w,O,x,C,_,_*_,_*_*_),n(e,l,c)}else if(f)a2._interpolateArray(m[S],m[S+1],_,r(e,l),p);else{var y;h?(a2._interpolateArray(m[S],m[S+1],_,E,1),y=a2.rgba2String(E)):y=a2._interpolateNumber(m[S],m[S+1],_),n(e,l,y)}for(S=0;S<i;S++)t._onframeList[S](e,a)}},M=new o2({target:t._target,life:y,loop:t._loop,delay:t._delay,onframe:k,ondestroy:a});e&&"spline"!==e&&(M.easing=e),t._clipList.push(M),t._clipCount++,t.animation.add(M)}}(this._tracks[s],s);return this}},{key:"stop",value:function(){for(var e=0;e<this._clipList.length;e++){var t=this._clipList[e];this.animation.remove(t)}this._clipList=[]}},{key:"delay",value:function(e){return this._delay=e,this}},{key:"done",value:function(e){return e&&this._doneList.push(e),this}}]),e}(),l2=function(){function e(t,n){Lz(this,e),this.id=t,this.storage=new e2,this.painter=new t2(n,this.storage),this.handler=new r2(n,this.storage,this.painter),this.animatingElements=[],this.animation=new a2({stage:{update:e.getFrameCallback(this)}}),this._needsRefreshNextFrame=!1,this.animation.start(),this.CLASS_NAME="SuperMap.LevelRenderer.Render"}return Rz(e,[{key:"destroy",value:function(){this.id=null,this.storage=null,this.painter=null,this.handler=null,this.animatingElements=null,this.animation=null,this._needsRefreshNextFrame=null}},{key:"getId",value:function(){return this.id}},{key:"addShape",value:function(e){return this.storage.addRoot(e),this}},{key:"addGroup",value:function(e){return this.storage.addRoot(e),this}},{key:"delShape",value:function(e){return this.storage.delRoot(e),this}},{key:"delGroup",value:function(e){return this.storage.delRoot(e),this}},{key:"modShape",value:function(e,t){return this.storage.mod(e,t),this}},{key:"modGroup",value:function(e,t){return this.storage.mod(e,t),this}},{key:"modLayer",value:function(e,t){return this.painter.modLayer(e,t),this}},{key:"addHoverShape",value:function(e){return this.storage.addHover(e),this}},{key:"render",value:function(e){return this.painter.render(e),this._needsRefreshNextFrame=!1,this}},{key:"refresh",value:function(e){return this.painter.refresh(e),this._needsRefreshNextFrame=!1,this}},{key:"refreshNextFrame",value:function(){return this._needsRefreshNextFrame=!0,this}},{key:"refreshHover",value:function(e){return this.painter.refreshHover(e),this}},{key:"refreshShapes",value:function(e,t){return this.painter.refreshShapes(e,t),this}},{key:"resize",value:function(){return this.painter.resize(),this}},{key:"animate",value:function(e,t,n){if("string"==typeof e&&(e=this.storage.get(e)),e){var r;if(t){for(var i=t.split("."),o=e,a=0,s=i.length;a<s;a++)o&&(o=o[i[a]]);o&&(r=o)}else r=e;if(!r)return void M1.Util_log('Property "'+t+'" is not existed in element '+e.id);var l=this.animatingElements;return void 0===e.__aniCount&&(e.__aniCount=0),0===e.__aniCount&&l.push(e),e.__aniCount++,this.animation.animate(r,{loop:n}).done(function(){if(0===--e.__aniCount){var t=(new e1).indexOf(l,e);l.splice(t,1)}})}M1.Util_log("Element not existed")}},{key:"clearAnimation",value:function(){this.animation.clear()}},{key:"getWidth",value:function(){return this.painter.getWidth()}},{key:"getHeight",value:function(){return this.painter.getHeight()}},{key:"toDataURL",value:function(e,t,n){return this.painter.toDataURL(e,t,n)}},{key:"shapeToImage",value:function(e,t,n){var r=RY.createUniqueID("SuperMap.LevelRenderer.ToImage_");return this.painter.shapeToImage(r,e,t,n)}},{key:"on",value:function(e,t){return this.handler.on(e,t),this}},{key:"un",value:function(e,t){return this.handler.un(e,t),this}},{key:"trigger",value:function(e,t){return this.handler.trigger(e,t),this.handler.dispatch(e,t),this}},{key:"clear",value:function(){return this.storage.delRoot(),this.painter.clear(),this}},{key:"dispose",value:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=null,this.animatingElements=null,this.storage=null,this.painter=null,this.handler=null}},{key:"updateHoverShapes",value:function(e){return this.painter.updateHoverLayer(e),this}},{key:"getAllShapes",value:function(){return this.storage._shapeList}},{key:"clearAll",value:function(){return this.clear(),this.painter.clearHover(),this}},{key:"getHoverOne",value:function(){return this.handler.getLastHoverOne()}}],[{key:"getFrameCallback",value:function(e){return function(){var t=e.animatingElements;if(t instanceof Array){for(var n=0,r=t.length;n<r;n++)e.storage.mod(t[n].id);(t.length||e._needsRefreshNextFrame)&&e.refresh()}}}}]),e}(),u2=function(){function e(){Nz(this,e),e._instances={},e.Tool={},this.version="2.0.4",this.CLASS_NAME="SuperMap.LevelRenderer"}return Dz(e,[{key:"destroy",value:function(){this.dispose(),this.version=null}},{key:"init",value:function(t){var n=new l2(RY.createUniqueID("LRenderer_"),t);return e._instances[n.id]=n,n}},{key:"dispose",value:function(t){if(t)t.dispose(),this.delInstance(t.id);else{for(var n in e._instances)e._instances[n].dispose();e._instances={}}return this}},{key:"getInstance",value:function(t){return e._instances[t]}},{key:"delInstance",value:function(t){return delete e._instances[t],this}}]),e}();xQ.LevelRenderer=u2;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var c2={EXCEL:"EXCEL",CSV:"CSV",ISERVER:"ISERVER",GEOJSON:"GEOJSON",JSON:"JSON"},f2={fileMaxSize:10485760},h2=function(){function e(t){Fz(this,e),this.FileTypes=c2,this.FileConfig=f2,this.loadFileObject=t&&t.loadFileObject?t.loadFileObject:[]}return Uz(e,[{key:"set",value:function(e,t){this[e]=t}},{key:"get",value:function(e){return this[e]}}]),e}(),p2=function(){function e(){Gz(this,e),this._initView()}return Vz(e,[{key:"_initView",value:function(){var e=document.createElement("div");e.hidden=!0,e.setAttribute("class","component-messageboxcontainer component-border-bottom-orange");var t=document.createElement("div");t.setAttribute("class","icon"),this.icon=document.createElement("span"),this.icon.setAttribute("class","supermapol-icons-message-warning"),t.appendChild(this.icon),e.appendChild(t);var n=document.createElement("div");n.setAttribute("class","component-messagebox"),n.innerHTML="",e.appendChild(n),this.messageBox=n;var r=document.createElement("div");r.setAttribute("class","component-messagebox__cancelbtncontainer");var i=document.createElement("button");i.setAttribute("class","component-messagebox__cancelBtn"),i.innerHTML="x",i.onclick=this.closeView.bind(this),r.appendChild(i),e.appendChild(r),this.messageBoxContainer=e,document.body.appendChild(this.messageBoxContainer)}},{key:"closeView",value:function(){this.messageBoxContainer.hidden=!0}},{key:"showView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warring";"success"===t?(this.icon.setAttribute("class","supermapol-icons-message-success"),this.messageBoxContainer.setAttribute("class","component-messageboxcontainer component-border-bottom-green")):"failure"===t?(this.icon.setAttribute("class","supermapol-icons-message-failure"),this.messageBoxContainer.setAttribute("class","component-messageboxcontainer component-border-bottom-red")):"warring"===t&&(this.icon.setAttribute("class","supermapol-icons-message-warning"),this.messageBoxContainer.setAttribute("class","component-messageboxcontainer component-border-bottom-orange")),this.messageBox.innerHTML=e,this.messageBoxContainer.hidden=!1}}]),e}();xQ.Components.MessageBox=p2;var y2=n(1),d2=n.n(y2),m2={code:null,defaultCode:"en-US",getCode:function(){return xQ.Lang.code||xQ.Lang.setCode(),xQ.Lang.code},setCode:function(){var e=this.getLanguageFromCookie();if(e)return void(xQ.Lang.code=e);e=xQ.Lang.defaultCode,e="Netscape"===navigator.appName?navigator.language:navigator.browserLanguage,0===e.indexOf("zh")&&(e="zh-CN"),0===e.indexOf("en")&&(e="en-US"),xQ.Lang.code=e},getLanguageFromCookie:function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){for(var n=e[t];" "===n.charAt(0);)n=n.substring(1);if(-1!==n.indexOf("language="))return n.substring("language=".length,n.length)}return""},i18n:function(e){var t=xQ.Lang[xQ.Lang.getCode()],n=t&&t[e];return n||(n=e),n}};xQ.Lang=m2,xQ.i18n=xQ.Lang.i18n;var v2=n(5),b2=n.n(v2),g2={rABS:"undefined"!=typeof FileReader&&FileReader.prototype&&FileReader.prototype.readAsBinaryString,rABF:"undefined"!=typeof FileReader&&FileReader.prototype&&FileReader.prototype.readAsArrayBuffer,rAT:"undefined"!=typeof FileReader&&FileReader.prototype&&FileReader.prototype.readAsText,readFile:function(e,t,n,r,i){c2.JSON===e||c2.GEOJSON===e?this.readTextFile(t,n,r,i):c2.EXCEL!==e&&c2.CSV!==e||this.readXLSXFile(t,n,r,i)},readTextFile:function(e,t,n,r){var i=new FileReader;i.onloadend=function(e){t&&t.call(r,e.target.result)},i.onerror=function(e){n&&n.call(r,e)},this.rAT?i.readAsText(e.file,"utf-8"):i.readAsBinaryString(e.file)},readXLSXFile:function(e,t,n,r){var i=new FileReader;i.onloadend=function(e){var i=new Uint8Array(e.target.result),o=b2.a.read(i,{type:"array"});try{if(o&&o.SheetNames&&o.SheetNames.length>0){var a=o.SheetNames[0],s=b2.a.utils.sheet_to_csv(o.Sheets[a]);t&&t.call(r,s)}}catch(e){n&&n.call(r,e)}},i.onerror=function(e){n&&n.call(r,e)},this.rABF&&i.readAsArrayBuffer(e.file)},processDataToGeoJson:function(e,t,n,r,i){var o=null;if("EXCEL"===e||"CSV"===e)o=this.processExcelDataToGeoJson(t),n&&n.call(i,o);else if("JSON"===e||"GEOJSON"===e){var a=t;"string"==typeof a&&(a=JSON.parse(a)),"ISERVER"===a.type?o=a.data.recordsets[0].features:"FeatureCollection"===a.type?o=a:r&&r.call(i,m2.i18n("msg_dataInWrongGeoJSONFormat")),n&&n.call(i,o)}else r&&r.call(i,m2.i18n("msg_dataInWrongFormat"))},processExcelDataToGeoJson:function(e){for(var t=this.string2Csv(e),n=t.colTitles,r=-1,i=-1,o=0,a=n.length;o<a;o++)this.isXField(n[o])&&(r=o),this.isYField(n[o])&&(i=o);for(var s=[],l=0,u=t.rows.length;l<u;l++){var c=t.rows[l],f=Number(c[r]),h=Number(c[i]),p={};for(var y in t.colTitles){p[t.colTitles[y]]=t.rows[l][y]}var d={type:"Feature",geometry:{type:"Point",coordinates:[f,h]},properties:p};s.push(d)}return s},isXField:function(e){var t=e.toLowerCase();return"x"===t||"smx"===t||"jd"===t||"ç»åº¦"===t||"ä¸ç»"===t||"longitude"===t||"lot"===t||"lon"===t||"lng"===t||"xåæ "===t},isYField:function(e){var t=e.toLowerCase();return"y"===t||"smy"===t||"wd"===t||"çº¬åº¦"===t||"åçº¬"===t||"latitude"===t||"lat"===t||"yåæ "===t},string2Csv:function(e,t){var n=e.split("\n"),r={};r.colTitles=t?[]:n[0].split(","),r.rows=[];for(var i=t?0:1;i<n.length;i++)n[i]&&r.rows.push(n[i].split(","));return r}};xQ.Components.FileReaderUtil=g2;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var S2=function(){function e(t){Hz(this,e),this.datasets=t,this.EVENT_TYPES=["getdatafailed"],this.events=new KY(this,null,this.EVENT_TYPES)}return qz(e,[{key:"getDatasetInfo",value:function(e){var t=this.datasets.url,n=this;bX.get(t).then(function(e){return e.json()}).then(function(t){if(t.datasetInfo){var r=t.datasetInfo;n.datasetsInfo={dataSourceName:r.dataSourceName,datasetName:r.name,mapName:t.name},e({result:n.datasetsInfo})}}).catch(function(e){console.log(e),n._fireFailedEvent(e)})}},{key:"getDataFeatures",value:function(e,t){var n,r,i,o=e.result,a={name:o.datasetName+"@"+o.dataSourceName};Object.assign(a,this.datasets.queryInfo),n=new xQ.FilterParameter(a),r=new xQ.GetFeaturesBySQLParameters({queryParameter:n,datasetNames:[o.dataSourceName+":"+o.datasetName],fromIndex:0,toIndex:1e5}),i=new xQ.GetFeaturesBySQLService(o.dataUrl,{eventListeners:{processCompleted:t,processFailed:function(){}}}),i.processAsync(r)}},{key:"getLayerFeatures",value:function(e,t){var n,r,i,o=e.result,a={name:o.mapName};Object.assign(a,this.datasets.queryInfo),n=new xQ.FilterParameter(a),r=new xQ.QueryBySQLParameters({queryParams:[n],expectCount:1e5}),i=new xQ.QueryBySQLService(o.dataUrl,{eventListeners:{processCompleted:t,processFailed:function(){}}}),i.processAsync(r)}},{key:"getDataInfoByIptl",value:function(e){this.getServiceInfo(this.datasets.url,e)}},{key:"getServiceInfo",value:function(e,t){var n=this;bX.get(e,null,{withCredentials:this.datasets.withCredentials}).then(function(e){return e.json()}).then(function(r){if(!1===r.succeed)return void n._fireFailedEvent(r);if(!(r.dataItemServices&&r.dataItemServices.length>0))return void n.getDatafromContent(e,t);var i,o=r.dataItemServices;o.forEach(function(r){if("RESTDATA"===r.serviceType&&"PUBLISHED"===r.serviceStatus)i=r;else{if("RESTMAP"!==r.serviceType||"PUBLISHED"!==r.serviceStatus)return void n.getDatafromContent(e,t);i=r}}),i&&n.getDatafromRest(i.serviceType,i.address,t)}).catch(function(e){console.log(e),n._fireFailedEvent(e)})}},{key:"getDatafromContent",value:function(e,t){var n=this,r={result:{}},i=this;e+="/content.json?pageSize=9999999&currentPage=1",bX.get(e,null,{withCredentials:this.datasets.withCredentials}).then(function(e){return e.json()}).then(function(e){if(!1===e.succeed)return void i._fireFailedEvent(e);if(e.type){if("JSON"===e.type||"GEOJSON"===e.type){if(e.content=JSON.parse(e.content.trim()),!e.content.features)return void console.log(m2.i18n("msg_jsonResolveFiled"));var o=n._formatGeoJSON(e.content);r.result.features={type:e.content.type,features:o}}else if("EXCEL"===e.type||"CSV"===e.type){var a=n._excelData2Feature(e.content);r.result.features={type:"FeatureCollection",features:a}}t(r,"content")}},this).catch(function(e){console.log(e),i._fireFailedEvent(e)})}},{key:"getDatafromRest",value:function(e,t,n){var r=this,i=this.datasets.withCredentials;if("RESTDATA"===e){var o,a,s="".concat(t,"/data/datasources");bX.get(s,null,{withCredentials:i}).then(function(e){return e.json()}).then(function(e){o=e.datasourceNames[0],s="".concat(t,"/data/datasources/").concat(o,"/datasets"),bX.get(s,null,{withCredentials:i}).then(function(e){return e.json()}).then(function(e){return a=e.datasetNames[0],r.getDatafromRestData("".concat(t,"/data"),[o+":"+a],n),[o+":"+a]}).catch(function(e){r._fireFailedEvent(e)})}).catch(function(e){r._fireFailedEvent(e)})}else{var l,u,c,f="".concat(t,"/maps");bX.get(f,null,{withCredentials:i}).then(function(e){return e.json()}).then(function(e){l=e[0].name,c=e[0].path,f=f="".concat(t,"/maps/").concat(l,"/layers"),bX.get(f,null,{withCredentials:i}).then(function(e){return e.json()}).then(function(e){return u=e[0].subLayers.layers[0].caption,r.getDatafromRestMap(u,c,n),u}).catch(function(e){r._fireFailedEvent(e)})}).catch(function(e){r._fireFailedEvent(e)})}}},{key:"getDatafromRestData",value:function(e,t,n){var r=this;this.datasets.queryInfo.attributeFilter=this.datasets.queryInfo.attributeFilter||"SmID>0",this._getFeatureBySQL(e,t,this.datasets.queryInfo,function(e){n(e,"RESTDATA")},function(e){console.log(e),r._fireFailedEvent(e)})}},{key:"getDatafromRestMap",value:function(e,t,n){var r=this;this.datasets.queryInfo.attributeFilter=this.datasets.queryInfo.attributeFilter||"smid=1",this._queryFeatureBySQL(t,e,this.datasets.queryInfo,null,null,function(e){n(e,"RESTMAP")},function(e){console.log(e),r._fireFailedEvent(e)})}},{key:"_getFeatureBySQL",value:function(e,t,n,r,i){var o,a,s,l={name:t.join().replace(":","@")};Object.assign(l,n),o=new eK(l),s=new MZ({queryParameter:o,datasetNames:t,fromIndex:0,toIndex:1e5,returnContent:!0}),a=new AZ(e,{eventListeners:{processCompleted:function(e){r&&r(e)},processFailed:function(e){i&&i(e)}}}),a.processAsync(s)}},{key:"_queryFeatureBySQL",value:function(e,t,n,r,i,o,a,s,l,u){var c,f,h={name:t};Object.assign(h,n),c=new eK(h),r&&(c.fields=r);var p={queryParams:[c]};u&&(p.queryOption=EQ.ATTRIBUTE),s&&(p.startRecord=s),l&&(p.expectCount=l),i&&(p.prjCoordSys={epsgCode:i}),f=new G$(p),this._queryBySQL(e,f,function(e){"processCompleted"===e.type?o(e):a(e)})}},{key:"_queryBySQL",value:function(e,t,n,r){var i=this;new z$(e,{eventListeners:{scope:i,processCompleted:n,processFailed:n},format:i._processFormat(r)}).processAsync(t)}},{key:"_processFormat",value:function(e){return e||CQ.GEOJSON}},{key:"_formatGeoJSON",value:function(e){var t=e.features;return t.forEach(function(e,t){e.properties.index=t}),t}},{key:"_excelData2Feature",value:function(e){for(var t=e.colTitles,n=-1,r=-1,i=0,o=t.length;i<o;i++)g2.isXField(t[i])&&(n=i),g2.isYField(t[i])&&(r=i);for(var a=[],s=0,l=e.rows.length;s<l;s++){var u=e.rows[s],c=Number(u[n]),f=Number(u[r]),h={};for(var p in e.colTitles){h[e.colTitles[p]]=e.rows[s][p]}h.index=s+"";var y={type:"Feature",geometry:{type:"Point",coordinates:[c,f]},properties:h};a.push(y)}return a}},{key:"_fireFailedEvent",value:function(e){var t=e?{error:e,message:m2.i18n("msg_getdatafailed")}:{message:m2.i18n("msg_getdatafailed")};this.events.triggerEvent("getdatafailed",t)}}]),e}(),_2=function(){function e(t){Wz(this,e),this.datasets=t.datasets,this.xField=[],this.yField=[],this.grid={top:"50px",bottom:"50px",left:"50px",right:"60px"},this.chartType=t.type||"bar",this._initXYField(t.chartOptions),this.EVENT_TYPES=["getdatafailed"],this.events=new KY(this,null,this.EVENT_TYPES)}return Yz(e,[{key:"_initXYField",value:function(e){var t=this;e&&e.length>0&&e.forEach(function(e){e.xAxis&&t.xField.push({field:e.xAxis.field,name:e.xAxis.name}),e.yAxis&&t.yField.push({field:e.yAxis.field,name:e.yAxis.name})})}},{key:"getDatasetInfo",value:function(e){var t=this;this.createChart=e,this.datasets&&this._checkUrl(this.datasets.url)&&(this.chartModel=new S2(this.datasets),"iServer"===this.datasets.type?this.chartModel.getDatasetInfo(this._getDatasetInfoSuccess.bind(this)):"iPortal"===this.datasets.type&&this.chartModel.getDataInfoByIptl(this._getDataInfoSuccess.bind(this)),this.chartModel.events.on({getdatafailed:function(e){t.events.triggerEvent("getdatafailed",e)}}))}},{key:"_getDatasetInfoSuccess",value:function(e){var t=this.datasets.url,n=t.indexOf("rest");if(n>0){var r=t.indexOf("/",n+5),i=t.substring(n+5,r),o=t.substring(0,n+4)+"/data";if("maps"===i){var a=t.indexOf("/",r+1),s=t.substring(r+1,a);o=t.substring(0,n+4)+"/maps/"+s,e.result.dataUrl=o,this._getLayerFeatures(e)}else"data"===i&&(e.result.dataUrl=o,this._getDataFeatures(e))}}},{key:"_getDataInfoSuccess",value:function(e,t){var n=this;"RESTMAP"===t?n._getChartDatasFromLayer(e):n._getChartDatas(e)}},{key:"_getDataFeatures",value:function(e){this.chartModel.getDataFeatures(e,this._getChartDatas.bind(this))}},{key:"_getLayerFeatures",value:function(e){this.chartModel.getLayerFeatures(e,this._getChartDatasFromLayer.bind(this))}},{key:"_getChartDatas",value:function(e){if(e){this.features=e.result.features;var t=this.features.features,n={};if(t.length){var r=t[0],i=[],o=[];for(var a in r.properties)i.push(a),o.push(this._getDataType(r.properties[a]));n={features:t,fieldCaptions:i,fieldTypes:o,fieldValues:[]};for(var s in o){var l=[];for(var u in t){var c=t[u],f=n.fieldCaptions[s],h=c.properties[f];l.push(h)}n.fieldValues.push(l)}this.createChart(n)}}}},{key:"_getChartDatasFromLayer",value:function(e){if(e.result.recordsets){var t=e.result.recordsets[0],n=t.features.features;this.features=t.features;var r={};if(n.length){r={features:t.features,fieldCaptions:t.fieldCaptions,fieldTypes:t.fieldTypes,fieldValues:[]};for(var i in r.fieldCaptions){var o=[];for(var a in n){var s=n[a],l=r.fieldCaptions[i],u=s.properties[l];o.push(u)}r.fieldValues.push(o)}this.createChart(r)}}}},{key:"_createChartOptions",value:function(e){return this.calculatedData=this._createChartDatas(e),this.updateChartOptions(this.chartType)}},{key:"changeType",value:function(e){if(e!==this.chartType)return this.chartType=e,this.updateChartOptions(this.chartType)}},{key:"updateData",value:function(e,t,n){this.updateChart=n,this.xField=[],this.yField=[],this._initXYField(t),e.type=e.type||"iServer",e.withCredentials=e.withCredentials||!1,this.datasets=e,this.getDatasetInfo(this._updateDataSuccess.bind(this))}},{key:"_updateDataSuccess",value:function(e){var t=this._createChartOptions(e);this.updateChart(t)}},{key:"updateChartOptions",value:function(e,t){if(this.calculatedData){var n=this.grid,r=this._createChartSeries(this.calculatedData,e),i=[];for(var o in this.calculatedData.XData)i.push({value:this.calculatedData.XData[o].fieldsData});var a={type:"category",name:this.xField[0].name||"X",data:i,nameTextStyle:{color:"#fff",fontSize:14},splitLine:{show:!1},axisLine:{lineStyle:{color:"#eee"}}},s={type:"value",name:this.yFieldName||"Y",data:{},nameTextStyle:{color:"#fff",fontSize:14},splitLine:{show:!1},axisLine:{lineStyle:{color:"#eee"}}},l={formatter:"{b0}: {c0}"},u="#404a59";return t&&(t.grid&&(n=t.grid),t.tooltip&&(l=t.tooltip),t.backgroundColor&&(u=t.backgroundColor)),{backgroundColor:u,grid:n,series:r,xAxis:a,yAxis:s,tooltip:l}}}},{key:"_createChartDatas",value:function(e){var t=0,n=[],r=e.fieldCaptions,i=this;r.forEach(function(e,n){i.xField[0]&&e===i.xField[0].field&&(t=n)}),this.yFieldName="",this.yField.forEach(function(e,t){0!==t&&(i.yFieldName=i.yFieldName+","),i.yFieldName=i.yFieldName+e.name,r.forEach(function(t,r){t===e.field&&n.push(r)})});var o=this._getAttrData(e,t),a=[];if(n.length>0)n.forEach(function(t){var n=[];for(var r in e.fieldValues[t])n.push({value:e.fieldValues[t][r]});a.push(n)});else{for(var s=[],l=[],u=o.length,c=0;c<u;c++){for(var f=!1,h=0,p=l.length;h<p;h++)if(o[c].fieldsData===l[h].fieldsData){s[h].value++,l[h].recordIndexs.push(c),f=!0;break}f||o[c].fieldsData&&(l.push({fieldsData:o[c].fieldsData,recordIndexs:[c]}),s.push({value:1}))}o=l,a=[s]}return{XData:o,YData:a}}},{key:"_getAttrData",value:function(e,t){0===t&&(this.xField=[{field:e.fieldCaptions[t],name:e.fieldCaptions[t]}]);for(var n=[],r=0,i=e.fieldValues[t].length;r<i;r++){var o=e.fieldValues[t][r];n.push({recordIndexs:r,fieldsData:o})}return n}},{key:"_createChartSeries",value:function(e,t){var n=[];return e.YData.forEach(function(e){var r=0,i=[],o=!0,a=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(o=(l=u.next()).done);o=!0)r=l.value.value,i.push({value:r})}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}var c={type:t,data:i,name:"y"};n.push(c)}),n}},{key:"_isDate",value:function(e){return/((^((1[8-9]\d{2})|([2-9]\d{3}))([-\/\._])(10|12|0?[13578])([-\/\._])(3[01]|[12][0-9]|0?[1-9])$)|(^((1[8-9]\d{2})|([2-9]\d{3}))([-\/\._])(11|0?[469])([-\/\._])(30|[12][0-9]|0?[1-9])$)|(^((1[8-9]\d{2})|([2-9]\d{3}))([-\/\._])(0?2)([-\/\._])(2[0-8]|1[0-9]|0?[1-9])$)|(^([2468][048]00)([-\/\._])(0?2)([-\/\._])(29)$)|(^([3579][26]00)([-\/\._])(0?2)([-\/\._])(29)$)|(^([1][89][0][48])([-\/\._])(0?2)([-\/\._])(29)$)|(^([2-9][0-9][0][48])([-\/\._])(0?2)([-\/\._])(29)$)|(^([1][89][2468][048])([-\/\._])(0?2)([-\/\._])(29)$)|(^([2-9][0-9][2468][048])([-\/\._])(0?2)([-\/\._])(29)$)|(^([1][89][13579][26])([-\/\._])(0?2)([-\/\._])(29)$)|(^([2-9][0-9][13579][26])([-\/\._])(0?2)([-\/\._])(29)$))/gi.test(e)}},{key:"_isNumber",value:function(e){var t=Number(e);return 0===t||!isNaN(t)}},{key:"_getDataType",value:function(e){if(null!==e&&void 0!==e&&""!==e){if(this._isDate(e))return"DATE";if(this._isNumber(e))return"NUMBER"}return"STRING"}},{key:"_checkUrl",value:function(e){return!(""===e||!this._isMatchUrl(e))&&(!/^http[s]?:\/\/localhost/.test(e)&&!/^http[s]?:\/\/127.0.0.1/.test(e))}},{key:"_isMatchUrl",value:function(e){return new RegExp("(https?|http|file|ftp)://[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]").test(e)}},{key:"getStyle",value:function(){return{grid:this.grid,tooltip:this.tooltip,backgroundColor:this.backgroundColor}}},{key:"getFeatures",value:function(){return this.features}},{key:"setStyle",value:function(e){return this.updateChartOptions(this.chartType,e)}}]),e}();xQ.Components.ChartViewModel=_2;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var w2=function(){function e(t,n){Xz(this,e),this.domID=t,this.chartType=n.type||"bar",n.datasets.type=n.datasets.type||"iServer",n.datasets.withCredentials=n.datasets.withCredentials||!1,this.viewModel=new _2(n),this._fillDataToView()}return Zz(e,[{key:"onAdd",value:function(e){this.addChart=e}},{key:"_fillDataToView",value:function(){var e=new p2;this.viewModel.getDatasetInfo(this._createChart.bind(this)),this.viewModel.events.on({getdatafailed:function(t){e.showView(t.message)}})}},{key:"getStyle",value:function(){return this.viewModel.getStyle()}},{key:"getFeatures",value:function(){return this.viewModel.getFeatures()}},{key:"setStyle",value:function(e){var t=this.viewModel.setStyle(e);this._updateChart(t)}},{key:"changeType",value:function(e){if(this.chartType!==e){this.chartType=e;var t=this.viewModel.changeType(e);this._updateChart(t)}}},{key:"updateData",value:function(e,t){var n=this;this.viewModel.updateData(e,t,function(e){n._updateChart(e),n.addChart&&n.addChart()})}},{key:"_createChart",value:function(e){this.echart=d2.a.init(document.getElementById(this.domID),null,{renderer:"canvas"});var t=this.viewModel._createChartOptions(e);this.echart.setOption(t),this.addChart&&this.addChart()}},{key:"_updateChart",value:function(e){this.echart&&(this.echart.clear(),this.echart.setOption(e))}}]),e}();xQ.Components.Chart=w2;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at/r* http://www.apache.org/licenses/LICENSE-2.0.html.*/
var O2=function(){function e(t){$z(this,e),t=t||{},this.id=t.id?t.id:null,this.rootContainer=null}return tV(e,[{key:"getElement",value:function(){return this.id&&(this.rootContainer.id=this.id),this.rootContainer}},{key:"_initView",value:function(){}},{key:"showView",value:function(){this.rootContainer.hidden=!1}},{key:"closeView",value:function(){this.rootContainer.hidden=!0}}]),e}();xQ.Components.TemplateBase=O2;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var x2=function(e){function t(e){var n;rV(this,t),n=aV(this,lV(t).call(this,e));var r=e.title?e.title:"";return n._initView(r),n}return uV(t,e),oV(t,[{key:"_initView",value:function(e){var t=document.createElement("div");t.setAttribute("class","component-container");var n=document.createElement("div");n.setAttribute("class","component-title");var r=document.createElement("div");r.innerHTML=e,n.appendChild(r),t.appendChild(n);var i=document.createElement("div");return i.setAttribute("class","component-content"),t.appendChild(i),this.content=i,this.rootContainer=t,t}},{key:"getContentElement",value:function(){return this.content}},{key:"appendContent",value:function(e){this.content.appendChild(e)}}]),t}(O2);xQ.Components.CommonContainer=x2;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var C2=function(e){function t(e){var n;return hV(this,t),n=dV(this,vV(t).call(this,e)),n._initView(e),n}return bV(t,e),yV(t,[{key:"_initView",value:function(e){var t=this._createElement("div","component-selecttool");if(e.labelName){this._createElement("label","component-selecttool__lable--describe",t).innerHTML=e.labelName}var n=this._createElement("div","component-selecttool--chart",t);n.setAttribute("tabindex","1");var r=this._createElement("div","component-selecttool__name",n);r.title=e.optionsArr[0],r.innerHTML=e.optionsArr[0];var i=this._createElement("div","component-selecttool__trianglebtn--chart",n),o=this._createElement("div","component-triangle-down-img",i),a=this._createElement("div","component-selecttool__content",n),s=this._createElement("div","component-selecttool__content--chart",a),l=this._createElement("div","component-selecttool__scrollarea__content",s);l.setAttribute("tabindex","1"),this.createOptions(l,e.optionsArr),this.optionClickEvent(l,r,e.optionsClickCb),this._selectClickEvent(n,a,o),this.rootContainer=t}},{key:"createOptions",value:function(e,t){for(var n in t){var r=this._createElement("div","component-selecttool__option",e);r.title=t[n],r.innerHTML=t[n]}}},{key:"_selectClickEvent",value:function(e,t,n){e.onclick=function(e){"block"===t.style.display?(t.style.display="none",n.className="component-triangle-down-img"):(t.style.display="block",n.className="triangle-up-img"),e.preventDefault(),e.stopPropagation()},e.onmousedown=function(e){e.target!==this&&(this.focus(),e.preventDefault(),e.stopPropagation())},e.onblur=function(){t.style.display="none",n.className="component-triangle-down-img"}}},{key:"_createElement",value:function(e,t,n){var r=document.createElement(e||"div");return t&&(r.className=t),n&&n.appendChild(r),r}},{key:"optionClickEvent",value:function(e,t,n){for(var r=0;r<e.children.length;r++)!function(r){var i=e.children[r];i.onclick=function(){t.innerHTML=i.innerHTML,t.title=i.title,i.getAttribute("data-value")&&t.setAttribute("data-value",i.getAttribute("data-value")),n&&n(i)}}(r)}}]),t}(O2);xQ.Components.Select=C2;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var T2=function(e){function t(e){var n;return _V(this,t),n=xV(this,TV(t).call(this,e)),n._initView(e),n}return PV(t,e),OV(t,[{key:"_initView",value:function(e){var t=document.createElement("div");t.className="component-dropdownbox--container";var n=document.createElement("div");n.setAttribute("tabindex","1"),n.className="component-dropdownbox",t.appendChild(n);var r=document.createElement("div");n.appendChild(r),this._createDropDownOption(e[0],r);var i=document.createElement("div");i.className="component-dropdownbox__triangle-btn",n.appendChild(i);var o=document.createElement("div");o.className="component-triangle-down-img",i.appendChild(o);var a={parentEle:n,dropDownContent:["component-dropdownbox__content component-dropdownbox__content--chart","dropDownContent"],scrollareaContent:"component-selecttool__scrollarea__content",optionsArr:e,triangleBtn:o,dropDownTopContainer:r};this._createDropDownBox(a),this.rootContainer=t}},{key:"_createDropDownBox",value:function(e){var t=e.parentEle,n=e.dropDownTopContainer,r=document.createElement("div");r.className=e.dropDownContent[0],t.appendChild(r);var i=document.createElement("div");i.className=e.scrollareaContent,r.appendChild(i);for(var o=e.optionsArr,a=0;a<o.length;a++)this._createDropDownOption(o[a],i);var s=e.triangleBtn;this._dropDownClickEvent(t,r,s),this._eleOnblur(t,r,s);for(var l=i.children,u=0;u<l.length;u++)!function(e){l[e].onclick=function(){n.innerHTML=l[e].outerHTML}}(u)}},{key:"_createDropDownOption",value:function(e,t){var n=document.createElement("div");n.className="component-dropdownbox__item";var r=e;r.dataValue&&n.setAttribute("data-value",r.dataValue),t.appendChild(n);var i=document.createElement("div");i.className="component-dropdownbox__item__img",n.appendChild(i);var o=document.createElement("div");r.icon.className&&(o.className=r.icon.className),r.icon.background&&(o.style.background=r.icon.background),i.appendChild(o);var a=document.createElement("div");a.className="component-dropdownbox__item__title",a.title=r.title,a.innerHTML=r.title,n.appendChild(a);var s=document.createElement("div");s.className="component-dropdownbox__item__remark",s.title=r.remark,s.innerHTML=r.remark,n.appendChild(s)}},{key:"_dropDownClickEvent",value:function(e,t,n){e.onclick=function(e){"block"===t.style.display?(t.style.display="none",n.className="component-triangle-down-img"):(t.style.display="block",n.className="triangle-up-img"),e.preventDefault(),e.stopPropagation()},e.onmousedown=function(e){e.target!==this&&(this.focus(),e.preventDefault(),e.stopPropagation())}}},{key:"_eleOnblur",value:function(e,t,n){e.onblur=function(){t.style.display="none",n.className="component-triangle-down-img"}}},{key:"_createElement",value:function(e,t,n){var r=document.createElement(e||"div");return t&&(r.className=t),n&&n.appendChild(r),r}}]),t}(O2);xQ.Components.DropDownBox=T2;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var P2=function(e){function t(e){var n;return MV(this,t),e=e||{},n=jV(this,NV(t).call(this,e)),e.title=e.title?e.title:"",n._initView(e.title),n}return IV(t,e),LV(t,[{key:"_initView",value:function(e){var t=document.createElement("div");t.setAttribute("class","component-popcontainer");var n=document.createElement("div");n.setAttribute("class","component-popcontainer__header");var r=document.createElement("label");r.setAttribute("class","component-popcontainer__header__title"),r.innerHTML=e,n.appendChild(r);var i=document.createElement("span");i.setAttribute("class","supermapol-icons-clear component-popcontainer__header__close"),i.onclick=this.closeView.bind(this),t.appendChild(i),t.appendChild(n);var o=document.createElement("div");o.setAttribute("class","component-popcontainer__content"),this.content=o,t.appendChild(o),this.rootContainer=t}},{key:"appendContent",value:function(e){this.content.appendChild(e)}}]),t}(O2);xQ.Components.PopContainer=P2;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var E2=function(e){function t(e){var n;return BV(this,t),e.title=e.title?e.title:"å±æ§",n=zV(this,HV(t).call(this,e)),n.rootContainer.firstChild.hidden=!0,e.attributes=e.attributes?e.attributes:[],n._createAttributesTable(e.attributes),n}return JV(t,e),GV(t,[{key:"_createAttributesTable",value:function(e){var t=document.createElement("table");t.setAttribute("class","component-popcontainer__content__table");var n=document.createElement("tbody"),r=!0;for(var i in e){var o=document.createElement("tr");r&&o.setAttribute("class","component-popcontainer__content__td--color");var a=document.createElement("td"),s=document.createElement("Span");s.innerHTML=i,a.appendChild(s);var l=document.createElement("td");l.innerHTML=e[i],o.appendChild(a),o.appendChild(l),n.appendChild(o),r=!r}t.appendChild(n),this.appendContent(t)}}]),t}(P2);xQ.Components.AttributesPopContainer=E2;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var k2=function(e){function t(e){var n;return QV(this,t),n=KV(this,$V(t).call(this,e)),n._initView(),n}return eH(t,e),XV(t,[{key:"_initView",value:function(){var e=document.createElement("div");e.setAttribute("class","component-tabpage");var t=document.createElement("ul");this.header=t;var n=document.createElement("div");n.setAttribute("class","component-tabpage__content"),this.content=n,e.appendChild(t),e.appendChild(n),this.rootContainer=e}},{key:"setTabs",value:function(e){this.removeAllTabs(),this.appendTabs(e)}},{key:"appendTabs",value:function(e){for(var t=0;t<e.length;t++){var n=document.createElement("span");n.index=t,n.appendChild(document.createTextNode(e[t].title)),n.onclick=this._changeTabsPage.bind(this);var r=e[t].content;r.index=t,r.hidden=!0,this.header.appendChild(n),this.content.appendChild(r)}this.header.firstChild.setAttribute("class","on"),this.content.firstChild.hidden=!1}},{key:"removeTab",value:function(e){this.header.removeChild(this.header.children[e]),this.content.removeChild(this.content.children[e])}},{key:"removeAllTabs",value:function(){for(var e=this.header.children.length;e>0;e--)this.header.removeChild(this.header.children[e]),this.content.removeChild(this.content.children[e])}},{key:"_changeTabsPage",value:function(e){for(var t=e.target.index,n=0;n<this.header.children.length;n++)this.header.children[n].setAttribute("class",""),this.content.children[n].hidden=!0,n===t&&(this.header.children[n].setAttribute("class","on"),this.content.children[n].hidden=!1)}}]),t}(O2);xQ.Components.IndexTabsPageContainer=k2;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var M2=function(e){function t(e){var n;return rH(this,t),n=aH(this,lH(t).call(this,e)),n.rootContainer.classList.add("component-citytabpage--noneBoxShadow"),n.config=e.config,RY.isArray(n.config)?(n.header.hidden=!0,n._createCityItem("åå¸",n.config),n.content.style.border="none"):(n._createTabs(),n.header.onclick=function(e){for(var t=0;t<n.header.children.length;t++)n.header.children[t].setAttribute("class","");e.target.setAttribute("class","on"),n._createCityContent(e.target.innerHTML)}),n}return uH(t,e),oH(t,[{key:"_createTabs",value:function(){if(RY.isArray(this.config))for(var e=0;e<this.config.length;e++){var t="";for(var n in this.config[e])t+=n;var r=document.createElement("li");r.innerHTML=t,this.header.appendChild(r)}else for(var i in this.config){var o=document.createElement("li");o.innerHTML=i,this.header.appendChild(o)}this.header.firstChild.setAttribute("class","on"),this._createCityContent(this.header.firstChild.innerHTML)}},{key:"_createCityContent",value:function(e){for(var t=this.content.children.length;t>0;t--)this.content.removeChild(this.content.children[t-1]);var n=this.config[e];for(var r in n)this._createCityItem(r,n[r])}},{key:"_createCityItem",value:function(e,t){var n=document.createElement("div"),r=document.createElement("div");r.setAttribute("class","component-citytabpag__py-key"),r.innerHTML=e,n.appendChild(r);var i=document.createElement("div");i.setAttribute("class","component-citytabpag__content");for(var o=0;o<t.length;o++){var a=document.createElement("span");a.innerHTML=t[o],i.appendChild(a)}"HOT"===e&&(i.style.width="428px"),n.appendChild(i),this.content.appendChild(n)}}]),t}(k2);xQ.Components.CityTabsPage=M2;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var A2=function(e){function t(e){var n;return hH(this,t),n=dH(this,vH(t).call(this,e)),n.navTabsTitle=null,n.navTabsContent=null,e.tabs=e.tabs?e.tabs:[],n._initView(e.tabs),n}return bH(t,e),yH(t,[{key:"_initView",value:function(e){var t=document.createElement("div");t.setAttribute("class","component-navtabspage");var n=document.createElement("span");n.setAttribute("class","supermapol-icons-close"),n.onclick=this.closeView.bind(this),t.appendChild(n);var r=document.createElement("div");this.navTabsTitle=r,r.setAttribute("class","component-navtabspage__title"),t.appendChild(r);var i=document.createElement("div");this.navTabsContent=i,i.setAttribute("class","component-navtabspage__content"),t.appendChild(i),e.length>0&&this.appendTabs(e),this.rootContainer=t}},{key:"setTabs",value:function(e){this.removeAllTabs(),this.appendTabs(e)}},{key:"appendTabs",value:function(e){for(var t=0;t<e.length;t++){var n=document.createElement("span");n.index=t,n.appendChild(document.createTextNode(e[t].title)),n.onclick=this._changeTabsPage.bind(this);var r=e[t].content;r.index=t,r.hidden=!0,this.navTabsTitle.appendChild(n),this.navTabsContent.appendChild(r)}this.navTabsTitle.firstChild.setAttribute("class","component-navtabspage__tabs--select"),this.navTabsContent.firstChild.hidden=!1}},{key:"removeTab",value:function(e){this.navTabsTitle.removeChild(this.navTabsTitle.children[e]),this.navTabsContent.removeChild(this.navTabsContent.children[e])}},{key:"removeAllTabs",value:function(){for(var e=this.navTabsTitle.children.length;e>0;e--)this.navTabsTitle.removeChild(this.navTabsTitle.children[e]),this.navTabsContent.removeChild(this.navTabsContent.children[e])}},{key:"_changeTabsPage",value:function(e){for(var t=e.target.index,n=0;n<this.navTabsTitle.children.length;n++)this.navTabsTitle.children[n].setAttribute("class",""),this.navTabsContent.children[n].hidden=!0,n===t&&(this.navTabsTitle.children[n].setAttribute("class","component-navtabspage__tabs--select"),this.navTabsContent.children[n].hidden=!1)}}]),t}(O2);xQ.Components.NavTabsPage=A2;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var L2=function(e){function t(e){var n;return _H(this,t),e=e||{},n=xH(this,TH(t).call(this,e)),n.currentPage=0,n.pageNumberLis=[],n.currentPageNumberLis=[],n.linkageEvent=null,e.contents=e.contents?e.contents:null,e.pageCounts=e.pageCounts?e.pageCounts:0,n._initView(e.contents,e.pageCounts),n}return PH(t,e),OH(t,[{key:"setLinkageEvent",value:function(e){this.linkageEvent=e}},{key:"_initView",value:function(e,t){var n=document.createElement("div");n.setAttribute("class","component-pagination");var r=document.createElement("div");r.setAttribute("class","component-pagination__content"),n.appendChild(r),this.content=r;var i=document.createElement("ul");i.setAttribute("class","component-pagination__link"),i.onclick=this._changePageEvent.bind(this),n.appendChild(i),this._createLink(i),this.link=i,e&&this.setContent(e),0!==t&&this.setPageLink(t),this.rootContainer=n}},{key:"setContent",value:function(e){this.clearContent(),this.appendContent(e)}},{key:"appendContent",value:function(e){this.content.appendChild(e)}},{key:"clearContent",value:function(){for(var e=this.content.children.length-1;e>=0;e--)this.content.removeChild(this.content.children[e])}},{key:"setPageLink",value:function(e){this.pageNumberLis=[],this.currentPageNumberLis=[],this.clearPageLink(),this._createPageLi(e),this._appendPageLink()}},{key:"_createPageLi",value:function(e){for(var t=0;t<e;t++){var n=document.createElement("li");n.innerHTML=t+1,this.pageNumberLis.push(n)}if(this.pageNumberLis[0].setAttribute("class","active"),this.currentPage=1,e<5)this.currentPageNumberLis=this.pageNumberLis;else for(var r=0;r<5;r++)this.currentPageNumberLis.push(this.pageNumberLis[r])}},{key:"_appendPageLink",value:function(){for(var e=0;e<this.currentPageNumberLis.length;e++)this.link.insertBefore(this.currentPageNumberLis[e],this.link.childNodes[this.link.children.length-2]);for(var t=0;t<this.currentPageNumberLis.length;t++)this.currentPageNumberLis[t].setAttribute("class",""),Number(this.currentPageNumberLis[t].innerHTML)===this.currentPage&&this.currentPageNumberLis[t].setAttribute("class","active");this._changeDisableState(),this.linkageEvent&&this.linkageEvent(this.currentPage)}},{key:"clearPageLink",value:function(){for(var e=this.link.children.length-3;e>1;e--)this.link.removeChild(this.link.children[e])}},{key:"_createLink",value:function(e){for(var t=0;t<4;t++){var n=document.createElement("li");n.setAttribute("class","disable");var r=document.createElement("span");n.appendChild(r),0===t?(r.id="first",r.setAttribute("class","supermapol-icons-first")):1===t?(r.id="prev",r.setAttribute("class","supermapol-icons-prev")):2===t?(r.id="next",r.setAttribute("class","supermapol-icons-next")):3===t&&(r.id="last",r.setAttribute("class","supermapol-icons-last")),e.appendChild(n)}}},{key:"_changePageEvent",value:function(e){var t=e.target;if("disable"!==t.parentElement.classList[0]){var n;if(t.id)n=t.id;else{if(!Number(t.innerHTML))return;n=Number(t.innerHTML)}this._prePageNum(n),this.clearPageLink(),this._appendPageLink()}}},{key:"_changeDisableState",value:function(){this.link.children[0].setAttribute("class",""),this.link.children[1].setAttribute("class",""),this.link.children[this.link.children.length-1].setAttribute("class",""),this.link.children[this.link.children.length-2].setAttribute("class",""),1===this.currentPage&&(this.link.children[0].setAttribute("class","disable"),this.link.children[1].setAttribute("class","disable")),this.currentPage===this.pageNumberLis.length&&(this.link.children[this.link.children.length-1].setAttribute("class","disable"),this.link.children[this.link.children.length-2].setAttribute("class","disable"))}},{key:"_prePageNum",value:function(e){var t=[];if(this.currentPage="first"===e?1:"last"===e?this.pageNumberLis.length:"prev"===e?this.currentPage-1:"next"===e?this.currentPage+1:e,this.pageNumberLis.length<=5)for(var n=0;n<this.pageNumberLis.length;n++)t.push(this.pageNumberLis[n]);else if(this.currentPage<=3)for(var r=0;r<5;r++)t.push(this.pageNumberLis[r]);else if(this.currentPage>=this.pageNumberLis.length-3)for(var i=this.pageNumberLis.length-5;i<this.pageNumberLis.length;i++)t.push(this.pageNumberLis[i]);else for(var o=this.currentPage-3;o<=this.currentPage+1;o++)t.push(this.pageNumberLis[o]);t.length>0&&(this.currentPageNumberLis=t)}}]),t}(O2);xQ.Components.PaginationContainer=L2;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var j2={getFileType:function(e){var t=/^.*\.(?:csv)$/i,n=/^.*\.(?:xls|xlsx)$/i,r=/^.*\.(?:geojson|json)$/i;return n.test(e)?c2.EXCEL:t.test(e)?c2.CSV:r.test(e)?c2.GEOJSON:null}},R2={title_dataFlowService:"Data Flow Service",title_distributedAnalysis:"Distributed Analysis",title_clientComputing:"Client Computing",title_dataServiceQuery:"Data Service Query",title_searchCity:"Search city",title_searchLayer:" Search layer",text_input_value_inputDataFlowUrl:"Please enter the data stream service address such as: ws://{serviceRoot}/{dataFlowName}/dataflow/subscribe",text_displayFeaturesInfo:"Display feature information",text_subscribe:"subscribe",text_cancelSubscribe:"unsubscribe",text_densityAnalysis:"Density Analysis",text_CalculateTheValuePerUnitArea:"Calculate the value per unit area within the neighborhood shape",text_option_selectDataset:"Please select a dataset",text_label_dataset:"Dataset",text_option_simplePointDensityAnalysis:"Simple point density analysis",text_option_nuclearDensityAnalysis:"Nuclear density analysis",text_label_analyticalMethod:"Analytical method",text_option_quadrilateral:"Quadrilateral",text_option_hexagon:"hexagon",text_label_meshType:"Mesh type",text_option_notSet:"Not set",text_label_weightField:"Weight field",text_label_gridSizeInMeters:"Grid size",text_label_searchRadius:"Search radius",text_label_queryRange:"Scope of analysis",text_label_areaUnit:"Area unit",text_option_equidistantSegmentation:"Equidistant segmentation",text_option_logarithm:"Logarithm",text_option_equalCountingSegment:"Equal counting segment",text_option_squareRootSegmentation:"Square root segmentation",text_label_thematicMapSegmentationMode:"Thematic map segmentation mode",text_label_thematicMapSegmentationParameters:"Thematic map segmentation parameters",text_option_greenOrangePurpleGradient:"Green orange purple gradient",text_option_greenOrangeRedGradient:"Green orange red gradient",text_option_rainbowGradient:"Rainbow gradient",text_option_spectralGradient:"Spectral gradient",text_option_terrainGradient:"Terrain gradient",text_label_thematicMapColorGradientMode:"Thematic map color gradient mode",text_label_resultLayerName:"Result layer name",text_chooseFile:"Open File",text_isoline:"Isoline",text_extractDiscreteValue:"Extract discrete value generation curve",text_buffer:"Buffer",text_specifyTheDistance:"Specify the distance to create the surrounding area",text_label_analysisLayer:"Analysis layer",text_label_extractField:"Extract field",text_label_extractedValue:"Extracted value",text_label_distanceAttenuation:"Distance attenuation",text_label_gridSize:"gridSize",text_label_bufferRadius:"Buffer radius",text_label_defaultkilometers:"Default 10 kilometers",text_label_kilometer:"kilometer",text_label_unit:"unit",text_retainOriginal:"Retain original object field",text_mergeBuffer:"Merge buffer",text_label_color:"Color",text_label_buffer:"[Buffer]",text_label_isolines:"[Isolines]",text_label_queryRangeTips:"The default is the full range of input data. Example: -74.050, 40.650, -73.850, 40.850",text_label_queryModel:"Query mode",text_label_IDArrayOfFeatures:"ID array of features",text_label_maxFeatures:"The maximum number of features that can be returned",text_label_bufferDistance:"Buffer distance",text_label_queryRange1:"Query range",text_label_spatialQueryMode:"Spatial query mode",text_label_featureFilter:"Feature filter",text_label_geometricObject:"Geometric object",text_label_queryMode:"Query mode",text_label_searchTips:"Search for city locations or layer features",text_label_chooseSearchLayers:"Select a query layer",text_loadSearchCriteria:"Load search criteria",text_saveSearchCriteria:"Save search criteria",btn_analyze:"Analyze",btn_analyzing:"Analyzing",btn_emptyTheAnalysisLayer:"Empty the analysis layer",btn_cancelAnalysis:"Cancel",btn_query:"Query",btn_querying:"Querying",btn_emptyTheRresultLayer:"Clear all result layers","msg_dataReturnedIsEmpty.":"The request is successful and the data returned by the query is empty.",msg_dataFlowServiceHasBeenSubscribed:"The data stream service has been subscribed to.",msg_inputDataFlowUrlFirst:"Please enter the data stream service address first.",msg_datasetOrMethodUnsupport:"This dataset does not support this analysis type. Please reselect the dataset.",msg_selectDataset:"Please select a data set!",msg_setTheWeightField:"Please set the weight field!",msg_theFieldNotSupportAnalysis:"The field you currently select does not support analysis!",msg_resultIsEmpty:"The result of the analysis is empty!",msg_openFileFail:"Failed to open file!",msg_fileTypeUnsupported:"File format is not supported!",msg_fileSizeExceeded:"File size exceeded! The file size should not exceed 10M!",msg_dataInWrongGeoJSONFormat:"Wrong data format! Non standard GEOJSON format data!",msg_dataInWrongFormat:"Wrong data format! Non standard EXCEL, CSV or GEOJSON format data!",msg_searchKeywords:"Search keywords cannot be empty. Please enter your search criteria.",msg_searchGeocodeField:"Did not match the address matching service data!",msg_cityGeocodeField:"The address matching service of the current city is not configured.",msg_getFeatureField:"No related vector features found!",msg_dataflowservicesubscribed:"The data stream service has been subscribed to.",msg_subscribesucceeded:"The data stream service subscription was successful.",msg_crsunsupport:"Does not support the coordinate system of the current map",msg_tilematrixsetunsupport:"Incoming TileMatrixSet is not supported",msg_jsonResolveFiled:"JSON format parsing failureï¼",msg_requestContentFiled:"Failed to request data through iportal!",msg_getdatafailed:"Failed to get data!"};xQ.Lang["en-US"]=R2;/* CCopyrightÂ© 2000 - 2019 SuperMapSoftware Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var N2={title_dataFlowService:"æ°æ®æµæå¡",title_distributedAnalysis:"åå¸å¼åæ",title_clientComputing:"å®¢æ·ç«¯è®¡ç®",title_dataServiceQuery:"æ°æ®æå¡æ¥è¯¢",title_searchCity:"æç´¢åå¸",title_searchLayer:"æç´¢å¾å±",text_input_value_inputDataFlowUrl:"è¯·è¾å¥æ°æ®æµæå¡å°åå¦:ws://{serviceRoot}/{dataFlowName}/dataflow/subscribe",text_displayFeaturesInfo:"æ¾ç¤ºè¦ç´ ä¿¡æ¯",text_subscribe:"è®¢é",text_cancelSubscribe:"åæ¶è®¢é",text_densityAnalysis:"å¯åº¦åæ",text_CalculateTheValuePerUnitArea:"è®¡ç®ç¹æå®é»åå½¢ç¶åçæ¯åä½é¢ç§¯éå¼",text_option_selectDataset:"è¯·éæ©æ°æ®é",text_label_dataset:"æ°æ®é",text_option_simplePointDensityAnalysis:"ç®åç¹å¯åº¦åæ",text_option_nuclearDensityAnalysis:"æ ¸å¯åº¦åæ",text_label_analyticalMethod:"åææ¹æ³",text_option_quadrilateral:"åè¾¹å½¢",text_option_hexagon:"å­è¾¹å½¢",text_label_meshType:"ç½æ ¼é¢ç±»å",text_option_notSet:"æªè®¾ç½®",text_label_weightField:"æéå­æ®µ",text_label_gridSizeInMeters:"ç½æ ¼å¤§å°",text_label_searchRadius:"æç´¢åå¾",text_label_queryRange:"åæèå´",text_label_areaUnit:"é¢ç§¯åä½",text_option_equidistantSegmentation:"ç­è·ç¦»åæ®µ",text_option_logarithm:"å¯¹æ°",text_option_equalCountingSegment:"ç­è®¡æ°åæ®µ",text_option_squareRootSegmentation:"å¹³æ¹æ ¹åæ®µ",text_label_thematicMapSegmentationMode:"ä¸é¢å¾åæ®µæ¨¡å¼",text_label_thematicMapSegmentationParameters:"ä¸é¢å¾åæ®µåæ°",text_option_greenOrangePurpleGradient:"ç»¿æ©ç´«æ¸å",text_option_greenOrangeRedGradient:"ç»¿æ©çº¢æ¸å",text_option_rainbowGradient:"å½©è¹æ¸å",text_option_spectralGradient:"åè°±æ¸å",text_option_terrainGradient:"å°å½¢æ¸å",text_label_thematicMapColorGradientMode:"ä¸é¢å¾é¢è²æ¸åæ¨¡å¼",text_label_resultLayerName:"ç»æå¾å±åç§°",text_chooseFile:"éæ©æä»¶",text_isoline:"ç­å¼çº¿",text_extractDiscreteValue:"æåç¦»æ£å¼çææ²çº¿",text_buffer:"ç¼å²åº",text_specifyTheDistance:"æå®è·ç¦»åå»ºå¨è¾¹åºå",text_label_analysisLayer:"åæå¾å±",text_label_extractField:"æåå­æ®µ",text_label_extractedValue:"æåå¼",text_label_distanceAttenuation:"è·ç¦»è¡°å",text_label_gridSize:"æ æ ¼å¤§å°",text_label_bufferRadius:"ç¼å²åå¾",text_label_defaultkilometers:"é»è®¤10åç±³",text_option_kilometer:"åç±³",text_label_unit:"åä½",text_retainOriginal:"ä¿çåå¯¹è±¡å­æ®µå±æ§",text_mergeBuffer:"åå¹¶ç¼å²åº",text_label_color:"é¢è²",text_label_buffer:"[ç¼å²åº]",text_label_isolines:"[ç­å¼çº¿]",text_label_queryRangeTips:"é»è®¤ä¸ºè¾å¥æ°æ®çå¨å¹èå´ãèä¾ï¼-74.050,40.650,-73.850,40.850",text_label_IDArrayOfFeatures:"è¦ç´  ID æ°ç»",text_label_maxFeatures:"æå¤å¯è¿åçè¦ç´ æ°é",text_label_bufferDistance:"ç¼å²åºè·ç¦»",text_label_queryRange1:"æ¥è¯¢èå´",text_label_spatialQueryMode:"ç©ºé´æ¥è¯¢æ¨¡å¼",text_label_featureFilter:"è¦ç´ è¿æ»¤å¨",text_label_geometricObject:"å ä½å¯¹è±¡",text_label_queryMode:"æ¥è¯¢æ¨¡å¼",text_label_searchTips:"æç´¢åå¸å°ç¹æå¾å±è¦ç´ ",text_label_chooseSearchLayers:"éæ©æ¥è¯¢å¾å±",text_loadSearchCriteria:"å è½½æç´¢æ¡ä»¶",text_saveSearchCriteria:"ä¿å­æç´¢æ¡ä»¶",btn_analyze:"åæ",btn_analyzing:"åæä¸­",btn_emptyTheAnalysisLayer:"æ¸ç©ºåæå¾å±",btn_cancelAnalysis:"åæ¶",btn_query:"æ¥è¯¢",btn_querying:"æ¥è¯¢ä¸­",btn_emptyTheRresultLayer:"æ¸é¤ææç»æå¾å±",msg_dataFlowServiceHasBeenSubscribed:"å·²è®¢éè¯¥æ°æ®æµæå¡ã",msg_inputDataFlowUrlFirst:"è¯·åè¾å¥æ°æ®æµæå¡å°åã",msg_datasetOrMethodUnsupport:"è¯¥æ°æ®éä¸æ¯ææ¬åæç±»åï¼è¯·éæ°éæ©æ°æ®é",msg_selectDataset:"è¯·éæ©æ°æ®éï¼",msg_setTheWeightField:"è¯·è®¾ç½®æéå­æ®µï¼",msg_theFieldNotSupportAnalysis:"æ¨å½åéæ©çå­æ®µä¸æ¯æåæï¼",msg_resultIsEmpty:"åæçç»æä¸ºç©ºï¼",msg_dataReturnedIsEmpty:"è¯·æ±æåï¼æ¥è¯¢è¿åçæ°æ®ä¸ºç©ºã",msg_openFileFail:"æå¼æä»¶å¤±è´¥ï¼",msg_fileTypeUnsupported:"ä¸æ¯æè¯¥æä»¶æ ¼å¼ï¼",msg_fileSizeExceeded:"æä»¶å¤§å°è¶éï¼æä»¶å¤§å°ä¸å¾è¶è¿ 10Mï¼",msg_dataInWrongGeoJSONFormat:"æ°æ®æ ¼å¼éè¯¯ï¼éæ åç GEOJSON æ ¼å¼æ°æ®ï¼",msg_dataInWrongFormat:"æ°æ®æ ¼å¼éè¯¯ï¼éæ åç EXCEL, CSV æ GEOJSON æ ¼å¼æ°æ®ï¼",msg_searchKeywords:"æç´¢å³é®å­ä¸è½ä¸ºç©ºï¼è¯·è¾å¥æç´¢æ¡ä»¶ã",msg_searchGeocodeField:"æªå¹éå°å°åå¹éæå¡æ°æ®ï¼",msg_cityGeocodeField:"æªéç½®å½ååå¸çå°åå¹éæå¡ã",msg_getFeatureField:"æªæ¥æ¾å°ç¸å³ç¢éè¦ç´ ï¼",msg_dataflowservicesubscribed:"å·²è®¢éè¯¥æ°æ®æµæå¡ã",msg_subscribesucceeded:"æ°æ®æµæå¡è®¢éæåã",msg_crsunsupport:"ä¸æ¯æå½åå°å¾çåæ ç³»",msg_tilematrixsetunsupport:"ä¸æ¯æä¼ å¥çTileMatrixSet",msg_jsonResolveFiled:"jsonæ ¼å¼è§£æå¤±è´¥ï¼",msg_requestContentFiled:"éè¿iportalè¯·æ±æ°æ®å¤±è´¥ï¼",msg_getdatafailed:"è·åæ°æ®å¤±è´¥ï¼"};xQ.Lang["zh-CN"]=N2;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var I2=n(0),D2=n.n(I2);/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
D2.a.Projection={};var F2=D2.a.Class.extend({initialize:function(e){this.bounds=e},project:function(e){return new D2.a.Point(e.lng,e.lat)},unproject:function(e){return new D2.a.LatLng(e.y,e.x)}}),B2=function(e){return new F2(e)},U2=D2.a.Class.extend({includes:D2.a.CRS,initialize:function(e){e.origin&&(this.transformation=new D2.a.Transformation(1,-e.origin.x,-1,e.origin.y)),this.projection=D2.a.Projection.NonProjection(e.bounds),this.bounds=e.bounds,this.origin=e.origin,this.resolutions=e.resolutions},scale:function(e){if(!this.resolutions||0===this.resolutions.length){return 1/(Math.max(this.bounds.getSize().x,this.bounds.getSize().y)/256)*Math.pow(2,e)}return 1/this.resolutions[e]},zoom:function(e){if(!this.resolutions||0===this.resolutions.length){var t=Math.max(this.bounds.getSize().x,this.bounds.getSize().y),n=1/(t/256);return Math.log(e/n)/Math.LN2}for(var r=0;r<this.resolutions.length;r++)if(1/this.resolutions[r]==e)return r;return-1},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!1}),G2=function(e){return new U2(e)};D2.a.Projection.NonProjection=B2,D2.a.CRS.NonEarthCRS=G2;var z2=1,V2=2,H2=4,J2=5,q2=484813681109536e-20,W2=Math.PI/2,Q2=.16666666666666666,Y2=.04722222222222222,X2=.022156084656084655,K2=1e-10,Z2=.017453292519943295,$2=57.29577951308232,e3=Math.PI/4,t3=2*Math.PI,n3=3.14159265359,r3={};r3.greenwich=0,r3.lisbon=-9.131906111111,r3.paris=2.337229166667,r3.bogota=-74.080916666667,r3.madrid=-3.687938888889,r3.rome=12.452333333333,r3.bern=7.439583333333,r3.jakarta=106.807719444444,r3.ferro=-17.666666666667,r3.brussels=4.367975,r3.stockholm=18.058277777778,r3.athens=23.7163375,r3.oslo=10.722916666667;var i3={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},o3=/[\s_\-\/\(\)]/g,a3=function(e){var t,n,r,i={},o=e.split("+").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n=t.split("=");return n.push(!0),e[n[0].toLowerCase()]=n[1],e},{}),a={proj:"projName",datum:"datumCode",rf:function(e){i.rf=parseFloat(e)},lat_0:function(e){i.lat0=e*Z2},lat_1:function(e){i.lat1=e*Z2},lat_2:function(e){i.lat2=e*Z2},lat_ts:function(e){i.lat_ts=e*Z2},lon_0:function(e){i.long0=e*Z2},lon_1:function(e){i.long1=e*Z2},lon_2:function(e){i.long2=e*Z2},alpha:function(e){i.alpha=parseFloat(e)*Z2},lonc:function(e){i.longc=e*Z2},x_0:function(e){i.x0=parseFloat(e)},y_0:function(e){i.y0=parseFloat(e)},k_0:function(e){i.k0=parseFloat(e)},k:function(e){i.k0=parseFloat(e)},a:function(e){i.a=parseFloat(e)},b:function(e){i.b=parseFloat(e)},r_a:function(){i.R_A=!0},zone:function(e){i.zone=parseInt(e,10)},south:function(){i.utmSouth=!0},towgs84:function(e){i.datum_params=e.split(",").map(function(e){return parseFloat(e)})},to_meter:function(e){i.to_meter=parseFloat(e)},units:function(e){i.units=e;var t=kH(i3,e);t&&(i.to_meter=t.to_meter)},from_greenwich:function(e){i.from_greenwich=e*Z2},pm:function(e){var t=kH(r3,e);i.from_greenwich=(t||parseFloat(e))*Z2},nadgrids:function(e){"@null"===e?i.datumCode="none":i.nadgrids=e},axis:function(e){var t="ewnsud";3===e.length&&-1!==t.indexOf(e.substr(0,1))&&-1!==t.indexOf(e.substr(1,1))&&-1!==t.indexOf(e.substr(2,1))&&(i.axis=e)}};for(t in o)n=o[t],t in a?(r=a[t],"function"==typeof r?r(n):i[r]=n):i[t]=n;return"string"==typeof i.datumCode&&"WGS84"!==i.datumCode&&(i.datumCode=i.datumCode.toLowerCase()),i},s3=AH,l3=1,u3=/\s/,c3=/[A-Za-z]/,f3=/[A-Za-z84]/,h3=/[,\]]/,p3=/[\d\.E\-\+]/;MH.prototype.readCharicter=function(){var e=this.text[this.place++];if(4!==this.state)for(;u3.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case l3:return this.neutral(e);case 2:return this.keyword(e);case 4:return this.quoted(e);case 5:return this.afterquote(e);case 3:return this.number(e);case-1:return}},MH.prototype.afterquote=function(e){if('"'===e)return this.word+='"',void(this.state=4);if(h3.test(e))return this.word=this.word.trim(),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in afterquote yet, index '+this.place)},MH.prototype.afterItem=function(e){return","===e?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=l3)):"]"===e?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=l3,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},MH.prototype.number=function(e){if(p3.test(e))return void(this.word+=e);if(h3.test(e))return this.word=parseFloat(this.word),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in number yet, index '+this.place)},MH.prototype.quoted=function(e){if('"'===e)return void(this.state=5);this.word+=e},MH.prototype.keyword=function(e){if(f3.test(e))return void(this.word+=e);if("["===e){var t=[];return t.push(this.word),this.level++,null===this.root?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,void(this.state=l3)}if(h3.test(e))return void this.afterItem(e);throw new Error("havn't handled \""+e+'" in keyword yet, index '+this.place)},MH.prototype.neutral=function(e){if(c3.test(e))return this.word=e,void(this.state=2);if('"'===e)return this.word="",void(this.state=4);if(p3.test(e))return this.word=e,void(this.state=3);if(h3.test(e))return void this.afterItem(e);throw new Error("havn't handled \""+e+'" in neutral yet, index '+this.place)},MH.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var y3=.017453292519943295,d3=function(e){var t=s3(e),n=t.shift(),r=t.shift();t.unshift(["name",r]),t.unshift(["type",n]);var i={};return jH(t,i),DH(i),i};!function(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}(FH);var m3=FH,v3=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],b3=["3857","900913","3785","102113"],g3=JH,S3=function(e,t){e=e||{};var n,r;if(!t)return e;for(r in t)void 0!==(n=t[r])&&(e[r]=n);return e},_3=function(e,t,n){var r=e*t;return n/Math.sqrt(1-r*r)},w3=function(e){return e<0?-1:1},O3=function(e){return Math.abs(e)<=n3?e:e-w3(e)*t3},x3=function(e,t,n){var r=e*n,i=.5*e;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(W2-t))/r},C3=function(e,t){for(var n,r,i=.5*e,o=W2-2*Math.atan(t),a=0;a<=15;a++)if(n=e*Math.sin(o),r=W2-2*Math.atan(t*Math.pow((1-n)/(1+n),i))-o,o+=r,Math.abs(r)<=1e-10)return o;return-9999},T3=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],P3={init:qH,forward:WH,inverse:QH,names:T3},E3=["longlat","identity"],k3={init:YH,forward:XH,inverse:XH,names:E3},M3=[P3,k3],A3={},L3=[],j3={start:$H,add:KH,get:ZH},R3={};R3.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},R3.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},R3.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},R3.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},R3.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},R3.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},R3.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},R3.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},R3.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},R3.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},R3.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},R3.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},R3.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},R3.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},R3.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},R3.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},R3.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},R3.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},R3.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},R3.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},R3.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},R3.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},R3.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},R3.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},R3.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},R3.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},R3.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},R3.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},R3.hough={a:6378270,rf:297,ellipseName:"Hough"},R3.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},R3.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},R3.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},R3.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},R3.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},R3.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},R3.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},R3.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},R3.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},R3.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},R3.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},R3.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var N3=R3.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};R3.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var I3={};I3.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},I3.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},I3.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},I3.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},I3.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},I3.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},I3.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},I3.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},I3.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},I3.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},I3.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},I3.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},I3.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},I3.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},I3.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},I3.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},I3.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var D3=nJ;iJ.projections=j3,iJ.projections.start();var F3=iJ,B3=function(e,t,n){return oJ(e,t)?n:e.datum_type===J2||t.datum_type===J2?n:e.es!==t.es||e.a!==t.a||cJ(e.datum_type)||cJ(t.datum_type)?(n=aJ(n,e.es,e.a),cJ(e.datum_type)&&(n=lJ(n,e.datum_type,e.datum_params)),cJ(t.datum_type)&&(n=uJ(n,t.datum_type,t.datum_params)),sJ(n,t.es,t.a,t.b)):n},U3=function(e,t,n){var r,i,o,a=n.x,s=n.y,l=n.z||0,u={};for(o=0;o<3;o++)if(!t||2!==o||void 0!==n.z)switch(0===o?(r=a,i="x"):1===o?(r=s,i="y"):(r=l,i="z"),e.axis[o]){case"e":u[i]=r;break;case"w":u[i]=-r;break;case"n":u[i]=r;break;case"s":u[i]=-r;break;case"u":void 0!==n[i]&&(u.z=r);break;case"d":void 0!==n[i]&&(u.z=-r);break;default:return null}return u},G3=function(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t},z3=function(e){fJ(e.x),fJ(e.y)},V3=F3("WGS84"),H3=mJ,J3=6,q3="AJSAJS",W3="AFAFAF",Q3=65,Y3=73,X3=79,K3=86,Z3=90,$3={forward:vJ,inverse:bJ,toPoint:gJ};RJ.fromMGRS=function(e){return new RJ(gJ(e))},RJ.prototype.toMGRS=function(e){return vJ([this.x,this.y],e)};var e5=RJ,t5=n(8),n5=.01068115234375,r5=function(e){var t=[];t[0]=1-e*(.25+e*(.046875+e*(.01953125+e*n5))),t[1]=e*(.75-e*(.046875+e*(.01953125+e*n5)));var n=e*e;return t[2]=n*(.46875-e*(.013020833333333334+.007120768229166667*e)),n*=e,t[3]=n*(.3645833333333333-.005696614583333333*e),t[4]=n*e*.3076171875,t},i5=function(e,t,n,r){return n*=t,t*=t,r[0]*e-n*(r[1]+t*(r[2]+t*(r[3]+t*r[4])))},o5=function(e,t,n){for(var r=1/(1-t),i=e,o=20;o;--o){var a=Math.sin(i),s=1-t*a*a;if(s=(i5(i,a,Math.cos(i),n)-e)*(s*Math.sqrt(s))*r,i-=s,Math.abs(s)<K2)return i}return i},a5=["Transverse_Mercator","Transverse Mercator","tmerc"],s5={init:NJ,forward:IJ,inverse:DJ,names:a5},l5=function(e){var t=Math.exp(e);return t=(t-1/t)/2},u5=function(e,t){e=Math.abs(e),t=Math.abs(t);var n=Math.max(e,t),r=Math.min(e,t)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))},c5=function(e){var t=1+e,n=t-1;return 0===n?e:e*Math.log(t)/n},f5=function(e){var t=Math.abs(e);return t=c5(t*(1+t/(u5(1,t)+1))),e<0?-t:t},h5=function(e,t){for(var n,r=2*Math.cos(2*t),i=e.length-1,o=e[i],a=0;--i>=0;)n=r*o-a+e[i],a=o,o=n;return t+n*Math.sin(2*t)},p5=function(e,t){for(var n,r=2*Math.cos(t),i=e.length-1,o=e[i],a=0;--i>=0;)n=r*o-a+e[i],a=o,o=n;return Math.sin(t)*n},y5=function(e){var t=Math.exp(e);return t=(t+1/t)/2},d5=function(e,t,n){for(var r,i,o=Math.sin(t),a=Math.cos(t),s=l5(n),l=y5(n),u=2*a*l,c=-2*o*s,f=e.length-1,h=e[f],p=0,y=0,d=0;--f>=0;)r=y,i=p,y=h,p=d,h=u*y-r-c*p+e[f],d=c*y-i+u*p;return u=o*l,c=a*s,[u*h-c*d,u*d+c*h]},m5=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"],v5={init:FJ,forward:BJ,inverse:UJ,names:m5},b5=function(e,t){if(void 0===e){if((e=Math.floor(30*(O3(t)+Math.PI)/Math.PI)+1)<0)return 0;if(e>60)return 60}return e},g5=["Universal Transverse Mercator System","utm"],S5={init:GJ,names:g5,dependsOn:"etmerc"},_5=function(e,t){return Math.pow((1-e)/(1+e),t)},w5=20,O5=["gauss"],x5={init:zJ,forward:VJ,inverse:HJ,names:O5},C5=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"],T5={init:JJ,forward:qJ,inverse:WJ,names:C5},P5=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],E5={init:YJ,forward:XJ,inverse:KJ,names:P5,ssfn_:QJ},k5=["somerc"],M5={init:ZJ,forward:$J,inverse:eq,names:k5},A5=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"],L5={init:tq,forward:nq,inverse:rq,names:A5},j5=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"],R5={init:iq,forward:oq,inverse:aq,names:j5},N5=["Krovak","krovak"],I5={init:sq,forward:lq,inverse:uq,names:N5},D5=function(e,t,n,r,i){return e*i-t*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)},F5=function(e){return 1-.25*e*(1+e/16*(3+1.25*e))},B5=function(e){return.375*e*(1+.25*e*(1+.46875*e))},U5=function(e){return.05859375*e*e*(1+.75*e)},G5=function(e){return e*e*e*(35/3072)},z5=function(e,t,n){var r=t*n;return e/Math.sqrt(1-r*r)},V5=function(e){return Math.abs(e)<W2?e:e-w3(e)*Math.PI},H5=function(e,t,n,r,i){var o,a;o=e/t;for(var s=0;s<15;s++)if(a=(e-(t*o-n*Math.sin(2*o)+r*Math.sin(4*o)-i*Math.sin(6*o)))/(t-2*n*Math.cos(2*o)+4*r*Math.cos(4*o)-6*i*Math.cos(6*o)),o+=a,Math.abs(a)<=1e-10)return o;return NaN},J5=["Cassini","Cassini_Soldner","cass"],q5={init:cq,forward:fq,inverse:hq,names:J5},W5=function(e,t){var n;return e>1e-7?(n=e*t,(1-e*e)*(t/(1-n*n)-.5/e*Math.log((1-n)/(1+n)))):2*t},Q5=.3333333333333333,Y5=.17222222222222222,X5=.10257936507936508,K5=.06388888888888888,Z5=.0664021164021164,$5=.016415012942191543,e8=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],t8={init:pq,forward:yq,inverse:dq,names:e8,S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},n8=function(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)},r8=["Albers_Conic_Equal_Area","Albers","aea"],i8={init:bq,forward:gq,inverse:Sq,names:r8,phi1z:_q},o8=["gnom"],a8={init:wq,forward:Oq,inverse:xq,names:o8},s8=function(e,t){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-n)<1e-6)return t<0?-1*W2:W2;for(var r,i,o,a,s=Math.asin(.5*t),l=0;l<30;l++)if(i=Math.sin(s),o=Math.cos(s),a=e*i,r=Math.pow(1-a*a,2)/(2*o)*(t/(1-e*e)-i/(1-a*a)+.5/e*Math.log((1-a)/(1+a))),s+=r,Math.abs(r)<=1e-10)return s;return NaN},l8=["cea"],u8={init:Cq,forward:Tq,inverse:Pq,names:l8},c8=["Equirectangular","Equidistant_Cylindrical","eqc"],f8={init:Eq,forward:kq,inverse:Mq,names:c8},h8=20,p8=["Polyconic","poly"],y8={init:Aq,forward:Lq,inverse:jq,names:p8},d8=["New_Zealand_Map_Grid","nzmg"],m8={init:Rq,forward:Nq,inverse:Iq,names:d8},v8=["Miller_Cylindrical","mill"],b8={init:Dq,forward:Fq,inverse:Bq,names:v8},g8=20,S8=["Sinusoidal","sinu"],_8={init:Uq,forward:Gq,inverse:zq,names:S8},w8=["Mollweide","moll"],O8={init:Vq,forward:Hq,inverse:Jq,names:w8},x8=["Equidistant_Conic","eqdc"],C8={init:qq,forward:Wq,inverse:Qq,names:x8},T8=["Van_der_Grinten_I","VanDerGrinten","vandg"],P8={init:Yq,forward:Xq,inverse:Kq,names:T8},E8=["Azimuthal_Equidistant","aeqd"],k8={init:Zq,forward:$q,inverse:eW,names:E8},M8=["ortho"],A8={init:tW,forward:nW,inverse:rW,names:M8},L8={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},j8={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4},R8=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"],N8={init:iW,forward:oW,inverse:aW,names:R8},I8=[[1,2.2199e-17,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],D8=[[-5.20417e-18,.0124,1.21431e-18,-8.45284e-11],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],F8=.8487,B8=1.3523,U8=$2/5,G8=1/U8,z8=18,V8=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},H8=function(e,t){return e[1]+t*(2*e[2]+3*t*e[3])},J8=["Robinson","robin"],q8={init:cW,forward:fW,inverse:hW,names:J8};H3.defaultDatum="WGS84",H3.Proj=F3,H3.WGS84=new H3.Proj("WGS84"),H3.Point=e5,H3.toPoint=G3,H3.defs=m3,H3.transform=pJ,H3.mgrs=$3,H3.version=t5.a,function(e){e.Proj.projections.add(s5),e.Proj.projections.add(v5),e.Proj.projections.add(S5),e.Proj.projections.add(T5),e.Proj.projections.add(E5),e.Proj.projections.add(M5),e.Proj.projections.add(L5),e.Proj.projections.add(R5),e.Proj.projections.add(I5),e.Proj.projections.add(q5),e.Proj.projections.add(t8),e.Proj.projections.add(i8),e.Proj.projections.add(a8),e.Proj.projections.add(u8),e.Proj.projections.add(f8),e.Proj.projections.add(y8),e.Proj.projections.add(m8),e.Proj.projections.add(b8),e.Proj.projections.add(_8),e.Proj.projections.add(O8),e.Proj.projections.add(C8),e.Proj.projections.add(P8),e.Proj.projections.add(k8),e.Proj.projections.add(A8),e.Proj.projections.add(N8),e.Proj.projections.add(q8)}(H3);var W8=H3;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
window.proj4=W8,window.Proj4js=W8,D2.a.Proj={},D2.a.Proj._isProj4Obj=function(e){return void 0!==e.inverse&&void 0!==e.forward},D2.a.Proj.Projection=D2.a.Class.extend({initialize:function(e,t,n){var r=D2.a.Proj._isProj4Obj(e);this._proj=r?e:this._projFromCodeDef(e,t);var i=n;D2.a.Util.isArray(n)&&(i=D2.a.bounds(n)),this.bounds=r?t:i},project:function(e){var t=this._proj.forward([e.lng,e.lat]);return new D2.a.Point(t[0],t[1])},unproject:function(e,t){this.bounds&&(e.x=e.x<this.bounds.min.x?this.bounds.min.x:e.x>this.bounds.max.x?this.bounds.max.x:e.x,e.y=e.y<this.bounds.min.y?this.bounds.min.y:e.y>this.bounds.max.y?this.bounds.max.y:e.y);var n=this._proj.inverse([e.x,e.y]);return new D2.a.LatLng(n[1],n[0],t)},_projFromCodeDef:function(e,t){if(t)W8.defs(e,t);else if(void 0===W8.defs[e]){var n=e.split(":");if(n.length>3&&(e=n[n.length-3]+":"+n[n.length-1]),void 0===W8.defs[e])throw"No projection definition for code "+e}return W8(e)},getUnits:function(){return this._proj.oProj.units||"degrees"}});var Q8=D2.a.Class.extend({includes:D2.a.CRS,options:{transformation:new D2.a.Transformation(1,0,-1,0)},initialize:function(e,t){var n,r,i;if(D2.a.Proj._isProj4Obj(e)?(r=e,n=r.srsCode,t=t||{},this.projection=new D2.a.Proj.Projection(r,t.bounds)):(n=e,t=t||{},i=t.def||"",this.projection=new D2.a.Proj.Projection(n,i,t.bounds)),D2.a.Util.setOptions(this,t),this.code=n,this.transformation=this.options.transformation,this.options.dpi=this.options.dpi||96,this.options.bounds&&(this.options.bounds=D2.a.bounds(this.options.bounds)),!this.options.origin&&this.options.bounds&&(this.options.origin=[this.options.bounds.min.x,this.options.bounds.max.y]),this.options.origin&&(this.options.origin instanceof D2.a.Point&&(this.options.origin=[this.options.origin.x,this.options.origin.y]),this.transformation=new D2.a.Transformation(1,-this.options.origin[0],-1,this.options.origin[1])),this.options.scales&&this.options.scales.length>0)this.scales=this.options.scales,this._scales=this._toProj4Scales(this.options.scales,this.options.dpi);else if(this.options.scaleDenominators&&this.options.scaleDenominators.length>0){this.scales=[];for(var o=0;o<this.options.scaleDenominators.length;o++)this.scales[o]=1/this.options.scaleDenominators[o];this._scales=this._toProj4Scales(this.scales,this.options.dpi)}else if(this.options.resolutions&&this.options.resolutions.length>0){this._scales=[];for(var a=this.options.resolutions.length-1;a>=0;a--)this.options.resolutions[a]&&(this._scales[a]=1/this.options.resolutions[a])}else this.options.bounds&&(this._scales=this._getDefaultProj4ScalesByBounds(this.options.bounds));this._rectify(),this.infinite=!this.options.bounds},_rectify:function(){if(this._scales&&(this.resolutions||(this.resolutions=[],this.resolutions=this._proj4ScalesToResolutions(this._scales)),!this.scales)){this.scales=[];for(var e=0;e<this.resolutions.length;e++){var t=this.resolutions[e]*this.options.dpi*(1/.0254)*this._getMeterPerMapUnit(this.projection.getUnits());this.scales[e]=1/t}}},scale:function(e){var t,n,r,i,o=Math.floor(e);return e===o?this._scales[e]:(t=this._scales[o],n=this._scales[o+1],r=n-t,i=e-o,t+r*i)},zoom:function(e){var t,n,r,i=this._closestElement(this._scales,e),o=this._scales.indexOf(i);return i?e===i?o:(n=o+1,void 0===(t=this._scales[n])?o:(r=t-i,(e-i)/r+o)):0},distance:D2.a.CRS.Earth.distance,R:D2.a.CRS.Earth.R,_closestElement:function(e,t){for(var n,r=e.length;r--;)e[r]<=t&&(void 0===n||n<e[r])&&(n=e[r]);return n},_proj4ScalesToResolutions:function(e){var t=[];if(!e)return t;for(var n=0;n<e.length;n++)t[n]=1/e[n];return t},_toProj4Scales:function(e,t){var n=[];if(!e)return n;for(var r=0;r<e.length;r++){var i=this.projection?this._getMeterPerMapUnit(this.projection.getUnits()):1;n[r]=1/(.0254/((t||96)*e[r])/i)}return n},_getMeterPerMapUnit:function(e){var t=1;return"meter"===e?t=1:"degrees"===e?t=2*Math.PI*6378137/360:"kilometer"===e?t=.001:"inch"===e?t=1/.025399999918:"feet"===e&&(t=.3048),t},_getDefaultProj4ScalesByBounds:function(e){if(!e)return[];for(var t=e.getSize(),n=Math.max(t.x,t.y),r=n/256,i=[],o=0;o<23;o++)i[o]=Math.pow(2,o)/r;return i}}),Y8=function(e,t){return new Q8(e,t)};D2.a.Proj.CRS=Y8;for(var X8=D2.a.CRS.Baidu=D2.a.extend({},D2.a.CRS.EPSG3857,{code:"Baidu",scale:function(e){return 6378137*Math.PI*2/Math.pow(2,18-e)},transformation:function(){var e=.5/(6378137*Math.PI);return new D2.a.Transformation(e,0,-e,0)}()}),K8=[],Z8=1;Z8<19;Z8++)K8.push(1.40625/Math.pow(2,Z8));for(var $8=D2.a.CRS.TianDiTu_WGS84=D2.a.Proj.CRS("EPSG:4326",{origin:[-180,90],resolutions:K8,bounds:D2.a.bounds([-180,-90],[180,90])}),e4=[],t4=1;t4<19;t4++)e4.push(156543.03392804062/Math.pow(2,t4));var n4=D2.a.CRS.TianDiTu_Mercator=D2.a.Proj.CRS("EPSG:3857",{origin:[-20037508.3427892,20037508.3427892],resolutions:e4,bounds:D2.a.bounds([-20037508.3427892,-20037508.3427892],[20037508.3427892,20037508.3427892])});D2.a.CRS.BaiduCRS=X8,D2.a.CRS.TianDiTu_WGS84CRS=$8,D2.a.CRS.TianDiTu_MercatorCRS=n4;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var r4={Prefix:"<a href='http://leafletjs.com' title='A JS library for interactive maps'>Leaflet</a>\n                with <span>Â© <a href='http://iclient.supermap.io' title='SuperMap iClient' target='_blank'>SuperMap iClient</a></span>",Common:{attribution:"Map Data <span>Â© <a href='http://support.supermap.com.cn/product/iServer.aspx' title='SuperMap iServer' target='_blank'>SuperMap iServer</a></span>"},Online:{attribution:"Map Data <span>Â© <a href='http://www.supermapol.com' title='SuperMap Online' target='_blank'>SuperMap Online</a></span>"},ECharts:{attribution:"Â© 2018 ç¾åº¦ ECharts"},MapV:{attribution:"Â© 2018 ç¾åº¦ MapV "},Turf:{attribution:"<span>Â© <a href='http://turfjs.org/' title='turfjs' target='_blank'>turfjs</a></span>"},Baidu:{attribution:"Map Data Â© 2018 Baidu - GS(2016)2089å· - Data Â© é¿å°ä¸æ¹"},Cloud:{attribution:"Map Data Â©2014 SuperMap - GS(2014)6070å·-dataÂ©Navinfo"},Tianditu:{attribution:"Map Data <a href='http://www.tianditu.gov.cn' target='_blank'><img style='background-color:transparent;bottom:2px;opacity:1;' src='http://api.tianditu.gov.cn/img/map/logo.png' width='53px' height='22px' opacity='0'></a>"}},i4=r4;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
D2.a.supermap=D2.a.supermap||{},D2.a.supermap.control=D2.a.supermap.control||{},D2.a.supermap.components=D2.a.supermap.components||{},D2.a.Control.Attribution.include({options:{position:"bottomright",prefix:i4.Prefix}}),D2.a.Map.include({latLngToAccurateContainerPoint:function(e){var t=this.project(D2.a.latLng(e)),n=t._subtract(this.getPixelOrigin());return D2.a.point(n).add(this._getMapPanePos())}}),function(e){e.map(function(e){return e.defaultFunction=e.prototype.toGeoJSON,e.include({toGeoJSON:function(t){return e.defaultFunction.call(this,t||10)}}),e})}([D2.a.Polyline,D2.a.Polygon,D2.a.Marker,D2.a.CircleMarker,D2.a.Circle,D2.a.LayerGroup]);/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var o4=D2.a.Evented.extend({options:{url:null,proxy:null,serverType:null,withCredentials:!1,crossOrigin:null},initialize:function(e,t){e&&(e=e.indexOf("/")!==e.length-1?e:e.substr(0,e.length-1)),this.url=e,D2.a.setOptions(this,t),this.fire("initialized",this)},destroy:function(){this.fire("destroy",this)}});D2.a.supermap.ServiceBase=o4;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var a4=o4.extend({options:{projection:null},initialize:function(e,t){t=t||{},D2.a.setOptions(this,t),t.projection&&(this.options.projection=t.projection),o4.prototype.initialize.call(this,e,t)},getMapInfo:function(e){var t=this;new T$(t.url,{proxy:t.options.proxy,withCredentials:t.options.withCredentials,crossOrigin:t.options.crossOrigin,headers:t.options.headers,serverType:t.options.serverType,eventListeners:{scope:t,processCompleted:e,processFailed:e},projection:t.options.projection}).processAsync()},getTilesets:function(e){var t=this;new O0(t.url,{proxy:t.options.proxy,withCredentials:t.options.withCredentials,crossOrigin:t.options.crossOrigin,headers:t.options.headers,serverType:t.options.serverType,eventListeners:{scope:t,processCompleted:e,processFailed:e}}).processAsync()}}),s4=function(e,t){return new a4(e,t)};D2.a.supermap.mapService=s4;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var l4=D2.a.Control.extend({options:{layer:null,position:"topleft",title:"switch tile version",tooltip:"top",collapsed:!0,nextText:"+",lastText:"-",ico:"V",orientation:"horizontal",switch:!0},onAdd:function(){"vertical"!==this.options.orientation&&(this.options.orientation="horizontal");var e=this._initLayout();return this.options.layer&&this.setLayer(this.options.layer),e},setContent:function(e){var t=D2.a.Util.extend({},e);this.setVersionName(t.desc).setToolTip(t.desc)},setVersionName:function(e){var t=e;return e||(t=this.getValue()),this._sliderValue.innerHTML=t,this},setToolTip:function(e){return this.tooltip.innerHTML=e,this},updateLength:function(e){e>0&&(this.length=e,this.max=this.length-1,this.slider.setAttribute("max",this.max))},setLayer:function(e){e&&(this.options.layer=e);var t=this,n=t.options.layer;n.on("tilesetsinfoloaded",function(e){var n=e&&e.tileVersions;t.update(n)}),n.on("tileversionschanged",function(e){var n=e&&e.tileVersion;t.setContent(n)}),t.getTileSetsInfo()},update:function(e){this.tileVersions=e,this.updateLength(this.tileVersions.length)},getTileSetsInfo:function(){var e=this;e.options.layer&&new a4(e.options.layer._url).getTilesets(function(t){e.options.layer.setTileSetsInfo(t.result)})},removeLayer:function(){this.options.layer=null},nextTilesVersion:function(){return this.firstLoad?(this.options.layer.nextTilesVersion(),this.firstLoad=!1,this):parseInt(this.slider.value)>this.max-1?this:(this.slider.value=parseInt(this.slider.value)+1,this.options.layer.nextTilesVersion(),this)},lastTilesVersion:function(){return parseInt(this.slider.value)<this.min+1?this:(this.slider.value=parseInt(this.slider.value)-1,this.options.layer.lastTilesVersion(),this)},tilesVersion:function(e){for(var t=this.options.layer,n=this.tileVersions,r=n.length,i=0;i<r;i++)if(n[i].name==e){t.updateCurrentTileSetsIndex(i),t.changeTilesVersion();break}},getValue:function(){return this.slider.value},getVersion:function(){var e=this.tileVersions[this.getValue()];return e&&e.name},_initLayout:function(){var e="leaflet-control-ctv";this._container=D2.a.DomUtil.create("div",e+" "+e+"-"+this.options.orientation),this._sliderBtn=D2.a.DomUtil.create("a",e+"-toggle",this._container),this._sliderBtn.setAttribute("title",this.options.title),this._sliderBtn.innerHTML=this.options.ico,this._sliderValue=D2.a.DomUtil.create("p",e+"-value",this._container),this._sliderValue.innerHTML=this.options.ico;return this._sliderContent=D2.a.DomUtil.create("div","leaflet-ctv-slider-main  tooltip",this._container),this.tooltip=D2.a.DomUtil.create("span","tooltip-text  tooltip-"+this.options.tooltip,this._sliderContent),this.tooltip.innerHTML=this.options.ico,this.options.switch&&(this._next=D2.a.DomUtil.create("a","leaflet-ctv-slider-incdec leaflet-ctv-slider-next",this._sliderContent),this._next.innerHTML=this.options.nextText,D2.a.DomEvent.on(this._next,"click",this.nextTilesVersion,this),D2.a.DomUtil.addClass(this._container,e+"-incdec")),this._sliderContainer=D2.a.DomUtil.create("div","leaflet-ctv-slider-container",this._sliderContent),this.slider=D2.a.DomUtil.create("input","leaflet-ctv-slider",this._sliderContainer),this.min=null==this.min||isNaN(this.min)?0:parseInt(this.min),this.slider.setAttribute("title",this.options.title),this.slider.setAttribute("id","slider"),this.slider.setAttribute("type","range"),this.slider.setAttribute("min",this.min),this.slider.setAttribute("max",0),this.slider.setAttribute("step",1),this.slider.setAttribute("value",0),this.firstLoad=!0,"oninput"in this.slider||"onchange"in this.slider?D2.a.DomEvent.on(this.slider,"change",this._tilesVersion,this):this.slider.onpropertychange=this._tilesVersion,this.options.switch&&(this._last=D2.a.DomUtil.create("a","leaflet-ctv-slider-incdec leaflet-ctv-slider-last",this._sliderContent),this._last.innerHTML=this.options.lastText,D2.a.DomEvent.on(this._last,"click",this.lastTilesVersion,this)),"vertical"===this.options.orientation?(this.slider.style.width="170px",this._sliderContainer.style.height="170px"):this._sliderContainer.style.width="150px",D2.a.DomEvent.disableClickPropagation(this._container),this.options.collapsed?(D2.a.Browser.android||D2.a.DomEvent.on(this._container,"mouseenter",this._expand,this).on(this._container,"mouseleave",this._collapse,this),D2.a.Browser.touch?D2.a.DomEvent.on(this._sliderBtn,"click",D2.a.DomEvent.stop).on(this._sliderBtn,"click",this._expand,this):D2.a.DomEvent.on(this._sliderBtn,"focus",this._expand,this)):this._expand(),this._container},_expand:function(){D2.a.DomUtil.addClass(this._container,"leaflet-control-ctv-expanded")},_collapse:function(){D2.a.DomUtil.removeClass(this._container,"leaflet-control-ctv-expanded")},_tilesVersion:function(){var e=this.getVersion();this.tilesVersion(e)}});D2.a.Map.mergeOptions({changeTileVersionControl:!1}),D2.a.Map.addInitHook(function(){this.options.changeTileVersionControl&&(this.changeTileVersionControl=new l4,this.addControl(this.changeTileVersionControl))});var u4=function(e){return new l4(e)};D2.a.supermap.control.changeTileVersion=u4;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var c4=D2.a.Control.extend({options:{position:"bottomright",imageUrl:null,link:null,width:null,height:null,alt:"SuperMap iClient"},onAdd:function(){var e=D2.a.DomUtil.create("div","iclient-leaflet-logo");e.style.marginTop=0,e.style.marginBottom=0,e.style.marginLeft=0,e.style.marginRight=0;var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF4AAAAdCAYAAAAjHtusAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozYWZlOGIwMi01MWE3LTRiZjYtYWVkYS05MGQ2ZTQ4YjZiMmUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODg0NkFBQUE3RjEzMTFFNzhFRjJFQkY4RjcxQjc1NjIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODg0NkFBQTk3RjEzMTFFNzhFRjJFQkY4RjcxQjc1NjIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4MWI3NzdhNC1lZmEyLTQ1MzUtOGQzNi03MmRjNDkyODMzN2UiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpjYTYzODVjMi1jNDQ1LTExN2EtYTc0ZC1lM2I5MzJlMGE4Y2QiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5q1HM0AAAF/ElEQVR42tSabYhUVRjHZ7W01C1uaCRW4F3oi9SXCUnwQ9gsGUFvOEtQH1bLu5VS9sbYh5KicjYt29qiGQwVg2xWWKgocob91AvC+CWsoJqB3qHMSdTMpZyeU/+Df07n3pk7997Z6cBv99z7nHvOvf/z/pxJNZvNVI/jCKXmv6EquAmVkxPSlvtp2GItr0/96fFQForChJAWDiVYTkMYMu4XBFcYjLOwWS3sNwmn8NGzZ0h4Flv/zwIdchAnh/slCGmmKUNIBzYPaXOUr0vPuEjD71JAPh7l61embzinhV3V8nnCGmGT8LwlzSL8/yUh4Tfjo9T/CgnCIYNKycA2Qq21AcHU/VHE80Idoo3Qs0W6p0UtUnkZvEMDeVcCyqxEafF7hL8Qf0oYsIj+lfC9cH1CwhchWAGCtZO+AooQOkdC1Km1VtCb63StW73uFSzgKFUkNwBbmZGGmqowhvg8ZNpH9oXChcIcYRdeNomgxLkaH+S1SGubAxyIpFv+Zp+0DYjrAS00j/dem2VGEl6FJ4Qa4quEu8j2hTCJ+GJhe4JjfQMf6JCYPPbysMPxBlp0BUKOogEF9Rg9/heNvNKYfM0KsZUZaYxX4STGrzJa+zbhPeFH2DcK10KItcI+pI0rVElwXl1ULaKnIJhDw0oRQpTQc1zcbwRU8ATy4DR6yMlTzwkqMziEWHvubJ4Nk4ZtHdnqwvwY17xq3Z4FjrG+z2Kdrdf2ZSGD+xlLPh6t1R0jP9fI22ZzKI92yvQl7EbmBxI4S7Y+vIAOL87QZqsc5uNnssxZIcfYjXT9snCR7jjobidp+FkxA2v+Cq1QervMDmp4P7Xs3YZtE9kOC3P/By6JGaETl8ElwueYTNTDq4UDsKnd7YfCNbT239LF1udS72xYJt1UWxNfN4IIP4bWuTpEja01JtMFZFsm/AHbtHBlDE6yasA4moYTrUbvdBTXHqUrAH4uSadbyzF+vbBM2IsNkS3MNa5305JxqfA02T4TnkX8XOH1mPw8ruVejpxbI9hZD2Cz1U7LdrrUvjP/WfZinNZhr6V27hP+FPZh9aLvLxVO4DllX0G2OcKnlO/DCblxaz6uXBtmi+8mBaP3/SP8IuEIiTRoPPQm2TaEmEyXo0JU+F0YiPFD0hhOsiE/vqeEVwyTgF8L51OilcIZ2I4Ll5NttvAJPfukUeB2sk0ZPSbKIUUJpCII7+DasWy08uhNNazT0wGHI7mAtB7KqMKm38HhDdAUibTVKGicbB8YAqrJ9DRsp43JdB4qUof1HQrPE6XTQWu3Ce/inVzjXhXpMiTwUYugNVQ+p80jrUsV5EH0POKeuXO9QjhFq5GryNYvfEMCDhsftYVsB9ETtG0V9ZjfhCURhbcJFpfwVZ9jvhxsLHwTYtp2svlWQw3vXL8UnqHVSIG8l8ex+tHhBXgjddgqHEZ8ufAA2aaEnYgrF/KrPXrEmMUqZ9THLW06xhoBaVueQpkug+ewOUphE3Qv2Q5gGamXYa+QbVq4O+DQ5FHyZqrjxNt7UHh9uuRa0F7HjCF8o9PCTOGnscM7g2u1Hl9C9oeEnxC/1ajZg8JLiM9Hj9GHJseMShwL2DO0G5yEWn3Zh1QUods5CPkIoqlwAZxhXMsb6HrcEPBxchhdJ6wj29vCW4hfLOzo8J3rltYX50nXQAATSf/K4DEaGlTLvplsk/QCpoD60EQ7gLYZc8H9wq+I3yncEOEcNhuz6HWf3XEiwU/4Y8YEqVp2P10rt+8REvBGw026i4aDcbL9jF8r8Blmf4fCOzhViiscskygXRdehf3CO4hfigmTBXyQrl8TFtD1IzQX3CbcQrY3hPcRv4z8OmHPXwchVNln2MmE7BX6VwIFi/he6uxvb6JM3m0fdqvx/ATidxg2JeC7VDErAw5NzGfvwRJVheEIQ8Mg/pdwIM+UOmi9Q8ivCsrIy0tF+wVbEcLrd3Pb2XisEb4Tdlhsi4WP4RBbaLGrHfC3PrvMIezy9rTpGm5lz9LOMG15xvFxD/j5gjzjjDbMOzk+9zzt3v5bgAEAibzFeFHVgYkAAAAASUVORK5CYII=";this.options.imageUrl&&(t=this.options.imageUrl);var n=this.options.alt,r="94px",i="29px",o="width:"+r+";height:"+i+";";this.options.imageUrl&&(r=this.options.width,i=this.options.height,o="width:"+r+";height:"+i+";",r&&i||(o=""));var a=this.options.link||"http://iclient.supermap.io";return e.innerHTML="<a href='"+a+"' target='_blank' style='border: none;display: block;'><img src="+t+" alt='"+n+"' style='border: none;"+o+"margin-right:5px;margin-bottom:2px;white-space: nowrap'></a>",e}});D2.a.Map.mergeOptions({logoControl:!0}),D2.a.Map.addInitHook(function(){!this._logoAdded&&this.options.logoControl&&(!0===this.options.logoControl?this.logoControl=new c4:this.options.logoControl instanceof D2.a.Control&&(this.logoControl=this.options.logoControl),this.logoControl&&(this.addControl(this.logoControl),this._logoAdded=!0))});var f4=function(e){return new c4(e)};D2.a.supermap.control.logo=f4;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var h4=function(){function e(){pW(this,e)}return dW(e,null,[{key:"toSuperMapBounds",value:function(e){return e&&-1!==["FeatureCollection","Feature"].indexOf(e.type)&&(e=D2.a.geoJSON(e).getBounds()),e instanceof D2.a.LatLngBounds?new IY(e.getSouthWest().lng,e.getSouthWest().lat,e.getNorthEast().lng,e.getNorthEast().lat):e instanceof D2.a.Bounds?new IY(e.min.x,e.min.y,e.max.x,e.max.y):this.isArray(e)?new IY(e[0],e[1],e[2],e[3]):new IY}},{key:"isArray",value:function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{key:"toProcessingParam",value:function(e){var t={};if(e.length<1)t="";else{for(var n=[],r=0;r<e.length;r++){var i={};i.x=e[r][0],i.y=e[r][1],n.push(i)}t.type="REGION",t.points=n}return t}}]),e}();D2.a.supermap.CommontypesConversion=h4;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var p4={};D2.a.Util.supermap_callbacks=p4;var y4=function(e){return e?(new sX).toGeoJSON(e):e},d4=function(e){if(!e)return e;var t,n=new sX;if(-1!=["FeatureCollection","Feature","Geometry"].indexOf(e.type))t=n.read(e,e.type);else if("function"==typeof e.toGeoJSON){var r=e.toGeoJSON();t=r?n.read(r,r.type):e}var i=t;return D2.a.Util.isArray(t)&&(1===t.length?i=t[0]:t.length>1&&(i=[],t.map(function(e){return i.push(e.geometry),e}))),i&&i.geometry?i.geometry:i},m4=function(e){var t;if(e===jQ.METER)t=1;else if(e===jQ.DEGREE)t=2*Math.PI*6378137/360;else if(e===jQ.KILOMETER)t=.001;else if(e===jQ.INCH)t=1/.025399999918;else{if(e!==jQ.FOOT)return t;t=.3048}return t},v4=function(e,t,n){var r=m4(n),i=e*t*(1/.0254)*r;return i=1/i},b4=function(e,t,n){var r=m4(n),i=e*t*(1/.0254)*r;return i=1/i},g4=function(e,t,n,r){return r=r||6378137,n=n||"",e>0&&t>0?(e=D2.a.Util.NormalizeScale(e),"degree"===n.toLowerCase()||"degrees"===n.toLowerCase()||"dd"===n.toLowerCase()?254/t/e/(2*Math.PI*r/360)/1e4:254/t/e/1e4):-1},S4=function(e){return e>1?1/e:e};D2.a.Util.toGeoJSON=y4,D2.a.Util.toSuperMapGeometry=d4,D2.a.Util.resolutionToScale=v4,D2.a.Util.scaleToResolution=b4,D2.a.Util.getMeterPerMapUnit=m4,D2.a.Util.GetResolutionFromScaleDpi=g4,D2.a.Util.NormalizeScale=S4;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var _4=function(e){function t(e){var t=e.geometry;if(!RY.isArray(t.coordinates))throw"Geometry must have coordinates array: "+t;if(!s[t.type.toLowerCase()])throw"Unsupported geometry type: "+t.type;try{t.coordinates=s[t.type.toLowerCase()].apply(this,[t.coordinates])}catch(e){throw e}return e.geometry=t,e}function n(e){var t=r.unproject({x:e[0],y:e[1]}),n=i.project(t);return[n.x,n.y]}var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D2.a.CRS.EPSG4326,i=arguments.length>2?arguments[2]:void 0,o=null,a=null;if(-1===["FeatureCollection","Feature","Geometry"].indexOf(e.type))if(e.toGeoJSON)e=e.toGeoJSON();else if(e instanceof D2.a.LatLngBounds)e=D2.a.rectangle(e).toGeoJSON();else{if(!(e instanceof D2.a.Bounds))throw new Error("This tool only supports data conversion in geojson format or Vector Layers of Leaflet.");e=D2.a.rectangle([[e.getTopLeft().x,e.getTopLeft().y],[e.getBottomRight().x,e.getBottomRight().y]]).toGeoJSON()}var s={point:function(e){return a(e)},multipoint:function(e){return s.linestring.apply(this,[e])},linestring:function(e){for(var t=[],n=null,r=0,i=e.length;r<i;++r){try{n=s.point.apply(this,[e[r]])}catch(e){throw e}t.push(n)}return t},multilinestring:function(e){return s.polygon.apply(this,[e])},polygon:function(e){for(var t,n=[],r=0,i=e.length;r<i;++r){try{t=s.linestring.apply(this,[e[r]])}catch(e){throw e}n.push(t)}return n},multipolygon:function(e){for(var t=[],n=null,r=0,i=e.length;r<i;++r){try{n=s.polygon.apply(this,[e[r]])}catch(e){throw e}t.push(n)}return t}};return function(e,n){if(o=e,a=n,"Feature"===e.type)o=t(e);else if("FeatureCollection"===e.type){for(var r=[],i=0;i<e.features.length;++i)try{r.push(t(e.features[i]))}catch(e){r=null}o.features=r}return o}(e,n)};D2.a.Util.transform=_4;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var w4=D2.a.TileLayer.extend({url:"http://online{num}.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles={styles}&udt=20150815&scaler=1",options:{minZoom:3,maxZoom:19,bounds:D2.a.latLngBounds(D2.a.latLng(-85.0511287798,-180),D2.a.latLng(85.0511287798,180)),retina:D2.a.Browser.retina,attribution:i4.Baidu.attribution},initialize:function(e,t){e&&(this.url=e),D2.a.setOptions(this,t),this.options.retina&&(this.options.maxZoom=18),D2.a.stamp(this)},getTileUrl:function(e){var t=D2.a.Util.template(this.url,{num:Math.abs((e.x+e.y)%8)+1,x:e.x,y:-e.y-1,z:this._getZoomForUrl(),styles:this.options.retina?"ph":"pl"});return this.options.tileProxy&&(t=this.options.tileProxy+encodeURIComponent(t)),t}}),O4=function(e,t){return new w4(e,t)};D2.a.supermap.baiduTileLayer=O4;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var x4=D2.a.TileLayer.extend({defaultURL:"http://t2.supermapcloud.com/FileService/image",options:{mapName:"quanguo",type:"web",minZoom:3,maxZoom:18,attribution:i4.Cloud.attribution},initialize:function(e,t){D2.a.setOptions(this,t);var n=e||this.defaultURL;this._url=n+"?map="+this.options.mapName+"&type="+this.options.type,D2.a.stamp(this)},getTileUrl:function(e){var t=this._url,n=t+"&x="+e.x+"&y="+e.y+"&z="+e.z;return this.options.tileProxy&&(n=this.options.tileProxy+encodeURIComponent(n)),n}}),C4=function(e,t){return new x4(e,t)};D2.a.supermap.cloudTileLayer=C4;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var T4=I2.Layer.extend({options:{layersID:null,redirect:!1,transparent:!0,cacheEnabled:!0,clipRegionEnabled:!1,clipRegion:null,prjCoordSys:null,overlapDisplayed:!1,overlapDisplayedOptions:null,opacity:1,alt:"",pane:"tilePane",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:"",serverType:TQ.ISERVER,attribution:i4.Common.attribution,updateInterval:150,tileProxy:null,format:"png"},initialize:function(e,t){this._url=e,I2.Util.setOptions(this,t)},onAdd:function(e){this.update=I2.Util.throttle(this.update,this.options.updateInterval,this),e.on("moveend",this.update,this),this._currentImage&&this._currentImage._bounds.equals(this._map.getBounds())?e.addLayer(this._currentImage):this._currentImage&&(this._map.removeLayer(this._currentImage),this._currentImage=null),this.update()},onRemove:function(){this._currentImage&&this._map.removeLayer(this._currentImage),this._map.off("moveend",this.update,this)},bringToFront:function(){return this.options.position="front",this._currentImage&&this._currentImage.bringToFront(),this},bringToBack:function(){return this.options.position="back",this._currentImage&&this._currentImage.bringToBack(),this},getOpacity:function(){return this.options.opacity},setOpacity:function(e){return this.options.opacity=e,this._currentImage&&this._currentImage.setOpacity(e),this},getImageUrl:function(e){var t=I2.Util.getParamString(e)+this._initLayerUrl();return t=this._url+"/image."+this.options.format+t,t=this._appendCredential(t),this.options.tileProxy&&(t=this.options.tileProxy+encodeURIComponent(t)),this.options.cacheEnabled||(t+="&_t="+(new Date).getTime()),t},_getImageParams:function(){var e=this._calculateImageSize();return{viewBounds:this._compriseBounds(this._calculateBounds()),width:e.x,height:e.y}},_initLayerUrl:function(){var e=this,t="&";return t+=encodeURI(e._initAllRequestParams().join("&"))},_initAllRequestParams:function(){var e=this,t=e.options||{},n=[],r=!0===t.redirect&&t.redirect;n.push("redirect="+r);var i=!0===t.transparent&&t.transparent;n.push("transparent="+i);var o=!1!==t.cacheEnabled||t.cacheEnabled;return n.push("cacheEnabled="+o),t.prjCoordSys&&n.push("prjCoordSys="+JSON.stringify(t.prjCoordSys)),t.layersID&&n.push("layersID="+t.layersID),t.rasterfunction&&n.push("rasterfunction="+JSON.stringify(t.rasterfunction)),t.clipRegionEnabled&&t.clipRegion instanceof D2.a.Path&&(t.clipRegion=D2.a.Util.toSuperMapGeometry(t.clipRegion.toGeoJSON()),t.clipRegion=RY.toJSON(aX.fromGeometry(t.clipRegion)),n.push("clipRegionEnabled="+t.clipRegionEnabled),n.push("clipRegion="+JSON.stringify(t.clipRegion))),!1===t.overlapDisplayed?(n.push("overlapDisplayed=false"),t.overlapDisplayedOptions&&n.push("overlapDisplayedOptions="+e.overlapDisplayedOptions.toString())):n.push("overlapDisplayed=true"),n},_requestImage:function(e,t){var n=this.getImageUrl(e);this._loadImage(n,t)},_loadImage:function(e,t){if(this._map){var n=new I2.ImageOverlay(e,t,{opacity:0,alt:this.options.alt,zIndex:this.options.zIndex,className:this.options.className,errorOverlayUrl:this.options.error,crossOrigin:this.options.crossOrigin,pane:this.options.pane||this.getPane(),interactive:this.options.interactive}).addTo(this._map),r=function e(r){n.off("error",e,this);var i=this._map;if(i){var o=r.target,a=this._currentImage;o._bounds&&o._bounds.equals(t)&&o._bounds.equals(i.getBounds())?(this._currentImage=o,"front"===this.options.position&&this.bringToFront(),"back"===this.options.position&&this.bringToBack(),this._currentImage._map&&this._currentImage.setOpacity(this.options.opacity),a&&i.removeLayer(a),a&&a._map&&a._map.removeLayer(a)):i.removeLayer(o),this.fire("load",{bounds:t})}};n.once("load",r,this),n.once("error",function(){this._map.removeLayer(n),this.fire("error"),n.off("load",r,this)},this),this.fire("loading",{bounds:t})}},update:function(){if(this._map){var e=this._map.getZoom(),t=this._map.getBounds();if(e>this._map.options.maxZoom||e<this._map.options.zoom)return void(this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null));var n=this._getImageParams();n?this._requestImage(n,t):this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null)}},_calculateBounds:function(){var e=this._map.getPixelBounds(),t=this._map.unproject(e.getBottomLeft()),n=this._map.unproject(e.getTopRight()),r=this._map.options.crs.project(n),i=this._map.options.crs.project(t);return D2.a.bounds(r,i)},_compriseBounds:function(e){var t={leftBottom:{x:e.getBottomLeft().x,y:e.getTopRight().y},rightTop:{x:e.getTopRight().x,y:e.getBottomLeft().y}};return JSON.stringify(t)},_calculateImageSize:function(){var e=this._map,t=e.getPixelBounds(),n=e.getSize(),r=e.unproject(t.getBottomLeft()),i=e.unproject(t.getTopRight()),o=e.latLngToLayerPoint(i).y,a=e.latLngToLayerPoint(r).y;return(o>0||a<n.y)&&(n.y=a-o),n},_appendCredential:function(e){var t,n,r=e;switch(this.options.serverType){case TQ.IPORTAL:n=gX.getToken(this._url),t=n?new YY(n,"token"):null,t||(n=gX.getKey(this._url),t=n?new YY(n,"key"):null);break;case TQ.ONLINE:n=gX.getKey(this._url),t=n?new YY(n,"key"):null;break;default:n=gX.getToken(this._url),t=n?new YY(n,"token"):null}return t&&(r+="&"+t.getUrlParameters()),r}}),P4=function(e,t){return new T4(e,t)};D2.a.supermap.imageMapLayer=P4;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var E4=D2.a.TileLayer.extend({options:{version:"1.0.0",style:"",tilematrixSet:"",format:"image/png",tileSize:256,matrixIds:null,layer:"",requestEncoding:"KVP",attribution:""},initialize:function(e,t){this._url=e,D2.a.setOptions(this,t);var n=this.options;if("REST"===n.requestEncoding){var r={"image/png":"png","image/png8":"png","image/png24":"png","image/png32":"png",png:"png","image/jpeg":"jpg","image/jpg":"jpg",jpeg:"jpg",jpg:"jpg"};this.formatSuffix="."+(r[n.format]||n.format.split("/").pop()||"png")}else n.requestEncoding="KVP"},getTileUrl:function(e){var t=this._getZoomForUrl(),n=this.options.matrixIds?this.options.matrixIds[t].identifier:t,r=D2.a.Util.template(this._url,{s:this._getSubdomain(e)}),i={service:"WMTS",request:"GetTile",version:this.options.version,style:this.options.style,tilematrixSet:this.options.tilematrixSet,format:this.options.format,width:this.options.tileSize,height:this.options.tileSize,layer:this.options.layer,tilematrix:n,tilerow:e.y,tilecol:e.x};if(this.options.tileProxy&&(r=this.options.tileProxy+r),"KVP"===this.options.requestEncoding)r+=D2.a.Util.getParamString(i,r);else if("REST"===this.options.requestEncoding){var o="/"+i.layer+"/"+i.style+"/"+i.tilematrixSet+"/"+i.tilematrix+"/"+i.tilerow+"/"+i.tilecol+this.formatSuffix;r+=o}return r}}),k4=function(e,t){return new E4(e,t)};D2.a.supermap.wmtsLayer=k4;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var M4=E4.extend({layerLabelMap:{vec:"cva",ter:"cta",img:"cia"},layerZoomMap:{vec:18,ter:14,img:18},options:{layerType:"vec",isLabel:!1,attribution:i4.Tianditu.attribution,url:"http://t{s}.tianditu.gov.cn/{layer}_{proj}/wmts?",zoomOffset:1,key:"",dpi:96,style:"default",format:"tiles",subdomains:[0,1,2,3,4,5,6,7]},initialize:function(e){e=e||{},D2.a.setOptions(this,e),this.options.layer=this.options.isLabel?this.layerLabelMap[this.options.layerType]:this.options.layerType,this.options.maxZoom=this.layerZoomMap[this.options.layerType]-1,E4.prototype.initialize.call(this,this.options.url,this.options),D2.a.stamp(this)},onAdd:function(e){this.options.tilematrixSet="EPSG:4326"===e.options.crs.code?"c":"w",this.options.key&&(this._url="".concat(this._url,"tk=").concat(this.options.key)),this._url=this._url.replace("{layer}",this.options.layer).replace("{proj}",this.options.tilematrixSet),E4.prototype.onAdd.call(this,e)}}),A4=function(e){return new M4(e)};D2.a.supermap.tiandituTileLayer=A4;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var L4=D2.a.TileLayer.extend({options:{layersID:null,redirect:!1,transparent:!0,cacheEnabled:!0,clipRegionEnabled:!1,clipRegion:null,prjCoordSys:null,overlapDisplayed:!1,overlapDisplayedOptions:null,tileversion:null,crs:null,serverType:TQ.ISERVER,format:"png",tileProxy:null,attribution:i4.Common.attribution,subdomains:null},initialize:function(e,t){this._url=e,D2.a.TileLayer.prototype.initialize.apply(this,arguments),D2.a.setOptions(this,t),D2.a.stamp(this),this.tileSetsIndex=-1,this.tempIndex=-1},onAdd:function(e){this._crs=this.options.crs||e.options.crs,D2.a.TileLayer.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this.getScaleFromCoords(e),n=this._getLayerUrl(),r=n+"&scale="+t+"&x="+e.x+"&y="+e.y;return this.options.tileProxy&&(r=this.options.tileProxy+encodeURIComponent(r)),this.options.cacheEnabled||(r+="&_t="+(new Date).getTime()),this.options.subdomains&&(r=D2.a.Util.template(r,{s:this._getSubdomain(e)})),r},getScale:function(e){var t=this,n=e||t._map.getZoom();return t.scales[n]},getScaleFromCoords:function(e){var t,n=this;return n.scales&&n.scales[e.z]?n.scales[e.z]:(n.scales=n.scales||{},t=n.getDefaultScale(e),n.scales[e.z]=t,t)},getDefaultScale:function(e){var t=this,n=t._crs;if(n.scales)return n.scales[e.z];var r=t._tileCoordsToBounds(e),i=n.project(r.getNorthEast()),o=n.project(r.getSouthWest()),a=t.options.tileSize,s=Math.max(Math.abs(i.x-o.x)/a,Math.abs(i.y-o.y)/a),l=jQ.METER;if(n.code){var u=n.code.split(":");if(u&&u.length>1){var c=parseInt(u[1]);l=c&&c>=4e3&&c<=5e3?jQ.DEGREE:jQ.METER}}return v4(s,96,l)},setTileSetsInfo:function(e){this.tileSets=e,D2.a.Util.isArray(this.tileSets)&&(this.tileSets=this.tileSets[0]),this.tileSets&&(this.fire("tilesetsinfoloaded",{tileVersions:this.tileSets.tileVersions}),this.changeTilesVersion())},lastTilesVersion:function(){this.tempIndex=this.tileSetsIndex-1,this.changeTilesVersion()},nextTilesVersion:function(){this.tempIndex=this.tileSetsIndex+1,this.changeTilesVersion()},changeTilesVersion:function(){var e=this;if(null!=e.tileSets&&!(e.tempIndex===e.tileSetsIndex||this.tempIndex<0)){var t=e.tileSets.tileVersions;if(t&&e.tempIndex<t.length&&e.tempIndex>=0){var n=t[e.tempIndex].name;e.mergeTileVersionParam(n)&&(e.tileSetsIndex=e.tempIndex,e.fire("tileversionschanged",{tileVersion:t[e.tempIndex]}))}}},updateCurrentTileSetsIndex:function(e){this.tempIndex=e},mergeTileVersionParam:function(e){return!!e&&(this.requestParams.tileversion=e,this._paramsChanged=!0,this.redraw(),this._paramsChanged=!1,!0)},_getLayerUrl:function(){return this._paramsChanged&&(this._layerUrl=this._createLayerUrl()),this._layerUrl||this._createLayerUrl()},_createLayerUrl:function(){var e=this,t=e._url+"/tileImage."+this.options.format+"?";return t+=encodeURI(e._getRequestParamString()),t=this._appendCredential(t),this._layerUrl=t,t},_getRequestParamString:function(){this.requestParams=this.requestParams||this._getAllRequestParams();var e=[];for(var t in this.requestParams)e.push(t+"="+this.requestParams[t]);return e.join("&")},_getAllRequestParams:function(){var e=this,t=e.options||{},n={},r=this.options.tileSize;r instanceof D2.a.Point||(r=D2.a.point(r,r)),n.width=r.x,n.height=r.y,n.redirect=!0===t.redirect,n.transparent=!0===t.transparent,n.cacheEnabled=!(!1===t.cacheEnabled),t.prjCoordSys&&(n.prjCoordSys=JSON.stringify(t.prjCoordSys)),t.layersID&&(n.layersID=t.layersID.toString()),t.clipRegionEnabled&&t.clipRegion instanceof D2.a.Path&&(t.clipRegion=d4(t.clipRegion.toGeoJSON()),t.clipRegion=RY.toJSON(aX.fromGeometry(t.clipRegion)),n.clipRegionEnabled=t.clipRegionEnabled,n.clipRegion=JSON.stringify(t.clipRegion));var i=e._crs;if(i.options&&i.options.origin)n.origin=JSON.stringify({x:i.options.origin[0],y:i.options.origin[1]});else if(i.projection&&i.projection.bounds){var o=i.projection.bounds,a=D2.a.point(o.min.x,o.max.y);n.origin=JSON.stringify({x:a.x,y:a.y})}return!1===t.overlapDisplayed?(n.overlapDisplayed=!1,t.overlapDisplayedOptions&&(n.overlapDisplayedOptions=e.overlapDisplayedOptions.toString())):n.overlapDisplayed=!0,!0===n.cacheEnabled&&t.tileversion&&(n.tileversion=t.tileversion.toString()),t.rasterfunction&&(n.rasterfunction=JSON.stringify(t.rasterfunction)),n},_appendCredential:function(e){var t,n,r=e;switch(this.options.serverType){case TQ.IPORTAL:n=gX.getToken(this._url),t=n?new YY(n,"token"):null,t||(n=gX.getKey(this._url),t=n?new YY(n,"key"):null);break;case TQ.ONLINE:n=gX.getKey(this._url),t=n?new YY(n,"key"):null;break;default:n=gX.getToken(this._url),t=n?new YY(n,"token"):null}return t&&(r+="&"+t.getUrlParameters()),r}}),j4=function(e,t){return new L4(e,t)};D2.a.supermap.tiledMapLayer=j4;var R4=n(2),N4=n.n(R4),I4={TEXT:{fontSize:"14px",fontFamily:"Arial Unicode MS Regular,Microsoft YaHei",textAlign:"left",color:"rgba(255,255,255,0)",fillColor:"rgba(80,80,80,1)",weight:1,globalAlpha:1},POINT:{fillColor:"#ffcc00",color:"#cc3333",weight:1,radius:3,opacity:1},LINE:{color:"rgba(0,0,0,0)",weight:1,lineCap:"butt",lineJoin:"round",dashOffset:0,dashArray:[],opacity:1},REGION:{color:"rgba(0,0,0,0)",fillColor:"rgba(0,0,0,0)",weight:1,lineCap:"butt",lineJoin:"round",dashOffset:0,opacity:1,fillOpacity:1,dashArray:[]}};D2.a.supermap.DefaultStyle=I4;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var D4={TEXT:{"text-size":"fontSize","text-face-name":"fontFamily","text-align":"textAlign","text-name":"textName","text-weight":"fontWeight","text-halo-color":"color","text-fill":"fillColor","text-comp-op":"globalCompositeOperation"},POINT:{"point-file":"iconUrl","point-fill":"fillColor","point-radius":"radius","point-halo-color":"color","point-comp-op":"globalCompositeOperation"},LINE:{"line-color":"color","line-width":"weight","line-cap":"lineCap","line-join":"lineJoin","line-dash-offset":"dashOffset","line-opacity":"opacity","line-dasharray":"dashArray","line-comp-op":"globalCompositeOperation"},REGION:{"line-color":"color","line-width":"weight","line-cap":"lineCap","line-join":"lineJoin","line-dash-offset":"dashOffset","line-opacity":"opacity","line-dasharray":"dashArray","polygon-fill":"fillColor","polygon-opacity":"fillOpacity","polygon-comp-op":"globalCompositeOperation"}},F4={lineWidth:{leafletStyle:"weight",type:"number",unit:"mm",defaultValue:.1},fillForeColor:{leafletStyle:"fillColor",type:"color",defaultValue:"rgba(0,0,0,0)"},foreColor:{leafletStyle:"color",type:"color",defaultValue:"rgba(0,0,0,0)"},markerSize:{leafletStyle:"markerSize",type:"number",unit:"mm",defaultValue:2.4},lineColor:{leafletStyle:"color",type:"color",defaultValue:"#000000"}},B4={clear:"",src:"",dst:"","src-over":"source-over","dst-over":"destination-over","src-in":"source-in","dst-in":"destination-in","src-out":"source-out","dst-out":"destination-out","src-atop":"source-atop","dst-atop":"destination-atop",xor:"xor",plus:"lighter",minus:"",multiply:"",screen:"",overlay:"",darken:"",lighten:"lighter","color-dodge":"","color-burn":"","hard-light":"","soft-light":"",difference:"",exclusion:"",contrast:"",invert:"","invert-rgb":"","grain-merge":"","grain-extract":"",hue:"",saturation:"",color:"",value:""};D2.a.supermap.CartoStyleMap=D4,D2.a.supermap.ServerStyleMap=F4,D2.a.supermap.CompOpMap=B4;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var U4=function(){function e(t){mW(this,e),this.cartoCSS=null,this.mapUrl=t}return bW(e,[{key:"pretreatedCartoCSS",value:function(e,t){t&&(e=this.processCharacters(e)),this.cartoCSS=this.cartoCSS||{};var n=new s1(e).getShaders();if(n)for(var r=0;r<n.length;r++){var i=n[r].elements[0],o=n[r].attachment;this.cartoCSS[i.clean]=this.cartoCSS[i.clean]||{},this.cartoCSS[i.clean][o]=this.cartoCSS[i.clean][o]||[],this.cartoCSS[i.clean][o].push(n[r])}}},{key:"processCharacters",value:function(e){var t=e;if(t){var n=this;t=t.replace(/[@]/gi,"___"),t=t.replace(/\\#/gi,"#");var r={};return n.layersInfo&&Object.keys(n.layersInfo).sort().forEach(function(e){for(var n=e.replace(/[@#\s]/gi,"___"),i=e,o=Object.keys(r),a=o.length;a>-1;a--)if(e.indexOf(o[a])>-1){i=e.replace(o[a],r[o[a]]);break}i=i.replace(/[#]/gi,"#"),r[e]=n,t=t.replace(new RegExp(i,"g"),n)}),t=t.replace(/[#]/gi,"\n#"),t=t.replace(/\[zoom/gi,"[scale")}}},{key:"pickShader",value:function(e){if(!this.cartoCSS)return null;var t=e.replace(/[@#\s]/gi,"___");return this.cartoCSS[t]}},{key:"getDefaultStyle",value:function(e){var t={},n=I4[e];for(var r in n){var i=n[r];t[r]=i}return t}},{key:"getStyleFromiPortalMarker",value:function(e){return 0==e.indexOf("./")?null:(0==e.indexOf("http://support.supermap.com.cn:8092/static/portal")&&(e=e.replace("http://support.supermap.com.cn:8092/static/portal","http://support.supermap.com.cn:8092/apps/viewer/static")),D2.a.icon({iconUrl:e,iconSize:D2.a.point(48,43),iconAnchor:D2.a.point(24,43),popupAnchor:D2.a.point(0,-43)}))}},{key:"getStyleFromiPortalStyle",value:function(e,t,n){var r=n?JSON.parse(n):null,i={};if("Point"===t||"MultiPoint"===t){var o=r||e.pointStyle;return o.externalGraphic?0==o.externalGraphic.indexOf("./")?null:(0==o.externalGraphic.indexOf("http://support.supermap.com.cn:8092/static/portal")&&(o.externalGraphic=o.externalGraphic.replace("http://support.supermap.com.cn:8092/static/portal","http://support.supermap.com.cn:8092/apps/viewer/static")),D2.a.icon({iconUrl:o.externalGraphic,iconSize:D2.a.point(o.graphicWidth,o.graphicHeight),iconAnchor:D2.a.point(-o.graphicXOffset,-o.graphicYOffset),popupAnchor:D2.a.point(0,-o.graphicHeight)})):(i.radius=o.pointRadius,i.color=o.strokeColor,i.opacity=o.strokeOpacity,i.lineCap=o.strokeLineCap,i.weight=o.strokeWidth,i.fillColor=o.fillColor,i.fillOpacity=o.fillOpacity,i.dashArray=this.dashStyle(o,1),i)}if("LineString"===t||"MultiLineString"===t||"Box"===t){var a=r||e.lineStyle;return i.color=a.strokeColor,i.opacity=a.strokeOpacity,i.fillOpacity=a.fillOpacity,i.lineCap=a.strokeLineCap,i.weight=a.strokeWidth,i.dashArray=this.dashStyle(a,1),i}if("Polygon"===t||"MultiPolygon"===t){var s=r||e.polygonStyle;return i.color=s.strokeColor,i.opacity=s.strokeOpacity,i.lineCap=s.strokeLineCap,i.weight=s.strokeWidth,i.fillColor=s.fillColor,i.fillOpacity=s.fillOpacity,i.dashArray=this.dashStyle(s,1),i}}},{key:"dashStyle",value:function(e,t){if(!e)return[];var n=e.strokeWidth*t,r=e.strokeDashstyle;switch(r){case"solid":return[];case"dot":return[1,4*n];case"dash":return[4*n,4*n];case"dashdot":return[4*n,4*n,1,4*n];case"longdash":return[8*n,4*n];case"longdashdot":return[8*n,4*n,1,4*n];default:return r?RY.isArray(r)?r:(r=AY.trim(r).replace(/\s+/g,","),r.replace(/\[|\]/gi,"").split(",")):[]}}},{key:"getValidStyleFromCarto",value:function(e,t,n,r,i){if(!n)return null;var o=r.type,a=r.properties.attributes||{},s=this.getDefaultStyle(o);i=void 0===i||i,a.FEATUREID=r.properties.id,a.SCALE=t;for(var l,u,c=D4[o],f=0,h=n.length;f<h;f++){var p=n[f],y=c[p.property],d=p.getValue(a,e,!0);if(null!==d&&y)if("fontSize"===y)i&&(d*=.8),l=d+"px",s.fontSize=l;else if("fontName"===y)u=d,s.fontName=u;else{if("globalCompositeOperation"===y){if(!(d=B4[d]))continue}else if(i&&"iconUrl"===y){d=this.mapUrl+"/tileFeature/symbols/"+d.replace(/(___)/gi,"@"),d=d.replace(/(__0__0__)/gi,"__8__8__"),s.iconUrl=d;continue}"weight"===y&&d<1&&(d=Math.ceil(d)),s[y]=d}}return s}},{key:"getValidStyleFromLayerInfo",value:function(e,t){var n=e.type,r=this.getDefaultStyle(n),i=t&&t.layerStyle;if(!i)return r;if("POINT"===n){var o=Math.ceil(i.markerSize*xQ.DOTS_PER_INCH*xQ.INCHES_PER_UNIT.mm)||8,a={transparent:!0,resourceType:"SYMBOLMARKER",picWidth:o,picHeight:o,style:JSON.stringify(i)};return r.iconUrl=RY.urlAppend(this.mapUrl+"/symbol.png",RY.getParameterString(a)),r.iconSize=[o,o],r}if("TEXT"===n){if(i=e.properties.textStyle||t.layerStyle,r.fontWeight=i.bold?i.fontWeight:"normal",i.fontHeight){var s=i.fontHeight*xQ.DOTS_PER_INCH*xQ.INCHES_PER_UNIT.mm*.85;r.fontSize=s+"px",r.textHeight=s}if(i.fontName&&(r.fontFamily=i.fontName.indexOf("@")?i.fontName.replace(/@/g,""):i.fontName),i.align){var l=i.align.replace(/TOP|MIDDLE|BASELINE|BOTTOM/,"");r.textAlign=l.toLowerCase()}return r.weight=i.outline?i.outlineWidth:0,i.backColor&&(r.color="rgba("+i.backColor.red+","+i.backColor.green+","+i.backColor.blue+",1)"),i.foreColor&&(r.fillColor="rgba("+i.foreColor.red+","+i.foreColor.green+","+i.foreColor.blue+",1)"),r.rotation=i.rotation||0,r}var u=i.fillSymbolID>7?0:i.fillSymbolID,c=i.lineSymbolID>5?0:i.lineSymbolID;for(var f in i){var h=F4[f];if(h){var p=h.leafletStyle;switch(h.type){case"number":var y=i[f];h.unit&&(y=y*xQ.DOTS_PER_INCH*xQ.INCHES_PER_UNIT[h.unit]*2.5),r[p]=y;break;case"color":var d=i[f],m=void 0,v=1;if("fillColor"===p)0!==u&&1!==u||(v=1-u,m="rgba("+d.red+","+d.green+","+d.blue+","+v+")");else if("color"===p){if(0===c||5===c)v=0===c?1:0;else{var b=[1,0];switch(c){case 1:b=[9.7,3.7];break;case 2:b=[3.7,3.7];break;case 3:b=[9.7,3.7,2.3,3.7];break;case 4:b=[9.7,3.7,2.3,3.7,2.3,3.7]}r.lineDasharray=b}m="rgba("+d.red+","+d.green+","+d.blue+","+v+")"}r[p]=m}}}return t.textField&&(r.textAlign="LEFT"),r}}]),e}();D2.a.supermap.CartoCSSToLeaflet=U4;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var G4=D2.a.Class.extend({initialize:function(e){e=e||{};var t=e.latLng||e._latLng;this._latLng=D2.a.latLng(t.lat,t.lng),this._style=e.style||e._canvas,this.attributes=e.attributes,this.id=e.id?e.id:null},getId:function(){return this.id},setId:function(e){this.id=e},setLatLng:function(e){this._latLng=e},setCanvas:function(e){this._style=e},setAttributes:function(e){this.attributes=e},getLatLng:function(){return this._latLng},getCanvas:function(){return this._style},getAttributes:function(){return this.attributes},setStyle:function(e){this._style=e},getStyle:function(){return this._style}}),z4=function(e){return new G4(e)};D2.a.supermap.graphic=z4;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var V4=D2.a.Class.extend({initialize:function(e,t){this.geometry=e,this.attributes=t},toFeature:function(){var e,t=this.geometry,n=[];if(t.toGeoJSON)return e=t.toGeoJSON(),e.properties=this.attributes,(new sX).read(e)[0];if(3===t.length)t=new VY(t[1],t[0],t[2]);else if(2===t.length)t=new GY(n[0],n[1]);else if(t instanceof D2.a.LatLng)t=new GY(t.lng,t.lat);else if(t instanceof D2.a.Point)t=new GY(t.x,t.y);else if(t instanceof D2.a.CircleMarker){var r=t.getLatLng();t=new GY(r.lng,r.lat)}return new $Y(t,this.attributes)},reverseLatLngs:function(e){D2.a.Util.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++)e[t]=[e[t].lng,e[t].lat];return e}}),H4=function(e,t){return new V4(e,t)};D2.a.supermap.themeFeature=H4;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var J4=D2.a.Layer.extend({options:{alwaysMapCRS:!1,id:RY.createUniqueID("themeLayer_"),opacity:1,TFEvents:[],attribution:i4.Common.attribution},initialize:function(e,t){D2.a.Util.setOptions(this,t),this.name=e,this.features=[],this.TFEvents=this.options.TFEvents,this.levelRenderer=new u2,this.movingOffset=[0,0]},getEvents:function(){var e=this,t={zoomend:e._reset,moveend:e._reset,resize:e._resize};return this._map._zoomAnimated&&(t.zoomanim=e._zoomAnim),t},onRemove:function(e){var t=this;D2.a.DomUtil.remove(t.container),e.off("mousemove",t.mouseMoveHandler)},onAdd:function(e){var t=this;if(t.map=t._map=e,t._initContainer(),!t.levelRenderer)return void e.removeLayer(t);var n=e.getSize();t.container.style.width=n.x+"px",t.container.style.height=n.y+"px",t._updateOpacity(),t.renderer=t.levelRenderer.init(t.container),t.renderer.clear(),t.features&&t.features.length>0&&t._reset(),t.addTFEvents(),t.mouseMoveHandler=function(e){var n=e.layerPoint;t.currentMousePosition=D2.a.point(n.x+t.movingOffset[0],n.y+t.movingOffset[1])},e.on("mousemove",t.mouseMoveHandler),t.update(e.getBounds())},addFeatures:function(e){},redrawThematicFeatures:function(e){},destroyFeatures:function(e){if(void 0===e&&(e=this.features),e){this.removeFeatures(e);for(var t=e.length-1;t>=0;t--)e[t].destroy()}},removeFeatures:function(e){var t=this;if(e&&0!==e.length){if(e===t.features)return t.removeAllFeatures();D2.a.Util.isArray(e)||(e=[e]);for(var n=[],r=e.length-1;r>=0;r--){var i=e[r],o=D2.a.Util.indexOf(t.features,i);-1!==o?t.features.splice(o,1):n.push(i)}for(var a=[],s=0,l=t.features.length;s<l;s++)i=t.features[s],a.push(i);t.features=[],t.addFeatures(a),t.renderer&&(t._map?t.redrawThematicFeatures(t._map.getBounds()):t.redrawThematicFeatures());var u=0==n.length;t.fire("featuresremoved",{features:n,succeed:u})}},removeAllFeatures:function(){var e=this;e.renderer&&e.renderer.clear(),e.features=[],e.fire("featuresremoved",{features:[],succeed:!0})},getFeatures:function(){for(var e=this,t=e.features.length,n=new Array(t),r=0;r<t;++r)n[r]=e.features[r];return n},getFeatureBy:function(e,t){var n=this,r=null;for(var i in n.features)if(n.features[i][e]===t){r=n.features[i];break}return r},getFeatureById:function(e){return this.getFeatureBy("id",e)},getFeaturesByAttribute:function(e,t){var n,r=this,i=[];for(var o in r.features)(n=r.features[o])&&n.attributes&&n.attributes[e]===t&&i.push(n);return i},update:function(e){var t=this._map.containerPointToLayerPoint([0,0]);D2.a.DomUtil.setPosition(this.container,t);var n=this;n.renderer&&n.redrawThematicFeatures(e),n.currentMousePosition&&(n.currentMousePosition=D2.a.point(n.currentMousePosition.x-n.movingOffset[0],n.currentMousePosition.y-n.movingOffset[1])),n.movingOffset=[0,0],n._zoom=n._map.getZoom(),n._center=n._map.getCenter()},setOpacity:function(e){var t=this;e!==t.options.opacity&&(isNaN(e)||(t.options.opacity=e,t._updateOpacity()))},redraw:function(){var e=this;return!!e.renderer&&(e._map?e.redrawThematicFeatures(e._map.getBounds()):e.redrawThematicFeatures(),!0)},on:function(e,t,n){return this.renderer?this.renderer.on(e,t):D2.a.Layer.prototype.on.call(this,e,t),this},off:function(e,t,n){var r=this;return r.renderer?r.renderer.un(e,t):D2.a.Layer.prototype.off.call(this,e,t),this},fire:function(e,t,n){return this.renderer&&this.renderer.trigger(e,t),D2.a.Layer.prototype.fire.call(this,e,t,n),this},addTFEvents:function(){for(var e=this,t=e.TFEvents,n=t.length,r=0;r<n;r++)e.renderer.on(t[r][0],t[r][1])},getLocalXY:function(e){if(!this._map)return e;var t=e;D2.a.Util.isArray(e)&&(t=D2.a.point(e[0],e[1])),e instanceof D2.a.Point||(t=e instanceof GY||e instanceof VY?D2.a.point(e.x,e.y):D2.a.point(e.lon,e.lat));var n=this._map.latLngToAccurateContainerPoint(this.options.alwaysMapCRS?this._map.options.crs.unproject(t):D2.a.latLng(t.y,t.x));return[n.x,n.y]},toiClientFeature:function(e){RY.isArray(e)||(e=[e]);for(var t=[],n=0;n<e.length;n++)if(e[n]instanceof V4)t.push(e[n].toFeature());else if(e[n]instanceof $Y)t.push(e[n]);else if(-1!=["FeatureCollection","Feature","Geometry"].indexOf(e[n].type)){var r=new sX;t=t.concat(r.read(e[n]))}else{if(!e[n].geometry||!e[n].geometry.parts)throw new Error("features[".concat(n,"]'s type is not be supported."));t.push(W$.fromJson(e[n]).toFeature())}return t},toFeature:function(e){return this.toiClientFeature(e)},_initContainer:function(){var e=this.getPane(),t=this._map.options.zoomAnimation&&D2.a.Browser.any3d,n="themeLayer leaflet-layer leaflet-zoom-"+(t?"animated":"hide");this.container=D2.a.DomUtil.create("div",n,e);var r=D2.a.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);this.container.id=this.options.id,this.container.style[r]="50% 50%",this.container.style.position="absolute",this.container.style.zIndex=200},_zoomAnim:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._getCenterOffset(e.center)._multiplyBy(-t).subtract(this._map._getMapPanePos());D2.a.DomUtil.setTransform?D2.a.DomUtil.setTransform(this.container,n,t):this.container.style[D2.a.DomUtil.TRANSFORM]=D2.a.DomUtil.getTranslateString(n)+" scale("+t+")"},_updateOpacity:function(){var e=this;RY.modifyDOMElement(e.container,null,null,null,null,null,null,e.options.opacity),null!==e._map&&e._map.fire("changelayer",{layer:e,property:"opacity"})},_reset:function(){var e=this,t=e._map.getBounds();e.update(t);var n=e._map.getSize(),r=this._map.containerPointToLayerPoint([0,0]);D2.a.DomUtil.setPosition(this.container,r),parseFloat(e.container.width)!==parseFloat(n.x)&&(e.container.width=n.x+"px"),parseFloat(e.container.height)!==parseFloat(n.y)&&(e.container.height=n.y+"px"),e.redraw()},_resize:function(){var e=this,t=e._map.getSize();e.container.style.width=t.x+"px",e.container.style.height=t.y+"px",e.renderer.resize()}}),q4=J4.extend({options:{nodesClipPixel:2,isHoverAble:!1,isMultiHover:!1,isClickAble:!0,isAllowFeatureStyle:!1},initialize:function(e,t){J4.prototype.initialize.call(this,e,t),D2.a.Util.setOptions(this,t);var n=this;n.cache={},n.cacheFields=[],n.style={},n.highlightStyle={}},addFeatures:function(e){var t=this;t.fire("beforefeaturesadded",{features:e}),this.features=this.toiClientFeature(e),t.isCustomSetMaxCacheCount||(t.maxCacheCount=5*t.features.length),t.renderer&&(t._map?t.redrawThematicFeatures(t._map.getBounds()):t.redrawThematicFeatures())},removeFeatures:function(e){this.clearCache(),J4.prototype.removeFeatures.call(this,arguments)},removeAllFeatures:function(){this.clearCache(),J4.prototype.removeAllFeatures.call(this,arguments)},redrawThematicFeatures:function(e){var t=this,n=t.renderer.getHoverOne(),r=null;if(n&&n.refDataID&&(r=n.refDataID),this.options.alwaysMapCRS&&e&&e instanceof D2.a.LatLngBounds){var i=this._map.options.crs;e=D2.a.bounds(i.project(e.getSouthWest()),i.project(e.getNorthEast()))}e=h4.toSuperMapBounds(e),t.renderer.clearAll();for(var o=t.features,a=t.cache,s=t.cacheFields,l=t._map.getZoom(),u=t.maxCacheCount,c=0,f=o.length;c<f;c++){var h=o[c],p=h.geometry.getBounds();if(!e||e.intersectsBounds(p)){var y=h.id+"_zoom_"+l.toString();if(a[y])a[y].updateAndAddShapes();else{var d=t.createThematicFeature(o[c]);if(!(d.getShapesCount()<1)&&(a[y]=d,s.push(y),s.length>u)){var m=s[0];s.splice(0,1),delete a[m]}}}}if(t.renderer.render(),r&&t.options.isHoverAble&&t.options.isMultiHover){var v=this.getShapesByFeatureID(r);this.renderer.updateHoverShapes(v)}},createThematicFeature:function(e){var t=this,n=t.getStyleByData(e);e.style&&t.isAllowFeatureStyle&&(n=RY.copyAttributesWithClip(e.style));var r={};r.nodesClipPixel=t.options.nodesClipPixel,r.isHoverAble=t.options.isHoverAble,r.isMultiHover=t.options.isMultiHover,r.isClickAble=t.options.isClickAble,r.highlightStyle=G1.transformStyle(t.highlightStyle);for(var i=new Z1(e,t,G1.transformStyle(n),r),o=0;o<i.shapes.length;o++)t.renderer.addShape(i.shapes[o]);return i},redraw:function(){return this.clearCache(),J4.prototype.redraw.apply(this,arguments)},clearCache:function(){this.cache={},this.cacheFields=[]},clear:function(){var e=this;e.renderer.clearAll(),e.renderer.refresh(),e.removeAllFeatures(),e.clearCache()},getCacheCount:function(){return this.cacheFields.length},setMaxCacheCount:function(e){isNaN(e)||(this.maxCacheCount=e,this.isCustomSetMaxCacheCount=!0)},getShapesByFeatureID:function(e){var t=this,n=[],r=t.renderer.getAllShapes();if(!e)return r;for(var i=0,o=r.length;i<o;i++){var a=r[i];a.refDataID&&e===a.refDataID&&n.push(a)}return n}}),W4=q4.extend({initialize:function(e,t){q4.prototype.initialize.call(this,e,t),this.style=[],this.themeField=null,this.styleGroups=[]},getStyleByData:function(e){var t=this,n=e,r=RY.copyAttributesWithClip({},t.style),i=t.styleGroups,o=!1,a=null,s=t.styleGroups&&t.styleGroups.length>0;if(t.themeField&&s&&n.attributes){var l=t.themeField,u=n.attributes;for(var c in u)if(l===c){o=!0,a=u[c];break}}if(o)for(var f=0,h=i.length;f<h;f++)if(a.toString()===i[f].value.toString()){var p=i[f].style;r=RY.copyAttributesWithClip(r,p)}return r}}),Q4=function(e,t){return new W4(e,t)};D2.a.supermap.uniqueThemeLayer=Q4;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Y4=q4.extend({initialize:function(e,t){q4.prototype.initialize.call(this,e,t),this.style=[],this.themeField=null,this.styleGroups=[]},getStyleByData:function(e){var t=this,n=e,r=RY.copyAttributesWithClip({},t.style),i=t.styleGroups,o=!1,a=null,s=t.styleGroups&&t.styleGroups.length>0;if(t.themeField&&s&&n.attributes){var l=t.themeField,u=n.attributes;for(var c in u)if(l===c){o=!0,a=u[c];break}}if(o)for(var f=0,h=i.length;f<h;f++){var p=f===h-1?a>=i[f].start&&a<=i[f].end:a>=i[f].start&&a<i[f].end;if(p){var y=i[f].style;r=RY.copyAttributesWithClip(r,y)}}return r}}),X4=function(e,t){return new Y4(e,t)};D2.a.supermap.rangeThemeLayer=X4;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var K4=q4.extend({options:{isOverLay:!0,isAvoid:!0},initialize:function(e,t){q4.prototype.initialize.call(this,e,t),D2.a.Util.setOptions(this,t),this.style=[],this.themeField=null,this.styleGroups=[],this.defaultStyle={fontColor:"#000000",fontOpacity:1,fontSize:"12px",fontStyle:"normal",fontWeight:"normal",labelAlign:"cm",labelXOffset:0,labelYOffset:0,labelRotation:0,fill:!1,fillColor:"#ee9900",fillOpacity:.4,stroke:!1,strokeColor:"#ee9900",strokeOpacity:1,strokeWidth:1,strokeLinecap:"round",strokeDashstyle:"solid",labelRect:!0,labelSelect:!0,_isGeoTextStrategyStyle:!0},this.getPxBoundsMode=0,this.labelFeatures=[]},onAdd:function(e){q4.prototype.onAdd.call(this,e),this.container.style.zIndex=200},redrawThematicFeatures:function(e){if(this.features.length>0&&0==this.labelFeatures.length)for(var t=this.setLabelsStyle(this.features),n=0,r=t.length;n<r;n++)this.labelFeatures.push(t[n]);this.features=this.getDrawnLabels(this.labelFeatures),q4.prototype.redrawThematicFeatures.call(this,e)},removeFeatures:function(e){this.labelFeatures=[],q4.prototype.removeFeatures.call(this,arguments)},removeAllFeatures:function(){this.labelFeatures=[],q4.prototype.removeAllFeatures.call(this,arguments)},getDrawnLabels:function(e){for(var t,n,r,i,o=[],a=[],s={labelAlign:"cm",labelXOffset:0,labelYOffset:0},l=this._map,u=l.getSize(),c=l.getZoom(),f=0,h=e.length;f<h;f++){n=e[f],(n.isStyleChange||void 0===n.isStyleChange)&&(n=this.setStyle(n));var p=this.getLabelPxLocation(n);if(p.x>=0&&p.x<=u.x&&p.y>=0&&p.y<=u.y){if(n.style.minZoomLevel>-1&&c<=n.style.minZoomLevel)continue;if(n.style.maxZoomLevel>-1&&c>n.style.maxZoomLevel)continue;var y=null;n.isStyleChange?(n.isStyleChange=null,y=this.calculateLabelBounds(n,p)):y=n.geometry.bsInfo.w&&n.geometry.bsInfo.h?this.calculateLabelBounds2(n,p):this.calculateLabelBounds(n,p);var d=new IY(0,u.y,u.x,0),m=y.length;if(this.options.isAvoid){var v=this.getAvoidInfo(d,y);if(v){if("left"===v.aspectW){n.style.labelXOffset+=v.offsetX;for(var b=0;b<m;b++)y[b].x+=v.offsetX}else if("right"===v.aspectW){n.style.labelXOffset+=-v.offsetX;for(var g=0;g<m;g++)y[g].x+=-v.offsetX}if("top"===v.aspectH){n.style.labelYOffset+=v.offsetY;for(var S=0;S<m;S++)y[S].y+=v.offsetY}else if("bottom"===v.aspectH){n.style.labelYOffset+=-v.offsetY;for(var _=0;_<m;_++)y[_].y+=-v.offsetY}n.isStyleChange=!0}}if(this.options.isOverLay){var w=!1;if(0!=f)for(var O=0;O<a.length;O++)if(this.isQuadrilateralOverLap(y,a[O])){w=!0;break}if(w)continue;a.push(y)}for(var x=[],C=0;C<m-1;C++)x.push(l.containerPointToLatLng(y[C]));var T=x[3],P=x[1],E=new IY(T.lng,T.lat,P.lng,P.lat),k=E.getCenterLonLat(),M=new VY(k.lon,k.lat,n.attributes[this.themeField]);M.calculateBounds(),r=RY.cloneObject(n.style),i=RY.cloneObject(RY.copyAttributes(r,s)),t=new $Y(M,n.attributes,i),t.id=n.id,t.fid=n.fid,o.push(t)}}return o},getStyleByData:function(e){var t=e;if(t.style=RY.copyAttributes(t.style,this.defaultStyle),this.style&&this.style.fontSize&&parseFloat(this.style.fontSize)<12&&(this.style.fontSize="12px"),t.style=RY.copyAttributes(t.style,this.style),this.themeField&&this.styleGroups&&t.attributes){var n=this.themeField,r=t.attributes,i=this.styleGroups,o=!1,a=null;for(var s in r)if(n===s){o=!0,a=r[s];break}if(o)for(var l=0,u=i.length;l<u;l++)if(a>=i[l].start&&a<i[l].end){var c=i[l].style;c&&c.fontSize&&parseFloat(c.fontSize)<12&&(c.fontSize="12px"),t.style=RY.copyAttributes(t.style,c)}t.style.label=t.attributes[this.themeField]}return t.style},setLabelsStyle:function(e){for(var t,n=[],r=0,i=e.length;r<i;r++){var o=e[r];if("SuperMap.Geometry.GeoText"!==o.geometry.CLASS_NAME)return e;(o.geometry.bsInfo.w||o.geometry.bsInfo.h)&&(o.geometry.bsInfo.w=null,o.geometry.bsInfo.h=null,o.geometry.labelWTmp=null),t=this.setStyle(o),t.layer=this.layer,n.push(t)}return n},setStyle:function(e){var t=e;if(t.style=RY.copyAttributes(t.style,this.defaultStyle),this.style&&this.style.fontSize&&parseFloat(this.style.fontSize)<12&&(this.style.fontSize="12px"),t.style=RY.copyAttributes(t.style,this.style),this.groupField&&this.styleGroups&&t.attributes){var n=this.groupField,r=t.attributes,i=this.styleGroups,o=!1,a=null;for(var s in r)if(n===s){o=!0,a=r[s];break}if(o)for(var l=0,u=i.length;l<u;l++)if(a>=i[l].start&&a<i[l].end){var c=i[l].style;c&&c.fontSize&&parseFloat(c.fontSize)<12&&(c.fontSize="12px"),t.style=RY.copyAttributes(t.style,c)}}return t.style.label=t.geometry.text,t},getLabelPxLocation:function(e){var t=e.geometry,n=e.style,r=t.getCentroid(),i=this._map.latLngToContainerPoint(this.options.alwaysMapCRS?this._map.options.crs.unproject(D2.a.point(r.x,r.y)):D2.a.latLng(r.y,r.x)),o=D2.a.point(i.x,i.y);if(n.labelXOffset||n.labelYOffset){var a=isNaN(n.labelXOffset)?0:n.labelXOffset,s=isNaN(n.labelYOffset)?0:n.labelYOffset,l=o.add(D2.a.point(a,-s));return D2.a.point(l.x,l.y)}return D2.a.point(o.x,o.y)},calculateLabelBounds:function(e,t){var n=e.geometry,r=null,i=null;if(0==this.getPxBoundsMode)r=n.getLabelPxBoundsByText(t,e.style);else{if(1!==this.getPxBoundsMode)return null;i=this.getLabelInfo(e.geometry.getCentroid(),e.style),r=n.getLabelPxBoundsByLabel(t,i.w,i.h,e.style)}var o=[];return o=e.style.labelRotation%180==0?[{x:r.left,y:r.top},{x:r.right,y:r.top},{x:r.right,y:r.bottom},{x:r.left,y:r.bottom},{x:r.left,y:r.top}]:this.rotationBounds(r,t,e.style.labelRotation),n.bounds=new IY(o[1].x,o[3].y,o[2].x,o[4].y),o},calculateLabelBounds2:function(e,t){var n,r,i,o,a,s=e.geometry.bsInfo,l=e.style,u=RY.cloneObject(t);if(l.labelAlign&&"cm"!==l.labelAlign)switch(l.labelAlign){case"lt":u.x+=s.w/2,u.y+=s.h/2;break;case"lm":u.x+=s.w/2;break;case"lb":u.x+=s.w/2,u.y-=s.h/2;break;case"ct":u.y+=s.h/2;break;case"cb":u.y-=s.h/2;break;case"rt":u.x-=s.w/2,u.y+=s.h/2;break;case"rm":u.x-=s.w/2;break;case"rb":u.x-=s.w/2,u.y-=s.h/2}r=u.x-s.w/2,i=u.y+s.h/2,a=l.fontStyle&&"italic"===l.fontStyle?u.x+s.w/2+parseInt(parseFloat(l.fontSize)/2):u.x+s.w/2,o=u.y-s.h/2,n=new IY(r,i,a,o);var c=[];return c=l.labelRotation%180==0?[{x:n.left,y:n.top},{x:n.right,y:n.top},{x:n.right,y:n.bottom},{x:n.left,y:n.bottom},{x:n.left,y:n.top}]:this.rotationBounds(n,t,l.labelRotation),e.geometry.bounds=new IY(c[1].x,c[3].y,c[2].x,c[4].y),c},getLabelInfo:function(e,t){var n={l:"left",r:"right",t:"top",b:"bottom"},r={l:0,r:-1,t:0,b:-1};t=RY.extend({fontColor:"#000000",labelAlign:"cm"},t);var i=this.getLocalXY(e),o=0;if(t.labelXOffset||t.labelYOffset){var a=isNaN(t.labelXOffset)?0:t.labelXOffset,s=isNaN(t.labelYOffset)?0:t.labelYOffset;i[0]+=a,i[1]-=s}var l=document.createElement("canvas");l.globalAlpha=0,l.lineWidth=1;var u=l.getContext("2d");u.fillStyle=t.fontColor,u.globalAlpha=t.fontOpacity||1;var c,f,h,p=[t.fontStyle?t.fontStyle:"normal","normal",t.fontWeight?t.fontWeight:"normal",t.fontSize?t.fontSize:"1em",t.fontFamily?t.fontFamily:"sans-serif"].join(" "),y=t.label.split("\n"),d=y.length;if(u.fillText){u.font=p,u.textAlign=n[t.labelAlign[0]]||"center",u.textBaseline=n[t.labelAlign[1]]||"middle",c=r[t.labelAlign[1]],null==c&&(c=-.5),f=u.measureText("Mg").height||u.measureText("xx").width,i[1]+=f*c*(d-1);for(var m=0;m<d;m++)h=u.measureText(y[m]).width,o<h&&(o=h)}else if(u.mozDrawText){u.mozTextStyle=p,c=r[t.labelAlign[1]],null==c&&(c=-.5),f=u.mozMeasureText("xx"),i[1]+=f*(1+c*d);for(var v=0;v<d;v++)h=u.measureText(y[v]).width,o<h&&(o=h)}var b={};return o?(b.w=o,b.h=t.fontSize,b.rows=y.length,b):null},rotationBounds:function(e,t,n){var r=D2.a.point(e.left,e.top),i=D2.a.point(e.right,e.top),o=D2.a.point(e.right,e.bottom),a=D2.a.point(e.left,e.bottom),s=[];s.push(this.getRotatedLocation(r.x,r.y,t.x,t.y,n)),s.push(this.getRotatedLocation(i.x,i.y,t.x,t.y,n)),s.push(this.getRotatedLocation(o.x,o.y,t.x,t.y,n)),s.push(this.getRotatedLocation(a.x,a.y,t.x,t.y,n));for(var l=[],u=0;u<s.length;u++)l.push({x:s[u].x,y:s[u].y});return l.push({x:s[0].x,y:s[0].y}),l},getRotatedLocation:function(e,t,n,r,i){var o,a,s={};return t=-t,r=-r,i=-i,o=(e-n)*Math.cos(i/180*Math.PI)-(t-r)*Math.sin(i/180*Math.PI)+n,a=(e-n)*Math.sin(i/180*Math.PI)+(t-r)*Math.cos(i/180*Math.PI)+r,s.x=o,s.y=-a,s},getAvoidInfo:function(e,t){function n(t){if(!e.contains(t.x,t.y)){if(t.y<e.top){var n=Math.abs(e.top-t.y);n>l&&(l=n,u="top")}if(t.y>e.bottom){var r=Math.abs(t.y-e.bottom);r>l&&(l=r,u="bottom")}if(t.x<e.left){var i=Math.abs(e.left-t.x);i>s&&(s=i,c="left")}if(t.x>e.right){var o=Math.abs(t.x-e.right);o>s&&(s=o,c="right")}}}if(5!==t.length)return null;for(var r=[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom},{x:e.left,y:e.top}],i=!1,o=r.length,a=t.length,s=0,l=0,u="",c="",f=0;f<o-1;f++)for(var h=0;h<a-1;h++){var p=RY.lineIntersection(r[f],r[f+1],t[h],t[h+1]);"SuperMap.Geometry.Point"===p.CLASS_NAME&&(n(t[h]),n(t[h+1]),i=!0)}return i?{aspectW:c,aspectH:u,offsetX:s,offsetY:l}:null},isQuadrilateralOverLap:function(e,t){var n=e.length,r=t.length;if(5!==n||5!==r)return null;for(var i=!1,o=0;o<n;o++)if(this.isPointInPoly(e[o],t)){i=!0;break}for(var a=0;a<r;a++)if(this.isPointInPoly(t[a],e)){i=!0;break}for(var s=0;s<n-1&&!i;s++)for(var l=0;l<r-1;l++){var u=RY.lineIntersection(e[s],e[s+1],t[l],t[l+1]);if("SuperMap.Geometry.Point"===u.CLASS_NAME){i=!0;break}}return i},isPointInPoly:function(e,t){for(var n=!1,r=-1,i=t.length,o=i-1;++r<i;o=r)(t[r].y<=e.y&&e.y<t[o].y||t[o].y<=e.y&&e.y<t[r].y)&&e.x<(t[o].x-t[r].x)*(e.y-t[r].y)/(t[o].y-t[r].y)+t[r].x&&(n=!n);return n}}),Z4=function(e,t){return new K4(e,t)};D2.a.supermap.labelThemeLayer=Z4;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var $4=o4.extend({initialize:function(e,t){o4.prototype.initialize.call(this,e,t)},getFeaturesByIDs:function(e,t,n){var r=this;new kZ(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},getFeaturesByBounds:function(e,t,n){var r=this;new OZ(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},getFeaturesByBuffer:function(e,t,n){var r=this;new CZ(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},getFeaturesBySQL:function(e,t,n){var r=this;new AZ(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},getFeaturesByGeometry:function(e,t,n){var r=this;new PZ(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},editFeatures:function(e,t){if(e&&e.dataSourceName&&e.dataSetName){var n=this,r=n.url;r+="/datasources/"+e.dataSourceName+"/datasets/"+e.dataSetName;new NK(r,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{processCompleted:t,processFailed:t}}).processAsync(n._processParams(e))}},_processParams:function(e){if(!e)return{};e.returnContent=null==e.returnContent||e.returnContent,e.fromIndex=e.fromIndex?e.fromIndex:0,e.toIndex=e.toIndex?e.toIndex:-1,e.isUseBatch=null!=e.isUseBatch&&e.isUseBatch,e.bounds&&(e.bounds=h4.toSuperMapBounds(e.bounds)),e.geometry&&(e.geometry=d4(e.geometry)),e.editType&&(e.editType=e.editType.toLowerCase());var t=this;if(e.features){var n=[];D2.a.Util.isArray(e.features)?e.features.map(function(e){return n.push(t._createServerFeature(e)),e}):n.push(t._createServerFeature(e.features)),e.features=n}return e},_createServerFeature:function(e){var t,n={},r=[],i=[];t=e||{};for(var o in t.properties)r.push(o),i.push(t.properties[o]);return n.fieldNames=r,n.fieldValues=i,t.id&&(n.id=t.id),n.geometry=d4(t),n},_processFormat:function(e){return e||CQ.GEOJSON}}),e6=function(e,t){return new $4(e,t)};D2.a.supermap.featureService=e6;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var t6=D2.a.Path.extend({options:{fontStyle:"normal",fontWeight:"normal",fontSize:"1em",fontFamily:"sans-serif",textAlign:"center",textBaseline:"middle",vfactor:-.5,labelRotation:0,globalAlpha:1,label:""},initialize:function(e,t){D2.a.Util.setOptions(this,t),this._latlng=e},setLatLng:function(e){return this._latlng=e,this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._clickTolerance(),t=[e,e];this._pxBounds=new D2.a.Bounds(this._point.subtract(t),this._point.add(t))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateUnicode(this)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._clickTolerance()}}),n6=function(e,t){return new t6(e,t)};D2.a.Canvas.include({_updateUnicode:function(e){if(this._drawing){var t={x:e._point.x,y:e._point.y},n=this._ctx,r=[e.options.fontStyle,"normal",e.options.fontWeight,e.options.fontSize,e.options.fontFamily].join(" "),i=e.options.label.replace(/^&#x/,"");i=String.fromCharCode(parseInt(i,16));var o=i.split("\n"),a=o.length;if(n.fillStyle=e.options.fontColor,n.globalAlpha=1,e.options.fontOpacity>=0&&e.options.fontOpacity<1&&(n.globalAlpha=e.options.fontOpacity),n.fillText){n.font=r,n.textAlign=e.options.textAlign,n.textBaseline=e.options.textBaseline;var s=e.options.vfactor,l=n.measureText("Mg").height||n.measureText("xx").width;t.y+=l*s*(a-1);for(var u=0;u<a;u++)0!=e.options.labelRotation?(n.save(),n.translate(t.x,t.y),n.rotate(e.options.labelRotation*Math.PI/180),n.fillText(o[u],0,l*u),n.restore()):n.fillText(o[u],t.x,t.y)}else if(n.mozDrawText){n.mozTextStyle=r;var c=e.options.textAlign,f=e.options.vfactor,h=n.mozMeasureText("xx");t.y+=h*(1+f*a);for(var p=0;p<a;p++){var y=t.x+c*n.mozMeasureText(o[p]),d=t.y+p*h;n.translate(y,d),n.mozDrawText(o[p]),n.translate(-y,-d)}}}}}),D2.a.supermap.unicodeMarker=n6;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var r6=D2.a.LayerGroup.extend({options:{map:"map",server:"http://www.supermapol.com",featureLayerPopupEnable:!0,featureLayerPopup:null,credentialValue:null,credentialKey:"key",attribution:i4.Online.attribution},defaultFeatureLayerPopup:function(e){return e.feature.properties.attributes.title+":"+e.feature.properties.attributes.description},initialize:function(e,t){(e||t)&&(this._layers={},D2.a.setOptions(this,t),this.id=e,this.load(),this.cartoCSSToLeaflet=new U4)},load:function(){this.options.server.indexOf("http://")<0&&this.options.server.indexOf("https://")<0&&(this.options.server="http://"+this.options.server);var e=this.options.server+"/web/maps/"+this.id+".json";this.options.credentialValue&&(e+="?"+this.options.credentialKey+"="+this.options.credentialValue);var t=this;bX.get(e).then(function(e){return e.json()}).then(function(e){if(e){var n=e.layers;t.mapInfo=e,t.createLayersByJson(n)}})},addLayerWrapper:function(e,t,n){return t&&this.createMap(n),this.addLayer(e),e.labelLayer&&this.addLayer(e.labelLayer),this},createLayersByJson:function(e){if(D2.a.Util.isArray(e)&&0!==e.length){this.layers=[];for(var t=[],n=0;n<e.length;n++){var r=e[n];r._originIndex=n;"BASE_LAYER"===(r.layerType=r.layerType||"BASE_LAYER")?(r.isBaseLayer=!0,this.createLayer(r.type,r)):t.unshift(r)}for(;t.length>0;){var i=t.pop(),o=i.type,a=i.layerType=i.layerType||"BASE_LAYER";"OVERLAY_LAYER"!==a&&(o=a),this.createLayer(o,i)}this.fire("maploaded",{map:this._map})}},createCRS:function(e,t,n,r,i){return e<0?new U2({bounds:i,origin:r,resolutions:n}):910112===e||910102===e?D2.a.CRS.BaiduCRS:(910111===e&&(e=3857),910101===e&&(e=4326),D2.a.Proj.CRS("EPSG:"+e,{origin:r,resolutions:n,bounds:i}))},createMap:function(e){var t=e.crs||D2.a.CRS.EPSG3857,n=D2.a.latLngBounds(t.unproject(e.bounds.min),t.unproject(e.bounds.max));this._map=D2.a.map(this.options.map,{center:n.getCenter(),maxZoom:e.maxZoom||22,minZoom:e.minZoom||0,zoom:e.zoom||0,crs:t,renderer:D2.a.canvas()}),t instanceof U2?this._map.setZoom(e.zoom?e.zoom+2:2,{maxZoom:e.maxZoom||22}):this._map.fitBounds(n,{maxZoom:e.maxZoom||22})},getResolutionsFromScales:function(e,t,n,r){for(var i=[],o=0;o<e.length;o++)i.push(D2.a.Util.GetResolutionFromScaleDpi(e[o],t,n,r));return i},createLayer:function(e,t){var n=t.prjCoordSys,r=n&&n.epsgCode||this.mapInfo.epsgCode,i=this.mapInfo.center||t.center,o=this.mapInfo.level||t.level,a=this.mapInfo.extent||t.bounds,s=t.scales,l=t.isBaseLayer,u=t.opacity,c=D2.a.bounds([a.leftBottom.x,a.leftBottom.y],[a.rightTop.x,a.rightTop.y]),f=t.bounds?D2.a.bounds([t.bounds.leftBottom.x,t.bounds.leftBottom.y],[t.bounds.rightTop.x,t.bounds.rightTop.y]):c;i||(i=f.getCenter());var h,p=D2.a.point(f.min.x,f.max.y),y=s?this.getResolutionsFromScales(s,96,t.units):null,d=this.createCRS(r,n?n.type:"",y,p,f),m={bounds:c,center:D2.a.point(i.x,i.y),crs:d,zoom:o};switch(e){case"SUPERMAP_REST":h=j4(t.url,{transparent:!0,opacity:u});break;case"SUPERMAP_REST_VECTOR":break;case"TIANDITU_VEC":case"TIANDITU_IMG":case"TIANDITU_TER":m.crs=4326===r?D2.a.CRS.TianDiTu_WGS84:D2.a.CRS.TianDiTu_Mercator,m.minZoom=1,m.zoom=1+m.zoom,h=this.createTiandituLayer(t);break;case"BAIDU":m.crs=D2.a.CRS.BaiduCRS,m.zoom=3+m.zoom,m.minZoom=3,h=O4();break;case"BING":break;case"WMS":h=this.createWmsLayer(t);break;case"WMTS":m.resolutions=this.getResolutionsFromScales(s,90.71446714322,t.units);var v=t.identifier,b=v.substring(v.indexOf("_")+1);h=k4(t.url,{layer:b,style:"default",tilematrixSet:v,format:"image/png"});break;case"CLOUD":m.crs=D2.a.CRS.EPSG3857,m.zoom=3+m.zoom,m.minZoom=3,h=C4(t.url,{opacity:u});break;case"MARKER_LAYER":h=this.createMarkersLayer(t,d);break;case"FEATURE_LAYER":"ANIMATORVECTOR"==t.identifier||(h="THEME"==t.identifier?this.createThemeLayer(t):this.createVectorLayer(t,d));break;default:throw new Error("unSupported Layer Type")}h&&t.isVisible&&this.addLayerWrapper(h,l,m)},createTiandituLayer:function(e){var t=e.type.split("_")[1].toLowerCase(),n="OVERLAY_LAYER"===e.layerType;return new M4({layerType:t,isLabel:n})},createMarkersLayer:function(e,t){var n=this,r=e.markers||[],i=function(e){var n=t.unproject(D2.a.point(e[0],e[1]));return new D2.a.LatLng(n.lat,n.lng,e[2])},o=D2.a.geoJSON(D2.a.Util.toGeoJSON(r),{pointToLayer:function(e,t){var n=new D2.a.Marker(t);return n.setStyle=function(e){e&&n.setIcon(e)},n},coordsToLatLng:i,style:function(e){return n.cartoCSSToLeaflet.getStyleFromiPortalMarker(e.properties.icon)}});return this.options.featureLayerPopupEnable&&o.bindPopup(this.options.featureLayerPopup||this.defaultFeatureLayerPopup),o},createWmsLayer:function(e){var t=e.url,n=e.opacity,r=e.subLayers;return r&&"undefined"!==r&&"null"!==r||(r="0"),D2.a.tileLayer.wms(t,{layers:r,format:"image/png",transparent:!0,noWrap:!0,opacity:n})},createVectorLayer:function(e,t){var n=this,r=e.style,i=e.opacity,o=this,a=function(e){var n=t.unproject(D2.a.point(e[0],e[1]));return new D2.a.LatLng(n.lat,n.lng,e[2])};if(!e.url){var s=D2.a.geoJSON(D2.a.Util.toGeoJSON(e.features),{pointToLayer:function(e,t){var n=new D2.a.Marker(t);return n.setStyle=function(e){e&&n.setIcon(e)},n},coordsToLatLng:a,style:function(e){var t=o.cartoCSSToLeaflet.getStyleFromiPortalStyle(r||{},e.geometry.type,e.properties.style);return t.dashArray&&0==t.dashArray.length&&(t.dashArray=null),t},opacity:i});return this.options.featureLayerPopupEnable&&s.bindPopup(this.options.featureLayerPopup||this.defaultFeatureLayerPopup),s}for(var l=e.url,u=e.name,c=e.features,f=0;f<c.length;f++){var h=c[f];h.visible&&this.getFeaturesBySQL(l,u,h.name,"",CQ.GEOJSON,function(e){var t=D2.a.geoJSON(e.result,{pointToLayer:function(e,t){var n=new D2.a.Marker(t);return n.setStyle=function(e){e&&n.setIcon(e)},n},coordsToLatLng:a,style:function(e){return this.cartoCSSToLeaflet.getStyleFromiPortalStyle(r||{},e.geometry.type,e.properties.style)},opacity:i});n.options.featureLayerPopupEnable&&t.bindPopup(o.options.featureLayerPopup||o.defaultFeatureLayerPopup),n.addLayer(t)})}},getFeaturesBySQL:function(e,t,n,r,i,o){r=r||"SMID > 0";var a=new MZ({queryParameter:{name:n+"@"+t,attributeFilter:r},datasetNames:[t+":"+n],fromIndex:0,toIndex:1e5});e6(e).getFeaturesBySQL(a,o,i)},createThemeLayer:function(e){var t,n=this,r=e.themeSettings&&JSON.parse(e.themeSettings),i=r.type;if(e.themeSettings=r,t="HEAT"===i?this.createHeatLayer(e,r):"UNIQUE"===i?this.createUniqueLayer(e,r):"RANGE"===i?this.createRangeLayer(e,r):this.createBaseThemeLayer(e,r),t&&(this.addFeature2ThemeLayer(e,t),t.on("add",function(e){n.registerThemeEvent(e.target)})),r&&r.labelField){var o=this.createLabelLayer(e,r);o.on("add",function(e){n.registerThemeEvent(e.target)}),t.labelLayer=o}return t},createBaseThemeLayer:function(e,t){var n=e.style,r=e.opacity,i=t.vectorType,o=n.pointStyle;o.fill="LINE"!==i;var a={};a.radius=o.pointRadius,a.color=o.strokeColor,a.opacity=o.strokeOpacity,a.lineCap=o.strokeLineCap,a.weight=o.strokeWidth,a.fillColor=o.fillColor,a.fillOpacity=o.fillOpacity;var s=function(e,t){return D2.a.circleMarker(t,a)};return o.unicode&&(s=function(e,t){return new t6(t,o)}),D2.a.geoJSON({type:"GeometryCollection",geometries:[]},{pointToLayer:s,opacity:r})},createUniqueLayer:function(e,t){for(var n=e.title,r=t.field,i=[],o=t.settings,a=e.isVisible,s=e.opacity,l=t.vectorType,u=0;u<o.length;u++){var c={};c.value=o[u].value,c.style=o[u].style,i.push(c)}var f=new W4(n,{opacity:s,visibility:a});this.registerThemeEvent(f),f.style=e.style.pointStyle,f.style.fill="LINE"!==l,f.style.stroke=!0,f.themeField=r,f.styleGroups=i;var h=this;return f.on("click",function(e){if(e.target&&e.target.refDataID){var t=f.getFeatureById(e.target.refDataID);h.events.triggerEvent("uniquefeatureclicked",t,f)}}),f},createRangeLayer:function(e,t){var n=e.title,r=t.field,i=[],o=t.settings,a=e.isVisible,s=e.opacity,l=t.vectorType,u=e.style.pointStyle;u.fill="LINE"!==l;for(var c=0;c<o.length;c++){var f={};f.start=o[c].start,f.end=o[c].end,f.style=o[c].style,i.push(f)}var h=new Y4(n,{visibility:a,opacity:s});return this.registerThemeEvent(h),h.style=e.style.pointStyle,h.style.stroke=!0,h.themeField=r,h.styleGroups=i,h},createLabelLayer:function(e,t){var n,r=e.title,i=t.labelField,o=t.settings,a=e.isVisible;n=!o||o.length>0?{fillColor:"#ffffff"}:o[0].style;var s=D2.a.Util.extend(new l1,n);s.fontWeight="bold",s.fontSize="14px",s.labelRect=!0,s.strokeColor=s.fillColor,s.fontColor=t.labelColor,t.labelFont&&(s.fontFamily=t.labelFont);var l=new K4(r,{visibility:a,opacity:.7});return this.registerThemeEvent(l),l.style=s,l.themeField=i,l.styleGroups=[],l},createHeatLayer:function(e,t){for(var n,r=t.colors||["blue","cyan","lime","yellow","red"],i={},o=0,a=r.length,s=1;o<a;o++)i[s/a]=r[o],s++;var l=t.settings[0].radius;return"åç±³"!==t.heatUnit&&"km"!==t.heatUnit||(l=1e3*t.heatRadius),t.settings[0]&&t.settings[0].featureWeight&&(n=t.settings[0].featureWeight),D2.a.heatLayer([],{radius:l/2,minOpacity:e.opacity,gradient:i,blur:l/2,featureWeight:n})},addFeature2ThemeLayer:function(e,t){function n(n){if(t&&t.labelLayer instanceof K4&&i.addFeature2LabelLayer(t.labelLayer,n,e),D2.a.HeatLayer&&t instanceof D2.a.HeatLayer){for(var r=[],o=0,a=n.length;o<a;o++){var s=n[o].geometry;r[o]=D2.a.latLng(s.y,s.x),t.options.featureWeight&&(r[o]=[r[o].lat,r[o].lng,parseFloat(n[o].attributes[t.options.featureWeight])])}t.setLatLngs(r)}else t instanceof D2.a.GeoJSON?t.addData((new sX).toGeoJSON(n)):t.addFeatures(n)}var r=this;if("FEATURE_LAYER"===e.layerType&&"THEME"===e.identifier){var i=this,o=!!e.datasourceName,a=e.cartoCSS;if(a)var s=this.getCartoCSS2Obj(a).needTransform,l=this.getCartoCSS2Obj(a).isAddFile;var u,c,f,h=e.url,p=e.credential,y=e.themeSettings,d=y.filter;if(l){var m=JSON.parse(e.datasourceName),v=this.getSQLFromFilter(d);if(h)this.getFeatureFromFileAdded(e,function(r){var o,a,l=[];if("EXCEL"===r.type||"CSV"===r.type){o=i.parseFeatureFromEXCEL.apply(i,[r.content.rows,r.content.colTitles,!1,m]);for(var u=0,c=o.length;u<c;u++)a=N4()({attr:o[u].attributes},v),a.length>0&&l.push(o[u])}else{o=i.parseFeatureFromJson(r.content);for(var f=0,h=o.length;f<h;f++)a=N4()({attr:o[f].attributes},v),a.length>0&&l.push(o[f])}var p=e.prjCoordSys&&e.prjCoordSys.epsgCode;s?i.changeFeatureLayerEpsgCode(p,"4326",t,l,function(e){n(e)}):n(l)},function(){});else{for(var b=[],g=e.features,S=0,_=g.length;S<_;S++){var w=g[S];if(N4()({attr:w.attributes},v).length>0){var O=w.geometry.points[0].x,x=w.geometry.points[0].y,C=new GY(O,x),T=new $Y(C,w.attributes,w.style);b.push(T)}}n(b)}}else if(o){var P=e.datasourceName;u=e.subLayers&&JSON.parse(e.subLayers),c=u.length&&u.length>0?u[0]:u,f=c&&c.name,this.getFeaturesBySQL(e.url,P,f,y.filter,CQ.ISERVER,function(i){var o,a,l=i.result,u=[];if(l&&l.features){o=l.features;for(var c=0,f=o.length;c<f;c++)a=W$.fromJson(o[c]).toFeature(),u.push(a);var h=e.prjCoordSys&&e.prjCoordSys.epsgCode;s?r.changeFeatureLayerEpsgCode(h,"4326",t,u,function(e){n(e)}):n(o)}})}else{u=e.subLayers&&JSON.parse(e.subLayers),c=u.length&&u.length>0?u[0]:u,f=c&&c.name;var E=e.prjCoordSys&&e.prjCoordSys.epsgCode;this.getFeaturesBySQL(h,p,f,d,CQ.ISERVER,function(e){s?i.changeFeatureLayerEpsgCode(E,"4326",t,e,function(e){n(e)}):n(e)})}}},addFeature2LabelLayer:function(e,t,n){if(t){var r,i,o=n.themeSettings;o="string"==typeof o?JSON.parse(n.themeSettings):n.themeSettings;for(var a,s=o.labelField,l=e.style,u=[],c=n.styleString&&JSON.parse(n.styleString),f=0;f<t.length;f++){a=this.getLabelLngLat(o.vectorType,t[f]),this.setLabelOffset(o.vectorType,c,t[f],l),r=t[f];var h=r.attributes;i=new V4([a.lat,a.lng,h[s]],h),u.push(i)}e.style=l,e.addFeatures(u)}},setLabelOffset:function(e,t,n,r){if("POINT"===e){var i=t.pointStyle.pointRadius||0,o=t.pointStyle.strokeWidth||0,a=parseInt(t.pointStyle.fontSize)||0;r.labelXOffset=0,r.labelYOffset=t.pointStyle.unicode?20+a:25+(i+o)}},getLabelLngLat:function(e,t){var n={};if("POINT"===e){var r=t.geometry;n.lng=r.x,n.lat=r.y}else if("LINE"===e){var i,o,a=t.geometry.components;if(a[0].x)i=a.length,o=parseInt(i/2),n.lng=a[o].x,n.lat=a[o].y;else{var s=a[0].components;i=s.length,o=parseInt(i/2),n.lng=s[o].x,n.lat=s[o].y}}else{var l=t.geometry.getCentroid();n.lng=l.x,n.lat=l.y}return n},changeFeatureLayerEpsgCode:function(e,t,n,r,i){var o,a,s=this,l=[];if(e&&t){if(r&&r.length>0){for(o=0,a=r.length;o<a;o++){var u=r[o],c=u.geometry,f=c.getVertices();l=l.concat(f)}e="EPSG:"+e,t="EPSG:"+t,s.coordsTransform(e,t,l,function(e,t){return function(e){var n=e.length;for(o=0;o<n;o++){var r=l[o],a=e[o];r.x=a.x,r.y=a.y,r.calculateBounds()}for(o=0,n=t.length;o<n;o++){var u=t[o],c=u.geometry;c.components&&s.calculateComponents(c.components),c.calculateBounds()}i&&i.call(s,t)}}(0,r))}return!0}},calculateComponents:function(e){if(e)if(e.components)this.calculateComponents(e.components);else for(var t=0,n=e.length;t<n;t++){var r=e[t];r.components&&this.calculateComponents(r.components),r.calculateBounds()}},coordsTransform:function(e,t,n,r){var i,o=this.SERVER_TYPE_MAP[e],a=this.SERVER_TYPE_MAP[t];if(e!==t&&o&&a){var s=this.SERVER_TYPE_MAP["EPSG:3857"],l=this.SERVER_TYPE_MAP["EPSG:4326"];if(o!==s&&o!==l||a!==s&&a!==l){var u=o+"_"+a;this.postTransform(u,n,r)}else this.projTransform(e,t,n,r)}else{if(n&&void 0!==n.length){i=[];for(var c=0,f=n.length;c<f;c++){var h={x:n[c].x,y:n[c].y};i.push(h)}}else i={x:n.x,y:n.y};r&&r.call(this,i)}},projTransform:function(e,t,n,r){var i,o=this;if(W8){if(n&&void 0!==n.length){i=[];for(var a=0,s=n.length;a<s;a++){var l=W8(e,t,[n[a].x,n[a].y]);i.push({x:l[0],y:l[1]})}}else i=W8(e,t,[n.x,n.y]),i={x:i[0],y:i[1]};r&&(o.fire("coordconvertsuccess",{newCoor:i}),r.call(o,i))}},postTransform:function(e,t,n){var r=this,i=this,o=[];if(!e)return n.call(i,null);if(t&&void 0!==t.length)for(var a=0,s=t.length;a<s;a++)o.push({x:t[a].x,y:t[a].y});else o=[{x:t.x,y:t.y}];if(0===o.length)return n.call(i,null);var l={convertType:e,points:o},u=this.server+"/apps/viewer/coordconvert.json";l=JSON.stringify(l);var c={};!RY.isInTheSameDomain(u)&&this.proxy&&(c.proxy=this.proxy),bX.post(u,l,c).then(function(e){return e.json()}).then(function(e){var i=e;t||void 0===t.length||(i=i[0]),r.fire("coordconvertsuccess",{newCoors:i}),n.call(r,i)}).catch(function(e){r.actived&&r.fire("coordconvertfailed",{err:e})})},getSQLFromFilter:function(e){return e?" *  where ("+(e=e.replace(/=/g,"==").replace(/and|AND/g,"&&").replace(/or|OR/g,"||").replace(/>==/g,">=").replace(/<==/g,"<="))+")":" * where (1==1||1>=0)"},getAttributesObjFromTable:function(e,t){if(0!==e.length&&0!==t.length){for(var n=[],r=0;r<e.length;r++){for(var i={},o=0;o<t.length;o++)i[t[o]]=e[r][o];n.push(i)}return n}},parseFeatureFromEXCEL:function(e,t,n,r){for(var i=this.getAttributesObjFromTable(e,t),o=[],a=0,s=i.length;a<s;a++){var l=i[a][r.lon],u=i[a][r.lat];if(l&&u){l=parseFloat(l),u=parseFloat(u);var c,f=new GY(l,u);c=n?new G4(f,i[a],null):new $Y(f,i[a],null),o.push(c)}}return o},parseFeatureFromJson:function(e){var t=new sX,n=t.read(e);if(null==n){var r=JSON.parse(e.replace(/'/,'"'));(r.isAnalyseResult||"MapEditor"===r.type||"DataInsights"===r.type||"ISERVER"===r.type)&&(r=r.data.recordsets[0].features),t=new sX,n=t.read(r)}for(var i=0,o=n.length;i<o;i++)n[i].attributes=n[i].attributes.properties||n[i].attributes;return n},getFeatureFromFileAdded:function(e,t,n,r){var i=r?e.url+"?currentPage=1&&pageSize=9999999":e.url;bX.get(i).then(function(e){return e.json()}).then(function(e){t&&t(e)}).catch(function(e){return n&&n(e)})},getCartoCSS2Obj:function(e){var t,n=!1;return e.indexOf("}")>-1?(e=JSON.parse(e),n=e.needTransform,t=e.isAddFile):"needTransform"===e?(n=!0,t=!1):t="true"===e,{isAddFile:t,needTransform:n}},registerThemeEvent:function(e){var t=this;e.on("click",function(n){if(e.map){t.selectedFeature&&(t.fire("featureunselected",{feature:t.selectedFeature}),t.selectedFeature=null);var r;n.target&&n.target.refDataID&&(r=e.getFeatureById(n.target.refDataID)),r&&(t.selectedFeature=r,t.fire("featureselected",{feature:r}))}}),e.on("mousemove",function(n){if(e.map&&n.target&&n.target.refDataID){var r;n.target&&n.target.refDataID&&(r=e.getFeatureById(n.target.refDataID)),r&&t.fire("featuremousemove",{feature:r})}})},SERVER_TYPE_MAP:{"EPSG:4326":"WGS84","EPSG:3857":"MERCATOR","EPSG:900913":"MERCATOR","EPSG:102113":"MERCATOR","EPSG:910101":"GCJ02","EPSG:910111":"GCJ02MERCATOR","EPSG:910102":"BD","EPSG:910112":"BDMERCATOR"}}),i6=function(e,t){return new r6(e,t)};D2.a.supermap.webmap=i6;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var o6=o4.extend({options:{geometry:null,prjCoordSys:null,excludeField:null},initialize:function(e,t){t=t||{},D2.a.setOptions(this,t),t.projection&&(this.options.prjCoordSys=t.projection),o4.prototype.initialize.call(this,e,t),this.dataFlow=new OK(e,t),this.dataFlow.events.on({broadcastSocketConnected:this._defaultEvent,broadcastSocketError:this._defaultEvent,broadcastFailed:this._defaultEvent,broadcastSucceeded:this._defaultEvent,subscribeSocketConnected:this._defaultEvent,subscribeSocketError:this._defaultEvent,messageSucceeded:this._defaultEvent,setFilterParamSucceeded:this._defaultEvent,scope:this})},initBroadcast:function(){return this.dataFlow.initBroadcast(),this},broadcast:function(e){this.dataFlow.broadcast(e)},initSubscribe:function(){return this.dataFlow.initSubscribe(),this},setExcludeField:function(e){return this.dataFlow.setExcludeField(e),this.options.excludeField=e,this},setGeometry:function(e){return this.dataFlow.setGeometry(e),this.options.geometry=e,this},unSubscribe:function(){this.dataFlow.unSubscribe()},unBroadcast:function(){this.dataFlow.unBroadcast()},_defaultEvent:function(e){this.fire(e.eventType||e.type,e)}}),a6=function(e,t){return new o6(e,t)};D2.a.supermap.dataFlowService=a6;var s6=n(6),l6=s6.baiduMapLayer?s6.baiduMapLayer.__proto__:Function,u6=function(e){function t(e,n,r,i){var o;if(SW(this,t),o=OW(this,PW(t).call(this,e,r,i)),!l6)return OW(o);var a=xW(o);return i=i||{},a.init(i),a.argCheck(i),o.canvasLayer=n,o.clickEvent=o.clickEvent.bind(xW(o)),o.mousemoveEvent=o.mousemoveEvent.bind(xW(o)),o._moveStartEvent=o.moveStartEvent.bind(xW(o)),o._moveEndEvent=o.moveEndEvent.bind(xW(o)),o._zoomStartEvent=o.zoomStartEvent.bind(xW(o)),o.bindEvent(),o}return EW(t,e),wW(t,[{key:"clickEvent",value:function(e){var n=this.map.containerPointToLayerPoint([0,0]),r=this.devicePixelRatio=this.canvasLayer.devicePixelRatio=window.devicePixelRatio||1,i=e.layerPoint;CW(PW(t.prototype),"clickEvent",this).call(this,D2.a.point((i.x-n.x)/r,(i.y-n.y)/r),e)}},{key:"mousemoveEvent",value:function(e){var n=e.layerPoint;CW(PW(t.prototype),"mousemoveEvent",this).call(this,n,e)}},{key:"bindEvent",value:function(){var e=this.map;this.options.methods&&(this.options.methods.click&&e.on("click",this.clickEvent),this.options.methods.mousemove&&e.on("mousemove",this.mousemoveEvent)),this.map.on("movestart",this._moveStartEvent),this.map.on("moveend",this._moveEndEvent),this.map.on("zoomstart",this._zoomStartEvent)}},{key:"destroy",value:function(){this.unbindEvent(),this.clearData(),this.animator&&this.animator.stop(),this.animator=null,this.canvasLayer=null}},{key:"unbindEvent",value:function(){var e=this.map;this.options.methods&&(this.options.methods.click&&e.off("click",this.clickEvent),this.options.methods.mousemove&&e.off("mousemove",this.mousemoveEvent)),this.map.off("movestart",this._moveStartEvent),this.map.off("moveend",this._moveEndEvent),this.map.off("zoomstart",this._zoomStartEvent)}},{key:"getContext",value:function(){return this.canvasLayer.getCanvas().getContext(this.context)}},{key:"addData",value:function(e,t){var n=e;e&&e.get&&(n=e.get()),this.dataSet.add(n),this.update({options:t})}},{key:"update",value:function(e){var n=e||{},r=n.data;r&&r.get&&(r=r.get()),void 0!=r&&this.dataSet.set(r),CW(PW(t.prototype),"update",this).call(this,{options:n.options})}},{key:"getData",value:function(){return this.dataSet}},{key:"removeData",value:function(e){if(this.dataSet){var t=this.dataSet.get({filter:function(t){return null==e||"function"!=typeof e||!e(t)}});this.dataSet.set(t),this.update({options:null})}}},{key:"clearData",value:function(){this.dataSet&&this.dataSet.clear(),this.update({options:null})}},{key:"_canvasUpdate",value:function(e){if(this.canvasLayer){var t=this,n=t.options.animation,r=this.getContext(),i=this.map;if(t.isEnabledTime()){if(void 0===e)return void this.clear(r);"2d"===this.context&&(r.save(),r.globalCompositeOperation="destination-out",r.fillStyle="rgba(0, 0, 0, .1)",r.fillRect(0,0,r.canvas.width,r.canvas.height),r.restore())}else this.clear(r);if("2d"===this.context)for(var o in t.options)r[o]=t.options[o];else r.clear(r.COLOR_BUFFER_BIT);if(!(t.options.minZoom&&i.getZoom()<t.options.minZoom||t.options.maxZoom&&i.getZoom()>t.options.maxZoom)){var a=i.getBounds(),s=a.getEast()-a.getWest(),l=a.getNorth()-a.getSouth(),u=i.getSize(),c=s/u.x,f=l/u.y,h=this.canvasLayer.getTopLeft(),p=i.latLngToAccurateContainerPoint(h),y={transferCoordinate:function(e){var n;n="2d"===t.context?i.latLngToAccurateContainerPoint(D2.a.latLng(e[1],e[0])):{x:(e[0]-h.lng)/c,y:(h.lat-e[1])/f};var r={x:n.x-p.x,y:n.y-p.y};return[r.x,r.y]}};void 0!==e&&(y.filter=function(t){var r=n.trails||10;return e&&t.time>e-r&&t.time<e});var d=t.dataSet.get(y);this.processData(d),t.options._size=t.options.size;var m=i.latLngToContainerPoint(D2.a.latLng(0,0)),v={x:m.x-p.x,y:m.y-p.y};this.drawContext(r,d,t.options,v),t.options.updateCallback&&t.options.updateCallback(e)}}}},{key:"init",value:function(e){var t=this;t.options=e,this.initDataRange(e),this.context=t.options.context||"2d",t.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(t.options.zIndex),this.initAnimator()}},{key:"addAnimatorEvent",value:function(){}},{key:"moveStartEvent",value:function(){var e=this.options.animation;this.isEnabledTime()&&this.animator&&(this.steps.step=e.stepsRange.start,this._hide())}},{key:"moveEndEvent",value:function(){this.canvasLayer.draw(),this._show()}},{key:"zoomStartEvent",value:function(){this._hide()}},{key:"clear",value:function(e){e&&e.clearRect&&e.clearRect(0,0,e.canvas.width,e.canvas.height)}},{key:"_hide",value:function(){this.canvasLayer.canvas.style.display="none"}},{key:"_show",value:function(){this.canvasLayer.canvas.style.display="block"}},{key:"draw",value:function(){this.canvasLayer.draw()}}]),t}(l6),c6=D2.a.Layer.extend({options:{attributionPrefix:null,attribution:i4.MapV.attribution},initialize:function(e,t,n){n=n||{},this.dataSet=e||{},this.mapVOptions=t||{},this.render=this.render.bind(this),D2.a.Util.setOptions(this,n),this.options.attributionPrefix&&(this.options.attribution=this.options.attributionPrefix+this.options.attribution),this.canvas=this._createCanvas(),D2.a.stamp(this)},onAdd:function(e){this._map=e;var t=this.getPane(),n=this.container=D2.a.DomUtil.create("div","leaflet-layer leaflet-zoom-animated",t);n.appendChild(this.canvas);var r=e.getSize();n.style.width=r.x+"px",n.style.height=r.y+"px",this.renderer=new u6(e,this,this.dataSet,this.mapVOptions),this.draw(),this.fire("loaded")},onRemove:function(){D2.a.DomUtil.remove(this.container),this.renderer.destroy()},addData:function(e,t){this.renderer.addData(e,t)},update:function(e){this.renderer.update(e)},getData:function(){return this.renderer&&(this.dataSet=this.renderer.getData()),this.dataSet},removeData:function(e){this.renderer&&this.renderer.removeData(e)},clearData:function(){this.renderer.clearData()},draw:function(){return this._reset()},setZIndex:function(e){this.canvas.style.zIndex=e},render:function(){this.renderer._canvasUpdate()},getCanvas:function(){return this.canvas},getContainer:function(){return this.container},getTopLeft:function(){var e,t=this._map;if(t){e=t.getBounds().getNorthWest()}return e},_createCanvas:function(){var e=document.createElement("canvas");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=this.options.zIndex||600;var t="undefined"==typeof window?{}:window,n=this.devicePixelRatio=t.devicePixelRatio||1;return this.mapVOptions.context&&"2d"!==this.mapVOptions.context||e.getContext("2d").scale(n,n),e},_resize:function(){var e=this.canvas;if(e){var t=this._map,n=t.getSize();e.width=n.x,e.height=n.y,e.style.width=n.x+"px",e.style.height=n.y+"px";var r=t.getBounds(),i=t.latLngToLayerPoint(r.getNorthWest());D2.a.DomUtil.setPosition(e,i)}},_reset:function(){this._resize(),this._render()},redraw:function(){this._resize(),this._render()},_render:function(){this.render()}}),f6=function(e,t,n){return new c6(e,t,n)};D2.a.supermap.mapVLayer=f6;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var h6=c6.extend({initialize:function(e,t){t=t||{},D2.a.Util.setOptions(this,t),this.data=[],this.mapVOptions={draw:"simple"},c6.prototype.initialize.call(this,new window.mapv.DataSet([]),this.mapVOptions,t),this.idCache={},this.url=e,this._last=new Date,this._imageCache={}},onMessageSuccessed:function(e){var t=this,n=e.featureResult.properties.id,r=e.featureResult.geometry,i={geometry:e.featureResult.geometry};if("Point"===r.type&&this.options.pointToLayer){var o=this.options.pointToLayer(e.featureResult,D2.a.latLng(r.coordinates[1],r.coordinates[0]));if(o instanceof D2.a.Marker){this.mapVOptions.draw="icon";var a=o.options.icon,s=a._getIconUrl("icon"),l=a.options.iconSize?a.options.iconSize[0]:null,u=a.options.iconSize?a.options.iconSize[1]:null,c="".concat(s,"_").concat(l,"_").concat(u),f=this._imageCache[c];f||(f=a.createIcon(),this._imageCache[c]=f,f.onload=function(){t.update({data:t.data,options:t.mapVOptions})}),i.icon=f,(a.options.iconSize||f.style.height)&&(this.mapVOptions.offset={x:0,y:-(a.options.iconSize[1]||f.style.height)/2}),this.options.deg&&(i.deg=this.options.deg,"function"==typeof i.deg&&this.idCache[n]&&this.data[this.idCache[n]]&&(i.deg=i.deg(e.featureResult,D2.a.latLng(r.coordinates[1],r.coordinates[0]),this.data[this.idCache[n]])))}if(o instanceof D2.a.CircleMarker){this.mapVOptions.draw="simple";var h=this._toMapvStyle(o);for(var p in h)h.hasOwnProperty(p)&&(i[p]=h[p])}}else if(this.options.style){var y=this._toMapvStyle(this.options.style(e.featureResult));for(var d in y)y.hasOwnProperty(d)&&(i[d]=y[d])}void 0==this.idCache[n]?(this.data.push(i),this.idCache[n]=this.data.length-1):this.data[this.idCache[n]]=i,new Date-this._last>200&&(this._last=new Date,this.update({data:this.data,options:this.mapVOptions}))},_toMapvStyle:function(e){var t={draw:"simple"};return t.strokeStyle=e.color,t.lineWidth=e.width,t.globalAlpha=e.fillOpacity||e.opacity,t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.fillStyle=e.fillColor,t.size=e.radius,t}}),p6=D2.a.GeoJSON.extend({initialize:function(e,t){t=t||{},t.style&&!t.pointToLayer&&(t.pointToLayer=function(e,n){return D2.a.circleMarker(n,t.style())}),D2.a.Util.setOptions(this,t),this._layers={},D2.a.stamp(this),this.url=e,this.idCache={}},onMessageSuccessed:function(e){var t=e.featureResult,n=e.featureResult.properties[this.options.idField],r=null;void 0!==n&&this.idCache[n]?(r=this.getLayer(this.idCache[n]),this._updateLayerData(r,t)):(r=D2.a.GeoJSON.geometryToLayer(t,this.options),r.feature=D2.a.GeoJSON.asFeature(t),this.addLayer(r),void 0!==n&&(this.idCache[n]=this.getLayerId(r))),this.options.onEachFeature&&this.options.onEachFeature(t,r)},_updateLayerData:function(e,t){t.properties&&(e.feature.properties=t.properties);var n=[];switch(t.geometry.type){case"Point":n=D2.a.GeoJSON.coordsToLatLng(t.geometry.coordinates),e.setLatLng(n);break;case"LineString":n=D2.a.GeoJSON.coordsToLatLngs(t.geometry.coordinates,0),e.setLatLngs(n);break;case"MultiLineString":case"Polygon":n=D2.a.GeoJSON.coordsToLatLngs(t.geometry.coordinates,1),e.setLatLngs(n);break;case"MultiPolygon":n=D2.a.GeoJSON.coordsToLatLngs(t.geometry.coordinates,2),e.setLatLngs(n)}}}),y6=D2.a.LayerGroup.extend({options:{geometry:null,prjCoordSys:null,excludeField:null,idField:"id",render:"normal"},initialize:function(e,t){t=t||{},D2.a.Util.setOptions(this,t),this.url=e,this._layers={},this.dataService=new o6(this.url,{geometry:this.options.geometry,prjCoordSys:this.options.prjCoordSys,excludeField:this.options.excludeField})},onAdd:function(e){var t=this;this.dataService.initSubscribe(),this.dataService.on("subscribeSocketConnected",function(e){return t.fire("subscribesucceeded",e)}),this.dataService.on("subscribeSocketError",function(e){return t.fire("subscribefailed",e)}),this.dataService.on("messageSucceeded",function(e){return t._onMessageSuccessed(e)}),this.dataService.on("setFilterParamSucceeded",function(e){return t.fire("setfilterparamsucceeded",e)}),"mapv"===this.options.render?this.addLayer(new h6(this.url,this.options)):this.addLayer(new p6(this.url,this.options)),D2.a.LayerGroup.prototype.onAdd.call(this,e)},onRemove:function(e){D2.a.LayerGroup.prototype.onRemove.call(this,e),this.dataService&&this.dataService.unSubscribe()},setExcludeField:function(e){return this.dataService.setExcludeField(e),this.options.excludeField=e,this},setGeometry:function(e){return this.dataService.setGeometry(e),this.options.geometry=e,this},_onMessageSuccessed:function(e){var t=this;this.getLayers().map(function(n){return n.onMessageSuccessed&&(n.onMessageSuccessed(e),t.fire("dataupdated",{layer:n,data:e.featureResult})),n})}}),d6=function(e,t){return new y6(e,t)};D2.a.supermap.dataFlowLayer=d6;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var m6=D2.a.Layer.extend({includes:[],_echartsContainer:null,_map:null,_ec:null,_echartsOptions:null,options:{attribution:i4.ECharts.attribution,loadWhileAnimating:!1},initialize:function(e,t){D2.a.Util.setOptions(this,t),this.setOption(e)},setOption:function(e,t,n){var r=e.baseOption||e;r.LeafletMap=r.LeafletMap||{roam:!0},r.animation=!0===r.animation,this._echartsOptions=e,this._ec&&this._ec.setOption(e,t,n)},getEcharts:function(){return this._ec},_disableEchartsContainer:function(){this._echartsContainer.style.visibility="hidden"},_enableEchartsContainer:function(){this._echartsContainer.style.visibility="visible"},onAdd:function(e){this._map=e,this._initEchartsContainer(),this._ec=d2.a.init(this._echartsContainer),this._ec.leafletMap=e;var t=this;e.on("zoomstart",function(){t._disableEchartsContainer()}),!t.options.loadWhileAnimating&&e.on("movestart",function(){t._disableEchartsContainer()}),d2.a.registerAction({type:"LeafletMapLayout",event:"LeafletMapLayout",update:"updateLayout"},function(e){}),d2.a.registerCoordinateSystem("leaflet",MW),d2.a.extendComponentModel({type:"LeafletMap",getBMap:function(){return this.__LeafletMap},defaultOption:{roam:!1}}),d2.a.extendComponentView({type:"LeafletMap",render:function(e,n,r){function i(e){e&&e.clearRect&&e.clearRect(0,0,e.canvas.width,e.canvas.height)}function o(){a||(r.dispatchAction({type:"LeafletMapLayout"}),t._enableEchartsContainer())}var a=!0,s=n.scheduler.ecInstance.leafletMap,l=r.getZr().painter.getViewportRoot(),u=s.options.zoomAnimation&&D2.a.Browser.any3d;l.className=" leaflet-layer leaflet-zoom-"+(u?"animated":"hide")+" echarts-layer";var c=D2.a.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);l.style[c]="50% 50%";var f=e.coordinateSystem,h=r.getZr().painter.getLayers(),p=function(){if(!a){var n=t._map.containerPointToLayerPoint([0,0]),o=[n.x||0,n.y||0];if(l.style.left=o[0]+"px",l.style.top=o[1]+"px",!t.options.loadWhileAnimating){for(var s in h)h.hasOwnProperty(s)&&h[s]&&i(h[s].ctx);t._enableEchartsContainer()}f.setMapOffset(o),e.__mapOffset=o,r.dispatchAction({type:"LeafletMapLayout"})}};t._oldMoveHandler&&s.off(t.options.loadWhileAnimating?"move":"moveend",t._oldMoveHandler),t._oldZoomEndHandler&&s.off("zoomend",t._oldZoomEndHandler),s.on(t.options.loadWhileAnimating?"move":"moveend",p),s.on("zoomend",o),t._oldMoveHandler=p,t._oldZoomEndHandler=o,a=!1}}),this._ec.setOption(this._echartsOptions)},onRemove:function(){this._ec.clear(),this._ec.dispose(),delete this._ec,D2.a.DomUtil.remove(this._echartsContainer),this._oldZoomEndHandler&&(this._map.off("zoomend",this._oldZoomEndHandler),this._oldZoomEndHandler=null),this._oldMoveHandler&&(this._map.off(this.options.loadWhileAnimating?"move":"moveend",this._oldMoveHandler),this._oldMoveHandler=null),this._resizeHandler&&(this._map.off("resize",this._resizeHandler),this._resizeHandler=null),delete this._map},_initEchartsContainer:function(){function e(e){var t=e.newSize;r._echartsContainer.style.width=t.x+"px",r._echartsContainer.style.height=t.y+"px",r._ec.resize()}var t=this._map.getSize(),n=document.createElement("div");n.style.position="absolute",n.style.height=t.y+"px",n.style.width=t.x+"px",n.style.zIndex=10,this._echartsContainer=n,this.getPane().appendChild(this._echartsContainer);var r=this;this._map.on("resize",e),this._resizeHandler=e}});MW.prototype.dimensions=["lng","lat"],MW.prototype.setMapOffset=function(e){this._mapOffset=e},MW.prototype.getBMap=function(){return this._LeafletMap},MW.prototype.prepareCustoms=function(){function e(e,n){return n=n||[0,0],t.map([0,1],function(t){var r=n[t],i=e[t]/2,o=[],a=[];return o[t]=r-i,a[t]=r+i,o[1-t]=a[1-t]=n[1-t],Math.abs(this.dataToPoint(o)[t]-this.dataToPoint(a)[t])},this)}var t=d2.a.util,n=this.getViewRect();return{coordSys:{type:"leaflet",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:t.bind(this.dataToPoint,this),size:t.bind(e,this)}}},MW.prototype.dataToPoint=function(e){null===e[1]&&(e[1]=D2.a.CRS.EPSG3857.projection.MAX_LATITUDE);var t=this._LeafletMap.latLngToLayerPoint([e[1],e[0]]),n=this._mapOffset;return[t.x-n[0],t.y-n[1]]},MW.prototype.fixLat=function(e){return e>=90?89.99999999999999:e<=-90?-89.99999999999999:e},MW.prototype.pointToData=function(e){var t=this._mapOffset,n=this._LeafletMap.layerPointToLatLng([e[0]+t[0],e[1]+t[1]]);return[n.lng,n.lat]},MW.prototype.getViewRect=function(){var e=this._LeafletMap.getSize();return new d2.a.graphic.BoundingRect(0,0,e.x,e.y)},MW.prototype.getRoamTransform=function(){return d2.a.matrix.create()},MW.dimensions=MW.prototype.dimensions,MW.create=function(e){var t,n=e.scheduler.ecInstance.leafletMap;e.eachComponent("LeafletMap",function(e){t||(t=new MW(n)),e.coordinateSystem=t,e.coordinateSystem.setMapOffset(e.__mapOffset||[0,0])}),e.eachSeries(function(e){e.get("coordinateSystem")&&"leaflet"!==e.get("coordinateSystem")||(t||(t=new MW(n)),e.coordinateSystem=t,e.animation=!0===e.animation)})};var v6=function(e,t){return new m6(e,t)};D2.a.supermap.echartsLayer=v6;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var b6=function(){function e(){AW(this,e)}return jW(e,null,[{key:"supportWebGL",value:function(){return RW("webgl")}},{key:"supportWebGL2",value:function(){return RW("webgl2")}},{key:"supportCanvas",value:function(){return RW("2d")}}]),e}(),g6=D2.a.Class.extend({options:{radius:10,angele:60,spaceAngle:0,count:3,fill:!1,stroke:!0,color:"#3388ff",weight:1,lineCap:"round",lineJoin:"round",fillColor:"#66ccff",fillOpacity:.2,fillRule:"evenodd",opacity:1,strokeWidth:1},initialize:function(e){e=e||{},D2.a.Util.setOptions(this,e),this._canvas=document.createElement("canvas"),this._canvas.width=2*(this.options.radius+this.options.weight),this._canvas.height=2*(this.options.radius+this.options.weight),this._ctx=this._canvas.getContext("2d");var t=void 0===this.options.strokeWidth?1:this.options.strokeWidth;this.options.width=2*(this.options.radius+t)+1,this._initStyle()},getStyle:function(){return this._canvas},drawSector:function(e,t,n,r,i,o){i=i/180*Math.PI,o=o/180*Math.PI,e.moveTo(t,n),e.lineTo(t+r*Math.cos(i),n+r*Math.sin(i)),e.arc(t,n,r,i,o),e.lineTo(t,n)},_initStyle:function(){var e=0,t=this.options,n=t.angle;if(t.spaceAngle=360/t.count-t.angle,!(t.spaceAngle<0)){this._ctx.beginPath(),this.anchor=[t.width/2,t.width/2];for(var r=0;r<t.count;r++)this.drawSector(this._ctx,this.anchor[0],this.anchor[1],t.radius,e,n),e=n+t.spaceAngle,n=e+t.angle;this._fillStroke()}},_fillStroke:function(){var e=this.options;e.fill&&(this._ctx.globalAlpha=e.fillOpacity,this._ctx.fillStyle=e.fillColor||e.color,this._ctx.fill(e.fillRule||"evenodd")),e.stroke&&0!==e.weight&&(this._ctx.globalAlpha=e.opacity,this._ctx.lineWidth=e.weight,this._ctx.strokeStyle=e.color,this._ctx.lineCap=e.lineCap,this._ctx.lineJoin=e.lineJoin,this._ctx.stroke())}}),S6=function(e){return new g6(e)};D2.a.supermap.cloverStyle=S6;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var _6=D2.a.Class.extend({options:{stroke:!0,color:"#3388ff",weight:1,opacity:1,lineCap:"round",lineJoin:"round",fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",radius:3},initialize:function(e){e=e||{},D2.a.Util.setOptions(this,e),this._canvas=document.createElement("canvas"),this._canvas.width=2*(this.options.radius+this.options.weight),this._canvas.height=2*(this.options.radius+this.options.weight),this._ctx=this._canvas.getContext("2d"),this._initStyle()},getCanvas:function(){return this._canvas},getStyle:function(){return this._canvas},_initStyle:function(){this._ctx.beginPath(),this._ctx.arc(this._canvas.width/2,this._canvas.height/2,this.options.radius,0,2*Math.PI),this._fillStroke()},_fillStroke:function(){var e=this.options;e.fill&&(this._ctx.globalAlpha=e.fillOpacity,this._ctx.fillStyle=e.fillColor||e.color,this._ctx.fill(e.fillRule||"evenodd")),e.stroke&&0!==e.weight&&(this._ctx.globalAlpha=e.opacity,this._ctx.lineWidth=e.weight,this._ctx.strokeStyle=e.color,this._ctx.lineCap=e.lineCap,this._ctx.lineJoin=e.lineJoin,this._ctx.stroke())}}),w6=function(e){return new _6(e)};D2.a.supermap.circleStyle=w6;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var O6=D2.a.Class.extend({options:{img:null,origin:[0,0],anchor:null,size:null},initialize:function(e){e=e||{},D2.a.Util.setOptions(this,e),this._canvas=document.createElement("canvas"),this._canvas.width=2*(this.options.radius+this.options.weight),this._canvas.height=2*(this.options.radius+this.options.weight),this._ctx=this._canvas.getContext("2d")},getStyle:function(){return this.options}}),x6=function(e){return new O6(e)};D2.a.supermap.imageStyle=x6;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var C6=D2.a.Util.falseFn,T6=D2.a.Class.extend({initialize:function(e,t){this.layer=e,t=t||{},D2.a.Util.setOptions(this,t)},getRenderer:function(){return this.options.renderer},update:function(){this.getRenderer()._clear(),this.getRenderer()._draw()},_handleClick:function(e){var t=this,n=t.layer,r=n._map;if(n.options.onClick){this.layer._renderer._ctx.canvas.style.cursor="pointer";for(var i=n._getGraphicsInBounds(),o=0;o<i.length;o++){var a=void 0,s=void 0,l=void 0,u=r.latLngToLayerPoint(i[o].getLatLng()),c=i[o].getStyle();if(!c&&this.defaultStyle&&(c=this.defaultStyle),c.img){var f=c.anchor||[c.img.width/2,c.img.height/2];a=D2.a.point(u.x-f[0],u.y-f[1]),s=D2.a.point(a.x+c.img.width,a.y+c.img.height)}else a=D2.a.point(u.x-c.width/2,u.y-c.height/2),s=D2.a.point(u.x+c.width/2,u.y+c.height/2);if(l=D2.a.bounds(a,s),l.contains(r.latLngToLayerPoint(e.latlng)))return n.options.onClick.call(n,i[o],e)}}},_clearBuffer:C6});D2.a.Canvas.include({drawGraphics:function(e,t){var n=this;n._drawing&&e.forEach(function(e){var r=e.getStyle();!r&&t&&(r=t),r.img?n._drawImage.call(n,n._ctx,r,e.getLatLng()):n._drawCanvas.call(n,n._ctx,r,e.getLatLng())})},_drawCanvas:function(e,t,n){var r=t,i=this._map.latLngToLayerPoint(n),o=i.x-r.width/2,a=i.y-r.height/2,s=r.width,l=r.height;e.drawImage(r,o,a,s,l)},_drawImage:function(e,t,n){var r,i;if(t.size){var o=t.size;r=o[0],i=o[1]}else r=t.img.width,i=t.img.height;var a=this._coordinateToPoint(n),s=D2.a.point(a),l=D2.a.point(t.anchor||[r/2,i/2]);a=[s.x-l.x,s.y-l.y],e.drawImage(t.img,a[0],a[1],r,i)},_coordinateToPoint:function(e){if(!this._map)return e;var t=e;D2.a.Util.isArray(e)?t=D2.a.latLng(e[0],e[1]):e instanceof D2.a.LatLng&&(t=D2.a.latLng(e.lat,e.lng));var n=this._map.latLngToLayerPoint(t);return[n.x,n.y]}});/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var P6=D2.a.Util.falseFn,E6=function(){for(var e=document.createElement("div"),t=["transform","WebkitTransform","MozTransform","OTransform","msTransform"],n=0;n<t.length;n++){var r=t[n];if(void 0!==e.style[r])return r}return t[0]}(),k6=D2.a.Class.extend({initialize:function(e,t){this.layer=e;var n=t||{};D2.a.Util.setOptions(this,n),this.options.radius=this._pixelToMeter(this.options.radius),this._initContainer()},getRenderer:function(){return this},update:function(e){e&&e.length>-1&&(this._data=e),this._renderLayer.setChangeFlags({dataChanged:!0,propsChanged:!0,viewportChanged:!0,updateTriggersChanged:!0}),this._refreshData();var t=this._getLayerState();t.data=this._data||[],this._layerDefaultStyleCache=null,this._renderLayer.setNeedsRedraw(!0),this._renderLayer.setState(t)},drawGraphics:function(e){this._clearBuffer();var t=this.layer._map.getSize();this._container.width!==t.x&&(this._container.width=t.x),this._container.height!==t.y&&(this._container.height=t.y);var n=this.layer._map.getPanes().mapPane,r=n._leaflet_pos;this._container.style[E6]="translate("+-Math.round(r.x)+"px,"+-Math.round(r.y)+"px)",this._data=e||[],this._renderLayer||this._createInnerRender(),this._draw()},_initContainer:function(){this._container=this._createCanvas(this.options.width,this.options.height),this._layerContainer=this.options.container,this._wrapper=D2.a.DomUtil.create("div","deck-wrapper",this._layerContainer),this._wrapper.appendChild(this._container)},_createCanvas:function(e,t){var n=D2.a.DomUtil.create("canvas","graphicLayer  leaflet-layer leaflet-zoom-hide");return n.oncontextmenu=D2.a.Util.falseFn,n.width=e,n.height=t,n.style.width=e+"px",n.style.height=t+"px",n},_pixelToMeter:function(e){var t=this.layer._map.getBounds();return e*((t.getEast()-t.getWest())/this.layer._map.getSize().x*(6378137*Math.PI/180))},_createInnerRender:function(){var e=this,t=this._getLayerState(),n=t.color,r=t.radius,i=t.opacity,o=t.highlightColor,a=t.radiusScale,s=t.radiusMinPixels,l=t.radiusMaxPixels,u=t.strokeWidth,c=t.outline,f={id:"scatter-plot",data:e._data,pickable:Boolean(this.options.onClick)||Boolean(this.options.onHover),autoHighlight:!0,color:n,opacity:i,radius:r,radiusScale:a,highlightColor:o,radiusMinPixels:s,radiusMaxPixels:l,strokeWidth:u,outline:c,getPosition:function(e){if(!e)return[0,0,0];var t=e.getLatLng();return t&&[t.lng,t.lat,0]},getColor:function(t){var n=e._getLayerDefaultStyle(),r=t&&t.options;return r&&r.color||n.color},getRadius:function(t){var n=e._getLayerDefaultStyle(),r=t&&t.getStyle();return r&&r.radius||n.radius},updateTriggers:{getColor:[n],getRadius:[r]}},h=this;this.options.onClick&&(f.onClick=function(){h._container.style.cursor="pointer",h.options.onClick.apply(h,arguments)}),this.options.onHover&&(f.onHover=function(){h._container.style.cursor="pointer",h.options.onHover.apply(h,arguments)}),e._renderLayer=new window.DeckGL.ScatterplotLayer(f)},_getLayerDefaultStyle:function(){if(this._layerDefaultStyleCache)return this._layerDefaultStyleCache;var e=this.layer.options,t=e.color,n=e.opacity,r=e.radius,i=e.radiusScale,o=e.radiusMinPixels,a=e.radiusMaxPixels,s=e.strokeWidth,l=e.outline;return r=this._pixelToMeter(r),this._layerDefaultStyleCache={color:t,opacity:n,radius:r,radiusScale:i,radiusMinPixels:o,radiusMaxPixels:a,strokeWidth:s,outline:l},this._layerDefaultStyleCache},_getLayerState:function(){var e=this.layer.getState();return e.zoom=e.zoom-1,e},_draw:function(){var e=this._getLayerState();this._refreshData(),e.data=this._data||[];var t={};for(var n in e)t[n]=e[n];this._layerDefaultStyleCache=null,this._renderLayer.setNeedsRedraw(!0),t.layers=[this._renderLayer],t.canvas=this._container,t.onBeforeRender=this._onBeforeRender.bind(this),t.onAfterRender=this._onAfterRender.bind(this),this.deckGL?this.deckGL.setProps(t):this.deckGL=new window.DeckGL.experimental.DeckGLJS(t)},_clearBuffer:function(){if(this.deckGL){var e=this.deckGL.layerManager;e&&e.context.gl.clear(e.context.gl.COLOR_BUFFER_BIT)}return this},_refreshData:function(){var e=this._data||[],t=D2.a.Util.isArray(e)?[].concat(e):[e];this._renderLayer.props.data||(this._renderLayer.props.data=[]),this._renderLayer.props.data.length=0;for(var n=0;n<t.length;n++)this._renderLayer.props.data.push(t[n]);this._data=this._renderLayer.props.data},_handleClick:P6,_onBeforeRender:P6,_onAfterRender:P6,_removePath:function(){return this._wrapper.parentElement.removeChild(this._wrapper),this._container=null,this._wrapper=null,this},_initPath:P6,_addPath:P6}),M6=["canvas","webgl"],A6={color:[0,0,0,255],opacity:.8,radius:10,radiusScale:1,radiusMinPixels:0,radiusMaxPixels:Number.MAX_SAFE_INTEGER,strokeWidth:1,outline:!1},L6=D2.a.Path.extend({initialize:function(e,t){this.graphics=[].concat(e);var n=t||{};n.pane="overlayPane",D2.a.Util.setOptions(this,n),this.options.render=this.options.render||M6[0],b6.supportWebGL2()||(this.options.render=M6[0])},getEvents:function(){return{click:this._handleClick.bind(this),resize:this._resize.bind(this),moveend:this._moveEnd.bind(this)}},onAdd:function(e){this._map=e,this.defaultStyle=this._getDefaultStyle(this.options),this._renderer=this._createRenderer(),this._container=this._renderer._container,D2.a.Path.prototype.onAdd.call(this)},onRemove:function(){this._renderer._removePath(this)},setGraphics:function(e){this.graphics=this.graphics||[],this.graphics.length=0;var t=D2.a.Util.isArray(e)?[].concat(e):[e];this.graphics=[].concat(t),this.update()},addGraphics:function(e){this.graphics=this.graphics||[];var t=D2.a.Util.isArray(e)?[].concat(e):[e];this.graphics=this.graphics.concat(t),this.update()},getGraphicBy:function(e,t){var n=null;for(var r in this.graphics)if(this.graphics[r][e]===t){n=this.graphics[r];break}return n},getGraphicById:function(e){return this.getGraphicBy("id",e)},getGraphicsByAttribute:function(e,t){var n,r=[];for(var i in this.graphics)(n=this.graphics[i])&&n.attributes&&n.attributes[e]===t&&r.push(n);return r},removeGraphics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e||0===e.length||e===this.graphics)return this.graphics.length=0,void this.update();RY.isArray(e)||(e=[e]);for(var t=e.length-1;t>=0;t--){var n=e[t],r=RY.indexOf(this.graphics,n);-1!==r&&this.graphics.splice(r,1)}this.update()},setStyle:function(e){var t=this.options,n={color:t.color,radius:t.radius,opacity:t.opacity,highlightColor:t.highlightColor,radiusScale:t.radiusScale,radiusMinPixels:t.radiusMinPixels,radiusMaxPixels:t.radiusMaxPixels,strokeWidth:t.strokeWidth,outline:t.outline};this.options=D2.a.Util.extend(this.options,n,e),this.defaultStyle=this._getDefaultStyle(this.options),this.update()},update:function(){this._layerRenderer.update(this.graphics)},clear:function(){this.removeGraphics()},getRenderer:function(){return this._renderer},getState:function(){var e=this._map,t=e.getSize().x,n=e.getSize().y,r=e.getCenter(),i=r.lng,o=r.lat,a=e.getZoom(),s=e.getMaxZoom(),l={longitude:i,latitude:o,zoom:a,maxZoom:s,pitch:0,bearing:0},u={};for(var c in l)u[c]=l[c];u.width=t,u.height=n;var f=this.options;return u.color=f.color,u.radius=f.radius,u.opacity=f.opacity,u.highlightColor=f.highlightColor,u.radiusScale=f.radiusScale,u.radiusMinPixels=f.radiusMinPixels,u.radiusMaxPixels=f.radiusMaxPixels,u.strokeWidth=f.strokeWidth,u.outline=f.outline,u},_resize:function(){var e=this._map.getSize();this._container.width=e.x,this._container.height=e.y,this._container.style.width=e.x+"px",this._container.style.height=e.y+"px";var t=this._map.containerPointToLayerPoint([0,0]);D2.a.DomUtil.setPosition(this._container,t),this._update()},_moveEnd:function(){this._layerRenderer instanceof k6&&this._update()},_createRenderer:function(){var e,t=this._map,n=t.getSize().x,r=t.getSize().y;if(this.options.render===M6[0])e=new T6(this,{width:n,height:r,renderer:t.getRenderer(this)});else{var i=D2.a.Util.setOptions({},A6),o=D2.a.Util.setOptions({options:i},this.options);o=D2.a.Util.setOptions(this,o),o.container=t.getPane("overlayPane"),o.width=n,o.height=r,e=new k6(this,o)}return e.defaultStyle=this.defaultStyle,this._layerRenderer=e,this._layerRenderer.getRenderer()},_update:function(){this._map&&this._updatePath()},_updatePath:function(){var e=this._getGraphicsInBounds();this._renderer.drawGraphics(e,this.defaultStyle)},_project:function(){var e=this;e._getGraphicsInBounds().map(function(t){var n=e._map.latLngToLayerPoint(t.getLatLng()),r=e._clickTolerance(),i=[t._anchor+r,t._anchor+r];return t._pxBounds=new D2.a.Bounds(n.subtract(i),n.add(i)),t}),e._pxBounds=D2.a.bounds(D2.a.point(0,0),D2.a.point(this._container.width,this._container.height))},_getDefaultStyle:function(e){var t={};if(e.color){t.fill=!0;var n=this.toRGBA(e.color);t.color=n,t.fillColor=n}return e.opacity&&(t.opacity=e.opacity,t.fillOpacity=e.opacity),e.radius&&(t.radius=e.radius),e.strokeWidth&&(t.weight=e.strokeWidth),e.outline&&(t.stroke=e.outline),new _6(t).getStyle()},toRGBA:function(e){return"rgba(".concat(e[0],",").concat(e[1],",").concat(e[2],",").concat((e[3]||255)/255,")")},_getGraphicsInBounds:function(){var e=this,t=[],n=e._map.getBounds();return this.graphics.map(function(e){return n.contains(e.getLatLng())&&t.push(e),e}),t},_handleClick:function(e){this._layerRenderer._handleClick(e)},beforeAdd:D2.a.Util.falseFn,_containsPoint:D2.a.Util.falseFn}),j6=function(e,t){return new L6(e,t)};D2.a.supermap.graphicLayer=j6;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var R6=J4.extend({options:{isOverLay:!0},initialize:function(e,t,n){var r=[];r.push(e),r.push(n),J4.prototype.initialize.apply(this,r),this.chartsType=t,this.themeFields=n&&n.themeFields?n.themeFields:null,this.charts=n&&n.charts?n.charts:[],this.cache=n&&n.cache?n.cache:{},this.chartsSetting=n&&n.chartsSetting?n.chartsSetting:{}},setChartsType:function(e){this.chartsType=e,this.redraw()},addFeatures:function(e){var t=this;t.fire("beforefeaturesadded",{features:e}),this.features=this.toiClientFeature(e),t.renderer&&(t._map?t.redrawThematicFeatures(t._map.getBounds()):t.redrawThematicFeatures())},redrawThematicFeatures:function(e){var t=this;t.renderer.clearAll();var n=t.features;if(this.options.alwaysMapCRS&&e&&e instanceof D2.a.LatLngBounds){var r=this._map.options.crs;e=D2.a.bounds(r.project(e.getSouthWest()),r.project(e.getNorthEast()))}e=h4.toSuperMapBounds(e);for(var i=0,o=n.length;i<o;i++){var a=n[i],s=a.geometry.getBounds();if(!e||e.intersectsBounds(s)){var l=t.cache,u=a.id;if(!l[u]){l[u]=u;var c=t.createThematicFeature(a),f=t.overlayWeightField&&a.attributes[t.overlayWeightField]&&!isNaN(a.attributes[t.overlayWeightField]);c&&f&&(c.__overlayWeight=a.attributes[t.overlayWeightField]),c&&t.charts.push(c)}}}t.drawCharts()},createThematicFeature:function(e){var t,n=this;return z1[n.chartsType]&&n.themeFields&&n.chartsSetting&&(t=new z1[n.chartsType](e,n,n.themeFields,n.chartsSetting)),!!t&&(t.assembleShapes(),t)},drawCharts:function(){var e=this;e.renderer&&(e.overlayWeightField&&e._sortChart(),e.options&&!e.options.isOverLay?e._addOverlayShape():e._addNoOverlayShape(),e.renderer.render())},getShapesByFeatureID:function(e){var t=this,n=[],r=t.renderer.getAllShapes();if(!e)return r;for(var i=0,o=r.length;i<o;i++){var a=r[i];a.refDataID&&e===a.refDataID&&n.push(a)}return n},isQuadrilateralOverLap:function(e,t){var n=this,r=e.length,i=t.length;if(5!==r||5!==i)return null;for(var o=!1,a=0;a<r;a++)if(n.isPointInPoly(e[a],t)){o=!0;break}for(var s=0;s<i;s++)if(n.isPointInPoly(t[s],e)){o=!0;break}for(var l=0;l<r-1&&!o;l++)for(var u=0;u<i-1;u++){var c=RY.lineIntersection(e[l],e[l+1],t[u],t[u+1]);if("SuperMap.Geometry.Point"===c.CLASS_NAME){o=!0;break}}return o},isPointInPoly:function(e,t){for(var n=!1,r=-1,i=t.length,o=i-1;++r<i;o=r)(t[r].y<=e.y&&e.y<t[o].y||t[o].y<=e.y&&e.y<t[r].y)&&e.x<(t[o].x-t[r].x)*(e.y-t[r].y)/(t[o].y-t[r].y)+t[r].x&&(n=!n);return n},isChartInMap:function(e,t){for(var n=e,r=!1,i=0,o=t.length;i<o;i++){var a=t[i];if(a.x>=n.left&&a.x<=n.right&&a.y>=n.top&&a.y<=n.bottom){r=!0;break}}return r},clearCache:function(){this.cache={},this.charts=[]},removeFeatures:function(e){var t=this;t.clearCache(),J4.prototype.removeFeatures.apply(t,arguments)},removeAllFeatures:function(){var e=this;e.clearCache(),J4.prototype.removeAllFeatures.apply(e,arguments)},redraw:function(){var e=this;return e.clearCache(),J4.prototype.redraw.apply(e,arguments)},clear:function(){var e=this;e.renderer&&(e.renderer.clearAll(),e.renderer.refresh()),e.removeAllFeatures(),e.clearCache()},getWeightFieldValue:function(e,t,n){if((void 0===n||isNaN(n))&&(n=0),!e.attributes)return n;var r=e.attributes[t];return(void 0===r||isNaN(r))&&(r=n),r},_sortChart:function(){var e=this;e.charts&&e.charts.sort(function(e,t){return void 0===e.__overlayWeight&&void 0===t.__overlayWeight?0:void 0!==e.__overlayWeight&&void 0===t.__overlayWeight?-1:void 0===e.__overlayWeight&&void 0!==t.__overlayWeight?1:void 0!==e.__overlayWeight&&void 0!==t.__overlayWeight?parseFloat(e.__overlayWeight)<parseFloat(t.__overlayWeight)?1:-1:0})},_addOverlayShape:function(){for(var e=this,t=e.charts,n=0,r=t.length;n<r;n++)for(var i=t[n],o=i.resetLocation(),a=i.shapes,s=0,l=a.length;s<l;s++)a[s].refOriginalPosition=o,e.renderer.addShape(a[s])},_addNoOverlayShape:function(){var e=this,t=e._map.getBounds(),n=this._map.options.crs;this.options.alwaysMapCRS&&(t=D2.a.bounds(n.project(t.getSouthWest()),n.project(t.getNorthEast()))),t=h4.toSuperMapBounds(t);for(var r=e.charts,i=[],o=e.getLocalXY(new NY(t.left,t.top)),a=e.getLocalXY(new NY(t.right,t.bottom)),s=new IY(o[0],a[1],a[0],o[1]),l=0,u=r.length;l<u;l++){var c=r[l],f=c.resetLocation(),h=c.chartBounds,p=[{x:h.left,y:h.top},{x:h.left,y:h.bottom},{x:h.right,y:h.bottom},{x:h.right,y:h.top},{x:h.left,y:h.top}];if(!s||e.isChartInMap(s,p)){for(var y=!1,d=0;d<i.length;d++)if(e.isQuadrilateralOverLap(p,i[d])){y=!0;break}if(!y){i.push(p);for(var m=c.shapes,v=0,b=m.length;v<b;v++)m[v].refOriginalPosition=f,e.renderer.addShape(m[v])}}}}}),N6=function(e,t,n){return new R6(e,t,n)};D2.a.supermap.graphThemeLayer=N6;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var I6=R6.extend({initialize:function(e,t,n){R6.prototype.initialize.apply(this,arguments),this.symbolType=t,this.symbolSetting={}},setSymbolType:function(e){this.symbolType=e,this.redraw()},createThematicFeature:function(e){var t,n=this;return z1[n.symbolType]&&n.themeField&&n.symbolSetting&&(t=new z1[n.symbolType](e,n,[n.themeField],n.symbolSetting)),!!t&&(t.assembleShapes(),t)}}),D6=function(e,t,n){return new I6(e,t,n)};D2.a.supermap.rankSymbolThemeLayer=D6;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var F6=D2.a.SVG.extend({initialize:function(e,t,n){D2.a.SVG.prototype.initialize.call(this,n),this._tileCoord=e,this._size=t,this._initContainer(),this._container.setAttribute("width",this._size.x),this._container.setAttribute("height",this._size.y),this._container.setAttribute("viewBox",[0,0,this._size.x,this._size.y].join(" ")),this._layers={}},getCoord:function(){return this._tileCoord},getContainer:function(){return this._container},onAdd:D2.a.Util.falseFn,addTo:function(e){if(this._map=e,this.options.interactive)for(var t in this._layers){var n=this._layers[t];n._path.style.pointerEvents="auto",this._map._targets[D2.a.stamp(n._path)]=n}},removeFrom:function(e){var t=e||this._map;if(this.options.interactive)for(var n in this._layers){var r=this._layers[n];delete t._targets[D2.a.stamp(r._path)]}delete this._map},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup||(this._rootGroup=this._container),this._rootGroup.appendChild(e._path),this._layers[D2.a.stamp(e)]=e},_updateIcon:function(e){var t=e._path=D2.a.SVG.create("image"),n=e.options,r=n.iconUrl;if(n.iconSize){var i=D2.a.point(n.iconSize),o=i&&i.divideBy(2,!0),a=e._point.subtract(o);t.setAttribute("x",a.x),t.setAttribute("y",a.y),t.setAttribute("width",i.x+"px"),t.setAttribute("height",i.y+"px")}else{var s=new Image;s.src=r,D2.a.DomEvent.on(s,"load",function(){var n=D2.a.point([s.width,s.height]),r=n&&n.divideBy(2,!0),i=e._point.subtract(r);t.setAttribute("x",i.x),t.setAttribute("y",i.y),t.setAttribute("width",n.x+"px"),t.setAttribute("height",n.y+"px")})}t.setAttribute("href",r)}}),B6=D2.a.Canvas.extend({initialize:function(e,t,n){D2.a.Canvas.prototype.initialize.call(this,n),this._tileCoord=e,this._size=t,this._initContainer(),this._container.setAttribute("width",this._size.x),this._container.setAttribute("height",this._size.y),this._layers={},this._drawnLayers={},this._drawing=!0,n.interactive&&(this._container.style.pointerEvents="auto")},getCoord:function(){return this._tileCoord},getContainer:function(){return this._container},getOffset:function(){return this._tileCoord.scaleBy(this._size).subtract(this._map.getPixelOrigin())},onAdd:D2.a.Util.falseFn,addTo:function(e){this._map=e},removeFrom:function(e){delete this._map},_updateDashArray:function(e){var t=e.options.dashArray;if(t&&"string"==typeof t){var n,r=t.split(","),i=[];for(n=0;n<r.length;n++)i.push(Number(r[n]));e.options._dashArray=i}else e.options._dashArray=t},_onClick:function(e){var t,n,r=this._map.mouseEventToLayerPoint(e).subtract(this.getOffset());for(var i in this._layers)t=this._layers[i],t.options.interactive&&t._containsPoint(r)&&!this._map._draggableMoved(t)&&(n=t);n&&(D2.a.DomEvent.stop(e),this._fireEvent([n],e))},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e).subtract(this.getOffset());this._handleMouseHover(e,t)}},_updateIcon:function(e){if(this._drawing){var t=e.options,n=this._ctx,r=e._getImage();if(t.iconSize&&r.complete){var i=D2.a.point(t.iconSize),o=i&&i.divideBy(2,!0),a=e._point.subtract(o);n.drawImage(r,a.x,a.y,i.x,i.y)}else D2.a.DomEvent.on(r,"load",function(){var t=D2.a.point([r.width,r.height]),i=t&&t.divideBy(2,!0),o=e._point.subtract(i);n.drawImage(r,o.x,o.y,t.x,t.y)});this._drawnLayers[e._leaflet_id]=e}}}),U6={LABEL:"LABEL",TEXT:"TEXT",POINT:"POINT",LINE:"LINE",REGION:"REGION"},G6=D2.a.Class.extend({initialize:function(e){this.properties=e.properties,this.type=e.type,this.layerName=e.layerName},render:function(e,t){this._renderer=e,this._container=e._container,this.options=t,e._initPath(this),e._updateStyle(this);var n=this.getElement();n&&this.layerName&&D2.a.DomUtil.addClass(n,this.layerName)},updateStyle:function(e,t){this.options=t,e._updateStyle(this)},getElement:function(){return this._path||this._renderer._container},_getPixelBounds:function(){for(var e=this._parts,t=D2.a.bounds([]),n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++)t.extend(r[i]);var o=this._clickTolerance(),a=new D2.a.Point(o,o);return t.min._subtract(a),t.max._add(a),t},_clickTolerance:D2.a.Path.prototype._clickTolerance}),z6=D2.a.Path.extend({includes:G6.prototype,options:{color:"white",fillColor:"black",fill:!0,fillOpacity:1,opacity:.6,weight:1,rotation:0,stroke:!0,fontFamily:"Arial Unicode MS Regular",fontSize:14,fontWeight:"normal",textAlign:"center",offsetX:1,offsetY:1},initialize:function(e,t){G6.prototype.initialize.call(this,e),this._makeFeatureParts(e,t),this.options.offsetX=t||1,this.options.offsetY=t||1},render:function(e,t){if(this.properties.texts&&(this._text=this.properties.texts[0]),!this._text){var n=this.properties.attributes;this._text=n&&this.properties.textField?n[this.properties.textField]||"":""}var r=this.options;this._pxBounds=D2.a.bounds(this._point,this._point),G6.prototype.render.apply(this,[e,t]),this.options=D2.a.Util.extend(r,t),this._updatePath()},_makeFeatureParts:function(e,t){t=t||{x:1,y:1};var n=e.geometry[0];"object"===NW(n[0])&&"x"in n[0]?(this._point=D2.a.point(n[0]).scaleBy(t),this._empty=D2.a.Util.falseFn):(this._point=D2.a.point(n).scaleBy(t),this._empty=D2.a.Util.falseFn)},makeInteractive:function(){this._updateBounds()},updateStyle:function(e,t){return this._updateBounds(),G6.prototype.updateStyle.call(this,e,t)},_updateBounds:function(){var e=this._renderer._getTextWidth(this),t=[e/2,e/2];this._pxBounds=D2.a.bounds(this._point.subtract(t),this._point.add(t))},_updatePath:function(){this._renderer._updateText(this)},_containsPoint:function(e){return!1}});B6.include({_getTextWidth:function(e){return this._ctx.measureText(e._text).width},_updateText:function(e){if(this._drawing&&!e._empty()){var t=this.getContainer(),n=this._map.getSize();t.width=n.x,t.height=n.y,t.style.width=n.x+"px",t.style.height=n.y+"px";var r=this._ctx,i=e.options,o=i.offsetX||1,a=i.offsetY||1,s=e._point.subtract(D2.a.point(o,a));i.fill&&(this._drawnLayers[e._leaflet_id]=e,r.fillRect(0,0,n.x,n.y),r.font=[i.fontWeight?i.fontWeight:"normal",i.fontSize?i.fontSize:"14px",i.fontFamily?i.fontFamily:"Arial Unicode MS Regular,Microsoft Yahei"].join(" "),r.textAlign=i.textAlign,r.lineWidth=i.weight,r.fillStyle=i.fillColor,r.fillText(e._text,s.x,s.y),r.strokeStyle=i.color,r.strokeText(e._text,s.x,s.y),r.rotate(i.rotation))}}}),F6.include({_getTextWidth:function(e){return e._path.getComputedTextLength()||0},_initPath:function(e){var t;z6&&e instanceof z6?(t=e._path=D2.a.SVG.create("text"),t.textContent=e._text):t=e._path=D2.a.SVG.create("path"),e.options.className&&D2.a.DomUtil.addClass(t,e.options.className),e.options.interactive&&D2.a.DomUtil.addClass(t,"leaflet-interactive"),this._updateStyle(e),this._layers[D2.a.stamp(e)]=e},_updateText:function(e){var t=e._path,n=e.options,r=n.offsetX||1,i=n.offsetY||1,o=e._point.subtract(D2.a.point(r,i));t.setAttribute("x",o.x),t.setAttribute("y",o.y),n.rotation=n.rotation||0,t.setAttribute("transform","rotate("+n.rotation/Math.PI*180+" "+o.x+" "+o.y+")"),t.setAttribute("text-anchor","center"===n.textAlign?"middle":n.textAlign),t.style.fontSize=n.fontSize,t.style.fontFamily=n.fontFamily,t.style.fontWeight=n.fontWeight||"normal",t.style.glyphOrientationVertical=n.rotation||"",n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-linejoin","round"),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight>1?n.weight/10:n.weight)):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity)):t.setAttribute("fill","none")}});/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var V6=D2.a.CircleMarker.extend({includes:G6.prototype,statics:{iconCache:{}},initialize:function(e,t){G6.prototype.initialize.call(this,e),this._makeFeatureParts(e,t)},getLatLng:function(){return this._renderer._map.layerPointToLatLng(this._point)},render:function(e,t){G6.prototype.render.call(this,e,t),this._radius=t.radius||D2.a.CircleMarker.prototype.options.radius,this._updatePath()},_makeFeatureParts:function(e,t){t=t||{x:1,y:1};var n=e.geometry[0];"object"===IW(n[0])&&"x"in n[0]?(this._point=D2.a.point(n[0]).scaleBy(t),this._empty=D2.a.Util.falseFn):(this._point=D2.a.point(n).scaleBy(t),this._empty=D2.a.Util.falseFn)},makeInteractive:function(){this._updateBounds()},updateStyle:function(e,t){return this._radius=t.radius||this._radius,this._updateBounds(),G6.prototype.updateStyle.call(this,e,t)},_updateBounds:function(){if(this.options.iconUrl&&this.options.iconSize){var e=D2.a.point(this.options.iconSize),t=e&&e.divideBy(2,!0),n=this._point.subtract(t);this._pxBounds=new D2.a.Bounds(n,n.add(e))}else D2.a.CircleMarker.prototype._updateBounds.call(this)},_updatePath:function(){this.options.iconUrl?this._renderer._updateIcon(this):D2.a.CircleMarker.prototype._updatePath.call(this)},_getImage:function(){if(!this.options.iconUrl)return null;var e=this.options.iconUrl,t=V6.iconCache[e];if(!t){var n=this.options.iconSize||[50,50];t=V6.iconCache[e]=this._createIcon(e,n)}return t},_createIcon:function(e,t){var n=e;if(!n)throw new Error("iconUrl not set in Icon options (see the docs).");var r=document.createElement("img");r.src=n,r.className="leaflet-marker-icon "+(this.layerName||"");var i=t;if("number"==typeof i&&(i=[i,i]),i){var o=D2.a.point(i),a=D2.a.point(o&&o.divideBy(2,!0));o&&(r.style.width=o.x+"px",r.style.height=o.y+"px"),a&&(r.style.marginLeft=-a.x+"px",r.style.marginTop=-a.y+"px")}return r.onload=function(){i||(r.style.width=this.width+"px",r.style.height=this.height+"px")},r},_containsPoint:function(e){return this.options.iconUrl?this._pxBounds.contains(e):D2.a.CircleMarker.prototype._containsPoint.call(this,e)}}),H6={_makeFeatureParts:function(e,t){t=t||{x:1,y:1};var n,r=e.geometry;this._parts=[];for(var i=0;i<r.length;i++){for(var o=r[i],a=[],s=0;s<o.length;s++)n=o[s],a.push(D2.a.point(n).scaleBy(t));this._parts.push(a)}},makeInteractive:function(){this._pxBounds=this._getPixelBounds()}},J6=D2.a.Polyline.extend({includes:[G6.prototype,H6],initialize:function(e,t){G6.prototype.initialize.call(this,e),this._makeFeatureParts(e,t)},render:function(e,t){t.fill=!1,G6.prototype.render.call(this,e,t),this._updatePath()},updateStyle:function(e,t){t.fill=!1,G6.prototype.updateStyle.call(this,e,t)}}),q6=D2.a.Polygon.extend({includes:[G6.prototype,H6],initialize:function(e,t){G6.prototype.initialize.call(this,e),this._makeFeatureParts(e,t)},render:function(e,t){G6.prototype.render.call(this,e,t),this._updatePath()}}),W6=n(14),Q6=n.n(W6),Y6=n(15),X6=D2.a.Class.extend({initialize:function(e){this.url=e},getTile:function(){var e=this;return bX.get(e.url,null,{timeout:1e4}).then(function(e){return e.ok?e.blob().then(function(e){var t=new FileReader;return new Promise(function(n){t.addEventListener("loadend",function(){var e=new Q6.a(t.result);return n(new Y6.VectorTile(e))}),t.readAsArrayBuffer(e)})}):{layers:[]}}).then(function(t){return e._processVectorTileSpec(t)})},_processVectorTileSpec:function(e){var t=[];for(var n in e.layers){for(var r=[],i=0;i<e.layers[n].length;i++){var o=e.layers[n].feature(i);switch(o.geometry=o.loadGeometry(),o.layerName=n,o.properties={attributes:D2.a.Util.extend({},o.properties),id:o.id},o.type){case 1:o.type=U6.POINT;break;case 2:o.type=U6.LINE;break;case 3:o.type=U6.REGION}r.push(o)}var a={};a.features=r,a.layerName=n,a.extent=e.layers[n].extent,t.push(a)}return t}}),K6=D2.a.Class.extend({initialize:function(e){this.url=e},getTile:function(){var e=this;return bX.get(e.url,null,{timeout:1e4}).then(function(e){return e.json()}).then(function(t){return e._processRecordSets(t,e)})},_processRecordSets:function(e,t){var n=e.recordsets;if(!(n=t._convertToGeoJSON(n)))return null;for(var r=0;r<n.length;r++){for(var i=n[r],o=0;o<i.features.length;o++){var a=i.features[o];a=t._convertToVectorLayerFeature(a,t),a.layerName=i.layerName,i.features[o]=a}i.extent=256,delete i.fieldTypes,delete i.fields}return n},_convertToVectorLayerFeature:function(e,t){if(e.geometry){var n,r,i,o,a={},s=e.geometry,l=s.type,u=s.coordinates,c=e.properties,f=c.id;if("Point"===l)a=c&&c.texts?t._createFeature(f,U6.TEXT,[u],c):t._createFeature(f,U6.POINT,[u],c);else if("MultiPoint"===l)a=t._createFeature(f,U6.POINT,u,c);else if("LineString"===l)a=t._createFeature(f,U6.LINE,[u],c);else if("MultiLineString"===l||"Polygon"===l){for(i=[],n=0;n<u.length;n++)o=u[n],"Polygon"===l&&(o.outer=0===n),i.push(o);var h="Polygon"===l?U6.REGION:U6.LINE;a=t._createFeature(f,h,i,c)}else{if("MultiPolygon"!==l)throw new Error("Illegal GeoJSON object");for(i=[],n=0;n<u.length;n++)for(r=0;r<u[n].length;r++)o=u[n][r],o.outer=0===r,i.push(o);a=t._createFeature(f,U6.REGION,i,c)}return a}},_convertToGeoJSON:function(e){if(e){for(var t=0;t<e.length;t++){for(var n=e[t],r=0;r<n.features.length;r++){for(var i=n.features[r],o=[],a=0,s=0;s<i.geometry.parts.length;s++){for(var l=2*i.geometry.parts[s],u=0,c=a;u<l;u+=2,c+=2){var f=i.geometry.points[c],h=i.geometry.points[c+1];o.push({x:f,y:h})}a+=l}i.geometry.points=o}n.features=y4(n.features).features}return e}},_createFeature:function(e,t,n,r){return{id:e,type:t,geometry:n,properties:r}}}),Z6={JSON:"JSON",MVT:"MVT",PBF:"PBF"};D2.a.supermap.VectorTileFormat=Z6;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var $6=D2.a.Class.extend({initialize:function(e,t){this.layer=e.layer,this.tileSize=e.layer.getTileSize(),this.format=e.format,this.coords=e.coords,this.renderer=e.renderer,this.done=t,this.layer._textVectorTiles={}},renderTile:function(){var e,t=this,n=t.layer,r=t.coords,i=n._getTileUrl(r),o=[Z6.MVT,Z6.PBF];e=o.indexOf(t.format.toUpperCase())>-1?new X6(i):new K6(i),e.getTile().then(function(e){t.render(e,r)})},render:function(e,t){if(e){for(var n=this,r=n.renderer,i=n.layer,o=0;o<e.length;o++){var a=e[o],s=a.layerName;i._dataLayerNames[s]=!0;for(var l=n.tileSize.divideBy(a.extent),u=i.getLayerStyleInfo(a.layerName),c=0;c<a.features.length;c++){var f=a.features[c];if(f){u&&u.type===U6.LABEL&&f.type===U6.POINT&&f.properties.attributes&&(f.type=U6.TEXT);var h=n._getStyleOptions(t,f,s,n);if(h.length){var p=n._createFeatureLayer(f,l);if(p){var y={scope:n,coords:t,renderer:r};if(!n._extractTextLayer(f,p,h,y)){for(var d=0;d<h.length;d++){var m=n._validateStyle(h[d],f.type);p.render(r,m),r._addPath(p)}i.options.interactive&&p.makeInteractive();var v=i._getFeatureKey(f.id,s);r._features[v]={layerName:s,feature:p}}}}}}}i._map&&r.addTo(i._map),D2.a.Util.requestAnimFrame(n.done.bind(t,null,n.layer._vectorTiles[n.layer._tileCoordsToKey(t)]))}},_extractTextLayer:function(e,t,n,r){if(e.type!==U6.TEXT)return!1;var i=r.scope,o=r.coords,a=i.layer,s=a._tileCoordsToKey(o),l=e.id,u=e.layerName,c=a._textVectorTiles[s];return c||(c={layers:{},coords:o,renderer:r.renderer}),c.layers[l]={layer:t,style:n,layerName:u},a._textVectorTiles[s]=c,!0},_getStyleOptions:function(e,t,n,r){var i=r,o=i.layer,a=o.getVectorTileLayerStyle(e,t)||i._defaultStyle(t.type),s=t.id,l=o._getFeatureKey(s,n),u=o._overriddenStyles[l];return a=u||a,a=a instanceof Function?a(t.properties,e.z):a,a=a instanceof Array?a:[a]},_createFeatureLayer:function(e,t){var n;switch(e.type){case U6.POINT:n=new V6(e,t);break;case U6.LINE:n=new J6(e,t);break;case U6.REGION:n=new q6(e,t);break;case U6.TEXT:n=new z6(e,t)}var r=this.layer;return n&&r.options.interactive&&n.addEventParent(r),n},_validateStyle:function(e,t){switch(D2.a.Path.prototype.options.weight=1,D2.a.Path.prototype.options.fillOpacity=1,t){case U6.POINT:return D2.a.extend({},D2.a.CircleMarker.prototype.options,e);case U6.LINE:return D2.a.extend({},D2.a.Polyline.prototype.options,e);case U6.REGION:return D2.a.extend({},D2.a.Polygon.prototype.options,e);case U6.TEXT:return D2.a.extend({},z6.prototype.options,e)}},_defaultStyle:function(e){var t=D2.a.Path.prototype.options;switch(t.weight=1,t.fillOpacity=1,t.radius=3,e){case U6.POINT:return D2.a.extend({},t,D2.a.CircleMarker.prototype.options);case U6.LINE:return D2.a.extend({},t,D2.a.Polyline.prototype.options);case U6.REGION:return D2.a.extend({},t,D2.a.Polygon.prototype.options);case U6.TEXT:return D2.a.extend({},t,z6.prototype.options)}}}),e9=D2.a.GridLayer.extend({options:{vectorTileLayerStyles:null,renderer:"SVG",format:Z6.JSON,interactive:!0,maxZoom:23},initialize:function(e){var t=this;D2.a.setOptions(t,e),D2.a.GridLayer.prototype.initialize.call(t,e),t._vectorTiles={},t._overriddenStyles={},t.vectorTileLayerStyles=t.options.vectorTileLayerStyles,t.on("tileunload",function(e){var n=t._tileCoordsToKey(e.coords),r=t._vectorTiles[n];r&&t._map&&r.removeFrom(t._map),delete t._vectorTiles[n]},t),t.on("tileerror ",t._renderText,t),t.on("load",t._renderText,t),t._dataLayerNames={}},createTile:function(e,t){var n=this,r=n.getTileSize(),i=null;return i="Canvas"===n.options.renderer?new B6(e,r,n.options):new F6(e,r,n.options),n._vectorTiles[n._tileCoordsToKey(e)]=i,i._features={},new $6({layer:n,format:n.options.format,coords:e,renderer:i},t).renderTile(),i.getContainer()},getStyles:function(){return this.vectorTileLayerStyles},getStyle:function(e){return this.vectorTileLayerStyles&&this.vectorTileLayerStyles[e]},setFeatureStyle:function(e,t,n){var r=this._getFeatureKey(e,t);this._overriddenStyles[r]=n;for(var i in this._vectorTiles){var o=this._vectorTiles[i],a=o._features,s=a[r];if(s){var l=s.feature;this._updateStyles(l,o,n)}}return this},resetFeatureStyle:function(e,t){var n=this._getFeatureKey(e,t);delete this._overriddenStyles[n];for(var r in this._vectorTiles){var i=this._vectorTiles[r],o=i._features[n];if(o){var a=o.feature,s=this.vectorTileLayerStyles[o.layerName];this._updateStyles(a,i,s)}}return this},getDataLayerNames:function(){return Object.keys(this._dataLayerNames)},_removeAllTiles:function(){D2.a.GridLayer.prototype._removeAllTiles.call(this),this._textVectorTiles={}},_renderText:function(){var e=this._textVectorTiles;for(var t in e){var n=e[t],r=n.renderer;for(var i in n.layers){for(var o=n.layers[i],a=o.style,s=o.layer,l=0;l<a.length;l++)s.render(r,a[l]),r._addPath(s);this.options.interactive&&s.makeInteractive()}}},_getFeatureKey:function(e,t){return e=e||0,t=t||"null",e+"_"+t},_updateStyles:function(e,t,n){(n=n instanceof Function?n(e.properties,t.getCoord().z):n)instanceof Array||(n=[n]);for(var r=0;r<n.length;r++){var i=this._extendStyle(n[r],e.type);e.updateStyle(t,i)}},_extendStyle:function(e,t){switch(t){case U6.POINT:return D2.a.extend({},D2.a.CircleMarker.prototype.options,e);case U6.LINE:return D2.a.extend({},D2.a.Polyline.prototype.options,e);case U6.REGION:return D2.a.extend({},D2.a.Polygon.prototype.options,e);case U6.TEXT:return D2.a.extend({},z6.prototype.options,e)}}}),t9=e9.extend({options:{serverType:null,crs:null,cartoCSS:null,layerNames:null,layersID:null,serverCartoCSSStyle:!0,processCharacters:!1,returnAttributes:!1,expands:null,cacheEnabled:!1,tileTemplate:null,subdomains:"abc",timeout:1e4,attribution:i4.Common.attribution},initialize:function(e,t){t=t||{},t.noWrap=null==t.noWrap||t.noWrap,D2.a.setOptions(this,t),e9.prototype.initialize.call(this,t),D2.a.stamp(this);var n=this;if(!e||e.indexOf("http")<0)return e="",this;n.url=e,e.indexOf("/")===e.length-1&&(e=e.substr(0,e.length-1),n.url=e),this.cartoCSSToLeaflet=new U4(n.url),n.initLayersInfo(),!n.options.serverCartoCSSStyle&&n.options.cartoCSS&&n.setClientCartoCSS(n.options.cartoCSS)},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._map=e,this._initLayerUrl(),!this.options.tileTemplate&&this.options.serverCartoCSSStyle||this._initGrid()},initLayersInfo:function(){var e=this,t=e.url+"/layers.json";bX.get(t,null,{timeout:e.options.timeout}).then(function(e){return e.json()}).then(function(t){if(e.layersInfoInitialized=!0,e.layersInfo=t,e.layersInfo){for(var n={},r=0,i=e.layersInfo.length;r<i;r++)for(var o=e.layersInfo[r].subLayers.layers,a=0,s=o.length;a<s;a++)o[a].layerIndex=s-a,n[o[a].name]=o[a];e.layersInfo=n,e.cartoCSSToLeaflet.layersInfo=n,e.options.serverCartoCSSStyle&&e.getVectorStylesFromServer()}}).catch(function(e){console.error("error",e)})},getLayerStyleInfo:function(e){var t,n=this;if(n.layersStyles=n.layersStyles||{},t=n.layersStyles[e])return t;if(!n.layersInfo)return{};var r=n.layersInfo[e];if(!r)return null;switch(t={layerIndex:r.layerIndex,ugcLayerType:r.ugcLayerType},r.ugcLayerType){case"VECTOR":t.layerStyle=r.style?r.style:null;break;case"THEME":var i=r.theme;t.layerStyle=i?i.defaultStyle:null,i&&"LABEL"===i.type&&(t.type=i.type,t.textField=i.labelExpression);break;default:r.style&&(t.layerStyle=r.style)}return n.layersStyles[e]=t,t},getVectorStylesFromServer:function(){var e=this,t=e.url+"/tileFeature/vectorstyles.json";bX.get(t,null,{timeout:e.options.timeout}).then(function(e){return e.json()}).then(function(t){if(!t||!t.style)return null;t.style&&"cartoCSS"===t.type&&e.setServerCartoCSS(t.style),e.options&&e.setClientCartoCSS(e.options.cartoCSS),e._initGrid()}).catch(function(e){console.error("error",e)})},setServerCartoCSS:function(e){this.cartoCSSToLeaflet.pretreatedCartoCSS(e,!0)},setClientCartoCSS:function(e){var t=!1;this.options.processCharacters&&(t=this.options.processCharacters),this.cartoCSSToLeaflet.pretreatedCartoCSS(e,t)},getVectorTileLayerStyle:function(e,t){if(!t)return null;var n=this,r=t.layerName,i=n.getLayerStyleInfo(r);if(i&&i.textField){var o=i.textField;if(o&&o.indexOf(".")){var a=o.split(".");o=a&&a.length>0&&a[a.length-1]}t.properties.textField=o}n.vectorTileLayerStyles=n.vectorTileLayerStyles||{};var s=n.vectorTileLayerStyles[r];if(s)return t=this._mergeFeatureTextField(t,s),s;var l=this.getScaleFromCoords(e),u=this.cartoCSSToLeaflet.pickShader(r)||[];s=[];for(var c in u)for(var f=u[c],h=0;h<f.length;h++){var p=this.cartoCSSToLeaflet.getValidStyleFromCarto(e.z,l,f[h],t,this.options.serverCartoCSSStyle);p&&s.push(p)}return t=this._mergeFeatureTextField(t,s),"TEXT"!==t.type&&0!==s.length||(s=this.cartoCSSToLeaflet.getValidStyleFromLayerInfo(t,i),"TEXT"===t.type&&(s.textName="["+t.properties.textField+"]")),n.vectorTileLayerStyles[r]=s,s},getScale:function(e){var t=this,n=e||t._map.getZoom();return t.scales[n]},getScaleFromCoords:function(e){var t,n=this;return n.scales&&n.scales[e.z]?n.scales[e.z]:(n.scales=n.scales||{},t=n.getDefaultScale(e),n.scales[e.z]=t,t)},getDefaultScale:function(e){var t=this,n=t._crs;if(n.scales)return n.scales[e.z];var r=t._tileCoordsToBounds(e),i=n.project(r.getNorthEast()),o=n.project(r.getSouthWest()),a=t.options.tileSize,s=Math.max(Math.abs(i.x-o.x)/a,Math.abs(i.y-o.y)/a),l=jQ.METER;if(n.code){var u=n.code.split(":");if(u&&u.length>1){var c=parseInt(u[1]);l=c&&c>=4e3&&c<=5e3?jQ.DEGREE:jQ.METER}}return v4(s,96,l)},_mergeFeatureTextField:function(e,t){if(!this.options.serverCartoCSSStyle||!t||"TEXT"!==e.type)return e;var n=t;D2.a.Util.isArray(t)||(n=[t]);for(var r=0;r<n.length;r++){var i=n[r].textName;i&&e.properties&&(e.properties.textField=i.substring(1,i.length-1))}return e},_getTileUrl:function(e){var t=this;return t.options.tileTemplate?t._getTileTemplateUrl(e):t._getDefaultTileUrl(e)},_getTileTemplateUrl:function(e){var t=this,n=t.options.tileTemplate,r={s:t._getSubdomain(e),x:e.x,y:e.y,z:e.z};if(t._map&&!t._map.options.crs.infinite){var i=t._globalTileRange.max.y-e.y;t.options.tms&&(r.y=i),r["-y"]=i}return D2.a.Util.template(n,D2.a.extend(r,t.options))},_initGrid:function(){e9.prototype.onAdd.call(this,this._map)},_getSubdomain:D2.a.TileLayer.prototype._getSubdomain,_getDefaultTileUrl:function(e){var t=e.x,n=e.y,r=this._tileUrl+"&x="+t+"&y="+n;return r+="&scale="+this.getScaleFromCoords(e)},_initLayerUrl:function(){var e=this.options;if(this.url){var t=e.format.toString().toLowerCase();this._tileUrl=this.url+"/tileFeature."+t+"?",this._tileUrl+=encodeURI(this._createURLParam(e))}},_createURLParam:function(e){var t=[],n=this._getCredential();if(n&&t.push(n),e.layersID&&t.push("layersID="+e.layersID),e.layerNames){D2.a.Util.isArray(e.layerNames)||(e.layerNames=[e.layerNames]);var r="["+e.layerNames.join(",")+"]";t.push("layerNames="+r)}var i=this._crs;if(i.options&&i.options.origin)t.push("origin="+JSON.stringify({x:i.options.origin[0],y:i.options.origin[1]}));else if(i.projection&&i.projection.bounds){var o=i.projection.bounds,a=D2.a.point(o.min.x,o.max.y);t.push("origin="+JSON.stringify({x:a.x,y:a.y}))}e.expands&&t.push("expands="+e.expands),t.push("returnAttributes="+e.returnAttributes),t.push("cacheEnabled="+e.cacheEnabled);var s=this.options.tileSize;return t.push("width="+s),t.push("height="+s),t.join("&")},_getCredential:function(e){var t,n;switch(this.options.serverType){case TQ.IPORTAL:n=gX.getToken(e),t=n?new YY(n,"token"):null,t||(n=gX.getKey(e),t=n?new YY(n,"key"):null);break;case TQ.ONLINE:n=gX.getKey(e),t=n?new YY(n,"key"):null;break;default:n=gX.getToken(e),t=n?new YY(n,"token"):null}return t?t.getUrlParameters():null}}),n9=function(e,t){return new t9(e,t)};D2.a.supermap.tiledVectorLayer=n9;var r9=n(7),i9=D2.a.GeoJSON.extend({turfMap:{"Measurement.along":["line","distance","units"],"Measurement.area":["geojson"],"Measurement.bbox":["geojson"],"Measurement.bboxPolygon":["bbox"],"Measurement.bearing":["start","end","final"],"Measurement.center":["geojson","properties"],"Measurement.centerOfMass":["geojson","properties"],"Measurement.centroid":["geojson","properties"],"Measurement.destination":["origin","distance","bearing","units"],"Measurement.distance":["from","to","units"],"Measurement.envelope":["geojson"],"Measurement.length":["geojson","units"],"Measurement.midpoint":["point1","point2"],"Measurement.pointOnFeature":["geojson"],"Measurement.polygonTangents":["point","polygon"],"Measurement.rhumbBearing":["start","end","final"],"Measurement.rhumbDestination":["origin","distance","bearing","units"],"Measurement.rhumbDistance":["from","to","units"],"Measurement.square":["bbox"],"Measurement.greatCircle":["start","end","properties","npoints","offset"],"CoordinateMutation.cleanCoords":["geojson","mutate"],"CoordinateMutation.flip":["geojson","mutate"],"CoordinateMutation.rewind":["geojson","reverse","mutate"],"CoordinateMutation.round":["num","precision"],"CoordinateMutation.truncate":["geojson","precision","coordinates","mutate"],"Transformation.bboxClip":["feature","bbox"],"Transformation.bezierSpline":["line","resolution","sharpness"],"Transformation.buffer":["geojson","radius","units","steps"],"Transformation.circle":["center","radius","steps","units","properties"],"Transformation.clone":["geojson"],"Transformation.concave":["points","maxEdge","units"],"Transformation.convex":["geojson","concavity"],"Transformation.difference":["polygon1","polygon2"],"Transformation.dissolve":["featureCollection","propertyName"],"Transformation.intersect":["poly1","poly2"],"Transformation.lineOffset":["geojson","distance","units"],"Transformation.simplify":["feature","tolerance","highQuality"],"Transformation.tesselate":["poly"],"Transformation.transformRotate":["geojson","angle","pivot","mutate"],"Transformation.transformTranslate":["geojson","distance","direction","units","zTranslation","mutate"],"Transformation.transformScale":["geojson","factor","origin","mutate"],"Transformation.union":["A"],"Transformation.voronoi":["points","bbox"],"featureConversion.combine":["fc"],"featureConversion.explode":["geojson"],"featureConversion.flatten":["geojson"],"featureConversion.lineStringToPolygon":["lines","properties","autoComplete","orderCoords"],"featureConversion.polygonize":["geojson"],"featureConversion.polygonToLineString":["polygon","properties"],"Misc.kinks":["featureIn"],"Misc.lineArc":["center","radius","bearing1","bearing2","steps","units"],"Misc.lineChunk":["geojson","segmentLength","units","reverse"],"Misc.lineIntersect":["line1","line2"],"Misc.lineOverlap":["line1","line2"],"Misc.lineSegment":["geojson"],"Misc.lineSlice":["startPt","stopPt","line"],"Misc.lineSliceAlong":["line","startDist","stopDist","units"],"Misc.lineSplit":["line","splitter"],"Misc.mask":["polygon","mask"],"Misc.pointOnLine":["lines","pt","units"],"Misc.sector":["center","radius","bearing1","bearing2","steps","units"],"Misc.shortestPath":["start","end","obstacles","units","resolution"],"Misc.unkinkPolygon":["geojson"],"Helper.featureCollection":["features","bbox","id"],"Helper.feature":["geometry","properties","bbox","id"],"Helper.geometryCollection":["geometries","properties","bbox","id"],"Helper.lineString":["coordinates","properties","bbox","id"],"Helper.multiLineString":["coordinates","properties","bbox","id"],"Helper.multiPoint":["coordinates","properties","bbox","id"],"Helper.multiPolygon":["coordinates","properties","bbox","id"],"Helper.point":["coordinates","properties","bbox","id"],"Helper.polygon":["coordinates","properties","bbox","id"],"Data.sample":["featurecollection","num"],"Interpolation.interpolate":["points","cellSize","gridType","property","units","weight"],"Interpolation.isobands":["pointGrid","breaks","zProperty","commonProperties","breaksProperties"],"Interpolation.isolines":["pointGrid","breaks","zProperty","commonProperties","breaksProperties"],"Interpolation.planepoint":["point","triangle"],"Interpolation.tin":["points","z"],"Joins.pointsWithinPolygon":["points","polygons"],"Joins.tag":["points","polygons","field","outField","mask","properties"],"Grids.hexGrid":["bbox","cellSide","units","triangles"],"Grids.pointGrid":["bbox","cellSide","units","mask","properties"],"Grids.squareGrid":["bbox","cellSide","units","mask","properties"],"Grids.triangleGrid":["bbox","cellSide","units","mask","properties"],"Classification.nearestPoint":["targetPoint","points"],"Aggregation.collect":["polygons","points","inProperty","outProperty"],"Aggregation.clustersDbscan":["points","maxDistance","units","minPoints","mutate"],"Aggregation.clustersKmeans":["points","numberOfClusters","mutate"],"Meta.coordAll":["geojson"],"Meta.coordEach":["geojson","callback","excludeWrapCoord"],"Meta.coordReduce":["geojson","callback","initialValue","excludeWrapCoord"],"Meta.featureEach":["geojson","callback"],"Meta.featureReduce":["geojson","callback","initialValue"],"Meta.flattenEach":["geojson","callback"],"Meta.flattenReduce":["geojson","callback","initialValue"],"Meta.getCoord":["coord"],"Meta.getCoords":["coords"],"Meta.getGeom":["geojson"],"Meta.getGeomType":["geojson","name"],"Meta.geomEach":["geojson","callback"],"Meta.geomReduce":["geojson","callback","initialValue"],"Meta.propEach":["geojson","callback"],"Meta.propReduce":["geojson","callback","initialValue"],"Meta.segmentEach":["geojson","callback"],"Meta.segmentReduce":["geojson","callback","initialValue"],"Meta.getCluster":["geojson","filter"],"Meta.clusterEach":["geojson","property","callback"],"Meta.clusterReduce":["geojson","property","callback","initialValue"],"Assertions.collectionOf":["featureCollection","type","name"],"Assertions.containsNumber":["coordinates"],"Assertions.geojsonType":["value","type","name"],"Assertions.featureOf":["feature","type","name"],"Booleans.booleanClockwise":["line"],"Booleans.booleanContains":["feature1","feature2"],"Booleans.booleanCrosses":["feature1","feature2"],"Booleans.booleanDisjoint":["feature1","feature2"],"Booleans.booleanEqual":["feature1","feature2"],"Booleans.booleanOverlap":["feature1","feature2"],"Booleans.booleanParallel":["feature1","feature2"],"Booleans.booleanPointInPolygon":["point","polygon","ignoreBoundary"],"Booleans.booleanPointOnLine":["point","linestring","ignoreEndVertices"],"UnitConversion.bearingToAngle":["bearing"],"UnitConversion.convertArea":["area","originalUnit","finalUnit"],"UnitConversion.convertLength":["length","originalUnit","finalUnit"],"UnitConversion.degreesToradians":["degrees"],"UnitConversion.lengthToRadians":["distance","units"],"UnitConversion.lengthToDegrees":["distance","units"],"UnitConversion.radiansToLength":["radians","units"],"UnitConversion.radiansToDegrees":["radians"],"UnitConversion.toMercator":["geojson","mutate"],"UnitConversion.toWgs84":["geojson","mutate"]},options:{attribution:i4.Turf.attribution},initialize:function(e){e=e||{},D2.a.Util.setOptions(this,e),D2.a.stamp(this),this._layers={}},turfOptionMap:{"Measurement.along":["line","distance",{units:""}],"Measurement.bboxPolygon":["bbox",{properties:"",id:""}],"Measurement.bearing":["start","end",{final:""}],"Measurement.center":["geojson",{properties:""}],"Measurement.destination":["origin","distance","bearing",{units:"",properties:""}],"Measurement.distance":["from","to",{units:""}],"Measurement.length":["geojson",{units:""}],"Measurement.rhumbBearing":["start","end",{final:""}],"Measurement.rhumbDestination":["origin","distance","bearing",{units:"",properties:""}],"Measurement.rhumbDistance":["from","to",{units:""}],"Measurement.greatCircle":["start","end",{properties:"",npoints:"",offset:""}],"CoordinateMutation.cleanCoords":["geojson",{mutate:""}],"CoordinateMutation.flip":["geojson",{mutate:""}],"CoordinateMutation.rewind":["geojson",{mutate:"",reverse:""}],"CoordinateMutation.truncate":["geojson",{precision:"",coordinates:"",mutate:""}],"Transformation.bezierSpline":["line",{resolution:"",sharpness:""}],"Transformation.buffer":["geojson","radius",{units:"",steps:""}],"Transformation.circle":["center","radius",{units:"",steps:"",properties:""}],"Transformation.concave":["points",{maxEdge:"",units:""}],"Transformation.convex":["geojson",{concavity:""}],"Transformation.dissolve":["featureCollection",{propertyName:""}],"Transformation.lineOffset":["geojson","distance",{units:""}],"Transformation.simplify":["geojson",{tolerance:"",highQuality:""}],"Transformation.transformRotate":["geojson","angle",{pivot:"",mutate:""}],"Transformation.transformTranslate":["geojson","distance","direction",{units:"",zTranslation:"",mutate:""}],"Transformation.transformScale":["geojson","factor",{origin:"",mutate:""}],"Transformation.voronoi":["points",{bbox:""}],"featureConversion.lineStringToPolygon":["lines",{properties:"",autoComplete:"",orderCoords:""}],"featureConversion.polygonToLineString":["polygon",{properties:""}],"Misc.lineArc":["center","radius","bearing1","bearing2",{steps:"",units:""}],"Misc.lineChunk":["geojson","segmentLength",{units:"",reverse:""}],"Misc.lineOverlap":["line1","line2",{tolerance:""}],"Misc.lineSliceAlong":["line","startDist","stopDist",{units:""}],"Misc.pointOnLine":["lines","pt",{units:""}],"Misc.sector":["center","radius","bearing1","bearing2",{units:"",steps:"",properties:""}],"Misc.shortestPath":["start","end",{obstacles:"",units:"",resolution:""}],"Helper.feature":["geometry","properties",{bbox:"",id:""}],"Helper.geometryCollection":["geometries","properties",{bbox:"",id:""}],"Helper.lineString":["coordinates","properties",{bbox:"",id:""}],"Helper.multiLineString":["coordinates","properties",{bbox:"",id:""}],"Helper.multiPoint":["coordinates","properties",{bbox:"",id:""}],"Helper.multiPolygon":["coordinates","properties",{bbox:"",id:""}],"Helper.point":["coordinates","properties",{bbox:"",id:""}],"Helper.polygon":["coordinates","properties",{bbox:"",id:""}],"Interpolation.interpolate":["points","cellSize",{gridType:"",property:"",units:"",weight:""}],"Interpolation.isobands":["pointGrid","breaks",{zProperty:"",commonProperties:"",breaksProperties:""}],"Interpolation.isolines":["pointGrid","breaks",{zProperty:"",commonProperties:"",breaksProperties:""}],"Grids.hexGrid":["bbox","cellSide",{units:"",triangles:"",properties:"",mask:""}],"Grids.pointGrid":["bbox","cellSide",{units:"",mask:"",properties:""}],"Grids.squareGrid":["bbox","cellSide",{units:"",mask:"",properties:""}],"Grids.triangleGrid":["bbox","cellSide",{units:"",mask:"",properties:""}],"Aggregation.clustersDbscan":["points","maxDistance",{units:"",minPoints:"",mutate:""}],"Aggregation.clustersKmeans":["points",{numberOfClusters:"",mutate:""}],"Booleans.booleanPointInPolygon":["point","polygon",{ignoreBoundary:""}],"Booleans.booleanPointOnLine":["point","linestring",{ignoreEndVertices:""}],"UnitConversion.toMercator":["geojson",{mutate:""}],"UnitConversion.toWgs84":["geojson",{mutate:""}]},process:function(e,t,n,r){var i;try{i=r9[e.split(".")[1]].apply(this,this.parse(e,t))}catch(n){i=r9[e.split(".")[1]].apply(this,this.parseOption(e,t))}r=null==r||r,r&&this.addData([i]),n&&n(i)},parse:function(e,t){if("Transformation.union"===e)return t.A;var n=[],r=this.turfMap[e];return r&&r.map(function(e){return n.push(t[e]),t[e]}),n},parseOption:function(e,t){var n=[];return this.turfOptionMap[e].map(function(e){if(e instanceof Object){var r=e;Object.keys(r).forEach(function(e){r[e]=t[e]}),n.push(r)}else n.push(t[e]);return t}),n}}),o9=function(e){return new i9(e)};D2.a.supermap.turfLayer=o9;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var a9=D2.a.Layer.extend({options:{alwaysMapCRS:!1,id:RY.createUniqueID("heatMapLayer_"),featureWeight:null,opacity:1,colors:["blue","cyan","lime","yellow","red"],useGeoUnit:!1,radius:50,attribution:i4.Common.attribution},initialize:function(e,t){D2.a.Util.setOptions(this,t),this.name=e,this.features=[],this.maxWeight=null,this.minWeight=null,this.rootCanvas=null,this.canvasContext=null,this.maxWidth=null,this.maxHeight=null,this.id=this.options.id,this.featureWeight=this.options.featureWeight,this.colors=this.options.colors,this.useGeoUnit=this.options.useGeoUnit,this.opacity=this.options.opacity,this.radius=this.options.radius,this.blur=this.options.blur,this.movingOffset=[0,0]},onRemove:function(e){var t=this;D2.a.DomUtil.remove(t.rootCanvas),e.off("mousemove",t.mouseMoveHandler)},onAdd:function(e){var t=this;if(t._map=e,t._createCanvasContainer(),!t.rootCanvas)return void e.removeLayer(t);var n=e.getSize();t.rootCanvas.width=t.maxWidth=n.x,t.rootCanvas.height=t.maxHeight=n.y,t._updateOpacity(),t.mouseMoveHandler=function(e){var n=e.layerPoint;t.currentMousePosition=D2.a.point(n.x+t.movingOffset[0],n.y+t.movingOffset[1])},e.on("mousemove",t.mouseMoveHandler),t.update()},addFeatures:function(e){this.features=this.toiClientFeature(e),this.refresh()},refresh:function(){if(0!==this.features.length&&this._map){var e=this._map.getBounds();this.updateHeatPoints(e)}},updateHeatPoints:function(e){this.features&&this.features.length>0?this.convertFastToPixelPoints(e):this.canvasContext.clearRect(0,0,this.maxWidth,this.maxWidth)},convertFastToPixelPoints:function(e){var t,n,r,i,o,a,s,l=[],u=e.getEast()-e.getWest(),c=e.getNorth()-e.getSouth(),f=this._map.getSize();i=u/f.x>c/f.y?u/f.x:c/f.y,this.useRadius=this.useGeoUnit?parseInt(this.radius/i):this.radius;for(var h=0;h<this.features.length;h++){var p=this.features[h],y=p.geometry,d=this.getLocalXY(new NY(y.x,y.y));this.featureWeight?(d.weight=p.attributes[this.featureWeight],this.maxWeight||(o=o||d.weight,a=a||d.weight,o=Math.max(o,d.weight),a=Math.min(a,d.weight))):d.weight=1,t=Math.floor(d[0]),n=Math.floor(d[1]),r=d.weight,l.push([t,n,r])}this.maxWeight?this.draw(l,this.maxWeight):(s=o&&a?(o+a)/2:1,this.draw(l,s))},draw:function(e,t){if(!(this.maxHeight>0&&this.maxWidth>0))return!1;var n=this.canvasContext;this.canvasContext.clearRect(0,0,this.maxWidth,this.maxHeight),this.drawCircle(this.useRadius),this.createGradient();for(var r=0;r<e.length;r++){var i=e[r];this.canvasContext.globalAlpha=Math.max(i[2]/t,.05),this.canvasContext.drawImage(this.circle,i[0]-this.useRadius,i[1]-this.useRadius)}var o=n.getImageData(0,0,this.maxWidth,this.maxHeight);this.colorize(o.data,this.grad),n.putImageData(o,0,0)},colorize:function(e,t){for(var n,r=0;r<e.length;r+=4)(n=4*e[r+3])&&(e[r]=t[n],e[r+1]=t[n+1],e[r+2]=t[n+2])},drawCircle:function(e){var t=this.blur||e/2,n=this.circle=document.createElement("canvas"),r=n.getContext("2d");n.height=2*e,n.width=2*e,r.shadowOffsetX=r.shadowOffsetY=2*e,r.shadowBlur=t,r.shadowColor="#000000",r.beginPath(),r.arc(-e,-e,e/2,0,2*Math.PI,!0),r.closePath(),r.fill()},createGradient:function(){var e=this.colors,t=document.createElement("canvas"),n=t.getContext("2d"),r=n.createLinearGradient(0,0,0,256);t.height=256,t.width=1;for(var i=1,o=0,a=e.length;o<a;o++)r.addColorStop(i/a,e[o]),i++;n.fillStyle=r,n.fillRect(0,0,1,256),this.grad=n.getImageData(0,0,1,256).data},update:function(){var e=this._map.containerPointToLayerPoint([0,0]);D2.a.DomUtil.setPosition(this.rootCanvas,e);var t=this;t.refresh(),t.currentMousePosition&&(t.currentMousePosition=D2.a.point(t.currentMousePosition.x-t.movingOffset[0],t.currentMousePosition.y-t.movingOffset[1])),t.movingOffset=[0,0],t._zoom=t._map.getZoom(),t._center=t._map.getCenter()},getLocalXY:function(e){if(!this._map)return e;var t=e;D2.a.Util.isArray(e)&&(t=D2.a.point(e[0],e[1])),e instanceof D2.a.Point||(t=e instanceof GY||e instanceof VY?D2.a.point(e.x,e.y):D2.a.point(e.lon,e.lat));var n=this._map.latLngToContainerPoint(this.options.alwaysMapCRS?this._map.options.crs.unproject(t):D2.a.latLng(t.y,t.x));return[n.x,n.y]},setOpacity:function(e){var t=this;e!==t.options.opacity&&(e&&(t.options.opacity=e),t._updateOpacity())},removeFeatures:function(e){if(e&&0!==e.length&&this.features&&0!==this.features.length){if(e===this.features)return this.removeAllFeatures();RY.isArray(e)||(e=[e]);for(var t,n,r=[],i=0,o=e.length;i<o;i++)t=e[i],n=RY.indexOf(this.features,t),-1!==n?this.features.splice(n,1):r.push(t);var a=0==r.length;this._map.fire("featuresremoved",{features:r,succeed:a}),this.refresh()}},removeAllFeatures:function(){this.features=[],this.refresh()},_createCanvasContainer:function(){var e=this.getPane(),t=this._map.options.zoomAnimation&&D2.a.Browser.any3d,n="heatMapLayer leaflet-layer leaflet-zoom-"+(t?"animated":"hide");this.rootCanvas=D2.a.DomUtil.create("canvas",n,e);var r=D2.a.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);this.rootCanvas.id=this.id,this.rootCanvas.style[r]="50% 50%",this.rootCanvas.style.position="absolute",this.rootCanvas.style.zIndex=200,RY.modifyDOMElement(this.rootCanvas,null,null,null,null,null,null,this.opacity),this.canvasContext=this.rootCanvas.getContext("2d")},_updateOpacity:function(){var e=this;RY.modifyDOMElement(e.rootCanvas,null,null,null,null,null,null,e.options.opacity),null!==e._map&&e._map.fire("changelayer",{layer:e,property:"opacity"})},getEvents:function(){var e=this,t={zoomend:e._reset,moveend:e._reset,resize:e._resize};return this._map._zoomAnimated&&(t.zoomanim=e._zoomAnim),t},toiClientFeature:function(e){D2.a.Util.isArray(e)||(e=[e]);for(var t=[],n=0,r=e.length;n<r;n++)if(e[n]instanceof l9)t.push(e[n].toFeature());else if(-1!=["FeatureCollection","Feature","Geometry"].indexOf(e[n].type)){var i=new sX;t=t.concat(i.read(e[n]))}else{if(!e[n].geometry||!e[n].geometry.parts)throw new Error("Features's type does not match, please check.");t.push(W$.fromJson(e[n]).toFeature())}return t},_zoomAnim:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._getCenterOffset(e.center)._multiplyBy(-t).subtract(this._map._getMapPanePos());D2.a.DomUtil.setTransform?D2.a.DomUtil.setTransform(this.rootCanvas,n,t):this.rootCanvas.style[D2.a.DomUtil.TRANSFORM]=D2.a.DomUtil.getTranslateString(n)+" scale("+t+")"},_reset:function(){var e=this;e.update();var t=e._map.getSize(),n=this._map.containerPointToLayerPoint([0,0]);D2.a.DomUtil.setPosition(this.rootCanvas,n),parseFloat(e.rootCanvas.width)!==parseFloat(t.x)&&(e.rootCanvas.width=t.x),parseFloat(e.rootCanvas.height)!==parseFloat(t.y)&&(e.rootCanvas.height=t.y),e.refresh()},_resize:function(){var e=this,t=e._map.getSize();e.maxWidth=t.x,e.maxHeight=t.y}}),s9=function(e,t){return new a9(e,t)};D2.a.supermap.heatMapLayer=s9;var l9=D2.a.Class.extend({initialize:function(e,t){this.geometry=e,this.attributes=t},toFeature:function(){var e=this.geometry,t=[];if(e instanceof D2.a.LatLng)t=[e.lng,e.lat];else if(e instanceof D2.a.Point)t=[e.x,e.y];else if(e instanceof D2.a.CircleMarker){var n=e.getLatLng();t=[n.lng,n.lat]}else t=e;return 2===t.length&&(e=new GY(t[0],t[1])),new $Y(e,this.attributes)}}),u9=function(e,t){return new l9(e,t)};D2.a.supermap.heatMapFeature=u9;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var c9=o4.extend({initialize:function(e,t){o4.prototype.initialize.call(this,e,t)},code:function(e,t){var n=this;new GX(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).code(n.url+"/geocoding",e)},decode:function(e,t){var n=this;new GX(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).decode(n.url+"/geodecoding",e)}}),f9=function(e,t){return new c9(e,t)};D2.a.supermap.addressMatchService=f9;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var h9=o4.extend({initialize:function(e,t){o4.prototype.initialize.call(this,e,t)},queryChart:function(e,t,n){var r=this,i=r._processParams(e),o=r._processFormat(n);new mK(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:o}).processAsync(i)},getChartFeatureInfo:function(e){var t=this,n=t.url.concat();n+="/chartFeatureInfoSpecs",new hK(n,{proxy:t.options.proxy,withCredentials:t.options.withCredentials,crossOrigin:t.options.crossOrigin,headers:t.options.headers,serverType:t.options.serverType,eventListeners:{scope:t,processCompleted:e,processFailed:e}}).processAsync()},_processParams:function(e){if(!e)return{};e.returnContent=null==e.returnContent||e.returnContent,e.chartQueryFilterParameters&&!D2.a.Util.isArray(e.chartQueryFilterParameters)&&(e.chartQueryFilterParameters=[e.chartQueryFilterParameters]),e.bounds&&(e.bounds=h4.toSuperMapBounds(e.bounds))},_processFormat:function(e){return e||CQ.GEOJSON}}),p9=function(e,t){return new h9(e,t)};D2.a.supermap.chartService=p9;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var y9=o4.extend({initialize:function(e,t){o4.prototype.initialize.call(this,e,t)},getFields:function(e,t){var n=this;new LZ(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t},datasource:e.datasource,dataset:e.dataset}).processAsync()},getFieldStatisticsInfo:function(e,t){if(e instanceof KK){var n=this,r=e.fieldName,i=e.statisticMode;i&&!D2.a.Util.isArray(i)&&(i=[i]),n.currentStatisticResult={fieldName:r},n._statisticsCallback=t;for(var o in i)n.currentStatisticResult[i[o]]=null,n._fieldStatisticRequest(e.datasource,e.dataset,r,i[o])}},_fieldStatisticRequest:function(e,t,n,r){var i=this;new ZK(i.url,{eventListeners:{scope:i,processCompleted:i._processCompleted,processFailed:i._statisticsCallback},datasource:e,dataset:t,field:n,statisticMode:r,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers}).processAsync()},_processCompleted:function(e){var t=this,n=!0,r=e.result;this.currentStatisticResult&&null==t.currentStatisticResult[r.mode]&&(this.currentStatisticResult[r.mode]=r.result);for(var i in t.currentStatisticResult)if(null==t.currentStatisticResult[i]){n=!1;break}n&&t._statisticsCallback({result:t.currentStatisticResult})}}),d9=function(e,t){return new y9(e,t)};D2.a.supermap.fieldService=d9;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var m9=o4.extend({initialize:function(e,t){o4.prototype.initialize.call(this,e,t)},getGridCellInfos:function(e,t){if(e instanceof jZ){var n=this;new RZ(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)}}}),v9=function(e,t){return new m9(e,t)};D2.a.supermap.gridCellInfosService=v9;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var b9=o4.extend({initialize:function(e,t){o4.prototype.initialize.call(this,e,t)},getLayersInfo:function(e){var t=this;new h$(t.url,{proxy:t.options.proxy,withCredentials:t.options.withCredentials,crossOrigin:t.options.crossOrigin,headers:t.options.headers,serverType:t.options.serverType,eventListeners:{processCompleted:e,processFailed:e}}).processAsync()},setLayerInfo:function(e,t){if(e instanceof Q$){var n=this,r=e.resourceID,i=e.tempLayerName,o=e.layerInfo;if(r&&i){var a=n.url.concat();a+="/tempLayersSet/"+r+"/"+i;new Y$(a,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{processCompleted:t,processFailed:t}}).processAsync(o)}}},setLayersInfo:function(e,t){if(e instanceof X$){var n=this,r=e.resourceID,i=!!e.isTempLayers&&e.isTempLayers,o=e.layersInfo;if((!i||r)&&o){new K$(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{processCompleted:t,processFailed:t},resourceID:r,isTempLayers:i}).processAsync(o)}}},setLayerStatus:function(e,t){if(e instanceof Z$){var n=this;new $$(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{processCompleted:t,processFailed:t}}).processAsync(e)}}}),g9=function(e,t){return new b9(e,t)};D2.a.supermap.layerInfoService=g9;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var S9=o4.extend({initialize:function(e,t){o4.prototype.initialize.call(this,e,t)},measureDistance:function(e,t){return this.measure(LQ.DISTANCE,e,t),this},measureArea:function(e,t){return this.measure(LQ.AREA,e,t),this},measure:function(e,t,n){if(t instanceof k$){var r=this;t.geometry&&(t.geometry=d4(t.geometry));new M$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,measureMode:e,eventListeners:{scope:r,processCompleted:n,processFailed:n}}).processAsync(t)}}}),_9=function(e,t){return new S9(e,t)};D2.a.supermap.measureService=_9;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var w9=o4.extend({initialize:function(e,t){o4.prototype.initialize.call(this,e,t)},sinksFacilityAnalyst:function(e,t){var n=this;new FK(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)},sourcesFacilityAnalyst:function(e,t){var n=this;new UK(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)},traceUpFacilityAnalyst:function(e,t){var n=this;new qK(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)},traceDownFacilityAnalyst:function(e,t){var n=this;new HK(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)},upstreamFacilityAnalyst:function(e,t){var n=this;new QK(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)}}),O9=function(e,t){return new w9(e,t)};D2.a.supermap.networkAnalyst3DService=O9;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var x9=o4.extend({initialize:function(e,t){o4.prototype.initialize.call(this,e,t)},burstPipelineAnalyst:function(e,t){var n=this;new fK(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(n._processParams(e))},computeWeightMatrix:function(e,t){var n=this;new wK(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(n._processParams(e))},findClosestFacilities:function(e,t,n){var r=this;new eZ(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},streamFacilityAnalyst:function(e,t,n){var r=this;new zK(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},findLocation:function(e,t,n){var r=this;new nZ(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},findPath:function(e,t,n){var r=this;new aZ(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},findTSPPaths:function(e,t,n){var r=this;new cZ(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},findMTSPPaths:function(e,t,n){var r=this;new iZ(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},findServiceAreas:function(e,t,n){var r=this;new lZ(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},updateEdgeWeight:function(e,t){var n=this;new L0(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)},updateTurnNodeWeight:function(e,t){var n=this;new R0(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)},_processParams:function(e){if(!e)return{};if(e.centers&&D2.a.Util.isArray(e.centers)&&e.centers.map(function(t,n){return e.centers[n]=t instanceof D2.a.LatLng?{x:t.lng,y:t.lat}:t,e.centers[n]}),e.nodes&&D2.a.Util.isArray(e.nodes)&&e.nodes.map(function(t,n){return e.nodes[n]=t instanceof D2.a.LatLng?{x:t.lng,y:t.lat}:t,e.nodes[n]}),e.event&&e.event instanceof D2.a.LatLng&&(e.event={x:e.event.lng,y:e.event.lat}),e.facilities&&D2.a.Util.isArray(e.facilities)&&e.facilities.map(function(t,n){return e.facilities[n]=t instanceof D2.a.LatLng?{x:t.lng,y:t.lat}:t,e.facilities[n]}),e.parameter&&e.parameter.barrierPoints){var t=e.parameter.barrierPoints;D2.a.Util.isArray(t)?t.map(function(t,n){return e.parameter.barrierPoints[n]=t instanceof D2.a.LatLng?{x:t.lng,y:t.lat}:t,e.parameter.barrierPoints[n]}):e.parameter.barrierPoints=[t instanceof D2.a.LatLng?{x:t.lng,y:t.lat}:t]}return e},_processFormat:function(e){return e||CQ.GEOJSON}}),C9=function(e,t){return new x9(e,t)};D2.a.supermap.networkAnalystService=C9;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var T9=o4.extend({initialize:function(e,t){t=t||{},D2.a.setOptions(this,t),o4.prototype.initialize.call(this,e,t),this.kernelDensityJobs={},this.summaryMeshJobs={},this.queryJobs={},this.summaryRegionJobs={},this.vectorClipJobs={},this.overlayGeoJobs={},this.buffersJobs={},this.topologyValidatorJobs={},this.summaryAttributesJobs={}},getKernelDensityJobs:function(e,t){var n=this,r=n._processFormat(t);new S$(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getKernelDensityJobs()},getKernelDensityJob:function(e,t,n){var r=this,i=r._processFormat(n);new S$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i}).getKernelDensityJob(e)},addKernelDensityJob:function(e,t,n,r){var i=this,o=i._processParams(e),a=i._processFormat(r);new S$(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.kernelDensityJobs[e.id]=e.state}},format:a}).addKernelDensityJob(o,n)},getKernelDensityJobState:function(e){return this.kernelDensityJobs[e]},getSummaryMeshJobs:function(e,t){var n=this,r=n._processFormat(t);new s0(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getSummaryMeshJobs()},getSummaryMeshJob:function(e,t,n){var r=this,i=r._processFormat(n);new s0(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i}).getSummaryMeshJob(e)},addSummaryMeshJob:function(e,t,n,r){var i=this,o=i._processParams(e),a=i._processFormat(r);new s0(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.summaryMeshJobs[e.id]=e.state}},format:a}).addSummaryMeshJob(o,n)},getSummaryMeshJobState:function(e){return this.summaryMeshJobs[e]},getQueryJobs:function(e,t){var n=this,r=n._processFormat(t);new t0(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getQueryJobs()},getQueryJob:function(e,t,n){var r=this,i=r._processFormat(n);new t0(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i}).getQueryJob(e)},addQueryJob:function(e,t,n,r){var i=this,o=i._processParams(e),a=i._processFormat(r);new t0(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.queryJobs[e.id]=e.state}},format:a}).addQueryJob(o,n)},getQueryJobState:function(e){return this.queryJobs[e]},getSummaryRegionJobs:function(e,t){var n=this,r=n._processFormat(t);new u0(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getSummaryRegionJobs()},getSummaryRegionJob:function(e,t,n){var r=this,i=r._processFormat(n);new u0(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i}).getSummaryRegionJob(e)},addSummaryRegionJob:function(e,t,n,r){var i=this,o=i._processParams(e),a=i._processFormat(r);new u0(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.summaryRegionJobs[e.id]=e.state}},format:a}).addSummaryRegionJob(o,n)},getSummaryRegionJobState:function(e){return this.summaryRegionJobs[e]},getVectorClipJobs:function(e,t){var n=this,r=n._processFormat(t);new I0(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getVectorClipJobs()},getVectorClipJob:function(e,t,n){var r=this,i=r._processFormat(n);new I0(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i}).getVectorClipJob(e)},addVectorClipJob:function(e,t,n,r){var i=this,o=i._processParams(e),a=i._processFormat(r);new I0(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.vectorClipJobs[e.id]=e.state}},format:a}).addVectorClipJob(o,n)},getVectorClipJobState:function(e){return this.vectorClipJobs[e]},getOverlayGeoJobs:function(e,t){var n=this,r=n._processFormat(t);new j$(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getOverlayGeoJobs()},getOverlayGeoJob:function(e,t,n){var r=this,i=r._processFormat(n);new j$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i}).getOverlayGeoJob(e)},addOverlayGeoJob:function(e,t,n,r){var i=this,o=i._processParams(e),a=i._processFormat(r);new j$(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.overlayGeoJobs[e.id]=e.state}},format:a}).addOverlayGeoJob(o,n)},getoverlayGeoJobState:function(e){return this.overlayGeoJobs[e]},getBuffersJobs:function(e,t){var n=this,r=n._processFormat(t);new lK(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getBuffersJobs()},getBuffersJob:function(e,t,n){var r=this,i=r._processFormat(n);new lK(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i}).getBuffersJob(e)},addBuffersJob:function(e,t,n,r){var i=this,o=i._processParams(e),a=i._processFormat(r);new lK(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.buffersJobs[e.id]=e.state}},format:a}).addBuffersJob(o,n)},getBuffersJobState:function(e){return this.buffersJobs[e]},getTopologyValidatorJobs:function(e,t){var n=this,r=n._processFormat(t);new C0(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getTopologyValidatorJobs()},getTopologyValidatorJob:function(e,t,n){var r=this,i=r._processFormat(n);new C0(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i}).getTopologyValidatorJob(e)},addTopologyValidatorJob:function(e,t,n,r){var i=this,o=i._processParams(e),a=i._processFormat(r);new C0(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.topologyValidatorJobs[e.id]=e.state}},format:a}).addTopologyValidatorJob(o,n)},getTopologyValidatorJobState:function(e){return this.topologyValidatorJobs[e]},getSummaryAttributesJobs:function(e,t){var n=this,r=n._processFormat(t);new o0(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r}).getSummaryAttributesJobs()},getSummaryAttributesJob:function(e,t,n){var r=this,i=r._processFormat(n);new o0(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i}).getSummaryAttributesJob(e)},addSummaryAttributesJob:function(e,t,n,r){var i=this,o=i._processParams(e),a=i._processFormat(r);new o0(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.summaryAttributesJobs[e.id]=e.state}},format:a}).addSummaryAttributesJob(o,n)},getSummaryAttributesJobState:function(e){return this.summaryAttributesJobs[e]},_processFormat:function(e){return e||CQ.GEOJSON},_processParams:function(e){return e?(e.bounds&&(e.bounds=h4.toSuperMapBounds(e.bounds)),e.query&&(e.query=h4.toSuperMapBounds(e.query)),e.geometryQuery&&(e.geometryQuery=h4.toProcessingParam(e.geometryQuery)),e.geometryClip&&(e.geometryClip=h4.toProcessingParam(e.geometryClip)),e):{}}}),P9=function(e,t){return new T9(e,t)};D2.a.supermap.processingService=P9;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var E9=o4.extend({initialize:function(e,t){o4.prototype.initialize.call(this,e,t)},queryByBounds:function(e,t,n){var r=this;new I$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},queryByDistance:function(e,t,n){var r=this;new F$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},queryBySQL:function(e,t,n){var r=this;new z$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},queryByGeometry:function(e,t,n){var r=this;new U$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},_processParams:function(e){return e?(e.returnContent=null==e.returnContent||e.returnContent,e.queryParams&&!D2.a.Util.isArray(e.queryParams)&&(e.queryParams=[e.queryParams]),e.bounds&&(e.bounds=h4.toSuperMapBounds(e.bounds)),e.geometry&&(e.geometry instanceof D2.a.Point?e.geometry=new GY(e.geometry.x,e.geometry.y):e.geometry=d4(e.geometry)),e):{}},_processFormat:function(e){return e||CQ.GEOJSON}}),k9=function(e,t){return new E9(e,t)};D2.a.supermap.queryService=k9;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var M9=o4.extend({initialize:function(e,t){o4.prototype.initialize.call(this,e,t)},getAreaSolarRadiationResult:function(e,t,n){var r=this;new qX(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(e)},bufferAnalysis:function(e,t,n){var r=this;new rK(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},densityAnalysis:function(e,t,n){var r=this;new jK(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},generateSpatialData:function(e,t,n){var r=this;new hZ(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(e)},geoRelationAnalysis:function(e,t,n){var r=this;new gZ(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(e)},interpolationAnalysis:function(e,t,n){var r=this;new b$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},mathExpressionAnalysis:function(e,t,n){var r=this;new E$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},overlayAnalysis:function(e,t,n){var r=this;new A$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},routeCalculateMeasure:function(e,t,n){var r=this;new H$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},routeLocate:function(e,t,n){var r=this;new q$(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},surfaceAnalysis:function(e,t,n){var r=this;new f0(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},terrainCurvatureCalculate:function(e,t,n){var r=this;new p0(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(e)},thiessenAnalysis:function(e,t,n){var r=this;new _0(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}).processAsync(r._processParams(e))},geometrybatchAnalysis:function(e,t,n){for(var r=this,i=new w0(r.url,{serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}),o=[],a=0;a<e.length;a++){var s=e[a];o.push({analystName:s.analystName,param:r._processParams(s.param)})}i.processAsync(o)},_processParams:function(e){if(!e)return{};if(e.bounds&&(e.bounds=h4.toSuperMapBounds(e.bounds)),e.inputPoints)for(var t=0;t<e.inputPoints.length;t++){var n=e.inputPoints[t];D2.a.Util.isArray(n)&&(e.inputPoints[t]={x:n[0],y:n[1],tag:n[2]})}if(e.points)for(var r=0;r<e.points.length;r++){var i=e.points[r];D2.a.Util.isArray(i)?e.points[r]={x:i[0],y:i[1]}:i instanceof D2.a.LatLng?e.points[r]={x:i.lng,y:i.lat}:e.points[r]={x:i.x,y:i.y}}if(e.point&&(D2.a.Util.isArray(e.point)?e.point={x:e.point[0],y:e.point[1]}:e.point instanceof D2.a.LatLng?e.point={x:e.point.lng,y:e.point.lat}:e.point={x:e.point.x,y:e.point.y}),e.extractRegion&&(e.extractRegion=d4(e.extractRegion)),e.extractParameter&&e.extractParameter.clipRegion&&(e.extractParameter.clipRegion=d4(e.extractParameter.clipRegion)),e.clipParam&&e.clipParam.clipRegion&&(e.clipParam.clipRegion=d4(e.clipParam.clipRegion)),e.sourceGeometry){var o=null;e.sourceGeometrySRID&&(o=e.sourceGeometrySRID),e.sourceGeometry=d4(e.sourceGeometry),o&&(e.sourceGeometry.SRID=o),delete e.sourceGeometry.sourceGeometrySRID}if(e.operateGeometry&&(e.operateGeometry=d4(e.operateGeometry)),e.sourceGeometries){for(var a=[],s=0;s<e.sourceGeometries.length;s++)a.push(d4(e.sourceGeometries[s]));e.sourceGeometries=a}if(e.operateGeometries){for(var l=[],u=0;u<e.operateGeometries.length;u++)l.push(d4(e.operateGeometries[u]));e.operateGeometries=l}if(e.sourceRoute&&e.sourceRoute instanceof D2.a.Polyline){var c={};c.type="LINEM",c.parts=[e.sourceRoute.getLatLngs().length],c.points=[];for(var f=0;f<e.sourceRoute.getLatLngs().length;f++){var h=e.sourceRoute.getLatLngs()[f];c.points=c.points.concat({x:h.lng,y:h.lat,measure:h.alt})}e.sourceRoute=c}return e.operateRegions&&D2.a.Util.isArray(e.operateRegions)&&e.operateRegions.map(function(t,n){return e.operateRegions[n]=d4(t),e.operateRegions[n]}),e},_processFormat:function(e){return e||CQ.GEOJSON}}),A9=function(e,t){return new M9(e,t)};D2.a.supermap.spatialAnalystService=A9;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var L9=o4.extend({initialize:function(e,t){o4.prototype.initialize.call(this,e,t)},getThemeInfo:function(e,t){var n=this;new S0(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)}}),j9=function(e,t){return new L9(e,t)};D2.a.supermap.themeService=j9;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var R9=o4.extend({initialize:function(e,t){o4.prototype.initialize.call(this,e,t)},queryStop:function(e,t){var n=this;new r0(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(e)},analysisTransferPath:function(e,t){var n=this;new E0(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(n._processParams(e))},analysisTransferSolution:function(e,t){var n=this;new M0(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}}).processAsync(n._processParams(e))},_processParams:function(e){return e?(e.points&&D2.a.Util.isArray(e.points)&&e.points.map(function(t,n){return e.points[n]=t instanceof D2.a.LatLng?{x:t.lng,y:t.lat}:t,e.points[n]}),e):{}}}),N9=function(e,t){return new R9(e,t)};D2.a.supermap.trafficTransferAnalystService=N9;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
* This program are made available under the terms of the Apache License, Version 2.0
* which accompanies this distribution and is available at/r* http://www.apache.org/licenses/LICENSE-2.0.html.*/
var I9=D2.a.Control.extend({options:{position:"topright",style:function(e,t){return t?D2.a.circleMarker(t,{fillColor:"blue",weight:1,opacity:1,color:"blue",fillOpacity:.6}):{fillColor:"blue",weight:1,opacity:1,color:"blue",fillOpacity:.6}},onEachFeature:null},initialize:function(e){D2.a.setOptions(this,e),this._event=new D2.a.Evented,this.rootContainer=null},onAdd:function(e){return this.map=e,this.rootContainer=this._initView(),this.rootContainer},on:function(e,t){this._event.on(e,t)},off:function(e,t){this._event.off(e,t)},_initView:function(){},_preventMapEvent:function(e,t){e&&t&&(e.addEventListener("mouseover",function(){t.dragging.disable(),t.scrollWheelZoom.disable(),t.doubleClickZoom.disable()}),e.addEventListener("mouseout",function(){t.dragging.enable(),t.scrollWheelZoom.enable(),t.doubleClickZoom.enable()}))}}),D9=function(e){return new I9(e)};D2.a.supermap.components.componentsViewBase=D9;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var F9=D2.a.Evented.extend({initialize:function(){this.fileModel=new h2},readFile:function(e){var t=e.target,n=t.files[0];if(n.size>this.fileModel.FileConfig.fileMaxSize)return this.fire("filesizeexceed",{messageType:"warring",message:m2.i18n("msg_fileSizeExceeded")}),!1;var r=t.value,i=n.name,o=j2.getFileType(i);if(!o)return this.fire("errorfileformat",{messageType:"failure",message:m2.i18n("msg_fileTypeUnsupported")}),!1;""!==i&&(this.fileModel.set("loadFileObject",{file:n,filePath:r,fileName:i,fileType:o}),this._readData())},_readData:function(){var e=this,t=this,n=this.fileModel.loadFileObject.fileType;g2.readFile(n,{file:this.fileModel.loadFileObject.file,path:this.fileModel.loadFileObject.filePath},function(r){g2.processDataToGeoJson(n,r,function(t){t&&e.fire("openfilesucceeded",{result:t,layerName:e.fileModel.loadFileObject.fileName.split(".")[0]})},function(e){t.fire("openfilefailed",{messageType:"failure",message:e})},e)},function(){t.fire("openfilefailed",{messageType:"failure",message:m2.i18n("msg_openFileFail")})},this)}}),B9=function(e){return new F9(e)};D2.a.supermap.components.openFileViewModel=B9,D2.a.supermap.components.util=j2;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var U9=I9.extend({options:{layer:null},initialize:function(e){I9.prototype.initialize.apply(this,[e]),this.viewModel=new F9},setViewStyle:function(e,t){this.rootContainer.style[e]=t},_initView:function(){var e=this,t=D2.a.DomUtil.create("div","component-openfile");return t.id="openFile",this.fileSelect=D2.a.DomUtil.create("div","",t),this.label=D2.a.DomUtil.create("label","component-openfile__span--select",this.fileSelect),this.label.htmlFor="input_file",D2.a.DomUtil.create("div","supermapol-icons-upload",this.label),D2.a.DomUtil.create("span","component-openfile__span",this.label).appendChild(document.createTextNode(m2.i18n("text_chooseFile"))),this.fileInput=D2.a.DomUtil.create("input","component-openfile__input",this.fileSelect),this.fileInput.id="input_file",this.fileInput.type="file",this.fileInput.accept=".json,.geojson,.csv,.xls,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel",this.fileInput.onchange=function(t){e.messageBox.closeView(),e.viewModel.readFile(t)},this.messageBox=new p2,this.viewModel.on("filesizeexceed",function(t){e.messageBox.showView(t.message,t.messageType)}),this.viewModel.on("errorfileformat",function(t){e.messageBox.showView(t.message,t.messageType)}),this.viewModel.on("openfilefailed",function(t){e.messageBox.showView(t.message,t.messageType),e._event.fire("openfilefailed",t)}),this.viewModel.on("readdatafail",function(t){e.messageBox.showView(t.message,t.messageType)}),this.viewModel.on("openfilesucceeded",function(t){e._event.fire("openfilesucceeded",t)}),this._preventMapEvent(t,this.map),t}}),G9=function(e){return new U9(e)};D2.a.supermap.components.openFile=G9;var z9={HOT:{HOT:["åäº¬å¸","ä¸æµ·å¸","å¹¿å·å¸","æ·±å³å¸","åäº¬å¸","æ­å·å¸","å¤©æ´¥å¸","éåºå¸","æé½å¸","éå²å¸","èå·å¸","æ é¡å¸","å¸¸å·å¸","æ¸©å·å¸","æ­¦æ±å¸","é¿æ²å¸","åæå¸","ä¸äºå¸","åè¥å¸","ç³å®¶åºå¸"]},AB:{A:["é¿æåç","éå±±å¸","å®åºå¸","å®é³å¸","é¿åèæç¾æèªæ²»å·","å®é¡ºå¸","é¿éå°åº","å®åº·å¸","é¿åèå°åº","é¿åæ³°å°åº","é¿æå°å¸"],B:["åäº¬å¸","ä¿å®å¸","åå¤´å¸","å·´å½¦æ·å°å¸","æ¬æºªå¸","ç½å±±å¸","ç½åå¸","èå å¸","äº³å·å¸","æ»¨å·å¸","åæµ·å¸","ç¾è²å¸","ç½æ²é»æèªæ²»å¿","ä¿äº­é»æèæèªæ²»å¿","å·´ä¸­å¸","æ¯èå°åº","ä¿å±±å¸","å®é¸¡å¸","ç½é¶å¸","åå°å¡æèå¤èªæ²»å·","å·´é³é­æ¥èå¤èªæ²»å·","ååº"]},CD:{C:["éåºå¸","æé½å¸","å¸¸å·å¸","é¿æ²å¸","æ¿å¾·å¸","æ²§å·å¸","é¿æ²»å¸","èµ¤å³°å¸","æé³å¸","é¿æ¥å¸","æ»å·å¸","å·¢æ¹å¸","æ± å·å¸","å¸¸å¾·å¸","é´å·å¸","æ½®å·å¸","å´å·¦å¸","æ¾è¿å¿","ææ±é»æèªæ²»å¿","æ¥éå½æèªæ²»å·","æé½å°åº","æååæèªæ²»å·"],D:["å¤§åå¸","å¤§è¿å¸","ä¸¹ä¸å¸","å¤§åºå¸","å¤§å´å®å²­å°åº","ä¸è¥å¸","å¾·å·å¸","ä¸èå¸","åå·å¸","ä¸æ¹å¸","å®å®å¿","å¾·é³å¸","è¾¾å·å¸","å¤§çç½æèªæ²»å·","å¾·å®å£ææ¯é¢æèªæ²»å·","è¿ªåºèæèªæ²»å·","å®è¥¿å¸","ä¸åº","å¤§ååº","å¤§å åº"]},EFG:{E:["éå°å¤æ¯å¸","éå·å¸","æ©æ½åå®¶æèæèªæ²»å·"],F:["æé¡ºå¸","éæ°å¸","éé³å¸","ç¦å·å¸","æå·å¸","ä½å±±å¸","é²åæ¸¯å¸"],G:["å¹¿å·å¸","èµ£å·å¸","æ¡æå¸","è´µæ¸¯å¸","å¹¿åå¸","å¹¿å®å¸","è´µé³å¸","åºåå¸","é«éå¸","é«éå¿","çåèæèªæ²»å·","çå­èæèªæ²»å·"]},H:{H:["æ­å·å¸","åè¥å¸","é¯é¸å¸","è¡¡æ°´å¸","å¼åæµ©ç¹å¸","å¼ä¼¦è´å°å¸","è«è¦å²å¸","åå°æ»¨å¸","é¹¤å²å¸","é»æ²³å¸","æ·®å®å¸","æ¹å·å¸","æ·®åå¸","æ·®åå¸","é»å±±å¸","èæ³½å¸","é¹¤å£å¸","é»ç³å¸","é»åå¸","è¡¡é³å¸","æåå¸","æ å·å¸","æ²³æºå¸","è´ºå·å¸","æ²³æ± å¸","æµ·å£å¸","çº¢æ²³åå°¼æå½æèªæ²»å·","æ±ä¸­å¸","æµ·ä¸å°åº","æµ·åèæèªæ²»å·","é»åèæèªæ²»å·","æµ·åèæèªæ²»å·","ææ´èæèªæ²»å·","æµ·è¥¿èå¤æèæèªæ²»å·","åå¯å°åº","åç°å°åº","è±è²å¿","é»å¤§ä»åº","è±å°çå åº"]},J:{J:["æåå¸","æä¸­å¸","é¦å·å¸","åæå¸","é¸¡è¥¿å¸","ä½³æ¨æ¯å¸","åå´å¸","éåå¸","æ¯å¾·éå¸","ä¹æ±å¸","åå®å¸","æµåå¸","æµå®å¸","ç¦ä½å¸","æµæºå¸","èé¨å¸","èå·å¸","æ±é¨å¸","æ¹æ±å¸","æ­é³å¸","åå³ªå³å¸","éæå¸","éæ³å¸","åºéå¸","åä¹å¸","åä¹å¿","ä¹é¾ååº","åæ¨¡å åº"]},KL:{K:["å¼å°å¸","ææå¸","åæçä¾å¸","åå­åèæ¯å°åå­èªæ²»å·","åä»å°åº"],L:["å»åå¸","ä¸´æ±¾å¸","åæ¢å¸","è¾½é³å¸","è¾½æºå¸","è¿äºæ¸¯å¸","ä¸½æ°´å¸","å­å®å¸","é¾å²©å¸","è±èå¸","ä¸´æ²å¸","èåå¸","æ´é³å¸","æ¼¯æ²³å¸","å¨åºå¸","æ³å·å¸","æ¥å®¾å¸","ä¸´é«å¿","ä¹ä¸é»æèªæ²»å¿","éµæ°´é»æèªæ²»å¿","æ³¸å·å¸","ä¹å±±å¸","åå±±å½æèªæ²»å·","å­çæ°´å¸","ä¸½æ±å¸","ä¸´æ²§å¸","æè¨å¸","æèå°åº","å°å·å¸","éåå¸","ä¸´å¤åæèªæ²»å·"]},MNP:{M:["ç¡ä¸¹æ±å¸","é©¬éå±±å¸","èåå¸","æ¢å·å¸","ç»µé³å¸","çå±±å¸","èæ å¿"],N:["åäº¬å¸","åæå¸","åéå¸","å®æ³¢å¸","åå¹³å¸","å®å¾·å¸","åé³å¸","åå®å¸","åæ²ç¾¤å²","åæ±å¸","ååå¸","ææ±ååæèªæ²»å·","é£æ²å°åº","åæå¿"],P:["çé¦å¸","èç°å¸","èä¹¡å¸","å¹³é¡¶å±±å¸","æ¿®é³å¸","ææè±å¸","å¹³åå¸","å±ä¸å¿","æ¾æ¹å¿"]},QR:{Q:["éå²å¸","ç§¦çå²å¸","é½é½åå°å¸","é»è¥¿åå¸ä¾æèæèªæ²»å·","ä¸å°æ²³å¸","è¡¢å·å¸","æ³å·å¸","æ½æ±å¸","æ¸è¿å¸","é¦å·å¸","ç¼æµ·å¸","æ²éå¸","åºé³å¸","èæ¹¾åº","é»ä¸åèæä¾æèªæ²»å·","é»åå¸ä¾æèæèªæ²»å·","ç¼ä¸­é»æèæèªæ²»å¿"],R:["æ¥ç§å¸","æ¥ååå°åº"]},S:{S:["ä¸æµ·å¸","æ·±å³å¸","èå·å¸","ç³å®¶åºå¸","ä¸äºå¸","æå·å¸","æ²é³å¸","åå¹³å¸","æ¾åå¸","åé¸­å±±å¸","ç»¥åå¸","å®¿è¿å¸","ç»å´å¸","å®¿å·å¸","ä¸æå¸","ä¸é¥¶å¸","ä¸é¨å³¡å¸","åä¸å¸","åå °å¸","éå·å¸","éµé³å¸","é¶å³å¸","æ±å¤´å¸","æ±å°¾å¸","ä¸äºå¸","éå®å¸","æèå¸","å±±åå°åº","åæ´å¸","ç³å´å±±å¸","ç³æ²³å­å¸","æ·±æ°´ååº","æ²ç°åº","ç¥åæ¶æåº","å£å®å¤å°¼å åº","å£æ¹æµåå åº"]},T:{T:["å¤©æ´¥å¸","åå±±å¸","å¤ªåå¸","éè¾½å¸","éå²­å¸","éåå¸","æ³°å·å¸","å°å·å¸","ééµå¸","æ³°å®å¸","å¤©é¨å¸","å±¯æå¿","éä»å°åº","éå·å¸","å¤©æ°´å¸","åé²çªå°åº","å¡åå°åº","å¾æ¨èåå¸","å°åå¸","å°ä¸­å¸","å°åå¸","å°åå¿","æ¡å­å¿","å°ä¸­å¿","å°åå¿","å°ä¸å¿","å±¯é¨åº"]},W:{W:["æ é¡å¸","æ¸©å·å¸","æ­¦æ±å¸","ä¹æµ·å¸","ä¹å°å¯å¸å¸","èæ¹å¸","æ½åå¸","å¨æµ·å¸","æ¢§å·å¸","äºæå±±å¸","ææå¸","ä¸å®å¸","æå±±å£®æèæèªæ²»å·","æ¸­åå¸","æ­¦å¨å¸","å´å¿ å¸","ä¹é²æ¨é½å¸","äºå®¶æ¸ å¸","æ¹¾ä»åº","æå¾·å åº"]},X:{X:["é¢å°å¸","å¿»å·å¸","å´å®ç","å¾å·å¸","å®£åå¸","å¦é¨å¸","æ°ä½å¸","æ°ä¹¡å¸","è®¸æå¸","ä¿¡é³å¸","è¥æ¨å¸","å­æå¸","å¸å®å¸","ä»æ¡å¸","æ¹æ½­å¸","è¥¿å®å¸","å¸é³å¸","è¥¿å®å¸","æ°ç«¹å¸","æ°ç«¹å¿","è¥¿è´¡åº","é¡æé­åç","è¥¿æ²ç¾¤å²","æ¹è¥¿åå®¶æèæèªæ²»å·","è¥¿åççº³å£æèªæ²»å·"]},Y:{Y:["é³æ³å¸","è¿åå¸","è¥å£å¸","å»¶è¾¹æé²æèªæ²»å·","ä¼æ¥å¸","çåå¸","æ¬å·å¸","é¹°æ½­å¸","å®æ¥å¸","çå°å¸","å®æå¸","å²³é³å¸","çé³å¸","æ°¸å·å¸","é³æ±å¸","äºæµ®å¸","çæå¸","å®å®¾å¸","éå®å¸","çæºªå¸","å»¶å®å¸","æ¦æå¸","çæ èæèªæ²»å·","é¶å·å¸","ä¼çåè¨åèªæ²»å·","å®å°å¿","äºæå¿","æ²¹å°æºåº","åæåº"]},Z:{Z:["éå·å¸","å¼ å®¶å£å¸","éæ±å¸","èå±±å¸","æ¼³å·å¸","æ·åå¸","æ£åºå¸","å¨å£å¸","é©»é©¬åºå¸","æ ªæ´²å¸","å¼ å®¶çå¸","ç æµ·å¸","èåºå¸","ä¸­å±±å¸","èªè´¡å¸","èµé³å¸","éµä¹å¸","æ­éå¸","å¼ æå¸","ä¸­å«å¸","å½°åå¿","ä¸­è¥¿åº","ä¸­æ²ç¾¤å²çå²ç¤åå¶æµ·å"]}},V9=function(){function e(t){DW(this,e),this.layers=[],t&&t.length>0&&this.addLayers(t),this.currentLayerDataModel=null}return BW(e,[{key:"addLayers",value:function(e,t,n,r){for(var i=0;i<e.length;i++){var o=e[i].layerName;if(e[i].layer instanceof D2.a.GeoJSON){var a=new H9(e[i].layer);this.layers[o]=a,t&&t.call(r,{layerName:o,layer:a})}else n&&n.call(r,"")}}},{key:"setCurrentLayerDataModel",value:function(e){this.layers[e]&&(this.currentLayerDataModel=this.layers[e])}}]),e}();D2.a.supermap.components.GeoJsonLayersDataModel=V9;var H9=function(){function e(t){if(DW(this,e),this.layer=t,this.features=t.getLayers(),this.attributeNames=[],this.features[0].feature.properties)for(var n in this.features[0].feature.properties)this.attributeNames.push(n);this.operatingAttributeNames=[],this.attributes={}}return BW(e,[{key:"setOperatingAttributeNames",value:function(e){this.operatingAttributeNames=e}},{key:"getAllAttributeNames",value:function(){return this.attributeNames}},{key:"getAttributeNamesByType",value:function(e){if(this.features[0].feature.properties){var t=this.features[0].feature.properties,n=[];if("Num"===e)for(var r in t)isNaN(t[r])||n.push(r);else n=this.attributeNames;return n}}},{key:"getAllFeatures",value:function(){return this.features}},{key:"getAttributeValueByAttributeName",value:function(e){if(this.attributes[e])return this.attributes[e];this.attributes[e]=[];for(var t=0;t<this.features.length;t++)this.attributes[e].push([this.features[t].feature.properties[e]]);return this.attributes[e]}},{key:"getFeaturesByKeyWord",value:function(e){var t=[],n=new RegExp(e.toLowerCase()),r=this;return this.features.forEach(function(e){if(!e.feature.properties)return null;var i,o=e.feature.properties;i=r.operatingAttributeNames.length>0?r.operatingAttributeNames:r.attributeNames;for(var a=0,s=i.length;a<s;a++)if(o[i[a]]&&n.test(o[i[a]].toString().toLowerCase())){var l=i[a],u=o[i[a]];e.filterAttribute={filterAttributeName:l,filterAttributeValue:u},t.push(e);break}}),t}}]),e}(),J9=D2.a.Evented.extend({options:{cityGeoCodingConfig:{addressUrl:"http://www.supermapol.com/iserver/services/localsearch/rest/searchdatas/China/poiinfos",key:"fvV2osxwuZWlY0wJb8FEb2i5"}},initialize:function(e,t){if(!e)return new Error("Cannot find map, fileModel.map cannot be null.");this.map=e,D2.a.Util.setOptions(this,t),this.dataModel=new V9,this.geoCodeParam={keyWords:"åäº¬å¸",city:"åäº¬å¸",pageSize:this.options.pageSize,pageNum:this.options.pageNum},this.searchCache={}},search:function(e,t){t?this.searchFromLayer(e,t):this.searchFromCityLocalSearchService(e)},searchFromLayer:function(e,t){if(this.dataModel.layers[t]){var n=this.dataModel.layers[t].getFeaturesByKeyWord(e);n&&n.length>0?this.fire("searchlayersucceeded",{result:n}):this.fire("searchfailed",{searchType:"searchLayersField"})}},searchFromCityLocalSearchService:function(e){if(this.searchCache[e])this.fire("geocodesucceeded",{result:this.searchCache[e]});else{this.geoCodeParam.keyWords=e||this.geoCodeParam.city;var t=this,n=this._getSearchUrl(this.geoCodeParam);bX.get(n).then(function(e){return e.json()}).then(function(e){if(e.error||0===e.poiInfos.length)return void t.fire("searchfailed",{searchType:"searchGeocodeField"});if(e.poiInfos){var n=t._dataToGeoJson(e.poiInfos,t.geoCodeParam);t.fire("geocodesucceeded",{result:n})}})}},addSearchLayers:function(e){var t=this;this.dataModel.addLayers(e,function(e){t.fire("newlayeradded",{layerName:e.layerName})},null,this)},panToLayer:function(e){this.dataModel.layers[e]&&this.map.flyToBounds(this.dataModel.layers[e].layer.getBounds())},panToCity:function(e){this.geoCodeParam.keyWords=e,this.geoCodeParam.city=e;var t=this,n=this._getSearchUrl(this.geoCodeParam);bX.get(n).then(function(e){return e.json()}).then(function(e){if(e.poiInfos.length>0){var n=D2.a.latLng(e.poiInfos[0].location.y,e.poiInfos[0].location.x);t.map.setView(n,8)}else t.fire("searchfailed",{searchType:"cityGeocodeField"})})},_dataToGeoJson:function(e,t){for(var n=[],r=0;r<e.length;r++){var i={type:"Feature",geometry:{type:"Point",coordinates:[e[r].location.x,e[r].location.y]},properties:{name:e[r].name||t.keyWords,address:e[r].formatedAddress||e[r].address}};n.push(i)}return n},_getSearchUrl:function(e){return this.options.cityGeoCodingConfig.addressUrl+".json?keywords=".concat(e.keyWords,"&city=").concat(e.city,"&pageSize=").concat(e.pageSize,"&pageNum=").concat(e.pageNum,"&key=").concat(this.options.cityGeoCodingConfig.key)}}),q9=function(e){return new J9(e)};D2.a.supermap.components.searchViewModel=q9;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var W9=I9.extend({options:{cityConfig:z9,cityGeoCodingConfig:{addressUrl:"http://www.supermapol.com/iserver/services/localsearch/rest/searchdatas/China/poiinfos",key:"fvV2osxwuZWlY0wJb8FEb2i5"},isGeoCoding:!0,pageSize:10,pageNum:1,perPageDataNum:8},initialize:function(e){I9.prototype.initialize.apply(this,[e]),this.currentSearchLayerName="",this.isSearchLayer=!1,this.perPageDataNum=this.options.perPageDataNum},onAdd:function(e){return this.viewModel=new J9(e,this.options),I9.prototype.onAdd.apply(this,[e])},addSearchLayer:function(e){this.viewModel.addSearchLayers(e)},_initView:function(){var e=this,t=this,n=document.createElement("div");n.setAttribute("class","component-search-container");var r=document.createElement("div");r.setAttribute("class","component-search");var i=document.createElement("div");i.setAttribute("class","component-search__settings");var o=document.createElement("div");o.setAttribute("class","component-search__settings__name"),i.appendChild(o);var a=document.createElement("span");a.setAttribute("class","supermapol-icons-solid-down-triangle"),i.appendChild(a);var s=null;if(this.options.isGeoCoding){var l=new M2({config:this.options.cityConfig});s=l.getElement(),l.content.onclick=function(t){"SPAN"===t.target.nodeName&&t.target.innerText&&(e.viewModel.panToCity(t.target.innerHTML),e.messageBox.closeView(),o.removeChild(o.firstChild),o.insertBefore(document.createTextNode(t.target.innerHTML),o.firstChild),e.isSearchLayer=!1)},o.appendChild(document.createTextNode(l.content.getElementsByTagName("span")[0].innerText))}var u=function(){var e=document.createElement("div");e.setAttribute("class","component-search__layers");var n=document.createElement("div");n.setAttribute("class","component-search-layers-content"),e.appendChild(n);var r=document.createElement("div");r.setAttribute("class","component-search__layers__header");var i=document.createElement("div");i.setAttribute("class","load-btn"),r.appendChild(i);var a=document.createElement("span");a.setAttribute("class","supermapol-icons-poi-load"),i.appendChild(a);var s=document.createElement("span");s.appendChild(document.createTextNode(m2.i18n("text_loadSearchCriteria"))),i.appendChild(s);var l=document.createElement("div");l.setAttribute("class","save-btn"),r.appendChild(l);var u=document.createElement("span");u.setAttribute("class","supermapol-icons-poi-save"),l.appendChild(u);var c=document.createElement("span");c.appendChild(document.createTextNode(m2.i18n("text_saveSearchCriteria"))),l.appendChild(c);var f=document.createElement("div");return f.setAttribute("class","component-search__layers__body"),f.onclick=function(e){t.clearSearchResult();var n=null;if("component-search__layers__itme__singleselect"===e.target.classList[0])n=e.target;else{if("component-single-default-img"!==e.target.classList[0]&&"single-label"!==e.target.classList[0])return;n=e.target.parentNode}document.getElementsByClassName("component-single-checked-img").length>0&&document.getElementsByClassName("component-single-checked-img")[0].setAttribute("class","component-single-default-img"),n.firstChild.setAttribute("class","component-single-checked-img"),t.currentSearchLayerName=n.lastChild.innerText,t.isSearchLayer=!0,o.removeChild(o.firstChild),o.insertBefore(document.createTextNode(t.currentSearchLayerName),o.firstChild),t.viewModel.panToLayer(t.currentSearchLayerName),t.messageBox.closeView()},n.appendChild(f),e}(),c=[];s&&c.push({title:m2.i18n("title_searchCity"),content:s}),c.push({title:m2.i18n("title_searchLayer"),content:u});var f=new A2({tabs:c}),h=f.getElement();f.closeView(),r.appendChild(h),i.onclick=function(){h.hidden?f.showView():f.closeView()},r.appendChild(i),o.innerText||o.appendChild(document.createTextNode(m2.i18n("text_label_chooseSearchLayers")));var p=document.createElement("div");p.setAttribute("class","component-search__input");var y=document.createElement("input");y.type="text",y.placeholder=m2.i18n("text_label_searchTips"),p.appendChild(y),this.poiInput=y;var d=document.createElement("span");d.setAttribute("class","supermapol-icons-close"),d.hidden=!0,p.appendChild(d),r.appendChild(p);var m=document.createElement("div");m.setAttribute("class","component-search-icon supermapol-icons-search"),m.onclick=function(){v.closeView(),e.clearSearchResult(),e.messageBox.closeView(),f.closeView();var t=e.poiInput.value.trim();if(""===t)return void e.messageBox.showView(m2.i18n("msg_searchKeywords"));e.isSearchLayer?e.viewModel.search(t,e.currentSearchLayerName):e.viewModel.search(t)},y.onkeypress=function(e){if(13==e.which){var t=document.createEvent("HTMLEvents");t.initEvent("click",!1,!0),m.dispatchEvent(t)}},r.appendChild(m);var v=new L2;this._resultDomObj=v;var b=function(){var e=v.getElement();return e.style.position="absolute",e.style.top="44px",e.style.right="0",v.closeView(),v.content.onclick=function(e){var n=null;if("component-search-result-info"===e.target.parentNode.className)n=e.target.parentNode.parentNode;else if("component-search__resultitme"===e.target.parentNode.className)n=e.target.parentNode;else{if("component-search__resultitme"!==e.target.className)return;n=e.target}document.getElementsByClassName("component-search__resultitme-selected").length>0&&document.getElementsByClassName("component-search__resultitme-selected")[0].classList.remove("component-search__resultitme-selected"),n.firstChild.classList.add("component-search__resultitme-selected");var r=n.children[1].firstChild.innerText;t._linkageFeature(r)},e}();return r.appendChild(b),d.onclick=function(t){e.clearSearchResult(),y.value="",t.target.hidden=!0,v.closeView()},y.oninput=function(){d.hidden=!1},this.messageBox=new p2,this._addViewModelListener(),n.appendChild(r),this._preventMapEvent(n,this.map),n},_createSearchLayerItem:function(e){var t=document.createElement("div");t.setAttribute("class","component-search__layers__itme");var n=document.createElement("div");n.setAttribute("class","component-search__layers__itme__singleselect");var r=document.createElement("div");r.setAttribute("class","component-single-default-img"),n.appendChild(r);var i=document.createElement("span");i.setAttribute("class","single-label"),i.innerHTML=e,n.appendChild(i),t.appendChild(n),document.getElementsByClassName("component-search__layers__body")[0].appendChild(t)},_createResultItem:function(e,t){var n=document.createElement("div");n.setAttribute("class","component-search__resultitme");var r=document.createElement("div");"Point"===e||"MultiPoint"===e?r.setAttribute("class","supermapol-icons-marker-layer component-search-result-icon"):"LineString"===e||"MultiLineString "===e?r.setAttribute("class","supermapol-icons-line-layer component-search-result-icon"):"Polygon"===e||"MultiPolygon"===e?r.setAttribute("class","supermapol-icons-polygon-layer component-search-result-icon"):r.setAttribute("class","supermapol-icons-point-layer component-search-result-icon"),n.appendChild(r);var i=document.createElement("div");i.setAttribute("class","component-search-result-info");var o=document.createElement("div");i.appendChild(o);var a=document.createElement("div");return t.name?(o.innerHTML=t.name,a.innerHTML=t.address,i.appendChild(a)):o.innerHTML=t.filterAttributeName+": "+t.filterAttributeValue,n.appendChild(i),document.createElement("div").setAttribute("class","component-checkbox component-checkbox-default-img"),n},_addViewModelListener:function(){var e=this;this.viewModel.on("searchlayerschanged",function(t){for(var n=0;n<t.length;n++)e._createSearchLayerItem(t[n])}),this.viewModel.on("newlayeradded",function(t){e._createSearchLayerItem(t.layerName)}),this.viewModel.on("searchlayersucceeded",function(t){var n=t.result;e.clearSearchResult(),e.searchResultLayer=D2.a.featureGroup(n,{pointToLayer:e.options.style,style:e.options.style}).bindPopup(function(e){if(e.feature.properties)return new E2({attributes:e.feature.properties}).getElement()}).addTo(e.map),e.searchResultLayer.eachLayer(function(t){e.options.onEachFeature?e.options.onEachFeature(t.toGeoJSON(),t):e._featureOnclickEvent.bind(e)(t.toGeoJSON(),t)}),e.searchLayersData=n,e._prepareResultData(n),e._event.fire("searchlayersucceeded",{result:e.searchResultLayer.toGeoJSON()})}),this.viewModel.on("geocodesucceeded",function(t){var n=t.result;e.clearSearchResult(),e.searchResultLayer=D2.a.geoJSON(n,{pointToLayer:e.options.style,style:e.options.style,onEachFeature:e.options.onEachFeature||e._featureOnclickEvent.bind(e)}).bindPopup(function(e){if(e.feature.properties)return new E2({attributes:e.feature.properties}).getElement()}).addTo(e.map),e.searchLayersData=n,e._prepareResultData(n),e._event.fire("geocodesucceeded",{result:n})}),this.viewModel.on("searchfailed",function(t){var n="";n="searchGeocodeField"===t.searchType?m2.i18n("msg_searchGeocodeField"):"cityGeocodeField"===t.searchType?m2.i18n("msg_cityGeocodeField"):m2.i18n("msg_getFeatureField"),e.messageBox.showView(n),e._event.fire("searchfailed",{message:n})})},_prepareResultData:function(e){function t(e){r._createResultListByPageNum(e,r.currentResult)}this.currentResult=e;var n=Math.ceil(e.length/this.perPageDataNum);this._resultDomObj.setPageLink(n),this._createResultListByPageNum(1,e),this._resultDomObj.showView(),this._resultDomObj.setLinkageEvent(t);var r=this},_createResultListByPageNum:function(e,t){var n,r=0;1===e&&t.length<this.perPageDataNum?n=t.length-1:e*this.perPageDataNum>t.length?(r=this.perPageDataNum*(e-1),n=t.length-1):(r=this.perPageDataNum*(e-1),n=e*this.perPageDataNum-1);for(var i=document.createElement("div"),o=r;o<=n;o++){var a=void 0,s="Point";t[o].filterAttribute?(s=t[o].feature.geometry.type,a=t[o].filterAttribute):a=t[o].properties,i.appendChild(this._createResultItem(s,a))}this._resultDomObj.setContent(i),this._resultDomObj.showView(),i.firstChild.getElementsByClassName("component-search-result-icon")[0].classList.add("component-search__resultitme-selected");var l=i.firstChild.getElementsByClassName("component-search-result-info")[0].firstChild.innerText;!this._selectMarkerFeature&&this._linkageFeature(l)},_flyToBounds:function(e){var t=e.getSouthWest(),n=e.getNorthEast();t.lat===n.lat&&t.lng===n.lng?this.map.flyTo(t):this.map.fitBounds(e)},_linkageFeature:function(e){var t=this,n="";n=this.isSearchLayer?e.split(":")[1].trim():e,this._selectFeature&&this._selectFeature.addTo(this.map),this.searchResultLayer.eachLayer(function(e){(!n||e.filterAttribute&&e.filterAttribute.filterAttributeValue===n||e.feature.properties&&e.feature.properties.name===n)&&(e.remove(),t._setSelectedLayerStyle(e))})},clearSearchResult:function(){this.searchResultLayer&&(this.map.closePopup(),!this.isSearchLayer&&this.map.removeLayer(this.searchResultLayer),this._selectMarkerFeature&&this.map.removeLayer(this._selectMarkerFeature),this._selectFeaturethis&&this.map.removeLayer(this._selectFeature),this._selectMarkerFeature=null,this._selectFeature=null,this.searchResultLayer=null,this.currentResult=null)},_featureOnclickEvent:function(e,t){var n=this;t.on("click",function(){var r=document.getElementsByClassName("component-pagination__link")[0];n._resultDomObj._changePageEvent({target:r.children[0].children[0]}),n._selectFeature&&n._selectFeature.addTo(n.map),t.remove();for(var i,o,a=0;a<n.searchLayersData.length;a++){var s=n.searchLayersData[a];if(s.properties&&s.properties.name===e.properties.name||s.filterAttribute&&s.filterAttribute.filterAttributeName+": "+s.filterAttribute.filterAttributeValue==t.filterAttribute.filterAttributeName+": "+t.filterAttribute.filterAttributeValue){o=a%n.perPageDataNum,i=parseInt(a/n.perPageDataNum)+1;break}}if(i>1)for(var l=1;l<i;l++){var u=void 0;u=document.getElementsByClassName("component-pagination__link")[0],n._resultDomObj._changePageEvent({target:u.children[u.children.length-2].children[0]})}var c=document.getElementsByClassName("component-search-result-info"),f=c[o].children[0];if(f.innerHTML===e.properties.name||f.innerHTML===t.filterAttribute.filterAttributeName+": "+t.filterAttribute.filterAttributeValue){var h=c[o].parentNode;document.getElementsByClassName("component-search__resultitme-selected").length>0&&document.getElementsByClassName("component-search__resultitme-selected")[0].classList.remove("component-search__resultitme-selected"),h.firstChild.classList.add("component-search__resultitme-selected"),n._setSelectedLayerStyle(t)}},this)},_setSelectedLayerStyle:function(e){this._selectMarkerFeature&&this._selectMarkerFeature.remove(),this._selectMarkerFeature=null,this._selectFeature=e,this._selectMarkerFeature=D2.a.geoJSON(e.toGeoJSON(),{pointToLayer:function(e,t){return D2.a.marker(t,{icon:D2.a.divIcon({className:"component-select-marker-icon",iconAnchor:[15,0]})})},style:{fillColor:"red",weight:1,opacity:1,color:"red",fillOpacity:.2}}).addTo(this.map),this._selectMarkerFeature.bindPopup(function(){return new E2({attributes:e.feature.properties}).getElement()},{closeOnClick:!1}).openPopup().addTo(this.map),this._flyToBounds(this.searchResultLayer.getBounds());var t;e.getLatLng?t=e.getLatLng():e.getCenter&&(t=e.getCenter()),this.map.setView(t)}}),Q9=function(e){return new W9(e)};D2.a.supermap.components.search=Q9;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var Y9=D2.a.Evented.extend({options:{_defaultLayerOptions:{style:null,onEachFeature:function(e,t){var n="å±æ§ä¿¡æ¯å¦ä¸ï¼<br>";for(var r in e.properties)n+=r+": "+e.properties[r]+"<br>";t.bindPopup(n)}}},initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return new Error("Cannot find map, fileModel.map cannot be null.");this.map=e,D2.a.Util.extend(this.options._defaultLayerOptions,t),this.options._defaultLayerOptions.pointToLayer=this.options._defaultLayerOptions.style,this.popupsStatus=!0,this.dataFlowStatus=!1,this.dataFlowUrl="",this.currentFeatures=[],this.dataFlowLayer=null},subscribe:function(e){var t=this;if(this.dataFlowUrl===e){if(this.dataFlowStatus)return void this.fire("dataflowservicesubscribed")}else this.dataFlowUrl=e;this.dataFlowStatus=!0,this.dataFlowLayer&&(this.dataFlowLayer.remove(),this.dataFlowLayer=null);var n=new y6(e,this.options._defaultLayerOptions);n.on("subscribesucceeded",function(e){t.fire("subscribesucceeded",{result:e})}),n.on("subscribefailed",function(e){t.fire("subscribefailed",{result:e})}),n.on("dataupdated",function(e){t.fire("dataupdated",{result:e});var n=e.layer.getBounds(),r=h4.toSuperMapBounds(t.map.getBounds()),i=h4.toSuperMapBounds(n);r.intersectsBounds(i)||(i.left===i.right&&i.top===i.bottom?t.map.setView(n.getCenter()):t.map.flyToBounds(n)),t.popupsStatus&&t.openPopups()}),n.addTo(this.map),this.dataFlowLayer=n},cancelSubscribe:function(){this.dataFlowLayer&&(this.dataFlowStatus=!1,this.dataFlowLayer.dataService.unSubscribe(),this.dataFlowLayer.remove(),this.dataFlowLayer=null)},openPopups:function(){if(this.popupsStatus=!0,this.dataFlowLayer)for(var e=this.dataFlowLayer.getLayers(),t=0;t<e.length;t++)for(var n=0;n<e[t].getLayers().length;n++)e[t].getLayers()[n].openPopup()},closePopups:function(){if(this.popupsStatus=!1,this.dataFlowLayer)for(var e=this.dataFlowLayer.getLayers(),t=0;t<e.length;t++)for(var n=0;n<e[t].getLayers().length;n++)e[t].getLayers()[n].closePopup()}}),X9=function(e){return new Y9(e)};D2.a.supermap.components.dataFlowViewModel=X9;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var K9=I9.extend({initialize:function(e){I9.prototype.initialize.apply(this,[e])},onAdd:function(e){var t={};return this.options.style&&(t.style=this.options.style),this.options.onEachFeature&&(t.style=this.options.onEachFeature),this.viewModel=new Y9(e,t),I9.prototype.onAdd.apply(this,[e])},_initView:function(){var e=this,t=new x2({title:m2.i18n("title_dataFlowService")}),n=t.getElement(),r=t.getContentElement();r.style.padding="10px 18px";var i=document.createElement("div");i.setAttribute("class","component-dataflow__container");var o=document.createElement("div");o.setAttribute("class","component-input-default");var a=document.createElement("input");a.setAttribute("class","component-input-default"),a.type="text",a.placeholder=m2.i18n("text_input_value_inputDataFlowUrl"),a.title=m2.i18n("text_input_value_inputDataFlowUrl"),o.appendChild(a);var s=document.createElement("span");s.setAttribute("class","supermapol-icons-close"),s.hidden=!0,s.onclick=function(e){a.value="",e.target.hidden=!0},a.oninput=function(){s.hidden=!1},o.appendChild(s),i.appendChild(o),r.appendChild(i);var l=document.createElement("div");l.setAttribute("class","component-dataflow__container");var u=document.createElement("div");u.setAttribute("class","component-checkbox-container");var c=document.createElement("div");c.setAttribute("class","component-checkbox-default component-checkbox-selected-img"),c.checked=!0,u.appendChild(c);var f=document.createElement("div");f.setAttribute("class","component-label component-label-selected"),f.innerHTML=m2.i18n("text_displayFeaturesInfo"),u.appendChild(f),c.onclick=function(t){t.target.checked=!t.target.checked,t.target.checked?(f.setAttribute("class","component-label component-label-selected"),t.target.setAttribute("class","component-checkbox-default component-checkbox-selected-img"),e.viewModel.openPopups()):(f.setAttribute("class","component-label"),t.target.setAttribute("class","component-checkbox-default component-checkbox-default-img"),e.viewModel.closePopups())},l.appendChild(u),r.appendChild(l);var h=document.createElement("div");h.setAttribute("class","component-dataflow__container component-init-center");var p=document.createElement("button");p.setAttribute("class","component-button-default"),p.innerHTML=m2.i18n("text_subscribe"),p.onclick=function(){var t=a.value;if(""===t)return void e.messageBox.showView(m2.i18n("msg_inputDataFlowUrlFirst"));e.viewModel.subscribe(t)},h.appendChild(p);var y=document.createElement("button");return y.setAttribute("class","component-button-default"),y.innerHTML=m2.i18n("text_cancelSubscribe"),y.onclick=function(){e.viewModel.cancelSubscribe()},h.appendChild(y),r.appendChild(h),this.messageBox=new p2,this.viewModel.on("dataflowservicesubscribed",function(){e.messageBox.showView(m2.i18n("msg_dataflowservicesubscribed"))}),this.viewModel.on("subscribesucceeded",function(){e.messageBox.showView(m2.i18n("msg_subscribesucceeded"))}),this.viewModel.on("dataupdated",function(t){e.messageBox.closeView(),e._event.fire("dataupdated",t)}),this._preventMapEvent(n,this.map),n}}),Z9=function(e){return new K9(e)};D2.a.supermap.components.dataFlow=Z9;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var $9=function e(t,n){UW(this,e),this.layerName=t,this.layer=n},e7=function(e,t){return new $9(e,t)};D2.a.supermap.components.geoJSONLayerWithName=e7;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var t7=function(e){function t(){return zW(this,t),JW(this,WW(t).apply(this,arguments))}return QW(t,e),HW(t,[{key:"initialize",value:function(e){this.workerUrl=e,this.turfLayers=[]}},{key:"getLayersData",value:function(e){for(var t={},n={},r={},i={},o=0;o<e;o++)e[o]=new $9(e[o].layerName,e[o].layer);this.geoJsonLayersDataModel=new V9(e);for(var a=[],s=0;s<e.length;s++)a[e[s].layerName]={fields:e[s].fields,layer:e[s].layer.toGeoJSON()};for(var l in this.geoJsonLayersDataModel.layers){var u=void 0;u=a[l].fields?a[l].fields:this.geoJsonLayersDataModel.layers[l].getAttributeNamesByType("Num");for(var c=[],f=0;f<u.length;f++){c[u[f]]=this.geoJsonLayersDataModel.layers[l].getAttributeValueByAttributeName(u[f]);for(var h=c[u[f]],p=0;p<h.length;p++)""!=h[p]&&void 0!==h[p]||(h.splice(p,1),p-=1),h[p]=parseFloat(h[p]);c[u[f]]=Array.from(new Set(h.sort(function(e,t){return e-t})))}var y={layerName:l,fields:u,fieldsValue:c,features:a[l].layer},d=a[l].layer.features[0].geometry.type;"Point"===d?n[l]=y:"LineString"===d?r[l]=y:"Polygon"===d&&(i[l]=y)}return t.point=n,t.lineString=r,t.polygon=i,t}},{key:"analysis",value:function(e,t){this.geoJsonLayersDataModel.setCurrentLayerDataModel(e.analysisLayers),this.worker=new Worker(this.workerUrl);var n=this.geoJsonLayersDataModel.currentLayerDataModel.layer.toGeoJSON();if("isolines"===e.analysisMethod){for(var r=e.analysisFieldsValue.split(","),i=n,o=0;o<r.length;o++)r[o]=parseFloat(r[o]);var a=this,s={pointGrid:i,analysisMethod:e.analysisMethod,breaks:r,zProperty:e.analysisFields,analysisCellSize:e.analysisCellSize,options:{gridType:"point",property:e.analysisFields,weight:Number(e.analysisBreaks)}};this.worker.postMessage(s),this.worker.onmessage=function(n){if(0===n.data.features.length)a.fire("analysisfailed");else{a.fire("analysissucceeded",{data:n.data});var r=D2.a.geoJSON(n.data,{style:{color:"#1060C2",weight:3},onEachFeature:function(e,t){e.properties&&t.bindPopup(new E2(e.properties).getElement()),t.on({mouseover:function(){t.setStyle({color:"#ffffff",weight:5})},mouseout:function(){t.setStyle({color:"#1060C2",weight:3})},click:function(){t.setStyle({color:"#ffffff",weight:5})}})}}).addTo(t);a.turfLayers.push(r),a.fire("layerloaded",{layer:r,name:e.resultLayersName}),a.worker.terminate()}}}else if("buffer"===e.analysisMethod){var l=this,u={analysisMethod:"buffer",radius:e.radius,unit:e.unit,isSave:e.isSaveStatus,isUnion:e.isUnion,geoJson:n};this.worker.postMessage(u),this.worker.onmessage=function(n){var r=D2.a.geoJSON(n.data,{style:{color:"#ffffff",fillColor:"#1060C2",fillOpacity:.5,weight:1.5},onEachFeature:function(e,t){e.properties&&t.bindPopup(new E2(e.properties).getElement()),t.on({mouseover:function(){t.setStyle({color:"#ffffff",fillColor:"rgb(46,40,79)",fillOpacity:.5,weight:5})},mouseout:function(){t.setStyle({color:"#ffffff",fillColor:"#1060C2",fillOpacity:.5,weight:1.5})},click:function(){t.setStyle({color:"#ffffff",fillColor:"rgb(46,40,79)",fillOpacity:.5,weight:2})}})}}).addTo(t);l.turfLayers.push(r),l.fire("layerloaded",{layer:r,name:e.resultLayersName}),l.worker.terminate()}}}},{key:"clearLayers",value:function(){for(var e in this.turfLayers)this.turfLayers[e].clearLayers();this.fire("layersremoved",{layers:this.turfLayers})}},{key:"cancelAnalysis",value:function(){this.worker.terminate()}}]),t}(D2.a.Evented),n7=function(e){return new t7(e)};D2.a.supermap.components.clientComputationViewModel=n7;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var r7=I9.extend({initialize:function(e,t){if(!e)throw new Error("workerUrl is required");this.workerUrl=e,I9.prototype.initialize.apply(this,[t])},onAdd:function(e){return this.map=e,I9.prototype.onAdd.apply(this,[e])},addLayer:function(e){this.layers=this.layers||[],this.layers.push(e);var t=this.viewModel.getLayersData(this.layers);this.fillDataToView(t)},fillDataToView:function(e){if(e){this.fillData=e;var t=document.getElementById("dropDownTop").getAttribute("data-value"),n={};switch(t){case"isolines":case"buffer":n=e.point}if("{}"!=JSON.stringify(n)){var r=[];for(var i in n)r.push(i);var o=document.getElementById("layersSelect"),a=document.getElementById("layerSelectName");o.innerHTML="",a.title=r[0],a.innerHTML=r[0],this._createOptions(o,r),this.layerSelectObj.optionClickEvent(o,a,this.layersSelectOnchange);var s=n[a.title],l=s.fields,u=s.fieldsValue;this.currentData=s,this.currentFillData=n;var c=document.getElementById("fieldsSelect");c.innerHTML="";var f=document.getElementById("fieldsSelectName");f.innerHTML=l[0],f.title=l[0],this._createOptions(c,l),this.fieldsSelectObj.optionClickEvent(c,f,this.fieldsSelectOnchange);var h=f.title,p=document.getElementById("getValueTextArea");p.value=u[h].toString().replace(/,/g,",\r\n"),p.setAttribute("data-value",u[h]);var y=document.getElementById("resultLayersName");switch(document.getElementById("dropDownTop").getAttribute("data-value")){case"isolines":y.value=m2.i18n("text_label_isolines")+a.title;break;case"buffer":y.value=m2.i18n("text_label_buffer")+a.title}}}},_initView:function(){function e(e){if(this.currentData){var t=this.currentData,n=e.title;M.value=t.fieldsValue[n].toString().replace(/,/g,",\r\n"),M.setAttribute("data-value",t.fieldsValue[n])}}function t(e){if(this.currentData){var t=e.title,n=this.currentFillData[t];this.currentData=n,C.innerHTML="",this._createOptions(C,n.fields);var r=document.getElementById("fieldsSelectName"),i=n.fields[0];r.title=i,r.innerHTML=i;var o=i;this.fieldsSelectObj.optionClickEvent(C,r,this.fieldsSelectOnchange),M.value=n.fieldsValue[o].toString().replace(/,/g,",\r\n"),M.setAttribute("data-value",n.fieldsValue[o]);switch(document.getElementById("dropDownTop").getAttribute("data-value")){case"buffer":K.value=m2.i18n("text_label_buffer")+t;break;case"isolines":K.value=m2.i18n("text_label_isolines")+t}}}function n(){var e=document.getElementById("dropDownTop"),t=e.getAttribute("data-value"),n=document.getElementById("resultLayersName").value;return{analysisMethod:t,analysisLayers:v.title,analysisFields:x.title,analysisFieldsValue:M.value.replace(/[\r\n]/g,"").split(",").toString(),analysisBreaks:L.value,analysisCellSize:R.value,resultLayersName:n}}function r(){var e=document.getElementById("dropDownTop"),t=document.getElementById("resultLayersName").value,n=v.title;return{analysisMethod:e.getAttribute("data-value"),analysisLayers:n,radius:F.value,unit:z.title,resultLayersName:t,isSaveStatus:se,isUnion:le}}var i=this;this.workerUrl&&(this.viewModel=new t7(this.workerUrl));var o=new x2({title:m2.i18n("title_clientComputing")}).getElement();o.classList.add("component-analysis"),o.children[0].style.fontSize="12px";var a=[{title:m2.i18n("text_isoline"),dataValue:"isolines",remark:m2.i18n("text_extractDiscreteValue"),icon:{className:"component-analyst-isoline-img"}},{title:m2.i18n("text_buffer"),dataValue:"buffer",remark:m2.i18n("text_specifyTheDistance"),icon:{className:"component-analyst-buffer-img"}}],s=o.children[1];s.classList.add("component-content--scroll"),s.classList.add("component-content--analysis");var l=new T2(a).getElement();s.appendChild(l);var u=l.children[0].children[0],c=l.children[0].children[2].children[0];u.children[0].id="dropDownTop";var f=D2.a.DomUtil.create("div","component-analysis__container",s),h=D2.a.DomUtil.create("div","component-analysis__container__analysisLayer",f),p=D2.a.DomUtil.create("div","component-analysis__selecttool",h);p.id="layerSelectControl";var y={optionsArr:[""],labelName:m2.i18n("text_label_analysisLayer")},d=new C2(y),m=d.getElement();this.layerSelectObj=d,p.appendChild(m);var v=m.children[1].children[0];v.id="layerSelectName",m.children[1].children[2].children[0].children[0].id="layersSelect";var b=D2.a.DomUtil.create("div","component-analysis__container__analysistype",f),g=D2.a.DomUtil.create("div","component-clientcomputation__isoline",b),S={optionsArr:[""],labelName:m2.i18n("text_label_extractField"),optionsClickCb:this.fieldsSelectOnchange},_=D2.a.DomUtil.create("div","component-analysis__selecttool",g),w=new C2(S),O=w.getElement();this.fieldsSelectObj=w;var x=O.children[1].children[0];x.id="fieldsSelectName";var C=O.children[1].children[2].children[0].children[0];C.id="fieldsSelect",_.appendChild(O);var T=D2.a.DomUtil.create("div","component-analysis__container",g);D2.a.DomUtil.create("span","component-textarea__name",T).innerHTML=m2.i18n("text_label_extractedValue");var P=D2.a.DomUtil.create("div","component-textarea",T);P.id="getValueText";var E=D2.a.DomUtil.create("div","",P),k=D2.a.DomUtil.create("div","component-scrollarea-content",E);k.setAttribute("tabindex","1");var M=D2.a.DomUtil.create("textarea","component-textarea__content",k);M.id="getValueTextArea",M.setAttribute("rows","20");var A=D2.a.DomUtil.create("div","",g);D2.a.DomUtil.create("span","",A).innerHTML=m2.i18n("text_label_distanceAttenuation");var L=D2.a.DomUtil.create("input","",A);L.value="3";var j=D2.a.DomUtil.create("div","",g);D2.a.DomUtil.create("span","",j).innerHTML=m2.i18n("text_label_gridSize");var R=D2.a.DomUtil.create("input","",j);R.value="30";var N=D2.a.DomUtil.create("div","component-clientcomputation__buffer hidden",b),I=D2.a.DomUtil.create("div","component-clientcomputation__buffer--radius",N);D2.a.DomUtil.create("span","",I).innerHTML=m2.i18n("text_label_bufferRadius");var D=D2.a.DomUtil.create("div","",I),F=D2.a.DomUtil.create("input","buffer-radius-input",D);F.id="bufferRadiusInput",F.value="10",F.setAttribute("placeholder",m2.i18n("text_label_defaultkilometers"));var B=D2.a.DomUtil.create("div","component-clientcomputation__buffer--unit",D);B.id="bufferUnit";var U={optionsArr:[m2.i18n("text_option_kilometer")],labelName:m2.i18n("text_label_unit")},G=new C2(U).getElement(),z=G.children[1].children[0];z.id="bufferUnitSelectName",G.children[1].children[2].children[0].children[0].id="bufferUnitSelect",G.children[0].style.display="none",B.appendChild(G);var V=D2.a.DomUtil.create("div","",I),H=D2.a.DomUtil.create("div","component-clientcomputation__buffer--issaveattrs",V);H.id="saveAttrsContainer";var J=D2.a.DomUtil.create("div","checkbox checkbox-fault",H);J.id="saveAttrsCheckbox";var q=D2.a.DomUtil.create("div","lable",H);q.id="saveAttrsLabel",q.innerHTML=m2.i18n("text_retainOriginal");var W=D2.a.DomUtil.create("div","component-clientcomputation__buffer--isunion",V);W.id="isUnionContainer";var Q=D2.a.DomUtil.create("div","checkbox checkbox-fault",W);Q.id="isUnionCheckbox";var Y=D2.a.DomUtil.create("div","lable",W);Y.innerHTML=m2.i18n("text_mergeBuffer"),Y.id="isUnionLabel";var X=D2.a.DomUtil.create("div","component-analysis__container__resultLayersName",f);D2.a.DomUtil.create("span","",X).innerHTML=m2.i18n("text_label_resultLayerName");var K=D2.a.DomUtil.create("input","",X);K.id="resultLayersName";var Z=D2.a.DomUtil.create("div","component-analysis__container__analysisbtn",f),$=D2.a.DomUtil.create("div","component-analysis__analysisbtn",Z),ee=D2.a.DomUtil.create("button","component-analysis__analysisbtn--analysis",$);ee.innerHTML=m2.i18n("btn_analyze");var te=D2.a.DomUtil.create("div","component-analysis__analysisbtn--analysing-container hidden",$),ne=D2.a.DomUtil.create("div","component-analysis__analysisbtn--analysising",te),re=D2.a.DomUtil.create("div","component-analysis__svg-container",ne);re.id="analyse_background",re.innerHTML='<svg class="component-analysis__svg-rotate" width="16px" height="16px" version="1.1" xmlns="http://www.w3.org/2000/svg">\n            <path id="ring" fill="#FFF" transform="translate(8,8)" d="M 0 0 v -8 A 8 8 0 1 1 -8.00 0 z"></path>\n            <circle cx="8" cy="8" r="6" fill="#38ADF5"></circle>\n            <rect class="svg-top" x="8" y="0" rx="2" ry="2" width="2" height="2" style="fill: rgb(255, 255, 255); stroke-width: 0;"></rect>\n            <rect class="svg-left" x="0" y="8" rx="2" ry="2" width="2" height="2" style="fill: rgb(255, 255, 255); stroke-width: 0;"></rect>\n        </svg>',D2.a.DomUtil.create("span","",ne).innerHTML=m2.i18n("btn_analyzing");var ie=D2.a.DomUtil.create("button","component-analysis__analysisbtn--cancel",te);ie.innerHTML=m2.i18n("btn_cancelAnalysis");var oe=D2.a.DomUtil.create("button","component-analysis__analysisbtn--analysis component-analysis__analysisbtn--deletelayers",$);oe.innerHTML=m2.i18n("btn_emptyTheAnalysisLayer");for(var ae=0;ae<c.children.length;ae++)!function(e){c.children[e].onclick=function(){u.innerHTML=c.children[e].outerHTML,u.children[0].id="dropDownTop";var t=document.getElementById("layersSelect"),n=document.getElementById("layerSelectName"),r=c.children[e].getAttribute("data-value"),o={};switch(r){case"buffer":g.classList.add("hidden"),N.classList.remove("hidden"),s.style.height="422px",K.value=m2.i18n("text_label_buffer")+n.title,o=i.fillData.point;break;case"isolines":g.classList.remove("hidden"),N.classList.add("hidden"),s.style.height="712px",K.value=m2.i18n("text_label_isolines")+n.title,o=i.fillData.point}if(i.currentFillData!==o){if(t.innerHTML="","{}"==JSON.stringify(o))return K.value="",n.title="",void(n.innerHTML="");var a=[];for(var l in o)a.push(l);n.title=a[0],n.innerHTML=a[0],i._createOptions(t,a),i.layerSelectObj.optionClickEvent(t,n,i.layersSelectOnchange),"buffer"===r?K.value=m2.i18n("text_label_buffer")+a[0]:"isolines"===r&&(K.value=m2.i18n("text_label_isolines")+a[0]),i.currentData=o[n.title],i.currentFillData=o}}}(ae);this.fieldsSelectOnchange=e.bind(this),this.layersSelectOnchange=t.bind(this);var se=!0;q.classList.add("selected"),J.classList.add("checkbox-active"),H.onclick=function(){se?(J.classList.add("checkbox-fault"),J.classList.remove("checkbox-active"),q.classList.remove("selected"),se=!1):(J.classList.add("checkbox-active"),J.classList.remove("checkbox-fault"),q.classList.add("selected"),se=!0,le&&(Q.classList.add("checkbox-fault"),Q.classList.remove("checkbox-active"),le=!1))};var le=!1;return W.onclick=function(){le?(Q.classList.add("checkbox-fault"),Q.classList.remove("checkbox-active"),Y.classList.remove("selected"),le=!1):(Q.classList.add("checkbox-active"),Q.classList.remove("checkbox-fault"),Y.classList.add("selected"),le=!0,se&&(J.classList.add("checkbox-fault"),J.classList.remove("checkbox-active"),se=!1))},this.messageBox=new p2,ee.onclick=function(){te.style.display="block",ee.style.display="none";var e,t=document.getElementById("dropDownTop"),o=t.getAttribute("data-value");switch(o){case"isolines":e=n();break;case"buffer":e=r()}i.viewModel.analysis(e,i.map),i.viewModel.on("layerloaded",function(e){te.style.display="none",ee.style.display="block",i._event.fire("analysissucceeded",{layer:e.layer,name:e.name})}),i.viewModel.on("analysisfailed",function(){te.style.display="none",ee.style.display="block",i.messageBox.showView(m2.i18n("msg_resultIsEmpty"),"failure"),i._event.fire("analysisfailed")})},ie.onclick=function(){te.style.display="none",ee.style.display="block",i.viewModel.cancelAnalysis()},oe.onclick=function(){i.viewModel.on("layersremoved",function(e){i._event.fire("layersremoved",{layers:e.layers})}),i.viewModel.clearLayers()},this._preventMapEvent(o,this.map),o},_createOptions:function(e,t){for(var n in t){var r=document.createElement("div"),i=t[n];r.className="component-selecttool__option",r.title=i,r.innerHTML=i,r.setAttribute("data-value",i),e.appendChild(r)}}}),i7=function(e){return new r7(e)};D2.a.supermap.components.clientComputation=i7;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var o7=function e(t){XW(this,e),this.layerName=t.layerName,this.layer=t.layer,this.fields=t.fields||null},a7=function(e){return new o7(e)};D2.a.supermap.components.clientComputationLayer=a7;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var s7=function(e){function t(){return ZW(this,t),tQ(this,rQ(t).apply(this,arguments))}return iQ(t,e),eQ(t,[{key:"initialize",value:function(e){this.processingUrl=e}},{key:"getDatasetsName",value:function(){var e=this.processingUrl;this.dataset=[],this.dataset.datasetNames=[],this.dataset.childUrl=[];var t="http://"+e.split("/")[2],n=t+"/iserver/services/datacatalog/rest/datacatalog/sharefile.json",r=t+"/iserver/services/datacatalog/rest/datacatalog/relationship/datasets.json",i=this;bX.get(n).then(function(e){return e.json()}).then(function(e){i.dataset.datasetNames=i.dataset.datasetNames.concat(e.datasetNames),i.dataset.childUrl=i.dataset.childUrl.concat(e.childUriList);var t=i;bX.get(r).then(function(e){return e.json()}).then(function(e){t.dataset.datasetNames=t.dataset.datasetNames.concat(e.datasetNames),t.dataset.childUrl=t.dataset.childUrl.concat(e.childUriList);var n=[];for(var r in t.dataset.datasetNames)n[t.dataset.datasetNames[r]]=t.dataset.childUrl[r];t.fire("datasetsloaded",{result:{dataset:t.dataset,datasetHash:n}})})})}},{key:"getDatasetInfo",value:function(e){var t,n=this;bX.get(e).then(function(e){return e.json()}).then(function(e){var r=e.datasetInfo;"LINE"===r.datasetType||"LINE"===r.type?t="LINE":"POINT"===r.datasetType||"POINT"===r.type||"CSV"===r.type?t="POINT":"REGION"!==r.datasetType&&"REGION"!==r.type||(t="REGION");var i=[],o=r.fieldInfos||r.fieldInfo||null;if(o){for(var a in o)i.push(o[a].name);n.fire("datasetinfoloaded",{result:{type:t,fields:i}})}else{var s=e.childUriList[0].replace("//fields","/fields");bX.get(s).then(function(e){return e.json()}).then(function(e){var r=e.fieldNames,i=[];for(var o in r)i.push(r[o]);n.fire("datasetinfoloaded",{result:{type:t,fields:i}})})}})}}]),t}(D2.a.Evented);D2.a.supermap.components.DistributedAnalysisModel=s7;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var l7=function(e){function t(){return sQ(this,t),cQ(this,hQ(t).apply(this,arguments))}return pQ(t,e),uQ(t,[{key:"initialize",value:function(e){this.processingUrl=e}},{key:"getDatasetsName",value:function(){var e=this.processingUrl;this.resultLayers=[],this.datasetNames=[],this.distributedAnalysisModel=new s7(e),this.distributedAnalysisModel.getDatasetsName();var t=this;this.distributedAnalysisModel.on("datasetsloaded",function(e){t.fire("datasetsloaded",{result:e.result})})}},{key:"getDatasetInfo",value:function(e){this.distributedAnalysisModel.getDatasetInfo(e);var t=this;this.distributedAnalysisModel.on("datasetinfoloaded",function(e){var n=e.result.type,r=e.result.fields;t.fire("datasetinfoloaded",{result:{type:n,fields:r}})})}},{key:"analysis",value:function(e,t){var n=new T9(this.processingUrl);if(e.analysisParam instanceof g$){var r=e.analysisParam,i=this;n.addKernelDensityJob(r,function(n){if(n.error)return void i.fire("analysisfailed",{error:n.error});n.result.setting.serviceInfo.targetServiceInfos.map(function(n){return"RESTMAP"===n.serviceType&&bX.get(n.serviceAddress+"/maps").then(function(e){return e.json()}).then(function(n){var r=n[0].path;i.fire("analysissucceed",{result:n});var o=D2.a.supermap.tiledMapLayer(r,{noWrap:!0,transparent:!0});i.resultLayers.push(o),o.addTo(t);var a=new Date,s=e.resultLayerName||a.getTime();i.fire("layerloaded",{layer:o,name:s})}),n})})}}},{key:"clearLayers",value:function(){for(var e in this.resultLayers)this.resultLayers[e].remove();this.fire("layersremoved",{layers:this.resultLayers}),this.resultLayers=[]}}]),t}(D2.a.Evented),u7=function(e){return new l7(e)};D2.a.supermap.components.distributedAnalysisViewModel=u7;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var c7=I9.extend({initialize:function(e,t){I9.prototype.initialize.apply(this,[t]),this.viewModel=new l7(e)},onAdd:function(e){return this._fillDataToView(),I9.prototype.onAdd.apply(this,[e])},_fillDataToView:function(){var e=this;this.viewModel.on("datasetsloaded",function(t){var n=t.result.dataset.datasetNames;e.datasetSelect.innerHTML="",e._createOptions(e.datasetSelect,n),e.datasetSelectObj.optionClickEvent(e.datasetSelect,e.datasetSelectName,e.datasetSelectOnchange),e.dataHash=t.result.datasetHash}),this.viewModel.getDatasetsName()},_initView:function(){function e(e){"NOTSET"!==e.getAttribute("data-value")?(te.classList.remove("hidden"),ne.classList.remove("hidden")):(te.classList.add("hidden"),ne.classList.add("hidden"))}function t(e){if(this.messageBox.closeView(),this.dataHash){j.innerHTML="";var t=this.dataHash[e.title],n=this;this.viewModel.on("datasetinfoloaded",function(e){L.title=m2.i18n("text_option_notSet"),L.innerHTML=m2.i18n("text_option_notSet"),j.innerHTML="";var t=l.getAttribute("data-value"),r=e.result.type,i=e.result.fields;"density"===t&&("REGION"===r||"LINE"===r?n.messageBox.showView(m2.i18n("msg_datasetOrMethodUnsupport"),"failure"):(n.messageBox.closeView(),n._createOptions(j,i),n.weightFieldsSelectObj.optionClickEvent(j,L)))}),this.viewModel.getDatasetInfo(t)}}function n(){var e,t=l.getAttribute("data-value"),n=T.getAttribute("data-value"),r=k.getAttribute("data-value"),i=I.value,o=G.title,a=q.title,s=Y.title,u=ie.getAttribute("data-value"),c=Z.getAttribute("data-value"),f=new Date,h=se.value||f.getTime();e="NOTSET"===c?"":{rangeMode:c,rangeCount:te.value,colorGradientType:u};var p;return"density"===t&&(p=new g$({datasetName:m.title,method:n,meshType:r,resolution:U.value,fields:L.title,radius:J.value,meshSizeUnit:o,radiusUnit:a,areaUnit:s,query:i,mappingParameters:new oK({rangeMode:e.rangeMode,rangeCount:e.rangeCount,colorGradientType:e.colorGradientType})})),{analysisParam:p,resultLayerName:h}}var r=this,i=new x2({title:m2.i18n("title_distributedAnalysis")}).getElement();i.classList.add("component-analysis"),i.children[0].style.fontSize="12px";var o=D2.a.DomUtil.create("div","component-content component-content--scroll component-content--analysis",i),a=[{title:m2.i18n("text_densityAnalysis"),dataValue:"density",remark:m2.i18n("text_CalculateTheValuePerUnitArea"),icon:{className:"component-analyst-density-img"}}],s=new T2(a).getElement();o.appendChild(s);var l=s.children[0].children[0].children[0],u=D2.a.DomUtil.create("div","component-analysis__container",o),c=D2.a.DomUtil.create("div","analysistype",u),f=D2.a.DomUtil.create("div","component-analysis__container__analysisLayer",c),h=D2.a.DomUtil.create("div","component-analysis__selecttool",f),p={optionsArr:[m2.i18n("text_option_selectDataset")],labelName:m2.i18n("text_label_dataset"),optionsClickCb:t.bind(this)},y=new C2(p),d=y.getElement();this.datasetSelectObj=y,h.appendChild(d);var m=d.children[1].children[0];this.datasetSelectName=m;var v=d.children[1].children[2].children[0].children[0];v.children[0].style.display="none",this.datasetSelect=v;var b=D2.a.DomUtil.create("div","component-analysis__idw",f),g=[{optionsArr:[m2.i18n("text_option_simplePointDensityAnalysis"),m2.i18n("text_option_nuclearDensityAnalysis")],labelName:m2.i18n("text_label_analyticalMethod")},{optionsArr:[m2.i18n("text_option_quadrilateral"),m2.i18n("text_option_hexagon")],labelName:m2.i18n("text_label_meshType")}],S=D2.a.DomUtil.create("div","component-analysis__idw__selecttool",b);for(var _ in g){var w=new C2(g[_]).getElement();S.appendChild(w)}var O={optionsArr:[m2.i18n("text_option_notSet")],labelName:m2.i18n("text_label_weightField")},x=new C2(O),C=x.getElement();S.appendChild(C),this.weightFieldsSelectObj=x;var T=S.children[0].children[1].children[0];T.setAttribute("data-value","0");var P=S.children[0].children[1].children[2].children[0].children[0],E=["0","1"];this._setEleAtribute(E,"data-value",P.children);var k=S.children[1].children[1].children[0];k.setAttribute("data-value","0");var M=S.children[1].children[1].children[2].children[0].children[0],A=["0","1"];this._setEleAtribute(A,"data-value",M.children);var L=S.children[2].children[1].children[0],j=S.children[2].children[1].children[2].children[0].children[0],R=[{spanName:m2.i18n("text_label_queryRange"),value:""}];for(var N in R)this._creatInputBox(R[N],S);var I=S.children[3].children[1];I.setAttribute("placeholder",m2.i18n("text_label_queryRangeTips")),I.title=m2.i18n("text_label_queryRangeTips");var D={optionsArr:["Meter","Kilometer","Yard","Foot","Mile"]},F={labelName:m2.i18n("text_label_gridSizeInMeters"),selectOptions:D},B=this._creatUnitSelectBox(F,S),U=B.children[1].children[0];U.value="1000";var G=B.children[1].children[1].children[0].children[0].children[0],z={optionsArr:["Meter","Kilometer","Yard","Foot","Mile"]},V={labelName:m2.i18n("text_label_searchRadius"),selectOptions:z},H=this._creatUnitSelectBox(V,S),J=H.children[1].children[0];J.value="300";var q=H.children[1].children[1].children[0].children[0].children[0],W={labelName:m2.i18n("text_label_areaUnit"),optionsArr:["SquareMile","SquareMeter","Hectare","Acre","SquareFoot","SquareYard"]},Q=new C2(W).getElement();S.appendChild(Q);var Y=Q.children[1].children[0],X=D2.a.DomUtil.create("div","range-content",c),K={optionsArr:[m2.i18n("text_option_notSet"),m2.i18n("text_option_equidistantSegmentation"),m2.i18n("text_option_logarithm"),m2.i18n("text_option_equalCountingSegment"),m2.i18n("text_option_squareRootSegmentation")],labelName:m2.i18n("text_label_thematicMapSegmentationMode"),optionsClickCb:e};X.appendChild(new C2(K).getElement());var Z=X.children[0].children[1].children[0];Z.setAttribute("data-value","NOTSET");var $=X.children[0].children[1].children[2].children[0].children[0],ee=["NOTSET","EQUALINTERVAL","LOGARITHM","QUANTILE","SQUAREROOT"];this._setEleAtribute(ee,"data-value",$.children);var te=this._creatInputBox({spanName:m2.i18n("text_label_thematicMapSegmentationParameters"),value:"20"},X);te.classList.add("hidden");var ne=new C2({optionsArr:[m2.i18n("text_option_greenOrangePurpleGradient"),m2.i18n("text_option_greenOrangeRedGradient"),m2.i18n("text_option_rainbowGradient"),m2.i18n("text_option_spectralGradient"),m2.i18n("text_option_terrainGradient")],labelName:m2.i18n("text_label_thematicMapColorGradientMode")}).getElement();X.appendChild(ne),ne.classList.add("hidden");var re=ne.children[1].children[2].children[0].children[0],ie=ne.children[1].children[0];ie.setAttribute("data-value","GREENORANGEVIOLET");var oe=["GREENORANGEVIOLET","GREENORANGERED","RAINBOW","SPECTRUM","TERRAIN"];this._setEleAtribute(oe,"data-value",re.children);var ae=D2.a.DomUtil.create("div","",c);D2.a.DomUtil.create("span","",ae).innerHTML=m2.i18n("text_label_resultLayerName");var se=D2.a.DomUtil.create("input","component-distributeanalysis__input",ae),le=D2.a.DomUtil.create("div","component-analysis__container__analysisbtn",u),ue=D2.a.DomUtil.create("div","component-analysis__analysisbtn",le),ce=D2.a.DomUtil.create("button","component-analysis__analysisbtn--analysis",ue);ce.innerHTML=m2.i18n("btn_analyze");var fe=D2.a.DomUtil.create("div","component-analysis__analysisbtn--analysing-container hidden",ue),he=D2.a.DomUtil.create("div","component-analysis__analysisbtn--analysising",fe);he.style.width="200px",D2.a.DomUtil.create("div","component-analysis__svg-container",he).innerHTML='<svg class="component-analysis__svg-rotate" width="16px" height="16px" version="1.1" xmlns="http://www.w3.org/2000/svg">\n            <path id="ring" fill="#FFF" transform="translate(8,8)" d="M 0 0 v -8 A 8 8 0 1 1 -8.00 0 z"></path>\n            <circle cx="8" cy="8" r="6" fill="#38ADF5"></circle>\n            <rect class="svg-top" x="8" y="0" rx="2" ry="2" width="2" height="2" style="fill: rgb(255, 255, 255); stroke-width: 0;"></rect>\n            <rect class="svg-left" x="0" y="8" rx="2" ry="2" width="2" height="2" style="fill: rgb(255, 255, 255); stroke-width: 0;"></rect>\n        </svg>',D2.a.DomUtil.create("span","",he).innerHTML=m2.i18n("btn_analyzing");var pe=D2.a.DomUtil.create("button","component-analysis__analysisbtn--analysis component-analysis__analysisbtn--deletelayers",ue);return pe.id="deleteLayersBtn",pe.innerHTML=m2.i18n("btn_emptyTheAnalysisLayer"),this.messageBox=new p2,this.datasetSelectOnchange=t.bind(this),ce.onclick=function(){r.messageBox.closeView();var e=n();m.title===m2.i18n("text_option_selectDataset")?r.messageBox.showView(m2.i18n("msg_selectDataset"),"failure"):L.title===m2.i18n("text_option_notSet")?r.messageBox.showView(m2.i18n("msg_setTheWeightField"),"failure"):(r.messageBox.closeView(),fe.style.display="block",ce.style.display="none",r.viewModel.on("layerloaded",function(e){fe.style.display="none",ce.style.display="block",r._event.fire("analysissucceeded",{layer:e.layer,name:e.name})}),r.viewModel.on("analysisfailed",function(e){r.messageBox.showView(m2.i18n("msg_theFieldNotSupportAnalysis"),"failure"),fe.style.display="none",ce.style.display="block",r._event.fire("analysisfailed",{error:e.error})}),r.viewModel.analysis(e,r.map))},pe.onclick=function(){r.viewModel.on("layersremoved",function(e){r._event.fire("layersremoved",{layers:e.layers})}),r.viewModel.clearLayers()},this._preventMapEvent(i,this.map),i},_createOptions:function(e,t){for(var n in t){var r=document.createElement("div");r.className="component-selecttool__option",r.title=t[n],r.innerHTML=t[n],r.setAttribute("data-value",t[n]),e.appendChild(r)}},_creatInputBox:function(e,t){var n=D2.a.DomUtil.create("div","",t);D2.a.DomUtil.create("span","",n).innerHTML=e.spanName;var r=D2.a.DomUtil.create("input","",n);return r.value=e.value,r.className="component-distributeanalysis__input",n},_creatUnitSelectBox:function(e,t){var n=D2.a.DomUtil.create("div","component-clientcomputation__buffer--radius",t);D2.a.DomUtil.create("span","",n).innerHTML=e.labelName;var r=D2.a.DomUtil.create("div","",n);D2.a.DomUtil.create("input","buffer-radius-input",r);var i=D2.a.DomUtil.create("div","component-clientcomputation__buffer--unit",r),o=e.selectOptions,a=new C2(o).getElement();return i.appendChild(a),n},_setEleAtribute:function(e,t,n){for(var r=0;r<n.length;r++)n[r].setAttribute(t,e[r])}}),f7=function(e){return new c7(e)};D2.a.supermap.components.distributedAnalysis=f7;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var h7=function(e){function t(){return mQ(this,t),gQ(this,_Q(t).apply(this,arguments))}return wQ(t,e),bQ(t,[{key:"initialize",value:function(e){this.dataserviceUrl=e,this.resultLayers=[]}},{key:"getFeatures",value:function(e,t){var n=this.dataserviceUrl,r=this,i=D2.a.supermap.featureService(n);e instanceof EZ?i.getFeaturesByIDs(e,function(e){r._getQureyResult(e,t)}):e instanceof MZ?i.getFeaturesBySQL(e,function(e){r._getQureyResult(e,t)}):e instanceof _Z?i.getFeaturesByBounds(e,function(e){r._getQureyResult(e,t)}):e instanceof xZ?i.getFeaturesByBuffer(e,function(e){r._getQureyResult(e,t)}):e instanceof TZ&&i.getFeaturesByGeometry(e,function(e){r._getQureyResult(e,t)})}},{key:"_getQureyResult",value:function(e,t){if(e.error)return void this.fire("getfeaturesfailed",{error:e.error});var n=D2.a.geoJSON(e.result.features,{onEachFeature:function(e,t){t.bindPopup("ID: "+e.properties.SMID)},pointToLayer:function(e,t){return D2.a.circleMarker(t,{radius:6})}}).addTo(t);this.resultLayers.push(n),this.fire("getfeaturessucceeded",{result:e.result.features})}},{key:"clearLayers",value:function(){for(var e in this.resultLayers)this.resultLayers[e].remove();this.resultLayers=[]}}]),t}(D2.a.Evented),p7=function e(t){return new e(t)};D2.a.supermap.components.dataServiceQueryViewModel=p7;/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
var y7=I9.extend({initialize:function(e,t,n){if(I9.prototype.initialize.apply(this,[n]),this.dataServiceUrl=e,!t||0===t.length)throw new Error("Please configure the dataset of the queryï¼");t instanceof Array?this.dataSetNames=t:this.dataSetNames=t.split(" ")},onAdd:function(e){return I9.prototype.onAdd.apply(this,[e])},onRemove:function(){this.map.off("pm:create")},setDataSetNames:function(e){e instanceof Array?this.dataSetNames=e:this.dataSetNames=e.split(" ")},setGetFeatureMode:function(e){this.getFeatureMode=e,this._getFeatureModeOnchange(this.getFeatureMode)},setDataServiceUrl:function(e){this.dataServiceUrl=e,this.viewModel=new h7(this.dataServiceUrl)},_getFeatureModeOnchange:function(e){var t;t=e&&"{}"!=JSON.stringify(e)?e:["ID","SQL","BOUNDS","BUFFER","SPATIAL"];var n=document.getElementById("queryModelControl");n.innerHTML="",this.creatQueryModeSelect(t,n)},_initView:function(){function e(e,t){var n;if(e instanceof Array&&e.length>1){var r={optionsArr:e,labelName:m2.i18n("text_label_queryMode"),optionsClickCb:this.queryModeltOnchange},i=new C2(r).getElement();t.appendChild(i),n=i.children[1].children[0],i.children[1].classList.add("dataservice-select");var o=i.children[1];o.classList.add("dataservice-select"),o.classList.add("querymodel-select")}else{D2.a.DomUtil.create("span","",f).innerHTML=m2.i18n("text_label_queryMode"),n=D2.a.DomUtil.create("div","component-servicequery__querymode-selectname",f);var a=D2.a.DomUtil.create("span","",n);e instanceof Array?a.innerHTML=e[0]:a.innerHTML=e,n.title=a.innerHTML,this.queryModeltOnchange(n)}return n.id="queryModelSelectName",n}function t(e){var t;switch(t=e.title?e.title:e,g.classList.add("hidden"),P.classList.add("hidden"),O.classList.add("hidden"),L.classList.add("hidden"),j.classList.add("hidden"),A.classList.remove("bounds"),F.classList.add("hidden"),y.innerHTML=m2.i18n("text_label_featureFilter"),b.value="SMID<10","BUFFER"!==t&&"SPATIAL"!==t||(P.classList.remove("hidden"),E.innerHTML=m2.i18n("text_label_geometricObject"),D.value='{"type":"Feature","properties":{},"geometry":{"type":"Point","coordinates":[84.90234375,40.25390625]}}',L.classList.remove("hidden"),j.classList.remove("hidden")),t){case"ID":y.innerHTML=m2.i18n("text_label_IDArrayOfFeatures"),b.value="[1,2,3]";break;case"SQL":g.classList.remove("hidden");break;case"BOUNDS":P.classList.remove("hidden"),E.innerHTML=m2.i18n("text_label_queryRange"),D.value='{"leftBottom":{"x":-5,"y":-5},"rightTop":{"x":5,"y":5}}',A.classList.add("bounds");break;case"BUFFER":O.classList.remove("hidden");break;case"SPATIAL":F.classList.remove("hidden")}}function n(){var e,t=Y.dataSetNames,n=document.getElementById("queryModelSelectName"),r=n.title,i=b.value;if("ID"===r){var o=b.value,a=o.substring(1,o.length-1).split(",");e=new EZ({IDs:a,datasetNames:t})}else if("SQL"===r){var s=w.value;e=new MZ({queryParameter:{attributeFilter:i},datasetNames:t,maxFeatures:s})}else if("BOUNDS"===r){if(!X){var l=JSON.parse(D.value);X=D2.a.bounds([l.leftBottom.x,l.leftBottom.y],[l.rightTop.x,l.rightTop.y])}e=new _Z({attributeFilter:i,datasetNames:t,bounds:X})}else if("BUFFER"===r){var u=T.value,c=JSON.parse(D.value),f=K||c;e=new xZ({attributeFilter:i,datasetNames:t,bufferDistance:u,geometry:f})}else if("SPATIAL"===r){var h=z.title,p=JSON.parse(D.value),y=K||p;e=new TZ({attributeFilter:i,datasetNames:t,spatialQueryMode:h,geometry:y})}return e}var r=this;this.viewModel=new h7(this.dataServiceUrl),this.messageBox=new p2;var i=new x2({title:m2.i18n("title_dataServiceQuery")}).getElement();i.classList.add("component-servicequery__container"),i.children[0].classList.add("component-servicequery__title");var o=i.children[1];o.classList.add("component-content--scroll"),o.classList.add("data-services");var a,s=D2.a.DomUtil.create("div","component-analysis__container",o),l=D2.a.DomUtil.create("div","component-servicequery__analysistype",s),u=D2.a.DomUtil.create("div","component-analysis__container__analysisLayer",l),c=this.options.getFeatureMode;a=c&&"{}"!=JSON.stringify(c)?c:["ID","SQL","BOUNDS","BUFFER","SPATIAL"];var f=D2.a.DomUtil.create("div","",u);f.id="queryModelContainer";var h=D2.a.DomUtil.create("div","component-analysis__selecttool",f);h.id="queryModelControl",this.creatQueryModeSelect=e.bind(this),this.queryModeltOnchange=t.bind(this),this.creatQueryModeSelect(a,h);var p=D2.a.DomUtil.create("div","component-analysis__container component-textarea--dataservice__container",u),y=D2.a.DomUtil.create("span","textarea-name",p);y.innerHTML=m2.i18n("text_label_IDArrayOfFeatures");var d=D2.a.DomUtil.create("div","component-textarea component-textarea--dataservice",p);d.id="getfeaturesIdArr";var m=D2.a.DomUtil.create("div","scrollarea",d),v=D2.a.DomUtil.create("div","component-scrollarea-content",m);v.setAttribute("tabindex","1");var b=D2.a.DomUtil.create("textarea","component-textarea__content",v);b.value="[1,2,3]",b.id="getValueTextArea";var g=D2.a.DomUtil.create("div","component-servicequery__maxfeatures-container hidden",u),S={spanName:m2.i18n("text_label_maxFeatures"),value:"1000"},_=this._creatInputBox(S,g),w=_.children[1];w.classList.add("max-features-input");var O=D2.a.DomUtil.create("div","component-servicequery__distance-container hidden",u),x={spanName:m2.i18n("text_label_bufferDistance"),value:"10"},C=this._creatInputBox(x,O),T=C.children[1],P=D2.a.DomUtil.create("div","component-analysis__container component-textarea--dataservice__container hidden",u),E=D2.a.DomUtil.create("span","textarea-name",P),k=D2.a.DomUtil.create("div","",P),M=D2.a.DomUtil.create("div","component-servicequery__rangeicon-container",k);E.innerHTML=m2.i18n("text_label_queryRange1");var A=D2.a.DomUtil.create("div","component-servicequery__rangeicon supermapol-icons-polygon-layer bounds",M),L=D2.a.DomUtil.create("div","component-servicequery__rangeicon supermapol-icons-line-layer hidden",M),j=D2.a.DomUtil.create("div","component-servicequery__rangeicon supermapol-icons-point-layer hidden",M),R=D2.a.DomUtil.create("div","component-textarea component-textarea--rangequery",k);R.id="getfeaturesIdArr";var N=D2.a.DomUtil.create("div","",R),I=D2.a.DomUtil.create("div","component-scrollarea-content",N);I.setAttribute("tabindex","1");var D=D2.a.DomUtil.create("textarea","component-textarea__content component-textarea--rangequery__content",I);D.value='{"leftBottom":{"x":-5,"y":-5},"rightTop":{"x":5,"y":5}}';var F=D2.a.DomUtil.create("div","component-servicequery__spatialquerymode-container hidden",u),B={optionsArr:["CONTAIN","CROSS","DISJOINT","IDENTITY","INTERSECT","NONE","OVERLAP","TOUCH","WITHIN"],labelName:m2.i18n("text_label_spatialQueryMode")},U=D2.a.DomUtil.create("div","component-analysis__selecttool",F),G=new C2(B).getElement();G.children[1].classList.add("dataservice-select"),U.appendChild(G);var z=G.children[1].children[0];z.id="spatialQueryModeSelectName",G.children[1].children[2].classList.add("component-servicequery__spatialquerymode__selectcontent");var V=D2.a.DomUtil.create("div","component-analysis__container__analysisbtn",u),H=D2.a.DomUtil.create("div","component-analysis__analysisbtn",V),J=D2.a.DomUtil.create("button","component-analysis__analysisbtn--analysis",H);J.innerHTML=m2.i18n("btn_query");var q=D2.a.DomUtil.create("div","component-analysis__analysisbtn--analysing-container hidden",H),W=D2.a.DomUtil.create("div","component-analysis__analysisbtn--analysising component-servicequery__querybtn--querying",q);D2.a.DomUtil.create("div","component-analysis__svg-container",W).innerHTML='<svg class="component-analysis__svg-rotate" width="16px" height="16px" version="1.1" xmlns="http://www.w3.org/2000/svg">\n             <path id="ring" fill="#FFF" transform="translate(8,8)" d="M 0 0 v -8 A 8 8 0 1 1 -8.00 0 z"></path>\n             <circle cx="8" cy="8" r="6" fill="#38ADF5"></circle>\n             <rect class="svg-top" x="8" y="0" rx="2" ry="2" width="2" height="2" style="fill: rgb(255, 255, 255); stroke-width: 0;"></rect>\n             <rect class="svg-left" x="0" y="8" rx="2" ry="2" width="2" height="2" style="fill: rgb(255, 255, 255); stroke-width: 0;"></rect>\n         </svg>',D2.a.DomUtil.create("span","",W).innerHTML=m2.i18n("btn_querying");var Q=D2.a.DomUtil.create("button","component-analysis__analysisbtn--analysis component-analysis__analysisbtn--deletelayers",H);Q.innerHTML=m2.i18n("btn_emptyTheRresultLayer"),t(a[0]);var Y=this;J.onclick=function(){r.messageBox.closeView(),q.style.display="block",J.style.display="none";var e=n();r.viewModel.on("getfeaturessucceeded",function(e){q.style.display="none",J.style.display="block",0===e.result.features.length&&r.messageBox.showView(m2.i18n("msg_dataReturnedIsEmpty"),"success"),r._event.fire("getfeaturessucceeded",{result:e.result})}),r.viewModel.on("getfeaturesfailed",function(e){q.style.display="none",J.style.display="block",r.messageBox.showView(e.error.errorMsg,"failure"),r._event.fire("getfeaturesfailed",{error:e.error})}),r.viewModel.getFeatures(e,r.map)};var X,K;return A.onclick=function(e){var t=document.getElementById("queryModelSelectName"),n=t.title;K&&K.remove(),"BOUNDS"===n?r.map.pm.enableDraw("Rectangle"):r.map.pm.enableDraw("Poly"),e.stopPropagation(),e.preventDefault()},L.onclick=function(e){K&&K.remove(),r.map.pm.enableDraw("Line"),e.stopPropagation(),e.preventDefault()},j.onclick=function(e){K&&K.remove(),r.map.pm.enableDraw("Marker"),e.stopPropagation(),e.preventDefault()},this.map.on("pm:create",function(e){if("Rectangle"===e.shape){K=e.layer;var t=K.getBounds();X=D2.a.bounds([t._southWest.lng,t._southWest.lat],[t._northEast.lng,t._northEast.lat]);var n={leftBottom:{x:t._southWest.lng,y:t._southWest.lat},rightTop:{x:t._northEast.lng,y:t._northEast.lat}};D.value=JSON.stringify(n)}"Marker"===e.shape&&(K=e.layer,D.value=JSON.stringify(e.layer.toGeoJSON()),r.map.pm.disableDraw("Marker")),"Line"===e.shape&&(K=e.layer,D.value=JSON.stringify(e.layer.toGeoJSON())),"Poly"===e.shape&&(K=e.layer,D.value=JSON.stringify(e.layer.toGeoJSON()))}),Q.onclick=function(){r.viewModel.clearLayers()},this._preventMapEvent(i,this.map),i},_creatInputBox:function(e,t){var n=D2.a.DomUtil.create("div","",t);return D2.a.DomUtil.create("span","",n).innerHTML=e.spanName,D2.a.DomUtil.create("input","",n).value=e.value,n}}),d7=function(e,t,n){return new y7(e,t,n)};D2.a.supermap.components.dataServiceQuery=d7,/* CopyrightÂ© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/
n.d(t,"OpenFileView",function(){return U9}),n.d(t,"openFileView",function(){return G9}),n.d(t,"OpenFileViewModel",function(){return F9}),n.d(t,"openFileViewModel",function(){return B9}),n.d(t,"SearchView",function(){return W9}),n.d(t,"searchView",function(){return Q9}),n.d(t,"DataFlowView",function(){return K9}),n.d(t,"dataFlowView",function(){return Z9}),n.d(t,"clientComputationView",function(){return i7}),n.d(t,"ClientComputationView",function(){return r7}),n.d(t,"ClientComputationViewModel",function(){return t7}),n.d(t,"ClientComputationLayer",function(){return o7}),n.d(t,"clientComputationLayer",function(){return a7}),n.d(t,"GeoJSONLayerWithName",function(){return $9}),n.d(t,"geoJSONLayerWithName",function(){return e7}),n.d(t,"GeoJsonLayersDataModel",function(){return V9}),n.d(t,"GeoJsonLayerDataModel",function(){return H9}),n.d(t,"DistributedAnalysisView",function(){return c7}),n.d(t,"distributedAnalysisView",function(){return f7}),n.d(t,"DistributedAnalysisViewModel",function(){return l7}),n.d(t,"DataServiceQueryView",function(){return y7}),n.d(t,"dataServiceQueryView",function(){return d7}),n.d(t,"DataServiceQueryViewModel",function(){return h7}),n.d(t,"dataServiceQueryViewModel",function(){return p7}),n.d(t,"SuperMap",function(){return xQ}),n.d(t,"DataFormat",function(){return CQ}),n.d(t,"ServerType",function(){return TQ}),n.d(t,"GeometryType",function(){return PQ}),n.d(t,"QueryOption",function(){return EQ}),n.d(t,"JoinType",function(){return kQ}),n.d(t,"EngineType",function(){return NQ}),n.d(t,"MeasureMode",function(){return LQ}),n.d(t,"SpatialRelationType",function(){return AQ}),n.d(t,"DataReturnMode",function(){return rY}),n.d(t,"Unit",function(){return jQ}),n.d(t,"BufferRadiusUnit",function(){return RQ}),n.d(t,"SpatialQueryMode",function(){return MQ}),n.d(t,"ThemeGraphTextFormat",function(){return IQ}),n.d(t,"ThemeGraphType",function(){return DQ}),n.d(t,"GraphAxesTextDisplayMode",function(){return FQ}),n.d(t,"GraduatedMode",function(){return BQ}),n.d(t,"RangeMode",function(){return UQ}),n.d(t,"ThemeType",function(){return GQ}),n.d(t,"ColorGradientType",function(){return zQ}),n.d(t,"TextAlignment",function(){return VQ}),n.d(t,"FillGradientMode",function(){return HQ}),n.d(t,"SideType",function(){return YQ}),n.d(t,"AlongLineDirection",function(){return JQ}),n.d(t,"LabelBackShape",function(){return qQ}),n.d(t,"LabelOverLengthMode",function(){return WQ}),n.d(t,"DirectionType",function(){return QQ}),n.d(t,"OverlayOperationType",function(){return $Q}),n.d(t,"SupplyCenterType",function(){return XQ}),n.d(t,"TurnType",function(){return KQ}),n.d(t,"BufferEndType",function(){return ZQ}),n.d(t,"SmoothMethod",function(){return tY}),n.d(t,"SurfaceAnalystMethod",function(){return nY}),n.d(t,"ColorSpaceType",function(){return lY}),n.d(t,"ChartType",function(){return bY}),n.d(t,"EditType",function(){return iY}),n.d(t,"TransferTactic",function(){return oY}),n.d(t,"TransferPreference",function(){return aY}),n.d(t,"GridType",function(){return sY}),n.d(t,"ClientType",function(){return vY}),n.d(t,"LayerType",function(){return uY}),n.d(t,"UGCLayerType",function(){return cY}),n.d(t,"StatisticMode",function(){return fY}),n.d(t,"PixelFormat",function(){return hY}),n.d(t,"SearchMode",function(){return pY}),n.d(t,"SummaryType",function(){return OY}),n.d(t,"InterpolationAlgorithmType",function(){return yY}),n.d(t,"VariogramMode",function(){return dY}),n.d(t,"Exponent",function(){return mY}),n.d(t,"ClipAnalystMode",function(){return gY}),n.d(t,"AnalystAreaUnit",function(){return SY}),n.d(t,"AnalystSizeUnit",function(){return _Y}),n.d(t,"StatisticAnalystMode",function(){return wY}),n.d(t,"TopologyValidatorRule",function(){return xY}),n.d(t,"OutputType",function(){return eY}),n.d(t,"AggregationQueryBuilderType",function(){return TY}),n.d(t,"AggregationType",function(){return CY}),n.d(t,"GetFeatureMode",function(){return PY}),n.d(t,"TimeFlowControl",function(){return cX}),n.d(t,"IManager",function(){return wX}),n.d(t,"IManagerServiceBase",function(){return SX}),n.d(t,"IManagerCreateNodeParam",function(){return _X}),n.d(t,"IPortal",function(){return DX}),n.d(t,"IPortalQueryParam",function(){return RX}),n.d(t,"IPortalResource",function(){return IX}),n.d(t,"IPortalQueryResult",function(){return NX}),n.d(t,"IPortalMap",function(){return kX}),n.d(t,"IPortalMapsQueryParam",function(){return xX}),n.d(t,"IPortalInsight",function(){return MX}),n.d(t,"IPortalInsightsQueryParam",function(){return CX}),n.d(t,"IPortalScene",function(){return AX}),n.d(t,"IPortalScenesQueryParam",function(){return TX}),n.d(t,"IPortalService",function(){return EX}),n.d(t,"IPortalServiceBase",function(){return PX}),n.d(t,"IPortalServicesQueryParam",function(){return OX}),n.d(t,"IPortalMapdashboard",function(){return LX}),n.d(t,"IPortalMapdashboardsQueryParam",function(){return jX}),n.d(t,"Online",function(){return q0}),n.d(t,"OnlineData",function(){return J0}),n.d(t,"OnlineQueryDatasParameter",function(){return W0}),n.d(t,"ServiceStatus",function(){return U0}),n.d(t,"DataItemType",function(){return G0}),n.d(t,"DataItemOrderBy",function(){return z0}),n.d(t,"FilterField",function(){return V0}),n.d(t,"OnlineServiceBase",function(){return H0}),n.d(t,"KeyServiceParameter",function(){return Q0}),n.d(t,"SecurityManager",function(){return gX}),n.d(t,"ServerInfo",function(){return Y0}),n.d(t,"TokenServiceParameter",function(){return X0}),n.d(t,"ElasticSearch",function(){return $0}),n.d(t,"FetchRequest",function(){return bX}),n.d(t,"ColorsPickerUtil",function(){return r1}),n.d(t,"ArrayStatistic",function(){return i1}),n.d(t,"AreaSolarRadiationParameters",function(){return HX}),n.d(t,"AggregationParameter",function(){return VX}),n.d(t,"AggQueryBuilderParameter",function(){return zX}),n.d(t,"BufferAnalystParameters",function(){return YX}),n.d(t,"BufferDistance",function(){return WX}),n.d(t,"BuffersAnalystJobsParameter",function(){return aK}),n.d(t,"BufferSetting",function(){return QX}),n.d(t,"BurstPipelineAnalystParameters",function(){return uK}),n.d(t,"ChartQueryFilterParameter",function(){return pK}),n.d(t,"ChartQueryParameters",function(){return yK}),n.d(t,"ClipParameter",function(){return vK}),n.d(t,"ColorDictionary",function(){return bK}),n.d(t,"ComputeWeightMatrixParameters",function(){return _K}),n.d(t,"DataReturnOption",function(){return XX}),n.d(t,"DatasetBufferAnalystParameters",function(){return tK}),n.d(t,"DatasetInfo",function(){return xK}),n.d(t,"DatasetOverlayAnalystParameters",function(){return TK}),n.d(t,"DatasetSurfaceAnalystParameters",function(){return kK}),n.d(t,"DatasetThiessenAnalystParameters",function(){return AK}),n.d(t,"DatasourceConnectionInfo",function(){return ZX}),n.d(t,"DensityKernelAnalystParameters",function(){return LK}),n.d(t,"EditFeaturesParameters",function(){return RK}),n.d(t,"FacilityAnalyst3DParameters",function(){return IK}),n.d(t,"FacilityAnalystSinks3DParameters",function(){return DK}),n.d(t,"FacilityAnalystSources3DParameters",function(){return BK}),n.d(t,"FacilityAnalystStreamParameters",function(){return GK}),n.d(t,"FacilityAnalystTracedown3DParameters",function(){return VK}),n.d(t,"FacilityAnalystTraceup3DParameters",function(){return JK}),n.d(t,"FacilityAnalystUpstream3DParameters",function(){return WK}),n.d(t,"FieldParameters",function(){return XK}),n.d(t,"FilterAggParameter",function(){return YK}),n.d(t,"FieldStatisticsParameters",function(){return KK}),n.d(t,"FilterParameter",function(){return eK}),n.d(t,"FindClosestFacilitiesParameters",function(){return $K}),n.d(t,"FindLocationParameters",function(){return tZ}),n.d(t,"FindMTSPPathsParameters",function(){return rZ}),n.d(t,"FindPathParameters",function(){return oZ}),n.d(t,"FindServiceAreasParameters",function(){return sZ}),n.d(t,"FindTSPPathsParameters",function(){return uZ}),n.d(t,"GenerateSpatialDataParameters",function(){return fZ}),n.d(t,"GeoBoundingBoxQueryBuilderParameter",function(){return pZ}),n.d(t,"GeoCodingParameter",function(){return BX}),n.d(t,"GeoDecodingParameter",function(){return UX}),n.d(t,"GeoHashGridAggParameter",function(){return yZ}),n.d(t,"GeometryBufferAnalystParameters",function(){return nK}),n.d(t,"GeometryOverlayAnalystParameters",function(){return dZ}),n.d(t,"GeometrySurfaceAnalystParameters",function(){return mZ}),n.d(t,"GeometryThiessenAnalystParameters",function(){return vZ}),n.d(t,"GeoRelationAnalystParameters",function(){return bZ}),n.d(t,"GetFeaturesByBoundsParameters",function(){return _Z}),n.d(t,"GetFeaturesByBufferParameters",function(){return xZ}),n.d(t,"GetFeaturesByGeometryParameters",function(){return TZ}),n.d(t,"GetFeaturesByIDsParameters",function(){return EZ}),n.d(t,"GetFeaturesBySQLParameters",function(){return MZ}),n.d(t,"GetGridCellInfosParameters",function(){return jZ}),n.d(t,"Grid",function(){return u$}),n.d(t,"Image",function(){return m1}),n.d(t,"InterpolationAnalystParameters",function(){return p$}),n.d(t,"InterpolationIDWAnalystParameters",function(){return m$}),n.d(t,"InterpolationKrigingAnalystParameters",function(){return v$}),n.d(t,"InterpolationRBFAnalystParameters",function(){return y$}),n.d(t,"JoinItem",function(){return KX}),n.d(t,"KernelDensityJobParameter",function(){return g$}),n.d(t,"LabelImageCell",function(){return w$}),n.d(t,"LabelMatrixCell",function(){return _$}),n.d(t,"LabelMixedTextStyle",function(){return zZ}),n.d(t,"LabelSymbolCell",function(){return O$}),n.d(t,"LabelThemeCell",function(){return x$}),n.d(t,"LayerStatus",function(){return C$}),n.d(t,"LinkItem",function(){return $X}),n.d(t,"MathExpressionAnalysisParameters",function(){return P$}),n.d(t,"MeasureParameters",function(){return k$}),n.d(t,"OutputSetting",function(){return iK}),n.d(t,"MappingParameters",function(){return oK}),n.d(t,"OverlapDisplayedOptions",function(){return o$}),n.d(t,"OverlayAnalystParameters",function(){return CK}),n.d(t,"OverlayGeoJobParameter",function(){return L$}),n.d(t,"PointWithMeasure",function(){return iX}),n.d(t,"QueryByBoundsParameters",function(){return R$}),n.d(t,"QueryByDistanceParameters",function(){return D$}),n.d(t,"QueryByGeometryParameters",function(){return B$}),n.d(t,"QueryBySQLParameters",function(){return G$});n.d(t,"QueryParameters",function(){return dK}),n.d(t,"Route",function(){return oX}),n.d(t,"RouteCalculateMeasureParameters",function(){return V$}),n.d(t,"RouteLocatorParameters",function(){return J$}),n.d(t,"ServerColor",function(){return nX}),n.d(t,"ServerFeature",function(){return W$}),n.d(t,"ServerGeometry",function(){return aX}),n.d(t,"ServerStyle",function(){return rX}),n.d(t,"ServerTextStyle",function(){return DZ}),n.d(t,"ServerTheme",function(){return l$}),n.d(t,"SetLayerInfoParameters",function(){return Q$}),n.d(t,"SetLayersInfoParameters",function(){return X$}),n.d(t,"SetLayerStatusParameters",function(){return Z$}),n.d(t,"SingleObjectQueryJobsParameter",function(){return e0}),n.d(t,"StopQueryParameters",function(){return n0}),n.d(t,"SummaryAttributesJobsParameter",function(){return i0}),n.d(t,"SummaryMeshJobParameter",function(){return a0}),n.d(t,"SummaryRegionJobParameter",function(){return l0}),n.d(t,"SupplyCenter",function(){return c0}),n.d(t,"SurfaceAnalystParameters",function(){return EK}),n.d(t,"SurfaceAnalystParametersSetting",function(){return PK}),n.d(t,"TerrainCurvatureCalculationParameters",function(){return h0}),n.d(t,"Theme",function(){return IZ}),n.d(t,"ThemeDotDensity",function(){return $Z}),n.d(t,"ThemeFlow",function(){return UZ}),n.d(t,"ThemeGraduatedSymbol",function(){return t$}),n.d(t,"ThemeGraduatedSymbolStyle",function(){return e$}),n.d(t,"ThemeGraph",function(){return ZZ}),n.d(t,"ThemeGraphAxes",function(){return QZ}),n.d(t,"ThemeGraphItem",function(){return KZ}),n.d(t,"ThemeGraphSize",function(){return YZ}),n.d(t,"ThemeGraphText",function(){return XZ}),n.d(t,"ThemeGridRange",function(){return d0}),n.d(t,"ThemeGridRangeItem",function(){return y0}),n.d(t,"ThemeGridUnique",function(){return v0}),n.d(t,"ThemeGridUniqueItem",function(){return m0}),n.d(t,"ThemeLabel",function(){return qZ}),n.d(t,"ThemeLabelAlongLine",function(){return HZ}),n.d(t,"ThemeLabelBackground",function(){return JZ}),n.d(t,"ThemeLabelItem",function(){return FZ}),n.d(t,"ThemeLabelText",function(){return VZ}),n.d(t,"ThemeLabelUniqueItem",function(){return b0}),n.d(t,"ThemeMemoryData",function(){return NZ}),n.d(t,"ThemeOffset",function(){return GZ}),n.d(t,"ThemeParameters",function(){return g0}),n.d(t,"ThemeRange",function(){return r$}),n.d(t,"ThemeRangeItem",function(){return n$}),n.d(t,"ThemeUnique",function(){return WZ}),n.d(t,"ThemeUniqueItem",function(){return BZ}),n.d(t,"ThiessenAnalystParameters",function(){return MK}),n.d(t,"TopologyValidatorJobsParameter",function(){return x0}),n.d(t,"TransferLine",function(){return T0}),n.d(t,"TransferPathParameters",function(){return P0}),n.d(t,"TransferSolutionParameters",function(){return k0}),n.d(t,"TransportationAnalystParameter",function(){return SK}),n.d(t,"TransportationAnalystResultSetting",function(){return gK}),n.d(t,"UGCLayer",function(){return i$}),n.d(t,"UGCMapLayer",function(){return a$}),n.d(t,"UGCSubLayer",function(){return s$}),n.d(t,"UpdateEdgeWeightParameters",function(){return A0}),n.d(t,"UpdateTurnNodeWeightParameters",function(){return j0}),n.d(t,"Vector",function(){return f$}),n.d(t,"VectorClipJobsParameter",function(){return N0}),n.d(t,"FileTypes",function(){return c2}),n.d(t,"FileConfig",function(){return f2}),n.d(t,"FileModel",function(){return h2}),n.d(t,"MessageBox",function(){return p2}),n.d(t,"CommonContainer",function(){return x2}),n.d(t,"DropDownBox",function(){return T2}),n.d(t,"Select",function(){return C2}),n.d(t,"AttributesPopContainer",function(){return E2}),n.d(t,"PopContainer",function(){return P2}),n.d(t,"IndexTabsPageContainer",function(){return k2}),n.d(t,"CityTabsPage",function(){return M2}),n.d(t,"NavTabsPage",function(){return A2}),n.d(t,"PaginationContainer",function(){return L2}),n.d(t,"ComponentsUtil",function(){return j2}),n.d(t,"FileReaderUtil",function(){return g2}),n.d(t,"ChartView",function(){return w2}),n.d(t,"ChartViewModel",function(){return _2}),n.d(t,"Logo",function(){return c4}),n.d(t,"logo",function(){return f4}),n.d(t,"ChangeTileVersion",function(){return l4}),n.d(t,"changeTileVersion",function(){return u4}),n.d(t,"CommontypesConversion",function(){return h4}),n.d(t,"BaiduCRS",function(){return X8}),n.d(t,"TianDiTu_WGS84CRS",function(){return $8}),n.d(t,"TianDiTu_MercatorCRS",function(){return n4}),n.d(t,"NonProjection",function(){return F2}),n.d(t,"nonProjection",function(){return B2}),n.d(t,"NonEarthCRS",function(){return U2}),n.d(t,"nonEarthCRS",function(){return G2}),n.d(t,"CRS",function(){return Q8}),n.d(t,"crs",function(){return Y8}),n.d(t,"toGeoJSON",function(){return y4}),n.d(t,"toSuperMapGeometry",function(){return d4}),n.d(t,"getMeterPerMapUnit",function(){return m4}),n.d(t,"resolutionToScale",function(){return v4}),n.d(t,"scaleToResolution",function(){return b4}),n.d(t,"GetResolutionFromScaleDpi",function(){return g4}),n.d(t,"NormalizeScale",function(){return S4}),n.d(t,"BaiduTileLayer",function(){return w4}),n.d(t,"baiduTileLayer",function(){return O4}),n.d(t,"CloudTileLayer",function(){return x4}),n.d(t,"cloudTileLayer",function(){return C4}),n.d(t,"ImageMapLayer",function(){return T4}),n.d(t,"imageMapLayer",function(){return P4}),n.d(t,"TiandituTileLayer",function(){return M4}),n.d(t,"tiandituTileLayer",function(){return A4}),n.d(t,"TiledMapLayer",function(){return L4}),n.d(t,"tiledMapLayer",function(){return j4}),n.d(t,"WMTSLayer",function(){return E4}),n.d(t,"wmtsLayer",function(){return k4}),n.d(t,"WebMap",function(){return r6}),n.d(t,"webMap",function(){return i6}),n.d(t,"DataFlowLayer",function(){return y6}),n.d(t,"dataFlowLayer",function(){return d6}),n.d(t,"EchartsLayer",function(){return m6}),n.d(t,"echartsLayer",function(){return v6}),n.d(t,"LeafletMapCoordSys",function(){return MW}),n.d(t,"GraphicLayer",function(){return L6}),n.d(t,"graphicLayer",function(){return j6}),n.d(t,"GraphThemeLayer",function(){return R6}),n.d(t,"graphThemeLayer",function(){return N6}),n.d(t,"LabelThemeLayer",function(){return K4}),n.d(t,"labelThemeLayer",function(){return Z4}),n.d(t,"MapVLayer",function(){return c6}),n.d(t,"mapVLayer",function(){return f6}),n.d(t,"RangeThemeLayer",function(){return Y4}),n.d(t,"rangeThemeLayer",function(){return X4}),n.d(t,"RankSymbolThemeLayer",function(){return I6}),n.d(t,"rankSymbolThemeLayer",function(){return D6}),n.d(t,"TileVectorLayer",function(){return t9}),n.d(t,"tiledVectorLayer",function(){return n9}),n.d(t,"TurfLayer",function(){return i9}),n.d(t,"turfLayer",function(){return o9}),n.d(t,"UnicodeMarker",function(){return t6}),n.d(t,"unicodeMarker",function(){return n6}),n.d(t,"UniqueThemeLayer",function(){return W4}),n.d(t,"uniqueThemeLayer",function(){return Q4}),n.d(t,"VectorTileFormat",function(){return Z6}),n.d(t,"CartoCSSToLeaflet",function(){return U4}),n.d(t,"DefaultStyle",function(){return I4}),n.d(t,"CartoStyleMap",function(){return D4}),n.d(t,"ServerStyleMap",function(){return F4}),n.d(t,"CompOpMap",function(){return B4}),n.d(t,"ImageStyle",function(){return O6}),n.d(t,"imageStyle",function(){return x6}),n.d(t,"CircleStyle",function(){return _6}),n.d(t,"circleStyle",function(){return w6}),n.d(t,"Graphic",function(){return G4}),n.d(t,"graphic",function(){return z4}),n.d(t,"CloverStyle",function(){return g6}),n.d(t,"cloverStyle",function(){return S6}),n.d(t,"MapVRenderer",function(){return u6}),n.d(t,"GeoFeatureThemeLayer",function(){return q4}),n.d(t,"ThemeFeature",function(){return V4}),n.d(t,"themeFeature",function(){return H4}),n.d(t,"ThemeLayer",function(){return J4}),n.d(t,"CanvasRenderer",function(){return B6}),n.d(t,"LineSymbolizer",function(){return J6}),n.d(t,"PointSymbolizer",function(){return V6}),n.d(t,"RegionSymbolizer",function(){return q6}),n.d(t,"SVGRenderer",function(){return F6}),n.d(t,"Symbolizer",function(){return G6}),n.d(t,"PolyBase",function(){return H6}),n.d(t,"TextSymbolizer",function(){return z6}),n.d(t,"VectorFeatureType",function(){return U6}),n.d(t,"VectorGrid",function(){return e9}),n.d(t,"VectorTile",function(){return $6}),n.d(t,"VectorTileJSON",function(){return K6}),n.d(t,"VectorTilePBF",function(){return X6}),n.d(t,"AddressMatchService",function(){return c9}),n.d(t,"addressMatchService",function(){return f9}),n.d(t,"ChartService",function(){return h9}),n.d(t,"chartService",function(){return p9}),n.d(t,"DataFlowService",function(){return o6}),n.d(t,"dataFlowService",function(){return a6}),n.d(t,"FeatureService",function(){return $4}),n.d(t,"featureService",function(){return e6}),n.d(t,"FieldService",function(){return y9}),n.d(t,"fieldService",function(){return d9}),n.d(t,"GridCellInfosService",function(){return m9}),n.d(t,"gridCellInfosService",function(){return v9}),n.d(t,"LayerInfoService",function(){return b9}),n.d(t,"layerInfoService",function(){return g9}),n.d(t,"MapService",function(){return a4}),n.d(t,"mapService",function(){return s4}),n.d(t,"MeasureService",function(){return S9}),n.d(t,"measureService",function(){return _9}),n.d(t,"NetworkAnalyst3DService",function(){return w9}),n.d(t,"networkAnalyst3DService",function(){return O9}),n.d(t,"NetworkAnalystService",function(){return x9}),n.d(t,"networkAnalystService",function(){return C9}),n.d(t,"ProcessingService",function(){return T9}),n.d(t,"processingService",function(){return P9}),n.d(t,"QueryService",function(){return E9}),n.d(t,"queryService",function(){return k9}),n.d(t,"ServiceBase",function(){return o4}),n.d(t,"SpatialAnalystService",function(){return M9});n.d(t,"spatialAnalystService",function(){return A9}),n.d(t,"ThemeService",function(){return L9}),n.d(t,"themeService",function(){return j9}),n.d(t,"TrafficTransferAnalystService",function(){return R9}),n.d(t,"trafficTransferAnalystService",function(){return N9})},function(e,t,n){"use strict";n.r(t);n(27),n(33),n(38),n(43),n(55),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70)},function(e,t){},,,,,,function(e,t){},,,,,function(e,t){},,,,,function(e,t){},,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){}]);