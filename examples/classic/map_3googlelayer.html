<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>google layer</title>
</head>
<body style=" margin: 0;overflow: hidden;background: #fff;width: 100%;height:100%;position: absolute;top: 0;">
<div id="map" style="margin:0 auto;width: 100%;height: 100%"></div>

<script type="text/javascript" include="bootstrap" src="../js/include-web.js"></script>
<script type="text/javascript" include=exclude="iclient-classic" src="../../dist/include-classic.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&key=AIzaSyBzE9xAESye6Kde-3hT-6B90nfwUkcS8Yw&"></script>
<script type="text/javascript">
    var map, gooLayer, vector,alertDiv, dataAdded = false;
    map = new SuperMap.Map("map", {
        controls: [
            new SuperMap.Control.Navigation(),
            new SuperMap.Control.Zoom(),
            new SuperMap.Control.LayerSwitcher(),
            new SuperMap.Control.MousePosition()
        ]
    });
    gooLayer = new SuperMap.Layer.Google();
    vector = new SuperMap.Layer.Vector("vector");
    map.addLayers([gooLayer, vector]);
    addData();
    map.setCenter(new SuperMap.LonLat(0, 0), 3);

    function addData() {
        if (!dataAdded) {
            vector.removeAllFeatures();
            //点对象
            var point = new SuperMap.Geometry.Point(0, 0);
            var pointVector = new SuperMap.Feature.Vector(point);
            pointVector.style = {
                fillColor: "red",
                strokeColor: "yellow",
                pointRadius: 10
            };

            vector.addFeatures([pointVector]);
            dataAdded = true;
        } else {
            showAlert("数据已加载。");
        }
    }

    //弹出提示框
    function showAlert(msg, className) {
        if (className === null || typeof (className) === 'undefined') {
            className = "alert-success";
        }
        className = className.toString();
        if (alertDiv) {
            $(alertDiv).remove();
        }
        if (!$('#msg_container')[0]) {
            alertDiv = $("<div class='alert alert-dismissible' id='msg_container' role='alert' " +
                "style='z-index:999999;position: absolute;top: 20px;left: 40%;width:260px;display: none;opacity: 0.9;'>" +
                "<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true' >&times;</span></button>" +
                "<strong><p id='msg' style='word-wrap: break-word'></p></strong></div>");
            $('body').append(alertDiv)
        }
        $('#msg_container').addClass(className);
        $('#msg_container').slideDown(300);
        $('#msg').html(msg);
    }
</script>
</body>
</html>