<!--********************************************************************
* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
*********************************************************************-->
<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title data-i18n='resources.title_widgetsChart_Vue'></title>
  <script type="text/javascript" include="vue" src="../js/include-web.js"></script>
  <!-- <script include="echarts" src="../../dist/mapboxgl/include-mapboxgl.js"></script> -->
  <script include="echarts,iclient9-mapboxgl-widgets-vue" src="../../dist/mapboxgl/include-mapboxgl.js"></script>
  <style>
     #main{
        margin: 0 auto;
        width: 100%;
        height: 100%;
    }
  </style>
</head>

<body style=" margin: 0;overflow: hidden;background: #fff;width: 100%;height:100%;position: absolute;top: 0;">
  <div id="main">
    <sm-web-map :web-map-options="{server: 'http://support.supermap.com.cn:8092/'}" map-id="1649097980">
      <!-- 图表组件：sm-chart  props: datasets chart-options-->
      <sm-chart :datasets="datasets" :chart-options="chartOptions" ref="chart"></sm-chart>
    </sm-web-map>
  </div>

 
  <script>
    new Vue({
      el: '#main',
      data() {
        return {
          // datasets和chartOptions都是sm-chart组件的props
          datasets: {
            type: "iPortal", //iServer iPortal
            url: "http://support.supermap.com.cn:8092/web/datas/1920557079",
            queryInfo: { attributeFilter: "SmID > 0" }
          },
          chartOptions: [
            {
              xAxis: { field: "SmID", name: "SmID" },
              yAxis: { field: "同比增速%", name: "同比增速%" }
            }
          ],
        };
      }
    })

  </script>
</body>

</html>
