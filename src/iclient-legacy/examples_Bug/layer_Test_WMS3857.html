<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>WMS图层</title>
	<style type="text/css">
		body{
			margin: 0;
			overflow: hidden;
			background: #fff;
		}
		#map{
			position: relative;
			height: 553px;
			border:1px solid #3473b7;
		}
	</style>
	<script type="text/javascript" src="../libs/SuperMap.Include.js"></script>
	<script type="text/javascript">
		var map, layer;
		var url1 = "http://localhost:8090/iserver/services/map-china400/wms130/China";
        var url2 = "http://localhost:8090/iserver/services/map-china400/wms111/China";
        var wms3857_130,wms3857_111;
		function init() {
			map = new SuperMap.Map('map', {
				controls: [new SuperMap.Control.Zoom(),
                    new SuperMap.Control.Navigation(),
					new SuperMap.Control.ScaleLine(),
                    new SuperMap.Control.MousePosition()
					]});
		    //设置layers图层名称必须是 GetCapabilities 操作返回的文档中声明的Name元素的值，地图图层之间以半角英文逗号进行分隔。最左边的图层在最底，下一个图层放到前一个的上面，依次类推。
			//version，请求版本号。现支持”1.1.1”和”1.3.0”。
			//设置地图的projection，最大显示范围bounds参数
			//初始化WCS图层
			wms3857_130 = new SuperMap.Layer.WMS("WMS", url1, { layers: "0", version: '1.3.0' }, {projection:"EPSG:3857",maxExtent: new SuperMap.Bounds(-20037508.34 , -20037508.34,20037508.34 , 20037508.34 )});
			map.addLayers([wms3857_130]);
			var center = new SuperMap.LonLat(0, 0);
			map.setCenter(center, 1);
		}
        function _3857_111()
        {
            map.removeLayer(wms3857_130);
            wms3857_111 = new SuperMap.Layer.WMS("WMS", url2, { layers: "0", version: '1.1.1' }, {projection:"EPSG:3857",maxExtent: new SuperMap.Bounds(-20037508.34 , -20037508.34,20037508.34 , 20037508.34 )});
            map.addLayers([wms3857_111]);
            var center = new SuperMap.LonLat(0, 0);
            map.setCenter(center, 1);
        }
	</script>
</head>
<body onload="init()">
	<input type="button" value="3857地图111和130切换" onclick="_3857_111()"/>
	<div id="map"></div>
</body>
</html>
